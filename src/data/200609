From java-user-return-23092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 07:18:48 2006
Return-Path: <java-user-return-23092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64418 invoked from network); 1 Sep 2006 07:18:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 07:18:47 -0000
Received: (qmail 47365 invoked by uid 500); 1 Sep 2006 07:18:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46354 invoked by uid 500); 1 Sep 2006 07:18:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46343 invoked by uid 99); 1 Sep 2006 07:18:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 00:18:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.22] (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 00:18:41 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.13.6/8.13.6) with ESMTP id k817IJ5j081548
	for <java-user@lucene.apache.org>; Fri, 1 Sep 2006 09:18:19 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Proximity Query Parser
Date: Fri, 1 Sep 2006 09:18:17 +0200
User-Agent: KMail/1.8.2
References: <8834A84C87A2C148AD46921BB8BFC97C024497AD@S1SE1MAIL.emea1.ad.group> <Pine.LNX.4.58.0608311103180.7313@hal.rescomp.berkeley.edu> <44F7523F.5030106@gmail.com>
In-Reply-To: <44F7523F.5030106@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609010918.18067.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mark,

On Thursday 31 August 2006 23:18, Mark Miller wrote:
> I am not a huge fan of the queryparser's syntax so I have started an 
> open source project to create a viable alternative. I could really use 
> some helping testing it out. The more I can get it tested the better 
> chance it has of serving the community. The parser is called Qsol. I am 
> right up against its initial release. So far it:
> 
> offers a simple clean syntax.
> allows arbitrary combinations/nesting of proximity and boolean queries.

Could you say in a few words how the combination of proximity and boolean
is implemented in Qsol?

I found this the most difficult thing to implement in surround. In surround, 
every subquery that can be a proximity subquery has two (groups of) methods: 
one for use as boolean and one for use as proximity.
I'd like to have a mechanism that allows mixing proximity and boolean queries 
built into Lucene.

Did you also implement parsed phrases with Lucene's PhraseQuery?
Surround does not have that.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 08:12:04 2006
Return-Path: <java-user-return-23093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82755 invoked from network); 1 Sep 2006 08:12:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 08:12:02 -0000
Received: (qmail 13090 invoked by uid 500); 1 Sep 2006 08:11:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12084 invoked by uid 500); 1 Sep 2006 08:11:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12073 invoked by uid 99); 1 Sep 2006 08:11:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 01:11:55 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 01:11:54 -0700
Received: (qmail 15925 invoked by uid 509); 1 Sep 2006 10:11:31 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.072466 secs); 01 Sep 2006 08:11:31 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.072466 secs Process 15909)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 1 Sep 2006 10:11:30 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: GetMoreDocs question
Date: Fri, 1 Sep 2006 10:10:58 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C02449FEB@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: GetMoreDocs question
Thread-Index: AcbNKKBNFXgREn8aT9W8/W/McTAKZAAdW+PA
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thx Hoss.

But why do I have to reterive atleast 1 document when im using the =
TopDocs ?
(If I set nDoc to 0 it will throw an exception).

/
Marcus

-----Ursprungligt meddelande-----
Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Skickat: den 31 augusti 2006 20:09
Till: java-user@lucene.apache.org
=C4mne: Re: GetMoreDocs question


: I have some questions regarding the GetMoreDocs(50) call in the
: constructors of the Hits class.

: First off whats the purposes of this call?

Hits is designed to meet the simple needs of simple clients -- the
assumption is that clients using Hits want simple paginated results - so
Hits goes ahead and gets you page#1.

: Can I do something so I don't cache up 100 docs when I'm just asking =
for
: a count?

This is what the search method that returns TopDocs is designed for --
when all you care about is the totalHits and the first N docs (in your
case N is 0 or maybe 1)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 10:37:21 2006
Return-Path: <java-user-return-23094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19424 invoked from network); 1 Sep 2006 10:37:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 10:37:18 -0000
Received: (qmail 8077 invoked by uid 500); 1 Sep 2006 10:37:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8053 invoked by uid 500); 1 Sep 2006 10:37:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8042 invoked by uid 99); 1 Sep 2006 10:37:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 03:37:11 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Kinnar.Sen@hcl.in designates 203.105.185.19 as permitted sender)
Received: from [203.105.185.19] (HELO nda-hclin-gws01.hcl.in) (203.105.185.19)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 01 Sep 2006 03:37:10 -0700
Received: from nda-hclin-gws01.hcl.in (nda-hclin-gws01 [10.248.64.134])
	by localhost.hcl.in (Postfix) with SMTP id 7B0E29E0184
	for <java-user@lucene.apache.org>; Fri,  1 Sep 2006 16:06:27 +0530 (IST)
Received: from nda-egw02-out.corp.hcl.in (unknown [10.248.64.38])by 
	nda-hclin-gws01.hcl.in (Postfix) with ESMTP id 46F909E0113for 
	<java-user@lucene.apache.org>; Fri,  1 Sep 2006 16:00:23 +0530 (IST)
Received: from HSDLNTD1110010.noida.hcltech.com ([10.112.8.20]) by 
	nda-egw02-out.corp.hcl.in with Microsoft SMTPSVC(6.0.3790.1830); Fri, 1 Sep
	 2006 16:00:22 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6CDB1.96D1C95C"
Subject: Document and JMSObjects
Date: Fri, 1 Sep 2006 16:00:03 +0530
Message-ID: <539C0A297AA0C74581CB5AF82D53729102C2272C@HSDLNTD1110010.noida.hcltech.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Document and JMSObjects
Thread-Index: AcbNsZYdEL5adIAzRWGOuMeUl8WThQ==
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 01 Sep 2006 10:30:22.0652 (UTC) 
	FILETIME=[A1592FC0:01C6CDB1]
X-imss-version: 2.042
X-imss-result: Passed
X-imss-scanInfo: M:P L:E SM:0
X-imss-tmaseResult: TT:0 TS:0.0000 TC:00 TRN:0 TV:3.6.1039(14664.003)
X-imss-scores: Clean:99.90000 C:2 M:4 S:5 R:5
X-imss-settings: Baseline:2 C:2 M:2 S:2 R:2 (0.1500 0.1500)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6CDB1.96D1C95C
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi=20

=20

I am trying to build an application which uses JMS objects and Lucene. I
am creating Lucene Documents and sending them through JMS objects to a
queue( I am using IBM MQ Series ). There is a listener which listens to
this queue and Indexes these documents. The problem I am facing is there
is exception being thrown which is=20

=20

Unable to deserialize objects ..

=20

Now my JMS msg object is Serialized the problem can be with Document,but
I looked up the source code of Document and saw it was serialized . Can
any one give some insights into this problem .=20

=20

=20

    Regards and Thanks

Kinnar Kumar Sen

=20

=20

=20

TO SUCEED BE DIFFERENT BE DARING AND BE THERE FIRST

=20

=20

=20



DISCLAIMER:
---------------------------------------------------------------------------=
--------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only.=20
It shall not attach any liability on the originator or HCL or its=
 affiliates. Any views or opinions presented in=20
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates.=20
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of=20
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited. If you have=20
received this email in error please delete it and notify the sender=
 immediately. Before opening any mail and=20
attachments please check them for viruses and defect.

---------------------------------------------------------------------------=
--------------------------------------------
------_=_NextPart_001_01C6CDB1.96D1C95C--

From java-user-return-23095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 10:46:51 2006
Return-Path: <java-user-return-23095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22306 invoked from network); 1 Sep 2006 10:46:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 10:46:50 -0000
Received: (qmail 18149 invoked by uid 500); 1 Sep 2006 10:46:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18126 invoked by uid 500); 1 Sep 2006 10:46:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18114 invoked by uid 99); 1 Sep 2006 10:46:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 03:46:44 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.11.98 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.11.98] (HELO pne-smtpout1-sn1.fre.skanova.net) (81.228.11.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 03:46:43 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn1.fre.skanova.net (7.2.075)
        id 44F7D05300014875 for java-user@lucene.apache.org; Fri, 1 Sep 2006 12:46:22 +0200
Subject: Re: Lock error attempting update of RAMDirectory index
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <6091907.post@talk.nabble.com>
References: <6089447.post@talk.nabble.com>
	 <1157066620.4727.3.camel@localhost>  <6091907.post@talk.nabble.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Fri, 01 Sep 2006 12:46:19 +0200
Message-Id: <1157107579.4727.10.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2006-08-31 at 19:34 -0700, Philip Brown wrote:
karl wettin-3 wrote:
> > 
> > On Thu, 2006-08-31 at 15:24 -0700, Philip Brown wrote:
> >> 
> >> I'm getting the following error trying to instantiate an IndexModifier
> >> on a RAMDirectory index:
> >> 
> >> java.io.IOException: Lock obtain timed out:
> >> org.apache.lucene.store.RAMDirectory$1@a336b7 
> > 
> > You probably forgot to close an IndexWriter?
> 
> Well, I wish it were that easy...I open one IndexWriter to write the
> documents to the index after it is created, and then call writer.optimize()
> and writer.close().  Your suggestion is a good one in that, from what I've
> read, the writer needs to be closed to release the lock file.  Apparently,
> there is more to it than that.  Also, this doesn't happen consistently --
> just occasionally.

Set a breakpoint, print the stacktrace of a new instance of Exception to
your log, or do something similar in the lock methods of Lucene so you
will find out what code of yours lock and unlocks the index. 

I'm quite convinced you forget to close something. Or perhaps you try to
modify at the same time as you insert documents.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 10:55:01 2006
Return-Path: <java-user-return-23096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25626 invoked from network); 1 Sep 2006 10:54:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 10:54:56 -0000
Received: (qmail 30520 invoked by uid 500); 1 Sep 2006 10:54:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29420 invoked by uid 500); 1 Sep 2006 10:54:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29409 invoked by uid 99); 1 Sep 2006 10:54:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 03:54:50 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 03:54:49 -0700
Received: by py-out-1112.google.com with SMTP id c30so1170176pyc
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 03:54:29 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=PJBjvAYuKKHRAWaeU2wgs2igsCeqssZijcIo2u5/iHGnNBwMNm0s0CIcPyQox5u1t5HhIt8gTFdTihQIVvOGiFzWA8BiJJDqgCd58Z0yY7guRdNQi9xnDWw0ST188VSf5Az5XFcMJWAXddmsd3hd/SnPIiUjAHb/zLbmfYIKD3w=
Received: by 10.64.250.3 with SMTP id x3mr598040qbh;
        Fri, 01 Sep 2006 03:54:28 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id f13sm119832qba.2006.09.01.03.54.27;
        Fri, 01 Sep 2006 03:54:28 -0700 (PDT)
Message-ID: <44F81165.3030203@gmail.com>
Date: Fri, 01 Sep 2006 06:54:29 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Proximity Query Parser
References: <8834A84C87A2C148AD46921BB8BFC97C024497AD@S1SE1MAIL.emea1.ad.group> <Pine.LNX.4.58.0608311103180.7313@hal.rescomp.berkeley.edu> <44F7523F.5030106@gmail.com> <200609010918.18067.paul.elschot@xs4all.nl>
In-Reply-To: <200609010918.18067.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Elschot wrote:
> Mark,
>
> On Thursday 31 August 2006 23:18, Mark Miller wrote:
>   
>> I am not a huge fan of the queryparser's syntax so I have started an 
>> open source project to create a viable alternative. I could really use 
>> some helping testing it out. The more I can get it tested the better 
>> chance it has of serving the community. The parser is called Qsol. I am 
>> right up against its initial release. So far it:
>>
>> offers a simple clean syntax.
>> allows arbitrary combinations/nesting of proximity and boolean queries.
>>     
>
> Could you say in a few words how the combination of proximity and boolean
> is implemented in Qsol?
>
> I found this the most difficult thing to implement in surround. In surround, 
> every subquery that can be a proximity subquery has two (groups of) methods: 
> one for use as boolean and one for use as proximity.
> I'd like to have a mechanism that allows mixing proximity and boolean queries 
> built into Lucene.
>
> Did you also implement parsed phrases with Lucene's PhraseQuery?
> Surround does not have that.
>
> Regards,
> Paul Elschot
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   
Hi Paul,

I'm afraid my programming is prob quite a ways behind yours so I doubt 
anything I have done will be of any help to you.

I also have to treat things differently depending on if I am in a 
proximity clause or boolean clause. A wildcard in a boolean is mapped to 
a wildcard query. A wildcard in a proximity is mapped to a regex span 
that has been modified to only deal with * and ?. When I run into a 
proximity, I collect a small tree of each clause and distribute them 
against each other...(old | map) ~3 big gets distributed to old ~3 big | 
map ~3 big. This distribution method appears to handle all 
boolean/proximity nesting/mixing cases for me, including: great ! "big 
old phrase search" ~5 (holy ~4 (big black bear)). The distribution 
maintains order of operations, but also obviously can create some pretty 
large queries.

I did not use the phrase search because I do not like how the slop works 
(not in order, etc.) so both in and out of proximity uses a nearspan 
instead. For a multiphrase search I use an OrSpan on words in the same 
position.

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 11:18:41 2006
Return-Path: <java-user-return-23097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38664 invoked from network); 1 Sep 2006 11:18:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 11:18:41 -0000
Received: (qmail 60433 invoked by uid 500); 1 Sep 2006 11:18:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60108 invoked by uid 500); 1 Sep 2006 11:18:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60097 invoked by uid 99); 1 Sep 2006 11:18:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:18:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.111.4.26] (HELO out2.smtp.messagingengine.com) (66.111.4.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:18:33 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id 0EFF7DA119A
	for <java-user@lucene.apache.org>; Fri,  1 Sep 2006 07:18:12 -0400 (EDT)
Received: from heartbeat1.internal ([10.202.2.160])
  by frontend3.internal (MEProxy); Fri, 01 Sep 2006 07:18:12 -0400
X-Sasl-enc: bqT8yXkmx4Ld2hqViIqU2wRtJziLdk9tELX6ICdg2GQa 1157109492
Received: from [10.17.4.91] (pool-72-70-33-153.bstnma.fios.verizon.net [72.70.33.153])
	by mail.messagingengine.com (Postfix) with ESMTP id 49C8B11171
	for <java-user@lucene.apache.org>; Fri,  1 Sep 2006 07:18:11 -0400 (EDT)
Message-ID: <44F816E4.1070705@mikemccandless.com>
Date: Fri, 01 Sep 2006 07:17:56 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lock error attempting update of RAMDirectory index
References: <6089447.post@talk.nabble.com>	 <1157066620.4727.3.camel@localhost>  <6091907.post@talk.nabble.com> <1157107579.4727.10.camel@localhost>
In-Reply-To: <1157107579.4727.10.camel@localhost>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>> You probably forgot to close an IndexWriter?
>> Well, I wish it were that easy...I open one IndexWriter to write the
>> documents to the index after it is created, and then call writer.optimize()
>> and writer.close().  Your suggestion is a good one in that, from what I've
>> read, the writer needs to be closed to release the lock file.  Apparently,
>> there is more to it than that.  Also, this doesn't happen consistently --
>> just occasionally.
> 
> Set a breakpoint, print the stacktrace of a new instance of Exception to
> your log, or do something similar in the lock methods of Lucene so you
> will find out what code of yours lock and unlocks the index. 
> 
> I'm quite convinced you forget to close something. Or perhaps you try to
> modify at the same time as you insert documents.

Why do you need an IndexWriter at all?  Can't you open a single 
IndexModifier and use to do all adds/deletes against your RAMDirectory? 
  Or maybe I'm not understanding the full context...

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 11:38:42 2006
Return-Path: <java-user-return-23098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50676 invoked from network); 1 Sep 2006 11:38:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 11:38:39 -0000
Received: (qmail 8668 invoked by uid 500); 1 Sep 2006 11:38:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8642 invoked by uid 500); 1 Sep 2006 11:38:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8625 invoked by uid 99); 1 Sep 2006 11:38:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:38:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.111.4.26] (HELO out2.smtp.messagingengine.com) (66.111.4.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:38:31 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id 4468DDA127F
	for <java-user@lucene.apache.org>; Fri,  1 Sep 2006 07:38:10 -0400 (EDT)
Received: from heartbeat1.internal ([10.202.2.160])
  by frontend3.internal (MEProxy); Fri, 01 Sep 2006 07:38:10 -0400
X-Sasl-enc: Z7mVnvT3RSaUwwlPcIImjOxKa32GMrwSYzKpFIzruRbH 1157110690
Received: from [10.17.4.91] (pool-72-70-33-153.bstnma.fios.verizon.net [72.70.33.153])
	by mail.messagingengine.com (Postfix) with ESMTP id 7BAA01118F
	for <java-user@lucene.apache.org>; Fri,  1 Sep 2006 07:38:10 -0400 (EDT)
Message-ID: <44F81B92.3090909@mikemccandless.com>
Date: Fri, 01 Sep 2006 07:37:54 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: read past EOF
References: <00f701c6cc16$79f16d90$0b0310ac@bhavin> <44F56A7E.5060503@mikemccandless.com> <001901c6cc33$c75d3290$0b0310ac@bhavin> <44F64A08.1080209@mikemccandless.com> <001401c6ccbf$893db3e0$0b0310ac@bhavin>
In-Reply-To: <001401c6ccbf$893db3e0$0b0310ac@bhavin>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


> Yes I am sure only one writer at a time accessing index.
> 
> no i am not getting any other exception.
> 
> and there is no problem of disk space also.
> 
> right now i have backcopy of indexes so whenever one index got corrupted 
> i m replacing with backup one and starting the indexer again from that 
> duration.
> 
> Here is the script which i am using to move index after its built.
> 
> - rm -rf backupindex/*
> - mv index backupindex;
> - mv newindex index;
> - mkdir newindex
> - cp -dpR index/* newindex/
> - touch index.done
> - echo "done";
> 
> where "newindex" is the index which I am using for indexing...."index" 
> which i am using for search purpose....and "backupindex" contains 
> previous index.

It sounds like you're working with the index correctly, so I don't have 
any other ideas on why you're getting CFS files that are truncated.  I 
would wory about the "cp" step filling up disk, but if you're nowhere 
near filling up disk that's not the root cause here.

Does this happen intermittantly?  Or it happened once and now it's gone? 
  Or is it easy to reproduce?

> Is there any way through which  I can check if index is corrupt or 
> not....right now because of this exception (read past EOF ) i made few 
> changes in my code to check for corrupt index. But i am checking for 
> corrupt index through optimizing...If in optimization of index i m 
> getting IOException I am considering that index got corrupted or there 
> is permission issue..

That's a great question.  I don't know of existing tools for doing this 
(anyone else?).  Running optimize is likely a good test, so long as 
there's more than 1 segment before optimize (so that it actually does 
something).

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 11:53:23 2006
Return-Path: <java-user-return-23099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58097 invoked from network); 1 Sep 2006 11:53:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 11:53:19 -0000
Received: (qmail 32164 invoked by uid 500); 1 Sep 2006 11:53:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32141 invoked by uid 500); 1 Sep 2006 11:53:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32127 invoked by uid 99); 1 Sep 2006 11:53:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:53:12 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO nz-out-0102.google.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:53:11 -0700
Received: by nz-out-0102.google.com with SMTP id z6so583410nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 04:52:51 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=pGE2V+2CEZ5/s7vjjFHtM5eTMDMqYJ1E0v8MFVhEInnojFKjzvOtyPyC0KojYjLiWV0PoN+5Dc18cYYSwsp713CkTYy+JZG0c8cclAtThC6FwS8cO+ZfhUDGkgQTsNgjHPUNoKOdj9bSQ35f4ax8aQOA9cyotwpTpsvmA4hZEO8=
Received: by 10.65.116.7 with SMTP id t7mr256792qbm;
        Fri, 01 Sep 2006 04:52:50 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id d5sm1597262qbd.2006.09.01.04.52.44;
        Fri, 01 Sep 2006 04:52:45 -0700 (PDT)
Message-ID: <44F81F0D.7080605@gmail.com>
Date: Fri, 01 Sep 2006 07:52:45 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com>
In-Reply-To: <6093138.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Philip Brown wrote:
> Hi,
>
> After running some tests using the StandardAnalyzer, and getting 0 results
> from the search, I believe I need a special Tokenizer/Analyzer.  Does
> anybody have something that parses like the following:
>
> - doesn't parse apart phrases (in quotes)
> - doesn't parse/separate hyphentated or underscored words
> other normal stuff like
> - parses on whitespace
> - removes periods in acronyms
> - lowercases everything (even in quotes? -- maybe)
>
> I basically have a set of terms, some of which are multi-worded phrases, but
> none should ever be broken apart -- not when adding the documents, not when
> querying the search results, etc.  I'm creating the field in the documents
> as UN_TOKENIZED and using a StandardAnalyzer and basic Query object to get
> the results.  Any suggestions and/or existing code that I could re-use to
> fit this purpose?
>
> Thanks.
>   
Here is what I would do. Pull the Standard Analyzer out of Lucene. 
Modify StandardAnalyzer.jj. This is a JavaCC file. In it, there is some 
regex that defines tokens for parsing. Now try some steps similar to 
this: add '_' and '-' to the definition of a letter. Add a  new token 
type that eats quoted phrases...look at queryparser.jj for an example, 
prob about half way down the file <QUOTED>. Now run JavaCC on the 
StandardAnalyzer.jj. Search the mailing list when you find out that a 
ParseException is screwing up compilation (I really wish someone would 
update that for the latest JavaCC if indeed that is the problem. Its 
really annoying, and excluding it from compilation doesn't seem to fix 
it anymore).

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 11:59:32 2006
Return-Path: <java-user-return-23100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61353 invoked from network); 1 Sep 2006 11:59:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 11:59:30 -0000
Received: (qmail 49286 invoked by uid 500); 1 Sep 2006 11:59:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49006 invoked by uid 500); 1 Sep 2006 11:59:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48995 invoked by uid 99); 1 Sep 2006 11:59:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:59:23 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO nz-out-0102.google.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 04:59:22 -0700
Received: by nz-out-0102.google.com with SMTP id z6so584605nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 04:59:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ERKylsDyrnjrDDtvYDOg4Ii+WUeOBJe9XcddPm80Pg3yh2ZK4DSzL7eKVhgOgtpAlkAoYSQqPNwvZx31o8/EExGNWT71H3oqEPUSvfS7FyYd7N7yZB4uh4knFYtPMVWzTFCOMq+QBNzzNE0vIICqSo1E6d7vlQ1verGItJEqDNk=
Received: by 10.65.234.3 with SMTP id l3mr2648376qbr;
        Fri, 01 Sep 2006 04:59:02 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id a5sm1593086qbd.2006.09.01.04.59.00;
        Fri, 01 Sep 2006 04:59:01 -0700 (PDT)
Message-ID: <44F82084.3000000@gmail.com>
Date: Fri, 01 Sep 2006 07:59:00 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: SpanRegex speed
References: <6016090.post@talk.nabble.com>	 <Pine.LNX.4.58.0608281149320.10385@hal.rescomp.berkeley.edu>	 <6035831.post@talk.nabble.com>	 <Pine.LNX.4.58.0608291132220.3758@hal.rescomp.berkeley.edu>	 <6057151.post@talk.nabble.com>	 <Pine.LNX.4.58.0608301137380.4558@hal.rescomp.berkeley.edu>	 <44F60D80.1070802@gmail.com>	 <9A767EEF-1DF0-41A6-8991-28516D912ADF@ehatchersolutions.com>	 <44F64698.3070800@gmail.com> <359a92830608310627r5a463c04kbbe6fcd7841465ff@mail.gmail.com>
In-Reply-To: <359a92830608310627r5a463c04kbbe6fcd7841465ff@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erick Erickson wrote:
> Let me chime in here on a different note.... before you get happy with
> wildcard queries, take a look at the thread "I just don't get 
> wildcards at
> all". There is lots of good info that Erik, Chris and Otis provided me.
>
> The danger with prefixquery and wildcard query is that they will throw
> TooManyClauses exceptions when you start matching a number of terms (the
> default is 1024, although you can make this much bigger if memory 
> allows).
> If you're aware of this and it is and will be OK in your app, ignore 
> this.
> But if your index is going to grow significantly, this is a real 
> problem. I
> went with implementing filters with WildCardTermEnum (you could also use
> RegexTermEnum) for the wildcard portions of my query. Which has 
> interesting
> implications for spans, we elected to say spans didn't work with 
> wildcards.
>
> Anyway, as I said, if you're aware of the TooManyClauses issue and are 
> sure
> it doesn't matter, ignore me. After all, everybody else does <G>.....
>
>
> Best
> Erick
>
>
>
> On 8/30/06, Mark Miller <markrmiller@gmail.com> wrote:
>>
>> Ignore that last question. I see that you said prefix wildcard query and
>> not wildcard query. A quick look at the code seems to show it grabbing a
>> prefix as well.
>>
>> Do you think one would be any faster than the other? Should I used
>> Wildcardqueries outside of spanqueries and the regexquery inside
>> spanqueries or use regex both places?
>>
>> - Mark
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
Thanks a lot for the info Eric. Good stuff to know for sure.
I guess the real question I have been trying to spit out is this:
Is a span version of any of these searches--fuzzy, wildcard, 
etc--inherently slower than their non-span brothers. If they have the 
same limitations and speeds then that is all I am looking for.

P.S.
I realize I have been screwing up the threading by replying when 
starting a new topic. I have been alerted and will stop this pernicious 
activity.

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 12:47:02 2006
Return-Path: <java-user-return-23101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77933 invoked from network); 1 Sep 2006 12:47:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 12:47:01 -0000
Received: (qmail 22926 invoked by uid 500); 1 Sep 2006 12:46:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22905 invoked by uid 500); 1 Sep 2006 12:46:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22894 invoked by uid 99); 1 Sep 2006 12:46:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 05:46:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.6.224.137] (HELO damocles.rain.fr) (195.6.224.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 05:46:51 -0700
Received: from chronos.viaccess.fr (unverified [192.168.202.202]) by 
    damocles.rain.fr (Content Technologies SMTPRS 4.3.14) with ESMTP id 
    <T7a7640f1e4c0a86f044a4@damocles.rain.fr> for 
    <java-user@lucene.apache.org>; Fri, 1 Sep 2006 14:46:17 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: graphically representing an index
Date: Fri, 1 Sep 2006 14:46:28 +0200
Message-ID: <8D6EB075336C7B4D8251D3557F6FEF1D6CE873@chronos.viaccess.fr>
In-Reply-To: <44F6E8DF.40009@getopt.org>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: graphically representing an index
Thread-Index: AcbNBF1G9vkLWPmJRFS/4gQrzpo35gAwAM2A
From: "SOMMERIA KLEIN Ariel Ext       VIACCESS-BU_DRM" 
    <a.klein.ext@viaccess.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Andzej,
Thanks for the tip, it does what I want. You are right, though, it's of lim=
ited use for helping the user access data. But I'm sure it will come in han=
dy for my own analysis.
Best,
Ariel

-----Message d'origine-----
De=A0: Andrzej Bialecki [mailto:ab@getopt.org]=20
Envoy=E9=A0: jeudi 31 ao=FBt 2006 15:49
=C0=A0: java-user@lucene.apache.org
Objet=A0: Re: graphically representing an index

SOMMERIA KLEIN Ariel Ext VIACCESS-BU_DRM wrote:
> Hi all,
> I'm a newbie with Lucene and I'm looking to implement the following:
> I want to index posts from a forum, and, rather than proposing a search
> on the contents, graphically represent the contents of the index. More
> precisely, I would like to have a list of the most popular words, with a
> number next to each indicating how often they occur.=20
> The icing on the cake would be to be able to click on such a word and
> get a subset of the posts including that word.=20
> Can Lucene be used for this? Has anyone already implemented it? Any
> links?
> I've dug around a bit without any success, but my apologies if this has
> already been dealt with
>
>  =20

See http://www.getopt.org/luke for an example of such functionality.=20
However, I must disappoint you - the most frequent words in a corpus are=20
quite probably also most useless words. For English these are: the, a,=20
to, for, by, in, can, I, ...
 So, you will need to eliminate them from the top of the list to get any=20
useful results.

--=20
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



-----------------------------------------

"Privileged/Confidential information may be contained in this e-mail=20
and attachments. This e-mail, including attachments, constitutes non-public=
 information intended to be conveyed only to the designated recipient(s). I=
f you are not an intended recipient, please delete this e-mail, including a=
ttachments, and notify us immediately. The unauthorized use, dissemination,=
 distribution or reproduction of this e-mail, including attachments, is pro=
hibited and may be unlawful. In general, the content of this e-mail and att=
achments does not constitute any form of commitment by VIACCESS SA."

-----------------------------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 13:50:30 2006
Return-Path: <java-user-return-23102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7180 invoked from network); 1 Sep 2006 13:50:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 13:50:29 -0000
Received: (qmail 35397 invoked by uid 500); 1 Sep 2006 13:50:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34437 invoked by uid 500); 1 Sep 2006 13:50:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34426 invoked by uid 99); 1 Sep 2006 13:50:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 06:50:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 06:50:21 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJ9PF-0003QJ-7m
	for java-user@lucene.apache.org; Fri, 01 Sep 2006 06:50:01 -0700
Message-ID: <6098930.post@talk.nabble.com>
Date: Fri, 1 Sep 2006 06:50:01 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <44F81F0D.7080605@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Do you mean StandardTokenizer.jj (org.apache.lucene.analysis.standard)?  I'm
not seeing StandardAnalyzer.jj in the Lucene source download.
                                                                                                   

Mark Miller-5 wrote:
> 
> Philip Brown wrote:
>> Hi,
>>
>> After running some tests using the StandardAnalyzer, and getting 0
>> results
>> from the search, I believe I need a special Tokenizer/Analyzer.  Does
>> anybody have something that parses like the following:
>>
>> - doesn't parse apart phrases (in quotes)
>> - doesn't parse/separate hyphentated or underscored words
>> other normal stuff like
>> - parses on whitespace
>> - removes periods in acronyms
>> - lowercases everything (even in quotes? -- maybe)
>>
>> I basically have a set of terms, some of which are multi-worded phrases,
>> but
>> none should ever be broken apart -- not when adding the documents, not
>> when
>> querying the search results, etc.  I'm creating the field in the
>> documents
>> as UN_TOKENIZED and using a StandardAnalyzer and basic Query object to
>> get
>> the results.  Any suggestions and/or existing code that I could re-use to
>> fit this purpose?
>>
>> Thanks.
>>   
> Here is what I would do. Pull the Standard Analyzer out of Lucene. 
> Modify StandardAnalyzer.jj. This is a JavaCC file. In it, there is some 
> regex that defines tokens for parsing. Now try some steps similar to 
> this: add '_' and '-' to the definition of a letter. Add a  new token 
> type that eats quoted phrases...look at queryparser.jj for an example, 
> prob about half way down the file <QUOTED>. Now run JavaCC on the 
> StandardAnalyzer.jj. Search the mailing list when you find out that a 
> ParseException is screwing up compilation (I really wish someone would 
> update that for the latest JavaCC if indeed that is the problem. Its 
> really annoying, and excluding it from compilation doesn't seem to fix 
> it anymore).
> 
> - Mark
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6098930
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 13:58:44 2006
Return-Path: <java-user-return-23103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9746 invoked from network); 1 Sep 2006 13:58:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 13:58:43 -0000
Received: (qmail 50212 invoked by uid 500); 1 Sep 2006 13:58:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50162 invoked by uid 500); 1 Sep 2006 13:58:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50130 invoked by uid 99); 1 Sep 2006 13:58:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 06:58:33 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO nz-out-0102.google.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 06:58:31 -0700
Received: by nz-out-0102.google.com with SMTP id z6so608360nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 06:58:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=TVY15fU8petR2Og+R5j59pi7YU5U2OpwAA+hPNujNgUcmFf7ji1v5TcTxqfRm0HUwOmJCQjl8C1JRB2lV4fsfqjqfnkf0qB7KA9QoVivt6ieA0BY+Zf1Zpx7VyHaa5tVttbk7jsu6Ks7efJwb/m1Zf6PBoQFZUMCLnoF2rDpxOo=
Received: by 10.65.122.20 with SMTP id z20mr417935qbm;
        Fri, 01 Sep 2006 06:58:10 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id a29sm1647457qbd.2006.09.01.06.58.09;
        Fri, 01 Sep 2006 06:58:10 -0700 (PDT)
Message-ID: <44F83C73.8000807@gmail.com>
Date: Fri, 01 Sep 2006 09:58:11 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com>
In-Reply-To: <6098930.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Philip Brown wrote:
> Do you mean StandardTokenizer.jj (org.apache.lucene.analysis.standard)?  I'm
> not seeing StandardAnalyzer.jj in the Lucene source download.
>                                                                                                    
>
> Mark Miller-5 wrote:
>   
>> Philip Brown wrote:
>>     
>>> Hi,
>>>
>>> After running some tests using the StandardAnalyzer, and getting 0
>>> results
>>> from the search, I believe I need a special Tokenizer/Analyzer.  Does
>>> anybody have something that parses like the following:
>>>
>>> - doesn't parse apart phrases (in quotes)
>>> - doesn't parse/separate hyphentated or underscored words
>>> other normal stuff like
>>> - parses on whitespace
>>> - removes periods in acronyms
>>> - lowercases everything (even in quotes? -- maybe)
>>>
>>> I basically have a set of terms, some of which are multi-worded phrases,
>>> but
>>> none should ever be broken apart -- not when adding the documents, not
>>> when
>>> querying the search results, etc.  I'm creating the field in the
>>> documents
>>> as UN_TOKENIZED and using a StandardAnalyzer and basic Query object to
>>> get
>>> the results.  Any suggestions and/or existing code that I could re-use to
>>> fit this purpose?
>>>
>>> Thanks.
>>>   
>>>       
>> Here is what I would do. Pull the Standard Analyzer out of Lucene. 
>> Modify StandardAnalyzer.jj. This is a JavaCC file. In it, there is some 
>> regex that defines tokens for parsing. Now try some steps similar to 
>> this: add '_' and '-' to the definition of a letter. Add a  new token 
>> type that eats quoted phrases...look at queryparser.jj for an example, 
>> prob about half way down the file <QUOTED>. Now run JavaCC on the 
>> StandardAnalyzer.jj. Search the mailing list when you find out that a 
>> ParseException is screwing up compilation (I really wish someone would 
>> update that for the latest JavaCC if indeed that is the problem. Its 
>> really annoying, and excluding it from compilation doesn't seem to fix 
>> it anymore).
>>
>> - Mark
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>     
>
>   
Yes. Standard Tokenizer. Sorry about that...my brain is schizo. 
StandardTokenizer.jj in the StandardAnazlyer package.

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 14:09:48 2006
Return-Path: <java-user-return-23104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14542 invoked from network); 1 Sep 2006 14:09:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 14:09:44 -0000
Received: (qmail 78434 invoked by uid 500); 1 Sep 2006 14:09:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77808 invoked by uid 500); 1 Sep 2006 14:09:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77797 invoked by uid 99); 1 Sep 2006 14:09:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:09:37 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO nz-out-0102.google.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:09:35 -0700
Received: by nz-out-0102.google.com with SMTP id z6so610953nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 07:09:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=twUrArS6Vm8DrQL/8yF/NJ/zIOurzXezHWY8gsmUlJlbc2J/bxnMFlaSp/zaA+QyhJdIXGIB3MaQ1qBT3LERoU0ztCrsIPWz+XtNDxeZ9QVqeB+vAelcqAfFrDyzQ241ovS6fohnHPm3UO0AE4jMjfzUjwLKl53zWk3fqnZ9QLw=
Received: by 10.65.119.14 with SMTP id w14mr445752qbm;
        Fri, 01 Sep 2006 07:09:14 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id q13sm1684256qbq.2006.09.01.07.09.12;
        Fri, 01 Sep 2006 07:09:14 -0700 (PDT)
Message-ID: <44F83F0A.7080005@gmail.com>
Date: Fri, 01 Sep 2006 10:09:14 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com>
In-Reply-To: <6098930.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

So this will recognize anything in quotes as a single token and '_' and 
'-' will not break up words. There may be some repercussions for the NUM 
token but nothing I'd worry about. maybe you want to use Unicode for '-' 
and '_' as well...I wouldn't worry about it myself.

- Mark


TOKEN : {                      // token patterns

  // basic word: a sequence of digits & letters
  <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >

| <QUOTED:     "\"" (~["\""])+ "\"">

  // internal apostrophes: O'Reilly, you're, O'Reilly's
  // use a post-filter to remove possesives
| <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >

  // acronyms: U.S.A., I.B.M., etc.
  // use a post-filter to remove dots
| <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >

  // company names like AT&T and Excite@Home.
| <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >

  // email addresses
| <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM> 
(("."|"-") <ALPHANUM>)+ >

  // hostname
| <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >

  // floating point, serial, model numbers, ip addresses, etc.
  // every other segment must have at least one digit
| <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
       | <HAS_DIGIT> <P> <ALPHANUM>
       | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
       | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
       | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
       | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
        )
  >
| <#P: ("_"|"-"|"/"|"."|",") >
| <#HAS_DIGIT:                      // at least one digit
    (<LETTER>|<DIGIT>)*
    <DIGIT>
    (<LETTER>|<DIGIT>)*
  >

| < #ALPHA: (<LETTER>)+>
| < #LETTER:                      // unicode letters
      [
       "\u0041"-"\u005a",
       "\u0061"-"\u007a",
       "\u00c0"-"\u00d6",
       "\u00d8"-"\u00f6",
       "\u00f8"-"\u00ff",
       "\u0100"-"\u1fff",
       "-", "_"
      ]
  >

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 14:13:10 2006
Return-Path: <java-user-return-23105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15711 invoked from network); 1 Sep 2006 14:13:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 14:13:09 -0000
Received: (qmail 85054 invoked by uid 500); 1 Sep 2006 14:13:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84804 invoked by uid 500); 1 Sep 2006 14:13:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84790 invoked by uid 99); 1 Sep 2006 14:13:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:13:02 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO nz-out-0102.google.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:13:01 -0700
Received: by nz-out-0102.google.com with SMTP id z6so611757nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 07:12:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=CXEX4H+TFt9c07qMWb/q3BsaHYP3faNSmJCyUSqLv3cUVDsjMH/Ln4nqJ7aCJSL2P5j1Kmm3eQvHGexMaln8Mb4jWm7jRpSecNiDndLrPXeJ0E0EFd2gPjADI4OFJsQm3IorCT6qn+w+J65ENC0l9fmODlqLn/Ux9MgPdM8Q2dI=
Received: by 10.35.93.15 with SMTP id v15mr3087957pyl;
        Fri, 01 Sep 2006 07:12:36 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Fri, 1 Sep 2006 07:12:36 -0700 (PDT)
Message-ID: <359a92830609010712w765db538rdebd147ad79fdf51@mail.gmail.com>
Date: Fri, 1 Sep 2006 10:12:36 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SpanRegex speed
In-Reply-To: <44F82084.3000000@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3556_27142646.1157119956735"
References: <6016090.post@talk.nabble.com> <6035831.post@talk.nabble.com>
	 <Pine.LNX.4.58.0608291132220.3758@hal.rescomp.berkeley.edu>
	 <6057151.post@talk.nabble.com>
	 <Pine.LNX.4.58.0608301137380.4558@hal.rescomp.berkeley.edu>
	 <44F60D80.1070802@gmail.com>
	 <9A767EEF-1DF0-41A6-8991-28516D912ADF@ehatchersolutions.com>
	 <44F64698.3070800@gmail.com>
	 <359a92830608310627r5a463c04kbbe6fcd7841465ff@mail.gmail.com>
	 <44F82084.3000000@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3556_27142646.1157119956735
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

OK, a not very helpful answer, but "of course they're slower, they do more
work" (the span versions). But that's fairly useless, since the question is
really "is it enough slower in my situation that I need to find an
alternative?". And the only way I know of to answer that question is to make
some tests with the data representing my particular problem......

Sorry I can't be more help....
Erick

On 9/1/06, Mark Miller <markrmiller@gmail.com> wrote:
>
> Erick Erickson wrote:
> > Let me chime in here on a different note.... before you get happy with
> > wildcard queries, take a look at the thread "I just don't get
> > wildcards at
> > all". There is lots of good info that Erik, Chris and Otis provided me.
> >
> > The danger with prefixquery and wildcard query is that they will throw
> > TooManyClauses exceptions when you start matching a number of terms (the
> > default is 1024, although you can make this much bigger if memory
> > allows).
> > If you're aware of this and it is and will be OK in your app, ignore
> > this.
> > But if your index is going to grow significantly, this is a real
> > problem. I
> > went with implementing filters with WildCardTermEnum (you could also use
> > RegexTermEnum) for the wildcard portions of my query. Which has
> > interesting
> > implications for spans, we elected to say spans didn't work with
> > wildcards.
> >
> > Anyway, as I said, if you're aware of the TooManyClauses issue and are
> > sure
> > it doesn't matter, ignore me. After all, everybody else does <G>.....
> >
> >
> > Best
> > Erick
> >
> >
> >
> > On 8/30/06, Mark Miller <markrmiller@gmail.com> wrote:
> >>
> >> Ignore that last question. I see that you said prefix wildcard query
> and
> >> not wildcard query. A quick look at the code seems to show it grabbing
> a
> >> prefix as well.
> >>
> >> Do you think one would be any faster than the other? Should I used
> >> Wildcardqueries outside of spanqueries and the regexquery inside
> >> spanqueries or use regex both places?
> >>
> >> - Mark
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> Thanks a lot for the info Eric. Good stuff to know for sure.
> I guess the real question I have been trying to spit out is this:
> Is a span version of any of these searches--fuzzy, wildcard,
> etc--inherently slower than their non-span brothers. If they have the
> same limitations and speeds then that is all I am looking for.
>
> P.S.
> I realize I have been screwing up the threading by replying when
> starting a new topic. I have been alerted and will stop this pernicious
> activity.
>
> - Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3556_27142646.1157119956735--

From java-user-return-23106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 14:21:17 2006
Return-Path: <java-user-return-23106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19498 invoked from network); 1 Sep 2006 14:21:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 14:21:13 -0000
Received: (qmail 8174 invoked by uid 500); 1 Sep 2006 14:21:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8144 invoked by uid 500); 1 Sep 2006 14:21:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8133 invoked by uid 99); 1 Sep 2006 14:21:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:21:06 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO nz-out-0102.google.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:21:04 -0700
Received: by nz-out-0102.google.com with SMTP id z6so613701nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 07:20:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=nCDF7/UW8YH4IBlth9MFis8FIrridbS1pLaai9ydWA4t/2PaFMWEZ70Aps3aGThH5WWMIGk9IsW2Q78Pyy7n0V88WCASZCdjgsyKk/q0kccaI1tWTq1vhfq0lzzyv73JaqP1r3KHQmAh5MWzJO/Ahi9EOlMTnhpExWQnQJIkLdg=
Received: by 10.65.154.10 with SMTP id g10mr1719200qbo;
        Fri, 01 Sep 2006 07:20:43 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id a29sm1660706qbd.2006.09.01.07.20.41;
        Fri, 01 Sep 2006 07:20:42 -0700 (PDT)
Message-ID: <44F841BB.7070702@gmail.com>
Date: Fri, 01 Sep 2006 10:20:43 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com>
In-Reply-To: <6098930.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One more tip...if you would like to be able to search phrases without 
putting in the quotes you must strip them with the analyzer. In 
standardfilter (in the standard analyzer code) add this:

 private static final String QUOTED_TYPE = tokenImage[QUOTED];
- youll see where to put that

and youll see where to put this:

else if (type == QUOTED_TYPE)  {
     return new 
org.apache.lucene.analysis.Token(text.STRIPMYQUOTESOFFBABY(),t.startOffset(), 
t.endOffset(), type);
}

text is a string so don't take my pseudo code literally.

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 14:29:25 2006
Return-Path: <java-user-return-23107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22640 invoked from network); 1 Sep 2006 14:29:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 14:29:24 -0000
Received: (qmail 32064 invoked by uid 500); 1 Sep 2006 14:29:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32039 invoked by uid 500); 1 Sep 2006 14:29:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32028 invoked by uid 99); 1 Sep 2006 14:29:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:29:18 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO nz-out-0102.google.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 07:29:17 -0700
Received: by nz-out-0102.google.com with SMTP id z6so615529nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 07:28:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=dZnRbJLa4fQbRm2GWfcNosMfc3GvHhyARqAjN39vgwbzsAlvJaiW+X9phHpn8oqTEh0enH006wP+nWSjVKD8p0bEm4F50hIQfVC+Z+xsyQ60IJ0/0XGCyJUyN29xXWl49TbybcBxc/kphWfVyKjtcW4YZDXqoMOimBMA1Cw1qQE=
Received: by 10.64.210.3 with SMTP id i3mr471974qbg;
        Fri, 01 Sep 2006 07:28:56 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e13sm1684012qbe.2006.09.01.07.28.50;
        Fri, 01 Sep 2006 07:28:51 -0700 (PDT)
Message-ID: <44F843A4.4050801@gmail.com>
Date: Fri, 01 Sep 2006 10:28:52 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: SpanRegex speed
References: <6016090.post@talk.nabble.com> <6035831.post@talk.nabble.com>	 <Pine.LNX.4.58.0608291132220.3758@hal.rescomp.berkeley.edu>	 <6057151.post@talk.nabble.com>	 <Pine.LNX.4.58.0608301137380.4558@hal.rescomp.berkeley.edu>	 <44F60D80.1070802@gmail.com>	 <9A767EEF-1DF0-41A6-8991-28516D912ADF@ehatchersolutions.com>	 <44F64698.3070800@gmail.com>	 <359a92830608310627r5a463c04kbbe6fcd7841465ff@mail.gmail.com>	 <44F82084.3000000@gmail.com> <359a92830609010712w765db538rdebd147ad79fdf51@mail.gmail.com>
In-Reply-To: <359a92830609010712w765db538rdebd147ad79fdf51@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erick Erickson wrote:
> OK, a not very helpful answer, but "of course they're slower, they do 
> more
> work" (the span versions). But that's fairly useless, since the 
> question is
> really "is it enough slower in my situation that I need to find an
> alternative?". And the only way I know of to answer that question is 
> to make
> some tests with the data representing my particular problem......
>
> Sorry I can't be more help....
> Erick
>
> On 9/1/06, Mark Miller <markrmiller@gmail.com> wrote:
>>
>> Erick Erickson wrote:
>> > Let me chime in here on a different note.... before you get happy with
>> > wildcard queries, take a look at the thread "I just don't get
>> > wildcards at
>> > all". There is lots of good info that Erik, Chris and Otis provided 
>> me.
>> >
>> > The danger with prefixquery and wildcard query is that they will throw
>> > TooManyClauses exceptions when you start matching a number of terms 
>> (the
>> > default is 1024, although you can make this much bigger if memory
>> > allows).
>> > If you're aware of this and it is and will be OK in your app, ignore
>> > this.
>> > But if your index is going to grow significantly, this is a real
>> > problem. I
>> > went with implementing filters with WildCardTermEnum (you could 
>> also use
>> > RegexTermEnum) for the wildcard portions of my query. Which has
>> > interesting
>> > implications for spans, we elected to say spans didn't work with
>> > wildcards.
>> >
>> > Anyway, as I said, if you're aware of the TooManyClauses issue and are
>> > sure
>> > it doesn't matter, ignore me. After all, everybody else does <G>.....
>> >
>> >
>> > Best
>> > Erick
>> >
>> >
>> >
>> > On 8/30/06, Mark Miller <markrmiller@gmail.com> wrote:
>> >>
>> >> Ignore that last question. I see that you said prefix wildcard query
>> and
>> >> not wildcard query. A quick look at the code seems to show it 
>> grabbing
>> a
>> >> prefix as well.
>> >>
>> >> Do you think one would be any faster than the other? Should I used
>> >> Wildcardqueries outside of spanqueries and the regexquery inside
>> >> spanqueries or use regex both places?
>> >>
>> >> - Mark
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>> Thanks a lot for the info Eric. Good stuff to know for sure.
>> I guess the real question I have been trying to spit out is this:
>> Is a span version of any of these searches--fuzzy, wildcard,
>> etc--inherently slower than their non-span brothers. If they have the
>> same limitations and speeds then that is all I am looking for.
>>
>> P.S.
>> I realize I have been screwing up the threading by replying when
>> starting a new topic. I have been alerted and will stop this pernicious
>> activity.
>>
>> - Mark
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
Thanks Eric. Your always more than helpful. The reason I only care that 
they are as good as they can be is that I am looking for a general 
solution and not one tailored to a particular dataset. This is for a 
general query parser. I want to be able to search for wildcard, fuzzies, 
etc in a proximity search. mark*off NEAR Bork?on. This may just be a 
slow query in general but other search engines appear to offer this, and 
they must face similar limitations. So if  a fuzzy search is slow in a 
proximity search just because it is slow...I don't mind. If it is slow  
because lucene implements spans in a way that makes wildcard and fuzzies 
particularly slow in them...thats what I would like to know. And if that 
is the case...someone should make a fuzzy and wildcard that is fast in a 
span :)

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 15:13:48 2006
Return-Path: <java-user-return-23108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35363 invoked from network); 1 Sep 2006 15:13:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 15:13:46 -0000
Received: (qmail 32527 invoked by uid 500); 1 Sep 2006 15:13:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32506 invoked by uid 500); 1 Sep 2006 15:13:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32462 invoked by uid 99); 1 Sep 2006 15:13:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 08:13:37 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [205.207.224.152] (HELO mail.masterfile.com) (205.207.224.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 08:13:37 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.masterfile.com (Postfix) with ESMTP id F0F388DCCF1;
	Fri,  1 Sep 2006 11:13:15 -0400 (EDT)
Received: from [127.0.0.1] (unknown [172.16.8.63])
	by mail.masterfile.com (Postfix) with ESMTP id DFCB856935F
	for <java-user@lucene.apache.org>; Fri,  1 Sep 2006 11:13:15 -0400 (EDT)
Message-ID: <44F84E04.8020605@masterfile.com>
Date: Fri, 01 Sep 2006 11:13:08 -0400
From: Rupinder Singh Mazara <rmazara@masterfile.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: retrieving LowestDoc
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi all

    the search implementation that i have requires not the top 1000 
documents but the lowest 1000 documents to be returned

       I donot want to store the entire result set in memory and go to 
the last 1000 , is there any implementation / suggestions on how to 
achieve this


  thanks

 rupinder



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 15:17:10 2006
Return-Path: <java-user-return-23109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36407 invoked from network); 1 Sep 2006 15:17:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 15:17:09 -0000
Received: (qmail 42470 invoked by uid 500); 1 Sep 2006 15:17:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42443 invoked by uid 500); 1 Sep 2006 15:17:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42424 invoked by uid 99); 1 Sep 2006 15:17:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 08:17:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 08:16:59 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k81FGUGL064666
	for <java-user@lucene.apache.org>; Fri, 1 Sep 2006 17:16:30 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200609011516.k81FGUGL064666@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: retrieving LowestDoc
Date: Fri, 1 Sep 2006 17:16:25 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <44F84E04.8020605@masterfile.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
thread-index: AcbN2TlTa+yopWVXSeCA0OYqB70mDwAADJbg
X-Scanned-By: MIMEDefang 2.56 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Collect searched results in your own HitCollector and return results how
ever you like.. 

:)
Jelda
> -----Original Message-----
> From: Rupinder Singh Mazara [mailto:rmazara@masterfile.com] 
> Sent: Friday, September 01, 2006 5:13 PM
> To: java-user@lucene.apache.org
> Subject: retrieving LowestDoc
> 
> hi all
> 
>     the search implementation that i have requires not the 
> top 1000 documents but the lowest 1000 documents to be returned
> 
>        I donot want to store the entire result set in memory 
> and go to the last 1000 , is there any implementation / 
> suggestions on how to achieve this
> 
> 
>   thanks
> 
>  rupinder
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 16:35:36 2006
Return-Path: <java-user-return-23110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64923 invoked from network); 1 Sep 2006 16:35:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 16:35:36 -0000
Received: (qmail 59304 invoked by uid 500); 1 Sep 2006 16:35:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59276 invoked by uid 500); 1 Sep 2006 16:35:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59265 invoked by uid 99); 1 Sep 2006 16:35:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 09:35:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.26] (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 09:35:28 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.13.6/8.13.6) with ESMTP id k81GZ77G089314
	for <java-user@lucene.apache.org>; Fri, 1 Sep 2006 18:35:07 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Proximity Query Parser
Date: Fri, 1 Sep 2006 18:35:06 +0200
User-Agent: KMail/1.8.2
References: <8834A84C87A2C148AD46921BB8BFC97C024497AD@S1SE1MAIL.emea1.ad.group> <200609010918.18067.paul.elschot@xs4all.nl> <44F81165.3030203@gmail.com>
In-Reply-To: <44F81165.3030203@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609011835.06850.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 01 September 2006 12:54, Mark Miller wrote:

> Hi Paul,
> 
> I also have to treat things differently depending on if I am in a 
> proximity clause or boolean clause. A wildcard in a boolean is mapped to 
> a wildcard query. A wildcard in a proximity is mapped to a regex span 
> that has been modified to only deal with * and ?. When I run into a 
> proximity, I collect a small tree of each clause and distribute them 
> against each other...(old | map) ~3 big gets distributed to old ~3 big | 
> map ~3 big. This distribution method appears to handle all 

There is no need to repeat "big". SpanQueries can be nested,
so when mapping like this:
SpanNear(SpanOr( old, map), big)
the query structure will only grow for truncations and fuzzy stuff.

> boolean/proximity nesting/mixing cases for me, including: great ! "big 
> old phrase search" ~5 (holy ~4 (big black bear)). The distribution 
> maintains order of operations, but also obviously can create some pretty 
> large queries.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 17:05:08 2006
Return-Path: <java-user-return-23111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72557 invoked from network); 1 Sep 2006 17:05:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 17:05:08 -0000
Received: (qmail 4253 invoked by uid 500); 1 Sep 2006 17:05:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4228 invoked by uid 500); 1 Sep 2006 17:05:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4214 invoked by uid 99); 1 Sep 2006 17:05:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 10:05:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 10:05:00 -0700
Received: by ug-out-1314.google.com with SMTP id y2so877539uge
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 10:04:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=WQSdjUN6PhqWxgKAmJInSGS9eg+Fk43wLPn9SKFNvK8CjI8DHWX6re0cNYt0wGKzxOIeBKyqOlIlsIvsbnO9lWuQdyz85Os+/76m34z196MRm1xe3mOPcGlVWJyIXqh+//wxRiJru9tMkyEeof9Zz4JXGljvDUMHkHgXiC982QA=
Received: by 10.67.101.8 with SMTP id d8mr1334864ugm;
        Fri, 01 Sep 2006 10:04:38 -0700 (PDT)
Received: by 10.67.93.3 with HTTP; Fri, 1 Sep 2006 10:04:38 -0700 (PDT)
Message-ID: <ab0709bf0609011004i6e334ff6k5b7b674a81a50a23@mail.gmail.com>
Date: Fri, 1 Sep 2006 13:04:38 -0400
From: "Mark Miller" <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Proximity Query Parser
In-Reply-To: <200609011835.06850.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_98638_1245226.1157130278435"
References: <8834A84C87A2C148AD46921BB8BFC97C024497AD@S1SE1MAIL.emea1.ad.group>
	 <200609010918.18067.paul.elschot@xs4all.nl>
	 <44F81165.3030203@gmail.com>
	 <200609011835.06850.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_98638_1245226.1157130278435
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks for the tip Paul. It is embarrassing, but I only realized how OrSpan
queries worked a day or two ago based on a tip from Eric. The way I assumed
it would create the spans before was just wrong and I never had researched
further. Now I see that it would be a nice optimization for what I
have...but I have not yet looked into how easy it will be to integrate it
into my distribution algorithm. I do use it for multiphrase queries however
based on Erics tip. It will hopefully be pretty simple to apply it to my
distribution, but I have not had time to check it out. I plowed this thing
out pretty quickly and am hoping I can go back and clean up a lot of things.
Need a short break though to pump out some other things. As I learn more
about Lucene and JavaCC I will incorporate new methods into the parser.


- Mark


On 9/1/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
>
> On Friday 01 September 2006 12:54, Mark Miller wrote:
>
> > Hi Paul,
> >
> > I also have to treat things differently depending on if I am in a
> > proximity clause or boolean clause. A wildcard in a boolean is mapped to
> > a wildcard query. A wildcard in a proximity is mapped to a regex span
> > that has been modified to only deal with * and ?. When I run into a
> > proximity, I collect a small tree of each clause and distribute them
> > against each other...(old | map) ~3 big gets distributed to old ~3 big |
> > map ~3 big. This distribution method appears to handle all
>
> There is no need to repeat "big". SpanQueries can be nested,
> so when mapping like this:
> SpanNear(SpanOr( old, map), big)
> the query structure will only grow for truncations and fuzzy stuff.
>
> > boolean/proximity nesting/mixing cases for me, including: great ! "big
> > old phrase search" ~5 (holy ~4 (big black bear)). The distribution
> > maintains order of operations, but also obviously can create some pretty
> > large queries.
>
> Regards,
> Paul Elschot
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_98638_1245226.1157130278435--

From java-user-return-23112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 17:46:58 2006
Return-Path: <java-user-return-23112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83792 invoked from network); 1 Sep 2006 17:46:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 17:46:58 -0000
Received: (qmail 68932 invoked by uid 500); 1 Sep 2006 17:46:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68903 invoked by uid 500); 1 Sep 2006 17:46:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68892 invoked by uid 99); 1 Sep 2006 17:46:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 10:46:51 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 10:46:49 -0700
Received: by ug-out-1314.google.com with SMTP id y2so888153uge
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 10:46:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UI0A/qVWELJO6nv+dNCfAPHtdVdKlNOeyyREd4cW5okVO5NnPxueIg61xSC2dzYp0EFDa8NlanjUacbSEX4MBZhSzvsYazU/d/XNAcZ9dpgu2dV7kXHF3JQkYu0TsZSSmqiUG8SmPJctOhsJbaRA1bNgPruNd5zIjojbhy0WD7I=
Received: by 10.66.244.11 with SMTP id r11mr1343810ugh;
        Fri, 01 Sep 2006 10:46:28 -0700 (PDT)
Received: by 10.67.93.3 with HTTP; Fri, 1 Sep 2006 10:46:28 -0700 (PDT)
Message-ID: <ab0709bf0609011046v4b69f47ap7068cd5110a3bd09@mail.gmail.com>
Date: Fri, 1 Sep 2006 13:46:28 -0400
From: "Mark Miller" <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Proximity Query Parser
In-Reply-To: <ab0709bf0609011004i6e334ff6k5b7b674a81a50a23@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_99644_19532624.1157132788029"
References: <8834A84C87A2C148AD46921BB8BFC97C024497AD@S1SE1MAIL.emea1.ad.group>
	 <200609010918.18067.paul.elschot@xs4all.nl>
	 <44F81165.3030203@gmail.com>
	 <200609011835.06850.paul.elschot@xs4all.nl>
	 <ab0709bf0609011004i6e334ff6k5b7b674a81a50a23@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_99644_19532624.1157132788029
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Eric also gave me the idea of using a SpanNear with maximum slop as a
boolean to connect spans. Using this and SpanOr seems to make my time spent
on the distribution of proximity clauses a little foolish :) Is that true?
Is there any disadvantage to the max slop Spannear, SpanOr solution? Any
advantage to distributing the 'and's?

- Mark


On 9/1/06, Mark Miller <markrmiller@gmail.com> wrote:
>
>  Thanks for the tip Paul. It is embarrassing, but I only realized how
> OrSpan queries worked a day or two ago based on a tip from Eric. The way I
> assumed it would create the spans before was just wrong and I never had
> researched further. Now I see that it would be a nice optimization for what
> I have...but I have not yet looked into how easy it will be to integrate it
> into my distribution algorithm. I do use it for multiphrase queries however
> based on Erics tip. It will hopefully be pretty simple to apply it to my
> distribution, but I have not had time to check it out. I plowed this thing
> out pretty quickly and am hoping I can go back and clean up a lot of things.
> Need a short break though to pump out some other things. As I learn more
> about Lucene and JavaCC I will incorporate new methods into the parser.
>
>
> - Mark
>
>
>  On 9/1/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> >
> > On Friday 01 September 2006 12:54, Mark Miller wrote:
> >
> > > Hi Paul,
> > >
> > > I also have to treat things differently depending on if I am in a
> > > proximity clause or boolean clause. A wildcard in a boolean is mapped
> > to
> > > a wildcard query. A wildcard in a proximity is mapped to a regex span
> > > that has been modified to only deal with * and ?. When I run into a
> > > proximity, I collect a small tree of each clause and distribute them
> > > against each other...(old | map) ~3 big gets distributed to old ~3 big
> > |
> > > map ~3 big. This distribution method appears to handle all
> >
> > There is no need to repeat "big". SpanQueries can be nested,
> > so when mapping like this:
> > SpanNear(SpanOr( old, map), big)
> > the query structure will only grow for truncations and fuzzy stuff.
> >
> > > boolean/proximity nesting/mixing cases for me, including: great ! "big
> > > old phrase search" ~5 (holy ~4 (big black bear)). The distribution
> > > maintains order of operations, but also obviously can create some
> > pretty
> > > large queries.
> >
> > Regards,
> > Paul Elschot
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_99644_19532624.1157132788029--

From java-user-return-23113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 18:13:59 2006
Return-Path: <java-user-return-23113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89517 invoked from network); 1 Sep 2006 18:13:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 18:13:58 -0000
Received: (qmail 98103 invoked by uid 500); 1 Sep 2006 18:13:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97449 invoked by uid 500); 1 Sep 2006 18:13:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97433 invoked by uid 99); 1 Sep 2006 18:13:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:13:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:13:50 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 853815B766; Fri,  1 Sep 2006 11:13:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D20867F403
	for <java-user@lucene.apache.org>; Fri,  1 Sep 2006 11:13:20 -0700 (PDT)
Date: Fri, 1 Sep 2006 11:13:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: SV: GetMoreDocs question
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C02449FEB@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0609011112350.26477@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C02449FEB@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: But why do I have to reterive atleast 1 document when im using the TopDoc=
s ?
: (If I set nDoc to 0 it will throw an exception).

i didn't say you had to, i just saaid "maybe" ... i don't know whatthe
behavior is if you use 0 -- ideally it would work fine, but in practice i
do't know if anyone has ever tested that case.

:
: /
: Marcus
:
: -----Ursprungligt meddelande-----
: Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]
: Skickat: den 31 augusti 2006 20:09
: Till: java-user@lucene.apache.org
: =C4mne: Re: GetMoreDocs question
:
:
: : I have some questions regarding the GetMoreDocs(50) call in the
: : constructors of the Hits class.
:
: : First off whats the purposes of this call?
:
: Hits is designed to meet the simple needs of simple clients -- the
: assumption is that clients using Hits want simple paginated results - so
: Hits goes ahead and gets you page#1.
:
: : Can I do something so I don't cache up 100 docs when I'm just asking fo=
r
: : a count?
:
: This is what the search method that returns TopDocs is designed for --
: when all you care about is the totalHits and the first N docs (in your
: case N is 0 or maybe 1)
:
:
:
: -Hoss
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 18:22:24 2006
Return-Path: <java-user-return-23114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91265 invoked from network); 1 Sep 2006 18:22:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 18:22:20 -0000
Received: (qmail 5617 invoked by uid 500); 1 Sep 2006 18:22:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5577 invoked by uid 500); 1 Sep 2006 18:22:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5566 invoked by uid 99); 1 Sep 2006 18:22:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:22:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:22:14 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJDeL-0005EU-RE
	for java-user@lucene.apache.org; Fri, 01 Sep 2006 11:21:53 -0700
Message-ID: <6103859.post@talk.nabble.com>
Date: Fri, 1 Sep 2006 11:21:53 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <44F841BB.7070702@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F841BB.7070702@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks, but I don't "think" I need that.  But curious, how will it know it's
a phrase if it's not enclosed in quotes?  Won't all its terms be treated
separately then?

Philip


Mark Miller-5 wrote:
> 
> One more tip...if you would like to be able to search phrases without 
> putting in the quotes you must strip them with the analyzer. In 
> standardfilter (in the standard analyzer code) add this:
> 
>  private static final String QUOTED_TYPE = tokenImage[QUOTED];
> - youll see where to put that
> 
> and youll see where to put this:
> 
> else if (type == QUOTED_TYPE)  {
>      return new 
> org.apache.lucene.analysis.Token(text.STRIPMYQUOTESOFFBABY(),t.startOffset(), 
> t.endOffset(), type);
> }
> 
> text is a string so don't take my pseudo code literally.
> 
> - Mark
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6103859
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 18:36:31 2006
Return-Path: <java-user-return-23115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95081 invoked from network); 1 Sep 2006 18:36:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 18:36:30 -0000
Received: (qmail 27596 invoked by uid 500); 1 Sep 2006 18:36:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27566 invoked by uid 500); 1 Sep 2006 18:36:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27554 invoked by uid 99); 1 Sep 2006 18:36:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:36:24 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO nz-out-0102.google.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:36:21 -0700
Received: by nz-out-0102.google.com with SMTP id z6so667788nzd
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 11:36:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=HWGX4+9ybU8T8wfBQUKVOWoOYiPIoELGY4A7N2UODGSWRH449KyM9Yg5UVFfpre/3mciQggCNQDdZb42x64TvAfDySPSQX3/lcFf+danpfnL8giUGomDsrhVp0/xRedP1Casp/GIRpsAzj2tvxM4a4Wx6vCTX+MC983apb5Evcc=
Received: by 10.65.119.14 with SMTP id w14mr842745qbm;
        Fri, 01 Sep 2006 11:36:00 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id f12sm1857803qba.2006.09.01.11.35.57;
        Fri, 01 Sep 2006 11:35:59 -0700 (PDT)
Message-ID: <44F87D8F.9030500@gmail.com>
Date: Fri, 01 Sep 2006 14:35:59 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F841BB.7070702@gmail.com> <6103859.post@talk.nabble.com>
In-Reply-To: <6103859.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That is a good point. I was just thinking that it would be a pain for 
searchers to have to include the quotes when searching, but I guess 
there is little way around it. The best you could do is have an option 
that specified a quoted search...and you might as well make that option 
be to put the word in quotes :) I don't claim to know much, just trying 
to help. On the other hand, stripping the quotes would save you two 
characters of space per quote in the index...ha...

- Mark


Philip Brown wrote:
> Thanks, but I don't "think" I need that.  But curious, how will it know it's
> a phrase if it's not enclosed in quotes?  Won't all its terms be treated
> separately then?
>
> Philip
>
>
> Mark Miller-5 wrote:
>   
>> One more tip...if you would like to be able to search phrases without 
>> putting in the quotes you must strip them with the analyzer. In 
>> standardfilter (in the standard analyzer code) add this:
>>
>>  private static final String QUOTED_TYPE = tokenImage[QUOTED];
>> - youll see where to put that
>>
>> and youll see where to put this:
>>
>> else if (type == QUOTED_TYPE)  {
>>      return new 
>> org.apache.lucene.analysis.Token(text.STRIPMYQUOTESOFFBABY(),t.startOffset(), 
>> t.endOffset(), type);
>> }
>>
>> text is a string so don't take my pseudo code literally.
>>
>> - Mark
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>     
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 18:45:44 2006
Return-Path: <java-user-return-23116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96573 invoked from network); 1 Sep 2006 18:45:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 18:45:43 -0000
Received: (qmail 40152 invoked by uid 500); 1 Sep 2006 18:45:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39069 invoked by uid 500); 1 Sep 2006 18:45:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39058 invoked by uid 99); 1 Sep 2006 18:45:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:45:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 11:45:37 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.6/8.13.6) with ESMTP id k81IjE5S014014
	for <java-user@lucene.apache.org>; Fri, 1 Sep 2006 20:45:14 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Proximity Query Parser
Date: Fri, 1 Sep 2006 20:45:13 +0200
User-Agent: KMail/1.8.2
References: <8834A84C87A2C148AD46921BB8BFC97C024497AD@S1SE1MAIL.emea1.ad.group> <ab0709bf0609011004i6e334ff6k5b7b674a81a50a23@mail.gmail.com> <ab0709bf0609011046v4b69f47ap7068cd5110a3bd09@mail.gmail.com>
In-Reply-To: <ab0709bf0609011046v4b69f47ap7068cd5110a3bd09@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609012045.13672.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 01 September 2006 19:46, Mark Miller wrote:
> Eric also gave me the idea of using a SpanNear with maximum slop as a
> boolean to connect spans. Using this and SpanOr seems to make my time spent
> on the distribution of proximity clauses a little foolish :) Is that true?

There is practice and there is theory. You chose practice this time.
(In theory there is no difference between the two, but in practice...)

> Is there any disadvantage to the max slop Spannear, SpanOr solution? Any
> advantage to distributing the 'and's?

Span queries (and phrase queries) access the proximity information,
and that slows them down when compared to pure boolean queries,
which can get away by using only the the term frequencies in the
documents. The difference in access time is roughly as big as these
term frequencies.
When querying an index with larger documents, the difference can be
quite noticable. However, using proximity information normally
gives more accurate results. With operators in the query language,
the choice is up to the user.

Similarly, phrase queries are faster than span queries, but phrase queries
cannot be nested. Ideally, a query language would hide this, but
this requires an implementation in which phrase queries treat slop
in the same way as span queries.
 
Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 22:02:47 2006
Return-Path: <java-user-return-23117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56127 invoked from network); 1 Sep 2006 22:02:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 22:02:46 -0000
Received: (qmail 13725 invoked by uid 500); 1 Sep 2006 22:02:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13689 invoked by uid 500); 1 Sep 2006 22:02:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13676 invoked by uid 99); 1 Sep 2006 22:02:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 15:02:41 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 15:02:39 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJH5e-0004LM-TS
	for java-user@lucene.apache.org; Fri, 01 Sep 2006 15:02:18 -0700
Message-ID: <6106920.post@talk.nabble.com>
Date: Fri, 1 Sep 2006 15:02:18 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <44F83F0A.7080005@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Well, I tried that, and it doesn't seem to work still.  I would be happy to
zip up the new files, so you can see what I'm using -- maybe you can get it
to work.  The first time, I tried building the documents without quotes
surrounding each phrase.  Then, I retried by enclosing every phrase within
double quotes.  Neither seemed to work.  When constructing the query string
for the search, I always added the double quotes (otherwise, it'd think it
was multiple terms).  (I didn't even test the underscore and hyphenated
terms.)  I thought Lucene was (sort of by default) set up to search quoted
phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
Phrase is a group of words surrounded by double quotes such as "hello
dolly".  So, this should be easy, right?  I must be missing something
stupid.

Thanks,

Philip


Mark Miller-5 wrote:
> 
> So this will recognize anything in quotes as a single token and '_' and 
> '-' will not break up words. There may be some repercussions for the NUM 
> token but nothing I'd worry about. maybe you want to use Unicode for '-' 
> and '_' as well...I wouldn't worry about it myself.
> 
> - Mark
> 
> 
> TOKEN : {                      // token patterns
> 
>   // basic word: a sequence of digits & letters
>   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
> 
> | <QUOTED:     "\"" (~["\""])+ "\"">
> 
>   // internal apostrophes: O'Reilly, you're, O'Reilly's
>   // use a post-filter to remove possesives
> | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
> 
>   // acronyms: U.S.A., I.B.M., etc.
>   // use a post-filter to remove dots
> | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
> 
>   // company names like AT&T and Excite@Home.
> | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
> 
>   // email addresses
> | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM> 
> (("."|"-") <ALPHANUM>)+ >
> 
>   // hostname
> | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
> 
>   // floating point, serial, model numbers, ip addresses, etc.
>   // every other segment must have at least one digit
> | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>        | <HAS_DIGIT> <P> <ALPHANUM>
>        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>         )
>   >
> | <#P: ("_"|"-"|"/"|"."|",") >
> | <#HAS_DIGIT:                      // at least one digit
>     (<LETTER>|<DIGIT>)*
>     <DIGIT>
>     (<LETTER>|<DIGIT>)*
>   >
> 
> | < #ALPHA: (<LETTER>)+>
> | < #LETTER:                      // unicode letters
>       [
>        "\u0041"-"\u005a",
>        "\u0061"-"\u007a",
>        "\u00c0"-"\u00d6",
>        "\u00d8"-"\u00f6",
>        "\u00f8"-"\u00ff",
>        "\u0100"-"\u1fff",
>        "-", "_"
>       ]
>   >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 22:22:11 2006
Return-Path: <java-user-return-23118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59313 invoked from network); 1 Sep 2006 22:22:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 22:22:11 -0000
Received: (qmail 40129 invoked by uid 500); 1 Sep 2006 22:22:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39129 invoked by uid 500); 1 Sep 2006 22:22:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39118 invoked by uid 99); 1 Sep 2006 22:22:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 15:22:04 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 15:22:02 -0700
Received: by ug-out-1314.google.com with SMTP id y2so948559uge
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 15:21:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QJvRFh475tCr0FkMB8E8ipx95o/D0oTBpCcIk/Z6UmH8POsEdNQ0ceND5ylwHNlJ5/IRIuukBhlMGLb3nxhnBChth4ZEw59UuLBgbx7JArJDcAox++o3yZCA2zP5q/0BLzL7vssCgUxgE/ecVcJZH4thttH6eatvKvN0KcrT3fY=
Received: by 10.67.10.12 with SMTP id n12mr1459289ugi;
        Fri, 01 Sep 2006 15:21:37 -0700 (PDT)
Received: by 10.67.93.3 with HTTP; Fri, 1 Sep 2006 15:21:37 -0700 (PDT)
Message-ID: <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
Date: Fri, 1 Sep 2006 18:21:37 -0400
From: "Mark Miller" <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6106920.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_104861_25740861.1157149297550"
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
	 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
	 <6106920.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_104861_25740861.1157149297550
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sorry to hear you're having trouble. You indeed need the double quotes in
the source text. You will also need them in the query string. Make sure they
are in both places. My machine is hosed right now or I would do it for you
real quick. My guess is that I forgot to mention...no only do you need to
add the <QUOTED> definiton to the TOKEN section, but below that you will
find the grammer...you need to add <QUOTED> to the grammer. If you look how
<NUM> and <APOSTROPHE> are done you will prob see what you should do. If
not, my machine should be back up tomarrow...

- Mark

On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>
>
> Well, I tried that, and it doesn't seem to work still.  I would be happy
> to
> zip up the new files, so you can see what I'm using -- maybe you can get
> it
> to work.  The first time, I tried building the documents without quotes
> surrounding each phrase.  Then, I retried by enclosing every phrase within
> double quotes.  Neither seemed to work.  When constructing the query
> string
> for the search, I always added the double quotes (otherwise, it'd think it
> was multiple terms).  (I didn't even test the underscore and hyphenated
> terms.)  I thought Lucene was (sort of by default) set up to search quoted
> phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
> Phrase is a group of words surrounded by double quotes such as "hello
> dolly".  So, this should be easy, right?  I must be missing something
> stupid.
>
> Thanks,
>
> Philip
>
>
> Mark Miller-5 wrote:
> >
> > So this will recognize anything in quotes as a single token and '_' and
> > '-' will not break up words. There may be some repercussions for the NUM
> > token but nothing I'd worry about. maybe you want to use Unicode for '-'
> > and '_' as well...I wouldn't worry about it myself.
> >
> > - Mark
> >
> >
> > TOKEN : {                      // token patterns
> >
> >   // basic word: a sequence of digits & letters
> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
> >
> > | <QUOTED:     "\"" (~["\""])+ "\"">
> >
> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
> >   // use a post-filter to remove possesives
> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
> >
> >   // acronyms: U.S.A., I.B.M., etc.
> >   // use a post-filter to remove dots
> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
> >
> >   // company names like AT&T and Excite@Home.
> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
> >
> >   // email addresses
> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
> > (("."|"-") <ALPHANUM>)+ >
> >
> >   // hostname
> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
> >
> >   // floating point, serial, model numbers, ip addresses, etc.
> >   // every other segment must have at least one digit
> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
> >        | <HAS_DIGIT> <P> <ALPHANUM>
> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
> >         )
> >   >
> > | <#P: ("_"|"-"|"/"|"."|",") >
> > | <#HAS_DIGIT:                      // at least one digit
> >     (<LETTER>|<DIGIT>)*
> >     <DIGIT>
> >     (<LETTER>|<DIGIT>)*
> >   >
> >
> > | < #ALPHA: (<LETTER>)+>
> > | < #LETTER:                      // unicode letters
> >       [
> >        "\u0041"-"\u005a",
> >        "\u0061"-"\u007a",
> >        "\u00c0"-"\u00d6",
> >        "\u00d8"-"\u00f6",
> >        "\u00f8"-"\u00ff",
> >        "\u0100"-"\u1fff",
> >        "-", "_"
> >       ]
> >   >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_104861_25740861.1157149297550--

From java-user-return-23119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 22:53:48 2006
Return-Path: <java-user-return-23119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64937 invoked from network); 1 Sep 2006 22:53:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 22:53:48 -0000
Received: (qmail 56804 invoked by uid 500); 1 Sep 2006 22:53:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56778 invoked by uid 500); 1 Sep 2006 22:53:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56767 invoked by uid 99); 1 Sep 2006 22:53:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 15:53:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 15:53:40 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJHt1-0005f2-Ld
	for java-user@lucene.apache.org; Fri, 01 Sep 2006 15:53:19 -0700
Message-ID: <6107527.post@talk.nabble.com>
Date: Fri, 1 Sep 2006 15:53:19 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Added the <QUOTED> to the other section and reran the javacc and imported the
new files...but, I still get the same result -- no results.  (Quotes are in
the source text and query string.)  Anything else I might be missing?

Philip


Mark Miller-5 wrote:
> 
> Sorry to hear you're having trouble. You indeed need the double quotes in
> the source text. You will also need them in the query string. Make sure
> they
> are in both places. My machine is hosed right now or I would do it for you
> real quick. My guess is that I forgot to mention...no only do you need to
> add the <QUOTED> definiton to the TOKEN section, but below that you will
> find the grammer...you need to add <QUOTED> to the grammer. If you look
> how
> <NUM> and <APOSTROPHE> are done you will prob see what you should do. If
> not, my machine should be back up tomarrow...
> 
> - Mark
> 
> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>
>>
>> Well, I tried that, and it doesn't seem to work still.  I would be happy
>> to
>> zip up the new files, so you can see what I'm using -- maybe you can get
>> it
>> to work.  The first time, I tried building the documents without quotes
>> surrounding each phrase.  Then, I retried by enclosing every phrase
>> within
>> double quotes.  Neither seemed to work.  When constructing the query
>> string
>> for the search, I always added the double quotes (otherwise, it'd think
>> it
>> was multiple terms).  (I didn't even test the underscore and hyphenated
>> terms.)  I thought Lucene was (sort of by default) set up to search
>> quoted
>> phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
>> Phrase is a group of words surrounded by double quotes such as "hello
>> dolly".  So, this should be easy, right?  I must be missing something
>> stupid.
>>
>> Thanks,
>>
>> Philip
>>
>>
>> Mark Miller-5 wrote:
>> >
>> > So this will recognize anything in quotes as a single token and '_' and
>> > '-' will not break up words. There may be some repercussions for the
>> NUM
>> > token but nothing I'd worry about. maybe you want to use Unicode for
>> '-'
>> > and '_' as well...I wouldn't worry about it myself.
>> >
>> > - Mark
>> >
>> >
>> > TOKEN : {                      // token patterns
>> >
>> >   // basic word: a sequence of digits & letters
>> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>> >
>> > | <QUOTED:     "\"" (~["\""])+ "\"">
>> >
>> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
>> >   // use a post-filter to remove possesives
>> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>> >
>> >   // acronyms: U.S.A., I.B.M., etc.
>> >   // use a post-filter to remove dots
>> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>> >
>> >   // company names like AT&T and Excite@Home.
>> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>> >
>> >   // email addresses
>> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
>> > (("."|"-") <ALPHANUM>)+ >
>> >
>> >   // hostname
>> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>> >
>> >   // floating point, serial, model numbers, ip addresses, etc.
>> >   // every other segment must have at least one digit
>> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>> >        | <HAS_DIGIT> <P> <ALPHANUM>
>> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>> >         )
>> >   >
>> > | <#P: ("_"|"-"|"/"|"."|",") >
>> > | <#HAS_DIGIT:                      // at least one digit
>> >     (<LETTER>|<DIGIT>)*
>> >     <DIGIT>
>> >     (<LETTER>|<DIGIT>)*
>> >   >
>> >
>> > | < #ALPHA: (<LETTER>)+>
>> > | < #LETTER:                      // unicode letters
>> >       [
>> >        "\u0041"-"\u005a",
>> >        "\u0061"-"\u007a",
>> >        "\u00c0"-"\u00d6",
>> >        "\u00d8"-"\u00f6",
>> >        "\u00f8"-"\u00ff",
>> >        "\u0100"-"\u1fff",
>> >        "-", "_"
>> >       ]
>> >   >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
>> Sent from the Lucene - Java Users forum at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107527
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 01 23:05:28 2006
Return-Path: <java-user-return-23120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66552 invoked from network); 1 Sep 2006 23:05:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2006 23:05:28 -0000
Received: (qmail 69515 invoked by uid 500); 1 Sep 2006 23:05:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69482 invoked by uid 500); 1 Sep 2006 23:05:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69469 invoked by uid 99); 1 Sep 2006 23:05:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 16:05:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 16:05:20 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJI4J-00066S-HW
	for java-user@lucene.apache.org; Fri, 01 Sep 2006 16:04:59 -0700
Message-ID: <6107649.post@talk.nabble.com>
Date: Fri, 1 Sep 2006 16:04:59 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Interesting...just ran a test where I put double quotes around everything
(including single keywords) of source text and then ran searches for a known
keyword with and without double quotes -- doesn't find either time.


Mark Miller-5 wrote:
> 
> Sorry to hear you're having trouble. You indeed need the double quotes in
> the source text. You will also need them in the query string. Make sure
> they
> are in both places. My machine is hosed right now or I would do it for you
> real quick. My guess is that I forgot to mention...no only do you need to
> add the <QUOTED> definiton to the TOKEN section, but below that you will
> find the grammer...you need to add <QUOTED> to the grammer. If you look
> how
> <NUM> and <APOSTROPHE> are done you will prob see what you should do. If
> not, my machine should be back up tomarrow...
> 
> - Mark
> 
> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>
>>
>> Well, I tried that, and it doesn't seem to work still.  I would be happy
>> to
>> zip up the new files, so you can see what I'm using -- maybe you can get
>> it
>> to work.  The first time, I tried building the documents without quotes
>> surrounding each phrase.  Then, I retried by enclosing every phrase
>> within
>> double quotes.  Neither seemed to work.  When constructing the query
>> string
>> for the search, I always added the double quotes (otherwise, it'd think
>> it
>> was multiple terms).  (I didn't even test the underscore and hyphenated
>> terms.)  I thought Lucene was (sort of by default) set up to search
>> quoted
>> phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
>> Phrase is a group of words surrounded by double quotes such as "hello
>> dolly".  So, this should be easy, right?  I must be missing something
>> stupid.
>>
>> Thanks,
>>
>> Philip
>>
>>
>> Mark Miller-5 wrote:
>> >
>> > So this will recognize anything in quotes as a single token and '_' and
>> > '-' will not break up words. There may be some repercussions for the
>> NUM
>> > token but nothing I'd worry about. maybe you want to use Unicode for
>> '-'
>> > and '_' as well...I wouldn't worry about it myself.
>> >
>> > - Mark
>> >
>> >
>> > TOKEN : {                      // token patterns
>> >
>> >   // basic word: a sequence of digits & letters
>> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>> >
>> > | <QUOTED:     "\"" (~["\""])+ "\"">
>> >
>> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
>> >   // use a post-filter to remove possesives
>> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>> >
>> >   // acronyms: U.S.A., I.B.M., etc.
>> >   // use a post-filter to remove dots
>> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>> >
>> >   // company names like AT&T and Excite@Home.
>> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>> >
>> >   // email addresses
>> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
>> > (("."|"-") <ALPHANUM>)+ >
>> >
>> >   // hostname
>> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>> >
>> >   // floating point, serial, model numbers, ip addresses, etc.
>> >   // every other segment must have at least one digit
>> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>> >        | <HAS_DIGIT> <P> <ALPHANUM>
>> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>> >         )
>> >   >
>> > | <#P: ("_"|"-"|"/"|"."|",") >
>> > | <#HAS_DIGIT:                      // at least one digit
>> >     (<LETTER>|<DIGIT>)*
>> >     <DIGIT>
>> >     (<LETTER>|<DIGIT>)*
>> >   >
>> >
>> > | < #ALPHA: (<LETTER>)+>
>> > | < #LETTER:                      // unicode letters
>> >       [
>> >        "\u0041"-"\u005a",
>> >        "\u0061"-"\u007a",
>> >        "\u00c0"-"\u00d6",
>> >        "\u00d8"-"\u00f6",
>> >        "\u00f8"-"\u00ff",
>> >        "\u0100"-"\u1fff",
>> >        "-", "_"
>> >       ]
>> >   >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
>> Sent from the Lucene - Java Users forum at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 00:00:12 2006
Return-Path: <java-user-return-23121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73803 invoked from network); 2 Sep 2006 00:00:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 00:00:11 -0000
Received: (qmail 4035 invoked by uid 500); 2 Sep 2006 00:00:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4011 invoked by uid 500); 2 Sep 2006 00:00:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4000 invoked by uid 99); 2 Sep 2006 00:00:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 17:00:05 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 17:00:03 -0700
Received: by py-out-1112.google.com with SMTP id w49so1221208pyg
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 16:59:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=AmNvraED5xnwNSIzZ44BJQ/XpJTUFOpZtkvbObEgPfD+rIdJn7SaHDtXh4IFJ4UTbY0cuiTwH7OCFMhojL6rLCuL6xxAsRqGbRthw2ch7HFS4VUEx7vpRIglltiSzZf7telGlHabTjDBCFMLz1tXzRg85aNFBjQN6zOGOGtZOOo=
Received: by 10.35.57.5 with SMTP id j5mr4071628pyk;
        Fri, 01 Sep 2006 16:59:42 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Fri, 1 Sep 2006 16:59:42 -0700 (PDT)
Message-ID: <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
Date: Fri, 1 Sep 2006 19:59:42 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6107649.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9497_12174673.1157155182576"
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
	 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
	 <6106920.post@talk.nabble.com>
	 <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
	 <6107649.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9497_12174673.1157155182576
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

OK, I've gotta ask. Have you examined your index with Luke to see if what
you *think* is in the index actually *is*???

Erick

On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>
>
> Interesting...just ran a test where I put double quotes around everything
> (including single keywords) of source text and then ran searches for a
> known
> keyword with and without double quotes -- doesn't find either time.
>
>
> Mark Miller-5 wrote:
> >
> > Sorry to hear you're having trouble. You indeed need the double quotes
> in
> > the source text. You will also need them in the query string. Make sure
> > they
> > are in both places. My machine is hosed right now or I would do it for
> you
> > real quick. My guess is that I forgot to mention...no only do you need
> to
> > add the <QUOTED> definiton to the TOKEN section, but below that you will
> > find the grammer...you need to add <QUOTED> to the grammer. If you look
> > how
> > <NUM> and <APOSTROPHE> are done you will prob see what you should do. If
> > not, my machine should be back up tomarrow...
> >
> > - Mark
> >
> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
> >>
> >>
> >> Well, I tried that, and it doesn't seem to work still.  I would be
> happy
> >> to
> >> zip up the new files, so you can see what I'm using -- maybe you can
> get
> >> it
> >> to work.  The first time, I tried building the documents without quotes
> >> surrounding each phrase.  Then, I retried by enclosing every phrase
> >> within
> >> double quotes.  Neither seemed to work.  When constructing the query
> >> string
> >> for the search, I always added the double quotes (otherwise, it'd think
> >> it
> >> was multiple terms).  (I didn't even test the underscore and hyphenated
> >> terms.)  I thought Lucene was (sort of by default) set up to search
> >> quoted
> >> phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
> >> Phrase is a group of words surrounded by double quotes such as "hello
> >> dolly".  So, this should be easy, right?  I must be missing something
> >> stupid.
> >>
> >> Thanks,
> >>
> >> Philip
> >>
> >>
> >> Mark Miller-5 wrote:
> >> >
> >> > So this will recognize anything in quotes as a single token and '_'
> and
> >> > '-' will not break up words. There may be some repercussions for the
> >> NUM
> >> > token but nothing I'd worry about. maybe you want to use Unicode for
> >> '-'
> >> > and '_' as well...I wouldn't worry about it myself.
> >> >
> >> > - Mark
> >> >
> >> >
> >> > TOKEN : {                      // token patterns
> >> >
> >> >   // basic word: a sequence of digits & letters
> >> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
> >> >
> >> > | <QUOTED:     "\"" (~["\""])+ "\"">
> >> >
> >> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
> >> >   // use a post-filter to remove possesives
> >> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
> >> >
> >> >   // acronyms: U.S.A., I.B.M., etc.
> >> >   // use a post-filter to remove dots
> >> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
> >> >
> >> >   // company names like AT&T and Excite@Home.
> >> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
> >> >
> >> >   // email addresses
> >> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
> >> > (("."|"-") <ALPHANUM>)+ >
> >> >
> >> >   // hostname
> >> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
> >> >
> >> >   // floating point, serial, model numbers, ip addresses, etc.
> >> >   // every other segment must have at least one digit
> >> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
> >> >        | <HAS_DIGIT> <P> <ALPHANUM>
> >> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
> >> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
> >> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
> >> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
> >> >         )
> >> >   >
> >> > | <#P: ("_"|"-"|"/"|"."|",") >
> >> > | <#HAS_DIGIT:                      // at least one digit
> >> >     (<LETTER>|<DIGIT>)*
> >> >     <DIGIT>
> >> >     (<LETTER>|<DIGIT>)*
> >> >   >
> >> >
> >> > | < #ALPHA: (<LETTER>)+>
> >> > | < #LETTER:                      // unicode letters
> >> >       [
> >> >        "\u0041"-"\u005a",
> >> >        "\u0061"-"\u007a",
> >> >        "\u00c0"-"\u00d6",
> >> >        "\u00d8"-"\u00f6",
> >> >        "\u00f8"-"\u00ff",
> >> >        "\u0100"-"\u1fff",
> >> >        "-", "_"
> >> >       ]
> >> >   >
> >> >
> >> > ---------------------------------------------------------------------
> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >
> >> >
> >> >
> >>
> >> --
> >> View this message in context:
> >>
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
> >> Sent from the Lucene - Java Users forum at Nabble.com.
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9497_12174673.1157155182576--

From java-user-return-23122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 02:40:56 2006
Return-Path: <java-user-return-23122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4343 invoked from network); 2 Sep 2006 02:40:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 02:40:55 -0000
Received: (qmail 92424 invoked by uid 500); 2 Sep 2006 02:40:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92400 invoked by uid 500); 2 Sep 2006 02:40:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92389 invoked by uid 99); 2 Sep 2006 02:40:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 19:40:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 19:40:48 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJLQg-0002CL-Qh
	for java-user@lucene.apache.org; Fri, 01 Sep 2006 19:40:18 -0700
Message-ID: <6109067.post@talk.nabble.com>
Date: Fri, 1 Sep 2006 19:40:18 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


No, I've never used Luke.  Is there an easy way to examine my RAMDirectory
index?  I can create the index with no quoted keywords, and when I search
for a keyword, I get back the expected results (just can't search for a
phrase that has whitespace in it).  If I create the index with phrases in
quotes, then when I search for anything in double quotes, I get back
nothing.  If I create the index with everything in quotes, then when I
search for anything by the keyword field, I get nothing, regardless of
whether I use quotes in the query string or not.  (I can get results back by
searching on other fields.)  What do you think?

Philip


Erick Erickson wrote:
> 
> OK, I've gotta ask. Have you examined your index with Luke to see if what
> you *think* is in the index actually *is*???
> 
> Erick
> 
> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>
>>
>> Interesting...just ran a test where I put double quotes around everything
>> (including single keywords) of source text and then ran searches for a
>> known
>> keyword with and without double quotes -- doesn't find either time.
>>
>>
>> Mark Miller-5 wrote:
>> >
>> > Sorry to hear you're having trouble. You indeed need the double quotes
>> in
>> > the source text. You will also need them in the query string. Make sure
>> > they
>> > are in both places. My machine is hosed right now or I would do it for
>> you
>> > real quick. My guess is that I forgot to mention...no only do you need
>> to
>> > add the <QUOTED> definiton to the TOKEN section, but below that you
>> will
>> > find the grammer...you need to add <QUOTED> to the grammer. If you look
>> > how
>> > <NUM> and <APOSTROPHE> are done you will prob see what you should do.
>> If
>> > not, my machine should be back up tomarrow...
>> >
>> > - Mark
>> >
>> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>> >>
>> >>
>> >> Well, I tried that, and it doesn't seem to work still.  I would be
>> happy
>> >> to
>> >> zip up the new files, so you can see what I'm using -- maybe you can
>> get
>> >> it
>> >> to work.  The first time, I tried building the documents without
>> quotes
>> >> surrounding each phrase.  Then, I retried by enclosing every phrase
>> >> within
>> >> double quotes.  Neither seemed to work.  When constructing the query
>> >> string
>> >> for the search, I always added the double quotes (otherwise, it'd
>> think
>> >> it
>> >> was multiple terms).  (I didn't even test the underscore and
>> hyphenated
>> >> terms.)  I thought Lucene was (sort of by default) set up to search
>> >> quoted
>> >> phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
>> >> Phrase is a group of words surrounded by double quotes such as "hello
>> >> dolly".  So, this should be easy, right?  I must be missing something
>> >> stupid.
>> >>
>> >> Thanks,
>> >>
>> >> Philip
>> >>
>> >>
>> >> Mark Miller-5 wrote:
>> >> >
>> >> > So this will recognize anything in quotes as a single token and '_'
>> and
>> >> > '-' will not break up words. There may be some repercussions for the
>> >> NUM
>> >> > token but nothing I'd worry about. maybe you want to use Unicode for
>> >> '-'
>> >> > and '_' as well...I wouldn't worry about it myself.
>> >> >
>> >> > - Mark
>> >> >
>> >> >
>> >> > TOKEN : {                      // token patterns
>> >> >
>> >> >   // basic word: a sequence of digits & letters
>> >> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>> >> >
>> >> > | <QUOTED:     "\"" (~["\""])+ "\"">
>> >> >
>> >> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
>> >> >   // use a post-filter to remove possesives
>> >> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>> >> >
>> >> >   // acronyms: U.S.A., I.B.M., etc.
>> >> >   // use a post-filter to remove dots
>> >> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>> >> >
>> >> >   // company names like AT&T and Excite@Home.
>> >> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>> >> >
>> >> >   // email addresses
>> >> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
>> >> > (("."|"-") <ALPHANUM>)+ >
>> >> >
>> >> >   // hostname
>> >> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>> >> >
>> >> >   // floating point, serial, model numbers, ip addresses, etc.
>> >> >   // every other segment must have at least one digit
>> >> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>> >> >        | <HAS_DIGIT> <P> <ALPHANUM>
>> >> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>> >> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>> >> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
>> <HAS_DIGIT>)+
>> >> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
>> <ALPHANUM>)+
>> >> >         )
>> >> >   >
>> >> > | <#P: ("_"|"-"|"/"|"."|",") >
>> >> > | <#HAS_DIGIT:                      // at least one digit
>> >> >     (<LETTER>|<DIGIT>)*
>> >> >     <DIGIT>
>> >> >     (<LETTER>|<DIGIT>)*
>> >> >   >
>> >> >
>> >> > | < #ALPHA: (<LETTER>)+>
>> >> > | < #LETTER:                      // unicode letters
>> >> >       [
>> >> >        "\u0041"-"\u005a",
>> >> >        "\u0061"-"\u007a",
>> >> >        "\u00c0"-"\u00d6",
>> >> >        "\u00d8"-"\u00f6",
>> >> >        "\u00f8"-"\u00ff",
>> >> >        "\u0100"-"\u1fff",
>> >> >        "-", "_"
>> >> >       ]
>> >> >   >
>> >> >
>> >> >
>> ---------------------------------------------------------------------
>> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >> >
>> >> >
>> >> >
>> >>
>> >> --
>> >> View this message in context:
>> >>
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
>> >> Sent from the Lucene - Java Users forum at Nabble.com.
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>> >
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
>> Sent from the Lucene - Java Users forum at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6109067
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 02:57:23 2006
Return-Path: <java-user-return-23123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5293 invoked from network); 2 Sep 2006 02:57:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 02:57:21 -0000
Received: (qmail 2228 invoked by uid 500); 2 Sep 2006 02:57:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2188 invoked by uid 500); 2 Sep 2006 02:57:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2177 invoked by uid 99); 2 Sep 2006 02:57:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 19:57:15 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 19:57:13 -0700
Received: by py-out-1112.google.com with SMTP id w49so1269185pyg
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 19:56:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=YxNpAqz/GjpwYopX8e0HsORbz7/8B1absjTltmfm+E10m+xHw80KNEqsnNSSBfTKnTKzGH/+qbOvBhDfyXztCYah/em9k/Cwg8D0A9wo5HvoA7tghTmkh0huJF2oXAoYxd9XD9c7Suuz41oe1NoWhQNs8nhRnwoU9VkgafUe0n4=
Received: by 10.65.73.16 with SMTP id a16mr1177895qbl;
        Fri, 01 Sep 2006 19:46:53 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id c6sm2126559qbc.2006.09.01.19.46.51;
        Fri, 01 Sep 2006 19:46:52 -0700 (PDT)
Message-ID: <44F8F09A.6020905@gmail.com>
Date: Fri, 01 Sep 2006 22:46:50 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com>
In-Reply-To: <6109067.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am out of ideas. If I'm feeling perky I'll build you one in the morning.
> No, I've never used Luke.  Is there an easy way to examine my RAMDirectory
> index?  I can create the index with no quoted keywords, and when I search
> for a keyword, I get back the expected results (just can't search for a
> phrase that has whitespace in it).  If I create the index with phrases in
> quotes, then when I search for anything in double quotes, I get back
> nothing.  If I create the index with everything in quotes, then when I
> search for anything by the keyword field, I get nothing, regardless of
> whether I use quotes in the query string or not.  (I can get results back by
> searching on other fields.)  What do you think?
>
> Philip
>
>
> Erick Erickson wrote:
>   
>> OK, I've gotta ask. Have you examined your index with Luke to see if what
>> you *think* is in the index actually *is*???
>>
>> Erick
>>
>> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>     
>>> Interesting...just ran a test where I put double quotes around everything
>>> (including single keywords) of source text and then ran searches for a
>>> known
>>> keyword with and without double quotes -- doesn't find either time.
>>>
>>>
>>> Mark Miller-5 wrote:
>>>       
>>>> Sorry to hear you're having trouble. You indeed need the double quotes
>>>>         
>>> in
>>>       
>>>> the source text. You will also need them in the query string. Make sure
>>>> they
>>>> are in both places. My machine is hosed right now or I would do it for
>>>>         
>>> you
>>>       
>>>> real quick. My guess is that I forgot to mention...no only do you need
>>>>         
>>> to
>>>       
>>>> add the <QUOTED> definiton to the TOKEN section, but below that you
>>>>         
>>> will
>>>       
>>>> find the grammer...you need to add <QUOTED> to the grammer. If you look
>>>> how
>>>> <NUM> and <APOSTROPHE> are done you will prob see what you should do.
>>>>         
>>> If
>>>       
>>>> not, my machine should be back up tomarrow...
>>>>
>>>> - Mark
>>>>
>>>> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>>>         
>>>>> Well, I tried that, and it doesn't seem to work still.  I would be
>>>>>           
>>> happy
>>>       
>>>>> to
>>>>> zip up the new files, so you can see what I'm using -- maybe you can
>>>>>           
>>> get
>>>       
>>>>> it
>>>>> to work.  The first time, I tried building the documents without
>>>>>           
>>> quotes
>>>       
>>>>> surrounding each phrase.  Then, I retried by enclosing every phrase
>>>>> within
>>>>> double quotes.  Neither seemed to work.  When constructing the query
>>>>> string
>>>>> for the search, I always added the double quotes (otherwise, it'd
>>>>>           
>>> think
>>>       
>>>>> it
>>>>> was multiple terms).  (I didn't even test the underscore and
>>>>>           
>>> hyphenated
>>>       
>>>>> terms.)  I thought Lucene was (sort of by default) set up to search
>>>>> quoted
>>>>> phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
>>>>> Phrase is a group of words surrounded by double quotes such as "hello
>>>>> dolly".  So, this should be easy, right?  I must be missing something
>>>>> stupid.
>>>>>
>>>>> Thanks,
>>>>>
>>>>> Philip
>>>>>
>>>>>
>>>>> Mark Miller-5 wrote:
>>>>>           
>>>>>> So this will recognize anything in quotes as a single token and '_'
>>>>>>             
>>> and
>>>       
>>>>>> '-' will not break up words. There may be some repercussions for the
>>>>>>             
>>>>> NUM
>>>>>           
>>>>>> token but nothing I'd worry about. maybe you want to use Unicode for
>>>>>>             
>>>>> '-'
>>>>>           
>>>>>> and '_' as well...I wouldn't worry about it myself.
>>>>>>
>>>>>> - Mark
>>>>>>
>>>>>>
>>>>>> TOKEN : {                      // token patterns
>>>>>>
>>>>>>   // basic word: a sequence of digits & letters
>>>>>>   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>>>>>>
>>>>>> | <QUOTED:     "\"" (~["\""])+ "\"">
>>>>>>
>>>>>>   // internal apostrophes: O'Reilly, you're, O'Reilly's
>>>>>>   // use a post-filter to remove possesives
>>>>>> | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>>>>>>
>>>>>>   // acronyms: U.S.A., I.B.M., etc.
>>>>>>   // use a post-filter to remove dots
>>>>>> | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>>>>>>
>>>>>>   // company names like AT&T and Excite@Home.
>>>>>> | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>>>>>>
>>>>>>   // email addresses
>>>>>> | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
>>>>>> (("."|"-") <ALPHANUM>)+ >
>>>>>>
>>>>>>   // hostname
>>>>>> | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>>>>>>
>>>>>>   // floating point, serial, model numbers, ip addresses, etc.
>>>>>>   // every other segment must have at least one digit
>>>>>> | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>>>>>>        | <HAS_DIGIT> <P> <ALPHANUM>
>>>>>>        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>>>>>>        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>>>>>>        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
>>>>>>             
>>> <HAS_DIGIT>)+
>>>       
>>>>>>        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
>>>>>>             
>>> <ALPHANUM>)+
>>>       
>>>>>>         )
>>>>>>   >
>>>>>> | <#P: ("_"|"-"|"/"|"."|",") >
>>>>>> | <#HAS_DIGIT:                      // at least one digit
>>>>>>     (<LETTER>|<DIGIT>)*
>>>>>>     <DIGIT>
>>>>>>     (<LETTER>|<DIGIT>)*
>>>>>>   >
>>>>>>
>>>>>> | < #ALPHA: (<LETTER>)+>
>>>>>> | < #LETTER:                      // unicode letters
>>>>>>       [
>>>>>>        "\u0041"-"\u005a",
>>>>>>        "\u0061"-"\u007a",
>>>>>>        "\u00c0"-"\u00d6",
>>>>>>        "\u00d8"-"\u00f6",
>>>>>>        "\u00f8"-"\u00ff",
>>>>>>        "\u0100"-"\u1fff",
>>>>>>        "-", "_"
>>>>>>       ]
>>>>>>   >
>>>>>>
>>>>>>
>>>>>>             
>>> ---------------------------------------------------------------------
>>>       
>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>>
>>>>>>
>>>>>>
>>>>>>             
>>>>> --
>>>>> View this message in context:
>>>>>
>>>>>           
>>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
>>>       
>>>>> Sent from the Lucene - Java Users forum at Nabble.com.
>>>>>
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>
>>>>>           
>>>>         
>>> --
>>> View this message in context:
>>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
>>> Sent from the Lucene - Java Users forum at Nabble.com.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>       
>>     
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 03:57:23 2006
Return-Path: <java-user-return-23124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10401 invoked from network); 2 Sep 2006 03:57:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 03:57:23 -0000
Received: (qmail 32956 invoked by uid 500); 2 Sep 2006 03:57:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32925 invoked by uid 500); 2 Sep 2006 03:57:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32914 invoked by uid 99); 2 Sep 2006 03:57:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 20:57:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Sep 2006 20:57:15 -0700
Received: by py-out-1112.google.com with SMTP id w49so1285428pyg
        for <java-user@lucene.apache.org>; Fri, 01 Sep 2006 20:56:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=qx31Cm973Ju8lUwUDpDQZnLdsPrxil8w3kG6CmA6swlwZ1j2rC/nGuUbBt71KRQie4l46g4cZJZxatFCwLNiFmsgzIeVeS5tDiHO5sb1V8+zyRsIU8gMs0TlOJBJwIo2CcOvyrD6TakPZuNyxGyb1GmvzlzZo93sxa8J89PkWCw=
Received: by 10.65.114.11 with SMTP id r11mr1207020qbm;
        Fri, 01 Sep 2006 20:56:48 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e16sm2144870qbe.2006.09.01.20.56.46;
        Fri, 01 Sep 2006 20:56:48 -0700 (PDT)
Message-ID: <44F900FD.7050208@gmail.com>
Date: Fri, 01 Sep 2006 23:56:45 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com>
In-Reply-To: <6109067.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well Philip...bad news. I should have thought of this before...I think 
the query parser is the problem. You are tokening "all in the quotes" to 
one token...but when QueryParser sees that, it doesnt matter what 
analyzer you use, it's going to see the quotes and strip them right off 
. Then it passes whats inside the quotes to be analyzed. Now whats 
inside the quotes will be missing stop words, have no quotes, etc.
Sorry I hadn't thought of this. You're getting deeper...modify the 
queryparser? It might only take passing in the entire quoted token in 
the queryparser.jj
>   q = getFieldQuery(field, term.image.substring(1, 
> term.image.length()-1), s);
just try term.image.

Then queryparser's analyzer would get the whole quoted hunk of goodness. 
Think it out a bit though...I haven't yet.

- Mark

> No, I've never used Luke.  Is there an easy way to examine my RAMDirectory
> index?  I can create the index with no quoted keywords, and when I search
> for a keyword, I get back the expected results (just can't search for a
> phrase that has whitespace in it).  If I create the index with phrases in
> quotes, then when I search for anything in double quotes, I get back
> nothing.  If I create the index with everything in quotes, then when I
> search for anything by the keyword field, I get nothing, regardless of
> whether I use quotes in the query string or not.  (I can get results back by
> searching on other fields.)  What do you think?
>
> Philip
>
>
> Erick Erickson wrote:
>   
>> OK, I've gotta ask. Have you examined your index with Luke to see if what
>> you *think* is in the index actually *is*???
>>
>> Erick
>>
>> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>     
>>> Interesting...just ran a test where I put double quotes around everything
>>> (including single keywords) of source text and then ran searches for a
>>> known
>>> keyword with and without double quotes -- doesn't find either time.
>>>
>>>
>>> Mark Miller-5 wrote:
>>>       
>>>> Sorry to hear you're having trouble. You indeed need the double quotes
>>>>         
>>> in
>>>       
>>>> the source text. You will also need them in the query string. Make sure
>>>> they
>>>> are in both places. My machine is hosed right now or I would do it for
>>>>         
>>> you
>>>       
>>>> real quick. My guess is that I forgot to mention...no only do you need
>>>>         
>>> to
>>>       
>>>> add the <QUOTED> definiton to the TOKEN section, but below that you
>>>>         
>>> will
>>>       
>>>> find the grammer...you need to add <QUOTED> to the grammer. If you look
>>>> how
>>>> <NUM> and <APOSTROPHE> are done you will prob see what you should do.
>>>>         
>>> If
>>>       
>>>> not, my machine should be back up tomarrow...
>>>>
>>>> - Mark
>>>>
>>>> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>>>         
>>>>> Well, I tried that, and it doesn't seem to work still.  I would be
>>>>>           
>>> happy
>>>       
>>>>> to
>>>>> zip up the new files, so you can see what I'm using -- maybe you can
>>>>>           
>>> get
>>>       
>>>>> it
>>>>> to work.  The first time, I tried building the documents without
>>>>>           
>>> quotes
>>>       
>>>>> surrounding each phrase.  Then, I retried by enclosing every phrase
>>>>> within
>>>>> double quotes.  Neither seemed to work.  When constructing the query
>>>>> string
>>>>> for the search, I always added the double quotes (otherwise, it'd
>>>>>           
>>> think
>>>       
>>>>> it
>>>>> was multiple terms).  (I didn't even test the underscore and
>>>>>           
>>> hyphenated
>>>       
>>>>> terms.)  I thought Lucene was (sort of by default) set up to search
>>>>> quoted
>>>>> phrases.  From http://lucene.apache.org/java/docs/api/index.html --> A
>>>>> Phrase is a group of words surrounded by double quotes such as "hello
>>>>> dolly".  So, this should be easy, right?  I must be missing something
>>>>> stupid.
>>>>>
>>>>> Thanks,
>>>>>
>>>>> Philip
>>>>>
>>>>>
>>>>> Mark Miller-5 wrote:
>>>>>           
>>>>>> So this will recognize anything in quotes as a single token and '_'
>>>>>>             
>>> and
>>>       
>>>>>> '-' will not break up words. There may be some repercussions for the
>>>>>>             
>>>>> NUM
>>>>>           
>>>>>> token but nothing I'd worry about. maybe you want to use Unicode for
>>>>>>             
>>>>> '-'
>>>>>           
>>>>>> and '_' as well...I wouldn't worry about it myself.
>>>>>>
>>>>>> - Mark
>>>>>>
>>>>>>
>>>>>> TOKEN : {                      // token patterns
>>>>>>
>>>>>>   // basic word: a sequence of digits & letters
>>>>>>   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>>>>>>
>>>>>> | <QUOTED:     "\"" (~["\""])+ "\"">
>>>>>>
>>>>>>   // internal apostrophes: O'Reilly, you're, O'Reilly's
>>>>>>   // use a post-filter to remove possesives
>>>>>> | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>>>>>>
>>>>>>   // acronyms: U.S.A., I.B.M., etc.
>>>>>>   // use a post-filter to remove dots
>>>>>> | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>>>>>>
>>>>>>   // company names like AT&T and Excite@Home.
>>>>>> | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>>>>>>
>>>>>>   // email addresses
>>>>>> | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
>>>>>> (("."|"-") <ALPHANUM>)+ >
>>>>>>
>>>>>>   // hostname
>>>>>> | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>>>>>>
>>>>>>   // floating point, serial, model numbers, ip addresses, etc.
>>>>>>   // every other segment must have at least one digit
>>>>>> | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>>>>>>        | <HAS_DIGIT> <P> <ALPHANUM>
>>>>>>        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>>>>>>        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>>>>>>        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
>>>>>>             
>>> <HAS_DIGIT>)+
>>>       
>>>>>>        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
>>>>>>             
>>> <ALPHANUM>)+
>>>       
>>>>>>         )
>>>>>>   >
>>>>>> | <#P: ("_"|"-"|"/"|"."|",") >
>>>>>> | <#HAS_DIGIT:                      // at least one digit
>>>>>>     (<LETTER>|<DIGIT>)*
>>>>>>     <DIGIT>
>>>>>>     (<LETTER>|<DIGIT>)*
>>>>>>   >
>>>>>>
>>>>>> | < #ALPHA: (<LETTER>)+>
>>>>>> | < #LETTER:                      // unicode letters
>>>>>>       [
>>>>>>        "\u0041"-"\u005a",
>>>>>>        "\u0061"-"\u007a",
>>>>>>        "\u00c0"-"\u00d6",
>>>>>>        "\u00d8"-"\u00f6",
>>>>>>        "\u00f8"-"\u00ff",
>>>>>>        "\u0100"-"\u1fff",
>>>>>>        "-", "_"
>>>>>>       ]
>>>>>>   >
>>>>>>
>>>>>>
>>>>>>             
>>> ---------------------------------------------------------------------
>>>       
>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>>
>>>>>>
>>>>>>
>>>>>>             
>>>>> --
>>>>> View this message in context:
>>>>>
>>>>>           
>>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
>>>       
>>>>> Sent from the Lucene - Java Users forum at Nabble.com.
>>>>>
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>
>>>>>           
>>>>         
>>> --
>>> View this message in context:
>>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
>>> Sent from the Lucene - Java Users forum at Nabble.com.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>       
>>     
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 09:15:21 2006
Return-Path: <java-user-return-23125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66214 invoked from network); 2 Sep 2006 09:15:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 09:15:21 -0000
Received: (qmail 80070 invoked by uid 500); 2 Sep 2006 09:15:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80048 invoked by uid 500); 2 Sep 2006 09:15:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80036 invoked by uid 99); 2 Sep 2006 09:15:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 02:15:15 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hefest@gmail.com designates 66.249.82.232 as permitted sender)
Received: from [66.249.82.232] (HELO wx-out-0506.google.com) (66.249.82.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 02:15:14 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1319149wxc
        for <java-user@lucene.apache.org>; Sat, 02 Sep 2006 02:14:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gqcCCYDDDA1Mg7ZRkmFlfGclGfJRm5+UHiF4HmvZKCIF7OyeO78R7pNUnm+YxU6tC8ysLyTLhapjtdvVrpJQCA7YVSRnEelhPPcy9xztXmQbzjaNVi8vYIIqgBvfp00wKFTztA4U0GCDMukxg0GUqR9f0PFzec+ggpronhDZlUY=
Received: by 10.90.118.12 with SMTP id q12mr943512agc;
        Sat, 02 Sep 2006 02:14:53 -0700 (PDT)
Received: by 10.90.75.3 with HTTP; Sat, 2 Sep 2006 02:14:53 -0700 (PDT)
Message-ID: <d487eb8e0609020214g271d6a6cme062f5d5a4cd241b@mail.gmail.com>
Date: Sat, 2 Sep 2006 11:14:53 +0200
From: "Tomi NA" <hefest@gmail.com>
To: java-user@lucene.apache.org, saurabh@danicorp.com
Subject: Re: Using Lucene Index for Business Intelligence / Analytics
In-Reply-To: <ae918380a0bd438aa46af9c7ddb8d61f@danicorp.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <ae918380a0bd438aa46af9c7ddb8d61f@danicorp.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 8/31/06, Saurabh Dani <saurabh@danicorp.com> wrote:
>
>
>                                 I don't have a lot of experience with reporting tools and how data is stored by high priced tools which use OLAP and other similar storage types but we needed a solution for drill down reports and searching within large application logs / web server logs.
>
> So, we decided to build a reporting / analytics solution using Lucene. The product is almost ready and we are doing closed beta testing for now for reporting & searching in Web Server logs with our small set of beta customers. I am not here to promote the product or drop the URL, but wanted to get an opinion from this group on using Lucene as the data store for Business Intelligence / Analytics.
>
> If implemented correctly, is there any reason why a Lucene based data store cannot compete with the high priced reporting / data analytics products for drill down reports? I know about a lot of Lucene advantages which I can talk about with customers, but what can be the downside of using Lucene / competitive advantages in other products which we should be aware of?

It doesn't sound promising to me.
>From my own (true, not too rich) experience, search engine has as much
to do with business inteligence as e.g. text processing.
I mean, yes, you can probably draw an analogy of an OLAP drill-down to
searching withing search results, but that's about it...reporting and
analysis tools are fundamentaly different from a search engine in that
they work with highly structured data and leverage that structure to
do various calculations the results of which are then presented to the
user. A search engine, on the other hand, is basically a tool designed
to handle tons of unstructured or badly structured (i.e. structured
for the human reader) data.
In conclusion, you can do great things with a search engine, but BI in
general or reporting in particular is not one of them. Take a look at
bizgres, pentaho (mondrian, jrubik/jpivot, kettle, weka), and
jasperreports to get a better idea of what I'm talking about.

Just another opinion, anyway...

t.n.a.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 13:06:04 2006
Return-Path: <java-user-return-23126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20674 invoked from network); 2 Sep 2006 13:05:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 13:05:57 -0000
Received: (qmail 86997 invoked by uid 500); 2 Sep 2006 13:05:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86956 invoked by uid 500); 2 Sep 2006 13:05:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86945 invoked by uid 99); 2 Sep 2006 13:05:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 06:05:51 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jason.polites@gmail.com designates 66.249.82.237 as permitted sender)
Received: from [66.249.82.237] (HELO wx-out-0506.google.com) (66.249.82.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 06:05:48 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1356990wxc
        for <java-user@lucene.apache.org>; Sat, 02 Sep 2006 06:05:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=aYgiAAcw7e7Yr6FfAAG+exIoiFZIQlfTe58RqJbGJQRHHfG4GWBOToVptJH6a0dv8jRQWR5NFGpVisdlj17tkbLqyBKQxfRE+FSBC1NPscNgqKEToxt3xLcBQmETlqShFZE1PJAdYuys8+GZE3sJqcJE0WVP2iiDDP4vu+XEiPk=
Received: by 10.70.42.15 with SMTP id p15mr4253634wxp;
        Sat, 02 Sep 2006 06:05:27 -0700 (PDT)
Received: by 10.70.109.14 with HTTP; Sat, 2 Sep 2006 06:05:27 -0700 (PDT)
Message-ID: <d8050f240609020605p1ad4699cg2c77db6a0691f2a1@mail.gmail.com>
Date: Sat, 2 Sep 2006 23:05:27 +1000
From: "Jason Polites" <jason.polites@gmail.com>
To: java-user@lucene.apache.org
Subject: Stop words in index
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_74623_10814250.1157202327703"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_74623_10814250.1157202327703
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hey all,

I am using the StandardAnalyzer with my own list of stop words (which is
more comprehensive than the default list), and my expectation was that this
would omit these stop words from the index when data is indexed using this
analyzer.  However, I am seeing stop words in the term vector for documents
indexed with this analyzer.

Is this expected behaviour?  Is there any way I can force these stop words
to be omitted from the index?  Having them in the index is wreaking havoc
with term vector analysis to determine document similarity.

Thanks.

------=_Part_74623_10814250.1157202327703--

From java-user-return-23127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 13:44:19 2006
Return-Path: <java-user-return-23127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32078 invoked from network); 2 Sep 2006 13:44:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 13:44:14 -0000
Received: (qmail 12002 invoked by uid 500); 2 Sep 2006 13:44:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11972 invoked by uid 500); 2 Sep 2006 13:44:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11952 invoked by uid 99); 2 Sep 2006 13:44:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 06:44:08 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 06:44:05 -0700
Received: by py-out-1112.google.com with SMTP id w49so1437559pyg
        for <java-user@lucene.apache.org>; Sat, 02 Sep 2006 06:43:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZiNcSBsTjoBiH1b26DnVrvN2c4lCAcw6Qm2WdPO1kamRcvN53R6PDrrnS18vBlHU0OLKFLQGvWXFEW3yyNwiwYe2FLQUF6MCSxll4PNGv0VOpe9jjS12q+vfR834bWtXJPlvjzKKlwLqR6FE5u+nN3RYjEdeUF+v3vaS3/jrFwc=
Received: by 10.35.29.6 with SMTP id g6mr5413703pyj;
        Sat, 02 Sep 2006 06:43:44 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Sat, 2 Sep 2006 06:43:44 -0700 (PDT)
Message-ID: <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
Date: Sat, 2 Sep 2006 09:43:44 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6109067.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13863_29158037.1157204624114"
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
	 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
	 <6106920.post@talk.nabble.com>
	 <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
	 <6107649.post@talk.nabble.com>
	 <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
	 <6109067.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13863_29158037.1157204624114
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, you're flying blind. Is the behavior rooted in the indexing or
querying? Since you can't answer that, you're reduced to trying random
things hoping that one of them works. A little like voodoo. I've wasted
faaaaarrrrrr too much time trying to solve what I was *sure* was the problem
only to find it was somewhere else (the last place I look, of course) <G>...

Using Luke on a RAMDir. No, I don't know how to, but it should be a simple
thing to write the index to an FSDir at the same time you create your RAMDir
and use Luke then. This is debugging, after all.

I'd be really, really, really reluctant to modify the query parser and/or
the tokenizer, since whenever I've been tempted it's usually because I don't
understand the tools already provided. Then I have to maintain my custom
code. Which sucks. Although it sure feels more productive to hack a bunch of
code and get something that works 90% of the time, then spend weeks making
the other 10% work than taking two days to find the 3 lines you *really*
need <G>.

Have you thought of a PatternAnalyzer? It takes a regular expression as the
tokenizer and  (from the Javadoc)
<<< Efficient Lucene analyzer/tokenizer that preferably operates on a String
rather than a Reader<http://java.sun.com/j2se/1.4/docs/api/java/io/Reader.html>,
that can flexibly separate text into terms via a regular expression
Pattern<http://java.sun.com/j2se/1.4/docs/api/java/util/regex/Pattern.html>(with
behaviour identical to
String.split(String)<http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html#split%28java.lang.String%29>),
and that combines the functionality of
LetterTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LetterTokenizer.html>,
LowerCaseTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LowerCaseTokenizer.html>,
WhitespaceTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/WhitespaceTokenizer.html>,
StopFilter<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/StopFilter.html>into
a single efficient multi-purpose class.>>>

One word of caution, the regular expression consists of expressions that
*break* tokens, not expressions that *form* words, which threw me at first.
Just like the doc says, like splitstring <G>.... This is in 2.0, although I
*believe* it's also in the contrib section of 1.9 (or is in the regular API,
I forget).

Best
Erick

On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>
>
> No, I've never used Luke.  Is there an easy way to examine my RAMDirectory
> index?  I can create the index with no quoted keywords, and when I search
> for a keyword, I get back the expected results (just can't search for a
> phrase that has whitespace in it).  If I create the index with phrases in
> quotes, then when I search for anything in double quotes, I get back
> nothing.  If I create the index with everything in quotes, then when I
> search for anything by the keyword field, I get nothing, regardless of
> whether I use quotes in the query string or not.  (I can get results back
> by
> searching on other fields.)  What do you think?
>
> Philip
>
>
> Erick Erickson wrote:
> >
> > OK, I've gotta ask. Have you examined your index with Luke to see if
> what
> > you *think* is in the index actually *is*???
> >
> > Erick
> >
> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
> >>
> >>
> >> Interesting...just ran a test where I put double quotes around
> everything
> >> (including single keywords) of source text and then ran searches for a
> >> known
> >> keyword with and without double quotes -- doesn't find either time.
> >>
> >>
> >> Mark Miller-5 wrote:
> >> >
> >> > Sorry to hear you're having trouble. You indeed need the double
> quotes
> >> in
> >> > the source text. You will also need them in the query string. Make
> sure
> >> > they
> >> > are in both places. My machine is hosed right now or I would do it
> for
> >> you
> >> > real quick. My guess is that I forgot to mention...no only do you
> need
> >> to
> >> > add the <QUOTED> definiton to the TOKEN section, but below that you
> >> will
> >> > find the grammer...you need to add <QUOTED> to the grammer. If you
> look
> >> > how
> >> > <NUM> and <APOSTROPHE> are done you will prob see what you should do.
> >> If
> >> > not, my machine should be back up tomarrow...
> >> >
> >> > - Mark
> >> >
> >> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
> >> >>
> >> >>
> >> >> Well, I tried that, and it doesn't seem to work still.  I would be
> >> happy
> >> >> to
> >> >> zip up the new files, so you can see what I'm using -- maybe you can
> >> get
> >> >> it
> >> >> to work.  The first time, I tried building the documents without
> >> quotes
> >> >> surrounding each phrase.  Then, I retried by enclosing every phrase
> >> >> within
> >> >> double quotes.  Neither seemed to work.  When constructing the query
> >> >> string
> >> >> for the search, I always added the double quotes (otherwise, it'd
> >> think
> >> >> it
> >> >> was multiple terms).  (I didn't even test the underscore and
> >> hyphenated
> >> >> terms.)  I thought Lucene was (sort of by default) set up to search
> >> >> quoted
> >> >> phrases.  From http://lucene.apache.org/java/docs/api/index.html -->
> A
> >> >> Phrase is a group of words surrounded by double quotes such as
> "hello
> >> >> dolly".  So, this should be easy, right?  I must be missing
> something
> >> >> stupid.
> >> >>
> >> >> Thanks,
> >> >>
> >> >> Philip
> >> >>
> >> >>
> >> >> Mark Miller-5 wrote:
> >> >> >
> >> >> > So this will recognize anything in quotes as a single token and
> '_'
> >> and
> >> >> > '-' will not break up words. There may be some repercussions for
> the
> >> >> NUM
> >> >> > token but nothing I'd worry about. maybe you want to use Unicode
> for
> >> >> '-'
> >> >> > and '_' as well...I wouldn't worry about it myself.
> >> >> >
> >> >> > - Mark
> >> >> >
> >> >> >
> >> >> > TOKEN : {                      // token patterns
> >> >> >
> >> >> >   // basic word: a sequence of digits & letters
> >> >> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
> >> >> >
> >> >> > | <QUOTED:     "\"" (~["\""])+ "\"">
> >> >> >
> >> >> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
> >> >> >   // use a post-filter to remove possesives
> >> >> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
> >> >> >
> >> >> >   // acronyms: U.S.A., I.B.M., etc.
> >> >> >   // use a post-filter to remove dots
> >> >> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
> >> >> >
> >> >> >   // company names like AT&T and Excite@Home.
> >> >> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
> >> >> >
> >> >> >   // email addresses
> >> >> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
> >> >> > (("."|"-") <ALPHANUM>)+ >
> >> >> >
> >> >> >   // hostname
> >> >> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
> >> >> >
> >> >> >   // floating point, serial, model numbers, ip addresses, etc.
> >> >> >   // every other segment must have at least one digit
> >> >> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM>
> >> >> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
> >> >> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
> >> >> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
> >> <HAS_DIGIT>)+
> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
> >> <ALPHANUM>)+
> >> >> >         )
> >> >> >   >
> >> >> > | <#P: ("_"|"-"|"/"|"."|",") >
> >> >> > | <#HAS_DIGIT:                      // at least one digit
> >> >> >     (<LETTER>|<DIGIT>)*
> >> >> >     <DIGIT>
> >> >> >     (<LETTER>|<DIGIT>)*
> >> >> >   >
> >> >> >
> >> >> > | < #ALPHA: (<LETTER>)+>
> >> >> > | < #LETTER:                      // unicode letters
> >> >> >       [
> >> >> >        "\u0041"-"\u005a",
> >> >> >        "\u0061"-"\u007a",
> >> >> >        "\u00c0"-"\u00d6",
> >> >> >        "\u00d8"-"\u00f6",
> >> >> >        "\u00f8"-"\u00ff",
> >> >> >        "\u0100"-"\u1fff",
> >> >> >        "-", "_"
> >> >> >       ]
> >> >> >   >
> >> >> >
> >> >> >
> >> ---------------------------------------------------------------------
> >> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >> >
> >> >> >
> >> >> >
> >> >>
> >> >> --
> >> >> View this message in context:
> >> >>
> >>
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
> >> >> Sent from the Lucene - Java Users forum at Nabble.com.
> >> >>
> >> >>
> >> >>
> ---------------------------------------------------------------------
> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >>
> >> >>
> >> >
> >> >
> >>
> >> --
> >> View this message in context:
> >>
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
> >> Sent from the Lucene - Java Users forum at Nabble.com.
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6109067
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_13863_29158037.1157204624114--

From java-user-return-23128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 13:55:30 2006
Return-Path: <java-user-return-23128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32929 invoked from network); 2 Sep 2006 13:55:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 13:55:23 -0000
Received: (qmail 20244 invoked by uid 500); 2 Sep 2006 13:55:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20161 invoked by uid 500); 2 Sep 2006 13:55:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20150 invoked by uid 99); 2 Sep 2006 13:55:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 06:55:17 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO nz-out-0102.google.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 06:55:16 -0700
Received: by nz-out-0102.google.com with SMTP id z6so711269nzd
        for <java-user@lucene.apache.org>; Sat, 02 Sep 2006 06:54:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ppI9i0fXsVDk8jUb/2seuBhCpL6+uzLk1nk9QvbCGvBavKDRdMcelzCQXUptxobu5UevWiY/63fvUL2g8Gs8/Wrx9MZrauSgfHsGpPe4E3xYfhfxTa2eMGjDQFfqY0dqHwNWP20345o1MkGJDuTeXCyUFOKlBNBITHGBEMilI78=
Received: by 10.65.112.5 with SMTP id p5mr3807378qbm;
        Sat, 02 Sep 2006 06:54:55 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id 1sm2443771qbh.2006.09.02.06.54.51;
        Sat, 02 Sep 2006 06:54:53 -0700 (PDT)
Message-ID: <44F98D2C.7030007@gmail.com>
Date: Sat, 02 Sep 2006 09:54:52 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>	 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>	 <6106920.post@talk.nabble.com>	 <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>	 <6107649.post@talk.nabble.com>	 <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>	 <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
In-Reply-To: <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think if he wants to use the queryparser to parse his search strings 
that he has no choice but to modify it. It will eat any pair of quotes 
going through it no matter what analyzer is used.

- Mark
> Well, you're flying blind. Is the behavior rooted in the indexing or
> querying? Since you can't answer that, you're reduced to trying random
> things hoping that one of them works. A little like voodoo. I've wasted
> faaaaarrrrrr too much time trying to solve what I was *sure* was the 
> problem
> only to find it was somewhere else (the last place I look, of course) 
> <G>...
>
> Using Luke on a RAMDir. No, I don't know how to, but it should be a 
> simple
> thing to write the index to an FSDir at the same time you create your 
> RAMDir
> and use Luke then. This is debugging, after all.
>
> I'd be really, really, really reluctant to modify the query parser and/or
> the tokenizer, since whenever I've been tempted it's usually because I 
> don't
> understand the tools already provided. Then I have to maintain my custom
> code. Which sucks. Although it sure feels more productive to hack a 
> bunch of
> code and get something that works 90% of the time, then spend weeks 
> making
> the other 10% work than taking two days to find the 3 lines you *really*
> need <G>.
>
> Have you thought of a PatternAnalyzer? It takes a regular expression 
> as the
> tokenizer and  (from the Javadoc)
> <<< Efficient Lucene analyzer/tokenizer that preferably operates on a 
> String
> rather than a 
> Reader<http://java.sun.com/j2se/1.4/docs/api/java/io/Reader.html>,
> that can flexibly separate text into terms via a regular expression
> Pattern<http://java.sun.com/j2se/1.4/docs/api/java/util/regex/Pattern.html>(with 
>
> behaviour identical to
> String.split(String)<http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html#split%28java.lang.String%29>), 
>
> and that combines the functionality of
> LetterTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LetterTokenizer.html>, 
>
> LowerCaseTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LowerCaseTokenizer.html>, 
>
> WhitespaceTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/WhitespaceTokenizer.html>, 
>
> StopFilter<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/StopFilter.html>into 
>
> a single efficient multi-purpose class.>>>
>
> One word of caution, the regular expression consists of expressions that
> *break* tokens, not expressions that *form* words, which threw me at 
> first.
> Just like the doc says, like splitstring <G>.... This is in 2.0, 
> although I
> *believe* it's also in the contrib section of 1.9 (or is in the 
> regular API,
> I forget).
>
> Best
> Erick
>
> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>
>>
>> No, I've never used Luke.  Is there an easy way to examine my 
>> RAMDirectory
>> index?  I can create the index with no quoted keywords, and when I 
>> search
>> for a keyword, I get back the expected results (just can't search for a
>> phrase that has whitespace in it).  If I create the index with 
>> phrases in
>> quotes, then when I search for anything in double quotes, I get back
>> nothing.  If I create the index with everything in quotes, then when I
>> search for anything by the keyword field, I get nothing, regardless of
>> whether I use quotes in the query string or not.  (I can get results 
>> back
>> by
>> searching on other fields.)  What do you think?
>>
>> Philip
>>
>>
>> Erick Erickson wrote:
>> >
>> > OK, I've gotta ask. Have you examined your index with Luke to see if
>> what
>> > you *think* is in the index actually *is*???
>> >
>> > Erick
>> >
>> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>> >>
>> >>
>> >> Interesting...just ran a test where I put double quotes around
>> everything
>> >> (including single keywords) of source text and then ran searches 
>> for a
>> >> known
>> >> keyword with and without double quotes -- doesn't find either time.
>> >>
>> >>
>> >> Mark Miller-5 wrote:
>> >> >
>> >> > Sorry to hear you're having trouble. You indeed need the double
>> quotes
>> >> in
>> >> > the source text. You will also need them in the query string. Make
>> sure
>> >> > they
>> >> > are in both places. My machine is hosed right now or I would do it
>> for
>> >> you
>> >> > real quick. My guess is that I forgot to mention...no only do you
>> need
>> >> to
>> >> > add the <QUOTED> definiton to the TOKEN section, but below that you
>> >> will
>> >> > find the grammer...you need to add <QUOTED> to the grammer. If you
>> look
>> >> > how
>> >> > <NUM> and <APOSTROPHE> are done you will prob see what you 
>> should do.
>> >> If
>> >> > not, my machine should be back up tomarrow...
>> >> >
>> >> > - Mark
>> >> >
>> >> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>> >> >>
>> >> >>
>> >> >> Well, I tried that, and it doesn't seem to work still.  I would be
>> >> happy
>> >> >> to
>> >> >> zip up the new files, so you can see what I'm using -- maybe 
>> you can
>> >> get
>> >> >> it
>> >> >> to work.  The first time, I tried building the documents without
>> >> quotes
>> >> >> surrounding each phrase.  Then, I retried by enclosing every 
>> phrase
>> >> >> within
>> >> >> double quotes.  Neither seemed to work.  When constructing the 
>> query
>> >> >> string
>> >> >> for the search, I always added the double quotes (otherwise, it'd
>> >> think
>> >> >> it
>> >> >> was multiple terms).  (I didn't even test the underscore and
>> >> hyphenated
>> >> >> terms.)  I thought Lucene was (sort of by default) set up to 
>> search
>> >> >> quoted
>> >> >> phrases.  From 
>> http://lucene.apache.org/java/docs/api/index.html -->
>> A
>> >> >> Phrase is a group of words surrounded by double quotes such as
>> "hello
>> >> >> dolly".  So, this should be easy, right?  I must be missing
>> something
>> >> >> stupid.
>> >> >>
>> >> >> Thanks,
>> >> >>
>> >> >> Philip
>> >> >>
>> >> >>
>> >> >> Mark Miller-5 wrote:
>> >> >> >
>> >> >> > So this will recognize anything in quotes as a single token and
>> '_'
>> >> and
>> >> >> > '-' will not break up words. There may be some repercussions for
>> the
>> >> >> NUM
>> >> >> > token but nothing I'd worry about. maybe you want to use Unicode
>> for
>> >> >> '-'
>> >> >> > and '_' as well...I wouldn't worry about it myself.
>> >> >> >
>> >> >> > - Mark
>> >> >> >
>> >> >> >
>> >> >> > TOKEN : {                      // token patterns
>> >> >> >
>> >> >> >   // basic word: a sequence of digits & letters
>> >> >> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>> >> >> >
>> >> >> > | <QUOTED:     "\"" (~["\""])+ "\"">
>> >> >> >
>> >> >> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
>> >> >> >   // use a post-filter to remove possesives
>> >> >> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>> >> >> >
>> >> >> >   // acronyms: U.S.A., I.B.M., etc.
>> >> >> >   // use a post-filter to remove dots
>> >> >> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>> >> >> >
>> >> >> >   // company names like AT&T and Excite@Home.
>> >> >> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>> >> >> >
>> >> >> >   // email addresses
>> >> >> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
>> >> >> > (("."|"-") <ALPHANUM>)+ >
>> >> >> >
>> >> >> >   // hostname
>> >> >> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>> >> >> >
>> >> >> >   // floating point, serial, model numbers, ip addresses, etc.
>> >> >> >   // every other segment must have at least one digit
>> >> >> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM>
>> >> >> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>> >> >> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>> >> >> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
>> >> <HAS_DIGIT>)+
>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
>> >> <ALPHANUM>)+
>> >> >> >         )
>> >> >> >   >
>> >> >> > | <#P: ("_"|"-"|"/"|"."|",") >
>> >> >> > | <#HAS_DIGIT:                      // at least one digit
>> >> >> >     (<LETTER>|<DIGIT>)*
>> >> >> >     <DIGIT>
>> >> >> >     (<LETTER>|<DIGIT>)*
>> >> >> >   >
>> >> >> >
>> >> >> > | < #ALPHA: (<LETTER>)+>
>> >> >> > | < #LETTER:                      // unicode letters
>> >> >> >       [
>> >> >> >        "\u0041"-"\u005a",
>> >> >> >        "\u0061"-"\u007a",
>> >> >> >        "\u00c0"-"\u00d6",
>> >> >> >        "\u00d8"-"\u00f6",
>> >> >> >        "\u00f8"-"\u00ff",
>> >> >> >        "\u0100"-"\u1fff",
>> >> >> >        "-", "_"
>> >> >> >       ]
>> >> >> >   >
>> >> >> >
>> >> >> >
>> >> ---------------------------------------------------------------------
>> >> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> >> > For additional commands, e-mail: 
>> java-user-help@lucene.apache.org
>> >> >> >
>> >> >> >
>> >> >> >
>> >> >>
>> >> >> --
>> >> >> View this message in context:
>> >> >>
>> >>
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920 
>>
>> >> >> Sent from the Lucene - Java Users forum at Nabble.com.
>> >> >>
>> >> >>
>> >> >>
>> ---------------------------------------------------------------------
>> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >> >>
>> >> >>
>> >> >
>> >> >
>> >>
>> >> --
>> >> View this message in context:
>> >>
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649 
>>
>> >> Sent from the Lucene - Java Users forum at Nabble.com.
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>> >
>>
>> -- 
>> View this message in context:
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6109067 
>>
>> Sent from the Lucene - Java Users forum at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 16:26:36 2006
Return-Path: <java-user-return-23129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54666 invoked from network); 2 Sep 2006 16:26:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 16:26:34 -0000
Received: (qmail 20767 invoked by uid 500); 2 Sep 2006 16:26:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20743 invoked by uid 500); 2 Sep 2006 16:26:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20732 invoked by uid 99); 2 Sep 2006 16:26:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 09:26:27 -0700
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.58] (HELO web50304.mail.yahoo.com) (206.190.38.58)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 02 Sep 2006 09:26:26 -0700
Received: (qmail 48992 invoked by uid 60001); 2 Sep 2006 16:26:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=mW2Mc8ZnGc0Q99ieAn4a2s5qY15lex7MsNrp72/gPDhEpZqvofyvgZ1U9J8FTadjwV7hl8fpy0FpSeJbfISShI0GulQXfwaT6RwTy6Tf64juod0b5GhUcE5AjbZwHW7mVMtu069wp1R3FKZW1uc4xU/o2nhSBM/JtA7uhTeqsl0=  ;
Message-ID: <20060902162605.48990.qmail@web50304.mail.yahoo.com>
Received: from [74.65.202.166] by web50304.mail.yahoo.com via HTTP; Sat, 02 Sep 2006 09:26:05 PDT
Date: Sat, 2 Sep 2006 09:26:05 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Stop words in index
To: java-user@lucene.apache.org
In-Reply-To: <d8050f240609020605p1ad4699cg2c77db6a0691f2a1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

They shouldn't be in the index.  You must be using StandardAnalyzer incorrectly, or maybe you think you are using it, but are really using something else.

Otis

----- Original Message ----
From: Jason Polites <jason.polites@gmail.com>
To: java-user@lucene.apache.org
Sent: Saturday, September 2, 2006 9:05:27 AM
Subject: Stop words in index

Hey all,

I am using the StandardAnalyzer with my own list of stop words (which is
more comprehensive than the default list), and my expectation was that this
would omit these stop words from the index when data is indexed using this
analyzer.  However, I am seeing stop words in the term vector for documents
indexed with this analyzer.

Is this expected behaviour?  Is there any way I can force these stop words
to be omitted from the index?  Having them in the index is wreaking havoc
with term vector analysis to determine document similarity.

Thanks.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 16:56:51 2006
Return-Path: <java-user-return-23130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58314 invoked from network); 2 Sep 2006 16:56:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 16:56:50 -0000
Received: (qmail 43593 invoked by uid 500); 2 Sep 2006 16:56:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43559 invoked by uid 500); 2 Sep 2006 16:56:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43548 invoked by uid 99); 2 Sep 2006 16:56:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 09:56:45 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jason.polites@gmail.com designates 66.249.82.233 as permitted sender)
Received: from [66.249.82.233] (HELO wx-out-0506.google.com) (66.249.82.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 09:56:42 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1405662wxc
        for <java-user@lucene.apache.org>; Sat, 02 Sep 2006 09:56:21 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=obtfxG9YK6zJriDAV02W7JGxiY6ThFLZCU72FrBOzXkt898noPP6Zie74/8Ds+EEOwnDU99zt0Rg6KCSqWJ2FnpgcAnnmmXWW49WXD1kL5+P7k8QRdzmeQE8LKb94GbMYc9aM6aIPf4cEUojfHch2ztHct2gBgYaBj6CijhoUOM=
Received: by 10.70.21.10 with SMTP id 10mr4595442wxu;
        Sat, 02 Sep 2006 09:56:21 -0700 (PDT)
Received: by 10.70.109.14 with HTTP; Sat, 2 Sep 2006 09:56:21 -0700 (PDT)
Message-ID: <d8050f240609020956i21ec3236ue8bb04c839a99998@mail.gmail.com>
Date: Sun, 3 Sep 2006 02:56:21 +1000
From: "Jason Polites" <jason.polites@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: Stop words in index
In-Reply-To: <20060902162605.48990.qmail@web50304.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_76485_8738489.1157216181270"
References: <d8050f240609020605p1ad4699cg2c77db6a0691f2a1@mail.gmail.com>
	 <20060902162605.48990.qmail@web50304.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_76485_8738489.1157216181270
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Roger that.  I'll double check my code.

Thanks.

On 9/3/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> They shouldn't be in the index.  You must be using StandardAnalyzer
> incorrectly, or maybe you think you are using it, but are really using
> something else.
>
> Otis
>
> ----- Original Message ----
> From: Jason Polites <jason.polites@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Saturday, September 2, 2006 9:05:27 AM
> Subject: Stop words in index
>
> Hey all,
>
> I am using the StandardAnalyzer with my own list of stop words (which is
> more comprehensive than the default list), and my expectation was that
> this
> would omit these stop words from the index when data is indexed using this
> analyzer.  However, I am seeing stop words in the term vector for
> documents
> indexed with this analyzer.
>
> Is this expected behaviour?  Is there any way I can force these stop words
> to be omitted from the index?  Having them in the index is wreaking havoc
> with term vector analysis to determine document similarity.
>
> Thanks.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_76485_8738489.1157216181270--

From java-user-return-23131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 18:31:49 2006
Return-Path: <java-user-return-23131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68596 invoked from network); 2 Sep 2006 18:31:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 18:31:47 -0000
Received: (qmail 2569 invoked by uid 500); 2 Sep 2006 18:31:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2046 invoked by uid 500); 2 Sep 2006 18:31:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2035 invoked by uid 99); 2 Sep 2006 18:31:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 11:31:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 11:31:39 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJaH0-0006jI-Sx
	for java-user@lucene.apache.org; Sat, 02 Sep 2006 11:31:18 -0700
Message-ID: <6115360.post@talk.nabble.com>
Date: Sat, 2 Sep 2006 11:31:18 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <44F98D2C.7030007@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I tend to agree with Mark.  I tried a query as so...

   TermQuery query = new TermQuery(new Term("keywordField", "phrase test"));
   IndexSearcher searcher= new IndexSearcher(activeIdx);		
   Hits hits = searcher.search(query);		

And this produced the expected results.  When building the index, I did NOT
enclose the keywords in quotes -- just added as UN_TOKENIZED.

Philip


Mark Miller-5 wrote:
> 
> I think if he wants to use the queryparser to parse his search strings 
> that he has no choice but to modify it. It will eat any pair of quotes 
> going through it no matter what analyzer is used.
> 
> - Mark
>> Well, you're flying blind. Is the behavior rooted in the indexing or
>> querying? Since you can't answer that, you're reduced to trying random
>> things hoping that one of them works. A little like voodoo. I've wasted
>> faaaaarrrrrr too much time trying to solve what I was *sure* was the 
>> problem
>> only to find it was somewhere else (the last place I look, of course) 
>> <G>...
>>
>> Using Luke on a RAMDir. No, I don't know how to, but it should be a 
>> simple
>> thing to write the index to an FSDir at the same time you create your 
>> RAMDir
>> and use Luke then. This is debugging, after all.
>>
>> I'd be really, really, really reluctant to modify the query parser and/or
>> the tokenizer, since whenever I've been tempted it's usually because I 
>> don't
>> understand the tools already provided. Then I have to maintain my custom
>> code. Which sucks. Although it sure feels more productive to hack a 
>> bunch of
>> code and get something that works 90% of the time, then spend weeks 
>> making
>> the other 10% work than taking two days to find the 3 lines you *really*
>> need <G>.
>>
>> Have you thought of a PatternAnalyzer? It takes a regular expression 
>> as the
>> tokenizer and  (from the Javadoc)
>> <<< Efficient Lucene analyzer/tokenizer that preferably operates on a 
>> String
>> rather than a 
>> Reader<http://java.sun.com/j2se/1.4/docs/api/java/io/Reader.html>,
>> that can flexibly separate text into terms via a regular expression
>> Pattern<http://java.sun.com/j2se/1.4/docs/api/java/util/regex/Pattern.html>(with 
>>
>> behaviour identical to
>> String.split(String)<http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html#split%28java.lang.String%29>), 
>>
>> and that combines the functionality of
>> LetterTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LetterTokenizer.html>, 
>>
>> LowerCaseTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LowerCaseTokenizer.html>, 
>>
>> WhitespaceTokenizer<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/WhitespaceTokenizer.html>, 
>>
>> StopFilter<file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/StopFilter.html>into 
>>
>> a single efficient multi-purpose class.>>>
>>
>> One word of caution, the regular expression consists of expressions that
>> *break* tokens, not expressions that *form* words, which threw me at 
>> first.
>> Just like the doc says, like splitstring <G>.... This is in 2.0, 
>> although I
>> *believe* it's also in the contrib section of 1.9 (or is in the 
>> regular API,
>> I forget).
>>
>> Best
>> Erick
>>
>> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>>
>>>
>>> No, I've never used Luke.  Is there an easy way to examine my 
>>> RAMDirectory
>>> index?  I can create the index with no quoted keywords, and when I 
>>> search
>>> for a keyword, I get back the expected results (just can't search for a
>>> phrase that has whitespace in it).  If I create the index with 
>>> phrases in
>>> quotes, then when I search for anything in double quotes, I get back
>>> nothing.  If I create the index with everything in quotes, then when I
>>> search for anything by the keyword field, I get nothing, regardless of
>>> whether I use quotes in the query string or not.  (I can get results 
>>> back
>>> by
>>> searching on other fields.)  What do you think?
>>>
>>> Philip
>>>
>>>
>>> Erick Erickson wrote:
>>> >
>>> > OK, I've gotta ask. Have you examined your index with Luke to see if
>>> what
>>> > you *think* is in the index actually *is*???
>>> >
>>> > Erick
>>> >
>>> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>> >>
>>> >>
>>> >> Interesting...just ran a test where I put double quotes around
>>> everything
>>> >> (including single keywords) of source text and then ran searches 
>>> for a
>>> >> known
>>> >> keyword with and without double quotes -- doesn't find either time.
>>> >>
>>> >>
>>> >> Mark Miller-5 wrote:
>>> >> >
>>> >> > Sorry to hear you're having trouble. You indeed need the double
>>> quotes
>>> >> in
>>> >> > the source text. You will also need them in the query string. Make
>>> sure
>>> >> > they
>>> >> > are in both places. My machine is hosed right now or I would do it
>>> for
>>> >> you
>>> >> > real quick. My guess is that I forgot to mention...no only do you
>>> need
>>> >> to
>>> >> > add the <QUOTED> definiton to the TOKEN section, but below that you
>>> >> will
>>> >> > find the grammer...you need to add <QUOTED> to the grammer. If you
>>> look
>>> >> > how
>>> >> > <NUM> and <APOSTROPHE> are done you will prob see what you 
>>> should do.
>>> >> If
>>> >> > not, my machine should be back up tomarrow...
>>> >> >
>>> >> > - Mark
>>> >> >
>>> >> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>>> >> >>
>>> >> >>
>>> >> >> Well, I tried that, and it doesn't seem to work still.  I would be
>>> >> happy
>>> >> >> to
>>> >> >> zip up the new files, so you can see what I'm using -- maybe 
>>> you can
>>> >> get
>>> >> >> it
>>> >> >> to work.  The first time, I tried building the documents without
>>> >> quotes
>>> >> >> surrounding each phrase.  Then, I retried by enclosing every 
>>> phrase
>>> >> >> within
>>> >> >> double quotes.  Neither seemed to work.  When constructing the 
>>> query
>>> >> >> string
>>> >> >> for the search, I always added the double quotes (otherwise, it'd
>>> >> think
>>> >> >> it
>>> >> >> was multiple terms).  (I didn't even test the underscore and
>>> >> hyphenated
>>> >> >> terms.)  I thought Lucene was (sort of by default) set up to 
>>> search
>>> >> >> quoted
>>> >> >> phrases.  From 
>>> http://lucene.apache.org/java/docs/api/index.html -->
>>> A
>>> >> >> Phrase is a group of words surrounded by double quotes such as
>>> "hello
>>> >> >> dolly".  So, this should be easy, right?  I must be missing
>>> something
>>> >> >> stupid.
>>> >> >>
>>> >> >> Thanks,
>>> >> >>
>>> >> >> Philip
>>> >> >>
>>> >> >>
>>> >> >> Mark Miller-5 wrote:
>>> >> >> >
>>> >> >> > So this will recognize anything in quotes as a single token and
>>> '_'
>>> >> and
>>> >> >> > '-' will not break up words. There may be some repercussions for
>>> the
>>> >> >> NUM
>>> >> >> > token but nothing I'd worry about. maybe you want to use Unicode
>>> for
>>> >> >> '-'
>>> >> >> > and '_' as well...I wouldn't worry about it myself.
>>> >> >> >
>>> >> >> > - Mark
>>> >> >> >
>>> >> >> >
>>> >> >> > TOKEN : {                      // token patterns
>>> >> >> >
>>> >> >> >   // basic word: a sequence of digits & letters
>>> >> >> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>>> >> >> >
>>> >> >> > | <QUOTED:     "\"" (~["\""])+ "\"">
>>> >> >> >
>>> >> >> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
>>> >> >> >   // use a post-filter to remove possesives
>>> >> >> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>>> >> >> >
>>> >> >> >   // acronyms: U.S.A., I.B.M., etc.
>>> >> >> >   // use a post-filter to remove dots
>>> >> >> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>>> >> >> >
>>> >> >> >   // company names like AT&T and Excite@Home.
>>> >> >> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>>> >> >> >
>>> >> >> >   // email addresses
>>> >> >> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@" <ALPHANUM>
>>> >> >> > (("."|"-") <ALPHANUM>)+ >
>>> >> >> >
>>> >> >> >   // hostname
>>> >> >> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>>> >> >> >
>>> >> >> >   // floating point, serial, model numbers, ip addresses, etc.
>>> >> >> >   // every other segment must have at least one digit
>>> >> >> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM>
>>> >> >> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>>> >> >> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>>> >> >> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
>>> >> <HAS_DIGIT>)+
>>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
>>> >> <ALPHANUM>)+
>>> >> >> >         )
>>> >> >> >   >
>>> >> >> > | <#P: ("_"|"-"|"/"|"."|",") >
>>> >> >> > | <#HAS_DIGIT:                      // at least one digit
>>> >> >> >     (<LETTER>|<DIGIT>)*
>>> >> >> >     <DIGIT>
>>> >> >> >     (<LETTER>|<DIGIT>)*
>>> >> >> >   >
>>> >> >> >
>>> >> >> > | < #ALPHA: (<LETTER>)+>
>>> >> >> > | < #LETTER:                      // unicode letters
>>> >> >> >       [
>>> >> >> >        "\u0041"-"\u005a",
>>> >> >> >        "\u0061"-"\u007a",
>>> >> >> >        "\u00c0"-"\u00d6",
>>> >> >> >        "\u00d8"-"\u00f6",
>>> >> >> >        "\u00f8"-"\u00ff",
>>> >> >> >        "\u0100"-"\u1fff",
>>> >> >> >        "-", "_"
>>> >> >> >       ]
>>> >> >> >   >
>>> >> >> >
>>> >> >> >
>>> >> ---------------------------------------------------------------------
>>> >> >> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> >> >> > For additional commands, e-mail: 
>>> java-user-help@lucene.apache.org
>>> >> >> >
>>> >> >> >
>>> >> >> >
>>> >> >>
>>> >> >> --
>>> >> >> View this message in context:
>>> >> >>
>>> >>
>>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920 
>>>
>>> >> >> Sent from the Lucene - Java Users forum at Nabble.com.
>>> >> >>
>>> >> >>
>>> >> >>
>>> ---------------------------------------------------------------------
>>> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>>> >> >>
>>> >> >>
>>> >> >
>>> >> >
>>> >>
>>> >> --
>>> >> View this message in context:
>>> >>
>>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649 
>>>
>>> >> Sent from the Lucene - Java Users forum at Nabble.com.
>>> >>
>>> >>
>>> >> ---------------------------------------------------------------------
>>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>>> >>
>>> >>
>>> >
>>> >
>>>
>>> -- 
>>> View this message in context:
>>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6109067 
>>>
>>> Sent from the Lucene - Java Users forum at Nabble.com.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6115360
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 02 18:49:02 2006
Return-Path: <java-user-return-23132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70703 invoked from network); 2 Sep 2006 18:48:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2006 18:48:50 -0000
Received: (qmail 10160 invoked by uid 500); 2 Sep 2006 18:48:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10127 invoked by uid 500); 2 Sep 2006 18:48:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10116 invoked by uid 99); 2 Sep 2006 18:48:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 11:48:44 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.11.159 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.11.159] (HELO pne-smtpout2-sn1.fre.skanova.net) (81.228.11.159)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 02 Sep 2006 11:48:43 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout2-sn1.fre.skanova.net (7.2.075)
        id 44F6EBEE00089A23 for java-user@lucene.apache.org; Sat, 2 Sep 2006 20:48:21 +0200
Subject: Re: FuzzyQurey in SpanQuery
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <44F75590.6090300@gmail.com>
References:
	 <AD97D5F23B201C448EAB13B4F6DA6A421BF451@EPLUXSEX01.ep.parl.union.eu>
	 <44F6C011.9010203@gmail.com> <1157024772.4787.0.camel@localhost>
	 <44F72A15.8030009@gmail.com> <1157058336.4787.11.camel@localhost>
	 <44F751F0.1000700@gmail.com> <1157059772.4787.17.camel@localhost>
	 <44F75590.6090300@gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sat, 02 Sep 2006 20:48:16 +0200
Message-Id: <1157222896.10655.3.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2006-08-31 at 17:33 -0400, Mark Miller wrote:
> Bad news for me. Any hope of a speedier fuzzy span?

I just came to think of something. Bob Carpenter posted some optimized
fuzzy code on det dev-list some time ago. According to my messurements
it was something like 15-25% faster. Don't know if it was committed.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 03 14:46:06 2006
Return-Path: <java-user-return-23133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65817 invoked from network); 3 Sep 2006 14:46:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2006 14:46:06 -0000
Received: (qmail 78724 invoked by uid 500); 3 Sep 2006 14:45:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78688 invoked by uid 500); 3 Sep 2006 14:45:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78677 invoked by uid 99); 3 Sep 2006 14:45:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 07:45:58 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 07:45:55 -0700
Received: by py-out-1112.google.com with SMTP id w49so1806344pyg
        for <java-user@lucene.apache.org>; Sun, 03 Sep 2006 07:45:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=longw6I6CAUheld1fZqSd7dbeSeo4/BDurZY3uwZy9uCPh8/AsChd6XeTraBDfW8cZMkuWF4zXSPCcqXxPfeQc8UnOPwiBadEDcD4HawyYzP3F1eCJXcSws39n1tOeU46PqYHnr/wmOmbI2ksAH25yd6ZCywPzW2PCrT+3DYybM=
Received: by 10.35.20.14 with SMTP id x14mr7818229pyi;
        Sun, 03 Sep 2006 07:45:34 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Sun, 3 Sep 2006 07:45:33 -0700 (PDT)
Message-ID: <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
Date: Sun, 3 Sep 2006 10:45:33 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6115360.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21281_21030695.1157294733908"
References: <6093138.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
	 <6106920.post@talk.nabble.com>
	 <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
	 <6107649.post@talk.nabble.com>
	 <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
	 <6109067.post@talk.nabble.com>
	 <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
	 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21281_21030695.1157294733908
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Disclaimer: Of course I'm not as familiar with your problem space as you
are, so I may be way out in left field, but...

I *still* think you're making waaaaaay too much work for yourself and need
to examine your assumptions.

0> But when you index something UN_TOKENIZED as in your example, I don't
think you'll  find the words "phrase" and "test" if you just search for them
individually.

1> "doesn't parse apart phrases". Why do you care? The "usual" way of
handling this is to just go ahead and parse them apart, then submit your
query with quotes embedded. Would that serve your needs? If not, I bet you
could make a cool regex that would do this for you and use a
PatternAnalyzer. If neither of those work, instead of hacking Lucene code,
make your own tokenizer by overriding one of the Lucene tokenizers. See
Lucene in Action for example, the section on synonyms as I remember.....
It'll be waaaaay less work in the long run than having to try to stay in
synch by hacking the Lucene code. Especially for the next poor soul who has
to maintain it........

2> doesn't parse/separate underscores and hyphens. Why not use a
PatternAnalyzer? You can make it do most anything you want with a clever
regex.

3> the other thing that might be producing unexpected results is that the
default is OR for QueryParser.......

Since no amount of documentation replaces a program, I've included one
illustrating what I'm talking about. It's less likely we're talk past each
other this way. All it may *really* demonstrate is that I don't understand
what you're trying to do at all, but at least we'll know <G>...

Notice in particular that it finds the hypenated words, but doesn't find
their individual parts. Also,  quoted phrasew are found, even though the
stop words aren't in the index (examined via luke). I used Eclipse to
compile/run it......

Best
Erick

package scratch;

import java.io.IOException;
import java.util.regex.Pattern;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.StopFilter;
import org.apache.lucene.index.memory.PatternAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;

public class Scratch {

    private Analyzer analyzer = null;

    private Analyzer getAnalyzer() {
        if (analyzer == null) {
            // Break on whitespace or anything that is NOT hyphen,
underscore
            // or letter.
            Pattern pat = Pattern.compile("(\\s|[^-_a-zA-Z])");
            analyzer = new PatternAnalyzer(pat, true,
                    StopFilter.makeStopSet(STOP_WORDS));
        }
        return analyzer;

    }

    private void makeTestIndex() throws Exception {
        IndexWriter writer = new IndexWriter("C:/mydir", getAnalyzer(),
true);
        String text = ("this is the test text hyphenated-Iamhyphenated
underscored_IaMunDerScoRed");
        Document doc = new Document();
        doc = new Document();
        doc.add(new Field("test", text, Field.Store.YES,
                        Field.Index.TOKENIZED));
        writer.addDocument(doc);

        writer.close();
    }

    private void doSearch(String query, int expectedHits) throws Exception {
        try {
            QueryParser qp = new QueryParser("test", getAnalyzer());
            qp.enable_tracing();
            IndexSearcher srch = new IndexSearcher("C:/mydir");
            Query tmp = qp.parse(query);
            // Uncomment to see parsed form of query
            // System.out.println("Parsed form is '" + tmp.toString() +
"'");
            Hits hits = srch.search(tmp);

            String msg = "";

            if (hits.length() == expectedHits) {
                msg = "Test passed ";
            } else {
                msg = "************TEST FAILED************ ";
            }
            System.out.println(msg + "Expected "
                    + Integer.toString(expectedHits) + " hits, got "
                    + Integer.toString(hits.length()) + " hits");

        } catch (IOException e) {
            System.out.println("Caught IOException");
            e.printStackTrace();
        }
    }

    private void doSearchPhrase(String phrase, int expectedHits) throws
Exception {
        doSearch("\"" + phrase + "\"", expectedHits);
    }
    public static void main(String[] args) {
        try {
            Scratch scratch = new Scratch();
            scratch.getAnalyzer();
            scratch.makeTestIndex();
            scratch.doSearch("underscored_iamunderscored", 1);
            scratch.doSearch("underscored iamunderscored", 0);
            scratch.doSearch("hyphenated-iamhyphenated", 1);
            scratch.doSearch("iamunderscored", 0);
            scratch.doSearch("underscored", 0);

            scratch.doSearchPhrase("this is the test text", 1);
            scratch.doSearchPhrase("text with hyphenated-iamhyphenated", 1);
            scratch.doSearchPhrase("text with underscored_iamunderscored",
0);


        } catch (Exception e) {
            System.err.println(e.getMessage());
        }
    }

    protected static final String[] STOP_WORDS = { "a", "an", "and", "are",
            "as", "at", "b", "be", "but", "by", "c", "d", "e", "f", "for",
            "if", "g", "h", "i", "in", "into", "is", "it", "j", "k", "l",
"m",
            "n", "no", "not", "o", "of", "on", "or", "p", "q", "r", "s",
            "such", "t", "that", "the", "their", "then", "there", "these",
            "they", "this", "to", "u", "v", "w", "was", "will", "with", "x",
            "y", "z" };

}



On 9/2/06, Philip Brown <pmb@us.ibm.com> wrote:
>
>
> I tend to agree with Mark.  I tried a query as so...
>
>    TermQuery query = new TermQuery(new Term("keywordField", "phrase
> test"));
>    IndexSearcher searcher= new IndexSearcher(activeIdx);
>    Hits hits = searcher.search(query);
>
> And this produced the expected results.  When building the index, I did
> NOT
> enclose the keywords in quotes -- just added as UN_TOKENIZED.
>
> Philip
>
>
> Mark Miller-5 wrote:
> >
> > I think if he wants to use the queryparser to parse his search strings
> > that he has no choice but to modify it. It will eat any pair of quotes
> > going through it no matter what analyzer is used.
> >
> > - Mark
> >> Well, you're flying blind. Is the behavior rooted in the indexing or
> >> querying? Since you can't answer that, you're reduced to trying random
> >> things hoping that one of them works. A little like voodoo. I've wasted
> >> faaaaarrrrrr too much time trying to solve what I was *sure* was the
> >> problem
> >> only to find it was somewhere else (the last place I look, of course)
> >> <G>...
> >>
> >> Using Luke on a RAMDir. No, I don't know how to, but it should be a
> >> simple
> >> thing to write the index to an FSDir at the same time you create your
> >> RAMDir
> >> and use Luke then. This is debugging, after all.
> >>
> >> I'd be really, really, really reluctant to modify the query parser
> and/or
> >> the tokenizer, since whenever I've been tempted it's usually because I
> >> don't
> >> understand the tools already provided. Then I have to maintain my
> custom
> >> code. Which sucks. Although it sure feels more productive to hack a
> >> bunch of
> >> code and get something that works 90% of the time, then spend weeks
> >> making
> >> the other 10% work than taking two days to find the 3 lines you
> *really*
> >> need <G>.
> >>
> >> Have you thought of a PatternAnalyzer? It takes a regular expression
> >> as the
> >> tokenizer and  (from the Javadoc)
> >> <<< Efficient Lucene analyzer/tokenizer that preferably operates on a
> >> String
> >> rather than a
> >> Reader<http://java.sun.com/j2se/1.4/docs/api/java/io/Reader.html>,
> >> that can flexibly separate text into terms via a regular expression
> >> Pattern<
> http://java.sun.com/j2se/1.4/docs/api/java/util/regex/Pattern.html>(with
> >>
> >> behaviour identical to
> >> String.split(String)<
> http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html#split%28java.lang.String%29
> >),
> >>
> >> and that combines the functionality of
> >> LetterTokenizer<
> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LetterTokenizer.html
> >,
> >>
> >> LowerCaseTokenizer<
> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LowerCaseTokenizer.html
> >,
> >>
> >> WhitespaceTokenizer<
> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/WhitespaceTokenizer.html
> >,
> >>
> >> StopFilter<
> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/StopFilter.html
> >into
> >>
> >> a single efficient multi-purpose class.>>>
> >>
> >> One word of caution, the regular expression consists of expressions
> that
> >> *break* tokens, not expressions that *form* words, which threw me at
> >> first.
> >> Just like the doc says, like splitstring <G>.... This is in 2.0,
> >> although I
> >> *believe* it's also in the contrib section of 1.9 (or is in the
> >> regular API,
> >> I forget).
> >>
> >> Best
> >> Erick
> >>
> >> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
> >>>
> >>>
> >>> No, I've never used Luke.  Is there an easy way to examine my
> >>> RAMDirectory
> >>> index?  I can create the index with no quoted keywords, and when I
> >>> search
> >>> for a keyword, I get back the expected results (just can't search for
> a
> >>> phrase that has whitespace in it).  If I create the index with
> >>> phrases in
> >>> quotes, then when I search for anything in double quotes, I get back
> >>> nothing.  If I create the index with everything in quotes, then when I
> >>> search for anything by the keyword field, I get nothing, regardless of
> >>> whether I use quotes in the query string or not.  (I can get results
> >>> back
> >>> by
> >>> searching on other fields.)  What do you think?
> >>>
> >>> Philip
> >>>
> >>>
> >>> Erick Erickson wrote:
> >>> >
> >>> > OK, I've gotta ask. Have you examined your index with Luke to see if
> >>> what
> >>> > you *think* is in the index actually *is*???
> >>> >
> >>> > Erick
> >>> >
> >>> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
> >>> >>
> >>> >>
> >>> >> Interesting...just ran a test where I put double quotes around
> >>> everything
> >>> >> (including single keywords) of source text and then ran searches
> >>> for a
> >>> >> known
> >>> >> keyword with and without double quotes -- doesn't find either time.
> >>> >>
> >>> >>
> >>> >> Mark Miller-5 wrote:
> >>> >> >
> >>> >> > Sorry to hear you're having trouble. You indeed need the double
> >>> quotes
> >>> >> in
> >>> >> > the source text. You will also need them in the query string.
> Make
> >>> sure
> >>> >> > they
> >>> >> > are in both places. My machine is hosed right now or I would do
> it
> >>> for
> >>> >> you
> >>> >> > real quick. My guess is that I forgot to mention...no only do you
> >>> need
> >>> >> to
> >>> >> > add the <QUOTED> definiton to the TOKEN section, but below that
> you
> >>> >> will
> >>> >> > find the grammer...you need to add <QUOTED> to the grammer. If
> you
> >>> look
> >>> >> > how
> >>> >> > <NUM> and <APOSTROPHE> are done you will prob see what you
> >>> should do.
> >>> >> If
> >>> >> > not, my machine should be back up tomarrow...
> >>> >> >
> >>> >> > - Mark
> >>> >> >
> >>> >> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
> >>> >> >>
> >>> >> >>
> >>> >> >> Well, I tried that, and it doesn't seem to work still.  I would
> be
> >>> >> happy
> >>> >> >> to
> >>> >> >> zip up the new files, so you can see what I'm using -- maybe
> >>> you can
> >>> >> get
> >>> >> >> it
> >>> >> >> to work.  The first time, I tried building the documents without
> >>> >> quotes
> >>> >> >> surrounding each phrase.  Then, I retried by enclosing every
> >>> phrase
> >>> >> >> within
> >>> >> >> double quotes.  Neither seemed to work.  When constructing the
> >>> query
> >>> >> >> string
> >>> >> >> for the search, I always added the double quotes (otherwise,
> it'd
> >>> >> think
> >>> >> >> it
> >>> >> >> was multiple terms).  (I didn't even test the underscore and
> >>> >> hyphenated
> >>> >> >> terms.)  I thought Lucene was (sort of by default) set up to
> >>> search
> >>> >> >> quoted
> >>> >> >> phrases.  From
> >>> http://lucene.apache.org/java/docs/api/index.html -->
> >>> A
> >>> >> >> Phrase is a group of words surrounded by double quotes such as
> >>> "hello
> >>> >> >> dolly".  So, this should be easy, right?  I must be missing
> >>> something
> >>> >> >> stupid.
> >>> >> >>
> >>> >> >> Thanks,
> >>> >> >>
> >>> >> >> Philip
> >>> >> >>
> >>> >> >>
> >>> >> >> Mark Miller-5 wrote:
> >>> >> >> >
> >>> >> >> > So this will recognize anything in quotes as a single token
> and
> >>> '_'
> >>> >> and
> >>> >> >> > '-' will not break up words. There may be some repercussions
> for
> >>> the
> >>> >> >> NUM
> >>> >> >> > token but nothing I'd worry about. maybe you want to use
> Unicode
> >>> for
> >>> >> >> '-'
> >>> >> >> > and '_' as well...I wouldn't worry about it myself.
> >>> >> >> >
> >>> >> >> > - Mark
> >>> >> >> >
> >>> >> >> >
> >>> >> >> > TOKEN : {                      // token patterns
> >>> >> >> >
> >>> >> >> >   // basic word: a sequence of digits & letters
> >>> >> >> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
> >>> >> >> >
> >>> >> >> > | <QUOTED:     "\"" (~["\""])+ "\"">
> >>> >> >> >
> >>> >> >> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
> >>> >> >> >   // use a post-filter to remove possesives
> >>> >> >> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
> >>> >> >> >
> >>> >> >> >   // acronyms: U.S.A., I.B.M., etc.
> >>> >> >> >   // use a post-filter to remove dots
> >>> >> >> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
> >>> >> >> >
> >>> >> >> >   // company names like AT&T and Excite@Home.
> >>> >> >> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
> >>> >> >> >
> >>> >> >> >   // email addresses
> >>> >> >> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@"
> <ALPHANUM>
> >>> >> >> > (("."|"-") <ALPHANUM>)+ >
> >>> >> >> >
> >>> >> >> >   // hostname
> >>> >> >> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
> >>> >> >> >
> >>> >> >> >   // floating point, serial, model numbers, ip addresses, etc.
> >>> >> >> >   // every other segment must have at least one digit
> >>> >> >> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
> >>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM>
> >>> >> >> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
> >>> >> >> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
> >>> >> >> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
> >>> >> <HAS_DIGIT>)+
> >>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
> >>> >> <ALPHANUM>)+
> >>> >> >> >         )
> >>> >> >> >   >
> >>> >> >> > | <#P: ("_"|"-"|"/"|"."|",") >
> >>> >> >> > | <#HAS_DIGIT:                      // at least one digit
> >>> >> >> >     (<LETTER>|<DIGIT>)*
> >>> >> >> >     <DIGIT>
> >>> >> >> >     (<LETTER>|<DIGIT>)*
> >>> >> >> >   >
> >>> >> >> >
> >>> >> >> > | < #ALPHA: (<LETTER>)+>
> >>> >> >> > | < #LETTER:                      // unicode letters
> >>> >> >> >       [
> >>> >> >> >        "\u0041"-"\u005a",
> >>> >> >> >        "\u0061"-"\u007a",
> >>> >> >> >        "\u00c0"-"\u00d6",
> >>> >> >> >        "\u00d8"-"\u00f6",
> >>> >> >> >        "\u00f8"-"\u00ff",
> >>> >> >> >        "\u0100"-"\u1fff",
> >>> >> >> >        "-", "_"
> >>> >> >> >       ]
> >>> >> >> >   >
> >>> >> >> >
> >>> >> >> >
> >>> >>
> ---------------------------------------------------------------------
> >>> >> >> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> >>> >> >> > For additional commands, e-mail:
> >>> java-user-help@lucene.apache.org
> >>> >> >> >
> >>> >> >> >
> >>> >> >> >
> >>> >> >>
> >>> >> >> --
> >>> >> >> View this message in context:
> >>> >> >>
> >>> >>
> >>>
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
> >>>
> >>> >> >> Sent from the Lucene - Java Users forum at Nabble.com.
> >>> >> >>
> >>> >> >>
> >>> >> >>
> >>> ---------------------------------------------------------------------
> >>> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> >> >> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >>> >> >>
> >>> >> >>
> >>> >> >
> >>> >> >
> >>> >>
> >>> >> --
> >>> >> View this message in context:
> >>> >>
> >>>
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
> >>>
> >>> >> Sent from the Lucene - Java Users forum at Nabble.com.
> >>> >>
> >>> >>
> >>> >>
> ---------------------------------------------------------------------
> >>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>> >>
> >>> >>
> >>> >
> >>> >
> >>>
> >>> --
> >>> View this message in context:
> >>>
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6109067
> >>>
> >>> Sent from the Lucene - Java Users forum at Nabble.com.
> >>>
> >>>
> >>> ---------------------------------------------------------------------
> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6115360
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_21281_21030695.1157294733908--

From java-user-return-23134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 03 19:05:49 2006
Return-Path: <java-user-return-23134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23291 invoked from network); 3 Sep 2006 19:05:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2006 19:05:41 -0000
Received: (qmail 42930 invoked by uid 500); 3 Sep 2006 19:05:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42718 invoked by uid 500); 3 Sep 2006 19:05:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42707 invoked by uid 99); 3 Sep 2006 19:05:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 12:05:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 12:05:32 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GJxHI-0007MM-S3
	for java-user@lucene.apache.org; Sun, 03 Sep 2006 12:05:11 -0700
Message-ID: <6125651.post@talk.nabble.com>
Date: Sun, 3 Sep 2006 12:05:08 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Just as you, I would PREFER not to change any of the base Lucene code -- and
I imagine there is still some way to do what I want (possibly by extending
some other existing class) with what is already available.  

Regarding point 0) -- You are right in that if I add "test phrase" to index
as UN_TOKENIZED, and then search on "test" or "phrase" individually, it will
not find them (unless they have been added separately by themselves) -- this
behavior is actually desirable in my case -- I am adding single keywords (or
phrases) to the document field (i.e. there is no sentence-type text), and I
want the search to return only results that have the keyword (or phrase)
that I added.  (Although at this point, I'm more concerned about being able
to return results when I search for an UN_TOKENIZED phrase that was added, I
actually would like to "normalize" a phrase (spaces) or a hyphenated word or
an underscored word to the same value -- e.g. MS-WORD or ms_WORd or "MS
Word" --> ms_word.

Regarding point 1) -- If there was a way to add the keywords (including
phrases with spaces) to the index, such that I could search for them using a
query returned by QueryParser.parse(<query_string>), I think this would suit
my needs.  I looked at (and ran) your Scratch example.  I almost think it
would work for my purpose, EXCEPT that, let's say I added 3 documents...

doc.add(new Field("keyword", "hyphenated-word", Field.Store.YES,
Field.Index.TOKENIZED));
doc.add(new Field("keyword", "underscored-word", Field.Store.YES,
Field.Index.TOKENIZED));
doc.add(new Field("keyword", "phrase with spaces", Field.Store.YES,
Field.Index.TOKENIZED));

If I add them as TOKENIZED, a search on "phrase" would return 1 hit, which
is NOT really what I want.  I want a hit for "phrase with spaces", but not
"phrase" or "spaces".  


Perhaps you understand my situation a bit more now and could provide some
additional insight.  Basically, whatever is added to the keyword field is
what will be used in the search (plus some other field values).  

Thanks.



Erick Erickson wrote:
> 
> Disclaimer: Of course I'm not as familiar with your problem space as you
> are, so I may be way out in left field, but...
> 
> I *still* think you're making waaaaaay too much work for yourself and need
> to examine your assumptions.
> 
> 0> But when you index something UN_TOKENIZED as in your example, I don't
> think you'll  find the words "phrase" and "test" if you just search for
> them
> individually.
> 
> 1> "doesn't parse apart phrases". Why do you care? The "usual" way of
> handling this is to just go ahead and parse them apart, then submit your
> query with quotes embedded. Would that serve your needs? If not, I bet you
> could make a cool regex that would do this for you and use a
> PatternAnalyzer. If neither of those work, instead of hacking Lucene code,
> make your own tokenizer by overriding one of the Lucene tokenizers. See
> Lucene in Action for example, the section on synonyms as I remember.....
> It'll be waaaaay less work in the long run than having to try to stay in
> synch by hacking the Lucene code. Especially for the next poor soul who
> has
> to maintain it........
> 
> 2> doesn't parse/separate underscores and hyphens. Why not use a
> PatternAnalyzer? You can make it do most anything you want with a clever
> regex.
> 
> 3> the other thing that might be producing unexpected results is that the
> default is OR for QueryParser.......
> 
> Since no amount of documentation replaces a program, I've included one
> illustrating what I'm talking about. It's less likely we're talk past each
> other this way. All it may *really* demonstrate is that I don't understand
> what you're trying to do at all, but at least we'll know <G>...
> 
> Notice in particular that it finds the hypenated words, but doesn't find
> their individual parts. Also,  quoted phrasew are found, even though the
> stop words aren't in the index (examined via luke). I used Eclipse to
> compile/run it......
> 
> Best
> Erick
> 
> package scratch;
> 
> import java.io.IOException;
> import java.util.regex.Pattern;
> 
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.StopFilter;
> import org.apache.lucene.index.memory.PatternAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> 
> public class Scratch {
> 
>     private Analyzer analyzer = null;
> 
>     private Analyzer getAnalyzer() {
>         if (analyzer == null) {
>             // Break on whitespace or anything that is NOT hyphen,
> underscore
>             // or letter.
>             Pattern pat = Pattern.compile("(\\s|[^-_a-zA-Z])");
>             analyzer = new PatternAnalyzer(pat, true,
>                     StopFilter.makeStopSet(STOP_WORDS));
>         }
>         return analyzer;
> 
>     }
> 
>     private void makeTestIndex() throws Exception {
>         IndexWriter writer = new IndexWriter("C:/mydir", getAnalyzer(),
> true);
>         String text = ("this is the test text hyphenated-Iamhyphenated
> underscored_IaMunDerScoRed");
>         Document doc = new Document();
>         doc = new Document();
>         doc.add(new Field("test", text, Field.Store.YES,
>                         Field.Index.TOKENIZED));
>         writer.addDocument(doc);
> 
>         writer.close();
>     }
> 
>     private void doSearch(String query, int expectedHits) throws Exception
> {
>         try {
>             QueryParser qp = new QueryParser("test", getAnalyzer());
>             qp.enable_tracing();
>             IndexSearcher srch = new IndexSearcher("C:/mydir");
>             Query tmp = qp.parse(query);
>             // Uncomment to see parsed form of query
>             // System.out.println("Parsed form is '" + tmp.toString() +
> "'");
>             Hits hits = srch.search(tmp);
> 
>             String msg = "";
> 
>             if (hits.length() == expectedHits) {
>                 msg = "Test passed ";
>             } else {
>                 msg = "************TEST FAILED************ ";
>             }
>             System.out.println(msg + "Expected "
>                     + Integer.toString(expectedHits) + " hits, got "
>                     + Integer.toString(hits.length()) + " hits");
> 
>         } catch (IOException e) {
>             System.out.println("Caught IOException");
>             e.printStackTrace();
>         }
>     }
> 
>     private void doSearchPhrase(String phrase, int expectedHits) throws
> Exception {
>         doSearch("\"" + phrase + "\"", expectedHits);
>     }
>     public static void main(String[] args) {
>         try {
>             Scratch scratch = new Scratch();
>             scratch.getAnalyzer();
>             scratch.makeTestIndex();
>             scratch.doSearch("underscored_iamunderscored", 1);
>             scratch.doSearch("underscored iamunderscored", 0);
>             scratch.doSearch("hyphenated-iamhyphenated", 1);
>             scratch.doSearch("iamunderscored", 0);
>             scratch.doSearch("underscored", 0);
> 
>             scratch.doSearchPhrase("this is the test text", 1);
>             scratch.doSearchPhrase("text with hyphenated-iamhyphenated",
> 1);
>             scratch.doSearchPhrase("text with underscored_iamunderscored",
> 0);
> 
> 
>         } catch (Exception e) {
>             System.err.println(e.getMessage());
>         }
>     }
> 
>     protected static final String[] STOP_WORDS = { "a", "an", "and",
> "are",
>             "as", "at", "b", "be", "but", "by", "c", "d", "e", "f", "for",
>             "if", "g", "h", "i", "in", "into", "is", "it", "j", "k", "l",
> "m",
>             "n", "no", "not", "o", "of", "on", "or", "p", "q", "r", "s",
>             "such", "t", "that", "the", "their", "then", "there", "these",
>             "they", "this", "to", "u", "v", "w", "was", "will", "with",
> "x",
>             "y", "z" };
> 
> }
> 
> 
> 
> On 9/2/06, Philip Brown <pmb@us.ibm.com> wrote:
>>
>>
>> I tend to agree with Mark.  I tried a query as so...
>>
>>    TermQuery query = new TermQuery(new Term("keywordField", "phrase
>> test"));
>>    IndexSearcher searcher= new IndexSearcher(activeIdx);
>>    Hits hits = searcher.search(query);
>>
>> And this produced the expected results.  When building the index, I did
>> NOT
>> enclose the keywords in quotes -- just added as UN_TOKENIZED.
>>
>> Philip
>>
>>
>> Mark Miller-5 wrote:
>> >
>> > I think if he wants to use the queryparser to parse his search strings
>> > that he has no choice but to modify it. It will eat any pair of quotes
>> > going through it no matter what analyzer is used.
>> >
>> > - Mark
>> >> Well, you're flying blind. Is the behavior rooted in the indexing or
>> >> querying? Since you can't answer that, you're reduced to trying random
>> >> things hoping that one of them works. A little like voodoo. I've
>> wasted
>> >> faaaaarrrrrr too much time trying to solve what I was *sure* was the
>> >> problem
>> >> only to find it was somewhere else (the last place I look, of course)
>> >> <G>...
>> >>
>> >> Using Luke on a RAMDir. No, I don't know how to, but it should be a
>> >> simple
>> >> thing to write the index to an FSDir at the same time you create your
>> >> RAMDir
>> >> and use Luke then. This is debugging, after all.
>> >>
>> >> I'd be really, really, really reluctant to modify the query parser
>> and/or
>> >> the tokenizer, since whenever I've been tempted it's usually because I
>> >> don't
>> >> understand the tools already provided. Then I have to maintain my
>> custom
>> >> code. Which sucks. Although it sure feels more productive to hack a
>> >> bunch of
>> >> code and get something that works 90% of the time, then spend weeks
>> >> making
>> >> the other 10% work than taking two days to find the 3 lines you
>> *really*
>> >> need <G>.
>> >>
>> >> Have you thought of a PatternAnalyzer? It takes a regular expression
>> >> as the
>> >> tokenizer and  (from the Javadoc)
>> >> <<< Efficient Lucene analyzer/tokenizer that preferably operates on a
>> >> String
>> >> rather than a
>> >> Reader<http://java.sun.com/j2se/1.4/docs/api/java/io/Reader.html>,
>> >> that can flexibly separate text into terms via a regular expression
>> >> Pattern<
>> http://java.sun.com/j2se/1.4/docs/api/java/util/regex/Pattern.html>(with
>> >>
>> >> behaviour identical to
>> >> String.split(String)<
>> http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html#split%28java.lang.String%29
>> >),
>> >>
>> >> and that combines the functionality of
>> >> LetterTokenizer<
>> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LetterTokenizer.html
>> >,
>> >>
>> >> LowerCaseTokenizer<
>> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/LowerCaseTokenizer.html
>> >,
>> >>
>> >> WhitespaceTokenizer<
>> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/WhitespaceTokenizer.html
>> >,
>> >>
>> >> StopFilter<
>> file:///C:/lucene_1.9.1/docs/api/org/apache/lucene/analysis/StopFilter.html
>> >into
>> >>
>> >> a single efficient multi-purpose class.>>>
>> >>
>> >> One word of caution, the regular expression consists of expressions
>> that
>> >> *break* tokens, not expressions that *form* words, which threw me at
>> >> first.
>> >> Just like the doc says, like splitstring <G>.... This is in 2.0,
>> >> although I
>> >> *believe* it's also in the contrib section of 1.9 (or is in the
>> >> regular API,
>> >> I forget).
>> >>
>> >> Best
>> >> Erick
>> >>
>> >> On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>> >>>
>> >>>
>> >>> No, I've never used Luke.  Is there an easy way to examine my
>> >>> RAMDirectory
>> >>> index?  I can create the index with no quoted keywords, and when I
>> >>> search
>> >>> for a keyword, I get back the expected results (just can't search for
>> a
>> >>> phrase that has whitespace in it).  If I create the index with
>> >>> phrases in
>> >>> quotes, then when I search for anything in double quotes, I get back
>> >>> nothing.  If I create the index with everything in quotes, then when
>> I
>> >>> search for anything by the keyword field, I get nothing, regardless
>> of
>> >>> whether I use quotes in the query string or not.  (I can get results
>> >>> back
>> >>> by
>> >>> searching on other fields.)  What do you think?
>> >>>
>> >>> Philip
>> >>>
>> >>>
>> >>> Erick Erickson wrote:
>> >>> >
>> >>> > OK, I've gotta ask. Have you examined your index with Luke to see
>> if
>> >>> what
>> >>> > you *think* is in the index actually *is*???
>> >>> >
>> >>> > Erick
>> >>> >
>> >>> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>> >>> >>
>> >>> >>
>> >>> >> Interesting...just ran a test where I put double quotes around
>> >>> everything
>> >>> >> (including single keywords) of source text and then ran searches
>> >>> for a
>> >>> >> known
>> >>> >> keyword with and without double quotes -- doesn't find either
>> time.
>> >>> >>
>> >>> >>
>> >>> >> Mark Miller-5 wrote:
>> >>> >> >
>> >>> >> > Sorry to hear you're having trouble. You indeed need the double
>> >>> quotes
>> >>> >> in
>> >>> >> > the source text. You will also need them in the query string.
>> Make
>> >>> sure
>> >>> >> > they
>> >>> >> > are in both places. My machine is hosed right now or I would do
>> it
>> >>> for
>> >>> >> you
>> >>> >> > real quick. My guess is that I forgot to mention...no only do
>> you
>> >>> need
>> >>> >> to
>> >>> >> > add the <QUOTED> definiton to the TOKEN section, but below that
>> you
>> >>> >> will
>> >>> >> > find the grammer...you need to add <QUOTED> to the grammer. If
>> you
>> >>> look
>> >>> >> > how
>> >>> >> > <NUM> and <APOSTROPHE> are done you will prob see what you
>> >>> should do.
>> >>> >> If
>> >>> >> > not, my machine should be back up tomarrow...
>> >>> >> >
>> >>> >> > - Mark
>> >>> >> >
>> >>> >> > On 9/1/06, Philip Brown <pmb@us.ibm.com> wrote:
>> >>> >> >>
>> >>> >> >>
>> >>> >> >> Well, I tried that, and it doesn't seem to work still.  I would
>> be
>> >>> >> happy
>> >>> >> >> to
>> >>> >> >> zip up the new files, so you can see what I'm using -- maybe
>> >>> you can
>> >>> >> get
>> >>> >> >> it
>> >>> >> >> to work.  The first time, I tried building the documents
>> without
>> >>> >> quotes
>> >>> >> >> surrounding each phrase.  Then, I retried by enclosing every
>> >>> phrase
>> >>> >> >> within
>> >>> >> >> double quotes.  Neither seemed to work.  When constructing the
>> >>> query
>> >>> >> >> string
>> >>> >> >> for the search, I always added the double quotes (otherwise,
>> it'd
>> >>> >> think
>> >>> >> >> it
>> >>> >> >> was multiple terms).  (I didn't even test the underscore and
>> >>> >> hyphenated
>> >>> >> >> terms.)  I thought Lucene was (sort of by default) set up to
>> >>> search
>> >>> >> >> quoted
>> >>> >> >> phrases.  From
>> >>> http://lucene.apache.org/java/docs/api/index.html -->
>> >>> A
>> >>> >> >> Phrase is a group of words surrounded by double quotes such as
>> >>> "hello
>> >>> >> >> dolly".  So, this should be easy, right?  I must be missing
>> >>> something
>> >>> >> >> stupid.
>> >>> >> >>
>> >>> >> >> Thanks,
>> >>> >> >>
>> >>> >> >> Philip
>> >>> >> >>
>> >>> >> >>
>> >>> >> >> Mark Miller-5 wrote:
>> >>> >> >> >
>> >>> >> >> > So this will recognize anything in quotes as a single token
>> and
>> >>> '_'
>> >>> >> and
>> >>> >> >> > '-' will not break up words. There may be some repercussions
>> for
>> >>> the
>> >>> >> >> NUM
>> >>> >> >> > token but nothing I'd worry about. maybe you want to use
>> Unicode
>> >>> for
>> >>> >> >> '-'
>> >>> >> >> > and '_' as well...I wouldn't worry about it myself.
>> >>> >> >> >
>> >>> >> >> > - Mark
>> >>> >> >> >
>> >>> >> >> >
>> >>> >> >> > TOKEN : {                      // token patterns
>> >>> >> >> >
>> >>> >> >> >   // basic word: a sequence of digits & letters
>> >>> >> >> >   <ALPHANUM: (<LETTER>|<DIGIT>|<KOREAN>)+ >
>> >>> >> >> >
>> >>> >> >> > | <QUOTED:     "\"" (~["\""])+ "\"">
>> >>> >> >> >
>> >>> >> >> >   // internal apostrophes: O'Reilly, you're, O'Reilly's
>> >>> >> >> >   // use a post-filter to remove possesives
>> >>> >> >> > | <APOSTROPHE: <ALPHA> ("'" <ALPHA>)+ >
>> >>> >> >> >
>> >>> >> >> >   // acronyms: U.S.A., I.B.M., etc.
>> >>> >> >> >   // use a post-filter to remove dots
>> >>> >> >> > | <ACRONYM: <ALPHA> "." (<ALPHA> ".")+ >
>> >>> >> >> >
>> >>> >> >> >   // company names like AT&T and Excite@Home.
>> >>> >> >> > | <COMPANY: <ALPHA> ("&"|"@") <ALPHA> >
>> >>> >> >> >
>> >>> >> >> >   // email addresses
>> >>> >> >> > | <EMAIL: <ALPHANUM> (("."|"-"|"_") <ALPHANUM>)* "@"
>> <ALPHANUM>
>> >>> >> >> > (("."|"-") <ALPHANUM>)+ >
>> >>> >> >> >
>> >>> >> >> >   // hostname
>> >>> >> >> > | <HOST: <ALPHANUM> ("." <ALPHANUM>)+ >
>> >>> >> >> >
>> >>> >> >> >   // floating point, serial, model numbers, ip addresses,
>> etc.
>> >>> >> >> >   // every other segment must have at least one digit
>> >>> >> >> > | <NUM: (<ALPHANUM> <P> <HAS_DIGIT>
>> >>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM>
>> >>> >> >> >        | <ALPHANUM> (<P> <HAS_DIGIT> <P> <ALPHANUM>)+
>> >>> >> >> >        | <HAS_DIGIT> (<P> <ALPHANUM> <P> <HAS_DIGIT>)+
>> >>> >> >> >        | <ALPHANUM> <P> <HAS_DIGIT> (<P> <ALPHANUM> <P>
>> >>> >> <HAS_DIGIT>)+
>> >>> >> >> >        | <HAS_DIGIT> <P> <ALPHANUM> (<P> <HAS_DIGIT> <P>
>> >>> >> <ALPHANUM>)+
>> >>> >> >> >         )
>> >>> >> >> >   >
>> >>> >> >> > | <#P: ("_"|"-"|"/"|"."|",") >
>> >>> >> >> > | <#HAS_DIGIT:                      // at least one digit
>> >>> >> >> >     (<LETTER>|<DIGIT>)*
>> >>> >> >> >     <DIGIT>
>> >>> >> >> >     (<LETTER>|<DIGIT>)*
>> >>> >> >> >   >
>> >>> >> >> >
>> >>> >> >> > | < #ALPHA: (<LETTER>)+>
>> >>> >> >> > | < #LETTER:                      // unicode letters
>> >>> >> >> >       [
>> >>> >> >> >        "\u0041"-"\u005a",
>> >>> >> >> >        "\u0061"-"\u007a",
>> >>> >> >> >        "\u00c0"-"\u00d6",
>> >>> >> >> >        "\u00d8"-"\u00f6",
>> >>> >> >> >        "\u00f8"-"\u00ff",
>> >>> >> >> >        "\u0100"-"\u1fff",
>> >>> >> >> >        "-", "_"
>> >>> >> >> >       ]
>> >>> >> >> >   >
>> >>> >> >> >
>> >>> >> >> >
>> >>> >>
>> ---------------------------------------------------------------------
>> >>> >> >> > To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>> >>> >> >> > For additional commands, e-mail:
>> >>> java-user-help@lucene.apache.org
>> >>> >> >> >
>> >>> >> >> >
>> >>> >> >> >
>> >>> >> >>
>> >>> >> >> --
>> >>> >> >> View this message in context:
>> >>> >> >>
>> >>> >>
>> >>>
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6106920
>> >>>
>> >>> >> >> Sent from the Lucene - Java Users forum at Nabble.com.
>> >>> >> >>
>> >>> >> >>
>> >>> >> >>
>> >>> ---------------------------------------------------------------------
>> >>> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>> >> >> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>> >>> >> >>
>> >>> >> >>
>> >>> >> >
>> >>> >> >
>> >>> >>
>> >>> >> --
>> >>> >> View this message in context:
>> >>> >>
>> >>>
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6107649
>> >>>
>> >>> >> Sent from the Lucene - Java Users forum at Nabble.com.
>> >>> >>
>> >>> >>
>> >>> >>
>> ---------------------------------------------------------------------
>> >>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>> >>
>> >>> >>
>> >>> >
>> >>> >
>> >>>
>> >>> --
>> >>> View this message in context:
>> >>>
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6109067
>> >>>
>> >>> Sent from the Lucene - Java Users forum at Nabble.com.
>> >>>
>> >>>
>> >>> ---------------------------------------------------------------------
>> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>>
>> >>>
>> >>
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6115360
>> Sent from the Lucene - Java Users forum at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6125651
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 03 23:54:20 2006
Return-Path: <java-user-return-23135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60734 invoked from network); 3 Sep 2006 23:54:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2006 23:54:19 -0000
Received: (qmail 82779 invoked by uid 500); 3 Sep 2006 23:54:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82759 invoked by uid 500); 3 Sep 2006 23:54:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82748 invoked by uid 99); 3 Sep 2006 23:54:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 16:54:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 16:54:13 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3599E5B766; Sun,  3 Sep 2006 16:53:53 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1EDF37F403
	for <java-user@lucene.apache.org>; Sun,  3 Sep 2006 16:53:53 -0700 (PDT)
Date: Sun, 3 Sep 2006 16:53:53 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6125651.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
 <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
 <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
 <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
 <6125651.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I haven't really been following this thread, but it's gotten so long
i got interested.

from whta i can tell skimming the discussion so far, it seems like the
biggest confusion is about the definition of a "phrase" and what analyzers
do with "quote" characters and what the QueryParser does with "quote"
charcters -- when ultimately you don't seem to really care about "phrases"
in a textual searching sense; nor do you seem to care about any of the
"features" of the QueryParser.

it seems that what you care about is:

 1) making documents, and adding a list of "text chunks" to those
    documents (what you've been calling phrases)
 2) you then want to be able to search for "almost-exact" matches on those
    "text chunks" ... these matches should be "exactish" because you don't
    want partial matches based on white spaces, or splitting on hyphens,
    but they shouldn't be truely exact because you want some simple
    normalization...

: actually would like to "normalize" a phrase (spaces) or a hyphenated word or
: an underscored word to the same value -- e.g. MS-WORD or ms_WORd or "MS
: Word" --> ms_word.

...in which case, you should:
 a) write yourself an analyzer which does no "tokenizing" (ie: each input
    Field value generates a single token) but does the normalization you
    want.
 b) use this Analyzer when you add the fields to your documents, even
    though you don't want *real* tokenization, add make the field type
    TOKENIZED so your analyzer gets used.
 c) when you get some text input to serach on, pass it to the same
    Analyzer, take the Token you get back and manualy construct a
    TermQuery out of it for the neccessary field.

...that's it.  that's all she wrote -- don't even look in QueryParser's
general direction, at all.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 00:27:25 2006
Return-Path: <java-user-return-23136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65437 invoked from network); 4 Sep 2006 00:27:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 00:27:22 -0000
Received: (qmail 6842 invoked by uid 500); 4 Sep 2006 00:27:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6808 invoked by uid 500); 4 Sep 2006 00:27:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6797 invoked by uid 99); 4 Sep 2006 00:27:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 17:27:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO py-out-1112.google.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 17:27:16 -0700
Received: by py-out-1112.google.com with SMTP id w49so1968697pyg
        for <java-user@lucene.apache.org>; Sun, 03 Sep 2006 17:26:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TBcL6pMZNNjNZcWetyxvfP1nlds09OMGKRMAejeAO4GniU699/S6BodinDCsqr3Z9rPkibk3mrkbPGDy+3UtUWz1WEM/FTykuTuRSi+3otFFqkkrL3b0lTXHWFqdK8n69m3pslBRUKun/pVv49ba89fuFHsIQ1KsLNxLK0n1+bc=
Received: by 10.35.81.1 with SMTP id i1mr8796075pyl;
        Sun, 03 Sep 2006 17:26:55 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Sun, 3 Sep 2006 17:26:55 -0700 (PDT)
Message-ID: <359a92830609031726m124a630bod7b6ce2774aae7b0@mail.gmail.com>
Date: Sun, 3 Sep 2006 20:26:55 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24489_14607600.1157329615131"
References: <6093138.post@talk.nabble.com> <6107649.post@talk.nabble.com>
	 <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
	 <6109067.post@talk.nabble.com>
	 <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
	 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
	 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
	 <6125651.post@talk.nabble.com>
	 <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24489_14607600.1157329615131
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Yeah, what he said <G>....

On 9/3/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> I haven't really been following this thread, but it's gotten so long
> i got interested.
>
> from whta i can tell skimming the discussion so far, it seems like the
> biggest confusion is about the definition of a "phrase" and what analyzers
> do with "quote" characters and what the QueryParser does with "quote"
> charcters -- when ultimately you don't seem to really care about "phrases"
> in a textual searching sense; nor do you seem to care about any of the
> "features" of the QueryParser.
>
> it seems that what you care about is:
>
> 1) making documents, and adding a list of "text chunks" to those
>     documents (what you've been calling phrases)
> 2) you then want to be able to search for "almost-exact" matches on those
>     "text chunks" ... these matches should be "exactish" because you don't
>     want partial matches based on white spaces, or splitting on hyphens,
>     but they shouldn't be truely exact because you want some simple
>     normalization...
>
> : actually would like to "normalize" a phrase (spaces) or a hyphenated
> word or
> : an underscored word to the same value -- e.g. MS-WORD or ms_WORd or "MS
> : Word" --> ms_word.
>
> ...in which case, you should:
> a) write yourself an analyzer which does no "tokenizing" (ie: each input
>     Field value generates a single token) but does the normalization you
>     want.
> b) use this Analyzer when you add the fields to your documents, even
>     though you don't want *real* tokenization, add make the field type
>     TOKENIZED so your analyzer gets used.
> c) when you get some text input to serach on, pass it to the same
>     Analyzer, take the Token you get back and manualy construct a
>     TermQuery out of it for the neccessary field.
>
> ...that's it.  that's all she wrote -- don't even look in QueryParser's
> general direction, at all.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_24489_14607600.1157329615131--

From java-user-return-23137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 01:48:45 2006
Return-Path: <java-user-return-23137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81289 invoked from network); 4 Sep 2006 01:48:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 01:48:45 -0000
Received: (qmail 46927 invoked by uid 500); 4 Sep 2006 01:48:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46890 invoked by uid 500); 4 Sep 2006 01:48:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46879 invoked by uid 99); 4 Sep 2006 01:48:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 18:48:39 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 18:48:38 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GK3ZS-0000mF-B3
	for java-user@lucene.apache.org; Sun, 03 Sep 2006 18:48:18 -0700
Message-ID: <6128827.post@talk.nabble.com>
Date: Sun, 3 Sep 2006 18:48:18 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com> <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks for your input.  I'm sure I could do as you suggest (and maybe that
will end up being my best option), but I had hoped to use a string for
creating the query object, particularly as some of my queries are a bit
complex.

Thanks.


Chris Hostetter wrote:
> 
> 
> I haven't really been following this thread, but it's gotten so long
> i got interested.
> 
> from whta i can tell skimming the discussion so far, it seems like the
> biggest confusion is about the definition of a "phrase" and what analyzers
> do with "quote" characters and what the QueryParser does with "quote"
> charcters -- when ultimately you don't seem to really care about "phrases"
> in a textual searching sense; nor do you seem to care about any of the
> "features" of the QueryParser.
> 
> it seems that what you care about is:
> 
>  1) making documents, and adding a list of "text chunks" to those
>     documents (what you've been calling phrases)
>  2) you then want to be able to search for "almost-exact" matches on those
>     "text chunks" ... these matches should be "exactish" because you don't
>     want partial matches based on white spaces, or splitting on hyphens,
>     but they shouldn't be truely exact because you want some simple
>     normalization...
> 
> : actually would like to "normalize" a phrase (spaces) or a hyphenated
> word or
> : an underscored word to the same value -- e.g. MS-WORD or ms_WORd or "MS
> : Word" --> ms_word.
> 
> ...in which case, you should:
>  a) write yourself an analyzer which does no "tokenizing" (ie: each input
>     Field value generates a single token) but does the normalization you
>     want.
>  b) use this Analyzer when you add the fields to your documents, even
>     though you don't want *real* tokenization, add make the field type
>     TOKENIZED so your analyzer gets used.
>  c) when you get some text input to serach on, pass it to the same
>     Analyzer, take the Token you get back and manualy construct a
>     TermQuery out of it for the neccessary field.
> 
> ...that's it.  that's all she wrote -- don't even look in QueryParser's
> general direction, at all.
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6128827
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 02:36:38 2006
Return-Path: <java-user-return-23138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88208 invoked from network); 4 Sep 2006 02:36:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 02:36:36 -0000
Received: (qmail 78243 invoked by uid 500); 4 Sep 2006 02:36:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78209 invoked by uid 500); 4 Sep 2006 02:36:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78198 invoked by uid 99); 4 Sep 2006 02:36:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 19:36:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 19:36:29 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4060D5B766; Sun,  3 Sep 2006 19:35:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 333767F403
	for <java-user@lucene.apache.org>; Sun,  3 Sep 2006 19:35:52 -0700 (PDT)
Date: Sun, 3 Sep 2006 19:35:52 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6128827.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
 <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
 <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
 <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
 <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
 <6128827.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Thanks for your input.  I'm sure I could do as you suggest (and maybe that
: will end up being my best option), but I had hoped to use a string for
: creating the query object, particularly as some of my queries are a bit
: complex.

you have to clarify what you mean by "use a string for creating the query
object" ... there's nothing in what i suggested that implies you can't do
that, that's exactly what i'm suggesting you do...

   String input = ...;
   Analyzer a = new YourCustomAnalyzer();
   // because you know your analyzer allways produces exactly one token...
   Token t = a.tokenStream("yourField", new StringReader(input)).next();
   Query yourQuery = new TermQuery("yourField", t.termText());

...if your queries are more complex then just the "exactish" matching you
described before, then that's a seperate issue -- what you described
didn't sound like it required any special input processing -- you said you
had a "string" and you wanted to find exact matches on that string (with
some normalization) ... but that you didn't want your input split on
whitespace, or hyphens, or any of the "special" characters QueryParser
uses.

If you want other things then that certainly makes things more
complicated, but the basic idea is still the same ... so what exactly do
you mean when you say it's more complicated?


: > I haven't really been following this thread, but it's gotten so long
: > i got interested.
: >
: > from whta i can tell skimming the discussion so far, it seems like the
: > biggest confusion is about the definition of a "phrase" and what analyzers
: > do with "quote" characters and what the QueryParser does with "quote"
: > charcters -- when ultimately you don't seem to really care about "phrases"
: > in a textual searching sense; nor do you seem to care about any of the
: > "features" of the QueryParser.
: >
: > it seems that what you care about is:
: >
: >  1) making documents, and adding a list of "text chunks" to those
: >     documents (what you've been calling phrases)
: >  2) you then want to be able to search for "almost-exact" matches on those
: >     "text chunks" ... these matches should be "exactish" because you don't
: >     want partial matches based on white spaces, or splitting on hyphens,
: >     but they shouldn't be truely exact because you want some simple
: >     normalization...
: >
: > : actually would like to "normalize" a phrase (spaces) or a hyphenated
: > word or
: > : an underscored word to the same value -- e.g. MS-WORD or ms_WORd or "MS
: > : Word" --> ms_word.
: >
: > ...in which case, you should:
: >  a) write yourself an analyzer which does no "tokenizing" (ie: each input
: >     Field value generates a single token) but does the normalization you
: >     want.
: >  b) use this Analyzer when you add the fields to your documents, even
: >     though you don't want *real* tokenization, add make the field type
: >     TOKENIZED so your analyzer gets used.
: >  c) when you get some text input to serach on, pass it to the same
: >     Analyzer, take the Token you get back and manualy construct a
: >     TermQuery out of it for the neccessary field.
: >
: > ...that's it.  that's all she wrote -- don't even look in QueryParser's
: > general direction, at all.
: >
: >
: >
: > -Hoss
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
: >
:
: --
: View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6128827
: Sent from the Lucene - Java Users forum at Nabble.com.
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 02:56:46 2006
Return-Path: <java-user-return-23139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91415 invoked from network); 4 Sep 2006 02:56:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 02:56:43 -0000
Received: (qmail 86745 invoked by uid 500); 4 Sep 2006 02:56:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86715 invoked by uid 500); 4 Sep 2006 02:56:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86704 invoked by uid 99); 4 Sep 2006 02:56:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 19:56:38 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of khoon.ee.gan@gmail.com designates 66.249.82.239 as permitted sender)
Received: from [66.249.82.239] (HELO wx-out-0506.google.com) (66.249.82.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 19:56:37 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1759334wxc
        for <java-user@lucene.apache.org>; Sun, 03 Sep 2006 19:56:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pbUAXBk4IgOLDYNSlBNR7w6pZg1eV9Obz/bUZPLYTsI1052TgM87ZA139dd22rPeRl0+bA0T2N9IcYYd8NQX+K3BJn+maEuH8O55afcH8bsQmHCrQN8kcojiNn6MN3G4lKCg4hzJ86fD/Va1rY9Rf48gwncE/e4FdCxtbrEyoB4=
Received: by 10.70.78.4 with SMTP id a4mr6999673wxb;
        Sun, 03 Sep 2006 19:56:16 -0700 (PDT)
Received: by 10.70.48.5 with HTTP; Sun, 3 Sep 2006 19:56:16 -0700 (PDT)
Message-ID: <85c493340609031956r6908fae0t4cac47707ea26011@mail.gmail.com>
Date: Mon, 4 Sep 2006 10:56:16 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to combine multiple fields to a single field for indexing
In-Reply-To: <5F233107-D60F-49D1-BDD9-EA4901D9F955@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_97115_8150687.1157338576141"
References: <44EC75E0.4050301@wolfram.com>
	 <DD946AF6-069E-4701-8214-070EB04B3C9D@ehatchersolutions.com>
	 <85c493340608231842p67536de4gf760cc276436ab58@mail.gmail.com>
	 <733777220608240005i1fc4b3f7qadb1c47529c5774f@mail.gmail.com>
	 <C5311C92-9CAB-421E-A64F-B8EEAF164503@ehatchersolutions.com>
	 <85c493340608260211r71b7d089p465b31dd51d79f25@mail.gmail.com>
	 <5F233107-D60F-49D1-BDD9-EA4901D9F955@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_97115_8150687.1157338576141
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks. I think I grasp the concept now :)

On 8/27/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On Aug 26, 2006, at 5:11 AM, KEGan wrote:
> > Erik,
> >
> > "Given the position increment gap between instances of same-named
> > fields that is now part of Lucene, I recommend using multiple field
> > instances instead."
> >
> > Did you mean ... recommend "NOT" using multiple field ?
>
> I said what I meant accurately.  Comparing building a single
> aggregate search field either by concatenating text into a single
> string and a single field, say "contents" instance, versus multiple
> "contents" instances that could get separated by a position increment
> gap, I recommend the second approach.
>
> But...
>
> > If we want to do query like "name:John" or boasting of Fields ...
> > then we
> > have to use multiple field instances, right ?
>
> of course.
>
>        Erik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_97115_8150687.1157338576141--

From java-user-return-23140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 02:59:33 2006
Return-Path: <java-user-return-23140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91618 invoked from network); 4 Sep 2006 02:59:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 02:59:26 -0000
Received: (qmail 89179 invoked by uid 500); 4 Sep 2006 02:59:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89105 invoked by uid 500); 4 Sep 2006 02:59:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89094 invoked by uid 99); 4 Sep 2006 02:59:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 19:59:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 19:59:18 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GK4fp-0002P6-R8
	for java-user@lucene.apache.org; Sun, 03 Sep 2006 19:58:57 -0700
Message-ID: <6129254.post@talk.nabble.com>
Date: Sun, 3 Sep 2006 19:58:57 -0700 (PDT)
From: Venkateshprasanna <prasannahmv@yahoo.co.in>
To: java-user@lucene.apache.org
Subject: Indexing bigrams and trigrams in Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: prasannahmv@yahoo.co.in
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I need to index bigrams and trigrams in a document. Here is an example:

Text:
This is a text document written by someone. Read this and post your comments

words that must be indexed:
text
document
written
someone
read
post
your
comments
text document
document written
post your
your comments
text document written
post your comments

So, I made changes to StandardAnalyzer.java and StandardTokenizer.jj to try
and achieve this.

I increased the LOOKAHEAD option value to 4:

options {
  LOOKAHEAD = 4;
  FORCE_LA_CHECK = true;
  .
  .
}


I made the following changes to StandardTokenizer.jj :

org.apache.lucene.analysis.Token next() throws IOException :
  :
  :
    {
      if (token.kind == EOF) {
	return null;
      }
      
      else if(token.kind == ALPHANUM) {
     	
      	Token nextToken = token.next;
      	if(token.next.kind ==ALPHANUM) {
      	   return
	   new org.apache.lucene.analysis.Token(token.image+" "+nextToken.image,
					token.beginColumn,nextToken.endColumn,
					tokenImage[token.kind]);
	}
      }
  	
      else {
	return
	  new org.apache.lucene.analysis.Token(token.image,
					token.beginColumn,token.endColumn,
					tokenImage[token.kind]);
      }
    }


That is, I am using token.next to get info about the next token. But it is
returning null. What is the reason and is there a better way of doing this?


-- 
View this message in context: http://www.nabble.com/Indexing-bigrams-and-trigrams-in-Lucene-tf2213042.html#a6129254
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 04:22:57 2006
Return-Path: <java-user-return-23141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1456 invoked from network); 4 Sep 2006 04:22:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 04:22:54 -0000
Received: (qmail 48098 invoked by uid 500); 4 Sep 2006 04:22:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47070 invoked by uid 500); 4 Sep 2006 04:22:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47058 invoked by uid 99); 4 Sep 2006 04:22:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 21:22:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of davekor@gmail.com designates 66.249.82.233 as permitted sender)
Received: from [66.249.82.233] (HELO wx-out-0506.google.com) (66.249.82.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 21:22:47 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1775257wxc
        for <java-user@lucene.apache.org>; Sun, 03 Sep 2006 21:22:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CpWigqWfgGbAIeXNOdQ24sGO9pzTtHAx1Z7rgbxc/en2QEwBp4nx9hc7tfqy/eAzxZMM4OD9IsIA33uoxTdiFm0tSnDMPEGtfGrwqxjdlTvXufNsPRlJ+CbaeUSuLWf84YWvTMyj2YpMHb4rqrKogzZ3dv5ZEPd5xDVdYhSc6/k=
Received: by 10.90.118.12 with SMTP id q12mr1056978agc;
        Sun, 03 Sep 2006 21:22:26 -0700 (PDT)
Received: by 10.90.72.20 with HTTP; Sun, 3 Sep 2006 21:22:26 -0700 (PDT)
Message-ID: <901c03930609032122v3388a281t50cca93d88562755@mail.gmail.com>
Date: Mon, 4 Sep 2006 12:22:26 +0800
From: "Dave Kor" <davekor@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: word frequency list?
In-Reply-To: <44F5D548.4010401@mindspring.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <44F5D548.4010401@mindspring.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There is the Berkeley Web Term Frequency database which contains over
30 million unique terms extracted from 50 million webpages.

http://elib.cs.berkeley.edu/docfreq/index.html

On 8/31/06, Jason Pump <jpump@mindspring.com> wrote:
> Is there a large list of words and their frequency in the english
> language? Obviously it would differ by corpus but I would like to see
> what's already available.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
Dave Kor, PhD Candidate
Center for Information Mining and Extraction
School of Computing
National University of Singapore.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 04:34:53 2006
Return-Path: <java-user-return-23142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3495 invoked from network); 4 Sep 2006 04:34:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 04:34:53 -0000
Received: (qmail 63600 invoked by uid 500); 4 Sep 2006 04:34:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63577 invoked by uid 500); 4 Sep 2006 04:34:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63566 invoked by uid 99); 4 Sep 2006 04:34:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 21:34:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.202.165.181] (HELO smtpauth01.prod.mesa1.secureserver.net) (64.202.165.181)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 03 Sep 2006 21:34:47 -0700
Received: (qmail 20082 invoked from network); 4 Sep 2006 04:34:26 -0000
Received: from unknown (67.125.22.212)
  by smtpauth01-04.prod.mesa1.secureserver.net (64.202.165.181) with ESMTP; 04 Sep 2006 04:34:26 -0000
From: "Dejan Nenov" <dejannenov@jollyobject.com>
To: <java-user@lucene.apache.org>
Subject: RE: word frequency list?
Date: Sun, 3 Sep 2006 21:35:35 -0700
Message-ID: <007c01c6cfdb$9087e390$6564a8c0@safarijv.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
In-Reply-To: <901c03930609032122v3388a281t50cca93d88562755@mail.gmail.com>
Thread-Index: AcbP2cvCwCeyBH2rTbGErdSKUEIifgAAUPnQ
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Unfortunately the term search at the site is down - gives 500 internal
server error.

-----Original Message-----
From: Dave Kor [mailto:davekor@gmail.com] 
Sent: Sunday, September 03, 2006 9:22 PM
To: java-user@lucene.apache.org
Subject: Re: word frequency list?

There is the Berkeley Web Term Frequency database which contains over
30 million unique terms extracted from 50 million webpages.

http://elib.cs.berkeley.edu/docfreq/index.html

On 8/31/06, Jason Pump <jpump@mindspring.com> wrote:
> Is there a large list of words and their frequency in the english
> language? Obviously it would differ by corpus but I would like to see
> what's already available.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
Dave Kor, PhD Candidate
Center for Information Mining and Extraction
School of Computing
National University of Singapore.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 05:50:22 2006
Return-Path: <java-user-return-23143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17263 invoked from network); 4 Sep 2006 05:50:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 05:50:08 -0000
Received: (qmail 11958 invoked by uid 500); 4 Sep 2006 05:50:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11931 invoked by uid 500); 4 Sep 2006 05:50:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11920 invoked by uid 99); 4 Sep 2006 05:50:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 22:50:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 22:50:02 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3CAFF5B766; Sun,  3 Sep 2006 22:49:33 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2A9B37F403
	for <java-user@lucene.apache.org>; Sun,  3 Sep 2006 22:49:33 -0700 (PDT)
Date: Sun, 3 Sep 2006 22:49:33 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Indexing bigrams and trigrams in Lucene
In-Reply-To: <6129254.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0609032244520.12153@hal.rescomp.berkeley.edu>
References: <6129254.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: This is a text document written by someone. Read this and post your comments
:
: words that must be indexed:
: text
: document
	...
: text document
: document written

typically when people talk about indexing n-grams -- they mean character
wise (so they can find words with simple spelling mistakes) .. it's not
relaly clear why you would need word wise n-grams, why not just search for
phrases with no slop?


: So, I made changes to StandardAnalyzer.java and StandardTokenizer.jj to try
: and achieve this.

if you really need/want an analyzer that produces those tokens, i would
suggest you do it with a TokenFilter -- no reason to complicate the
tokenizing process when you can leave that alone and combine the tokens
instead.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 06:29:12 2006
Return-Path: <java-user-return-23144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24300 invoked from network); 4 Sep 2006 06:29:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 06:29:06 -0000
Received: (qmail 61314 invoked by uid 500); 4 Sep 2006 06:29:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61015 invoked by uid 500); 4 Sep 2006 06:29:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61004 invoked by uid 99); 4 Sep 2006 06:29:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 23:29:00 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jason.polites@gmail.com designates 66.249.82.224 as permitted sender)
Received: from [66.249.82.224] (HELO wx-out-0506.google.com) (66.249.82.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 23:28:59 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1798826wxc
        for <java-user@lucene.apache.org>; Sun, 03 Sep 2006 23:28:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=M4YnAxtyTaF7aHftJ0AKsikcjHgaxLY5Kvh6XN9MT4ObNoIafj4Slfrdo0PqSEAV+UTatPkO4IAHU4h1/GwnwKeBouATEJRGVLjvQRDA6S9jYlyOMQ9ey0yUM8aDxeovaa2L+EYNIsplAY9YNtTIsjs04jYibvQWQIR6HGRON1c=
Received: by 10.70.32.2 with SMTP id f2mr8337365wxf;
        Sun, 03 Sep 2006 23:28:38 -0700 (PDT)
Received: by 10.70.109.14 with HTTP; Sun, 3 Sep 2006 23:28:38 -0700 (PDT)
Message-ID: <d8050f240609032328y9cfd206l46dfa5722996a120@mail.gmail.com>
Date: Mon, 4 Sep 2006 16:28:38 +1000
From: "Jason Polites" <jason.polites@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: Stop words in index
In-Reply-To: <d8050f240609020956i21ec3236ue8bb04c839a99998@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_89421_17871228.1157351318279"
References: <d8050f240609020605p1ad4699cg2c77db6a0691f2a1@mail.gmail.com>
	 <20060902162605.48990.qmail@web50304.mail.yahoo.com>
	 <d8050f240609020956i21ec3236ue8bb04c839a99998@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_89421_17871228.1157351318279
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hey,

Just a quick addendum to this original issue.

My first need was to ensure that stop words were not stored in the index
(which your helpful suggestion led me to confim); however this has raised a
second more scary issue.

It seems that because stop words are excluded from the index, quoted
sequences of tokens which include stop words will yield no results.

That is,

In the default StandardAnalyzer, the stop word list contains the word "on".
If I have a document which contains the phrase "Disney on Ice", the index
will show only "Disney" and "Ice", but not "on".

This is fine, and if the user searches for:

Disney on Ice

They will get a match.  But, it seems that a search for:

"Disney on Ice"

With the quotations indicating the desire for an "exact match", the absence
of stop words in the index means this yields zero results.

Am I going crazy here?

On 9/3/06, Jason Polites <jason.polites@gmail.com> wrote:
>
> Roger that.  I'll double check my code.
>
> Thanks.
>
>
> On 9/3/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com > wrote:
> >
> > They shouldn't be in the index.  You must be using StandardAnalyzer
> > incorrectly, or maybe you think you are using it, but are really using
> > something else.
> >
> > Otis
> >
> > ----- Original Message ----
> > From: Jason Polites <jason.polites@gmail.com>
> > To: java-user@lucene.apache.org
> > Sent: Saturday, September 2, 2006 9:05:27 AM
> > Subject: Stop words in index
> >
> > Hey all,
> >
> > I am using the StandardAnalyzer with my own list of stop words (which is
> > more comprehensive than the default list), and my expectation was that
> > this
> > would omit these stop words from the index when data is indexed using
> > this
> > analyzer.  However, I am seeing stop words in the term vector for
> > documents
> > indexed with this analyzer.
> >
> > Is this expected behaviour?  Is there any way I can force these stop
> > words
> > to be omitted from the index?  Having them in the index is wreaking
> > havoc
> > with term vector analysis to determine document similarity.
> >
> > Thanks.
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_89421_17871228.1157351318279--

From java-user-return-23145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 06:53:09 2006
Return-Path: <java-user-return-23145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27592 invoked from network); 4 Sep 2006 06:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 06:53:09 -0000
Received: (qmail 76131 invoked by uid 500); 4 Sep 2006 06:53:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75938 invoked by uid 500); 4 Sep 2006 06:53:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75927 invoked by uid 99); 4 Sep 2006 06:53:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 23:53:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 03 Sep 2006 23:53:03 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 87B995B766; Sun,  3 Sep 2006 23:52:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7A0B47F403;
	Sun,  3 Sep 2006 23:52:40 -0700 (PDT)
Date: Sun, 3 Sep 2006 23:52:40 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Cc: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Stop words in index
In-Reply-To: <d8050f240609032328y9cfd206l46dfa5722996a120@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609032346580.13766@hal.rescomp.berkeley.edu>
References: <d8050f240609020605p1ad4699cg2c77db6a0691f2a1@mail.gmail.com> 
 <20060902162605.48990.qmail@web50304.mail.yahoo.com> 
 <d8050f240609020956i21ec3236ue8bb04c839a99998@mail.gmail.com>
 <d8050f240609032328y9cfd206l46dfa5722996a120@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: In the default StandardAnalyzer, the stop word list contains the word "on".
: If I have a document which contains the phrase "Disney on Ice", the index
: will show only "Disney" and "Ice", but not "on".

: "Disney on Ice"
:
: With the quotations indicating the desire for an "exact match", the absence
: of stop words in the index means this yields zero results.
:
: Am I going crazy here?

you should still get a match *if* you use the same analyzer (with the same
set of stop words) in your query parser as you did when you indexed your
documents.  if so, then "Disney on Ice" should become a phrase search for
the two successive tokens "disney" and "ice" which is what should have
cone in your doc when it was indexed using that analyzer.

:
: On 9/3/06, Jason Polites <jason.polites@gmail.com> wrote:
: >
: > Roger that.  I'll double check my code.
: >
: > Thanks.
: >
: >
: > On 9/3/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com > wrote:
: > >
: > > They shouldn't be in the index.  You must be using StandardAnalyzer
: > > incorrectly, or maybe you think you are using it, but are really using
: > > something else.
: > >
: > > Otis
: > >
: > > ----- Original Message ----
: > > From: Jason Polites <jason.polites@gmail.com>
: > > To: java-user@lucene.apache.org
: > > Sent: Saturday, September 2, 2006 9:05:27 AM
: > > Subject: Stop words in index
: > >
: > > Hey all,
: > >
: > > I am using the StandardAnalyzer with my own list of stop words (which is
: > > more comprehensive than the default list), and my expectation was that
: > > this
: > > would omit these stop words from the index when data is indexed using
: > > this
: > > analyzer.  However, I am seeing stop words in the term vector for
: > > documents
: > > indexed with this analyzer.
: > >
: > > Is this expected behaviour?  Is there any way I can force these stop
: > > words
: > > to be omitted from the index?  Having them in the index is wreaking
: > > havoc
: > > with term vector analysis to determine document similarity.
: > >
: > > Thanks.
: > >
: > >
: > >
: > >
: > > ---------------------------------------------------------------------
: > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > > For additional commands, e-mail: java-user-help@lucene.apache.org
: > >
: > >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 07:17:47 2006
Return-Path: <java-user-return-23146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33176 invoked from network); 4 Sep 2006 07:17:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 07:17:45 -0000
Received: (qmail 3948 invoked by uid 500); 4 Sep 2006 07:17:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3928 invoked by uid 500); 4 Sep 2006 07:17:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3917 invoked by uid 99); 4 Sep 2006 07:17:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 00:17:39 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jason.polites@gmail.com designates 66.249.82.238 as permitted sender)
Received: from [66.249.82.238] (HELO wx-out-0506.google.com) (66.249.82.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 00:17:38 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1808834wxc
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 00:17:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rutV114gMWqjczdbnA51GZwsCt/9j13vOTjFbhoyE74MZKMgvSqyy+QjoQ7SCD5JR3KQcDjSaoDn6a98+yeiR3DHwhcpecvMWysHAK3RyoP+6Hye16LEr3iYQQ8UpDP9OHcJJLupHun1nHzn9nmxvN9kF2ZcgfxmK8bszSaanFg=
Received: by 10.70.19.16 with SMTP id 16mr8381230wxs;
        Mon, 04 Sep 2006 00:17:17 -0700 (PDT)
Received: by 10.70.109.14 with HTTP; Mon, 4 Sep 2006 00:17:17 -0700 (PDT)
Message-ID: <d8050f240609040017s64ed809ek6fe7e1902cef41f6@mail.gmail.com>
Date: Mon, 4 Sep 2006 17:17:17 +1000
From: "Jason Polites" <jason.polites@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Stop words in index
In-Reply-To: <Pine.LNX.4.58.0609032346580.13766@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_90225_11301391.1157354237228"
References: <d8050f240609020605p1ad4699cg2c77db6a0691f2a1@mail.gmail.com>
	 <20060902162605.48990.qmail@web50304.mail.yahoo.com>
	 <d8050f240609020956i21ec3236ue8bb04c839a99998@mail.gmail.com>
	 <d8050f240609032328y9cfd206l46dfa5722996a120@mail.gmail.com>
	 <Pine.LNX.4.58.0609032346580.13766@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_90225_11301391.1157354237228
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

right ok.  I may have been tinkering with the analyzer between searches.

Thanks

On 9/4/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
> : In the default StandardAnalyzer, the stop word list contains the word
> "on".
> : If I have a document which contains the phrase "Disney on Ice", the
> index
> : will show only "Disney" and "Ice", but not "on".
>
> : "Disney on Ice"
> :
> : With the quotations indicating the desire for an "exact match", the
> absence
> : of stop words in the index means this yields zero results.
> :
> : Am I going crazy here?
>
> you should still get a match *if* you use the same analyzer (with the same
> set of stop words) in your query parser as you did when you indexed your
> documents.  if so, then "Disney on Ice" should become a phrase search for
> the two successive tokens "disney" and "ice" which is what should have
> cone in your doc when it was indexed using that analyzer.
>
> :
> : On 9/3/06, Jason Polites <jason.polites@gmail.com> wrote:
> : >
> : > Roger that.  I'll double check my code.
> : >
> : > Thanks.
> : >
> : >
> : > On 9/3/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com > wrote:
> : > >
> : > > They shouldn't be in the index.  You must be using StandardAnalyzer
> : > > incorrectly, or maybe you think you are using it, but are really
> using
> : > > something else.
> : > >
> : > > Otis
> : > >
> : > > ----- Original Message ----
> : > > From: Jason Polites <jason.polites@gmail.com>
> : > > To: java-user@lucene.apache.org
> : > > Sent: Saturday, September 2, 2006 9:05:27 AM
> : > > Subject: Stop words in index
> : > >
> : > > Hey all,
> : > >
> : > > I am using the StandardAnalyzer with my own list of stop words
> (which is
> : > > more comprehensive than the default list), and my expectation was
> that
> : > > this
> : > > would omit these stop words from the index when data is indexed
> using
> : > > this
> : > > analyzer.  However, I am seeing stop words in the term vector for
> : > > documents
> : > > indexed with this analyzer.
> : > >
> : > > Is this expected behaviour?  Is there any way I can force these stop
> : > > words
> : > > to be omitted from the index?  Having them in the index is wreaking
> : > > havoc
> : > > with term vector analysis to determine document similarity.
> : > >
> : > > Thanks.
> : > >
> : > >
> : > >
> : > >
> : > >
> ---------------------------------------------------------------------
> : > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > > For additional commands, e-mail: java-user-help@lucene.apache.org
> : > >
> : > >
> : >
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_90225_11301391.1157354237228--

From java-user-return-23147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 10:25:36 2006
Return-Path: <java-user-return-23147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89129 invoked from network); 4 Sep 2006 10:25:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 10:25:34 -0000
Received: (qmail 35184 invoked by uid 500); 4 Sep 2006 10:25:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34216 invoked by uid 500); 4 Sep 2006 10:25:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34205 invoked by uid 99); 4 Sep 2006 10:25:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 03:25:27 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO nz-out-0102.google.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 03:25:26 -0700
Received: by nz-out-0102.google.com with SMTP id z6so778419nzd
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 03:25:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=rG5Lr4der2GZO5aWNIrLMop9+LpL0gFIzMARY2lDbO75esoIpWymzc7hEAJDj+JFhljEEix/OsY9MHPGl+39GHnF+bfdZ/cw+JC0+31Q94N9Fj3mn43Gr8VnXTLvYJ3LNTLMEbzZ126hup/CgkBbBVCqERJRdYlv1HV6MDKrI7I=
Received: by 10.65.73.16 with SMTP id a16mr2951362qbl;
        Mon, 04 Sep 2006 03:25:05 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id d2sm168532qbc.2006.09.04.03.24.54;
        Mon, 04 Sep 2006 03:25:05 -0700 (PDT)
Message-ID: <44FBFEFA.8040607@gmail.com>
Date: Mon, 04 Sep 2006 06:24:58 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com> <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu> <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Keeping in mind that Hoss's input is much more valuable than mine...

It sounds like you want what I originally tgave you. You want to be able 
to perform complex queries with the QueryParser and you want '-' and '_' 
to not break words, and you want quoted words to be tokenized as one 
token with no extra processing. Eric's concerns are obviously 
valid...but you are not hacking the lucene code for the new Standard 
Analyzer I hope...pull it out and make a your own...that should just be 
a custom analyzer that acts a lot like the standard analyzer. As far as 
the query parser...if you want to be able to mix normal searching with 
your quoted requirements you are going to have to make your own 
queryparser...no fun on that...so why not pull the queryparser 
out...make the single line change...and later, if the queryparser is 
updated...take the new one and make the single line change. Not that big 
of a nightmare.

Hopefully Hoss can give you something better...but from what I 
understand you want the queryparser language and you want your quotes 
deal...and they do not go together without the change I gave you. If 
their is another way to do it, its hard to believe it will be easier 
than maintaining a single line change in QueryParser.

Keep in mind I am a lucene beginner. Both Hoss and Erick are more 
knowledgeable than I am about Lucene. Just putting in my two sense.

- Mark

Chris Hostetter wrote:
> : Thanks for your input.  I'm sure I could do as you suggest (and maybe that
> : will end up being my best option), but I had hoped to use a string for
> : creating the query object, particularly as some of my queries are a bit
> : complex.
>
> you have to clarify what you mean by "use a string for creating the query
> object" ... there's nothing in what i suggested that implies you can't do
> that, that's exactly what i'm suggesting you do...
>
>    String input = ...;
>    Analyzer a = new YourCustomAnalyzer();
>    // because you know your analyzer allways produces exactly one token...
>    Token t = a.tokenStream("yourField", new StringReader(input)).next();
>    Query yourQuery = new TermQuery("yourField", t.termText());
>
> ...if your queries are more complex then just the "exactish" matching you
> described before, then that's a seperate issue -- what you described
> didn't sound like it required any special input processing -- you said you
> had a "string" and you wanted to find exact matches on that string (with
> some normalization) ... but that you didn't want your input split on
> whitespace, or hyphens, or any of the "special" characters QueryParser
> uses.
>
> If you want other things then that certainly makes things more
> complicated, but the basic idea is still the same ... so what exactly do
> you mean when you say it's more complicated?
>
>
> : > I haven't really been following this thread, but it's gotten so long
> : > i got interested.
> : >
> : > from whta i can tell skimming the discussion so far, it seems like the
> : > biggest confusion is about the definition of a "phrase" and what analyzers
> : > do with "quote" characters and what the QueryParser does with "quote"
> : > charcters -- when ultimately you don't seem to really care about "phrases"
> : > in a textual searching sense; nor do you seem to care about any of the
> : > "features" of the QueryParser.
> : >
> : > it seems that what you care about is:
> : >
> : >  1) making documents, and adding a list of "text chunks" to those
> : >     documents (what you've been calling phrases)
> : >  2) you then want to be able to search for "almost-exact" matches on those
> : >     "text chunks" ... these matches should be "exactish" because you don't
> : >     want partial matches based on white spaces, or splitting on hyphens,
> : >     but they shouldn't be truely exact because you want some simple
> : >     normalization...
> : >
> : > : actually would like to "normalize" a phrase (spaces) or a hyphenated
> : > word or
> : > : an underscored word to the same value -- e.g. MS-WORD or ms_WORd or "MS
> : > : Word" --> ms_word.
> : >
> : > ...in which case, you should:
> : >  a) write yourself an analyzer which does no "tokenizing" (ie: each input
> : >     Field value generates a single token) but does the normalization you
> : >     want.
> : >  b) use this Analyzer when you add the fields to your documents, even
> : >     though you don't want *real* tokenization, add make the field type
> : >     TOKENIZED so your analyzer gets used.
> : >  c) when you get some text input to serach on, pass it to the same
> : >     Analyzer, take the Token you get back and manualy construct a
> : >     TermQuery out of it for the neccessary field.
> : >
> : > ...that's it.  that's all she wrote -- don't even look in QueryParser's
> : > general direction, at all.
> : >
> : >
> : >
> : > -Hoss
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> : >
> :
> : --
> : View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6128827
> : Sent from the Lucene - Java Users forum at Nabble.com.
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 12:36:14 2006
Return-Path: <java-user-return-23148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50904 invoked from network); 4 Sep 2006 12:36:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 12:36:13 -0000
Received: (qmail 93269 invoked by uid 500); 4 Sep 2006 12:36:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93239 invoked by uid 500); 4 Sep 2006 12:36:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93228 invoked by uid 99); 4 Sep 2006 12:36:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 05:36:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 05:36:04 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GKDfz-0001bf-UB
	for java-user@lucene.apache.org; Mon, 04 Sep 2006 05:35:43 -0700
Message-ID: <6134864.post@talk.nabble.com>
Date: Mon, 4 Sep 2006 05:35:43 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com> <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu> <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Yeah, they are more complex than the "exactish" match -- basically, there are
more fields involved -- combined sometimes with AND and sometimes with OR,
and sometimes negated field values, sometimes groupings, etc.  These other
field values are all single words (no spaces), and a search might involve a
wildcard on them.  Hope that helps.

Thanks.


Chris Hostetter wrote:
> 
> 
> : Thanks for your input.  I'm sure I could do as you suggest (and maybe
> that
> : will end up being my best option), but I had hoped to use a string for
> : creating the query object, particularly as some of my queries are a bit
> : complex.
> 
> you have to clarify what you mean by "use a string for creating the query
> object" ... there's nothing in what i suggested that implies you can't do
> that, that's exactly what i'm suggesting you do...
> 
>    String input = ...;
>    Analyzer a = new YourCustomAnalyzer();
>    // because you know your analyzer allways produces exactly one token...
>    Token t = a.tokenStream("yourField", new StringReader(input)).next();
>    Query yourQuery = new TermQuery("yourField", t.termText());
> 
> ...if your queries are more complex then just the "exactish" matching you
> described before, then that's a seperate issue -- what you described
> didn't sound like it required any special input processing -- you said you
> had a "string" and you wanted to find exact matches on that string (with
> some normalization) ... but that you didn't want your input split on
> whitespace, or hyphens, or any of the "special" characters QueryParser
> uses.
> 
> If you want other things then that certainly makes things more
> complicated, but the basic idea is still the same ... so what exactly do
> you mean when you say it's more complicated?
> 
> 
> : > I haven't really been following this thread, but it's gotten so long
> : > i got interested.
> : >
> : > from whta i can tell skimming the discussion so far, it seems like the
> : > biggest confusion is about the definition of a "phrase" and what
> analyzers
> : > do with "quote" characters and what the QueryParser does with "quote"
> : > charcters -- when ultimately you don't seem to really care about
> "phrases"
> : > in a textual searching sense; nor do you seem to care about any of the
> : > "features" of the QueryParser.
> : >
> : > it seems that what you care about is:
> : >
> : >  1) making documents, and adding a list of "text chunks" to those
> : >     documents (what you've been calling phrases)
> : >  2) you then want to be able to search for "almost-exact" matches on
> those
> : >     "text chunks" ... these matches should be "exactish" because you
> don't
> : >     want partial matches based on white spaces, or splitting on
> hyphens,
> : >     but they shouldn't be truely exact because you want some simple
> : >     normalization...
> : >
> : > : actually would like to "normalize" a phrase (spaces) or a hyphenated
> : > word or
> : > : an underscored word to the same value -- e.g. MS-WORD or ms_WORd or
> "MS
> : > : Word" --> ms_word.
> : >
> : > ...in which case, you should:
> : >  a) write yourself an analyzer which does no "tokenizing" (ie: each
> input
> : >     Field value generates a single token) but does the normalization
> you
> : >     want.
> : >  b) use this Analyzer when you add the fields to your documents, even
> : >     though you don't want *real* tokenization, add make the field type
> : >     TOKENIZED so your analyzer gets used.
> : >  c) when you get some text input to serach on, pass it to the same
> : >     Analyzer, take the Token you get back and manualy construct a
> : >     TermQuery out of it for the neccessary field.
> : >
> : > ...that's it.  that's all she wrote -- don't even look in
> QueryParser's
> : > general direction, at all.
> : >
> : >
> : >
> : > -Hoss
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> : >
> :
> : --
> : View this message in context:
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6128827
> : Sent from the Lucene - Java Users forum at Nabble.com.
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6134864
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 13:11:22 2006
Return-Path: <java-user-return-23149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60153 invoked from network); 4 Sep 2006 13:11:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 13:11:21 -0000
Received: (qmail 45393 invoked by uid 500); 4 Sep 2006 13:11:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45268 invoked by uid 500); 4 Sep 2006 13:11:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45257 invoked by uid 99); 4 Sep 2006 13:11:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 06:11:14 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO nz-out-0102.google.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 06:11:13 -0700
Received: by nz-out-0102.google.com with SMTP id z6so801301nzd
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 06:10:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=VbsyCvf2ULML2xgaHbB5rUCDjcfgCkgM8XLBzNCn9vjrG5ktCdQ/PCIvSQBdiuu/E9J729723zPZYeefOG3h9GDso3D2JixKjnEbPrUBgnYtGfGskzXF9kgaB/T7rXlF9ATmeLgoT/VIPHkOGgiOCI+zt57pCZtSvf7dBIMNs/Y=
Received: by 10.65.121.9 with SMTP id y9mr5505628qbm;
        Mon, 04 Sep 2006 06:10:53 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e19sm3656962qbe.2006.09.04.06.10.51;
        Mon, 04 Sep 2006 06:10:52 -0700 (PDT)
Message-ID: <44FC25DD.8090709@gmail.com>
Date: Mon, 04 Sep 2006 09:10:53 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com> <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu> <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu> <6134864.post@talk.nabble.com>
In-Reply-To: <6134864.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

More to consider:
perhaps there is some way to get what you want by overriding 
getFieldQuery(String, String) instead. I have not been able to come up 
with anything simple off the top of my head, but overriding 
getFieldQuery would free you from having to make that line change on 
every Lucene update. Perhaps you could scan the string in getFieldQuery 
and if you find a space, skip the analyzing and return a term query, 
putting the quotes back on -- good old boy might come in and you pump 
out "good old boy" as a term query. If there is no space in the query 
part then analyze like normal.

- Mark
Philip Brown wrote:
> Yeah, they are more complex than the "exactish" match -- basically, there are
> more fields involved -- combined sometimes with AND and sometimes with OR,
> and sometimes negated field values, sometimes groupings, etc.  These other
> field values are all single words (no spaces), and a search might involve a
> wildcard on them.  Hope that helps.
>
> Thanks.
>
>
> Chris Hostetter wrote:
>   
>> : Thanks for your input.  I'm sure I could do as you suggest (and maybe
>> that
>> : will end up being my best option), but I had hoped to use a string for
>> : creating the query object, particularly as some of my queries are a bit
>> : complex.
>>
>> you have to clarify what you mean by "use a string for creating the query
>> object" ... there's nothing in what i suggested that implies you can't do
>> that, that's exactly what i'm suggesting you do...
>>
>>    String input = ...;
>>    Analyzer a = new YourCustomAnalyzer();
>>    // because you know your analyzer allways produces exactly one token...
>>    Token t = a.tokenStream("yourField", new StringReader(input)).next();
>>    Query yourQuery = new TermQuery("yourField", t.termText());
>>
>> ...if your queries are more complex then just the "exactish" matching you
>> described before, then that's a seperate issue -- what you described
>> didn't sound like it required any special input processing -- you said you
>> had a "string" and you wanted to find exact matches on that string (with
>> some normalization) ... but that you didn't want your input split on
>> whitespace, or hyphens, or any of the "special" characters QueryParser
>> uses.
>>
>> If you want other things then that certainly makes things more
>> complicated, but the basic idea is still the same ... so what exactly do
>> you mean when you say it's more complicated?
>>
>>
>> : > I haven't really been following this thread, but it's gotten so long
>> : > i got interested.
>> : >
>> : > from whta i can tell skimming the discussion so far, it seems like the
>> : > biggest confusion is about the definition of a "phrase" and what
>> analyzers
>> : > do with "quote" characters and what the QueryParser does with "quote"
>> : > charcters -- when ultimately you don't seem to really care about
>> "phrases"
>> : > in a textual searching sense; nor do you seem to care about any of the
>> : > "features" of the QueryParser.
>> : >
>> : > it seems that what you care about is:
>> : >
>> : >  1) making documents, and adding a list of "text chunks" to those
>> : >     documents (what you've been calling phrases)
>> : >  2) you then want to be able to search for "almost-exact" matches on
>> those
>> : >     "text chunks" ... these matches should be "exactish" because you
>> don't
>> : >     want partial matches based on white spaces, or splitting on
>> hyphens,
>> : >     but they shouldn't be truely exact because you want some simple
>> : >     normalization...
>> : >
>> : > : actually would like to "normalize" a phrase (spaces) or a hyphenated
>> : > word or
>> : > : an underscored word to the same value -- e.g. MS-WORD or ms_WORd or
>> "MS
>> : > : Word" --> ms_word.
>> : >
>> : > ...in which case, you should:
>> : >  a) write yourself an analyzer which does no "tokenizing" (ie: each
>> input
>> : >     Field value generates a single token) but does the normalization
>> you
>> : >     want.
>> : >  b) use this Analyzer when you add the fields to your documents, even
>> : >     though you don't want *real* tokenization, add make the field type
>> : >     TOKENIZED so your analyzer gets used.
>> : >  c) when you get some text input to serach on, pass it to the same
>> : >     Analyzer, take the Token you get back and manualy construct a
>> : >     TermQuery out of it for the neccessary field.
>> : >
>> : > ...that's it.  that's all she wrote -- don't even look in
>> QueryParser's
>> : > general direction, at all.
>> : >
>> : >
>> : >
>> : > -Hoss
>> : >
>> : >
>> : > ---------------------------------------------------------------------
>> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> : > For additional commands, e-mail: java-user-help@lucene.apache.org
>> : >
>> : >
>> : >
>> :
>> : --
>> : View this message in context:
>> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6128827
>> : Sent from the Lucene - Java Users forum at Nabble.com.
>> :
>> :
>> : ---------------------------------------------------------------------
>> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> : For additional commands, e-mail: java-user-help@lucene.apache.org
>> :
>>
>>
>>
>> -Hoss
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>     
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 15:20:46 2006
Return-Path: <java-user-return-23150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1973 invoked from network); 4 Sep 2006 15:20:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 15:20:45 -0000
Received: (qmail 24008 invoked by uid 500); 4 Sep 2006 15:20:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23984 invoked by uid 500); 4 Sep 2006 15:20:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23973 invoked by uid 99); 4 Sep 2006 15:20:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 08:20:38 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO nz-out-0102.google.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 08:20:37 -0700
Received: by nz-out-0102.google.com with SMTP id z6so826748nzd
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 08:20:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=X85b/4HEyN06AMxmlsMv/Ky090Qe4kCz2BgEpmOEkL0qBUXcFU4c7P0Qmlpa2RhEB2ZHajLnRAE1DbIxBlwXw56gHcJzslmMgqKIW60lyebmK+mC2tSFfzlj9xnvil8052xbrIwXHp4JzuJuv1m1Ur2IRgfAftjku1w/daI4Bb8=
Received: by 10.65.98.4 with SMTP id a4mr3382475qbm;
        Mon, 04 Sep 2006 08:20:16 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e14sm3733039qbe.2006.09.04.08.20.15;
        Mon, 04 Sep 2006 08:20:16 -0700 (PDT)
Message-ID: <44FC4433.4060907@gmail.com>
Date: Mon, 04 Sep 2006 11:20:19 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How to combine multiple fields to a single field for indexing
References: <44EC75E0.4050301@wolfram.com> <DD946AF6-069E-4701-8214-070EB04B3C9D@ehatchersolutions.com>
In-Reply-To: <DD946AF6-069E-4701-8214-070EB04B3C9D@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How do you set the position increment gap between each addition to the 
same field name. Should you set it as high as possible to prevent 
proximity queries from crossing it? I have been looking for the code to 
find out how to put a gap between each same name field addition, but I 
have been unable to find what I am looking for. Also, when using a 
nearspan, things blow up if you look for something within 
Integer.maximum--sic :) -- Will this be the same case for setting the 
positional gap and if so is there a good max to use to keep a query from 
ever crossing it?

Thanks,

Mark

Erik Hatcher wrote:
>
> On Aug 23, 2006, at 11:36 AM, Suba Suresh wrote:
>> In "Lucene In Action" book it says it is better practice to combine 
>> two fields into one field and index it than use the 
>> MultiFieldQueryParser. Do I initially index both the fields and then 
>> index them again together? When I index them together do I index the 
>> fieldnames or values? Can someone give me an example of how to do it?
>
> What I do is simply index all the fields individually that need to be 
> searchable or just stored, but also index a general-purpose "contents" 
> field with all of that same text.
>
> You can add multiple fields of the same name to a document, making it 
> easy to just keep appending to a "contents" field for a document.  You 
> can see how this is done in the Lucene in Action code in the 
> TestDataDocumentHandler.java - however I took a cruder approach and 
> appended the fields together with a space in between them rather than 
> using the multiple valued field approach.  Either technique will work 
> just fine.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 16:38:50 2006
Return-Path: <java-user-return-23151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20277 invoked from network); 4 Sep 2006 16:38:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 16:38:45 -0000
Received: (qmail 99783 invoked by uid 500); 4 Sep 2006 16:38:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99374 invoked by uid 500); 4 Sep 2006 16:38:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99363 invoked by uid 99); 4 Sep 2006 16:38:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 09:38:38 -0700
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.106.62] (HELO web39801.mail.mud.yahoo.com) (209.191.106.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 04 Sep 2006 09:38:34 -0700
Received: (qmail 34598 invoked by uid 60001); 4 Sep 2006 16:38:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=sHo4p2VkUFlDbWLMU1Uyky1wZEjMTiL4iVZQdrh9ZfE6qV50Fh76Ori0e/jd/Q1KlQwKwJVlbLezVzfAHO6K685zokNZcYqAy2OEYGJqJ3aqFb87W0oRnxdaz+Ig/1OdP0oPJNodhJi1Q+INeeutgtbTHOSJXN4Kb9IHAgy6JTw=  ;
Message-ID: <20060904163813.34595.qmail@web39801.mail.mud.yahoo.com>
Received: from [212.201.73.106] by web39801.mail.mud.yahoo.com via HTTP; Mon, 04 Sep 2006 09:38:13 PDT
Date: Mon, 4 Sep 2006 09:38:13 -0700 (PDT)
From: khgcutg hsowhj <hemanbegins3@yahoo.com>
Subject: indexing and searching semantic documents using lucene
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1751443059-1157387893=:30805"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1751443059-1157387893=:30805
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi all,
   
    I want to know how can i index and search a semantic document like rdf/owl document using lucene.Does lucene support indexing of semantic documents.please provide some sample example.for example if i have a small ontology of faculty.owl as
  

   <owl:Class rdf:ID="associateProfessor">
      <rdfs:subClassOf rdf:resource="#academicStaffMember"/>
   </owl:Class>

   <owl:Class rdf:about="associateProfessor">
      <owl:disjointWith rdf:resource="#professor"/>
      <owl:disjointWith rdf:resource="#assistantProfessor"/>
   </owl:Class>

   <owl:Class rdf:ID="faculty">
      <owl:equivalentClass rdf:resource="#academicStaffMember"/>
   </owl:Class>

   <owl:ObjectProperty rdf:ID="isTaughtBy">
      <rdfs:domain rdf:resource="#course"/>
      <rdfs:range rdf:resource="#academicStaffMember"/>
      <rdfs:subPropertyOf rdf:resource="#involves"/>
   </owl:ObjectProperty>

   <owl:ObjectProperty rdf:ID="teaches">
      <rdfs:range rdf:resource="#course"/>
      <rdfs:domain rdf:resource="#academicStaffMember"/>
      <owl:inverseOf rdf:resource="#isTaughtBy"/>
   </owl:ObjectProperty>

   <owl:Class rdf:about="#firstYearCourse">
      <rdfs:subClassOf>
         <owl:Restriction>
            <owl:onProperty rdf:resource="#isTaughtBy"/>
            <owl:allValuesFrom rdf:resource="#Professor"/>
         </owl:Restriction>
      </rdfs:subClassOf>
   </owl:Class>

   <owl:Class rdf:about="#course">
      <rdfs:subClassOf>
         <owl:Restriction>
            <owl:onProperty rdf:resource="#isTaughtBy"/>
            <owl:minCardinality rdf:datatype="&xsd;nonNegativeInteger">1</owl:minCardinality>
         </owl:Restriction>
      </rdfs:subClassOf>
   </owl:Class>

   <owl:Class rdf:ID="peopleAtUni">
      <owl:unionOf rdf:parseType="Collection">
      <owl:Class rdf:about="#staffMember"/>
      <owl:Class rdf:about="#student"/>
      </owl:unionOf>
   </owl:Class>

Some instances

   <academicStaffMember rdf:ID="949352">
      <uni:age rdf:datatype="&xsd;integer">39<uni:age>
   </academicStaffMember>

   <course rdf:about="CIT1111">
      <isTaughtBy rdf:resource="949318"/>
      <isTaughtBy rdf:resource="949352"/>
   </course>
   
   
  how can i index this faculty.owl using lucene.Also please  provide any literature or papers related to semantic document indexing and searching using lucene if know some.Any type of help is appreciated.
   
   
  Best regards,
  Rahul

 			
---------------------------------
Get your own web address for just $1.99/1st yr. We'll help. Yahoo! Small Business.
--0-1751443059-1157387893=:30805--

From java-user-return-23152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 19:57:40 2006
Return-Path: <java-user-return-23152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68383 invoked from network); 4 Sep 2006 19:57:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 19:57:39 -0000
Received: (qmail 78514 invoked by uid 500); 4 Sep 2006 19:57:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78339 invoked by uid 500); 4 Sep 2006 19:57:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78328 invoked by uid 99); 4 Sep 2006 19:57:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 12:57:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 12:57:33 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6A4D15B76E; Mon,  4 Sep 2006 12:56:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5E9837F403
	for <java-user@lucene.apache.org>; Mon,  4 Sep 2006 12:56:57 -0700 (PDT)
Date: Mon, 4 Sep 2006 12:56:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6134864.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu>
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
 <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
 <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
 <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
 <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
 <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
 <6134864.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Yeah, they are more complex than the "exactish" match -- basically, there are
: more fields involved -- combined sometimes with AND and sometimes with OR,
: and sometimes negated field values, sometimes groupings, etc.  These other
: field values are all single words (no spaces), and a search might involve a
: wildcard on them.  Hope that helps.

I'm not seeing any problems with using QueryParser -- what you still need
however is an Analyzer for the fields you want the special treatment on.
if you write that analyzer, combine it with the StandardAnalyzer into a
PerFieldAnalyzer and use that in your IndexWriter and QueryParser you
should be good to go with things like.

if you do that, and it still doesn't work the way you expect, write a
small self contained JUnit test that indexes a few sample docs into a
RAMDirectory index and queries against showing whta you expect to happen
(that isn't working) and send that to the list.

People will be able to give you much better advice once they see some
executable code that illustrates the problems you are having.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 20:07:09 2006
Return-Path: <java-user-return-23153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70174 invoked from network); 4 Sep 2006 20:07:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 20:07:08 -0000
Received: (qmail 91940 invoked by uid 500); 4 Sep 2006 20:07:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91797 invoked by uid 500); 4 Sep 2006 20:07:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91786 invoked by uid 99); 4 Sep 2006 20:07:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 13:07:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 13:07:01 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4C5655B766; Mon,  4 Sep 2006 13:06:41 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 401D97F403
	for <java-user@lucene.apache.org>; Mon,  4 Sep 2006 13:06:41 -0700 (PDT)
Date: Mon, 4 Sep 2006 13:06:41 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: How to combine multiple fields to a single field for indexing
In-Reply-To: <44FC4433.4060907@gmail.com>
Message-ID: <Pine.LNX.4.58.0609041300560.6144@hal.rescomp.berkeley.edu>
References: <44EC75E0.4050301@wolfram.com> <DD946AF6-069E-4701-8214-070EB04B3C9D@ehatchersolutions.com>
 <44FC4433.4060907@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: How do you set the position increment gap between each addition to the

it does't have an explicit setter, you just subclass that Analyzer of your
choosing and override getPositionIncrementGap to return the value of your
choosing -- it could be a fixed value, or your Analyzer could be
sophisticated and know to put in a larger gap after it sees special marker
values/tokens (ie: a gap of 10 after each "sentence", a gap of 100 after
each "paragraph", a gap of 100 after each "page", ...)

: same field name. Should you set it as high as possible to prevent
: proximity queries from crossing it? I have been looking for the code to
	...
: nearspan, things blow up if you look for something within
: Integer.maximum--sic :) -- Will this be the same case for setting the
: positional gap and if so is there a good max to use to keep a query from
: ever crossing it?

How big of a gap you should use depends entirely on how you want to use it
-- you could say that a gap of "10" is big enough if you know your
application will never ask for phrase/span queries with slop greater then
"10" ... or you could pick 100, or 1000 .. it's entirely up to you; the
question is do you ever *want* your clients to be able to "bridge the
gap"?  if so, then they need to know how big the gap is, if not then they
need to be prevented from asking for slop bigger then the gap.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 20:33:04 2006
Return-Path: <java-user-return-23154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76420 invoked from network); 4 Sep 2006 20:33:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 20:33:03 -0000
Received: (qmail 21386 invoked by uid 500); 4 Sep 2006 20:32:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21355 invoked by uid 500); 4 Sep 2006 20:32:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21344 invoked by uid 99); 4 Sep 2006 20:32:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 13:32:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucene.developer@googlemail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO nz-out-0102.google.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 13:32:56 -0700
Received: by nz-out-0102.google.com with SMTP id z6so874265nzd
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 13:32:35 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=o8AYLUmy14zeuJLlV8r5Iec5n9XIgvvtLpzNZQOFVoymONZkKI8bJN6aDUAqDOacV+/xq+2uJZnBtG69y86p6bimVbi9bHBeiHLYEacSDUA2ZVZYqq1Edrr0xnKI90oZBtNDfRTaQE9Ty+yggAIee5sBT7NnPn1qCecjMyKQFr4=
Received: by 10.64.209.6 with SMTP id h6mr3784238qbg;
        Mon, 04 Sep 2006 13:32:35 -0700 (PDT)
Received: by 10.65.224.20 with HTTP; Mon, 4 Sep 2006 13:32:35 -0700 (PDT)
Message-ID: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>
Date: Mon, 4 Sep 2006 22:32:35 +0200
From: lude <lucene.developer@googlemail.com>
To: java-user <java-user@lucene.apache.org>
Subject: QueryParser returns all documents
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_116916_15753463.1157401955772"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_116916_15753463.1157401955772
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,

a simple, stupid question to the friendly mailinglist:

How do you have to define the query-string to get all documents of an index
be returned by using the QueryParser?
In theory a query like 'NOT word_not_in_index' should find and return all
documents. In practice this doesn't work (no documents are found).

Greetings
lude

------=_Part_116916_15753463.1157401955772--

From java-user-return-23155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 20:51:14 2006
Return-Path: <java-user-return-23155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81226 invoked from network); 4 Sep 2006 20:51:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 20:51:12 -0000
Received: (qmail 50791 invoked by uid 500); 4 Sep 2006 20:51:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49798 invoked by uid 500); 4 Sep 2006 20:51:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49787 invoked by uid 99); 4 Sep 2006 20:51:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 13:51:07 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.8.83 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.8.83] (HELO pne-smtpout1-sn2.hy.skanova.net) (81.228.8.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 13:51:06 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn2.hy.skanova.net (7.2.075)
        id 44F471DC001B0B95 for java-user@lucene.apache.org; Mon, 4 Sep 2006 22:50:44 +0200
Subject: Re: QueryParser returns all documents
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>
References: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Mon, 04 Sep 2006 22:50:42 +0200
Message-Id: <1157403043.4707.144.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 2006-09-04 at 22:32 +0200, lude wrote:

> How do you have to define the query-string to get all documents of an index
> be returned by using the QueryParser?
> In theory a query like 'NOT word_not_in_index' should find and return all
> documents. In practice this doesn't work (no documents are found).

Why would you want to do this?

Use IndexReader methods to iterate all documents.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 04 22:35:25 2006
Return-Path: <java-user-return-23156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99878 invoked from network); 4 Sep 2006 22:35:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2006 22:35:22 -0000
Received: (qmail 41639 invoked by uid 500); 4 Sep 2006 22:35:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41609 invoked by uid 500); 4 Sep 2006 22:35:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41598 invoked by uid 99); 4 Sep 2006 22:35:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 15:35:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 15:35:14 -0700
Received: by py-out-1112.google.com with SMTP id m51so3380702pye
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 15:34:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nU++5clqi2rc2dj0EjK79gcAgZHTRR4n+m+HdI/bDKubDw2wRVaeZF47e/n0LDukgCzMe8yW0yQUhMfsG//T0djgEYVusgzR0m3QHXMMxna//dWP97o/HtxHlaHx5bv/Phug2a/nFFsT6V6rZrddTy7+DYMxg4BgiPXGQowfZiM=
Received: by 10.35.29.6 with SMTP id g6mr11087946pyj;
        Mon, 04 Sep 2006 15:34:54 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Mon, 4 Sep 2006 15:34:53 -0700 (PDT)
Message-ID: <359a92830609041534w619753d3pbb3923a3bbae8a1b@mail.gmail.com>
Date: Mon, 4 Sep 2006 18:34:53 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: QueryParser returns all documents
In-Reply-To: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_36535_1264038.1157409293911"
References: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_36535_1264038.1157409293911
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Also, as I remember, there's explicitly no support for a query consisting
just of "not x"

On 9/4/06, lude <lucene.developer@googlemail.com> wrote:
>
> Hello,
>
> a simple, stupid question to the friendly mailinglist:
>
> How do you have to define the query-string to get all documents of an
> index
> be returned by using the QueryParser?
> In theory a query like 'NOT word_not_in_index' should find and return all
> documents. In practice this doesn't work (no documents are found).
>
> Greetings
> lude
>
>

------=_Part_36535_1264038.1157409293911--

From java-user-return-23157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 01:22:07 2006
Return-Path: <java-user-return-23157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23741 invoked from network); 5 Sep 2006 01:22:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 01:22:05 -0000
Received: (qmail 49184 invoked by uid 500); 5 Sep 2006 01:22:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48129 invoked by uid 500); 5 Sep 2006 01:21:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48118 invoked by uid 99); 5 Sep 2006 01:21:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 18:21:59 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of liuping.james@gmail.com designates 66.249.82.238 as permitted sender)
Received: from [66.249.82.238] (HELO wx-out-0506.google.com) (66.249.82.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 18:21:58 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2081993wxc
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 18:21:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=ilNBbM741nTFZOB/58fupesMhYqaUBF+JDBEZIHEvOeWAYY0MXelfYFHxWuDQqLaG8lcu35OTb2iCgg216MU8T8U+N4oJXyWYMmHnKzW3hMyXBvt2SUPPQdpjJUzGLNYGz8u++8jquFCUTYpou4/st/9R8CXXILH4J1nc4tLucw=
Received: by 10.90.72.10 with SMTP id u10mr1218461aga;
        Mon, 04 Sep 2006 18:21:37 -0700 (PDT)
Received: by 10.90.74.7 with HTTP; Mon, 4 Sep 2006 18:21:37 -0700 (PDT)
Message-ID: <5d5204510609041821p30993714h6d71764fdb8e5bde@mail.gmail.com>
Date: Tue, 5 Sep 2006 09:21:37 +0800
From: "James liu" <liuping.james@gmail.com>
To: java-user@lucene.apache.org
Subject: Anyone know which way lucene read index file
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21232_20460374.1157419297602"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21232_20460374.1157419297602
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

After reading 'lucene in action',  i know the format of indexfile.

which way lucene read index file? line by line?

I m very interesting.

------=_Part_21232_20460374.1157419297602--

From java-user-return-23158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 02:27:48 2006
Return-Path: <java-user-return-23158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41873 invoked from network); 5 Sep 2006 02:27:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 02:27:41 -0000
Received: (qmail 99968 invoked by uid 500); 5 Sep 2006 02:27:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99369 invoked by uid 500); 5 Sep 2006 02:27:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99354 invoked by uid 99); 5 Sep 2006 02:27:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 19:27:35 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of davekor@gmail.com designates 66.249.82.235 as permitted sender)
Received: from [66.249.82.235] (HELO wx-out-0506.google.com) (66.249.82.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 19:27:35 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2097776wxc
        for <java-user@lucene.apache.org>; Mon, 04 Sep 2006 19:27:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ADDUNzxHUqLdOcIDWDTHYEvDN6qh3sD2KriGjS7f2EmOZNSv1rnsXlHDAXL5fMBbGzbCGpX793QlwUzWNue54OSg7Dwig1M5UyX6/BkpLkXtFBO0PoHasqfmyYhXAaBKG8vQIvN1t6NzVpEu1oTdUtzXF6f+TKv0gmv542lAc4w=
Received: by 10.90.117.15 with SMTP id p15mr1208412agc;
        Mon, 04 Sep 2006 19:27:14 -0700 (PDT)
Received: by 10.90.72.20 with HTTP; Mon, 4 Sep 2006 19:27:14 -0700 (PDT)
Message-ID: <901c03930609041927oa0b3e48tb934c54a4d812f03@mail.gmail.com>
Date: Tue, 5 Sep 2006 10:27:14 +0800
From: "Dave Kor" <davekor@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: word frequency list?
In-Reply-To: <007c01c6cfdb$9087e390$6564a8c0@safarijv.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <901c03930609032122v3388a281t50cca93d88562755@mail.gmail.com>
	 <007c01c6cfdb$9087e390$6564a8c0@safarijv.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you scrolled down the page, there is a download link to the data
files. There's no need to use the search form.

On 9/4/06, Dejan Nenov <dejannenov@jollyobject.com> wrote:
> Unfortunately the term search at the site is down - gives 500 internal
> server error.
>
> -----Original Message-----
> From: Dave Kor [mailto:davekor@gmail.com]
> Sent: Sunday, September 03, 2006 9:22 PM
> To: java-user@lucene.apache.org
> Subject: Re: word frequency list?
>
> There is the Berkeley Web Term Frequency database which contains over
> 30 million unique terms extracted from 50 million webpages.
>
> http://elib.cs.berkeley.edu/docfreq/index.html
>
> On 8/31/06, Jason Pump <jpump@mindspring.com> wrote:
> > Is there a large list of words and their frequency in the english
> > language? Obviously it would differ by corpus but I would like to see
> > what's already available.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> --
> Dave Kor, PhD Candidate
> Center for Information Mining and Extraction
> School of Computing
> National University of Singapore.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Dave Kor, PhD Candidate
Center for Information Mining and Extraction
School of Computing
National University of Singapore.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 03:44:22 2006
Return-Path: <java-user-return-23159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54171 invoked from network); 5 Sep 2006 03:44:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 03:44:14 -0000
Received: (qmail 39411 invoked by uid 500); 5 Sep 2006 03:44:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39381 invoked by uid 500); 5 Sep 2006 03:44:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39370 invoked by uid 99); 5 Sep 2006 03:44:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 20:44:09 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 20:44:07 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GKRqk-000306-VN
	for java-user@lucene.apache.org; Mon, 04 Sep 2006 20:43:46 -0700
Message-ID: <6145591.post@talk.nabble.com>
Date: Mon, 4 Sep 2006 20:43:46 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com> <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu> <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu> <6134864.post@talk.nabble.com> <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


So, if I do as you suggest below (using PerFieldAnalyzerWrapper with
StandardAnalyzer) then I still need to enclose in quotes the phrases
(keywords with spaces) when I issue the search, and they are only returned
in the results if the case is identical to how it was added?  (This seems to
be what I observe anyway.  And whether I add as TOKENIZED or UN_TOKENIZED
seems to have no effect.)

Thanks.


Chris Hostetter wrote:
> 
> 
> : Yeah, they are more complex than the "exactish" match -- basically,
> there are
> : more fields involved -- combined sometimes with AND and sometimes with
> OR,
> : and sometimes negated field values, sometimes groupings, etc.  These
> other
> : field values are all single words (no spaces), and a search might
> involve a
> : wildcard on them.  Hope that helps.
> 
> I'm not seeing any problems with using QueryParser -- what you still need
> however is an Analyzer for the fields you want the special treatment on.
> if you write that analyzer, combine it with the StandardAnalyzer into a
> PerFieldAnalyzer and use that in your IndexWriter and QueryParser you
> should be good to go with things like.
> 
> if you do that, and it still doesn't work the way you expect, write a
> small self contained JUnit test that indexes a few sample docs into a
> RAMDirectory index and queries against showing whta you expect to happen
> (that isn't working) and send that to the list.
> 
> People will be able to give you much better advice once they see some
> executable code that illustrates the problems you are having.
> 
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6145591
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 05:05:52 2006
Return-Path: <java-user-return-23160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62801 invoked from network); 5 Sep 2006 05:05:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 05:05:52 -0000
Received: (qmail 76278 invoked by uid 500); 5 Sep 2006 05:05:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76247 invoked by uid 500); 5 Sep 2006 05:05:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76236 invoked by uid 99); 5 Sep 2006 05:05:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 22:05:47 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.8.83 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.8.83] (HELO pne-smtpout1-sn2.hy.skanova.net) (81.228.8.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Sep 2006 22:05:46 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn2.hy.skanova.net (7.2.075)
        id 44F471DC001BC0CB for java-user@lucene.apache.org; Tue, 5 Sep 2006 07:05:25 +0200
Subject: Re: Anyone know which way lucene read index file
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <5d5204510609041821p30993714h6d71764fdb8e5bde@mail.gmail.com>
References: <5d5204510609041821p30993714h6d71764fdb8e5bde@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 05 Sep 2006 07:05:24 +0200
Message-Id: <1157432724.4933.4.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-09-05 at 09:21 +0800, James liu wrote:

> which way lucene read index file?

http://lucene.apache.org/java/docs/fileformats.html

It is not too far fetched to compare it with a Berkeley DB.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 09:38:51 2006
Return-Path: <java-user-return-23161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37081 invoked from network); 5 Sep 2006 09:38:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 09:38:40 -0000
Received: (qmail 38657 invoked by uid 500); 5 Sep 2006 09:38:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38636 invoked by uid 500); 5 Sep 2006 09:38:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38625 invoked by uid 99); 5 Sep 2006 09:38:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:38:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:38:34 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GKXNk-00045M-TL
	for java-user@lucene.apache.org; Tue, 05 Sep 2006 02:38:12 -0700
Message-ID: <6148808.post@talk.nabble.com>
Date: Tue, 5 Sep 2006 02:38:12 -0700 (PDT)
From: Venkateshprasanna <prasannahmv@yahoo.co.in>
To: java-user@lucene.apache.org
Subject: Where do I get org.apache.commons.collections package sources?
In-Reply-To: <20050621164611.GA656@amok.local>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: prasannahmv@yahoo.co.in
References: <42B81DC5.7000409@attentio.com> <20050621164611.GA656@amok.local>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I saw these classes and want to use them for my implementation as well. But I
am not getting the source code for the specified package:
org.apache.commons.collections

Is there any other way of implementing the same?

Why only classes from that package has to be used?

Regards,
Venkateshprasanna




I built a filter for exactly this purpose (statistics over word
combinations); I will send it to you directly. It uses some containers
from org.apache.commons.collections, so I guess it's not suitable yet
for inclusion in the lucene distribution.

The filter handles position increments > 1 by inserting fillers, so a
phrase "look at my car" will become "look _ _ car" when the words "at"
and "my" are filtered out from the stream, and "car" is assigned a
position increment of 3. But since StopFilter does not currently
produce position increments, you will hardly ever see them. The filter
does not handle position increments == 0. (But will produce them for
ngrams that start at the same position.)


-- 
View this message in context: http://www.nabble.com/index-phrases-tf90411.html#a6148808
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 09:41:56 2006
Return-Path: <java-user-return-23162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38029 invoked from network); 5 Sep 2006 09:41:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 09:41:52 -0000
Received: (qmail 44571 invoked by uid 500); 5 Sep 2006 09:41:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44542 invoked by uid 500); 5 Sep 2006 09:41:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44531 invoked by uid 99); 5 Sep 2006 09:41:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:41:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucene.developer@googlemail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO nz-out-0102.google.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:41:45 -0700
Received: by nz-out-0102.google.com with SMTP id z6so939826nzd
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 02:41:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EPTTWBysRg+LHs/lPf3RnX/GUTbKRcDK8PjedW9kFdF+S1UwQ1Iug4b9UmrXw/Y6eXFFoafqwpeZPU85pIQIQGAyiwB2KbcdX13s5vUxJzS0aN5X4VYhSmUr+8EV9MC4w+y8ZRy6AGzYZTHsVa2Mxp+pAcwa8QGAh7Fr1P0HckQ=
Received: by 10.65.20.3 with SMTP id x3mr4361350qbi;
        Tue, 05 Sep 2006 02:41:24 -0700 (PDT)
Received: by 10.65.224.20 with HTTP; Tue, 5 Sep 2006 02:41:24 -0700 (PDT)
Message-ID: <a218b3050609050241j492a57br54fa8a6a52c39352@mail.gmail.com>
Date: Tue, 5 Sep 2006 11:41:24 +0200
From: lude <lucene.developer@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: QueryParser returns all documents
In-Reply-To: <1157403043.4707.144.camel@localhost>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_124385_26482779.1157449284237"
References: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>
	 <1157403043.4707.144.camel@localhost>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_124385_26482779.1157449284237
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

> Why would you want to do this?

This is a 'feature-request' of our searchengine.
The user should have the possibilty to query for all(!) documents.
This would allow him to see all available document listet.

Is there a simple way to define a query that returns all documents of an
index?

Thanks lude

On 9/4/06, karl wettin <karl.wettin@gmail.com> wrote:
>
> On Mon, 2006-09-04 at 22:32 +0200, lude wrote:
>
> > How do you have to define the query-string to get all documents of an
> index
> > be returned by using the QueryParser?
> > In theory a query like 'NOT word_not_in_index' should find and return
> all
> > documents. In practice this doesn't work (no documents are found).
>
> Why would you want to do this?
>
> Use IndexReader methods to iterate all documents.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_124385_26482779.1157449284237--

From java-user-return-23163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 09:55:26 2006
Return-Path: <java-user-return-23163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41009 invoked from network); 5 Sep 2006 09:55:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 09:55:25 -0000
Received: (qmail 64204 invoked by uid 500); 5 Sep 2006 09:55:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63380 invoked by uid 500); 5 Sep 2006 09:55:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63368 invoked by uid 99); 5 Sep 2006 09:55:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:55:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.238.4.154] (HELO colibri.its.uu.se) (130.238.4.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:55:18 -0700
Received: by colibri.its.uu.se (Postfix, from userid 211)
	id 36C96802; Tue,  5 Sep 2006 11:54:55 +0200 (DFT)
Received: from colibri.its.uu.se(127.0.0.1) by colibri.its.uu.se via virus-scan 
	id s14347; Tue, 5 Sep 06 11:54:47 +0200
Received: from [130.238.171.116] (pc171-116.ub.UU.SE [130.238.171.116])
	by colibri.its.uu.se (Postfix) with ESMTP id 9329D2BC
	for <java-user@lucene.apache.org>; Tue,  5 Sep 2006 11:54:47 +0200 (DFT)
Message-ID: <44FD4967.8050800@ub.uu.se>
Date: Tue, 05 Sep 2006 11:54:47 +0200
From: Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20060330)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: QueryParser returns all documents
References: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>	 <1157403043.4707.144.camel@localhost> <a218b3050609050241j492a57br54fa8a6a52c39352@mail.gmail.com>
In-Reply-To: <a218b3050609050241j492a57br54fa8a6a52c39352@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You could define your own query syntax (for example an empty string) for 
a query matching all docs, examine the query string before passing it to 
QueryParser, and instead create a MatchAllDocsQuery when a you have a match.

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MatchAllDocsQuery.html


lude wrote:
>> Why would you want to do this?
> 
> 
> This is a 'feature-request' of our searchengine.
> The user should have the possibilty to query for all(!) documents.
> This would allow him to see all available document listet.
> 
> Is there a simple way to define a query that returns all documents of an
> index?
> 
> Thanks lude
> 
> On 9/4/06, karl wettin <karl.wettin@gmail.com> wrote:
> 
>>
>> On Mon, 2006-09-04 at 22:32 +0200, lude wrote:
>>
>> > How do you have to define the query-string to get all documents of an
>> index
>> > be returned by using the QueryParser?
>> > In theory a query like 'NOT word_not_in_index' should find and return
>> all
>> > documents. In practice this doesn't work (no documents are found).
>>
>> Why would you want to do this?
>>
>> Use IndexReader methods to iterate all documents.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 09:55:39 2006
Return-Path: <java-user-return-23164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41089 invoked from network); 5 Sep 2006 09:55:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 09:55:37 -0000
Received: (qmail 64760 invoked by uid 500); 5 Sep 2006 09:55:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64732 invoked by uid 500); 5 Sep 2006 09:55:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64721 invoked by uid 99); 5 Sep 2006 09:55:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:55:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.90.213.186] (HELO netbreeze.ch) (212.90.213.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:55:30 -0700
Received: from [192.168.1.38] by netbreeze.ch
	(MDaemon PRO v9.0.6)
	with ESMTP id md50000019336.msg
	for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 11:54:56 +0200
Message-ID: <44FD48FB.2050201@netbreeze.ch>
Date: Tue, 05 Sep 2006 11:52:59 +0200
From: Laurent Hoss <l.hoss@netbreeze.ch>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: QueryParser returns all documents
References: <a218b3050609041332r20788031y92cbaeafe1f6ee73@mail.gmail.com>	 <1157403043.4707.144.camel@localhost> <a218b3050609050241j492a57br54fa8a6a52c39352@mail.gmail.com>
In-Reply-To: <a218b3050609050241j492a57br54fa8a6a52c39352@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Authenticated-Sender: l.hoss@netbreeze.ch
X-Spam-Processed: netbreeze.ch, Tue, 05 Sep 2006 11:54:56 +0200
	(not processed: message from valid local sender)
X-MDRemoteIP: 192.168.1.38
X-Return-Path: l.hoss@netbreeze.ch
X-Envelope-From: l.hoss@netbreeze.ch
X-MDaemon-Deliver-To: java-user@lucene.apache.org
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Why not add a single Field to each Document, like

|d.add(*new *Field("doctype","document", Field.Store.YES, Field.Index.TOKENIZED));|

Then searching for "doctype:document" returns all documents

-Laurent

lude wrote:
>> Why would you want to do this?
>
> This is a 'feature-request' of our searchengine.
> The user should have the possibilty to query for all(!) documents.
> This would allow him to see all available document listet.
>
> Is there a simple way to define a query that returns all documents of an
> index?
>
> Thanks lude
>
> On 9/4/06, karl wettin <karl.wettin@gmail.com> wrote:
>>
>> On Mon, 2006-09-04 at 22:32 +0200, lude wrote:
>>
>> > How do you have to define the query-string to get all documents of an
>> index
>> > be returned by using the QueryParser?
>> > In theory a query like 'NOT word_not_in_index' should find and return
>> all
>> > documents. In practice this doesn't work (no documents are found).
>>
>> Why would you want to do this?
>>
>> Use IndexReader methods to iterate all documents.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>


-- 
Mit freundlichen Grssen


Laurent Hoss                                   
NETBREEZE GmbH
Ringstrasse 12
CH-8600 Duebendorf
Switzerland

Tel.  +41 1 824 32 75

www.netbreeze.ch                     



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 09:57:44 2006
Return-Path: <java-user-return-23165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41872 invoked from network); 5 Sep 2006 09:57:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 09:57:43 -0000
Received: (qmail 69421 invoked by uid 500); 5 Sep 2006 09:57:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69394 invoked by uid 500); 5 Sep 2006 09:57:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69383 invoked by uid 99); 5 Sep 2006 09:57:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:57:35 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 02:57:34 -0700
Received: by py-out-1112.google.com with SMTP id m51so3662593pye
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 02:57:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:subject:date:mime-version:content-type:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=ui2KvNjjNEViy34e+mJJoiDOCHX6d+jAzBppsNWZEh7gj+f4GWvEeGcFxdKgCm+u8G8A10Opn8jKYEG3xQZDGxXWbp/wPoJTeX83tTuZE35bjtVVs6z6oJGIOlM9zCbx4koj0t/m7ra4AolQCZLe/nh94S23JkOIVybeGn1jwnM=
Received: by 10.35.49.1 with SMTP id b1mr12131503pyk;
        Tue, 05 Sep 2006 02:57:13 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id h41sm6449261pyh.2006.09.05.02.57.11;
        Tue, 05 Sep 2006 02:57:13 -0700 (PDT)
Message-ID: <002701c6d0d1$a8157a80$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
Subject: IndexSearcher executed concurrently
Date: Tue, 5 Sep 2006 17:57:07 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0024_01C6D114.B41B7FD0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0024_01C6D114.B41B7FD0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

aGksDQogICBUaGUgc291cmNlIGNvZGUgaW4gdGhlIGVuZCBpcyB0aGUgY2xhc3MgdG8gc2VhcmNo
IHN0aC4gDQogICAxLiBJIHdhbmRlciBpZiBjb25jdXJyZW50IHVzZXJzIGNhbiBnZXQgdGhlIHJp
Z2h0IHJlc3VsdHMgd2l0aCBkaWZmZXJlbnQgcXVlcmllcyBzaW5jZSB0aGUgY2xhc3MgaGFzIG9u
bHkgb25lIEluZGV4U2VhcmNoZXIgaW5zdGFuY2UuIA0KICAgMi4gQXMgd2Uga25vdywgYSBuZXcg
SW5kZXhTZWFyY2hlciBjYW4gYmUgY3JlYXRlZCB3aGVuIHVzZXIgcmVxdWVzdCBoaXMgcXVlcnku
IElmIGZpcnN0IG1ldGhvZCBnZXRzIHRoZSByaWdodA0KcmVzdWx0LCBzbywgd2hpY2ggbWV0aG9k
IGNhbiBnZXQgYmV0dGVyIHBlcmZvcm1hbmNlLiANCg0KICAgcHVibGljIGNsYXNzIE15U2VhcmNo
ZXJ7DQogICAgICBwcml2YXRlIFNlYXJjaGVyIGluZGV4U2VhcmNoZXIgPSBuZXcgSW5kZXhTZWFy
Y2hlcigiaW5kZXhQYXRoIik7DQogICAgICBwcml2YXRlIFF1ZXJ5UGFyc2VyIHBhcnNlciA9IG5l
dyBRdWVyeVBhcnNlcigiY29udGVudCIsIG5ldyBTdGFuZGFyZEFuYWx5emVyKCkpOw0KDQogICAg
ICBwdWJsaWMgRG9jdW1lbnRbXSBzZWFyY2goU3RyaW5nIHF1ZXJ5TGluZSl7IA0KICAgICAgICAg
IEhpdHMgaGl0cyA9IGluZGV4U2VhcmNoZXIuc2VhcmNoKHBhcnNlci5wYXJzZShxdWVyeUxpbmUp
KTsNCiAgICAgICAgICBEb2N1bWVudCBkb2NzID0gbmV3IERvY3VtZW50W2hpdHMubGVuZ3RoKCld
Ow0KICAgICAgICAgIGZvcihpbnQgaSA9IDA7IGkgPCBoaXRzLmxlbmd0aCgpOyBpICsrKXsNCiAg
ICAgICAgICAgICBkb2NzW2ldID0gaGl0cy5kb2MoaSk7DQogICAgICAgICAgfQ0KICAgICAgICAg
IHJldHVybiBkb2NzOw0KICAgICAgfSANCg0KICAgIFRoYW5rcyBmb3IgeW91IGhlbHAhICANCiAN
CiAgICAgQmVzdCBSZWdhcmRzLg0KICAgICAgIGphY2t5ICANCiAgICAgICA=

------=_NextPart_000_0024_01C6D114.B41B7FD0--


From java-user-return-23166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 10:54:39 2006
Return-Path: <java-user-return-23166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58125 invoked from network); 5 Sep 2006 10:54:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 10:54:35 -0000
Received: (qmail 49549 invoked by uid 500); 5 Sep 2006 10:54:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49388 invoked by uid 500); 5 Sep 2006 10:54:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49377 invoked by uid 99); 5 Sep 2006 10:54:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 03:54:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [80.251.174.43] (HELO srvexc001.domain.outsystems.com) (80.251.174.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 03:54:28 -0700
Received: from PCGFG1 ([192.168.0.167]) by srvexc001.domain.outsystems.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 5 Sep 2006 11:54:07 +0100
From: =?iso-8859-1?Q?Gon=E7alo_Gaiolas?= <goncalo.gaiolas@outsystems.com>
To: <java-user@lucene.apache.org>
Subject: Scoring based on fields and categorization
Date: Tue, 5 Sep 2006 11:54:07 +0100
Message-ID: <013001c6d0d9$9c179670$a700a8c0@domain.outsystems.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0131_01C6D0E1.FDDBFE70"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbQ2Zv/F9My/Z6BS0SmmpFZdEUpcg==
X-OriginalArrivalTime: 05 Sep 2006 10:54:07.0160 (UTC) FILETIME=[9C12DB80:01C6D0D9]
X-TM-AS-Product-Ver: SMEX-7.2.0.1122-3.6.1039-14662.001
X-TM-AS-Result: No--19.090500-0.000000-31
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0131_01C6D0E1.FDDBFE70
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi there,

=20

I need to make two changes to Lucene :

=20

-          Scoring should take in consideration not only the relevance =
of
the contents, but also two numerical values in other document fields. =
For
example, let=92s assume that the normal score for Document A is 0.33 (as
calculated by Lucene). What I need is that it=92s true score is 0.33 * =
(value
of field A) * (value of field B). What is the best way to accomplish =
this?
I=92ve read that changing the scoring algorithm is difficult and =
painful.=20

-          I need to make sure only one document per Category is =
retrieved.
Categories are also implemented as index fields. So, for example, if my
search yields two documents with the same Category (let=92s assume =
Movies),
only the higher scoring document is returned. I=92m assuming the easiest =
way
to implement this is post-processing the fetching process, maybe with a
HitCollector?

=20

I really appreciate any help on these subjects,

=20

Thanks a lot

=20

Gon=E7alo Gaiolas


------=_NextPart_000_0131_01C6D0E1.FDDBFE70--


From java-user-return-23167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 12:04:14 2006
Return-Path: <java-user-return-23167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98183 invoked from network); 5 Sep 2006 12:04:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 12:04:12 -0000
Received: (qmail 39292 invoked by uid 500); 5 Sep 2006 12:04:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38337 invoked by uid 500); 5 Sep 2006 12:04:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38323 invoked by uid 99); 5 Sep 2006 12:04:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:04:05 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.8.83 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.8.83] (HELO pne-smtpout1-sn2.hy.skanova.net) (81.228.8.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:04:04 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn2.hy.skanova.net (7.2.075)
        id 44F471DC001DB627 for java-user@lucene.apache.org; Tue, 5 Sep 2006 14:03:43 +0200
Subject: Re: Where do I get org.apache.commons.collections package sources?
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <6148808.post@talk.nabble.com>
References: <42B81DC5.7000409@attentio.com>
	 <20050621164611.GA656@amok.local>  <6148808.post@talk.nabble.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 05 Sep 2006 14:03:33 +0200
Message-Id: <1157457814.4933.5.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-09-05 at 02:38 -0700, Venkateshprasanna wrote:
> I saw these classes and want to use them for my implementation as well.
> But I am not getting the source code for the specified package:
> org.apache.commons.collections

http://jakarta.apache.org/commons/collections/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 12:10:43 2006
Return-Path: <java-user-return-23168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 862 invoked from network); 5 Sep 2006 12:10:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 12:10:42 -0000
Received: (qmail 53474 invoked by uid 500); 5 Sep 2006 12:10:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53419 invoked by uid 500); 5 Sep 2006 12:10:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53401 invoked by uid 99); 5 Sep 2006 12:10:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:10:32 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.8.83 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.8.83] (HELO pne-smtpout1-sn2.hy.skanova.net) (81.228.8.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:10:32 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn2.hy.skanova.net (7.2.075)
        id 44F471DC001DBEE1 for java-user@lucene.apache.org; Tue, 5 Sep 2006 14:10:10 +0200
Subject: Re: Scoring based on fields and categorization
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <013001c6d0d9$9c179670$a700a8c0@domain.outsystems.com>
References: <013001c6d0d9$9c179670$a700a8c0@domain.outsystems.com>
Content-Type: text/plain; charset=UTF-8
Organization: snigel heavy industries
Date: Tue, 05 Sep 2006 14:09:57 +0200
Message-Id: <1157458197.4933.13.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-09-05 at 11:54 +0100, Gonalo Gaiolas wrote:
> -          Scoring should take in consideration not only the relevance of
> the contents, but also two numerical values in other document fields. For
> example, lets assume that the normal score for Document A is 0.33 (as
> calculated by Lucene). What I need is that its true score is 0.33 * (value
> of field A) * (value of field B). What is the best way to accomplish this?
> Ive read that changing the scoring algorithm is difficult and painful. 

Indeed you want to stay off the scoring algorithm if you can. It is
probably much eaiser for you to just boost the document based on the
values you have: 

http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Document.html#setBoost(float)


> -          I need to make sure only one document per Category is retrieved.
> Categories are also implemented as index fields. So, for example, if my
> search yields two documents with the same Category (lets assume Movies),
> only the higher scoring document is returned. Im assuming the easiest way
> to implement this is post-processing the fetching process, maybe with a
> HitCollector?

Yes, in most cases that would be the way to go.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 12:17:44 2006
Return-Path: <java-user-return-23169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3488 invoked from network); 5 Sep 2006 12:17:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 12:17:29 -0000
Received: (qmail 64460 invoked by uid 500); 5 Sep 2006 12:17:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64436 invoked by uid 500); 5 Sep 2006 12:17:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64414 invoked by uid 99); 5 Sep 2006 12:17:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:17:19 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.11.159 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.11.159] (HELO pne-smtpout2-sn1.fre.skanova.net) (81.228.11.159)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:17:18 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout2-sn1.fre.skanova.net (7.2.075)
        id 44FBE71B0006572D for java-user@lucene.apache.org; Tue, 5 Sep 2006 14:16:56 +0200
Subject: Re: IndexSearcher executed concurrently
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <002701c6d0d1$a8157a80$0d01a8c0@client06>
References: <002701c6d0d1$a8157a80$0d01a8c0@client06>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 05 Sep 2006 14:16:46 +0200
Message-Id: <1157458606.4933.20.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-09-05 at 17:57 +0800, jacky wrote:
> 1. I wander if concurrent users can get the right results with
> different queries since the class has only one IndexSearcher instance.
>  
> 2. As we know, a new IndexSearcher can be created when user request
> his query. If first method gets the right result, so, which method can
> get better performance. 

I'm afraid I don't understand your questions. What do you mean by "the
right results"? Perhaps this quote from the javadocs is what you are
looking for: For performance reasons it is recommended to open only one
IndexSearcher and use it for all of your searches.

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/IndexSearcher.html


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 12:33:35 2006
Return-Path: <java-user-return-23170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9418 invoked from network); 5 Sep 2006 12:33:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 12:33:14 -0000
Received: (qmail 90556 invoked by uid 500); 5 Sep 2006 12:32:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90527 invoked by uid 500); 5 Sep 2006 12:32:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90504 invoked by uid 99); 5 Sep 2006 12:32:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:32:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [80.251.174.43] (HELO srvexc001.domain.outsystems.com) (80.251.174.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:32:58 -0700
Received: from PCGFG1 ([192.168.0.167]) by srvexc001.domain.outsystems.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 5 Sep 2006 13:32:36 +0100
From: =?iso-8859-1?Q?Gon=E7alo_Gaiolas?= <goncalo.gaiolas@outsystems.com>
To: <java-user@lucene.apache.org>
Subject: RE: Scoring based on fields and categorization
Date: Tue, 5 Sep 2006 13:32:36 +0100
Message-ID: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbQ5EvUPsB1Dq0pRIyfybDTxusXbQAAng5w
In-Reply-To: <1157458197.4933.13.camel@localhost>
X-OriginalArrivalTime: 05 Sep 2006 12:32:36.0421 (UTC) FILETIME=[5E448750:01C6D0E7]
X-TM-AS-Product-Ver: SMEX-7.2.0.1122-3.6.1039-14662.001
X-TM-AS-Result: No--17.765300-0.000000-2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Karl,

Thanks for the super quick response!

One question - should this boosting occur during index time or at query
time? I'm a bit confused as to where should I apply this boost in order =
to
affect the results of a search query.

Once again thanks a lot!

Gon=E7alo

-----Original Message-----
From: karl wettin [mailto:karl.wettin@gmail.com]=20
Sent: ter=E7a-feira, 5 de Setembro de 2006 13:10
To: java-user@lucene.apache.org
Subject: Re: Scoring based on fields and categorization

On Tue, 2006-09-05 at 11:54 +0100, Gon=E7alo Gaiolas wrote:
> -          Scoring should take in consideration not only the relevance =
of
> the contents, but also two numerical values in other document fields. =
For
> example, let=92s assume that the normal score for Document A is 0.33 =
(as
> calculated by Lucene). What I need is that it=92s true score is 0.33 *
(value
> of field A) * (value of field B). What is the best way to accomplish =
this?
> I=92ve read that changing the scoring algorithm is difficult and =
painful.=20

Indeed you want to stay off the scoring algorithm if you can. It is
probably much eaiser for you to just boost the document based on the
values you have:=20

http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Documen=
t.h
tml#setBoost(float)


> -          I need to make sure only one document per Category is
retrieved.
> Categories are also implemented as index fields. So, for example, if =
my
> search yields two documents with the same Category (let=92s assume =
Movies),
> only the higher scoring document is returned. I=92m assuming the =
easiest way
> to implement this is post-processing the fetching process, maybe with =
a
> HitCollector?

Yes, in most cases that would be the way to go.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 12:49:00 2006
Return-Path: <java-user-return-23171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13201 invoked from network); 5 Sep 2006 12:48:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 12:48:48 -0000
Received: (qmail 14905 invoked by uid 500); 5 Sep 2006 12:48:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14879 invoked by uid 500); 5 Sep 2006 12:48:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14868 invoked by uid 99); 5 Sep 2006 12:48:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:48:42 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.11.98 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.11.98] (HELO pne-smtpout1-sn1.fre.skanova.net) (81.228.11.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 05:48:41 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn1.fre.skanova.net (7.2.076)
        id 44FD2E48000180F6 for java-user@lucene.apache.org; Tue, 5 Sep 2006 14:48:19 +0200
Subject: RE: Scoring based on fields and categorization
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com>
References: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com>
Content-Type: text/plain; charset=ISO-8859-1
Organization: snigel heavy industries
Date: Tue, 05 Sep 2006 14:48:08 +0200
Message-Id: <1157460488.4933.43.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-09-05 at 13:32 +0100, Gonalo Gaiolas wrote:
> should this boosting occur during index time or at query time? I'm a
> bit confused as to where should I apply this boost in order to affect
> the results of a search query.

You boost at index time.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 13:07:49 2006
Return-Path: <java-user-return-23172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18894 invoked from network); 5 Sep 2006 13:07:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 13:07:45 -0000
Received: (qmail 44477 invoked by uid 500); 5 Sep 2006 13:07:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44245 invoked by uid 500); 5 Sep 2006 13:07:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44234 invoked by uid 99); 5 Sep 2006 13:07:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:07:37 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:07:36 -0700
Received: by py-out-1112.google.com with SMTP id w49so2613229pyg
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 06:07:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=t+lru+TKoolqaft1kHTs9X85ERI03wiWQioBHp17iKiCP/II547Mn+JrFYKHHmqJHysjxFJncmfRHevGhOhspLvc4XiSUKVKLt4SGUNFqBlRVGFNa6h+1lnAzCFwmOuOYefKJtjM/x7pLIEdAHqts6BWqgU6UxoGJdqQLORQA6E=
Received: by 10.35.117.5 with SMTP id u5mr12424056pym;
        Tue, 05 Sep 2006 06:07:15 -0700 (PDT)
Received: by 10.35.119.5 with HTTP; Tue, 5 Sep 2006 06:07:15 -0700 (PDT)
Message-ID: <f72d6a190609050607n343dc096i9c9d4ccd7acd8568@mail.gmail.com>
Date: Tue, 5 Sep 2006 21:07:15 +0800
From: jacky <jackychenp@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher executed concurrently
In-Reply-To: <1157458606.4933.20.camel@localhost>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_64594_1788870.1157461635353"
References: <002701c6d0d1$a8157a80$0d01a8c0@client06>
	 <1157458606.4933.20.camel@localhost>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_64594_1788870.1157461635353
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

     Oh, that is great! I didn't notice this javadoc. Maybe  i need to
update my lucene lib.
     I had thought  one user requests his query, other queries maybe impact
on the result since using a single IndexSearcher.  Forget these mails.
Thanks a lot..



On 9/5/06, karl wettin <karl.wettin@gmail.com> wrote:
>
> On Tue, 2006-09-05 at 17:57 +0800, jacky wrote:
> > 1. I wander if concurrent users can get the right results with
> > different queries since the class has only one IndexSearcher instance.
> >
> > 2. As we know, a new IndexSearcher can be created when user request
> > his query. If first method gets the right result, so, which method can
> > get better performance.
>
> I'm afraid I don't understand your questions. What do you mean by "the
> right results"? Perhaps this quote from the javadocs is what you are
> looking for: For performance reasons it is recommended to open only one
> IndexSearcher and use it for all of your searches.
>
>
> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/IndexSearcher.html
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
  Best Regards.
      jacky

------=_Part_64594_1788870.1157461635353--

From java-user-return-23173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 13:09:00 2006
Return-Path: <java-user-return-23173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19167 invoked from network); 5 Sep 2006 13:08:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 13:08:52 -0000
Received: (qmail 49838 invoked by uid 500); 5 Sep 2006 13:08:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49806 invoked by uid 500); 5 Sep 2006 13:08:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49773 invoked by uid 99); 5 Sep 2006 13:08:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:08:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.213.161.130] (HELO redhat.sirma.bg) (62.213.161.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:08:40 -0700
Received: from [192.168.128.211] (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with ESMTP id k85D8HsX020880
	for <java-user@lucene.apache.org>; Tue, 5 Sep 2006 16:08:17 +0300
Message-ID: <44FD76C0.3080303@sirma.bg>
Date: Tue, 05 Sep 2006 16:08:16 +0300
From: Stanislav Jordanov <stenly@sirma.bg>
User-Agent: Thunderbird 1.4 (Windows/20050908)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: obtaining the number of documents stored in a .cfs file
References: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com> <1157460488.4933.43.camel@localhost>
In-Reply-To: <1157460488.4933.43.camel@localhost>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Suppose I have a bunch of valid .cfs files while the 
segmens/segments.new file is missing or invalid.
The task is to 'recover' the present .cfs files into a valid index.
I think it will be necessary and sufficient to create a segments file 
that references the .cfs files.
The only problem I've encountered in generating a vaild and well-formed 
segments file is that I need to know the number of docs in each cfs file.
So the couple of questions is:
Do I have to put the right number of docs for each segments or any 
(dummy) number will do?
If I have to put the right number there, how do I get it having the cfs 
file?

Stanislav

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 13:22:32 2006
Return-Path: <java-user-return-23174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22655 invoked from network); 5 Sep 2006 13:22:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 13:22:25 -0000
Received: (qmail 77501 invoked by uid 500); 5 Sep 2006 13:22:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77463 invoked by uid 500); 5 Sep 2006 13:22:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77452 invoked by uid 99); 5 Sep 2006 13:22:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:22:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.161.245.217] (HELO mail.inforama.fr) (62.161.245.217)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:22:17 -0700
Received: from anaho (unknown [62.161.245.216])
	by mail.inforama.fr (Postfix) with SMTP id 600B23FE2C
	for <java-user@lucene.apache.org>; Tue,  5 Sep 2006 15:47:07 +0200 (CEST)
Message-ID: <0f6601c6d0ee$426d6fe0$962214ac@if.inforama.fr>
Reply-To: "Pierre Van Ingelandt" <pvaningelandt@inforama.fr>
From: "Pierre Van Ingelandt" <pvaningelandt@inforama.fr>
To: <java-user@lucene.apache.org>
References: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com>
Subject: Highlighting "really" found terms
Date: Tue, 5 Sep 2006 15:21:56 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

After a search, I need to highlight only the terms that do "really"
correspond to the query.
For instance :
1/ I search docs with toto and titi in the SAME sentence (using
SpanNotQuery(spanNearQuery({"toto","titi"},99999)),".") )
2/ Then I try to highlight "toto" and "titi" found (I use the queryscorer
from highlight package)

Then the problem is that it highlights ALL the titi and toto terms in the
documents. (even if they are not in the same sentence).
Is there a way to highlight only the terms really found ?

Thanks a lot !

Pierre


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 13:54:14 2006
Return-Path: <java-user-return-23175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40870 invoked from network); 5 Sep 2006 13:54:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 13:54:14 -0000
Received: (qmail 40421 invoked by uid 500); 5 Sep 2006 13:54:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40401 invoked by uid 500); 5 Sep 2006 13:54:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40390 invoked by uid 99); 5 Sep 2006 13:54:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:54:07 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:54:06 -0700
Received: by py-out-1112.google.com with SMTP id w49so2627149pyg
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 06:53:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Zrae2B0XPM5C96ky5d7U3x4racX2VhUDf0g/4GIvKPPjAtMRu00mJ1wvEkVSYUvws3cTjtypaSQwDACLesk8D5DNATiNjyQWHqpJtGRFK8HrKVB/g7d9i1AlZORKb40SxnXWKKeCA6Bxi7xE3/NXxaUrMFu52JaoXxOHu4JtyiE=
Received: by 10.35.106.15 with SMTP id i15mr12492538pym;
        Tue, 05 Sep 2006 06:53:46 -0700 (PDT)
Received: by 10.35.131.15 with HTTP; Tue, 5 Sep 2006 06:53:45 -0700 (PDT)
Message-ID: <ab0709bf0609050653q780d276du619aa79c0bab088a@mail.gmail.com>
Date: Tue, 5 Sep 2006 09:53:46 -0400
From: "Mark Miller" <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Subject: Filter inside SpanQuery
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_71605_25423346.1157464426097"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_71605_25423346.1157464426097
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Anybody experimented with a filter in a spanquery? Pipedream?

thanks,

Mark

------=_Part_71605_25423346.1157464426097--

From java-user-return-23176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 13:59:48 2006
Return-Path: <java-user-return-23176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44013 invoked from network); 5 Sep 2006 13:59:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 13:59:33 -0000
Received: (qmail 54505 invoked by uid 500); 5 Sep 2006 13:59:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54476 invoked by uid 500); 5 Sep 2006 13:59:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54465 invoked by uid 99); 5 Sep 2006 13:59:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:59:27 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 06:59:25 -0700
Received: by py-out-1112.google.com with SMTP id w49so2628798pyg
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 06:59:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=JE5RSWyKedJ9SPrYRkt1Gm2Cvk8WzFidKiLfN+QkrPrNMSUiBMqiOa4SGIcZ/o4pLk5WwxJ5VjDcvpB4JgNa5ViCN6DlUChdPxyhS7QF+2QZWV4cSuIl1wO7N4SMpgONCfY+sRj6GMCAidFg1yT67WDnXFFnIfOeoGaP7XXVHTA=
Received: by 10.35.103.1 with SMTP id f1mr12526069pym;
        Tue, 05 Sep 2006 06:59:05 -0700 (PDT)
Received: by 10.35.131.15 with HTTP; Tue, 5 Sep 2006 06:59:04 -0700 (PDT)
Message-ID: <ab0709bf0609050659l5936c9b3w1364e11baa1e3e3c@mail.gmail.com>
Date: Tue, 5 Sep 2006 09:59:04 -0400
From: "Mark Miller" <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Subject: RE: Filter inside SpanQuery
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_71678_9145860.1157464744921"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_71678_9145860.1157464744921
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Okay, more realistically, anyone have any experience with Randy Puttnick's
modifaction of wildcardquery and fuzzyquery? Any ideas on getting something
like those in a SpanQuery?

- Mark

------=_Part_71678_9145860.1157464744921--

From java-user-return-23177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 14:47:16 2006
Return-Path: <java-user-return-23177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57906 invoked from network); 5 Sep 2006 14:47:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 14:47:09 -0000
Received: (qmail 36263 invoked by uid 500); 5 Sep 2006 14:47:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36221 invoked by uid 500); 5 Sep 2006 14:47:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36210 invoked by uid 99); 5 Sep 2006 14:47:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 07:47:02 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.220] (HELO web26009.mail.ukl.yahoo.com) (217.12.10.220)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 05 Sep 2006 07:46:59 -0700
Received: (qmail 73899 invoked by uid 60001); 5 Sep 2006 14:46:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=YrEPvo9wo4Onh/HfIrbPQ25bpluybw/kuRhxUrb8GQgzwZfyhVO0KHdTqmPOzsggL0do7EtQEhXFJNVewA24hh/EbeV/9z2gY8fkkMlPEFimntmGJ+wdXFXVLsrU9drVSc5oukNfA4rkUWBytWpUbYGRgp/s8gc2yFwh+7gtiP4=  ;
Message-ID: <20060905144637.73897.qmail@web26009.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26009.mail.ukl.yahoo.com via HTTP; Tue, 05 Sep 2006 14:46:37 GMT
Date: Tue, 5 Sep 2006 14:46:37 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Reply-To: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Highlighting "really" found terms
To: java-user@lucene.apache.org
In-Reply-To: <0f6601c6d0ee$426d6fe0$962214ac@if.inforama.fr>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See here for a thread reviewing the challenges and possible solutions associated with this problem:
   http://www.mail-archive.com/java-user@lucene.apache.org/msg02543.html

An alternative highlighter implementation was recently contributed here:
   http://issues.apache.org/jira/browse/LUCENE-644?page=all
I've not had the time to study this alternative in detail (I hope to soon) so I can't say if it will do Spans correctly. 

Cheers
Mark



----- Original Message ----
From: Pierre Van Ingelandt <pvaningelandt@inforama.fr>
To: java-user@lucene.apache.org
Sent: Tuesday, 5 September, 2006 2:21:56 PM
Subject: Highlighting "really" found terms

Hello,

After a search, I need to highlight only the terms that do "really"
correspond to the query.
For instance :
1/ I search docs with toto and titi in the SAME sentence (using
SpanNotQuery(spanNearQuery({"toto","titi"},99999)),".") )
2/ Then I try to highlight "toto" and "titi" found (I use the queryscorer
from highlight package)

Then the problem is that it highlights ALL the titi and toto terms in the
documents. (even if they are not in the same sentence).
Is there a way to highlight only the terms really found ?

Thanks a lot !

Pierre


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 15:51:59 2006
Return-Path: <java-user-return-23178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78116 invoked from network); 5 Sep 2006 15:51:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 15:51:54 -0000
Received: (qmail 60524 invoked by uid 500); 5 Sep 2006 15:51:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60500 invoked by uid 500); 5 Sep 2006 15:51:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60489 invoked by uid 99); 5 Sep 2006 15:51:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 08:51:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.151.89.70] (HELO server) (213.151.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 08:51:46 -0700
Received: from [85.207.40.193] (helo=[10.10.1.71])
	by server with esmtp (Exim 4.50)
	id 1GKdCs-00073p-RP
	for java-user@lucene.apache.org; Tue, 05 Sep 2006 17:51:22 +0200
Message-ID: <44FD9D82.5090404@tejnora.cz>
Date: Tue, 05 Sep 2006 17:53:38 +0200
From: Karel Tejnora <karel@tejnora.cz>
User-Agent: Thunderbird 1.5.0.5 (X11/20060904)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Highlighting "really" found terms
References: <20060905144637.73897.qmail@web26009.mail.ukl.yahoo.com>
In-Reply-To: <20060905144637.73897.qmail@web26009.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 85.207.40.193
X-SA-Exim-Mail-From: karel@tejnora.cz
X-SA-Exim-Scanned: No (on server); SAEximRunCond expanded to false
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Not for now, but I'd like to contribute span support soon.

Karel
> An alternative highlighter implementation was recently contributed here:
>    http://issues.apache.org/jira/browse/LUCENE-644?page=all
> I've not had the time to study this alternative in detail (I hope to soon) so I can't say if it will do Spans correctly. 
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 16:01:03 2006
Return-Path: <java-user-return-23179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80510 invoked from network); 5 Sep 2006 16:01:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 16:01:03 -0000
Received: (qmail 71053 invoked by uid 500); 5 Sep 2006 16:00:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71017 invoked by uid 500); 5 Sep 2006 16:00:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71006 invoked by uid 99); 5 Sep 2006 16:00:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 09:00:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.23] (HELO smtp-vbr3.xs4all.nl) (194.109.24.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 09:00:56 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr3.xs4all.nl (8.13.6/8.13.6) with ESMTP id k85G0Vag089843
	for <java-user@lucene.apache.org>; Tue, 5 Sep 2006 18:00:35 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Filter inside SpanQuery
Date: Tue, 5 Sep 2006 18:00:30 +0200
User-Agent: KMail/1.8.2
References: <ab0709bf0609050659l5936c9b3w1364e11baa1e3e3c@mail.gmail.com>
In-Reply-To: <ab0709bf0609050659l5936c9b3w1364e11baa1e3e3c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609051800.30796.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 05 September 2006 15:59, Mark Miller wrote:
> Okay, more realistically, anyone have any experience with Randy Puttnick's
> modifaction of wildcardquery and fuzzyquery? Any ideas on getting something
> like those in a SpanQuery?

You can use the IndexSearcher method that searches a query with a Filter 
applied also with any SpanQuery.

In case you need wildcards within a SpanQuery, you need to construct
a SpanOrQuery over all the matching Terms during Query.rewrite().
Have a look at the source code of PrefixQuery.rewrite() to get going.
(I have not looked at Randy's code yet.)

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 16:20:50 2006
Return-Path: <java-user-return-23180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85213 invoked from network); 5 Sep 2006 16:20:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 16:20:45 -0000
Received: (qmail 21580 invoked by uid 500); 5 Sep 2006 16:20:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21374 invoked by uid 500); 5 Sep 2006 16:20:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21362 invoked by uid 99); 5 Sep 2006 16:20:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 09:20:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 09:20:37 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k85GKR219121
	for <java-user@lucene.apache.org>; Tue, 5 Sep 2006 11:20:27 -0500
Message-ID: <44FDA3C7.90606@getopt.org>
Date: Tue, 05 Sep 2006 18:20:23 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: obtaining the number of documents stored in a .cfs file
References: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com> <1157460488.4933.43.camel@localhost> <44FD76C0.3080303@sirma.bg>
In-Reply-To: <44FD76C0.3080303@sirma.bg>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Stanislav Jordanov wrote:
> Suppose I have a bunch of valid .cfs files while the 
> segmens/segments.new file is missing or invalid.
> The task is to 'recover' the present .cfs files into a valid index.
> I think it will be necessary and sufficient to create a segments file 
> that references the .cfs files.
> The only problem I've encountered in generating a vaild and 
> well-formed segments file is that I need to know the number of docs in 
> each cfs file.
> So the couple of questions is:
> Do I have to put the right number of docs for each segments or any 
> (dummy) number will do?

Not sure, but I doubt anything else than a valid number would work.

> If I have to put the right number there, how do I get it having the 
> cfs file?

Look at the size of _xx.f1 file inside CFS file; this is the norms file, 
and its size in bytes is the same as the number of documents in the index.

(You can use CompoundFileReader.list() and fileLength() methods).

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 17:56:19 2006
Return-Path: <java-user-return-23181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13925 invoked from network); 5 Sep 2006 17:56:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 17:56:18 -0000
Received: (qmail 77424 invoked by uid 500); 5 Sep 2006 17:56:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77263 invoked by uid 500); 5 Sep 2006 17:56:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77252 invoked by uid 99); 5 Sep 2006 17:56:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 10:56:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 10:56:10 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 771FC5B76E; Tue,  5 Sep 2006 10:55:36 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 70E057F403
	for <java-user@lucene.apache.org>; Tue,  5 Sep 2006 10:55:36 -0700 (PDT)
Date: Tue, 5 Sep 2006 10:55:36 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6145591.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu>
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
 <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
 <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
 <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
 <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
 <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
 <6134864.post@talk.nabble.com> <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu>
 <6145591.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: So, if I do as you suggest below (using PerFieldAnalyzerWrapper with
: StandardAnalyzer) then I still need to enclose in quotes the phrases
: (keywords with spaces) when I issue the search, and they are only returned

Yes, quotes will be neccessary to tell the QueryParser "this
is one chunk of text, passs it to the analyzer whole" - but that's so you
can get the "compelx" part of the problem you described... recognizing
that "my brown-cow" and "red fox" should be matched as seperate values
intead of trying to find one big vlaue containing "my brown-cow red fox"

: in the results if the case is identical to how it was added?  (This seems to
: be what I observe anyway.  And whether I add as TOKENIZED or UN_TOKENIZED
: seems to have no effect.)

1) wether case matters is determined enitrely by your analyzer, if it
   produces differnet tokens for "Blue" and "BLUE" then case matters
2) use TOKENIZED or your Analyzer will be completely irrelevant
3) if you observse something working differently then you expect, post the
  code -- we're way pastthe point of being able to offer you any
  meaningful help without seeing a self contained example of what you want
  to see work.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 18:03:38 2006
Return-Path: <java-user-return-23182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15286 invoked from network); 5 Sep 2006 18:03:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 18:03:28 -0000
Received: (qmail 88911 invoked by uid 500); 5 Sep 2006 18:03:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88882 invoked by uid 500); 5 Sep 2006 18:03:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88871 invoked by uid 99); 5 Sep 2006 18:03:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:03:22 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO nz-out-0102.google.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:03:21 -0700
Received: by nz-out-0102.google.com with SMTP id x3so955403nzd
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 11:03:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=E02NK8vqVK5JOXd5ynztWpCd2THm3FEzbx16md/eg8LBZ6g5wkuvoiupC+p5FZA+loy28cwT2+2TA4gmU0GeUnMDU1BLMV2dEH/tikxJm1QRp9VKE74HM6D8T/dcLaY8QrIIHP45LDXQRXjh1EEQxrRone2ku/AvezI2F/iSxpc=
Received: by 10.35.105.18 with SMTP id h18mr10534484pym;
        Tue, 05 Sep 2006 11:03:01 -0700 (PDT)
Received: by 10.35.131.15 with HTTP; Tue, 5 Sep 2006 11:03:01 -0700 (PDT)
Message-ID: <ab0709bf0609051103o3e2963a2r5bac6ece7526026b@mail.gmail.com>
Date: Tue, 5 Sep 2006 14:03:01 -0400
From: "Mark Miller" <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Subject: WildcardFilter
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_77968_27681418.1157479381086"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_77968_27681418.1157479381086
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Could someone with some experience spot-check this WildcardFilter...it seems
to work fine in simple testing, but I'd like to know if there are any
glaring deficiencies. Have not had much to do with filters before.


public class WildcardFilter extends Filter {
    private Term term;

    public WildcardFilter(Term term) {
        this.term = term;
    }

    @Override
    public BitSet bits(IndexReader reader) throws IOException {
        BitSet bits = new BitSet();
        WildcardTermEnum enumerator = new WildcardTermEnum(reader, term);
        TermDocs termDocs = reader.termDocs();

        try {

          do {
            Term term = enumerator.term();
            if (term != null )
            {
              termDocs.seek(term);
              while (termDocs.next()) {
                bits.set(termDocs.doc());
              }
            } else {
              break;
            }
          } while (enumerator.next());
        } finally {
          termDocs.close();
          enumerator.close();
        }
      return bits;
    }

}

------=_Part_77968_27681418.1157479381086--

From java-user-return-23183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 18:26:21 2006
Return-Path: <java-user-return-23183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20360 invoked from network); 5 Sep 2006 18:26:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 18:26:19 -0000
Received: (qmail 21203 invoked by uid 500); 5 Sep 2006 18:26:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20497 invoked by uid 500); 5 Sep 2006 18:26:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20486 invoked by uid 99); 5 Sep 2006 18:26:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:26:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:26:11 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B594B5B774; Tue,  5 Sep 2006 11:25:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B05C07F403
	for <java-user@lucene.apache.org>; Tue,  5 Sep 2006 11:25:42 -0700 (PDT)
Date: Tue, 5 Sep 2006 11:25:42 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Scoring based on fields and categorization
In-Reply-To: <013001c6d0d9$9c179670$a700a8c0@domain.outsystems.com>
Message-ID: <Pine.LNX.4.58.0609051123520.22254@hal.rescomp.berkeley.edu>
References: <013001c6d0d9$9c179670$a700a8c0@domain.outsystems.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: the contents, but also two numerical values in other document fields. For
: example, let=92s assume that the normal score for Document A is 0.33 (as
: calculated by Lucene). What I need is that it=92s true score is 0.33 * (v=
alue
: of field A) * (value of field B). What is the best way to accomplish this=
?

see also "FunctionQuery" ...

https://issues.apache.org/jira/browse/LUCENE-446




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 18:31:15 2006
Return-Path: <java-user-return-23184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21235 invoked from network); 5 Sep 2006 18:31:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 18:31:08 -0000
Received: (qmail 25996 invoked by uid 500); 5 Sep 2006 18:30:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25972 invoked by uid 500); 5 Sep 2006 18:30:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25701 invoked by uid 99); 5 Sep 2006 18:30:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:30:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:30:53 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 46A6A5B774; Tue,  5 Sep 2006 11:30:33 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 417DD7F403
	for <java-user@lucene.apache.org>; Tue,  5 Sep 2006 11:30:33 -0700 (PDT)
Date: Tue, 5 Sep 2006 11:30:33 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: WildcardFilter
In-Reply-To: <ab0709bf0609051103o3e2963a2r5bac6ece7526026b@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609051129170.22254@hal.rescomp.berkeley.edu>
References: <ab0709bf0609051103o3e2963a2r5bac6ece7526026b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Could someone with some experience spot-check this WildcardFilter...it seems
: to work fine in simple testing, but I'd like to know if there are any
: glaring deficiencies. Have not had much to do with filters before.

It looks fine to me.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 18:31:15 2006
Return-Path: <java-user-return-23185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21286 invoked from network); 5 Sep 2006 18:31:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 18:31:14 -0000
Received: (qmail 27582 invoked by uid 500); 5 Sep 2006 18:31:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27559 invoked by uid 500); 5 Sep 2006 18:31:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27538 invoked by uid 99); 5 Sep 2006 18:31:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:31:06 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.204] (HELO web25906.mail.ukl.yahoo.com) (217.12.10.204)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 05 Sep 2006 11:31:04 -0700
Received: (qmail 15978 invoked by uid 60001); 5 Sep 2006 18:30:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=OFgGxvg3cZuwKAeVfGf3rREGzKqzjGo8Jqg8As/UyM6L6FaxZLQBDIAPMgyuLYMnfZTQ9hNNnC4I8GPwYmwwv4o01WEUydp/do8+jY/AhQeEqmR5rMkhsGDtQkVQ5o52Z3UIXdMudj0ip78uZ/JO6HTyj1rUbLpA3HRSzLUBtkE=  ;
Message-ID: <20060905183042.15976.qmail@web25906.mail.ukl.yahoo.com>
Received: from [84.131.209.51] by web25906.mail.ukl.yahoo.com via HTTP; Tue, 05 Sep 2006 18:30:42 GMT
Date: Tue, 5 Sep 2006 18:30:42 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Reply-To: eks dev <eksdev@yahoo.co.uk>
Subject: Re: WildcardFilter
To: java-user@lucene.apache.org
In-Reply-To: <ab0709bf0609051103o3e2963a2r5bac6ece7526026b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I would rather use this 
BitSet bits = new BitSet(reader.maxDocs()); //Not sure of exact method, lucene is not on this PC...
instead of = new BitSet(reader.maxDocs())


----- Original Message ----
From: Mark Miller <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, 5 September, 2006 8:03:01 PM
Subject: WildcardFilter

Could someone with some experience spot-check this WildcardFilter...it seems
to work fine in simple testing, but I'd like to know if there are any
glaring deficiencies. Have not had much to do with filters before.


public class WildcardFilter extends Filter {
    private Term term;

    public WildcardFilter(Term term) {
        this.term = term;
    }

    @Override
    public BitSet bits(IndexReader reader) throws IOException {
        BitSet bits = new BitSet();
        WildcardTermEnum enumerator = new WildcardTermEnum(reader, term);
        TermDocs termDocs = reader.termDocs();

        try {

          do {
            Term term = enumerator.term();
            if (term != null )
            {
              termDocs.seek(term);
              while (termDocs.next()) {
                bits.set(termDocs.doc());
              }
            } else {
              break;
            }
          } while (enumerator.next());
        } finally {
          termDocs.close();
          enumerator.close();
        }
      return bits;
    }

}




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 18:36:36 2006
Return-Path: <java-user-return-23186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22334 invoked from network); 5 Sep 2006 18:36:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 18:36:36 -0000
Received: (qmail 38847 invoked by uid 500); 5 Sep 2006 18:36:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38722 invoked by uid 500); 5 Sep 2006 18:36:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38711 invoked by uid 99); 5 Sep 2006 18:36:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:36:29 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO nz-out-0102.google.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 11:36:27 -0700
Received: by nz-out-0102.google.com with SMTP id z6so1047909nzd
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 11:36:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ozw7KEzdkjHtSHdBg9id3nEBASs0kwbLwKpVXjScC83ZjKUzMRhqIEfWhZ08RUq073DPH+b31qIppFVTZlRiMvPv/rDmfchCeISL5BCmvwOR3fsgUe/yYmOMoS3EnsKogSRSZSbCuNlGwiMF4yttycyc0u+PjmjZoa9xiwhB0k0=
Received: by 10.35.45.1 with SMTP id x1mr12987859pyj;
        Tue, 05 Sep 2006 11:36:07 -0700 (PDT)
Received: by 10.35.131.15 with HTTP; Tue, 5 Sep 2006 11:36:07 -0700 (PDT)
Message-ID: <ab0709bf0609051136p36255587kbc58d05071bab9c0@mail.gmail.com>
Date: Tue, 5 Sep 2006 14:36:07 -0400
From: "Mark Miller" <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_78893_18125713.1157481367081"
References: <6093138.post@talk.nabble.com>
	 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
	 <6125651.post@talk.nabble.com>
	 <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
	 <6128827.post@talk.nabble.com>
	 <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
	 <6134864.post@talk.nabble.com>
	 <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu>
	 <6145591.post@talk.nabble.com>
	 <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_78893_18125713.1157481367081
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Some info to help you on you're journey :)

1. If you add a field as untokenized then it will not be analyzed when added
to the index. However, QueryParser will not know that this happened and will
tokenize queries on that field.

2. The solution that Hoss has explained to you is to leave the default quote
handling in place. The default quote handling is this:

On Indexing: the analyzers ditch all quotes. As far as the index is concered
they are of no value...postion increments are used instead.

Searching with QueryParser: when the QueryParser detects something in
quotes, it takes whats between the quotes and passes that to
getFieldQuery(). GetFieldQuery than anaylzes the quote chunk sans the
quotes. Stop words are removed, stemming is performed, etc depending on your
analyzer. GetFieldQuery sees that multiple tokens came out of the analyzer
and that the positions between tokens indicate that you are going for a
phrase search. A phrase search is generated. A phrase search with stopwords
removed has interesting sloppy matching. A phrase search can also match out
of order given enough slop. This is normally fine behavior for most
applications I can think of. You need to consider if this is fine behavior
for you. You first mentioned that you only want exact matches to be made on
quoted searches...that you want no stop words removed etc. If there is some
reason you really need this (I don't see it myself) then use the method I
gave you. I would think you should be fine with the normal behavior, but
then I don't know why you asked about this to begin with.

3. If you are mixing quoted data with non-quoted data, a per-field analyzer
won't be of much help. The quoted and unquoted data will be in the save
field I assume. Are you separating the quoted stuff from the non-quoted and
putting them in separate fields?


- Mark

------=_Part_78893_18125713.1157481367081--

From java-user-return-23187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 19:29:23 2006
Return-Path: <java-user-return-23187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42599 invoked from network); 5 Sep 2006 19:29:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 19:29:22 -0000
Received: (qmail 99085 invoked by uid 500); 5 Sep 2006 19:29:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98828 invoked by uid 500); 5 Sep 2006 19:29:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98739 invoked by uid 99); 5 Sep 2006 19:29:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 12:29:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 12:29:13 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.7/8.13.7) with ESMTP id k85JSpSK061760
	for <java-user@lucene.apache.org>; Tue, 5 Sep 2006 19:28:51 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k85JXEU13235876
	for <java-user@lucene.apache.org>; Tue, 5 Sep 2006 21:33:14 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k85JSob9026126
	for <java-user@lucene.apache.org>; Tue, 5 Sep 2006 21:28:50 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k85JSo9Q026123
	for <java-user@lucene.apache.org>; Tue, 5 Sep 2006 21:28:50 +0200
Subject: jvm crashes on FieldCache.DEFAULT.getStrings(reader, field);
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF2D6EDB5A.3EF76DFB-ON882571E0.006A913E-882571E0.006ADD8E@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 5 Sep 2006 12:27:15 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 05/09/2006 22:33:14
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


[discussion moved here from dev-list]

Could it be an out-of-mem error?
Can you run it with a debugger, to see what really happens?
JVMs usually create a javacore file, and in case of an out-of-mem also a
heapdump file - these give more info on the problem. In case this file was
not created in this crash, perhaps try a different jvm - e.g. if you used,
say, sun's jvm try to switch to, say, ibm's jvm - perhaps a javacore file
would be created.

Johannes Zillmann <jz@101tec.com> wrote on 04/09/2006 09:57:00:

> Dear lucene folks,
>
> we have 3 indicees a la 10 mio documents.
> All indicees are accessed via one MultiReader.
> For the the first hits of a query we call:
> FieldCache.DEFAULT.getStrings(reader, field);
>
> After start querying the first 10 queries seems to hang in the
> getStrings()-method, then the the jvm crashes silently...
> Any clue what the problem could be ?
>
> best regards
> Johannes


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 21:06:43 2006
Return-Path: <java-user-return-23188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72787 invoked from network); 5 Sep 2006 21:06:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 21:06:42 -0000
Received: (qmail 47840 invoked by uid 500); 5 Sep 2006 21:06:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47811 invoked by uid 500); 5 Sep 2006 21:06:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47800 invoked by uid 99); 5 Sep 2006 21:06:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:06:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:06:34 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GKi7Z-0003Qs-VJ
	for java-user@lucene.apache.org; Tue, 05 Sep 2006 14:06:13 -0700
Message-ID: <6160316.post@talk.nabble.com>
Date: Tue, 5 Sep 2006 14:06:13 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com> <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu> <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu> <6134864.post@talk.nabble.com> <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu> <6145591.post@talk.nabble.com> <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Here's a little sample program (borrowed some code from Erick Erickson :)). 
Whether I add as TOKENIZED or UN_TOKENIZED seems to make no difference in
the output.  Is this what you'd expect?

- Philip

package com.test;

import java.io.IOException;
import java.util.HashSet;
import java.util.regex.Pattern;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.KeywordAnalyzer;
import org.apache.lucene.analysis.PerFieldAnalyzerWrapper;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.memory.PatternAnalyzer;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.store.RAMDirectory;

public class Test2 {
	    private PerFieldAnalyzerWrapper analyzer = null; 
	    private RAMDirectory idx = null;

	    private Analyzer getAnalyzer() { 
	        if (analyzer == null) { 
	        	analyzer = new PerFieldAnalyzerWrapper(new StandardAnalyzer());	        	
	        	analyzer.addAnalyzer("keyword", new KeywordAnalyzer());	
	        } 
	        return analyzer; 

	    } 

	    private void makeTestIndex() throws Exception { 
			idx = new RAMDirectory();	
	        IndexWriter writer = new IndexWriter(idx, getAnalyzer(), true); 			
			Document doc = new Document();
			doc.add(new Field("keyword", "hello world", Field.Store.YES,
Field.Index.UN_TOKENIZED));	
			doc.add(new Field("booleanField", "false", Field.Store.YES,
Field.Index.UN_TOKENIZED));
			writer.addDocument(doc);
			doc = new Document();
			doc.add(new Field("keyword", "hello world", Field.Store.YES,
Field.Index.UN_TOKENIZED));	
			doc.add(new Field("booleanField", "true", Field.Store.YES,
Field.Index.UN_TOKENIZED));
			writer.addDocument(doc);			
System.out.println(writer.docCount());			
			writer.optimize();
			writer.close();
	    } 

	    private void doSearch(String query, int expectedHits) throws Exception
{ 
	        try { 
	            QueryParser qp = new QueryParser("keyword", getAnalyzer());             
	            IndexSearcher srch = new IndexSearcher(idx); 
	            Query tmp = qp.parse(query); 
	            // Uncomment to see parsed form of query 
	             System.out.println("Parsed form is '" + tmp.toString() + "'"); 
	            Hits hits = srch.search(tmp); 

	            String msg = ""; 

	            if (hits.length() == expectedHits) { 
	                msg = "Test passed "; 
	            } else { 
	                msg = "************TEST FAILED************ "; 
	            } 
	            System.out.println(msg + "Expected " 
	                    + Integer.toString(expectedHits) + " hits, got " 
	                    + Integer.toString(hits.length()) + " hits"); 

	        } catch (IOException e) { 
	            System.out.println("Caught IOException"); 
	            e.printStackTrace(); 
	        } 
	    } 


	    public static void main(String[] args) { 
	        try { 
	            Test2 test = new Test2();  
	            test.makeTestIndex(); 
	            test.doSearch("Hello World", 0); 
	            test.doSearch("hello world", 0); 
	            test.doSearch("hello", 0); 
	            test.doSearch("world", 0); 

	            test.doSearch("\"Hello World\"", 0); 
	            test.doSearch("\"hello world\"", 2);  
	            test.doSearch("\"hello world\" +booleanField:false", 1);
	            test.doSearch("\"hello world\" +booleanField:true", 1);

	        } catch (Exception e) { 
	            System.err.println(e.getMessage()); 
	        } 
	    } 
}


Chris Hostetter wrote:
> 
> 
> : So, if I do as you suggest below (using PerFieldAnalyzerWrapper with
> : StandardAnalyzer) then I still need to enclose in quotes the phrases
> : (keywords with spaces) when I issue the search, and they are only
> returned
> 
> Yes, quotes will be neccessary to tell the QueryParser "this
> is one chunk of text, passs it to the analyzer whole" - but that's so you
> can get the "compelx" part of the problem you described... recognizing
> that "my brown-cow" and "red fox" should be matched as seperate values
> intead of trying to find one big vlaue containing "my brown-cow red fox"
> 
> : in the results if the case is identical to how it was added?  (This
> seems to
> : be what I observe anyway.  And whether I add as TOKENIZED or
> UN_TOKENIZED
> : seems to have no effect.)
> 
> 1) wether case matters is determined enitrely by your analyzer, if it
>    produces differnet tokens for "Blue" and "BLUE" then case matters
> 2) use TOKENIZED or your Analyzer will be completely irrelevant
> 3) if you observse something working differently then you expect, post the
>   code -- we're way pastthe point of being able to offer you any
>   meaningful help without seeing a self contained example of what you want
>   to see work.
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6160316
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 21:35:11 2006
Return-Path: <java-user-return-23189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81792 invoked from network); 5 Sep 2006 21:35:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 21:35:11 -0000
Received: (qmail 93553 invoked by uid 500); 5 Sep 2006 21:35:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93067 invoked by uid 500); 5 Sep 2006 21:35:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93056 invoked by uid 99); 5 Sep 2006 21:35:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:35:04 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.199.122.2] (HELO mainsequence.net) (65.199.122.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:35:04 -0700
Received: from 127.0.0.1 ([68.164.221.250])
	by mainsequence.net (mainsequence.net)
	(MDaemon.PRO.v7.2.0.R)
	with ESMTP id md50002572118.msg
	for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 17:34:42 -0400
Reply-To: Chris Salem <chris@mainsequence.net>
From: Chris Salem <chris@mainsequence.net>
To: java-user@lucene.apache.org
CC: 
Subject: parser question
Date: Tue, 05 Sep 2006 21:34:37 -0000
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: PCRecruiter Emulation of Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: PCRecruiter Emulation of Microsoft MimeOLE V6.00.2800.1441
MIME-Version: 1.0
Content-Type: multipart/alternative;
      boundary="----=_pcrC605B1E2FAB246FBB376777D423359E3section1-b1"
X-Spam-Processed: mainsequence.net, Tue, 05 Sep 2006 17:34:42 -0400
	(not processed: message from valid local sender)
X-MDRemoteIP: 68.164.221.250
X-Return-Path: chris@mainsequence.net
X-MDaemon-Deliver-To: java-user@lucene.apache.org
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060905213504.44ED610FB00A@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_pcrC605B1E2FAB246FBB376777D423359E3section1-b1
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

With all the parsers I have tried a space in a query, such as doing a search for "sales manager", interprets the space as an OR, is there a way to change it so that it interprets a space as an AND?


Chris Salem
440.946.5214 x5458
chris@mainsequence.net 

(The following links were included with this email:)
mailto:chris@mainsequence.net



(The following links were included with this email:)
mailto:chris@mainsequence.net



------=_pcrC605B1E2FAB246FBB376777D423359E3section1-b1--




From java-user-return-23190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 21:39:16 2006
Return-Path: <java-user-return-23190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83533 invoked from network); 5 Sep 2006 21:39:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 21:39:15 -0000
Received: (qmail 254 invoked by uid 500); 5 Sep 2006 21:39:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99961 invoked by uid 500); 5 Sep 2006 21:39:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99950 invoked by uid 99); 5 Sep 2006 21:39:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:39:09 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO nz-out-0102.google.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:39:07 -0700
Received: by nz-out-0102.google.com with SMTP id z6so1085971nzd
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 14:38:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=W1gDVLtbxYGScaSdhAugCgZIjfFO81My//6HZLdhMSXetbAKWyV1/L/7S/j1ZLMvOEMCBzRY3etTDpKFOnHP4lJ1rAVCksgawg/AUxZiwXvm4BjXcGcc7zTWMnAlvLqJQ/elVp/y3630DEUqnkVWoNRSL7y+h5UjjMKgneoxhMI=
Received: by 10.65.219.1 with SMTP id w1mr5396745qbq;
        Tue, 05 Sep 2006 14:38:44 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id a29sm2186484qbd.2006.09.05.14.38.43;
        Tue, 05 Sep 2006 14:38:44 -0700 (PDT)
Message-ID: <44FDEE6A.3090709@gmail.com>
Date: Tue, 05 Sep 2006 17:38:50 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: parser question
References: <20060905213504.44ED610FB00A@asf.osuosl.org>
In-Reply-To: <20060905213504.44ED610FB00A@asf.osuosl.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

QueryParser.setDefaultOperator(Operator op)

Chris Salem wrote:
> With all the parsers I have tried a space in a query, such as doing a search for "sales manager", interprets the space as an OR, is there a way to change it so that it interprets a space as an AND?
>
>
> Chris Salem
> 440.946.5214 x5458
> chris@mainsequence.net 
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
>
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 05 21:56:52 2006
Return-Path: <java-user-return-23191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89110 invoked from network); 5 Sep 2006 21:56:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2006 21:56:48 -0000
Received: (qmail 24747 invoked by uid 500); 5 Sep 2006 21:56:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24714 invoked by uid 500); 5 Sep 2006 21:56:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24703 invoked by uid 99); 5 Sep 2006 21:56:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:56:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 14:56:41 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 71A6E5B76C; Tue,  5 Sep 2006 14:56:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 640487F403
	for <java-user@lucene.apache.org>; Tue,  5 Sep 2006 14:56:16 -0700 (PDT)
Date: Tue, 5 Sep 2006 14:56:16 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6160316.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0609051440270.29504@hal.rescomp.berkeley.edu>
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com>
 <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
 <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
 <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
 <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
 <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
 <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
 <6134864.post@talk.nabble.com> <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu>
 <6145591.post@talk.nabble.com> <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu>
 <6160316.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1) consider using JUnit tests .. it makes it a lot easier for other people
to understand your expecations, and if it winds up demonstraing a genuine
bug in Lucene, it's easy to add to the test tree.

2) as i said before, your fields must be TOKENIZED, or your analyzer is
irrelevant at index time.

3) when i run the code you sent as is, i get lots of "Test passed" lines
and no "TEST FAILED" lines ... which makes sense since you have everything
UN_TOKENIZED, so the literal values are getting indexed, which just so
happens to be what KeywwordAnalyzer does as well -- hence if you change
everything from UN_TOKENIZED to TOKENIZED it will still work.


do you have na example of something that *isn't* working the way you want?
... if not i don't see what your problem is, all your tests are passing :)


: Date: Tue, 5 Sep 2006 14:06:13 -0700 (PDT)
: From: Philip Brown <pmb@us.ibm.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: Phrase search using quotes -- special Tokenizer
:
:
: Here's a little sample program (borrowed some code from Erick Erickson :)).
: Whether I add as TOKENIZED or UN_TOKENIZED seems to make no difference in
: the output.  Is this what you'd expect?
:
: - Philip
:
: package com.test;
:
: import java.io.IOException;
: import java.util.HashSet;
: import java.util.regex.Pattern;
:
: import org.apache.lucene.analysis.Analyzer;
: import org.apache.lucene.analysis.KeywordAnalyzer;
: import org.apache.lucene.analysis.PerFieldAnalyzerWrapper;
: import org.apache.lucene.analysis.standard.StandardAnalyzer;
: import org.apache.lucene.document.Document;
: import org.apache.lucene.document.Field;
: import org.apache.lucene.index.IndexWriter;
: import org.apache.lucene.index.memory.PatternAnalyzer;
: import org.apache.lucene.queryParser.QueryParser;
: import org.apache.lucene.search.Hits;
: import org.apache.lucene.search.IndexSearcher;
: import org.apache.lucene.search.Query;
: import org.apache.lucene.store.RAMDirectory;
:
: public class Test2 {
: 	    private PerFieldAnalyzerWrapper analyzer = null;
: 	    private RAMDirectory idx = null;
:
: 	    private Analyzer getAnalyzer() {
: 	        if (analyzer == null) {
: 	        	analyzer = new PerFieldAnalyzerWrapper(new StandardAnalyzer());
: 	        	analyzer.addAnalyzer("keyword", new KeywordAnalyzer());
: 	        }
: 	        return analyzer;
:
: 	    }
:
: 	    private void makeTestIndex() throws Exception {
: 			idx = new RAMDirectory();
: 	        IndexWriter writer = new IndexWriter(idx, getAnalyzer(), true);
: 			Document doc = new Document();
: 			doc.add(new Field("keyword", "hello world", Field.Store.YES,
: Field.Index.UN_TOKENIZED));
: 			doc.add(new Field("booleanField", "false", Field.Store.YES,
: Field.Index.UN_TOKENIZED));
: 			writer.addDocument(doc);
: 			doc = new Document();
: 			doc.add(new Field("keyword", "hello world", Field.Store.YES,
: Field.Index.UN_TOKENIZED));
: 			doc.add(new Field("booleanField", "true", Field.Store.YES,
: Field.Index.UN_TOKENIZED));
: 			writer.addDocument(doc);
: System.out.println(writer.docCount());
: 			writer.optimize();
: 			writer.close();
: 	    }
:
: 	    private void doSearch(String query, int expectedHits) throws Exception
: {
: 	        try {
: 	            QueryParser qp = new QueryParser("keyword", getAnalyzer());
: 	            IndexSearcher srch = new IndexSearcher(idx);
: 	            Query tmp = qp.parse(query);
: 	            // Uncomment to see parsed form of query
: 	             System.out.println("Parsed form is '" + tmp.toString() + "'");
: 	            Hits hits = srch.search(tmp);
:
: 	            String msg = "";
:
: 	            if (hits.length() == expectedHits) {
: 	                msg = "Test passed ";
: 	            } else {
: 	                msg = "************TEST FAILED************ ";
: 	            }
: 	            System.out.println(msg + "Expected "
: 	                    + Integer.toString(expectedHits) + " hits, got "
: 	                    + Integer.toString(hits.length()) + " hits");
:
: 	        } catch (IOException e) {
: 	            System.out.println("Caught IOException");
: 	            e.printStackTrace();
: 	        }
: 	    }
:
:
: 	    public static void main(String[] args) {
: 	        try {
: 	            Test2 test = new Test2();
: 	            test.makeTestIndex();
: 	            test.doSearch("Hello World", 0);
: 	            test.doSearch("hello world", 0);
: 	            test.doSearch("hello", 0);
: 	            test.doSearch("world", 0);
:
: 	            test.doSearch("\"Hello World\"", 0);
: 	            test.doSearch("\"hello world\"", 2);
: 	            test.doSearch("\"hello world\" +booleanField:false", 1);
: 	            test.doSearch("\"hello world\" +booleanField:true", 1);
:
: 	        } catch (Exception e) {
: 	            System.err.println(e.getMessage());
: 	        }
: 	    }
: }
:
:
: Chris Hostetter wrote:
: >
: >
: > : So, if I do as you suggest below (using PerFieldAnalyzerWrapper with
: > : StandardAnalyzer) then I still need to enclose in quotes the phrases
: > : (keywords with spaces) when I issue the search, and they are only
: > returned
: >
: > Yes, quotes will be neccessary to tell the QueryParser "this
: > is one chunk of text, passs it to the analyzer whole" - but that's so you
: > can get the "compelx" part of the problem you described... recognizing
: > that "my brown-cow" and "red fox" should be matched as seperate values
: > intead of trying to find one big vlaue containing "my brown-cow red fox"
: >
: > : in the results if the case is identical to how it was added?  (This
: > seems to
: > : be what I observe anyway.  And whether I add as TOKENIZED or
: > UN_TOKENIZED
: > : seems to have no effect.)
: >
: > 1) wether case matters is determined enitrely by your analyzer, if it
: >    produces differnet tokens for "Blue" and "BLUE" then case matters
: > 2) use TOKENIZED or your Analyzer will be completely irrelevant
: > 3) if you observse something working differently then you expect, post the
: >   code -- we're way pastthe point of being able to offer you any
: >   meaningful help without seeing a self contained example of what you want
: >   to see work.
: >
: >
: >
: > -Hoss
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
: >
:
: --
: View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6160316
: Sent from the Lucene - Java Users forum at Nabble.com.
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 01:31:15 2006
Return-Path: <java-user-return-23192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32126 invoked from network); 6 Sep 2006 01:31:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 01:31:14 -0000
Received: (qmail 99113 invoked by uid 500); 6 Sep 2006 01:31:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99081 invoked by uid 500); 6 Sep 2006 01:31:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99069 invoked by uid 99); 6 Sep 2006 01:31:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 18:31:08 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 18:31:07 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GKmFa-0002bT-Q8
	for java-user@lucene.apache.org; Tue, 05 Sep 2006 18:30:46 -0700
Message-ID: <6163500.post@talk.nabble.com>
Date: Tue, 5 Sep 2006 18:30:46 -0700 (PDT)
From: Philip Brown <pmb@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <Pine.LNX.4.58.0609051440270.29504@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pmb@us.ibm.com
References: <6093138.post@talk.nabble.com> <44F81F0D.7080605@gmail.com> <6098930.post@talk.nabble.com> <44F83F0A.7080005@gmail.com> <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com> <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com> <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com> <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com> <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com> <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu> <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu> <6134864.post@talk.nabble.com> <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu> <6145591.post@talk.nabble.com> <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu> <6160316.post@talk.nabble.com> <Pine.LNX.4.58.0609051440270.29504@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Sorry for the confusion and thanks for taking the time to educate me.  So, if
I am just indexing literal values, what is the best way to do that (what
analyzer)?  Sounds like this approach, even though it works, is not the
preferred method.

 	        	analyzer = new PerFieldAnalyzerWrapper(new StandardAnalyzer());
 	        	analyzer.addAnalyzer("keyword", new KeywordAnalyzer());

Thanks again.



Chris Hostetter wrote:
> 
> 
> 1) consider using JUnit tests .. it makes it a lot easier for other people
> to understand your expecations, and if it winds up demonstraing a genuine
> bug in Lucene, it's easy to add to the test tree.
> 
> 2) as i said before, your fields must be TOKENIZED, or your analyzer is
> irrelevant at index time.
> 
> 3) when i run the code you sent as is, i get lots of "Test passed" lines
> and no "TEST FAILED" lines ... which makes sense since you have everything
> UN_TOKENIZED, so the literal values are getting indexed, which just so
> happens to be what KeywwordAnalyzer does as well -- hence if you change
> everything from UN_TOKENIZED to TOKENIZED it will still work.
> 
> 
> do you have na example of something that *isn't* working the way you want?
> ... if not i don't see what your problem is, all your tests are passing :)
> 
> 
> : Date: Tue, 5 Sep 2006 14:06:13 -0700 (PDT)
> : From: Philip Brown <pmb@us.ibm.com>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: Re: Phrase search using quotes -- special Tokenizer
> :
> :
> : Here's a little sample program (borrowed some code from Erick Erickson
> :)).
> : Whether I add as TOKENIZED or UN_TOKENIZED seems to make no difference
> in
> : the output.  Is this what you'd expect?
> :
> : - Philip
> :
> : package com.test;
> :
> : import java.io.IOException;
> : import java.util.HashSet;
> : import java.util.regex.Pattern;
> :
> : import org.apache.lucene.analysis.Analyzer;
> : import org.apache.lucene.analysis.KeywordAnalyzer;
> : import org.apache.lucene.analysis.PerFieldAnalyzerWrapper;
> : import org.apache.lucene.analysis.standard.StandardAnalyzer;
> : import org.apache.lucene.document.Document;
> : import org.apache.lucene.document.Field;
> : import org.apache.lucene.index.IndexWriter;
> : import org.apache.lucene.index.memory.PatternAnalyzer;
> : import org.apache.lucene.queryParser.QueryParser;
> : import org.apache.lucene.search.Hits;
> : import org.apache.lucene.search.IndexSearcher;
> : import org.apache.lucene.search.Query;
> : import org.apache.lucene.store.RAMDirectory;
> :
> : public class Test2 {
> : 	    private PerFieldAnalyzerWrapper analyzer = null;
> : 	    private RAMDirectory idx = null;
> :
> : 	    private Analyzer getAnalyzer() {
> : 	        if (analyzer == null) {
> : 	        	analyzer = new PerFieldAnalyzerWrapper(new
> StandardAnalyzer());
> : 	        	analyzer.addAnalyzer("keyword", new KeywordAnalyzer());
> : 	        }
> : 	        return analyzer;
> :
> : 	    }
> :
> : 	    private void makeTestIndex() throws Exception {
> : 			idx = new RAMDirectory();
> : 	        IndexWriter writer = new IndexWriter(idx, getAnalyzer(), true);
> : 			Document doc = new Document();
> : 			doc.add(new Field("keyword", "hello world", Field.Store.YES,
> : Field.Index.UN_TOKENIZED));
> : 			doc.add(new Field("booleanField", "false", Field.Store.YES,
> : Field.Index.UN_TOKENIZED));
> : 			writer.addDocument(doc);
> : 			doc = new Document();
> : 			doc.add(new Field("keyword", "hello world", Field.Store.YES,
> : Field.Index.UN_TOKENIZED));
> : 			doc.add(new Field("booleanField", "true", Field.Store.YES,
> : Field.Index.UN_TOKENIZED));
> : 			writer.addDocument(doc);
> : System.out.println(writer.docCount());
> : 			writer.optimize();
> : 			writer.close();
> : 	    }
> :
> : 	    private void doSearch(String query, int expectedHits) throws
> Exception
> : {
> : 	        try {
> : 	            QueryParser qp = new QueryParser("keyword", getAnalyzer());
> : 	            IndexSearcher srch = new IndexSearcher(idx);
> : 	            Query tmp = qp.parse(query);
> : 	            // Uncomment to see parsed form of query
> : 	             System.out.println("Parsed form is '" + tmp.toString() +
> "'");
> : 	            Hits hits = srch.search(tmp);
> :
> : 	            String msg = "";
> :
> : 	            if (hits.length() == expectedHits) {
> : 	                msg = "Test passed ";
> : 	            } else {
> : 	                msg = "************TEST FAILED************ ";
> : 	            }
> : 	            System.out.println(msg + "Expected "
> : 	                    + Integer.toString(expectedHits) + " hits, got "
> : 	                    + Integer.toString(hits.length()) + " hits");
> :
> : 	        } catch (IOException e) {
> : 	            System.out.println("Caught IOException");
> : 	            e.printStackTrace();
> : 	        }
> : 	    }
> :
> :
> : 	    public static void main(String[] args) {
> : 	        try {
> : 	            Test2 test = new Test2();
> : 	            test.makeTestIndex();
> : 	            test.doSearch("Hello World", 0);
> : 	            test.doSearch("hello world", 0);
> : 	            test.doSearch("hello", 0);
> : 	            test.doSearch("world", 0);
> :
> : 	            test.doSearch("\"Hello World\"", 0);
> : 	            test.doSearch("\"hello world\"", 2);
> : 	            test.doSearch("\"hello world\" +booleanField:false", 1);
> : 	            test.doSearch("\"hello world\" +booleanField:true", 1);
> :
> : 	        } catch (Exception e) {
> : 	            System.err.println(e.getMessage());
> : 	        }
> : 	    }
> : }
> :
> :
> : Chris Hostetter wrote:
> : >
> : >
> : > : So, if I do as you suggest below (using PerFieldAnalyzerWrapper with
> : > : StandardAnalyzer) then I still need to enclose in quotes the phrases
> : > : (keywords with spaces) when I issue the search, and they are only
> : > returned
> : >
> : > Yes, quotes will be neccessary to tell the QueryParser "this
> : > is one chunk of text, passs it to the analyzer whole" - but that's so
> you
> : > can get the "compelx" part of the problem you described... recognizing
> : > that "my brown-cow" and "red fox" should be matched as seperate values
> : > intead of trying to find one big vlaue containing "my brown-cow red
> fox"
> : >
> : > : in the results if the case is identical to how it was added?  (This
> : > seems to
> : > : be what I observe anyway.  And whether I add as TOKENIZED or
> : > UN_TOKENIZED
> : > : seems to have no effect.)
> : >
> : > 1) wether case matters is determined enitrely by your analyzer, if it
> : >    produces differnet tokens for "Blue" and "BLUE" then case matters
> : > 2) use TOKENIZED or your Analyzer will be completely irrelevant
> : > 3) if you observse something working differently then you expect, post
> the
> : >   code -- we're way pastthe point of being able to offer you any
> : >   meaningful help without seeing a self contained example of what you
> want
> : >   to see work.
> : >
> : >
> : >
> : > -Hoss
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> : >
> :
> : --
> : View this message in context:
> http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6160316
> : Sent from the Lucene - Java Users forum at Nabble.com.
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html#a6163500
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 01:41:08 2006
Return-Path: <java-user-return-23193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33428 invoked from network); 6 Sep 2006 01:41:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 01:41:01 -0000
Received: (qmail 5861 invoked by uid 500); 6 Sep 2006 01:40:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5822 invoked by uid 500); 6 Sep 2006 01:40:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5811 invoked by uid 99); 6 Sep 2006 01:40:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 18:40:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 18:40:54 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8D7DD5B76C; Tue,  5 Sep 2006 18:40:27 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 718A97F403
	for <java-user@lucene.apache.org>; Tue,  5 Sep 2006 18:40:27 -0700 (PDT)
Date: Tue, 5 Sep 2006 18:40:27 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Phrase search using quotes -- special Tokenizer
In-Reply-To: <6163500.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0609051834160.4125@hal.rescomp.berkeley.edu>
References: <6093138.post@talk.nabble.com> <44F83F0A.7080005@gmail.com>
 <6106920.post@talk.nabble.com> <ab0709bf0609011521v40398219jd5727cfed0cb2b46@mail.gmail.com>
 <6107649.post@talk.nabble.com> <359a92830609011659o51839642g31502fef0fc86b28@mail.gmail.com>
 <6109067.post@talk.nabble.com> <359a92830609020643le432a02qeb19b6ec906e915f@mail.gmail.com>
 <44F98D2C.7030007@gmail.com> <6115360.post@talk.nabble.com>
 <359a92830609030745u61252dc9t16daa772218d3b96@mail.gmail.com>
 <6125651.post@talk.nabble.com> <Pine.LNX.4.58.0609031642460.27918@hal.rescomp.berkeley.edu>
 <6128827.post@talk.nabble.com> <Pine.LNX.4.58.0609031923480.2297@hal.rescomp.berkeley.edu>
 <6134864.post@talk.nabble.com> <Pine.LNX.4.58.0609041249080.6144@hal.rescomp.berkeley.edu>
 <6145591.post@talk.nabble.com> <Pine.LNX.4.58.0609051040080.22254@hal.rescomp.berkeley.edu>
 <6160316.post@talk.nabble.com> <Pine.LNX.4.58.0609051440270.29504@hal.rescomp.berkeley.edu>
 <6163500.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Sorry for the confusion and thanks for taking the time to educate me.  So, if
: I am just indexing literal values, what is the best way to do that (what
: analyzer)?  Sounds like this approach, even though it works, is not the
: preferred method.

if you truely want just the literal values then KeywordAnalyzer will work
great -- but you mentioned before that you want something more complicated
(case normalization i believe?) ... for something like that (lowercasing,
but preserving whitespace and punctuation) you'll need to write a custom
Analyzer ... that's not hard though, just glue together the
KeywordTokenizer with the LowerCaseFilter ala...

  public TokenStream tokenStream(String fieldName, Reader reader) {
    return new LowerCaseFilter(new KeywordTokenizer(reader));
  }

...if there are other special rules you want, then put them in other
filters and compose your Analyzer further.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 02:15:00 2006
Return-Path: <java-user-return-23194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41584 invoked from network); 6 Sep 2006 02:14:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 02:14:50 -0000
Received: (qmail 30842 invoked by uid 500); 6 Sep 2006 02:14:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30815 invoked by uid 500); 6 Sep 2006 02:14:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30804 invoked by uid 99); 6 Sep 2006 02:14:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 19:14:45 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of liuping.james@gmail.com designates 64.233.184.232 as permitted sender)
Received: from [64.233.184.232] (HELO wr-out-0506.google.com) (64.233.184.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 19:14:44 -0700
Received: by wr-out-0506.google.com with SMTP id i5so742872wra
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 19:14:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Z50cmK0DII9m6PSAuJJOQRriQsvq8eMeqAKWnBKxkoEu4PbHyQuT3ifBYlgil3uPwRh5YVucuKPBdLcu6gHNa1Hgvxwku3cQNbJwAG+qUn2KGRGqIOJEPLSMxussuSivmGw78/wYxkz7Gyi7D+j2NgTDpJQphEQj63v98/CgNZI=
Received: by 10.90.52.18 with SMTP id z18mr2024551agz;
        Tue, 05 Sep 2006 19:14:24 -0700 (PDT)
Received: by 10.90.74.7 with HTTP; Tue, 5 Sep 2006 19:14:24 -0700 (PDT)
Message-ID: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
Date: Wed, 6 Sep 2006 10:14:24 +0800
From: "James liu" <liuping.james@gmail.com>
To: java-user@lucene.apache.org
Subject: which way to index pdf,word,excel
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_47862_1721972.1157508864079"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_47862_1721972.1157508864079
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

i find lius many question ,,,,so i wanna give up and find new.

who recommend ?

------=_Part_47862_1721972.1157508864079--

From java-user-return-23195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 04:56:18 2006
Return-Path: <java-user-return-23195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64908 invoked from network); 6 Sep 2006 04:56:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 04:56:14 -0000
Received: (qmail 41675 invoked by uid 500); 6 Sep 2006 04:56:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41591 invoked by uid 500); 6 Sep 2006 04:56:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41580 invoked by uid 99); 6 Sep 2006 04:56:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 21:56:09 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 21:56:08 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.7/8.13.7) with ESMTP id k864tkHh070984
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 04:55:46 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8650AbI2760814
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 07:00:10 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k864tk0W016363
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 06:55:46 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k864tkCB016360
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 06:55:46 +0200
In-Reply-To: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
Subject: Re: which way to index pdf,word,excel
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 5 Sep 2006 21:54:42 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 06/09/2006 08:00:10
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene FAQ - http://wiki.apache.org/jakarta-lucene/LuceneFAQ - has a few
entries just for this:

  How can I index HTML documents?
  How can I index XML documents?
  How can I index OpenOffice.org files?
  How can I index MS-Word documents?
  How can I index MS-Excel documents?
  How can I index MS-Powerpoint documents?
  How can I index Email (from MS-Exchange or another IMAP server) ?
  How can I index RTF documents?
  How can I index PDF documents?
  How can I index JSP files?


"James liu" <liuping.james@gmail.com> wrote on 05/09/2006 19:14:24:

> i find lius many question ,,,,so i wanna give up and find new.
>
> who recommend ?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 04:57:45 2006
Return-Path: <java-user-return-23196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65109 invoked from network); 6 Sep 2006 04:57:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 04:57:41 -0000
Received: (qmail 43984 invoked by uid 500); 6 Sep 2006 04:57:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43948 invoked by uid 500); 6 Sep 2006 04:57:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43937 invoked by uid 99); 6 Sep 2006 04:57:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 21:57:35 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO py-out-1112.google.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 21:57:34 -0700
Received: by py-out-1112.google.com with SMTP id w49so2889536pyg
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 21:57:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:subject:date:mime-version:content-type:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=fgRx78KZe1HVc/7xPM+GxWPgkywVWQPUJ1ju2rj7Qs0v3Qo0Wn8YzxMpEotkooYUP8f2dj1GXVwRODAZl8Q5r6G2QAlLZtxohyp3eie9O67ihSxVaaLVLfEU0lxlpq34BhbJVnhn5a26OYD4xF/8vgp/o9d5uxf3RET3sUEtWdc=
Received: by 10.35.65.17 with SMTP id s17mr11581037pyk;
        Tue, 05 Sep 2006 21:57:13 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id 60sm7474989pyg.2006.09.05.21.56.59;
        Tue, 05 Sep 2006 21:57:12 -0700 (PDT)
Message-ID: <004201c6d170$e8865d60$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
Subject: Keep hits in results
Date: Wed, 6 Sep 2006 12:56:53 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003F_01C6D1B3.ED1DC460"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003F_01C6D1B3.ED1DC460
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

aGksDQogIFRoZSBmb2xsb3dpbmcgd29yZHMgYXJlIHF1b3RlZCBmcm9tICJsdWNlbmUgaW4gYWN0
aW9uIjoNCiAgIlRoZXJlIGFyZSBhIGNvdXBsZSBvZiBpbXBsZW1lbnRhdGlvbiBhcHByb2FjaGVz
Og0KIDEuIEtlZXAgdGhlIG9yaWdpbmFsIEhpdHMgYW5kIEluZGV4U2VhcmNoZXIgaW5zdGFuY2Vz
IGF2YWlsYWJsZSB3aGlsZSB0aGUNCnVzZXIgaXMgbmF2aWdhdGluZyB0aGUgc2VhcmNoIHJlc3Vs
dHMuDQogMi4gUmVxdWVyeSBlYWNoIHRpbWUgdGhlIHVzZXIgbmF2aWdhdGVzIHRvIGEgbmV3IHBh
Z2UuDQpJdCB0dXJucyBvdXQgdGhhdCByZXF1ZXJ5aW5nIGlzIG1vc3Qgb2Z0ZW4gdGhlIGJlc3Qg
c29sdXRpb24uIFJlcXVlcnlpbmcgZWxpbWluYXRlcw0KdGhlIG5lZWQgdG8gc3RvcmUgcGVyLXVz
ZXIgc3RhdGUuIEluIGEgd2ViIGFwcGxpY2F0aW9uLCBzdGF5aW5nIHN0YXRlbGVzcyAobm8NCkhU
VFAgc2Vzc2lvbikgaXMgb2Z0ZW4gZGVzaXJhYmxlLiBSZXF1ZXJ5aW5nIGF0IGZpcnN0IGdsYW5j
ZSBzZWVtcyBhIHdhc3RlLCBidXQNCkx1Y2VuZaGvcyBibGF6aW5nIHNwZWVkIG1vcmUgdGhhbiBj
b21wZW5zYXRlcy4gIg0KICAgDQogICBJIGFtIGNvbmZ1c2VkIGFib3V0IHRoaXMgcGFyYWdyYXBo
LiBTaW5jZSBIaXRzIGlzIGp1c3QgYSBzaW1wbGUgY29udGFpbmVyIG9mIHBvaW50ZXJzIA0KdG8g
cmFua2VkIHNlYXJjaCByZXN1bHRzLCBpdCBkb2Vzbid0IGxvYWQgZnJvbSB0aGUgaW5kZXggYWxs
IGRvY3VtZW50cyB0aGF0IG1hdGNoIGEgcXVlcnksDQpidXQgb25seSBhIHNtYWxsIHBvcnRpb24g
b2YgdGhlbSBhdCBhIHRpbWUuIElmIHdlIHJlcXVlcnksIHdlIHdpbGwgZ2V0IGEgbmV3IGhpdHMs
IHdoeSBub3QNCmp1c3Qga2VlcGluZyB0aGUgb3JnaW5hbCBIaXRzIHdoaWNoIHdpbGwgbm90IHdh
c3RlIG11Y2ggbWVtb3J5Lg0KICAgICAgICAgICAgICAgICAgICAgICAgDQoNCg0KICAgICBCZXN0
IFJlZ2FyZHMuDQogICAgICAgamFja3kgIA0KICAgICAgIA==

------=_NextPart_000_003F_01C6D1B3.ED1DC460--


From java-user-return-23197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 05:31:26 2006
Return-Path: <java-user-return-23197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68759 invoked from network); 6 Sep 2006 05:31:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 05:31:20 -0000
Received: (qmail 64174 invoked by uid 500); 6 Sep 2006 05:31:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64141 invoked by uid 500); 6 Sep 2006 05:31:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64130 invoked by uid 99); 6 Sep 2006 05:31:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 22:31:13 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of liuping.james@gmail.com designates 66.249.82.239 as permitted sender)
Received: from [66.249.82.239] (HELO wx-out-0506.google.com) (66.249.82.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 22:31:13 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2522664wxc
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 22:30:52 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=uUj7XCNC1MuZ/mTv0sQrom2RlyI+vXaVdM961kx9lU7zQ+LxKlr7zu2qdbqjqZvxRmJrMG9DPZlcawFlwT338/BmivsSERk8O51m46rJLcJbjLkk2rX+/2tsy8Cp2dCV3p9JBgwhMbfD9yXT/hEH40xb36ne0EVhtOvFGBq+AU0=
Received: by 10.90.51.17 with SMTP id y17mr2033166agy;
        Tue, 05 Sep 2006 22:30:51 -0700 (PDT)
Received: by 10.90.74.7 with HTTP; Tue, 5 Sep 2006 22:30:51 -0700 (PDT)
Message-ID: <5d5204510609052230s44d17332hdba3acf3b3a576cb@mail.gmail.com>
Date: Wed, 6 Sep 2006 13:30:51 +0800
From: "James liu" <liuping.james@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: which way to index pdf,word,excel
In-Reply-To: <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50292_19807405.1157520651943"
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_50292_19807405.1157520651943
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

i wanna find frame which can index xml,word,excel,pdf,,,not one.


2006/9/6, Doron Cohen <DORONC@il.ibm.com>:
>
> Lucene FAQ - http://wiki.apache.org/jakarta-lucene/LuceneFAQ - has a few
> entries just for this:
>
>   How can I index HTML documents?
>   How can I index XML documents?
>   How can I index OpenOffice.org files?
>   How can I index MS-Word documents?
>   How can I index MS-Excel documents?
>   How can I index MS-Powerpoint documents?
>   How can I index Email (from MS-Exchange or another IMAP server) ?
>   How can I index RTF documents?
>   How can I index PDF documents?
>   How can I index JSP files?
>
>
> "James liu" <liuping.james@gmail.com> wrote on 05/09/2006 19:14:24:
>
> > i find lius many question ,,,,so i wanna give up and find new.
> >
> > who recommend ?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_50292_19807405.1157520651943--

From java-user-return-23198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:00:30 2006
Return-Path: <java-user-return-23198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77114 invoked from network); 6 Sep 2006 06:00:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:00:30 -0000
Received: (qmail 89771 invoked by uid 500); 6 Sep 2006 06:00:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89729 invoked by uid 500); 6 Sep 2006 06:00:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89717 invoked by uid 99); 6 Sep 2006 06:00:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:00:24 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of popeyelin@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:00:23 -0700
Received: by py-out-1112.google.com with SMTP id w49so2908233pyg
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 23:00:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZqdeP96S6cRDNsmIE/U2PKpFfZL+1OR8iZ1+NdP7jMPS4Yb2mgPyOQ6d9iSR/8DmFjsBD5hytor/MjVxFDuX7RYipLFgWUe4xoiiYCAlrxOeEt3/ByLzeJLZJM6cbmqhYQLpV/s6NCx9voO7ziDXA2Urg9IIC7cbydRArtuydC4=
Received: by 10.35.107.20 with SMTP id j20mr11668707pym;
        Tue, 05 Sep 2006 23:00:02 -0700 (PDT)
Received: by 10.35.8.2 with HTTP; Tue, 5 Sep 2006 23:00:02 -0700 (PDT)
Message-ID: <8e7e4d020609052300w20824482i7ca221dc73301bb3@mail.gmail.com>
Date: Tue, 5 Sep 2006 23:00:02 -0700
From: "yueyu lin" <popeyelin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: which way to index pdf,word,excel
In-Reply-To: <5d5204510609052230s44d17332hdba3acf3b3a576cb@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_63481_18628449.1157522402711"
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
	 <5d5204510609052230s44d17332hdba3acf3b3a576cb@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_63481_18628449.1157522402711
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

First, Lucene is just a index toolkit, you have to USE it to implement your
application.

If you want to index something, you must have knowledge how to extract
information from them and what kind of keys they need to be set.

Then you can do what you want to.
On 9/5/06, James liu <liuping.james@gmail.com> wrote:
>
> i wanna find frame which can index xml,word,excel,pdf,,,not one.
>
>
> 2006/9/6, Doron Cohen <DORONC@il.ibm.com>:
> >
> > Lucene FAQ - http://wiki.apache.org/jakarta-lucene/LuceneFAQ - has a few
> > entries just for this:
> >
> >   How can I index HTML documents?
> >   How can I index XML documents?
> >   How can I index OpenOffice.org files?
> >   How can I index MS-Word documents?
> >   How can I index MS-Excel documents?
> >   How can I index MS-Powerpoint documents?
> >   How can I index Email (from MS-Exchange or another IMAP server) ?
> >   How can I index RTF documents?
> >   How can I index PDF documents?
> >   How can I index JSP files?
> >
> >
> > "James liu" <liuping.james@gmail.com> wrote on 05/09/2006 19:14:24:
> >
> > > i find lius many question ,,,,so i wanna give up and find new.
> > >
> > > who recommend ?
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>


-- 
--
Yueyu Lin

------=_Part_63481_18628449.1157522402711--

From java-user-return-23199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:08:20 2006
Return-Path: <java-user-return-23199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79410 invoked from network); 6 Sep 2006 06:08:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:08:17 -0000
Received: (qmail 99391 invoked by uid 500); 6 Sep 2006 06:08:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99349 invoked by uid 500); 6 Sep 2006 06:08:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99338 invoked by uid 99); 6 Sep 2006 06:08:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:08:11 -0700
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:08:10 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.7/8.13.7) with ESMTP id k8667nTW105196
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 06:07:49 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k866CDsT2658418
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:12:13 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8667n32007786
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:07:49 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8667m8A007782
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:07:48 +0200
In-Reply-To: <004201c6d170$e8865d60$0d01a8c0@client06>
Subject: Re: Keep hits in results
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OFA585099B.FD8757A5-ON882571E1.00209C31-882571E1.002192C5@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 5 Sep 2006 23:06:42 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 06/09/2006 09:12:13
MIME-Version: 1.0
Content-type: text/plain; charset=GB2312
Content-transfer-encoding: base64
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGl0cyBpcyBub3QgcmVhbGx5IGEgc2ltcGxlIGNvbnRhaW5lciAtIGl0IHJlZmVyZW5jZXMgYSBj
ZXJ0YWluIHNlYXJjaGVyIC0NCnRoYXQgc2FtZSBzZWFyY2hlciB0aGF0IHdhcyB1c2VkIHRvIGZp
bmQgdGhlc2UgaGl0cy4gV2hlbiBhIHJlcXVlc3QgZm9yIGENCnJlc3VsdCBkb2N1bWVudCBpcyBt
YWRlLCB0aGUgSGl0cyBvYmplY3QgZGVsZWdhdGVzIHRoaXMgcmVxdWVzdCB0byB0aGUNCnNlYXJj
aGVyLiBTbyBpbiBvcmRlciB0byAicGFnZSB0aHJvdWdoIiB0aGUgcmVzdWx0cyB1c2luZyBhbiBl
eGlzdGluZyBIaXRzDQpvYmplY3QsIHRoYXQgc2VhcmNoZXIgaGFzIHRvIHJlbWFpbiBvcGVuLiBU
aGlzIGhhcyBhIGNvc3QgLSBpbiB0ZXJtcyBvZg0KbWVtb3J5LCBldGMuIEJ1dCBMSUEgZGVzY3Jp
YmVzIGFuIGFkZGl0aW9uYWwgcGVuYWx0eSBvZiB0aGlzIGFwcHJvYWNoIC0gZm9yDQphIFdlYiBz
ZWFyY2ggYXBwbGljYXRpb24sIGtlZXBpbmcgdGhlIEhpdHMgb2JqZWN0IGFsaXZlIGZvciB0aGUg
Y2FzZSB0aGF0DQp0aGUgdXNlciB3b3VsZCBsaWtlIHRvIHNlZSB0aGUgbmV4dCAicGFnZSBvZiBy
ZXN1bHRzIiwgbWVhbnMgIm1haW50YWluaW5nIGENCnVzZXIgc3RhdGUgb24gdGhlIHNlcnZlciIs
IFdoaWxlIHRoaXMgaXMgcG9zc2libGUsIGl0IGlzIGEgbW9yZSBjb21wbGljYXRlZA0Kc2VydmVy
IHNpZGUgbG9naWMgdG8gaW1wbGVtZW50LCBtdWNoIG1vcmUgY29tcGxpY2F0ZWQgdGhhbiB0aGUg
c3RhdGVsZXNzDQphcHByb2FjaCB3aGVyZSBhIHF1ZXJ5IGlzIHJlc3VibWl0dGVkIGZvciBlYWNo
IG5ldyBwYWdlIG9mIHJlc3VsdHMuIEkgdGhpbmsNCndoYXQgTElBIHJlYWxseSBtZWFucyBpcyAt
IGhlcmUgYW5kIGFsc28gaW4gb3RoZXIgY2FzZXMgLSBsZXQncyBub3QNCmNvbXBsaWNhdGUgdGhp
bmdzIChlLmcuIHN0YXRlZnVsbCBzb2x1dGlvbikgdW5sZXNzIHRoaXMgaXMgcmVhbGx5IG5lY2Vz
c2FyeQ0KKGUuZy4gcGVyZm9ybWFuY2Ugd2lzZSBpbiBhIGNlcnRhaW4gYXBwbGljYXRpb24gaXQg
aXMgb3V0IG9mIHRoZSBxdWVzdGlvbg0KdG8gcmVzdWJtaXQgYSBxdWVyeSBmb3IgZXZlcnkgcGFn
ZSwgZXRjLikNCg0KSG9wZSB0aGlzIGhlbHBzLA0KRG9yb24NCg0KImphY2t5IiA8amFja3ljaGVu
cEBnbWFpbC5jb20+IHdyb3RlIG9uIDA1LzA5LzIwMDYgMjE6NTY6NTM6DQoNCj4gaGksDQo+ICAg
VGhlIGZvbGxvd2luZyB3b3JkcyBhcmUgcXVvdGVkIGZyb20gImx1Y2VuZSBpbiBhY3Rpb24iOg0K
PiAgICJUaGVyZSBhcmUgYSBjb3VwbGUgb2YgaW1wbGVtZW50YXRpb24gYXBwcm9hY2hlczoNCj4g
IDEuIEtlZXAgdGhlIG9yaWdpbmFsIEhpdHMgYW5kIEluZGV4U2VhcmNoZXIgaW5zdGFuY2VzIGF2
YWlsYWJsZSB3aGlsZQ0KdGhlDQo+IHVzZXIgaXMgbmF2aWdhdGluZyB0aGUgc2VhcmNoIHJlc3Vs
dHMuDQo+ICAyLiBSZXF1ZXJ5IGVhY2ggdGltZSB0aGUgdXNlciBuYXZpZ2F0ZXMgdG8gYSBuZXcg
cGFnZS4NCj4gSXQgdHVybnMgb3V0IHRoYXQgcmVxdWVyeWluZyBpcyBtb3N0IG9mdGVuIHRoZSBi
ZXN0IHNvbHV0aW9uLg0KPiBSZXF1ZXJ5aW5nIGVsaW1pbmF0ZXMNCj4gdGhlIG5lZWQgdG8gc3Rv
cmUgcGVyLXVzZXIgc3RhdGUuIEluIGEgd2ViIGFwcGxpY2F0aW9uLCBzdGF5aW5nIHN0YXRlbGVz
cw0KKG5vDQo+IEhUVFAgc2Vzc2lvbikgaXMgb2Z0ZW4gZGVzaXJhYmxlLiBSZXF1ZXJ5aW5nIGF0
IGZpcnN0IGdsYW5jZSBzZWVtcw0KYXdhc3RlLCBidXQNCj4gTHVjZW5loa9zIGJsYXppbmcgc3Bl
ZWQgbW9yZSB0aGFuIGNvbXBlbnNhdGVzLiAiDQo+DQo+ICAgIEkgYW0gY29uZnVzZWQgYWJvdXQg
dGhpcyBwYXJhZ3JhcGguIFNpbmNlIEhpdHMgaXMganVzdCBhIHNpbXBsZQ0KPiBjb250YWluZXIg
b2YgcG9pbnRlcnMNCj4gdG8gcmFua2VkIHNlYXJjaCByZXN1bHRzLCBpdCBkb2Vzbid0IGxvYWQg
ZnJvbSB0aGUgaW5kZXggYWxsDQo+IGRvY3VtZW50cyB0aGF0IG1hdGNoIGEgcXVlcnksDQo+IGJ1
dCBvbmx5IGEgc21hbGwgcG9ydGlvbiBvZiB0aGVtIGF0IGEgdGltZS4gSWYgd2UgcmVxdWVyeSwg
d2Ugd2lsbA0KPiBnZXQgYSBuZXcgaGl0cywgd2h5IG5vdA0KPiBqdXN0IGtlZXBpbmcgdGhlIG9y
Z2luYWwgSGl0cyB3aGljaCB3aWxsIG5vdCB3YXN0ZSBtdWNoIG1lbW9yeS4NCj4NCj4NCj4NCj4g
ICAgICBCZXN0IFJlZ2FyZHMuDQo+ICAgICAgICBqYWNreQ0KPg==




From java-user-return-23200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:11:03 2006
Return-Path: <java-user-return-23200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79917 invoked from network); 6 Sep 2006 06:10:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:10:49 -0000
Received: (qmail 2863 invoked by uid 500); 6 Sep 2006 06:10:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2337 invoked by uid 500); 6 Sep 2006 06:10:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2315 invoked by uid 99); 6 Sep 2006 06:10:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:10:39 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of liuping.james@gmail.com designates 66.249.82.239 as permitted sender)
Received: from [66.249.82.239] (HELO wx-out-0506.google.com) (66.249.82.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:10:38 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2531579wxc
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 23:10:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=cFMTRfF5Un+GFNrab1nAeXeitMgTc9WBph8FFrilT+9o/ULlesF0SdIMZpXcUS/B2sdwPjWaUAE9BIbADFMejRnPCc8UDaskPotWpjZW8Beq3FQRm1Gw1UE7Q0IgYRWSOrBlyDZQ1/AAkmw2pCiyvBTgqfSp+Gz6WEe13t9z3Eg=
Received: by 10.90.51.17 with SMTP id y17mr2035170agy;
        Tue, 05 Sep 2006 23:10:16 -0700 (PDT)
Received: by 10.90.74.7 with HTTP; Tue, 5 Sep 2006 23:10:16 -0700 (PDT)
Message-ID: <5d5204510609052310h3b778b71v2981c391ca9e1c38@mail.gmail.com>
Date: Wed, 6 Sep 2006 14:10:16 +0800
From: "James liu" <liuping.james@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: which way to index pdf,word,excel
In-Reply-To: <8e7e4d020609052300w20824482i7ca221dc73301bb3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50772_18458533.1157523016672"
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
	 <5d5204510609052230s44d17332hdba3acf3b3a576cb@mail.gmail.com>
	 <8e7e4d020609052300w20824482i7ca221dc73301bb3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_50772_18458533.1157523016672
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

i wanna find frame which can index xml,word,excel,pdf,,,not one.

i just wanna know who know the frame like what i wanna.


2006/9/6, yueyu lin <popeyelin@gmail.com>:
>
> First, Lucene is just a index toolkit, you have to USE it to implement
> your
> application.
>
> If you want to index something, you must have knowledge how to extract
> information from them and what kind of keys they need to be set.
>
> Then you can do what you want to.
> On 9/5/06, James liu <liuping.james@gmail.com> wrote:
> >
> > i wanna find frame which can index xml,word,excel,pdf,,,not one.
> >
> >
> > 2006/9/6, Doron Cohen <DORONC@il.ibm.com>:
> > >
> > > Lucene FAQ - http://wiki.apache.org/jakarta-lucene/LuceneFAQ - has a
> few
> > > entries just for this:
> > >
> > >   How can I index HTML documents?
> > >   How can I index XML documents?
> > >   How can I index OpenOffice.org files?
> > >   How can I index MS-Word documents?
> > >   How can I index MS-Excel documents?
> > >   How can I index MS-Powerpoint documents?
> > >   How can I index Email (from MS-Exchange or another IMAP server) ?
> > >   How can I index RTF documents?
> > >   How can I index PDF documents?
> > >   How can I index JSP files?
> > >
> > >
> > > "James liu" <liuping.james@gmail.com> wrote on 05/09/2006 19:14:24:
> > >
> > > > i find lius many question ,,,,so i wanna give up and find new.
> > > >
> > > > who recommend ?
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
>
>
> --
> --
> Yueyu Lin
>
>

------=_Part_50772_18458533.1157523016672--

From java-user-return-23201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:27:16 2006
Return-Path: <java-user-return-23201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82287 invoked from network); 6 Sep 2006 06:27:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:27:13 -0000
Received: (qmail 16323 invoked by uid 500); 6 Sep 2006 06:27:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16295 invoked by uid 500); 6 Sep 2006 06:27:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16284 invoked by uid 99); 6 Sep 2006 06:27:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:27:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of michael.imbeault@sympatico.ca designates 209.226.175.4 as permitted sender)
Received: from [209.226.175.4] (HELO tomts16-srv.bellnexxia.net) (209.226.175.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:27:06 -0700
Received: from [69.157.141.126] by tomts16-srv.bellnexxia.net
          (InterMail vM.5.01.06.13 201-253-122-130-113-20050324) with ESMTP
          id <20060906062645.XHEU27612.tomts16-srv.bellnexxia.net@[69.157.141.126]>
          for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 02:26:45 -0400
Message-ID: <44FE6A2F.5050807@sympatico.ca>
Date: Wed, 06 Sep 2006 02:26:55 -0400
From: Michael Imbeault <michael.imbeault@sympatico.ca>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Doc add limit, im experiencing it too
References: 5a45c8520607260928yc30cd0cvebca6ab9b3f898d7@mail.gmail.com
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Old issue (see 
http://www.mail-archive.com/solr-user@lucene.apache.org/msg00651.html), 
but I'm experiencing the same exact thing on windows xp, latest tomcat. 
I noticed that the tomcat process gobbles memory (10 megs a second 
maybe) and then jams at 125 megs. Can't find a fix yet. I'm using a php 
interface and curl to post my xml, one document at a time, and commit 
every 100 document. Indexing 30000 docs, it hangs at maybe 5000. Anyone 
got an idea on this one? It would be helpful. I may try to switch to 
jetty tomorrow if nothing works :(

-- 
Michael Imbeault
CHUL Research Center (CHUQ)
2705 boul. Laurier
Ste-Foy, QC, Canada, G1V 4G2
Tel: (418) 654-2705, Fax: (418) 654-2212


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:29:00 2006
Return-Path: <java-user-return-23202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82510 invoked from network); 6 Sep 2006 06:28:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:28:58 -0000
Received: (qmail 18885 invoked by uid 500); 6 Sep 2006 06:28:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18854 invoked by uid 500); 6 Sep 2006 06:28:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18843 invoked by uid 99); 6 Sep 2006 06:28:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:28:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:28:51 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.7/8.13.7) with ESMTP id k866STfY179528
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 06:28:29 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k866WrsS3223638
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:32:53 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k866ST7r030539
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:28:29 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k866STxX030536
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:28:29 +0200
In-Reply-To: <5d5204510609052310h3b778b71v2981c391ca9e1c38@mail.gmail.com>
Subject: Re: which way to index pdf,word,excel
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OFFC6B17A9.777FC7CD-ON882571E1.00230B75-882571E1.00235BE3@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 5 Sep 2006 23:26:12 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 06/09/2006 09:32:53
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think that Nutch would crawl and search all these 3 types. Not sure that
Nutch would provide the framework you seem to look for, but perhaps it is
worth to take a look - http://lucene.apache.org/nutch/

"James liu" <liuping.james@gmail.com> wrote on 05/09/2006 23:10:16:

> i wanna find frame which can index xml,word,excel,pdf,,,not one.
>
> i just wanna know who know the frame like what i wanna.
>
>
> 2006/9/6, yueyu lin <popeyelin@gmail.com>:
> >
> > First, Lucene is just a index toolkit, you have to USE it to implement
> > your
> > application.
> >
> > If you want to index something, you must have knowledge how to extract
> > information from them and what kind of keys they need to be set.
> >
> > Then you can do what you want to.
> > On 9/5/06, James liu <liuping.james@gmail.com> wrote:
> > >
> > > i wanna find frame which can index xml,word,excel,pdf,,,not one.
> > >
> > >
> > > 2006/9/6, Doron Cohen <DORONC@il.ibm.com>:
> > > >
> > > > Lucene FAQ - http://wiki.apache.org/jakarta-lucene/LuceneFAQ - has
a
> > few
> > > > entries just for this:
> > > >
> > > >   How can I index HTML documents?
> > > >   How can I index XML documents?
> > > >   How can I index OpenOffice.org files?
> > > >   How can I index MS-Word documents?
> > > >   How can I index MS-Excel documents?
> > > >   How can I index MS-Powerpoint documents?
> > > >   How can I index Email (from MS-Exchange or another IMAP server) ?
> > > >   How can I index RTF documents?
> > > >   How can I index PDF documents?
> > > >   How can I index JSP files?
> > > >
> > > >
> > > > "James liu" <liuping.james@gmail.com> wrote on 05/09/2006 19:14:24:
> > > >
> > > > > i find lius many question ,,,,so i wanna give up and find new.
> > > > >
> > > > > who recommend ?
> > > >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:31:59 2006
Return-Path: <java-user-return-23203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83315 invoked from network); 6 Sep 2006 06:31:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:31:59 -0000
Received: (qmail 24125 invoked by uid 500); 6 Sep 2006 06:31:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23539 invoked by uid 500); 6 Sep 2006 06:31:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23527 invoked by uid 99); 6 Sep 2006 06:31:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:31:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:31:52 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.7/8.13.7) with ESMTP id k866VUM2042634
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 06:31:30 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k866Zsvk1904640
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:35:54 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k866VU4t001290
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:31:30 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k866VUAM001285
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 08:31:30 +0200
In-Reply-To: <44FE6A2F.5050807@sympatico.ca>
Subject: Re: Doc add limit, im experiencing it too
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF20A48ED2.5735E7BF-ON882571E1.00239DD0-882571E1.0023C098@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 5 Sep 2006 23:30:30 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 06/09/2006 09:35:54
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe this should go to the solr-user@lucene.apache.org ?

Michael Imbeault <michael.imbeault@sympatico.ca> wrote on 05/09/2006
23:26:55:

> Old issue (see
> http://www.mail-archive.com/solr-user@lucene.apache.org/msg00651.html),
> but I'm experiencing the same exact thing on windows xp, latest tomcat.
> I noticed that the tomcat process gobbles memory (10 megs a second
> maybe) and then jams at 125 megs. Can't find a fix yet. I'm using a php
> interface and curl to post my xml, one document at a time, and commit
> every 100 document. Indexing 30000 docs, it hangs at maybe 5000. Anyone
> got an idea on this one? It would be helpful. I may try to switch to
> jetty tomorrow if nothing works :(
>
> --
> Michael Imbeault
> CHUL Research Center (CHUQ)
> 2705 boul. Laurier
> Ste-Foy, QC, Canada, G1V 4G2
> Tel: (418) 654-2705, Fax: (418) 654-2212
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:34:03 2006
Return-Path: <java-user-return-23204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83720 invoked from network); 6 Sep 2006 06:33:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:33:51 -0000
Received: (qmail 27613 invoked by uid 500); 6 Sep 2006 06:33:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27581 invoked by uid 500); 6 Sep 2006 06:33:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27570 invoked by uid 99); 6 Sep 2006 06:33:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:33:44 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of liuping.james@gmail.com designates 66.249.82.225 as permitted sender)
Received: from [66.249.82.225] (HELO wx-out-0506.google.com) (66.249.82.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:33:43 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2537003wxc
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 23:33:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ClcBGhdaioDBx3eL3sxjb3ioqfv7ERW1pd7yLB7kXbfaJOe1+EfaJ12qHGwA3ZooP51cZBqyae/yPQBwO+xoQoDVzMvD3EkE5BisKsdIfTKTKEaw7eigLNaM2/g5xFg9wBXl8UX5qLzUZdHVFipG710jEf7zMDHu7viFEVxLahI=
Received: by 10.90.51.17 with SMTP id y17mr2036531agy;
        Tue, 05 Sep 2006 23:33:22 -0700 (PDT)
Received: by 10.90.74.7 with HTTP; Tue, 5 Sep 2006 23:33:22 -0700 (PDT)
Message-ID: <5d5204510609052333k7807cd74pe698a5320db7407f@mail.gmail.com>
Date: Wed, 6 Sep 2006 14:33:22 +0800
From: "James liu" <liuping.james@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: which way to index pdf,word,excel
In-Reply-To: <OFFC6B17A9.777FC7CD-ON882571E1.00230B75-882571E1.00235BE3@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50988_9018938.1157524402413"
References: <5d5204510609052310h3b778b71v2981c391ca9e1c38@mail.gmail.com>
	 <OFFC6B17A9.777FC7CD-ON882571E1.00230B75-882571E1.00235BE3@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_50988_9018938.1157524402413
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

thk,,,Cohen and lin.



2006/9/6, Doron Cohen <DORONC@il.ibm.com>:
>
> I think that Nutch would crawl and search all these 3 types. Not sure that
> Nutch would provide the framework you seem to look for, but perhaps it is
> worth to take a look - http://lucene.apache.org/nutch/
>
> "James liu" <liuping.james@gmail.com> wrote on 05/09/2006 23:10:16:
>
> > i wanna find frame which can index xml,word,excel,pdf,,,not one.
> >
> > i just wanna know who know the frame like what i wanna.
> >
> >
> > 2006/9/6, yueyu lin <popeyelin@gmail.com>:
> > >
> > > First, Lucene is just a index toolkit, you have to USE it to implement
> > > your
> > > application.
> > >
> > > If you want to index something, you must have knowledge how to extract
> > > information from them and what kind of keys they need to be set.
> > >
> > > Then you can do what you want to.
> > > On 9/5/06, James liu <liuping.james@gmail.com> wrote:
> > > >
> > > > i wanna find frame which can index xml,word,excel,pdf,,,not one.
> > > >
> > > >
> > > > 2006/9/6, Doron Cohen <DORONC@il.ibm.com>:
> > > > >
> > > > > Lucene FAQ - http://wiki.apache.org/jakarta-lucene/LuceneFAQ - has
> a
> > > few
> > > > > entries just for this:
> > > > >
> > > > >   How can I index HTML documents?
> > > > >   How can I index XML documents?
> > > > >   How can I index OpenOffice.org files?
> > > > >   How can I index MS-Word documents?
> > > > >   How can I index MS-Excel documents?
> > > > >   How can I index MS-Powerpoint documents?
> > > > >   How can I index Email (from MS-Exchange or another IMAP server)
> ?
> > > > >   How can I index RTF documents?
> > > > >   How can I index PDF documents?
> > > > >   How can I index JSP files?
> > > > >
> > > > >
> > > > > "James liu" <liuping.james@gmail.com> wrote on 05/09/2006
> 19:14:24:
> > > > >
> > > > > > i find lius many question ,,,,so i wanna give up and find new.
> > > > > >
> > > > > > who recommend ?
> > > > >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_50988_9018938.1157524402413--

From java-user-return-23205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:43:37 2006
Return-Path: <java-user-return-23205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84863 invoked from network); 6 Sep 2006 06:43:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:43:36 -0000
Received: (qmail 34340 invoked by uid 500); 6 Sep 2006 06:43:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34309 invoked by uid 500); 6 Sep 2006 06:43:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34298 invoked by uid 99); 6 Sep 2006 06:43:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:43:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of michael.imbeault@sympatico.ca designates 209.226.175.25 as permitted sender)
Received: from [209.226.175.25] (HELO tomts5-srv.bellnexxia.net) (209.226.175.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:43:30 -0700
Received: from [69.157.141.126] by tomts5-srv.bellnexxia.net
          (InterMail vM.5.01.06.13 201-253-122-130-113-20050324) with ESMTP
          id <20060906064309.QDZU18394.tomts5-srv.bellnexxia.net@[69.157.141.126]>
          for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 02:43:09 -0400
Message-ID: <44FE6E07.8060302@sympatico.ca>
Date: Wed, 06 Sep 2006 02:43:19 -0400
From: Michael Imbeault <michael.imbeault@sympatico.ca>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Doc add limit, im experiencing it too
References: <OF20A48ED2.5735E7BF-ON882571E1.00239DD0-882571E1.0023C098@il.ibm.com>
In-Reply-To: <OF20A48ED2.5735E7BF-ON882571E1.00239DD0-882571E1.0023C098@il.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yeah sorry about that, I hit the wrong one :( Posting at 3am is never a 
good thing!

To bed!

Doron Cohen wrote:
> I believe this should go to the solr-user@lucene.apache.org ?
>
> Michael Imbeault <michael.imbeault@sympatico.ca> wrote on 05/09/2006
> 23:26:55:
>   
-- 
Michael Imbeault
CHUL Research Center (CHUQ)
2705 boul. Laurier
Ste-Foy, QC, Canada, G1V 4G2
Tel: (418) 654-2705, Fax: (418) 654-2212


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 06:58:29 2006
Return-Path: <java-user-return-23206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88364 invoked from network); 6 Sep 2006 06:58:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 06:58:19 -0000
Received: (qmail 49593 invoked by uid 500); 6 Sep 2006 06:58:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49221 invoked by uid 500); 6 Sep 2006 06:58:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49210 invoked by uid 99); 6 Sep 2006 06:58:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:58:14 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Sep 2006 23:58:11 -0700
Received: by py-out-1112.google.com with SMTP id w49so2925589pyg
        for <java-user@lucene.apache.org>; Tue, 05 Sep 2006 23:57:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=E2ZOt1Q3yKSH+UUl+WK74TYg8H06xvd0WbAYxPScSfGrFfmmyooprprSMFKtPJLadqYX76LCc7liB86FYy8NqdDo58J9X48OFcLjOiu4nbymIJjRW2RonOqXd2+56Y8NGNW8blNUPHs0eKqnDxzr1Y1X0OW3WJ3mO5+e6dOlp0I=
Received: by 10.35.57.5 with SMTP id j5mr14138752pyk;
        Tue, 05 Sep 2006 23:57:50 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id w54sm1297112pye.2006.09.05.23.57.49;
        Tue, 05 Sep 2006 23:57:49 -0700 (PDT)
Message-ID: <003501c6d181$c25f9c30$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
References: <OFA585099B.FD8757A5-ON882571E1.00209C31-882571E1.002192C5@il.ibm.com>
Subject: Re: Keep hits in results
Date: Wed, 6 Sep 2006 14:57:44 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

ZG9yb24sIFRoYW5rcyENCiAgQnV0IGluIGx1Y2VuZSBhcGk6IEZvciBwZXJmb3JtYW5jZSByZWFz
b25zIGl0IGlzIHJlY29tbWVuZGVkIHRvIG9wZW4gb25seSBvbmUNCkluZGV4U2VhcmNoZXIgYW5k
IHVzZSBpdCBmb3IgYWxsIG9mIHlvdXIgc2VhcmNoZXMuDQpodHRwOi8vbHVjZW5lLmFwYWNoZS5v
cmcvamF2YS9kb2NzL2FwaS9vcmcvYXBhY2hlL2x1Y2VuZS9zZWFyY2gvSW5kZXhTZWFyY2hlci5o
dG1sDQoNCiAgVGhhdCBpcyBhIHNlYXJjaGVyIHdpbGwgcmVtYWluIG9wZW4gdW5sZXNzIHlvdSB1
cGRhdGUgdGhlIGluZGV4LiBTbyx0aGF0IHdpbGwgbm90IA0KY29zdCBtdWNoIG1lbW9yeSBhbmQg
eW91IGNhbiBnZXQgdGhlIHJlc3VsdHMgd2hlbmV2ZXIgeW91IHdhbnQsIGFuZCB0aGUgcGVyZm9y
bWFuY2UNCndpbGwgYmUgYmV0dGVyLCByaWdodD8gKERvbid0IHRoaW5rIGFib3V0IHN0YXRlIG9m
IHVzZXJzIGluIHdlYmFwcCBmb3IgYSB3aGlsZSkNCg0KICAgICBCZXN0IFJlZ2FyZHMuDQogICAg
ICAgamFja3kgIA0KICAgICAgIA0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206
ICJEb3JvbiBDb2hlbiIgPERPUk9OQ0BpbC5pYm0uY29tPg0KVG86IDxqYXZhLXVzZXJAbHVjZW5l
LmFwYWNoZS5vcmc+DQpTZW50OiBXZWRuZXNkYXksIFNlcHRlbWJlciAwNiwgMjAwNiAyOjA2IFBN
DQpTdWJqZWN0OiBSZTogS2VlcCBoaXRzIGluIHJlc3VsdHMNCg0KDQo+IEhpdHMgaXMgbm90IHJl
YWxseSBhIHNpbXBsZSBjb250YWluZXIgLSBpdCByZWZlcmVuY2VzIGEgY2VydGFpbiBzZWFyY2hl
ciAtDQo+IHRoYXQgc2FtZSBzZWFyY2hlciB0aGF0IHdhcyB1c2VkIHRvIGZpbmQgdGhlc2UgaGl0
cy4gV2hlbiBhIHJlcXVlc3QgZm9yIGENCj4gcmVzdWx0IGRvY3VtZW50IGlzIG1hZGUsIHRoZSBI
aXRzIG9iamVjdCBkZWxlZ2F0ZXMgdGhpcyByZXF1ZXN0IHRvIHRoZQ0KPiBzZWFyY2hlci4gU28g
aW4gb3JkZXIgdG8gInBhZ2UgdGhyb3VnaCIgdGhlIHJlc3VsdHMgdXNpbmcgYW4gZXhpc3Rpbmcg
SGl0cw0KPiBvYmplY3QsIHRoYXQgc2VhcmNoZXIgaGFzIHRvIHJlbWFpbiBvcGVuLiBUaGlzIGhh
cyBhIGNvc3QgLSBpbiB0ZXJtcyBvZg0KPiBtZW1vcnksIGV0Yy4gQnV0IExJQSBkZXNjcmliZXMg
YW4gYWRkaXRpb25hbCBwZW5hbHR5IG9mIHRoaXMgYXBwcm9hY2ggLSBmb3INCj4gYSBXZWIgc2Vh
cmNoIGFwcGxpY2F0aW9uLCBrZWVwaW5nIHRoZSBIaXRzIG9iamVjdCBhbGl2ZSBmb3IgdGhlIGNh
c2UgdGhhdA0KPiB0aGUgdXNlciB3b3VsZCBsaWtlIHRvIHNlZSB0aGUgbmV4dCAicGFnZSBvZiBy
ZXN1bHRzIiwgbWVhbnMgIm1haW50YWluaW5nIGENCj4gdXNlciBzdGF0ZSBvbiB0aGUgc2VydmVy
IiwgV2hpbGUgdGhpcyBpcyBwb3NzaWJsZSwgaXQgaXMgYSBtb3JlIGNvbXBsaWNhdGVkDQo+IHNl
cnZlciBzaWRlIGxvZ2ljIHRvIGltcGxlbWVudCwgbXVjaCBtb3JlIGNvbXBsaWNhdGVkIHRoYW4g
dGhlIHN0YXRlbGVzcw0KPiBhcHByb2FjaCB3aGVyZSBhIHF1ZXJ5IGlzIHJlc3VibWl0dGVkIGZv
ciBlYWNoIG5ldyBwYWdlIG9mIHJlc3VsdHMuIEkgdGhpbmsNCj4gd2hhdCBMSUEgcmVhbGx5IG1l
YW5zIGlzIC0gaGVyZSBhbmQgYWxzbyBpbiBvdGhlciBjYXNlcyAtIGxldCdzIG5vdA0KPiBjb21w
bGljYXRlIHRoaW5ncyAoZS5nLiBzdGF0ZWZ1bGwgc29sdXRpb24pIHVubGVzcyB0aGlzIGlzIHJl
YWxseSBuZWNlc3NhcnkNCj4gKGUuZy4gcGVyZm9ybWFuY2Ugd2lzZSBpbiBhIGNlcnRhaW4gYXBw
bGljYXRpb24gaXQgaXMgb3V0IG9mIHRoZSBxdWVzdGlvbg0KPiB0byByZXN1Ym1pdCBhIHF1ZXJ5
IGZvciBldmVyeSBwYWdlLCBldGMuKQ0KPiANCj4gSG9wZSB0aGlzIGhlbHBzLA0KPiBEb3Jvbg0K
PiANCj4gImphY2t5IiA8amFja3ljaGVucEBnbWFpbC5jb20+IHdyb3RlIG9uIDA1LzA5LzIwMDYg
MjE6NTY6NTM6DQo+IA0KPiA+IGhpLA0KPiA+ICAgVGhlIGZvbGxvd2luZyB3b3JkcyBhcmUgcXVv
dGVkIGZyb20gImx1Y2VuZSBpbiBhY3Rpb24iOg0KPiA+ICAgIlRoZXJlIGFyZSBhIGNvdXBsZSBv
ZiBpbXBsZW1lbnRhdGlvbiBhcHByb2FjaGVzOg0KPiA+ICAxLiBLZWVwIHRoZSBvcmlnaW5hbCBI
aXRzIGFuZCBJbmRleFNlYXJjaGVyIGluc3RhbmNlcyBhdmFpbGFibGUgd2hpbGUNCj4gdGhlDQo+
ID4gdXNlciBpcyBuYXZpZ2F0aW5nIHRoZSBzZWFyY2ggcmVzdWx0cy4NCj4gPiAgMi4gUmVxdWVy
eSBlYWNoIHRpbWUgdGhlIHVzZXIgbmF2aWdhdGVzIHRvIGEgbmV3IHBhZ2UuDQo+ID4gSXQgdHVy
bnMgb3V0IHRoYXQgcmVxdWVyeWluZyBpcyBtb3N0IG9mdGVuIHRoZSBiZXN0IHNvbHV0aW9uLg0K
PiA+IFJlcXVlcnlpbmcgZWxpbWluYXRlcw0KPiA+IHRoZSBuZWVkIHRvIHN0b3JlIHBlci11c2Vy
IHN0YXRlLiBJbiBhIHdlYiBhcHBsaWNhdGlvbiwgc3RheWluZyBzdGF0ZWxlc3MNCj4gKG5vDQo+
ID4gSFRUUCBzZXNzaW9uKSBpcyBvZnRlbiBkZXNpcmFibGUuIFJlcXVlcnlpbmcgYXQgZmlyc3Qg
Z2xhbmNlIHNlZW1zDQo+IGF3YXN0ZSwgYnV0DQo+ID4gTHVjZW5loa9zIGJsYXppbmcgc3BlZWQg
bW9yZSB0aGFuIGNvbXBlbnNhdGVzLiAiDQo+ID4NCj4gPiAgICBJIGFtIGNvbmZ1c2VkIGFib3V0
IHRoaXMgcGFyYWdyYXBoLiBTaW5jZSBIaXRzIGlzIGp1c3QgYSBzaW1wbGUNCj4gPiBjb250YWlu
ZXIgb2YgcG9pbnRlcnMNCj4gPiB0byByYW5rZWQgc2VhcmNoIHJlc3VsdHMsIGl0IGRvZXNuJ3Qg
bG9hZCBmcm9tIHRoZSBpbmRleCBhbGwNCj4gPiBkb2N1bWVudHMgdGhhdCBtYXRjaCBhIHF1ZXJ5
LA0KPiA+IGJ1dCBvbmx5IGEgc21hbGwgcG9ydGlvbiBvZiB0aGVtIGF0IGEgdGltZS4gSWYgd2Ug
cmVxdWVyeSwgd2Ugd2lsbA0KPiA+IGdldCBhIG5ldyBoaXRzLCB3aHkgbm90DQo+ID4ganVzdCBr
ZWVwaW5nIHRoZSBvcmdpbmFsIEhpdHMgd2hpY2ggd2lsbCBub3Qgd2FzdGUgbXVjaCBtZW1vcnku
DQo+ID4NCj4gPg0KPiA+DQo+ID4gICAgICBCZXN0IFJlZ2FyZHMuDQo+ID4gICAgICAgIGphY2t5
DQo+ID4=



From java-user-return-23207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 07:06:17 2006
Return-Path: <java-user-return-23207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89870 invoked from network); 6 Sep 2006 07:06:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 07:06:11 -0000
Received: (qmail 55525 invoked by uid 500); 6 Sep 2006 07:06:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55500 invoked by uid 500); 6 Sep 2006 07:06:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55489 invoked by uid 99); 6 Sep 2006 07:06:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 00:06:05 -0700
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 00:06:05 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.7/8.13.7) with ESMTP id k8675hZv027708
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 07:05:43 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k867A7Kh2924714
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 09:10:07 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8675hOO031736
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 09:05:43 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8675gfc031731
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 09:05:42 +0200
In-Reply-To: <003501c6d181$c25f9c30$0d01a8c0@client06>
Subject: Re: Keep hits in results
To: java-user@lucene.apache.org
Cc: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF703467F0.D949BCE9-ON882571E1.00268F60-882571E1.0026E042@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 6 Sep 2006 00:04:37 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 06/09/2006 10:10:07
MIME-Version: 1.0
Content-type: text/plain; charset=GB2312
Content-transfer-encoding: base64
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

WWVzLCB5b3UncmUgcmlnaHQsIG15IG1pc3Rha2UuDQooU28gb25seSB0aGUgc3RhdGVsZXNzL3N0
YXRlZnVsIG1vcmUvbGVzcyBzaW1wbGUgY29uc2lkZXJhdGlvbiByZW1haW5zKS4NCg0KImphY2t5
IiA8amFja3ljaGVucEBnbWFpbC5jb20+IHdyb3RlIG9uIDA1LzA5LzIwMDYgMjM6NTc6NDQ6DQoN
Cj4gZG9yb24sIFRoYW5rcyENCj4gICBCdXQgaW4gbHVjZW5lIGFwaTogRm9yIHBlcmZvcm1hbmNl
IHJlYXNvbnMgaXQgaXMgcmVjb21tZW5kZWQgdG8NCj4gb3BlbiBvbmx5IG9uZQ0KPiBJbmRleFNl
YXJjaGVyIGFuZCB1c2UgaXQgZm9yIGFsbCBvZiB5b3VyIHNlYXJjaGVzLg0KPiBodHRwOi8vbHVj
ZW5lLmFwYWNoZS4NCj4gb3JnL2phdmEvZG9jcy9hcGkvb3JnL2FwYWNoZS9sdWNlbmUvc2VhcmNo
L0luZGV4U2VhcmNoZXIuaHRtbA0KPg0KPiAgIFRoYXQgaXMgYSBzZWFyY2hlciB3aWxsIHJlbWFp
biBvcGVuIHVubGVzcyB5b3UgdXBkYXRlIHRoZSBpbmRleC4NCj4gU28sdGhhdCB3aWxsIG5vdA0K
PiBjb3N0IG11Y2ggbWVtb3J5IGFuZCB5b3UgY2FuIGdldCB0aGUgcmVzdWx0cyB3aGVuZXZlciB5
b3Ugd2FudCwgYW5kDQo+IHRoZSBwZXJmb3JtYW5jZQ0KPiB3aWxsIGJlIGJldHRlciwgcmlnaHQ/
IChEb24ndCB0aGluayBhYm91dCBzdGF0ZSBvZiB1c2VycyBpbiB3ZWJhcHANCj4gZm9yIGEgd2hp
bGUpDQo+DQo+ICAgICAgQmVzdCBSZWdhcmRzLg0KPiAgICAgICAgamFja3kNCj4NCj4gLS0tLS0g
T3JpZ2luYWwgTWVzc2FnZSAtLS0tLQ0KPiBGcm9tOiAiRG9yb24gQ29oZW4iIDxET1JPTkNAaWwu
aWJtLmNvbT4NCj4gVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQo+IFNlbnQ6IFdl
ZG5lc2RheSwgU2VwdGVtYmVyIDA2LCAyMDA2IDI6MDYgUE0NCj4gU3ViamVjdDogUmU6IEtlZXAg
aGl0cyBpbiByZXN1bHRzDQo+DQo+DQo+ID4gSGl0cyBpcyBub3QgcmVhbGx5IGEgc2ltcGxlIGNv
bnRhaW5lciAtIGl0IHJlZmVyZW5jZXMgYSBjZXJ0YWluDQpzZWFyY2hlciAtDQo+ID4gdGhhdCBz
YW1lIHNlYXJjaGVyIHRoYXQgd2FzIHVzZWQgdG8gZmluZCB0aGVzZSBoaXRzLiBXaGVuIGEgcmVx
dWVzdCBmb3INCmENCj4gPiByZXN1bHQgZG9jdW1lbnQgaXMgbWFkZSwgdGhlIEhpdHMgb2JqZWN0
IGRlbGVnYXRlcyB0aGlzIHJlcXVlc3QgdG8gdGhlDQo+ID4gc2VhcmNoZXIuIFNvIGluIG9yZGVy
IHRvICJwYWdlIHRocm91Z2giIHRoZSByZXN1bHRzIHVzaW5nIGFuIGV4aXN0aW5nDQpIaXRzDQo+
ID4gb2JqZWN0LCB0aGF0IHNlYXJjaGVyIGhhcyB0byByZW1haW4gb3Blbi4gVGhpcyBoYXMgYSBj
b3N0IC0gaW4gdGVybXMgb2YNCj4gPiBtZW1vcnksIGV0Yy4gQnV0IExJQSBkZXNjcmliZXMgYW4g
YWRkaXRpb25hbCBwZW5hbHR5IG9mIHRoaXMgYXBwcm9hY2ggLQ0KZm9yDQo+ID4gYSBXZWIgc2Vh
cmNoIGFwcGxpY2F0aW9uLCBrZWVwaW5nIHRoZSBIaXRzIG9iamVjdCBhbGl2ZSBmb3IgdGhlIGNh
c2UNCnRoYXQNCj4gPiB0aGUgdXNlciB3b3VsZCBsaWtlIHRvIHNlZSB0aGUgbmV4dCAicGFnZSBv
ZiByZXN1bHRzIiwgbWVhbnMNCiJtYWludGFpbmluZyBhDQo+ID4gdXNlciBzdGF0ZSBvbiB0aGUg
c2VydmVyIiwgV2hpbGUgdGhpcyBpcyBwb3NzaWJsZSwgaXQgaXMgYSBtb3JlDQpjb21wbGljYXRl
ZA0KPiA+IHNlcnZlciBzaWRlIGxvZ2ljIHRvIGltcGxlbWVudCwgbXVjaCBtb3JlIGNvbXBsaWNh
dGVkIHRoYW4gdGhlDQpzdGF0ZWxlc3MNCj4gPiBhcHByb2FjaCB3aGVyZSBhIHF1ZXJ5IGlzIHJl
c3VibWl0dGVkIGZvciBlYWNoIG5ldyBwYWdlIG9mIHJlc3VsdHMuIEkNCnRoaW5rDQo+ID4gd2hh
dCBMSUEgcmVhbGx5IG1lYW5zIGlzIC0gaGVyZSBhbmQgYWxzbyBpbiBvdGhlciBjYXNlcyAtIGxl
dCdzIG5vdA0KPiA+IGNvbXBsaWNhdGUgdGhpbmdzIChlLmcuIHN0YXRlZnVsbCBzb2x1dGlvbikg
dW5sZXNzIHRoaXMgaXMgcmVhbGx5DQpuZWNlc3NhcnkNCj4gPiAoZS5nLiBwZXJmb3JtYW5jZSB3
aXNlIGluIGEgY2VydGFpbiBhcHBsaWNhdGlvbiBpdCBpcyBvdXQgb2YgdGhlDQpxdWVzdGlvbg0K
PiA+IHRvIHJlc3VibWl0IGEgcXVlcnkgZm9yIGV2ZXJ5IHBhZ2UsIGV0Yy4pDQo+ID4NCj4gPiBI
b3BlIHRoaXMgaGVscHMsDQo+ID4gRG9yb24NCj4gPg0KPiA+ICJqYWNreSIgPGphY2t5Y2hlbnBA
Z21haWwuY29tPiB3cm90ZSBvbiAwNS8wOS8yMDA2IDIxOjU2OjUzOg0KPiA+DQo+ID4gPiBoaSwN
Cj4gPiA+ICAgVGhlIGZvbGxvd2luZyB3b3JkcyBhcmUgcXVvdGVkIGZyb20gImx1Y2VuZSBpbiBh
Y3Rpb24iOg0KPiA+ID4gICAiVGhlcmUgYXJlIGEgY291cGxlIG9mIGltcGxlbWVudGF0aW9uIGFw
cHJvYWNoZXM6DQo+ID4gPiAgMS4gS2VlcCB0aGUgb3JpZ2luYWwgSGl0cyBhbmQgSW5kZXhTZWFy
Y2hlciBpbnN0YW5jZXMgYXZhaWxhYmxlDQp3aGlsZQ0KPiA+IHRoZQ0KPiA+ID4gdXNlciBpcyBu
YXZpZ2F0aW5nIHRoZSBzZWFyY2ggcmVzdWx0cy4NCj4gPiA+ICAyLiBSZXF1ZXJ5IGVhY2ggdGlt
ZSB0aGUgdXNlciBuYXZpZ2F0ZXMgdG8gYSBuZXcgcGFnZS4NCj4gPiA+IEl0IHR1cm5zIG91dCB0
aGF0IHJlcXVlcnlpbmcgaXMgbW9zdCBvZnRlbiB0aGUgYmVzdCBzb2x1dGlvbi4NCj4gPiA+IFJl
cXVlcnlpbmcgZWxpbWluYXRlcw0KPiA+ID4gdGhlIG5lZWQgdG8gc3RvcmUgcGVyLXVzZXIgc3Rh
dGUuIEluIGEgd2ViIGFwcGxpY2F0aW9uLCBzdGF5aW5nDQpzdGF0ZWxlc3MNCj4gPiAobm8NCj4g
PiA+IEhUVFAgc2Vzc2lvbikgaXMgb2Z0ZW4gZGVzaXJhYmxlLiBSZXF1ZXJ5aW5nIGF0IGZpcnN0
IGdsYW5jZSBzZWVtcw0KPiA+IGF3YXN0ZSwgYnV0DQo+ID4gPiBMdWNlbmWhr3MgYmxhemluZyBz
cGVlZCBtb3JlIHRoYW4gY29tcGVuc2F0ZXMuICINCj4gPiA+DQo+ID4gPiAgICBJIGFtIGNvbmZ1
c2VkIGFib3V0IHRoaXMgcGFyYWdyYXBoLiBTaW5jZSBIaXRzIGlzIGp1c3QgYSBzaW1wbGUNCj4g
PiA+IGNvbnRhaW5lciBvZiBwb2ludGVycw0KPiA+ID4gdG8gcmFua2VkIHNlYXJjaCByZXN1bHRz
LCBpdCBkb2Vzbid0IGxvYWQgZnJvbSB0aGUgaW5kZXggYWxsDQo+ID4gPiBkb2N1bWVudHMgdGhh
dCBtYXRjaCBhIHF1ZXJ5LA0KPiA+ID4gYnV0IG9ubHkgYSBzbWFsbCBwb3J0aW9uIG9mIHRoZW0g
YXQgYSB0aW1lLiBJZiB3ZSByZXF1ZXJ5LCB3ZSB3aWxsDQo+ID4gPiBnZXQgYSBuZXcgaGl0cywg
d2h5IG5vdA0KPiA+ID4ganVzdCBrZWVwaW5nIHRoZSBvcmdpbmFsIEhpdHMgd2hpY2ggd2lsbCBu
b3Qgd2FzdGUgbXVjaCBtZW1vcnkuDQo+ID4gPg0KPiA+ID4NCj4gPiA+DQo+ID4gPiAgICAgIEJl
c3QgUmVnYXJkcy4NCj4gPiA+ICAgICAgICBqYWNreQ0KPiA+ID4=




From java-user-return-23208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 07:25:37 2006
Return-Path: <java-user-return-23208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97891 invoked from network); 6 Sep 2006 07:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 07:25:32 -0000
Received: (qmail 82679 invoked by uid 500); 6 Sep 2006 07:25:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82296 invoked by uid 500); 6 Sep 2006 07:25:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82281 invoked by uid 99); 6 Sep 2006 07:25:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 00:25:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.44.23.182] (HELO mail.spline-software.com) (194.44.23.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 00:25:24 -0700
Received: by mail.spline-software.com (Postfix, from userid 12)
	id B46972AA661; Wed,  6 Sep 2006 10:24:58 +0300 (EEST)
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by mail.spline-software.com (Postfix) with ESMTP id A46082AA43F
	for <java-user@lucene.apache.org>; Wed,  6 Sep 2006 10:24:55 +0300 (EEST)
Message-ID: <44FE77C7.70700@i-hypergrid.com>
Date: Wed, 06 Sep 2006 10:24:55 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: obtaining the number of documents stored in a .cfs file
References: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com> <1157460488.4933.43.camel@localhost> <44FD76C0.3080303@sirma.bg>
In-Reply-To: <44FD76C0.3080303@sirma.bg>
Content-Type: multipart/alternative;
 boundary="------------000504090707010402000605"
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on spline.jforce
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.6 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	HTML_40_50,HTML_MESSAGE autolearn=ham version=3.0.4
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------000504090707010402000605
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

I've used following code to recover index. Note: it only works with .cfs 
files.


    String path = // path to index
    File file = new File(path);
    Directory directory = FSDirectory.getDirectory(file, false);

    String[] files = file.list(new FilenameFilter() {

      public boolean accept(File dir, String name) {
        return name.endsWith(".cfs");
      }

    });
   
    SegmentInfos infos = new SegmentInfos();
    int counter = 0;
    for (int i = 0; i < files.length; i++) {
      String fileName = files[i];
      String segmentName = fileName.substring(1, fileName.lastIndexOf('.'));
     
      int segmentInt = Integer.parseInt(segmentName,Character.MAX_RADIX);
      counter = Math.max(counter, segmentInt);
     
      segmentName = fileName.substring(0, fileName.lastIndexOf('.'));
     
      Directory fileReader = new CompoundFileReader(directory,fileName);
      IndexInput indexStream = fileReader.openInput(segmentName + ".fdx");
      int size = (int)(indexStream.length() / 8);
      indexStream.close();
      fileReader.close();
     
      SegmentInfo segmentInfo = new SegmentInfo(segmentName,size,directory);
      infos.addElement(segmentInfo);
    }

    infos.counter = counter++;
   
    infos.write(directory);

Stanislav Jordanov wrote:
> Suppose I have a bunch of valid .cfs files while the 
> segmens/segments.new file is missing or invalid.
> The task is to 'recover' the present .cfs files into a valid index.
> I think it will be necessary and sufficient to create a segments file 
> that references the .cfs files.
> The only problem I've encountered in generating a vaild and 
> well-formed segments file is that I need to know the number of docs in 
> each cfs file.
> So the couple of questions is:
> Do I have to put the right number of docs for each segments or any 
> (dummy) number will do?
> If I have to put the right number there, how do I get it having the 
> cfs file?
>
> Stanislav
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
regards,
Volodymyr Bychkoviak


--------------000504090707010402000605--

From java-user-return-23209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 07:31:08 2006
Return-Path: <java-user-return-23209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7537 invoked from network); 6 Sep 2006 07:31:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 07:31:03 -0000
Received: (qmail 91074 invoked by uid 500); 6 Sep 2006 07:30:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91037 invoked by uid 500); 6 Sep 2006 07:30:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90995 invoked by uid 99); 6 Sep 2006 07:30:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 00:30:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.44.23.182] (HELO mail.spline-software.com) (194.44.23.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 00:30:54 -0700
Received: by mail.spline-software.com (Postfix, from userid 12)
	id 2B98F2AA2F0; Wed,  6 Sep 2006 10:30:32 +0300 (EEST)
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by mail.spline-software.com (Postfix) with ESMTP id 1F23F2A7D48
	for <java-user@lucene.apache.org>; Wed,  6 Sep 2006 10:30:30 +0300 (EEST)
Message-ID: <44FE7916.4030808@i-hypergrid.com>
Date: Wed, 06 Sep 2006 10:30:30 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: obtaining the number of documents stored in a .cfs file
References: <015601c6d0e7$5e42d9a0$a700a8c0@domain.outsystems.com> <1157460488.4933.43.camel@localhost> <44FD76C0.3080303@sirma.bg> <44FE77C7.70700@i-hypergrid.com>
In-Reply-To: <44FE77C7.70700@i-hypergrid.com>
Content-Type: multipart/alternative;
 boundary="------------000306060904010309040305"
X-Spam-Checker-Version: SpamAssassin 3.0.4 (2005-06-05) on spline.jforce
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.6 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	HTML_40_50,HTML_MESSAGE autolearn=ham version=3.0.4
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------000306060904010309040305
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

One more note:
this should be in package 'org.apache.lucene.index;' because it uses 
some package visible classes :)

Volodymyr Bychkoviak wrote:
> I've used following code to recover index. Note: it only works with 
> .cfs files.
>
>
>    String path = // path to index
>    File file = new File(path);
>    Directory directory = FSDirectory.getDirectory(file, false);
>
>    String[] files = file.list(new FilenameFilter() {
>
>      public boolean accept(File dir, String name) {
>        return name.endsWith(".cfs");
>      }
>
>    });
>      SegmentInfos infos = new SegmentInfos();
>    int counter = 0;
>    for (int i = 0; i < files.length; i++) {
>      String fileName = files[i];
>      String segmentName = fileName.substring(1, 
> fileName.lastIndexOf('.'));
>          int segmentInt = 
> Integer.parseInt(segmentName,Character.MAX_RADIX);
>      counter = Math.max(counter, segmentInt);
>          segmentName = fileName.substring(0, fileName.lastIndexOf('.'));
>          Directory fileReader = new 
> CompoundFileReader(directory,fileName);
>      IndexInput indexStream = fileReader.openInput(segmentName + ".fdx");
>      int size = (int)(indexStream.length() / 8);
>      indexStream.close();
>      fileReader.close();
>          SegmentInfo segmentInfo = new 
> SegmentInfo(segmentName,size,directory);
>      infos.addElement(segmentInfo);
>    }
>
>    infos.counter = counter++;
>      infos.write(directory);
>
> Stanislav Jordanov wrote:
>> Suppose I have a bunch of valid .cfs files while the 
>> segmens/segments.new file is missing or invalid.
>> The task is to 'recover' the present .cfs files into a valid index.
>> I think it will be necessary and sufficient to create a segments file 
>> that references the .cfs files.
>> The only problem I've encountered in generating a vaild and 
>> well-formed segments file is that I need to know the number of docs 
>> in each cfs file.
>> So the couple of questions is:
>> Do I have to put the right number of docs for each segments or any 
>> (dummy) number will do?
>> If I have to put the right number there, how do I get it having the 
>> cfs file?
>>
>> Stanislav
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

-- 
regards,
Volodymyr Bychkoviak


--------------000306060904010309040305--

From java-user-return-23210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 08:16:20 2006
Return-Path: <java-user-return-23210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20413 invoked from network); 6 Sep 2006 08:16:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 08:16:10 -0000
Received: (qmail 44462 invoked by uid 500); 6 Sep 2006 08:16:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44439 invoked by uid 500); 6 Sep 2006 08:16:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44428 invoked by uid 99); 6 Sep 2006 08:16:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 01:16:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 01:16:03 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5ABAE30EFCD4; Wed,  6 Sep 2006 04:15:41 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id E1E9530EFCD3
	for <java-user@lucene.apache.org>; Wed,  6 Sep 2006 04:15:19 -0400 (EDT)
In-Reply-To: <004201c6d170$e8865d60$0d01a8c0@client06>
References: <004201c6d170$e8865d60$0d01a8c0@client06>
Mime-Version: 1.0 (Apple Message framework v752.2)
X-Priority: 3
Content-Type: text/plain; charset=WINDOWS-1252; delsp=yes; format=flowed
Message-Id: <2BFB67FA-FE3B-47D8-8A42-837BD5C8A95F@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Keep hits in results
Date: Wed, 6 Sep 2006 04:15:18 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 6, 2006, at 12:56 AM, jacky wrote:

> hi,
>   The following words are quoted from "lucene in action":
>   "There are a couple of implementation approaches:
>  1. Keep the original Hits and IndexSearcher instances available =20
> while the
> user is navigating the search results.
>  2. Requery each time the user navigates to a new page.
> It turns out that requerying is most often the best solution. =20
> Requerying eliminates
> the need to store per-user state. In a web application, staying =20
> stateless (no
> HTTP session) is often desirable. Requerying at first glance seems =20
> a waste, but
> Lucene=92s blazing speed more than compensates. "
>
>    I am confused about this paragraph. Since Hits is just a simple =20
> container of pointers
> to ranked search results, it doesn't load from the index all =20
> documents that match a query,
> but only a small portion of them at a time. If we requery, we will =20
> get a new hits, why not
> just keeping the orginal Hits which will not waste much memory.

Requerying helps avoid server-side sessions in a web application.  =20
Hits requires the same IndexSearcher, but in cases where the index is =20=

changing and a new IndexSearcher is being swapped in, it requires =20
more management to keep old IndexSearcher's around until they are no =20
longer needed.  I prefer the simplicity of requerying until there is =20
actually a performance issue to address.  There is nothing wrong with =20=

the alternative of keeping Hits around, its just not as simple.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 08:20:37 2006
Return-Path: <java-user-return-23211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23170 invoked from network); 6 Sep 2006 08:20:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 08:20:36 -0000
Received: (qmail 53594 invoked by uid 500); 6 Sep 2006 08:20:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52681 invoked by uid 500); 6 Sep 2006 08:20:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 32984 invoked by uid 99); 6 Sep 2006 08:02:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Message-ID: <44FE8067.5020606@aduna-software.com>
Date: Wed, 06 Sep 2006 10:01:43 +0200
From: Christiaan Fluit <christiaan.fluit@aduna-software.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: which way to index pdf,word,excel
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com> <5d5204510609052230s44d17332hdba3acf3b3a576cb@mail.gmail.com>
In-Reply-To: <5d5204510609052230s44d17332hdba3acf3b3a576cb@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Have a look at Aperture: http://aperture.sourceforge.net/
It provides components for crawling and text and metadata extraction. 
It's still in alpha stage though. The development code in CVS has 
already improved a lot over the last official alpha release.

Chris
--

James liu wrote:
> i wanna find frame which can index xml,word,excel,pdf,,,not one.
> 
> 
> 2006/9/6, Doron Cohen <DORONC@il.ibm.com>:
>>
>> Lucene FAQ - http://wiki.apache.org/jakarta-lucene/LuceneFAQ - has a few
>> entries just for this:
>>
>>   How can I index HTML documents?
>>   How can I index XML documents?
>>   How can I index OpenOffice.org files?
>>   How can I index MS-Word documents?
>>   How can I index MS-Excel documents?
>>   How can I index MS-Powerpoint documents?
>>   How can I index Email (from MS-Exchange or another IMAP server) ?
>>   How can I index RTF documents?
>>   How can I index PDF documents?
>>   How can I index JSP files?
>>
>>
>> "James liu" <liuping.james@gmail.com> wrote on 05/09/2006 19:14:24:
>>
>> > i find lius many question ,,,,so i wanna give up and find new.
>> >
>> > who recommend ?
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 


Met vriendelijke groet,

Christiaan Fluit
-- 
Aduna - Guided Exploration
www.aduna-software.com

Prinses Julianaplein 14-b
3817 CS Amersfoort
The Netherlands
+31-33-4659987 (office)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 08:41:38 2006
Return-Path: <java-user-return-23212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27925 invoked from network); 6 Sep 2006 08:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 08:41:36 -0000
Received: (qmail 78012 invoked by uid 500); 6 Sep 2006 08:41:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77989 invoked by uid 500); 6 Sep 2006 08:41:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77978 invoked by uid 99); 6 Sep 2006 08:41:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 01:41:30 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 01:41:29 -0700
Received: by py-out-1112.google.com with SMTP id w49so2956220pyg
        for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 01:41:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=Yy1inks+ZnVPU+u+QihR00CXr37UgJzrwC3b2de9J9EO1g7UC2ejl3lhFjIE5fvGXWZvv7ku7P7ZoBczTQBH7N2lILOWQQX9rRUYQlKAgkdVnk3S0Zec0Zfv1SsQ1QiWEeG7U1J5E1AXibSgqUQMd3hZyyik68LoK/7IgVdjeaI=
Received: by 10.35.129.1 with SMTP id g1mr11903389pyn;
        Wed, 06 Sep 2006 01:41:08 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id w66sm7649856pyw.2006.09.06.01.41.07;
        Wed, 06 Sep 2006 01:41:08 -0700 (PDT)
Message-ID: <001001c6d190$30b4f820$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
References: <004201c6d170$e8865d60$0d01a8c0@client06> <2BFB67FA-FE3B-47D8-8A42-837BD5C8A95F@ehatchersolutions.com>
Subject: Re: Keep hits in results
Date: Wed, 6 Sep 2006 16:41:02 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="WINDOWS-1252"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

RXJpaywgdGhhbmtzIQ0KICAgWW91IGFyZSByaWdodCEgSXQgaXMgbm90IGEgZ29vZCBpZGVhIHRv
IGhvbGQgb24gYSBoaXRzIHNpbmNlIHRoZSBpbmRleCB3aWxsIGJlIHVwZGF0ZWQuDQpTbywgd2hl
biBpIGtlZXAgYSBoaXRzLCBhbmQgdGhlbiB0aGUgaW5kZXggaXMgdXBkYXRlZCwgdGhlIHNlYXJj
aGVyIHdpbGwgYmUgYXV0by11cGRhdGVkLHRvby4gcmlndGh0Pw0KDQogICAgIEJlc3QgUmVnYXJk
cy4NCiAgICAgICBqYWNreSAgDQogICAgICAgDQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0t
IA0KRnJvbTogIkVyaWsgSGF0Y2hlciIgPGVyaWtAZWhhdGNoZXJzb2x1dGlvbnMuY29tPg0KVG86
IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQpTZW50OiBXZWRuZXNkYXksIFNlcHRlbWJl
ciAwNiwgMjAwNiA0OjE1IFBNDQpTdWJqZWN0OiBSZTogS2VlcCBoaXRzIGluIHJlc3VsdHMNCg0K
DQoNCk9uIFNlcCA2LCAyMDA2LCBhdCAxMjo1NiBBTSwgamFja3kgd3JvdGU6DQoNCj4gaGksDQo+
ICAgVGhlIGZvbGxvd2luZyB3b3JkcyBhcmUgcXVvdGVkIGZyb20gImx1Y2VuZSBpbiBhY3Rpb24i
Og0KPiAgICJUaGVyZSBhcmUgYSBjb3VwbGUgb2YgaW1wbGVtZW50YXRpb24gYXBwcm9hY2hlczoN
Cj4gIDEuIEtlZXAgdGhlIG9yaWdpbmFsIEhpdHMgYW5kIEluZGV4U2VhcmNoZXIgaW5zdGFuY2Vz
IGF2YWlsYWJsZSAgDQo+IHdoaWxlIHRoZQ0KPiB1c2VyIGlzIG5hdmlnYXRpbmcgdGhlIHNlYXJj
aCByZXN1bHRzLg0KPiAgMi4gUmVxdWVyeSBlYWNoIHRpbWUgdGhlIHVzZXIgbmF2aWdhdGVzIHRv
IGEgbmV3IHBhZ2UuDQo+IEl0IHR1cm5zIG91dCB0aGF0IHJlcXVlcnlpbmcgaXMgbW9zdCBvZnRl
biB0aGUgYmVzdCBzb2x1dGlvbi4gIA0KPiBSZXF1ZXJ5aW5nIGVsaW1pbmF0ZXMNCj4gdGhlIG5l
ZWQgdG8gc3RvcmUgcGVyLXVzZXIgc3RhdGUuIEluIGEgd2ViIGFwcGxpY2F0aW9uLCBzdGF5aW5n
ICANCj4gc3RhdGVsZXNzIChubw0KPiBIVFRQIHNlc3Npb24pIGlzIG9mdGVuIGRlc2lyYWJsZS4g
UmVxdWVyeWluZyBhdCBmaXJzdCBnbGFuY2Ugc2VlbXMgIA0KPiBhIHdhc3RlLCBidXQNCj4gTHVj
ZW5lknMgYmxhemluZyBzcGVlZCBtb3JlIHRoYW4gY29tcGVuc2F0ZXMuICINCj4NCj4gICAgSSBh
bSBjb25mdXNlZCBhYm91dCB0aGlzIHBhcmFncmFwaC4gU2luY2UgSGl0cyBpcyBqdXN0IGEgc2lt
cGxlICANCj4gY29udGFpbmVyIG9mIHBvaW50ZXJzDQo+IHRvIHJhbmtlZCBzZWFyY2ggcmVzdWx0
cywgaXQgZG9lc24ndCBsb2FkIGZyb20gdGhlIGluZGV4IGFsbCAgDQo+IGRvY3VtZW50cyB0aGF0
IG1hdGNoIGEgcXVlcnksDQo+IGJ1dCBvbmx5IGEgc21hbGwgcG9ydGlvbiBvZiB0aGVtIGF0IGEg
dGltZS4gSWYgd2UgcmVxdWVyeSwgd2Ugd2lsbCAgDQo+IGdldCBhIG5ldyBoaXRzLCB3aHkgbm90
DQo+IGp1c3Qga2VlcGluZyB0aGUgb3JnaW5hbCBIaXRzIHdoaWNoIHdpbGwgbm90IHdhc3RlIG11
Y2ggbWVtb3J5Lg0KDQpSZXF1ZXJ5aW5nIGhlbHBzIGF2b2lkIHNlcnZlci1zaWRlIHNlc3Npb25z
IGluIGEgd2ViIGFwcGxpY2F0aW9uLiAgIA0KSGl0cyByZXF1aXJlcyB0aGUgc2FtZSBJbmRleFNl
YXJjaGVyLCBidXQgaW4gY2FzZXMgd2hlcmUgdGhlIGluZGV4IGlzICANCmNoYW5naW5nIGFuZCBh
IG5ldyBJbmRleFNlYXJjaGVyIGlzIGJlaW5nIHN3YXBwZWQgaW4sIGl0IHJlcXVpcmVzICANCm1v
cmUgbWFuYWdlbWVudCB0byBrZWVwIG9sZCBJbmRleFNlYXJjaGVyJ3MgYXJvdW5kIHVudGlsIHRo
ZXkgYXJlIG5vICANCmxvbmdlciBuZWVkZWQuICBJIHByZWZlciB0aGUgc2ltcGxpY2l0eSBvZiBy
ZXF1ZXJ5aW5nIHVudGlsIHRoZXJlIGlzICANCmFjdHVhbGx5IGEgcGVyZm9ybWFuY2UgaXNzdWUg
dG8gYWRkcmVzcy4gIFRoZXJlIGlzIG5vdGhpbmcgd3Jvbmcgd2l0aCAgDQp0aGUgYWx0ZXJuYXRp
dmUgb2Yga2VlcGluZyBIaXRzIGFyb3VuZCwgaXRzIGp1c3Qgbm90IGFzIHNpbXBsZS4NCg0KRXJp
aw0KDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXIt
dW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCkZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBl
LW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo=



From java-user-return-23213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 09:09:58 2006
Return-Path: <java-user-return-23213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34827 invoked from network); 6 Sep 2006 09:09:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 09:09:55 -0000
Received: (qmail 25537 invoked by uid 500); 6 Sep 2006 09:09:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25509 invoked by uid 500); 6 Sep 2006 09:09:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25497 invoked by uid 99); 6 Sep 2006 09:09:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 02:09:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 02:09:46 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E1DE730EFCD4; Wed,  6 Sep 2006 05:09:25 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 6D18330EFCD3
	for <java-user@lucene.apache.org>; Wed,  6 Sep 2006 05:09:23 -0400 (EDT)
In-Reply-To: <001001c6d190$30b4f820$0d01a8c0@client06>
References: <004201c6d170$e8865d60$0d01a8c0@client06> <2BFB67FA-FE3B-47D8-8A42-837BD5C8A95F@ehatchersolutions.com> <001001c6d190$30b4f820$0d01a8c0@client06>
Mime-Version: 1.0 (Apple Message framework v752.2)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <AD8860C7-ED16-42E0-99AB-2694C5FC8890@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Keep hits in results
Date: Wed, 6 Sep 2006 05:09:21 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 6, 2006, at 4:41 AM, jacky wrote:

> Erik, thanks!
>    You are right! It is not a good idea to hold on a hits since the  
> index will be updated.
> So, when i keep a hits, and then the index is updated, the searcher  
> will be auto-updated,too. rigtht?

No, Lucene itself has no "auto-update" of any kind.  This is the  
stuff that must be built on top of it, like Solr and other projects  
have done.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 09:37:56 2006
Return-Path: <java-user-return-23214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39735 invoked from network); 6 Sep 2006 09:37:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 09:37:53 -0000
Received: (qmail 64717 invoked by uid 500); 6 Sep 2006 09:37:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64692 invoked by uid 500); 6 Sep 2006 09:37:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64681 invoked by uid 99); 6 Sep 2006 09:37:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 02:37:47 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 02:37:46 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GKtqX-0007A5-Up
	for java-user@lucene.apache.org; Wed, 06 Sep 2006 02:37:25 -0700
Message-ID: <6167885.post@talk.nabble.com>
Date: Wed, 6 Sep 2006 02:37:25 -0700 (PDT)
From: Venkateshprasanna <prasannahmv@yahoo.co.in>
To: java-user@lucene.apache.org
Subject: How does PhraseQuery search for quoted phrases?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: prasannahmv@yahoo.co.in
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


How does PhraseQuery search for quoted phrases when the index does not store
these phrases as it is?

Is there any analyzer that indexes the phrases?

-- 
View this message in context: http://www.nabble.com/How-does-PhraseQuery-search-for-quoted-phrases--tf2225757.html#a6167885
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 09:59:03 2006
Return-Path: <java-user-return-23215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44385 invoked from network); 6 Sep 2006 09:58:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 09:58:52 -0000
Received: (qmail 92566 invoked by uid 500); 6 Sep 2006 09:58:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92537 invoked by uid 500); 6 Sep 2006 09:58:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92526 invoked by uid 99); 6 Sep 2006 09:58:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 02:58:44 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 02:58:42 -0700
Received: by py-out-1112.google.com with SMTP id w49so2979559pyg
        for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 02:58:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=fu7hdASuv+CPHef/pBW1kRCZk/qFrVAYillx+oHxJen2dzXfX1KpY3vkKLxk4kDmjuqMoqA9S7aD5lY+tuoOVaz8MxIKjT47ZOkW+M8xYn0b3Vol/USYSC7JSwQwv0Qp545df6JWKSFJU1YjuMlb+PayZKF5/3Qj3fJ5XFtCZ5E=
Received: by 10.35.51.19 with SMTP id d19mr12010008pyk;
        Wed, 06 Sep 2006 02:58:22 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id r9sm7056843nza.2006.09.06.02.58.21;
        Wed, 06 Sep 2006 02:58:21 -0700 (PDT)
Message-ID: <000801c6d19a$fa88dcc0$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
References: <004201c6d170$e8865d60$0d01a8c0@client06> <2BFB67FA-FE3B-47D8-8A42-837BD5C8A95F@ehatchersolutions.com> <001001c6d190$30b4f820$0d01a8c0@client06> <AD8860C7-ED16-42E0-99AB-2694C5FC8890@ehatchersolutions.com>
Subject: Re: Keep hits in results
Date: Wed, 6 Sep 2006 17:58:16 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

T2gsIHRoYXQgaXMgbm90IGEgZ29vZCBuZXdzLg0KICBTbyB3aGVuIHRoZSBpbmRleCBpcyB1cGRh
dGVkLCB0aGUgaGVsZCBzZWFyY2hlciB3aWxsIGdldCB0aGUgb2xkIGRvY3VtZW50cz8NCiBUaGF0
IGlzIGluZGVlZCBub3QgYSBnb29kIGlkZWEgdG8ga2VlcCB0aGUgaGl0cy4gSSBoYWQgdGhvdWdo
dCBsdWNlbmUgZGlkIHRoaXMgDQp3b3JrIGZvciB1c2Vycy4NCg0KICAgICBCZXN0IFJlZ2FyZHMu
DQogICAgICAgamFja3kgIA0KICAgICAgIA0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSAN
CkZyb206ICJFcmlrIEhhdGNoZXIiIDxlcmlrQGVoYXRjaGVyc29sdXRpb25zLmNvbT4NClRvOiA8
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KU2VudDogV2VkbmVzZGF5LCBTZXB0ZW1iZXIg
MDYsIDIwMDYgNTowOSBQTQ0KU3ViamVjdDogUmU6IEtlZXAgaGl0cyBpbiByZXN1bHRzDQoNCg0K
PiANCj4gT24gU2VwIDYsIDIwMDYsIGF0IDQ6NDEgQU0sIGphY2t5IHdyb3RlOg0KPiANCj4gPiBF
cmlrLCB0aGFua3MhDQo+ID4gICAgWW91IGFyZSByaWdodCEgSXQgaXMgbm90IGEgZ29vZCBpZGVh
IHRvIGhvbGQgb24gYSBoaXRzIHNpbmNlIHRoZSAgDQo+ID4gaW5kZXggd2lsbCBiZSB1cGRhdGVk
Lg0KPiA+IFNvLCB3aGVuIGkga2VlcCBhIGhpdHMsIGFuZCB0aGVuIHRoZSBpbmRleCBpcyB1cGRh
dGVkLCB0aGUgc2VhcmNoZXIgIA0KPiA+IHdpbGwgYmUgYXV0by11cGRhdGVkLHRvby4gcmlndGh0
Pw0KPiANCj4gTm8sIEx1Y2VuZSBpdHNlbGYgaGFzIG5vICJhdXRvLXVwZGF0ZSIgb2YgYW55IGtp
bmQuICBUaGlzIGlzIHRoZSAgDQo+IHN0dWZmIHRoYXQgbXVzdCBiZSBidWlsdCBvbiB0b3Agb2Yg
aXQsIGxpa2UgU29sciBhbmQgb3RoZXIgcHJvamVjdHMgIA0KPiBoYXZlIGRvbmUuDQo+IA0KPiBF
cmlrDQo+IA0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWls
OiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0aW9u
YWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4g



From java-user-return-23216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 10:05:09 2006
Return-Path: <java-user-return-23216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46544 invoked from network); 6 Sep 2006 10:05:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 10:05:02 -0000
Received: (qmail 2288 invoked by uid 500); 6 Sep 2006 10:04:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2138 invoked by uid 500); 6 Sep 2006 10:04:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2127 invoked by uid 99); 6 Sep 2006 10:04:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 03:04:55 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=X_PRIORITY_HIGH
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.51.201.54] (HELO eads-av-smtp5.gmessaging.net) (194.51.201.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 03:04:53 -0700
Received: from eads-relay5.cesson.gm-adm (localhost [127.0.0.1])
 by eads-av-smtp5.gmessaging.net
 (iPlanet Messaging Server 5.2 HotFix 2.04 (built Feb  8 2005))
 with ESMTP id <0J5600CJZ1BDV1@eads-av-smtp5.gmessaging.net> for
 java-user@lucene.apache.org; Wed, 06 Sep 2006 12:04:30 +0200 (MEST)
Received: from fr0-mailsp01.res.airbus.corp ([10.254.251.54])
 by eads-av-smtp5.gmessaging.net
 (iPlanet Messaging Server 5.2 HotFix 2.04 (built Feb  8 2005))
 with ESMTP id <0J5600AOW1BH71@eads-av-smtp5.gmessaging.net> for
 java-user@lucene.apache.org; Wed, 06 Sep 2006 12:04:30 +0200 (MEST)
Received: from fr0-mailsp01.res.airbus.corp (localhost.localdomain [127.0.0.1])
	by fr0-mailsp01.res.airbus.corp (8.12.11/8.12.10) with ESMTP id k86A4SIU005312
	for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 12:04:28 +0200
Received: from fr0-mailrt11.res.airbus.corp ([152.9.126.25])
	by fr0-mailsp01.res.airbus.corp (8.12.11/8.12.10) with ESMTP id k86A4C4X004788
	for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 12:04:27 +0200
Received: from fr0-mailrt04.res.airbus.corp ([152.9.126.23])
 by fr0-mailrt11.res.airbus.corp with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 06 Sep 2006 12:04:16 +0200
Received: from FR0-MAILMB17.res.airbus.corp ([152.9.126.12])
 by fr0-mailrt04.res.airbus.corp with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 06 Sep 2006 12:04:16 +0200
Date: Wed, 06 Sep 2006 12:04:15 +0200
From: "HODAC, Olivier" <olivier.hodac@airbus.com>
Subject: Indexer large file and hi performance indexing
To: java-user@lucene.apache.org
Message-id:
 <0471C9AC78F671458C5E3F9C69B73C860368B863@FR0-MAILMB17.res.airbus.corp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Content-class: urn:content-classes:message
Importance: high
Priority: Urgent
X-Priority: 1
Thread-topic: Indexer large file and hi performance indexing
Thread-index: AcbRm88zX7nsSAh/TdC3mvaSuRtKgg==
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
X-OriginalArrivalTime: 06 Sep 2006 10:04:16.0973 (UTC)
 FILETIME=[D03247D0:01C6D19B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


hello,

I design an application which bottleneck concerns the indexing process. Objects indexation blocks the user's action. Furthermore, I need to index a large maount of documents (30000 per day) and save them on the file system.

The first developments have been initiate with lucene 1.4.3 and I had to create a cachedIndexer which uses a RAMDirectory and a FS directory. For the searches, the cached indexer searches in RAM and FS indexes. For deletion, the delete is done in the RAM and FS.

Each N documents to index in the cache (RAMDirectory), a thread dumps them to the FSDirectory, with a synchronize.

In 1 month, I reached an index cfs file of 2.5Go, and the merge process (addIndexes) takes 5 minutes approx (solaris 5.9).!!!! => synchronize...

Questions:
* Is it a good way of doing things? 
* Does maxMergeDocs is a solution for the merge process to be lower?
* If I call addIndexes on the 2.5Go index file with a maxMergeDocs, it calls optimize. the javadoc says that it calls optimize, which gathers to 1 file the indexdir. is it true whatever the maxMergeDocs?

Thanks

 
This e-mail is intended only for the above addressee. It may contain
privileged information. If you are not the addressee you must not copy,
distribute, disclose or use any of the information in it. If you have
received it in error please delete it and immediately notify the sender.
Security Notice: all e-mail, sent to or from this address, may be
accessed by someone other than the recipient, for system management and
security reasons. This access is controlled under Regulation of
Investigatory Powers Act 2000, Lawful Business Practises.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 12:30:36 2006
Return-Path: <java-user-return-23217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9590 invoked from network); 6 Sep 2006 12:30:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 12:30:32 -0000
Received: (qmail 5142 invoked by uid 500); 6 Sep 2006 12:30:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5106 invoked by uid 500); 6 Sep 2006 12:30:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5095 invoked by uid 99); 6 Sep 2006 12:30:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 05:30:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 05:30:21 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 25B4330EFCD3; Wed,  6 Sep 2006 08:30:00 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 6308D30EFCD3
	for <java-user@lucene.apache.org>; Wed,  6 Sep 2006 08:29:58 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <6167885.post@talk.nabble.com>
References: <6167885.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EEB73251-A1A3-47EF-BEFD-5FCBBE556B59@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How does PhraseQuery search for quoted phrases?
Date: Wed, 6 Sep 2006 08:29:54 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 6, 2006, at 5:37 AM, Venkateshprasanna wrote:
> How does PhraseQuery search for quoted phrases when the index does  
> not store
> these phrases as it is?
>
> Is there any analyzer that indexes the phrases?

The analyzer is responsible for some additional data about terms,  
specifically in this case a position increment.  All built-in  
analyzers use a position increment of 1 for each term, meaning that  
each term is in a successive position than the previous one.   
PhraseQuery looks for all terms in the phrase in successive positions  
(or within a certain slop factor distance from one another).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 15:53:56 2006
Return-Path: <java-user-return-23218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74698 invoked from network); 6 Sep 2006 15:53:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 15:53:56 -0000
Received: (qmail 208 invoked by uid 500); 6 Sep 2006 15:53:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99975 invoked by uid 500); 6 Sep 2006 15:53:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99964 invoked by uid 99); 6 Sep 2006 15:53:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 08:53:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.199.122.2] (HELO mainsequence.net) (65.199.122.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 08:53:48 -0700
Received: from 127.0.0.1 ([68.164.221.250])
	by mainsequence.net (mainsequence.net)
	(MDaemon.PRO.v7.2.0.R)
	with ESMTP id md50002575351.msg
	for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 11:53:25 -0400
Reply-To: Chris Salem <chris@mainsequence.net>
From: Chris Salem <chris@mainsequence.net>
To: java-user@lucene.apache.org
CC: 
Subject: parser question
Date: Wed, 06 Sep 2006 15:53:23 -0000
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: PCRecruiter Emulation of Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: PCRecruiter Emulation of Microsoft MimeOLE V6.00.2800.1441
MIME-Version: 1.0
Content-Type: multipart/alternative;
      boundary="----=_pcr38C849639BE3448386802AC38BC4C3E7section1-b1"
X-Spam-Processed: mainsequence.net, Wed, 06 Sep 2006 11:53:25 -0400
	(not processed: message from valid local sender)
X-MDRemoteIP: 68.164.221.250
X-Return-Path: chris@mainsequence.net
X-MDaemon-Deliver-To: java-user@lucene.apache.org
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060906155348.B791010FB001@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_pcr38C849639BE3448386802AC38BC4C3E7section1-b1
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

i set the default operator to AND, but if i have a query with an OR in it it doesn't work, for example, if i have the query 'software OR engineer' the parser interprets it as 'field:software field:engineer' and AND's them.  how would i fix this?


Chris Salem
440.946.5214 x5458
chris@mainsequence.net 

----- Original Message ----- 
To: java-user@lucene.apache.org
From: Mark Miller <markrmiller@gmail.com>
Sent: Tue 9/5/2006 5:38:50 PM
Subject: Re: parser question


QueryParser.setDefaultOperator(Operator op)

Chris Salem wrote:
> With all the parsers I have tried a space in a query, such as doing a search for "sales manager", interprets the space as an OR, is there a way to change it so that it interprets a space as an AND?
>
>
> Chris Salem
> 440.946.5214 x5458
> chris@mainsequence.net 
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
>
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
>
>
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

(The following links were included with this email:)
mailto:chris@mainsequence.net

mailto:markrmiller@gmail.com



(The following links were included with this email:)
mailto:chris@mainsequence.net

mailto:markrmiller@gmail.com



------=_pcr38C849639BE3448386802AC38BC4C3E7section1-b1--




From java-user-return-23219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 16:58:14 2006
Return-Path: <java-user-return-23219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 762 invoked from network); 6 Sep 2006 16:58:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 16:58:11 -0000
Received: (qmail 46441 invoked by uid 500); 6 Sep 2006 16:58:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45868 invoked by uid 500); 6 Sep 2006 16:58:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45857 invoked by uid 99); 6 Sep 2006 16:58:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 09:58:04 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO nz-out-0102.google.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 09:58:03 -0700
Received: by nz-out-0102.google.com with SMTP id z6so1240043nzd
        for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 09:57:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=g0c/IosURfJH0enw/x+IYodgodf6+8guYsy1xajkal9ha5SgcEks27rAw/fKcfihzqqPbv3fzrP3jmfPHzkbStzV06sLFZ+c0bt5DJsmbwhUUG26QmRBK8sWq7CBN7KMFBQawKve/0yEdZgHISUIynzHeAFG5umPP2uQo8ZVuBY=
Received: by 10.65.114.11 with SMTP id r11mr984285qbm;
        Wed, 06 Sep 2006 09:57:42 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e18sm5256777qba.2006.09.06.09.57.40;
        Wed, 06 Sep 2006 09:57:41 -0700 (PDT)
Message-ID: <44FEFE08.5090303@gmail.com>
Date: Wed, 06 Sep 2006 12:57:44 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: parser question
References: <20060906155348.B791010FB001@asf.osuosl.org>
In-Reply-To: <20060906155348.B791010FB001@asf.osuosl.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you sure it is anding them?

field:software field:engineer

indicates an OR operation.

+field:software +field:engineer

indicates an AND operation.

- Mark





Chris Salem wrote:
> i set the default operator to AND, but if i have a query with an OR in it it doesn't work, for example, if i have the query 'software OR engineer' the parser interprets it as 'field:software field:engineer' and AND's them.  how would i fix this?
>
>
> Chris Salem
> 440.946.5214 x5458
> chris@mainsequence.net 
>
> ----- Original Message ----- 
> To: java-user@lucene.apache.org
> From: Mark Miller <markrmiller@gmail.com>
> Sent: Tue 9/5/2006 5:38:50 PM
> Subject: Re: parser question
>
>
> QueryParser.setDefaultOperator(Operator op)
>
> Chris Salem wrote:
>   
>> With all the parsers I have tried a space in a query, such as doing a search for "sales manager", interprets the space as an OR, is there a way to change it so that it interprets a space as an AND?
>>
>>
>> Chris Salem
>> 440.946.5214 x5458
>> chris@mainsequence.net 
>>
>> (The following links were included with this email:)
>> mailto:chris@mainsequence.net
>>
>>
>>
>> (The following links were included with this email:)
>> mailto:chris@mainsequence.net
>>
>>
>>
>>
>>     
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
> mailto:markrmiller@gmail.com
>
>
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
> mailto:markrmiller@gmail.com
>
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 17:12:51 2006
Return-Path: <java-user-return-23220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5095 invoked from network); 6 Sep 2006 17:12:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 17:12:51 -0000
Received: (qmail 72454 invoked by uid 500); 6 Sep 2006 17:12:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72328 invoked by uid 500); 6 Sep 2006 17:12:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72317 invoked by uid 99); 6 Sep 2006 17:12:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 10:12:44 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 10:12:43 -0700
Received: by py-out-1112.google.com with SMTP id w49so3108709pyg
        for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 10:12:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GkZWLuc3WdV4s6vSGy76Cj/nWF8CKXof/Esl7zOodv63f+RrzQnhOXl/HuLYanGBYXQZOTkwCNZgSiVZekV4awdWrgMLYwQd06L3xtehn4p2AUgpGs9EO5nvFOgPMHQxZ4yPmvl9YiCarGdeNkEt1VN1HaJAYIZL2NbRYpODslg=
Received: by 10.35.14.1 with SMTP id r1mr12702536pyi;
        Wed, 06 Sep 2006 10:12:23 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Wed, 6 Sep 2006 10:12:17 -0700 (PDT)
Message-ID: <359a92830609061012t11a043fckf9df2f61c42f253e@mail.gmail.com>
Date: Wed, 6 Sep 2006 13:12:17 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org, "Chris Salem" <chris@mainsequence.net>
Subject: Re: parser question
In-Reply-To: <20060906155348.B791010FB001@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7649_9301711.1157562737744"
References: <20060906155348.B791010FB001@asf.osuosl.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7649_9301711.1157562737744
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Also, watch your query, the OR is case-sensitive. If you lowercase the
entire string, the 'OR' gets lowercased too, in which case it's not
interpreted as an operator.

On 9/6/06, Chris Salem <chris@mainsequence.net> wrote:
>
> i set the default operator to AND, but if i have a query with an OR in it
> it doesn't work, for example, if i have the query 'software OR engineer' the
> parser interprets it as 'field:software field:engineer' and AND's them.  how
> would i fix this?
>
>
> Chris Salem
> 440.946.5214 x5458
> chris@mainsequence.net
>
> ----- Original Message -----
> To: java-user@lucene.apache.org
> From: Mark Miller <markrmiller@gmail.com>
> Sent: Tue 9/5/2006 5:38:50 PM
> Subject: Re: parser question
>
>
> QueryParser.setDefaultOperator(Operator op)
>
> Chris Salem wrote:
> > With all the parsers I have tried a space in a query, such as doing a
> search for "sales manager", interprets the space as an OR, is there a way to
> change it so that it interprets a space as an AND?
> >
> >
> > Chris Salem
> > 440.946.5214 x5458
> > chris@mainsequence.net
> >
> > (The following links were included with this email:)
> > mailto:chris@mainsequence.net
> >
> >
> >
> > (The following links were included with this email:)
> > mailto:chris@mainsequence.net
> >
> >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
> mailto:markrmiller@gmail.com
>
>
>
> (The following links were included with this email:)
> mailto:chris@mainsequence.net
>
> mailto:markrmiller@gmail.com
>
>
>
>

------=_Part_7649_9301711.1157562737744--

From java-user-return-23221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 18:50:23 2006
Return-Path: <java-user-return-23221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31357 invoked from network); 6 Sep 2006 18:50:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 18:50:22 -0000
Received: (qmail 75715 invoked by uid 500); 6 Sep 2006 18:50:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75480 invoked by uid 500); 6 Sep 2006 18:50:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75469 invoked by uid 99); 6 Sep 2006 18:50:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 11:50:15 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO nz-out-0102.google.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 11:50:14 -0700
Received: by nz-out-0102.google.com with SMTP id z6so1264747nzd
        for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 11:49:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=devRncDdnBPP9BjIXuxxUra/Wjrt/C/FJLFh8ZCQkPyCpHds70Ob9q+uTQKGuEz6uuHasjzGiddr7HNboiitZsIxf0AAXYzC0U+GfLot6Qu9vwA94wPcjT93pL4ed8Y+Wl/rTutYjk8mPcwwfX7aR/5NU96OQxvWYq0JGE0Fusw=
Received: by 10.65.160.7 with SMTP id m7mr6791174qbo;
        Wed, 06 Sep 2006 11:49:53 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e14sm6211380qbe.2006.09.06.11.49.51;
        Wed, 06 Sep 2006 11:49:53 -0700 (PDT)
Message-ID: <44FF1857.6060301@gmail.com>
Date: Wed, 06 Sep 2006 14:49:59 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: parser question
References: <20060906155348.B791010FB001@asf.osuosl.org>
In-Reply-To: <20060906155348.B791010FB001@asf.osuosl.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

yes its ANDing them.  Doing the query 'software engineer', 'software OR 
engineer', 'software AND engineer' all return the same results.  the 
generated queries for them respectively are '(field:software 
field:engineer)', '(field:software field:engineer)' and 
'(+field:software +field:engineer)'.  I do set the default operator to 
AND and i'm using the MultiFieldQueryParser if that makes a difference 
(it was doing the same thing with the QueryParser as well).


Chris Salem
440.946.5214 x5458
chris@mainsequence.net <mailto:chris@mainsequence.net>
 
------

If you keep the exchange on the list you'll get the benefit of someone 
smarter and more experienced than me stepping in.

See if the following code does not convince  you that it works 
correctly.  I am using Lucene 2.0. Maybe there is a bug in an earlier 
version, but I doubt it:

import java.io.IOException;
import java.util.Date;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.queryParser.QueryParser.Operator;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.store.RAMDirectory;


public class TestWildCardFilter {
    private static RAMDirectory directory;

    private static Analyzer analyzer;

    public static void main(String[] args) {
        setupIndex();
       
        try {
            search("coconut stone");
            search("coconut OR stone");
            search("coconut AND stone");
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private static void setupIndex() {
        directory = new RAMDirectory();

        analyzer = new WhitespaceAnalyzer();

        IndexWriter writer;

        try {
            writer = new IndexWriter(directory, analyzer, true);

            Document doc = new Document();
            doc.add(new Field("allFields",
                    "levely bunch of coconuts",
                    Field.Store.NO, Field.Index.TOKENIZED));

            writer.addDocument(doc);


            doc = new Document();
            doc.add(new Field("allFields", "crazy rolling stone",
                    Field.Store.NO, Field.Index.TOKENIZED));
            writer.addDocument(doc);
           
            doc = new Document();
            doc.add(new Field("allFields", "rolling stone done in by 
coconut",
                    Field.Store.NO, Field.Index.TOKENIZED));
            writer.addDocument(doc);


            writer.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
   
    public static int search(String q) throws Exception {
        IndexSearcher is = new IndexSearcher(directory);

        QueryParser qp = new QueryParser("allFields", analyzer);
        qp.setDefaultOperator(Operator.AND);
        Query query = qp.parse(q);
       
        long start = new Date().getTime();
        Hits hits = is.search(query);
        long end = new Date().getTime();
        System.err.println("\nquery: " + query.toString());
        System.err.println("Found " + hits.length() + " document(s) (in " +
            (end - start) + " milliseconds) that matched query '" + q + 
"':");
       
        return hits.length();
    }
}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 19:09:25 2006
Return-Path: <java-user-return-23222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34795 invoked from network); 6 Sep 2006 19:09:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 19:09:24 -0000
Received: (qmail 15562 invoked by uid 500); 6 Sep 2006 19:09:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15527 invoked by uid 500); 6 Sep 2006 19:09:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15515 invoked by uid 99); 6 Sep 2006 19:09:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 12:09:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 12:09:15 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.8/8.13.8) with ESMTP id k86J8st0128768
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 19:08:54 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k86JDJk62629762
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 21:13:19 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k86J8srT024033
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 21:08:54 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k86J8ssb024028
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 21:08:54 +0200
In-Reply-To: <0471C9AC78F671458C5E3F9C69B73C860368B863@FR0-MAILMB17.res.airbus.corp>
Subject: Re: Indexer large file and hi performance indexing
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF8DCE3820.66A21E21-ON882571E1.00615570-882571E1.006859AB@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 6 Sep 2006 11:59:47 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 06/09/2006 22:13:19
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"HODAC, Olivier" <olivier.hodac@airbus.com> wrote on 06/09/2006 03:04:15:
>
> hello,
>
> I design an application which bottleneck concerns the indexing
> process. Objects indexation blocks the user's action. Furthermore, I
> need to index a large maount of documents (30000 per day) and save
> them on the file system.
>
> The first developments have been initiate with lucene 1.4.3 and I
> had to create a cachedIndexer which uses a RAMDirectory and a FS
> directory. For the searches, the cached indexer searches in RAM and
> FS indexes. For deletion, the delete is done in the RAM and FS.
>
> Each N documents to index in the cache (RAMDirectory), a thread
> dumps them to the FSDirectory, with a synchronize.
>
> In 1 month, I reached an index cfs file of 2.5Go, and the merge
> process (addIndexes) takes 5 minutes approx (solaris 5.9).!!!! =>
> synchronize...
>
> Questions:
> * Is it a good way of doing things?

I am guessing that you implemented "searching in the RAM segments held by
the writer" for making the search results as fresh as possible - i.e.
reflecting in search every last document that was added.

If this is not the case - i.e. if you could tolerate a latency of N
documents (say 1000) and T minutes (say 15), whichever happens first, you
could define maxBefferredDocs = N, this way letting Lucene manage the index
on its own, and open the searcher(s) against the FSDirectory, as usual.
This way you would be able to search while the index gets updated, even
during merges. You would of course need to create a new searcher after
flushes, in order for search to reflect recent index modifications. (The
'flush after T' logic is not in Lucene, so if desired it would need to be
implemented above it.)

If such latency is not possible, and search must include every recent
document added, I would assume that a more fine synchronization could work
- for instance - do not sync on the entire merge, but only on the deletion
of merged segments from the queue (keep 'old=to-be-deleted' segments aside
as long as existing searchers still use them). This is much more
complicated though, it would take more memory, and would most possibly
break when the source of Lucene evolves, so better do not take this path
unless must.

> * Does maxMergeDocs is a solution for the merge process to be lower?
> * If I call addIndexes on the 2.5Go index file with a maxMergeDocs,
> it calls optimize. the javadoc says that it calls optimize, which
> gathers to 1 file the indexdir. is it true whatever the maxMergeDocs?

maxMergeDocs only affect merge decisions during addDocument(), so it would
have no effect during optimize() nor during addIndexes() that calls
optimize() - there the index would be merged into a single segment.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 06 19:40:31 2006
Return-Path: <java-user-return-23223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50291 invoked from network); 6 Sep 2006 19:40:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2006 19:40:30 -0000
Received: (qmail 79583 invoked by uid 500); 6 Sep 2006 19:40:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79554 invoked by uid 500); 6 Sep 2006 19:40:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79543 invoked by uid 99); 6 Sep 2006 19:40:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 12:40:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 12:40:21 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id k86Je06G157106
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 19:40:00 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k86JiPt63068092
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 21:44:25 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k86JdxQj017955
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 21:39:59 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k86JdsQp017912
	for <java-user@lucene.apache.org>; Wed, 6 Sep 2006 21:39:54 +0200
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A421BF442@EPLUXSEX01.ep.parl.union.eu>
Subject: Re: Update index
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF3871A88D.BE1A3EA8-ON882571E1.006B9ADE-882571E1.006BC4DD@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 6 Sep 2006 12:37:07 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 06/09/2006 22:44:19
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"WATHELET Thomas" <thomas.wathelet@europarl.europa.eu> wrote on 23/08/2006
00:49:25:

> Is it possible to update fields in an existing index.
> If yes how to proceed.

Unfortunately no.
To update a (document's) field that document must be removed and re-added.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 03:52:33 2006
Return-Path: <java-user-return-23224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92396 invoked from network); 7 Sep 2006 03:52:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 03:52:27 -0000
Received: (qmail 55275 invoked by uid 500); 7 Sep 2006 03:52:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55249 invoked by uid 500); 7 Sep 2006 03:52:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55238 invoked by uid 99); 7 Sep 2006 03:52:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 20:52:19 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 20:52:18 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GLAvl-0001G4-M1
	for java-user@lucene.apache.org; Wed, 06 Sep 2006 20:51:57 -0700
Message-ID: <6183788.post@talk.nabble.com>
Date: Wed, 6 Sep 2006 20:51:57 -0700 (PDT)
From: Venkateshprasanna <prasannahmv@yahoo.co.in>
To: java-user@lucene.apache.org
Subject: Re: Atomic index/search for a phrase
In-Reply-To: <D286BF52-F685-424B-AF5E-3AD6967DAEED@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: prasannahmv@yahoo.co.in
References: <20060308231328.piid6shvswcocswg@webmail.service.emory.edu> <D286BF52-F685-424B-AF5E-3AD6967DAEED@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Which is more efficient with respect to performance?
      Indexing a phrase as it is and searcing with the help of a TermQuery
OR
      Storing only single words in index and making use of quoted search
phrases?

Regards,
Venkateshprasanna

If you index "A Phrase" as untokenized, you would find it with a  
TermQuery for "A Phrase".  You must use exact case.  If you're using  
QueryParser, the text get analyzed and most analyzers lowercase.  If  
this expression is quoted it would become a PhraseQuery with two  
terms, or if it is unquoted it would become a BooleanQuery with two  
TermQuery clauses - either way it would not match if you indexed the  
phrase as untokenized.


-- 
View this message in context: http://www.nabble.com/Atomic-index-search-for-a-phrase-tf1250772.html#a6183788
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 06:04:56 2006
Return-Path: <java-user-return-23225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15593 invoked from network); 7 Sep 2006 06:04:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 06:04:51 -0000
Received: (qmail 89153 invoked by uid 500); 7 Sep 2006 06:04:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89118 invoked by uid 500); 7 Sep 2006 06:04:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89107 invoked by uid 99); 7 Sep 2006 06:04:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:04:45 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:04:43 -0700
Received: by py-out-1112.google.com with SMTP id w49so131149pyg
        for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 23:04:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:subject:date:mime-version:content-type:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=bk4aDBsXMpUqvxbz4Cc/xhy1z0LL5WpYbIxGvhJW8NYsXlYMSOVuDlYIiLwF750qMBW+CzlhlvOFdbBn+FsbGa0bz3vOa8U91caQOuRAcwnvk0EPzBjnTi0BssXHN5Aaf3gb2Bt9XUDEX3rt8laGSAQPWsJOunvRpHv6bF5XCO4=
Received: by 10.35.78.13 with SMTP id f13mr629952pyl;
        Wed, 06 Sep 2006 23:04:22 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id j7sm313818nzd.2006.09.06.23.04.21;
        Wed, 06 Sep 2006 23:04:22 -0700 (PDT)
Message-ID: <001601c6d243$73ef1d10$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
Subject: parameter create in IndexWriter
Date: Thu, 7 Sep 2006 14:04:14 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0013_01C6D286.806EBF30"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0013_01C6D286.806EBF30
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

aGksDQogICBUb2RheSBJIGZvdW5kIGEgZnVubnkgdGhpbmcsIGlmICJjcmVhdGUiIHBhcmFtZXRl
ciBpbiBJbmRleFdyaXRlciBzZXQgZmFsc2UsIA0KYW5kIHRoZXJlIGlzIG5vIGluZGV4IFNlZ2Vt
ZW50cyBpbiB0aGUgRGlyZWN0b3J5IGJlZm9yZSwgdGhlbiBhbiBJT0V4Y2VwdGlvbiB3aWxsIGJl
IA0KdGhyb3duLg0KICAgSSBhbSBjb25mdXNlZCB0aGF0IHdoeSBub3QgdXNpbmcgdGhpcyBsb2dp
YyA6IGlmIHRoZXJlIGlzIGEgU2VnbWVudHMsIHRoZW4gYXBwZW5kIGl0LCBjcmVhdGUgaXQgb3Ro
ZXJ3aXNlLg0KICAgSSBrbm93IHdlIGNhbiBkbyB0aGlzIGluIHRoZSBhcHBsaWNhdGlvbiwgYnV0
IGl0IGlzIGNvbXBsZXggc29tZXRpbWVzLg0KDQogICAgIEJlc3QgUmVnYXJkcy4NCiAgICAgICBq
YWNreSAgDQogICAgICAg

------=_NextPart_000_0013_01C6D286.806EBF30--


From java-user-return-23226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 06:20:34 2006
Return-Path: <java-user-return-23226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18704 invoked from network); 7 Sep 2006 06:20:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 06:20:34 -0000
Received: (qmail 991 invoked by uid 500); 7 Sep 2006 06:20:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 931 invoked by uid 500); 7 Sep 2006 06:20:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 919 invoked by uid 99); 7 Sep 2006 06:20:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:20:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:20:27 -0700
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id DA223B762B
	for <java-user@lucene.apache.org>; Thu,  7 Sep 2006 16:19:18 +1000 (EST)
Message-ID: <44FFBAEF.7030801@nuix.com.au>
Date: Thu, 07 Sep 2006 16:23:43 +1000
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20060906)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: parameter create in IndexWriter
References: <001601c6d243$73ef1d10$0d01a8c0@client06>
In-Reply-To: <001601c6d243$73ef1d10$0d01a8c0@client06>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

jacky wrote:
> hi,
>    Today I found a funny thing, if "create" parameter in IndexWriter set false, 
> and there is no index Segements in the Directory before, then an IOException will be 
> thrown.
>    I am confused that why not using this logic : if there is a Segments, then append it, create it otherwise.
>    I know we can do this in the application, but it is complex sometimes.

The reason is that if we don't *want* to create a new text index (e.g.
if the user enters the wrong path to the data) then it shouldn't be
created automatically because it would result in trash ending up all
over the hard disk.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 06:41:42 2006
Return-Path: <java-user-return-23227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25415 invoked from network); 7 Sep 2006 06:41:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 06:41:40 -0000
Received: (qmail 30577 invoked by uid 500); 7 Sep 2006 06:41:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30552 invoked by uid 500); 7 Sep 2006 06:41:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30540 invoked by uid 99); 7 Sep 2006 06:41:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:41:33 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:41:32 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GLDZY-0005MM-Hx
	for java-user@lucene.apache.org; Wed, 06 Sep 2006 23:41:12 -0700
Message-ID: <6185039.post@talk.nabble.com>
Date: Wed, 6 Sep 2006 23:41:12 -0700 (PDT)
From: Venkateshprasanna <prasannahmv@yahoo.co.in>
To: java-user@lucene.apache.org
Subject: Indexing MS Powerpoint files with Lucene
In-Reply-To: <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: prasannahmv@yahoo.co.in
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com> <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Is there any filter available for extracting text from MS Powerpoint files
and indexing them?
The lucene website suggests the POI project, which, it seems does not
support PPT files as of now.

Regards,
Venkateshprasanna

-- 
View this message in context: http://www.nabble.com/which-way-to-index-pdf%2Cword%2Cexcel-tf2224468.html#a6185039
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 06:47:55 2006
Return-Path: <java-user-return-23228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26350 invoked from network); 7 Sep 2006 06:47:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 06:47:55 -0000
Received: (qmail 38912 invoked by uid 500); 7 Sep 2006 06:47:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37906 invoked by uid 500); 7 Sep 2006 06:47:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37886 invoked by uid 99); 7 Sep 2006 06:47:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:47:49 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 06 Sep 2006 23:47:46 -0700
Received: by py-out-1112.google.com with SMTP id w49so143974pyg
        for <java-user@lucene.apache.org>; Wed, 06 Sep 2006 23:47:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=eDhMqosTXSGqek24+fJ0sj7XsE3tqa4dT7rjTojtcLlktqXmZNkYwl8IIMFEKkeDeqvdNku0PmfZzwm3zILR4BtgLia9Niv5rw0ahBi63gHWDlnWZ5ohagK0i6xl06JBEE42Ar9DgU7H/ZjXN5iS4XJfPSakzuCTyoK3iyNnJMg=
Received: by 10.35.76.10 with SMTP id d10mr67683pyl;
        Wed, 06 Sep 2006 23:47:25 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id j4sm347826nzd.2006.09.06.23.47.24;
        Wed, 06 Sep 2006 23:47:25 -0700 (PDT)
Message-ID: <002101c6d249$7798b560$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
References: <001601c6d243$73ef1d10$0d01a8c0@client06> <44FFBAEF.7030801@nuix.com.au>
Subject: Re: parameter create in IndexWriter
Date: Thu, 7 Sep 2006 14:47:18 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

ICAgIEkgYW0gYWZyYWlkIGkgZG9uJ3QgdW5kZXJzdGFuZCBpdC4NCiAgICBJbnB1dCB0aGUgd3Jv
bmcgcGF0aD8gVGhpcyB3aWxsIGJlIGhhcHBlbiByYXJlbHkgc2luY2UgdGhlIGluZGV4IHBhdGgg
aXMgYWx3YXlzIA0KaGFyZCBjb2RlIGluIHRoZSBjb25maWcgZmlsZS4gDQogICAgQW5kIHVzdWFs
bHksIHVzZXJzIG5lZWQgdG8gY3JlYXRlIGEgYnJhbmQgbmV3IGluZGV4LCBhbmQgdGhlbiBhcHBl
bmQgdGhlIG5ldyBkb2N1bWVudCANCmludG8gaXQuDQogDQogICAgIEJlc3QgUmVnYXJkcy4NCiAg
ICAgICBqYWNreSAgDQogICAgICAgDQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KRnJv
bTogIkRhbmllbCBOb2xsIiA8ZGFuaWVsQG51aXguY29tLmF1Pg0KVG86IDxqYXZhLXVzZXJAbHVj
ZW5lLmFwYWNoZS5vcmc+DQpTZW50OiBUaHVyc2RheSwgU2VwdGVtYmVyIDA3LCAyMDA2IDI6MjMg
UE0NClN1YmplY3Q6IFJlOiBwYXJhbWV0ZXIgY3JlYXRlIGluIEluZGV4V3JpdGVyDQoNCg0KPiBq
YWNreSB3cm90ZToNCj4gPiBoaSwNCj4gPiAgICBUb2RheSBJIGZvdW5kIGEgZnVubnkgdGhpbmcs
IGlmICJjcmVhdGUiIHBhcmFtZXRlciBpbiBJbmRleFdyaXRlciBzZXQgZmFsc2UsIA0KPiA+IGFu
ZCB0aGVyZSBpcyBubyBpbmRleCBTZWdlbWVudHMgaW4gdGhlIERpcmVjdG9yeSBiZWZvcmUsIHRo
ZW4gYW4gSU9FeGNlcHRpb24gd2lsbCBiZSANCj4gPiB0aHJvd24uDQo+ID4gICAgSSBhbSBjb25m
dXNlZCB0aGF0IHdoeSBub3QgdXNpbmcgdGhpcyBsb2dpYyA6IGlmIHRoZXJlIGlzIGEgU2VnbWVu
dHMsIHRoZW4gYXBwZW5kIGl0LCBjcmVhdGUgaXQgb3RoZXJ3aXNlLg0KPiA+ICAgIEkga25vdyB3
ZSBjYW4gZG8gdGhpcyBpbiB0aGUgYXBwbGljYXRpb24sIGJ1dCBpdCBpcyBjb21wbGV4IHNvbWV0
aW1lcy4NCj4gDQo+IFRoZSByZWFzb24gaXMgdGhhdCBpZiB3ZSBkb24ndCAqd2FudCogdG8gY3Jl
YXRlIGEgbmV3IHRleHQgaW5kZXggKGUuZy4NCj4gaWYgdGhlIHVzZXIgZW50ZXJzIHRoZSB3cm9u
ZyBwYXRoIHRvIHRoZSBkYXRhKSB0aGVuIGl0IHNob3VsZG4ndCBiZQ0KPiBjcmVhdGVkIGF1dG9t
YXRpY2FsbHkgYmVjYXVzZSBpdCB3b3VsZCByZXN1bHQgaW4gdHJhc2ggZW5kaW5nIHVwIGFsbA0K
PiBvdmVyIHRoZSBoYXJkIGRpc2suDQo+IA0KPiBEYW5pZWwNCj4gDQo+IA0KPiAtLSANCj4gRGFu
aWVsIE5vbGwNCj4gDQo+IE51aXggUHR5IEx0ZA0KPiBTdWl0ZSA3OSwgODkgSm9uZXMgU3QsIFVs
dGltbyBOU1cgMjAwNywgQXVzdHJhbGlhICAgIFBoOiArNjEgMiA5MjgwIDA2OTkNCj4gV2ViOiBo
dHRwOi8vd3d3Lm51aXguY29tLmF1LyAgICAgICAgICAgICAgICAgICAgICAgIEZheDogKzYxIDIg
OTIxMiA2OTAyDQo+IA0KPiBUaGlzIG1lc3NhZ2UgaXMgaW50ZW5kZWQgb25seSBmb3IgdGhlIG5h
bWVkIHJlY2lwaWVudC4gSWYgeW91IGFyZSBub3QNCj4gdGhlIGludGVuZGVkIHJlY2lwaWVudCB5
b3UgYXJlIG5vdGlmaWVkIHRoYXQgZGlzY2xvc2luZywgY29weWluZywNCj4gZGlzdHJpYnV0aW5n
IG9yIHRha2luZyBhbnkgYWN0aW9uIGluIHJlbGlhbmNlIG9uIHRoZSBjb250ZW50cyBvZiB0aGlz
DQo+IG1lc3NhZ2Ugb3IgYXR0YWNobWVudCBpcyBzdHJpY3RseSBwcm9oaWJpdGVkLg0KPiANCj4g
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNj
cmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWls
OiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KPiA=



From java-user-return-23229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 07:14:14 2006
Return-Path: <java-user-return-23229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32528 invoked from network); 7 Sep 2006 07:14:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 07:14:13 -0000
Received: (qmail 73100 invoked by uid 500); 7 Sep 2006 07:14:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73082 invoked by uid 500); 7 Sep 2006 07:14:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73071 invoked by uid 99); 7 Sep 2006 07:14:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 00:14:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.51.201.3] (HELO eads-av-smtp2.gmessaging.net) (194.51.201.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 00:14:04 -0700
Received: from eads-relay2.cesson.gm-adm (localhost [127.0.0.1])
 by eads-av-smtp2.gmessaging.net
 (iPlanet Messaging Server 5.2 HotFix 2.04 (built Feb  8 2005))
 with ESMTP id <0J57009G7O2UTF@eads-av-smtp2.gmessaging.net> for
 java-user@lucene.apache.org; Thu, 07 Sep 2006 09:13:42 +0200 (MEST)
Received: from fr0-mailsp01.res.airbus.corp ([10.254.251.54])
 by eads-av-smtp2.gmessaging.net
 (iPlanet Messaging Server 5.2 HotFix 2.04 (built Feb  8 2005))
 with ESMTP id <0J57003RZO2TBU@eads-av-smtp2.gmessaging.net> for
 java-user@lucene.apache.org; Thu, 07 Sep 2006 09:13:42 +0200 (MEST)
Received: from fr0-mailsp01.res.airbus.corp (localhost.localdomain [127.0.0.1])
	by fr0-mailsp01.res.airbus.corp (8.12.11/8.12.10) with ESMTP id k877Dfxp017048
	for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 09:13:41 +0200
Received: from fr0-mailrt11.res.airbus.corp ([152.9.126.25])
	by fr0-mailsp01.res.airbus.corp (8.12.11/8.12.10) with ESMTP id k877DLDq015693
	for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 09:13:39 +0200
Received: from fr0-mailrt04.res.airbus.corp ([152.9.126.23])
 by fr0-mailrt11.res.airbus.corp with Microsoft SMTPSVC(5.0.2195.6713); Thu,
 07 Sep 2006 09:13:38 +0200
Received: from FR0-MAILMB17.res.airbus.corp ([152.9.126.12])
 by fr0-mailrt04.res.airbus.corp with Microsoft SMTPSVC(5.0.2195.6713); Thu,
 07 Sep 2006 09:13:38 +0200
Date: Thu, 07 Sep 2006 09:13:37 +0200
From: "HODAC, Olivier" <olivier.hodac@airbus.com>
Subject: RE: Indexer large file and hi performance indexing
To: java-user@lucene.apache.org
Message-id:
 <0471C9AC78F671458C5E3F9C69B73C86035B6230@FR0-MAILMB17.res.airbus.corp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
Content-class: urn:content-classes:message
Thread-topic: Indexer large file and hi performance indexing
Thread-index: AcbR5/gcx1NvZcrBRWeEqhSaJf9+GwAZL7DA
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
X-OriginalArrivalTime: 07 Sep 2006 07:13:38.0300 (UTC)
 FILETIME=[23E283C0:01C6D24D]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Actually, latency is not possible.

Do you think it is possible to tune the fswriter to flush into the file=
 system each N elements (using the maxMergeDocs and co) and use "for each=
 docs of the RAMindexer (addDocument to the FSindexer)"? What about=
 performances?

-----Message d'origine-----
De : Doron Cohen [mailto:DORONC@il.ibm.com]
Envoy=E9 : mercredi 6 septembre 2006 21:00
=C0 : java-user@lucene.apache.org
Objet : Re: Indexer large file and hi performance indexing



"HODAC, Olivier" <olivier.hodac@airbus.com> wrote on 06/09/2006 03:04:15:
>
> hello,
>
> I design an application which bottleneck concerns the indexing
> process. Objects indexation blocks the user's action. Furthermore, I
> need to index a large maount of documents (30000 per day) and save
> them on the file system.
>
> The first developments have been initiate with lucene 1.4.3 and I
> had to create a cachedIndexer which uses a RAMDirectory and a FS
> directory. For the searches, the cached indexer searches in RAM and
> FS indexes. For deletion, the delete is done in the RAM and FS.
>
> Each N documents to index in the cache (RAMDirectory), a thread
> dumps them to the FSDirectory, with a synchronize.
>
> In 1 month, I reached an index cfs file of 2.5Go, and the merge
> process (addIndexes) takes 5 minutes approx (solaris 5.9).!!!! =3D>
> synchronize...
>
> Questions:
> * Is it a good way of doing things?

I am guessing that you implemented "searching in the RAM segments held by
the writer" for making the search results as fresh as possible - i.e.
reflecting in search every last document that was added.

If this is not the case - i.e. if you could tolerate a latency of N
documents (say 1000) and T minutes (say 15), whichever happens first, you
could define maxBefferredDocs =3D N, this way letting Lucene manage the=
 index
on its own, and open the searcher(s) against the FSDirectory, as usual.
This way you would be able to search while the index gets updated, even
during merges. You would of course need to create a new searcher after
flushes, in order for search to reflect recent index modifications. (The
'flush after T' logic is not in Lucene, so if desired it would need to be
implemented above it.)

If such latency is not possible, and search must include every recent
document added, I would assume that a more fine synchronization could work
- for instance - do not sync on the entire merge, but only on the deletion
of merged segments from the queue (keep 'old=3Dto-be-deleted' segments=
 aside
as long as existing searchers still use them). This is much more
complicated though, it would take more memory, and would most possibly
break when the source of Lucene evolves, so better do not take this path
unless must.

> * Does maxMergeDocs is a solution for the merge process to be lower?
> * If I call addIndexes on the 2.5Go index file with a maxMergeDocs,
> it calls optimize. the javadoc says that it calls optimize, which
> gathers to 1 file the indexdir. is it true whatever the maxMergeDocs?

maxMergeDocs only affect merge decisions during addDocument(), so it would
have no effect during optimize() nor during addIndexes() that calls
optimize() - there the index would be merged into a single segment.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


=20
This mail has originated outside your organization,
either from an external partner or the Global Internet.
Keep this in mind if you answer this message.

=20
This e-mail is intended only for the above addressee. It may contain
privileged information. If you are not the addressee you must not copy,
distribute, disclose or use any of the information in it. If you have
received it in error please delete it and immediately notify the sender.
Security Notice: all e-mail, sent to or from this address, may be
accessed by someone other than the recipient, for system management and
security reasons. This access is controlled under Regulation of
Investigatory Powers Act 2000, Lawful Business Practises.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 09:51:36 2006
Return-Path: <java-user-return-23230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89691 invoked from network); 7 Sep 2006 09:51:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 09:51:23 -0000
Received: (qmail 4906 invoked by uid 500); 7 Sep 2006 09:51:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4881 invoked by uid 500); 7 Sep 2006 09:51:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4866 invoked by uid 99); 7 Sep 2006 09:51:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 02:51:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gopi.subramani@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO nz-out-0102.google.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 02:51:15 -0700
Received: by nz-out-0102.google.com with SMTP id z6so65964nzd
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 02:50:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=csQKgEtDfxP0U9tSjcmupQIQSNXio4BTdHGeaL8q5qJc99hoz5px0va3lE4GEr3SNOLCHueMo9rBWWHppZlSWjvy8kMxtgL0RdPB73kodISBVSDverhIj3uPGXGo2JbiKxB5f0rLSpJqkQaaj6SrX+ISoNgxol/MpUx5AQ809WY=
Received: by 10.64.185.7 with SMTP id i7mr357674qbf;
        Thu, 07 Sep 2006 02:50:54 -0700 (PDT)
Received: by 10.65.51.3 with HTTP; Thu, 7 Sep 2006 02:50:54 -0700 (PDT)
Message-ID: <733777220609070250h6eac6a87wb28607347cb6ea3@mail.gmail.com>
Date: Thu, 7 Sep 2006 15:20:54 +0530
From: "Gopikrishnan Subramani" <gopi.subramani@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing MS Powerpoint files with Lucene
In-Reply-To: <6185039.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_120348_14213061.1157622654314"
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
	 <6185039.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_120348_14213061.1157622654314
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Did you check POI javadocs? Look for
org.apache.poi.hslf.extractor.PowerPointExtractor. It's one of the most
straightforward classes from POI as far extracting text for indexing is
concerned.

-Gopi

On 9/7/06, Venkateshprasanna <prasannahmv@yahoo.co.in> wrote:
>
>
> Is there any filter available for extracting text from MS Powerpoint files
> and indexing them?
> The lucene website suggests the POI project, which, it seems does not
> support PPT files as of now.
>
> Regards,
> Venkateshprasanna
>
> --
> View this message in context:
> http://www.nabble.com/which-way-to-index-pdf%2Cword%2Cexcel-tf2224468.html#a6185039
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_120348_14213061.1157622654314--

From java-user-return-23231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 10:19:22 2006
Return-Path: <java-user-return-23231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96046 invoked from network); 7 Sep 2006 10:19:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 10:19:21 -0000
Received: (qmail 44520 invoked by uid 500); 7 Sep 2006 10:19:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44490 invoked by uid 500); 7 Sep 2006 10:19:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44475 invoked by uid 99); 7 Sep 2006 10:19:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 03:19:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 03:19:14 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D27A330EFCD7; Thu,  7 Sep 2006 06:18:53 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 30EE430EFCD5
	for <java-user@lucene.apache.org>; Thu,  7 Sep 2006 06:18:46 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <6183788.post@talk.nabble.com>
References: <20060308231328.piid6shvswcocswg@webmail.service.emory.edu> <D286BF52-F685-424B-AF5E-3AD6967DAEED@ehatchersolutions.com> <6183788.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F9A0BFA2-816B-4A2A-835A-7CF484F1DD24@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Atomic index/search for a phrase
Date: Thu, 7 Sep 2006 06:18:44 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A single TermQuery is surely the fastest query of all.   But, what  
are you really trying to do?  It is not generally useful to index  
things untokenized except for precise key-like fields but not for  
full-text ones.

	Erik


On Sep 6, 2006, at 11:51 PM, Venkateshprasanna wrote:

>
> Which is more efficient with respect to performance?
>       Indexing a phrase as it is and searcing with the help of a  
> TermQuery
> OR
>       Storing only single words in index and making use of quoted  
> search
> phrases?
>
> Regards,
> Venkateshprasanna
>
> If you index "A Phrase" as untokenized, you would find it with a
> TermQuery for "A Phrase".  You must use exact case.  If you're using
> QueryParser, the text get analyzed and most analyzers lowercase.  If
> this expression is quoted it would become a PhraseQuery with two
> terms, or if it is unquoted it would become a BooleanQuery with two
> TermQuery clauses - either way it would not match if you indexed the
> phrase as untokenized.
>
>
> -- 
> View this message in context: http://www.nabble.com/Atomic-index- 
> search-for-a-phrase-tf1250772.html#a6183788
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 10:31:24 2006
Return-Path: <java-user-return-23232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98972 invoked from network); 7 Sep 2006 10:31:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 10:31:21 -0000
Received: (qmail 60713 invoked by uid 500); 7 Sep 2006 10:31:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60689 invoked by uid 500); 7 Sep 2006 10:31:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60677 invoked by uid 99); 7 Sep 2006 10:31:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 03:31:14 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hefest@gmail.com designates 66.249.82.226 as permitted sender)
Received: from [66.249.82.226] (HELO wx-out-0506.google.com) (66.249.82.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 03:31:13 -0700
Received: by wx-out-0506.google.com with SMTP id s15so184400wxc
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 03:30:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=fIZF35+A2d3ErcJpWrMiDa0pDEYjWTTLuRQc+SorryYIaliVFcmm7V/8vy7/3zzWr+FH30y6t599oX+VOlXWEuZLbsrG9E9DCuPZKOmZidx8ARDH9BSkwmpPAT66D7FNGlkvNZGjsxDHnFqXAw7L2/7pPU8hCKW2/9jc4+PeS3c=
Received: by 10.90.100.6 with SMTP id x6mr79449agb;
        Thu, 07 Sep 2006 03:30:52 -0700 (PDT)
Received: by 10.90.75.3 with HTTP; Thu, 7 Sep 2006 03:30:49 -0700 (PDT)
Message-ID: <d487eb8e0609070330p645cbb56hbd24946844cedd3a@mail.gmail.com>
Date: Thu, 7 Sep 2006 12:30:50 +0200
From: "Tomi NA" <hefest@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing MS Powerpoint files with Lucene
In-Reply-To: <6185039.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
	 <6185039.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/7/06, Venkateshprasanna <prasannahmv@yahoo.co.in> wrote:
>
> Is there any filter available for extracting text from MS Powerpoint files
> and indexing them?
> The lucene website suggests the POI project, which, it seems does not
> support PPT files as of now.

http://jakarta.apache.org/poi/hslf/index.html

It doesn't say poi doesn't support ppt. It just says support is
limited. Don't know exactly how limited, but certainly not useless for
indexing purposes.
Don't know if the plugin works, though. :)

t.n.a.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 11:41:31 2006
Return-Path: <java-user-return-23233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29768 invoked from network); 7 Sep 2006 11:41:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 11:41:31 -0000
Received: (qmail 49005 invoked by uid 500); 7 Sep 2006 11:41:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48001 invoked by uid 500); 7 Sep 2006 11:41:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47990 invoked by uid 99); 7 Sep 2006 11:41:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 04:41:25 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tansuwa@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 04:41:24 -0700
Received: by ug-out-1314.google.com with SMTP id y2so164872uge
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 04:41:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=SxjC3oIuCEoh/GwDrMxKt+EAH12DtzVN4lN8OE16k9RRQVQH8rZ960wdref9Ubi6S4Y/8nSMvDiXrOGp97IMGSD7vRA6gpW0GUQ/dD7pJjL1FNuEhcWk7YNjimAVIG1RELxmSteh6nawA7CmNfFMT58VtJr1SOqSPrgSD2eTSDs=
Received: by 10.66.249.11 with SMTP id w11mr334745ugh;
        Thu, 07 Sep 2006 04:41:02 -0700 (PDT)
Received: by 10.67.100.15 with HTTP; Thu, 7 Sep 2006 04:41:02 -0700 (PDT)
Message-ID: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com>
Date: Thu, 7 Sep 2006 21:41:02 +1000
From: "Luke Tan" <tansuwa@gmail.com>
To: java-user@lucene.apache.org
Subject: SpanRegexQuery causes error
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_235221_24968048.1157629262613"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_235221_24968048.1157629262613
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I am using code in
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200605.mbox/%3CBED850C725E74F47A0F69CC0EE9AB64D02BA6A9C@CORPUSMX40B.corp.emc.com%3E

for wildcard search in phrase

but it seems that I can only search something like:

"one two three word*"

but not

"one * three word"

It throws error:


java.lang.NullPointerException
    at java.util.Hashtable.get(Hashtable.java:336)
    at org.apache.lucene.index.MultiReader.norms(MultiReader.java:163)
    at org.apache.lucene.search.spans.SpanWeight.scorer(SpanWeight.java:70)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:129)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
    at org.apache.lucene.search.Searcher.search(Searcher.java:53)

The query text is analyzed using this:

        if (!StringUtils.isEmpty(queryText)) {
            if (queryText.indexOf("*") == 0 || queryText.indexOf("?") == 0)
return null;

            if (queryText.indexOf(' ') != -1) {
                SpanRegexQuery srq = new SpanRegexQuery(new Term(field,
queryText));
                SpanFirstQuery sfq = new SpanFirstQuery(srq, 1);
                return sfq;
            }
        }
Query getFieldQuery(String field, String queryText) throws ParseException

Thanks
Luke
inside

------=_Part_235221_24968048.1157629262613--

From java-user-return-23234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 12:05:07 2006
Return-Path: <java-user-return-23234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43822 invoked from network); 7 Sep 2006 12:05:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 12:05:07 -0000
Received: (qmail 1306 invoked by uid 500); 7 Sep 2006 12:05:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1102 invoked by uid 500); 7 Sep 2006 12:05:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1091 invoked by uid 99); 7 Sep 2006 12:05:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 05:05:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.40.70] (HELO fluffy.torchbox.com) (81.187.40.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 05:04:59 -0700
Received: from grenache.internal.torchbox.com ([192.168.1.81])
	by fluffy.torchbox.com with esmtp (Exim 4.50)
	id 1GLIcX-0006tr-Tx
	for java-user@lucene.apache.org; Thu, 07 Sep 2006 13:04:38 +0100
Date: Thu, 7 Sep 2006 13:04:45 +0100 (BST)
From: Nick Burch <nick@torchbox.com>
X-X-Sender: nick@localhost.localdomain
To: java-user@lucene.apache.org
Subject: Re: Indexing MS Powerpoint files with Lucene
In-Reply-To: <d487eb8e0609070330p645cbb56hbd24946844cedd3a@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.0609071302441.14898@localhost.localdomain>
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com> 
 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com> 
 <6185039.post@talk.nabble.com> <d487eb8e0609070330p645cbb56hbd24946844cedd3a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Spam-Score: -104.3 (---------------------------------------------------)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 7 Sep 2006, Tomi NA wrote:
> On 9/7/06, Venkateshprasanna <prasannahmv@yahoo.co.in> wrote:
>> Is there any filter available for extracting text from MS Powerpoint files
>> and indexing them?
>> The lucene website suggests the POI project, which, it seems does not
>> support PPT files as of now.
>
> http://jakarta.apache.org/poi/hslf/index.html
>
> It doesn't say poi doesn't support ppt. It just says support is limited. 
> Don't know exactly how limited, but certainly not useless for indexing 
> purposes.

Support for editing and adding things to PowerPoint files is limited, as 
is getting out the finer points of fonts and positioning.

Getting text out should "just work" for you. The only thing you'll need to 
decide is if you want hslf.PowerPointExtractor to give you slide and notes 
text, or just slide text :)

Nick

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 12:22:45 2006
Return-Path: <java-user-return-23235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49042 invoked from network); 7 Sep 2006 12:22:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 12:22:36 -0000
Received: (qmail 37814 invoked by uid 500); 7 Sep 2006 12:22:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37783 invoked by uid 500); 7 Sep 2006 12:22:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37772 invoked by uid 99); 7 Sep 2006 12:22:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 05:22:28 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hefest@gmail.com designates 66.249.82.225 as permitted sender)
Received: from [66.249.82.225] (HELO wx-out-0506.google.com) (66.249.82.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 05:22:28 -0700
Received: by wx-out-0506.google.com with SMTP id s15so213965wxc
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 05:22:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=to89Wn1xCKjufHvX+zjGeo0y6AoazN/M2xWE82WY+niERb8Od1/HzfSDvZmrq0Ie9bRM4zc9WMSo28S1QOuOAcB3i2t9jtg2nD4xFz3uZVgaRILKaisuhC/KcL1pFJRGKFNvI0fl1RxVil6I4e+0Krzrh5K3dkb6pZm5QRuniPw=
Received: by 10.90.100.6 with SMTP id x6mr141132agb;
        Thu, 07 Sep 2006 05:22:07 -0700 (PDT)
Received: by 10.90.75.3 with HTTP; Thu, 7 Sep 2006 05:22:05 -0700 (PDT)
Message-ID: <d487eb8e0609070522m46a50833obd7ad0e76b27c021@mail.gmail.com>
Date: Thu, 7 Sep 2006 14:22:05 +0200
From: "Tomi NA" <hefest@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing MS Powerpoint files with Lucene
In-Reply-To: <Pine.LNX.4.64.0609071302441.14898@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
	 <6185039.post@talk.nabble.com>
	 <d487eb8e0609070330p645cbb56hbd24946844cedd3a@mail.gmail.com>
	 <Pine.LNX.4.64.0609071302441.14898@localhost.localdomain>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/7/06, Nick Burch <nick@torchbox.com> wrote:
> On Thu, 7 Sep 2006, Tomi NA wrote:
> > On 9/7/06, Venkateshprasanna <prasannahmv@yahoo.co.in> wrote:
> >> Is there any filter available for extracting text from MS Powerpoint files
> >> and indexing them?
> >> The lucene website suggests the POI project, which, it seems does not
> >> support PPT files as of now.
> >
> > http://jakarta.apache.org/poi/hslf/index.html
> >
> > It doesn't say poi doesn't support ppt. It just says support is limited.
> > Don't know exactly how limited, but certainly not useless for indexing
> > purposes.
>
> Support for editing and adding things to PowerPoint files is limited, as
> is getting out the finer points of fonts and positioning.

Which brings me to another (off)topic: can lucene/nutch assign
different weights to tokens in the same document field? An obvious
example would be: "this text seems to be in large, bold, blinking
letters: I'll assume it's more important than the surrounding 8px
text."

t.n.a.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 13:10:46 2006
Return-Path: <java-user-return-23236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63123 invoked from network); 7 Sep 2006 13:10:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 13:10:42 -0000
Received: (qmail 3581 invoked by uid 500); 7 Sep 2006 13:10:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3535 invoked by uid 500); 7 Sep 2006 13:10:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3476 invoked by uid 99); 7 Sep 2006 13:10:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:10:29 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:10:24 -0700
Received: by py-out-1112.google.com with SMTP id w49so261631pyg
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 06:10:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DZ692SnkyZ4Wc+2GNbj69oRQHMpjkfdyQYqjW+hKlkrtdqGioGnPXRk9o++ZR1KE9aiouycUJ+Gj3/6fpF7MzSI+e6hGnrO7xPeA8JNGhTNLAxqiInin2BO9ZGlrfCnLR7oQoF5lbqsAuPY2EBCcWtuAQJCg+wf59qZfqqIcOIU=
Received: by 10.35.126.7 with SMTP id d7mr653520pyn;
        Thu, 07 Sep 2006 06:10:03 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Thu, 7 Sep 2006 06:10:01 -0700 (PDT)
Message-ID: <359a92830609070610s1fa6a830pc56d21de967f1157@mail.gmail.com>
Date: Thu, 7 Sep 2006 09:10:03 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: parameter create in IndexWriter
In-Reply-To: <002101c6d249$7798b560$0d01a8c0@client06>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20770_24575369.1157634603395"
References: <001601c6d243$73ef1d10$0d01a8c0@client06>
	 <44FFBAEF.7030801@nuix.com.au>
	 <002101c6d249$7798b560$0d01a8c0@client06>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_20770_24575369.1157634603395
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

See below...

On 9/7/06, jacky <jackychenp@gmail.com> wrote:
>
>     I am afraid i don't understand it.
>     Input the wrong path? This will be happen rarely since the index path
> is always
> hard code in the config file.


In your application maybe. but not the general case. In any case, this is
one of those design decisions that one can argue with, but that doesn't do
much good, since it works the way it does.

What complexity? What's wrong with

IndexWriter writer = new IndexWriter(<path to directory>, analyzer, !
IndexReader.indexExists(<path to directory>));

This does exactly what you want without creating potential problems by
having assumptions buiilt into Lucene that will trip up others.

    And usually, users need to create a brand new index, and then append the
> new document
> into it.


I disagree. This is an assumption that *you* are making in your particular
problem space, and may or may not have any applicability to others. Lucene
had to be designed in a more general-purpose fashion.

Personally, I'd faaaaaaar rather get an IO exception that I had to deal with
immediately than spend hours/days wondering why my application didn't work
when the configuration file had a typo. Or I transfered an index to a new
machine and didn't get the path right. Or didn't even know that there *was*
a configuration file that I had to match. Or didn't know that someone else
changed the config file while testing and didn't change it back. Or have my
big release occur for my customer and have it not be correct because I
created a new index when I meant to append to an old one (for one of the
above reasons, perhaps). Then have to figure out how to combine the indexes
because I now have the old index somewhere and a separate new index that I
really didn't want.

I don't want this kind of headache built into the tool. If I choose to make
it part of my application, that's my problem, but not something I want
imposed upon me.

 Especially when the solution is so straight-forward.

As you can probably tell, I've spent waaaaay too much time chasing down
really stupid errors that I've made and I'd rather have things blow up
immediately than fail subtly.

Best
Erick

     Best Regards.
>        jacky
>
> ----- Original Message -----
> From: "Daniel Noll" <daniel@nuix.com.au>
> To: <java-user@lucene.apache.org>
> Sent: Thursday, September 07, 2006 2:23 PM
> Subject: Re: parameter create in IndexWriter
>
>
> > jacky wrote:
> > > hi,
> > >    Today I found a funny thing, if "create" parameter in IndexWriter
> set false,
> > > and there is no index Segements in the Directory before, then an
> IOException will be
> > > thrown.
> > >    I am confused that why not using this logic : if there is a
> Segments, then append it, create it otherwise.
> > >    I know we can do this in the application, but it is complex
> sometimes.
> >
> > The reason is that if we don't *want* to create a new text index (e.g.
> > if the user enters the wrong path to the data) then it shouldn't be
> > created automatically because it would result in trash ending up all
> > over the hard disk.
> >
> > Daniel
> >
> >
> > --
> > Daniel Noll
> >
> > Nuix Pty Ltd
> > Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
> > Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902
> >
> > This message is intended only for the named recipient. If you are not
> > the intended recipient you are notified that disclosing, copying,
> > distributing or taking any action in reliance on the contents of this
> > message or attachment is strictly prohibited.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >

------=_Part_20770_24575369.1157634603395--

From java-user-return-23237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 13:21:31 2006
Return-Path: <java-user-return-23237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65823 invoked from network); 7 Sep 2006 13:21:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 13:21:29 -0000
Received: (qmail 29618 invoked by uid 500); 7 Sep 2006 13:21:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28598 invoked by uid 500); 7 Sep 2006 13:21:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28587 invoked by uid 99); 7 Sep 2006 13:21:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:21:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:21:21 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 61C6E30EFCD7; Thu,  7 Sep 2006 09:21:00 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 3A7C430EFCD5
	for <java-user@lucene.apache.org>; Thu,  7 Sep 2006 09:20:58 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com>
References: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0F55BA85-CA19-4868-B2E4-D90FF599D385@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SpanRegexQuery causes error
Date: Thu, 7 Sep 2006 09:20:56 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What's the .toString on the query it parsed to?  Keep in mind that  
"*" isn't the proper regular expression to match everything - it  
would be ".*" or some other pattern.

	Erik


On Sep 7, 2006, at 7:41 AM, Luke Tan wrote:

> Hi,
>
> I am using code in
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/ 
> 200605.mbox/% 
> 3CBED850C725E74F47A0F69CC0EE9AB64D02BA6A9C@CORPUSMX40B.corp.emc.com%3E
>
> for wildcard search in phrase
>
> but it seems that I can only search something like:
>
> "one two three word*"
>
> but not
>
> "one * three word"
>
> It throws error:
>
>
> java.lang.NullPointerException
>    at java.util.Hashtable.get(Hashtable.java:336)
>    at org.apache.lucene.index.MultiReader.norms(MultiReader.java:163)
>    at org.apache.lucene.search.spans.SpanWeight.scorer 
> (SpanWeight.java:70)
>    at org.apache.lucene.search.IndexSearcher.search 
> (IndexSearcher.java:129)
>    at org.apache.lucene.search.IndexSearcher.search 
> (IndexSearcher.java:110)
>    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
>    at org.apache.lucene.search.Searcher.search(Searcher.java:53)
>
> The query text is analyzed using this:
>
>        if (!StringUtils.isEmpty(queryText)) {
>            if (queryText.indexOf("*") == 0 || queryText.indexOf 
> ("?") == 0)
> return null;
>
>            if (queryText.indexOf(' ') != -1) {
>                SpanRegexQuery srq = new SpanRegexQuery(new Term(field,
> queryText));
>                SpanFirstQuery sfq = new SpanFirstQuery(srq, 1);
>                return sfq;
>            }
>        }
> Query getFieldQuery(String field, String queryText) throws  
> ParseException
>
> Thanks
> Luke
> inside


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 13:29:16 2006
Return-Path: <java-user-return-23238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74701 invoked from network); 7 Sep 2006 13:29:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 13:29:16 -0000
Received: (qmail 47150 invoked by uid 500); 7 Sep 2006 13:29:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47030 invoked by uid 500); 7 Sep 2006 13:29:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47019 invoked by uid 99); 7 Sep 2006 13:29:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:29:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:29:07 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k87DSrd03542
	for <java-user@lucene.apache.org>; Thu, 7 Sep 2006 08:28:53 -0500
Message-ID: <45001E8B.5010906@getopt.org>
Date: Thu, 07 Sep 2006 15:28:43 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Indexing MS Powerpoint files with Lucene
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>	 <6185039.post@talk.nabble.com>	 <d487eb8e0609070330p645cbb56hbd24946844cedd3a@mail.gmail.com>	 <Pine.LNX.4.64.0609071302441.14898@localhost.localdomain> <d487eb8e0609070522m46a50833obd7ad0e76b27c021@mail.gmail.com>
In-Reply-To: <d487eb8e0609070522m46a50833obd7ad0e76b27c021@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tomi NA wrote:
> On 9/7/06, Nick Burch <nick@torchbox.com> wrote:
>> On Thu, 7 Sep 2006, Tomi NA wrote:
>> > On 9/7/06, Venkateshprasanna <prasannahmv@yahoo.co.in> wrote:
>> >> Is there any filter available for extracting text from MS 
>> Powerpoint files
>> >> and indexing them?
>> >> The lucene website suggests the POI project, which, it seems does not
>> >> support PPT files as of now.
>> >
>> > http://jakarta.apache.org/poi/hslf/index.html
>> >
>> > It doesn't say poi doesn't support ppt. It just says support is 
>> limited.
>> > Don't know exactly how limited, but certainly not useless for indexing
>> > purposes.
>>
>> Support for editing and adding things to PowerPoint files is limited, as
>> is getting out the finer points of fonts and positioning.
>
> Which brings me to another (off)topic: can lucene/nutch assign
> different weights to tokens in the same document field? An obvious
> example would be: "this text seems to be in large, bold, blinking
> letters: I'll assume it's more important than the surrounding 8px
> text."

No, it can't (at least not yet). As a workaround you can extract these 
portions of text to another field (or multiple fields), and then add 
them with a higher boost. Then, expand your queries so that they include 
also this field. This way, if query matches these special tokens, 
results will get higher rank because of matching on this boosted field.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 13:31:43 2006
Return-Path: <java-user-return-23239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75351 invoked from network); 7 Sep 2006 13:31:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 13:31:42 -0000
Received: (qmail 51152 invoked by uid 500); 7 Sep 2006 13:31:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50197 invoked by uid 500); 7 Sep 2006 13:31:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50186 invoked by uid 99); 7 Sep 2006 13:31:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:31:34 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:31:33 -0700
Received: by py-out-1112.google.com with SMTP id w49so268151pyg
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 06:31:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NqJx7g2eUlQoPPhQ+ucLcBWR7eENX4jfXPSLkUD8xhxYixqcNzw+Bgmpw1cfRIwAlm01JkkaRD0Mq28N25Uv6WO36LG/o7azdCLGVvWzyQnhggfK4goBgt95FhRoQi/zgMOeKNUpJIR18ONWdd5FRWEQi3I72V6svvR/QCSNUjU=
Received: by 10.35.53.18 with SMTP id f18mr693481pyk;
        Thu, 07 Sep 2006 06:31:12 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Thu, 7 Sep 2006 06:31:12 -0700 (PDT)
Message-ID: <359a92830609070631i34fc2557q3f8ebc4ae40f7bba@mail.gmail.com>
Date: Thu, 7 Sep 2006 09:31:12 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexer large file and hi performance indexing
In-Reply-To: <0471C9AC78F671458C5E3F9C69B73C86035B6230@FR0-MAILMB17.res.airbus.corp>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21198_1261074.1157635872742"
References: <0471C9AC78F671458C5E3F9C69B73C86035B6230@FR0-MAILMB17.res.airbus.corp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21198_1261074.1157635872742
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Here's another approach that I *think* will work...

Remember that opening an IndexReader takes a snapshot of the index, and
later additions aren't visible until you open a new index reader.

So, at some point you have an FSDir index only, and your program starts.

You open your (shared) reader to the FSDir index.
You open a writer to BOTH the FSDIr and a (new) RAMdir.

Now, when each document comes in you add it to the FSDir index AND the
RAMDir indexes.

You search both the FSDir index and the RAMDir index for all of your
searches, opening a new RAMDir reader for each search.

 Periodically, you close and re-open your FSDir index reader and discard th=
e
RAMDir index and start a new RAMDir index that you use as above.

Now, your searches are completely up to date. You don't have to worry
merging the indexes because you already added the docs to the FSDir index.
You should be able to keep using the old searcher until the
close/optimization is complete. I suspect that you'll have to do something
here about not adding new docs to the RAMDIR index while opening/closing
your FSDir index, but that's an exercise for the reader <G>...

Since I haven't actually done this myself, I'd recommend some pretty
thorough tests, particularly to insure that you don't get duplicate results
<G>.

Best
Erick

P.S. Wrapped around this is the explicit assumption that whether or not the
data is flushed to disk, it is *still* unavaliable to an IndexReader until
you open a new reader.

P.P.S. I'd really push back at whoever is insisting that all searches be
real-time. It's often been my experience that "real-time" really means
"every 10 minutes will be fine", in which case your work would be much
easier, but only you can answer that....

On 9/7/06, HODAC, Olivier <olivier.hodac@airbus.com> wrote:
>
>
> Actually, latency is not possible.
>
> Do you think it is possible to tune the fswriter to flush into the file
> system each N elements (using the maxMergeDocs and co) and use "for each
> docs of the RAMindexer (addDocument to the FSindexer)"? What about
> performances?
>
> -----Message d'origine-----
> De : Doron Cohen [mailto:DORONC@il.ibm.com]
> Envoy=E9 : mercredi 6 septembre 2006 21:00
> =C0 : java-user@lucene.apache.org
> Objet : Re: Indexer large file and hi performance indexing
>
>
>
> "HODAC, Olivier" <olivier.hodac@airbus.com> wrote on 06/09/2006 03:04:15:
> >
> > hello,
> >
> > I design an application which bottleneck concerns the indexing
> > process. Objects indexation blocks the user's action. Furthermore, I
> > need to index a large maount of documents (30000 per day) and save
> > them on the file system.
> >
> > The first developments have been initiate with lucene 1.4.3 and I
> > had to create a cachedIndexer which uses a RAMDirectory and a FS
> > directory. For the searches, the cached indexer searches in RAM and
> > FS indexes. For deletion, the delete is done in the RAM and FS.
> >
> > Each N documents to index in the cache (RAMDirectory), a thread
> > dumps them to the FSDirectory, with a synchronize.
> >
> > In 1 month, I reached an index cfs file of 2.5Go, and the merge
> > process (addIndexes) takes 5 minutes approx (solaris 5.9).!!!! =3D>
> > synchronize...
> >
> > Questions:
> > * Is it a good way of doing things?
>
> I am guessing that you implemented "searching in the RAM segments held by
> the writer" for making the search results as fresh as possible - i.e.
> reflecting in search every last document that was added.
>
> If this is not the case - i.e. if you could tolerate a latency of N
> documents (say 1000) and T minutes (say 15), whichever happens first, you
> could define maxBefferredDocs =3D N, this way letting Lucene manage the
> index
> on its own, and open the searcher(s) against the FSDirectory, as usual.
> This way you would be able to search while the index gets updated, even
> during merges. You would of course need to create a new searcher after
> flushes, in order for search to reflect recent index modifications. (The
> 'flush after T' logic is not in Lucene, so if desired it would need to be
> implemented above it.)
>
> If such latency is not possible, and search must include every recent
> document added, I would assume that a more fine synchronization could wor=
k
> - for instance - do not sync on the entire merge, but only on the deletio=
n
> of merged segments from the queue (keep 'old=3Dto-be-deleted' segments as=
ide
> as long as existing searchers still use them). This is much more
> complicated though, it would take more memory, and would most possibly
> break when the source of Lucene evolves, so better do not take this path
> unless must.
>
> > * Does maxMergeDocs is a solution for the merge process to be lower?
> > * If I call addIndexes on the 2.5Go index file with a maxMergeDocs,
> > it calls optimize. the javadoc says that it calls optimize, which
> > gathers to 1 file the indexdir. is it true whatever the maxMergeDocs?
>
> maxMergeDocs only affect merge decisions during addDocument(), so it woul=
d
> have no effect during optimize() nor during addIndexes() that calls
> optimize() - there the index would be merged into a single segment.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> This mail has originated outside your organization,
> either from an external partner or the Global Internet.
> Keep this in mind if you answer this message.
>
>
> This e-mail is intended only for the above addressee. It may contain
> privileged information. If you are not the addressee you must not copy,
> distribute, disclose or use any of the information in it. If you have
> received it in error please delete it and immediately notify the sender.
> Security Notice: all e-mail, sent to or from this address, may be
> accessed by someone other than the recipient, for system management and
> security reasons. This access is controlled under Regulation of
> Investigatory Powers Act 2000, Lawful Business Practises.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_21198_1261074.1157635872742--

From java-user-return-23240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 13:47:39 2006
Return-Path: <java-user-return-23240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81702 invoked from network); 7 Sep 2006 13:47:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 13:47:33 -0000
Received: (qmail 77119 invoked by uid 500); 7 Sep 2006 13:47:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76937 invoked by uid 500); 7 Sep 2006 13:47:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76926 invoked by uid 99); 7 Sep 2006 13:47:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:47:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mbraun@uni-hd.de designates 129.206.100.212 as permitted sender)
Received: from [129.206.100.212] (HELO relay.uni-heidelberg.de) (129.206.100.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 06:47:25 -0700
Received: from serv25.ub.uni-heidelberg.de (serv25.ub.uni-heidelberg.de [147.142.186.75])
	by relay.uni-heidelberg.de (8.13.4/8.13.1) with ESMTP id k87Dl15r031404
	for <java-user@lucene.apache.org>; Thu, 7 Sep 2006 15:47:01 +0200
Received: from localhost (localhost [127.0.0.1])
	by serv25.ub.uni-heidelberg.de (Postfix) with ESMTP id 459508BA44
	for <java-user@lucene.apache.org>; Thu,  7 Sep 2006 15:47:01 +0200 (CEST)
Received: from serv25.ub.uni-heidelberg.de ([127.0.0.1])
 by localhost (serv25.ub.uni-heidelberg.de [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 18350-08 for <java-user@lucene.apache.org>;
 Thu,  7 Sep 2006 15:47:00 +0200 (CEST)
Received: from [147.142.85.36] (pers16.ub.uni-heidelberg.de [147.142.85.36])
	by serv25.ub.uni-heidelberg.de (Postfix) with ESMTP id 3D0D58BA42
	for <java-user@lucene.apache.org>; Thu,  7 Sep 2006 15:47:00 +0200 (CEST)
Message-ID: <450022B1.4020700@uni-hd.de>
Date: Thu, 07 Sep 2006 15:46:25 +0200
From: Martin Braun <mbraun@uni-hd.de>
Reply-To: mbraun@uni-hd.de
User-Agent: Thunderbird 1.5.0.5 (X11/20060719)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: best way indexing user queries
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at ub.uni-heidelberg.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I would like to index the user submitted queries to a given index. As a
result of this I want to provide something like: people who searched for
test searched also with these queries: +title:test +author:somename.

I think the simple approach of just adding the queries as a string in a
document, would cause many redundancies, e.g. thousands of docs with
test in it.

Does anybody have programmed something similar, or is it just not a
reasonable idea?

thanks,
martin


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 15:07:41 2006
Return-Path: <java-user-return-23241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9229 invoked from network); 7 Sep 2006 15:07:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 15:07:39 -0000
Received: (qmail 41191 invoked by uid 500); 7 Sep 2006 15:07:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40566 invoked by uid 500); 7 Sep 2006 15:07:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40555 invoked by uid 99); 7 Sep 2006 15:07:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 08:07:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.151.89.70] (HELO server) (213.151.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 08:07:30 -0700
Received: from [85.207.40.193] (helo=[10.10.1.71])
	by server with esmtp (Exim 4.50)
	id 1GLLT9-0001Gw-6v
	for java-user@lucene.apache.org; Thu, 07 Sep 2006 17:07:07 +0200
Message-ID: <45003626.2060001@tejnora.cz>
Date: Thu, 07 Sep 2006 17:09:26 +0200
From: Karel Tejnora <karel@tejnora.cz>
User-Agent: Thunderbird 1.5.0.5 (X11/20060904)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: best way indexing user queries
References: <450022B1.4020700@uni-hd.de>
In-Reply-To: <450022B1.4020700@uni-hd.de>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 85.207.40.193
X-SA-Exim-Mail-From: karel@tejnora.cz
X-SA-Exim-Scanned: No (on server); SAEximRunCond expanded to false
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Discussed before, it's more relation db task than lucene.

Simple approach is to get a list of terms from your queries and store 
relation document - query - terms.

I have around 1.6e10 query-terms in postgreSQL and with proper index 
select takes around 0.6 ms (clustered vacuumed analyzed), 300 ms after day.

> I would like to index the user submitted queries to a given index. As a
> result of this I want to provide something like: people who searched for
> test searched also with these queries: +title:test +author:somename.
>
> I think the simple approach of just adding the queries as a string in a
> document, would cause many redundancies, e.g. thousands of docs with
> test in it.
>
> Does anybody have programmed something similar, or is it just not a
> reasonable idea?
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 15:19:31 2006
Return-Path: <java-user-return-23242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13522 invoked from network); 7 Sep 2006 15:19:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 15:19:31 -0000
Received: (qmail 64930 invoked by uid 500); 7 Sep 2006 15:19:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64890 invoked by uid 500); 7 Sep 2006 15:19:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64877 invoked by uid 99); 7 Sep 2006 15:19:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 08:19:22 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.8.164 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.8.164] (HELO pne-smtpout2-sn2.hy.skanova.net) (81.228.8.164)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 08:19:21 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout2-sn2.hy.skanova.net (7.2.075)
        id 44FECF1400062BED for java-user@lucene.apache.org; Thu, 7 Sep 2006 17:18:59 +0200
Subject: Re: best way indexing user queries
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <450022B1.4020700@uni-hd.de>
References: <450022B1.4020700@uni-hd.de>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Thu, 07 Sep 2006 17:18:51 +0200
Message-Id: <1157642331.4682.3.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2006-09-07 at 15:46 +0200, Martin Braun wrote:
> Hello,
> 
> I would like to index the user submitted queries to a given index. As a
> result of this I want to provide something like: people who searched for
> test searched also with these queries: +title:test +author:somename.
> 
> I think the simple approach of just adding the queries as a string in a
> document, would cause many redundancies, e.g. thousands of docs with
> test in it.

You are looking for user based collaborative filtering. taste.sf.net can
do that for you.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 18:35:40 2006
Return-Path: <java-user-return-23243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77194 invoked from network); 7 Sep 2006 18:35:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 18:35:40 -0000
Received: (qmail 56591 invoked by uid 500); 7 Sep 2006 18:35:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56564 invoked by uid 500); 7 Sep 2006 18:35:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56553 invoked by uid 99); 7 Sep 2006 18:35:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 11:35:32 -0700
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.106.69] (HELO web39808.mail.mud.yahoo.com) (209.191.106.69)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 07 Sep 2006 11:35:30 -0700
Received: (qmail 7779 invoked by uid 60001); 7 Sep 2006 18:35:09 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=luO5cbI/FDoZGtYHkZbyxU7xVPDhwXp3HFaGEOsssGmd8KSGCzcESzHvvwzsAhR2/2OG4hJeI+QwukZGinIcqtIevsY8XhoLeu5DjtartItmQWcmf/YKk8TNF0+oS1d5nzRUd3lnDCA5BybHmfrt6igMtAtIqwTm7sfmZ0m7UzE=  ;
Message-ID: <20060907183509.7777.qmail@web39808.mail.mud.yahoo.com>
Received: from [212.201.79.55] by web39808.mail.mud.yahoo.com via HTTP; Thu, 07 Sep 2006 11:35:09 PDT
Date: Thu, 7 Sep 2006 11:35:09 -0700 (PDT)
From: khgcutg hsowhj <hemanbegins3@yahoo.com>
Subject: how to index rdf/owl file using lucene
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1104656253-1157654109=:6992"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1104656253-1157654109=:6992
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi All,
   
    How can we index RDF/OWL file, can anyone provide a small example or related papers or any kind of literature to index and search rdf/owl file using lucene.Any kind of help is appreciated.
   
  Regards,
  phani.
   
   

 		
---------------------------------
Get your email and more, right on the  new Yahoo.com 
--0-1104656253-1157654109=:6992--

From java-user-return-23244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 20:49:23 2006
Return-Path: <java-user-return-23244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17079 invoked from network); 7 Sep 2006 20:49:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 20:49:23 -0000
Received: (qmail 71938 invoked by uid 500); 7 Sep 2006 20:49:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71905 invoked by uid 500); 7 Sep 2006 20:49:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71894 invoked by uid 99); 7 Sep 2006 20:49:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 13:49:16 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nestorjb@gmail.com designates 66.249.82.227 as permitted sender)
Received: from [66.249.82.227] (HELO wx-out-0506.google.com) (66.249.82.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 13:49:15 -0700
Received: by wx-out-0506.google.com with SMTP id s15so350570wxc
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 13:48:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:mime-version:content-type:x-mailer:x-mimeole:thread-index:message-id;
        b=cBsW6DT8jjoen435YreEsxFbTOIFEBTpvkMVvbGQocQNS2GTpaChnziQx5A15NkDTd8k1lYBI9bc+PAG3+9r3nkpMrtGG5t0mnt5fU/Gz+v4RTzHMgfe2xxvhRgF+wat5w9Q1LgGlskzdqhdWuw5wo9yzRrjy5wKo/S4s11KGys=
Received: by 10.90.105.19 with SMTP id d19mr481453agc;
        Thu, 07 Sep 2006 13:48:54 -0700 (PDT)
Received: from nboscan ( [200.109.36.133])
        by mx.gmail.com with ESMTP id 5sm1133628wrh.2006.09.07.13.48.53;
        Thu, 07 Sep 2006 13:48:54 -0700 (PDT)
From: =?iso-8859-1?Q?N=E9stor_Bosc=E1n?= <nestorjb@gmail.com>
To: <java-user@lucene.apache.org>
Subject: Using Hibernate to store Lucene Indexes in a Database
Date: Thu, 7 Sep 2006 16:48:52 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00E2_01C6D29D.82F328B0"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbS2CyJrHSN1e9NRXKI3oV9SmKv0g==
Message-ID: <450085b6.23793ebf.31aa.5ba4@mx.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00E2_01C6D29D.82F328B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi

=20

Has anybody seen a solution that will store Lucene indexes in a database
using Hibernate?. Basically a HibernateDirectory so I can store and =
retrieve
the indexes from a database?

=20

Regards,

=20

N=E9stor Bosc=E1n


------=_NextPart_000_00E2_01C6D29D.82F328B0--


From java-user-return-23245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 22:38:16 2006
Return-Path: <java-user-return-23245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46562 invoked from network); 7 Sep 2006 22:38:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 22:38:07 -0000
Received: (qmail 26164 invoked by uid 500); 7 Sep 2006 22:38:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26141 invoked by uid 500); 7 Sep 2006 22:38:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26130 invoked by uid 99); 7 Sep 2006 22:38:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 15:38:00 -0700
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 66.249.82.227 as permitted sender)
Received: from [66.249.82.227] (HELO wx-out-0506.google.com) (66.249.82.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 15:38:00 -0700
Received: by wx-out-0506.google.com with SMTP id s15so379570wxc
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 15:37:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=oQaKmVCq/kOCnE5Nv8e2brZYtRifJHBOcFT+6zIcecE0PrcLoEJDIE/hzx+mfG/ebbFoSEU5bAcicbc3Xf60o9sbu+Dcf63SppwtycjppH5WEzpxwFW4QTZgzQUXdmeHlPis6Qz9pfu++WsfqqRna5qkVvnAHAm7aZmQu9LIM0c=
Received: by 10.90.49.1 with SMTP id w1mr495559agw;
        Thu, 07 Sep 2006 15:37:38 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Thu, 7 Sep 2006 15:37:38 -0700 (PDT)
Message-ID: <1cbd6f830609071537i1ed9aacarbca4328b37517da3@mail.gmail.com>
Date: Thu, 7 Sep 2006 18:37:38 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Highligher Example
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_155777_6306489.1157668658194"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_155777_6306489.1157668658194
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hey

Anyone have a search result highlighter example?

I have various doc, PDFs, DOC, TXT, PPT, and I would like to show a
highlight, similar to how google does it...

tia

------=_Part_155777_6306489.1157668658194--

From java-user-return-23246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 23:43:15 2006
Return-Path: <java-user-return-23246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59943 invoked from network); 7 Sep 2006 23:43:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 23:43:12 -0000
Received: (qmail 87535 invoked by uid 500); 7 Sep 2006 23:43:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87506 invoked by uid 500); 7 Sep 2006 23:43:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87495 invoked by uid 99); 7 Sep 2006 23:43:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 16:43:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.121.61.10] (HELO phizblip.com) (128.121.61.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 16:43:05 -0700
Received: from [10.0.11.108] (avaliable.octelecom.net [208.187.181.114] (may be forged))
	(authenticated bits=0)
	by phizblip.com (8.13.6.20060614/8.13.6) with ESMTP id k87NghBL055183
	for <java-user@lucene.apache.org>; Thu, 7 Sep 2006 17:42:44 -0600 (MDT)
Message-ID: <4500AF05.6000103@lingotek.com>
Date: Thu, 07 Sep 2006 17:45:09 -0600
From: Shane Perry <shane@lingotek.com>
User-Agent: Thunderbird 1.5.0.5 (X11/20060808)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Determining index from MultiSearcher
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am currently working on an application which requires the ability to 
search multiple indexes using the same query.  I can use the 
MultiSearcher object to do this without any problem.

For ranking purposes, I need to know at least the String version of the 
Directory associated with the index for each returned Document.

Does anybody know if there currently some built-in functionality to do this?

Shane Perry

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 23:51:30 2006
Return-Path: <java-user-return-23247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61056 invoked from network); 7 Sep 2006 23:51:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 23:51:23 -0000
Received: (qmail 99923 invoked by uid 500); 7 Sep 2006 23:51:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98936 invoked by uid 500); 7 Sep 2006 23:51:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98925 invoked by uid 99); 7 Sep 2006 23:51:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 16:51:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 16:51:17 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 81B8330EFCD7; Thu,  7 Sep 2006 19:50:56 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id D717130EFCD5
	for <java-user@lucene.apache.org>; Thu,  7 Sep 2006 19:50:40 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <1cbd6f830609071537i1ed9aacarbca4328b37517da3@mail.gmail.com>
References: <1cbd6f830609071537i1ed9aacarbca4328b37517da3@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6CB3BC1A-D50A-4DEB-A739-7613CBD052DC@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highligher Example
Date: Thu, 7 Sep 2006 19:50:38 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There are test cases in the Highlighter codebase that exercise it and  
show its use, as well as a few examples of it in the "Lucene in  
Action" codebase.

These examples output plain text with some prefix and suffix  
surrounding the highlighted terms.  Highlighting text in a PDF is  
possible, I'm pretty sure, but I don't think the same would be easily  
possible with Microsoft document formats.  I'm not sure if you are  
asking for these document types to be highlighted or just a plain  
text representation of them, though.

	Erik

On Sep 7, 2006, at 6:37 PM, Mag Gam wrote:

> Hey
>
> Anyone have a search result highlighter example?
>
> I have various doc, PDFs, DOC, TXT, PPT, and I would like to show a
> highlight, similar to how google does it...
>
> tia


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 07 23:51:41 2006
Return-Path: <java-user-return-23248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61110 invoked from network); 7 Sep 2006 23:51:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2006 23:51:40 -0000
Received: (qmail 610 invoked by uid 500); 7 Sep 2006 23:51:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 586 invoked by uid 500); 7 Sep 2006 23:51:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 575 invoked by uid 99); 7 Sep 2006 23:51:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 16:51:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 16:51:33 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 804605B763; Thu,  7 Sep 2006 16:51:06 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 706407F403
	for <java-user@lucene.apache.org>; Thu,  7 Sep 2006 16:51:06 -0700 (PDT)
Date: Thu, 7 Sep 2006 16:51:06 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Determining index from MultiSearcher
In-Reply-To: <4500AF05.6000103@lingotek.com>
Message-ID: <Pine.LNX.4.58.0609071648440.23171@hal.rescomp.berkeley.edu>
References: <4500AF05.6000103@lingotek.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: For ranking purposes, I need to know at least the String version of the
: Directory associated with the index for each returned Document.
:
: Does anybody know if there currently some built-in functionality to do this?

note the following methods...

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MultiSearcher.html#getSearchables()
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MultiSearcher.html#subSearcher(int)
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MultiSearcher.html#subDoc(int)

...the last may be of no iterest to you, but from what i've seen
discussed before, the first two are all what you are looking for.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 00:51:01 2006
Return-Path: <java-user-return-23249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68910 invoked from network); 8 Sep 2006 00:51:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 00:51:01 -0000
Received: (qmail 53809 invoked by uid 500); 8 Sep 2006 00:50:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53558 invoked by uid 500); 8 Sep 2006 00:50:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53545 invoked by uid 99); 8 Sep 2006 00:50:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 17:50:54 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 66.249.82.229 as permitted sender)
Received: from [66.249.82.229] (HELO wx-out-0506.google.com) (66.249.82.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 17:50:53 -0700
Received: by wx-out-0506.google.com with SMTP id s17so450100wxc
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 17:50:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=a4VOcSy0sbayASztL9XLeM2cA6lYlPpDoIZfKQWiJXEFfDiTa2ikgTN8FsAZ+bTFq1lLbrWAuKrd+wmQyvzBvam7QmwKDFaNSCJHTHGRfLMsGPrVOvgg5tXlLbNdjVKMiBtWGqOE8cxaUpRs8Y22lVE82Ym+mzXD3JNfO0Sa5JI=
Received: by 10.90.49.20 with SMTP id w20mr501563agw;
        Thu, 07 Sep 2006 17:50:32 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Thu, 7 Sep 2006 17:50:32 -0700 (PDT)
Message-ID: <1cbd6f830609071750s1f89446bh4ea0ad54b6a73218@mail.gmail.com>
Date: Thu, 7 Sep 2006 20:50:32 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Highligher Example
In-Reply-To: <6CB3BC1A-D50A-4DEB-A739-7613CBD052DC@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_157073_3833382.1157676632248"
References: <1cbd6f830609071537i1ed9aacarbca4328b37517da3@mail.gmail.com>
	 <6CB3BC1A-D50A-4DEB-A739-7613CBD052DC@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_157073_3833382.1157676632248
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks for the quick response Erik. I will be getting my LIA book back very
soon, I forgot it at a destination :-(

Lets assume, there is a document called "hello.pdf" and it has the content
"this is hello.pdf. It uses Acrobat"

When I perform a search for "Acrobat", i want hello.pdf to show up, and also
the 'It uses <highlight>Acrobat</highlight>'

something like that.

tia



On 9/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> There are test cases in the Highlighter codebase that exercise it and
> show its use, as well as a few examples of it in the "Lucene in
> Action" codebase.
>
> These examples output plain text with some prefix and suffix
> surrounding the highlighted terms.  Highlighting text in a PDF is
> possible, I'm pretty sure, but I don't think the same would be easily
> possible with Microsoft document formats.  I'm not sure if you are
> asking for these document types to be highlighted or just a plain
> text representation of them, though.
>
>         Erik
>
> On Sep 7, 2006, at 6:37 PM, Mag Gam wrote:
>
> > Hey
> >
> > Anyone have a search result highlighter example?
> >
> > I have various doc, PDFs, DOC, TXT, PPT, and I would like to show a
> > highlight, similar to how google does it...
> >
> > tia
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_157073_3833382.1157676632248--

From java-user-return-23250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 01:03:10 2006
Return-Path: <java-user-return-23250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70613 invoked from network); 8 Sep 2006 01:03:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 01:03:10 -0000
Received: (qmail 65900 invoked by uid 500); 8 Sep 2006 01:03:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64869 invoked by uid 500); 8 Sep 2006 01:03:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64857 invoked by uid 99); 8 Sep 2006 01:03:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 18:03:04 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO nz-out-0102.google.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 18:03:03 -0700
Received: by nz-out-0102.google.com with SMTP id z6so192580nzd
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 18:02:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=TrSHNJJJdU31jsQYCbCGUA6cRKEkH5Mk6ouucuXey/02Z+aMcBRGFjypvAyesSRshV1ou+9L7vuCg8csig0DAeIwpGTHUwm66yOMhASUEijnlCWGuOp1bVZ87hdrc2REnNqnMbsnF1x5wNjXSuaRzYlzb35FYCfO0eU4GZhE/UE=
Received: by 10.65.35.6 with SMTP id n6mr1166126qbj;
        Thu, 07 Sep 2006 18:02:42 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e10sm1335490qbe.2006.09.07.18.02.41;
        Thu, 07 Sep 2006 18:02:42 -0700 (PDT)
Message-ID: <4500C137.4000901@gmail.com>
Date: Thu, 07 Sep 2006 21:02:47 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Highligher Example
References: <1cbd6f830609071537i1ed9aacarbca4328b37517da3@mail.gmail.com>	 <6CB3BC1A-D50A-4DEB-A739-7613CBD052DC@ehatchersolutions.com> <1cbd6f830609071750s1f89446bh4ea0ad54b6a73218@mail.gmail.com>
In-Reply-To: <1cbd6f830609071750s1f89446bh4ea0ad54b6a73218@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Highlighting a PDF document, last time I looked (quite a while ago), 
involves supplying an xml file that describes offsets for highlighting. 
You can specify the file in the URL. You can also do simple highlighting 
by passing in a list of words to be highlighted, but this does not even 
catch minor differences, like singular to plural.

If someone knows more about using to the lucene highlighter to highlight 
PDF's then please speak up. I think I will have to get into this soon.

- Mark

Mag Gam wrote:
> Thanks for the quick response Erik. I will be getting my LIA book back 
> very
> soon, I forgot it at a destination :-(
>
> Lets assume, there is a document called "hello.pdf" and it has the 
> content
> "this is hello.pdf. It uses Acrobat"
>
> When I perform a search for "Acrobat", i want hello.pdf to show up, 
> and also
> the 'It uses <highlight>Acrobat</highlight>'
>
> something like that.
>
> tia
>
>
>
> On 9/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>>
>> There are test cases in the Highlighter codebase that exercise it and
>> show its use, as well as a few examples of it in the "Lucene in
>> Action" codebase.
>>
>> These examples output plain text with some prefix and suffix
>> surrounding the highlighted terms.  Highlighting text in a PDF is
>> possible, I'm pretty sure, but I don't think the same would be easily
>> possible with Microsoft document formats.  I'm not sure if you are
>> asking for these document types to be highlighted or just a plain
>> text representation of them, though.
>>
>>         Erik
>>
>> On Sep 7, 2006, at 6:37 PM, Mag Gam wrote:
>>
>> > Hey
>> >
>> > Anyone have a search result highlighter example?
>> >
>> > I have various doc, PDFs, DOC, TXT, PPT, and I would like to show a
>> > highlight, similar to how google does it...
>> >
>> > tia
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 01:05:24 2006
Return-Path: <java-user-return-23251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70854 invoked from network); 8 Sep 2006 01:05:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 01:05:23 -0000
Received: (qmail 66840 invoked by uid 500); 8 Sep 2006 01:05:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66802 invoked by uid 500); 8 Sep 2006 01:05:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66784 invoked by uid 99); 8 Sep 2006 01:05:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 18:05:17 -0700
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.242] (HELO web50309.mail.yahoo.com) (206.190.38.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 07 Sep 2006 18:05:16 -0700
Received: (qmail 81975 invoked by uid 60001); 8 Sep 2006 01:04:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=rdHcpaGwhf7qugnzbMlF2ijk8fF04H9BI2cJhLYiaUpwxrrNrvQB0G96O1wOb7pS8pQ21iX1ap5fN9Nf8NEACa8IRBsK9mf52uYwuJJ3Gc6/hhD4Gt8iWPWARS85updHMrlvk0dAylJml2N8YDFAkbL07VfAZjbYW/ECrNDKkU4=  ;
Message-ID: <20060908010455.81973.qmail@web50309.mail.yahoo.com>
Received: from [74.65.202.166] by web50309.mail.yahoo.com via HTTP; Thu, 07 Sep 2006 18:04:55 PDT
Date: Thu, 7 Sep 2006 18:04:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Using Hibernate to store Lucene Indexes in a Database
To: java-user@lucene.apache.org
In-Reply-To: <450085b6.23793ebf.31aa.5ba4@mx.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just a google away: http://www.google.com/search?q=3Dhibernate%20lucene%20s=
pring  Priceless!

Otis

----- Original Message ----
From: N=C3=A9stor Bosc=C3=A1n <nestorjb@gmail.com>
To: java-user@lucene.apache.org
Sent: Thursday, September 7, 2006 7:48:52 PM
Subject: Using Hibernate to store Lucene Indexes in a Database

Hi

=20

Has anybody seen a solution that will store Lucene indexes in a database
using Hibernate?. Basically a HibernateDirectory so I can store and retriev=
e
the indexes from a database?

=20

Regards,

=20

N=C3=A9stor Bosc=C3=A1n





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 01:26:54 2006
Return-Path: <java-user-return-23252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80762 invoked from network); 8 Sep 2006 01:26:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 01:26:52 -0000
Received: (qmail 81991 invoked by uid 500); 8 Sep 2006 01:26:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81835 invoked by uid 500); 8 Sep 2006 01:26:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81824 invoked by uid 99); 8 Sep 2006 01:26:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 18:26:46 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tansuwa@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 18:26:45 -0700
Received: by ug-out-1314.google.com with SMTP id y2so366673uge
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 18:26:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=l+4Ky0u3BzL8u1tHKdiQ+cqAVDbaq7m/QxYFjNA5OYpO6f3IU3/X3Yyrzja5rzB2/FEG2L9xb7q7NSSNra2mwObqw8PSPg07dTty/EVLE3CVnmFhjFiSc1OCx24Xc9RCyns1yHDT83vRkq4a3PvyCKz8NAogsQzVQUNaHKh0Zb0=
Received: by 10.66.244.11 with SMTP id r11mr772490ugh;
        Thu, 07 Sep 2006 18:26:23 -0700 (PDT)
Received: by 10.67.100.15 with HTTP; Thu, 7 Sep 2006 18:26:23 -0700 (PDT)
Message-ID: <d17b257e0609071826m4d35022dp1d491e8f24b36ed@mail.gmail.com>
Date: Fri, 8 Sep 2006 11:26:23 +1000
From: "Luke Tan" <tansuwa@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SpanRegexQuery causes error
In-Reply-To: <0F55BA85-CA19-4868-B2E4-D90FF599D385@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16046_33518480.1157678783385"
References: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com>
	 <0F55BA85-CA19-4868-B2E4-D90FF599D385@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16046_33518480.1157678783385
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

It's

spanFirst(spanRegexQuery(monthly:day * of every * months), 10)


java.lang.NullPointerException
java.lang.NullPointerException
    at java.util.Hashtable.get(Hashtable.java:336)
    at org.apache.lucene.index.MultiReader.norms(MultiReader.java:163)
    at org.apache.lucene.search.spans.SpanWeight.scorer(SpanWeight.java:70)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:129)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
    at org.apache.lucene.search.Searcher.search(Searcher.java:53)


On 9/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> What's the .toString on the query it parsed to?  Keep in mind that
> "*" isn't the proper regular expression to match everything - it
> would be ".*" or some other pattern.
>
>         Erik
>
>
> On Sep 7, 2006, at 7:41 AM, Luke Tan wrote:
>
> > Hi,
> >
> > I am using code in
> > http://mail-archives.apache.org/mod_mbox/lucene-java-user/
> > 200605.mbox/%
> > 3CBED850C725E74F47A0F69CC0EE9AB64D02BA6A9C@CORPUSMX40B.corp.emc.com%3E
> >
> > for wildcard search in phrase
> >
> > but it seems that I can only search something like:
> >
> > "one two three word*"
> >
> > but not
> >
> > "one * three word"
> >
> > It throws error:
> >
> >
> > java.lang.NullPointerException
> >    at java.util.Hashtable.get(Hashtable.java:336)
> >    at org.apache.lucene.index.MultiReader.norms(MultiReader.java:163)
> >    at org.apache.lucene.search.spans.SpanWeight.scorer
> > (SpanWeight.java:70)
> >    at org.apache.lucene.search.IndexSearcher.search
> > (IndexSearcher.java:129)
> >    at org.apache.lucene.search.IndexSearcher.search
> > (IndexSearcher.java:110)
> >    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> >    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> >    at org.apache.lucene.search.Searcher.search(Searcher.java:53)
> >
> > The query text is analyzed using this:
> >
> >        if (!StringUtils.isEmpty(queryText)) {
> >            if (queryText.indexOf("*") == 0 || queryText.indexOf
> > ("?") == 0)
> > return null;
> >
> >            if (queryText.indexOf(' ') != -1) {
> >                SpanRegexQuery srq = new SpanRegexQuery(new Term(field,
> > queryText));
> >                SpanFirstQuery sfq = new SpanFirstQuery(srq, 1);
> >                return sfq;
> >            }
> >        }
> > Query getFieldQuery(String field, String queryText) throws
> > ParseException
> >
> > Thanks
> > Luke
> > inside
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_16046_33518480.1157678783385--

From java-user-return-23253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 02:17:00 2006
Return-Path: <java-user-return-23253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88993 invoked from network); 8 Sep 2006 02:17:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 02:17:00 -0000
Received: (qmail 21636 invoked by uid 500); 8 Sep 2006 02:16:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21602 invoked by uid 500); 8 Sep 2006 02:16:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21591 invoked by uid 99); 8 Sep 2006 02:16:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 19:16:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO nz-out-0102.google.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 19:16:51 -0700
Received: by nz-out-0102.google.com with SMTP id z6so207795nzd
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 19:16:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=ne7VX1REihysDCpFsM9O9R09xVmhq8qofq+LzDKemB04IN8nXyjl/YiFVpONR46YKl3c7BTcVj63AVK4yDt2GuMso5ILKYJ5sBSTSNUXixzC+aU6R7qbFctHiGycfSNcm9JONrORYqbWV2R+ztQBSGcvxA1ewqoih5mu/85OBJw=
Received: by 10.35.132.13 with SMTP id j13mr1843712pyn;
        Thu, 07 Sep 2006 19:16:27 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id j4sm1376059nzd.2006.09.07.19.16.26;
        Thu, 07 Sep 2006 19:16:27 -0700 (PDT)
Message-ID: <003b01c6d2ec$c6894ec0$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
References: <001601c6d243$73ef1d10$0d01a8c0@client06> <44FFBAEF.7030801@nuix.com.au> <002101c6d249$7798b560$0d01a8c0@client06> <359a92830609070610s1fa6a830pc56d21de967f1157@mail.gmail.com>
Subject: Re: parameter create in IndexWriter
Date: Fri, 8 Sep 2006 10:16:18 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

IEkgc2VlLCB0aGFua3MsIEVyaWNrIQ0KIEkgd2lsbCBjaGFuZ2Ugc29tZSBhcmNoaXRlY3R1cmUg
b2Ygb3VyIGFwcGxpY2F0aW9uIGJlY2F1c2UgYW4gSW5kZXhXcml0ZXIgd2lsbCBiZSBrZXB0IG9w
ZW4gd2hlbiBwcm9ncmFtIGlzIHJ1bm5pbmcuDQoNCg0KICAgICBCZXN0IFJlZ2FyZHMuDQogICAg
ICAgamFja3kgIA0KICAgICAgIA0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206
ICJFcmljayBFcmlja3NvbiIgPGVyaWNrZXJpY2tzb25AZ21haWwuY29tPg0KVG86IDxqYXZhLXVz
ZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQpTZW50OiBUaHVyc2RheSwgU2VwdGVtYmVyIDA3LCAyMDA2
IDk6MTAgUE0NClN1YmplY3Q6IFJlOiBwYXJhbWV0ZXIgY3JlYXRlIGluIEluZGV4V3JpdGVyDQoN
Cg0KPiBTZWUgYmVsb3cuLi4NCj4gDQo+IE9uIDkvNy8wNiwgamFja3kgPGphY2t5Y2hlbnBAZ21h
aWwuY29tPiB3cm90ZToNCj4gPg0KPiA+ICAgICBJIGFtIGFmcmFpZCBpIGRvbid0IHVuZGVyc3Rh
bmQgaXQuDQo+ID4gICAgIElucHV0IHRoZSB3cm9uZyBwYXRoPyBUaGlzIHdpbGwgYmUgaGFwcGVu
IHJhcmVseSBzaW5jZSB0aGUgaW5kZXggcGF0aA0KPiA+IGlzIGFsd2F5cw0KPiA+IGhhcmQgY29k
ZSBpbiB0aGUgY29uZmlnIGZpbGUuDQo+IA0KPiANCj4gSW4geW91ciBhcHBsaWNhdGlvbiBtYXli
ZS4gYnV0IG5vdCB0aGUgZ2VuZXJhbCBjYXNlLiBJbiBhbnkgY2FzZSwgdGhpcyBpcw0KPiBvbmUg
b2YgdGhvc2UgZGVzaWduIGRlY2lzaW9ucyB0aGF0IG9uZSBjYW4gYXJndWUgd2l0aCwgYnV0IHRo
YXQgZG9lc24ndCBkbw0KPiBtdWNoIGdvb2QsIHNpbmNlIGl0IHdvcmtzIHRoZSB3YXkgaXQgZG9l
cy4NCj4gDQo+IFdoYXQgY29tcGxleGl0eT8gV2hhdCdzIHdyb25nIHdpdGgNCj4gDQo+IEluZGV4
V3JpdGVyIHdyaXRlciA9IG5ldyBJbmRleFdyaXRlcig8cGF0aCB0byBkaXJlY3Rvcnk+LCBhbmFs
eXplciwgIQ0KPiBJbmRleFJlYWRlci5pbmRleEV4aXN0cyg8cGF0aCB0byBkaXJlY3Rvcnk+KSk7
DQo+IA0KPiBUaGlzIGRvZXMgZXhhY3RseSB3aGF0IHlvdSB3YW50IHdpdGhvdXQgY3JlYXRpbmcg
cG90ZW50aWFsIHByb2JsZW1zIGJ5DQo+IGhhdmluZyBhc3N1bXB0aW9ucyBidWlpbHQgaW50byBM
dWNlbmUgdGhhdCB3aWxsIHRyaXAgdXAgb3RoZXJzLg0KPiANCj4gICAgIEFuZCB1c3VhbGx5LCB1
c2VycyBuZWVkIHRvIGNyZWF0ZSBhIGJyYW5kIG5ldyBpbmRleCwgYW5kIHRoZW4gYXBwZW5kIHRo
ZQ0KPiA+IG5ldyBkb2N1bWVudA0KPiA+IGludG8gaXQuDQo+IA0KPiANCj4gSSBkaXNhZ3JlZS4g
VGhpcyBpcyBhbiBhc3N1bXB0aW9uIHRoYXQgKnlvdSogYXJlIG1ha2luZyBpbiB5b3VyIHBhcnRp
Y3VsYXINCj4gcHJvYmxlbSBzcGFjZSwgYW5kIG1heSBvciBtYXkgbm90IGhhdmUgYW55IGFwcGxp
Y2FiaWxpdHkgdG8gb3RoZXJzLiBMdWNlbmUNCj4gaGFkIHRvIGJlIGRlc2lnbmVkIGluIGEgbW9y
ZSBnZW5lcmFsLXB1cnBvc2UgZmFzaGlvbi4NCj4gDQo+IFBlcnNvbmFsbHksIEknZCBmYWFhYWFh
YXIgcmF0aGVyIGdldCBhbiBJTyBleGNlcHRpb24gdGhhdCBJIGhhZCB0byBkZWFsIHdpdGgNCj4g
aW1tZWRpYXRlbHkgdGhhbiBzcGVuZCBob3Vycy9kYXlzIHdvbmRlcmluZyB3aHkgbXkgYXBwbGlj
YXRpb24gZGlkbid0IHdvcmsNCj4gd2hlbiB0aGUgY29uZmlndXJhdGlvbiBmaWxlIGhhZCBhIHR5
cG8uIE9yIEkgdHJhbnNmZXJlZCBhbiBpbmRleCB0byBhIG5ldw0KPiBtYWNoaW5lIGFuZCBkaWRu
J3QgZ2V0IHRoZSBwYXRoIHJpZ2h0LiBPciBkaWRuJ3QgZXZlbiBrbm93IHRoYXQgdGhlcmUgKndh
cyoNCj4gYSBjb25maWd1cmF0aW9uIGZpbGUgdGhhdCBJIGhhZCB0byBtYXRjaC4gT3IgZGlkbid0
IGtub3cgdGhhdCBzb21lb25lIGVsc2UNCj4gY2hhbmdlZCB0aGUgY29uZmlnIGZpbGUgd2hpbGUg
dGVzdGluZyBhbmQgZGlkbid0IGNoYW5nZSBpdCBiYWNrLiBPciBoYXZlIG15DQo+IGJpZyByZWxl
YXNlIG9jY3VyIGZvciBteSBjdXN0b21lciBhbmQgaGF2ZSBpdCBub3QgYmUgY29ycmVjdCBiZWNh
dXNlIEkNCj4gY3JlYXRlZCBhIG5ldyBpbmRleCB3aGVuIEkgbWVhbnQgdG8gYXBwZW5kIHRvIGFu
IG9sZCBvbmUgKGZvciBvbmUgb2YgdGhlDQo+IGFib3ZlIHJlYXNvbnMsIHBlcmhhcHMpLiBUaGVu
IGhhdmUgdG8gZmlndXJlIG91dCBob3cgdG8gY29tYmluZSB0aGUgaW5kZXhlcw0KPiBiZWNhdXNl
IEkgbm93IGhhdmUgdGhlIG9sZCBpbmRleCBzb21ld2hlcmUgYW5kIGEgc2VwYXJhdGUgbmV3IGlu
ZGV4IHRoYXQgSQ0KPiByZWFsbHkgZGlkbid0IHdhbnQuDQo+IA0KPiBJIGRvbid0IHdhbnQgdGhp
cyBraW5kIG9mIGhlYWRhY2hlIGJ1aWx0IGludG8gdGhlIHRvb2wuIElmIEkgY2hvb3NlIHRvIG1h
a2UNCj4gaXQgcGFydCBvZiBteSBhcHBsaWNhdGlvbiwgdGhhdCdzIG15IHByb2JsZW0sIGJ1dCBu
b3Qgc29tZXRoaW5nIEkgd2FudA0KPiBpbXBvc2VkIHVwb24gbWUuDQo+IA0KPiAgRXNwZWNpYWxs
eSB3aGVuIHRoZSBzb2x1dGlvbiBpcyBzbyBzdHJhaWdodC1mb3J3YXJkLg0KPiANCj4gQXMgeW91
IGNhbiBwcm9iYWJseSB0ZWxsLCBJJ3ZlIHNwZW50IHdhYWFhYXkgdG9vIG11Y2ggdGltZSBjaGFz
aW5nIGRvd24NCj4gcmVhbGx5IHN0dXBpZCBlcnJvcnMgdGhhdCBJJ3ZlIG1hZGUgYW5kIEknZCBy
YXRoZXIgaGF2ZSB0aGluZ3MgYmxvdyB1cA0KPiBpbW1lZGlhdGVseSB0aGFuIGZhaWwgc3VidGx5
Lg0KPiANCj4gQmVzdA0KPiBFcmljaw0KPiANCj4gICAgICBCZXN0IFJlZ2FyZHMuDQo+ID4gICAg
ICAgIGphY2t5DQo+ID4NCj4gPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQo+ID4gRnJv
bTogIkRhbmllbCBOb2xsIiA8ZGFuaWVsQG51aXguY29tLmF1Pg0KPiA+IFRvOiA8amF2YS11c2Vy
QGx1Y2VuZS5hcGFjaGUub3JnPg0KPiA+IFNlbnQ6IFRodXJzZGF5LCBTZXB0ZW1iZXIgMDcsIDIw
MDYgMjoyMyBQTQ0KPiA+IFN1YmplY3Q6IFJlOiBwYXJhbWV0ZXIgY3JlYXRlIGluIEluZGV4V3Jp
dGVyDQo+ID4NCj4gPg0KPiA+ID4gamFja3kgd3JvdGU6DQo+ID4gPiA+IGhpLA0KPiA+ID4gPiAg
ICBUb2RheSBJIGZvdW5kIGEgZnVubnkgdGhpbmcsIGlmICJjcmVhdGUiIHBhcmFtZXRlciBpbiBJ
bmRleFdyaXRlcg0KPiA+IHNldCBmYWxzZSwNCj4gPiA+ID4gYW5kIHRoZXJlIGlzIG5vIGluZGV4
IFNlZ2VtZW50cyBpbiB0aGUgRGlyZWN0b3J5IGJlZm9yZSwgdGhlbiBhbg0KPiA+IElPRXhjZXB0
aW9uIHdpbGwgYmUNCj4gPiA+ID4gdGhyb3duLg0KPiA+ID4gPiAgICBJIGFtIGNvbmZ1c2VkIHRo
YXQgd2h5IG5vdCB1c2luZyB0aGlzIGxvZ2ljIDogaWYgdGhlcmUgaXMgYQ0KPiA+IFNlZ21lbnRz
LCB0aGVuIGFwcGVuZCBpdCwgY3JlYXRlIGl0IG90aGVyd2lzZS4NCj4gPiA+ID4gICAgSSBrbm93
IHdlIGNhbiBkbyB0aGlzIGluIHRoZSBhcHBsaWNhdGlvbiwgYnV0IGl0IGlzIGNvbXBsZXgNCj4g
PiBzb21ldGltZXMuDQo+ID4gPg0KPiA+ID4gVGhlIHJlYXNvbiBpcyB0aGF0IGlmIHdlIGRvbid0
ICp3YW50KiB0byBjcmVhdGUgYSBuZXcgdGV4dCBpbmRleCAoZS5nLg0KPiA+ID4gaWYgdGhlIHVz
ZXIgZW50ZXJzIHRoZSB3cm9uZyBwYXRoIHRvIHRoZSBkYXRhKSB0aGVuIGl0IHNob3VsZG4ndCBi
ZQ0KPiA+ID4gY3JlYXRlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2UgaXQgd291bGQgcmVzdWx0IGlu
IHRyYXNoIGVuZGluZyB1cCBhbGwNCj4gPiA+IG92ZXIgdGhlIGhhcmQgZGlzay4NCj4gPiA+DQo+
ID4gPiBEYW5pZWwNCj4gPiA+DQo+ID4gPg0KPiA+ID4gLS0NCj4gPiA+IERhbmllbCBOb2xsDQo+
ID4gPg0KPiA+ID4gTnVpeCBQdHkgTHRkDQo+ID4gPiBTdWl0ZSA3OSwgODkgSm9uZXMgU3QsIFVs
dGltbyBOU1cgMjAwNywgQXVzdHJhbGlhICAgIFBoOiArNjEgMiA5MjgwIDA2OTkNCj4gPiA+IFdl
YjogaHR0cDovL3d3dy5udWl4LmNvbS5hdS8gICAgICAgICAgICAgICAgICAgICAgICBGYXg6ICs2
MSAyIDkyMTIgNjkwMg0KPiA+ID4NCj4gPiA+IFRoaXMgbWVzc2FnZSBpcyBpbnRlbmRlZCBvbmx5
IGZvciB0aGUgbmFtZWQgcmVjaXBpZW50LiBJZiB5b3UgYXJlIG5vdA0KPiA+ID4gdGhlIGludGVu
ZGVkIHJlY2lwaWVudCB5b3UgYXJlIG5vdGlmaWVkIHRoYXQgZGlzY2xvc2luZywgY29weWluZywN
Cj4gPiA+IGRpc3RyaWJ1dGluZyBvciB0YWtpbmcgYW55IGFjdGlvbiBpbiByZWxpYW5jZSBvbiB0
aGUgY29udGVudHMgb2YgdGhpcw0KPiA+ID4gbWVzc2FnZSBvciBhdHRhY2htZW50IGlzIHN0cmlj
dGx5IHByb2hpYml0ZWQuDQo+ID4gPg0KPiA+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+ID4gPiBUbyB1bnN1
YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcN
Cj4gPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1
Y2VuZS5hcGFjaGUub3JnDQo+ID4gPg0KPiA=



From java-user-return-23254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 06:23:49 2006
Return-Path: <java-user-return-23254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32426 invoked from network); 8 Sep 2006 06:23:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 06:23:43 -0000
Received: (qmail 56740 invoked by uid 500); 8 Sep 2006 06:23:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55725 invoked by uid 500); 8 Sep 2006 06:23:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55714 invoked by uid 99); 8 Sep 2006 06:23:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 23:23:36 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 07 Sep 2006 23:23:34 -0700
Received: by py-out-1112.google.com with SMTP id w49so538225pyg
        for <java-user@lucene.apache.org>; Thu, 07 Sep 2006 23:23:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:subject:date:mime-version:content-type:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=OrtNO+gANT+OscUP8AuV7j4cegtqtJEM9PYUndSH4jNiAozkEDp4f7KNC40BLBrm+1teWN6eUYAqOcm3AQa8T2rVOUgHruHTlW/ks4YGOxETbi4hfvW2TbCQWFrrE2SXdcw49BT4RY+r6FSCiJYxD5GhbxofooeHjN8uWP4G+UU=
Received: by 10.35.84.12 with SMTP id m12mr2211472pyl;
        Thu, 07 Sep 2006 23:23:13 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id 60sm1316646pyg.2006.09.07.23.23.12;
        Thu, 07 Sep 2006 23:23:13 -0700 (PDT)
Message-ID: <000c01c6d30f$3ed16bc0$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
Subject: duplicate fields
Date: Fri, 8 Sep 2006 14:23:02 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0009_01C6D352.4AF8DBC0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0009_01C6D352.4AF8DBC0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

aGksDQogICAxLiBJcyB0aGVyZSBhbiBlZmZlY3QgbWV0aG9kIHRvIGNoZWNrIGlmIHRoZXJlIGV4
aXN0cyB0aGUgc2FtZSBmaWVsZChob2xkIGEgdW5pcXVlIElEKSB3aGVuIGFkZGVkIGludG8gbHVj
ZW5lIGluZGV4IGRhdGFiYXNlPyBNYWtlIGEgc2VhcmNoIGZvciB0aGlzIGZpZWxkPw0KICAgMi4g
SXMgdGhlcmUgYW4gZWZmZWN0IG1ldGhvZCB0byBjaGVjayBpZiB0aGVyZSBleGlzdHMgdGhlIGR1
cGxpY2F0ZSBmaWVsZHMoaG9sZCBhIHVuaXF1ZSBJRCkgaW4gdGhlIGx1Y2VuZSBpbmRleCBkYXRh
YmFzZT8NCiAgICAgIFR3byBtZXRob2RzOiBSZWFkIGFsbCBkb2N1bWVudHMgYW5kIGNvbXBhcmUg
dGhlIGZpZWxkcywgb3Igc2VhcmNoIGZvciBlYWNoIGZpZWxkLiAgSXMgdGhlcmUgYSBiZXR0ZXIg
b25lPw0KDQogICBUaGFua3MgZm9yIHlvdXIgaGVscCENCg0KICAgICBCZXN0IFJlZ2FyZHMuDQog
ICAgICAgamFja3kgIA0KICAgICAgIA==

------=_NextPart_000_0009_01C6D352.4AF8DBC0--


From java-user-return-23255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 07:11:13 2006
Return-Path: <java-user-return-23255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42779 invoked from network); 8 Sep 2006 07:11:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 07:11:13 -0000
Received: (qmail 8504 invoked by uid 500); 8 Sep 2006 07:11:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8485 invoked by uid 500); 8 Sep 2006 07:11:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8474 invoked by uid 99); 8 Sep 2006 07:11:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:11:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:11:05 -0700
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 4B468B762B
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 17:09:57 +1000 (EST)
Message-ID: <450116E6.5000708@nuix.com.au>
Date: Fri, 08 Sep 2006 17:08:22 +1000
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20060907)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: duplicate fields
References: <000c01c6d30f$3ed16bc0$0d01a8c0@client06>
In-Reply-To: <000c01c6d30f$3ed16bc0$0d01a8c0@client06>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

jacky wrote:
> hi, 1. Is there an effect method to check if there exists the same 
> field(hold a unique ID) when added into lucene index database? Make a
> search for this field?

One way is to create an IndexReader and IndexSearcher on your index, 
which you reopen every now and then.  But we do this task by using a 
separate database, for the sake of efficiency.

> 2. Is there an effect method to check if there exists the duplicate
> fields(hold a unique ID) in the lucene index database? Two methods:
> Read all documents and compare the fields, or search for each field.
> Is there a better one?

The simplest way without using an external database is to use the 
termDocs enumeration.  For each term you can easily see which ones have 
multiple documents, so every document other than the first for each term 
is a duplicate (which you could then use to build a filter to remove 
duplicates.)

Daniel



-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 07:28:07 2006
Return-Path: <java-user-return-23256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52591 invoked from network); 8 Sep 2006 07:28:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 07:28:06 -0000
Received: (qmail 30140 invoked by uid 500); 8 Sep 2006 07:28:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29754 invoked by uid 500); 8 Sep 2006 07:27:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29743 invoked by uid 99); 8 Sep 2006 07:27:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:27:58 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:27:53 -0700
Received: by py-out-1112.google.com with SMTP id w49so557304pyg
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 00:27:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:subject:date:mime-version:content-type:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=DHsVMi4QDKEZ4JcASxkm23XOS2zr69kld2X1Lrnoom8eAmp/ISJOC/ypMKUJg/DDT6C5sZHj+1f/OzmpWofF2o7bOSMqZgvXYRi/+G+1lwgWIljFYf1ug7HLlAs+g0rIwh7iq/qLfdZWmoGbzcSe2BElgKnbszjIIoW1baovwNU=
Received: by 10.35.96.7 with SMTP id y7mr2315706pyl;
        Fri, 08 Sep 2006 00:27:31 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id k13sm1381932pyf.2006.09.08.00.27.30;
        Fri, 08 Sep 2006 00:27:30 -0700 (PDT)
Message-ID: <002101c6d318$3a327920$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
Subject: delete operation
Date: Fri, 8 Sep 2006 15:27:20 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001E_01C6D35B.46611510"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001E_01C6D35B.46611510
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

aGksDQogIFRoZXJlIGlzIGEgcXVlc3Rpb24gYWJvdXQgZGVsZXRlIG9wZXJhdGlvbiwgaSBoYXZl
IG5vdCBmb3VuZCAgYW55IGRvYyBpbiBsdWNlbmUgYXBpJ3MgamF2YWRvYzoNCiAgIFdoZW4gdXNp
bmcgZGVsZXRlKFRlcm0gdGVybSkgb2YgSW5kZXhSZWFkZXIgYW5kIGNvbW1pdCwgYXQgdGhlIHNh
bWUgdGltZSwgYW4gaW5kZXhTZWFyY2hlciBpcyBvcGVuLlNvIHRoZSBkZWxldGVkIGRvY3VtZW50
IHN0aWxsIGNhbiBiZSBzZWFjaGVkIHRpbGwgcmVvcGVuIHRoZSBpbmRleFNlYXJjaGVyLCBpIGRv
bid0IGtub3cgaG93IGx1Y2VuZSBkaWQgdGhpcy4NCiAgU28gIHdoZW4gdGhlIGx1Y2VuZSBkYXRh
YmFzZSBpcyB1cGRhdGVkLCBob3cgdG8gbm90aWZ5IHRvIHJlb3BlbiB0aGUgSW5kZXhTZWFyY2hl
ciBzaW5jZSB0aGVyZSBtYXkgYmUgc2V2ZXJhbCBhcHBsaWNhdGlvbnMgdG8gc2VhcmNoIHRoaXMg
bHVjZW5lIGRhdGFiYXNlPw0KICAgIA0KDQogICAgIEJlc3QgUmVnYXJkcy4NCiAgICAgICBqYWNr
eSAgDQogICAgICAg

------=_NextPart_000_001E_01C6D35B.46611510--


From java-user-return-23257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 07:39:35 2006
Return-Path: <java-user-return-23257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55570 invoked from network); 8 Sep 2006 07:39:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 07:39:28 -0000
Received: (qmail 47620 invoked by uid 500); 8 Sep 2006 07:39:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47527 invoked by uid 500); 8 Sep 2006 07:39:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47516 invoked by uid 99); 8 Sep 2006 07:39:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:39:20 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MIME_BASE64_TEXT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jackychenp@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO py-out-1112.google.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:39:17 -0700
Received: by py-out-1112.google.com with SMTP id w49so560656pyg
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 00:38:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=kKzC00WwUE7WRKadEVJBz7y0y7PufiMgcMSFyOp4uufA67m571pJL1UD1nB3pgH+AoS5I7Nag8Nb/px3Yqui7ZTprVX7zQvaKHkV53dRqbsde0/U9IIHaCk+eq9blUDctb1nl/776giZgkexz6qbDYsesN/rjAS73HlxaQK5UHY=
Received: by 10.35.53.18 with SMTP id f18mr2319629pyk;
        Fri, 08 Sep 2006 00:38:56 -0700 (PDT)
Received: from client06 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id m39sm1380582pye.2006.09.08.00.38.55;
        Fri, 08 Sep 2006 00:38:56 -0700 (PDT)
Message-ID: <003201c6d319$d2a83540$0d01a8c0@client06>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
References: <000c01c6d30f$3ed16bc0$0d01a8c0@client06> <450116E6.5000708@nuix.com.au>
Subject: Re: duplicate fields
Date: Fri, 8 Sep 2006 15:38:46 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

aGkgRGFuaWVsLA0KICAgSG93IGRvIHlvdSB1c2UgYSBzZXBhcmF0ZSBkYXRhYmFzZSB0byBjaGVj
ayB0aGUgZHVwbGljYXRlIGZpZWxkcz8gIEl0IGlzIGludGVyZXN0aW5nIQ0KIA0KICAgICBCZXN0
IFJlZ2FyZHMuDQogICAgICAgamFja3kgIA0KICAgICAgIA0KLS0tLS0gT3JpZ2luYWwgTWVzc2Fn
ZSAtLS0tLSANCkZyb206ICJEYW5pZWwgTm9sbCIgPGRhbmllbEBudWl4LmNvbS5hdT4NClRvOiA8
amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KU2VudDogRnJpZGF5LCBTZXB0ZW1iZXIgMDgs
IDIwMDYgMzowOCBQTQ0KU3ViamVjdDogUmU6IGR1cGxpY2F0ZSBmaWVsZHMNCg0KDQo+IGphY2t5
IHdyb3RlOg0KPiA+IGhpLCAxLiBJcyB0aGVyZSBhbiBlZmZlY3QgbWV0aG9kIHRvIGNoZWNrIGlm
IHRoZXJlIGV4aXN0cyB0aGUgc2FtZSANCj4gPiBmaWVsZChob2xkIGEgdW5pcXVlIElEKSB3aGVu
IGFkZGVkIGludG8gbHVjZW5lIGluZGV4IGRhdGFiYXNlPyBNYWtlIGENCj4gPiBzZWFyY2ggZm9y
IHRoaXMgZmllbGQ/DQo+IA0KPiBPbmUgd2F5IGlzIHRvIGNyZWF0ZSBhbiBJbmRleFJlYWRlciBh
bmQgSW5kZXhTZWFyY2hlciBvbiB5b3VyIGluZGV4LCANCj4gd2hpY2ggeW91IHJlb3BlbiBldmVy
eSBub3cgYW5kIHRoZW4uICBCdXQgd2UgZG8gdGhpcyB0YXNrIGJ5IHVzaW5nIGEgDQo+IHNlcGFy
YXRlIGRhdGFiYXNlLCBmb3IgdGhlIHNha2Ugb2YgZWZmaWNpZW5jeS4NCj4gDQo+ID4gMi4gSXMg
dGhlcmUgYW4gZWZmZWN0IG1ldGhvZCB0byBjaGVjayBpZiB0aGVyZSBleGlzdHMgdGhlIGR1cGxp
Y2F0ZQ0KPiA+IGZpZWxkcyhob2xkIGEgdW5pcXVlIElEKSBpbiB0aGUgbHVjZW5lIGluZGV4IGRh
dGFiYXNlPyBUd28gbWV0aG9kczoNCj4gPiBSZWFkIGFsbCBkb2N1bWVudHMgYW5kIGNvbXBhcmUg
dGhlIGZpZWxkcywgb3Igc2VhcmNoIGZvciBlYWNoIGZpZWxkLg0KPiA+IElzIHRoZXJlIGEgYmV0
dGVyIG9uZT8NCj4gDQo+IFRoZSBzaW1wbGVzdCB3YXkgd2l0aG91dCB1c2luZyBhbiBleHRlcm5h
bCBkYXRhYmFzZSBpcyB0byB1c2UgdGhlIA0KPiB0ZXJtRG9jcyBlbnVtZXJhdGlvbi4gIEZvciBl
YWNoIHRlcm0geW91IGNhbiBlYXNpbHkgc2VlIHdoaWNoIG9uZXMgaGF2ZSANCj4gbXVsdGlwbGUg
ZG9jdW1lbnRzLCBzbyBldmVyeSBkb2N1bWVudCBvdGhlciB0aGFuIHRoZSBmaXJzdCBmb3IgZWFj
aCB0ZXJtIA0KPiBpcyBhIGR1cGxpY2F0ZSAod2hpY2ggeW91IGNvdWxkIHRoZW4gdXNlIHRvIGJ1
aWxkIGEgZmlsdGVyIHRvIHJlbW92ZSANCj4gZHVwbGljYXRlcy4pDQo+IA0KPiBEYW5pZWwNCj4g
DQo+IA0KPiANCj4gLS0gDQo+IERhbmllbCBOb2xsDQo+IA0KPiBOdWl4IFB0eSBMdGQNCj4gU3Vp
dGUgNzksIDg5IEpvbmVzIFN0LCBVbHRpbW8gTlNXIDIwMDcsIEF1c3RyYWxpYSAgICBQaDogKzYx
IDIgOTI4MCAwNjk5DQo+IFdlYjogaHR0cDovL3d3dy5udWl4LmNvbS5hdS8gICAgICAgICAgICAg
ICAgICAgICAgICBGYXg6ICs2MSAyIDkyMTIgNjkwMg0KPiANCj4gVGhpcyBtZXNzYWdlIGlzIGlu
dGVuZGVkIG9ubHkgZm9yIHRoZSBuYW1lZCByZWNpcGllbnQuIElmIHlvdSBhcmUgbm90DQo+IHRo
ZSBpbnRlbmRlZCByZWNpcGllbnQgeW91IGFyZSBub3RpZmllZCB0aGF0IGRpc2Nsb3NpbmcsIGNv
cHlpbmcsDQo+IGRpc3RyaWJ1dGluZyBvciB0YWtpbmcgYW55IGFjdGlvbiBpbiByZWxpYW5jZSBv
biB0aGUgY29udGVudHMgb2YgdGhpcw0KPiBtZXNzYWdlIG9yIGF0dGFjaG1lbnQgaXMgc3RyaWN0
bHkgcHJvaGliaXRlZC4NCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1t
YWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcN
Cj4g



From java-user-return-23258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 07:46:02 2006
Return-Path: <java-user-return-23258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57423 invoked from network); 8 Sep 2006 07:45:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 07:45:47 -0000
Received: (qmail 55206 invoked by uid 500); 8 Sep 2006 07:45:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55117 invoked by uid 500); 8 Sep 2006 07:45:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55104 invoked by uid 99); 8 Sep 2006 07:45:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:45:40 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:45:39 -0700
Received: (qmail 6779 invoked by uid 509); 8 Sep 2006 09:45:14 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.113484 secs); 08 Sep 2006 07:45:14 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.113484 secs Process 6773)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 8 Sep 2006 09:45:14 +0200
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6D31A.B82A65D4"
Subject: Changing the Scoring api for OR parameters
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Fri, 8 Sep 2006 09:45:13 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C024F912C@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Changing the Scoring api for OR parameters
Thread-Index: AcbTGre2jrH4+CcTSvaUryjFM0ldCQ==
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6D31A.B82A65D4
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hi everyone,

=20

I want to override the default scoring when it comes to queries
containing the OR operator.

=20

For example if I got the following headlines in my index :

"Sun sues Microsoft"

"Microsoft want to buy Tiscali"

".NU domain sues Microsoft"

"The sun is shining"

"Sun brings antitrust suit against Microsoft"

=20

Those documents have been boosted in desc fashion ("Sun sues Microsoft"
has higher calculated norm value then "Sun brings antirust suit against
Microsoft"),=20

The similarity class that has been used has made the norm values to be
exactly as the boost value ( I have even modified the norm to be a float
so I won't loose precision ).

=20

If I perform a search for: Microsoft OR Sun

=20

The topranked results will almost certainly be:

Sun sues Microsoft

Sun Brings antitrust suit against Microsoft

....

=20

I just want the documents returned like this:

"Sun sues Microsoft"

"Microsoft want to buy Tiscali"

".NU domain sues Microsoft"

"The sun is shining"

"Sun brings antitrust suit against Microsoft"

=20

I have to get this to work since I'm indexing news material and the
customers are only interested in the newest articles ( so the date of
the article is being used as a boost factor).

=20

Any ideas? My rank changes to lucene works as expected when it comes to
AND operator and single term queries.

=20

/

Regards

=20

Marcus Falck=20

=20


------_=_NextPart_001_01C6D31A.B82A65D4--

From java-user-return-23259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 07:57:12 2006
Return-Path: <java-user-return-23259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60230 invoked from network); 8 Sep 2006 07:57:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 07:57:06 -0000
Received: (qmail 72889 invoked by uid 500); 8 Sep 2006 07:56:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72863 invoked by uid 500); 8 Sep 2006 07:56:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72852 invoked by uid 99); 8 Sep 2006 07:56:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:56:59 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hefest@gmail.com designates 66.249.82.236 as permitted sender)
Received: from [66.249.82.236] (HELO wx-out-0506.google.com) (66.249.82.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 00:56:58 -0700
Received: by wx-out-0506.google.com with SMTP id s15so519735wxc
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 00:56:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=JpOH7mkFGG2qF/z9GiZoFla6/cNCd8eK7txztcTclvT22PfVk56qoLzvyg00hDj1GDWsei2pcxhwRqUQvKU9wrzYdOsDq23TutatFobZ0qsH6hQS7w/uV8OsBDYtun5diBVsQa6clMqDPz5F59CB/L3dVyM4Cg53y1LQ9ja+5Z4=
Received: by 10.90.120.6 with SMTP id s6mr526236agc;
        Fri, 08 Sep 2006 00:56:37 -0700 (PDT)
Received: by 10.90.75.3 with HTTP; Fri, 8 Sep 2006 00:56:37 -0700 (PDT)
Message-ID: <d487eb8e0609080056tad2ff5dvc7c2e87199fd5853@mail.gmail.com>
Date: Fri, 8 Sep 2006 09:56:37 +0200
From: "Tomi NA" <hefest@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing MS Powerpoint files with Lucene
In-Reply-To: <45001E8B.5010906@getopt.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <5d5204510609051914n245cabdfo6e27b931bc991846@mail.gmail.com>
	 <OFB22B7831.F2B442E5-ON882571E1.001ABDAE-882571E1.001AFB45@il.ibm.com>
	 <6185039.post@talk.nabble.com>
	 <d487eb8e0609070330p645cbb56hbd24946844cedd3a@mail.gmail.com>
	 <Pine.LNX.4.64.0609071302441.14898@localhost.localdomain>
	 <d487eb8e0609070522m46a50833obd7ad0e76b27c021@mail.gmail.com>
	 <45001E8B.5010906@getopt.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/7/06, Andrzej Bialecki <ab@getopt.org> wrote:
> Tomi NA wrote:
> > On 9/7/06, Nick Burch <nick@torchbox.com> wrote:
> >> On Thu, 7 Sep 2006, Tomi NA wrote:
> >> > On 9/7/06, Venkateshprasanna <prasannahmv@yahoo.co.in> wrote:
> >> >> Is there any filter available for extracting text from MS
> >> Powerpoint files
> >> >> and indexing them?
> >> >> The lucene website suggests the POI project, which, it seems does not
> >> >> support PPT files as of now.
> >> >
> >> > http://jakarta.apache.org/poi/hslf/index.html
> >> >
> >> > It doesn't say poi doesn't support ppt. It just says support is
> >> limited.
> >> > Don't know exactly how limited, but certainly not useless for indexing
> >> > purposes.
> >>
> >> Support for editing and adding things to PowerPoint files is limited, as
> >> is getting out the finer points of fonts and positioning.
> >
> > Which brings me to another (off)topic: can lucene/nutch assign
> > different weights to tokens in the same document field? An obvious
> > example would be: "this text seems to be in large, bold, blinking
> > letters: I'll assume it's more important than the surrounding 8px
> > text."
>
> No, it can't (at least not yet). As a workaround you can extract these
> portions of text to another field (or multiple fields), and then add
> them with a higher boost. Then, expand your queries so that they include
> also this field. This way, if query matches these special tokens,
> results will get higher rank because of matching on this boosted field.

I thought a workaround like that would be needed. Still, it could give
useful results...though as a nutch user, the possibility is mostly
theoretical for me, as probably none of the existing parsers take into
account the formatting information. I could be completely wrong here,
so please, feel free to correct me.

t.n.a.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 08:27:17 2006
Return-Path: <java-user-return-23260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67916 invoked from network); 8 Sep 2006 08:27:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 08:27:17 -0000
Received: (qmail 18305 invoked by uid 500); 8 Sep 2006 08:27:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18272 invoked by uid 500); 8 Sep 2006 08:27:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18259 invoked by uid 99); 8 Sep 2006 08:27:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 01:27:10 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.221] (HELO web26010.mail.ukl.yahoo.com) (217.12.10.221)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 08 Sep 2006 01:27:08 -0700
Received: (qmail 21641 invoked by uid 60001); 8 Sep 2006 08:26:46 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=szvPlYoanGMj6xJc5HS54Xqf9kNR/nDfRxA5cMESa5K8XGNhL0nXZ2LjVt3zF/7ap/eTK5q9gNvo7UnKasWKY8f5zo3IJtSDhQlTEzKy8L5+UHB9w+KD+UOJAjZkxPtgisin4w0SnOTZH55/YXsdNmwaEe4cOA011GFpL25CzCU=  ;
Message-ID: <20060908082646.21639.qmail@web26010.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26010.mail.ukl.yahoo.com via HTTP; Fri, 08 Sep 2006 08:26:46 GMT
Date: Fri, 8 Sep 2006 08:26:46 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Reply-To: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Highligher Example
To: java-user@lucene.apache.org
In-Reply-To: <4500C137.4000901@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you have a budget for this stuff then Stellent provide tools for parsing multiple document types and also have a viewer that can display documents with their original formatting, plus your highlights. See http://www.stellent.com/en/products/outside_in/viewer_tech/index.htm

I don't work for Stellent and haven't used it but I do know this stuff is hard to do and they are the only ones I'm aware of trying to provide tools to cover all document types which is why I mention it. If anyone has any other similar recommendations I would be interested to hear them.


----- Original Message ----
From: Mark Miller <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Sent: Friday, 8 September, 2006 2:02:47 AM
Subject: Re: Highligher Example

Highlighting a PDF document, last time I looked (quite a while ago), 
involves supplying an xml file that describes offsets for highlighting. 
You can specify the file in the URL. You can also do simple highlighting 
by passing in a list of words to be highlighted, but this does not even 
catch minor differences, like singular to plural.

If someone knows more about using to the lucene highlighter to highlight 
PDF's then please speak up. I think I will have to get into this soon.

- Mark

Mag Gam wrote:
> Thanks for the quick response Erik. I will be getting my LIA book back 
> very
> soon, I forgot it at a destination :-(
>
> Lets assume, there is a document called "hello.pdf" and it has the 
> content
> "this is hello.pdf. It uses Acrobat"
>
> When I perform a search for "Acrobat", i want hello.pdf to show up, 
> and also
> the 'It uses <highlight>Acrobat</highlight>'
>
> something like that.
>
> tia
>
>
>
> On 9/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>>
>> There are test cases in the Highlighter codebase that exercise it and
>> show its use, as well as a few examples of it in the "Lucene in
>> Action" codebase.
>>
>> These examples output plain text with some prefix and suffix
>> surrounding the highlighted terms.  Highlighting text in a PDF is
>> possible, I'm pretty sure, but I don't think the same would be easily
>> possible with Microsoft document formats.  I'm not sure if you are
>> asking for these document types to be highlighted or just a plain
>> text representation of them, though.
>>
>>         Erik
>>
>> On Sep 7, 2006, at 6:37 PM, Mag Gam wrote:
>>
>> > Hey
>> >
>> > Anyone have a search result highlighter example?
>> >
>> > I have various doc, PDFs, DOC, TXT, PPT, and I would like to show a
>> > highlight, similar to how google does it...
>> >
>> > tia
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 09:57:53 2006
Return-Path: <java-user-return-23261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92297 invoked from network); 8 Sep 2006 09:57:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 09:57:53 -0000
Received: (qmail 81407 invoked by uid 500); 8 Sep 2006 09:57:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81282 invoked by uid 500); 8 Sep 2006 09:57:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81271 invoked by uid 99); 8 Sep 2006 09:57:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 02:57:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.73.153.71] (HELO uksmtp02.informa.com) (62.73.153.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 02:57:44 -0700
Received: from ukexfe01.UK.CorpLAN.net (ukexfe01.uk.corplan.net [10.10.28.15])
	by uksmtp02.informa.com (8.13.6/8.13.6) with ESMTP id k889p5KE006583
	for <java-user@lucene.apache.org>; Fri, 8 Sep 2006 10:51:05 +0100
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by ukexfe01.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 8 Sep 2006 10:57:22 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Preventing short documents from being boosted
Date: Fri, 8 Sep 2006 10:57:21 +0100
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F586@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Preventing short documents from being boosted
Thread-Index: AcbTLS2F4fV24ROSQzOUZFo7LOWOtQ==
From: "Wright, Tim" <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 08 Sep 2006 09:57:22.0374 (UTC) FILETIME=[2DE6FE60:01C6D32D]
X-Proofpoint-Virus-Version: vendor=fsecure engine=4.65.5431:2.3.11,1.2.37,4.0.164 definitions=2006-09-08_01:2006-09-05,2006-09-06,2006-09-08 signatures=0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,=20

We have an issue where around 10-20% of our documents are much shorter
(only a paragraph or so of text) than all the rest. Because Lucene
considers document length when indexing, most of the time these shorter
documents end up being scored higher than the longer ones.=20

We'd prefer it if we could remove the length factor, or at least reduce
the weight of it so that we returned a mixture of long and short
documents. Is there a simple way of doing this? I've considered applying
a document boost based on length, but I'm not quite sure of the equation
I'd have to use to "counter" the innate prioritisation of short
documents.

Cheers,

Tim.

---------------------------------------------------------------------------=
-----------------------------------------------------------------
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 10:32:53 2006
Return-Path: <java-user-return-23262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 350 invoked from network); 8 Sep 2006 10:32:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 10:32:52 -0000
Received: (qmail 26242 invoked by uid 500); 8 Sep 2006 10:32:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26142 invoked by uid 500); 8 Sep 2006 10:32:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26131 invoked by uid 99); 8 Sep 2006 10:32:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 03:32:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.111.4.26] (HELO out2.smtp.messagingengine.com) (66.111.4.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 03:32:37 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id D58ADDA5553
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 06:32:14 -0400 (EDT)
Received: from heartbeat1.internal ([10.202.2.160])
  by frontend3.internal (MEProxy); Fri, 08 Sep 2006 06:32:15 -0400
X-Sasl-enc: 28l4fDQOK1TjwVeg2PSHPOBLH+Xx2R104dpLqOqzPpkH 1157711534
Received: from [10.17.4.3] (pool-72-70-33-153.bstnma.fios.verizon.net [72.70.33.153])
	by mail.messagingengine.com (Postfix) with ESMTP id DEC1B8FBB
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 06:32:14 -0400 (EDT)
Message-ID: <450146A6.2050105@mikemccandless.com>
Date: Fri, 08 Sep 2006 06:32:06 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 2.0a1 (X11/20060724)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: delete operation
References: <002101c6d318$3a327920$0d01a8c0@client06>
In-Reply-To: <002101c6d318$3a327920$0d01a8c0@client06>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

jacky wrote:
>   There is a question about delete operation, i have not found  any doc in lucene api's javadoc:
>    When using delete(Term term) of IndexReader and commit, at the same time, an indexSearcher is open.So the deleted document still can be seached till reopen the indexSearcher, i don't know how lucene did this.
>   So  when the lucene database is updated, how to notify to reopen the IndexSearcher since there may be several applications to search this lucene database?

Lucene doesn't actually have any builtin ability to "notify" all other
searchers that they should re-open.  So you have to do this part yourself.

However, the IndexReader class has an "isCurrent()" method, which you
could periodically call (say once every N minutes or something) to check
if it's time to re-open.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 10:47:26 2006
Return-Path: <java-user-return-23263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4007 invoked from network); 8 Sep 2006 10:47:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 10:47:25 -0000
Received: (qmail 43042 invoked by uid 500); 8 Sep 2006 10:47:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42455 invoked by uid 500); 8 Sep 2006 10:47:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42444 invoked by uid 99); 8 Sep 2006 10:47:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 03:47:19 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.199.37.133] (HELO rediff.co.in) (203.199.37.133)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 08 Sep 2006 03:47:17 -0700
Received: (qmail 10276 invoked from network); 8 Sep 2006 10:43:54 -0000
Received: from unknown (HELO bhavin) (172.16.3.11)
  by mailserver with SMTP; 8 Sep 2006 10:43:54 -0000
Message-ID: <003201c6d335$f8739690$0b0310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <00f701c6cc16$79f16d90$0b0310ac@bhavin> <44F56A7E.5060503@mikemccandless.com> <001901c6cc33$c75d3290$0b0310ac@bhavin> <44F64A08.1080209@mikemccandless.com> <001401c6ccbf$893db3e0$0b0310ac@bhavin> <44F81B92.3090909@mikemccandless.com>
Subject: Re: read past EOF
Date: Fri, 8 Sep 2006 16:30:17 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mike,

> It sounds like you're working with the index correctly, so I don't have 
> any other ideas on why you're getting CFS files that are truncated.  I 
> would wory about the "cp" step filling up disk, but if you're nowhere near 
> filling up disk that's not the root cause here.
>

I have found the cause of this problem... You were right .....
Its because at perticular point of time my hard disk got full so It 
currupted index at that time but after that because of some batch process 
disk becomes empty enough so I was not able to find continuous exception 
like "no space left"...but when i gone through all the log i tracked it 
sucessfully.

Thanks for your help....

- Bhavin pandya

----- Original Message ----- 
From: "Michael McCandless" <lucene@mikemccandless.com>
To: <java-user@lucene.apache.org>
Sent: Friday, September 01, 2006 5:07 PM
Subject: Re: read past EOF


>
>> Yes I am sure only one writer at a time accessing index.
>>
>> no i am not getting any other exception.
>>
>> and there is no problem of disk space also.
>>
>> right now i have backcopy of indexes so whenever one index got corrupted 
>> i m replacing with backup one and starting the indexer again from that 
>> duration.
>>
>> Here is the script which i am using to move index after its built.
>>
>> - rm -rf backupindex/*
>> - mv index backupindex;
>> - mv newindex index;
>> - mkdir newindex
>> - cp -dpR index/* newindex/
>> - touch index.done
>> - echo "done";
>>
>> where "newindex" is the index which I am using for indexing...."index" 
>> which i am using for search purpose....and "backupindex" contains 
>> previous index.
>
> It sounds like you're working with the index correctly, so I don't have 
> any other ideas on why you're getting CFS files that are truncated.  I 
> would wory about the "cp" step filling up disk, but if you're nowhere near 
> filling up disk that's not the root cause here.
>
> Does this happen intermittantly?  Or it happened once and now it's gone? 
> Or is it easy to reproduce?
>
>> Is there any way through which  I can check if index is corrupt or 
>> not....right now because of this exception (read past EOF ) i made few 
>> changes in my code to check for corrupt index. But i am checking for 
>> corrupt index through optimizing...If in optimization of index i m 
>> getting IOException I am considering that index got corrupted or there is 
>> permission issue..
>
> That's a great question.  I don't know of existing tools for doing this 
> (anyone else?).  Running optimize is likely a good test, so long as 
> there's more than 1 segment before optimize (so that it actually does 
> something).
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 11:31:08 2006
Return-Path: <java-user-return-23264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16235 invoked from network); 8 Sep 2006 11:31:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 11:31:08 -0000
Received: (qmail 2086 invoked by uid 500); 8 Sep 2006 11:31:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1418 invoked by uid 500); 8 Sep 2006 11:31:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1406 invoked by uid 99); 8 Sep 2006 11:31:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 04:31:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 04:30:59 -0700
Received: from [10.65.253.200] (cnlpvpn.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.15764357@mailer.syr.edu>; Fri, 8 Sep 2006 7:30:37 -0400
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F586@UKEXBE01.UK.CorpLAN.net>
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F586@UKEXBE01.UK.CorpLAN.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <73EE4EFD-361B-4709-8336-3CFCC7BDCAC8@syr.edu>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@syr.edu>
Subject: Re: Preventing short documents from being boosted
Date: Fri, 8 Sep 2006 07:30:36 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://www.gossamer-threads.com/lists/lucene/java-user/38967#38967

-Grant

On Sep 8, 2006, at 5:57 AM, Wright, Tim wrote:

> Hi all,
>
> We have an issue where around 10-20% of our documents are much shorter
> (only a paragraph or so of text) than all the rest. Because Lucene
> considers document length when indexing, most of the time these  
> shorter
> documents end up being scored higher than the longer ones.
>
> We'd prefer it if we could remove the length factor, or at least  
> reduce
> the weight of it so that we returned a mixture of long and short
> documents. Is there a simple way of doing this? I've considered  
> applying
> a document boost based on length, but I'm not quite sure of the  
> equation
> I'd have to use to "counter" the innate prioritisation of short
> documents.
>
> Cheers,
>
> Tim.
>
> ---------------------------------------------------------------------- 
> ----------------------------------------------------------------------
> The information contained in this email message may be  
> confidential. If you are not the intended recipient, any use,  
> interference with, disclosure or copying of this material is  
> unauthorised and prohibited. Although this message and any  
> attachments are believed to be free of viruses, no responsibility  
> is accepted by Informa for any loss or damage arising in any way  
> from receipt or use thereof.  Messages to and from the company are  
> monitored for operational reasons and in accordance with lawful  
> business practices.
> If you have received this message in error, please notify us by  
> return and delete the message and any attachments.  Further  
> enquiries/returns can be sent to postmaster@informa.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
Sr. Software Engineer
Center for Natural Language Processing
Syracuse University
335 Hinds Hall
Syracuse, NY 13244
http://www.cnlp.org

Voice: 315-443-5484
Skype: grant_ingersoll
Fax: 315-443-6886




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 11:35:09 2006
Return-Path: <java-user-return-23265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17135 invoked from network); 8 Sep 2006 11:35:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 11:35:09 -0000
Received: (qmail 6392 invoked by uid 500); 8 Sep 2006 11:35:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6364 invoked by uid 500); 8 Sep 2006 11:35:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6352 invoked by uid 99); 8 Sep 2006 11:35:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 04:35:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of simon.willnauer@googlemail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 04:34:57 -0700
Received: by ug-out-1314.google.com with SMTP id y2so477831uge
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 04:34:35 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=TJqtYq/ER5zkRvWe4Lg5/65syoQ3R5OadWVn66tsqhC32KoJe9nErlC/CkYDOZ8Kq4Cj4O76qZGVvfFH1U/Ncz/d96BAH9uP2hqjmiPzRNEa18kHIT0V3p9sB1fpCpHVIrvwqI8wm6Gk+ekVeLRo4GkIiFe1YCGm5xdxq4lgDJU=
Received: by 10.67.119.13 with SMTP id w13mr994619ugm;
        Fri, 08 Sep 2006 04:34:35 -0700 (PDT)
Received: by 10.67.22.3 with HTTP; Fri, 8 Sep 2006 04:34:35 -0700 (PDT)
Message-ID: <f18c9dde0609080434n7adedf63m5cbb0e93e764d968@mail.gmail.com>
Date: Fri, 8 Sep 2006 13:34:35 +0200
From: "Simon Willnauer" <simon.willnauer@googlemail.com>
Reply-To: simon.willnauer@gmail.com
To: java-user@lucene.apache.org
Subject: Re: delete operation
In-Reply-To: <450146A6.2050105@mikemccandless.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <002101c6d318$3a327920$0d01a8c0@client06>
	 <450146A6.2050105@mikemccandless.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

An other way to prevent your indexsearch from reopened everytime you
delete an document is to use a global delete filter which excludes all
deleted documents from being retrieved e.g. included in your search
results. That won't work with updates without using a buffer or
something similar but if you have to deal only with deletes a filter
would do the job and the indexsearcher will remain open until you
commit an update or insert (thats what you would call it in a db
context, remember lucene is a reverse index not a database).

best regards simon

On 9/8/06, Michael McCandless <lucene@mikemccandless.com> wrote:
> jacky wrote:
> >   There is a question about delete operation, i have not found  any doc in lucene api's javadoc:
> >    When using delete(Term term) of IndexReader and commit, at the same time, an indexSearcher is open.So the deleted document still can be seached till reopen the indexSearcher, i don't know how lucene did this.
> >   So  when the lucene database is updated, how to notify to reopen the IndexSearcher since there may be several applications to search this lucene database?
>
> Lucene doesn't actually have any builtin ability to "notify" all other
> searchers that they should re-open.  So you have to do this part yourself.
>
> However, the IndexReader class has an "isCurrent()" method, which you
> could periodically call (say once every N minutes or something) to check
> if it's time to re-open.
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 11:59:30 2006
Return-Path: <java-user-return-23266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22557 invoked from network); 8 Sep 2006 11:59:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 11:59:30 -0000
Received: (qmail 39935 invoked by uid 500); 8 Sep 2006 11:59:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39634 invoked by uid 500); 8 Sep 2006 11:59:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39623 invoked by uid 99); 8 Sep 2006 11:59:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 04:59:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.111.4.26] (HELO out2.smtp.messagingengine.com) (66.111.4.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 04:59:22 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id C971EDA550C
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 07:59:00 -0400 (EDT)
Received: from heartbeat1.internal ([10.202.2.160])
  by frontend3.internal (MEProxy); Fri, 08 Sep 2006 07:59:00 -0400
X-Sasl-enc: cme0XNaC4Y8DGbkuRN29BKrw0b60DG/4DLgzNbg6aB4b 1157716741
Received: from [10.17.4.3] (pool-72-70-33-153.bstnma.fios.verizon.net [72.70.33.153])
	by mail.messagingengine.com (Postfix) with ESMTP id 7E03D8FED
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 07:59:01 -0400 (EDT)
Message-ID: <45015AE0.5050907@mikemccandless.com>
Date: Fri, 08 Sep 2006 07:58:24 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 2.0a1 (X11/20060724)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: read past EOF
References: <00f701c6cc16$79f16d90$0b0310ac@bhavin> <44F56A7E.5060503@mikemccandless.com> <001901c6cc33$c75d3290$0b0310ac@bhavin> <44F64A08.1080209@mikemccandless.com> <001401c6ccbf$893db3e0$0b0310ac@bhavin> <44F81B92.3090909@mikemccandless.com> <003201c6d335$f8739690$0b0310ac@bhavin>
In-Reply-To: <003201c6d335$f8739690$0b0310ac@bhavin>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Bhavin Pandya wrote:

>> It sounds like you're working with the index correctly, so I don't 
>> have any other ideas on why you're getting CFS files that are 
>> truncated.  I would wory about the "cp" step filling up disk, but if 
>> you're nowhere near filling up disk that's not the root cause here.
>>
> 
> I have found the cause of this problem... You were right .....
> Its because at perticular point of time my hard disk got full so It 
> currupted index at that time but after that because of some batch 
> process disk becomes empty enough so I was not able to find continuous 
> exception like "no space left"...but when i gone through all the log i 
> tracked it sucessfully.

Phew!  Glad to hear you got down to the root cause and that in fact that 
root cause was "outside" of Lucene :)

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 12:05:12 2006
Return-Path: <java-user-return-23267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23841 invoked from network); 8 Sep 2006 12:05:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 12:05:04 -0000
Received: (qmail 47243 invoked by uid 500); 8 Sep 2006 12:04:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47216 invoked by uid 500); 8 Sep 2006 12:04:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47205 invoked by uid 99); 8 Sep 2006 12:04:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 05:04:57 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 05:04:56 -0700
Received: (qmail 22351 invoked by uid 509); 8 Sep 2006 14:04:33 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.066322 secs); 08 Sep 2006 12:04:33 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.066322 secs Process 22345)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 8 Sep 2006 14:04:32 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: Using Hibernate to store Lucene Indexes in a Database
Date: Fri, 8 Sep 2006 14:04:32 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0252C035@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Using Hibernate to store Lucene Indexes in a Database
Thread-Index: AcbS2CyJrHSN1e9NRXKI3oV9SmKv0gAZpt0Q
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I cant understand why you are interested in storing the directory in a =
database using hibernate. It seems to me like you are trying to mix 2 =
good techniques in a destructive way.




-----Ursprungligt meddelande-----
Fr=E5n: N=E9stor Bosc=E1n [mailto:nestorjb@gmail.com]=20
Skickat: den 8 september 2006 01:49
Till: java-user@lucene.apache.org
=C4mne: Using Hibernate to store Lucene Indexes in a Database

Hi

=20

Has anybody seen a solution that will store Lucene indexes in a database
using Hibernate?. Basically a HibernateDirectory so I can store and =
retrieve
the indexes from a database?

=20

Regards,

=20

N=E9stor Bosc=E1n




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 12:17:24 2006
Return-Path: <java-user-return-23268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28552 invoked from network); 8 Sep 2006 12:17:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 12:17:24 -0000
Received: (qmail 65338 invoked by uid 500); 8 Sep 2006 12:17:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65267 invoked by uid 500); 8 Sep 2006 12:17:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65235 invoked by uid 99); 8 Sep 2006 12:17:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 05:17:08 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 05:17:07 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k88CGdKD036193
	for <java-user@lucene.apache.org>; Fri, 8 Sep 2006 14:16:39 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200609081216.k88CGdKD036193@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Using Hibernate to store Lucene Indexes in a Database
Date: Fri, 8 Sep 2006 14:16:34 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbS2CyJrHSN1e9NRXKI3oV9SmKv0gAZpt0QAABuAwA=
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C0252C035@S1SE1MAIL.emea1.ad.group>
X-Scanned-By: MIMEDefang 2.57 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

HI Marcus,
Somehow I like your wording..
Can't stop replying you.=20
Jelda

> -----Original Message-----
> From: Marcus Falck [mailto:marcus.falck@observer.se]=20
> Sent: Friday, September 08, 2006 2:05 PM
> To: java-user@lucene.apache.org
> Subject: SV: Using Hibernate to store Lucene Indexes in a Database
>=20
> I cant understand why you are interested in storing the=20
> directory in a database using hibernate. It seems to me like=20
> you are trying to mix 2 good techniques in a destructive way.
>=20
>=20
>=20
>=20
> -----Ursprungligt meddelande-----
> Fr=E5n: N=E9stor Bosc=E1n [mailto:nestorjb@gmail.com]
> Skickat: den 8 september 2006 01:49
> Till: java-user@lucene.apache.org
> =C4mne: Using Hibernate to store Lucene Indexes in a Database
>=20
> Hi
>=20
> =20
>=20
> Has anybody seen a solution that will store Lucene indexes in=20
> a database using Hibernate?. Basically a HibernateDirectory=20
> so I can store and retrieve the indexes from a database?
>=20
> =20
>=20
> Regards,
>=20
> =20
>=20
> N=E9stor Bosc=E1n
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 13:03:49 2006
Return-Path: <java-user-return-23269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45247 invoked from network); 8 Sep 2006 13:03:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 13:03:49 -0000
Received: (qmail 19963 invoked by uid 500); 8 Sep 2006 13:03:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19693 invoked by uid 500); 8 Sep 2006 13:03:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19682 invoked by uid 99); 8 Sep 2006 13:03:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 06:03:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.202.165.230] (HELO smtpout07-04.prod.mesa1.secureserver.net) (64.202.165.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 08 Sep 2006 06:03:40 -0700
Received: (qmail 30001 invoked from network); 8 Sep 2006 13:03:18 -0000
Received: from unknown (67.125.22.212)
  by smtpout07-04.prod.mesa1.secureserver.net (64.202.165.233) with ESMTP; 08 Sep 2006 13:03:17 -0000
From: "Dejan Nenov" <dejannenov@jollyobject.com>
To: <java-user@lucene.apache.org>,
	"'mark harwood'" <markharw00d@yahoo.co.uk>
Subject: RE: Highligher Example
Date: Fri, 8 Sep 2006 06:04:13 -0700
Message-ID: <007501c6d347$48ae9ea0$a280a8c0@safarijv.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <20060908082646.21639.qmail@web26010.mail.ukl.yahoo.com>
thread-index: AcbTIJbbFO4qSN6KQRayWaz3hNZwwAAJmHYg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Second that - I was a client of Stellent - the libs work great but are
expensive. To see Stellent in action - get a copy of the free X1 desktop
search or the X1 server (Lucene based).
Another alternative is KeyView from Verity - now Autonomy.

-----Original Message-----
From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
Sent: Friday, September 08, 2006 1:27 AM
To: java-user@lucene.apache.org
Subject: Re: Highligher Example

If you have a budget for this stuff then Stellent provide tools for parsing
multiple document types and also have a viewer that can display documents
with their original formatting, plus your highlights. See
http://www.stellent.com/en/products/outside_in/viewer_tech/index.htm

I don't work for Stellent and haven't used it but I do know this stuff is
hard to do and they are the only ones I'm aware of trying to provide tools
to cover all document types which is why I mention it. If anyone has any
other similar recommendations I would be interested to hear them.


----- Original Message ----
From: Mark Miller <markrmiller@gmail.com>
To: java-user@lucene.apache.org
Sent: Friday, 8 September, 2006 2:02:47 AM
Subject: Re: Highligher Example

Highlighting a PDF document, last time I looked (quite a while ago), 
involves supplying an xml file that describes offsets for highlighting. 
You can specify the file in the URL. You can also do simple highlighting 
by passing in a list of words to be highlighted, but this does not even 
catch minor differences, like singular to plural.

If someone knows more about using to the lucene highlighter to highlight 
PDF's then please speak up. I think I will have to get into this soon.

- Mark

Mag Gam wrote:
> Thanks for the quick response Erik. I will be getting my LIA book back 
> very
> soon, I forgot it at a destination :-(
>
> Lets assume, there is a document called "hello.pdf" and it has the 
> content
> "this is hello.pdf. It uses Acrobat"
>
> When I perform a search for "Acrobat", i want hello.pdf to show up, 
> and also
> the 'It uses <highlight>Acrobat</highlight>'
>
> something like that.
>
> tia
>
>
>
> On 9/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>>
>> There are test cases in the Highlighter codebase that exercise it and
>> show its use, as well as a few examples of it in the "Lucene in
>> Action" codebase.
>>
>> These examples output plain text with some prefix and suffix
>> surrounding the highlighted terms.  Highlighting text in a PDF is
>> possible, I'm pretty sure, but I don't think the same would be easily
>> possible with Microsoft document formats.  I'm not sure if you are
>> asking for these document types to be highlighted or just a plain
>> text representation of them, though.
>>
>>         Erik
>>
>> On Sep 7, 2006, at 6:37 PM, Mag Gam wrote:
>>
>> > Hey
>> >
>> > Anyone have a search result highlighter example?
>> >
>> > I have various doc, PDFs, DOC, TXT, PPT, and I would like to show a
>> > highlight, similar to how google does it...
>> >
>> > tia
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 14:29:02 2006
Return-Path: <java-user-return-23270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89607 invoked from network); 8 Sep 2006 14:29:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 14:29:01 -0000
Received: (qmail 60293 invoked by uid 500); 8 Sep 2006 14:28:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60256 invoked by uid 500); 8 Sep 2006 14:28:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60245 invoked by uid 99); 8 Sep 2006 14:28:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:28:54 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nestorjb@gmail.com designates 64.233.184.229 as permitted sender)
Received: from [64.233.184.229] (HELO wr-out-0506.google.com) (64.233.184.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:28:53 -0700
Received: by wr-out-0506.google.com with SMTP id i5so172493wra
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 07:28:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-mailer:x-mimeole:in-reply-to:thread-index:message-id;
        b=UUt6NGQhN3sPBc0CaaZ5ZMM86/K/13/d65jFKLDb6orDp0UQ9tUYEdjgaQgsiQM+1l0srpuLkPYn5YadiGOXIUIEA+5Pvcn3WqrdkulxRDTfnH70BaFEYWv40TOTTwu8W/VISAN8CcNFjAH57YAbhbB6aMucvloQffwUddHJU4s=
Received: by 10.90.105.19 with SMTP id d19mr747296agc;
        Fri, 08 Sep 2006 07:28:31 -0700 (PDT)
Received: from nboscan ( [200.109.36.133])
        by mx.gmail.com with ESMTP id 38sm571705wrl.2006.09.08.07.28.30;
        Fri, 08 Sep 2006 07:28:31 -0700 (PDT)
From: =?iso-8859-1?Q?N=E9stor_Bosc=E1n?= <nestorjb@gmail.com>
To: <java-user@lucene.apache.org>
Subject: RE: Using Hibernate to store Lucene Indexes in a Database
Date: Fri, 8 Sep 2006 10:28:32 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C0252C035@S1SE1MAIL.emea1.ad.group>
Thread-Index: AcbS2CyJrHSN1e9NRXKI3oV9SmKv0gAZpt0QAAtLZvA=
Message-ID: <45017e0f.3dd32722.3eb4.ffffc563@mx.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

To reduce administration tasks. If you want to move your application =
from
server to server you'll have to move the index files. I want to be able =
to
move my application by just moving my database schema and deploying an =
ear.

Regards,

N=E9stor Bosc=E1n

-----Mensaje original-----
De: Marcus Falck [mailto:marcus.falck@observer.se]=20
Enviado el: Viernes, 08 de Septiembre de 2006 05:05 a.m.
Para: java-user@lucene.apache.org
Asunto: SV: Using Hibernate to store Lucene Indexes in a Database

I cant understand why you are interested in storing the directory in a
database using hibernate. It seems to me like you are trying to mix 2 =
good
techniques in a destructive way.




-----Ursprungligt meddelande-----
Fr=E5n: N=E9stor Bosc=E1n [mailto:nestorjb@gmail.com]=20
Skickat: den 8 september 2006 01:49
Till: java-user@lucene.apache.org
=C4mne: Using Hibernate to store Lucene Indexes in a Database

Hi

=20

Has anybody seen a solution that will store Lucene indexes in a database
using Hibernate?. Basically a HibernateDirectory so I can store and =
retrieve
the indexes from a database?

=20

Regards,

=20

N=E9stor Bosc=E1n




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 14:33:56 2006
Return-Path: <java-user-return-23271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90969 invoked from network); 8 Sep 2006 14:33:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 14:33:54 -0000
Received: (qmail 79313 invoked by uid 500); 8 Sep 2006 14:33:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79291 invoked by uid 500); 8 Sep 2006 14:33:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79279 invoked by uid 99); 8 Sep 2006 14:33:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:33:47 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nestorjb@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:33:45 -0700
Received: by py-out-1112.google.com with SMTP id w49so684434pyg
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 07:33:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-mailer:x-mimeole:in-reply-to:thread-index:message-id;
        b=YzqwxAEKD2ya78bt+2W8xH6uYuUFvxMU9w/MtAjofGJeSVMnTQVdf7LQ3+LC2O+o2/36MSNTBDmGbBFC0EP0aO62RvAwaESaLI7MuhkuoNyKrmKpXamucnw8JusgBHzKXGc2KO8u6Za6FpmCPErYqEpM+MUsAEKeEvB2re+Dtek=
Received: by 10.90.113.20 with SMTP id l20mr751992agc;
        Fri, 08 Sep 2006 07:33:24 -0700 (PDT)
Received: from nboscan ( [200.109.36.133])
        by mx.gmail.com with ESMTP id 14sm502074wrl.2006.09.08.07.33.23;
        Fri, 08 Sep 2006 07:33:24 -0700 (PDT)
From: =?iso-8859-1?Q?N=E9stor_Bosc=E1n?= <nestorjb@gmail.com>
To: <java-user@lucene.apache.org>
Subject: RE: Using Hibernate to store Lucene Indexes in a Database
Date: Fri, 8 Sep 2006 10:33:21 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
In-Reply-To: 
Thread-Index: AcbS2CyJrHSN1e9NRXKI3oV9SmKv0gAZpt0QAAtLZvAAADUXQA==
Message-ID: <45017f34.292f910e.0b29.ffff9915@mx.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Also if you want to backup your application you just backup the =
database.

Regards,

N=E9stor Bosc=E1n

-----Mensaje original-----
De: N=E9stor Bosc=E1n [mailto:nestorjb@gmail.com]=20
Enviado el: Viernes, 08 de Septiembre de 2006 10:29 a.m.
Para: 'java-user@lucene.apache.org'
Asunto: RE: Using Hibernate to store Lucene Indexes in a Database

To reduce administration tasks. If you want to move your application =
from
server to server you'll have to move the index files. I want to be able =
to
move my application by just moving my database schema and deploying an =
ear.

Regards,

N=E9stor Bosc=E1n

-----Mensaje original-----
De: Marcus Falck [mailto:marcus.falck@observer.se]=20
Enviado el: Viernes, 08 de Septiembre de 2006 05:05 a.m.
Para: java-user@lucene.apache.org
Asunto: SV: Using Hibernate to store Lucene Indexes in a Database

I cant understand why you are interested in storing the directory in a
database using hibernate. It seems to me like you are trying to mix 2 =
good
techniques in a destructive way.




-----Ursprungligt meddelande-----
Fr=E5n: N=E9stor Bosc=E1n [mailto:nestorjb@gmail.com]=20
Skickat: den 8 september 2006 01:49
Till: java-user@lucene.apache.org
=C4mne: Using Hibernate to store Lucene Indexes in a Database

Hi

=20

Has anybody seen a solution that will store Lucene indexes in a database
using Hibernate?. Basically a HibernateDirectory so I can store and =
retrieve
the indexes from a database?

=20

Regards,

=20

N=E9stor Bosc=E1n




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 14:34:06 2006
Return-Path: <java-user-return-23272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91037 invoked from network); 8 Sep 2006 14:34:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 14:34:06 -0000
Received: (qmail 80714 invoked by uid 500); 8 Sep 2006 14:33:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80687 invoked by uid 500); 8 Sep 2006 14:33:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80676 invoked by uid 99); 8 Sep 2006 14:33:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:33:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:33:57 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AC68A30EFCD7; Fri,  8 Sep 2006 10:33:34 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id C2BB530EFCD5
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 10:33:31 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <d17b257e0609071826m4d35022dp1d491e8f24b36ed@mail.gmail.com>
References: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com> <0F55BA85-CA19-4868-B2E4-D90FF599D385@ehatchersolutions.com> <d17b257e0609071826m4d35022dp1d491e8f24b36ed@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A80FDE2F-FB70-4BCB-BF1F-123B89DA4D42@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SpanRegexQuery causes error
Date: Fri, 8 Sep 2006 10:33:31 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 7, 2006, at 9:26 PM, Luke Tan wrote:
> spanFirst(spanRegexQuery(monthly:day * of every * months), 10)

What analyzer did you use for your text?   Again, that is not a valid  
regular expression.   But also, you're using a single long string of  
several words within your SpanRegexQuery term.  What you probably  
want is a SpanNearQuery of those fixed terms along with a ".*"  
SpanRegexQuery in the wildcarded spots, and then you could nest that  
inside a SpaneFirstQuery.

> java.lang.NullPointerException
> java.lang.NullPointerException
>    at java.util.Hashtable.get(Hashtable.java:336)
>    at org.apache.lucene.index.MultiReader.norms(MultiReader.java:163)
>    at org.apache.lucene.search.spans.SpanWeight.scorer 
> (SpanWeight.java:70)
>    at org.apache.lucene.search.IndexSearcher.search 
> (IndexSearcher.java:129)
>    at org.apache.lucene.search.IndexSearcher.search 
> (IndexSearcher.java:110)
>    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
>    at org.apache.lucene.search.Searcher.search(Searcher.java:53)


It's likely a bug that you get this particular error, but I think  
you'll get around it by solving the above mentioned issues with your  
query.

	Erik




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 14:57:39 2006
Return-Path: <java-user-return-23273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98473 invoked from network); 8 Sep 2006 14:57:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 14:57:39 -0000
Received: (qmail 34070 invoked by uid 500); 8 Sep 2006 14:57:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34041 invoked by uid 500); 8 Sep 2006 14:57:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34030 invoked by uid 99); 8 Sep 2006 14:57:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:57:32 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.199.122.2] (HELO mainsequence.net) (65.199.122.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 07:57:28 -0700
Received: from 127.0.0.1 ([68.164.221.250])
	by mainsequence.net (mainsequence.net)
	(MDaemon.PRO.v7.2.0.R)
	with ESMTP id md50002584734.msg
	for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 10:57:04 -0400
Reply-To: Chris Salem <chris@mainsequence.net>
From: Chris Salem <chris@mainsequence.net>
To: java-user@lucene.apache.org
CC: 
Subject: FWD: Re: parser question
Date: Fri, 08 Sep 2006 14:57:01 -0000
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: PCRecruiter Emulation of Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: PCRecruiter Emulation of Microsoft MimeOLE V6.00.2800.1441
MIME-Version: 1.0
Content-Type: multipart/alternative;
      boundary="----=_pcrC7998529E40B458FA20D691C80A9C791section1-b1"
X-Spam-Processed: mainsequence.net, Fri, 08 Sep 2006 10:57:04 -0400
	(not processed: message from valid local sender)
X-MDRemoteIP: 68.164.221.250
X-Return-Path: chris@mainsequence.net
X-MDaemon-Deliver-To: java-user@lucene.apache.org
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060908145731.5C4CB10FB001@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_pcrC7998529E40B458FA20D691C80A9C791section1-b1
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

any help with this?



Chris Salem
440.946.5214 x5458
chris@mainsequence.net 

----- Forwarded Message ----- 
To: Mark Miller <markrmiller@gmail.com>
From: Chris Salem <chris@mainsequence.net>
Sent: Wed 9/6/2006 3:58:49 PM
Subject: Re: parser question


its an index of 10 fields and about 10,000 records.



Chris Salem
440.946.5214 x5458
chris@mainsequence.net 

----- Original Message ----- 
To: Chris Salem <chris@mainsequence.net>
From: Mark Miller <markrmiller@gmail.com>
Sent: Wed 9/6/2006 2:32:24 PM
Subject: Re: parser question


What are you using as a test index?

- Mark

Chris Salem wrote:
> yes its ANDing them. Doing the query 'software engineer', 'software 
> OR engineer', 'software AND engineer' all return the same results. 
> the generated queries for them respectively are '(field:software 
> field:engineer)', '(field:software field:engineer)' and 
> '(+field:software +field:engineer)'. I do set the default operator to 
> AND and i'm using the MultiFieldQueryParser if that makes a difference 
> (it was doing the same thing with the QueryParser as well).
>
>
> Chris Salem
> 440.946.5214 x5458
> chris@mainsequence.net <mailto:chris@mainsequence.net>
> 
>
> ----- Original Message -----
> *To:* java-user@lucene.apache.org
> *From:* Mark Miller <markrmiller@gmail.com
> <mailto:markrmiller@gmail.com>>
> *Sent:* Wed 9/6/2006 12:57:44 PM
> *Subject:* Re: parser question
>
> Are you sure it is anding them?
>
> field:software field:engineer
>
> indicates an OR operation.
>
> +field:software +field:engineer
>
> indicates an AND operation.
>
> - Mark
>
>
>
>
>
> Chris Salem wrote:
> > i set the default operator to AND, but if i have a query with an
> OR in it it doesn't work, for example, if i have the query
> 'software OR engineer' the parser interprets it as 'field:software
> field:engineer' and AND's them. how would i fix this?
> >
> >
> > Chris Salem
> > 440.946.5214 x5458
> > chris@mainsequence.net
> >
> > ----- Original Message -----
> > To: java-user@lucene.apache.org
> > From: Mark Miller <markrmiller@gmail.com>
> > Sent: Tue 9/5/2006 5:38:50 PM
> > Subject: Re: parser question
> >
> >
> > QueryParser.setDefaultOperator(Operator op)
> >
> > Chris Salem wrote:
> >
> >> With all the parsers I have tried a space in a query, such as
> doing a search for "sales manager", interprets the space as an OR,
> is there a way to change it so that it interprets a space as an AND?
> >>
> >>
> >> Chris Salem
> >> 440.946.5214 x5458
> >> chris@mainsequence.net
> >>
> >> (The following links were included with this email:)
> >> mailto:chris@mainsequence.net
> >>
> >>
> >>
> >> (The following links were included with this email:)
> >> mailto:chris@mainsequence.net
> >>
> >>
> >>
> >>
> >>
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> > (The following links were included with this email:)
> > mailto:chris@mainsequence.net
> >
> > mailto:markrmiller@gmail.com
> >
> >
> >
> > (The following links were included with this email:)
> > mailto:chris@mainsequence.net
> >
> > mailto:markrmiller@gmail.com
> >
> >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

(The following links were included with this email:)
mailto:chris@mainsequence.net

mailto:chris@mainsequence.net

mailto:chris@mainsequence.net

mailto:markrmiller@gmail.com



(The following links were included with this email:)
mailto:chris@mainsequence.net

mailto:chris@mainsequence.net

mailto:chris@mainsequence.net

mailto:markrmiller@gmail.com



------=_pcrC7998529E40B458FA20D691C80A9C791section1-b1--




From java-user-return-23274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 15:25:40 2006
Return-Path: <java-user-return-23274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9160 invoked from network); 8 Sep 2006 15:25:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 15:25:38 -0000
Received: (qmail 88686 invoked by uid 500); 8 Sep 2006 15:25:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88664 invoked by uid 500); 8 Sep 2006 15:25:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88653 invoked by uid 99); 8 Sep 2006 15:25:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 08:25:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [205.158.62.199] (HELO ws6-3.us4.outblaze.com) (205.158.62.199)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 08 Sep 2006 08:25:29 -0700
Received: (qmail 13912 invoked from network); 8 Sep 2006 15:28:30 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@67.38.2.237)
  by ws6-3.us4.outblaze.com with SMTP; 8 Sep 2006 15:28:30 -0000
Message-ID: <45018B53.5090405@curtin.com>
Date: Fri, 08 Sep 2006 11:25:07 -0400
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: FWD: Re: parser question
References: <20060908145731.5C4CB10FB001@asf.osuosl.org>
In-Reply-To: <20060908145731.5C4CB10FB001@asf.osuosl.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If your question is why are the queries
	'(field:software field:engineer)'
and
	'(+field:software +field:engineer)'
returning the same results, it could be because none of your documents have 
*only* "software" *or* "engineer", i.e. they all have both words or neither. 
You could test this theory with a db containing only the 4 documents below 
(one per line):

other unrelated words
the software
the engineer
the software engineer

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 17:41:44 2006
Return-Path: <java-user-return-23275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51663 invoked from network); 8 Sep 2006 17:41:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 17:41:35 -0000
Received: (qmail 94479 invoked by uid 500); 8 Sep 2006 17:41:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93558 invoked by uid 500); 8 Sep 2006 17:41:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93547 invoked by uid 99); 8 Sep 2006 17:41:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 10:41:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of simon.willnauer@googlemail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 10:41:26 -0700
Received: by ug-out-1314.google.com with SMTP id y2so576372uge
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 10:41:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=pBEXf0c8qYtIN/eUs9QfT//L/NMrZc3mEF89siDeNjwnoO03rF+Ym//7NOq9fFdERS+9qbAYniaQzPjZkDvo5r8OdRrhbzzveTGy4miNtPTHmCUthUjUpqO1N7y+eE3B7Zlc2JSEnfIjBmvim4AFJ0bO64BgLvbM2n1xZFPu3sU=
Received: by 10.67.97.18 with SMTP id z18mr1224636ugl;
        Fri, 08 Sep 2006 10:41:05 -0700 (PDT)
Received: by 10.67.22.3 with HTTP; Fri, 8 Sep 2006 10:41:05 -0700 (PDT)
Message-ID: <f18c9dde0609081041s7267b180s6e67d858414e8849@mail.gmail.com>
Date: Fri, 8 Sep 2006 19:41:05 +0200
From: "Simon Willnauer" <simon.willnauer@googlemail.com>
Reply-To: simon.willnauer@gmail.com
To: java-user@lucene.apache.org
Subject: Re: how to index rdf/owl file using lucene
In-Reply-To: <20060907183509.7777.qmail@web39808.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <20060907183509.7777.qmail@web39808.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just curious!
RDF / OWL is xml right?! So just download the next best xml api or use
java build in dom / sax whatever and extract the content you want to
index, create your fields and pass the created document to the index
writer. there you go.

best regards Simon

On 9/7/06, khgcutg hsowhj <hemanbegins3@yahoo.com> wrote:
> Hi All,
>
>     How can we index RDF/OWL file, can anyone provide a small example or related papers or any kind of literature to index and search rdf/owl file using lucene.Any kind of help is appreciated.
>
>   Regards,
>   phani.
>
>
>
>
> ---------------------------------
> Get your email and more, right on the  new Yahoo.com
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 17:43:31 2006
Return-Path: <java-user-return-23276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52314 invoked from network); 8 Sep 2006 17:43:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 17:43:29 -0000
Received: (qmail 98523 invoked by uid 500); 8 Sep 2006 17:43:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98498 invoked by uid 500); 8 Sep 2006 17:43:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98486 invoked by uid 99); 8 Sep 2006 17:43:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 10:43:15 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.11.98 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.11.98] (HELO pne-smtpout1-sn1.fre.skanova.net) (81.228.11.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 10:43:14 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn1.fre.skanova.net (7.2.076)
        id 45011B7B0002DAD4 for java-user@lucene.apache.org; Fri, 8 Sep 2006 19:42:52 +0200
Subject: Re: delete operation
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <002101c6d318$3a327920$0d01a8c0@client06>
References: <002101c6d318$3a327920$0d01a8c0@client06>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Fri, 08 Sep 2006 19:42:51 +0200
Message-Id: <1157737371.4763.4.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Fri, 2006-09-08 at 15:27 +0800, jacky wrote:
> 
>   So  when the lucene database is updated, how to notify to reopen the
> IndexSearcher since there may be several applications to search this
> lucene database? 

Jira issue 550 contains easy to use decorated notification code that
will do all that given all listners are running in the same JVM. It does
however require a minor patching of the head.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 17:44:43 2006
Return-Path: <java-user-return-23277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52684 invoked from network); 8 Sep 2006 17:44:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 17:44:43 -0000
Received: (qmail 2965 invoked by uid 500); 8 Sep 2006 17:44:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2942 invoked by uid 500); 8 Sep 2006 17:44:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2931 invoked by uid 99); 8 Sep 2006 17:44:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 10:44:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 10:44:34 -0700
Received: (qmail 28029 invoked from network); 8 Sep 2006 17:44:12 -0000
Received: from unknown (HELO p5496d8c6.dip.t-dialin.net) ([pbs]695637@[84.150.216.198])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 8 Sep 2006 17:44:12 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Preventing short documents from being boosted
Date: Fri, 8 Sep 2006 19:44:07 +0200
User-Agent: KMail/1.8.2
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F586@UKEXBE01.UK.CorpLAN.net> <73EE4EFD-361B-4709-8336-3CFCC7BDCAC8@syr.edu>
In-Reply-To: <73EE4EFD-361B-4709-8336-3CFCC7BDCAC8@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609081944.07727@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Freitag 08 September 2006 13:30, Grant Ingersoll wrote:

> http://www.gossamer-threads.com/lists/lucene/java-user/38967#38967

I'd be happy about feedback about that similarity class, i.e. whether 
someone has used it successfully. If so, we could add it to the Lucene 
core (the old similarity would stay the default though).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 18:09:36 2006
Return-Path: <java-user-return-23278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60651 invoked from network); 8 Sep 2006 18:09:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 18:09:21 -0000
Received: (qmail 63724 invoked by uid 500); 8 Sep 2006 18:09:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63690 invoked by uid 500); 8 Sep 2006 18:09:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63652 invoked by uid 99); 8 Sep 2006 18:09:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 11:09:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 11:09:08 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 567FB5B770; Fri,  8 Sep 2006 11:08:41 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4FEAD7F403
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 11:08:41 -0700 (PDT)
Date: Fri, 8 Sep 2006 11:08:41 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Changing the Scoring api for OR parameters
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C024F912C@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0609081059010.1117@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C024F912C@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


if you are already seting the document boost based on the "date" of hte
Document, then the next thing you should familiarize yourself with is
Similarity.coord function.  It's specific purpose is for dealing with
Queries which "aggregate" other queries (like a BooleanQuery does with
it's clauses) to let you determine how much "penalty" documents recieve
for only matching on a subset of the clauses.

(the conventional wisdom being that a document matching more clauses is
"better" then a document matching few clauses, even if the aggregate
score of second document is a little higher thn hte first)

If you don't like that conventional wisdon, you can make the coord method
of your Similarity return a constant value (like "1") to illiminate it's
impact completely, or define some function that has a lower impact then
the overlap/maxOverlap algorithm used in the DefaultSimilarity.

Since illiminating the impact completely is a common need among
"artifically" constructed queries (like Prefix queries and Wild card
ueries) there is acctually a constructor for BooleanQuery that takes in a
boolean to do this.



Lastly: if you want more exact control over the way the dates of your
documents influence the score (without mucking with norms to make them
floats instead of bytes) consider using FunctionQuery ... searching the
archives will pop up several examples of how it can be used, and you can
find it in the Solr code base...

http://incubator.apache.org/solr/
http://incubator.apache.org/solr/docs/api/org/apache/solr/search/function/package-summary.html


: Date: Fri, 8 Sep 2006 09:45:13 +0200
: From: Marcus Falck <marcus.falck@observer.se>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Changing the Scoring api for OR parameters
:
: Hi everyone,
:
:
:
: I want to override the default scoring when it comes to queries
: containing the OR operator.
:
:
:
: For example if I got the following headlines in my index :
:
: "Sun sues Microsoft"
:
: "Microsoft want to buy Tiscali"
:
: ".NU domain sues Microsoft"
:
: "The sun is shining"
:
: "Sun brings antitrust suit against Microsoft"
:
:
:
: Those documents have been boosted in desc fashion ("Sun sues Microsoft"
: has higher calculated norm value then "Sun brings antirust suit against
: Microsoft"),
:
: The similarity class that has been used has made the norm values to be
: exactly as the boost value ( I have even modified the norm to be a float
: so I won't loose precision ).
:
:
:
: If I perform a search for: Microsoft OR Sun
:
:
:
: The topranked results will almost certainly be:
:
: Sun sues Microsoft
:
: Sun Brings antitrust suit against Microsoft
:
: ....
:
:
:
: I just want the documents returned like this:
:
: "Sun sues Microsoft"
:
: "Microsoft want to buy Tiscali"
:
: ".NU domain sues Microsoft"
:
: "The sun is shining"
:
: "Sun brings antitrust suit against Microsoft"
:
:
:
: I have to get this to work since I'm indexing news material and the
: customers are only interested in the newest articles ( so the date of
: the article is being used as a boost factor).
:
:
:
: Any ideas? My rank changes to lucene works as expected when it comes to
: AND operator and single term queries.
:
:
:
: /
:
: Regards
:
:
:
: Marcus Falck
:
:
:
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 08 23:45:57 2006
Return-Path: <java-user-return-23279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36911 invoked from network); 8 Sep 2006 23:45:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2006 23:45:56 -0000
Received: (qmail 52069 invoked by uid 500); 8 Sep 2006 23:45:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52046 invoked by uid 500); 8 Sep 2006 23:45:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52035 invoked by uid 99); 8 Sep 2006 23:45:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 16:45:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tansuwa@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 16:45:46 -0700
Received: by ug-out-1314.google.com with SMTP id y2so652655uge
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 16:45:25 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=A0j0YoptIDd36KevuZaf54XwRjcUz+5QdDId/9ylsz4DLJUem0XNEnMWWn50yf3erz1jNCXEcyUR2mFLA0HKLQqA7Z8BrD0ghzrBq9Yzm5lkG5NG5k/Nj64p/W9JM5vZzMkXk9jp+0zk2vFO1d0Twp3M00xM/2doySwWCsCKxN8=
Received: by 10.67.103.7 with SMTP id f7mr1369419ugm;
        Fri, 08 Sep 2006 16:45:24 -0700 (PDT)
Received: by 10.67.100.15 with HTTP; Fri, 8 Sep 2006 16:45:24 -0700 (PDT)
Message-ID: <d17b257e0609081645q1d9c140dsdb9e02db9248aaec@mail.gmail.com>
Date: Sat, 9 Sep 2006 09:45:24 +1000
From: "Luke Tan" <tansuwa@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SpanRegexQuery causes error
In-Reply-To: <A80FDE2F-FB70-4BCB-BF1F-123B89DA4D42@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_40963_11254232.1157759124889"
References: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com>
	 <0F55BA85-CA19-4868-B2E4-D90FF599D385@ehatchersolutions.com>
	 <d17b257e0609071826m4d35022dp1d491e8f24b36ed@mail.gmail.com>
	 <A80FDE2F-FB70-4BCB-BF1F-123B89DA4D42@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_40963_11254232.1157759124889
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I tried .* too but it gave the same error. I think it's a bug.

I solve it using SpanTermQuery where the search phrase is broken into
day
of
every
months

and I nest these SpanTermQuery into SpanNearQuery with slop > 1.

Thanks.

On 9/9/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On Sep 7, 2006, at 9:26 PM, Luke Tan wrote:
> > spanFirst(spanRegexQuery(monthly:day * of every * months), 10)
>
> What analyzer did you use for your text?   Again, that is not a valid
> regular expression.   But also, you're using a single long string of
> several words within your SpanRegexQuery term.  What you probably
> want is a SpanNearQuery of those fixed terms along with a ".*"
> SpanRegexQuery in the wildcarded spots, and then you could nest that
> inside a SpaneFirstQuery.
>
> > java.lang.NullPointerException
> > java.lang.NullPointerException
> >    at java.util.Hashtable.get(Hashtable.java:336)
> >    at org.apache.lucene.index.MultiReader.norms(MultiReader.java:163)
> >    at org.apache.lucene.search.spans.SpanWeight.scorer
> > (SpanWeight.java:70)
> >    at org.apache.lucene.search.IndexSearcher.search
> > (IndexSearcher.java:129)
> >    at org.apache.lucene.search.IndexSearcher.search
> > (IndexSearcher.java:110)
> >    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> >    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> >    at org.apache.lucene.search.Searcher.search(Searcher.java:53)
>
>
> It's likely a bug that you get this particular error, but I think
> you'll get around it by solving the above mentioned issues with your
> query.
>
>         Erik
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_40963_11254232.1157759124889--

From java-user-return-23280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 00:05:02 2006
Return-Path: <java-user-return-23280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39300 invoked from network); 9 Sep 2006 00:05:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 00:05:01 -0000
Received: (qmail 66688 invoked by uid 500); 9 Sep 2006 00:04:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66662 invoked by uid 500); 9 Sep 2006 00:04:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66651 invoked by uid 99); 9 Sep 2006 00:04:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 17:04:55 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tansuwa@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 17:04:55 -0700
Received: by ug-out-1314.google.com with SMTP id y2so655224uge
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 17:04:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Y5L8ZfB7h3h0uJjsLag4BAohen01sLyXThier4iaGOACRZZc0hOA8ixge12jJNyZj2/J3Ssmz7A1z6Gnnsg8a2S2TNSSjw85sKVlZ1ifXr58Kd9FtOc796sZpm0SCHY7H9X2KOcL7x8iWMV9X/eX3tZTimlRoEXVu3xr1WRu09s=
Received: by 10.66.244.11 with SMTP id r11mr1372223ugh;
        Fri, 08 Sep 2006 17:04:33 -0700 (PDT)
Received: by 10.67.100.15 with HTTP; Fri, 8 Sep 2006 17:04:32 -0700 (PDT)
Message-ID: <d17b257e0609081704qbf1cb39m3e0cbf1d39418067@mail.gmail.com>
Date: Sat, 9 Sep 2006 10:04:32 +1000
From: "Luke Tan" <tansuwa@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SpanRegexQuery causes error
In-Reply-To: <d17b257e0609081645q1d9c140dsdb9e02db9248aaec@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41031_14876893.1157760272736"
References: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com>
	 <0F55BA85-CA19-4868-B2E4-D90FF599D385@ehatchersolutions.com>
	 <d17b257e0609071826m4d35022dp1d491e8f24b36ed@mail.gmail.com>
	 <A80FDE2F-FB70-4BCB-BF1F-123B89DA4D42@ehatchersolutions.com>
	 <d17b257e0609081645q1d9c140dsdb9e02db9248aaec@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_41031_14876893.1157760272736
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I use analyzer with LowerCaseTokenizer only (No stop word or any other
special treatment). The phrase is tokenized.

On 9/9/06, Luke Tan

> I tried .* too but it gave the same error. I think it's a bug.
>
> I solve it using SpanTermQuery where the search phrase is broken into
> day
> of
> every
> months
>
> and I nest these SpanTermQuery into SpanNearQuery with slop > 1.
>
> Thanks.
>
>
> On 9/9/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> >
> >
> > On Sep 7, 2006, at 9:26 PM, Luke Tan wrote:
> > > spanFirst(spanRegexQuery(monthly:day * of every * months), 10)
> >
> > What analyzer did you use for your text?   Again, that is not a valid
> > regular expression.   But also, you're using a single long string of
> > several words within your SpanRegexQuery term.  What you probably
> > want is a SpanNearQuery of those fixed terms along with a ".*"
> > SpanRegexQuery in the wildcarded spots, and then you could nest that
> > inside a SpaneFirstQuery.
> >
> > > java.lang.NullPointerException
> > > java.lang.NullPointerException
> > >    at java.util.Hashtable.get(Hashtable.java:336)
> > >    at org.apache.lucene.index.MultiReader.norms (MultiReader.java:163)
> > >    at org.apache.lucene.search.spans.SpanWeight.scorer
> > > (SpanWeight.java:70)
> > >    at org.apache.lucene.search.IndexSearcher.search
> > > (IndexSearcher.java:129)
> > >    at org.apache.lucene.search.IndexSearcher.search
> > > (IndexSearcher.java:110)
> > >    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > >    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> > >    at org.apache.lucene.search.Searcher.search(Searcher.java:53)
> >
> >
> > It's likely a bug that you get this particular error, but I think
> > you'll get around it by solving the above mentioned issues with your
> > query.
> >
> >         Erik
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_41031_14876893.1157760272736--

From java-user-return-23281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 00:21:28 2006
Return-Path: <java-user-return-23281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41181 invoked from network); 9 Sep 2006 00:21:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 00:21:23 -0000
Received: (qmail 75549 invoked by uid 500); 9 Sep 2006 00:21:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75507 invoked by uid 500); 9 Sep 2006 00:21:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75496 invoked by uid 99); 9 Sep 2006 00:21:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 17:21:17 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hefest@gmail.com designates 66.249.82.228 as permitted sender)
Received: from [66.249.82.228] (HELO wx-out-0506.google.com) (66.249.82.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 17:21:15 -0700
Received: by wx-out-0506.google.com with SMTP id s15so770061wxc
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 17:20:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=lu1CbuwVvGEz2CgGOKnhg7EL8qbs3XqfY417gZj2+a+JnL+QfYMF1REXMj60q0BkwCOzu6OcQ/tZbLKiFpMbrR/BWGTSg96gQTjw31j5SVOBrB5z6LHWGZfDW5MXCNI+NnCgy5d13DtnVNImaxuAIulHn2PNOCBmzIc9aHSeh/g=
Received: by 10.90.84.17 with SMTP id h17mr1183768agb;
        Fri, 08 Sep 2006 17:20:54 -0700 (PDT)
Received: by 10.90.75.3 with HTTP; Fri, 8 Sep 2006 17:20:52 -0700 (PDT)
Message-ID: <d487eb8e0609081720g2738bc9ch90544f6d618f1ddf@mail.gmail.com>
Date: Sat, 9 Sep 2006 02:20:53 +0200
From: "Tomi NA" <hefest@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using Hibernate to store Lucene Indexes in a Database
In-Reply-To: <45017e0f.3dd32722.3eb4.ffffc563@mx.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8834A84C87A2C148AD46921BB8BFC97C0252C035@S1SE1MAIL.emea1.ad.group>
	 <45017e0f.3dd32722.3eb4.ffffc563@mx.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/8/06, N=E9stor Bosc=E1n <nestorjb@gmail.com> wrote:
> To reduce administration tasks. If you want to move your application from
> server to server you'll have to move the index files. I want to be able t=
o
> move my application by just moving my database schema and deploying an ea=
r.
>
> Regards,
>
> N=E9stor Bosc=E1n

Funny, I felt the same way about file-based storage: you simply pack
it up using any of the numerous file transfer tools available and you
don't have to worry about any of the database issues (possible
uncompressed large dump over the network, is the database server
running etc.).
On the other hand, if your application utilizes a database anyway, it
might be doable, assuming the app can take the performance penalty.
I'd be hard pressed to come up with a scenario where the gains
(simpler backup) would outweigh the losses (having to learn to store
the index into the database, performance, database bloat), though.
Still, it might only be my lack of imagination, that's the problem. :)

t.n.a.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 00:50:32 2006
Return-Path: <java-user-return-23282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44579 invoked from network); 9 Sep 2006 00:50:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 00:50:31 -0000
Received: (qmail 92350 invoked by uid 500); 9 Sep 2006 00:50:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92323 invoked by uid 500); 9 Sep 2006 00:50:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92312 invoked by uid 99); 9 Sep 2006 00:50:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 17:50:26 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tansuwa@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 17:50:25 -0700
Received: by ug-out-1314.google.com with SMTP id a2so860462ugf
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 17:50:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=BY/x25hQ+/qXrr1mvpWfX2aLpdSWyJ7meyfq67twb233ZKYFosmIxJo39ldyWw//QsXva5/in5xomaor/Jyzu67gnKhxRM1FFm5TKvm0SajKMwIKNZ6tPVQMJw2uBw1RmynrzOOnX0bocBvXV58xN5S50M1CLbHEGFMAccaIOT0=
Received: by 10.67.100.17 with SMTP id c17mr1395287ugm;
        Fri, 08 Sep 2006 17:50:03 -0700 (PDT)
Received: by 10.67.100.15 with HTTP; Fri, 8 Sep 2006 17:50:03 -0700 (PDT)
Message-ID: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
Date: Sat, 9 Sep 2006 10:50:03 +1000
From: "Luke Tan" <tansuwa@gmail.com>
To: java-user@lucene.apache.org
Subject: Using SpanRegexQuery to search year like 200?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41285_8601461.1157763003557"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_41285_8601461.1157763003557
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

Can this be use to search year 2000, 2001, 2002, ... 2009?

SpanFirstQuery snq = new SpanFirstQuery(new SpanRegexQuery(new Term("year",
"200?")), 1);


I need to use it to search something like

Who is born in 200?

Thanks

------=_Part_41285_8601461.1157763003557--

From java-user-return-23283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 01:45:48 2006
Return-Path: <java-user-return-23283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60686 invoked from network); 9 Sep 2006 01:45:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 01:45:43 -0000
Received: (qmail 34947 invoked by uid 500); 9 Sep 2006 01:45:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34925 invoked by uid 500); 9 Sep 2006 01:45:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34914 invoked by uid 99); 9 Sep 2006 01:45:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 18:45:37 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nestorjb@gmail.com designates 66.249.82.237 as permitted sender)
Received: from [66.249.82.237] (HELO wx-out-0506.google.com) (66.249.82.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 18:45:36 -0700
Received: by wx-out-0506.google.com with SMTP id s15so786988wxc
        for <java-user@lucene.apache.org>; Fri, 08 Sep 2006 18:45:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-mailer:x-mimeole:in-reply-to:thread-index:message-id;
        b=rGSLhSynG0uydfjOkmJ7uVQUIj8FZcMdWIRrzpP/e/qQetJITcC0sulJbYCS1+hWCGK9udgHy9efNpAo+0c0kwF3tf8Cb4WoLNMqiz/41TtrUkZvmxS4pi5ZATbuxbS/9wRgdUtgv0SLfAcd9uBXE9usc4IfnVUMJBVEaGrFJYg=
Received: by 10.70.108.18 with SMTP id g18mr569339wxc;
        Fri, 08 Sep 2006 18:45:15 -0700 (PDT)
Received: from nboscan ( [200.109.36.133])
        by mx.gmail.com with ESMTP id 39sm2188695wrl.2006.09.08.18.45.11;
        Fri, 08 Sep 2006 18:45:15 -0700 (PDT)
From: =?iso-8859-1?Q?N=E9stor_Bosc=E1n?= <nestorjb@gmail.com>
To: <java-user@lucene.apache.org>
Subject: RE: Using Hibernate to store Lucene Indexes in a Database
Date: Fri, 8 Sep 2006 21:45:10 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
In-Reply-To: <d487eb8e0609081720g2738bc9ch90544f6d618f1ddf@mail.gmail.com>
Thread-Index: AcbTpeC6b3rlkms8SjusRPbcAG05twAJGLBA
Message-ID: <45021ca9.7e210396.084a.1eb6@mx.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tomi thanks for your thoughts. I'm new to Lucene, so coming from an =
Oracle
background my mind is set that everything goes inside the database. Now =
that
I know some of the loses I can have a better picture.

Regards,

N=E9stor Bosc=E1n

-----Mensaje original-----
De: Tomi NA [mailto:hefest@gmail.com]=20
Enviado el: Viernes, 08 de Septiembre de 2006 05:21 p.m.
Para: java-user@lucene.apache.org
Asunto: Re: Using Hibernate to store Lucene Indexes in a Database

On 9/8/06, N=E9stor Bosc=E1n <nestorjb@gmail.com> wrote:
> To reduce administration tasks. If you want to move your application =
from
> server to server you'll have to move the index files. I want to be =
able to
> move my application by just moving my database schema and deploying an
ear.
>
> Regards,
>
> N=E9stor Bosc=E1n

Funny, I felt the same way about file-based storage: you simply pack
it up using any of the numerous file transfer tools available and you
don't have to worry about any of the database issues (possible
uncompressed large dump over the network, is the database server
running etc.).
On the other hand, if your application utilizes a database anyway, it
might be doable, assuming the app can take the performance penalty.
I'd be hard pressed to come up with a scenario where the gains
(simpler backup) would outweigh the losses (having to learn to store
the index into the database, performance, database bloat), though.
Still, it might only be my lack of imagination, that's the problem. :)

t.n.a.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 02:10:03 2006
Return-Path: <java-user-return-23284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62531 invoked from network); 9 Sep 2006 02:10:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 02:10:02 -0000
Received: (qmail 45749 invoked by uid 500); 9 Sep 2006 02:09:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45709 invoked by uid 500); 9 Sep 2006 02:09:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45698 invoked by uid 99); 9 Sep 2006 02:09:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 19:09:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 19:09:55 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 57FFD30EFCD8; Fri,  8 Sep 2006 22:09:35 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id E294430EFCD8
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 22:09:26 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <d17b257e0609081645q1d9c140dsdb9e02db9248aaec@mail.gmail.com>
References: <d17b257e0609070441m1063cdc2u75c753f047efe1ce@mail.gmail.com> <0F55BA85-CA19-4868-B2E4-D90FF599D385@ehatchersolutions.com> <d17b257e0609071826m4d35022dp1d491e8f24b36ed@mail.gmail.com> <A80FDE2F-FB70-4BCB-BF1F-123B89DA4D42@ehatchersolutions.com> <d17b257e0609081645q1d9c140dsdb9e02db9248aaec@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2DDBC59A-B7BE-4DD2-942D-17C85940E037@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SpanRegexQuery causes error
Date: Fri, 8 Sep 2006 22:09:18 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We welcome you to package up this issue into a JUnit test case to  
demonstrate the bug, such that we can add it to our suite and fix the  
issue.  I can't say for certain its a bug just yet, but seems  
suspicious.   A simple JUnit test that could replicate this would be  
most helpful!

Thanks,
	Erik


On Sep 8, 2006, at 7:45 PM, Luke Tan wrote:

> I tried .* too but it gave the same error. I think it's a bug.
>
> I solve it using SpanTermQuery where the search phrase is broken into
> day
> of
> every
> months
>
> and I nest these SpanTermQuery into SpanNearQuery with slop > 1.
>
> Thanks.
>
> On 9/9/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>>
>>
>> On Sep 7, 2006, at 9:26 PM, Luke Tan wrote:
>> > spanFirst(spanRegexQuery(monthly:day * of every * months), 10)
>>
>> What analyzer did you use for your text?   Again, that is not a valid
>> regular expression.   But also, you're using a single long string of
>> several words within your SpanRegexQuery term.  What you probably
>> want is a SpanNearQuery of those fixed terms along with a ".*"
>> SpanRegexQuery in the wildcarded spots, and then you could nest that
>> inside a SpaneFirstQuery.
>>
>> > java.lang.NullPointerException
>> > java.lang.NullPointerException
>> >    at java.util.Hashtable.get(Hashtable.java:336)
>> >    at org.apache.lucene.index.MultiReader.norms(MultiReader.java: 
>> 163)
>> >    at org.apache.lucene.search.spans.SpanWeight.scorer
>> > (SpanWeight.java:70)
>> >    at org.apache.lucene.search.IndexSearcher.search
>> > (IndexSearcher.java:129)
>> >    at org.apache.lucene.search.IndexSearcher.search
>> > (IndexSearcher.java:110)
>> >    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>> >    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
>> >    at org.apache.lucene.search.Searcher.search(Searcher.java:53)
>>
>>
>> It's likely a bug that you get this particular error, but I think
>> you'll get around it by solving the above mentioned issues with your
>> query.
>>
>>         Erik
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 02:15:46 2006
Return-Path: <java-user-return-23285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62857 invoked from network); 9 Sep 2006 02:15:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 02:15:44 -0000
Received: (qmail 50165 invoked by uid 500); 9 Sep 2006 02:15:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50133 invoked by uid 500); 9 Sep 2006 02:15:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50122 invoked by uid 99); 9 Sep 2006 02:15:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 19:15:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 08 Sep 2006 19:15:36 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B5FD730EFCDA; Fri,  8 Sep 2006 22:15:15 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 571DD30EFCD8
	for <java-user@lucene.apache.org>; Fri,  8 Sep 2006 22:15:07 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
References: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <45081935-AF9C-49BA-931A-ACF81D8E0D62@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Using SpanRegexQuery to search year like 200?
Date: Fri, 8 Sep 2006 22:15:05 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

To use SpanRegexQuery, you need to understand regular expressions.   
The WildcardQuery syntax is _NOT_ the same as SpanRegexQuery syntax.   
WildcardQuery supports a ? for single character match and * for  
multiple characters.  SpanRegexQuery use standard regular expression  
syntax.

"200?" matches 20 and 200, but not 2001 (using java.util.regex, that  
is).

	<http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html>

"X? matches X, once or not at all"

Use "200.?" perhaps, or more appropriately for matching any year 2000  
- 2009 as "200\d".

	Erik




On Sep 8, 2006, at 8:50 PM, Luke Tan wrote:

> Hi,
>
> Can this be use to search year 2000, 2001, 2002, ... 2009?
>
> SpanFirstQuery snq = new SpanFirstQuery(new SpanRegexQuery(new Term 
> ("year",
> "200?")), 1);
>
>
> I need to use it to search something like
>
> Who is born in 200?
>
> Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 12:23:55 2006
Return-Path: <java-user-return-23286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53986 invoked from network); 9 Sep 2006 12:23:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 12:23:54 -0000
Received: (qmail 50393 invoked by uid 500); 9 Sep 2006 12:23:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50368 invoked by uid 500); 9 Sep 2006 12:23:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50357 invoked by uid 99); 9 Sep 2006 12:23:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 09 Sep 2006 05:23:47 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 09 Sep 2006 05:23:46 -0700
Received: by py-out-1112.google.com with SMTP id w49so1049104pyg
        for <java-user@lucene.apache.org>; Sat, 09 Sep 2006 05:23:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lk+ItpQw4ILjH+jceF8VpP0SfjHD4w7MRlSpvzt4zMuQQQCpMn5Lt4yoxk2td3yxNJAkoD7gOENeG6n/iGHjA9K0XCvxKgNnRG6DbCoxz0Y2tMfk/hoXTQgqu16D/l5L2K6UoDgob2x0QMPypUP7JaEKz6xor4gY4Jigz8sn5R4=
Received: by 10.35.93.1 with SMTP id v1mr4845622pyl;
        Sat, 09 Sep 2006 05:23:26 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Sat, 9 Sep 2006 05:23:25 -0700 (PDT)
Message-ID: <359a92830609090523g3bcba5e3u7b402dbc2e44dbe1@mail.gmail.com>
Date: Sat, 9 Sep 2006 08:23:25 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using SpanRegexQuery to search year like 200?
In-Reply-To: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46190_10484227.1157804605883"
References: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_46190_10484227.1157804605883
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I've got to ask.... Why not just use a RangeQuery? Seems to be just what you
want without the complications.....

Best
Erick

On 9/8/06, Luke Tan <tansuwa@gmail.com> wrote:
>
> Hi,
>
> Can this be use to search year 2000, 2001, 2002, ... 2009?
>
> SpanFirstQuery snq = new SpanFirstQuery(new SpanRegexQuery(new
> Term("year",
> "200?")), 1);
>
>
> I need to use it to search something like
>
> Who is born in 200?
>
> Thanks
>
>

------=_Part_46190_10484227.1157804605883--

From java-user-return-23287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 09 16:13:42 2006
Return-Path: <java-user-return-23287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95608 invoked from network); 9 Sep 2006 16:13:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2006 16:13:40 -0000
Received: (qmail 91193 invoked by uid 500); 9 Sep 2006 16:13:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91164 invoked by uid 500); 9 Sep 2006 16:13:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91153 invoked by uid 99); 9 Sep 2006 16:13:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 09 Sep 2006 09:13:34 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 66.249.82.235 as permitted sender)
Received: from [66.249.82.235] (HELO wx-out-0506.google.com) (66.249.82.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 09 Sep 2006 09:13:33 -0700
Received: by wx-out-0506.google.com with SMTP id s15so942514wxc
        for <java-user@lucene.apache.org>; Sat, 09 Sep 2006 09:13:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=hzTc47P5HXg3XwkDxHcnrJ3EBOb3BMviSHBoUMooJwntKxV6V8/VtLyIrfJaPE/LNq6OskBXw2uZm3YxG5U4vZl6xo7LHqfvpnfit0uC2bIZsHBukA2cMfbjROp2zKsxU/cI2pw+B03dc4E25vkVsTbcAPEDeqtvNQ1mziPrZ+w=
Received: by 10.90.119.15 with SMTP id r15mr1246610agc;
        Sat, 09 Sep 2006 09:13:12 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Sat, 9 Sep 2006 09:13:12 -0700 (PDT)
Message-ID: <1cbd6f830609090913n26c89ea0l8d9e35ff5f74bf8e@mail.gmail.com>
Date: Sat, 9 Sep 2006 12:13:12 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: getCurrentVersion question
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_178488_6517459.1157818392128"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_178488_6517459.1157818392128
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi All,

I am trying to get the exact date when my index was created. I am assuming
getCurrentVersion() is the right way of doing it. However, I am getting a
result something like this: 1157817833085

According to the API reference,
"Reads version number from segments files. The version number is initialized
with a timestamp and then increased by one for each change of the index."

So, to get the date of this, I should be doing something like this:
date=1157817833085-1;

Any thoughts?
tia

------=_Part_178488_6517459.1157818392128--

From java-user-return-23288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 10 02:52:19 2006
Return-Path: <java-user-return-23288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4485 invoked from network); 10 Sep 2006 02:52:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2006 02:52:18 -0000
Received: (qmail 31936 invoked by uid 500); 10 Sep 2006 02:52:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31908 invoked by uid 500); 10 Sep 2006 02:52:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31897 invoked by uid 99); 10 Sep 2006 02:52:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 09 Sep 2006 19:52:12 -0700
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.61] (HELO web50307.mail.yahoo.com) (206.190.38.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 09 Sep 2006 19:52:11 -0700
Received: (qmail 50569 invoked by uid 60001); 10 Sep 2006 02:51:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=g5oL+feeEGPw33VhiGBWBybhvemxEc34e9BlUp+2vy4WcloV9j/qbw3AqZkRQULQ/9Z2nJ/rIElwo29zJhkx0HJTHq/AsH8ynfFOJvvLx58m8msJSNFeA4SlDkhTqCWYyZaPHela+3V2IMms4g5nooAaNpFjWedULTDMjY3LaHM=  ;
Message-ID: <20060910025149.50567.qmail@web50307.mail.yahoo.com>
Received: from [74.65.202.166] by web50307.mail.yahoo.com via HTTP; Sat, 09 Sep 2006 19:51:49 PDT
Date: Sat, 9 Sep 2006 19:51:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: getCurrentVersion question
To: java-user@lucene.apache.org
In-Reply-To: <1cbd6f830609090913n26c89ea0l8d9e35ff5f74bf8e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mag, check this (in IndexReader):

  /**
   * Returns the time the index in the named directory was last modified.
   * Do not use this to check whether the reader is still up-to-date, use
   * {@link #isCurrent()} instead.
   */
  public static long lastModified(String directory) throws IOException {
    return lastModified(new File(directory));
  }

Hm, no, you seem to be looking for the creation date, not last mod date.  I'm afraid that's not stored anywhere.  You could get the creation date of the index directory, but that may not be accurate (e.g. you've mkdir-ed the index dir manually 14 years ago).

Otis

----- Original Message ----
From: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org
Sent: Saturday, September 9, 2006 12:13:12 PM
Subject: getCurrentVersion question

Hi All,

I am trying to get the exact date when my index was created. I am assuming
getCurrentVersion() is the right way of doing it. However, I am getting a
result something like this: 1157817833085

According to the API reference,
"Reads version number from segments files. The version number is initialized
with a timestamp and then increased by one for each change of the index."

So, to get the date of this, I should be doing something like this:
date=1157817833085-1;

Any thoughts?
tia




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 10 11:30:40 2006
Return-Path: <java-user-return-23289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80579 invoked from network); 10 Sep 2006 11:30:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2006 11:30:35 -0000
Received: (qmail 99190 invoked by uid 500); 10 Sep 2006 11:30:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99162 invoked by uid 500); 10 Sep 2006 11:30:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99151 invoked by uid 99); 10 Sep 2006 11:30:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 04:30:29 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tansuwa@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 04:30:28 -0700
Received: by ug-out-1314.google.com with SMTP id y2so900056uge
        for <java-user@lucene.apache.org>; Sun, 10 Sep 2006 04:30:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=obre3IkrnhMtl7/M0Q8eMQgsFDUOicTxEQDBP3ZSThgxJDbZvNFSnkcwR2ulW5r6qOKt9/j9rHHC50mIDXXJ811xGUiGYevXA4jWpjQ8i95VkA9wVZTpma3gQr1B5trIA3yOKY2W7sVsKvfuPgMQx6i2oEerggy8IgyHLLnzMKg=
Received: by 10.67.103.7 with SMTP id f7mr2120849ugm;
        Sun, 10 Sep 2006 04:30:06 -0700 (PDT)
Received: by 10.67.100.15 with HTTP; Sun, 10 Sep 2006 04:30:06 -0700 (PDT)
Message-ID: <d17b257e0609100430i4a8d99bex9f66dd03bc2a3427@mail.gmail.com>
Date: Sun, 10 Sep 2006 21:30:06 +1000
From: "Luke Tan" <tansuwa@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using SpanRegexQuery to search year like 200?
In-Reply-To: <359a92830609090523g3bcba5e3u7b402dbc2e44dbe1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_57326_14067430.1157887806650"
References: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
	 <359a92830609090523g3bcba5e3u7b402dbc2e44dbe1@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_57326_14067430.1157887806650
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

Thanks for the previous explanation. I can't use Range Query as I need to
search something like
born in 200?
to find all that were born in 2001, 2002, ... 2006

Or do you think this will work
people:["born in 2001" TO "born in 2006"]

But it is much easier for the user to search
people:"born in 200?"

Kind Regards,
Luke

On 9/9/06, Erick Erickson <erickerickson@gmail.com> wrote:
>
> I've got to ask.... Why not just use a RangeQuery? Seems to be just what
> you
> want without the complications.....
>
> Best
> Erick
>
> On 9/8/06, Luke Tan <tansuwa@gmail.com> wrote:
> >
> > Hi,
> >
> > Can this be use to search year 2000, 2001, 2002, ... 2009?
> >
> > SpanFirstQuery snq = new SpanFirstQuery(new SpanRegexQuery(new
> > Term("year",
> > "200?")), 1);
> >
> >
> > I need to use it to search something like
> >
> > Who is born in 200?
> >
> > Thanks
> >
> >
>
>

------=_Part_57326_14067430.1157887806650--

From java-user-return-23290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 10 11:45:50 2006
Return-Path: <java-user-return-23290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82216 invoked from network); 10 Sep 2006 11:45:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2006 11:45:50 -0000
Received: (qmail 9657 invoked by uid 500); 10 Sep 2006 11:45:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9622 invoked by uid 500); 10 Sep 2006 11:45:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9611 invoked by uid 99); 10 Sep 2006 11:45:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 04:45:44 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tansuwa@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 04:45:43 -0700
Received: by ug-out-1314.google.com with SMTP id y2so901571uge
        for <java-user@lucene.apache.org>; Sun, 10 Sep 2006 04:45:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=RRizZqKxWTTZnZkPbFFKMmIbElDPxyAZA7WFmUXNCjnCWA7NB9qQnrQJwauB0z5oAdOKw17imjm59Pn3BIkIr1l995WTvqVNiBkTRDvzg411UVVLW8cf/ASk0hx9tKAtqPqyg4oJ41Ydq+p0vPW9Nr5eyKrK5XjUHac9oz2e0Tw=
Received: by 10.67.119.5 with SMTP id w5mr2129548ugm;
        Sun, 10 Sep 2006 04:45:22 -0700 (PDT)
Received: by 10.67.100.15 with HTTP; Sun, 10 Sep 2006 04:45:21 -0700 (PDT)
Message-ID: <d17b257e0609100445u7763879fo3aee62f79955cb7e@mail.gmail.com>
Date: Sun, 10 Sep 2006 21:45:21 +1000
From: "Luke Tan" <tansuwa@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using SpanRegexQuery to search year like 200?
In-Reply-To: <45081935-AF9C-49BA-931A-ACF81D8E0D62@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_57410_10511893.1157888721917"
References: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
	 <45081935-AF9C-49BA-931A-ACF81D8E0D62@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_57410_10511893.1157888721917
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

Oops. You just remind me about that. I conveniently think regex as simple as
* and ?

Yes, I understood java regex.

Thanks
Luke

On 9/9/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> To use SpanRegexQuery, you need to understand regular expressions.
> The WildcardQuery syntax is _NOT_ the same as SpanRegexQuery syntax.
> WildcardQuery supports a ? for single character match and * for
> multiple characters.  SpanRegexQuery use standard regular expression
> syntax.
>
> "200?" matches 20 and 200, but not 2001 (using java.util.regex, that
> is).
>
>         <
> http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html>
>
> "X? matches X, once or not at all"
>
> Use "200.?" perhaps, or more appropriately for matching any year 2000
> - 2009 as "200\d".
>
>         Erik
>
>
>
>
> On Sep 8, 2006, at 8:50 PM, Luke Tan wrote:
>
> > Hi,
> >
> > Can this be use to search year 2000, 2001, 2002, ... 2009?
> >
> > SpanFirstQuery snq = new SpanFirstQuery(new SpanRegexQuery(new Term
> > ("year",
> > "200?")), 1);
> >
> >
> > I need to use it to search something like
> >
> > Who is born in 200?
> >
> > Thanks
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_57410_10511893.1157888721917--

From java-user-return-23291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 10 13:09:17 2006
Return-Path: <java-user-return-23291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92250 invoked from network); 10 Sep 2006 13:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2006 13:09:13 -0000
Received: (qmail 73182 invoked by uid 500); 10 Sep 2006 13:09:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72720 invoked by uid 500); 10 Sep 2006 13:09:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72709 invoked by uid 99); 10 Sep 2006 13:09:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 06:09:06 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 06:09:06 -0700
Received: by py-out-1112.google.com with SMTP id w49so1413483pyg
        for <java-user@lucene.apache.org>; Sun, 10 Sep 2006 06:08:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ODGm4VKgmx9/Ro3+mHyE90CjigrSedudWKAL6oPjoo0S63BgVV2qlQc8UfEj9eZP5/0gofXksySO/3oBMgygWOk4yRmLLd/HXBRLusquFG9iGzPlpgmbVxutQJo0chFHieFHwyUbhlQrmpqmGeCRoakPomARvy4vCt+lHSDzcVA=
Received: by 10.35.46.11 with SMTP id y11mr6772107pyj;
        Sun, 10 Sep 2006 06:08:12 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Sun, 10 Sep 2006 06:08:11 -0700 (PDT)
Message-ID: <359a92830609100608x69cbfc56vbbb4aaaa47334b78@mail.gmail.com>
Date: Sun, 10 Sep 2006 09:08:11 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using SpanRegexQuery to search year like 200?
In-Reply-To: <d17b257e0609100430i4a8d99bex9f66dd03bc2a3427@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_53435_26219817.1157893691984"
References: <d17b257e0609081750o61b1d245ha5e77a2aef5cc613@mail.gmail.com>
	 <359a92830609090523g3bcba5e3u7b402dbc2e44dbe1@mail.gmail.com>
	 <d17b257e0609100430i4a8d99bex9f66dd03bc2a3427@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_53435_26219817.1157893691984
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I was assuming that you had stored dates as a separate field, but if you
haven't then I'm pretty sure range queries won't work.

Which begs the question whether you *should* store dates separately, but
only you can answer that <G>....

Erick

On 9/10/06, Luke Tan <tansuwa@gmail.com> wrote:
>
> Hi,
>
> Thanks for the previous explanation. I can't use Range Query as I need to
> search something like
> born in 200?
> to find all that were born in 2001, 2002, ... 2006
>
> Or do you think this will work
> people:["born in 2001" TO "born in 2006"]
>
> But it is much easier for the user to search
> people:"born in 200?"
>
> Kind Regards,
> Luke
>
> On 9/9/06, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > I've got to ask.... Why not just use a RangeQuery? Seems to be just what
> > you
> > want without the complications.....
> >
> > Best
> > Erick
> >
> > On 9/8/06, Luke Tan <tansuwa@gmail.com> wrote:
> > >
> > > Hi,
> > >
> > > Can this be use to search year 2000, 2001, 2002, ... 2009?
> > >
> > > SpanFirstQuery snq = new SpanFirstQuery(new SpanRegexQuery(new
> > > Term("year",
> > > "200?")), 1);
> > >
> > >
> > > I need to use it to search something like
> > >
> > > Who is born in 200?
> > >
> > > Thanks
> > >
> > >
> >
> >
>
>

------=_Part_53435_26219817.1157893691984--

From java-user-return-23292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 10 23:47:51 2006
Return-Path: <java-user-return-23292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98363 invoked from network); 10 Sep 2006 23:47:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2006 23:47:46 -0000
Received: (qmail 62631 invoked by uid 500); 10 Sep 2006 23:47:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62589 invoked by uid 500); 10 Sep 2006 23:47:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62578 invoked by uid 99); 10 Sep 2006 23:47:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 16:47:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 16:47:39 -0700
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2DD91B735C
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 09:46:31 +1000 (EST)
Message-ID: <4504A396.2020303@nuix.com.au>
Date: Mon, 11 Sep 2006 09:45:26 +1000
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20060908)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: duplicate fields
References: <000c01c6d30f$3ed16bc0$0d01a8c0@client06> <450116E6.5000708@nuix.com.au> <003201c6d319$d2a83540$0d01a8c0@client06>
In-Reply-To: <003201c6d319$d2a83540$0d01a8c0@client06>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

jacky wrote:
> hi Daniel,
>    How do you use a separate database to check the duplicate fields?  It is interesting!

It's simple enough.  Every time we're about to process a new item we 
look in the database to see if there is already an item with the same 
ID.  If there isn't, we add the row.  If there is, it's a duplicate.

Daniel

-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 10 23:52:08 2006
Return-Path: <java-user-return-23293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99146 invoked from network); 10 Sep 2006 23:52:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2006 23:52:05 -0000
Received: (qmail 68948 invoked by uid 500); 10 Sep 2006 23:51:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68923 invoked by uid 500); 10 Sep 2006 23:51:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68912 invoked by uid 99); 10 Sep 2006 23:51:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 16:51:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 16:51:57 -0700
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id EC2D3B735C
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 09:50:52 +1000 (EST)
Message-ID: <4504A49C.2040400@nuix.com.au>
Date: Mon, 11 Sep 2006 09:49:48 +1000
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20060908)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Highligher Example
References: <007501c6d347$48ae9ea0$a280a8c0@safarijv.com>
In-Reply-To: <007501c6d347$48ae9ea0$a280a8c0@safarijv.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dejan Nenov wrote:
> Second that - I was a client of Stellent - the libs work great but are
> expensive. To see Stellent in action - get a copy of the free X1 desktop
> search or the X1 server (Lucene based).

I would say that the libs work great but are slow.

One problem is that they don't provide a Java API.  The "Java" API they 
provide is sample code which calls a native executable, not even a JNI 
library.  So you pay the penalty of that native app starting up every 
time you extract a document.

If all you want is the plain text, for many document types it's actually 
fairly fast, and beats having to write code for every document type 
yourself (or locating libraries to do it for you.)  But as soon as you 
want the marked up text, it becomes a completely different story.  We 
benchmarked it to be something like 10 times slower to handle markup 
than handling raw text and metadata.  Most of this extra time was spent 
parsing the XML it outputs, which is often far more verbose than it 
needs to be for the amount of formatting it actually contains.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 04:38:14 2006
Return-Path: <java-user-return-23294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50892 invoked from network); 11 Sep 2006 04:38:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 04:38:14 -0000
Received: (qmail 50106 invoked by uid 500); 11 Sep 2006 04:38:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50067 invoked by uid 500); 11 Sep 2006 04:38:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50056 invoked by uid 99); 11 Sep 2006 04:38:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 21:38:05 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=BLANK_LINES_70_80
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.227.249.75] (HELO osi-tech.com) (220.227.249.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 10 Sep 2006 21:38:01 -0700
Received: from training15 (hampton.osi-tech.com [220.227.245.178] (may be forged))
	by osi-tech.com (8.11.6/8.11.6) with SMTP id k8B4iO519692
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 10:14:24 +0530
From: "vinay kumar" <vpandella@osi-tech.com>
To: <java-user@lucene.apache.org>
Subject: duplicate fields
Date: Mon, 11 Sep 2006 10:07:38 +0530
Message-ID: <CEEGKMBOGKGCFBHHHPBPGEAMCAAA.vpandella@osi-tech.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
In-Reply-To: <4504A396.2020303@nuix.com.au>
Importance: Normal
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-MailScanner-SpamCheck: not spam, SpamAssassin (score=-4.9, required 5,
	autolearn=not spam, BAYES_00 -4.90)
X-MailScanner-From: vpandella@osi-tech.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

any one know how to get the unique fields from the field in the lucene
index.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 09:04:56 2006
Return-Path: <java-user-return-23295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18315 invoked from network); 11 Sep 2006 09:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 09:04:56 -0000
Received: (qmail 20684 invoked by uid 500); 11 Sep 2006 09:04:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20478 invoked by uid 500); 11 Sep 2006 09:04:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20467 invoked by uid 99); 11 Sep 2006 09:04:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 02:04:48 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 02:04:47 -0700
Received: (qmail 31250 invoked by uid 509); 11 Sep 2006 11:04:22 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.144328 secs); 11 Sep 2006 09:04:22 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.144328 secs Process 31243)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 11 Sep 2006 11:04:22 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6D581.45803BDF"
Subject: Changing the Scoring api
Date: Mon, 11 Sep 2006 11:04:21 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0252C7E2@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Changing the Scoring api
Thread-Index: AcbVgUTjc6crfwHrRzGbSBdvj05GlA==
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6D581.45803BDF
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hi everyone,

=20

I want to override the default scoring when it comes to queries
containing the OR operator.

=20

For example if I got the following headlines in my index :

"Sun sues Microsoft"

"Microsoft want to buy Tiscali"

".NU domain sues Microsoft"

"The sun is shining"

"Sun brings antitrust suit against Microsoft"

=20

=20

Those documents have been boosted in desc fashion ("Sun sues Microsoft"

has higher calculated norm value then "Sun brings antirust suit against
Microsoft"),=20

=20

The similarity class that has been used has made the norm values to be
exactly as the boost value ( I have even modified the norm to be a float
so I won't loose precision ).

=20

If I perform a search for: Microsoft OR Sun

=20

The topranked results will almost certainly be:

=20

Sun sues Microsoft

Sun Brings antitrust suit against Microsoft

....

=20

I just want the documents returned like this:

"Sun sues Microsoft"

"Microsoft want to buy Tiscali"

".NU domain sues Microsoft"

"The sun is shining"

"Sun brings antitrust suit against Microsoft"

=20

=20

I have to get this to work since I'm indexing news material and the
customers are only interested in the newest articles ( so the date of
the article is being used as a boost factor).

=20

Any ideas? My rank changes to lucene works as expected when it comes to
AND operator and single term queries.

=20

=20

/

Regards

Marcus Falck=20

=20

=20

=20


------_=_NextPart_001_01C6D581.45803BDF--

From java-user-return-23296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 13:06:41 2006
Return-Path: <java-user-return-23296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92345 invoked from network); 11 Sep 2006 13:06:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 13:06:40 -0000
Received: (qmail 27496 invoked by uid 500); 11 Sep 2006 13:06:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27394 invoked by uid 500); 11 Sep 2006 13:06:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27383 invoked by uid 99); 11 Sep 2006 13:06:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 06:06:32 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO nz-out-0102.google.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 06:06:32 -0700
Received: by nz-out-0102.google.com with SMTP id z6so473195nzd
        for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 06:06:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=n18K+w+bf5UYUa4ciQ1qx5AHwT/wN9f3m+CbgRjK9G/oDvRghLfVNofmFcaVr1qgn5xIC2WKLk313wH4QPQqgyZbB5TgZNmlY7u+7/nqlrDsTEMF5QSRn+wNt29n7xVlTAAhKoUMTeh92oDqVjSmVJSf+2smMdIhZf5PpEK8ukA=
Received: by 10.35.102.1 with SMTP id e1mr8820752pym;
        Mon, 11 Sep 2006 06:06:11 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Mon, 11 Sep 2006 06:06:10 -0700 (PDT)
Message-ID: <359a92830609110606v5bb12f41vc2f2512766262f00@mail.gmail.com>
Date: Mon, 11 Sep 2006 09:06:10 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: duplicate fields
In-Reply-To: <CEEGKMBOGKGCFBHHHPBPGEAMCAAA.vpandella@osi-tech.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_64120_23148948.1157979970992"
References: <4504A396.2020303@nuix.com.au>
	 <CEEGKMBOGKGCFBHHHPBPGEAMCAAA.vpandella@osi-tech.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_64120_23148948.1157979970992
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'm not at all sure what you're asking.

I believe you can use a TermEnum with an empty term ("") to get all the
terms in a particular field.

If you're asking "how can I find all the fields in a document", well, that's
tricky. Since there's no requirement that every document have the same
fields, there's no way that I know of of asking "what are the names of all
the fields in the index". You have to "just know".

That said, given a document, you *can* enumerate all the fields in that
document. But that doesn't tell you anything about the fields of the *next*
document.

If none of this is relevant, could you give more details about what you're
trying to do?

Best
Erick

On 9/11/06, vinay kumar <vpandella@osi-tech.com> wrote:
>
> any one know how to get the unique fields from the field in the lucene
> index.
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_64120_23148948.1157979970992--

From java-user-return-23297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 13:21:23 2006
Return-Path: <java-user-return-23297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3273 invoked from network); 11 Sep 2006 13:21:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 13:21:23 -0000
Received: (qmail 62676 invoked by uid 500); 11 Sep 2006 13:21:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62643 invoked by uid 500); 11 Sep 2006 13:21:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62632 invoked by uid 99); 11 Sep 2006 13:21:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 06:21:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.121.61.10] (HELO phizblip.com) (128.121.61.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 06:21:14 -0700
Received: from [10.0.11.108] (avaliable.octelecom.net [208.187.181.114] (may be forged))
	(authenticated bits=0)
	by phizblip.com (8.13.6.20060614/8.13.6) with ESMTP id k8BDKrxM009676
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 07:20:53 -0600 (MDT)
Message-ID: <4505634C.90701@lingotek.com>
Date: Mon, 11 Sep 2006 07:23:24 -0600
From: Shane Perry <shane@lingotek.com>
User-Agent: Thunderbird 1.5.0.5 (X11/20060808)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Highligher Example
References: <1cbd6f830609071537i1ed9aacarbca4328b37517da3@mail.gmail.com> <6CB3BC1A-D50A-4DEB-A739-7613CBD052DC@ehatchersolutions.com>
In-Reply-To: <6CB3BC1A-D50A-4DEB-A739-7613CBD052DC@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Not sure if this is something of interest, but there is an open source 
project called File2XLIFF4j on Sourceforge.net 
(http://file2xliff4j.sourceforge.net/).  The project converts many 
common file formats to XLIFF.  It may be useful for getting a common 
format, highlighting, and the recreating the original file with the format.

Erik Hatcher wrote:
> There are test cases in the Highlighter codebase that exercise it and 
> show its use, as well as a few examples of it in the "Lucene in 
> Action" codebase.
>
> These examples output plain text with some prefix and suffix 
> surrounding the highlighted terms.  Highlighting text in a PDF is 
> possible, I'm pretty sure, but I don't think the same would be easily 
> possible with Microsoft document formats.  I'm not sure if you are 
> asking for these document types to be highlighted or just a plain text 
> representation of them, though.
>
>     Erik
>
> On Sep 7, 2006, at 6:37 PM, Mag Gam wrote:
>
>> Hey
>>
>> Anyone have a search result highlighter example?
>>
>> I have various doc, PDFs, DOC, TXT, PPT, and I would like to show a
>> highlight, similar to how google does it...
>>
>> tia
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 13:39:44 2006
Return-Path: <java-user-return-23298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9094 invoked from network); 11 Sep 2006 13:39:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 13:39:44 -0000
Received: (qmail 3706 invoked by uid 500); 11 Sep 2006 13:39:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3678 invoked by uid 500); 11 Sep 2006 13:39:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3667 invoked by uid 99); 11 Sep 2006 13:39:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 06:39:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.174.240.41] (HELO inets1.gbv.de) (193.174.240.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 06:39:36 -0700
Received: from localhost (localhost [127.0.0.1])
	by inets1.gbv.de (Postfix) with ESMTP id 1BCFFE5AF
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 15:39:08 +0200 (CEST)
Received: from inets1.gbv.de ([127.0.0.1])
 by localhost (inets1.gbv.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 07167-06 for <java-user@lucene.apache.org>;
 Mon, 11 Sep 2006 15:38:59 +0200 (CEST)
Received: from mail.vz.gbv.de (mail.vz.gbv.de [195.37.139.83])
	by inets1.gbv.de (Postfix) with ESMTP id 88763E919
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 15:38:58 +0200 (CEST)
Received: from [195.37.139.210] (pc0210.gbv.de [195.37.139.210])
	by mail.vz.gbv.de with ESMTP; Mon, 11 Sep 2006 15:38:55 +0200
Message-ID: <450566F0.2040902@gbv.de>
Date: Mon, 11 Sep 2006 15:38:56 +0200
From: Till Kinstler <kinstler@gbv.de>
User-Agent: Thunderbird 1.5.0.5 (X11/20060808)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Highligher Example
References: <1cbd6f830609071537i1ed9aacarbca4328b37517da3@mail.gmail.com>	 <6CB3BC1A-D50A-4DEB-A739-7613CBD052DC@ehatchersolutions.com> <1cbd6f830609071750s1f89446bh4ea0ad54b6a73218@mail.gmail.com> <4500C137.4000901@gmail.com>
In-Reply-To: <4500C137.4000901@gmail.com>
X-Enigmail-Version: 0.94.0.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: amavisd-new at gbv.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mark Miller schrieb:
> Highlighting a PDF document, last time I looked (quite a while ago),
> involves supplying an xml file that describes offsets for highlighting.
> You can specify the file in the URL. 

PDFBox (http://www.pdfbox.org/), which is also convenient for parsing
PDFs, can generate those XML files through its class PDFHighlighter
(http://www.pdfbox.org/javadoc/org/pdfbox/util/PDFHighlighter.html).
There is a page discribing the various options for highlighting PDFs
with PDFBox: http://www.pdfbox.org/userguide/highlighting.html.
Unfortunately, highlighting through these XML files seems not to work in
the Acrobat Reader plugin for Linux.

Till

-- 
Till Kinstler
Verbundzentrale des Gemeinsamen Bibliotheksverbundes (VZG)
Platz der Gttinger Sieben 1, D 37073 Gttingen
kinstler@gbv.de, +49 (0) 551 39-13431, http://www.gbv.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 15:01:24 2006
Return-Path: <java-user-return-23299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40773 invoked from network); 11 Sep 2006 15:01:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 15:01:24 -0000
Received: (qmail 71434 invoked by uid 500); 11 Sep 2006 15:01:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70494 invoked by uid 500); 11 Sep 2006 15:01:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 24143 invoked by uid 99); 11 Sep 2006 14:38:01 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of leandro.saad@gmail.com designates 64.233.182.185 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=JvuGdlZDWKaLEiRiK7mkIuWprAqbu+/zzB6pL1/7M/YEcGZJazBG/4BiYNcLX5wqVIgEci7eEskEnsv39kGGp5lplCf9H0lK2p+ndFJ02pIJK+Iltq1JqYCcUT33lpMG+wwAu+nB5nbSh+SF60c3U4eVloy0qH6dy3Z7uDZkYv0=
Message-ID: <27bc81750609110737g565bdcaeofc1dab3416c472cc@mail.gmail.com>
Date: Mon, 11 Sep 2006 11:37:32 -0300
From: "Leandro Saad" <leandro.saad@gmail.com>
To: java-user@lucene.apache.org
Subject: Fields with phrases
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4568_13260943.1157985452932"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4568_13260943.1157985452932
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all,

I have a field called "location" on my index. For example, this string:  "A
B" "A C" D was stored on my index
When I search for "location: ", these are the results that I'd like to
retrieve:
1) location: D -- 1 hit
2) location: A -- no hits
3) location: "A B" -- 1 hit
4) location: "A C" -- 1 hit

Is there any way I can make this work?

-- 
Leandro Rodrigo Saad Cruz
software developer - certified scrum master
:: scrum.com.br
:: db.apache.org/ojb
:: guara-framework.sf.net
:: xingu.sf.net

------=_Part_4568_13260943.1157985452932--

From java-user-return-23300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 15:27:00 2006
Return-Path: <java-user-return-23300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47036 invoked from network); 11 Sep 2006 15:27:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 15:27:00 -0000
Received: (qmail 12372 invoked by uid 500); 11 Sep 2006 15:26:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12341 invoked by uid 500); 11 Sep 2006 15:26:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12330 invoked by uid 99); 11 Sep 2006 15:26:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 08:26:53 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO nz-out-0102.google.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 08:26:52 -0700
Received: by nz-out-0102.google.com with SMTP id z6so504564nzd
        for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 08:26:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fmjf2xEsrifooWmLU+CQo1ppW5cAhuLBeg1sOsjFk4R4Fno1+TxQkzwJrmzk+hcEKEHp46642YW+4EHvpTO1gut50GymgY1jvBQw5GKJStCFdhA2YCbyZBYQI/+uxVH3loPAmcNUzR+6P5Iv5POP92svL5qpIG31lDLfesdnqqI=
Received: by 10.35.115.18 with SMTP id s18mr9053914pym;
        Mon, 11 Sep 2006 08:26:31 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Mon, 11 Sep 2006 08:26:30 -0700 (PDT)
Message-ID: <359a92830609110826h6cb3a216mac50b6e6fc4b7abc@mail.gmail.com>
Date: Mon, 11 Sep 2006 11:26:31 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Fields with phrases
In-Reply-To: <27bc81750609110737g565bdcaeofc1dab3416c472cc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_66827_23152367.1157988391027"
References: <27bc81750609110737g565bdcaeofc1dab3416c472cc@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_66827_23152367.1157988391027
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I know of no way of doing this with the standard analyzers, unless you do
some fooling around..

I think you'd have to write your own analyzer/tokenizer that you use both at
indexing time and query parsing time that broke the input streams up the way
you want. In this case, A B would be a SINGLE token. A C likewise, and D
would be a single token too. Your index would then contain what you want.
You'd have to use the same analyzer when searching as indexing.

Alternatively, you could substitute a special character (again on reading
the input for both the indexing process and the searching process) that
strung your input together, and then use normal analyzers. In this case,
index A_B, A_C, and D. Searching for A_B, A_C and D should then be hits,
while A would not. I like this quite a lot better than fooling around with a
custom tokenizer now that I think of it.

You have to be a bit careful though. If you use StandardAnalyzer in this
case, I *think* it'll split the input on the underscore, so either use some
other character that doesn't get broken up, or use a different analyzer, say
the WhitespaceAnalyzer.

Oh, and be sure to get a copy of Luke to look at your initial tries at this
to see if what you actually index is what you *think* you're indexing. I've
been confused by this more than once <G>....

Best
Erick

On 9/11/06, Leandro Saad <leandro.saad@gmail.com> wrote:
>
> Hi all,
>
> I have a field called "location" on my index. For example, this
> string:  "A
> B" "A C" D was stored on my index
> When I search for "location: ", these are the results that I'd like to
> retrieve:
> 1) location: D -- 1 hit
> 2) location: A -- no hits
> 3) location: "A B" -- 1 hit
> 4) location: "A C" -- 1 hit
>
> Is there any way I can make this work?
>
> --
> Leandro Rodrigo Saad Cruz
> software developer - certified scrum master
> :: scrum.com.br
> :: db.apache.org/ojb
> :: guara-framework.sf.net
> :: xingu.sf.net
>
>

------=_Part_66827_23152367.1157988391027--

From java-user-return-23301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 16:51:29 2006
Return-Path: <java-user-return-23301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69802 invoked from network); 11 Sep 2006 16:51:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 16:51:29 -0000
Received: (qmail 63814 invoked by uid 500); 11 Sep 2006 16:51:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63747 invoked by uid 500); 11 Sep 2006 16:51:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63666 invoked by uid 99); 11 Sep 2006 16:51:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 09:51:25 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of leandro.saad@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 09:51:24 -0700
Received: by nf-out-0910.google.com with SMTP id b2so1161981nfe
        for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 09:51:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=flOCimicgHtpsVShsoNICEpaI6aG04AK/zaSJGxKslTbdhOdINXcBmK1c73H2z3roGxddVUa46JDyxOBQ/+1rB0z0nNNuvacxHBy35IZ6PCsOtPj/+4nvmwevClWclbcUKaOnAcIOKvvAoWYaSaXYTyTeIga/Vpx5MSzr1PIiyk=
Received: by 10.49.90.4 with SMTP id s4mr8329279nfl;
        Mon, 11 Sep 2006 09:51:01 -0700 (PDT)
Received: by 10.49.61.6 with HTTP; Mon, 11 Sep 2006 09:51:01 -0700 (PDT)
Message-ID: <27bc81750609110951r6b179d23l4cf498d971a9d8d8@mail.gmail.com>
Date: Mon, 11 Sep 2006 13:51:01 -0300
From: "Leandro Saad" <leandro.saad@gmail.com>
To: java-user@lucene.apache.org
Subject: Fields with phrases
In-Reply-To: <27bc81750609110737g565bdcaeofc1dab3416c472cc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9006_7346967.1157993461720"
References: <27bc81750609110737g565bdcaeofc1dab3416c472cc@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9006_7346967.1157993461720
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all,

I have a field called "location" on my index. For example, this string:  "A
B" "A C" D was stored on my index
When I search for "location: ", these are the results that I'd like to
retrieve:
1) location: D -- 1 hit
2) location: A -- no hits
3) location: "A B" -- 1 hit
4) location: "A C" -- 1 hit

Is there any way I can make this work?

-- 
Leandro Rodrigo Saad Cruz
software developer - certified scrum master
:: scrum.com.br
:: db.apache.org/ojb
:: guara-framework.sf.net
:: xingu.sf.net

------=_Part_9006_7346967.1157993461720--

From java-user-return-23302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 18:15:04 2006
Return-Path: <java-user-return-23302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96984 invoked from network); 11 Sep 2006 18:15:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 18:15:03 -0000
Received: (qmail 16159 invoked by uid 500); 11 Sep 2006 18:14:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16139 invoked by uid 500); 11 Sep 2006 18:14:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16128 invoked by uid 99); 11 Sep 2006 18:14:53 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 11:14:53 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from ([169.229.70.167:48831] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 9B/61-25981-4A7A5054 for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 11:15:02 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8BE945B76C; Mon, 11 Sep 2006 11:14:39 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 653D27F403
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 11:14:39 -0700 (PDT)
Date: Mon, 11 Sep 2006 11:14:39 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Changing the Scoring api
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C0252C7E2@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0609111113290.13859@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C0252C7E2@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I want to override the default scoring when it comes to queries
: containing the OR operator.

this mesages seems to be an exact repost of your question from last friday
... was theresomething wrong with teh suggestions i included in my reply
to it?

http://www.nabble.com/Changing-the-Scoring-api-for-OR-parameters-tf2237565.html



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 11 18:20:35 2006
Return-Path: <java-user-return-23303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98363 invoked from network); 11 Sep 2006 18:20:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2006 18:20:35 -0000
Received: (qmail 28201 invoked by uid 500); 11 Sep 2006 18:20:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28174 invoked by uid 500); 11 Sep 2006 18:20:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28163 invoked by uid 99); 11 Sep 2006 18:20:28 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 11 Sep 2006 11:20:28 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from ([169.229.70.167:35731] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 72/91-25981-3F8A5054 for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 11:20:35 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9D0DE5B76C; Mon, 11 Sep 2006 11:20:22 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9789C7F403
	for <java-user@lucene.apache.org>; Mon, 11 Sep 2006 11:20:22 -0700 (PDT)
Date: Mon, 11 Sep 2006 11:20:22 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Fields with phrases
In-Reply-To: <27bc81750609110737g565bdcaeofc1dab3416c472cc@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609111116340.13859@hal.rescomp.berkeley.edu>
References: <27bc81750609110737g565bdcaeofc1dab3416c472cc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I have a field called "location" on my index. For example, this string:  "A
: B" "A C" D was stored on my index
: When I search for "location: ", these are the results that I'd like to
: retrieve:
: 1) location: D -- 1 hit
: 2) location: A -- no hits
: 3) location: "A B" -- 1 hit
: 4) location: "A C" -- 1 hit

off the cuff, it sounds like what you want is to index your individual
quoted strings as single token field values (using UN_TOKENIZED or the
KeywordAnalyzer at index time) if you want your matches to be case
insensative, or if you what white space normalization (ie: 'should "A  c"
be a match?) then you may need your own analyzer to deal with that ... but
the cruz of the issue is putting D in as a token, and "A B" as one token,
and "A C" as one token, etc...

there was a very long thread baout this recently...

http://www.nabble.com/Phrase-search-using-quotes----special-Tokenizer-tf2200760.html



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 07:34:10 2006
Return-Path: <java-user-return-23304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15999 invoked from network); 12 Sep 2006 07:34:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 07:34:10 -0000
Received: (qmail 85799 invoked by uid 500); 12 Sep 2006 07:34:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85774 invoked by uid 500); 12 Sep 2006 07:34:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85763 invoked by uid 99); 12 Sep 2006 07:34:01 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 00:34:01 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=marcus.falck@observer.se; spf=unknown
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: unknown (idunn.apache.osuosl.org: domain observer.se does not designate 194.52.12.17 as permitted sender)
Received: from ([194.52.12.17:36504] helo=mail1.observergroup.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 26/D1-00869-FE266054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 00:34:10 -0700
Received: (qmail 4365 invoked by uid 509); 12 Sep 2006 09:33:50 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.078136 secs); 12 Sep 2006 07:33:50 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.078136 secs Process 4358)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 12 Sep 2006 09:33:50 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: Changing the Scoring api
Date: Tue, 12 Sep 2006 09:33:49 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0256B688@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Changing the Scoring api
Thread-Index: AcbVzj1dB+UU3TCJSRaybVVnL0Yq7wAbtLmQ
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Hoss,

No it wasn't any thing wrong with your suggestions except that they had =
landed in my junk mail for some reason, stupid outlook.

However I haven't had any chance testing all of your suggestions but I =
already had implemented my own similarity class that has the coord fixed =
to 1. And it doesn't work as excepted.


/
Marcus

-----Ursprungligt meddelande-----
Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Skickat: den 11 september 2006 20:15
Till: Lucene Users
=C4mne: Re: Changing the Scoring api


: I want to override the default scoring when it comes to queries
: containing the OR operator.

this mesages seems to be an exact repost of your question from last =
friday
... was theresomething wrong with teh suggestions i included in my reply
to it?

http://www.nabble.com/Changing-the-Scoring-api-for-OR-parameters-tf223756=
5.html



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 07:41:54 2006
Return-Path: <java-user-return-23305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17885 invoked from network); 12 Sep 2006 07:41:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 07:41:53 -0000
Received: (qmail 98153 invoked by uid 500); 12 Sep 2006 07:41:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98120 invoked by uid 500); 12 Sep 2006 07:41:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98109 invoked by uid 99); 12 Sep 2006 07:41:47 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 00:41:47 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=marcus.falck@observer.se; spf=unknown
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: unknown (idunn.apache.osuosl.org: domain observer.se does not designate 194.52.12.17 as permitted sender)
Received: from ([194.52.12.17:36750] helo=mail1.observergroup.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id A1/12-00869-1C466054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 00:41:55 -0700
Received: (qmail 5725 invoked by uid 509); 12 Sep 2006 09:41:37 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.070358 secs); 12 Sep 2006 07:41:37 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.070358 secs Process 5719)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 12 Sep 2006 09:41:37 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: Changing the Scoring api
Date: Tue, 12 Sep 2006 09:41:36 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0256B6AB@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Changing the Scoring api
Thread-Index: AcbVzj1dB+UU3TCJSRaybVVnL0Yq7wAbtLmQAABtt3A=
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

However the BooleanQuery's disableCoord seems to make effect.=20
But I still have the problem when I'm constructing queries with =
wildcards.


/
Marcus

-----Ursprungligt meddelande-----
Fr=E5n: Marcus Falck [mailto:marcus.falck@observer.se]=20
Skickat: den 12 september 2006 09:34
Till: java-user@lucene.apache.org
=C4mne: SV: Changing the Scoring api

Hi Hoss,

No it wasn't any thing wrong with your suggestions except that they had =
landed in my junk mail for some reason, stupid outlook.

However I haven't had any chance testing all of your suggestions but I =
already had implemented my own similarity class that has the coord fixed =
to 1. And it doesn't work as excepted.


/
Marcus

-----Ursprungligt meddelande-----
Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Skickat: den 11 september 2006 20:15
Till: Lucene Users
=C4mne: Re: Changing the Scoring api


: I want to override the default scoring when it comes to queries
: containing the OR operator.

this mesages seems to be an exact repost of your question from last =
friday
... was theresomething wrong with teh suggestions i included in my reply
to it?

http://www.nabble.com/Changing-the-Scoring-api-for-OR-parameters-tf223756=
5.html



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 13:13:04 2006
Return-Path: <java-user-return-23306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37154 invoked from network); 12 Sep 2006 13:13:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 13:13:04 -0000
Received: (qmail 6718 invoked by uid 500); 12 Sep 2006 13:12:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6617 invoked by uid 500); 12 Sep 2006 13:12:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6572 invoked by uid 99); 12 Sep 2006 13:12:54 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 06:12:54 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=tremerson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=tremerson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.9 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.239 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.239:61255] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 57/20-02533-E52B6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 06:13:03 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1843505wxc
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 06:12:47 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Er4XtQQWWVD/yNYdjZ8LZpV5uPS3JwLap+3DeWxhMRbGWgKsY2u+jr0/8pJdr0Mw0Mc18RnwiAsBlJYGzP9vwdc4fAmLfaZC3kdZlN3s6tPXVb+Vi0q0ujZev1DL5IJpEhj5Nq7mk1rXiAhPJwLKPwP++52oBBnumvaMiE/k+yw=
Received: by 10.70.113.16 with SMTP id l16mr8311350wxc;
        Tue, 12 Sep 2006 06:12:46 -0700 (PDT)
Received: by 10.70.65.13 with HTTP; Tue, 12 Sep 2006 06:12:46 -0700 (PDT)
Message-ID: <cefddd100609120612g2d6efde5l63df671e275d6769@mail.gmail.com>
Date: Tue, 12 Sep 2006 09:12:46 -0400
From: "Tom Emerson" <tremerson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Highligher Example
In-Reply-To: <20060908082646.21639.qmail@web26010.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_231027_9968684.1158066766756"
References: <4500C137.4000901@gmail.com>
	 <20060908082646.21639.qmail@web26010.mail.ukl.yahoo.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_231027_9968684.1158066766756
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Autonomy's KeyView is an alternative to Stellent. It does not cover all of
the file formats that Stellent does, though many of them are probably not
interesting for most applications. When I last looked at it it did not
handle mail archives, though there was a plan to add it. I found it more
stable than Stellent, and it has a JNI interface that works quite well. It
is still quite expensive, however.

PDFBox works, but we found it to be really really slow.

YMMV,

     -tree

-- 
Tom Emerson
tremerson@gmail.com
http://www.dreamersrealm.net/~tree

------=_Part_231027_9968684.1158066766756--

From java-user-return-23307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 13:23:53 2006
Return-Path: <java-user-return-23307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45677 invoked from network); 12 Sep 2006 13:23:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 13:23:52 -0000
Received: (qmail 28582 invoked by uid 500); 12 Sep 2006 13:23:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27995 invoked by uid 500); 12 Sep 2006 13:23:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27984 invoked by uid 99); 12 Sep 2006 13:23:45 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 06:23:45 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=tremerson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=tremerson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.237 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.237:3337] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 3D/70-02533-9E4B6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 06:23:54 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1846255wxc
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 06:23:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=k6oGT/8+Z73vs7tla2+hJ0ReXNFGc2MpaOmvzelg97R7ptLY20t4uFN4EJHJLN9TPy0NTfa4oACkiNgRpOmSDtOmURuom8qq7iGpGSCv3as7X2KYkYjhbB3/BrSV45VYXoHvJ4/UyefoxGkEI2qZchp38Pnipbn6dhNpJ8cC1/w=
Received: by 10.70.92.14 with SMTP id p14mr8269318wxb;
        Tue, 12 Sep 2006 06:23:37 -0700 (PDT)
Received: by 10.70.65.13 with HTTP; Tue, 12 Sep 2006 06:23:36 -0700 (PDT)
Message-ID: <cefddd100609120623t54b3f6ag331ac51b4b6ad201@mail.gmail.com>
Date: Tue, 12 Sep 2006 09:23:36 -0400
From: "Tom Emerson" <tremerson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: getCurrentVersion question
In-Reply-To: <1cbd6f830609090913n26c89ea0l8d9e35ff5f74bf8e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_231231_14990469.1158067416989"
References: <1cbd6f830609090913n26c89ea0l8d9e35ff5f74bf8e@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_231231_14990469.1158067416989
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

As far as I know there isn't a way to do this. What we do is add a
"metadata" document to each index that includes the creation date, the user
name of the creating user, and various other tidbits. This gets updated on
incremental updates to the index as well. Easily done and makes it easy to
query.

On 9/9/06, Mag Gam <magawake@gmail.com> wrote:
>
> Hi All,
>
> I am trying to get the exact date when my index was created. I am assuming
> getCurrentVersion() is the right way of doing it. However, I am getting a
> result something like this: 1157817833085
>
> According to the API reference,
> "Reads version number from segments files. The version number is
> initialized
> with a timestamp and then increased by one for each change of the index."
>
> So, to get the date of this, I should be doing something like this:
> date=1157817833085-1;
>
> Any thoughts?
> tia
>
>


-- 
Tom Emerson
tremerson@gmail.com
http://www.dreamersrealm.net/~tree

------=_Part_231231_14990469.1158067416989--

From java-user-return-23308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 13:59:57 2006
Return-Path: <java-user-return-23308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54822 invoked from network); 12 Sep 2006 13:59:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 13:59:56 -0000
Received: (qmail 88847 invoked by uid 500); 12 Sep 2006 13:59:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88798 invoked by uid 500); 12 Sep 2006 13:59:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88766 invoked by uid 99); 12 Sep 2006 13:59:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 06:59:43 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.19.200.19] (HELO toucan.verisign.com) (81.19.200.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 06:59:42 -0700
Received: from BER1WNEXCN02.vcorp.ad.vrsn.com (ber1wnexcn02.vcorp.ad.vrsn.com [10.35.12.43])
	by toucan.verisign.com (8.12.11/8.12.11) with ESMTP id k8CDwS0s022874
	for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 15:58:28 +0200
Received: from BER1WNEXMB02.vcorp.ad.vrsn.com ([10.35.12.47]) by BER1WNEXCN02.vcorp.ad.vrsn.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 12 Sep 2006 15:58:28 +0200
Received: from [10.35.30.24] ([10.35.30.24]) by BER1WNEXMB02.vcorp.ad.vrsn.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 12 Sep 2006 15:58:26 +0200
Message-ID: <4506BD36.6030105@verisign.com>
Date: Tue, 12 Sep 2006 15:59:18 +0200
From: Timo Nentwig <tnentwig@verisign.com>
User-Agent: Thunderbird 1.5.0.5 (X11/20060910)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Storing fields without term positions
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 12 Sep 2006 13:58:27.0006 (UTC) FILETIME=[8525ADE0:01C6D673]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody,

is it possible to store fields without term position (the .prx file) data? We store sort of custom
data in the field and use it as some sort of a filter for queries, so we just don't need any term
position data and it bloats the index' size nearly by factor 3.

Thanks
Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 15:20:49 2006
Return-Path: <java-user-return-23309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85478 invoked from network); 12 Sep 2006 15:20:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 15:20:49 -0000
Received: (qmail 85902 invoked by uid 500); 12 Sep 2006 15:20:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85552 invoked by uid 500); 12 Sep 2006 15:20:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85541 invoked by uid 99); 12 Sep 2006 15:20:41 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 08:20:41 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from ([169.229.70.167:58757] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id DF/F1-02782-150D6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 08:20:51 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C4F695B76C; Tue, 12 Sep 2006 08:20:25 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B5A877F403
	for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 08:20:25 -0700 (PDT)
Date: Tue, 12 Sep 2006 08:20:25 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: SV: Changing the Scoring api
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C0256B6AB@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0609120815300.27536@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C0256B6AB@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: However the BooleanQuery's disableCoord seems to make effect.
: But I still have the problem when I'm constructing queries with wildcards.

really? ... that's strange, WildcardQuery uses the disableCoord feature of
BooleanQuery.  Do you have an example of what you mean?

: already had implemented my own similarity class that has the coord fixed
: to 1. And it doesn't work as excepted.

are you setting your Similarity as the default on your IndexSearcher prior
to executing your Queries?


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 15:25:05 2006
Return-Path: <java-user-return-23310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87097 invoked from network); 12 Sep 2006 15:25:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 15:25:04 -0000
Received: (qmail 5370 invoked by uid 500); 12 Sep 2006 15:24:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5065 invoked by uid 500); 12 Sep 2006 15:24:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5054 invoked by uid 99); 12 Sep 2006 15:24:56 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 08:24:56 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=PShenoy@ariba.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain ariba.com from 64.18.3.96 cause and error)
Received: from ([64.18.3.96:52816] helo=exprod8og57.obsmtp.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 39/22-02782-151D6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 08:25:07 -0700
Received: from source ([205.180.14.155]) by exprod8ob57.obsmtp.com ([64.18.7.12]) with SMTP;
	Tue, 12 Sep 2006 08:24:40 PDT
Received: from us-hqmail1.ariba.com ([10.10.10.196]) by us-hqmail1.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 12 Sep 2006 08:23:52 -0700
Received: from in-blrmail1.ariba.com ([10.10.223.12]) by us-hqmail1.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 12 Sep 2006 08:23:52 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6D67F.72C75145"
Subject: group field selection of the form field:(a b c)
Date: Tue, 12 Sep 2006 20:53:50 +0530
Message-ID: <23FD47C8CA653B4CAEF28236ACB1DB17022A0588@in-blrmail1.ariba.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: group field selection of the form field:(a b c)
Thread-Index: AcbWf/I1nnyehVftRmmdFNfD/IapUg==
From: "Pramodh Shenoy" <PShenoy@ariba.com>
To: <erik@ehatchersolutions.com>,
	<java-user@lucene.apache.org>
X-OriginalArrivalTime: 12 Sep 2006 15:23:52.0815 (UTC) FILETIME=[745E0FF0:01C6D67F]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6D67F.72C75145
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hi Eric/Usergroup,

    I am working on a help content index-search project based on Lucene.
One of my requirements is to search for a particular text in the content
of files from specific directories. When I index the content

=20

Eg. guides/accountmanagement/index.htm and
guides/databasemanagement/index.htm=20

=20

doc.add(new Field("booktype", "guides", Field.Store.YES,
Field.Index.UN_TOKENIZED))

doc.add(new Field("subtype", "accountmanagement", Field.Store.YES,
Field.Index.UN_TOKENIZED))

doc.add(new Field("subtype", "databasemanagement", Field.Store.YES,
Field.Index.UN_TOKENIZED))

doc.add(new Field("content",
all-content-read-from-html-body-as-a-string, Field.Store.NO,
Field.Index.TOKENIZED))

=20

Now I want to search for all occurrences of "management" in the
"content" field (which already exists in both the above index.htm files
body), in files under subtype/accountmanagement and under subtype/
databasemanagement

=20

Iam creating the query as below:

=20

        String [] queries =3D new String [3];// =3Dnew String[4]

        String [] fields =3D new String [3] ];// =3Dnew String[4]

        BooleanClause.Occur[] flags =3D new BooleanClause.Occur[3] ];//
=3Dnew String[4]

=20

        queries[0]=3D " guides ";

        fields[0]=3D" booktype ";

        flags[0] =3D BooleanClause.Occur.MUST;

=20

        queries[1]=3D " management ";

        fields[1]=3D"content";

        flags[1] =3D BooleanClause.Occur.MUST;

       =20

        /* ######## A ####### */=20

        queries[2]=3D " accountmanagement databasemanagement ";

        fields[2]=3D" subtype ";

        flags[2] =3D BooleanClause.Occur.MUST;

       =20

        /* ##### B #######

        queries[2]=3D " accountmanagement";

        fields[2]=3D"subtype";

        flags[2] =3D BooleanClause.Occur.MUST;

=20

        queries[3]=3D " databasemanagement ";

        fields[3]=3D" subtype ";

        flags[3] =3D BooleanClause.Occur.MUST;

        */

=20

        Query queryObj =3D null;

        //parse the query string

        try {

            queryObj =3D MultiFieldQueryParser.parse(queries, fields,
flags, new StandardAnalyzer());

        } catch (ParseException exp) { }

=20

=20

With option A , the query generated looks like:

+booktype:guides +content:management +(subtype: accountmanagement
subtype: databasemanagement)

=20

With option B , the query generated looks like:

+booktype:guides +content:management +subtype: accountmanagement
+subtype: databasemanagement

=20

=20

Both return no Hits.!

=20

Any idea how I should create the query. In Lucene In Action, this is
explained as "you can group field selection over several terms using
field:(a b c)". How can I achieve this with the code above ?

=20

Thanks

Pramodh

=20

=20

=20

=20


------_=_NextPart_001_01C6D67F.72C75145--

From java-user-return-23311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 16:30:56 2006
Return-Path: <java-user-return-23311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8354 invoked from network); 12 Sep 2006 16:30:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 16:30:56 -0000
Received: (qmail 46761 invoked by uid 500); 12 Sep 2006 16:30:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46739 invoked by uid 500); 12 Sep 2006 16:30:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46728 invoked by uid 99); 12 Sep 2006 16:30:48 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 09:30:48 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=magawake@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=magawake@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.228 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.228:31613] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 24/60-03395-1C0E6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 09:30:58 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1897251wxc
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 09:30:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=tTi358GLHewH3bi70jkKbWVxmTeHOuyRdl1q4SkBK9jg3wgHh4Uq3zTUBR+QGAkWntz6emcDlEIcHjtfwQ4QeXPDt2L9IZSB+qNooVJLJJBz636UpgyUsM88pxPoR9ycRz1GmQBNWgM5Lqr9iOrCi7+8YkdsFa/L2Nebpf+La/E=
Received: by 10.90.94.2 with SMTP id r2mr2255009agb;
        Tue, 12 Sep 2006 09:30:41 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Tue, 12 Sep 2006 09:30:40 -0700 (PDT)
Message-ID: <1cbd6f830609120930t125d6823s3562b9d837022a08@mail.gmail.com>
Date: Tue, 12 Sep 2006 12:30:40 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: getCurrentVersion question
In-Reply-To: <cefddd100609120623t54b3f6ag331ac51b4b6ad201@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_35732_17136715.1158078640911"
References: <1cbd6f830609090913n26c89ea0l8d9e35ff5f74bf8e@mail.gmail.com>
	 <cefddd100609120623t54b3f6ag331ac51b4b6ad201@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_35732_17136715.1158078640911
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Tom:

great! Now do you do you add metadata? I am new to Lucene API + Java, but
willing to learn.

Got an example?

TIA

On 9/12/06, Tom Emerson <tremerson@gmail.com> wrote:
>
> As far as I know there isn't a way to do this. What we do is add a
> "metadata" document to each index that includes the creation date, the
> user
> name of the creating user, and various other tidbits. This gets updated on
> incremental updates to the index as well. Easily done and makes it easy to
> query.
>
> On 9/9/06, Mag Gam <magawake@gmail.com> wrote:
> >
> > Hi All,
> >
> > I am trying to get the exact date when my index was created. I am
> assuming
> > getCurrentVersion() is the right way of doing it. However, I am getting
> a
> > result something like this: 1157817833085
> >
> > According to the API reference,
> > "Reads version number from segments files. The version number is
> > initialized
> > with a timestamp and then increased by one for each change of the
> index."
> >
> > So, to get the date of this, I should be doing something like this:
> > date=1157817833085-1;
> >
> > Any thoughts?
> > tia
> >
> >
>
>
> --
> Tom Emerson
> tremerson@gmail.com
> http://www.dreamersrealm.net/~tree
>
>

------=_Part_35732_17136715.1158078640911--

From java-user-return-23312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 17:19:11 2006
Return-Path: <java-user-return-23312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23872 invoked from network); 12 Sep 2006 17:19:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 17:19:10 -0000
Received: (qmail 34266 invoked by uid 500); 12 Sep 2006 17:19:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34240 invoked by uid 500); 12 Sep 2006 17:19:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34222 invoked by uid 99); 12 Sep 2006 17:19:03 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 10:19:03 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=beadygeraghty@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=beadygeraghty@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.92.170 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.92.170:14761] helo=ug-out-1314.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 23/90-03642-F0CE6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 10:19:11 -0700
Received: by ug-out-1314.google.com with SMTP id y2so1508425uge
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 10:18:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pkXj75x2ncLVmq8E8xgnKh819rGeXMxQV8Etg4qWJLNONfcfABSXuhFpUZsXIVokwFOKOykXr6EaBDDZDjp40v3giMR/GAnbY/riBJ1xHRHpGO3+mChcfLVTlc1uzzO13m35IyDPsN33meyKm3CPH8Lqdyx9eR5S0QmcI+LdthU=
Received: by 10.67.101.8 with SMTP id d8mr3539203ugm;
        Tue, 12 Sep 2006 10:18:54 -0700 (PDT)
Received: by 10.67.95.8 with HTTP; Tue, 12 Sep 2006 10:18:54 -0700 (PDT)
Message-ID: <b487c1370609121018u70d7ea8chd5bb2b0842730804@mail.gmail.com>
Date: Tue, 12 Sep 2006 13:18:54 -0400
From: "Beady Geraghty" <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using Hibernate to store Lucene Indexes in a Database
In-Reply-To: <45021ca9.7e210396.084a.1eb6@mx.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_296819_12974091.1158081534115"
References: <d487eb8e0609081720g2738bc9ch90544f6d618f1ddf@mail.gmail.com>
	 <45021ca9.7e210396.084a.1eb6@mx.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_296819_12974091.1158081534115
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I don't know if the use of a DATALINK data type would be relevant in your
case.
Here are some references.
http://publib.boulder.ibm.com/infocenter/db2luw/v8/index.jsp?topic=3D/com.i=
bm.db2.udb.doc/start/c0005450.htm
http://www.oracle.com/technology/sample_code/tech/java/codesnippet/jdbc/dat=
alink/readme.html





On 9/9/06, N=E9stor Bosc=E1n <nestorjb@gmail.com> wrote:
>
> Tomi thanks for your thoughts. I'm new to Lucene, so coming from an Oracl=
e
> background my mind is set that everything goes inside the database. Now
> that
> I know some of the loses I can have a better picture.
>
> Regards,
>
> N=E9stor Bosc=E1n
>
> -----Mensaje original-----
> De: Tomi NA [mailto:hefest@gmail.com]
> Enviado el: Viernes, 08 de Septiembre de 2006 05:21 p.m.
> Para: java-user@lucene.apache.org
> Asunto: Re: Using Hibernate to store Lucene Indexes in a Database
>
> On 9/8/06, N=E9stor Bosc=E1n <nestorjb@gmail.com> wrote:
> > To reduce administration tasks. If you want to move your application
> from
> > server to server you'll have to move the index files. I want to be able
> to
> > move my application by just moving my database schema and deploying an
> ear.
> >
> > Regards,
> >
> > N=E9stor Bosc=E1n
>
> Funny, I felt the same way about file-based storage: you simply pack
> it up using any of the numerous file transfer tools available and you
> don't have to worry about any of the database issues (possible
> uncompressed large dump over the network, is the database server
> running etc.).
> On the other hand, if your application utilizes a database anyway, it
> might be doable, assuming the app can take the performance penalty.
> I'd be hard pressed to come up with a scenario where the gains
> (simpler backup) would outweigh the losses (having to learn to store
> the index into the database, performance, database bloat), though.
> Still, it might only be my lack of imagination, that's the problem. :)
>
> t.n.a.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_296819_12974091.1158081534115--

From java-user-return-23313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 17:50:12 2006
Return-Path: <java-user-return-23313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37112 invoked from network); 12 Sep 2006 17:50:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 17:50:12 -0000
Received: (qmail 5143 invoked by uid 500); 12 Sep 2006 17:50:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5106 invoked by uid 500); 12 Sep 2006 17:50:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5022 invoked by uid 99); 12 Sep 2006 17:50:02 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 10:50:01 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.182 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.182:41268] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 3D/61-03642-353F6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 10:50:12 -0700
Received: by py-out-1112.google.com with SMTP id w49so2297996pyg
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 10:49:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pgVpcsWAvTfV7lniyOd0t3qksRBjS6duMkbRT68iiRwA8RBxljNQAET122I73NRRU3Jnr4JPdGDVk4iDKn5NLxpuGeelr3ywHwaDNAMhD+f7w832XxSzKthzQh4E39tCNGHp4aRIxPgoImgOKBlAnYQ574OwrqJNBlGL79z3uXQ=
Received: by 10.35.37.13 with SMTP id p13mr11288557pyj;
        Tue, 12 Sep 2006 10:49:55 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Tue, 12 Sep 2006 10:49:53 -0700 (PDT)
Message-ID: <359a92830609121049t7b5747a8oabb3abfc3e25011b@mail.gmail.com>
Date: Tue, 12 Sep 2006 13:49:54 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: group field selection of the form field:(a b c)
In-Reply-To: <23FD47C8CA653B4CAEF28236ACB1DB17022A0588@in-blrmail1.ariba.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11297_6002130.1158083394865"
References: <23FD47C8CA653B4CAEF28236ACB1DB17022A0588@in-blrmail1.ariba.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11297_6002130.1158083394865
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Interestingly, you have extra spaces when you construct your queries, e.g.
queries[2]= " accountmanagement" has an extra space at the beginning but
when you index the document, there are no spaces. I believe that since
you're indexing the fields UN_TOKENIZED, that the spaces are preserved in
the query (but I'm not entirely clear on this point, so don't take my word
for it completely <G>).

Have you used Luke to examine your index? You can also put parsed form of
the query into Luke and play around with that to see what *should* work.
Google lucene luke and you'll find it right away.

Best
Erick

On 9/12/06, Pramodh Shenoy <PShenoy@ariba.com> wrote:
>
> Hi Eric/Usergroup,
>
>     I am working on a help content index-search project based on Lucene.
> One of my requirements is to search for a particular text in the content
> of files from specific directories. When I index the content
>
>
>
> Eg. guides/accountmanagement/index.htm and
> guides/databasemanagement/index.htm
>
>
>
> doc.add(new Field("booktype", "guides", Field.Store.YES,
> Field.Index.UN_TOKENIZED))
>
> doc.add(new Field("subtype", "accountmanagement", Field.Store.YES,
> Field.Index.UN_TOKENIZED))
>
> doc.add(new Field("subtype", "databasemanagement", Field.Store.YES,
> Field.Index.UN_TOKENIZED))
>
> doc.add(new Field("content",
> all-content-read-from-html-body-as-a-string, Field.Store.NO,
> Field.Index.TOKENIZED))
>
>
>
> Now I want to search for all occurrences of "management" in the
> "content" field (which already exists in both the above index.htm files
> body), in files under subtype/accountmanagement and under subtype/
> databasemanagement
>
>
>
> Iam creating the query as below:
>
>
>
>         String [] queries = new String [3];// =new String[4]
>
>         String [] fields = new String [3] ];// =new String[4]
>
>         BooleanClause.Occur[] flags = new BooleanClause.Occur[3] ];//
> =new String[4]
>
>
>
>         queries[0]= " guides ";
>
>         fields[0]=" booktype ";
>
>         flags[0] = BooleanClause.Occur.MUST;
>
>
>
>         queries[1]= " management ";
>
>         fields[1]="content";
>
>         flags[1] = BooleanClause.Occur.MUST;
>
>
>
>         /* ######## A ####### */
>
>         queries[2]= " accountmanagement databasemanagement ";
>
>         fields[2]=" subtype ";
>
>         flags[2] = BooleanClause.Occur.MUST;
>
>
>
>         /* ##### B #######
>
>         queries[2]= " accountmanagement";
>
>         fields[2]="subtype";
>
>         flags[2] = BooleanClause.Occur.MUST;
>
>
>
>         queries[3]= " databasemanagement ";
>
>         fields[3]=" subtype ";
>
>         flags[3] = BooleanClause.Occur.MUST;
>
>         */
>
>
>
>         Query queryObj = null;
>
>         //parse the query string
>
>         try {
>
>             queryObj = MultiFieldQueryParser.parse(queries, fields,
> flags, new StandardAnalyzer());
>
>         } catch (ParseException exp) { }
>
>
>
>
>
> With option A , the query generated looks like:
>
> +booktype:guides +content:management +(subtype: accountmanagement
> subtype: databasemanagement)
>
>
>
> With option B , the query generated looks like:
>
> +booktype:guides +content:management +subtype: accountmanagement
> +subtype: databasemanagement
>
>
>
>
>
> Both return no Hits.!
>
>
>
> Any idea how I should create the query. In Lucene In Action, this is
> explained as "you can group field selection over several terms using
> field:(a b c)". How can I achieve this with the code above ?
>
>
>
> Thanks
>
> Pramodh
>
>
>
>
>
>
>
>
>
>
>

------=_Part_11297_6002130.1158083394865--

From java-user-return-23314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 17:57:21 2006
Return-Path: <java-user-return-23314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40419 invoked from network); 12 Sep 2006 17:57:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 17:57:20 -0000
Received: (qmail 19678 invoked by uid 500); 12 Sep 2006 17:57:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19649 invoked by uid 500); 12 Sep 2006 17:57:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19638 invoked by uid 99); 12 Sep 2006 17:57:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 10:57:14 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO nz-out-0102.google.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 10:57:13 -0700
Received: by nz-out-0102.google.com with SMTP id z6so750422nzd
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 10:56:52 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=dFZwVOctdX6/qFG7mqp1huYUHuEiOP5VoaetzxdsX5dQZWEu5FgXE+AZqX2NXm1kXiTh5+vHNFssgz/v8JD9PGzSCo12Bo0TcNPyGhSFBlRqtUDxnEtr8susEHp1I0T9aTU4lrbZtqcL9z/5suriKmQVOltX7eJyDQD/cehaIK4=
Received: by 10.35.123.2 with SMTP id a2mr11302821pyn;
        Tue, 12 Sep 2006 10:56:52 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Tue, 12 Sep 2006 10:56:52 -0700 (PDT)
Message-ID: <359a92830609121056o569e033atececf72e25607e9a@mail.gmail.com>
Date: Tue, 12 Sep 2006 13:56:52 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: getCurrentVersion question
In-Reply-To: <1cbd6f830609120930t125d6823s3562b9d837022a08@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11557_21670023.1158083812095"
References: <1cbd6f830609090913n26c89ea0l8d9e35ff5f74bf8e@mail.gmail.com>
	 <cefddd100609120623t54b3f6ag331ac51b4b6ad201@mail.gmail.com>
	 <1cbd6f830609120930t125d6823s3562b9d837022a08@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11557_21670023.1158083812095
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Just add another document (I do something similar). The key is to remember
that documents in the same index do NOT have to have the same fields. So,
say for your "regular" documents, you have fields (f1, f2, f3, f4). For your
meta-data document, you index fields (md1, md2, md3...). The value for one
of these fields should be a known value (note, the value is completely
bogus, just so you remember it). Say index a value of "1" for md1 in your
meta-data document.

Now, to get your meta-data document, do a simple search on your known value
(e.g. md1="1") and read the rest of the document in whatever form is most
convenient. You can stuff anything you want in there, however you want. You
could index one field for everything you care about, or put it in a glob
that you parse. It's completely up to you.

The beauty of this is that, if you want to change your meta-data, all you
have to do is delete your meta-data doc and re-add it with new values, you
don't have to regenerate your index. And since your fields are orthogonal,
there's no danger of getting your meta-data doc as part of your regular
search.

One word of warning. Do NOT depend on the internal Lucene doc IDs (e.g.
reader.doc(idx)) being consistent. These internal numbers are not guaranteed
to be the same across an index optimize.

Hope this helps
Erick

On 9/12/06, Mag Gam <magawake@gmail.com> wrote:
>
> Tom:
>
> great! Now do you do you add metadata? I am new to Lucene API + Java, but
> willing to learn.
>
> Got an example?
>
> TIA
>
> On 9/12/06, Tom Emerson <tremerson@gmail.com> wrote:
> >
> > As far as I know there isn't a way to do this. What we do is add a
> > "metadata" document to each index that includes the creation date, the
> > user
> > name of the creating user, and various other tidbits. This gets updated
> on
> > incremental updates to the index as well. Easily done and makes it easy
> to
> > query.
> >
> > On 9/9/06, Mag Gam <magawake@gmail.com> wrote:
> > >
> > > Hi All,
> > >
> > > I am trying to get the exact date when my index was created. I am
> > assuming
> > > getCurrentVersion() is the right way of doing it. However, I am
> getting
> > a
> > > result something like this: 1157817833085
> > >
> > > According to the API reference,
> > > "Reads version number from segments files. The version number is
> > > initialized
> > > with a timestamp and then increased by one for each change of the
> > index."
> > >
> > > So, to get the date of this, I should be doing something like this:
> > > date=1157817833085-1;
> > >
> > > Any thoughts?
> > > tia
> > >
> > >
> >
> >
> > --
> > Tom Emerson
> > tremerson@gmail.com
> > http://www.dreamersrealm.net/~tree
> >
> >
>
>

------=_Part_11557_21670023.1158083812095--

From java-user-return-23315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 18:02:33 2006
Return-Path: <java-user-return-23315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43917 invoked from network); 12 Sep 2006 18:02:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 18:02:33 -0000
Received: (qmail 32473 invoked by uid 500); 12 Sep 2006 18:02:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32333 invoked by uid 500); 12 Sep 2006 18:02:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32322 invoked by uid 99); 12 Sep 2006 18:02:26 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 11:02:26 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=PShenoy@ariba.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=HTML_40_50,HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain ariba.com from 64.18.3.94 cause and error)
Received: from ([64.18.3.94:58791] helo=exprod8og56.obsmtp.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 84/C1-03642-C36F6054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 11:02:37 -0700
Received: from source ([205.180.14.155]) by exprod8ob56.obsmtp.com ([64.18.7.12]) with SMTP;
	Tue, 12 Sep 2006 11:02:19 PDT
Received: from us-hqmail1.ariba.com ([10.10.10.196]) by us-hqmail1.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 12 Sep 2006 10:55:57 -0700
Received: from in-blrmail1.ariba.com ([10.10.223.12]) by us-hqmail1.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 12 Sep 2006 10:55:56 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6D694.B09A43DD"
Subject: RE: group field selection of the form field:(a b c)
Date: Tue, 12 Sep 2006 23:24:13 +0530
Message-ID: <23FD47C8CA653B4CAEF28236ACB1DB1701AD849A@in-blrmail1.ariba.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: group field selection of the form field:(a b c)
Thread-Index: AcbWk+ZGCuzRN4PVQLuy3YxS8cuh7wAAI7rx
References: <23FD47C8CA653B4CAEF28236ACB1DB17022A0588@in-blrmail1.ariba.com> <359a92830609121049t7b5747a8oabb3abfc3e25011b@mail.gmail.com>
From: "Pramodh Shenoy" <PShenoy@ariba.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 12 Sep 2006 17:55:56.0944 (UTC) FILETIME=[B2C5A900:01C6D694]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6D694.B09A43DD
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

The spaces just came i guess when i copied the code to outlook :-), =
actually there arent any. Let me take a look at Luke , especially =
testing to see what should be returned when i run the aprsed query.. =
sounds very interesting..
=20
Thanks a lot
Pramodh

________________________________

From: Erick Erickson [mailto:erickerickson@gmail.com]
Sent: Tue 9/12/2006 11:19 PM
To: java-user@lucene.apache.org
Subject: Re: group field selection of the form field:(a b c)



Interestingly, you have extra spaces when you construct your queries, =
e.g.
queries[2]=3D " accountmanagement" has an extra space at the beginning =
but
when you index the document, there are no spaces. I believe that since
you're indexing the fields UN_TOKENIZED, that the spaces are preserved =
in
the query (but I'm not entirely clear on this point, so don't take my =
word
for it completely <G>).

Have you used Luke to examine your index? You can also put parsed form =
of
the query into Luke and play around with that to see what *should* work.
Google lucene luke and you'll find it right away.

Best
Erick

On 9/12/06, Pramodh Shenoy <PShenoy@ariba.com> wrote:
>
> Hi Eric/Usergroup,
>
>     I am working on a help content index-search project based on =
Lucene.
> One of my requirements is to search for a particular text in the =
content
> of files from specific directories. When I index the content
>
>
>
> Eg. guides/accountmanagement/index.htm and
> guides/databasemanagement/index.htm
>
>
>
> doc.add(new Field("booktype", "guides", Field.Store.YES,
> Field.Index.UN_TOKENIZED))
>
> doc.add(new Field("subtype", "accountmanagement", Field.Store.YES,
> Field.Index.UN_TOKENIZED))
>
> doc.add(new Field("subtype", "databasemanagement", Field.Store.YES,
> Field.Index.UN_TOKENIZED))
>
> doc.add(new Field("content",
> all-content-read-from-html-body-as-a-string, Field.Store.NO,
> Field.Index.TOKENIZED))
>
>
>
> Now I want to search for all occurrences of "management" in the
> "content" field (which already exists in both the above index.htm =
files
> body), in files under subtype/accountmanagement and under subtype/
> databasemanagement
>
>
>
> Iam creating the query as below:
>
>
>
>         String [] queries =3D new String [3];// =3Dnew String[4]
>
>         String [] fields =3D new String [3] ];// =3Dnew String[4]
>
>         BooleanClause.Occur[] flags =3D new BooleanClause.Occur[3] =
];//
> =3Dnew String[4]
>
>
>
>         queries[0]=3D " guides ";
>
>         fields[0]=3D" booktype ";
>
>         flags[0] =3D BooleanClause.Occur.MUST;
>
>
>
>         queries[1]=3D " management ";
>
>         fields[1]=3D"content";
>
>         flags[1] =3D BooleanClause.Occur.MUST;
>
>
>
>         /* ######## A ####### */
>
>         queries[2]=3D " accountmanagement databasemanagement ";
>
>         fields[2]=3D" subtype ";
>
>         flags[2] =3D BooleanClause.Occur.MUST;
>
>
>
>         /* ##### B #######
>
>         queries[2]=3D " accountmanagement";
>
>         fields[2]=3D"subtype";
>
>         flags[2] =3D BooleanClause.Occur.MUST;
>
>
>
>         queries[3]=3D " databasemanagement ";
>
>         fields[3]=3D" subtype ";
>
>         flags[3] =3D BooleanClause.Occur.MUST;
>
>         */
>
>
>
>         Query queryObj =3D null;
>
>         //parse the query string
>
>         try {
>
>             queryObj =3D MultiFieldQueryParser.parse(queries, fields,
> flags, new StandardAnalyzer());
>
>         } catch (ParseException exp) { }
>
>
>
>
>
> With option A , the query generated looks like:
>
> +booktype:guides +content:management +(subtype: accountmanagement
> subtype: databasemanagement)
>
>
>
> With option B , the query generated looks like:
>
> +booktype:guides +content:management +subtype: accountmanagement
> +subtype: databasemanagement
>
>
>
>
>
> Both return no Hits.!
>
>
>
> Any idea how I should create the query. In Lucene In Action, this is
> explained as "you can group field selection over several terms using
> field:(a b c)". How can I achieve this with the code above ?
>
>
>
> Thanks
>
> Pramodh
>
>
>
>
>
>
>
>
>
>
>



------_=_NextPart_001_01C6D694.B09A43DD--

From java-user-return-23316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 19:57:26 2006
Return-Path: <java-user-return-23316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81979 invoked from network); 12 Sep 2006 19:57:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 19:57:26 -0000
Received: (qmail 12945 invoked by uid 500); 12 Sep 2006 19:57:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12521 invoked by uid 500); 12 Sep 2006 19:57:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12510 invoked by uid 99); 12 Sep 2006 19:57:19 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 12:57:19 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=michael.imbeault@sympatico.ca; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain sympatico.ca designates 209.226.175.97 as permitted sender)
Received: from ([209.226.175.97:32911] helo=tomts40-srv.bellnexxia.net)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 12/C3-04378-72117054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 12:57:28 -0700
Received: from [69.157.142.47] by tomts40-srv.bellnexxia.net
          (InterMail vM.5.01.06.13 201-253-122-130-113-20050324) with ESMTP
          id <20060912195710.KGFJ24981.tomts40-srv.bellnexxia.net@[69.157.142.47]>
          for <java-user@lucene.apache.org>;
          Tue, 12 Sep 2006 15:57:10 -0400
Message-ID: <4507111C.5000501@sympatico.ca>
Date: Tue, 12 Sep 2006 15:57:16 -0400
From: Michael Imbeault <michael.imbeault@sympatico.ca>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: UTF8 accents & umlauts filter?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Right now Lucene has an accent filter (ISOLatin1AccentFilter) that 
remove accents on ISO-8859-1 text. What about a UTF8AccentFilter? Is it 
planned to add such a filter (which would be very useful, as 
ISOLatin1AccentFilter isn't able to remove some complex accents on some 
languages encoded in UTF8. I would paste examples but I'm not sure that 
they would display correctly).? I think I saw a post long ago on this 
mailing list about something like that, but it has never been released 
officially.

See

2001, first post about utf8 accents: 
http://www.gossamer-threads.com/lists/lucene/java-user/648?search_string=accent;#648
2004, a good solution, but still incomplete : 
http://www.gossamer-threads.com/lists/lucene/java-user/10792?search_string=accent;#10792
2006, best attempt yet, but sadly undelivered : 
http://www.gossamer-threads.com/lists/lucene/java-user/32142?search_string=accent;#32142

I think Lucene would benefit from a complete UTF8 accents remover... 
right now the best solution I have is to process everything in PHP 
before indexing and at query time (and its a little slow).

Thanks,

-- 
Michael Imbeault
CHUL Research Center (CHUQ)
2705 boul. Laurier
Ste-Foy, QC, Canada, G1V 4G2
Tel: (418) 654-2705, Fax: (418) 654-2212


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 20:36:04 2006
Return-Path: <java-user-return-23317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3743 invoked from network); 12 Sep 2006 20:36:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 20:36:03 -0000
Received: (qmail 72560 invoked by uid 500); 12 Sep 2006 20:35:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72416 invoked by uid 500); 12 Sep 2006 20:35:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72405 invoked by uid 99); 12 Sep 2006 20:35:57 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 13:35:57 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=yseeley@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=yseeley@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.176 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.176:43345] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 22/A4-04378-63A17054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 13:36:08 -0700
Received: by py-out-1112.google.com with SMTP id x66so3843506pye
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 13:35:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=l2wRx7NK0ui2VuIr7K9fNteL9nyydO4e/5jowITUrPAfqtea7gG/Owbm2nHksfcLX/aw2dnnTGhiXTt0RxWcjChCNdn8V8X2aBlTqAMIpmLS4n4HrhG/argcXxUdV11kd/8pyCdGeTVG0S9FCFBrL9F196fWwWhRPmw3aqY8Kwo=
Received: by 10.35.33.15 with SMTP id l15mr11558442pyj;
        Tue, 12 Sep 2006 13:35:49 -0700 (PDT)
Received: by 10.35.11.9 with HTTP; Tue, 12 Sep 2006 13:35:49 -0700 (PDT)
Message-ID: <c68e39170609121335l6a6e0fcay8617db0cbbb144ac@mail.gmail.com>
Date: Tue, 12 Sep 2006 16:35:49 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: UTF8 accents & umlauts filter?
In-Reply-To: <4507111C.5000501@sympatico.ca>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <4507111C.5000501@sympatico.ca>
X-Google-Sender-Auth: 647b4e0e37e10203
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the links Michael... this one does look interesting:
http://dev.alt.textdrive.com/browser/lu/LUStringBasicLatin.txt
The challenge would be to make it fast... perhaps a custom hash table,
or look into the cost of a perfect hash function.

Just to clear up some unicode/terminology issues:

There are latin1 characters (the actual glyphs) represented by unicode
code points 0->255
There is also a latin1 encoding for unicode (which can only represent
unicode code points 0->255)
UTF8 is another encoding for unicode characters (or code points), but
that's not really relevant to a filter.

So ISOLatin1AccentFilter removes accents from characters <= 255, and
it doesn't matter what the original encoding was (ascii, latin1, UTF8,
UTF16, etc)

-Yonik


On 9/12/06, Michael Imbeault <michael.imbeault@sympatico.ca> wrote:
> Right now Lucene has an accent filter (ISOLatin1AccentFilter) that
> remove accents on ISO-8859-1 text. What about a UTF8AccentFilter? Is it
> planned to add such a filter (which would be very useful, as
> ISOLatin1AccentFilter isn't able to remove some complex accents on some
> languages encoded in UTF8. I would paste examples but I'm not sure that
> they would display correctly).? I think I saw a post long ago on this
> mailing list about something like that, but it has never been released
> officially.
>
> See
>
> 2001, first post about utf8 accents:
> http://www.gossamer-threads.com/lists/lucene/java-user/648?search_string=accent;#648
> 2004, a good solution, but still incomplete :
> http://www.gossamer-threads.com/lists/lucene/java-user/10792?search_string=accent;#10792
> 2006, best attempt yet, but sadly undelivered :
> http://www.gossamer-threads.com/lists/lucene/java-user/32142?search_string=accent;#32142
>
> I think Lucene would benefit from a complete UTF8 accents remover...
> right now the best solution I have is to process everything in PHP
> before indexing and at query time (and its a little slow).

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 20:36:14 2006
Return-Path: <java-user-return-23318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3922 invoked from network); 12 Sep 2006 20:36:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 20:36:13 -0000
Received: (qmail 73829 invoked by uid 500); 12 Sep 2006 20:36:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73805 invoked by uid 500); 12 Sep 2006 20:36:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73794 invoked by uid 99); 12 Sep 2006 20:36:05 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 13:36:05 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=DORONC@il.ibm.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain il.ibm.com designates 195.212.29.152 as permitted sender)
Received: from ([195.212.29.152:58026] helo=mtagate3.de.ibm.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 43/A4-04378-D3A17054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 13:36:15 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate3.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8CKZugl087574
	for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 20:35:56 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8CKeVJl3117074
	for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 22:40:31 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8CKZunA021852
	for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 22:35:56 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8CKZu7g021849
	for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 22:35:56 +0200
In-Reply-To: <23FD47C8CA653B4CAEF28236ACB1DB1701AD849A@in-blrmail1.ariba.com>
Subject: RE: group field selection of the form field:(a b c)
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OFBDAEE8B4.05956145-ON882571E7.006EAB6A-882571E7.0070B125@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 12 Sep 2006 13:30:53 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 12/09/2006 23:40:31
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It think option B cannot work because due to the MUST operator it requires
both "databasemanagement" and "accountmanagement" to be in the subtype
field.

Option A however should work, once the padding blank spaces are removed
from the field name - notice that while the standard analyzer would trim
spaces from the processed query text, the field names provided remain
unchanged - in this case - most probably - with the spaces.

Additional comment - that I'm not sure that is relevant to your case - on
the solution to this problem:
In this case you had two paths:
    /a/b
    /a/c
And you managed (or would soon manage:-) to ask for a document in either
two paths by asking for "a" in first part and "b" or "c" in second part.
However if the "taxonomy" becomes more complex this may turn more tricky.
For instance if the scenario would have the following possible paths:
   /a/b/c/d/e
   /a/b/c/x/y/z
   /a/b/d/x/f
etc., and assume you want all docs under the sub-tree defined by /a/b/c.
One possibility would be to index for each document all path prefixes -
i.e. for document in /a/b/c/d/e add path tokens (un-tokenized) -     / ,
/a/ . /a/b/ , /a/b/c/d/ , /a/b/c/d/e/ , /a/b/c/d/e   (the latter token
would allow to search also "exact node" matches, i.e. not sub-tree
matches.) I believe you can find useful discussions on this by searching in
the user mailing list for "path" or "hierarchy", and for sure there are
other approaches.

"Pramodh Shenoy" <PShenoy@ariba.com> wrote on 12/09/2006 10:54:13:

> The spaces just came i guess when i copied the code to outlook :-),
> actually there arent any. Let me take a look at Luke , especially
> testing to see what should be returned when i run the aprsed query..
> sounds very interesting..
>
> Thanks a lot
> Pramodh
>
> ________________________________
>
> From: Erick Erickson [mailto:erickerickson@gmail.com]
> Sent: Tue 9/12/2006 11:19 PM
> To: java-user@lucene.apache.org
> Subject: Re: group field selection of the form field:(a b c)
>
>
>
> Interestingly, you have extra spaces when you construct your queries,
e.g.
> queries[2]= " accountmanagement" has an extra space at the beginning but
> when you index the document, there are no spaces. I believe that since
> you're indexing the fields UN_TOKENIZED, that the spaces are preserved in
> the query (but I'm not entirely clear on this point, so don't take my
word
> for it completely <G>).
>
> Have you used Luke to examine your index? You can also put parsed form of
> the query into Luke and play around with that to see what *should* work.
> Google lucene luke and you'll find it right away.
>
> Best
> Erick
>
> On 9/12/06, Pramodh Shenoy <PShenoy@ariba.com> wrote:
> >
> > Hi Eric/Usergroup,
> >
> >     I am working on a help content index-search project based on
Lucene.
> > One of my requirements is to search for a particular text in the
content
> > of files from specific directories. When I index the content
> >
> >
> >
> > Eg. guides/accountmanagement/index.htm and
> > guides/databasemanagement/index.htm
> >
> >
> >
> > doc.add(new Field("booktype", "guides", Field.Store.YES,
> > Field.Index.UN_TOKENIZED))
> >
> > doc.add(new Field("subtype", "accountmanagement", Field.Store.YES,
> > Field.Index.UN_TOKENIZED))
> >
> > doc.add(new Field("subtype", "databasemanagement", Field.Store.YES,
> > Field.Index.UN_TOKENIZED))
> >
> > doc.add(new Field("content",
> > all-content-read-from-html-body-as-a-string, Field.Store.NO,
> > Field.Index.TOKENIZED))
> >
> >
> >
> > Now I want to search for all occurrences of "management" in the
> > "content" field (which already exists in both the above index.htm files
> > body), in files under subtype/accountmanagement and under subtype/
> > databasemanagement
> >
> >
> >
> > Iam creating the query as below:
> >
> >
> >
> >         String [] queries = new String [3];// =new String[4]
> >
> >         String [] fields = new String [3] ];// =new String[4]
> >
> >         BooleanClause.Occur[] flags = new BooleanClause.Occur[3] ];//
> > =new String[4]
> >
> >
> >
> >         queries[0]= " guides ";
> >
> >         fields[0]=" booktype ";
> >
> >         flags[0] = BooleanClause.Occur.MUST;
> >
> >
> >
> >         queries[1]= " management ";
> >
> >         fields[1]="content";
> >
> >         flags[1] = BooleanClause.Occur.MUST;
> >
> >
> >
> >         /* ######## A ####### */
> >
> >         queries[2]= " accountmanagement databasemanagement ";
> >
> >         fields[2]=" subtype ";
> >
> >         flags[2] = BooleanClause.Occur.MUST;
> >
> >
> >
> >         /* ##### B #######
> >
> >         queries[2]= " accountmanagement";
> >
> >         fields[2]="subtype";
> >
> >         flags[2] = BooleanClause.Occur.MUST;
> >
> >
> >
> >         queries[3]= " databasemanagement ";
> >
> >         fields[3]=" subtype ";
> >
> >         flags[3] = BooleanClause.Occur.MUST;
> >
> >         */
> >
> >
> >
> >         Query queryObj = null;
> >
> >         //parse the query string
> >
> >         try {
> >
> >             queryObj = MultiFieldQueryParser.parse(queries, fields,
> > flags, new StandardAnalyzer());
> >
> >         } catch (ParseException exp) { }
> >
> >
> >
> >
> >
> > With option A , the query generated looks like:
> >
> > +booktype:guides +content:management +(subtype: accountmanagement
> > subtype: databasemanagement)
> >
> >
> >
> > With option B , the query generated looks like:
> >
> > +booktype:guides +content:management +subtype: accountmanagement
> > +subtype: databasemanagement
> >
> >
> >
> >
> >
> > Both return no Hits.!
> >
> >
> >
> > Any idea how I should create the query. In Lucene In Action, this is
> > explained as "you can group field selection over several terms using
> > field:(a b c)". How can I achieve this with the code above ?
> >
> >
> >
> > Thanks
> >
> > Pramodh
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 21:20:23 2006
Return-Path: <java-user-return-23319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34590 invoked from network); 12 Sep 2006 21:20:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 21:20:23 -0000
Received: (qmail 68456 invoked by uid 500); 12 Sep 2006 21:20:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68211 invoked by uid 500); 12 Sep 2006 21:20:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68200 invoked by uid 99); 12 Sep 2006 21:20:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 14:20:16 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=kkrugler_lists@transpac.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain transpac.com from 68.142.198.212 cause and error)
Received: from ([68.142.198.212:28047] helo=smtp113.sbc.mail.mud.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 9D/10-05218-69427054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 14:20:25 -0700
Received: (qmail 15669 invoked from network); 12 Sep 2006 21:20:05 -0000
Received: from unknown (HELO ?192.168.1.101?) (kkrugler@pacbell.net@63.200.72.125 with plain)
  by smtp113.sbc.mail.mud.yahoo.com with SMTP; 12 Sep 2006 21:20:04 -0000
Mime-Version: 1.0
Message-Id: <p0623092cc12cd13cec8f@[192.168.1.101]>
In-Reply-To: <c68e39170609121335l6a6e0fcay8617db0cbbb144ac@mail.gmail.com>
References: <4507111C.5000501@sympatico.ca>
 <c68e39170609121335l6a6e0fcay8617db0cbbb144ac@mail.gmail.com>
Date: Tue, 12 Sep 2006 14:19:51 -0700
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: UTF8 accents & umlauts filter?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>Thanks for the links Michael... this one does look interesting:
>http://dev.alt.textdrive.com/browser/lu/LUStringBasicLatin.txt
>The challenge would be to make it fast... perhaps a custom hash table,
>or look into the cost of a perfect hash function.
>
>Just to clear up some unicode/terminology issues:

Some additional clarification below:

>There are latin1 characters (the actual glyphs) represented by unicode
>code points 0->255

Just U+00A0-> U+00FF would be considered Latin-1 by Unicode.

Unicode calls the block of Unicode code points from U+0000 -> U+007F 
"C0 Controls and Basic Latin".

 From U+0080 to U+00FF is "C1 Controls and Latin-1 Supplement".

>There is also a latin1 encoding for unicode (which can only represent
>unicode code points 0->255)

There's an ISO 8859-1 charset (combination of character set, code 
points and encoding) that matches Unicode code points for 0x00 -> 
0x7F and 0xA0 -> 0xFF. Or rather, the Unicode code points for these 
two ranges were selected to match ISO 8859-1.

>UTF8 is another encoding for unicode characters (or code points), but
>that's not really relevant to a filter.
>
>So ISOLatin1AccentFilter removes accents from characters <= 255, and
>it doesn't matter what the original encoding was (ascii, latin1, UTF8,
>UTF16, etc)

This isn't really about the "original encoding" - by the time 
ISOLatin1AccentFilter is called, it's dealing with Java strings, 
which use the UTF-16 Unicode encoding.

I think what Michael is asking for is the implementation of one of 
the Unicode-defined normalization forms (see 
http://www.unicode.org/reports/tr15/) along with diacritical 
stripping and other folding. Basically it's a way of mapping 
characters to a primary sort key.

This is pretty complex, especially when you start considering 
locale-specific details - we used ICU support for this in the past, 
which is where I'd probably start. ICU needs a lot of data to handle 
this properly across most locales, so it's not lightweight, but it 
would give you a general (albeit slower) solution.

-- Ken


>On 9/12/06, Michael Imbeault <michael.imbeault@sympatico.ca> wrote:
>>Right now Lucene has an accent filter (ISOLatin1AccentFilter) that
>>remove accents on ISO-8859-1 text. What about a UTF8AccentFilter? Is it
>>planned to add such a filter (which would be very useful, as
>>ISOLatin1AccentFilter isn't able to remove some complex accents on some
>>languages encoded in UTF8. I would paste examples but I'm not sure that
>>they would display correctly).? I think I saw a post long ago on this
>>mailing list about something like that, but it has never been released
>>officially.
>>
>>See
>>
>>2001, first post about utf8 accents:
>>http://www.gossamer-threads.com/lists/lucene/java-user/648?search_string=accent;#648
>>2004, a good solution, but still incomplete :
>>http://www.gossamer-threads.com/lists/lucene/java-user/10792?search_string=accent;#10792
>>2006, best attempt yet, but sadly undelivered :
>>http://www.gossamer-threads.com/lists/lucene/java-user/32142?search_string=accent;#32142
>>
>>I think Lucene would benefit from a complete UTF8 accents remover...
>>right now the best solution I have is to process everything in PHP
>>before indexing and at query time (and its a little slow).
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org


-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"Find Code, Find Answers"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 12 21:46:32 2006
Return-Path: <java-user-return-23320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66694 invoked from network); 12 Sep 2006 21:46:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2006 21:46:32 -0000
Received: (qmail 23200 invoked by uid 500); 12 Sep 2006 21:46:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23177 invoked by uid 500); 12 Sep 2006 21:46:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23166 invoked by uid 99); 12 Sep 2006 21:46:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 12 Sep 2006 14:46:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.176 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.176:33465] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id DF/A0-05218-ABA27054 for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 14:46:34 -0700
Received: by py-out-1112.google.com with SMTP id w49so2359296pyg
        for <java-user@lucene.apache.org>; Tue, 12 Sep 2006 14:46:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pLYPelDXFIbqlGWQnBR2OhCYWGhs+GJoCRHo2o1PqVuMj++j6AI1aW4/a3imr+NZ+9DpcCXOoa7aa/6RkEp650aDfzQs84dXw3lwck1AHyPIw1WaR1YNasuS78/4iVLmaKjw+stfmhyZf3nZwvMze8aLj2Xljpky8QbN9g7EQKk=
Received: by 10.35.90.20 with SMTP id s20mr11660532pyl;
        Tue, 12 Sep 2006 14:46:16 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Tue, 12 Sep 2006 14:46:16 -0700 (PDT)
Message-ID: <359a92830609121446j5139b2acl393597c9c6ba996d@mail.gmail.com>
Date: Tue, 12 Sep 2006 17:46:16 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: group field selection of the form field:(a b c)
In-Reply-To: <OFBDAEE8B4.05956145-ON882571E7.006EAB6A-882571E7.0070B125@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15771_2275311.1158097576567"
References: <23FD47C8CA653B4CAEF28236ACB1DB1701AD849A@in-blrmail1.ariba.com>
	 <OFBDAEE8B4.05956145-ON882571E7.006EAB6A-882571E7.0070B125@il.ibm.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15771_2275311.1158097576567
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

As long as the field is added to the *same* document, I don't see a problem
with option B, although I'll admit that I haven't used
MultiFieldQueryParser. But there was a discussion a while ago about adding
tokens with the same field name to a document via document.add being exactly
the same as adding a larger batch of text in a single doc.add.

That said, though, I'm totally unclear about how that interacts with
UN_TOKENIZED. Hmmmmm.

Pramodh:
I hadn't thought of this. You may want to store TOKENIZED first to see what
happens, that's more intuitive. UN_TOKENIZED may be a culprit here..... Luke
should tell you a lot....

Erick

On 9/12/06, Doron Cohen <DORONC@il.ibm.com> wrote:
>
> It think option B cannot work because due to the MUST operator it requires
> both "databasemanagement" and "accountmanagement" to be in the subtype
> field.
>
> Option A however should work, once the padding blank spaces are removed
> from the field name - notice that while the standard analyzer would trim
> spaces from the processed query text, the field names provided remain
> unchanged - in this case - most probably - with the spaces.
>
> Additional comment - that I'm not sure that is relevant to your case - on
> the solution to this problem:
> In this case you had two paths:
>     /a/b
>     /a/c
> And you managed (or would soon manage:-) to ask for a document in either
> two paths by asking for "a" in first part and "b" or "c" in second part.
> However if the "taxonomy" becomes more complex this may turn more tricky.
> For instance if the scenario would have the following possible paths:
>    /a/b/c/d/e
>    /a/b/c/x/y/z
>    /a/b/d/x/f
> etc., and assume you want all docs under the sub-tree defined by /a/b/c.
> One possibility would be to index for each document all path prefixes -
> i.e. for document in /a/b/c/d/e add path tokens (un-tokenized) -     / ,
> /a/ . /a/b/ , /a/b/c/d/ , /a/b/c/d/e/ , /a/b/c/d/e   (the latter token
> would allow to search also "exact node" matches, i.e. not sub-tree
> matches.) I believe you can find useful discussions on this by searching
> in
> the user mailing list for "path" or "hierarchy", and for sure there are
> other approaches.
>
> "Pramodh Shenoy" <PShenoy@ariba.com> wrote on 12/09/2006 10:54:13:
>
> > The spaces just came i guess when i copied the code to outlook :-),
> > actually there arent any. Let me take a look at Luke , especially
> > testing to see what should be returned when i run the aprsed query..
> > sounds very interesting..
> >
> > Thanks a lot
> > Pramodh
> >
> > ________________________________
> >
> > From: Erick Erickson [mailto:erickerickson@gmail.com]
> > Sent: Tue 9/12/2006 11:19 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: group field selection of the form field:(a b c)
> >
> >
> >
> > Interestingly, you have extra spaces when you construct your queries,
> e.g.
> > queries[2]= " accountmanagement" has an extra space at the beginning but
> > when you index the document, there are no spaces. I believe that since
> > you're indexing the fields UN_TOKENIZED, that the spaces are preserved
> in
> > the query (but I'm not entirely clear on this point, so don't take my
> word
> > for it completely <G>).
> >
> > Have you used Luke to examine your index? You can also put parsed form
> of
> > the query into Luke and play around with that to see what *should* work.
> > Google lucene luke and you'll find it right away.
> >
> > Best
> > Erick
> >
> > On 9/12/06, Pramodh Shenoy <PShenoy@ariba.com> wrote:
> > >
> > > Hi Eric/Usergroup,
> > >
> > >     I am working on a help content index-search project based on
> Lucene.
> > > One of my requirements is to search for a particular text in the
> content
> > > of files from specific directories. When I index the content
> > >
> > >
> > >
> > > Eg. guides/accountmanagement/index.htm and
> > > guides/databasemanagement/index.htm
> > >
> > >
> > >
> > > doc.add(new Field("booktype", "guides", Field.Store.YES,
> > > Field.Index.UN_TOKENIZED))
> > >
> > > doc.add(new Field("subtype", "accountmanagement", Field.Store.YES,
> > > Field.Index.UN_TOKENIZED))
> > >
> > > doc.add(new Field("subtype", "databasemanagement", Field.Store.YES,
> > > Field.Index.UN_TOKENIZED))
> > >
> > > doc.add(new Field("content",
> > > all-content-read-from-html-body-as-a-string, Field.Store.NO,
> > > Field.Index.TOKENIZED))
> > >
> > >
> > >
> > > Now I want to search for all occurrences of "management" in the
> > > "content" field (which already exists in both the above index.htmfiles
> > > body), in files under subtype/accountmanagement and under subtype/
> > > databasemanagement
> > >
> > >
> > >
> > > Iam creating the query as below:
> > >
> > >
> > >
> > >         String [] queries = new String [3];// =new String[4]
> > >
> > >         String [] fields = new String [3] ];// =new String[4]
> > >
> > >         BooleanClause.Occur[] flags = new BooleanClause.Occur[3] ];//
> > > =new String[4]
> > >
> > >
> > >
> > >         queries[0]= " guides ";
> > >
> > >         fields[0]=" booktype ";
> > >
> > >         flags[0] = BooleanClause.Occur.MUST;
> > >
> > >
> > >
> > >         queries[1]= " management ";
> > >
> > >         fields[1]="content";
> > >
> > >         flags[1] = BooleanClause.Occur.MUST;
> > >
> > >
> > >
> > >         /* ######## A ####### */
> > >
> > >         queries[2]= " accountmanagement databasemanagement ";
> > >
> > >         fields[2]=" subtype ";
> > >
> > >         flags[2] = BooleanClause.Occur.MUST;
> > >
> > >
> > >
> > >         /* ##### B #######
> > >
> > >         queries[2]= " accountmanagement";
> > >
> > >         fields[2]="subtype";
> > >
> > >         flags[2] = BooleanClause.Occur.MUST;
> > >
> > >
> > >
> > >         queries[3]= " databasemanagement ";
> > >
> > >         fields[3]=" subtype ";
> > >
> > >         flags[3] = BooleanClause.Occur.MUST;
> > >
> > >         */
> > >
> > >
> > >
> > >         Query queryObj = null;
> > >
> > >         //parse the query string
> > >
> > >         try {
> > >
> > >             queryObj = MultiFieldQueryParser.parse(queries, fields,
> > > flags, new StandardAnalyzer());
> > >
> > >         } catch (ParseException exp) { }
> > >
> > >
> > >
> > >
> > >
> > > With option A , the query generated looks like:
> > >
> > > +booktype:guides +content:management +(subtype: accountmanagement
> > > subtype: databasemanagement)
> > >
> > >
> > >
> > > With option B , the query generated looks like:
> > >
> > > +booktype:guides +content:management +subtype: accountmanagement
> > > +subtype: databasemanagement
> > >
> > >
> > >
> > >
> > >
> > > Both return no Hits.!
> > >
> > >
> > >
> > > Any idea how I should create the query. In Lucene In Action, this is
> > > explained as "you can group field selection over several terms using
> > > field:(a b c)". How can I achieve this with the code above ?
> > >
> > >
> > >
> > > Thanks
> > >
> > > Pramodh
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> > >
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_15771_2275311.1158097576567--

From java-user-return-23321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 07:30:54 2006
Return-Path: <java-user-return-23321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32276 invoked from network); 13 Sep 2006 07:30:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 07:30:54 -0000
Received: (qmail 75512 invoked by uid 500); 13 Sep 2006 07:30:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75301 invoked by uid 500); 13 Sep 2006 07:30:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75057 invoked by uid 99); 13 Sep 2006 07:30:36 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 00:30:36 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lists@nabble.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain nabble.com designates 72.21.53.35 as permitted sender)
Received: from ([72.21.53.35:39159] helo=talk.nabble.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id BA/70-08414-6A3B7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 00:30:48 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GNPCW-0000g7-Pz
	for java-user@lucene.apache.org; Wed, 13 Sep 2006 00:30:28 -0700
Message-ID: <6280422.post@talk.nabble.com>
Date: Wed, 13 Sep 2006 00:30:28 -0700 (PDT)
From: Venkateshprasanna <prasannahmv@yahoo.co.in>
To: java-user@lucene.apache.org
Subject: Storing no. of occurances of a token
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: prasannahmv@yahoo.co.in
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Is it possible for me to store the number of occurances of a token in a
particular document or a collection of documents?

Regards,
Venkateshprasanna
-- 
View this message in context: http://www.nabble.com/Storing-no.-of-occurances-of-a-token-tf2263455.html#a6280422
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 07:39:49 2006
Return-Path: <java-user-return-23322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35772 invoked from network); 13 Sep 2006 07:39:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 07:39:48 -0000
Received: (qmail 88487 invoked by uid 500); 13 Sep 2006 07:39:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88110 invoked by uid 500); 13 Sep 2006 07:39:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88099 invoked by uid 99); 13 Sep 2006 07:39:42 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 00:39:42 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=paul.elschot@xs4all.nl; spf=permerror
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received-SPF: error (idunn.apache.osuosl.org: domain xs4all.nl from 194.109.24.36 cause and error)
Received: from ([194.109.24.36:4022] helo=smtp-vbr16.xs4all.nl)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 9D/B0-08414-8C5B7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 00:39:54 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr16.xs4all.nl (8.13.6/8.13.6) with ESMTP id k8D7dYZk020161
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 09:39:34 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Storing no. of occurances of a token
Date: Wed, 13 Sep 2006 09:39:33 +0200
User-Agent: KMail/1.8.2
References: <6280422.post@talk.nabble.com>
In-Reply-To: <6280422.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609130939.33428.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 13 September 2006 09:30, Venkateshprasanna wrote:
> 
> Is it possible for me to store the number of occurances of a token in a
> particular document or a collection of documents?

When the token is indexed as a term, an IndexReader provides
access to the total number of documents containing the term,
and to the number of times the term occurs in each document.
The total number of term occurrences over all indexed documents
is not present a Lucene index.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 08:09:30 2006
Return-Path: <java-user-return-23323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44018 invoked from network); 13 Sep 2006 08:09:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 08:09:30 -0000
Received: (qmail 44462 invoked by uid 500); 13 Sep 2006 08:09:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44422 invoked by uid 500); 13 Sep 2006 08:09:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44411 invoked by uid 99); 13 Sep 2006 08:09:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 01:09:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.81.148.13] (HELO smtp.isoco.com) (62.81.148.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 01:09:15 -0700
Received: by smtp.isoco.com (Postfix-smc, from userid 65534)
	id 8292E108C81; Wed, 13 Sep 2006 10:13:01 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on 
	kilimanjaro.isoco.net
X-Spam-Level: 
Received: from mad.isoco.net (mad.isoco.net [172.18.0.11])
	by smtp.isoco.com (Postfix-smc) with ESMTP id CBB32108C7C
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 10:13:00 +0200 (CEST)
Received: from mcarcelen (darek.mad.isoco.net [172.18.2.70])
	by mad.isoco.net (Postfix) with ESMTP id 3530D4F5A2
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 10:08:53 +0200 (CEST)
From: "mcarcelen" <mcarcelen@isoco.com>
To: <java-user@lucene.apache.org>
Subject: Queries in Lucene
Date: Wed, 13 Sep 2006 10:08:51 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <6280422.post@talk.nabble.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbXBo6rdG/NEY5BQ1CfgOy2gH7D4gABQK+Q
Message-Id: <20060913080853.3530D4F5A2@mad.isoco.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.2 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.1.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi all,
I=B4ve got a index and now I=B4m trying to create a query with =
lucene-2.0.0,=20
I=B4d like to find files that in the first line get the following:

<DIV class=3DMy-Word1> AND Word2

I=B4m tried with the package org.apache.lucene.demo.SearchFiles=20
but I get files where the word "Word2" is not in the first line.

I don=B4t know how to do the query filtered or if I have to use another =
file

Can anyone help me?

Thanks=20

Best Regards
Teresa


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 08:33:11 2006
Return-Path: <java-user-return-23324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52187 invoked from network); 13 Sep 2006 08:33:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 08:33:11 -0000
Received: (qmail 90603 invoked by uid 500); 13 Sep 2006 08:33:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90575 invoked by uid 500); 13 Sep 2006 08:33:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90564 invoked by uid 99); 13 Sep 2006 08:33:01 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 01:33:01 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=zhang.huinan@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=zhang.huinan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.236 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.236:1969] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id F0/A0-08607-742C7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 01:33:12 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2124421wxc
        for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 01:32:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Z7wYCWpAaYdP98120k1hZf3pfmGXktA2HpdIzSEzkCqnfqzA/mviwWv6EkOATDYOYvrABJlDBlt75fy8LyLrWilpN8f5LB5qwmYE1Z0eV5BzMZY0hJOsSLju6UQaeN9dibmGPMfRkTv6FIEg5d4mnOJYvLqo6MKUg+rNFd9byAE=
Received: by 10.70.30.5 with SMTP id d5mr9974082wxd;
        Wed, 13 Sep 2006 01:32:53 -0700 (PDT)
Received: by 10.70.10.13 with HTTP; Wed, 13 Sep 2006 01:32:53 -0700 (PDT)
Message-ID: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
Date: Wed, 13 Sep 2006 20:32:53 +1200
From: Huinan <zhang.huinan@gmail.com>
To: java-user@lucene.apache.org
Subject: IOException when calling hits.doc(int)
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26888_24578805.1158136373187"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_26888_24578805.1158136373187
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I'm having a weird problem:

I created an index using IndexWriter. Then I had a piece of code which
searches the index, then print out a particular field of the first document
of the hits.(See the following code) As simple as that.

        Hits hits = IndexSearchUtil.getHits(defaultIndexLocation, "A", "a");
        System.out.println(hits.length());  // This prints 1.
        Document doc = hits.doc(0);       // <------But this will throw an
IOException, and this is the problem.
        System.out.println(doc.get("A"));

The strange thing is that it DOES NOT ALWAYS throw an IOException. When I
have a small number (tens) of index entries, this works fine. But beyond a
certain threshold, It begins to throw up. :-(

Does anyone have the same problem? or could suggest what might have gone
wrong?

Thanks a lot!


Regards.

Huinan


Appendix
(inside IndexSearchUtil class)
    public static Hits getHits(String indexLocation, String fieldName,
            String key) throws IOException {
        return getHits(indexLocation, fieldName, key, true);
    }

    public static Hits getHits(String indexLocation, String fieldName,
            String key, boolean fieldTokenized) throws IOException {
        IndexSearcher searcher = new IndexSearcher(indexLocation);
        if (!fieldTokenized)
            key = "\"" + key + "\"";
        QueryParser parser = new QueryParser(fieldName, new
KeywordAnalyzer());
        Query query;
        try {
            query = parser.parse(key);
            Hits hits = searcher.search(query);
            searcher.close();
            return hits;
        } catch (ParseException e) {
            e.printStackTrace();
            return null;
        }
    }

------=_Part_26888_24578805.1158136373187--

From java-user-return-23325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 08:40:09 2006
Return-Path: <java-user-return-23325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54640 invoked from network); 13 Sep 2006 08:40:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 08:40:08 -0000
Received: (qmail 5068 invoked by uid 500); 13 Sep 2006 08:40:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4702 invoked by uid 500); 13 Sep 2006 08:40:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4628 invoked by uid 99); 13 Sep 2006 08:40:01 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 01:40:01 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=PShenoy@ariba.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ariba.com from 64.18.3.82 cause and error)
Received: from ([64.18.3.82:37956] helo=exprod8og50.obsmtp.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 35/D0-08607-BE3C7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 01:40:12 -0700
Received: from source ([205.180.14.155]) by exprod8ob50.obsmtp.com ([64.18.7.12]) with SMTP;
	Wed, 13 Sep 2006 01:04:04 PDT
Received: from us-hqmail1.ariba.com ([10.10.10.196]) by us-hqmail1.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 13 Sep 2006 01:37:50 -0700
Received: from in-blrmail1.ariba.com ([10.10.223.12]) by us-hqmail1.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 13 Sep 2006 01:37:50 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: group field selection of the form field:(a b c)
Date: Wed, 13 Sep 2006 14:07:48 +0530
Message-ID: <23FD47C8CA653B4CAEF28236ACB1DB17022A058D@in-blrmail1.ariba.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: group field selection of the form field:(a b c)
Thread-Index: AcbWqxj7+0lPDG4EQX+yJwQaaCwjQgAZMkCg
From: "Pramodh Shenoy" <PShenoy@ariba.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 13 Sep 2006 08:37:50.0761 (UTC) FILETIME=[E5DD6190:01C6D70F]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Doron/Erick,
    Option A did work and looks like I wasn't adding the fields to the
Doc object correctly. I still used UN_TOKENIZED as these were plain
strings that I wanted to do a full string comparison against.

So basically  the query +booktype:guides +content:management
+(subtype:accountmanagement subtype: databasemanagement) works!

But Luke did the job for me, as I could read the index and run my
queries and that's how I found the issue. Its truly a great tool.

Thanks folks for your timely response.
-Pramodh


-----Original Message-----
From: Doron Cohen [mailto:DORONC@il.ibm.com]=20
Sent: Wednesday, September 13, 2006 2:01 AM
To: java-user@lucene.apache.org
Subject: RE: group field selection of the form field:(a b c)

It think option B cannot work because due to the MUST operator it
requires
both "databasemanagement" and "accountmanagement" to be in the subtype
field.

Option A however should work, once the padding blank spaces are removed
from the field name - notice that while the standard analyzer would trim
spaces from the processed query text, the field names provided remain
unchanged - in this case - most probably - with the spaces.

Additional comment - that I'm not sure that is relevant to your case -
on
the solution to this problem:
In this case you had two paths:
    /a/b
    /a/c
And you managed (or would soon manage:-) to ask for a document in either
two paths by asking for "a" in first part and "b" or "c" in second part.
However if the "taxonomy" becomes more complex this may turn more
tricky.
For instance if the scenario would have the following possible paths:
   /a/b/c/d/e
   /a/b/c/x/y/z
   /a/b/d/x/f
etc., and assume you want all docs under the sub-tree defined by /a/b/c.
One possibility would be to index for each document all path prefixes -
i.e. for document in /a/b/c/d/e add path tokens (un-tokenized) -     / ,
/a/ . /a/b/ , /a/b/c/d/ , /a/b/c/d/e/ , /a/b/c/d/e   (the latter token
would allow to search also "exact node" matches, i.e. not sub-tree
matches.) I believe you can find useful discussions on this by searching
in
the user mailing list for "path" or "hierarchy", and for sure there are
other approaches.

"Pramodh Shenoy" <PShenoy@ariba.com> wrote on 12/09/2006 10:54:13:

> The spaces just came i guess when i copied the code to outlook :-),
> actually there arent any. Let me take a look at Luke , especially
> testing to see what should be returned when i run the aprsed query..
> sounds very interesting..
>
> Thanks a lot
> Pramodh
>
> ________________________________
>
> From: Erick Erickson [mailto:erickerickson@gmail.com]
> Sent: Tue 9/12/2006 11:19 PM
> To: java-user@lucene.apache.org
> Subject: Re: group field selection of the form field:(a b c)
>
>
>
> Interestingly, you have extra spaces when you construct your queries,
e.g.
> queries[2]=3D " accountmanagement" has an extra space at the beginning
but
> when you index the document, there are no spaces. I believe that since
> you're indexing the fields UN_TOKENIZED, that the spaces are preserved
in
> the query (but I'm not entirely clear on this point, so don't take my
word
> for it completely <G>).
>
> Have you used Luke to examine your index? You can also put parsed form
of
> the query into Luke and play around with that to see what *should*
work.
> Google lucene luke and you'll find it right away.
>
> Best
> Erick
>
> On 9/12/06, Pramodh Shenoy <PShenoy@ariba.com> wrote:
> >
> > Hi Eric/Usergroup,
> >
> >     I am working on a help content index-search project based on
Lucene.
> > One of my requirements is to search for a particular text in the
content
> > of files from specific directories. When I index the content
> >
> >
> >
> > Eg. guides/accountmanagement/index.htm and
> > guides/databasemanagement/index.htm
> >
> >
> >
> > doc.add(new Field("booktype", "guides", Field.Store.YES,
> > Field.Index.UN_TOKENIZED))
> >
> > doc.add(new Field("subtype", "accountmanagement", Field.Store.YES,
> > Field.Index.UN_TOKENIZED))
> >
> > doc.add(new Field("subtype", "databasemanagement", Field.Store.YES,
> > Field.Index.UN_TOKENIZED))
> >
> > doc.add(new Field("content",
> > all-content-read-from-html-body-as-a-string, Field.Store.NO,
> > Field.Index.TOKENIZED))
> >
> >
> >
> > Now I want to search for all occurrences of "management" in the
> > "content" field (which already exists in both the above index.htm
files
> > body), in files under subtype/accountmanagement and under subtype/
> > databasemanagement
> >
> >
> >
> > Iam creating the query as below:
> >
> >
> >
> >         String [] queries =3D new String [3];// =3Dnew String[4]
> >
> >         String [] fields =3D new String [3] ];// =3Dnew String[4]
> >
> >         BooleanClause.Occur[] flags =3D new BooleanClause.Occur[3]
];//
> > =3Dnew String[4]
> >
> >
> >
> >         queries[0]=3D " guides ";
> >
> >         fields[0]=3D" booktype ";
> >
> >         flags[0] =3D BooleanClause.Occur.MUST;
> >
> >
> >
> >         queries[1]=3D " management ";
> >
> >         fields[1]=3D"content";
> >
> >         flags[1] =3D BooleanClause.Occur.MUST;
> >
> >
> >
> >         /* ######## A ####### */
> >
> >         queries[2]=3D " accountmanagement databasemanagement ";
> >
> >         fields[2]=3D" subtype ";
> >
> >         flags[2] =3D BooleanClause.Occur.MUST;
> >
> >
> >
> >         /* ##### B #######
> >
> >         queries[2]=3D " accountmanagement";
> >
> >         fields[2]=3D"subtype";
> >
> >         flags[2] =3D BooleanClause.Occur.MUST;
> >
> >
> >
> >         queries[3]=3D " databasemanagement ";
> >
> >         fields[3]=3D" subtype ";
> >
> >         flags[3] =3D BooleanClause.Occur.MUST;
> >
> >         */
> >
> >
> >
> >         Query queryObj =3D null;
> >
> >         //parse the query string
> >
> >         try {
> >
> >             queryObj =3D MultiFieldQueryParser.parse(queries, =
fields,
> > flags, new StandardAnalyzer());
> >
> >         } catch (ParseException exp) { }
> >
> >
> >
> >
> >
> > With option A , the query generated looks like:
> >
> > +booktype:guides +content:management +(subtype: accountmanagement
> > subtype: databasemanagement)
> >
> >
> >
> > With option B , the query generated looks like:
> >
> > +booktype:guides +content:management +subtype: accountmanagement
> > +subtype: databasemanagement
> >
> >
> >
> >
> >
> > Both return no Hits.!
> >
> >
> >
> > Any idea how I should create the query. In Lucene In Action, this is
> > explained as "you can group field selection over several terms using
> > field:(a b c)". How can I achieve this with the code above ?
> >
> >
> >
> > Thanks
> >
> > Pramodh
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 09:01:10 2006
Return-Path: <java-user-return-23326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61772 invoked from network); 13 Sep 2006 09:01:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 09:01:10 -0000
Received: (qmail 40042 invoked by uid 500); 13 Sep 2006 09:01:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39798 invoked by uid 500); 13 Sep 2006 09:01:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39787 invoked by uid 99); 13 Sep 2006 09:01:03 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 02:01:03 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=ronnie.kolehmainen@ub.uu.se; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ub.uu.se from 130.238.4.154 cause and error)
Received: from ([130.238.4.154:60787] helo=colibri.its.uu.se)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 15/71-08607-8D8C7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 02:01:14 -0700
Received: by colibri.its.uu.se (Postfix, from userid 211)
	id 267878D9; Wed, 13 Sep 2006 11:00:52 +0200 (DFT)
Received: from colibri.its.uu.se(127.0.0.1) by colibri.its.uu.se via virus-scan 
	id s14357; Wed, 13 Sep 06 11:00:45 +0200
Received: from [130.238.171.116] (pc171-116.ub.UU.SE [130.238.171.116])
	by colibri.its.uu.se (Postfix) with ESMTP id 225CB8C2
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 11:00:45 +0200 (DFT)
Message-ID: <4507C8BC.7010503@ub.uu.se>
Date: Wed, 13 Sep 2006 11:00:44 +0200
From: Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20060330)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IOException when calling hits.doc(int)
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
In-Reply-To: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Do not close the searcher until you are done with the Hits object.

See the javadocs for Searchable.close()
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searchable.html#close()


/Ronnie

Huinan wrote:
> Hi,
> 
> I'm having a weird problem:
> 
> I created an index using IndexWriter. Then I had a piece of code which
> searches the index, then print out a particular field of the first document
> of the hits.(See the following code) As simple as that.
> 
>        Hits hits = IndexSearchUtil.getHits(defaultIndexLocation, "A", "a");
>        System.out.println(hits.length());  // This prints 1.
>        Document doc = hits.doc(0);       // <------But this will throw an
> IOException, and this is the problem.
>        System.out.println(doc.get("A"));
> 
> The strange thing is that it DOES NOT ALWAYS throw an IOException. When I
> have a small number (tens) of index entries, this works fine. But beyond a
> certain threshold, It begins to throw up. :-(
> 
> Does anyone have the same problem? or could suggest what might have gone
> wrong?
> 
> Thanks a lot!
> 
> 
> Regards.
> 
> Huinan
> 
> 
> Appendix
> (inside IndexSearchUtil class)
>    public static Hits getHits(String indexLocation, String fieldName,
>            String key) throws IOException {
>        return getHits(indexLocation, fieldName, key, true);
>    }
> 
>    public static Hits getHits(String indexLocation, String fieldName,
>            String key, boolean fieldTokenized) throws IOException {
>        IndexSearcher searcher = new IndexSearcher(indexLocation);
>        if (!fieldTokenized)
>            key = "\"" + key + "\"";
>        QueryParser parser = new QueryParser(fieldName, new
> KeywordAnalyzer());
>        Query query;
>        try {
>            query = parser.parse(key);
>            Hits hits = searcher.search(query);
>            searcher.close();
>            return hits;
>        } catch (ParseException e) {
>            e.printStackTrace();
>            return null;
>        }
>    }
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 09:14:13 2006
Return-Path: <java-user-return-23327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66659 invoked from network); 13 Sep 2006 09:14:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 09:14:12 -0000
Received: (qmail 62368 invoked by uid 500); 13 Sep 2006 09:14:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62246 invoked by uid 500); 13 Sep 2006 09:14:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62162 invoked by uid 99); 13 Sep 2006 09:14:03 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 02:14:03 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=zhang.huinan@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=zhang.huinan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_50_60,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.239 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.239:19979] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 34/D1-08607-7DBC7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 02:13:59 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2133611wxc
        for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 02:13:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=o8+71LtLGcUTBFjdo4EuOwC5tY5O2nKt1/xM9zJ+VIFSXau5ZlgyVnv+bdzYZ7pGq2c3ghlrIwcjdEvCUyZRTgpDkIoolhItAU51pPoa8FBfbcPrSEIZQi+iDRBVNRpnUGw5tkDazpxLAOhHVEBAKpFCPCuJ/dazWUNjrL6uVtw=
Received: by 10.70.125.11 with SMTP id x11mr10087508wxc;
        Wed, 13 Sep 2006 02:13:40 -0700 (PDT)
Received: by 10.70.10.13 with HTTP; Wed, 13 Sep 2006 02:13:40 -0700 (PDT)
Message-ID: <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
Date: Wed, 13 Sep 2006 21:13:40 +1200
From: Huinan <zhang.huinan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IOException when calling hits.doc(int)
In-Reply-To: <4507C8BC.7010503@ub.uu.se>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27522_24936378.1158138820880"
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
	 <4507C8BC.7010503@ub.uu.se>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_27522_24936378.1158138820880
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks, Ronnie. But why it works in some cases (when there is a small number
of documents inside the index) ?


On 9/13/06, Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se> wrote:
>
> Do not close the searcher until you are done with the Hits object.
>
> See the javadocs for Searchable.close()
>
> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searchable.html#close()
>
>
> /Ronnie
>
> Huinan wrote:
> > Hi,
> >
> > I'm having a weird problem:
> >
> > I created an index using IndexWriter. Then I had a piece of code which
> > searches the index, then print out a particular field of the first
> document
> > of the hits.(See the following code) As simple as that.
> >
> >        Hits hits = IndexSearchUtil.getHits(defaultIndexLocation, "A",
> "a");
> >        System.out.println(hits.length());  // This prints 1.
> >        Document doc = hits.doc(0);       // <------But this will throw
> an
> > IOException, and this is the problem.
> >        System.out.println(doc.get("A"));
> >
> > The strange thing is that it DOES NOT ALWAYS throw an IOException. When
> I
> > have a small number (tens) of index entries, this works fine. But beyond
> a
> > certain threshold, It begins to throw up. :-(
> >
> > Does anyone have the same problem? or could suggest what might have gone
> > wrong?
> >
> > Thanks a lot!
> >
> >
> > Regards.
> >
> > Huinan
> >
> >
> > Appendix
> > (inside IndexSearchUtil class)
> >    public static Hits getHits(String indexLocation, String fieldName,
> >            String key) throws IOException {
> >        return getHits(indexLocation, fieldName, key, true);
> >    }
> >
> >    public static Hits getHits(String indexLocation, String fieldName,
> >            String key, boolean fieldTokenized) throws IOException {
> >        IndexSearcher searcher = new IndexSearcher(indexLocation);
> >        if (!fieldTokenized)
> >            key = "\"" + key + "\"";
> >        QueryParser parser = new QueryParser(fieldName, new
> > KeywordAnalyzer());
> >        Query query;
> >        try {
> >            query = parser.parse(key);
> >            Hits hits = searcher.search(query);
> >            searcher.close();
> >            return hits;
> >        } catch (ParseException e) {
> >            e.printStackTrace();
> >            return null;
> >        }
> >    }
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_27522_24936378.1158138820880--

From java-user-return-23328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 09:37:18 2006
Return-Path: <java-user-return-23328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71464 invoked from network); 13 Sep 2006 09:37:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 09:37:17 -0000
Received: (qmail 89788 invoked by uid 500); 13 Sep 2006 09:37:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89754 invoked by uid 500); 13 Sep 2006 09:37:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89743 invoked by uid 99); 13 Sep 2006 09:37:10 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 02:37:10 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=ronnie.kolehmainen@ub.uu.se; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ub.uu.se from 130.238.164.5 cause and error)
Received: from ([130.238.164.5:50948] helo=elvira.its.uu.se)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 1D/50-08832-051D7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 02:37:22 -0700
Received: by elvira.its.uu.se (Postfix, from userid 204)
	id B985567E; Wed, 13 Sep 2006 11:36:55 +0200 (MSZ)
Received: from elvira.its.uu.se(127.0.0.1) by elvira.its.uu.se via virus-scan 
	id s276507; Wed, 13 Sep 06 11:36:21 +0200
Received: from [130.238.171.116] (pc171-116.ub.UU.SE [130.238.171.116])
	by elvira.its.uu.se (Postfix) with ESMTP id E62D3737
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 11:36:19 +0200 (MSZ)
Message-ID: <4507D113.9020407@ub.uu.se>
Date: Wed, 13 Sep 2006 11:36:19 +0200
From: Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20060330)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IOException when calling hits.doc(int)
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>	 <4507C8BC.7010503@ub.uu.se> <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
In-Reply-To: <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This might be related to filesystem, internal lucene buffering/caching, 
or practically anything that an implementor does not need to have 
knowledge of.

The only thing that you, the implementor, *do* need to know is that you 
should *not* access a Hits object after the searcher is closed ;)

/Ronnie



Huinan wrote:
> Thanks, Ronnie. But why it works in some cases (when there is a small 
> number
> of documents inside the index) ?
> 
> 
> On 9/13/06, Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se> wrote:
> 
>>
>> Do not close the searcher until you are done with the Hits object.
>>
>> See the javadocs for Searchable.close()
>>
>> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searchable.html#close() 
>>
>>
>>
>> /Ronnie
>>
>> Huinan wrote:
>> > Hi,
>> >
>> > I'm having a weird problem:
>> >
>> > I created an index using IndexWriter. Then I had a piece of code which
>> > searches the index, then print out a particular field of the first
>> document
>> > of the hits.(See the following code) As simple as that.
>> >
>> >        Hits hits = IndexSearchUtil.getHits(defaultIndexLocation, "A",
>> "a");
>> >        System.out.println(hits.length());  // This prints 1.
>> >        Document doc = hits.doc(0);       // <------But this will throw
>> an
>> > IOException, and this is the problem.
>> >        System.out.println(doc.get("A"));
>> >
>> > The strange thing is that it DOES NOT ALWAYS throw an IOException. When
>> I
>> > have a small number (tens) of index entries, this works fine. But 
>> beyond
>> a
>> > certain threshold, It begins to throw up. :-(
>> >
>> > Does anyone have the same problem? or could suggest what might have 
>> gone
>> > wrong?
>> >
>> > Thanks a lot!
>> >
>> >
>> > Regards.
>> >
>> > Huinan
>> >
>> >
>> > Appendix
>> > (inside IndexSearchUtil class)
>> >    public static Hits getHits(String indexLocation, String fieldName,
>> >            String key) throws IOException {
>> >        return getHits(indexLocation, fieldName, key, true);
>> >    }
>> >
>> >    public static Hits getHits(String indexLocation, String fieldName,
>> >            String key, boolean fieldTokenized) throws IOException {
>> >        IndexSearcher searcher = new IndexSearcher(indexLocation);
>> >        if (!fieldTokenized)
>> >            key = "\"" + key + "\"";
>> >        QueryParser parser = new QueryParser(fieldName, new
>> > KeywordAnalyzer());
>> >        Query query;
>> >        try {
>> >            query = parser.parse(key);
>> >            Hits hits = searcher.search(query);
>> >            searcher.close();
>> >            return hits;
>> >        } catch (ParseException e) {
>> >            e.printStackTrace();
>> >            return null;
>> >        }
>> >    }
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 

-- 
________________________________________

   Ronnie Kolehmainen
   Systems Developer
   Electronic Publishing Centre
   Uppsala University Library
   +46 (0)18 471 5847
   mailto:ronnie.kolehmainen@ub.uu.se
________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 09:44:46 2006
Return-Path: <java-user-return-23329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73071 invoked from network); 13 Sep 2006 09:44:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 09:44:45 -0000
Received: (qmail 2259 invoked by uid 500); 13 Sep 2006 09:44:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2227 invoked by uid 500); 13 Sep 2006 09:44:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2216 invoked by uid 99); 13 Sep 2006 09:44:39 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 02:44:39 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=zhang.huinan@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=zhang.huinan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.233 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.233:33283] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id AA/A0-08832-413D7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 02:44:52 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2140248wxc
        for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 02:44:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=U6Ri4mCbshYdkUcmH6a95dDvbSkrEgS7DsSoN/alsgYjDMJJ+9CP58GDDtZ1la9VwnWD3ajHT+f0Qti3Uc3O4M3JCc0ylDI/c2rNbsXN298ks1jfghfyE/rdqqrx8geQZoLNGDRvOhF1F7PngJAf5opfryJSGz1KJ4urv9IgOeI=
Received: by 10.70.56.4 with SMTP id e4mr8373274wxa;
        Wed, 13 Sep 2006 02:44:33 -0700 (PDT)
Received: by 10.70.10.13 with HTTP; Wed, 13 Sep 2006 02:44:33 -0700 (PDT)
Message-ID: <65381b920609130244i20b3baabw1f950287ac5021a8@mail.gmail.com>
Date: Wed, 13 Sep 2006 21:44:33 +1200
From: Huinan <zhang.huinan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IOException when calling hits.doc(int)
In-Reply-To: <4507D113.9020407@ub.uu.se>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27826_4701371.1158140673601"
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
	 <4507C8BC.7010503@ub.uu.se>
	 <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
	 <4507D113.9020407@ub.uu.se>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_27826_4701371.1158140673601
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I agree.

Thanks.


On 9/13/06, Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se> wrote:
>
> This might be related to filesystem, internal lucene buffering/caching,
> or practically anything that an implementor does not need to have
> knowledge of.
>
> The only thing that you, the implementor, *do* need to know is that you
> should *not* access a Hits object after the searcher is closed ;)
>
> /Ronnie
>
>
>
> Huinan wrote:
> > Thanks, Ronnie. But why it works in some cases (when there is a small
> > number
> > of documents inside the index) ?
> >
> >
> > On 9/13/06, Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se> wrote:
> >
> >>
> >> Do not close the searcher until you are done with the Hits object.
> >>
> >> See the javadocs for Searchable.close()
> >>
> >>
> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searchable.html#close()
> >>
> >>
> >>
> >> /Ronnie
> >>
> >> Huinan wrote:
> >> > Hi,
> >> >
> >> > I'm having a weird problem:
> >> >
> >> > I created an index using IndexWriter. Then I had a piece of code
> which
> >> > searches the index, then print out a particular field of the first
> >> document
> >> > of the hits.(See the following code) As simple as that.
> >> >
> >> >        Hits hits = IndexSearchUtil.getHits(defaultIndexLocation, "A",
> >> "a");
> >> >        System.out.println(hits.length());  // This prints 1.
> >> >        Document doc = hits.doc(0);       // <------But this will
> throw
> >> an
> >> > IOException, and this is the problem.
> >> >        System.out.println(doc.get("A"));
> >> >
> >> > The strange thing is that it DOES NOT ALWAYS throw an IOException.
> When
> >> I
> >> > have a small number (tens) of index entries, this works fine. But
> >> beyond
> >> a
> >> > certain threshold, It begins to throw up. :-(
> >> >
> >> > Does anyone have the same problem? or could suggest what might have
> >> gone
> >> > wrong?
> >> >
> >> > Thanks a lot!
> >> >
> >> >
> >> > Regards.
> >> >
> >> > Huinan
> >> >
> >> >
> >> > Appendix
> >> > (inside IndexSearchUtil class)
> >> >    public static Hits getHits(String indexLocation, String fieldName,
> >> >            String key) throws IOException {
> >> >        return getHits(indexLocation, fieldName, key, true);
> >> >    }
> >> >
> >> >    public static Hits getHits(String indexLocation, String fieldName,
> >> >            String key, boolean fieldTokenized) throws IOException {
> >> >        IndexSearcher searcher = new IndexSearcher(indexLocation);
> >> >        if (!fieldTokenized)
> >> >            key = "\"" + key + "\"";
> >> >        QueryParser parser = new QueryParser(fieldName, new
> >> > KeywordAnalyzer());
> >> >        Query query;
> >> >        try {
> >> >            query = parser.parse(key);
> >> >            Hits hits = searcher.search(query);
> >> >            searcher.close();
> >> >            return hits;
> >> >        } catch (ParseException e) {
> >> >            e.printStackTrace();
> >> >            return null;
> >> >        }
> >> >    }
> >> >
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
> --
> ________________________________________
>
>    Ronnie Kolehmainen
>    Systems Developer
>    Electronic Publishing Centre
>    Uppsala University Library
>    +46 (0)18 471 5847
>    mailto:ronnie.kolehmainen@ub.uu.se
> ________________________________________
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_27826_4701371.1158140673601--

From java-user-return-23330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 12:20:15 2006
Return-Path: <java-user-return-23330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48220 invoked from network); 13 Sep 2006 12:20:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 12:20:15 -0000
Received: (qmail 74444 invoked by uid 500); 13 Sep 2006 12:20:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73951 invoked by uid 500); 13 Sep 2006 12:20:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73940 invoked by uid 99); 13 Sep 2006 12:20:06 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 05:20:06 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.7 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.162.192 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.162.192:25436] helo=nz-out-0102.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 63/53-09096-487F7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 05:20:20 -0700
Received: by nz-out-0102.google.com with SMTP id z6so888285nzd
        for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 05:20:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=jfab1T+Yty0nGXxZ8ncZyaMTI2kqqXMCy3a+196NFRRaToB8sWelFxNO0jzkQKf7dxZ9Aa9z8esOAdyhOLJ+R8laHKpWsJ6rup4qX7aWWrAdAA4dgURJ5On2+MM69+NCgNywklC2CMbPaAIbFTUMwHWtz5JsyH42Xvr1X5CaAD0=
Received: by 10.35.88.18 with SMTP id q18mr12848330pyl;
        Wed, 13 Sep 2006 05:20:01 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Wed, 13 Sep 2006 05:20:01 -0700 (PDT)
Message-ID: <359a92830609130520o4517a0abx9badfa30dcb94b0b@mail.gmail.com>
Date: Wed, 13 Sep 2006 08:20:01 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Queries in Lucene
In-Reply-To: <20060913080853.3530D4F5A2@mad.isoco.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24370_20318083.1158150001063"
References: <6280422.post@talk.nabble.com>
	 <20060913080853.3530D4F5A2@mad.isoco.net>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24370_20318083.1158150001063
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm assuming that you're new to Lucene, so if you're an old pro you probabl=
y
already know all this....

I think you'll have difficulty here. Lucene has no concept of lines, just
tokens and offsets. So here are a couple of suggestions off the top  of my
head...

If the first line is the *only* way you want to restrict this, index the
tokens in the first line in a separate field for each document, and search
on that field (call it "firstline" <G>). Obviously, this won't work for
searching lines 2-n.

If you're going to want to ask if terms are in line 2, 3, 4..., you could
bump your term position at the start of each line by, say, 500 and then do
some fancy dancing with TermPositions to get terms from a particular line.
This is going to be complicated though to get right, especially when you
want to do arbitrary boolean queries.

You could creatively index things. Index a document with fields line1,
line2, line3, line4...., and when you wanted to search in a particular line=
,
form your query with a field corresponding to the correct line. You could
even index the full text of the document in a "fulltext" field if you wante=
d
to search over an entire document.

There are space tradeoffs to all this, so be sure you understand
Field.Store.YES and NO as they apply to your problem, and what effect
analyzers have on your indexing AND search streams. Lots of people are
confused by this issue.

If you haven't already, get a copy of Luke so you can poke around at your
index. Google luke lucene and it'll pop right up.

Before diving into this as stated, is there a way to re-think the problem t=
o
make it easier? What question are you *really* trying to answer by asking
whether certain tokens are in a particular line?

Best
Erick


On 9/13/06, mcarcelen <mcarcelen@isoco.com> wrote:
>
>
> Hi all,
> I=B4ve got a index and now I=B4m trying to create a query with lucene-2.0=
.0,
> I=B4d like to find files that in the first line get the following:
>
> <DIV class=3DMy-Word1> AND Word2
>
> I=B4m tried with the package org.apache.lucene.demo.SearchFiles
> but I get files where the word "Word2" is not in the first line.
>
> I don=B4t know how to do the query filtered or if I have to use another f=
ile
>
> Can anyone help me?
>
> Thanks
>
> Best Regards
> Teresa
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_24370_20318083.1158150001063--

From java-user-return-23331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 12:42:32 2006
Return-Path: <java-user-return-23331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55889 invoked from network); 13 Sep 2006 12:42:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 12:42:32 -0000
Received: (qmail 18316 invoked by uid 500); 13 Sep 2006 12:42:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17573 invoked by uid 500); 13 Sep 2006 12:42:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17555 invoked by uid 99); 13 Sep 2006 12:42:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 05:42:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=marcus.falck@observer.se; spf=unknown
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: unknown (idunn.apache.osuosl.org: domain observer.se does not designate 194.52.12.17 as permitted sender)
Received: from ([194.52.12.17:41606] helo=mail1.observergroup.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id E2/B0-09463-BBCF7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 05:42:38 -0700
Received: (qmail 15458 invoked by uid 509); 13 Sep 2006 14:42:14 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.075991 secs); 13 Sep 2006 12:42:14 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.075991 secs Process 15452)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 13 Sep 2006 14:42:14 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: Changing the Scoring api
Date: Wed, 13 Sep 2006 14:42:13 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0259C809@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: Changing the Scoring api
Thread-Index: AcbWfw6OTWJ80JsdTg6ges/6dgwv0gArOA1A
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It didn't really work for booleanqueries either. I thought it was =
working for some hours but to my big disappointment I realized that this =
was not the case.

Im using two IndexReaders ( RAM and FS ) and one multireader. Creating =
one indexsearcher by passing the multireader as constructor argument.

Set the similarity class to my own similarity class using the =
SetSimilarity method on the searcher.

This is the source for the similarity class I'm using:

    public class BoostOnlySimilarity : Similarity
    {
        /// <summary>Implemented as <code>1/sqrt(numTerms)</code>. =
</summary>
        public override float LengthNorm(System.String fieldName, int =
numTerms)
        {
            return 1;
        }

        /// <summary>Implemented as =
<code>1/sqrt(sumOfSquaredWeights)</code>. </summary>
        public override float QueryNorm(float sumOfSquaredWeights)
        {
            // Deal with the multiple terms issue
            return 1;
            //return (float)(1.0 / sumOfSquaredWeights); // return 1;
        }

        /// <summary>Implemented as <code>sqrt(freq)</code>. </summary>
        public override float Tf(float freq)
        {
            return 1;
        }

        /// <summary>Implemented as <code>1 / (distance + 1)</code>. =
</summary>
        public override float SloppyFreq(int distance)
        {
            return 1;
        }

        public override float Idf(Lucene.Net.Index.Term term, Searcher =
searcher)
        {
            return 1;
        }
        public override float Ldf(int docFreq, int numDocs)
        {
            return 1;
        }
        /// <summary>Implemented as <code>overlap / maxOverlap</code>. =
</summary>
        public override float Coord(int overlap, int maxOverlap)
        {
            return 1;
        }

    }


/
Marcus


-----Ursprungligt meddelande-----
Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Skickat: den 12 september 2006 17:20
Till: java-user@lucene.apache.org
=C4mne: Re: SV: Changing the Scoring api


: However the BooleanQuery's disableCoord seems to make effect.
: But I still have the problem when I'm constructing queries with =
wildcards.

really? ... that's strange, WildcardQuery uses the disableCoord feature =
of
BooleanQuery.  Do you have an example of what you mean?

: already had implemented my own similarity class that has the coord =
fixed
: to 1. And it doesn't work as excepted.

are you setting your Similarity as the default on your IndexSearcher =
prior
to executing your Queries?


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 12:45:12 2006
Return-Path: <java-user-return-23332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56773 invoked from network); 13 Sep 2006 12:45:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 12:45:12 -0000
Received: (qmail 25470 invoked by uid 500); 13 Sep 2006 12:45:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25436 invoked by uid 500); 13 Sep 2006 12:45:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25425 invoked by uid 99); 13 Sep 2006 12:45:05 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 05:45:05 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=marcus.falck@observer.se; spf=unknown
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: unknown (idunn.apache.osuosl.org: domain observer.se does not designate 194.52.12.17 as permitted sender)
Received: from ([194.52.12.17:41694] helo=mail1.observergroup.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 40/F0-09463-D5DF7054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 05:45:18 -0700
Received: (qmail 15866 invoked by uid 509); 13 Sep 2006 14:44:58 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.071507 secs); 13 Sep 2006 12:44:58 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.071507 secs Process 15860)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 13 Sep 2006 14:44:57 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: Changing the Scoring api
Date: Wed, 13 Sep 2006 14:44:57 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0259C813@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: Changing the Scoring api
Thread-Index: AcbWfw6OTWJ80JsdTg6ges/6dgwv0gAsyUdA
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Example:

Enter query:
AllText:Microsoft
score: 0,01476238 2002-02-19 05:09:00(1000022578) Qwest pins recovery =
hopes on long-distance
score: 0,01476227 2002-02-19 05:07:00(1000022547) <B>Microsoft</B> =
ordered to let states see Windows code

Enter query:
AllText:Microsoft OR AllText:IBM
score: 0,02949772 2002-02-19 01:07:00(1000022129) Massive debt and messy =
books
score: 0,02949705 2002-02-19 01:01:00(1000022033) Alberner Mythos

As you see the score is 0,014x for the search containing one term (which =
also equals the norm value for those documents).

And 0.029x for the docs containing 2 terms. Which appears to be norm * =
2.
How do I get rid of that * 2.

/
Marcus



-----Ursprungligt meddelande-----
Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Skickat: den 12 september 2006 17:20
Till: java-user@lucene.apache.org
=C4mne: Re: SV: Changing the Scoring api


: However the BooleanQuery's disableCoord seems to make effect.
: But I still have the problem when I'm constructing queries with =
wildcards.

really? ... that's strange, WildcardQuery uses the disableCoord feature =
of
BooleanQuery.  Do you have an example of what you mean?

: already had implemented my own similarity class that has the coord =
fixed
: to 1. And it doesn't work as excepted.

are you setting your Similarity as the default on your IndexSearcher =
prior
to executing your Queries?


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 12:57:15 2006
Return-Path: <java-user-return-23333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60021 invoked from network); 13 Sep 2006 12:57:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 12:57:14 -0000
Received: (qmail 55363 invoked by uid 500); 13 Sep 2006 12:57:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54913 invoked by uid 500); 13 Sep 2006 12:57:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54902 invoked by uid 99); 13 Sep 2006 12:57:08 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 05:57:08 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=mcarcelen@isoco.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received-SPF: error (idunn.apache.osuosl.org: domain isoco.com from 62.81.148.13 cause and error)
Received: from ([62.81.148.13:37952] helo=smtp.isoco.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id A7/12-09463-E2008054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 05:57:20 -0700
Received: by smtp.isoco.com (Postfix-smc, from userid 65534)
	id AAB10108C88; Wed, 13 Sep 2006 15:01:11 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on 
	kilimanjaro.isoco.net
X-Spam-Level: 
X-Spam-Status: No, score=-4.2 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.1.3
Received: from mad.isoco.net (mad.isoco.net [172.18.0.11])
	by smtp.isoco.com (Postfix-smc) with ESMTP id 80EDB108C85
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 15:01:10 +0200 (CEST)
Received: from mcarcelen (darek.mad.isoco.net [172.18.2.70])
	by mad.isoco.net (Postfix) with ESMTP id AB8D54F5A2
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 14:57:03 +0200 (CEST)
From: "mcarcelen" <mcarcelen@isoco.com>
To: <java-user@lucene.apache.org>
Subject: RE: Queries in Lucene
Date: Wed, 13 Sep 2006 14:57:00 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <359a92830609130520o4517a0abx9badfa30dcb94b0b@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbXLwOSSbKjSQ8wRkuSeEqaO70NtAAA7ehg
Message-Id: <20060913125703.AB8D54F5A2@mad.isoco.net>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you very much.

Yes, I=B4m very new to Lucene. I=B4m sorry

With the help of Lucene we want to classify 724.827 legal files that in =
the
first line contained the word "Auto" or "Providencia". We can to =
separate in
two groups. That=B4s why I=B4ve indexed these files with Lucene before, =
and we
thought that we could reused the index and apply a special query for =
that

Thanks for your help.
Best regards
Teresa


=20


-----Mensaje original-----
De: Erick Erickson [mailto:erickerickson@gmail.com]=20
Enviado el: mi=E9rcoles, 13 de septiembre de 2006 14:20
Para: java-user@lucene.apache.org
Asunto: Re: Queries in Lucene

I'm assuming that you're new to Lucene, so if you're an old pro you =
probably
already know all this....

I think you'll have difficulty here. Lucene has no concept of lines, =
just
tokens and offsets. So here are a couple of suggestions off the top  of =
my
head...

If the first line is the *only* way you want to restrict this, index the
tokens in the first line in a separate field for each document, and =
search
on that field (call it "firstline" <G>). Obviously, this won't work for
searching lines 2-n.

If you're going to want to ask if terms are in line 2, 3, 4..., you =
could
bump your term position at the start of each line by, say, 500 and then =
do
some fancy dancing with TermPositions to get terms from a particular =
line.
This is going to be complicated though to get right, especially when you
want to do arbitrary boolean queries.

You could creatively index things. Index a document with fields line1,
line2, line3, line4...., and when you wanted to search in a particular =
line,
form your query with a field corresponding to the correct line. You =
could
even index the full text of the document in a "fulltext" field if you =
wanted
to search over an entire document.

There are space tradeoffs to all this, so be sure you understand
Field.Store.YES and NO as they apply to your problem, and what effect
analyzers have on your indexing AND search streams. Lots of people are
confused by this issue.

If you haven't already, get a copy of Luke so you can poke around at =
your
index. Google luke lucene and it'll pop right up.

Before diving into this as stated, is there a way to re-think the =
problem to
make it easier? What question are you *really* trying to answer by =
asking
whether certain tokens are in a particular line?

Best
Erick


On 9/13/06, mcarcelen <mcarcelen@isoco.com> wrote:
>
>
> Hi all,
> I=B4ve got a index and now I=B4m trying to create a query with =
lucene-2.0.0,
> I=B4d like to find files that in the first line get the following:
>
> <DIV class=3DMy-Word1> AND Word2
>
> I=B4m tried with the package org.apache.lucene.demo.SearchFiles
> but I get files where the word "Word2" is not in the first line.
>
> I don=B4t know how to do the query filtered or if I have to use =
another file
>
> Can anyone help me?
>
> Thanks
>
> Best Regards
> Teresa
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 13:11:51 2006
Return-Path: <java-user-return-23334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64624 invoked from network); 13 Sep 2006 13:11:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 13:11:51 -0000
Received: (qmail 76361 invoked by uid 500); 13 Sep 2006 13:11:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76338 invoked by uid 500); 13 Sep 2006 13:11:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76327 invoked by uid 99); 13 Sep 2006 13:11:44 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 06:11:44 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=wataylor@as-st.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain as-st.com designates 216.239.128.26 as permitted sender)
Received: from ([216.239.128.26:1710] helo=smtp.omnis.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 7B/D2-09463-B9308054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 06:11:57 -0700
Received: from [192.168.6.223] (d-65-175-205-96.metrocast.net [65.175.205.96])
	by smtp-relay.omnis.com (Postfix) with ESMTP id B6DAD1880A25
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 06:11:34 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v624)
In-Reply-To: <200609130939.33428.paul.elschot@xs4all.nl>
References: <6280422.post@talk.nabble.com> <200609130939.33428.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1024cc995964a7d63a11ec9a33ed90fd@as-st.com>
Content-Transfer-Encoding: 7bit
From: Bill Taylor <wataylor@as-st.com>
Subject: Re: Storing no. of occurances of a token
Date: Wed, 13 Sep 2006 09:45:31 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.624)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 13, 2006, at 3:39 AM, Paul Elschot wrote:

> On Wednesday 13 September 2006 09:30, Venkateshprasanna wrote:
>>
>> Is it possible for me to store the number of occurances of a token in 
>> a
>> particular document or a collection of documents?
>
> When the token is indexed as a term, an IndexReader provides
> access to the total number of documents containing the term,
> and to the number of times the term occurs in each document.

I found out how to determine the number of documents in which a term 
appeared by looking at the Luke code, but how does one determine the 
number of times it occurs in each document?

> The total number of term occurrences over all indexed documents
> is not present a Lucene index.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 13:29:42 2006
Return-Path: <java-user-return-23335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79039 invoked from network); 13 Sep 2006 13:29:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 13:29:42 -0000
Received: (qmail 15640 invoked by uid 500); 13 Sep 2006 13:29:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15372 invoked by uid 500); 13 Sep 2006 13:29:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15361 invoked by uid 99); 13 Sep 2006 13:29:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 06:29:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 06:29:23 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k8DDT3f03552
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 08:29:03 -0500
Message-ID: <4508079F.1090109@getopt.org>
Date: Wed, 13 Sep 2006 15:29:03 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IOException when calling hits.doc(int)
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>	 <4507C8BC.7010503@ub.uu.se> <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
In-Reply-To: <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Huinan wrote:
> Thanks, Ronnie. But why it works in some cases (when there is a small 
> number
> of documents inside the index) ?

The Hits class retrieves the first 50 results, and caches them.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 13:54:10 2006
Return-Path: <java-user-return-23336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88255 invoked from network); 13 Sep 2006 13:54:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 13:54:10 -0000
Received: (qmail 60888 invoked by uid 500); 13 Sep 2006 13:53:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60854 invoked by uid 500); 13 Sep 2006 13:53:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 55230 invoked by uid 99); 13 Sep 2006 13:50:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Date: Wed, 13 Sep 2006 09:41:49 -0400
From: Miles Efron <mefron@ibiblio.org>
Subject: removing a term from a lucene index
In-reply-to: <4508079F.1090109@getopt.org>
To: java-user@lucene.apache.org
Message-id: <45080A9D.7090000@ibiblio.org>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=UTF-8
Content-transfer-encoding: 7bit
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
 <4507C8BC.7010503@ub.uu.se>
 <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
 <4508079F.1090109@getopt.org>
X-MailScanner-Information: Please contact the Helpdesk @ 6266 for more information
X-MailScanner-ASU-mta1: Found to be clean
X-MailScanner-SpamCheck: 
X-MailScanner-From: mefron@ibiblio.org
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This question surely shows how new I am to Lucene... but I'm interested 
in removing terms from a lucene index.  In particular, I'd like to be 
able to delete all terms that appear in fewer than x documents (say 
x=3).  This is in efforts to reduce the feature set for some research 
I'm doing.

I found a post to this effect on the list from a while back:
    http://www.gossamer-threads.com/lists/lucene/java-user/9538#9538
but I couldn't find any responses to it.

The only thing I can think of is to re-index the collection, using the 
undesired words as a sort of stoplist.  But surely there's a better way 
to do it (the inverted index structure seems like this should be 
natural).  Any pointers would be most helpful.

Thanks,
-Miles

Andrzej Bialecki wrote:

> Huinan wrote:
>
>> Thanks, Ronnie. But why it works in some cases (when there is a small 
>> number
>> of documents inside the index) ?
>
>
> The Hits class retrieves the first 50 results, and caches them.
>

-- 
Miles Efron
http://www.ibiblio.org/mefron
mefron@ibiblio.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 13:57:11 2006
Return-Path: <java-user-return-23337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89249 invoked from network); 13 Sep 2006 13:57:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 13:57:11 -0000
Received: (qmail 72212 invoked by uid 500); 13 Sep 2006 13:57:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72182 invoked by uid 500); 13 Sep 2006 13:57:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72171 invoked by uid 99); 13 Sep 2006 13:57:03 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 06:57:03 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=alexander.salamanca@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=alexander.salamanca@gmail.com; domainkeys=bad
X-ASF-Spam-Status: No, hits=3.0 required=5.0 tests=DNS_FROM_RFC_ABUSE,HEAD_LONG,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.179 as permitted sender)
DomainKey-Status: bad
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.179:20993] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 1E/54-09463-B3E08054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 06:57:16 -0700
Received: by py-out-1112.google.com with SMTP id w49so2624222pyg
        for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 06:56:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to;
        b=f+bwKRQdnT33neoqI8xkZ7bSxPw+bfW42ZUMZNAjcX1wCo0Dj69aJ/4g5TeZDXXsH5rCHO2SxegZ1BnLJoKVQVB7gVECjBK/1bTtiySFZI7ipslYz+FUb7yeMMMuuL2q95PI7WM+qkqQFu/BZfwcM2NxFL8exddbXXqzThI948U=
Received: by 10.35.119.8 with SMTP id w8mr13004738pym;
        Wed, 13 Sep 2006 06:55:36 -0700 (PDT)
Received: by 10.35.39.6 with HTTP; Wed, 13 Sep 2006 06:55:36 -0700 (PDT)
Message-ID: <32af47fe0609130655x118e9527sb4cf5414d8576d6b@mail.gmail.com>
Date: Wed, 13 Sep 2006 08:55:36 -0500
From: "P. Alex. Salamanca R." <alexander.salamanca@gmail.com>
To: yeyo_san@hotmail.com, wow-subscribe@objectweb.org, 
	wifisec-sc.1129549341.hjlcgmcpmnhbeaodokja-alexander.salamanca=gmail.com@securityfocus.com, 
	wgonzaleza@unal.edu.co, webmaster_sb@sanbartolome.edu.co, 
	webappsec-sc.1129241810.fchakmdkedjpmophclab-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	walvarezt@unal.edu.co, 
	vuln-dev-sc.1129241809.gajgadmgannncbnhggio-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	vpn-sc.1129241808.lhadkhgacmooigionfdf-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	"Victor Bucheli" <vbucheli@ocyt.org.co>, 
	"user-subscribe@ant.apache.org" <user-subscribe@ant.apache.org>, 
	user-sc.1144083371.hcnbeekhcplcgenliegl-alexander.salamanca=gmail.com@ant.apache.org, 
	tomasibiris@hotmail.com, tanya.romero@gmail.com, 
	"Tania Margarita" <taniavasq@gmail.com>, 
	"=?ISO-8859-1?Q?Taller_de_inform=E1tica?=" <taller.de.informatica@gmail.com>, 
	SYMPA <sympa@objectweb.org>, 
	"=?ISO-8859-1?Q?Susana_S=E1nchez?=" <susana.sanchez@spymac.com>, 
	superval@supervalores.gov.co, soledadmoliner@hotmail.com, 
	sojedar@unal.edu.co, signers@agilemanifesto.org, 
	sgjimenezv@unal.edu.co, 
	sf-news-sc.1129241809.fibkgkcchbpjdlikdeii-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	"Sergio Duarte" <sergio.duarte@gmail.com>, 
	seminario-cacharreo@googlegroups.com, 
	security-management-sc.1129241811.pblfoaeenibgilmdgjfh-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	securityjobs-sc.1129241809.ofllkihlngajeabbppoe-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	securityjobs-discussion-sc.1129241811.jpgkfonfmpjkhlkakclb-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	security-basics-sc.1129241810.mnmhepfjhkdcblmplgki-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	secureshell-sc.1129241811.mifdgmaglongdnbkplfg-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	secprog-sc.1129241810.lgbjocmonibdleilmaof-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	secpapers-sc.1129241810.pkdchcjnocdmipafaeaj-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	"Santiago Rojas Quintero" <srojasq@unal.edu.co>, 
	"Sandy Salamanca" <sandy_salamanca@yahoo.es>, 
	sandy.salamanca@gmail.com, 
	"=?ISO-8859-1?Q?Sandra_L._Var=F3n?=" <liliana.vrubiano@gmail.com>, 
	"Roland Castillo" <rolandaugusto@gmail.com>, 
	rojassfrancisca@hotmail.com, rodrigoquintero77@hotmail.com, 
	ricardot78@gmail.com, ricardogutic@gmail.com, renavarron@unal.edu.co, 
	regutierrezc@unal.edu.co, 
	realcases-sc.1129549341.depcbnblglmmkeijimdc-alexander.salamanca=gmail.com@securityfocus.com, 
	rdds@yahoo.com, rddorados@unal.edu.co, racastilloo@unal.edu.co, 
	QualityProgramming@googlegroups.com, 
	psrc-sc.1129549355.llogohglnlphmibipmeh-alexander.salamanca=gmail.com@securityfocus.com, 
	programming-contest@google.com, 
	phishing-sc.1129549340.dpehdkndfidjknhaogld-alexander.salamanca=gmail.com@securityfocus.com, 
	pen-test-sc.1129241810.iglkpkedeepbmcbpglhj-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	patrialibre.lista-request@listas.nodo50.org, 
	pasalamancar+t@unal.edu.co, pasalamancar@unal.edu.co, 
	"Paola Velez" <paolita.velez@gmail.com>, 
	"PAOLA ANDREA VELEZ OTALORA" <pazpao@yahoo.com>, 
	"=?ISO-8859-1?Q?Pablo_M=E1rquez?=" <pymarquezr@unal.edu.co>, 
	"P. Alex. Salamanca R." <alexander.salamanca@gmail.com>, 
	"O Trox" <trox@causaencantada.org>, 
	"Oscar Pineda" <OPinedaP@gmail.com>, 
	"Oscar Pineda" <oscarpadrino@hotmail.com>, 
	"Oscar Miguel Alonso M" <omalonsom@gmail.com>, 
	"Oscar Hernan Vaquiro Guerrero" <ohvaquirog@unal.edu.co>, 
	omalonsom@unal.edu.co, "Olga Arevalo" <oearevalop@unal.edu.co>, 
	oasanchezp@unal.edu.co, "Nubia Rivas" <nrivas@unal.edu.co>, 
	npfiquitivam@unal.edu.co, newsletter-subscribe@objectweb.org, 
	neutron1216@hotmail.com, net_universidadnacional@hotmail.com, 
	navargass@unal.edu.co, "natalia turriago" <manatu611@yahoo.com>, 
	ms-secnews-sc.1129241810.pamgpdhibgoacmbppiel-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	mppuentesm@unal.edu.co, 
	"Monica Sarmiento Vargas" <msarmientov@unal.edu.co>, 
	mjnarvaezb@unal.edu.co, mitesis <pasalamancar+tesis@unal.edu.co>, 
	mitaller <pasalamancar+taller@unal.edu.co>, 
	miktex-users-request@lists.sourceforge.net, micanchoso@hotmail.com, 
	mecamargob@unal.edu.co, mddussans@unal.edu.co, mddusans@unal.edu.co, 
	"mauricio jimenez" <undertor@yahoo.com>, 
	"mauricio jimenez" <undertor@gmail.com>, 
	"Mario Linares Vasquez" <mlinaresv@unal.edu.co>, 
	"Mario Linares" <mlinarev@gmail.com>, marioguerrero83@hotmail.com, 
	"Maria Fernanda Leal Vera" <mflealv@unal.edu.co>, 
	"maria fernanda leal vera" <maferle_87@hotmail.com>, 
	manuelfmartinezp@hotmail.com, luscus9@yahoo.com, 
	"Luis H. Abril" <labrilc@gmail.com>, 
	"Luis Garavito" <lagaravitoh@unal.edu.co>, 
	"Luis F. Medina" <lfmedinac@unal.edu.co>, 
	"Luisa Fernanda Ospina Castro" <luife_52@hotmail.com>, 
	"Luisa Fernanda Ospina Castro" <lfospinaca@unal.edu.co>, 
	"Luis A. Garavito H." <lagaravitoh@gmail.com>, 
	lucas-anuncios-request@es.tldp.org, 
	loganalysis-sc.1129241810.jmfpfeocijnddhegmiaj-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	lmrodriguezs@unal.edu.co, LinX <camilo.jimenezc@gmail.com>, 
	linux-secnews-sc.1129241810.jkaglpdoocfbkcjcpdkd-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	libnet-sc.1129241809.agnfmnfaoemhcjhhlboe-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	liamartinezg@unal.edu.co, lhabrilc@unal.edu.co, lfninov@unal.edu.co, 
	lctrujillof@unal.edu.co, kddcup@kdd2005.com, julianpaz@gmail.com, 
	"Julian Camilo Martinez Castillo" <jcmartinezcas@unal.edu.co>, 
	judasave@hotmail.com, 
	"Juan Sebastian Acosta Estrada" <jsacostae@unal.edu.co>, 
	"=?ISO-8859-1?Q?Juan_Rodr=EDguez?=" <skellington.84@gmail.com>, 
	"Juan Manuel Goyes Coral" <jmgoyesc@gmail.com>, 
	"Juan Manuel Goyes Coral" <jmgoyesc@unal.edu.co>, 
	"Juan Manuel Castillo Pedroza" <jmcastillope@unal.edu.co>, 
	"Juan Manuel Barrera Garcia" <jota627@hotmail.com>, 
	"Juan Manuel Barrera Garcia" <juanma1284@gmail.com>, 
	"Juan Diego" <skellington84@gmail.com>, juandavidcruz@hotmail.com, 
	"Juan Carlos Caicedo Rueda" <jccaicedo@gmail.com>, 
	"Juan Camilo Sepulveda Sanchez" <jcsepulvedas@unal.edu.co>, 
	"Juan Camilo Sanchez Angarita" <jcsanchezan@unal.edu.co>, 
	juanca1408@hotmail.com, jpicoro@gmail.com, 
	"=?ISO-8859-1?Q?Jos=E9_R._Bustos?=" <jrbustosm@unal.edu.co>, 
	"Jonatan Gomez" <jgomezpe@unal.edu.co>, 
	jonas-subscribe@objectweb.org, jonas@objectweb.org, 
	jolaya84@hotmail.com, "John Alonso Moreno" <john.alonso@gmail.com>, 
	"Johann Olarte" <unjohann@gmail.com>, jogoper1@unal.edu.co, 
	jogoper1@yahoo.com, jmquenani@unal.edu.co, 
	"jlherreram@unal.edu.co" <jlherreram@unal.edu.co>, 
	jjiguarans@unal.edu.co, 
	"Jimmy Uveimar Martinez Martinez" <jumartinezm@unal.edu.co>, 
	"Jhon Alexis Sanabria Garzon" <jasanabria@gmail.com>, 
	"jhoan carlos diaz ceballos" <jhoanceballos@yahoo.es>, 
	jesalazar@unal.edu.co, jerojasro@spymac.com, 
	"Jenny Herrera" <jenny_lis84@yahoo.com>, 
	"Jenny Herrera" <jenny.lis84@gmail.com>, jealonsom@unal.edu.co, 
	jdreinar@unal.edu.co, jdcruzg@unal.edu.co, jcdiazc@unal.edu.co, 
	jccaicedoru@unal.edu.co, jbpm-users-request@lists.sourceforge.net, 
	jbpm-cvs-request@lists.sourceforge.net, 
	jboss-user-request@lists.jboss.org, 
	jboss-user-request@lists.sourceforge.net, 
	jboss-user@lists.sourceforge.net, 
	"Javier Rojas" <jerojasro@gmail.com>, 
	"Javier Rojas" <jerojasro@unal.edu.co>, 
	java-user-subscribe@lucene.apache.org, 
	java-user-sc.1127414396.gmenlojoofnnlniljono-alexander.salamanca=gmail.com@lucene.apache.org, 
	java-user@lucene.apache.org, jasanabriaga@unal.edu.co, 
	jaquirogas@unal.edu.co, jandradealvarez@gmail.com, 
	jalarav@unal.edu.co, "jairo vargas" <j_vargas_l@yahoo.com>, 
	"Jairo Hernan Aponte Melo" <jhapontem@unal.edu.co>, 
	jadelgadooy@unal.edu.co, jacruzca@unal.edu.co, jacarmonaro@gmail.com, 
	j_vargas_@hotmail.com, j_vargas_@yahoo.com, itninog@unal.edu.co, 
	"=?ISO-8859-1?Q?Ismael_Casta=F1eda?=" <icastanedaf@unal.edu.co>, 
	"Isaias Calderon" <calderon@lci.ulsa.mx>, 
	ingesoft_grp@yahoogroups.com, 
	"Ing. Hugo Herrera" <hugoherrera2002@yahoo.com>, 
	Ing_AndresRozo@hotmail.com, info@iedcamilotorres.edu.co, 
	incidents-sc.1129241808.ghpfdplkhdbklndnbnbm-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	idalvarador@unal.edu.co, iamendozap@unal.edu.co, 
	hsguerreror@unal.edu.co, 
	honeypots-sc.1129241810.phlmjpnmkpomnleaahgp-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	hernansoler@gmail.com, hcgarzonbo@unal.edu.co, 
	"Harold Yecid Carvajal Valbuena" <hycarvajalv@unal.edu.co>, 
	halayons@unal.edu.co, gustyme@hotmail.com, 
	"Gustavo Salamanca" <pegusal@gmail.com>, gruwedis_fibog@unal.edu.co, 
	"Gonzalo Alfonso Agreda Sotelo" <gaagredas@unal.edu.co>, 
	"Gloria Amparo Briceno Guevara" <gabricenog@unal.edu.co>, 
	"German Jairo Hernandez Perez" <gjhernandezp@unal.edu.co>, 
	galsafa83@gmail.com, gagarciar@unal.edu.co, 
	"Gabriela Salamanca" <gasalamancaf@unal.edu.co>, 
	freddyspider04@hotmail.com, 
	"Freddy Alejandro Garcia Fonseca" <fagarciafo@unal.edu.co>, 
	Frank <ricker.silva@gmail.com>, 
	"Francisco Nieto" <fcnieto@gmail.com>, 
	"Francisca Rojas Santoyo" <frojass@unal.edu.co>, 
	"Francisca Rojas" <francisca.rojass@gmail.com>, 
	francisca.rojas@gmail.com, 
	forensics-sc.1129241810.jankajfjihggdchjlpfa-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	forensics-es-sc.1129241811.adgknfcblacdfphjhpba-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	forensics-es@securityfocus.com, 
	focus-virus-sc.1129241810.ggafalkmhbmcboajgemn-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	focus-sun-sc.1129241810.kjcgndmjldpahlbnfkfn-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	focus-ms-sc.1129241809.ofnondbmimmbcpipcoco-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	focus-linux-sc.1129241809.ifijdieeeopnnofimnhd-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	focus-ids-sc.1129241809.hipmbkkgklkaamlfpagn-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	focus-bsd-sc.1129241811.bheiflffgpflapafakao-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	firewalls-sc.1129241811.jfhnmjfpahjegkogomme-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	fconieto@yahoo.com, fconieto@gmail.com, fadiazv@unal.edu.co, 
	"Fabio Gonzalez" <fagonzalezo@unal.edu.co>, 
	"Fabian Wittingham" <fwittingham@unal.edu.co>, 
	"f_kenisky@earthlink.net" <f_kenisky@earthlink.net>, 
	ezguerrar@unal.edu.co, "Eusebio Cordero" <ecordero@almaviva.com.co>, 
	eusebiocordero@yahoo.com, espiambat@yahoo.es, 
	escadmecp_bog@unal.edu.co, enhydra-subscribe@objectweb.org, 
	emsarmientom@unal.edu.co, elmaestrocorreo@hotmail.com, 
	"Elizabeth Leon Guzman" <eleonguz@unal.edu.co>, 
	"Edwin A. Bernal" <eabernall@unal.edu.co>, edwin99109@yahoo.es, 
	education@britishcouncil.org.co, 
	"Eduardo Javier Ortega Urrego" <ejortegau@unal.edu.co>, 
	"Eduardo J. Ortega" <ejortegau@gmail.com>, 
	"Edna Rocio Pena Patino" <erpenap@unal.edu.co>, 
	"Editzon Lagos Erreno" <elagose@unal.edu.co>, 
	econtrerasc@unal.edu.co, eamorenom@unal.edu.co, 
	eabl_berlop@hotmail.com, "dsd dsds" <aocampog.cnc@gmail.com>, 
	dosandovalr@unal.edu.co, 
	"Divian Catherine Gutierrez Duran" <dcgutierrezd@unal.edu.co>, 
	discuss-request@text-mining.org, diidrobom@unal.edu.co, 
	"Diego Sandoval" <yeyo.san@gmail.com>, diegoextreme7@hotmail.com, 
	"diana vargas" <dianavargas_7@hotmail.com>, 
	"Diana Catherin Vargas Hueso" <dcvargash@unal.edu.co>, 
	"Diana Carolina Caldas Alvarez" <dccaldasa@unal.edu.co>, 
	diakari@gmail.com, dflopezca@unal.edu.co, dfhernandezl@unal.edu.co, 
	dfgarciaco@unal.edu.co, 
	"dfdfdsfdf fdsfsfdaf" <mnturriagov.cnc@gmail.com>, 
	dev-unsubscribe@ant.apache.org, 
	dev-uc.1144889997.ecgoifnkecaggnljldml-alexander.salamanca=gmail.com@ant.apache.org, 
	dev-subscribe@ant.apache.org, 
	dev-sc.1144083371.inddfpfjfhfiakhfpmeb-alexander.salamanca=gmail.com@ant.apache.org, 
	deportesing@yahoo.com, 
	"Departamento Sistemas" <depingsi_bog@unal.edu.co>, 
	"Deiber Antonio Vasquez Gomez" <davasquezgo@unal.edu.co>, 
	"David Becerra" <undavid@gmail.com>, 
	"Daniela Rojas Rodriguez" <drojasr@unal.edu.co>, 
	"Daniela Rojas Rodriguez" <daroro_20@hotmail.com>, 
	dabuitragov@unal.edu.co, 
	"Cynthia Florez Ferreyra" <solity11@yahoo.com.mx>, 
	"Cynthia Florez" <csflorezf@unal.edu.co>, 
	"cvvfvfdvf fvfvf" <pasalamancar.cnc@gmail.com>, 
	crypto-sc.1129549364.iocddpnedledcmbbakfj-alexander.salamanca=gmail.com@securityfocus.com, 
	crsilvas@unal.edu.co, crgutierreza@unal.edu.co, 
	"Coord. Curricular Posgrados Ing. de Sistemas" <coocupis_fibog@unal.edu.co>, 
	confirm-s2-0H6FIslShW1G8myFKZBl36Cl5=k-alexander.salamanca=gmail.com@yahoogroups.com, 
	community-subscribe@objectweb.org, 
	"Claudia Paola Caro Correa" <cpcaroc@unal.edu.co>, 
	cesasanchezb@unal.edu.co, 
	"=?ISO-8859-1?Q?C=E9sar_Augusto_S=E1nchez_Baquero?=" <cesasanchezb@gmail.com>, 
	cdcabarcasm@unal.edu.co, ccuribe@uniboyaca.edu.co, 
	cavargasp@unal.edu.co, catalogue-updates-subscribe@netbeans.org, 
	caromeroro@unal.edu.co, 
	"Carolina Rojas Quimbay" <crojasq@unal.edu.co>, 
	caroldano@unal.edu.co, "Carmen Uribe" <ccuribes@unal.edu.co>, 
	"=?ISO-8859-1?Q?carlos_trivi=F1o?=" <carlost81@yahoo.com>, 
	carloscubillos1723@hotmail.com, 
	"=?ISO-8859-1?Q?Camilo_Jim=E9nez?=" <camilo.jimenez@spymac.com>, 
	"Camilo Ernesto Cortes Forero" <er-corte@uniandes.edu.co>, 
	"camilo cortes" <ercorte@gmail.com>, 
	"Camilo Alberto Martinez Cuervo" <camartinezcu@unal.edu.co>, 
	cacoronelr@unal.edu.co, buribem@unal.edu.co, 
	bugtraq-sc.1129242134.mfpbepeggmlhbblencib-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	bugtraq-jp-sc.1129241809.fadckfchkpkcbnggllnm-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	"bugtraq-help@securityfocus.com" <bugtraq-help@securityfocus.com>, 
	bs7799-sc.1129241811.jbjpildncjfjkdalafdf-alexander.salamanca+sec=gmail.com@securityfocus.com, 
	bonita-subscribe@objectweb.org, 
	binaryanalysis-sc.1129549356.dfkcmpdhgiclfgbbonpg-alexander.salamanca=gmail.com@securityfocus.com, 
	"=?ISO-8859-1?Q?Benjam=EDn_Perdomo?=" <beperdomom@unal.edu.co>, 
	benjaminperdomo@gmail.com, avanyarima@hotmail.com, 
	asderina@gmail.com, Armida <armida@cinset.org.co>, 
	"Ariel Amaya Avila" <ariel.amaya.avila@gmail.com>, 
	ariel.amaya.avila@yahoo.es, architecture-subscribe@objectweb.org, 
	aortizmo@unal.edu.co, angeladiaz28@yahoo.com, 
	"=?ISO-8859-1?Q?Andr=E9s_Romero?=" <romero.andres@gmail.com>, 
	"=?ISO-8859-1?Q?Andr=E9s_Pach=F3n?=" <andresp21@gmail.com>, 
	"andres ocampo" <aocampog@unal.edu.co>, 
	andresjimenesmedina@hotmail.com, 
	"andrea lozano" <latigid_grafica@yahoo.com>, anapaulaji@gmail.com, 
	amtrivinoa@unal.edu.co, amossau@unal.edu.co, 
	"amfuquenem@unal.edu.co" <amfuquenem@unal.edu.co>, 
	alfonsoher@tutopia.com, "alex salamanca" <pre.ing@gmail.com>, 
	"alex salamanca" <cetrivinom.cnc@gmail.com>, alexitosrv@yahoo.com, 
	"alexander salamanca" <pasalamancar@gmail.com>, 
	"Alertbox Announcement List Confirmation (from SparkLIST.com)" <sparklist-confirm-11611957D@laser.sparklist.com>, 
	alejitatorres@gmail.com, alejandros@etb.net.co, 
	"Albeiro Cuesta Mena" <acuestam@unal.edu.co>, 
	aherrera@aseocapital.com.co, aebarreraa@unal.edu.co, 
	"Adriana Maria Castro Henao" <amcastrohe@unal.edu.co>, 
	"Adriana Maldonado" <adriana.maldonado@gmail.com>, 
	"Administrador Correo Facultad de Ingenieria" <correo_fibog@unal.edu.co>, 
	accinv-32074879-30479700hb53hf1j100d39ANDJKABB@domeus.es, 
	abarrantesb@gmail.com, abarrantesb@unal.edu.co
Subject: 55 Ways to Have Fun With Google
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34_23921104.1158155736387"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_34_23921104.1158155736387
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

http://www.googlified.com/55fun.php

Es muy entretenido, uno empieza a leer y no puede parar...

la versi=F3n en pdf del libro la encuentran aqu=ED:
http://www.55fun.com/book.pdf

--=20
Gracias por su atenci=F3n.

Cordial saludo,
Alex. S.

------=_Part_34_23921104.1158155736387--

From java-user-return-23338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 14:27:39 2006
Return-Path: <java-user-return-23338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98206 invoked from network); 13 Sep 2006 14:27:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 14:27:38 -0000
Received: (qmail 32806 invoked by uid 500); 13 Sep 2006 14:27:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32729 invoked by uid 500); 13 Sep 2006 14:27:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32695 invoked by uid 99); 13 Sep 2006 14:27:29 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 07:27:29 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bhavinp@rediff.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_60_70,HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain rediff.co.in from 203.199.37.133 cause and error)
Received: from ([203.199.37.133:58155] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 9C/00-09869-D5518054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 07:27:43 -0700
Received: (qmail 25420 invoked from network); 13 Sep 2006 14:06:32 -0000
Received: from unknown (HELO bhavin) (172.16.3.11)
  by mailserver with SMTP; 13 Sep 2006 14:06:32 -0000
Message-ID: <006901c6d740$10e304f0$0b0310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Subject: range query 
Date: Wed, 13 Sep 2006 19:52:38 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0066_01C6D76E.2A79D640"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0066_01C6D76E.2A79D640
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I am using lucene from last few months...I have question about the range =
query performance...

Is there any alternative of range query or can i fire a range query on a =
small set of documents so that it can be less expensive...

- Bhavin pandya
------=_NextPart_000_0066_01C6D76E.2A79D640--


From java-user-return-23339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 15:09:45 2006
Return-Path: <java-user-return-23339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12454 invoked from network); 13 Sep 2006 15:09:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 15:09:44 -0000
Received: (qmail 21098 invoked by uid 500); 13 Sep 2006 15:09:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21069 invoked by uid 500); 13 Sep 2006 15:09:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21058 invoked by uid 99); 13 Sep 2006 15:09:38 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 08:09:38 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from ([169.229.70.167:49838] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 7D/71-09869-F3F18054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 08:09:52 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E1CFB5B772; Wed, 13 Sep 2006 08:09:23 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D23D97F403
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 08:09:23 -0700 (PDT)
Date: Wed, 13 Sep 2006 08:09:23 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Storing no. of occurances of a token
In-Reply-To: <1024cc995964a7d63a11ec9a33ed90fd@as-st.com>
Message-ID: <Pine.LNX.4.58.0609130809030.13075@hal.rescomp.berkeley.edu>
References: <6280422.post@talk.nabble.com> <200609130939.33428.paul.elschot@xs4all.nl>
 <1024cc995964a7d63a11ec9a33ed90fd@as-st.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I found out how to determine the number of documents in which a term
: appeared by looking at the Luke code, but how does one determine the
: number of times it occurs in each document?

take a look at the TermDocs class.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 15:12:04 2006
Return-Path: <java-user-return-23340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13226 invoked from network); 13 Sep 2006 15:12:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 15:12:04 -0000
Received: (qmail 32524 invoked by uid 500); 13 Sep 2006 15:11:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32501 invoked by uid 500); 13 Sep 2006 15:11:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32490 invoked by uid 99); 13 Sep 2006 15:11:57 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 08:11:57 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=markharw00d@yahoo.co.uk; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=markharw00d@yahoo.co.uk; spf=permerror
X-ASF-Spam-Status: No, hits=1.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.co.uk from 217.12.10.220 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([217.12.10.220:38214] helo=web26009.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 43/91-09869-9CF18054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 08:12:11 -0700
Received: (qmail 71453 invoked by uid 60001); 13 Sep 2006 15:11:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=xdxvaRRCzSX1N/ZZc3yLiw4aJAD8DovEpz36vc5LwwX28XziyxxWQTgKQwDGf6DUWkaHgz4TgvIfgXzhvAFmNoMsqi4VGzoKkk8Jx8F1u3umfKCqD662JSHEriCQYUGCRwBL2R6JPCCicW67yadafpveYydb4PtM0RqlNNUe1+I=  ;
Message-ID: <20060913151149.71451.qmail@web26009.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26009.mail.ukl.yahoo.com via HTTP; Wed, 13 Sep 2006 15:11:49 GMT
Date: Wed, 13 Sep 2006 15:11:49 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Reply-To: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: range query
To: java-user@lucene.apache.org
In-Reply-To: <006901c6d740$10e304f0$0b0310ac@bhavin>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

RangeQueries are evil. 

http://wiki.apache.org/jakarta-lucene/FilteringOptions



----- Original Message ----
From: Bhavin Pandya <bhavinp@rediff.co.in>
To: java-user@lucene.apache.org
Sent: Wednesday, 13 September, 2006 3:22:38 PM
Subject: range query 

Hi,

I am using lucene from last few months...I have question about the range query performance...

Is there any alternative of range query or can i fire a range query on a small set of documents so that it can be less expensive...

- Bhavin pandya



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 16:08:53 2006
Return-Path: <java-user-return-23341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33687 invoked from network); 13 Sep 2006 16:08:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 16:08:53 -0000
Received: (qmail 53854 invoked by uid 500); 13 Sep 2006 16:08:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53832 invoked by uid 500); 13 Sep 2006 16:08:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53820 invoked by uid 99); 13 Sep 2006 16:08:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 09:08:46 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bouctou.tom@gmail.com designates 64.233.184.228 as permitted sender)
Received: from [64.233.184.228] (HELO wr-out-0506.google.com) (64.233.184.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 09:08:34 -0700
Received: by wr-out-0506.google.com with SMTP id i28so728627wra
        for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 09:08:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        b=EOagzh3iJakxihdrqfKRpqWBIuMDP22MrTpL5bryZpI47r5DQDpKjVsifSJd0gFV1tDtY+IhF7EhwBSb+lwHGFCa+vioIF2+NWfwoslnihOJwvsXw2FMkbWGt5eihhrM3noyE01rTGRnqs+fiDzN3nXsvheLywkZoRYXbQ8PMQM=
Received: by 10.90.49.1 with SMTP id w1mr2799496agw;
        Wed, 13 Sep 2006 09:08:07 -0700 (PDT)
Received: from ?192.168.1.117? ( [68.160.34.54])
        by mx.gmail.com with ESMTP id 66sm6784258wra.2006.09.13.09.08.06;
        Wed, 13 Sep 2006 09:08:06 -0700 (PDT)
Message-ID: <45082CE4.80305@gmail.com>
Date: Wed, 13 Sep 2006 12:08:04 -0400
From: Tom Bouctou <bouctou.tom@gmail.com>
User-Agent: Thunderbird 1.5.0.5 (X11/20060728)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: removing a term from a lucene index
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Miles,

I understand you are trying to solve your problem by changing the index 
contents (removing documents). Would it be possible to workaround it and 
to achieve this during search, by only returning the relevant documents 
and ignore the rests?

Just my 2 cents...

Tom



Miles Efron wrote:
 > This question surely shows how new I am to Lucene... but I'm 
interested in removing terms from a lucene index.  In particular, I'd 
like to be able to delete all terms that appear in fewer than x 
documents (say x=3).  This is in efforts to reduce the feature set for 
some research I'm doing.
 >
 > I found a post to this effect on the list from a while back:
 >    http://www.gossamer-threads.com/lists/lucene/java-user/9538#9538
 > but I couldn't find any responses to it.
 >
 > The only thing I can think of is to re-index the collection, using 
the undesired words as a sort of stoplist.  But surely there's a better 
way to do it (the inverted index structure seems like this should be 
natural).  Any pointers would be most helpful.
 >
 > Thanks,
 > -Miles
 >
 > Andrzej Bialecki wrote:
 >
 >> Huinan wrote:
 >>
 >>> Thanks, Ronnie. But why it works in some cases (when there is a 
small number
 >>> of documents inside the index) ?
 >>
 >>
 >> The Hits class retrieves the first 50 results, and caches them.
 >>
 >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 17:48:36 2006
Return-Path: <java-user-return-23342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68172 invoked from network); 13 Sep 2006 17:48:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 17:48:35 -0000
Received: (qmail 16123 invoked by uid 500); 13 Sep 2006 17:48:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16069 invoked by uid 500); 13 Sep 2006 17:48:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16035 invoked by uid 99); 13 Sep 2006 17:48:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 10:48:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=zhang.huinan@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=zhang.huinan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.231 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.231:62781] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 58/32-10245-1E348054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 10:47:24 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2260934wxc
        for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 10:45:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=o35HKrC0GHZF5J3/Py1CCu0WO9mMIwpfLIcSSDY8wixpoNxaGMYvO3OMzKwG81YNSpe5BFhinI83Q9djDIL26k2nWZRN078knYDAICZISdDoX/1h0bA+oUkmRW9+261ftasGInaTNK0eJuVhINQyGbuo1/D4X5kmMdDEvKSTX9M=
Received: by 10.70.125.2 with SMTP id x2mr1073494wxc;
        Wed, 13 Sep 2006 10:45:49 -0700 (PDT)
Received: by 10.70.10.13 with HTTP; Wed, 13 Sep 2006 10:45:49 -0700 (PDT)
Message-ID: <65381b920609131045p28edb811k28032f704481aea1@mail.gmail.com>
Date: Thu, 14 Sep 2006 05:45:49 +1200
From: Huinan <zhang.huinan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IOException when calling hits.doc(int)
In-Reply-To: <4508079F.1090109@getopt.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_38232_11290682.1158169549638"
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
	 <4507C8BC.7010503@ub.uu.se>
	 <65381b920609130213u1696132br783b5995f78cec0c@mail.gmail.com>
	 <4508079F.1090109@getopt.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_38232_11290682.1158169549638
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I see. This is what I was curious about. Thanks!

On 9/14/06, Andrzej Bialecki <ab@getopt.org> wrote:
>
> Huinan wrote:
> > Thanks, Ronnie. But why it works in some cases (when there is a small
> > number
> > of documents inside the index) ?
>
> The Hits class retrieves the first 50 results, and caches them.
>
> --
> Best regards,
> Andrzej Bialecki     <><
> ___. ___ ___ ___ _ _   __________________________________
> [__ || __|__/|__||\/|  Information Retrieval, Semantic Web
> ___|||__||  \|  ||  |  Embedded Unix, System Integration
> http://www.sigram.com  Contact: info at sigram dot com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_38232_11290682.1158169549638--

From java-user-return-23343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 18:07:46 2006
Return-Path: <java-user-return-23343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74441 invoked from network); 13 Sep 2006 18:07:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 18:07:46 -0000
Received: (qmail 58323 invoked by uid 500); 13 Sep 2006 18:07:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58051 invoked by uid 500); 13 Sep 2006 18:07:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58037 invoked by uid 99); 13 Sep 2006 18:07:40 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 11:07:40 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from ([169.229.70.167:51833] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 61/D2-10245-FA848054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 11:07:54 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1C41D5B772; Wed, 13 Sep 2006 11:06:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 17CB97F403
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 11:06:20 -0700 (PDT)
Date: Wed, 13 Sep 2006 11:06:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: SV: SV: Changing the Scoring api
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C0259C809@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0609131059340.18416@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C0259C809@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1) This is not java.  Since it's not java, i can't even begin to guess
   what odd excentricities might exist in whatever lucene port you are
   using.
2) If this *were* java then it wouldn't work th way you want it to, since
   you have the tf function returning "1" regardless of the frequency ...
   this method needs to return "0" sometimes, otherwise *everything* is a
   match
3) based on #2, and the resulst you describe i'm guessing your similarity
   isn't being used at all -- check that, add a System.out.println("BOO")
   (or whatever the correlary is in this langauge) to all ofthese methods, =
i
   don't think you'll ever see that output -- start with figuring out why
   your similarity is being used before you try to fix it any more.
4) once you are sure your Similarity is being used, then take a look at
   the IndexSearcher.explain methods --they are your best riend in
   tweaking scoring information.


: Date: Wed, 13 Sep 2006 14:42:13 +0200
: From: Marcus Falck <marcus.falck@observer.se>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: SV: SV: Changing the Scoring api
:
: It didn't really work for booleanqueries either. I thought it was working=
 for some hours but to my big disappointment I realized that this was not t=
he case.
:
: Im using two IndexReaders ( RAM and FS ) and one multireader. Creating on=
e indexsearcher by passing the multireader as constructor argument.
:
: Set the similarity class to my own similarity class using the SetSimilari=
ty method on the searcher.
:
: This is the source for the similarity class I'm using:
:
:     public class BoostOnlySimilarity : Similarity
:     {
:         /// <summary>Implemented as <code>1/sqrt(numTerms)</code>. </summ=
ary>
:         public override float LengthNorm(System.String fieldName, int num=
Terms)
:         {
:             return 1;
:         }
:
:         /// <summary>Implemented as <code>1/sqrt(sumOfSquaredWeights)</co=
de>. </summary>
:         public override float QueryNorm(float sumOfSquaredWeights)
:         {
:             // Deal with the multiple terms issue
:             return 1;
:             //return (float)(1.0 / sumOfSquaredWeights); // return 1;
:         }
:
:         /// <summary>Implemented as <code>sqrt(freq)</code>. </summary>
:         public override float Tf(float freq)
:         {
:             return 1;
:         }
:
:         /// <summary>Implemented as <code>1 / (distance + 1)</code>. </su=
mmary>
:         public override float SloppyFreq(int distance)
:         {
:             return 1;
:         }
:
:         public override float Idf(Lucene.Net.Index.Term term, Searcher se=
archer)
:         {
:             return 1;
:         }
:         public override float Ldf(int docFreq, int numDocs)
:         {
:             return 1;
:         }
:         /// <summary>Implemented as <code>overlap / maxOverlap</code>. </=
summary>
:         public override float Coord(int overlap, int maxOverlap)
:         {
:             return 1;
:         }
:
:     }
:
:
: /
: Marcus
:
:
: -----Ursprungligt meddelande-----
: Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]
: Skickat: den 12 september 2006 17:20
: Till: java-user@lucene.apache.org
: =C4mne: Re: SV: Changing the Scoring api
:
:
: : However the BooleanQuery's disableCoord seems to make effect.
: : But I still have the problem when I'm constructing queries with wildcar=
ds.
:
: really? ... that's strange, WildcardQuery uses the disableCoord feature o=
f
: BooleanQuery.  Do you have an example of what you mean?
:
: : already had implemented my own similarity class that has the coord fixe=
d
: : to 1. And it doesn't work as excepted.
:
: are you setting your Similarity as the default on your IndexSearcher prio=
r
: to executing your Queries?
:
:
: -Hoss
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 18:39:19 2006
Return-Path: <java-user-return-23344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86714 invoked from network); 13 Sep 2006 18:39:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 18:39:18 -0000
Received: (qmail 22850 invoked by uid 500); 13 Sep 2006 18:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22789 invoked by uid 500); 13 Sep 2006 18:39:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22679 invoked by uid 99); 13 Sep 2006 18:39:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 11:39:16 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id 22CA6DA642C
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 14:38:02 -0400 (EDT)
Received: from heartbeat2.internal ([10.202.2.161])
  by frontend3.internal (MEProxy); Wed, 13 Sep 2006 14:38:03 -0400
X-Sasl-enc: 8ouF1ykpyBKVh/vopnPhjpjBLZzk7xTcLuWUS0cMDWs5 1158172683
Received: from [10.17.4.90] (pool-71-162-112-253.bstnma.fios.verizon.net [71.162.112.253])
	by mail.messagingengine.com (Postfix) with ESMTP id F00B9CAD6
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 14:38:02 -0400 (EDT)
Message-ID: <45084FF4.5030803@mikemccandless.com>
Date: Wed, 13 Sep 2006 14:37:40 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: intermittant "Access Denied" IOExceptions on Windows
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

There is an issue opened on Lucene:

     http://issues.apache.org/jira/browse/LUCENE-665

that I'd like to draw your attention to and summarize here because
recently users have hit it.

The gist of the issue is: on Windows, you sometimes see intermittant
"Access Denied" errors in renaming segments.new to segments or
deletable.new to deletable, etc.  Lucene typically writes files first
to X.new and then renames then to X.

I know there was at least one recent thread where someone was hitting
this and there have been others in the past (including other Jira
issues).

Anyway, at the end of the issue it was discovered that there was an
unrelated piece of software (TortoiseSVN client) installed which was
using a filesystem "change log" capability in Windows that was
"causing" the problem: uninstalling it made the errors go away.

Unfortunately, there are apparently many software packages that use
this "change log" capability in Windows (virus checkers, Microsoft's
indexing service, etc.) and so the above issue remains open to figure
out whether / how to make Lucene robust to these cases.

But the bottom line is: if you hit these "Access Denied" errors, one
workaround is to try to turn off or uninstall the software that might
be doing this.  I realize in many cases that's not an option (it's a
production box; you can't turn off virus checkers; etc.), but at least
it's something to try if you can, until there's some resolution on
that issue.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 19:10:09 2006
Return-Path: <java-user-return-23345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98412 invoked from network); 13 Sep 2006 19:10:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 19:10:09 -0000
Received: (qmail 10083 invoked by uid 500); 13 Sep 2006 19:10:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10052 invoked by uid 500); 13 Sep 2006 19:10:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10041 invoked by uid 99); 13 Sep 2006 19:10:02 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 12:10:02 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=DORONC@il.ibm.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from ([195.212.29.154:23668] helo=mtagate5.de.ibm.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 17/30-10750-A4758054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 12:10:14 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8DJ8cO8148688
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 19:08:38 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8DJDEe22744468
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 21:13:14 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8DJ8b9n015859
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 21:08:38 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8DJ8bdb015856
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 21:08:37 +0200
In-Reply-To: <Pine.LNX.4.58.0609131059340.18416@hal.rescomp.berkeley.edu>
Subject: Re: SV: SV: Changing the Scoring api
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF007428FE.015D05B8-ON882571E8.006534D9-882571E8.0068A71F@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 13 Sep 2006 12:03:05 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 13/09/2006 22:13:14
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think it is not possible, by only modifying Similarity, to make the t=
otal
score only count for documents boosts (which is the original request in=

this discussion).

This is because a higher level scorer always sums the scores of "its"
sub-scorers - is this right...?  if so there are probably two options:
  - using Solr's FunctionQuery as suggested earlier in this thread,
maintaining the desired score in a dedicated field rather than in doc b=
oost
- this is perhaps a better approach, because the doc boost was not inte=
nded
for this use (it only resides in 1 byte together with other factors, et=
c.)
  - writing a dedicated (top level) scorer - and query, and weight - th=
at
would not sum on subscorers.

Chris Hostetter <hossman_lucene@fucit.org> wrote on 13/09/2006 11:06:20=
:
>
> 1) This is not java.  Since it's not java, i can't even begin to gues=
s
>    what odd excentricities might exist in whatever lucene port you ar=
e
>    using.
> 2) If this *were* java then it wouldn't work th way you want it to, s=
ince
>    you have the tf function returning "1" regardless of the frequency=
 ...
>    this method needs to return "0" sometimes, otherwise *everything* =
is a
>    match

I agree that tf=3D'always 1' is weird on scoring computations, but sinc=
e tf
is checked only for documents that contain the processed term (walking
termDocs), actually tf would never return 0. An idf=3D'always 1' seems =
to me
more harsh for the scoring process - if it is this way modified, it sho=
uld
be set a much smaller value.

> 3) based on #2, and the resulst you describe i'm guessing your simila=
rity
>    isn't being used at all -- check that, add a System.out.println("B=
OO")
>    (or whatever the correlary is in this langauge) to all ofthese
methods, i
>    don't think you'll ever see that output -- start with figuring out=
 why
>    your similarity is being used before you try to fix it any more.
> 4) once you are sure your Similarity is being used, then take a look =
at
>    the IndexSearcher.explain methods --they are your best riend in
>    tweaking scoring information.
>
>
> : Date: Wed, 13 Sep 2006 14:42:13 +0200
> : From: Marcus Falck <marcus.falck@observer.se>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: SV: SV: Changing the Scoring api
> :
> : It didn't really work for booleanqueries either. I thought it was
> working for some hours but to my big disappointment I realized that
> this was not the case.
> :
> : Im using two IndexReaders ( RAM and FS ) and one multireader.
> Creating one indexsearcher by passing the multireader as
constructorargument.
> :
> : Set the similarity class to my own similarity class using the
> SetSimilarity method on the searcher.
> :
> : This is the source for the similarity class I'm using:
> :
> :     public class BoostOnlySimilarity : Similarity
> :     {
> :         /// <summary>Implemented as
<code>1/sqrt(numTerms)</code>.</summary>
> :         public override float LengthNorm(System.String fieldName,
> int numTerms)
> :         {
> :             return 1;
> :         }
> :
> :         /// <summary>Implemented as
> <code>1/sqrt(sumOfSquaredWeights)</code>. </summary>
> :         public override float QueryNorm(float sumOfSquaredWeights)
> :         {
> :             // Deal with the multiple terms issue
> :             return 1;
> :             //return (float)(1.0 / sumOfSquaredWeights); // return =
1;
> :         }
> :
> :         /// <summary>Implemented as <code>sqrt(freq)</code>. </summ=
ary>
> :         public override float Tf(float freq)
> :         {
> :             return 1;
> :         }
> :
> :         /// <summary>Implemented as <code>1 / (distance + 1)
> </code>. </summary>
> :         public override float SloppyFreq(int distance)
> :         {
> :             return 1;
> :         }
> :
> :         public override float Idf(Lucene.Net.Index.Term term,
> Searcher searcher)
> :         {
> :             return 1;
> :         }
> :         public override float Ldf(int docFreq, int numDocs)
> :         {
> :             return 1;
> :         }
> :         /// <summary>Implemented as <code>overlap /
> maxOverlap</code>. </summary>
> :         public override float Coord(int overlap, int maxOverlap)
> :         {
> :             return 1;
> :         }
> :
> :     }
> :
> :
> : /
> : Marcus
> :
> :
> : -----Ursprungligt meddelande-----
> : Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]
> : Skickat: den 12 september 2006 17:20
> : Till: java-user@lucene.apache.org
> : =C4mne: Re: SV: Changing the Scoring api
> :
> :
> : : However the BooleanQuery's disableCoord seems to make effect.
> : : But I still have the problem when I'm constructing queries with
wildcards.
> :
> : really? ... that's strange, WildcardQuery uses the disableCoord fea=
ture
of
> : BooleanQuery.  Do you have an example of what you mean?
> :
> : : already had implemented my own similarity class that has the coor=
d
fixed
> : : to 1. And it doesn't work as excepted.
> :
> : are you setting your Similarity as the default on your IndexSearche=
r
prior
> : to executing your Queries?
> :
> :
> : -Hoss
> :
> :
> : -------------------------------------------------------------------=
--
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
> :
> :
> :
> : -------------------------------------------------------------------=
--
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------=

> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 19:23:17 2006
Return-Path: <java-user-return-23346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8299 invoked from network); 13 Sep 2006 19:23:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 19:23:17 -0000
Received: (qmail 31772 invoked by uid 500); 13 Sep 2006 19:23:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31746 invoked by uid 500); 13 Sep 2006 19:23:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31735 invoked by uid 99); 13 Sep 2006 19:23:12 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 12:23:12 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=paul.elschot@xs4all.nl; spf=permerror
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received-SPF: error (idunn.apache.osuosl.org: domain xs4all.nl from 194.109.24.32 cause and error)
Received: from ([194.109.24.32:4695] helo=smtp-vbr12.xs4all.nl)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 92/80-10750-81A58054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 12:22:11 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr12.xs4all.nl (8.13.6/8.13.6) with ESMTP id k8DJKZsY076787
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 21:20:36 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: removing a term from a lucene index
Date: Wed, 13 Sep 2006 21:20:34 +0200
User-Agent: KMail/1.8.2
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com> <4508079F.1090109@getopt.org> <45080A9D.7090000@ibiblio.org>
In-Reply-To: <45080A9D.7090000@ibiblio.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609132120.34825.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 13 September 2006 15:41, Miles Efron wrote:
> This question surely shows how new I am to Lucene... but I'm interested 
> in removing terms from a lucene index.  In particular, I'd like to be 
> able to delete all terms that appear in fewer than x documents (say 
> x=3).  This is in efforts to reduce the feature set for some research 
> I'm doing.
> 
> I found a post to this effect on the list from a while back:
>     http://www.gossamer-threads.com/lists/lucene/java-user/9538#9538
> but I couldn't find any responses to it.
> 
> The only thing I can think of is to re-index the collection, using the 
> undesired words as a sort of stoplist.  But surely there's a better way 
> to do it (the inverted index structure seems like this should be 
> natural).  Any pointers would be most helpful.

You only need to reindex the documents containing the terms to
be removed. That may not be really straightforward to program,
but it could be worthwhile depending how often you expect this to
happen.
In case you already have an incremental indexer that adds
documents that are not already in the index, you can use that after
deleting all docs containing your terms, iirc IndexReader has a
method to delete all docs containing a term.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 19:32:40 2006
Return-Path: <java-user-return-23347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12296 invoked from network); 13 Sep 2006 19:32:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 19:32:39 -0000
Received: (qmail 50533 invoked by uid 500); 13 Sep 2006 19:32:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50496 invoked by uid 500); 13 Sep 2006 19:32:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50485 invoked by uid 99); 13 Sep 2006 19:32:34 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 12:32:33 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from ([169.229.70.167:46782] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 3B/B0-10750-59C58054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 12:32:48 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E3B4F5B772; Wed, 13 Sep 2006 12:31:06 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id DCC217F403
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 12:31:06 -0700 (PDT)
Date: Wed, 13 Sep 2006 12:31:06 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: removing a term from a lucene index
In-Reply-To: <200609132120.34825.paul.elschot@xs4all.nl>
Message-ID: <Pine.LNX.4.58.0609131227480.21953@hal.rescomp.berkeley.edu>
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com>
 <4508079F.1090109@getopt.org> <45080A9D.7090000@ibiblio.org>
 <200609132120.34825.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > undesired words as a sort of stoplist.  But surely there's a better way
: > to do it (the inverted index structure seems like this should be
: > natural).  Any pointers would be most helpful.

I've never given this much thought, but i know that merging indexes can be
done with IndexReaders, and I know i've seen a FilterIndexReader class
which lets you proxy to another IndexReader but "filter out" some data by
overriding methods and using FilterTermDocs, FilterTermEnum and
FilterTermPositions ... would it be possibe to subclass FilterIndexReader
with an instance that checked the docFreq of each term and ignored it if
it was less then N ... then just merge your old index into a new (epty)
index using this FilteredIndexReader...

	?




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 19:48:21 2006
Return-Path: <java-user-return-23348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16018 invoked from network); 13 Sep 2006 19:48:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 19:48:21 -0000
Received: (qmail 71938 invoked by uid 500); 13 Sep 2006 19:48:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71909 invoked by uid 500); 13 Sep 2006 19:48:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71898 invoked by uid 99); 13 Sep 2006 19:48:15 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from [195.212.29.154] (HELO mtagate5.de.ibm.com) (195.212.29.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 12:48:14 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8DJkqj5163346
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 19:46:52 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8DJpSDl3289220
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 21:51:28 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8DJkqnl001266
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 21:46:52 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8DJkk6X001219
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 21:46:46 +0200
In-Reply-To: <1024cc995964a7d63a11ec9a33ed90fd@as-st.com>
Subject: Re: Storing no. of occurances of a token
To: java-user@lucene.apache.org
Cc: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OFDC4D0E84.95166C6E-ON882571E8.006BF89B-882571E8.006C7C0E@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 13 Sep 2006 12:44:56 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 13/09/2006 22:51:22
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I found out how to determine the number of documents in which a term
> appeared by looking at the Luke code, but how does one determine the
> number of times it occurs in each document?

Use TermDocs -
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/TermDocs.html
Something like -
 TermDocs td = myIndexReader.termDocs(new Term("name1","value1"));
 while (td.next()) {
   System.out.println("term frequency in doc "+td.doc()+" is: "+
td.freq());
 };


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 13 20:29:28 2006
Return-Path: <java-user-return-23349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28311 invoked from network); 13 Sep 2006 20:29:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2006 20:29:28 -0000
Received: (qmail 62321 invoked by uid 500); 13 Sep 2006 20:29:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62299 invoked by uid 500); 13 Sep 2006 20:29:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62288 invoked by uid 99); 13 Sep 2006 20:29:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 13:29:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 13:29:10 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k8DKSwG12905
	for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 15:28:58 -0500
Message-ID: <45086A04.7000406@getopt.org>
Date: Wed, 13 Sep 2006 22:28:52 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: removing a term from a lucene index
References: <65381b920609130132x443f07a9u3744f22e5ab1179c@mail.gmail.com> <4508079F.1090109@getopt.org> <45080A9D.7090000@ibiblio.org> <200609132120.34825.paul.elschot@xs4all.nl> <Pine.LNX.4.58.0609131227480.21953@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0609131227480.21953@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:
> : > undesired words as a sort of stoplist.  But surely there's a better way
> : > to do it (the inverted index structure seems like this should be
> : > natural).  Any pointers would be most helpful.
>
> I've never given this much thought, but i know that merging indexes can be
> done with IndexReaders, and I know i've seen a FilterIndexReader class
> which lets you proxy to another IndexReader but "filter out" some data by
> overriding methods and using FilterTermDocs, FilterTermEnum and
> FilterTermPositions ... would it be possibe to subclass FilterIndexReader
> with an instance that checked the docFreq of each term and ignored it if
> it was less then N ... then just merge your old index into a new (epty)
> index using this FilteredIndexReader...
>
> 	?
>   

http://svn.apache.org/repos/asf/lucene/nutch/trunk/src/java/org/apache/nutch/indexer/IndexSorter.java

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 03:36:15 2006
Return-Path: <java-user-return-23350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44096 invoked from network); 14 Sep 2006 03:36:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 03:36:15 -0000
Received: (qmail 18037 invoked by uid 500); 14 Sep 2006 03:36:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18001 invoked by uid 500); 14 Sep 2006 03:36:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17990 invoked by uid 99); 14 Sep 2006 03:36:07 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Sep 2006 20:36:07 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=michael.imbeault@sympatico.ca; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain sympatico.ca designates 209.226.175.93 as permitted sender)
Received: from ([209.226.175.93:65272] helo=tomts36-srv.bellnexxia.net)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 53/D1-02080-B8DC8054 for <java-user@lucene.apache.org>; Wed, 13 Sep 2006 20:34:46 -0700
Received: from [69.157.157.71] by tomts36-srv.bellnexxia.net
          (InterMail vM.5.01.06.13 201-253-122-130-113-20050324) with ESMTP
          id <20060914033328.QDFZ13653.tomts36-srv.bellnexxia.net@[69.157.157.71]>
          for <java-user@lucene.apache.org>;
          Wed, 13 Sep 2006 23:33:28 -0400
Message-ID: <4508CD90.2060902@sympatico.ca>
Date: Wed, 13 Sep 2006 23:33:36 -0400
From: Michael Imbeault <michael.imbeault@sympatico.ca>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: UTF8 accents & umlauts filter?
References: <4507111C.5000501@sympatico.ca> <c68e39170609121335l6a6e0fcay8617db0cbbb144ac@mail.gmail.com>
In-Reply-To: <c68e39170609121335l6a6e0fcay8617db0cbbb144ac@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Yonik & Ken for both answers; I think the explanations went a 
little over my head, but I think you understood what I was talking 
about! Basically, a better filter to remove all possible accents (& 
umlauts as a bonus, for completeness sake; I personally would have no 
use for it).

I think it's way more work and way more complicated than I initially 
thought it would be. Anyone feels able to do this?

Michael Imbeault
CHUL Research Center (CHUQ)
2705 boul. Laurier
Ste-Foy, QC, Canada, G1V 4G2
Tel: (418) 654-2705, Fax: (418) 654-2212



Yonik Seeley wrote:
> Thanks for the links Michael... this one does look interesting:
> http://dev.alt.textdrive.com/browser/lu/LUStringBasicLatin.txt
> The challenge would be to make it fast... perhaps a custom hash table,
> or look into the cost of a perfect hash function.
>
> Just to clear up some unicode/terminology issues:
>
> There are latin1 characters (the actual glyphs) represented by unicode
> code points 0->255
> There is also a latin1 encoding for unicode (which can only represent
> unicode code points 0->255)
> UTF8 is another encoding for unicode characters (or code points), but
> that's not really relevant to a filter.
>
> So ISOLatin1AccentFilter removes accents from characters <= 255, and
> it doesn't matter what the original encoding was (ascii, latin1, UTF8,
> UTF16, etc)
>
> -Yonik
>
>
> On 9/12/06, Michael Imbeault <michael.imbeault@sympatico.ca> wrote:
>> Right now Lucene has an accent filter (ISOLatin1AccentFilter) that
>> remove accents on ISO-8859-1 text. What about a UTF8AccentFilter? Is it
>> planned to add such a filter (which would be very useful, as
>> ISOLatin1AccentFilter isn't able to remove some complex accents on some
>> languages encoded in UTF8. I would paste examples but I'm not sure that
>> they would display correctly).? I think I saw a post long ago on this
>> mailing list about something like that, but it has never been released
>> officially.
>>
>> See
>>
>> 2001, first post about utf8 accents:
>> http://www.gossamer-threads.com/lists/lucene/java-user/648?search_string=accent;#648 
>>
>> 2004, a good solution, but still incomplete :
>> http://www.gossamer-threads.com/lists/lucene/java-user/10792?search_string=accent;#10792 
>>
>> 2006, best attempt yet, but sadly undelivered :
>> http://www.gossamer-threads.com/lists/lucene/java-user/32142?search_string=accent;#32142 
>>
>>
>> I think Lucene would benefit from a complete UTF8 accents remover...
>> right now the best solution I have is to process everything in PHP
>> before indexing and at query time (and its a little slow).
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 07:56:29 2006
Return-Path: <java-user-return-23351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10294 invoked from network); 14 Sep 2006 07:56:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 07:56:29 -0000
Received: (qmail 77695 invoked by uid 500); 14 Sep 2006 07:56:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77572 invoked by uid 500); 14 Sep 2006 07:56:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77561 invoked by uid 99); 14 Sep 2006 07:56:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 00:56:22 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 00:56:13 -0700
Received: (qmail 19527 invoked by uid 509); 14 Sep 2006 09:55:43 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.089604 secs); 14 Sep 2006 07:55:43 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.089604 secs Process 19521)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 14 Sep 2006 09:55:42 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: SV: Changing the Scoring api
Date: Thu, 14 Sep 2006 09:55:41 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0259CD0F@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: SV: Changing the Scoring api
Thread-Index: AcbXaEOsmfnICObuRdepNNaDy/8JXgAaVRZg
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yeah Hoss you are right this isn't java it's the .NET port. But I have =
to ask at this mail list since it contains a lot of people with a lot =
more insight in lucene then on the .NET user list.

And I have a hard time to believe that they wouldn't have ported the =
scoring parts correctly. =20

First off:
I know that my Similarity class is used. Since a change in it =
immediately affects the calculated score for queries.

Second off:
I don't think my problems are related to the similarity class. I think =
Doron is correct when he says that the problems are in the summation of =
the subscorers.

Third off:
I haven't looked as much at the FunctionQuery in solr since I can't find =
any good documentation for it.=20
But if I write a function for a field don't the field values have to be =
in the field cache for applying this function? And since I'm dealing =
with a lot of data this will severely affect the overall performance.

/
Marcus





-----Ursprungligt meddelande-----
Fr=E5n: Doron Cohen [mailto:DORONC@il.ibm.com]=20
Skickat: den 13 september 2006 21:03
Till: java-user@lucene.apache.org
=C4mne: Re: SV: SV: Changing the Scoring api

I think it is not possible, by only modifying Similarity, to make the =
total
score only count for documents boosts (which is the original request in
this discussion).

This is because a higher level scorer always sums the scores of "its"
sub-scorers - is this right...?  if so there are probably two options:
  - using Solr's FunctionQuery as suggested earlier in this thread,
maintaining the desired score in a dedicated field rather than in doc =
boost
- this is perhaps a better approach, because the doc boost was not =
intended
for this use (it only resides in 1 byte together with other factors, =
etc.)
  - writing a dedicated (top level) scorer - and query, and weight - =
that
would not sum on subscorers.

Chris Hostetter <hossman_lucene@fucit.org> wrote on 13/09/2006 11:06:20:
>
> 1) This is not java.  Since it's not java, i can't even begin to guess
>    what odd excentricities might exist in whatever lucene port you are
>    using.
> 2) If this *were* java then it wouldn't work th way you want it to, =
since
>    you have the tf function returning "1" regardless of the frequency =
...
>    this method needs to return "0" sometimes, otherwise *everything* =
is a
>    match

I agree that tf=3D'always 1' is weird on scoring computations, but since =
tf
is checked only for documents that contain the processed term (walking
termDocs), actually tf would never return 0. An idf=3D'always 1' seems =
to me
more harsh for the scoring process - if it is this way modified, it =
should
be set a much smaller value.

> 3) based on #2, and the resulst you describe i'm guessing your =
similarity
>    isn't being used at all -- check that, add a =
System.out.println("BOO")
>    (or whatever the correlary is in this langauge) to all ofthese
methods, i
>    don't think you'll ever see that output -- start with figuring out =
why
>    your similarity is being used before you try to fix it any more.
> 4) once you are sure your Similarity is being used, then take a look =
at
>    the IndexSearcher.explain methods --they are your best riend in
>    tweaking scoring information.
>
>
> : Date: Wed, 13 Sep 2006 14:42:13 +0200
> : From: Marcus Falck <marcus.falck@observer.se>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: SV: SV: Changing the Scoring api
> :
> : It didn't really work for booleanqueries either. I thought it was
> working for some hours but to my big disappointment I realized that
> this was not the case.
> :
> : Im using two IndexReaders ( RAM and FS ) and one multireader.
> Creating one indexsearcher by passing the multireader as
constructorargument.
> :
> : Set the similarity class to my own similarity class using the
> SetSimilarity method on the searcher.
> :
> : This is the source for the similarity class I'm using:
> :
> :     public class BoostOnlySimilarity : Similarity
> :     {
> :         /// <summary>Implemented as
<code>1/sqrt(numTerms)</code>.</summary>
> :         public override float LengthNorm(System.String fieldName,
> int numTerms)
> :         {
> :             return 1;
> :         }
> :
> :         /// <summary>Implemented as
> <code>1/sqrt(sumOfSquaredWeights)</code>. </summary>
> :         public override float QueryNorm(float sumOfSquaredWeights)
> :         {
> :             // Deal with the multiple terms issue
> :             return 1;
> :             //return (float)(1.0 / sumOfSquaredWeights); // return =
1;
> :         }
> :
> :         /// <summary>Implemented as <code>sqrt(freq)</code>. =
</summary>
> :         public override float Tf(float freq)
> :         {
> :             return 1;
> :         }
> :
> :         /// <summary>Implemented as <code>1 / (distance + 1)
> </code>. </summary>
> :         public override float SloppyFreq(int distance)
> :         {
> :             return 1;
> :         }
> :
> :         public override float Idf(Lucene.Net.Index.Term term,
> Searcher searcher)
> :         {
> :             return 1;
> :         }
> :         public override float Ldf(int docFreq, int numDocs)
> :         {
> :             return 1;
> :         }
> :         /// <summary>Implemented as <code>overlap /
> maxOverlap</code>. </summary>
> :         public override float Coord(int overlap, int maxOverlap)
> :         {
> :             return 1;
> :         }
> :
> :     }
> :
> :
> : /
> : Marcus
> :
> :
> : -----Ursprungligt meddelande-----
> : Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]
> : Skickat: den 12 september 2006 17:20
> : Till: java-user@lucene.apache.org
> : =C4mne: Re: SV: Changing the Scoring api
> :
> :
> : : However the BooleanQuery's disableCoord seems to make effect.
> : : But I still have the problem when I'm constructing queries with
wildcards.
> :
> : really? ... that's strange, WildcardQuery uses the disableCoord =
feature
of
> : BooleanQuery.  Do you have an example of what you mean?
> :
> : : already had implemented my own similarity class that has the coord
fixed
> : : to 1. And it doesn't work as excepted.
> :
> : are you setting your Similarity as the default on your IndexSearcher
prior
> : to executing your Queries?
> :
> :
> : -Hoss
> :
> :
> : =
---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
> :
> :
> :
> : =
---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 08:52:38 2006
Return-Path: <java-user-return-23352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25909 invoked from network); 14 Sep 2006 08:52:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 08:52:37 -0000
Received: (qmail 68821 invoked by uid 500); 14 Sep 2006 08:52:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68669 invoked by uid 500); 14 Sep 2006 08:52:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68642 invoked by uid 99); 14 Sep 2006 08:52:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [203.16.237.3] (HELO pie.customware.net) (203.16.237.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 01:52:29 -0700
Received: from mousse ([203.16.237.6])
	by pie.customware.net
	(using TLSv1/SSLv3 with cipher RC4-MD5 (128 bits))
	for java-user@lucene.apache.org;
	Thu, 14 Sep 2006 18:53:47 +1000
From: "Aditya Gollakota" <aditya.gollakota@customware.net>
To: <java-user@lucene.apache.org>
Subject: Using Lucene to index Meta-data from txt, html, PDF etc files.
Date: Thu, 14 Sep 2006 18:50:11 +1000
Message-ID: <05d001c6d7da$c9e04b80$12023c0a@mousse>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_05D1_01C6D82E.9B8C5B80"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbX2sl551DyQ/JzShS/vAuyaw3Sbw==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_05D1_01C6D82E.9B8C5B80
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi Guys,

 

Just wondering how you would go about indexing meta-data from files. I've
used the demo package IndexHTMLjava and have updated the HTMLDocument.java
with the following:

 

DataInput input = new DataInputStream(new BufferedInputStream(new
FileInputStream(f)));

Content content = Content.read(input);

Reader contentReader = new ArrayFile.Reader(new LocalFileSystem(null),new
File(f.getPath(), Content.DIR_NAME).toString(), null);

    

System.out.println(content);

ParseData parseData = ParseData.read(input);

Metadata metadata = parseData.getContentMeta();

 

doc.add(new Field("keywords", metadata.KEYWORDS, Field.Store.YES,
Field.Index.NO));

 

I'm using the nutch-0.8.jar for the Metadata Class and have used the jars of
nutch to resolve any exceptions and also Lucene-2.0.0

 

While compiling this code, I'm getting the following error:

 

A record version mismatch occurred. Expecting v1, found v118.

 

Any help would be much appreciated.

 

Regards,

 

Aditya Gollakota
Support Engineer | CustomWare Asia Pacific | www.customware.net
T: +61 2 9900 5742 | F: +61 2 9475 0100 | M: +61 405 033 951
E: aditya.gollakota@customware.net

 


------=_NextPart_000_05D1_01C6D82E.9B8C5B80--



From java-user-return-23353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 09:27:07 2006
Return-Path: <java-user-return-23353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35711 invoked from network); 14 Sep 2006 09:27:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 09:27:06 -0000
Received: (qmail 15994 invoked by uid 500); 14 Sep 2006 09:27:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15971 invoked by uid 500); 14 Sep 2006 09:27:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15960 invoked by uid 99); 14 Sep 2006 09:27:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 02:27:00 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 02:26:51 -0700
Received: (qmail 3243 invoked by uid 509); 14 Sep 2006 11:26:21 +0200
Received: from 10.8.1.19 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.19):. 
 Processed in 0.118149 secs); 14 Sep 2006 09:26:21 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.19):. Processed in 0.118149 secs Process 3231)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.19)
  by mail1.observergroup.com with SMTP; 14 Sep 2006 11:26:20 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: SV: Changing the Scoring api
Date: Thu, 14 Sep 2006 11:26:20 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C0259CEED@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: SV: Changing the Scoring api
Thread-Index: AcbXaEOsmfnICObuRdepNNaDy/8JXgAaVRZgAAODh9A=
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Apparently some modifications in the DisjunctionSumScorer class seems to =
give me exactly what I'm looking for. So it was possible =3D)



-----Ursprungligt meddelande-----
Fr=E5n: Marcus Falck [mailto:marcus.falck@observer.se]=20
Skickat: den 14 september 2006 09:56
Till: java-user@lucene.apache.org
=C4mne: SV: SV: SV: Changing the Scoring api

Yeah Hoss you are right this isn't java it's the .NET port. But I have =
to ask at this mail list since it contains a lot of people with a lot =
more insight in lucene then on the .NET user list.

And I have a hard time to believe that they wouldn't have ported the =
scoring parts correctly. =20

First off:
I know that my Similarity class is used. Since a change in it =
immediately affects the calculated score for queries.

Second off:
I don't think my problems are related to the similarity class. I think =
Doron is correct when he says that the problems are in the summation of =
the subscorers.

Third off:
I haven't looked as much at the FunctionQuery in solr since I can't find =
any good documentation for it.=20
But if I write a function for a field don't the field values have to be =
in the field cache for applying this function? And since I'm dealing =
with a lot of data this will severely affect the overall performance.

/
Marcus





-----Ursprungligt meddelande-----
Fr=E5n: Doron Cohen [mailto:DORONC@il.ibm.com]=20
Skickat: den 13 september 2006 21:03
Till: java-user@lucene.apache.org
=C4mne: Re: SV: SV: Changing the Scoring api

I think it is not possible, by only modifying Similarity, to make the =
total
score only count for documents boosts (which is the original request in
this discussion).

This is because a higher level scorer always sums the scores of "its"
sub-scorers - is this right...?  if so there are probably two options:
  - using Solr's FunctionQuery as suggested earlier in this thread,
maintaining the desired score in a dedicated field rather than in doc =
boost
- this is perhaps a better approach, because the doc boost was not =
intended
for this use (it only resides in 1 byte together with other factors, =
etc.)
  - writing a dedicated (top level) scorer - and query, and weight - =
that
would not sum on subscorers.

Chris Hostetter <hossman_lucene@fucit.org> wrote on 13/09/2006 11:06:20:
>
> 1) This is not java.  Since it's not java, i can't even begin to guess
>    what odd excentricities might exist in whatever lucene port you are
>    using.
> 2) If this *were* java then it wouldn't work th way you want it to, =
since
>    you have the tf function returning "1" regardless of the frequency =
...
>    this method needs to return "0" sometimes, otherwise *everything* =
is a
>    match

I agree that tf=3D'always 1' is weird on scoring computations, but since =
tf
is checked only for documents that contain the processed term (walking
termDocs), actually tf would never return 0. An idf=3D'always 1' seems =
to me
more harsh for the scoring process - if it is this way modified, it =
should
be set a much smaller value.

> 3) based on #2, and the resulst you describe i'm guessing your =
similarity
>    isn't being used at all -- check that, add a =
System.out.println("BOO")
>    (or whatever the correlary is in this langauge) to all ofthese
methods, i
>    don't think you'll ever see that output -- start with figuring out =
why
>    your similarity is being used before you try to fix it any more.
> 4) once you are sure your Similarity is being used, then take a look =
at
>    the IndexSearcher.explain methods --they are your best riend in
>    tweaking scoring information.
>
>
> : Date: Wed, 13 Sep 2006 14:42:13 +0200
> : From: Marcus Falck <marcus.falck@observer.se>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: SV: SV: Changing the Scoring api
> :
> : It didn't really work for booleanqueries either. I thought it was
> working for some hours but to my big disappointment I realized that
> this was not the case.
> :
> : Im using two IndexReaders ( RAM and FS ) and one multireader.
> Creating one indexsearcher by passing the multireader as
constructorargument.
> :
> : Set the similarity class to my own similarity class using the
> SetSimilarity method on the searcher.
> :
> : This is the source for the similarity class I'm using:
> :
> :     public class BoostOnlySimilarity : Similarity
> :     {
> :         /// <summary>Implemented as
<code>1/sqrt(numTerms)</code>.</summary>
> :         public override float LengthNorm(System.String fieldName,
> int numTerms)
> :         {
> :             return 1;
> :         }
> :
> :         /// <summary>Implemented as
> <code>1/sqrt(sumOfSquaredWeights)</code>. </summary>
> :         public override float QueryNorm(float sumOfSquaredWeights)
> :         {
> :             // Deal with the multiple terms issue
> :             return 1;
> :             //return (float)(1.0 / sumOfSquaredWeights); // return =
1;
> :         }
> :
> :         /// <summary>Implemented as <code>sqrt(freq)</code>. =
</summary>
> :         public override float Tf(float freq)
> :         {
> :             return 1;
> :         }
> :
> :         /// <summary>Implemented as <code>1 / (distance + 1)
> </code>. </summary>
> :         public override float SloppyFreq(int distance)
> :         {
> :             return 1;
> :         }
> :
> :         public override float Idf(Lucene.Net.Index.Term term,
> Searcher searcher)
> :         {
> :             return 1;
> :         }
> :         public override float Ldf(int docFreq, int numDocs)
> :         {
> :             return 1;
> :         }
> :         /// <summary>Implemented as <code>overlap /
> maxOverlap</code>. </summary>
> :         public override float Coord(int overlap, int maxOverlap)
> :         {
> :             return 1;
> :         }
> :
> :     }
> :
> :
> : /
> : Marcus
> :
> :
> : -----Ursprungligt meddelande-----
> : Fr=E5n: Chris Hostetter [mailto:hossman_lucene@fucit.org]
> : Skickat: den 12 september 2006 17:20
> : Till: java-user@lucene.apache.org
> : =C4mne: Re: SV: Changing the Scoring api
> :
> :
> : : However the BooleanQuery's disableCoord seems to make effect.
> : : But I still have the problem when I'm constructing queries with
wildcards.
> :
> : really? ... that's strange, WildcardQuery uses the disableCoord =
feature
of
> : BooleanQuery.  Do you have an example of what you mean?
> :
> : : already had implemented my own similarity class that has the coord
fixed
> : : to 1. And it doesn't work as excepted.
> :
> : are you setting your Similarity as the default on your IndexSearcher
prior
> : to executing your Queries?
> :
> :
> : -Hoss
> :
> :
> : =
---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
> :
> :
> :
> : =
---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 15:43:14 2006
Return-Path: <java-user-return-23354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95422 invoked from network); 14 Sep 2006 15:43:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 15:43:13 -0000
Received: (qmail 80547 invoked by uid 500); 14 Sep 2006 15:43:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80497 invoked by uid 500); 14 Sep 2006 15:43:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80486 invoked by uid 99); 14 Sep 2006 15:43:03 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 08:43:03 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=Alan.Boshier@esprit-is.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received-SPF: error (idunn.apache.osuosl.org: domain esprit-is.com from 81.144.190.98 cause and error)
Received: from ([81.144.190.98:3394] helo=mailgateway.ds.co.uk)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 58/A0-06020-B9779054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 08:40:23 -0700
Received: from Lisbon.ds.co.uk ([192.168.10.240]) by mailgateway.ds.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 14 Sep 2006 16:39:03 +0100
x-mimeole: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Subject: Newbie question: lucene sorting problems and stored fields
Date: Thu, 14 Sep 2006 16:39:03 +0100
Message-ID: <9715C01934C7544CB0C262533CD76240620522@lisbon.ds.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Newbie question: lucene sorting problems and stored fields
Thread-Index: AcbYE+foTbnbdABwQ5WJxSwZH8D8BA==
From: "Alan Boshier" <Alan.Boshier@esprit-is.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Sep 2006 15:39:04.0007 (UTC) FILETIME=[E84E6D70:01C6D813]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

We are seeing intermittent problems with searches that use=20
sorted fields (in lucene 1.4.3).

If we add the fields to our Documents as 'unstored' then
we start to see results that have been sorted by Document ID.

The problem goes away if we add the fields as 'stored'.

Is it a requirement when creating a field for sorting to
make it stored?

Thanks

Alan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 16:16:27 2006
Return-Path: <java-user-return-23355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12666 invoked from network); 14 Sep 2006 16:16:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 16:16:26 -0000
Received: (qmail 77105 invoked by uid 500); 14 Sep 2006 16:16:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76899 invoked by uid 500); 14 Sep 2006 16:16:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76821 invoked by uid 99); 14 Sep 2006 16:16:14 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 09:16:13 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=info@altervisionmedia.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.6 required=5.0 tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_MISC
Received-SPF: error (idunn.apache.osuosl.org: domain altervisionmedia.com from 72.29.74.74 cause and error)
Received: from ([72.29.74.74:50793] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 91/C0-06152-CFF79054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 09:16:07 -0700
Received: from [81.25.41.245] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GNt1h-0006m3-PP
	for java-user@lucene.apache.org; Thu, 14 Sep 2006 11:21:18 -0400
Date: Thu, 14 Sep 2006 19:14:42 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <1791844806.20060914191442@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: ParallelMultiSearcher and docFreq
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello.

Here is the situation. I have ParallelMultiSearcher object
initializated with two or more RemoteSearchable's.

I run PrefixQuery search on some keyword field, say "link". When I run
search starting just with letter "w" (link:w*) then I should have like 5k
results.

As I know when I perform search on ParallelMultiSearcher query is
being rewritten at first. So my prefix search is being rewritten with
"link:wordlist.com link:web.com and so on about 2-3k of terms". Then as I
understand from debugging for each such term ParallelMultiSearcher performs docFreq
requests to RemoteSearchables (2-3k calls). So we have many requests
to docFreq method and these operations take like 95% of all search time.

I see that we have docFreqs method for RemoteSearchable, but it has
not being used.

Is there any way to get rid of those multiple calls of docFreq?

Maybe I am not correct, then please tell me whats wrong.

Thanks.

--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 16:20:35 2006
Return-Path: <java-user-return-23356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13897 invoked from network); 14 Sep 2006 16:20:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 16:20:34 -0000
Received: (qmail 92945 invoked by uid 500); 14 Sep 2006 16:20:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92889 invoked by uid 500); 14 Sep 2006 16:20:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92878 invoked by uid 99); 14 Sep 2006 16:20:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 09:20:27 -0700
Received: from emss09g01.ems.lmco.com (relay6.ems.lmco.com [166.17.13.59])by mailgw3a.lmco.com  (LM-6) with ESMTP id k8EGJ45P020028for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 12:19:04 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.3-x3 #31239)
 id <0J5L00H01BZSBZ@lmco.com> for java-user@lucene.apache.org; Thu, 14 Sep 2006 12:19:04 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.3-x3 #31239)
 with ESMTP id <0J5L006HXBZIJJ@lmco.com> for java-user@lucene.apache.org; Thu, 14 Sep 2006 12:18:54 -0400 (EDT)
Received: from emss10m02.us.lmco.com ([158.187.0.186]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Thu,
 14 Sep 2006 12:18:54 -0400
Date: Thu, 14 Sep 2006 12:18:54 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Newbie question: lucene sorting problems and stored fields
To: java-user@lucene.apache.org
Message-id: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3BD@emss10m02.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Newbie question: lucene sorting problems and stored fields
Thread-Index: AcbYE+foTbnbdABwQ5WJxSwZH8D8BAABVJpg
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 14 Sep 2006 16:18:54.0337 (UTC) FILETIME=[790DD710:01C6D819]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

AFIK, the field has to be indexed, but I don't think it has to be stored
(but then again maybe I'm wrong)

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: Alan Boshier [mailto:Alan.Boshier@esprit-is.com] 
Sent: Thursday, September 14, 2006 11:39 AM
To: java-user@lucene.apache.org
Subject: Newbie question: lucene sorting problems and stored fields

Hi

We are seeing intermittent problems with searches that use sorted fields
(in lucene 1.4.3).

If we add the fields to our Documents as 'unstored' then we start to see
results that have been sorted by Document ID.

The problem goes away if we add the fields as 'stored'.

Is it a requirement when creating a field for sorting to make it stored?

Thanks

Alan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 16:49:24 2006
Return-Path: <java-user-return-23357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26573 invoked from network); 14 Sep 2006 16:49:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 16:49:23 -0000
Received: (qmail 76846 invoked by uid 500); 14 Sep 2006 16:49:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76817 invoked by uid 500); 14 Sep 2006 16:49:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76790 invoked by uid 99); 14 Sep 2006 16:49:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 09:49:16 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=Alan.Boshier@esprit-is.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received-SPF: error (idunn.apache.osuosl.org: domain esprit-is.com from 81.144.190.98 cause and error)
Received: from ([81.144.190.98:3049] helo=mailgateway.ds.co.uk)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 99/20-06374-07789054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 09:47:55 -0700
Received: from Lisbon.ds.co.uk ([192.168.10.240]) by mailgateway.ds.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 14 Sep 2006 17:46:37 +0100
x-mimeole: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Newbie question: lucene sorting problems and stored fields
Date: Thu, 14 Sep 2006 17:46:36 +0100
Message-ID: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Newbie question: lucene sorting problems and stored fields
Thread-Index: AcbYE+foTbnbdABwQ5WJxSwZH8D8BAABVJpgAADvZMY=
From: "Alan Boshier" <Alan.Boshier@esprit-is.com>
To: <java-user@lucene.apache.org>,
	<java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Sep 2006 16:46:37.0289 (UTC) FILETIME=[58402D90:01C6D81D]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


That was my understanding (that they had to be indexed) but
making them stored seems to have fixed the problem we were
seeing, which is odd.=20

Not being an expert on how lucene works internally, I'm=20
struggling to see how this change could have made any=20
difference.

-----Original Message-----
From:	Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
Sent:	Thu 9/14/2006 17:18
To:	java-user@lucene.apache.org
Cc:=09
Subject:	RE: Newbie question: lucene sorting problems and stored fields

AFIK, the field has to be indexed, but I don't think it has to be stored
(but then again maybe I'm wrong)

Aviran
http://www.aviransplace.com=20

-----Original Message-----
From: Alan Boshier [mailto:Alan.Boshier@esprit-is.com]=20
Sent: Thursday, September 14, 2006 11:39 AM
To: java-user@lucene.apache.org
Subject: Newbie question: lucene sorting problems and stored fields

Hi

We are seeing intermittent problems with searches that use sorted fields
(in lucene 1.4.3).

If we add the fields to our Documents as 'unstored' then we start to see
results that have been sorted by Document ID.

The problem goes away if we add the fields as 'stored'.

Is it a requirement when creating a field for sorting to make it stored?

Thanks

Alan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 16:58:47 2006
Return-Path: <java-user-return-23358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29641 invoked from network); 14 Sep 2006 16:58:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 16:58:47 -0000
Received: (qmail 99171 invoked by uid 500); 14 Sep 2006 16:58:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99143 invoked by uid 500); 14 Sep 2006 16:58:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99122 invoked by uid 99); 14 Sep 2006 16:58:40 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 09:58:40 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=gtoubassi@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=gtoubassi@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.2 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 68.142.198.207 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([68.142.198.207:20215] helo=smtp108.sbc.mail.mud.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 20/90-06374-7A989054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 09:57:22 -0700
Received: (qmail 64917 invoked from network); 14 Sep 2006 16:56:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Received:From:To:Subject:Date:Message-ID:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Mailer:Thread-Index:X-MimeOLE;
  b=ZSIZul00mPG6WCQt7Fxv+L/7t8wDnvmm5yp6w4/ZXs54ElNdHLCRkbqLr1/m42Tv3QvTlwkgwjFWbQEbKSL28WDzUTp/aYB5A0LChXBlAE98+VkLzWUmvUOcukrEd3B4CO1PKTi3BnBYGh7qJ7pvcxGNn3sGUkM9gx2qdwdPQ5E=  ;
Received: from unknown (HELO gtdell) (gtoubassi@sbcglobal.net@68.122.35.80 with login)
  by smtp108.sbc.mail.mud.yahoo.com with SMTP; 14 Sep 2006 16:56:03 -0000
From: "Garrick Toubassi" <gtoubassi@yahoo.com>
To: <java-user@lucene.apache.org>
Subject: Field boosting in MemoryIndex
Date: Thu, 14 Sep 2006 09:56:02 -0700
Message-ID: <002301c6d81e$a9e8c2a0$0402a8c0@gtdell>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcbYHqk6sM1X2Y2PT1S3uP6E/XPkGQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am playing with MemoryIndex for a situation in which I have a large
number of small, ephemeral documents that I need to fire queries at.  It
appears to be at least 5x faster than RAMDirectory for my usage, which
is large enough to be interesting.

However MemoryIndex does not seem to support per field boosts, which is
something we need.  I presume its not a terribly difficult thing to
extend MemoryIndex to support per field boosts, but I am looking for
pointers from any lucene/MemoryIndex wizards on exactly how to attack
this.

Any guidance would be much appreciated.

thanks,

gt


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 17:00:02 2006
Return-Path: <java-user-return-23359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30140 invoked from network); 14 Sep 2006 17:00:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 17:00:02 -0000
Received: (qmail 3238 invoked by uid 500); 14 Sep 2006 16:59:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3213 invoked by uid 500); 14 Sep 2006 16:59:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3202 invoked by uid 99); 14 Sep 2006 16:59:56 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 09:59:56 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=yseeley@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=yseeley@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.177 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.177:44444] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id F9/90-06374-4F989054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 09:58:39 -0700
Received: by py-out-1112.google.com with SMTP id w49so3060163pyg
        for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 09:57:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=PBVOi3J7oSd+yIgNEYw2udm8rE0YWcQfjZOJH2qOOz0afXshQgP7zWzIh/imjDYGqbo+N+iNI2NXhlfzO5b4Dr1GgzmuAGmG4B9lHssTPBnmb4lTubUgdkn6gtiDjzfErzwHwIQkoDAR0FYY1ImmVHV+G/PTAfmDAPfE6Hhcc5g=
Received: by 10.35.106.15 with SMTP id i15mr15993642pym;
        Thu, 14 Sep 2006 09:47:12 -0700 (PDT)
Received: by 10.35.11.9 with HTTP; Thu, 14 Sep 2006 09:47:12 -0700 (PDT)
Message-ID: <c68e39170609140947p2ff397aeqa5b824037caf24e6@mail.gmail.com>
Date: Thu, 14 Sep 2006 12:47:12 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Newbie question: lucene sorting problems and stored fields
In-Reply-To: <9715C01934C7544CB0C262533CD76240620522@lisbon.ds.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <9715C01934C7544CB0C262533CD76240620522@lisbon.ds.co.uk>
X-Google-Sender-Auth: 9f19fdfb1739eeba
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
> Is it a requirement when creating a field for sorting to
> make it stored?

No, stored doesn't matter... it must be indexed though.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 17:21:22 2006
Return-Path: <java-user-return-23360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37379 invoked from network); 14 Sep 2006 17:21:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 17:21:22 -0000
Received: (qmail 40593 invoked by uid 500); 14 Sep 2006 17:21:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40560 invoked by uid 500); 14 Sep 2006 17:21:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40549 invoked by uid 99); 14 Sep 2006 17:21:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 10:21:16 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=yseeley@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=yseeley@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.92.173 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.92.173:27301] helo=ug-out-1314.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 71/10-06513-2FE89054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 10:19:57 -0700
Received: by ug-out-1314.google.com with SMTP id k40so129494ugc
        for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 10:18:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=PBVOi3J7oSd+yIgNEYw2udm8rE0YWcQfjZOJH2qOOz0afXshQgP7zWzIh/imjDYGqbo+N+iNI2NXhlfzO5b4Dr1GgzmuAGmG4B9lHssTPBnmb4lTubUgdkn6gtiDjzfErzwHwIQkoDAR0FYY1ImmVHV+G/PTAfmDAPfE6Hhcc5g=
Received: by 10.35.106.15 with SMTP id i15mr15993642pym;
        Thu, 14 Sep 2006 09:47:12 -0700 (PDT)
Received: by 10.35.11.9 with HTTP; Thu, 14 Sep 2006 09:47:12 -0700 (PDT)
Message-ID: <c68e39170609140947p2ff397aeqa5b824037caf24e6@mail.gmail.com>
Date: Thu, 14 Sep 2006 12:47:12 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Newbie question: lucene sorting problems and stored fields
In-Reply-To: <9715C01934C7544CB0C262533CD76240620522@lisbon.ds.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <9715C01934C7544CB0C262533CD76240620522@lisbon.ds.co.uk>
X-Google-Sender-Auth: 9f19fdfb1739eeba
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
> Is it a requirement when creating a field for sorting to
> make it stored?

No, stored doesn't matter... it must be indexed though.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 17:34:04 2006
Return-Path: <java-user-return-23361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40710 invoked from network); 14 Sep 2006 17:34:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 17:34:04 -0000
Received: (qmail 71303 invoked by uid 500); 14 Sep 2006 17:33:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71278 invoked by uid 500); 14 Sep 2006 17:33:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71267 invoked by uid 99); 14 Sep 2006 17:33:57 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 10:33:57 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.177 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.177:6651] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 32/00-06577-9E199054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 10:32:36 -0700
Received: by py-out-1112.google.com with SMTP id w49so3068905pyg
        for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 10:30:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=D7ZTu9Fh7abP+nStN9jC6lkY+CnAJRSHf5q8tnH2hpfl4zRTRCCI1EcksPcyB4/4SGUWy4yU2P0HO0S5MRCZEX2XEChREYamc0as+58P37fXq522ZNcs2ULFj0YuByHqmM4pIKaqRyS0FWZdoWmgbJ/96D913+l8lpnFtBDOCpU=
Received: by 10.35.27.1 with SMTP id e1mr15373107pyj;
        Thu, 14 Sep 2006 10:00:43 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Thu, 14 Sep 2006 10:00:42 -0700 (PDT)
Message-ID: <359a92830609141000t3f957ad0q85c4901a4d735a6c@mail.gmail.com>
Date: Thu, 14 Sep 2006 13:00:42 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Newbie question: lucene sorting problems and stored fields
In-Reply-To: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10876_21750533.1158253242861"
References: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10876_21750533.1158253242861
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

from the ****2.0**** javadoc, the Sort class, so I don't know if it
applies.....

<<<The field must be indexed, but should not be tokenized, and does not need
to be stored (unless you happen to want it back with the rest of your
document data).>>>

Is it possible you're tokenizing it? I'm at a loss as to why *storing* it
would change the behavior, but I guess it's a possibility.

Erick

On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
>
>
> That was my understanding (that they had to be indexed) but
> making them stored seems to have fixed the problem we were
> seeing, which is odd.
>
> Not being an expert on how lucene works internally, I'm
> struggling to see how this change could have made any
> difference.
>
> -----Original Message-----
> From:   Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
> Sent:   Thu 9/14/2006 17:18
> To:     java-user@lucene.apache.org
> Cc:
> Subject:        RE: Newbie question: lucene sorting problems and stored
> fields
>
> AFIK, the field has to be indexed, but I don't think it has to be stored
> (but then again maybe I'm wrong)
>
> Aviran
> http://www.aviransplace.com
>
> -----Original Message-----
> From: Alan Boshier [mailto:Alan.Boshier@esprit-is.com]
> Sent: Thursday, September 14, 2006 11:39 AM
> To: java-user@lucene.apache.org
> Subject: Newbie question: lucene sorting problems and stored fields
>
> Hi
>
> We are seeing intermittent problems with searches that use sorted fields
> (in lucene 1.4.3).
>
> If we add the fields to our Documents as 'unstored' then we start to see
> results that have been sorted by Document ID.
>
> The problem goes away if we add the fields as 'stored'.
>
> Is it a requirement when creating a field for sorting to make it stored?
>
> Thanks
>
> Alan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10876_21750533.1158253242861--

From java-user-return-23362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 17:35:36 2006
Return-Path: <java-user-return-23362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40996 invoked from network); 14 Sep 2006 17:35:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 17:35:35 -0000
Received: (qmail 73544 invoked by uid 500); 14 Sep 2006 17:35:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73460 invoked by uid 500); 14 Sep 2006 17:35:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73353 invoked by uid 99); 14 Sep 2006 17:35:16 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 10:35:13 -0700
Received: by py-out-1112.google.com with SMTP id w49so3069947pyg
        for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 10:34:52 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=pvYZE7YZ7aHV3jv4sy5cIOPqeidoc0cIUcbrMcMcXySRe48LpNvKYrzVah2oXPLp0czzvAaGCAhccnpBKfbPLF8jN7ORnMyeb2KRvf6Gbejvm9RGmIP9LzWf5OhgcahObirPQMMvX3BaqhMSDZjrahoEmE6eF9S8F4jRWe5DqVg=
Received: by 10.35.109.2 with SMTP id l2mr15368432pym;
        Thu, 14 Sep 2006 10:04:11 -0700 (PDT)
Received: by 10.35.11.9 with HTTP; Thu, 14 Sep 2006 10:04:11 -0700 (PDT)
Message-ID: <c68e39170609141004u71e1b273p688682046b5410cf@mail.gmail.com>
Date: Thu, 14 Sep 2006 13:04:11 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Newbie question: lucene sorting problems and stored fields
In-Reply-To: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
X-Google-Sender-Auth: dfaca52d352b3fe2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
> That was my understanding (that they had to be indexed) but
> making them stored seems to have fixed the problem we were
> seeing, which is odd.
>
> Not being an expert on how lucene works internally, I'm
> struggling to see how this change could have made any
> difference.

The most likely explanation is that when you are turning off "stored"
you are really turning off "indexed" by mistake.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 17:38:32 2006
Return-Path: <java-user-return-23363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41663 invoked from network); 14 Sep 2006 17:38:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 17:38:31 -0000
Received: (qmail 82300 invoked by uid 500); 14 Sep 2006 17:38:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82268 invoked by uid 500); 14 Sep 2006 17:38:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82257 invoked by uid 99); 14 Sep 2006 17:38:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 10:38:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from ([169.229.70.167:54816] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id B3/10-06595-34399054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 10:38:22 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 244565B777; Thu, 14 Sep 2006 10:36:59 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1EB4A7F403
	for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 10:36:59 -0700 (PDT)
Date: Thu, 14 Sep 2006 10:36:59 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: SV: SV: SV: Changing the Scoring api
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C0259CD0F@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0609141010020.31320@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C0259CD0F@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I obviously missunderstood your goal ... my reading of your question was
that you wanted the sum of the scores of individual terms (based on the tf
and idf) to matter, and you wanted the field norm values of the docs to be
taken into account (for "date boosting" purposes), but you did not want
documents to be 'penalized' by only matching some (but not all) of the
terms.  If you don't want the tf or idf to be taken into account either,
so that *only* the sums of the field norms are used, that can
still be done by overriding the coorisponding Similarity class methods
without modifying any Scorers ... and if you really don't want the sum
(just the xax) that can be done using DisjunctionMaxQueries instead of
BooleanQuery ... but i'm just speculating now because as i said, i
obviously missunerstood your question, so what exactly do you want, in
concrete terms?

: Yeah Hoss you are right this isn't java it's the .NET port. But I have
: to ask at this mail list since it contains a lot of people with a lot
: more insight in lucene then on the .NET user list.

Nothing personal, but that's the worst justification i've ever heard.
The Lucene.Net community is never going to grow/thrive if people don't
participate in it.  Looking at the archives, it doesn't appear you ever
attempted to post this (or any other) question to either of the Lucene.Net
mailing lists, so how can you say that you *have* to ask the Java Users
list in order to reach people with insight?  How do you know what kinds of
insight the Lucene.Net subscribers have? How do ou expect the Lucene.Net
community as a whole to gain insight if no one participates?


: And I have a hard time to believe that they wouldn't have ported the scoring parts correctly.

I wasn't suggestion it wouldn't be ported properly, i was pointing out
that different langauges (and differnet ports of APIs) have differnet
nuances.  The first thing i thought when looking at your Similarity class
was that it wasn't getting used at all because all of your method names
started with Capital letters -- it seemed like a very simple mistake for a
novice Java programmer to make.

: I haven't looked as much at the FunctionQuery in solr since I can't find
: any good documentation for it.  But if I write a function for a field
: don't the field values have to be in the field cache for applying this
: function? And since I'm dealing with a lot of data this will severely
: affect the overall performance.

1) if you have suggestions for improving the FunctionQuery javadocs, i'm
all ears ... it's not always easy for people who work with things daily to
realize how the documentation can be viewed as lacking by people less
familiar with it.  For me, i see that FunctionQueries are built from
ValuesSources, and that the classes which impliment ValueSource are
FieldCacheSource, LinearFloatFunction, etc... and just go from there.

2) having the values you want to compute functions on in the FieldCache
has no significantly greater impact on the performance of a query then the
fieldNorms you are currently using: in both cases there is an array with
one entry per doc; the only differnece is that fieldNorms are stored in a
byte[], and the FieldCache ues either int[] or float[] -- but you already
said you modified your fieldNorms to be float[] didn't you? ... so the
performance of FunctionQuery shouldn't be any different -- just easier to
maintain.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 17:49:37 2006
Return-Path: <java-user-return-23364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44555 invoked from network); 14 Sep 2006 17:49:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 17:49:36 -0000
Received: (qmail 96674 invoked by uid 500); 14 Sep 2006 17:49:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96581 invoked by uid 500); 14 Sep 2006 17:49:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96399 invoked by uid 99); 14 Sep 2006 17:49:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [129.128.5.19] (HELO pilsener.srv.ualberta.ca) (129.128.5.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 10:49:13 -0700
Received: from mailserver.ualibrary.ualberta.ca (mail.library.ualberta.ca [129.128.216.88])
	by pilsener.srv.ualberta.ca (8.13.7/8.13.7) with SMTP id k8EHjWrV021693
	for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 11:45:36 -0600 (MDT)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: UTF8 accents & umlauts filter?
Date: Thu, 14 Sep 2006 11:45:59 -0600
Message-ID: <908893006339C0409519E4065DF3B249031877CB@mailserver.ualibrary.ualberta.ca>
In-Reply-To: <4508CD90.2060902@sympatico.ca>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: UTF8 accents & umlauts filter?
Thread-Index: AcbXr3PQ6nUlj92TSpOicBrhg39rrgAdTAyg
From: "Binkley, Peter" <Peter.Binkley@ualberta.ca>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We use ICU4J to do the filtering based on Unicode blocks. See
http://icu.sourceforge.net/userguide/Transform.html for a sense of what
you can do. It's worth it for us because we need to normalize cyrillic
as well as roman text; it might be overkill for other situations. But it
does good work. The first example on the page linked above shows
accent-stripping: you normalize to NFD (decomposed unicode, where
accents are represented as non-spacing characters), then delete all the
non-spacing characters, and finally normalize back to composed unicode.

Peter

-----Original Message-----
From: Michael Imbeault [mailto:michael.imbeault@sympatico.ca]=20
Sent: Wednesday, September 13, 2006 9:34 PM
To: java-user@lucene.apache.org
Subject: Re: UTF8 accents & umlauts filter?

Thanks Yonik & Ken for both answers; I think the explanations went a
little over my head, but I think you understood what I was talking
about! Basically, a better filter to remove all possible accents (&
umlauts as a bonus, for completeness sake; I personally would have no
use for it).

I think it's way more work and way more complicated than I initially
thought it would be. Anyone feels able to do this?

Michael Imbeault
CHUL Research Center (CHUQ)
2705 boul. Laurier
Ste-Foy, QC, Canada, G1V 4G2
Tel: (418) 654-2705, Fax: (418) 654-2212



Yonik Seeley wrote:
> Thanks for the links Michael... this one does look interesting:
> http://dev.alt.textdrive.com/browser/lu/LUStringBasicLatin.txt
> The challenge would be to make it fast... perhaps a custom hash table,

> or look into the cost of a perfect hash function.
>
> Just to clear up some unicode/terminology issues:
>
> There are latin1 characters (the actual glyphs) represented by unicode

> code points 0->255 There is also a latin1 encoding for unicode (which=20
> can only represent unicode code points 0->255)
> UTF8 is another encoding for unicode characters (or code points), but=20
> that's not really relevant to a filter.
>
> So ISOLatin1AccentFilter removes accents from characters <=3D 255, and =

> it doesn't matter what the original encoding was (ascii, latin1, UTF8,

> UTF16, etc)
>
> -Yonik
>
>
> On 9/12/06, Michael Imbeault <michael.imbeault@sympatico.ca> wrote:
>> Right now Lucene has an accent filter (ISOLatin1AccentFilter) that=20
>> remove accents on ISO-8859-1 text. What about a UTF8AccentFilter? Is=20
>> it planned to add such a filter (which would be very useful, as=20
>> ISOLatin1AccentFilter isn't able to remove some complex accents on=20
>> some languages encoded in UTF8. I would paste examples but I'm not=20
>> sure that they would display correctly).? I think I saw a post long=20
>> ago on this mailing list about something like that, but it has never=20
>> been released officially.
>>
>> See
>>
>> 2001, first post about utf8 accents:
>> http://www.gossamer-threads.com/lists/lucene/java-user/648?search_str
>> ing=3Daccent;#648
>>
>> 2004, a good solution, but still incomplete :
>> http://www.gossamer-threads.com/lists/lucene/java-user/10792?search_s
>> tring=3Daccent;#10792
>>
>> 2006, best attempt yet, but sadly undelivered :
>> http://www.gossamer-threads.com/lists/lucene/java-user/32142?search_s
>> tring=3Daccent;#32142
>>
>>
>> I think Lucene would benefit from a complete UTF8 accents remover...
>> right now the best solution I have is to process everything in PHP=20
>> before indexing and at query time (and its a little slow).
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 18:17:03 2006
Return-Path: <java-user-return-23365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52791 invoked from network); 14 Sep 2006 18:17:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 18:17:03 -0000
Received: (qmail 68992 invoked by uid 500); 14 Sep 2006 18:16:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68897 invoked by uid 500); 14 Sep 2006 18:16:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68811 invoked by uid 99); 14 Sep 2006 18:16:49 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 11:16:49 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.176 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.176:38144] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id BF/40-06722-4FB99054 for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 11:15:27 -0700
Received: by py-out-1112.google.com with SMTP id w49so3079916pyg
        for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 11:13:36 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=D7ZTu9Fh7abP+nStN9jC6lkY+CnAJRSHf5q8tnH2hpfl4zRTRCCI1EcksPcyB4/4SGUWy4yU2P0HO0S5MRCZEX2XEChREYamc0as+58P37fXq522ZNcs2ULFj0YuByHqmM4pIKaqRyS0FWZdoWmgbJ/96D913+l8lpnFtBDOCpU=
Received: by 10.35.27.1 with SMTP id e1mr15373107pyj;
        Thu, 14 Sep 2006 10:00:43 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Thu, 14 Sep 2006 10:00:42 -0700 (PDT)
Message-ID: <359a92830609141000t3f957ad0q85c4901a4d735a6c@mail.gmail.com>
Date: Thu, 14 Sep 2006 13:00:42 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Newbie question: lucene sorting problems and stored fields
In-Reply-To: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10876_21750533.1158253242861"
References: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10876_21750533.1158253242861
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

from the ****2.0**** javadoc, the Sort class, so I don't know if it
applies.....

<<<The field must be indexed, but should not be tokenized, and does not need
to be stored (unless you happen to want it back with the rest of your
document data).>>>

Is it possible you're tokenizing it? I'm at a loss as to why *storing* it
would change the behavior, but I guess it's a possibility.

Erick

On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
>
>
> That was my understanding (that they had to be indexed) but
> making them stored seems to have fixed the problem we were
> seeing, which is odd.
>
> Not being an expert on how lucene works internally, I'm
> struggling to see how this change could have made any
> difference.
>
> -----Original Message-----
> From:   Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
> Sent:   Thu 9/14/2006 17:18
> To:     java-user@lucene.apache.org
> Cc:
> Subject:        RE: Newbie question: lucene sorting problems and stored
> fields
>
> AFIK, the field has to be indexed, but I don't think it has to be stored
> (but then again maybe I'm wrong)
>
> Aviran
> http://www.aviransplace.com
>
> -----Original Message-----
> From: Alan Boshier [mailto:Alan.Boshier@esprit-is.com]
> Sent: Thursday, September 14, 2006 11:39 AM
> To: java-user@lucene.apache.org
> Subject: Newbie question: lucene sorting problems and stored fields
>
> Hi
>
> We are seeing intermittent problems with searches that use sorted fields
> (in lucene 1.4.3).
>
> If we add the fields to our Documents as 'unstored' then we start to see
> results that have been sorted by Document ID.
>
> The problem goes away if we add the fields as 'stored'.
>
> Is it a requirement when creating a field for sorting to make it stored?
>
> Thanks
>
> Alan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10876_21750533.1158253242861--

From java-user-return-23366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 18:38:09 2006
Return-Path: <java-user-return-23366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58509 invoked from network); 14 Sep 2006 18:38:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 18:38:08 -0000
Received: (qmail 7869 invoked by uid 500); 14 Sep 2006 18:38:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7844 invoked by uid 500); 14 Sep 2006 18:38:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7748 invoked by uid 99); 14 Sep 2006 18:37:58 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of erickerickson@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 11:37:54 -0700
Received: by py-out-1112.google.com with SMTP id w49so3086014pyg
        for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 11:37:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=D7ZTu9Fh7abP+nStN9jC6lkY+CnAJRSHf5q8tnH2hpfl4zRTRCCI1EcksPcyB4/4SGUWy4yU2P0HO0S5MRCZEX2XEChREYamc0as+58P37fXq522ZNcs2ULFj0YuByHqmM4pIKaqRyS0FWZdoWmgbJ/96D913+l8lpnFtBDOCpU=
Received: by 10.35.27.1 with SMTP id e1mr15373107pyj;
        Thu, 14 Sep 2006 10:00:43 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Thu, 14 Sep 2006 10:00:42 -0700 (PDT)
Message-ID: <359a92830609141000t3f957ad0q85c4901a4d735a6c@mail.gmail.com>
Date: Thu, 14 Sep 2006 13:00:42 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Newbie question: lucene sorting problems and stored fields
In-Reply-To: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10876_21750533.1158253242861"
References: <9715C01934C7544CB0C262533CD76240620523@lisbon.ds.co.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10876_21750533.1158253242861
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

from the ****2.0**** javadoc, the Sort class, so I don't know if it
applies.....

<<<The field must be indexed, but should not be tokenized, and does not need
to be stored (unless you happen to want it back with the rest of your
document data).>>>

Is it possible you're tokenizing it? I'm at a loss as to why *storing* it
would change the behavior, but I guess it's a possibility.

Erick

On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
>
>
> That was my understanding (that they had to be indexed) but
> making them stored seems to have fixed the problem we were
> seeing, which is odd.
>
> Not being an expert on how lucene works internally, I'm
> struggling to see how this change could have made any
> difference.
>
> -----Original Message-----
> From:   Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
> Sent:   Thu 9/14/2006 17:18
> To:     java-user@lucene.apache.org
> Cc:
> Subject:        RE: Newbie question: lucene sorting problems and stored
> fields
>
> AFIK, the field has to be indexed, but I don't think it has to be stored
> (but then again maybe I'm wrong)
>
> Aviran
> http://www.aviransplace.com
>
> -----Original Message-----
> From: Alan Boshier [mailto:Alan.Boshier@esprit-is.com]
> Sent: Thursday, September 14, 2006 11:39 AM
> To: java-user@lucene.apache.org
> Subject: Newbie question: lucene sorting problems and stored fields
>
> Hi
>
> We are seeing intermittent problems with searches that use sorted fields
> (in lucene 1.4.3).
>
> If we add the fields to our Documents as 'unstored' then we start to see
> results that have been sorted by Document ID.
>
> The problem goes away if we add the fields as 'stored'.
>
> Is it a requirement when creating a field for sorting to make it stored?
>
> Thanks
>
> Alan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10876_21750533.1158253242861--

From java-user-return-23367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 22:15:11 2006
Return-Path: <java-user-return-23367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34015 invoked from network); 14 Sep 2006 22:15:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 22:15:10 -0000
Received: (qmail 62487 invoked by uid 500); 14 Sep 2006 22:15:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62468 invoked by uid 500); 14 Sep 2006 22:15:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62454 invoked by uid 99); 14 Sep 2006 22:15:02 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 15:15:01 -0700
Received: from mailhub.lss.emc.com (sesha.lss.emc.com [10.254.144.12])
	by mexforward.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8EMCsts024506
	for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 18:12:54 -0400 (EDT)
Received: from corpussmtp2.corp.emc.com (corpussmtp2.corp.emc.com [128.221.14.146])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8EMCriR009872
	for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 18:12:53 -0400 (EDT)
From: Lee_Gary@emc.com
Received: from CORPUSMX40B.corp.emc.com ([10.254.64.48]) by corpussmtp2.corp.emc.com with Microsoft SMTPSVC(6.0.3790.0);
	 Thu, 14 Sep 2006 18:12:11 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: best way to get specific results
Date: Thu, 14 Sep 2006 18:12:11 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D044D2FC1@CORPUSMX40B.corp.emc.com>
In-Reply-To: <Pine.LNX.4.58.0605251116210.8803@hal.rescomp.berkeley.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: best way to get specific results
Thread-Index: AcaAKEETb2vkZncwSIigweJThog9/hYH8ufg
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Sep 2006 22:12:11.0564 (UTC) FILETIME=[D395FEC0:01C6D84A]
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.4.0.264935, Antispam-Data: 2006.9.14.145442
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CT 0, __CTE 0, __CTYPE_CHARSET_QUOTED 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __IMS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0'
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have the same situation where Im interested in returning a subset of
results from the whole set, such as results 500 to 550. However, I have
already implemented a Filter that will return the results I want without
additional query processing needed (i.e. no need to use the
IndexSearcher.search(Query, Filter) method). Im just wrapping a
ConstantScoreQuery around the filter, and passing it into the
IndexSearcher.search(Query) method to return a Hits object. Then Im
asking for the 500th to 550th doc in the Hits object.=20

Would such a case still cause Hits to rexecute over and over again on
higher numbered results? Or is this different because Im using a
ConstantScoreQuery, so it just uses the BitSet from the filter to
determine the results more quickly instead of executing a Query?=20

Would I still be better off using TopDocs returned from
IndexSearcher.search(Weight, Filter, nDocs) to get the results? Since
TopDocs only returns the doc ids and I need field information, is the
common method to use the IndexReader.document(id) to fetch field
information from each doc id returned by TopDocs?

Thanks!!
Gary

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Sent: Thursday, May 25, 2006 11:22 AM
To: java-user@lucene.apache.org
Subject: Re: best way to get specific results


: if a query returns 1000 results, the user is interested only in the
: results between 500&550. the way I implemented it is run a normal
query
: using IndexSercher.search(Query()) and then get the specified
documents
: out of the hits object. I am wondering if there is a more efficient
way
: than this, is using TopDocs better than the hits object, knowing that
: some users may need more than a 1000 docs back in one query?.

generally speaking, yes TopDocs (or TopFieldDocs) are better then Hits
if you plan on acessing morethen the first 100 or so results .. Hits
will reexecute your search over and over as you ask for higher numbered
results, while with TopDocs you search is executed once, and you are
given only the Doc IDs of the first N docs you asked for, with no other
processing done behind the scenes  (in your case, it sounds like N would
be 550, and you'd start accessing the ScoreDoc[] at 500.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 14 22:41:16 2006
Return-Path: <java-user-return-23368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38542 invoked from network); 14 Sep 2006 22:41:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2006 22:41:16 -0000
Received: (qmail 6970 invoked by uid 500); 14 Sep 2006 22:41:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6945 invoked by uid 500); 14 Sep 2006 22:41:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6934 invoked by uid 99); 14 Sep 2006 22:41:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [81.144.190.98] (HELO mailgateway.ds.co.uk) (81.144.190.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 15:41:10 -0700
Received: from Lisbon.ds.co.uk ([192.168.10.240]) by mailgateway.ds.co.uk with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 14 Sep 2006 23:39:32 +0100
x-mimeole: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Newbie question: lucene sorting problems and stored fields
Date: Thu, 14 Sep 2006 23:39:31 +0100
Message-ID: <9715C01934C7544CB0C262533CD76240620525@lisbon.ds.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Newbie question: lucene sorting problems and stored fields
Thread-Index: AcbYLP65iIdZtOtET9CWtKqwHOhfeAAH4qSl
From: "Alan Boshier" <Alan.Boshier@esprit-is.com>
To: <java-user@lucene.apache.org>,
	<java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Sep 2006 22:39:32.0804 (UTC) FILETIME=[A5D75840:01C6D84E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks for your help - I think I may have stumbled on the
answer but if someone can confirm it I would be most grateful.

My guess is that, if we do the following

1. Retrieve a Document instance D from the index using=20
   e.g. IndexSearcher.search()
2. Delete the original Document corresponding to D from=20
   the index using IndexReader.delete()
3. Re-add the Document instance D to the index using=20
   IndexWriter.addDocument()

then the document we add back will not contain any of the
'unstored' fields that were present in the original document,=20
because presumably when you retrieve the Document instance=20
in step 1, the instance returned does not contain fields marked=20
as 'not stored'.

Hence in our case once the Document went through the steps
above, it lost its sortable fields. Once we marked the sortable
fields as 'stored' then the process above would preserve those
fields and hence sorting would proceed as normal.

Does that make sense?

Thanks

Alan

-----Original Message-----
From:	Erick Erickson [mailto:erickerickson@gmail.com]
Sent:	Thu 9/14/2006 18:00
To:	java-user@lucene.apache.org
Cc:=09
Subject:	Re: Newbie question: lucene sorting problems and stored fields

from the ****2.0**** javadoc, the Sort class, so I don't know if it
applies.....

<<<The field must be indexed, but should not be tokenized, and does not =
need
to be stored (unless you happen to want it back with the rest of your
document data).>>>

Is it possible you're tokenizing it? I'm at a loss as to why *storing* =
it
would change the behavior, but I guess it's a possibility.

Erick

On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
>
>
> That was my understanding (that they had to be indexed) but
> making them stored seems to have fixed the problem we were
> seeing, which is odd.
>
> Not being an expert on how lucene works internally, I'm
> struggling to see how this change could have made any
> difference.
>
> -----Original Message-----
> From:   Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
> Sent:   Thu 9/14/2006 17:18
> To:     java-user@lucene.apache.org
> Cc:
> Subject:        RE: Newbie question: lucene sorting problems and =
stored
> fields
>
> AFIK, the field has to be indexed, but I don't think it has to be =
stored
> (but then again maybe I'm wrong)
>
> Aviran
> http://www.aviransplace.com
>
> -----Original Message-----
> From: Alan Boshier [mailto:Alan.Boshier@esprit-is.com]
> Sent: Thursday, September 14, 2006 11:39 AM
> To: java-user@lucene.apache.org
> Subject: Newbie question: lucene sorting problems and stored fields
>
> Hi
>
> We are seeing intermittent problems with searches that use sorted =
fields
> (in lucene 1.4.3).
>
> If we add the fields to our Documents as 'unstored' then we start to =
see
> results that have been sorted by Document ID.
>
> The problem goes away if we add the fields as 'stored'.
>
> Is it a requirement when creating a field for sorting to make it =
stored?
>
> Thanks
>
> Alan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 00:05:47 2006
Return-Path: <java-user-return-23369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54845 invoked from network); 15 Sep 2006 00:05:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 00:05:46 -0000
Received: (qmail 95529 invoked by uid 500); 15 Sep 2006 00:05:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95173 invoked by uid 500); 15 Sep 2006 00:05:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95162 invoked by uid 99); 15 Sep 2006 00:05:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [128.121.61.10] (HELO phizblip.com) (128.121.61.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 17:05:40 -0700
Received: from [10.0.11.108] (avaliable.octelecom.net [208.187.181.114] (may be forged))
	(authenticated bits=0)
	by phizblip.com (8.13.6.20060614/8.13.6) with ESMTP id k8F044JP083618
	for <java-user@lucene.apache.org>; Thu, 14 Sep 2006 18:04:04 -0600 (MDT)
Message-ID: <4509EE8B.2080406@my-family.us>
Date: Thu, 14 Sep 2006 18:06:35 -0600
From: Shane <lucene-user@my-family.us>
User-Agent: Thunderbird 1.5.0.5 (X11/20060808)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Boosting specific Searchable
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

When using the MultiSearcher to search over a set of indexes, I would 
like to increase the boost factor for documents coming from a specific 
index.  Using the example below, I would like to tell the MultiSearcher 
to boost documents coming from index0:

Searcher[] searchers = new Searcher[3];
searchers[0]  = new Searcher(index0);
searcher s[1] = new Searcher(index1);
searchers [2] = new Searcher(index2);

MultiSearcher ms = new MultiSearcher[searchers];
Hits hits = ms.search(someQuery);

Is this possible?  If so, where should I begin?  I have looked a little 
at creating a special filter, but am not sure that is the route to go.  
Any help would be greatly appreciated. (As a side note, my hits may be 
in the thousands, so performance is also an issue).

Shane

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 05:08:48 2006
Return-Path: <java-user-return-23370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31707 invoked from network); 15 Sep 2006 05:08:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 05:08:48 -0000
Received: (qmail 64600 invoked by uid 500); 15 Sep 2006 05:08:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63647 invoked by uid 500); 15 Sep 2006 05:08:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63636 invoked by uid 99); 15 Sep 2006 05:08:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 22:08:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 14 Sep 2006 22:08:29 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8F582ng091786
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 05:08:02 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8F5CeTZ2560186
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 07:12:40 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8F581ak016275
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 07:08:01 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8F581jB016272
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 07:08:01 +0200
In-Reply-To: <9715C01934C7544CB0C262533CD76240620525@lisbon.ds.co.uk>
Subject: RE: Newbie question: lucene sorting problems and stored fields
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF4DFEE00D.9B617EEC-ON882571EA.001BC77F-882571EA.001C1654@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 14 Sep 2006 22:06:47 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 15/09/2006 08:12:40
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes this is correct - updating the doc this way the unstored fields are
getting lost.
This update scenario was also discussed in
http://www.nabble.com/Updating-documents-tf70183.html#a189951.

"Alan Boshier" <Alan.Boshier@esprit-is.com> wrote on 14/09/2006 15:39:31:

>
> Thanks for your help - I think I may have stumbled on the
> answer but if someone can confirm it I would be most grateful.
>
> My guess is that, if we do the following
>
> 1. Retrieve a Document instance D from the index using
>    e.g. IndexSearcher.search()
> 2. Delete the original Document corresponding to D from
>    the index using IndexReader.delete()
> 3. Re-add the Document instance D to the index using
>    IndexWriter.addDocument()
>
> then the document we add back will not contain any of the
> 'unstored' fields that were present in the original document,
> because presumably when you retrieve the Document instance
> in step 1, the instance returned does not contain fields marked
> as 'not stored'.
>
> Hence in our case once the Document went through the steps
> above, it lost its sortable fields. Once we marked the sortable
> fields as 'stored' then the process above would preserve those
> fields and hence sorting would proceed as normal.
>
> Does that make sense?
>
> Thanks
>
> Alan
>
> -----Original Message-----
> From:   Erick Erickson [mailto:erickerickson@gmail.com]
> Sent:   Thu 9/14/2006 18:00
> To:   java-user@lucene.apache.org
> Cc:
> Subject:   Re: Newbie question: lucene sorting problems and stored fields
>
> from the ****2.0**** javadoc, the Sort class, so I don't know if it
> applies.....
>
> <<<The field must be indexed, but should not be tokenized, and does not
need
> to be stored (unless you happen to want it back with the rest of your
> document data).>>>
>
> Is it possible you're tokenizing it? I'm at a loss as to why *storing* it
> would change the behavior, but I guess it's a possibility.
>
> Erick
>
> On 9/14/06, Alan Boshier <Alan.Boshier@esprit-is.com> wrote:
> >
> >
> > That was my understanding (that they had to be indexed) but
> > making them stored seems to have fixed the problem we were
> > seeing, which is odd.
> >
> > Not being an expert on how lucene works internally, I'm
> > struggling to see how this change could have made any
> > difference.
> >
> > -----Original Message-----
> > From:   Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
> > Sent:   Thu 9/14/2006 17:18
> > To:     java-user@lucene.apache.org
> > Cc:
> > Subject:        RE: Newbie question: lucene sorting problems and stored
> > fields
> >
> > AFIK, the field has to be indexed, but I don't think it has to be
stored
> > (but then again maybe I'm wrong)
> >
> > Aviran
> > http://www.aviransplace.com
> >
> > -----Original Message-----
> > From: Alan Boshier [mailto:Alan.Boshier@esprit-is.com]
> > Sent: Thursday, September 14, 2006 11:39 AM
> > To: java-user@lucene.apache.org
> > Subject: Newbie question: lucene sorting problems and stored fields
> >
> > Hi
> >
> > We are seeing intermittent problems with searches that use sorted
fields
> > (in lucene 1.4.3).
> >
> > If we add the fields to our Documents as 'unstored' then we start to
see
> > results that have been sorted by Document ID.
> >
> > The problem goes away if we add the fields as 'stored'.
> >
> > Is it a requirement when creating a field for sorting to make it
stored?
> >
> > Thanks
> >
> > Alan
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 09:09:57 2006
Return-Path: <java-user-return-23371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4560 invoked from network); 15 Sep 2006 09:09:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 09:09:57 -0000
Received: (qmail 49274 invoked by uid 500); 15 Sep 2006 09:09:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48832 invoked by uid 500); 15 Sep 2006 09:09:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48821 invoked by uid 99); 15 Sep 2006 09:09:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 02:09:50 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.43.219.91] (HELO web8321.mail.in.yahoo.com) (202.43.219.91)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 15 Sep 2006 02:09:40 -0700
Received: (qmail 59939 invoked by uid 60001); 15 Sep 2006 09:09:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=A07pKz7aME9YfafetIrmyZtjziH+hAA4gCUnwIwVxctBJLabemJo8c+AuGvCITeiFIi85jkJ/+dykHBGs5OrAJ77Fghv1jIoL03O4F4hDNUpEfLH+WpTrLOu1fOb588GoT5v1ydeReQpstmF8gQeraHQKcQQnFeXHzcEvqqdZtM=  ;
Message-ID: <20060915090911.59937.qmail@web8321.mail.in.yahoo.com>
Received: from [59.95.171.250] by web8321.mail.in.yahoo.com via HTTP; Fri, 15 Sep 2006 10:09:11 BST
Date: Fri, 15 Sep 2006 10:09:11 +0100 (BST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Big Ducument Indexing Limit?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1508559142-1158311351=:51929"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1508559142-1158311351=:51929
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Dear all,
  I am trying to index a Xml file which has 6MB size. Does lucene support the big document size. What is the limit of lucene Max file size to index. 
  Because when i check and trying to search in the indexed file. I am not able to get all the results. It gives me some results but not others. I think Lucene has done partially indexed and left the remaining part which it could not processed. IS IT RIGHT?. If not , then what will be the problem.
  Thanks...

 				
---------------------------------
 Find out what India is talking about on  - Yahoo! Answers India 
 Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
--0-1508559142-1158311351=:51929--

From java-user-return-23372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 09:14:48 2006
Return-Path: <java-user-return-23372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5493 invoked from network); 15 Sep 2006 09:14:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 09:14:48 -0000
Received: (qmail 58069 invoked by uid 500); 15 Sep 2006 09:14:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57479 invoked by uid 500); 15 Sep 2006 09:14:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57466 invoked by uid 99); 15 Sep 2006 09:14:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 02:14:42 -0700
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.230] (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 15 Sep 2006 02:14:30 -0700
Received: (qmail 18790 invoked by uid 60001); 15 Sep 2006 09:14:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=sBTVmlwNDf+W4CEj7WKPgqD6dt11Q/z5U92OSCYoeZFfqk8g2YukFiwgELWSylC0WRkWeiIINoIR1EHRufOnlxrmtDRl50lY+DkopfXEoETZXdoO4XxiypkaNCNTKm6AQ6Gh0at9IzKrnx0Db+m0qHNUrp/uxZ4YaAMLnXWN9f8=  ;
Message-ID: <20060915091402.18788.qmail@web31111.mail.mud.yahoo.com>
Received: from [193.230.224.5] by web31111.mail.mud.yahoo.com via HTTP; Fri, 15 Sep 2006 02:14:02 PDT
Date: Fri, 15 Sep 2006 02:14:02 -0700 (PDT)
From: Catalin Mititelu <catalinmititelu@yahoo.com>
Subject: Re: Big Ducument Indexing Limit?
To: java-user@lucene.apache.org
In-Reply-To: <20060915090911.59937.qmail@web8321.mail.in.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-619671715-1158311642=:17115"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-619671715-1158311642=:17115
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Yes. The default max limit for indexing tokens is 10,000. 
Look here http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH

aslam bari <iamaslamok@yahoo.co.in> wrote: Dear all,
  I am trying to index a Xml file which has 6MB size. Does lucene support the big document size. What is the limit of lucene Max file size to index. 
  Because when i check and trying to search in the indexed file. I am not able to get all the results. It gives me some results but not others. I think Lucene has done partially indexed and left the remaining part which it could not processed. IS IT RIGHT?. If not , then what will be the problem.
  Thanks...

     
---------------------------------
 Find out what India is talking about on  - Yahoo! Answers India 
 Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW

 		
---------------------------------
Stay in the know. Pulse on the new Yahoo.com.  Check it out. 
--0-619671715-1158311642=:17115--

From java-user-return-23373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 11:14:52 2006
Return-Path: <java-user-return-23373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48322 invoked from network); 15 Sep 2006 11:14:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 11:14:52 -0000
Received: (qmail 53392 invoked by uid 500); 15 Sep 2006 11:14:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53359 invoked by uid 500); 15 Sep 2006 11:14:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53348 invoked by uid 99); 15 Sep 2006 11:14:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 04:14:44 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.43.219.32] (HELO web8317.mail.in.yahoo.com) (202.43.219.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 15 Sep 2006 04:14:32 -0700
Received: (qmail 85742 invoked by uid 60001); 15 Sep 2006 11:14:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=r5ok8hzF9x2ViiU2Xt/EB93YkXg87BW5eLShi8pW2Y4XgfR9hMYbz05yvZEB1rMq4lBBW+u7BYnMed2nJFlWDPC5Bxwp96nqqfPmWD3YUVpOYdRL5k66RQfTCYel9rayeKnuzHDfgLN1DPN4dN+KrxxXWmSDFM0n4+1IFWTUYXM=  ;
Message-ID: <20060915111403.85740.qmail@web8317.mail.in.yahoo.com>
Received: from [59.95.171.250] by web8317.mail.in.yahoo.com via HTTP; Fri, 15 Sep 2006 12:14:03 BST
Date: Fri, 15 Sep 2006 12:14:03 +0100 (BST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Re: Big Ducument Indexing Limit?
To: java-user@lucene.apache.org
In-Reply-To: <20060915091402.18788.qmail@web31111.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1942474137-1158318843=:84859"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1942474137-1158318843=:84859
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Dear Mititelu,
  Thanks for reply. Can you help me on some samll issue related to it.
  1) I am new to Lucene. Can you tell me where is this DEFAULT_MAX_FIELD_LENGTH variable available and how to set it and for my purpose like 6-10MB file, how much i should set.
  2) how can i index all the words of XML file as Case Insensitive means either in lowercase or in Uppercase. So that i can search case insensitive.
  3) I am using XmlContentExtractor. Actually it extract only Content of the xml tag. If i want every thing (including XmlTag or contents or properties - attributes ) of xml file to be indexed, where should i do change the code.

  Thanks...
Catalin Mititelu <catalinmititelu@yahoo.com> wrote:
  Yes. The default max limit for indexing tokens is 10,000. 
Look here http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH

aslam bari wrote: Dear all,
I am trying to index a Xml file which has 6MB size. Does lucene support the big document size. What is the limit of lucene Max file size to index. 
Because when i check and trying to search in the indexed file. I am not able to get all the results. It gives me some results but not others. I think Lucene has done partially indexed and left the remaining part which it could not processed. IS IT RIGHT?. If not , then what will be the problem.
Thanks...


---------------------------------
Find out what India is talking about on - Yahoo! Answers India 
Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW


---------------------------------
Stay in the know. Pulse on the new Yahoo.com. Check it out. 

 				
---------------------------------
 Find out what India is talking about on  - Yahoo! Answers India 
 Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
--0-1942474137-1158318843=:84859--

From java-user-return-23374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 11:32:37 2006
Return-Path: <java-user-return-23374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58250 invoked from network); 15 Sep 2006 11:32:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 11:32:37 -0000
Received: (qmail 70255 invoked by uid 500); 15 Sep 2006 11:32:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70226 invoked by uid 500); 15 Sep 2006 11:32:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70202 invoked by uid 99); 15 Sep 2006 11:32:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 04:32:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of simon.willnauer@googlemail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 04:32:02 -0700
Received: by ug-out-1314.google.com with SMTP id k40so198393ugc
        for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 04:31:35 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=GkJo3ZkfPtrdgdBGWjSqDG2aYMSkhKId8PvTugaL+TfgClYM+G+qqtDJ0IOwi8nqQYyv3erzGhkY7EgirDEAxqcUWqg5LfHYK6mQYLxOrKglQBE+q/lHrrnviGFa5h3V5OZu2/kuDrLP33ws21+M6vXSLTugJrlA0Fa//I+/ujM=
Received: by 10.66.221.19 with SMTP id t19mr5387017ugg;
        Fri, 15 Sep 2006 04:31:34 -0700 (PDT)
Received: by 10.67.22.3 with HTTP; Fri, 15 Sep 2006 04:31:34 -0700 (PDT)
Message-ID: <f18c9dde0609150431y56bfd143q7204e4762fde6fb8@mail.gmail.com>
Date: Fri, 15 Sep 2006 13:31:34 +0200
From: "Simon Willnauer" <simon.willnauer@googlemail.com>
Reply-To: simon.willnauer@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Big Ducument Indexing Limit?
In-Reply-To: <20060915111403.85740.qmail@web8317.mail.in.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <20060915091402.18788.qmail@web31111.mail.mud.yahoo.com>
	 <20060915111403.85740.qmail@web8317.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/15/06, aslam bari <iamaslamok@yahoo.co.in> wrote:
> Dear Mititelu,
>   Thanks for reply. Can you help me on some samll issue related to it.
>   1) I am new to Lucene. Can you tell me where is this DEFAULT_MAX_FIELD_LENGTH variable available and how to set it and for my purpose like 6-10MB file, how much i should set.
DEFAULT_MAX_FIELD_LENGTH is a constant of IndexWriter.
to set your own value use IndexWriter.html#setMaxFieldLength(int)

JavaDoc:
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#setMaxFieldLength(int)

>   2) how can i index all the words of XML file as Case Insensitive means either in lowercase or in Uppercase. So that i can search case insensitive.
How your text is processed depends on the analyzer you use for
indexing a certain field. A lot of the available analyzers do
lowercase processing using a lowercasefilter like the
(whitespaceanalyzer)
see (Analysis) at:
http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html


You should have a look at
>   3) I am using XmlContentExtractor. Actually it extract only Content of the xml tag. If i want every thing (including XmlTag or contents or properties - attributes ) of xml file to be indexed, where should i do change the code.

I'm not 100% sure but isn't XmlContentExtractor a part or jakarta
slide? If so please contact the slide mailing list. But there are many
xml apis available to extract every content of your document. If you
really want to index the whole xml file just read the file using java
io anyway I would not suggest doing that at all.

best regards simon
>
>   Thanks...
> Catalin Mititelu <catalinmititelu@yahoo.com> wrote:
>   Yes. The default max limit for indexing tokens is 10,000.
> Look here http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
>
> aslam bari wrote: Dear all,
> I am trying to index a Xml file which has 6MB size. Does lucene support the big document size. What is the limit of lucene Max file size to index.
> Because when i check and trying to search in the indexed file. I am not able to get all the results. It gives me some results but not others. I think Lucene has done partially indexed and left the remaining part which it could not processed. IS IT RIGHT?. If not , then what will be the problem.
> Thanks...
>
>
> ---------------------------------
> Find out what India is talking about on - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
>
>
> ---------------------------------
> Stay in the know. Pulse on the new Yahoo.com. Check it out.
>
>
> ---------------------------------
>  Find out what India is talking about on  - Yahoo! Answers India
>  Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 11:53:04 2006
Return-Path: <java-user-return-23375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70850 invoked from network); 15 Sep 2006 11:53:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 11:53:04 -0000
Received: (qmail 99065 invoked by uid 500); 15 Sep 2006 11:52:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99045 invoked by uid 500); 15 Sep 2006 11:52:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99034 invoked by uid 99); 15 Sep 2006 11:52:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 04:52:57 -0700
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.37] (HELO web31104.mail.mud.yahoo.com) (68.142.200.37)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 15 Sep 2006 04:52:44 -0700
Received: (qmail 19335 invoked by uid 60001); 15 Sep 2006 11:52:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YSQK7gHThH6mn5cF/wuHXB/KZyhaWTYANO+4q19HD11DRkiKCPXYr+W3iyoW094VsneVa/qxyGUM0YZcMFAYHSHvGRSootj8h+Pip+RsJO0YfULpwFLmEBU683zypr6GjlOfOsdf5KGHQuzlqGoBZu7MUdlrOm2OEmNMdSyzZ+g=  ;
Message-ID: <20060915115217.19333.qmail@web31104.mail.mud.yahoo.com>
Received: from [193.230.224.5] by web31104.mail.mud.yahoo.com via HTTP; Fri, 15 Sep 2006 04:52:17 PDT
Date: Fri, 15 Sep 2006 04:52:17 -0700 (PDT)
From: Catalin Mititelu <catalinmititelu@yahoo.com>
Subject: Re: Big Ducument Indexing Limit?
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
In-Reply-To: <f18c9dde0609150431y56bfd143q7204e4762fde6fb8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1889738240-1158321137=:18980"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1889738240-1158321137=:18980
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

One more hint for 2) and 3): use SimpleAnalyzer on your xml (give up at XmlContentExtractor). In this manner you can index all "words" from xml file at lower case (tag name, attribute name, attribute value and content). 
Of course, you should use the same analyzer for searching.

Simon Willnauer <simon.willnauer@googlemail.com> wrote: On 9/15/06, aslam bari  wrote:
> Dear Mititelu,
>   Thanks for reply. Can you help me on some samll issue related to it.
>   1) I am new to Lucene. Can you tell me where is this DEFAULT_MAX_FIELD_LENGTH variable available and how to set it and for my purpose like 6-10MB file, how much i should set.
DEFAULT_MAX_FIELD_LENGTH is a constant of IndexWriter.
to set your own value use IndexWriter.html#setMaxFieldLength(int)

JavaDoc:
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#setMaxFieldLength(int)

>   2) how can i index all the words of XML file as Case Insensitive means either in lowercase or in Uppercase. So that i can search case insensitive.
How your text is processed depends on the analyzer you use for
indexing a certain field. A lot of the available analyzers do
lowercase processing using a lowercasefilter like the
(whitespaceanalyzer)
see (Analysis) at:
http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html


You should have a look at
>   3) I am using XmlContentExtractor. Actually it extract only Content of the xml tag. If i want every thing (including XmlTag or contents or properties - attributes ) of xml file to be indexed, where should i do change the code.

I'm not 100% sure but isn't XmlContentExtractor a part or jakarta
slide? If so please contact the slide mailing list. But there are many
xml apis available to extract every content of your document. If you
really want to index the whole xml file just read the file using java
io anyway I would not suggest doing that at all.

best regards simon
>
>   Thanks...
> Catalin Mititelu  wrote:
>   Yes. The default max limit for indexing tokens is 10,000.
> Look here http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
>
> aslam bari wrote: Dear all,
> I am trying to index a Xml file which has 6MB size. Does lucene support the big document size. What is the limit of lucene Max file size to index.
> Because when i check and trying to search in the indexed file. I am not able to get all the results. It gives me some results but not others. I think Lucene has done partially indexed and left the remaining part which it could not processed. IS IT RIGHT?. If not , then what will be the problem.
> Thanks...
>
>
> ---------------------------------
> Find out what India is talking about on - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
>
>
> ---------------------------------
> Stay in the know. Pulse on the new Yahoo.com. Check it out.
>
>
> ---------------------------------
>  Find out what India is talking about on  - Yahoo! Answers India
>  Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 		
---------------------------------
How low will we go? Check out Yahoo! Messengers low  PC-to-Phone call rates.
--0-1889738240-1158321137=:18980--

From java-user-return-23376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 12:04:39 2006
Return-Path: <java-user-return-23376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73900 invoked from network); 15 Sep 2006 12:04:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 12:04:39 -0000
Received: (qmail 13515 invoked by uid 500); 15 Sep 2006 12:04:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13480 invoked by uid 500); 15 Sep 2006 12:04:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13468 invoked by uid 99); 15 Sep 2006 12:04:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:04:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mark.mueller@dasburo.com designates 195.21.27.254 as permitted sender)
Received: from [195.21.27.254] (HELO mail.dasburo.com) (195.21.27.254)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:04:23 -0700
Received: from DasBuro.Com ([192.111.127.158])
	by mail.dasburo.com (8.12.7/8.12.7) with ESMTP id k8FC3tYN027762
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 14:03:55 +0200
Received: from hibernia (hibernia.intern.dasburo.com [192.111.127.106])
	by DasBuro.Com (8.12.10/8.12.10) with ESMTP id k8FC3tEu028514
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 14:03:55 +0200
From: =?iso-8859-1?Q?Mark_M=FCller?= <mark.mueller@dasburo.com>
To: <java-user@lucene.apache.org>
Subject: Lucene Suggest ?
Date: Fri, 15 Sep 2006 14:02:07 +0200
Message-ID: <004601c6d8be$c4932000$6a7f6fc0@amdraht.intern.dasburo.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcbYvsR2UyM1w6ywTqm4lR31y7C5Xg==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (mail.dasburo.com [192.111.127.149]); Fri, 15 Sep 2006 14:03:55 +0200 (CEST)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,
I like to know if it is possible to let make Lucene Suggestions while the
user types in the search query.

Like in Google Suggest: http://www.google.com/webhp?complete=1&hl=en

I just need to send with AJAX the part of the word the user already typed
and get back the list of matching terms. Even better would be if the number
of occurrences would be show at well.

Is there a function for that in the Lucene API ?

Thanks in Advance,
Mark



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 12:10:21 2006
Return-Path: <java-user-return-23377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75550 invoked from network); 15 Sep 2006 12:10:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 12:10:20 -0000
Received: (qmail 23785 invoked by uid 500); 15 Sep 2006 12:10:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23758 invoked by uid 500); 15 Sep 2006 12:10:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23747 invoked by uid 99); 15 Sep 2006 12:10:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:10:12 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.8.83 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.8.83] (HELO pne-smtpout1-sn2.hy.skanova.net) (81.228.8.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:09:58 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn2.hy.skanova.net (7.2.075)
        id 450708BC000C01CE for java-user@lucene.apache.org; Fri, 15 Sep 2006 14:09:31 +0200
Subject: Re: Lucene Suggest ?
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <004601c6d8be$c4932000$6a7f6fc0@amdraht.intern.dasburo.com>
References: <004601c6d8be$c4932000$6a7f6fc0@amdraht.intern.dasburo.com>
Content-Type: text/plain; charset=ISO-8859-1
Organization: snigel heavy industries
Date: Fri, 15 Sep 2006 14:09:29 +0200
Message-Id: <1158322169.4818.0.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Fri, 2006-09-15 at 14:02 +0200, Mark Mller wrote:
> Hi all,
> I like to know if it is possible to let make Lucene Suggestions while the
> user types in the search query.
> 
> Like in Google Suggest: http://www.google.com/webhp?complete=1&hl=en
> 
> I just need to send with AJAX the part of the word the user already typed
> and get back the list of matching terms. Even better would be if the number
> of occurrences would be show at well.
> 
> Is there a function for that in the Lucene API ?


http://issues.apache.org/jira/browse/LUCENE-625


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 12:26:54 2006
Return-Path: <java-user-return-23378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79801 invoked from network); 15 Sep 2006 12:26:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 12:26:53 -0000
Received: (qmail 46633 invoked by uid 500); 15 Sep 2006 12:26:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46274 invoked by uid 500); 15 Sep 2006 12:26:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46263 invoked by uid 99); 15 Sep 2006 12:26:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:26:48 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.43.219.121] (HELO web8323.mail.in.yahoo.com) (202.43.219.121)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 15 Sep 2006 05:26:07 -0700
Received: (qmail 31065 invoked by uid 60001); 15 Sep 2006 12:25:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=vJmxcRa6Sc22HQBMgHsyQkzeEYHvgmFzdqE4qzn1Ew2/NAW4a7fQqLY6rRJ3h3C/1rKFkzpL/b3YvzgTkg73E9e2j6J/H5C1aJzBoET3hoQEFA/YHh8F3YD/Cl1O7ipFvy6OSTTIZC02jBk52Yl99mu9qrSiO65Ghv/8ek9C/pk=  ;
Message-ID: <20060915122532.31063.qmail@web8323.mail.in.yahoo.com>
Received: from [59.95.171.250] by web8323.mail.in.yahoo.com via HTTP; Fri, 15 Sep 2006 13:25:32 BST
Date: Fri, 15 Sep 2006 13:25:32 +0100 (BST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Re: Big Ducument Indexing Limit?
To: java-user@lucene.apache.org
In-Reply-To: <20060915115217.19333.qmail@web31104.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-907650561-1158323132=:27901"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-907650561-1158323132=:27901
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thanks for response,
  I have again a small problem.
  I have some text in a xml tag like
  <Contents>\A1;Frank\PPaul</Contents>
   
  Does lucene can not index it using SimpleAnalyzer or TextContentExtractor.
  Thanks...

Catalin Mititelu <catalinmititelu@yahoo.com> wrote:
  One more hint for 2) and 3): use SimpleAnalyzer on your xml (give up at XmlContentExtractor). In this manner you can index all "words" from xml file at lower case (tag name, attribute name, attribute value and content). 
Of course, you should use the same analyzer for searching.

Simon Willnauer wrote: On 9/15/06, aslam bari wrote:
> Dear Mititelu,
> Thanks for reply. Can you help me on some samll issue related to it.
> 1) I am new to Lucene. Can you tell me where is this DEFAULT_MAX_FIELD_LENGTH variable available and how to set it and for my purpose like 6-10MB file, how much i should set.
DEFAULT_MAX_FIELD_LENGTH is a constant of IndexWriter.
to set your own value use IndexWriter.html#setMaxFieldLength(int)

JavaDoc:
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#setMaxFieldLength(int)

> 2) how can i index all the words of XML file as Case Insensitive means either in lowercase or in Uppercase. So that i can search case insensitive.
How your text is processed depends on the analyzer you use for
indexing a certain field. A lot of the available analyzers do
lowercase processing using a lowercasefilter like the
(whitespaceanalyzer)
see (Analysis) at:
http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html


You should have a look at
> 3) I am using XmlContentExtractor. Actually it extract only Content of the xml tag. If i want every thing (including XmlTag or contents or properties - attributes ) of xml file to be indexed, where should i do change the code.

I'm not 100% sure but isn't XmlContentExtractor a part or jakarta
slide? If so please contact the slide mailing list. But there are many
xml apis available to extract every content of your document. If you
really want to index the whole xml file just read the file using java
io anyway I would not suggest doing that at all.

best regards simon
>
> Thanks...
> Catalin Mititelu wrote:
> Yes. The default max limit for indexing tokens is 10,000.
> Look here http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
>
> aslam bari wrote: Dear all,
> I am trying to index a Xml file which has 6MB size. Does lucene support the big document size. What is the limit of lucene Max file size to index.
> Because when i check and trying to search in the indexed file. I am not able to get all the results. It gives me some results but not others. I think Lucene has done partially indexed and left the remaining part which it could not processed. IS IT RIGHT?. If not , then what will be the problem.
> Thanks...
>
>
> ---------------------------------
> Find out what India is talking about on - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
>
>
> ---------------------------------
> Stay in the know. Pulse on the new Yahoo.com. Check it out.
>
>
> ---------------------------------
> Find out what India is talking about on - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------
How low will we go? Check out Yahoo! Messengers low PC-to-Phone call rates.

 				
---------------------------------
 Find out what India is talking about on  - Yahoo! Answers India 
 Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
--0-907650561-1158323132=:27901--

From java-user-return-23379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 12:36:26 2006
Return-Path: <java-user-return-23379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82463 invoked from network); 15 Sep 2006 12:36:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 12:36:26 -0000
Received: (qmail 61056 invoked by uid 500); 15 Sep 2006 12:36:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60666 invoked by uid 500); 15 Sep 2006 12:36:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60655 invoked by uid 99); 15 Sep 2006 12:36:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:36:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of icocan@gmail.com designates 64.233.184.226 as permitted sender)
Received: from [64.233.184.226] (HELO wr-out-0506.google.com) (64.233.184.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:35:54 -0700
Received: by wr-out-0506.google.com with SMTP id 57so1067991wri
        for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 05:35:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=G+LsOtWdvT/iRUPwRHE0efPmbbDtdYww4TrMFGmzKLD3vxHSu7jg1vBQcZaCkSytqFEpfelxP4uqIl0GOg8ANCrXaCB3fLJYsD4sf/R+AWYbhzu+e4guUt/C0P3VCmayajFZe6IAnlLWTiuAJbQtPdSocgfM1vKxm3XdmQmGnGM=
Received: by 10.78.157.8 with SMTP id f8mr1495529hue;
        Fri, 15 Sep 2006 05:35:12 -0700 (PDT)
Received: from ?10.1.10.99? ( [86.35.27.2])
        by mx.gmail.com with ESMTP id 32sm833533hui.2006.09.15.05.35.11;
        Fri, 15 Sep 2006 05:35:12 -0700 (PDT)
Message-ID: <450A9E6D.1010606@gmail.com>
Date: Fri, 15 Sep 2006 15:37:01 +0300
From: Ioan Cocan <icocan@gmail.com>
Reply-To:  icocan@gmail.com
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene Suggest ?
References: <004601c6d8be$c4932000$6a7f6fc0@amdraht.intern.dasburo.com>
In-Reply-To: <004601c6d8be$c4932000$6a7f6fc0@amdraht.intern.dasburo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We've done something similar at http://www.123dictionar.ro. As you type, 
the word is sent to the server using AJAX and if an exact match is not 
found, a Lucene index is searched using a FuzzyQuery search. Counts are 
precomputed, as data is not changing.

Regards,
Ioan

Mark Mller wrote:
> Hi all,
> I like to know if it is possible to let make Lucene Suggestions while the
> user types in the search query.
>
> Like in Google Suggest: http://www.google.com/webhp?complete=1&hl=en
>
> I just need to send with AJAX the part of the word the user already typed
> and get back the list of matching terms. Even better would be if the number
> of occurrences would be show at well.
>
> Is there a function for that in the Lucene API ?
>
> Thanks in Advance,
> Mark
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 12:55:19 2006
Return-Path: <java-user-return-23380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87999 invoked from network); 15 Sep 2006 12:55:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 12:55:18 -0000
Received: (qmail 2350 invoked by uid 500); 15 Sep 2006 12:55:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2106 invoked by uid 500); 15 Sep 2006 12:55:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2095 invoked by uid 99); 15 Sep 2006 12:55:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:55:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.29.74.74] (HELO sh58.surpasshosting.com) (72.29.74.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 05:55:00 -0700
Received: from [81.25.37.76] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GOCNd-0007cF-QU
	for java-user@lucene.apache.org; Fri, 15 Sep 2006 08:01:14 -0400
Date: Fri, 15 Sep 2006 15:54:24 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <875466698.20060915155424@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: Re: ParallelMultiSearcher and docFreq
In-Reply-To: <1791844806.20060914191442@altervisionmedia.com>
References: <1791844806.20060914191442@altervisionmedia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Yura.

Does anyone understand my email? Maybe my English is too bad...

Thanks.

YS> Here is the situation. I have ParallelMultiSearcher object
YS> initializated with two or more RemoteSearchable's.

YS> I run PrefixQuery search on some keyword field, say "link". When I run
YS> search starting just with letter "w" (link:w*) then I should have like 5k
YS> results.

YS> As I know when I perform search on ParallelMultiSearcher query is
YS> being rewritten at first. So my prefix search is being rewritten with
YS> "link:wordlist.com link:web.com and so on about 2-3k of terms". Then as I
YS> understand from debugging for each such term
YS> ParallelMultiSearcher performs docFreq
YS> requests to RemoteSearchables (2-3k calls). So we have many requests
YS> to docFreq method and these operations take like 95% of all search time.

YS> I see that we have docFreqs method for RemoteSearchable, but it has
YS> not being used.

YS> Is there any way to get rid of those multiple calls of docFreq?



--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 13:18:30 2006
Return-Path: <java-user-return-23381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97257 invoked from network); 15 Sep 2006 13:18:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 13:18:30 -0000
Received: (qmail 65955 invoked by uid 500); 15 Sep 2006 13:18:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65928 invoked by uid 500); 15 Sep 2006 13:18:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65916 invoked by uid 99); 15 Sep 2006 13:18:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 06:18:22 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 06:18:03 -0700
Received: by py-out-1112.google.com with SMTP id w49so3416187pyg
        for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 06:17:36 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qWvn/bBC2AynOa8t2nq0VniYOrnv973nrqirIRy0sIUmq+12wZ0a+t2FdJvfH4pE81P1B2uFjg10ssSuv7oAWSJUtQr9PpwVmIb/GDchFuyMPKgcC2XniayUXOXSF/fxjsPvgvx6czhqfud4gxnVan5Hd3I0WvtuaVqMp6cxNI4=
Received: by 10.35.82.4 with SMTP id j4mr17252081pyl;
        Fri, 15 Sep 2006 06:17:36 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Fri, 15 Sep 2006 06:17:36 -0700 (PDT)
Message-ID: <359a92830609150617x7def5a06t669eb4f3f6fbb8ba@mail.gmail.com>
Date: Fri, 15 Sep 2006 09:17:36 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Big Ducument Indexing Limit?
In-Reply-To: <20060915122532.31063.qmail@web8323.mail.in.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24625_31517400.1158326256288"
References: <20060915115217.19333.qmail@web31104.mail.mud.yahoo.com>
	 <20060915122532.31063.qmail@web8323.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24625_31517400.1158326256288
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

First, You really must undestand analyzers and what they do. If you haven't
seen the book Lucene in Action, I highly recommend it.

Second, get a copy of Luke (google luke and lucene). It is a graphical tool
that lets you examine an index and fire queries at it. It'll show you
exactly what was indexed with the particular analyzer you eventually use. It
will also show you exactly what the result of a query is after it has been
processed by the query parser (again, using different analyzers). I
guarantee that the hour or two you spend understanding Luke will be time
*very* well spent.

About the content you indicated... what do you want to search? Are you going
to search on "\A1" "Frank" "\Paul" "\A1;Frank\Paul"? That is, would you
expect searching on \A1 to produce a hit or not?

You have to decide what parts of this text are to be searchable (i.e. how to
tokenize the input) and then use an analyzer/tokenizer that breaks the
stream up as you wish (for both indexing and querying). If none of the
supplied analyzers do what you want, Lucene in Action presents an example of
making your own (under synonym injection) that you can use as a model for
making your own.

It would be much more helpful if you could give an example of what searches
you would expect to generate hits on a given example input.... Again, using
Luke to look at your index after indexing would help you a lot to understand
what's possible.

Hope this helps
Erick

On 9/15/06, aslam bari <iamaslamok@yahoo.co.in> wrote:
>
> Thanks for response,
>   I have again a small problem.
>   I have some text in a xml tag like
>   <Contents>\A1;Frank\PPaul</Contents>
>
>   Does lucene can not index it using SimpleAnalyzer or
> TextContentExtractor.
>   Thanks...
>
> Catalin Mititelu <catalinmititelu@yahoo.com> wrote:
>   One more hint for 2) and 3): use SimpleAnalyzer on your xml (give up at
> XmlContentExtractor). In this manner you can index all "words" from xml file
> at lower case (tag name, attribute name, attribute value and content).
> Of course, you should use the same analyzer for searching.
>
> Simon Willnauer wrote: On 9/15/06, aslam bari wrote:
> > Dear Mititelu,
> > Thanks for reply. Can you help me on some samll issue related to it.
> > 1) I am new to Lucene. Can you tell me where is this
> DEFAULT_MAX_FIELD_LENGTH variable available and how to set it and for my
> purpose like 6-10MB file, how much i should set.
> DEFAULT_MAX_FIELD_LENGTH is a constant of IndexWriter.
> to set your own value use IndexWriter.html#setMaxFieldLength(int)
>
> JavaDoc:
>
> http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#setMaxFieldLength(int)
>
> > 2) how can i index all the words of XML file as Case Insensitive means
> either in lowercase or in Uppercase. So that i can search case insensitive.
> How your text is processed depends on the analyzer you use for
> indexing a certain field. A lot of the available analyzers do
> lowercase processing using a lowercasefilter like the
> (whitespaceanalyzer)
> see (Analysis) at:
> http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html
>
>
> You should have a look at
> > 3) I am using XmlContentExtractor. Actually it extract only Content of
> the xml tag. If i want every thing (including XmlTag or contents or
> properties - attributes ) of xml file to be indexed, where should i do
> change the code.
>
> I'm not 100% sure but isn't XmlContentExtractor a part or jakarta
> slide? If so please contact the slide mailing list. But there are many
> xml apis available to extract every content of your document. If you
> really want to index the whole xml file just read the file using java
> io anyway I would not suggest doing that at all.
>
> best regards simon
> >
> > Thanks...
> > Catalin Mititelu wrote:
> > Yes. The default max limit for indexing tokens is 10,000.
> > Look here
> http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
> >
> > aslam bari wrote: Dear all,
> > I am trying to index a Xml file which has 6MB size. Does lucene support
> the big document size. What is the limit of lucene Max file size to index.
> > Because when i check and trying to search in the indexed file. I am not
> able to get all the results. It gives me some results but not others. I
> think Lucene has done partially indexed and left the remaining part which it
> could not processed. IS IT RIGHT?. If not , then what will be the problem.
> > Thanks...
> >
> >
> > ---------------------------------
> > Find out what India is talking about on - Yahoo! Answers India
> > Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8.
> Get it NOW
> >
> >
> > ---------------------------------
> > Stay in the know. Pulse on the new Yahoo.com. Check it out.
> >
> >
> > ---------------------------------
> > Find out what India is talking about on - Yahoo! Answers India
> > Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8.
> Get it NOW
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------
> How low will we go? Check out Yahoo! Messenger's low PC-to-Phone call
> rates.
>
>
> ---------------------------------
> Find out what India is talking about on  - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get
> it NOW
>

------=_Part_24625_31517400.1158326256288--

From java-user-return-23382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 13:28:51 2006
Return-Path: <java-user-return-23382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6649 invoked from network); 15 Sep 2006 13:28:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 13:28:51 -0000
Received: (qmail 89035 invoked by uid 500); 15 Sep 2006 13:28:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89010 invoked by uid 500); 15 Sep 2006 13:28:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88913 invoked by uid 99); 15 Sep 2006 13:28:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 06:28:32 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 06:28:16 -0700
Received: by py-out-1112.google.com with SMTP id w49so3419421pyg
        for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 06:27:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qWvn/bBC2AynOa8t2nq0VniYOrnv973nrqirIRy0sIUmq+12wZ0a+t2FdJvfH4pE81P1B2uFjg10ssSuv7oAWSJUtQr9PpwVmIb/GDchFuyMPKgcC2XniayUXOXSF/fxjsPvgvx6czhqfud4gxnVan5Hd3I0WvtuaVqMp6cxNI4=
Received: by 10.35.82.4 with SMTP id j4mr17252081pyl;
        Fri, 15 Sep 2006 06:17:36 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Fri, 15 Sep 2006 06:17:36 -0700 (PDT)
Message-ID: <359a92830609150617x7def5a06t669eb4f3f6fbb8ba@mail.gmail.com>
Date: Fri, 15 Sep 2006 09:17:36 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Big Ducument Indexing Limit?
In-Reply-To: <20060915122532.31063.qmail@web8323.mail.in.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24625_31517400.1158326256288"
References: <20060915115217.19333.qmail@web31104.mail.mud.yahoo.com>
	 <20060915122532.31063.qmail@web8323.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24625_31517400.1158326256288
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

First, You really must undestand analyzers and what they do. If you haven't
seen the book Lucene in Action, I highly recommend it.

Second, get a copy of Luke (google luke and lucene). It is a graphical tool
that lets you examine an index and fire queries at it. It'll show you
exactly what was indexed with the particular analyzer you eventually use. It
will also show you exactly what the result of a query is after it has been
processed by the query parser (again, using different analyzers). I
guarantee that the hour or two you spend understanding Luke will be time
*very* well spent.

About the content you indicated... what do you want to search? Are you going
to search on "\A1" "Frank" "\Paul" "\A1;Frank\Paul"? That is, would you
expect searching on \A1 to produce a hit or not?

You have to decide what parts of this text are to be searchable (i.e. how to
tokenize the input) and then use an analyzer/tokenizer that breaks the
stream up as you wish (for both indexing and querying). If none of the
supplied analyzers do what you want, Lucene in Action presents an example of
making your own (under synonym injection) that you can use as a model for
making your own.

It would be much more helpful if you could give an example of what searches
you would expect to generate hits on a given example input.... Again, using
Luke to look at your index after indexing would help you a lot to understand
what's possible.

Hope this helps
Erick

On 9/15/06, aslam bari <iamaslamok@yahoo.co.in> wrote:
>
> Thanks for response,
>   I have again a small problem.
>   I have some text in a xml tag like
>   <Contents>\A1;Frank\PPaul</Contents>
>
>   Does lucene can not index it using SimpleAnalyzer or
> TextContentExtractor.
>   Thanks...
>
> Catalin Mititelu <catalinmititelu@yahoo.com> wrote:
>   One more hint for 2) and 3): use SimpleAnalyzer on your xml (give up at
> XmlContentExtractor). In this manner you can index all "words" from xml file
> at lower case (tag name, attribute name, attribute value and content).
> Of course, you should use the same analyzer for searching.
>
> Simon Willnauer wrote: On 9/15/06, aslam bari wrote:
> > Dear Mititelu,
> > Thanks for reply. Can you help me on some samll issue related to it.
> > 1) I am new to Lucene. Can you tell me where is this
> DEFAULT_MAX_FIELD_LENGTH variable available and how to set it and for my
> purpose like 6-10MB file, how much i should set.
> DEFAULT_MAX_FIELD_LENGTH is a constant of IndexWriter.
> to set your own value use IndexWriter.html#setMaxFieldLength(int)
>
> JavaDoc:
>
> http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#setMaxFieldLength(int)
>
> > 2) how can i index all the words of XML file as Case Insensitive means
> either in lowercase or in Uppercase. So that i can search case insensitive.
> How your text is processed depends on the analyzer you use for
> indexing a certain field. A lot of the available analyzers do
> lowercase processing using a lowercasefilter like the
> (whitespaceanalyzer)
> see (Analysis) at:
> http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html
>
>
> You should have a look at
> > 3) I am using XmlContentExtractor. Actually it extract only Content of
> the xml tag. If i want every thing (including XmlTag or contents or
> properties - attributes ) of xml file to be indexed, where should i do
> change the code.
>
> I'm not 100% sure but isn't XmlContentExtractor a part or jakarta
> slide? If so please contact the slide mailing list. But there are many
> xml apis available to extract every content of your document. If you
> really want to index the whole xml file just read the file using java
> io anyway I would not suggest doing that at all.
>
> best regards simon
> >
> > Thanks...
> > Catalin Mititelu wrote:
> > Yes. The default max limit for indexing tokens is 10,000.
> > Look here
> http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
> >
> > aslam bari wrote: Dear all,
> > I am trying to index a Xml file which has 6MB size. Does lucene support
> the big document size. What is the limit of lucene Max file size to index.
> > Because when i check and trying to search in the indexed file. I am not
> able to get all the results. It gives me some results but not others. I
> think Lucene has done partially indexed and left the remaining part which it
> could not processed. IS IT RIGHT?. If not , then what will be the problem.
> > Thanks...
> >
> >
> > ---------------------------------
> > Find out what India is talking about on - Yahoo! Answers India
> > Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8.
> Get it NOW
> >
> >
> > ---------------------------------
> > Stay in the know. Pulse on the new Yahoo.com. Check it out.
> >
> >
> > ---------------------------------
> > Find out what India is talking about on - Yahoo! Answers India
> > Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8.
> Get it NOW
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------
> How low will we go? Check out Yahoo! Messenger's low PC-to-Phone call
> rates.
>
>
> ---------------------------------
> Find out what India is talking about on  - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get
> it NOW
>

------=_Part_24625_31517400.1158326256288--

From java-user-return-23383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 13:34:37 2006
Return-Path: <java-user-return-23383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8733 invoked from network); 15 Sep 2006 13:34:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 13:34:37 -0000
Received: (qmail 1060 invoked by uid 500); 15 Sep 2006 13:34:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1032 invoked by uid 500); 15 Sep 2006 13:34:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1013 invoked by uid 99); 15 Sep 2006 13:34:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 06:34:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mark.mueller@dasburo.com designates 195.21.27.254 as permitted sender)
Received: from [195.21.27.254] (HELO mail.dasburo.com) (195.21.27.254)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 06:34:15 -0700
Received: from DasBuro.Com ([192.111.127.158])
	by mail.dasburo.com (8.12.7/8.12.7) with ESMTP id k8FDXjYN029433
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 15:33:45 +0200
Received: from hibernia (hibernia.intern.dasburo.com [192.111.127.106])
	by DasBuro.Com (8.12.10/8.12.10) with ESMTP id k8FDXjEu008541
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 15:33:45 +0200
From: =?iso-8859-1?Q?Mark_M=FCller?= <mark.mueller@dasburo.com>
To: <java-user@lucene.apache.org>
Subject: AW: Lucene Suggest ?
Date: Fri, 15 Sep 2006 15:31:57 +0200
Message-ID: <005601c6d8cb$51331220$6a7f6fc0@amdraht.intern.dasburo.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcbYv+sFnEYrrRg1SgKZuL1InNFN0QACDLaA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
In-Reply-To: <1158322169.4818.0.camel@localhost>
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (mail.dasburo.com [192.111.127.149]); Fri, 15 Sep 2006 15:33:45 +0200 (CEST)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thx for the pointer to your code. It's a smart approach even it not =
related
to Lucene only.

I guess terms will only be took into the corpus when the search found
results at least once for that term (and removed if no more results were
found).

Persisting the corpus has to be done, but should be no problem.

It should be possible to weight the terms by number of searches or =
number of
results too i guess.

If i dont find a way to ask the lucene index directly or if that gives a
performance problem, i will give your Trie a try...

Mark

-----Urspr=FCngliche Nachricht-----
Von: karl wettin [mailto:karl.wettin@gmail.com]=20
Gesendet: Freitag, 15. September 2006 14:09
An: java-user@lucene.apache.org
Betreff: Re: Lucene Suggest ?

On Fri, 2006-09-15 at 14:02 +0200, Mark M=FCller wrote:
> Hi all,
> I like to know if it is possible to let make Lucene Suggestions while=20
> the user types in the search query.
>=20
> Like in Google Suggest: =
http://www.google.com/webhp?complete=3D1&hl=3Den
>=20
> I just need to send with AJAX the part of the word the user already=20
> typed and get back the list of matching terms. Even better would be if =

> the number of occurrences would be show at well.
>=20
> Is there a function for that in the Lucene API ?


http://issues.apache.org/jira/browse/LUCENE-625


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 13:38:03 2006
Return-Path: <java-user-return-23384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9354 invoked from network); 15 Sep 2006 13:38:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 13:38:03 -0000
Received: (qmail 5718 invoked by uid 500); 15 Sep 2006 13:37:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5632 invoked by uid 500); 15 Sep 2006 13:37:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5621 invoked by uid 99); 15 Sep 2006 13:37:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 06:37:55 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [202.86.4.29] (HELO web7610.mail.in.yahoo.com) (202.86.4.29)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 15 Sep 2006 06:37:44 -0700
Received: (qmail 5912 invoked by uid 60001); 15 Sep 2006 13:37:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Si0vFqSHnORvucqdejJk02x/h7p3EkB8jFMBeMJ+XarnTxpSV5tJvB5Jiko7CwjBGEY4y4+rZZOypLDqeIUdZinktPK9umsVlQ80r7ldgi6dgbkY2fqQ8lxG14c5v6NHrmVBpg1Au5uiH1FaKo6+2FRmijPSw7CvsHHbe+TdLc8=  ;
Message-ID: <20060915133714.5910.qmail@web7610.mail.in.yahoo.com>
Received: from [220.225.42.205] by web7610.mail.in.yahoo.com via HTTP; Fri, 15 Sep 2006 14:37:14 BST
Date: Fri, 15 Sep 2006 14:37:14 +0100 (BST)
From: Mukesh Bhardwaj <sbmukesh@yahoo.co.in>
Subject: How to get field name when a term hit  documents
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-24201643-1158327434=:5245"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-24201643-1158327434=:5245
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

HI,
  I'm new in the lucene and currently I'm performing search in all the fields.I'm only specifying the term which i want to search so,  I would like to know how to get field name related to this term in all the documents that hit by searcher.
   pls suggest a solution for same.
  Thanks in advance
  Mukesh
   

 				
---------------------------------
 Find out what India is talking about on  - Yahoo! Answers India 
 Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
--0-24201643-1158327434=:5245--

From java-user-return-23385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 14:34:03 2006
Return-Path: <java-user-return-23385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26875 invoked from network); 15 Sep 2006 14:34:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 14:34:03 -0000
Received: (qmail 46286 invoked by uid 500); 15 Sep 2006 14:33:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46261 invoked by uid 500); 15 Sep 2006 14:33:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46250 invoked by uid 99); 15 Sep 2006 14:33:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 07:33:55 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of wataylor@as-st.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 07:33:42 -0700
Received: from [192.168.6.223] (d-65-175-205-96.metrocast.net [65.175.205.96])
	by smtp-relay.omnis.com (Postfix) with ESMTP id C4D1A1880A15
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 07:33:14 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v624)
In-Reply-To: <004601c6d8be$c4932000$6a7f6fc0@amdraht.intern.dasburo.com>
References: <004601c6d8be$c4932000$6a7f6fc0@amdraht.intern.dasburo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <2f027e64bcdf45e092060cb4022e5f52@as-st.com>
Content-Transfer-Encoding: quoted-printable
From: Bill Taylor <wataylor@as-st.com>
Subject: Re: Lucene Suggest ?
Date: Fri, 15 Sep 2006 11:07:17 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.624)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Depending on the size of your index, you might want to put it in the=20
downloaded page.  I have a small index of maybe 1,500 words so I have=20
the word list in the page.  this is simpler than ajax, but will not=20
work for big indexes, of course.

On Sep 15, 2006, at 8:02 AM, Mark M=FCller wrote:

> Hi all,
> I like to know if it is possible to let make Lucene Suggestions while=20=

> the
> user types in the search query.
>
> Like in Google Suggest: http://www.google.com/webhp?complete=3D1&hl=3Den=

>
> I just need to send with AJAX the part of the word the user already=20
> typed
> and get back the list of matching terms. Even better would be if the=20=

> number
> of occurrences would be show at well.
>
> Is there a function for that in the Lucene API ?
>
> Thanks in Advance,
> Mark
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 14:55:36 2006
Return-Path: <java-user-return-23386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36808 invoked from network); 15 Sep 2006 14:55:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 14:55:36 -0000
Received: (qmail 8287 invoked by uid 500); 15 Sep 2006 14:55:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8244 invoked by uid 500); 15 Sep 2006 14:55:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8233 invoked by uid 99); 15 Sep 2006 14:55:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 07:55:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of supriya.shyamal@artnology.com designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 07:55:16 -0700
Received: (qmail 14785 invoked from network); 15 Sep 2006 14:54:17 -0000
Received: from unknown (HELO [192.168.100.19]) ([pbs]111933@[195.143.217.178])
          (envelope-sender <supriya.shyamal@artnology.com>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <java-user@lucene.apache.org>; 15 Sep 2006 14:54:17 -0000
Message-ID: <450ABE87.105@artnology.com>
Date: Fri, 15 Sep 2006 16:53:59 +0200
From: Supriya Kumar Shyamal <supriya.shyamal@artnology.com>
User-Agent: Thunderbird 1.5.0.5 (Windows/20060719)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Using wildcard at the start of teh token
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello All,

I have a question .. how to use wildcard for searching at the start of 
the query string.

For Ex. I want to search on title with query value "*technology", when I 
try to create a lucene query by using QueryParser it thorws the 
excpetion  ..
Lexical error at line 1, column 1.  Encountered: "*" (42), after : ""

But the other way around is fine like the query "technology*" is a valid 
query, just eager to know something like "Like" search in Oracle SQL query.

Kind Regards,
supriya

-- 
Mit freundlichen Gren / Regards
 
Supriya Kumar Shyamal

Software Developer
tel +49 (30) 443 50 99 -22
fax +49 (30) 443 50 99 -99
email supriya.shyamal@artnology.com
___________________________
artnology GmbH
Milastr. 4
10437 Berlin
___________________________

http://www.artnology.com
__________________________________________________________________________

 News / Aktuelle Projekte:
 * artnology gewinnt Ausschreibung des Bundesministeriums des Innern:
   Softwarelsung fr die Verwaltung der Sammlung zeitgenssischer
   Kunstwerke zur kulturellen Reprsentation des Bundes.

 Projektreferenzen:
 * Globaler eShop und Corporate-Site fr Springer: www.springeronline.com
 * E-Detailing-Portal fr Novartis: www.interaktiv.novartis.de
 * Service-Center-Plattform fr Biogen: www.ms-life.de
 * eCRM-System fr Grnenthal: www.gruenenthal.com

___________________________________________________________________________ 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 15:25:27 2006
Return-Path: <java-user-return-23387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47040 invoked from network); 15 Sep 2006 15:25:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 15:25:27 -0000
Received: (qmail 80119 invoked by uid 500); 15 Sep 2006 15:25:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80101 invoked by uid 500); 15 Sep 2006 15:25:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80090 invoked by uid 99); 15 Sep 2006 15:25:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 08:25:18 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 81.228.11.98 is neither permitted nor denied by domain of karl.wettin@gmail.com)
Received: from [81.228.11.98] (HELO pne-smtpout1-sn1.fre.skanova.net) (81.228.11.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 08:25:08 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn1.fre.skanova.net (7.2.076)
        id 450802890009CF01 for java-user@lucene.apache.org; Fri, 15 Sep 2006 17:24:11 +0200
Subject: Re: AW: Lucene Suggest ?
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <005601c6d8cb$51331220$6a7f6fc0@amdraht.intern.dasburo.com>
References: <005601c6d8cb$51331220$6a7f6fc0@amdraht.intern.dasburo.com>
Content-Type: text/plain; charset=ISO-8859-1
Organization: snigel heavy industries
Date: Fri, 15 Sep 2006 17:24:05 +0200
Message-Id: <1158333846.4818.13.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Fri, 2006-09-15 at 15:31 +0200, Mark Mller wrote:
> I guess terms will only be took into the corpus when the search found
> results at least once for that term (and removed if no more results were
> found).
> 
> Persisting the corpus has to be done, but should be no problem.

I use ObjectIn&OutputStream. 

> It should be possible to weight the terms by number of searches or number of
> results too i guess.

The code refered to does that.

The thing is that is handles phrases and not just terms. Just as Google
suggest. But if you only have a couple of queries a day this is code
might not be for you.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 17:15:44 2006
Return-Path: <java-user-return-23388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80115 invoked from network); 15 Sep 2006 17:15:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 17:15:44 -0000
Received: (qmail 37343 invoked by uid 500); 15 Sep 2006 17:15:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37322 invoked by uid 500); 15 Sep 2006 17:15:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37311 invoked by uid 99); 15 Sep 2006 17:15:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 10:15:34 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 10:15:22 -0700
Received: from mailhub.lss.emc.com (nirah.lss.emc.com [10.254.144.13])
	by mexforward.lss.emc.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id k8FHDUiT024706
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 13:13:30 -0400 (EDT)
Received: from corpussmtp3.corp.emc.com (corpussmtp3.corp.emc.com [10.254.64.53])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8FHCORt001372
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 13:13:29 -0400 (EDT)
From: Lee_Gary@emc.com
Received: from CORPUSMX40B.corp.emc.com ([10.254.64.48]) by corpussmtp3.corp.emc.com with Microsoft SMTPSVC(6.0.3790.0);
	 Fri, 15 Sep 2006 13:13:17 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Using wildcard at the start of teh token
Date: Fri, 15 Sep 2006 13:13:16 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D044D359D@CORPUSMX40B.corp.emc.com>
In-Reply-To: <450ABE87.105@artnology.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Using wildcard at the start of teh token
Thread-Index: AcbY1yiy6IS0ntywQWq2SVGs+O8xIAAEiIsQ
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 15 Sep 2006 17:13:17.0009 (UTC) FILETIME=[3C2BD410:01C6D8EA]
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.4.0.264935, Antispam-Data: 2006.9.15.95442
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CP_URI_IN_BODY 0, __CT 0, __CTE 0, __CTYPE_CHARSET_QUOTED 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __IMS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0'
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe Lucene's QueryParser doesn't allow you to specify a leading =
wildcard. However, the WildcardQuery class does allow leading wildcard =
queries, such as "*technology". This is probably the easiest way to get =
around this.

You do have other options that can specify a wildcard search, such as =
using the RegexQuery or SpanRegexQuery classes, which can specify a =
leading wildcard query if you transform the wildcard notation to a =
regular expression notation. However, be aware that if your index is =
large, you can run into the TooManyClauses exception. There are many =
tricks you can do to get around this, search the forum for =
TooManyClauses to see what others have done.

Hope this helps!

Regards,
Gary

-----Original Message-----
From: Supriya Kumar Shyamal [mailto:supriya.shyamal@artnology.com]=20
Sent: Friday, September 15, 2006 07:54 AM
To: java-user@lucene.apache.org
Subject: Using wildcard at the start of teh token

Hello All,

I have a question .. how to use wildcard for searching at the start of =
the query string.

For Ex. I want to search on title with query value "*technology", when I =
try to create a lucene query by using QueryParser it thorws the =
excpetion  ..
Lexical error at line 1, column 1.  Encountered: "*" (42), after : ""

But the other way around is fine like the query "technology*" is a valid =
query, just eager to know something like "Like" search in Oracle SQL =
query.

Kind Regards,
supriya

--
Mit freundlichen Gr=FC=DFen / Regards
=20
Supriya Kumar Shyamal

Software Developer
tel +49 (30) 443 50 99 -22
fax +49 (30) 443 50 99 -99
email supriya.shyamal@artnology.com
___________________________
artnology GmbH
Milastr. 4
10437 Berlin
___________________________

http://www.artnology.com
_________________________________________________________________________=
_

 News / Aktuelle Projekte:
 * artnology gewinnt Ausschreibung des Bundesministeriums des Innern:
   Softwarel=F6sung f=FCr die Verwaltung der Sammlung zeitgen=F6ssischer
   Kunstwerke zur kulturellen Repr=E4sentation des Bundes.

 Projektreferenzen:
 * Globaler eShop und Corporate-Site f=FCr Springer: =
www.springeronline.com
 * E-Detailing-Portal f=FCr Novartis: www.interaktiv.novartis.de
 * Service-Center-Plattform f=FCr Biogen: www.ms-life.de
 * eCRM-System f=FCr Gr=FCnenthal: www.gruenenthal.com

_________________________________________________________________________=
__=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 17:19:15 2006
Return-Path: <java-user-return-23389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81189 invoked from network); 15 Sep 2006 17:19:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 17:19:15 -0000
Received: (qmail 49825 invoked by uid 500); 15 Sep 2006 17:19:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49797 invoked by uid 500); 15 Sep 2006 17:19:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49785 invoked by uid 99); 15 Sep 2006 17:19:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 10:19:02 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id C306A18886; Fri, 15 Sep 2006 17:18:10 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 70CE918885
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 17:18:07 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: Merging "orphaned" segments into a composite index
Date: Fri, 15 Sep 2006 18:17:52 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcbYv+sFnEYrrRg1SgKZuL1InNFN0QACDLaAAAeDyvA=
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0197_01C6D8F3.42160630"
In-Reply-To: <005601c6d8cb$51331220$6a7f6fc0@amdraht.intern.dasburo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Message-Id: <20060915171807.70CE918885@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0197_01C6D8F3.42160630
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I have had some badly behaved Lucene indexing software crash on me several
times and have been left with an index directory with lots of non-composite
files in, when all I ought to be getting is the compound files .cfs  files
plus deletable  and segments. 

Re-indexing everything doesn't bear thinking about. I was wondering if I'd
be able to merge these non-compound files into the composite index, and if
so... how? [I appreciate that there is some risk in doing this, bearing in
mind software crashed when the orphaned index files were created.]

If you'll excuse the Perl gibber, this gives a sense of what's in the index
directory:

$ find . | perl -n -e 'if (/\..+.(\..+)/) {print "$1\n"}' | sort | uniq -c
     15 .cfs
      4 .f0
     40 .fdt
     36 .fdx
     40 .fnm
     16 .frq
      1 .log
     16 .prx
     15 .tii
     16 .tis
      5 .tmp

Here's my thinking:

(1) I stop my indexer
(2) I create a temp directory and move everything other than the .cfs files,
deletable and segments into it
(3) I open an IndexWriter to my composite index and use
IndexWriter.addIndexes(Directory[]) on the temp directory

Assuming the files aren't corrupt, should that do the job to create a nicely
merged composite index, or is this a foolish undertaking?

------=_NextPart_000_0197_01C6D8F3.42160630
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDkxNTE3
MTc1MlowIwYJKoZIhvcNAQkEMRYEFLOVOyBRqoj398MkKYhudNw6x5dPMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAGB3maK1+tc9VA9tMf9by+2WPqTsa5Ml6sq7
0jwPPB5Zn2DBenq1H9Vbju+0cJn7hjFywYyCzAW58OBmhAUrKorqptICnycHbfA1jV1mMEhlWvnJ
JSAqDz0Xb3lnaPMem5Yi5izBGhfWnNvQRC9H8cTmMMFsNY8xleMOR6LbDPnCBbXsocJCYK9zROni
OEOuq9rB704zz1j1/guuAWsw1xzlbyFwbvOUwCfd0ETKXYyxxUz++iZlIbDjY2Tdk5CCH6Clk/fB
mz0y/1quAZghP93s2JyFje85CVx6dUxEDB0WOBnkfOCjxBuXL7tMGMXhhIDQdG6tIhIZhj73JrqT
LPEAAAAAAAA=

------=_NextPart_000_0197_01C6D8F3.42160630--


From java-user-return-23390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 17:33:22 2006
Return-Path: <java-user-return-23390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86575 invoked from network); 15 Sep 2006 17:33:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 17:33:21 -0000
Received: (qmail 77426 invoked by uid 500); 15 Sep 2006 17:33:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77401 invoked by uid 500); 15 Sep 2006 17:33:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77378 invoked by uid 99); 15 Sep 2006 17:33:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 10:33:06 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 10:32:55 -0700
Received: by py-out-1112.google.com with SMTP id w49so3493580pyg
        for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 10:31:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kWw1vRsDD1s5dazyilfNmMPFLS7b9MuDSnKE3cRdN0G5akGFiwLltim887gxadGAwCczdGWOOQOCNh863DVmPAUEwhFiPt8/pPw9z+PcKVp6JO7fNWbdfVPowvq4LuHSMt0OCTUm0MTAI0JMGiDEbMkWd2eWNvlm7TkMo+7EV0Y=
Received: by 10.35.115.18 with SMTP id s18mr17684700pym;
        Fri, 15 Sep 2006 10:31:32 -0700 (PDT)
Received: by 10.35.9.18 with HTTP; Fri, 15 Sep 2006 10:31:32 -0700 (PDT)
Message-ID: <359a92830609151031r7625aa11udbdbd4f1901cb388@mail.gmail.com>
Date: Fri, 15 Sep 2006 13:31:32 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using wildcard at the start of teh token
In-Reply-To: <450ABE87.105@artnology.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27970_9672176.1158341492258"
References: <450ABE87.105@artnology.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_27970_9672176.1158341492258
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I suspect guarantee that if you have a large index (actually, not that
large), you'll find yourself dealing with TooManyClauses exceptions. Look a=
t
the thread in this list titled "I just don't get wildcards at all" for a
discussion of wildcards and applicable strategies. "The guys" explained a
lot...

Erick

On 9/15/06, Supriya Kumar Shyamal <supriya.shyamal@artnology.com> wrote:
>
> Hello All,
>
> I have a question .. how to use wildcard for searching at the start of
> the query string.
>
> For Ex. I want to search on title with query value "*technology", when I
> try to create a lucene query by using QueryParser it thorws the
> excpetion  ..
> Lexical error at line 1, column 1.  Encountered: "*" (42), after : ""
>
> But the other way around is fine like the query "technology*" is a valid
> query, just eager to know something like "Like" search in Oracle SQL
> query.
>
> Kind Regards,
> supriya
>
> --
> Mit freundlichen Gr=FC=DFen / Regards
>
> Supriya Kumar Shyamal
>
> Software Developer
> tel +49 (30) 443 50 99 -22
> fax +49 (30) 443 50 99 -99
> email supriya.shyamal@artnology.com
> ___________________________
> artnology GmbH
> Milastr. 4
> 10437 Berlin
> ___________________________
>
> http://www.artnology.com
> _________________________________________________________________________=
_
>
> News / Aktuelle Projekte:
> * artnology gewinnt Ausschreibung des Bundesministeriums des Innern:
>    Softwarel=F6sung f=FCr die Verwaltung der Sammlung zeitgen=F6ssischer
>    Kunstwerke zur kulturellen Repr=E4sentation des Bundes.
>
> Projektreferenzen:
> * Globaler eShop und Corporate-Site f=FCr Springer: www.springeronline.co=
m
> * E-Detailing-Portal f=FCr Novartis: www.interaktiv.novartis.de
> * Service-Center-Plattform f=FCr Biogen: www.ms-life.de
> * eCRM-System f=FCr Gr=FCnenthal: www.gruenenthal.com
>
>
> _________________________________________________________________________=
__
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_27970_9672176.1158341492258--

From java-user-return-23391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 19:46:24 2006
Return-Path: <java-user-return-23391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26165 invoked from network); 15 Sep 2006 19:46:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 19:46:24 -0000
Received: (qmail 22822 invoked by uid 500); 15 Sep 2006 19:46:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22783 invoked by uid 500); 15 Sep 2006 19:46:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22772 invoked by uid 99); 15 Sep 2006 19:46:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 12:46:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.25.178.46] (HELO mx03.lexisnexis.com) (207.25.178.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 12:46:06 -0700
Received: from mailgate2.lexis-nexis.com ([138.12.44.45])
  by mx03.lexisnexis.com with ESMTP; 15 Sep 2006 15:44:43 -0400
Received: from lngdayexcp001.legal.regn.net (smtpgate.lexis-nexis.com [10.113.1.1])
	by mailgate2.lexis-nexis.com (8.12.11/8.12.11) with ESMTP id k8FJibGu017432;
	Fri, 15 Sep 2006 15:44:43 -0400
Received: from LNGDAYEXCP01VA.legal.regn.net ([10.113.1.3]) by lngdayexcp001.legal.regn.net with Microsoft SMTPSVC(6.0.3790.2499);
	 Fri, 15 Sep 2006 15:44:43 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: ParallelMultiSearcher and docFreq
Date: Fri, 15 Sep 2006 15:44:32 -0400
Message-ID: <6B7B28B775F23D45B175CD4A301CFC6304B88195@LNGDAYEXCP01VB.legal.regn.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ParallelMultiSearcher and docFreq
Thread-Index: AcbYxjb14dkZn++uRoa68+ewKJetAwAOHJ5A
From: "Haines, Ronald C. \(LNG-DAY\)" <Ronald.Haines@lexisnexis.com>
To: <java-user@lucene.apache.org>, "Yura Smolsky" <info@altervisionmedia.com>
X-OriginalArrivalTime: 15 Sep 2006 19:44:43.0088 (UTC) FILETIME=[63E57500:01C6D8FF]
X-Scanned-By: MIMEDefang 2.51 on 138.12.44.45
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I understand...because I've experienced it.  I think the answer is to
'parallelize' the docFreq process...and or try to make use of the
docFreq(Terms[]).  By passing an Array of Terms, you can avoid the 'call
per Term' per remote and just make a single docFreq call per remote.

You might have to extend the ParallelMultiSearcher and create a threaded
docFreq method.

-----Original Message-----
From: Yura Smolsky [mailto:info@altervisionmedia.com]=20
Sent: Friday, September 15, 2006 8:54 AM
To: java-user@lucene.apache.org
Subject: Re: ParallelMultiSearcher and docFreq

Hello, Yura.

Does anyone understand my email? Maybe my English is too bad...

Thanks.

YS> Here is the situation. I have ParallelMultiSearcher object
YS> initializated with two or more RemoteSearchable's.

YS> I run PrefixQuery search on some keyword field, say "link". When I
run
YS> search starting just with letter "w" (link:w*) then I should have
like 5k
YS> results.

YS> As I know when I perform search on ParallelMultiSearcher query is
YS> being rewritten at first. So my prefix search is being rewritten
with
YS> "link:wordlist.com link:web.com and so on about 2-3k of terms". Then
as I
YS> understand from debugging for each such term
YS> ParallelMultiSearcher performs docFreq
YS> requests to RemoteSearchables (2-3k calls). So we have many requests
YS> to docFreq method and these operations take like 95% of all search
time.

YS> I see that we have docFreqs method for RemoteSearchable, but it has
YS> not being used.

YS> Is there any way to get rid of those multiple calls of docFreq?



--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 20:13:37 2006
Return-Path: <java-user-return-23392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33610 invoked from network); 15 Sep 2006 20:13:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 20:13:36 -0000
Received: (qmail 59823 invoked by uid 500); 15 Sep 2006 20:13:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59799 invoked by uid 500); 15 Sep 2006 20:13:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59788 invoked by uid 99); 15 Sep 2006 20:13:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 13:13:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.29.74.74] (HELO sh58.surpasshosting.com) (72.29.74.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 13:13:15 -0700
Received: from [81.25.33.76] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GOJCi-00066j-4n
	for java-user@lucene.apache.org; Fri, 15 Sep 2006 15:18:24 -0400
Date: Fri, 15 Sep 2006 23:11:19 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <1857215176.20060915231119@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: Re[2]: ParallelMultiSearcher and docFreq
In-Reply-To: <6B7B28B775F23D45B175CD4A301CFC6304B88195@LNGDAYEXCP01VB.legal.regn.net>
References: <6B7B28B775F23D45B175CD4A301CFC6304B88195@LNGDAYEXCP01VB.legal.regn.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Ronald.

What I have found that nothing except createWeight uses that
docFreqs(Term[]) method...
Maybe I need to parallelize it... But I dont understand something.

When does Multisearcher.createWeight() is being called, b/c only this method
used docFreqs and this method creates HashMap of docFreqs of terms? Is
this method is being user for rewrite of query inside of
ParallelMultiSearher?

Also this method calls docFreqs of RemoteSearchables, I should be
receiving calls of docFreqs(Term[]) to the RemoteSearchable objects,
but I do not. Can somebody explain this?

And from which place am I receive those multiple calls of docFreq
method?

Thanks.

HRCLD> I understand...because I've experienced it.  I think the answer is to
HRCLD> 'parallelize' the docFreq process...and or try to make use of the
HRCLD> docFreq(Terms[]).  By passing an Array of Terms, you can avoid the 'call
HRCLD> per Term' per remote and just make a single docFreq call per remote.

HRCLD> You might have to extend the ParallelMultiSearcher and create a threaded
HRCLD> docFreq method.


--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 20:57:04 2006
Return-Path: <java-user-return-23393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45144 invoked from network); 15 Sep 2006 20:57:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 20:57:04 -0000
Received: (qmail 52398 invoked by uid 500); 15 Sep 2006 20:56:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52105 invoked by uid 500); 15 Sep 2006 20:56:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52094 invoked by uid 99); 15 Sep 2006 20:56:57 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 13:56:57 -0700
Received: by py-out-1112.google.com with SMTP id w49so3552666pyg
        for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 13:55:36 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=Lg4PeqrCMu5kSI1P2QUWtz5IfqaIG6M4Y6yNxknDvkVPZYYPnldUma1bF6JUlBMVxJP43JE7/UGUwXOtKnivDde2jh8+gwh5idBZ/iLhFfZTNRSR97Z6YzkiTu3k4SFJEhs5ErsATEsveofM33fa988CCPiadasSQaVjNQnBvbA=
Received: by 10.35.82.4 with SMTP id j4mr18032211pyl;
        Fri, 15 Sep 2006 13:55:36 -0700 (PDT)
Received: by 10.35.129.12 with HTTP; Fri, 15 Sep 2006 13:55:36 -0700 (PDT)
Message-ID: <c68e39170609151355s113aa0e2s30c2071c5531a678@mail.gmail.com>
Date: Fri, 15 Sep 2006 16:55:36 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: apachecon
In-Reply-To: <Pine.LNX.4.58.0608230112070.18339@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <F737CD18A0708B49857E49809BC7ED762DF620@capitola.esseff.org>
	 <Pine.LNX.4.58.0608230112070.18339@hal.rescomp.berkeley.edu>
X-Google-Sender-Auth: fc63ecbfa39aadea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 8/23/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> : I was wondering if there have been any other self/semi-organized things
> : around Lucene in the past, like a BOF?
>
> This will be my first ApacheCon, so i can't speak to what's happened in
> the past -- but I'm certainly up for putting some faces to some names.

I'll be attending ApacheCon also, in case any Lucene fans want to get together.


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 21:58:41 2006
Return-Path: <java-user-return-23394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59696 invoked from network); 15 Sep 2006 21:58:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 21:58:41 -0000
Received: (qmail 44547 invoked by uid 500); 15 Sep 2006 21:58:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44399 invoked by uid 500); 15 Sep 2006 21:58:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44384 invoked by uid 99); 15 Sep 2006 21:58:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 14:58:33 -0700
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=SPF_HELO_SOFTFAIL,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [198.144.201.51] (HELO esseff.org) (198.144.201.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 14:58:23 -0700
Received: from localhost (localhost [127.0.0.1])
	by esseff.org (Postfix) with ESMTP id 362A8FAA
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 14:56:29 -0700 (PDT)
X-Quarantine-ID: <82vBVB9WDyei>
X-Virus-Scanned: amavisd-new at esseff.org
Received: from esseff.org ([127.0.0.1])
	by localhost (esseff.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 82vBVB9WDyei for <java-user@lucene.apache.org>;
	Fri, 15 Sep 2006 14:56:28 -0700 (PDT)
Received: from professorville.windows.esseff.org (professorville.windows.esseff.org [10.0.1.16])
	by esseff.org (Postfix) with ESMTP id E58FCF9C
	for <java-user@lucene.apache.org>; Fri, 15 Sep 2006 14:56:27 -0700 (PDT)
Subject: RE: apachecon
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-class: urn:content-classes:message
Date: Fri, 15 Sep 2006 14:54:32 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <392521EA2692A2418DF48C331E61E325212A@professorville.windows.esseff.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: apachecon
Thread-Index: AcbZCTxgo8NvjRbWSl6gAles+/a8FwAB8MQQ
From: "Steven Parkes" <steven_parkes@esseff.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I stopped procrastinating on this today.

I signed up for a BOF slot at 8 on Thursday. Hopefully not against other
stuff of interest.

I've not done this before, but the BOF slots were filling.

>From my perspective, it'd be great to have people from any of the
subprojects. Plenty of cross fertilization opportunities.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 15 22:55:07 2006
Return-Path: <java-user-return-23395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70379 invoked from network); 15 Sep 2006 22:55:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2006 22:55:07 -0000
Received: (qmail 9892 invoked by uid 500); 15 Sep 2006 22:55:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9864 invoked by uid 500); 15 Sep 2006 22:55:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9853 invoked by uid 99); 15 Sep 2006 22:55:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 15:55:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.81.148.13] (HELO smtp.isoco.com) (62.81.148.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 15 Sep 2006 15:54:49 -0700
Received: by smtp.isoco.com (Postfix-smc, from userid 65534)
	id 0C67D108CB2; Sat, 16 Sep 2006 00:54:55 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on 
	kilimanjaro.isoco.net
X-Spam-Level: 
Received: from intranet.isoco.net (vinson.isoco.net [172.16.0.45])
	by smtp.isoco.com (Postfix-smc) with ESMTP id 67BEA108C99
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 00:54:54 +0200 (CEST)
Received: from [192.168.1.2] (unknown [87.217.70.52])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by intranet.isoco.net (Postfix) with ESMTP id 92BFF4DD89
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 00:50:19 +0200 (CEST)
Message-ID: <450B2E41.60508@isoco.com>
Date: Sat, 16 Sep 2006 00:50:41 +0200
From: Luis Rodrigo Aguado <lrodrigo@isoco.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Real world app advice
Content-Type: multipart/alternative;
 boundary="------------040907020307080801090505"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.9 required=5.0 tests=AWL,BAYES_00,HTML_30_40,
	HTML_MESSAGE,HTML_TITLE_EMPTY autolearn=ham version=3.1.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------040907020307080801090505
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

    Hi all,

    I have used Lucene so far for solving toy exaples and making 
tutorial examples, but now I am facing my first real-world high-quality 
application.

    I need to manage around 50.000 docs, ranging from a few lines to a 
couple pages. I also need to handle lemmas and synonyms, and here is 
where my main doubts arise. I have considered two options: adding the 
synonyms and lemmas to the indexes and keeping the queries simple, or 
expanding the queries with these lemmas and synonyms and keeping the 
indexes simple. Is one of the two preferrable over the other? What are 
the benefits of each of them?

    Thanks in advance!


--------------040907020307080801090505--

From java-user-return-23396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 08:33:15 2006
Return-Path: <java-user-return-23396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69563 invoked from network); 16 Sep 2006 08:33:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 08:33:15 -0000
Received: (qmail 18326 invoked by uid 500); 16 Sep 2006 08:33:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18007 invoked by uid 500); 16 Sep 2006 08:33:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17996 invoked by uid 99); 16 Sep 2006 08:33:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 01:33:05 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 0A67118886; Sat, 16 Sep 2006 08:32:13 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id C45F218885
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 08:32:06 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Merging "orphaned" segments into a composite index
Date: Sat, 16 Sep 2006 09:31:58 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcbYv+sFnEYrrRg1SgKZuL1InNFN0QACDLaAAAeDyvAAILs6kA==
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0074_01C6D972.F48F9EF0"
In-Reply-To: <20060915171807.70CE918885@mail.seseit.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Message-Id: <20060916083206.C45F218885@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0074_01C6D972.F48F9EF0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

It looks like my segments file only contains information for the .cfs
segments. So this approach doesn't work. I was wondering if I could use
IndexWriter.addIndexes(IndexReader[]) instead. Can I open an IndexReader
without a corresponding segments file? In notice that IndexReader.open(...)
always operates on directories, which I guess means that it uses the
segments file. 

Is a segments file something that can be easily bodged for a bunch of index
files which aren't referenced by the segments file?

This probably all seems like a foolish errand, but my two indexes are > 300G
each and regenerating them is something I'd like to avoid.

-----Original Message-----
From: Rob Staveley (Tom) [mailto:rstaveley@seseit.com] 
Sent: 15 September 2006 18:18
To: java-user@lucene.apache.org
Subject: Merging "orphaned" segments into a composite index

I have had some badly behaved Lucene indexing software crash on me several
times and have been left with an index directory with lots of non-composite
files in, when all I ought to be getting is the compound files .cfs  files
plus deletable  and segments. 

Re-indexing everything doesn't bear thinking about. I was wondering if I'd
be able to merge these non-compound files into the composite index, and if
so... how? [I appreciate that there is some risk in doing this, bearing in
mind software crashed when the orphaned index files were created.]

If you'll excuse the Perl gibber, this gives a sense of what's in the index
directory:

$ find . | perl -n -e 'if (/\..+.(\..+)/) {print "$1\n"}' | sort | uniq -c
     15 .cfs
      4 .f0
     40 .fdt
     36 .fdx
     40 .fnm
     16 .frq
      1 .log
     16 .prx
     15 .tii
     16 .tis
      5 .tmp

Here's my thinking:

(1) I stop my indexer
(2) I create a temp directory and move everything other than the .cfs files,
deletable and segments into it
(3) I open an IndexWriter to my composite index and use
IndexWriter.addIndexes(Directory[]) on the temp directory

Assuming the files aren't corrupt, should that do the job to create a nicely
merged composite index, or is this a foolish undertaking?

------=_NextPart_000_0074_01C6D972.F48F9EF0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDkxNjA4
MzE1N1owIwYJKoZIhvcNAQkEMRYEFBPp6VDBvguWPGB2BWDHIix9huoqMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAEPY5ifDU60zEJNz+CPX4WzrT9cQMJ9XWsuh
iSvNyKhf74U8SgOAzfDVyEoU3cMODhlT+tYIkPD3IBkzESFYzCf8DyNxnbsJCHdylTcm0aos8vXx
4R0IRRw1e+6pV5VyrUG93u1PMmdUUNakRArA6B7u1K+U/kTxzSWNnLcLPAQe+1qTMnmKjbPTfyl6
4GosR8y4ojgUsrE5eya5BvZmpHvpk+C3l2ofpFbKPwsMooJy4ccvNUFjzWtA6nu/DjUGrQrdgW0X
Kndng4PDRHya1krNUJejPJW1/FfzUDvKc3Pf+8jYyNWrFXqoJcJG1m5yyP8LClie8TWqCEvF86CU
JiEAAAAAAAA=

------=_NextPart_000_0074_01C6D972.F48F9EF0--


From java-user-return-23397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 13:09:17 2006
Return-Path: <java-user-return-23397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31770 invoked from network); 16 Sep 2006 13:09:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 13:09:17 -0000
Received: (qmail 62166 invoked by uid 500); 16 Sep 2006 13:09:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62131 invoked by uid 500); 16 Sep 2006 13:09:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62118 invoked by uid 99); 16 Sep 2006 13:09:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 06:09:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 06:09:09 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k8GD8tU03506
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 08:08:56 -0500
Message-ID: <450BF764.4000008@getopt.org>
Date: Sat, 16 Sep 2006 15:08:52 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Merging "orphaned" segments into a composite index
References: <20060916083206.C45F218885@mail.seseit.com>
In-Reply-To: <20060916083206.C45F218885@mail.seseit.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob Staveley (Tom) wrote:
> It looks like my segments file only contains information for the .cfs
> segments. So this approach doesn't work. I was wondering if I could use
> IndexWriter.addIndexes(IndexReader[]) instead. Can I open an IndexReader
> without a corresponding segments file? In notice that IndexReader.open(...)
> always operates on directories, which I guess means that it uses the
> segments file. 
>
> Is a segments file something that can be easily bodged for a bunch of index
> files which aren't referenced by the segments file?
>
> This probably all seems like a foolish errand, but my two indexes are > 300G
> each and regenerating them is something I'd like to avoid.
>   


1. do a backup first !!!

3. separate the segment data which is accounted for in the current 
"segments" file from all other data, and move that to a "healthy" index. 
Move the rest of the info to a "corrupt" index. Make sure that the 
"healthy" index is still healthy after this operation .. ;)

2. look at the source of 
org.apache.lucene.index.SegmentInfos.read(Directory) and 
write(Directory). You can see how the new "segments" file is created 
based on the SegmentInfo information. So, the only challenge is to 
create a bunch of SegmentInfo instances corresponding to your segment 
names in the "corrupt" index, and write them out to a new "segments" 
file according to this format.

3. you can easily discover the number of documents in each segment. This 
is equivalent to the length (in bytes) of each <segment_name>.f<number> 
file, which are storing lengthNorm info per document and per field.

Once you have written the new "segments" file, try to open it in 
IndexReader and iterate over documents to see if the index is basically 
"healthy". You could also do an IndexWriter.optimize() to make sure that 
all parts of the index correctly fit together.

A note: if a cfs file is corrupted, you can try to explode it into 
individual files - you can use 
org.apache.lucene.index.CompoundFileReader, iterate over file names, 
open streams and save them to regular files; and then do the trick with 
re-generating the segment file.

Then you may consider this "corrupt" index to be restored. Now you can 
merge your "healthy" and "restored" indexes using IndexWriter.addIndexes().

BTW. I strongly recommend doing frequent backups at different stages. 
Also, I recommend using BeanShell - you will save a lot of time you 
would otherwise spend on editing and compilation of these steps.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 14:22:02 2006
Return-Path: <java-user-return-23398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45727 invoked from network); 16 Sep 2006 14:22:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 14:22:02 -0000
Received: (qmail 7848 invoked by uid 500); 16 Sep 2006 14:21:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7808 invoked by uid 500); 16 Sep 2006 14:21:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7796 invoked by uid 99); 16 Sep 2006 14:21:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 07:21:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 07:21:55 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 181AA5B766; Sat, 16 Sep 2006 07:21:34 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id F35147F403
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 07:21:34 -0700 (PDT)
Date: Sat, 16 Sep 2006 07:21:34 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: best way to get specific results
In-Reply-To: <BED850C725E74F47A0F69CC0EE9AB64D044D2FC1@CORPUSMX40B.corp.emc.com>
Message-ID: <Pine.LNX.4.58.0609160720220.15778@hal.rescomp.berkeley.edu>
References: <BED850C725E74F47A0F69CC0EE9AB64D044D2FC1@CORPUSMX40B.corp.emc.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: IndexSearcher.search(Query, Filter) method). Im just wrapping a
: ConstantScoreQuery around the filter, and passing it into the
: IndexSearcher.search(Query) method to return a Hits object. Then Im
: asking for the 500th to 550th doc in the Hits object.
:
: Would such a case still cause Hits to rexecute over and over again on
: higher numbered results? Or is this different because Im using a

yes... it doesn't matter what type of query you use ... Hits is not a good
idea if you wnat results really far down the list.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 16:32:38 2006
Return-Path: <java-user-return-23399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63255 invoked from network); 16 Sep 2006 16:32:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 16:32:38 -0000
Received: (qmail 82825 invoked by uid 500); 16 Sep 2006 16:32:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82789 invoked by uid 500); 16 Sep 2006 16:32:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82778 invoked by uid 99); 16 Sep 2006 16:32:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 09:32:31 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 66.249.82.228 as permitted sender)
Received: from [66.249.82.228] (HELO wx-out-0506.google.com) (66.249.82.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 09:32:30 -0700
Received: by wx-out-0506.google.com with SMTP id s15so3176357wxc
        for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 09:32:09 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=WujcFdp/DJeTYnlsLoz7ipXhSNDnsiWaxTQ+7yyxkXcJZd3KG/ih7ooeQ6fSxJxbnEpM4+iprpMPO5lH4gQ/4zC6lbATT9GOBmc8y7f+Q3MFKE4GNvhlLgp+xDeV0TlS0B5OrKWHryDcy/cNbS27jmRS+AIfiKKijEw2tPiR0tg=
Received: by 10.90.90.3 with SMTP id n3mr4120338agb;
        Sat, 16 Sep 2006 09:32:09 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Sat, 16 Sep 2006 09:32:09 -0700 (PDT)
Message-ID: <1cbd6f830609160932l61a07b11n5471d71f35d567df@mail.gmail.com>
Date: Sat, 16 Sep 2006 12:32:09 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Example question
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_114249_7668615.1158424329111"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_114249_7668615.1158424329111
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

While looking at the example's Index and Search code, I have noticed in the
search, there is a :

out.println (doc.get ("path"));

I am not sure how is "path" is getting into the index. If you take a look at
the Index code, there is no mention of "path". My question are: what is this
path (I know it prints out the filesystem path)? Is this a reserved word, if
so, where can I get a list of reserved words? How can I list all hashes like
"path" ?

TIA

------=_Part_114249_7668615.1158424329111--

From java-user-return-23400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 18:32:47 2006
Return-Path: <java-user-return-23400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79302 invoked from network); 16 Sep 2006 18:32:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 18:32:46 -0000
Received: (qmail 60012 invoked by uid 500); 16 Sep 2006 18:32:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59521 invoked by uid 500); 16 Sep 2006 18:32:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59507 invoked by uid 99); 16 Sep 2006 18:32:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 11:32:39 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 11:32:38 -0700
Received: by py-out-1112.google.com with SMTP id w49so3882077pyg
        for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 11:32:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=OjJOlrK6vCEFU+Z4BlkXag8yIWt7M0kkTVo9ypY+GVywgs5290vOMJ91G3szPLVVi8hHfODP7pf7JAb4+9XMc22QIuft9BPSDxxtbEnLfsCatxW/gJUY99lo1H95N6MMylRSVGOvvQY4+twNnKEPskAoy8pb5OvqsfJE6tzIqo4=
Received: by 10.35.96.11 with SMTP id y11mr20555800pyl;
        Sat, 16 Sep 2006 11:32:17 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Sat, 16 Sep 2006 11:32:17 -0700 (PDT)
Message-ID: <359a92830609161132t409acf78p6fab2403c78ecc97@mail.gmail.com>
Date: Sat, 16 Sep 2006 14:32:17 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Real world app advice
In-Reply-To: <450B2E41.60508@isoco.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_39443_2911046.1158431537459"
References: <450B2E41.60508@isoco.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_39443_2911046.1158431537459
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Of course, the answer is "it depends" <G>..... This doesn't sound like a
very big index, so the first approach I'd make is making the index
complicated and keeping the queries as simple as possible. This assumes that
you really don't care about indexing speed/size and response time for
searches is what you do care about. And indexing speed won't be a problem
with this size index IMO.

Lucene in Action has an example of synonym injection into the indexing
stream that preserves proximity queries (SpanQueries) that you really want
to look at if you haven't already <G>....

Take care that the relationship between your indexing analyzer and your
search analyzers is correct, and get a copy of luke (google luke and lucene)
so you can examine your index and see how queries behave. Again, if you
haven't already I really, really recommend that you get a copy of Luke.

I think making the indexes more complex is actually lots less work, but I
don't have any real facts to back that up, FWIW.

Best
Erick

On 9/15/06, Luis Rodrigo Aguado <lrodrigo@isoco.com> wrote:
>
>     Hi all,
>
>     I have used Lucene so far for solving toy exaples and making
> tutorial examples, but now I am facing my first real-world high-quality
> application.
>
>     I need to manage around 50.000 docs, ranging from a few lines to a
> couple pages. I also need to handle lemmas and synonyms, and here is
> where my main doubts arise. I have considered two options: adding the
> synonyms and lemmas to the indexes and keeping the queries simple, or
> expanding the queries with these lemmas and synonyms and keeping the
> indexes simple. Is one of the two preferrable over the other? What are
> the benefits of each of them?
>
>     Thanks in advance!
>
>
>

------=_Part_39443_2911046.1158431537459--

From java-user-return-23401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 19:04:56 2006
Return-Path: <java-user-return-23401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82887 invoked from network); 16 Sep 2006 19:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 19:04:56 -0000
Received: (qmail 82900 invoked by uid 500); 16 Sep 2006 19:04:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82205 invoked by uid 500); 16 Sep 2006 19:04:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82194 invoked by uid 99); 16 Sep 2006 19:04:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 12:04:49 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_SORBS_SOCKS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of michael.imbeault@sympatico.ca designates 209.226.175.97 as permitted sender)
Received: from [209.226.175.97] (HELO tomts40-srv.bellnexxia.net) (209.226.175.97)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 12:04:47 -0700
Received: from [69.157.158.89] by tomts40-srv.bellnexxia.net
          (InterMail vM.5.01.06.13 201-253-122-130-113-20050324) with ESMTP
          id <20060916190425.NWJK24981.tomts40-srv.bellnexxia.net@[69.157.158.89]>
          for <java-user@lucene.apache.org>;
          Sat, 16 Sep 2006 15:04:25 -0400
Message-ID: <450C4ABB.8070101@sympatico.ca>
Date: Sat, 16 Sep 2006 15:04:27 -0400
From: Michael Imbeault <michael.imbeault@sympatico.ca>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Better Highligther fragmenter?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm now using the excellent Hightlighter from within Solr and it works 
very well; except that the generated fragments sometimes begins with 
bad-looking characters (the "." of the end of the previous phrase, or a 
), /10, etc). The same is true for the fragments ends. I looked at both 
the dev and user lucene list in search for a better Fragmenter class, 
but it seems that there's none right now (just the simple and null 
fragmenters).

To me the 'simple' fragmenter is a bit too simple; anyone had success in 
implementing a more intelligent one? I have no java coding experience, 
sadly, so I don't know where to begin on this one. I don't think fancy 
phrase recognition is needed; just a better boundary algorithm (avoid 
beginning / ending fragments with bad looking characters) and the 
addition of "..." at the end and beginning of the fragment if 
fragmentation of a phrase took place.

Also, is it required that the highlighted field is 'stored'? I'm pretty 
sure it is, but just want confirmation.

Thanks,

-- 
Michael Imbeault
CHUL Research Center (CHUQ)
2705 boul. Laurier
Ste-Foy, QC, Canada, G1V 4G2
Tel: (418) 654-2705, Fax: (418) 654-2212


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 19:07:49 2006
Return-Path: <java-user-return-23402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83081 invoked from network); 16 Sep 2006 19:07:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 19:07:49 -0000
Received: (qmail 84714 invoked by uid 500); 16 Sep 2006 19:07:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84400 invoked by uid 500); 16 Sep 2006 19:07:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84389 invoked by uid 99); 16 Sep 2006 19:07:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 12:07:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 12:07:40 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id E1B4C18886; Sat, 16 Sep 2006 19:07:18 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 499F918885
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 19:07:13 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Merging "orphaned" segments into a composite index
Date: Sat, 16 Sep 2006 20:07:07 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcbZkVEOyaWo0E9aRPufyh5w0NXAjwALbubA
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0104_01C6D9CB.AF33BDB0"
In-Reply-To: <450BF764.4000008@getopt.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Message-Id: <20060916190713.499F918885@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0104_01C6D9CB.AF33BDB0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Thanks for the advice, Andrzej, including using BeanShell for this.
SegmentInfos and CompoundFileReader here I come.

-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org] 
Sent: 16 September 2006 14:09
To: java-user@lucene.apache.org
Subject: Re: Merging "orphaned" segments into a composite index

Rob Staveley (Tom) wrote:
> It looks like my segments file only contains information for the .cfs 
> segments. So this approach doesn't work. I was wondering if I could 
> use
> IndexWriter.addIndexes(IndexReader[]) instead. Can I open an 
> IndexReader without a corresponding segments file? In notice that 
> IndexReader.open(...) always operates on directories, which I guess 
> means that it uses the segments file.
>
> Is a segments file something that can be easily bodged for a bunch of 
> index files which aren't referenced by the segments file?
>
> This probably all seems like a foolish errand, but my two indexes are 
> > 300G each and regenerating them is something I'd like to avoid.
>   


1. do a backup first !!!

3. separate the segment data which is accounted for in the current
"segments" file from all other data, and move that to a "healthy" index. 
Move the rest of the info to a "corrupt" index. Make sure that the "healthy"
index is still healthy after this operation .. ;)

2. look at the source of
org.apache.lucene.index.SegmentInfos.read(Directory) and write(Directory).
You can see how the new "segments" file is created based on the SegmentInfo
information. So, the only challenge is to create a bunch of SegmentInfo
instances corresponding to your segment names in the "corrupt" index, and
write them out to a new "segments" 
file according to this format.

3. you can easily discover the number of documents in each segment. This is
equivalent to the length (in bytes) of each <segment_name>.f<number> file,
which are storing lengthNorm info per document and per field.

Once you have written the new "segments" file, try to open it in IndexReader
and iterate over documents to see if the index is basically "healthy". You
could also do an IndexWriter.optimize() to make sure that all parts of the
index correctly fit together.

A note: if a cfs file is corrupted, you can try to explode it into
individual files - you can use org.apache.lucene.index.CompoundFileReader,
iterate over file names, open streams and save them to regular files; and
then do the trick with re-generating the segment file.

Then you may consider this "corrupt" index to be restored. Now you can merge
your "healthy" and "restored" indexes using IndexWriter.addIndexes().

BTW. I strongly recommend doing frequent backups at different stages. 
Also, I recommend using BeanShell - you will save a lot of time you would
otherwise spend on editing and compilation of these steps.

--
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web ___|||__||  \|
||  |  Embedded Unix, System Integration http://www.sigram.com  Contact:
info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

------=_NextPart_000_0104_01C6D9CB.AF33BDB0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDkxNjE5
MDcwNlowIwYJKoZIhvcNAQkEMRYEFF8pmsbkHv2UD20PaVes91wQVdKHMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAJqI4rgQ9lcoBzt8M2XcGqd2WoHvNcCtyykl
uQxv5AISIveZYhm5p/rbyLZkWHAlAPG6qkZvaGVHvahsgqIJJ5fdsDMW/UQwOm0sj6DtHc8Dyt6s
EGlsQQCAmZsJPqQbzJAAk1QsYrsGC/ThN/BtrTsFHIoOGBWk2dLLnzckLjcg6VDXq5Py5dflIhSC
Z9VooV956fDu5KF32WxwDPb0uH5fvU1phL4x7ta51iTIV4pS+ZBAlJls0trzeLE0TEa6+iLZLFql
gYycdMiFQuD1Ay2rpd7v3McmL0HmLQYc0K0LJ7/NWI0ClvzqZJz/e0GGBqjnvgsfMMJN66GBC/zb
yk0AAAAAAAA=

------=_NextPart_000_0104_01C6D9CB.AF33BDB0--


From java-user-return-23403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 23:29:17 2006
Return-Path: <java-user-return-23403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17967 invoked from network); 16 Sep 2006 23:29:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 23:29:17 -0000
Received: (qmail 17935 invoked by uid 500); 16 Sep 2006 23:29:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17901 invoked by uid 500); 16 Sep 2006 23:29:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17888 invoked by uid 99); 16 Sep 2006 23:29:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 16:29:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 16:29:10 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BFD8A30EFCD5; Sat, 16 Sep 2006 19:28:46 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [192.168.1.102] (dpc6746227252.direcpc.com [67.46.227.252])
	by ehatchersolutions.com (Postfix) with ESMTP id 911A730EFCD4
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 19:28:39 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <1cbd6f830609160932l61a07b11n5471d71f35d567df@mail.gmail.com>
References: <1cbd6f830609160932l61a07b11n5471d71f35d567df@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <05153FA7-4C5E-43F3-AAFC-EF4BCB01A7D0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Example question
Date: Sat, 16 Sep 2006 19:28:16 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you talking about the LIA example code?   The sample data gets  
indexed using the Ant <index> task, which automatically adds a "path"  
field for every document.  You'll see the document handler mentioned  
in the LIA build.xml file as well as the code for it in the code  
download.

	Erik


On Sep 16, 2006, at 12:32 PM, Mag Gam wrote:

> While looking at the example's Index and Search code, I have  
> noticed in the
> search, there is a :
>
> out.println (doc.get ("path"));
>
> I am not sure how is "path" is getting into the index. If you take  
> a look at
> the Index code, there is no mention of "path". My question are:  
> what is this
> path (I know it prints out the filesystem path)? Is this a reserved  
> word, if
> so, where can I get a list of reserved words? How can I list all  
> hashes like
> "path" ?
>
> TIA


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 16 23:40:21 2006
Return-Path: <java-user-return-23404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19306 invoked from network); 16 Sep 2006 23:40:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2006 23:40:21 -0000
Received: (qmail 22455 invoked by uid 500); 16 Sep 2006 23:40:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22226 invoked by uid 500); 16 Sep 2006 23:40:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22214 invoked by uid 99); 16 Sep 2006 23:40:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 16:40:15 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 66.249.82.225 as permitted sender)
Received: from [66.249.82.225] (HELO wx-out-0506.google.com) (66.249.82.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 16:40:15 -0700
Received: by wx-out-0506.google.com with SMTP id s15so3247971wxc
        for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 16:39:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=HMZgNtw++K8UNJ5jlnIXf40krSDALZLl60U+dNChr3mLHtHa6HNCmll/KE5OTW8SoKy3nUgnyZpcsWRZaczX+w2ct1h3wIqkm6CtCqt7qB4cY3+cbZOvxmS6DfLd17yi9bV/SboWu2ijbyTBSrOwUdgdMKZGJ/1jb6Um9lDWDQA=
Received: by 10.90.65.11 with SMTP id n11mr4138252aga;
        Sat, 16 Sep 2006 16:39:54 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Sat, 16 Sep 2006 16:39:54 -0700 (PDT)
Message-ID: <1cbd6f830609161639u701e8f0dp2c99777261e55fe0@mail.gmail.com>
Date: Sat, 16 Sep 2006 19:39:54 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Example question
In-Reply-To: <05153FA7-4C5E-43F3-AAFC-EF4BCB01A7D0@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_116739_15720449.1158449994305"
References: <1cbd6f830609160932l61a07b11n5471d71f35d567df@mail.gmail.com>
	 <05153FA7-4C5E-43F3-AAFC-EF4BCB01A7D0@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_116739_15720449.1158449994305
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

No, I am talking about the Lucene Examples (not from LIA).



On 9/16/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> Are you talking about the LIA example code?   The sample data gets
> indexed using the Ant <index> task, which automatically adds a "path"
> field for every document.  You'll see the document handler mentioned
> in the LIA build.xml file as well as the code for it in the code
> download.
>
>         Erik
>
>
> On Sep 16, 2006, at 12:32 PM, Mag Gam wrote:
>
> > While looking at the example's Index and Search code, I have
> > noticed in the
> > search, there is a :
> >
> > out.println (doc.get ("path"));
> >
> > I am not sure how is "path" is getting into the index. If you take
> > a look at
> > the Index code, there is no mention of "path". My question are:
> > what is this
> > path (I know it prints out the filesystem path)? Is this a reserved
> > word, if
> > so, where can I get a list of reserved words? How can I list all
> > hashes like
> > "path" ?
> >
> > TIA
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_116739_15720449.1158449994305--

From java-user-return-23405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 02:02:41 2006
Return-Path: <java-user-return-23405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39197 invoked from network); 17 Sep 2006 02:02:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 02:02:41 -0000
Received: (qmail 95149 invoked by uid 500); 17 Sep 2006 02:02:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95123 invoked by uid 500); 17 Sep 2006 02:02:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95112 invoked by uid 99); 17 Sep 2006 02:02:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 19:02:35 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mrs.nospam@gmail.com designates 64.233.182.191 as permitted sender)
Received: from [64.233.182.191] (HELO nf-out-0910.google.com) (64.233.182.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 19:02:33 -0700
Received: by nf-out-0910.google.com with SMTP id b2so2375497nfe
        for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 19:02:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=nr30ebl7q9ksIsN7t6e0sTeUHS7RPEDe5WKAvrpo8BjK0X+0W9a2bGIsdvNEUAoxtdXYnuz4R7ARoXXua1Qv8GUFMHo4rTe3lwPCNNF8rghnJcZAHj4YZL8swhOKS/h0lL10UAaZ4uh1BKC6C4ib2onl78QANbU33DAYSBA93r0=
Received: by 10.49.10.3 with SMTP id n3mr15279088nfi;
        Sat, 16 Sep 2006 19:02:11 -0700 (PDT)
Received: by 10.48.212.11 with HTTP; Sat, 16 Sep 2006 19:02:11 -0700 (PDT)
Message-ID: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
Date: Sat, 16 Sep 2006 22:02:11 -0400
From: "no spam" <mrs.nospam@gmail.com>
To: java-user@lucene.apache.org
Subject: default AND operator
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_92406_4256058.1158458531866"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_92406_4256058.1158458531866
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Why does my query "french AND antiques" work the way I expect using this
code:

  stemParser = new QueryParser("contents", stemmingAnalyzer);
  Query query = stemParser.parse(searchTerms);
  Hits docHits = searcher.search(query);

Debug from query shows: contents:french contents:antiqu  ... I would have
expected to see '+' before contents.

But not if I try the query again with "french antiques" with this code ...
which sets the default operator to AND:

   stemParser = new QueryParser("contents", stemmingAnalyzer);
  stemParser.setDefaultOperator(QueryParser.Operator.AND);
  Query query = stemParser.parse(searchTerms);
  Hits docHits = searcher.search(query);

Debug from Query shows this:  +contents:french +contents:antiqu

------=_Part_92406_4256058.1158458531866--

From java-user-return-23406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 03:44:20 2006
Return-Path: <java-user-return-23406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47467 invoked from network); 17 Sep 2006 03:44:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 03:44:20 -0000
Received: (qmail 36423 invoked by uid 500); 17 Sep 2006 03:44:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36382 invoked by uid 500); 17 Sep 2006 03:44:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36370 invoked by uid 99); 17 Sep 2006 03:44:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 20:44:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 20:44:14 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B66375B76E; Sat, 16 Sep 2006 20:43:53 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B21087F403
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 20:43:53 -0700 (PDT)
Date: Sat, 16 Sep 2006 20:43:53 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Example question
In-Reply-To: <1cbd6f830609161639u701e8f0dp2c99777261e55fe0@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609162035460.32095@hal.rescomp.berkeley.edu>
References: <1cbd6f830609160932l61a07b11n5471d71f35d567df@mail.gmail.com> 
 <05153FA7-4C5E-43F3-AAFC-EF4BCB01A7D0@ehatchersolutions.com>
 <1cbd6f830609161639u701e8f0dp2c99777261e55fe0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: No, I am talking about the Lucene Examples (not from LIA).

you're going to need to be more specific about what you mean ... what is
the exact location of the file where you are seeing the "Example" in
question? ... is it a URL? is it a file from a release you downloaded?
what is the URL of the release?

If i had to guess, i'd assume you are talking about either this file...


http://svn.apache.org/viewvc/lucene/java/trunk/src/demo/org/apache/lucene/demo/SearchFiles.java
or one of these files...
http://svn.apache.org/viewvc/lucene/java/trunk/src/jsp/

...but i can't be sure because none of those file have the exact string
you mentioned...

: > > out.println (doc.get ("path"));
: > >
: > > I am not sure how is "path" is getting into the index. If you take

... they do refrence a field named "path", so it's my best guess,
except that...

: > > the Index code, there is no mention of "path". My question are:
: > > what is this
: > > path (I know it prints out the filesystem path)? Is this a reserved

...both HTMLDocument and FieldDocument (the classes used to build the
indexes for the demo code) do in fact crete fields named "apth" .... hence
i am stumped as to what exactly you are looking at.

: > > so, where can I get a list of reserved words? How can I list all
: > > hashes like
: > > "path" ?

there are no reserved field names, but you can get a list of all the
fields in a document using Document.getFields()



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 03:49:45 2006
Return-Path: <java-user-return-23407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47752 invoked from network); 17 Sep 2006 03:49:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 03:49:45 -0000
Received: (qmail 38279 invoked by uid 500); 17 Sep 2006 03:49:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38246 invoked by uid 500); 17 Sep 2006 03:49:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38235 invoked by uid 99); 17 Sep 2006 03:49:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 20:49:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 16 Sep 2006 20:49:38 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 7FC935B76E; Sat, 16 Sep 2006 20:49:10 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 622727F403
	for <java-user@lucene.apache.org>; Sat, 16 Sep 2006 20:49:10 -0700 (PDT)
Date: Sat, 16 Sep 2006 20:49:10 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Why does my query "french AND antiques" work the way I expect using this
: code:

can you be more specific about what it is you "expect", and what exactly
serachTerms is in your examples?  (presumably it's a string, is it the
string "french AND antiques" ... are you sure it's not "french and
antiques" ? ... QueryParser only respects AND and OR if they are
capitalized, otherwise they are treated as normal words, which are
probably StopWords to your analyzer .. in which case everything you've
shown makes perfect sense to me.)


 :
:   stemParser = new QueryParser("contents", stemmingAnalyzer);
:   Query query = stemParser.parse(searchTerms);
:   Hits docHits = searcher.search(query);
:
: Debug from query shows: contents:french contents:antiqu  ... I would have
: expected to see '+' before contents.
:
: But not if I try the query again with "french antiques" with this code ...
: which sets the default operator to AND:
:
:    stemParser = new QueryParser("contents", stemmingAnalyzer);
:   stemParser.setDefaultOperator(QueryParser.Operator.AND);
:   Query query = stemParser.parse(searchTerms);
:   Hits docHits = searcher.search(query);
:
: Debug from Query shows this:  +contents:french +contents:antiqu
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 11:36:55 2006
Return-Path: <java-user-return-23408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35425 invoked from network); 17 Sep 2006 11:36:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 11:36:54 -0000
Received: (qmail 6337 invoked by uid 500); 17 Sep 2006 11:36:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6297 invoked by uid 500); 17 Sep 2006 11:36:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6286 invoked by uid 99); 17 Sep 2006 11:36:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 04:36:48 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mrs.nospam@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 04:36:41 -0700
Received: by nf-out-0910.google.com with SMTP id b2so2414912nfe
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 04:36:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=F5P2lb4gp+Cov+myG62NdSt+zyKyQW6ac+OgHB/ItHEgKCm+vJBio4UTLMtFLxNKrglnIdpqFPo55zFBJoPS8p4r3Fk0aHJpHySIe/x8xWqVD83QfaJNwuO9xsasuJ4dakILxW/lqCgqo4UElLPNAnUYsm3P7WSgAe0Iewy+6GQ=
Received: by 10.49.8.15 with SMTP id l15mr15706777nfi;
        Sun, 17 Sep 2006 04:36:14 -0700 (PDT)
Received: by 10.48.210.6 with HTTP; Sun, 17 Sep 2006 04:36:14 -0700 (PDT)
Message-ID: <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
Date: Sun, 17 Sep 2006 07:36:14 -0400
From: "no spam" <mrs.nospam@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_112313_23513572.1158492974194"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_112313_23513572.1158492974194
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

When I use "french AND antiques" I get documents like this :

score: 1.0, boost: 1.0, cont: French Antiques
score: 0.23080501, boost: 1.0, cont: FRENCH SEPTIC
score: 0.23080501, boost: 1.0, cont: French & French Septic
score: 0.20400475, boost: 1.0,id: 25460, cont: French & Associates

As in the first e-mail the Query object shows these terms:

contents:french contents:antiqu  <---- using string "french AND antiques"

when using Operator.AND it shows these:

+contents:french +contents:antiqu      <----- here I used used "french
antiques"

The second example below matches NONE of the documents above and in fact
only if I do synonym expansion with stemming.

*****My big question here is why doesn't the operator.AND force both of
these queries to be identical? These will be users typed queries so I want
Lucene to force the use of AND so I don't have to search/replace


On 9/16/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
> can you be more specific about what it is you "expect", and what exactly
> serachTerms is in your examples?  (presumably it's a string, is it the
> string "french AND antiques" ... are you sure it's not "french and
> antiques" ? ... QueryParser only respects AND and OR if they are
> capitalized, otherwise they are treated as normal words, which are
> probably StopWords to your analyzer .. in which case everything you've
> shown makes perfect sense to me.)
>
>
> :
> :   stemParser = new QueryParser("contents", stemmingAnalyzer);
> :   Query query = stemParser.parse(searchTerms);
> :   Hits docHits = searcher.search(query);
> :
> : Debug from query shows: contents:french contents:antiqu  ... I would
> have
> : expected to see '+' before contents.
> :
> : But not if I try the query again with "french antiques" with this code
> ...
> : which sets the default operator to AND:
> :
> :    stemParser = new QueryParser("contents", stemmingAnalyzer);
> :   stemParser.setDefaultOperator(QueryParser.Operator.AND);
> :   Query query = stemParser.parse(searchTerms);
> :   Hits docHits = searcher.search(query);
> :
> : Debug from Query shows this:  +contents:french +contents:antiqu
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_112313_23513572.1158492974194--

From java-user-return-23409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 14:43:52 2006
Return-Path: <java-user-return-23409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77976 invoked from network); 17 Sep 2006 14:43:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 14:43:52 -0000
Received: (qmail 49762 invoked by uid 500); 17 Sep 2006 14:43:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48721 invoked by uid 500); 17 Sep 2006 14:43:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48704 invoked by uid 99); 17 Sep 2006 14:43:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 07:43:46 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 07:43:38 -0700
Received: by py-out-1112.google.com with SMTP id m51so4444712pye
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 07:43:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=PzUlhbLsBHA6drH45TC63MxrmpBoVigSz0EsVfVOy0kl4CeJMx+KE8P4mFfVDKxQpMEoCIiZrtgS2zdjXPAvmfKuBAFK6GyfcOhfQdcUkBffYjuJxULErIiZbvLRt1/4gYQB8EI8LMRd+zMhaxVIx03cKVrnvHEuySjOE6JHR/o=
Received: by 10.35.93.19 with SMTP id v19mr21632149pyl;
        Sun, 17 Sep 2006 07:43:11 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Sun, 17 Sep 2006 07:43:11 -0700 (PDT)
Message-ID: <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
Date: Sun, 17 Sep 2006 10:43:11 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_44914_21785862.1158504191137"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_44914_21785862.1158504191137
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Are you really, really sure that your *analyzer* isn't automatically
lower-casing your *query* and turning "french AND antiques" into "french and
antiques", then, as Chris says, treating "and" as a stop word?

The fact that your parser transforms "antiques" into "antiqu" leads me to
suspect that there's a lot more going on in the parser analyzer than you
might expect....

And, in case you haven't already found it, are you sure what your index
contains. I've found luke (google luke lucene) to be very valuable for these
kinds of questions, particularly your issue about stemming etc.

Best
Erick

On 9/17/06, no spam <mrs.nospam@gmail.com> wrote:
>
> When I use "french AND antiques" I get documents like this :
>
> score: 1.0, boost: 1.0, cont: French Antiques
> score: 0.23080501, boost: 1.0, cont: FRENCH SEPTIC
> score: 0.23080501, boost: 1.0, cont: French & French Septic
> score: 0.20400475, boost: 1.0,id: 25460, cont: French & Associates
>
> As in the first e-mail the Query object shows these terms:
>
> contents:french contents:antiqu  <---- using string "french AND antiques"
>
> when using Operator.AND it shows these:
>
> +contents:french +contents:antiqu      <----- here I used used "french
> antiques"
>
> The second example below matches NONE of the documents above and in fact
> only if I do synonym expansion with stemming.
>
> *****My big question here is why doesn't the operator.AND force both of
> these queries to be identical? These will be users typed queries so I want
> Lucene to force the use of AND so I don't have to search/replace
>
>
> On 9/16/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> >
> > can you be more specific about what it is you "expect", and what exactly
> > serachTerms is in your examples?  (presumably it's a string, is it the
> > string "french AND antiques" ... are you sure it's not "french and
> > antiques" ? ... QueryParser only respects AND and OR if they are
> > capitalized, otherwise they are treated as normal words, which are
> > probably StopWords to your analyzer .. in which case everything you've
> > shown makes perfect sense to me.)
> >
> >
> > :
> > :   stemParser = new QueryParser("contents", stemmingAnalyzer);
> > :   Query query = stemParser.parse(searchTerms);
> > :   Hits docHits = searcher.search(query);
> > :
> > : Debug from query shows: contents:french contents:antiqu  ... I would
> > have
> > : expected to see '+' before contents.
> > :
> > : But not if I try the query again with "french antiques" with this code
> > ...
> > : which sets the default operator to AND:
> > :
> > :    stemParser = new QueryParser("contents", stemmingAnalyzer);
> > :   stemParser.setDefaultOperator(QueryParser.Operator.AND);
> > :   Query query = stemParser.parse(searchTerms);
> > :   Hits docHits = searcher.search(query);
> > :
> > : Debug from Query shows this:  +contents:french +contents:antiqu
> > :
> >
> >
> >
> > -Hoss
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

------=_Part_44914_21785862.1158504191137--

From java-user-return-23410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 15:34:45 2006
Return-Path: <java-user-return-23410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86052 invoked from network); 17 Sep 2006 15:34:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 15:34:45 -0000
Received: (qmail 99590 invoked by uid 500); 17 Sep 2006 15:34:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99562 invoked by uid 500); 17 Sep 2006 15:34:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99551 invoked by uid 99); 17 Sep 2006 15:34:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 08:34:38 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of markrmiller@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 08:34:26 -0700
Received: by py-out-1112.google.com with SMTP id w49so4170964pyg
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 08:33:59 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=UvZLRsKcanpE5guCP1t5JtNyKLakGr/H3lkFddQ+bXRVeaIi4piR5Z7uUrrw2GDBa7ZbDuauqPxMeKyqqC2Qm0/o3++enLFD9yWWSrCQToTjkdzAKTINNE97hvtcoaRbnoEJpdi/ZkMKd2qklf/smXtZTY9FlpgD9H67sx+uyBs=
Received: by 10.64.204.3 with SMTP id b3mr14370916qbg;
        Sun, 17 Sep 2006 08:33:59 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e16sm4747848qbe.2006.09.17.08.33.58;
        Sun, 17 Sep 2006 08:33:59 -0700 (PDT)
Message-ID: <450D6B05.6090306@gmail.com>
Date: Sun, 17 Sep 2006 11:34:29 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: default AND operator
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com> <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
In-Reply-To: <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

3 docs with one field each in index:
-------------------------------------
french beast stone
crazy rolling stone
rolling stone done in by coconut

3 searches, default op set as AND
-------------------------------------
search("coconut stone");
search("coconut OR stone");
search("coconut AND stone");

3 results:
--------------------------------------
query: +allFields:coconut +allFields:stone
Found 1 document(s) (in 31 milliseconds) that matched query 'coconut stone':

query: allFields:coconut allFields:stone
Found 3 document(s) (in 0 milliseconds) that matched query 'coconut OR 
stone':

query: +allFields:coconut +allFields:stone
Found 1 document(s) (in 16 milliseconds) that matched query 'coconut AND 
stone':


You do not find this to be true? Your analyzer should not be a problem 
as the Queryparser will only analyze non queryparser syntax keywords.

Code follows:

public class Tester {
    private static RAMDirectory directory;

    private static Analyzer analyzer;

    public static void main(String[] args) {
        setupIndex();
       
        try {
            search("coconut stone");
            search("coconut OR stone");
            search("coconut AND stone");
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private static void setupIndex() {
        directory = new RAMDirectory();

        analyzer = new WhitespaceAnalyzer();

        IndexWriter writer;

        try {
            writer = new IndexWriter(directory, analyzer, true);

            Document doc = new Document();
            doc.add(new Field("allFields",
                    "french beast stone",
                    Field.Store.NO, Field.Index.TOKENIZED));

            writer.addDocument(doc);


            doc = new Document();
            doc.add(new Field("allFields", "crazy rolling stone",
                    Field.Store.NO, Field.Index.TOKENIZED));
            writer.addDocument(doc);
           
            doc = new Document();
            doc.add(new Field("allFields", "rolling stone done in by 
coconut",
                    Field.Store.NO, Field.Index.TOKENIZED));
            writer.addDocument(doc);


            writer.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
   
    public static int search(String q) throws Exception {
        IndexSearcher is = new IndexSearcher(directory);

        QueryParser qp = new QueryParser("allFields", analyzer);
       
        qp.setDefaultOperator(Operator.AND);
       
        Query query = qp.parse(q);
       
        long start = new Date().getTime();
        Hits hits = is.search(query);
        long end = new Date().getTime();
        System.err.println("\nquery: " + query.toString());
        System.err.println("Found " + hits.length() + " document(s) (in " +
            (end - start) + " milliseconds) that matched query '" + q + 
"':");
       
        return hits.length();
    }
}

Erick Erickson wrote:
> Are you really, really sure that your *analyzer* isn't automatically
> lower-casing your *query* and turning "french AND antiques" into 
> "french and
> antiques", then, as Chris says, treating "and" as a stop word?
>
> The fact that your parser transforms "antiques" into "antiqu" leads me to
> suspect that there's a lot more going on in the parser analyzer than you
> might expect....
>
> And, in case you haven't already found it, are you sure what your index
> contains. I've found luke (google luke lucene) to be very valuable for 
> these
> kinds of questions, particularly your issue about stemming etc.
>
> Best
> Erick
>
> On 9/17/06, no spam <mrs.nospam@gmail.com> wrote:
>>
>> When I use "french AND antiques" I get documents like this :
>>
>> score: 1.0, boost: 1.0, cont: French Antiques
>> score: 0.23080501, boost: 1.0, cont: FRENCH SEPTIC
>> score: 0.23080501, boost: 1.0, cont: French & French Septic
>> score: 0.20400475, boost: 1.0,id: 25460, cont: French & Associates
>>
>> As in the first e-mail the Query object shows these terms:
>>
>> contents:french contents:antiqu  <---- using string "french AND 
>> antiques"
>>
>> when using Operator.AND it shows these:
>>
>> +contents:french +contents:antiqu      <----- here I used used "french
>> antiques"
>>
>> The second example below matches NONE of the documents above and in fact
>> only if I do synonym expansion with stemming.
>>
>> *****My big question here is why doesn't the operator.AND force both of
>> these queries to be identical? These will be users typed queries so I 
>> want
>> Lucene to force the use of AND so I don't have to search/replace
>>
>>
>> On 9/16/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>> >
>> > can you be more specific about what it is you "expect", and what 
>> exactly
>> > serachTerms is in your examples?  (presumably it's a string, is it the
>> > string "french AND antiques" ... are you sure it's not "french and
>> > antiques" ? ... QueryParser only respects AND and OR if they are
>> > capitalized, otherwise they are treated as normal words, which are
>> > probably StopWords to your analyzer .. in which case everything you've
>> > shown makes perfect sense to me.)
>> >
>> >
>> > :
>> > :   stemParser = new QueryParser("contents", stemmingAnalyzer);
>> > :   Query query = stemParser.parse(searchTerms);
>> > :   Hits docHits = searcher.search(query);
>> > :
>> > : Debug from query shows: contents:french contents:antiqu  ... I would
>> > have
>> > : expected to see '+' before contents.
>> > :
>> > : But not if I try the query again with "french antiques" with this 
>> code
>> > ...
>> > : which sets the default operator to AND:
>> > :
>> > :    stemParser = new QueryParser("contents", stemmingAnalyzer);
>> > :   stemParser.setDefaultOperator(QueryParser.Operator.AND);
>> > :   Query query = stemParser.parse(searchTerms);
>> > :   Hits docHits = searcher.search(query);
>> > :
>> > : Debug from Query shows this:  +contents:french +contents:antiqu
>> > :
>> >
>> >
>> >
>> > -Hoss
>> >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 16:04:32 2006
Return-Path: <java-user-return-23411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89971 invoked from network); 17 Sep 2006 16:04:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 16:04:31 -0000
Received: (qmail 26706 invoked by uid 500); 17 Sep 2006 16:04:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26671 invoked by uid 500); 17 Sep 2006 16:04:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26654 invoked by uid 99); 17 Sep 2006 16:04:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 09:04:26 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mrs.nospam@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 09:04:18 -0700
Received: by nf-out-0910.google.com with SMTP id b2so2441776nfe
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 09:03:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Ioo9AxvDH15Sqk/+CWb9dOVQMmh12RofRCE0Fe9Il6v5irfuMGDf5h8fjPytJ859Vk77spmBv82oC9XXp/GxGLYXDxsoTHPaqfcwLxF49yIhQ2YlSyhPYrtcc0HH88rJqfGznF+Gd/HdfMS/AThanGt7go48/zav571GqH9kzao=
Received: by 10.49.8.1 with SMTP id l1mr15952267nfi;
        Sun, 17 Sep 2006 09:03:50 -0700 (PDT)
Received: by 10.48.210.6 with HTTP; Sun, 17 Sep 2006 09:03:50 -0700 (PDT)
Message-ID: <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com>
Date: Sun, 17 Sep 2006 12:03:50 -0400
From: "no spam" <mrs.nospam@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_115257_29589182.1158509030154"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
	 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_115257_29589182.1158509030154
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I am new to Lucene so I'll admit I am confused by a few things.  I'm using
an index which was built with the StandardAnalyzer.  I have verified this by
using an IndexReader to read the docs back out ... Antiques is not Antiq in
the index.   So according to this note in the Lucene docs I would assume a
Query parsed without a stemming analyzer would have matched:

"Note: The analyzer used to create the index will be used on the terms and
phrases in the query string. So it is important to choose an analyzer that
will not interfere with the terms used in the query string."

But it's quite the opposite, only a query parsed with the stemming analyzer
is matching my queries.  So these are a few confusing issues which to me
seem a *bit* beside the point ... perhaps I'm wrong.

HOWEVER .. I'm still confused as to why the AND operator isn't matching my
"french AND antiques" query regardless of the index.

I will look into Luke ... thanks for your replies ... Mark

On 9/17/06, Erick Erickson <erickerickson@gmail.com> wrote:
>
> Are you really, really sure that your *analyzer* isn't automatically
> lower-casing your *query* and turning "french AND antiques" into "french
> and
> antiques", then, as Chris says, treating "and" as a stop word?
>
> The fact that your parser transforms "antiques" into "antiqu" leads me to
> suspect that there's a lot more going on in the parser analyzer than you
> might expect....
>
> And, in case you haven't already found it, are you sure what your index
> contains. I've found luke (google luke lucene) to be very valuable for
> these
> kinds of questions, particularly your issue about stemming etc.
>
> Best
> Erick
>
>

------=_Part_115257_29589182.1158509030154--

From java-user-return-23412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 17:14:58 2006
Return-Path: <java-user-return-23412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12133 invoked from network); 17 Sep 2006 17:14:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 17:14:57 -0000
Received: (qmail 40298 invoked by uid 500); 17 Sep 2006 17:14:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39529 invoked by uid 500); 17 Sep 2006 17:14:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39517 invoked by uid 99); 17 Sep 2006 17:14:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 10:14:51 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 10:14:43 -0700
Received: by py-out-1112.google.com with SMTP id w49so4196062pyg
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 10:14:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=IIbaKsIAgz77II4iObwTWD96FlqGr0M0Y4rKlAhJBzNDLa6cKfARAeKMlx/d+ZyEcal+LHedm+nTn8ZTM+NgIy3YwLuJS7TWbeUryLCL4B6qKybP6lc8hbsgiu1NQpt6C9FiokyEZ2p3EOSYuvdXcE2U8rmM/c+afUqpnfabFmI=
Received: by 10.35.18.3 with SMTP id v3mr21904928pyi;
        Sun, 17 Sep 2006 10:14:15 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Sun, 17 Sep 2006 10:14:15 -0700 (PDT)
Message-ID: <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com>
Date: Sun, 17 Sep 2006 13:14:15 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46265_17665469.1158513255276"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
	 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
	 <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_46265_17665469.1158513255276
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, I'm puzzled as well, in my simple examples I just ran, the AND
operator behaves just fine, but that was using StandardAnalyzer. So it's
almost certain we're not talking about the same thing <G>...

So, I guess I have a couple of suggestions:

1> Try your query without the stemmingAnalyzer. Try StandardAnalyzer (or
even WhitespaceAnalyzer) and kind of build up to the stemmer. That'll at
least narrow the problem space.

2> You might post more details about the stemmingAnalyzer you're using. It's
possible that there's some innocuous-seeming line in the creation of the
stemmingAnalyzer you're feeding into the query parser that's producing this
behavior. Parenthetically, I'm not entirely sure you're not going to get
into a heap o' trouble using a StandardAnalyzer to create the index then
using a stemmingAnalyzer to query it. But, as you say, that's secondary to
the default AND question. I should also add that I don't know enough about
stemming analyzers to put in a thimble, so this is just a theoretical
concern.

3> Create a small, self-contained program that demonstrates this issue and
post it here. Or, even better, a junit test <G>.

I think we've exhausted the generic issues you might be having and could get
a much faster resolution with a complete example to look at. "The guys" have
been generous with many posters in looking at actual code......

Best
Erick.

P.S. Please post whatever the resolution is, I'm pretty curious what you
find.

On 9/17/06, no spam <mrs.nospam@gmail.com> wrote:
>
> I am new to Lucene so I'll admit I am confused by a few things.  I'm using
> an index which was built with the StandardAnalyzer.  I have verified this
> by
> using an IndexReader to read the docs back out ... Antiques is not Antiq
> in
> the index.   So according to this note in the Lucene docs I would assume a
> Query parsed without a stemming analyzer would have matched:
>
> "Note: The analyzer used to create the index will be used on the terms and
> phrases in the query string. So it is important to choose an analyzer that
> will not interfere with the terms used in the query string."
>
> But it's quite the opposite, only a query parsed with the stemming
> analyzer
> is matching my queries.  So these are a few confusing issues which to me
> seem a *bit* beside the point ... perhaps I'm wrong.
>
> HOWEVER .. I'm still confused as to why the AND operator isn't matching my
> "french AND antiques" query regardless of the index.
>
> I will look into Luke ... thanks for your replies ... Mark
>
> On 9/17/06, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > Are you really, really sure that your *analyzer* isn't automatically
> > lower-casing your *query* and turning "french AND antiques" into "french
> > and
> > antiques", then, as Chris says, treating "and" as a stop word?
> >
> > The fact that your parser transforms "antiques" into "antiqu" leads me
> to
> > suspect that there's a lot more going on in the parser analyzer than you
> > might expect....
> >
> > And, in case you haven't already found it, are you sure what your index
> > contains. I've found luke (google luke lucene) to be very valuable for
> > these
> > kinds of questions, particularly your issue about stemming etc.
> >
> > Best
> > Erick
> >
> >
>
>

------=_Part_46265_17665469.1158513255276--

From java-user-return-23413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 17:45:12 2006
Return-Path: <java-user-return-23413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18248 invoked from network); 17 Sep 2006 17:45:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 17:45:11 -0000
Received: (qmail 68641 invoked by uid 500); 17 Sep 2006 17:45:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68604 invoked by uid 500); 17 Sep 2006 17:45:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68593 invoked by uid 99); 17 Sep 2006 17:45:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 10:45:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mrs.nospam@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 10:44:53 -0700
Received: by nf-out-0910.google.com with SMTP id b2so2452885nfe
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 10:44:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Qmbg6R3onKNuoI31hktAU0V++Hg9RLJVnbuBnWJ4o16i0BC1KKzUen4fSPjjcTA3myYmlvkGGLDUb5hUIaBc7sD2dCxhBx3hZYpepVgTKkq+/5wUsgEdUVRxvn1zUQCRmzizMYKEDA6gKRRRSGP/YTKqs9i6HeKKznDeRbmQXiY=
Received: by 10.48.242.19 with SMTP id p19mr16038580nfh;
        Sun, 17 Sep 2006 10:44:25 -0700 (PDT)
Received: by 10.48.210.6 with HTTP; Sun, 17 Sep 2006 10:44:25 -0700 (PDT)
Message-ID: <bd818c7b0609171044v5262c1a6hc551c263994c95a1@mail.gmail.com>
Date: Sun, 17 Sep 2006 13:44:25 -0400
From: "no spam" <mrs.nospam@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_117145_30649672.1158515065401"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
	 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
	 <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com>
	 <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_117145_30649672.1158515065401
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Ok guys ... you're going to want to yield a big stick to me.  The problem
was my HItCollector, I wasn't actually passing it to my searcher.  Yes
somewhere in my testing I had commented out that code and it was making it
look like I wasn't getting hits.

One more question about IndexWriters (maybe I don't deserve an answer here
:-) )  .... I assume that the Analyzer used is applied and written to the
index per field.  So if I wanted one for Snowball or Stemming I'd have to
write multiple indexes?  I'm a bit confused as to how the Stemmed queries
are being matched against my StandardAnalyzer index.

Thanks for the help!
Mark

On 9/17/06, Erick Erickson <erickerickson@gmail.com> wrote:
>
> Well, I'm puzzled as well, in my simple examples I just ran, the AND
> operator behaves just fine, but that was using StandardAnalyzer. So it's
> almost certain we're not talking about the same thing <G>...
>
> So, I guess I have a couple of suggestions:
>
> 1> Try your query without the stemmingAnalyzer. Try StandardAnalyzer (or
> even WhitespaceAnalyzer) and kind of build up to the stemmer. That'll at
> least narrow the problem space.
>
> 2> You might post more details about the stemmingAnalyzer you're using.
> It's
> possible that there's some innocuous-seeming line in the creation of the
> stemmingAnalyzer you're feeding into the query parser that's producing
> this
> behavior. Parenthetically, I'm not entirely sure you're not going to get
> into a heap o' trouble using a StandardAnalyzer to create the index then
> using a stemmingAnalyzer to query it. But, as you say, that's secondary to
> the default AND question. I should also add that I don't know enough about
> stemming analyzers to put in a thimble, so this is just a theoretical
> concern.
>
> 3> Create a small, self-contained program that demonstrates this issue and
> post it here. Or, even better, a junit test <G>.
>
> I think we've exhausted the generic issues you might be having and could
> get
> a much faster resolution with a complete example to look at. "The guys"
> have
> been generous with many posters in looking at actual code......
>
> Best
> Erick.
>
> P.S. Please post whatever the resolution is, I'm pretty curious what you
> find.
>
> On 9/17/06, no spam <mrs.nospam@gmail.com> wrote:
> >
> > I am new to Lucene so I'll admit I am confused by a few things.  I'm
> using
> > an index which was built with the StandardAnalyzer.  I have verified
> this
> > by
> > using an IndexReader to read the docs back out ... Antiques is not Antiq
> > in
> > the index.   So according to this note in the Lucene docs I would assume
> a
> > Query parsed without a stemming analyzer would have matched:
> >
> > "Note: The analyzer used to create the index will be used on the terms
> and
> > phrases in the query string. So it is important to choose an analyzer
> that
> > will not interfere with the terms used in the query string."
> >
> > But it's quite the opposite, only a query parsed with the stemming
> > analyzer
> > is matching my queries.  So these are a few confusing issues which to me
> > seem a *bit* beside the point ... perhaps I'm wrong.
> >
> > HOWEVER .. I'm still confused as to why the AND operator isn't matching
> my
> > "french AND antiques" query regardless of the index.
> >
> > I will look into Luke ... thanks for your replies ... Mark
> >
> > On 9/17/06, Erick Erickson <erickerickson@gmail.com> wrote:
> > >
> > > Are you really, really sure that your *analyzer* isn't automatically
> > > lower-casing your *query* and turning "french AND antiques" into
> "french
> > > and
> > > antiques", then, as Chris says, treating "and" as a stop word?
> > >
> > > The fact that your parser transforms "antiques" into "antiqu" leads me
> > to
> > > suspect that there's a lot more going on in the parser analyzer than
> you
> > > might expect....
> > >
> > > And, in case you haven't already found it, are you sure what your
> index
> > > contains. I've found luke (google luke lucene) to be very valuable for
> > > these
> > > kinds of questions, particularly your issue about stemming etc.
> > >
> > > Best
> > > Erick
> > >
> > >
> >
> >
>
>

------=_Part_117145_30649672.1158515065401--

From java-user-return-23414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 20:13:24 2006
Return-Path: <java-user-return-23414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50654 invoked from network); 17 Sep 2006 20:13:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 20:13:24 -0000
Received: (qmail 28474 invoked by uid 500); 17 Sep 2006 20:13:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28118 invoked by uid 500); 17 Sep 2006 20:13:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28102 invoked by uid 99); 17 Sep 2006 20:13:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 13:13:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 13:13:09 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C84115B76E; Sun, 17 Sep 2006 13:12:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C443C7F403
	for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 13:12:42 -0700 (PDT)
Date: Sun, 17 Sep 2006 13:12:42 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <bd818c7b0609171044v5262c1a6hc551c263994c95a1@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609171305320.5847@hal.rescomp.berkeley.edu>
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com> 
 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu> 
 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com> 
 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com> 
 <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com> 
 <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com>
 <bd818c7b0609171044v5262c1a6hc551c263994c95a1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: One more question about IndexWriters (maybe I don't deserve an answer here
: :-) )  .... I assume that the Analyzer used is applied and written to the
: index per field.  So if I wanted one for Snowball or Stemming I'd have to
: write multiple indexes?  I'm a bit confused as to how the Stemmed queries
: are being matched against my StandardAnalyzer index.

what do you mean "written to the index per field" .. analyzers aren't
written to the index at all, the analyzer used is completely forgotten
once your index is built.  if you want seperate analyzers per field, take
a look at the PerFieldAnalyzerWrapper (i think that's the name) ... as for
why Stemmed Queries might match on terms indexed using StandardAnalyzer
... who knows ... it depends on how exactly they are getting stemmed, and
what other types of data might have made it into your index (maybe your
source data had the words you are searching on spelled incorrectly as
well, and it just happens to match the stemmed versions).

When you have questions like this, searcher.explain is your friend.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 20:29:59 2006
Return-Path: <java-user-return-23415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54046 invoked from network); 17 Sep 2006 20:29:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 20:29:58 -0000
Received: (qmail 50198 invoked by uid 500); 17 Sep 2006 20:29:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50076 invoked by uid 500); 17 Sep 2006 20:29:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50065 invoked by uid 99); 17 Sep 2006 20:29:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 13:29:52 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mrs.nospam@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 13:29:44 -0700
Received: by nf-out-0910.google.com with SMTP id b2so2471006nfe
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 13:29:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TUydL6o4v8gr12CTF+sz3nUqDPCNfllljv8QhfS/ek1GiSQRKrdkbFp/xrnrNadufn1UJBkD52zxG9fA31nAkmDX6QsFcuLWvWxXtNfZMQF1+qvU7PDsAV2XbBeJzyJGhJw983H9BKaYXwqDarKBPjzKcTCwk21+PIxfL8n6LsA=
Received: by 10.48.202.19 with SMTP id z19mr16169026nff;
        Sun, 17 Sep 2006 13:29:16 -0700 (PDT)
Received: by 10.48.210.6 with HTTP; Sun, 17 Sep 2006 13:29:16 -0700 (PDT)
Message-ID: <bd818c7b0609171329t4e1c57ecj48ee3a93c388278e@mail.gmail.com>
Date: Sun, 17 Sep 2006 16:29:16 -0400
From: "no spam" <mrs.nospam@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <Pine.LNX.4.58.0609171305320.5847@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_119410_25904655.1158524956542"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
	 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
	 <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com>
	 <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com>
	 <bd818c7b0609171044v5262c1a6hc551c263994c95a1@mail.gmail.com>
	 <Pine.LNX.4.58.0609171305320.5847@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_119410_25904655.1158524956542
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

That question was badly worded.  I was trying to ask that when I write an
index using the StandardAnalyzer, the docs are transformed using that
analyzer then written to the index post transformation. So stop words or
things like apostrophes would be removed.

"Scott's Lawn and Garden Care"     becomes    "Scott Lawn Garden Care"

It just seems that my index written using the StandardAnalyzer still has
things like apostophes and also things like the & symbol.

On 9/17/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> what do you mean "written to the index per field" .. analyzers aren't
> written to the index at all, the analyzer used is completely forgotten
> once your index is built.  if you want seperate analyzers per field, take
> a look at the PerFieldAnalyzerWrapper (i think that's the name) ... as for
> why Stemmed Queries might match on terms indexed using StandardAnalyzer
> ... who knows ... it depends on how exactly they are getting stemmed, and
> what other types of data might have made it into your index (maybe your
> source data had the words you are searching on spelled incorrectly as
> well, and it just happens to match the stemmed versions).
>
> When you have questions like this, searcher.explain is your friend.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_119410_25904655.1158524956542--

From java-user-return-23416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 20:36:33 2006
Return-Path: <java-user-return-23416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55216 invoked from network); 17 Sep 2006 20:36:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 20:36:33 -0000
Received: (qmail 58384 invoked by uid 500); 17 Sep 2006 20:36:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57370 invoked by uid 500); 17 Sep 2006 20:36:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57359 invoked by uid 99); 17 Sep 2006 20:36:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 13:36:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 13:36:19 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 49D605B76E; Sun, 17 Sep 2006 13:35:53 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 434EA7F403
	for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 13:35:53 -0700 (PDT)
Date: Sun, 17 Sep 2006 13:35:53 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <bd818c7b0609171329t4e1c57ecj48ee3a93c388278e@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609171332580.8705@hal.rescomp.berkeley.edu>
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com> 
 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu> 
 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com> 
 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com> 
 <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com> 
 <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com> 
 <bd818c7b0609171044v5262c1a6hc551c263994c95a1@mail.gmail.com> 
 <Pine.LNX.4.58.0609171305320.5847@hal.rescomp.berkeley.edu>
 <bd818c7b0609171329t4e1c57ecj48ee3a93c388278e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: index using the StandardAnalyzer, the docs are transformed using that
: analyzer then written to the index post transformation. So stop words or
: things like apostrophes would be removed.

if the analyzer used behaves that way, then yes -- the indexed terms will
remove those things.

: "Scott's Lawn and Garden Care"     becomes    "Scott Lawn Garden Care"
:
: It just seems that my index written using the StandardAnalyzer still has
: things like apostophes and also things like the & symbol.

1) maybe you didn't really use StandardAnalyzer when the index was built?
2) keep in mind there is a differnece between the indexed terms (matched
when doing queries) and the the stored values of fields which are
displayed when you look at docs -- the stored values are never affected by
the analyzer.  when you say you still see apostophes in your index, are
you looking at hte stored values, or are you looking ta the indexed Terms?
.. as i recall Luke lets you see both.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 21:09:13 2006
Return-Path: <java-user-return-23417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62200 invoked from network); 17 Sep 2006 21:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 21:09:13 -0000
Received: (qmail 90536 invoked by uid 500); 17 Sep 2006 21:09:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90509 invoked by uid 500); 17 Sep 2006 21:09:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90498 invoked by uid 99); 17 Sep 2006 21:09:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 14:09:06 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 66.249.82.226 as permitted sender)
Received: from [66.249.82.226] (HELO wx-out-0506.google.com) (66.249.82.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 14:08:34 -0700
Received: by wx-out-0506.google.com with SMTP id s15so3433080wxc
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 14:08:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=P3RWEhU85PPUFYlJkNLO4BGziKbZZwKFzFESW2W5HUhyenn4S5qKZ3Xu5aOC44EsyMr+ERmIkiE8mc6wPHf2IBAYagRalkWfSjVjhykLe4C9Nq7Nfrp2UDdeyPEpcr1s+JOKdxvxat+XbWDvvip+p4VYa5C9/xOfjJV7OWmjBfU=
Received: by 10.90.51.17 with SMTP id y17mr4195361agy;
        Sun, 17 Sep 2006 14:08:04 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Sun, 17 Sep 2006 14:08:03 -0700 (PDT)
Message-ID: <1cbd6f830609171408y24946480h430093ca8c2282bc@mail.gmail.com>
Date: Sun, 17 Sep 2006 17:08:03 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Example question
In-Reply-To: <Pine.LNX.4.58.0609162035460.32095@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_124431_32524548.1158527283894"
References: <1cbd6f830609160932l61a07b11n5471d71f35d567df@mail.gmail.com>
	 <05153FA7-4C5E-43F3-AAFC-EF4BCB01A7D0@ehatchersolutions.com>
	 <1cbd6f830609161639u701e8f0dp2c99777261e55fe0@mail.gmail.com>
	 <Pine.LNX.4.58.0609162035460.32095@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_124431_32524548.1158527283894
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sorry for the confusion all.

The code i am talking about is, the lucene-2.0 API

Document doc = hits.doc(i);
String path = doc.get("path");

lucene-2.0.0/src/demo/org/apache/lucene/demo/SearchFiles.java (line 147)


I am not sure where they are getting the "path". How are they inserting it
into the index?

Basically, I am trying to index the contents of the files, and the
filesystem written date. Therefore, I started to create an index, but I am
having no luck in either. I have simply been using the example indexing :-(


TIA



On 9/16/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : No, I am talking about the Lucene Examples (not from LIA).
>
> you're going to need to be more specific about what you mean ... what is
> the exact location of the file where you are seeing the "Example" in
> question? ... is it a URL? is it a file from a release you downloaded?
> what is the URL of the release?
>
> If i had to guess, i'd assume you are talking about either this file...
>
>
>
> http://svn.apache.org/viewvc/lucene/java/trunk/src/demo/org/apache/lucene/demo/SearchFiles.java
> or one of these files...
> http://svn.apache.org/viewvc/lucene/java/trunk/src/jsp/
>
> ...but i can't be sure because none of those file have the exact string
> you mentioned...
>
> : > > out.println (doc.get ("path"));
> : > >
> : > > I am not sure how is "path" is getting into the index. If you take
>
> ... they do refrence a field named "path", so it's my best guess,
> except that...
>
> : > > the Index code, there is no mention of "path". My question are:
> : > > what is this
> : > > path (I know it prints out the filesystem path)? Is this a reserved
>
> ...both HTMLDocument and FieldDocument (the classes used to build the
> indexes for the demo code) do in fact crete fields named "apth" .... hence
> i am stumped as to what exactly you are looking at.
>
> : > > so, where can I get a list of reserved words? How can I list all
> : > > hashes like
> : > > "path" ?
>
> there are no reserved field names, but you can get a list of all the
> fields in a document using Document.getFields()
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_124431_32524548.1158527283894--

From java-user-return-23418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 21:17:40 2006
Return-Path: <java-user-return-23418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63325 invoked from network); 17 Sep 2006 21:17:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 21:17:40 -0000
Received: (qmail 97611 invoked by uid 500); 17 Sep 2006 21:17:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97567 invoked by uid 500); 17 Sep 2006 21:17:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97556 invoked by uid 99); 17 Sep 2006 21:17:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 14:17:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 14:17:26 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 848B15B775; Sun, 17 Sep 2006 14:16:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7C1D87F403
	for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 14:16:57 -0700 (PDT)
Date: Sun, 17 Sep 2006 14:16:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Example question
In-Reply-To: <1cbd6f830609171408y24946480h430093ca8c2282bc@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609171411581.8705@hal.rescomp.berkeley.edu>
References: <1cbd6f830609160932l61a07b11n5471d71f35d567df@mail.gmail.com> 
 <05153FA7-4C5E-43F3-AAFC-EF4BCB01A7D0@ehatchersolutions.com> 
 <1cbd6f830609161639u701e8f0dp2c99777261e55fe0@mail.gmail.com> 
 <Pine.LNX.4.58.0609162035460.32095@hal.rescomp.berkeley.edu>
 <1cbd6f830609171408y24946480h430093ca8c2282bc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



: lucene-2.0.0/src/demo/org/apache/lucene/demo/SearchFiles.java (line 147)
:
: I am not sure where they are getting the "path". How are they inserting it
: into the index?
:
: Basically, I am trying to index the contents of the files, and the
: filesystem written date. Therefore, I started to create an index, but I am
: having no luck in either. I have simply been using the example indexing :-(

Have you read through the "Getting Started" guide that refers to this demo
code? ...
	http://lucene.apache.org/java/docs/gettingstarted.html

...have you taken a look at the files i already mentioned which are used
to build the indexes in the demo code?   If you follow along with the
Getting Started guide it should be pretty clear how the "path" of the
files get into fields.



: > : > > the Index code, there is no mention of "path". My question are:
: > : > > what is this
: > : > > path (I know it prints out the filesystem path)? Is this a reserved
: >
: > ...both HTMLDocument and FieldDocument (the classes used to build the
: > indexes for the demo code) do in fact crete fields named "apth" .... hence
: > i am stumped as to what exactly you are looking at.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 17 22:03:30 2006
Return-Path: <java-user-return-23419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70132 invoked from network); 17 Sep 2006 22:03:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2006 22:03:29 -0000
Received: (qmail 37078 invoked by uid 500); 17 Sep 2006 22:03:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36373 invoked by uid 500); 17 Sep 2006 22:03:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36362 invoked by uid 99); 17 Sep 2006 22:03:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 15:03:23 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 15:03:16 -0700
Received: by py-out-1112.google.com with SMTP id w49so4268907pyg
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 15:02:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iq6wG5PBas93ZTXC2xS25SCfVZ12CA6a/SRSRu7o+BJl7b0ZKR6ZBxpRX8+68B3KTBoF03r6IWCTSUPUr6vDUvA3r7Zdbi/9gNDj88LsNnjZoc4+tPIQT5vUmpjSGQOT3N7N75846KXQwQohpBxNojJj0wfn4FfM/KxE4ADELZo=
Received: by 10.35.95.1 with SMTP id x1mr22350052pyl;
        Sun, 17 Sep 2006 15:02:49 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Sun, 17 Sep 2006 15:02:49 -0700 (PDT)
Message-ID: <359a92830609171502n5ec962e0u35e0f3397fea621c@mail.gmail.com>
Date: Sun, 17 Sep 2006 18:02:49 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <bd818c7b0609171329t4e1c57ecj48ee3a93c388278e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_48559_16486133.1158530569647"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
	 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
	 <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com>
	 <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com>
	 <bd818c7b0609171044v5262c1a6hc551c263994c95a1@mail.gmail.com>
	 <Pine.LNX.4.58.0609171305320.5847@hal.rescomp.berkeley.edu>
	 <bd818c7b0609171329t4e1c57ecj48ee3a93c388278e@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_48559_16486133.1158530569647
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You probably want to tak a closer look at the StandardAnalyzer. It uses
StandardTokenizer and StandardFilter. From the javadoc

<<<<<StandardTokenizer

A grammar-based tokenizer constructed with JavaCC.

This should be a good tokenizer for most European-language documents:


   - Splits words at punctuation characters, removing punctuation.
   However, a dot that's not followed by whitespace is considered part of a
   token.
   - Splits words at hyphens, unless there's a number in the token, in
   which case the whole token is interpreted as a product number and is not
   split.
   - Recognizes email addresses and internet hostnames as one token.


any applications have specific tokenizer needs. If this tokenizer does not
suit your application, please consider copying this source code directory to
your project and maintaining your own grammar-based tokenizer.
>>>>

When I first started with Lucene, I was surprised that StandardAnalyzer did
the tricks it does. I quickly found that, especially when starting out, I
got more intuitive results by using one of the simpler analyzers,
WhitespaceAnalyzer, StopAnalyzer or SimpleAnalyzer.

And one of the coolest analyzers is PatternAnalyzer down in
org.apache.lucene.index.memory.PatternAnalyzer

which uses a regular expression to tokenize streams. But do note if you use
this that the regex recognizes tokens to *break* on, not what constitutes a
token....

Best
Erick

On 9/17/06, no spam <mrs.nospam@gmail.com> wrote:
>
> That question was badly worded.  I was trying to ask that when I write an
> index using the StandardAnalyzer, the docs are transformed using that
> analyzer then written to the index post transformation. So stop words or
> things like apostrophes would be removed.
>
> "Scott's Lawn and Garden Care"     becomes    "Scott Lawn Garden Care"
>
> It just seems that my index written using the StandardAnalyzer still has
> things like apostophes and also things like the & symbol.
>
> On 9/17/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> >
> >
> > what do you mean "written to the index per field" .. analyzers aren't
> > written to the index at all, the analyzer used is completely forgotten
> > once your index is built.  if you want seperate analyzers per field,
> take
> > a look at the PerFieldAnalyzerWrapper (i think that's the name) ... as
> for
> > why Stemmed Queries might match on terms indexed using StandardAnalyzer
> > ... who knows ... it depends on how exactly they are getting stemmed,
> and
> > what other types of data might have made it into your index (maybe your
> > source data had the words you are searching on spelled incorrectly as
> > well, and it just happens to match the stemmed versions).
> >
> > When you have questions like this, searcher.explain is your friend.
> >
> >
> >
> > -Hoss
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

------=_Part_48559_16486133.1158530569647--

From java-user-return-23420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 01:48:20 2006
Return-Path: <java-user-return-23420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14740 invoked from network); 18 Sep 2006 01:48:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 01:48:20 -0000
Received: (qmail 23715 invoked by uid 500); 18 Sep 2006 01:48:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23391 invoked by uid 500); 18 Sep 2006 01:48:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23378 invoked by uid 99); 18 Sep 2006 01:48:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 18:48:13 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mrs.nospam@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 18:48:05 -0700
Received: by nf-out-0910.google.com with SMTP id b2so2503180nfe
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 18:47:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Vcp/SNp5KgaMPdCT4rXTNjBUr/tPZ7EpB/62CefH+T4f6EaMaqVWqUINjVsxNszKNXKm/lOmvnQ7tH44Rd6rmR0TZ7EfmODxPzJxA/6Ca00+LYmMiYnDUxltaqQVVRFizPaeIm5VFLhrGn2ZIM7yuPf9MmNxjRlJI1vNuBtTh1w=
Received: by 10.49.55.13 with SMTP id h13mr16400965nfk;
        Sun, 17 Sep 2006 18:47:37 -0700 (PDT)
Received: by 10.48.210.6 with HTTP; Sun, 17 Sep 2006 18:47:36 -0700 (PDT)
Message-ID: <bd818c7b0609171847s332afefdgff5ae85cde0bcca3@mail.gmail.com>
Date: Sun, 17 Sep 2006 21:47:36 -0400
From: "no spam" <mrs.nospam@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: default AND operator
In-Reply-To: <Pine.LNX.4.58.0609171332580.8705@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_123507_21535419.1158544056942"
References: <bd818c7b0609161902o6dae66j2492870610d71fa7@mail.gmail.com>
	 <Pine.LNX.4.58.0609162046310.32095@hal.rescomp.berkeley.edu>
	 <bd818c7b0609170436na73d9c3qe311784dcf91ab93@mail.gmail.com>
	 <359a92830609170743p3532b060w81063193ff98b86@mail.gmail.com>
	 <bd818c7b0609170903o105f588h1dd3f82284dc7f08@mail.gmail.com>
	 <359a92830609171014x4fba8091r2d2975d35fdc2e37@mail.gmail.com>
	 <bd818c7b0609171044v5262c1a6hc551c263994c95a1@mail.gmail.com>
	 <Pine.LNX.4.58.0609171305320.5847@hal.rescomp.berkeley.edu>
	 <bd818c7b0609171329t4e1c57ecj48ee3a93c388278e@mail.gmail.com>
	 <Pine.LNX.4.58.0609171332580.8705@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_123507_21535419.1158544056942
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Truly I am new to Lucene.  That's the missing part ... I'm looking at the
stored values and not the indexed terms.

Mark

On 9/17/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:

1) maybe you didn't really use StandardAnalyzer when the index was built?
> 2) keep in mind there is a differnece between the indexed terms (matched
> when doing queries) and the the stored values of fields which are
> displayed when you look at docs -- the stored values are never affected by
> the analyzer.  when you say you still see apostophes in your index, are
> you looking at hte stored values, or are you looking ta the indexed Terms?
> .. as i recall Luke lets you see both.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_123507_21535419.1158544056942--

From java-user-return-23421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 04:14:17 2006
Return-Path: <java-user-return-23421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42647 invoked from network); 18 Sep 2006 04:14:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 04:14:17 -0000
Received: (qmail 37486 invoked by uid 500); 18 Sep 2006 04:14:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37450 invoked by uid 500); 18 Sep 2006 04:14:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37434 invoked by uid 99); 18 Sep 2006 04:14:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 21:14:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.39.31.158] (HELO zeus.atlassian.com) (64.39.31.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 21:14:01 -0700
Received: from [192.168.0.36] ([203.14.171.190])
	(authenticated (0 bits))
	by zeus.atlassian.com (8.12.11.20060308/8.11.6) with ESMTP id k8I4DWkt026267
	for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 23:13:33 -0500
Message-ID: <450E1DB8.6010505@atlassian.com>
Date: Mon, 18 Sep 2006 14:16:56 +1000
From: Jed Wesley-Smith <jed@atlassian.com>
User-Agent: Thunderbird 1.5.0.5 (X11/20060728)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Possible exceptions using IndexReader & IndexWriter
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

all,

We're just wondering if anyone has seen any exceptions when using the 
IndexWriter.addDocument(...) or IndexReader.deleteDocuments(Term term) 
methods apart from catastrophic IOExceptions (disk full/failed etc.).

Is it possible for instance that we may be able to create a document 
that causes an exception when written? It doesn't seem to be possible, 
and we've never seen it happen, but we just to check with everyone  to 
see if anyone knows of such things.

-- 
cheers,
- jed.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 04:24:16 2006
Return-Path: <java-user-return-23422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44284 invoked from network); 18 Sep 2006 04:24:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 04:24:16 -0000
Received: (qmail 50081 invoked by uid 500); 18 Sep 2006 04:24:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49989 invoked by uid 500); 18 Sep 2006 04:24:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49948 invoked by uid 99); 18 Sep 2006 04:24:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 21:24:08 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 17 Sep 2006 21:24:00 -0700
Received: by py-out-1112.google.com with SMTP id w49so4372030pyg
        for <java-user@lucene.apache.org>; Sun, 17 Sep 2006 21:23:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=KpbNJ6KXq/56VNQF9JiDZnN4gjYSal8uaE+a8jzOT7bSsGMhWV0Y5zRTrheJ6SCNfapTmvTTAqXE/PtRB5Z+rniZPX158JiMpbCdofajgcPrYbjAGXMWWpsE4C6EB3eZuYeKeAA5Vbdr+opGlOsqDjUIZC88YDfokgV/qWjmYm0=
Received: by 10.35.76.10 with SMTP id d10mr22900099pyl;
        Sun, 17 Sep 2006 21:23:33 -0700 (PDT)
Received: by 10.35.129.12 with HTTP; Sun, 17 Sep 2006 21:23:33 -0700 (PDT)
Message-ID: <c68e39170609172123w56710235rd12876b144ef6802@mail.gmail.com>
Date: Mon, 18 Sep 2006 00:23:33 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Possible exceptions using IndexReader & IndexWriter
In-Reply-To: <450E1DB8.6010505@atlassian.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <450E1DB8.6010505@atlassian.com>
X-Google-Sender-Auth: c1ce3910a45575ee
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/18/06, Jed Wesley-Smith <jed@atlassian.com> wrote:
> We're just wondering if anyone has seen any exceptions when using the
> IndexWriter.addDocument(...) or IndexReader.deleteDocuments(Term term)
> methods apart from catastrophic IOExceptions (disk full/failed etc.).

And out-of-memory exceptions.

> Is it possible for instance that we may be able to create a document
> that causes an exception when written?

IndexWriter.addDocument invokes the analyzer you are using for indexed
fields.  If any of the analyzers you are using can throw exceptions,
that would bubble up.

> It doesn't seem to be possible,
> and we've never seen it happen, but we just to check with everyone  to
> see if anyone knows of such things.

It might be a very rare case in Windows that renaming a file can fail
and result in an IOException.


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 07:46:09 2006
Return-Path: <java-user-return-23423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95639 invoked from network); 18 Sep 2006 07:46:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 07:46:08 -0000
Received: (qmail 797 invoked by uid 500); 18 Sep 2006 07:45:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 755 invoked by uid 500); 18 Sep 2006 07:45:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 743 invoked by uid 99); 18 Sep 2006 07:45:58 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [81.19.200.18] (HELO macaw.verisign.com) (81.19.200.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 00:45:58 -0700
Received: from BER1WNEXCN02.vcorp.ad.vrsn.com (ber1wnexcn02.vcorp.ad.vrsn.com [10.35.12.43])
	by macaw.verisign.com (8.12.11/8.12.11) with ESMTP id k8I7hdRN024179
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 09:43:55 +0200
Received: from BER1WNEXMB02.vcorp.ad.vrsn.com ([10.35.12.47]) by BER1WNEXCN02.vcorp.ad.vrsn.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 18 Sep 2006 09:43:53 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Storing fields without term positions
Date: Mon, 18 Sep 2006 09:44:49 +0200
Message-ID: <7E4AE9760453BD42A5930EB22DAB2C63EA33AC@BER1WNEXMB02.vcorp.ad.vrsn.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Storing fields without term positions
Thread-Index: AcbWdJED4jJTo/RHRtaALhwLlvzG7AEgVvWQ
From: "Nentwig, Timo" <timo.nentwig@jamba.net>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 18 Sep 2006 07:43:53.0142 (UTC) FILETIME=[3028AD60:01C6DAF6]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Hi everybody,
>=20
> is it possible to store fields without term position (the=20
> .prx file) data? We store sort of custom data in the field=20
> and use it as some sort of a filter for queries, so we just=20
> don't need any term position data and it bloats the index'=20
> size nearly by factor 3.

Does nobody know or is my concern unclear?

Thanks again
Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 08:59:54 2006
Return-Path: <java-user-return-23424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20641 invoked from network); 18 Sep 2006 08:59:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 08:59:54 -0000
Received: (qmail 31912 invoked by uid 500); 18 Sep 2006 08:59:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31883 invoked by uid 500); 18 Sep 2006 08:59:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31872 invoked by uid 99); 18 Sep 2006 08:59:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 01:59:47 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.36] (HELO web26014.mail.ukl.yahoo.com) (217.146.177.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 18 Sep 2006 01:59:35 -0700
Received: (qmail 44867 invoked by uid 60001); 18 Sep 2006 08:58:54 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=isiYG+nkL6q+mbERf2eRU18QiSErA47nDQk7YXGA97sNlOlvrcnLDuAckBeHEZShLX1mJ8pctqz2SqYtOjkGm8kyvSVeXjY0JKfNc2DaxO40IlMKdXqiGzla+6j78bHh8AGMj7Q78UE/sj0m0+4SPEKp2aM82UCXdWfWxXW5xhw=  ;
Message-ID: <20060918085854.44865.qmail@web26014.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26014.mail.ukl.yahoo.com via HTTP; Mon, 18 Sep 2006 08:58:54 GMT
Date: Mon, 18 Sep 2006 08:58:54 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Reply-To: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Storing fields without term positions
To: java-user@lucene.apache.org
In-Reply-To: <7E4AE9760453BD42A5930EB22DAB2C63EA33AC@BER1WNEXMB02.vcorp.ad.vrsn.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It is not currently possible to create an index without term position information.

Support for such a feature was mentioned as part of some long term objectives for more flexible indexing - http://wiki.apache.org/jakarta-lucene/FlexibleIndexing

Some debate here:
http://www.archivum.info/java-dev@lucene.apache.org/2006-06/msg00024.html

This is not a trivial change so I wouldn't make any plans on it arriving soon. As storage gets cheaper and cheaper I suspect the cost/benefit ratios of having the position info vs removing support get more strongly stacked in favour of keeping the position info.



----- Original Message ----
From: "Nentwig, Timo" <timo.nentwig@jamba.net>
To: java-user@lucene.apache.org
Sent: Monday, 18 September, 2006 8:44:49 AM
Subject: RE: Storing fields without term positions

> Hi everybody,
> 
> is it possible to store fields without term position (the 
> .prx file) data? We store sort of custom data in the field 
> and use it as some sort of a filter for queries, so we just 
> don't need any term position data and it bloats the index' 
> size nearly by factor 3.

Does nobody know or is my concern unclear?

Thanks again
Timo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 09:03:23 2006
Return-Path: <java-user-return-23425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22475 invoked from network); 18 Sep 2006 09:03:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 09:03:22 -0000
Received: (qmail 41575 invoked by uid 500); 18 Sep 2006 09:03:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41546 invoked by uid 500); 18 Sep 2006 09:03:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41501 invoked by uid 99); 18 Sep 2006 09:03:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 02:03:16 -0700
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_MESSAGE,MIME_HTML_MOSTLY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [205.158.169.234] (HELO EXEXCH.TIMOGEN.COM) (205.158.169.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 02:03:07 -0700
Received: from mtvexch.TIMOGEN.COM ([192.168.16.22]) by EXEXCH.TIMOGEN.COM with Microsoft SMTPSVC(6.0.3790.0);
	 Mon, 18 Sep 2006 01:58:17 -0700
Received: from scottguo ([192.168.6.118]) by mtvexch.TIMOGEN.COM with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 18 Sep 2006 01:58:16 -0700
From: "Scott Guo" <scott.guo@timogen.com>
To: <java-user@lucene.apache.org>
Subject: hi
Date: Mon, 18 Sep 2006 16:58:14 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0050_01C6DB43.A2B43A50"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcbbAJNuJOSPGCR0TsuNyG7OGUOO+w==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Message-ID: <MTVEXCHFRaqbC8wSA1X00000033@mtvexch.TIMOGEN.COM>
X-OriginalArrivalTime: 18 Sep 2006 08:58:16.0598 (UTC) FILETIME=[94960360:01C6DB00]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0050_01C6DB43.A2B43A50
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

 


------=_NextPart_000_0050_01C6DB43.A2B43A50--


From java-user-return-23426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 09:34:18 2006
Return-Path: <java-user-return-23426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33037 invoked from network); 18 Sep 2006 09:34:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 09:34:18 -0000
Received: (qmail 2805 invoked by uid 500); 18 Sep 2006 09:34:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2738 invoked by uid 500); 18 Sep 2006 09:34:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2703 invoked by uid 99); 18 Sep 2006 09:34:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 02:34:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.15.245.75] (HELO post01.avanza.se) (217.15.245.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 02:33:55 -0700
Received: from ad01.aza.se (ad01.aza.se [172.22.30.200])
	by post01.avanza.se (Postfix) with ESMTP id 77DF1746D5
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 11:33:14 +0200 (MET DST)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6DB05.99D88A64"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: Sorting on date in a frequently updated index
Date: Mon, 18 Sep 2006 11:34:12 +0200
Message-ID: <6F4F5B8F19AA954DB9002305E4D6D14901BDE2@ad01.aza.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting on date in a frequently updated index
Thread-Index: AcbbBZliehCgj5KvQuuIwq8wM1yCQw==
From: =?iso-8859-1?Q?Bj=F6rn_Ekengren?= <bjorn.ekengren@avanza.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6DB05.99D88A64
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I'm experiencing problems getting sort to work correctly The result is =
not completely out of order, but it is certainly not correct. I have an =
index with the following fields:=20
id        stored, un_tokenized
header    stored, tokenized
body      stored, tokenized
keywords  stored, tokenized
date      stored, un_tokenized
=20
The index is updated a couple of times per minute like this =
(pseudocode):
update(String id){
    indexreader.delete(id)
    indexreader.close();
    indexwriter.addDocument(getDocFromDB(id));
    indexwriter.close();
    indexreader =3D new IndexSearcher(myIndexDir);
}
String[] fields =3D new String[]{"header","body","keywords"}
QueryParser queryParser =3D new MultiFieldQueryParser(fields.toArray(new =
String[]{}), new =
SnowballAnalyzer("Swedish",MyIndexer.SWEDISH_STOP_WORDS)){
    @Override
    protected Query getRangeQuery(String field, String part1, String =
part2, boolean inclusive) throws ParseException {
        return new ConstantScoreRangeQuery(field,part1, part2, =
inclusive, inclusive);
   }
};
Query query =3D searcher.getQueryParser().parse(queryString);
IndexSearcher searcher =3D new IndexSearcher(directory);
Sort sorter =3D new Sort("date",true);
Hits hits =3D searcher.search(query,sorter);

The result, with date printed first(yyyyMMddhhmm):

200609151255 EUROPAB=D6RSER: GRUVOR F=D6RLORARE I V=C4NTAN P=C5 KPI =
338388
200609151255 EUROPAB=D6RSER: GRUVOR F=D6RLORARE I V=C4NTAN P=C5 KPI =
338389
200609151319 B=D6RSEN: AVVAKTANDE INF=D6R VAL OCH STATISTIK, OMXS30 =
-0,2% 338412
200609151319 B=D6RSEN: AVVAKTANDE INF=D6R VAL OCH STATISTIK, OMXS30 =
-0,2% 338413
200609151802 B=D6RSEN: BLANDAD UTVECKLING, BANKERNA F=D6RLORARE, OMXS30 =
-0,2% 338801
200609151802 B=D6RSEN: BLANDAD UTVECKLING, BANKERNA F=D6RLORARE, OMXS30 =
-0,2% 338802
200609131009 B=D6RSEN: SCANIA, BOLIDEN OCH VOLVO I FOKUS, OMXS30 +0,7% =
337857
200609131315 DJ MARKET TALK: Boliden Not A Perfect Takeover Target =
337936
200609130652 SVENSKA BOLAGS KONKURRENTER I USA KLOCKAN 06:51 337777
200609130705 BOLIDEN: BHP ANTAGLIGEN EJ INTRESSERAD AV F=D6RV=C4RV - =
DAIWA 337780
200609131251 B=D6RSEN: SCANIA UPP, BOLIDEN NED I BUDDJUNGELN, OMSX30 =
+0,7% 337930
200609130759 PM NYHETER I KORTHET ONSDAG 13 SEPTEMBER 337792
200609130837 B=D6RSEN: ST=D6D FR=C5N USA, AFF=C4RER I FORTSATT FOKUS =
337815
200609130959 ***BOLIDEN: HAR EJ KONTAKTATS AV BHP BILLITON 337846
200609131000 ***BOLIDEN: HAR EJ KONTAKTATS AV N=C5GOT BOLAG 337849
200609131002 BOLIDEN: HAR EJ KONTAKTATS AV BHP EL N=C5GOT ANNAT BOLAG =
ENL VD 337850
200609121645 BOLIDEN: BHP BILLITON VILL INTE KOMMENTERA RYKTEN 337729
200609122204 SVENSKA BOLAGS KONKURRENTER I USA KLOCKAN 22:03 337760
200609121800 B=D6RSEN:BUDRYKTEN KRING SCANIA OCH BOLIDEN GAV LYFT,OMXS30 =
+1,9 337735
200609121843 SCANIA: N=C4STA INFORMATION KOMMER FR=C5N EXTERN PART - OMX =
337746
200609121555 RYKTE OM BUD DRIVER KURSEN <NY> Boliden 337723
200604071233 B=D6RSEN: LUGN HANDEL I V=C4NTAN P=C5 JOBBSIFFROR, OMXS =
+1,0% 337224
200604071005 B=D6RSEN: UPP I V=C4NTAN P=C5 AMERIKANSKA SIFFROR, OMXS =
+0,3% 337165
200604071256 Boliden: Kallelse till Bolidens =E5rsst=E4mma Boliden =
337235
200604051359 B=D6RSEN: H=D6G AKTIVITET MED VISST FOKUS P=C5 METALLER, =
OMXS +0,1% 335868

=20
As seen above the year, month and day is sorted correctly, but hour and =
minute appears to be sorted at random. How come ??
=20
/B
=20

------_=_NextPart_001_01C6DB05.99D88A64--

From java-user-return-23427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 10:10:33 2006
Return-Path: <java-user-return-23427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44453 invoked from network); 18 Sep 2006 10:10:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 10:10:32 -0000
Received: (qmail 73065 invoked by uid 500); 18 Sep 2006 10:10:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73043 invoked by uid 500); 18 Sep 2006 10:10:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73032 invoked by uid 99); 18 Sep 2006 10:10:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 03:10:23 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jason.polites@gmail.com designates 66.249.82.235 as permitted sender)
Received: from [66.249.82.235] (HELO wx-out-0506.google.com) (66.249.82.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 03:10:14 -0700
Received: by wx-out-0506.google.com with SMTP id s15so3591335wxc
        for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 03:09:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=WlnzhDFqoI3LqCLn0yz9T4pg3w+2O9fQF0GU35V/j89g1DPKdvy2nquI/WTlESQhVwJlQGAwLxqX/S5UtSYMJ1ZgYzlFawZgdO/iDENgnSxApz9FVcX6DHjPP/Lecjd0V7UpmA5+MwoQMhgI1QNWLB3kjihrdV2rvd38EJKT0gU=
Received: by 10.70.73.12 with SMTP id v12mr19823507wxa;
        Mon, 18 Sep 2006 03:09:28 -0700 (PDT)
Received: by 10.70.109.14 with HTTP; Mon, 18 Sep 2006 03:09:26 -0700 (PDT)
Message-ID: <d8050f240609180309t78e9af69n2b74f4781ff4bfc3@mail.gmail.com>
Date: Mon, 18 Sep 2006 20:09:26 +1000
From: "Jason Polites" <jason.polites@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Possible exceptions using IndexReader & IndexWriter
In-Reply-To: <c68e39170609172123w56710235rd12876b144ef6802@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_288780_2695632.1158574166962"
References: <450E1DB8.6010505@atlassian.com>
	 <c68e39170609172123w56710235rd12876b144ef6802@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_288780_2695632.1158574166962
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I've also seen FileNotFound exceptions when attempting a search on an index
while it's being updated, and the searcher is in a different JVM.  This is
supposed to be supported, but on Windows seems to regularly fail (for me
anyway).

The simplest solution to this would be a service oriented approach, using a
web service or RMI interface to the index.  Performance issues not
withstanding.

On 9/18/06, Yonik Seeley <yonik@apache.org> wrote:
>
> On 9/18/06, Jed Wesley-Smith <jed@atlassian.com> wrote:
> > We're just wondering if anyone has seen any exceptions when using the
> > IndexWriter.addDocument(...) or IndexReader.deleteDocuments(Term term)
> > methods apart from catastrophic IOExceptions (disk full/failed etc.).
>
> And out-of-memory exceptions.
>
> > Is it possible for instance that we may be able to create a document
> > that causes an exception when written?
>
> IndexWriter.addDocument invokes the analyzer you are using for indexed
> fields.  If any of the analyzers you are using can throw exceptions,
> that would bubble up.
>
> > It doesn't seem to be possible,
> > and we've never seen it happen, but we just to check with everyone  to
> > see if anyone knows of such things.
>
> It might be a very rare case in Windows that renaming a file can fail
> and result in an IOException.
>
>
> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene search
> server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_288780_2695632.1158574166962--

From java-user-return-23428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 10:47:11 2006
Return-Path: <java-user-return-23428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57603 invoked from network); 18 Sep 2006 10:47:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 10:47:11 -0000
Received: (qmail 42213 invoked by uid 500); 18 Sep 2006 10:47:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41982 invoked by uid 500); 18 Sep 2006 10:47:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41966 invoked by uid 99); 18 Sep 2006 10:47:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 03:47:04 -0700
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=DATE_IN_PAST_96_XX,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.81.148.13] (HELO smtp.isoco.com) (62.81.148.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 03:46:56 -0700
Received: by smtp.isoco.com (Postfix-smc, from userid 65534)
	id 98697108CBF; Mon, 18 Sep 2006 12:50:25 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on 
	kilimanjaro.isoco.net
X-Spam-Level: 
Received: from intranet.isoco.net (vinson.isoco.net [172.16.0.45])
	by smtp.isoco.com (Postfix-smc) with ESMTP id 4C347108CA4
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 12:50:24 +0200 (CEST)
Received: from [172.18.2.125] (lrodrigow.mad.isoco.net [172.18.2.125])
	(using SSLv3 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by intranet.isoco.net (Postfix) with ESMTP id 2FF944DD94
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 12:45:46 +0200 (CEST)
Message-ID: <12D324AE.2000000@isoco.com>
Date: Fri, 04 Jan 1980 10:49:34 +0100
From: Luis Rodrigo Aguado <lrodrigo@isoco.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Versions
Content-Type: multipart/alternative;
 boundary="------------080606040008050508000102"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.3 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	DATE_IN_PAST_96_XX,HTML_MESSAGE autolearn=no version=3.1.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------080606040008050508000102
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

    Hi all,

    I've been looking through the documentation in the official 
web-site, and the Javadoc belongs to v2.1, that I could not find 
anywhere, anyone has a clue about where to find it or when will it be 
officially released?

    Thanks!



--------------080606040008050508000102--

From java-user-return-23429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 14:36:56 2006
Return-Path: <java-user-return-23429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56367 invoked from network); 18 Sep 2006 14:36:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 14:36:56 -0000
Received: (qmail 95363 invoked by uid 500); 18 Sep 2006 14:36:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95288 invoked by uid 500); 18 Sep 2006 14:36:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95236 invoked by uid 99); 18 Sep 2006 14:36:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 07:36:46 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E52C45B779; Mon, 18 Sep 2006 07:35:46 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D597D7F403
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 07:35:46 -0700 (PDT)
Date: Mon, 18 Sep 2006 07:35:46 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Versions
In-Reply-To: <12D324AE.2000000@isoco.com>
Message-ID: <Pine.LNX.4.58.0609180733590.12778@hal.rescomp.berkeley.edu>
References: <12D324AE.2000000@isoco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Date: Fri, 04 Jan 1980 10:49:34 +0100
: Subject: Versions

1) you should fix your clock.

2) ...

:     I've been looking through the documentation in the official
: web-site, and the Javadoc belongs to v2.1, that I could not find
: anywhere, anyone has a clue about where to find it or when will it be
: officially released?

the javadocs on the website are for the current HEAD of in the source
control repository ... they represent the hypothetical 2.1 release if it
were released *now*.  There is no current plan for if/when 2.1 will be
released.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 14:52:13 2006
Return-Path: <java-user-return-23430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59944 invoked from network); 18 Sep 2006 14:52:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 14:52:13 -0000
Received: (qmail 13717 invoked by uid 500); 18 Sep 2006 14:52:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13471 invoked by uid 500); 18 Sep 2006 14:52:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13460 invoked by uid 99); 18 Sep 2006 14:52:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 07:52:05 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 807355B779; Mon, 18 Sep 2006 07:51:15 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7C9DB7F403
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 07:51:15 -0700 (PDT)
Date: Mon, 18 Sep 2006 07:51:15 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Sorting on date in a frequently updated index
In-Reply-To: <6F4F5B8F19AA954DB9002305E4D6D14901BDE2@ad01.aza.se>
Message-ID: <Pine.LNX.4.58.0609180741591.12778@hal.rescomp.berkeley.edu>
References: <6F4F5B8F19AA954DB9002305E4D6D14901BDE2@ad01.aza.se>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


i suspect this has everything to do with the specifics of how you are
adding the date field to the Documents before you index them ... are you
using DateTools? what Resolution are you specifying?

keep in mind that the "stored" date value you see isn't neccessarily the
exact same thing as the "indexed" date value that is being sorted on.

: Date: Mon, 18 Sep 2006 11:34:12 +0200
: From: Bj=F6rn Ekengren <bjorn.ekengren@avanza.se>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Sorting on date in a frequently updated index
:
: I'm experiencing problems getting sort to work correctly The result is no=
t completely out of order, but it is certainly not correct. I have an index=
 with the following fields:
: id        stored, un_tokenized
: header    stored, tokenized
: body      stored, tokenized
: keywords  stored, tokenized
: date      stored, un_tokenized
:
: The index is updated a couple of times per minute like this (pseudocode):
: update(String id){
:     indexreader.delete(id)
:     indexreader.close();
:     indexwriter.addDocument(getDocFromDB(id));
:     indexwriter.close();
:     indexreader =3D new IndexSearcher(myIndexDir);
: }
: String[] fields =3D new String[]{"header","body","keywords"}
: QueryParser queryParser =3D new MultiFieldQueryParser(fields.toArray(new =
String[]{}), new SnowballAnalyzer("Swedish",MyIndexer.SWEDISH_STOP_WORDS)){
:     @Override
:     protected Query getRangeQuery(String field, String part1, String part=
2, boolean inclusive) throws ParseException {
:         return new ConstantScoreRangeQuery(field,part1, part2, inclusive,=
 inclusive);
:    }
: };
: Query query =3D searcher.getQueryParser().parse(queryString);
: IndexSearcher searcher =3D new IndexSearcher(directory);
: Sort sorter =3D new Sort("date",true);
: Hits hits =3D searcher.search(query,sorter);
:
: The result, with date printed first(yyyyMMddhhmm):
:
: 200609151255 EUROPAB=D6RSER: GRUVOR F=D6RLORARE I V=C4NTAN P=C5 KPI 33838=
8
: 200609151255 EUROPAB=D6RSER: GRUVOR F=D6RLORARE I V=C4NTAN P=C5 KPI 33838=
9
: 200609151319 B=D6RSEN: AVVAKTANDE INF=D6R VAL OCH STATISTIK, OMXS30 -0,2%=
 338412
: 200609151319 B=D6RSEN: AVVAKTANDE INF=D6R VAL OCH STATISTIK, OMXS30 -0,2%=
 338413
: 200609151802 B=D6RSEN: BLANDAD UTVECKLING, BANKERNA F=D6RLORARE, OMXS30 -=
0,2% 338801
: 200609151802 B=D6RSEN: BLANDAD UTVECKLING, BANKERNA F=D6RLORARE, OMXS30 -=
0,2% 338802
: 200609131009 B=D6RSEN: SCANIA, BOLIDEN OCH VOLVO I FOKUS, OMXS30 +0,7% 33=
7857
: 200609131315 DJ MARKET TALK: Boliden Not A Perfect Takeover Target 337936
: 200609130652 SVENSKA BOLAGS KONKURRENTER I USA KLOCKAN 06:51 337777
: 200609130705 BOLIDEN: BHP ANTAGLIGEN EJ INTRESSERAD AV F=D6RV=C4RV - DAIW=
A 337780
: 200609131251 B=D6RSEN: SCANIA UPP, BOLIDEN NED I BUDDJUNGELN, OMSX30 +0,7=
% 337930
: 200609130759 PM NYHETER I KORTHET ONSDAG 13 SEPTEMBER 337792
: 200609130837 B=D6RSEN: ST=D6D FR=C5N USA, AFF=C4RER I FORTSATT FOKUS 3378=
15
: 200609130959 ***BOLIDEN: HAR EJ KONTAKTATS AV BHP BILLITON 337846
: 200609131000 ***BOLIDEN: HAR EJ KONTAKTATS AV N=C5GOT BOLAG 337849
: 200609131002 BOLIDEN: HAR EJ KONTAKTATS AV BHP EL N=C5GOT ANNAT BOLAG ENL=
 VD 337850
: 200609121645 BOLIDEN: BHP BILLITON VILL INTE KOMMENTERA RYKTEN 337729
: 200609122204 SVENSKA BOLAGS KONKURRENTER I USA KLOCKAN 22:03 337760
: 200609121800 B=D6RSEN:BUDRYKTEN KRING SCANIA OCH BOLIDEN GAV LYFT,OMXS30 =
+1,9 337735
: 200609121843 SCANIA: N=C4STA INFORMATION KOMMER FR=C5N EXTERN PART - OMX =
337746
: 200609121555 RYKTE OM BUD DRIVER KURSEN <NY> Boliden 337723
: 200604071233 B=D6RSEN: LUGN HANDEL I V=C4NTAN P=C5 JOBBSIFFROR, OMXS +1,0=
% 337224
: 200604071005 B=D6RSEN: UPP I V=C4NTAN P=C5 AMERIKANSKA SIFFROR, OMXS +0,3=
% 337165
: 200604071256 Boliden: Kallelse till Bolidens =E5rsst=E4mma Boliden 337235
: 200604051359 B=D6RSEN: H=D6G AKTIVITET MED VISST FOKUS P=C5 METALLER, OMX=
S +0,1% 335868
:
:
: As seen above the year, month and day is sorted correctly, but hour and m=
inute appears to be sorted at random. How come ??
:
: /B
:
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 14:57:18 2006
Return-Path: <java-user-return-23431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62043 invoked from network); 18 Sep 2006 14:57:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 14:57:17 -0000
Received: (qmail 27698 invoked by uid 500); 18 Sep 2006 14:57:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27584 invoked by uid 500); 18 Sep 2006 14:57:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27573 invoked by uid 99); 18 Sep 2006 14:57:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 07:57:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.15.245.75] (HELO post01.avanza.se) (217.15.245.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 07:57:01 -0700
Received: from ad01.aza.se (ad01.aza.se [172.22.30.200])
	by post01.avanza.se (Postfix) with ESMTP id D0244746B5
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 16:55:45 +0200 (MET DST)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Sorting on date in a frequently updated index
Date: Mon, 18 Sep 2006 16:56:44 +0200
Message-ID: <6F4F5B8F19AA954DB9002305E4D6D14901BDE4@ad01.aza.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting on date in a frequently updated index
Thread-Index: AcbbMidjv5hX5vmyQommJC56a1RDNwAADw6A
From: =?iso-8859-1?Q?Bj=F6rn_Ekengren?= <bjorn.ekengren@avanza.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ah, that might be it! I store the date directly as a string in the form =
"yyyyMMddhhmm". I will try DateTools...

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org]
Sent: den 18 september 2006 16:51
To: java-user@lucene.apache.org
Subject: Re: Sorting on date in a frequently updated index
Importance: Low



i suspect this has everything to do with the specifics of how you are
adding the date field to the Documents before you index them ... are you
using DateTools? what Resolution are you specifying?

keep in mind that the "stored" date value you see isn't neccessarily the
exact same thing as the "indexed" date value that is being sorted on.

: Date: Mon, 18 Sep 2006 11:34:12 +0200
: From: Bj=F6rn Ekengren <bjorn.ekengren@avanza.se>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Sorting on date in a frequently updated index
:
: I'm experiencing problems getting sort to work correctly The result is =
not completely out of order, but it is certainly not correct. I have an =
index with the following fields:
: id        stored, un_tokenized
: header    stored, tokenized
: body      stored, tokenized
: keywords  stored, tokenized
: date      stored, un_tokenized
:
: The index is updated a couple of times per minute like this =
(pseudocode):
: update(String id){
:     indexreader.delete(id)
:     indexreader.close();
:     indexwriter.addDocument(getDocFromDB(id));
:     indexwriter.close();
:     indexreader =3D new IndexSearcher(myIndexDir);
: }
: String[] fields =3D new String[]{"header","body","keywords"}
: QueryParser queryParser =3D new =
MultiFieldQueryParser(fields.toArray(new String[]{}), new =
SnowballAnalyzer("Swedish",MyIndexer.SWEDISH_STOP_WORDS)){
:     @Override
:     protected Query getRangeQuery(String field, String part1, String =
part2, boolean inclusive) throws ParseException {
:         return new ConstantScoreRangeQuery(field,part1, part2, =
inclusive, inclusive);
:    }
: };
: Query query =3D searcher.getQueryParser().parse(queryString);
: IndexSearcher searcher =3D new IndexSearcher(directory);
: Sort sorter =3D new Sort("date",true);
: Hits hits =3D searcher.search(query,sorter);
:
: The result, with date printed first(yyyyMMddhhmm):
:
: 200609151255 EUROPAB=D6RSER: GRUVOR F=D6RLORARE I V=C4NTAN P=C5 KPI =
338388
: 200609151255 EUROPAB=D6RSER: GRUVOR F=D6RLORARE I V=C4NTAN P=C5 KPI =
338389
: 200609151319 B=D6RSEN: AVVAKTANDE INF=D6R VAL OCH STATISTIK, OMXS30 =
-0,2% 338412
: 200609151319 B=D6RSEN: AVVAKTANDE INF=D6R VAL OCH STATISTIK, OMXS30 =
-0,2% 338413
: 200609151802 B=D6RSEN: BLANDAD UTVECKLING, BANKERNA F=D6RLORARE, =
OMXS30 -0,2% 338801
: 200609151802 B=D6RSEN: BLANDAD UTVECKLING, BANKERNA F=D6RLORARE, =
OMXS30 -0,2% 338802
: 200609131009 B=D6RSEN: SCANIA, BOLIDEN OCH VOLVO I FOKUS, OMXS30 +0,7% =
337857
: 200609131315 DJ MARKET TALK: Boliden Not A Perfect Takeover Target =
337936
: 200609130652 SVENSKA BOLAGS KONKURRENTER I USA KLOCKAN 06:51 337777
: 200609130705 BOLIDEN: BHP ANTAGLIGEN EJ INTRESSERAD AV F=D6RV=C4RV - =
DAIWA 337780
: 200609131251 B=D6RSEN: SCANIA UPP, BOLIDEN NED I BUDDJUNGELN, OMSX30 =
+0,7% 337930
: 200609130759 PM NYHETER I KORTHET ONSDAG 13 SEPTEMBER 337792
: 200609130837 B=D6RSEN: ST=D6D FR=C5N USA, AFF=C4RER I FORTSATT FOKUS =
337815
: 200609130959 ***BOLIDEN: HAR EJ KONTAKTATS AV BHP BILLITON 337846
: 200609131000 ***BOLIDEN: HAR EJ KONTAKTATS AV N=C5GOT BOLAG 337849
: 200609131002 BOLIDEN: HAR EJ KONTAKTATS AV BHP EL N=C5GOT ANNAT BOLAG =
ENL VD 337850
: 200609121645 BOLIDEN: BHP BILLITON VILL INTE KOMMENTERA RYKTEN 337729
: 200609122204 SVENSKA BOLAGS KONKURRENTER I USA KLOCKAN 22:03 337760
: 200609121800 B=D6RSEN:BUDRYKTEN KRING SCANIA OCH BOLIDEN GAV =
LYFT,OMXS30 +1,9 337735
: 200609121843 SCANIA: N=C4STA INFORMATION KOMMER FR=C5N EXTERN PART - =
OMX 337746
: 200609121555 RYKTE OM BUD DRIVER KURSEN <NY> Boliden 337723
: 200604071233 B=D6RSEN: LUGN HANDEL I V=C4NTAN P=C5 JOBBSIFFROR, OMXS =
+1,0% 337224
: 200604071005 B=D6RSEN: UPP I V=C4NTAN P=C5 AMERIKANSKA SIFFROR, OMXS =
+0,3% 337165
: 200604071256 Boliden: Kallelse till Bolidens =E5rsst=E4mma Boliden =
337235
: 200604051359 B=D6RSEN: H=D6G AKTIVITET MED VISST FOKUS P=C5 METALLER, =
OMXS +0,1% 335868
:
:
: As seen above the year, month and day is sorted correctly, but hour =
and minute appears to be sorted at random. How come ??
:
: /B
:
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 15:06:39 2006
Return-Path: <java-user-return-23432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64628 invoked from network); 18 Sep 2006 15:06:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 15:06:39 -0000
Received: (qmail 51952 invoked by uid 500); 18 Sep 2006 15:06:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51920 invoked by uid 500); 18 Sep 2006 15:06:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51909 invoked by uid 99); 18 Sep 2006 15:06:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 08:06:29 -0700
Received: from [128.230.84.138] (syru84-138.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.157EC5EB@mailer.syr.edu>; Mon, 18 Sep 2006 11:05:45 -0400
Message-ID: <450EB5C9.30005@syr.edu>
Date: Mon, 18 Sep 2006 11:05:45 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Versions
References: <12D324AE.2000000@isoco.com> <Pine.LNX.4.58.0609180733590.12778@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0609180733590.12778@hal.rescomp.berkeley.edu>
X-Enigmail-Version: 0.94.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Luis,

Chris Hostetter wrote:
> Luis Rodrigo Aguado wrote:
> :     I've been looking through the documentation in the official
> : web-site, and the Javadoc belongs to v2.1, that I could not find
> : anywhere, anyone has a clue about where to find it or when will it be
> : officially released?
> 
> the javadocs on the website are for the current HEAD of in the source
> control repository ... they represent the hypothetical 2.1 release if it
> were released *now*.  There is no current plan for if/when 2.1 will be
> released.

The trunk (a.k.a. "HEAD") is quite stable and usable (with *both* 1.4
and 1.5 JVMs) as it is right now.  You can download a nightly trunk
build (roughly corresponding to the "2.1-dev" javadocs you see on the
website) here:

<http://people.apache.org/dist/lucene/java/nightly/>

The next release will be 2.1.0, unless bugfixes are applied to the 2.0.0
release, and then released as 2.0.1, but this now looks pretty unlikely
-- see the (long-unacted-on) 2.0.1 release proposal on the java-dev
mailing list here:

<http://www.nabble.com/2.0.1-release-----was-Re%3A-Web-search-demo-does-not-work-tf2007758.html>.

In a recent (and long-running) discussion about moving the minimum
supported JVM version from 1.4 to 1.5, it was proposed that the 2.1
release be the point at which Lucene makes this switch.  The most recent
proposal on the subject by Doug Cutting, the Lucene FCG (founder and
chief guru), however, is that Java Lucene would switch to supporting
Java 1.5 features when a GCJ release supports those features, so the
Lucene 2.1 release may not be the target for switching to Java 1.5; see:
 <http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200607.mbox/%3c44AFE036.6020408@apache.org%3e>

Steve


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 15:20:43 2006
Return-Path: <java-user-return-23433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69686 invoked from network); 18 Sep 2006 15:20:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 15:20:42 -0000
Received: (qmail 84119 invoked by uid 500); 18 Sep 2006 15:20:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84102 invoked by uid 500); 18 Sep 2006 15:20:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84091 invoked by uid 99); 18 Sep 2006 15:20:35 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 08:20:35 -0700
Received: from mailhub.lss.emc.com (nirah.lss.emc.com [10.254.144.13])
	by mexforward.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8IFCeM5002942
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 11:12:40 -0400 (EDT)
Received: from corpussmtp3.corp.emc.com (corpussmtp3.corp.emc.com [10.254.64.53])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8IFC08k007295
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 11:12:39 -0400 (EDT)
From: Lee_Gary@emc.com
Received: from CORPUSMX40B.corp.emc.com ([10.254.64.48]) by corpussmtp3.corp.emc.com with Microsoft SMTPSVC(6.0.3790.0);
	 Mon, 18 Sep 2006 11:11:54 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: best way to get specific results
Date: Mon, 18 Sep 2006 11:11:53 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D0456440D@CORPUSMX40B.corp.emc.com>
In-Reply-To: <Pine.LNX.4.58.0609160720220.15778@hal.rescomp.berkeley.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: best way to get specific results
Thread-Index: AcbZm5o8U8oUxdeGRHqCyFDjrCyC0QBl591A
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 18 Sep 2006 15:11:54.0322 (UTC) FILETIME=[C6973B20:01C6DB34]
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.4.0.264935, Antispam-Data: 2006.9.18.75442
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CT 0, __CTE 0, __CTYPE_CHARSET_QUOTED 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __IMS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0'
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the info on this. Since I should use the search function that
returns TopDocs, I was wondering what was the proper way to create a
Weight object to pass into the search function.=20

There are 2 functions in the Query class that I see: createWeight and
weight, which both return a Weight object. Is there a difference between
these 2, and which one should I use?

Once I have a Weight object named, for example, w, do I just use the
search function as this?

IndexSearcher is =3D new IndexSearcher(fsDir);
Query q =3D ...
Weight w =3D q.createWeight(is); or Weight w =3D q.weight(is);
is.search(w, null, 100); // no filter, want top 100 docs

For the case with a filter, would it be:
is.search(w, f, 100);

Thanks
Gary

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Sent: Saturday, September 16, 2006 07:22 AM
To: java-user@lucene.apache.org
Subject: RE: best way to get specific results

: IndexSearcher.search(Query, Filter) method). Im just wrapping a
: ConstantScoreQuery around the filter, and passing it into the
: IndexSearcher.search(Query) method to return a Hits object. Then Im
: asking for the 500th to 550th doc in the Hits object.
:
: Would such a case still cause Hits to rexecute over and over again on
: higher numbered results? Or is this different because Im using a

yes... it doesn't matter what type of query you use ... Hits is not a
good idea if you wnat results really far down the list.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 15:26:33 2006
Return-Path: <java-user-return-23434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71393 invoked from network); 18 Sep 2006 15:26:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 15:26:33 -0000
Received: (qmail 93004 invoked by uid 500); 18 Sep 2006 15:26:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92503 invoked by uid 500); 18 Sep 2006 15:26:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92490 invoked by uid 99); 18 Sep 2006 15:26:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [62.81.148.13] (HELO smtp.isoco.com) (62.81.148.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 08:26:23 -0700
Received: by smtp.isoco.com (Postfix-smc, from userid 65534)
	id 57DB9108C7A; Mon, 18 Sep 2006 17:29:52 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on 
	kilimanjaro.isoco.net
X-Spam-Level: 
Received: from intranet.isoco.net (vinson.isoco.net [172.16.0.45])
	by smtp.isoco.com (Postfix-smc) with ESMTP id 63C8AA7CAE
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 17:29:51 +0200 (CEST)
Received: from [172.18.2.125] (lrodrigow.mad.isoco.net [172.18.2.125])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by intranet.isoco.net (Postfix) with ESMTP id A76C04DD94
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 17:25:11 +0200 (CEST)
Message-ID: <450EBA80.9050604@isoco.com>
Date: Mon, 18 Sep 2006 17:25:52 +0200
From: Luis Rodrigo Aguado <lrodrigo@isoco.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Versions
References: <12D324AE.2000000@isoco.com> <Pine.LNX.4.58.0609180733590.12778@hal.rescomp.berkeley.edu> <450EB5C9.30005@syr.edu>
In-Reply-To: <450EB5C9.30005@syr.edu>
Content-Type: multipart/alternative;
 boundary="------------090503050106080107040202"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.0 required=5.0 tests=ALL_TRUSTED,BAYES_00,
	HTML_30_40,HTML_MESSAGE autolearn=ham version=3.1.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------090503050106080107040202
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Thanks a lot!!!

I have downloaded the last nightly build. I was looking for an 
interesting method I found in the javadoc (Explanation.getSummary()) but 
I found nothing similar, only getDescription() and getDetails(), which 
were already present in v2.0. Is this method still to be added? Or has 
it been discarded?

Thanks in advance,

Luis.


Steven Rowe wrote:
> Hi Luis,
>
> Chris Hostetter wrote:
>   
>> Luis Rodrigo Aguado wrote:
>> :     I've been looking through the documentation in the official
>> : web-site, and the Javadoc belongs to v2.1, that I could not find
>> : anywhere, anyone has a clue about where to find it or when will it be
>> : officially released?
>>
>> the javadocs on the website are for the current HEAD of in the source
>> control repository ... they represent the hypothetical 2.1 release if it
>> were released *now*.  There is no current plan for if/when 2.1 will be
>> released.
>>     
>
> The trunk (a.k.a. "HEAD") is quite stable and usable (with *both* 1.4
> and 1.5 JVMs) as it is right now.  You can download a nightly trunk
> build (roughly corresponding to the "2.1-dev" javadocs you see on the
> website) here:
>
> <http://people.apache.org/dist/lucene/java/nightly/>
>
> The next release will be 2.1.0, unless bugfixes are applied to the 2.0.0
> release, and then released as 2.0.1, but this now looks pretty unlikely
> -- see the (long-unacted-on) 2.0.1 release proposal on the java-dev
> mailing list here:
>
> <http://www.nabble.com/2.0.1-release-----was-Re%3A-Web-search-demo-does-not-work-tf2007758.html>.
>
> In a recent (and long-running) discussion about moving the minimum
> supported JVM version from 1.4 to 1.5, it was proposed that the 2.1
> release be the point at which Lucene makes this switch.  The most recent
> proposal on the subject by Doug Cutting, the Lucene FCG (founder and
> chief guru), however, is that Java Lucene would switch to supporting
> Java 1.5 features when a GCJ release supports those features, so the
> Lucene 2.1 release may not be the target for switching to Java 1.5; see:
>  <http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200607.mbox/%3c44AFE036.6020408@apache.org%3e>
>
> Steve
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>   

--------------090503050106080107040202--

From java-user-return-23435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 15:27:10 2006
Return-Path: <java-user-return-23435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71605 invoked from network); 18 Sep 2006 15:27:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 15:27:10 -0000
Received: (qmail 95210 invoked by uid 500); 18 Sep 2006 15:26:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95173 invoked by uid 500); 18 Sep 2006 15:26:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95149 invoked by uid 99); 18 Sep 2006 15:26:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 08:26:56 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BCDEA5B77A; Mon, 18 Sep 2006 08:26:05 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A73327F403
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 08:26:05 -0700 (PDT)
Date: Mon, 18 Sep 2006 08:26:05 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: best way to get specific results
In-Reply-To: <BED850C725E74F47A0F69CC0EE9AB64D0456440D@CORPUSMX40B.corp.emc.com>
Message-ID: <Pine.LNX.4.58.0609180823590.15171@hal.rescomp.berkeley.edu>
References: <BED850C725E74F47A0F69CC0EE9AB64D0456440D@CORPUSMX40B.corp.emc.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Thanks for the info on this. Since I should use the search function that
: returns TopDocs, I was wondering what was the proper way to create a
: Weight object to pass into the search function.

I think you are getting too hung up on the method summary section of the
IndexSearcher javadocs ... IndexSearcher also supports all of the methods
in the Searcher interface, like...

   TopDocs d = searcher.search(myQuery, (Filter)null, 100);




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 15:34:53 2006
Return-Path: <java-user-return-23436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75475 invoked from network); 18 Sep 2006 15:34:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 15:34:53 -0000
Received: (qmail 23133 invoked by uid 500); 18 Sep 2006 15:34:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23089 invoked by uid 500); 18 Sep 2006 15:34:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23078 invoked by uid 99); 18 Sep 2006 15:34:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 08:34:42 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 7BCF65B77C; Mon, 18 Sep 2006 08:33:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 77DD67F403
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 08:33:52 -0700 (PDT)
Date: Mon, 18 Sep 2006 08:33:52 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Versions
In-Reply-To: <450EBA80.9050604@isoco.com>
Message-ID: <Pine.LNX.4.58.0609180831120.15171@hal.rescomp.berkeley.edu>
References: <12D324AE.2000000@isoco.com> <Pine.LNX.4.58.0609180733590.12778@hal.rescomp.berkeley.edu>
 <450EB5C9.30005@syr.edu> <450EBA80.9050604@isoco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I have downloaded the last nightly build. I was looking for an
: interesting method I found in the javadoc (Explanation.getSummary()) but
: I found nothing similar, only getDescription() and getDetails(), which
: were already present in v2.0. Is this method still to be added? Or has
: it been discarded?

it's in the trunk (hence it's in the online javadocs) .... i see no reason
why it would be discarded, but there is also nothing very special about
it...

  protected String getSummary() {
    return getValue() + " = " + getDescription();
  }

...it was only added to Explanation so subclasses (like
ComplexExplanation) could be written without needing to cut/paste a lot of
code to make the toString and toHtml methods work right.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 16:17:47 2006
Return-Path: <java-user-return-23437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91620 invoked from network); 18 Sep 2006 16:17:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 16:17:46 -0000
Received: (qmail 23672 invoked by uid 500); 18 Sep 2006 16:17:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23640 invoked by uid 500); 18 Sep 2006 16:17:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23629 invoked by uid 99); 18 Sep 2006 16:17:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 09:17:39 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.222.32.20] (HELO mexforward.lss.emc.com) (128.222.32.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 09:17:35 -0700
Received: from mailhub.lss.emc.com (uraeus.lss.emc.com [10.254.144.14])
	by mexforward.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8IGHEu9011439
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 12:17:14 -0400 (EDT)
Received: from corpussmtp2.corp.emc.com (corpussmtp2.corp.emc.com [128.221.14.146])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8IGGEDi008481
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 12:17:12 -0400 (EDT)
From: Lee_Gary@emc.com
Received: from CORPUSMX40B.corp.emc.com ([10.254.64.48]) by corpussmtp2.corp.emc.com with Microsoft SMTPSVC(6.0.3790.0);
	 Mon, 18 Sep 2006 12:17:10 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: best way to get specific results
Date: Mon, 18 Sep 2006 12:17:07 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D0456452B@CORPUSMX40B.corp.emc.com>
In-Reply-To: <Pine.LNX.4.58.0609180823590.15171@hal.rescomp.berkeley.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: best way to get specific results
Thread-Index: AcbbOA/JC1NAMiZYRH2HHkxd1MrkUAABbqSA
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 18 Sep 2006 16:17:10.0842 (UTC) FILETIME=[E504C1A0:01C6DB3D]
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.4.0.264935, Antispam-Data: 2006.9.18.85443
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CT 0, __CTE 0, __CTYPE_CHARSET_QUOTED 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __IMS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0'
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, I definitely missed this. Makes it a lot more simpler to use...

Appreciate your help Chris.

Gary=20

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Sent: Monday, September 18, 2006 08:26 AM
To: java-user@lucene.apache.org
Subject: RE: best way to get specific results


: Thanks for the info on this. Since I should use the search function
that
: returns TopDocs, I was wondering what was the proper way to create a
: Weight object to pass into the search function.

I think you are getting too hung up on the method summary section of the
IndexSearcher javadocs ... IndexSearcher also supports all of the
methods in the Searcher interface, like...

   TopDocs d =3D searcher.search(myQuery, (Filter)null, 100);




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 16:40:00 2006
Return-Path: <java-user-return-23438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1831 invoked from network); 18 Sep 2006 16:39:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 16:39:59 -0000
Received: (qmail 65236 invoked by uid 500); 18 Sep 2006 16:39:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65211 invoked by uid 500); 18 Sep 2006 16:39:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65186 invoked by uid 99); 18 Sep 2006 16:39:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 09:39:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.111.4.25] (HELO out1.smtp.messagingengine.com) (66.111.4.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 09:39:48 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id 4A752DA7FF4
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 12:39:26 -0400 (EDT)
Received: from heartbeat2.internal ([10.202.2.161])
  by frontend3.internal (MEProxy); Mon, 18 Sep 2006 12:39:27 -0400
X-Sasl-enc: qL6qlHL3z0n7zBY2rZfFazjz/QfQNprCE2ef4MfQs52U 1158597567
Received: from [10.17.4.90] (pool-71-162-112-253.bstnma.fios.verizon.net [71.162.112.253])
	by mail.messagingengine.com (Postfix) with ESMTP id 956592F57
	for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 12:39:27 -0400 (EDT)
Message-ID: <450ECBB4.8020601@mikemccandless.com>
Date: Mon, 18 Sep 2006 12:39:16 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Possible exceptions using IndexReader & IndexWriter
References: <450E1DB8.6010505@atlassian.com>	 <c68e39170609172123w56710235rd12876b144ef6802@mail.gmail.com> <d8050f240609180309t78e9af69n2b74f4781ff4bfc3@mail.gmail.com>
In-Reply-To: <d8050f240609180309t78e9af69n2b74f4781ff4bfc3@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jason Polites wrote:
> I've also seen FileNotFound exceptions when attempting a search on an index
> while it's being updated, and the searcher is in a different JVM.  This is
> supposed to be supported, but on Windows seems to regularly fail (for me
> anyway).

Note that this use case (accessing one shared Lucene index from
different JVMs even on different machines) is supposed to work, but
there are known issues on certain platforms/filesystems.

For example, see this post for recent progress on intermittent file
renaming errors some people hit on Windows:

     http://www.gossamer-threads.com/lists/lucene/java-user/39974

And see this for progress on getting Lucene to work over NFS (and
likely other remote filesystems):

     http://issues.apache.org/jira/browse/LUCENE-673

And finally we are working on small changes to Lucene's file format so
that the commit lock (a source of quite a few issues) is not necessary
("lock-less commits"), to prevent the various problems people have
with locking (and NFS!):

 
http://www.gossamer-threads.com/lists/lucene/java-dev/39112?do=post_view_threaded#39112

We would like to the bottom of all such low-level robustness cases so
if you are hitting unexplained exceptions that don't seem to fit into
one of these three cases (windows renaming errors; nfs errors; locking
errors) please reply to this!  Thanks.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 19:07:52 2006
Return-Path: <java-user-return-23439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42368 invoked from network); 18 Sep 2006 19:07:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 19:07:51 -0000
Received: (qmail 26919 invoked by uid 500); 18 Sep 2006 19:07:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26838 invoked by uid 500); 18 Sep 2006 19:07:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26651 invoked by uid 500); 18 Sep 2006 19:07:17 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 26396 invoked by uid 99); 18 Sep 2006 19:07:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 12:07:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.30] (HELO libra.cs.put.poznan.pl) (150.254.30.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 12:06:56 -0700
Received: from localhost (unknown [127.0.0.1])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 391DEDB;
	Mon, 18 Sep 2006 19:06:18 +0000 (UTC)
Received: from libra.cs.put.poznan.pl ([127.0.0.1])
 by localhost (libra.cs.put.poznan.pl [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 32471-17; Mon, 18 Sep 2006 21:06:11 +0200 (CEST)
Received: from [150.254.130.25] (idss-dw-2.cs.put.poznan.pl [150.254.130.25])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 1E890E3;
	Mon, 18 Sep 2006 21:06:11 +0200 (CEST)
Message-ID: <450EEE3B.4020408@cs.put.poznan.pl>
Date: Mon, 18 Sep 2006 21:06:35 +0200
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Thunderbird 1.5.0.4 (Windows/20060516)
MIME-Version: 1.0
To:  nutch-user@lucene.apache.org, 
 Lucene Users List <lucene-user@jakarta.apache.org>
Subject: [release announcement] Carrot2 2.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at cs.put.poznan.pl
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi guys. A bit of self-promotion; I hope nobody will consider it rude, 
after all Carrot2 is a plugin to Nutch and some folks use it with 
Lucene, so I thought it may be of relevance to both lists.

Of course we invite everyone to try the demo on-line. Number of daily 
queries to Yahoo is limited, so if you get an exception, switch to 
another search engine -- MSN or Google. These limits are assigned to the 
source's IP address, so if you install the demos locally, you'll be able 
to send a great deal more queries.

Dawid

_______________________________________________________________________

Carrot2 Search Results Clustering Engine released

Version 2.0 of the Open Source Carrot2 Search Results Clustering Engine 
has been released. Carrot2 can automatically organize (cluster) search 
results into thematic categories by combining one of its ready-to-use 
search results acquisition components with some of Carrot2's built-in 
search results clustering algorithms.

The 2.0 release comes with a faster and more usable search clustering 
web application, the Aduna ClusterMap visualization component integrated 
into the standalone GUI application, a simplified core API and much more.

At the same time Carrot Search, the Carrot2 spin-off company, released 
Lingo3G -- a high-performance document clustering engine offering 
hierarchical clustering, synonyms, label filtering and advanced tuning 
capabilities.

For more information, please see the Carrot2 live demo and the project 
website.

Live demo:
http://www.carrot2.org

Project pages:
http://project.carrot2.org

Carrot Search:
http://www.carrot-search.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 21:18:07 2006
Return-Path: <java-user-return-23440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94771 invoked from network); 18 Sep 2006 21:18:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 21:18:07 -0000
Received: (qmail 69300 invoked by uid 500); 18 Sep 2006 21:18:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68804 invoked by uid 500); 18 Sep 2006 21:18:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68790 invoked by uid 99); 18 Sep 2006 21:18:01 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 14:18:01 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=andyliu1227@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.8 required=5.0 tests=FROM_ENDS_IN_NUMS,HTML_10_20,HTML_MESSAGE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.233:16400] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id D8/82-22826-9BA0F054 for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 14:08:11 -0700
Received: by wx-out-0506.google.com with SMTP id s15so3756526wxc
        for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 14:08:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=KQT56F7LsLlLh+j6QUbniUXAiYlleqrbilGEAnZnnnvV/FQXtnbExREppb3ilQDtvR3Umpzj9It7g7VhpBXrqU5t0iOzx8hGcuaVYzUhnJ14MM8zhP4CQQhYu/14/GYPyN694xvF+kkQVyMa4hOG8bx/4vWKdLM2hHqK1siIyME=
Received: by 10.90.28.12 with SMTP id b12mr5024005agb;
        Mon, 18 Sep 2006 14:08:06 -0700 (PDT)
Received: by 10.90.88.16 with HTTP; Mon, 18 Sep 2006 14:08:06 -0700 (PDT)
Message-ID: <32dca9ed0609181408j3e8a9663i8c05edc1cff2a6bf@mail.gmail.com>
Date: Mon, 18 Sep 2006 17:08:06 -0400
From: "Andy Liu" <andyliu1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Lopsided scores for each term in BooleanQuery
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_63277_24957784.1158613686251"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_63277_24957784.1158613686251
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

For multi-word queries, I would like to reward documents that contain a more
even distribution of each word and penalize documents that have a skewed
distribution.  For example, if my search query is:

+content:fast +content:car

I would prefer a document that contains each word an equal number of times
over a document that contains the word "fast" 100 times and the word "car" 1
time.  In other words, I would like to compare the scores of each
BooleanQuery term and adjust the score according to the distribution.

Can somebody point me in the right direction as to how I would implement
this?

Thanks,
Andy

------=_Part_63277_24957784.1158613686251--

From java-user-return-23441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 18 22:28:43 2006
Return-Path: <java-user-return-23441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19319 invoked from network); 18 Sep 2006 22:28:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2006 22:28:43 -0000
Received: (qmail 86087 invoked by uid 500); 18 Sep 2006 22:28:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86032 invoked by uid 500); 18 Sep 2006 22:28:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86002 invoked by uid 99); 18 Sep 2006 22:28:23 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 15:28:23 -0700
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received: from ([194.109.24.29:2670] helo=smtp-vbr9.xs4all.nl)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id AB/C4-22826-28D1F054 for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 15:28:20 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.13.6/8.13.6) with ESMTP id k8IMSFTB032173
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 00:28:16 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Lopsided scores for each term in BooleanQuery
Date: Tue, 19 Sep 2006 00:28:14 +0200
User-Agent: KMail/1.8.2
References: <32dca9ed0609181408j3e8a9663i8c05edc1cff2a6bf@mail.gmail.com>
In-Reply-To: <32dca9ed0609181408j3e8a9663i8c05edc1cff2a6bf@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609190028.14868.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 18 September 2006 23:08, Andy Liu wrote:
> For multi-word queries, I would like to reward documents that contain a more
> even distribution of each word and penalize documents that have a skewed
> distribution.  For example, if my search query is:
> 
> +content:fast +content:car
> 
> I would prefer a document that contains each word an equal number of times
> over a document that contains the word "fast" 100 times and the word "car" 1
> time.  In other words, I would like to compare the scores of each
> BooleanQuery term and adjust the score according to the distribution.
> 
> Can somebody point me in the right direction as to how I would implement
> this?

It's already there in DefaultSimilarity.tf() which is the square root:

(sqrt(1) + sqrt(1)) > (sqrt(0) + sqrt(2))


Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 01:47:24 2006
Return-Path: <java-user-return-23442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70697 invoked from network); 19 Sep 2006 01:47:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 01:47:24 -0000
Received: (qmail 44130 invoked by uid 500); 19 Sep 2006 01:47:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44040 invoked by uid 500); 19 Sep 2006 01:47:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44029 invoked by uid 99); 19 Sep 2006 01:47:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Sep 2006 18:47:16 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=andyliu1227@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=1.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.82.233:10791] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id CC/70-25344-12C4F054 for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 18:47:13 -0700
Received: by wx-out-0506.google.com with SMTP id s15so3822923wxc
        for <java-user@lucene.apache.org>; Mon, 18 Sep 2006 18:47:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YKCpcmo5iKD6ZnaAHuxFJ05sMWLvkUliMDjwPUhe7K7FW8VP2znV2vbeVZF+Yx3sUkSAnM89tGYG38psU3S8greFdDED53eBO5ypYdnluZo10ympeonBpt/b/Kltw3F/hvyGZDs7GSGxsNihu3I/qoafmuTCuXzMAWgirTWsdm0=
Received: by 10.90.113.18 with SMTP id l18mr929799agc;
        Mon, 18 Sep 2006 18:47:10 -0700 (PDT)
Received: by 10.90.88.16 with HTTP; Mon, 18 Sep 2006 18:47:10 -0700 (PDT)
Message-ID: <32dca9ed0609181847k2cc09f0ckb11e5c6bf343cd6a@mail.gmail.com>
Date: Mon, 18 Sep 2006 21:47:10 -0400
From: "Andy Liu" <andyliu1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lopsided scores for each term in BooleanQuery
In-Reply-To: <200609190028.14868.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2078_11631569.1158630430582"
References: <32dca9ed0609181408j3e8a9663i8c05edc1cff2a6bf@mail.gmail.com>
	 <200609190028.14868.paul.elschot@xs4all.nl>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2078_11631569.1158630430582
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

In our application we have multiple fields that are searched.  So fast car
becomes:

+(field1:fast field2:fast field3:fast) +(field1:car field2:car field3:car)

I understand that the default sqrt implementation of tf() would help the
"lopsided score" phenomenon with searches within the same field.  But when
searching in multiple fields, this effect is obscured since each matching
field adds to the score of that clause.  Is there a way to "peek" at the
scores of each clause, and adjust based on how divergent the scores are?  Or
is there an easier way to do this that I'm just not seeing?

Andy

On 9/18/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
>
> On Monday 18 September 2006 23:08, Andy Liu wrote:
> > For multi-word queries, I would like to reward documents that contain a
> more
> > even distribution of each word and penalize documents that have a skewed
> > distribution.  For example, if my search query is:
> >
> > +content:fast +content:car
> >
> > I would prefer a document that contains each word an equal number of
> times
> > over a document that contains the word "fast" 100 times and the word
> "car" 1
> > time.  In other words, I would like to compare the scores of each
> > BooleanQuery term and adjust the score according to the distribution.
> >
> > Can somebody point me in the right direction as to how I would implement
> > this?
>
> It's already there in DefaultSimilarity.tf() which is the square root:
>
> (sqrt(1) + sqrt(1)) > (sqrt(0) + sqrt(2))
>
>
> Regards,
> Paul Elschot
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_2078_11631569.1158630430582--

From java-user-return-23443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 08:29:04 2006
Return-Path: <java-user-return-23443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79232 invoked from network); 19 Sep 2006 08:29:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 08:29:04 -0000
Received: (qmail 49939 invoked by uid 500); 19 Sep 2006 08:28:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49905 invoked by uid 500); 19 Sep 2006 08:28:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49894 invoked by uid 99); 19 Sep 2006 08:28:54 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 01:28:54 -0700
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received: from ([203.199.37.133:44061] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 7A/98-26148-D2AAF054 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 01:28:51 -0700
Received: (qmail 7499 invoked from network); 19 Sep 2006 08:21:17 -0000
Received: from unknown (HELO bhavin) (172.16.3.205)
  by mailserver with SMTP; 19 Sep 2006 08:21:17 -0000
Message-ID: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Subject: How to filter results below perticular score
Date: Tue, 19 Sep 2006 14:07:43 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0015_01C6DBF4.F9C30A90"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0015_01C6DBF4.F9C30A90
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,

How to put limit in lucene that "dont return me any document which has =
score less than 0.25"

Thanks.
Bhavin pandya

------=_NextPart_000_0015_01C6DBF4.F9C30A90--


From java-user-return-23444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 09:54:20 2006
Return-Path: <java-user-return-23444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5126 invoked from network); 19 Sep 2006 09:54:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 09:54:19 -0000
Received: (qmail 12766 invoked by uid 500); 19 Sep 2006 09:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12740 invoked by uid 500); 19 Sep 2006 09:54:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12720 invoked by uid 99); 19 Sep 2006 09:54:05 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 02:54:05 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=karl.wettin@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.181:43726] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 95/5E-26148-F0DBF054 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 02:49:04 -0700
Received: by py-out-1112.google.com with SMTP id w49so4866954pyg
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 02:49:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=F7UuVBuHIygWyZA6luDNJRGM8YOkyT5Vtmo8k6kIkT/oTxE9AHX8C5miSMqeonppWEa0d1stUK1Fdk9BDwq+tHjdeM9UdLqK0NPAWT7aUnZYbwMb4YuIZMXW7FEzSKxuNJwFZ+PAB9QsvgcxgQaqbO8CDLSygq2eLu+gX1KIBpQ=
Received: by 10.35.132.20 with SMTP id j20mr25703053pyn;
        Tue, 19 Sep 2006 02:49:00 -0700 (PDT)
Received: by 10.35.122.17 with HTTP; Tue, 19 Sep 2006 02:49:00 -0700 (PDT)
Message-ID: <9fc755c20609190249o58ac0e4y5c9372d51e637fbc@mail.gmail.com>
Date: Tue, 19 Sep 2006 11:49:00 +0200
From: "karl wettin" <karl.wettin@gmail.com>
To: java-user@lucene.apache.org, "Bhavin Pandya" <bhavinp@rediff.co.in>
Subject: Re: How to filter results below perticular score
In-Reply-To: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/19/06, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
> Hi all,
>
> How to put limit in lucene that "dont return me any document which has score less than 0.25"

You implement a HitCollector and break out when you reach such low score.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 09:59:25 2006
Return-Path: <java-user-return-23445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7239 invoked from network); 19 Sep 2006 09:59:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 09:59:25 -0000
Received: (qmail 28622 invoked by uid 500); 19 Sep 2006 09:59:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28599 invoked by uid 500); 19 Sep 2006 09:59:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28588 invoked by uid 99); 19 Sep 2006 09:59:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 02:59:16 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=karl.wettin@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.177:51750] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 32/DE-26148-76FBF054 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 02:59:03 -0700
Received: by py-out-1112.google.com with SMTP id w49so4869877pyg
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 02:59:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=F7UuVBuHIygWyZA6luDNJRGM8YOkyT5Vtmo8k6kIkT/oTxE9AHX8C5miSMqeonppWEa0d1stUK1Fdk9BDwq+tHjdeM9UdLqK0NPAWT7aUnZYbwMb4YuIZMXW7FEzSKxuNJwFZ+PAB9QsvgcxgQaqbO8CDLSygq2eLu+gX1KIBpQ=
Received: by 10.35.132.20 with SMTP id j20mr25703053pyn;
        Tue, 19 Sep 2006 02:49:00 -0700 (PDT)
Received: by 10.35.122.17 with HTTP; Tue, 19 Sep 2006 02:49:00 -0700 (PDT)
Message-ID: <9fc755c20609190249o58ac0e4y5c9372d51e637fbc@mail.gmail.com>
Date: Tue, 19 Sep 2006 11:49:00 +0200
From: "karl wettin" <karl.wettin@gmail.com>
To: java-user@lucene.apache.org, "Bhavin Pandya" <bhavinp@rediff.co.in>
Subject: Re: How to filter results below perticular score
In-Reply-To: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/19/06, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
> Hi all,
>
> How to put limit in lucene that "dont return me any document which has score less than 0.25"

You implement a HitCollector and break out when you reach such low score.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 11:43:46 2006
Return-Path: <java-user-return-23446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59606 invoked from network); 19 Sep 2006 11:43:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 11:43:45 -0000
Received: (qmail 5318 invoked by uid 500); 19 Sep 2006 11:43:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5282 invoked by uid 500); 19 Sep 2006 11:43:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5271 invoked by uid 99); 19 Sep 2006 11:43:35 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 04:43:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([217.111.0.10:54953] helo=mail.coremedia.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 21/92-26148-FD7DF054 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 04:43:28 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.coremedia.com (Postfix) with ESMTP id D5AB363E6EE
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 13:43:22 +0200 (CEST)
Received: from mail.coremedia.com ([127.0.0.1])
 by localhost (masq [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 12998-10 for <java-user@lucene.apache.org>;
 Tue, 19 Sep 2006 13:43:21 +0200 (CEST)
Received: from hermes.coremedia.com (hermes.coremedia.com [10.1.2.75])
	by mail.coremedia.com (Postfix) with ESMTP id 093E363E6D1
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 13:43:21 +0200 (CEST)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Question about termDocs.read(docs, freqs)
Date: Tue, 19 Sep 2006 13:43:20 +0200
Message-ID: <9DC7096A2275564C9E2CF5042569976D1040AF@hermes.coremedia.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Question about termDocs.read(docs, freqs)
Thread-Index: AcbCn3m2a8eDHNAGSH2KQJw32gYJvAZLKs+g
From: "Kroehling, Thomas" <thomas.kroehling@coremedia.com>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am trying to write a WildcardFilter in order to prevent
TooManyBooleanClauses and high memory usage. I wrap a Filter in a
ConstantScoreQuery. I enumerate over the WildcardTerms for a query. This
way I can set a maximum number of terms which i will evaluate. If too
many terms match, I throw an exception. I also have a maximum number of
documents which are allowed to match using BitsSets cardinality. I am
not sure, if that is necessary, but I thought, if only a few terms, but
a few million documents might match, that could also considerably slow
down a search.=20
I thought, I could get the TermDocs for each WildcardTerm and use:

int count =3D termDocs.read(docs, freqs);

In order to have an optimized way to read not more than a maximum number
of documents which match this term. I would then step through docs and
set the bits for these documents. Sometimes this works, but sometimes
this returns a different number search results.=20
When I search for "content:test" in my index, I find 66 documents, but
when I search for "t*st" with my WildcardFilter, I only find 23. There
is only one term "test" matching this query and searching for this term
in Luke also returns 66 documents. I found out that the SegmentTermDocs
sets a variable df to "23", which leads to stop searching any further.
Unfortunately I do not quite understand, where this variable really
comes from and what it is for.

I probably could just step through the TermDocs for each WildcardTerm.
Is that should a correct (and not dramatically slow) way to find all
documents? But I would like to understand, the difference in search
results and what the method TermDocs.read(docs, freqs) method does and
if my kind of filter does really make sense. I periodically rebuild my
index and I wonder why my WildcardFilter sometimes returns the correct
search results and sometimes not. What is the difference between steping
through the term docs with termDocs.next() and using the read-method.
Can anybodey explain that?

Thanks in advance,
Thomas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 13:59:55 2006
Return-Path: <java-user-return-23447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19356 invoked from network); 19 Sep 2006 13:59:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 13:59:55 -0000
Received: (qmail 89582 invoked by uid 500); 19 Sep 2006 13:59:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89523 invoked by uid 500); 19 Sep 2006 13:59:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89493 invoked by uid 99); 19 Sep 2006 13:59:31 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 06:59:31 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.162.194:17214] helo=nz-out-0102.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 9E/53-27824-FB7FF054 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 06:59:27 -0700
Received: by nz-out-0102.google.com with SMTP id z6so1671878nzd
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 06:59:25 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=h8abJAa+yHQJaDktqrcbG2jAQOh7wUXjePOCkL9/Qs5pDSQXQ1f3quhBQK7OOId9yRKAi5BcLs+Dp2zLurAmF+8ns+w3/Ff3Xr7DgdchLBsv+iy49fyS0HAltWEq5vhAB+pitRa/VmhT4ZIITTOOynXry94m54AaYi6wDKvE3bI=
Received: by 10.35.37.13 with SMTP id p13mr26136599pyj;
        Tue, 19 Sep 2006 06:59:24 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Tue, 19 Sep 2006 06:59:24 -0700 (PDT)
Message-ID: <359a92830609190659j52028786mfc8777feb3bad460@mail.gmail.com>
Date: Tue, 19 Sep 2006 09:59:24 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question about termDocs.read(docs, freqs)
In-Reply-To: <9DC7096A2275564C9E2CF5042569976D1040AF@hermes.coremedia.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6616_8978205.1158674364442"
References: <9DC7096A2275564C9E2CF5042569976D1040AF@hermes.coremedia.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6616_8978205.1158674364442
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'll side-step the explanations part of your mail since I don't know how to
answer.. But a few observations, see below.

On 9/19/06, Kroehling, Thomas <thomas.kroehling@coremedia.com> wrote:
>
> Hi,
> I am trying to write a WildcardFilter in order to prevent
> TooManyBooleanClauses and high memory usage. I wrap a Filter in a
> ConstantScoreQuery. I enumerate over the WildcardTerms for a query. This
> way I can set a maximum number of terms which i will evaluate. If too
> many terms match, I throw an exception. I also have a maximum number of
> documents which are allowed to match using BitsSets cardinality. I am
> not sure, if that is necessary, but I thought, if only a few terms, but
> a few million documents might match, that could also considerably slow
> down a search.


This seems like a prime candidate for generating "unexpected" results, so
I'd start by taking it out and seeing if your search and wildcard
enumerations agree better.


I thought, I could get the TermDocs for each WildcardTerm and use:
>
> int count = termDocs.read(docs, freqs);
>
> In order to have an optimized way to read not more than a maximum number
> of documents which match this term.


You shouldn't be reading documents at all, just enumerating the terms that
are indexed and setting bits. It's expensive to read the docs, and the
javadocs warn against this (of course I could just not understand what
you're doing...).


I would then step through docs and
> set the bits for these documents. Sometimes this works, but sometimes
> this returns a different number search results.
> When I search for "content:test" in my index, I find 66 documents, but
> when I search for "t*st" with my WildcardFilter, I only find 23. There
> is only one term "test" matching this query and searching for this term
> in Luke also returns 66 documents. I found out that the SegmentTermDocs
> sets a variable df to "23", which leads to stop searching any further.
> Unfortunately I do not quite understand, where this variable really
> comes from and what it is for.
>
> I probably could just step through the TermDocs for each WildcardTerm.


Start here. Unless and until you have some idea that the simple way of doing
things isn't too slow for your problem, don't try anything fancy. Filters
were *built* for this type of thing, and I've been pleasantly surprised at
how fast they can be built. Admittedly, mine are on about 1M documents.....

Here's some sample code that works for me, field and value are fields set in
the constructor......

    public BitSet bits(IndexReader reader)
            throws IOException {

        bits = new BitSet(reader.maxDoc());

        TermDocs         termDocs = reader.termDocs();
        WildcardTermEnum wildEnum = new WildcardTermEnum(reader, new
Term(field, value));

        for (Term term = null; (term = wildEnum.term()) != null;
wildEnum.next()) {
            termDocs.seek(new Term(
                    field,
                    term.text()));

            while (termDocs.next()) {
                bits.set(termDocs.doc());
            }
        }

        return bits;
    }


Note a few things...
CachingWrapperFilter will cache these filters for future use.

If you have an idea of the kinds of wildcards you will need ahead of time,
you could always generate filters and store them away if it turns out that
performance is a problem (although I've rarely seen this be practical since
the silly users type things unpredictably<G>).

I'd really recommend that you try the simple thing first and try a couple of
timings on really ugly filter creation, something like a* before trying
anything more complex....

Best
Erick


Is that should a correct (and not dramatically slow) way to find all
> documents? But I would like to understand, the difference in search
> results and what the method TermDocs.read(docs, freqs) method does and
> if my kind of filter does really make sense. I periodically rebuild my
> index and I wonder why my WildcardFilter sometimes returns the correct
> search results and sometimes not. What is the difference between steping
> through the term docs with termDocs.next() and using the read-method.
> Can anybodey explain that?
>
> Thanks in advance,
> Thomas
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_6616_8978205.1158674364442--

From java-user-return-23448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 14:49:26 2006
Return-Path: <java-user-return-23448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41317 invoked from network); 19 Sep 2006 14:49:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 14:49:26 -0000
Received: (qmail 43674 invoked by uid 500); 19 Sep 2006 14:49:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43621 invoked by uid 500); 19 Sep 2006 14:49:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43605 invoked by uid 99); 19 Sep 2006 14:49:17 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 07:49:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([217.111.0.10:41284] helo=mail.coremedia.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id B9/00-28275-96300154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 07:49:14 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.coremedia.com (Postfix) with ESMTP id 4485A635926
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 16:49:10 +0200 (CEST)
Received: from mail.coremedia.com ([127.0.0.1])
 by localhost (masq [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 13660-06 for <java-user@lucene.apache.org>;
 Tue, 19 Sep 2006 16:49:09 +0200 (CEST)
Received: from hermes.coremedia.com (hermes.coremedia.com [10.1.2.75])
	by mail.coremedia.com (Postfix) with ESMTP id 2071C635920
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 16:49:09 +0200 (CEST)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Question about termDocs.read(docs, freqs)
Date: Tue, 19 Sep 2006 16:49:09 +0200
Message-ID: <9DC7096A2275564C9E2CF5042569976D1040B2@hermes.coremedia.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Question about termDocs.read(docs, freqs)
Thread-Index: Acbb8+KQIRL9PIwMT8eiL8GQmpMXNgABOoaQ
From: "Kroehling, Thomas" <thomas.kroehling@coremedia.com>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the answer. It is not really necessary for me to read the =
documents. That's what you get if you find code searching the net and =
using it without really thinking or understanding it. I will just step =
through the terms and set the bits as you said. I will add some maximum =
number of terms since we deal with a few million documents and that can =
be kind of expansive in time and memory consumption, if too many terms =
match, as i experienced.
Unfortunately, as you said, it is hard to predict, what users will =
actually search for, so it is kind of hard to really cache any wildcard =
filters. But filters really seem to be quite fast.

Thanks again,
Thomas

-----Urspr=FCngliche Nachricht-----
Von: Erick Erickson [mailto:erickerickson@gmail.com]=20
Gesendet: Tuesday, September 19, 2006 3:59 PM
An: java-user@lucene.apache.org
Betreff: Re: Question about termDocs.read(docs, freqs)

I'll side-step the explanations part of your mail since I don't know how =
to answer.. But a few observations, see below.

On 9/19/06, Kroehling, Thomas <thomas.kroehling@coremedia.com> wrote:
>
> Hi,
> I am trying to write a WildcardFilter in order to prevent=20
> TooManyBooleanClauses and high memory usage. I wrap a Filter in a=20
> ConstantScoreQuery. I enumerate over the WildcardTerms for a query.=20
> This way I can set a maximum number of terms which i will evaluate. If =

> too many terms match, I throw an exception. I also have a maximum=20
> number of documents which are allowed to match using BitsSets=20
> cardinality. I am not sure, if that is necessary, but I thought, if=20
> only a few terms, but a few million documents might match, that could=20
> also considerably slow down a search.


This seems like a prime candidate for generating "unexpected" results, =
so I'd start by taking it out and seeing if your search and wildcard =
enumerations agree better.


I thought, I could get the TermDocs for each WildcardTerm and use:
>
> int count =3D termDocs.read(docs, freqs);
>
> In order to have an optimized way to read not more than a maximum=20
> number of documents which match this term.


You shouldn't be reading documents at all, just enumerating the terms =
that are indexed and setting bits. It's expensive to read the docs, and =
the javadocs warn against this (of course I could just not understand =
what you're doing...).


I would then step through docs and
> set the bits for these documents. Sometimes this works, but sometimes=20
> this returns a different number search results.
> When I search for "content:test" in my index, I find 66 documents, but =

> when I search for "t*st" with my WildcardFilter, I only find 23. There =

> is only one term "test" matching this query and searching for this=20
> term in Luke also returns 66 documents. I found out that the=20
> SegmentTermDocs sets a variable df to "23", which leads to stop =
searching any further.
> Unfortunately I do not quite understand, where this variable really=20
> comes from and what it is for.
>
> I probably could just step through the TermDocs for each WildcardTerm.


Start here. Unless and until you have some idea that the simple way of =
doing things isn't too slow for your problem, don't try anything fancy. =
Filters were *built* for this type of thing, and I've been pleasantly =
surprised at how fast they can be built. Admittedly, mine are on about =
1M documents.....

Here's some sample code that works for me, field and value are fields =
set in the constructor......

    public BitSet bits(IndexReader reader)
            throws IOException {

        bits =3D new BitSet(reader.maxDoc());

        TermDocs         termDocs =3D reader.termDocs();
        WildcardTermEnum wildEnum =3D new WildcardTermEnum(reader, new =
Term(field, value));

        for (Term term =3D null; (term =3D wildEnum.term()) !=3D null;
wildEnum.next()) {
            termDocs.seek(new Term(
                    field,
                    term.text()));

            while (termDocs.next()) {
                bits.set(termDocs.doc());
            }
        }

        return bits;
    }


Note a few things...
CachingWrapperFilter will cache these filters for future use.

If you have an idea of the kinds of wildcards you will need ahead of =
time, you could always generate filters and store them away if it turns =
out that performance is a problem (although I've rarely seen this be =
practical since the silly users type things unpredictably<G>).

I'd really recommend that you try the simple thing first and try a =
couple of timings on really ugly filter creation, something like a* =
before trying anything more complex....

Best
Erick


Is that should a correct (and not dramatically slow) way to find all
> documents? But I would like to understand, the difference in search=20
> results and what the method TermDocs.read(docs, freqs) method does and =

> if my kind of filter does really make sense. I periodically rebuild my =

> index and I wonder why my WildcardFilter sometimes returns the correct =

> search results and sometimes not. What is the difference between=20
> steping through the term docs with termDocs.next() and using the =
read-method.
> Can anybodey explain that?
>
> Thanks in advance,
> Thomas
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 16:22:09 2006
Return-Path: <java-user-return-23449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89932 invoked from network); 19 Sep 2006 16:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 16:22:09 -0000
Received: (qmail 92997 invoked by uid 500); 19 Sep 2006 16:22:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92645 invoked by uid 500); 19 Sep 2006 16:22:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92634 invoked by uid 99); 19 Sep 2006 16:22:02 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 09:22:02 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.2 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([206.190.39.215:41670] helo=web50313.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 37/33-28275-62910154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 09:21:58 -0700
Received: (qmail 56041 invoked by uid 60001); 19 Sep 2006 16:21:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=041805LqfXsu93zGz9f9pvohmMEop5v+373OOOOBHhO2rpqmfqo72XP9bqqu7w8UUeYcNuLPrvkJWavw2x5lPbaIYLjrOx+56cpvYwaXghKrlxumst560haqSeFO+xSlyGP49PFPTdfdN4yneeGYnQDtJ4Ml9R9lXD+cPQKoM38=  ;
Message-ID: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
Received: from [74.65.202.166] by web50313.mail.yahoo.com via HTTP; Tue, 19 Sep 2006 09:21:55 PDT
Date: Tue, 19 Sep 2006 09:21:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Analysis/tokenization of compound words
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

How do people typically analyze/tokenize text with compounds (e.g. German)?  I took a look at GermanAnalyzer hoping to see how one can deal with that, but it turns out GermanAnalyzer doesn't treat compounds in any special way at all.

One way to go about this is to have a word dictionary and a tokenizer that processes input one character at a time, looking for a word match in the dictionary after each processed characters.  Then, CompoundWordLikeThis could be broken down into multiple tokens/words and returned at a set of tokens at the same position.  However, somehow this doesn't strike me as a very smart and fast approach.
What are some better approaches?
If anyone has implemented anything that deals with this problem, I'd love to hear about it.

Thanks,
Otis



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 16:49:54 2006
Return-Path: <java-user-return-23450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97878 invoked from network); 19 Sep 2006 16:49:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 16:49:54 -0000
Received: (qmail 40047 invoked by uid 500); 19 Sep 2006 16:49:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40016 invoked by uid 500); 19 Sep 2006 16:49:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40005 invoked by uid 99); 19 Sep 2006 16:49:47 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 09:49:47 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.9 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.179:59909] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 90/04-28275-6AF10154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 09:49:44 -0700
Received: by py-out-1112.google.com with SMTP id w49so4992109pyg
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 09:49:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=E5qGZIZGSB0E39wkHIMGHfu+EMHhF//jGzdBR9dTcq3JXFN6mIXX+9Dc+wYnZiCBw0RvRAquajTOE24jjRg9s+nICWyOS1xLI0g7/22JlgdJvywulRydxHNJTd9Cv0wzCi1mfeY8+cuwVOMmiZ7vaZp0IJLtZs2x8O1pl31ClrU=
Received: by 10.35.95.1 with SMTP id x1mr26449353pyl;
        Tue, 19 Sep 2006 09:49:40 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Tue, 19 Sep 2006 09:49:39 -0700 (PDT)
Message-ID: <359a92830609190949m6620546dha905002044166136@mail.gmail.com>
Date: Tue, 19 Sep 2006 12:49:39 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question about termDocs.read(docs, freqs)
In-Reply-To: <9DC7096A2275564C9E2CF5042569976D1040B2@hermes.coremedia.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9058_7502729.1158684579892"
References: <9DC7096A2275564C9E2CF5042569976D1040B2@hermes.coremedia.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9058_7502729.1158684579892
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Glad I actually wrote something helpful <G>..

Memories for filters shouldn't be a problem, filters take up 1 bit per
document (plus some tiny overhead for a Bitset). I think the time is
actually taken up on the number of terms that match each wildcard as well a=
s
the number of terms.

Really, I expect that the number of bits you wind up flipping that
correlates most closely with time, and will be the number of terms in the
query multiplied the number of times each one matches a term in a
document...

One other thing when you're trying to figure out now long it takes to build
a filter. Be sure you're NOT closing and re-opening your IndexReader. A
singleton IndexReader is thread-safe, and opening one up has *very*
significant overhead.

Best
Erick

On 9/19/06, Kroehling, Thomas <thomas.kroehling@coremedia.com> wrote:
>
> Thanks for the answer. It is not really necessary for me to read the
> documents. That's what you get if you find code searching the net and usi=
ng
> it without really thinking or understanding it. I will just step through =
the
> terms and set the bits as you said. I will add some maximum number of ter=
ms
> since we deal with a few million documents and that can be kind of expans=
ive
> in time and memory consumption, if too many terms match, as i experienced=
.
> Unfortunately, as you said, it is hard to predict, what users will
> actually search for, so it is kind of hard to really cache any wildcard
> filters. But filters really seem to be quite fast.
>
> Thanks again,
> Thomas
>
> -----Urspr=FCngliche Nachricht-----
> Von: Erick Erickson [mailto:erickerickson@gmail.com]
> Gesendet: Tuesday, September 19, 2006 3:59 PM
> An: java-user@lucene.apache.org
> Betreff: Re: Question about termDocs.read(docs, freqs)
>
> I'll side-step the explanations part of your mail since I don't know how
> to answer.. But a few observations, see below.
>
> On 9/19/06, Kroehling, Thomas <thomas.kroehling@coremedia.com> wrote:
> >
> > Hi,
> > I am trying to write a WildcardFilter in order to prevent
> > TooManyBooleanClauses and high memory usage. I wrap a Filter in a
> > ConstantScoreQuery. I enumerate over the WildcardTerms for a query.
> > This way I can set a maximum number of terms which i will evaluate. If
> > too many terms match, I throw an exception. I also have a maximum
> > number of documents which are allowed to match using BitsSets
> > cardinality. I am not sure, if that is necessary, but I thought, if
> > only a few terms, but a few million documents might match, that could
> > also considerably slow down a search.
>
>
> This seems like a prime candidate for generating "unexpected" results, so
> I'd start by taking it out and seeing if your search and wildcard
> enumerations agree better.
>
>
> I thought, I could get the TermDocs for each WildcardTerm and use:
> >
> > int count =3D termDocs.read(docs, freqs);
> >
> > In order to have an optimized way to read not more than a maximum
> > number of documents which match this term.
>
>
> You shouldn't be reading documents at all, just enumerating the terms tha=
t
> are indexed and setting bits. It's expensive to read the docs, and the
> javadocs warn against this (of course I could just not understand what
> you're doing...).
>
>
> I would then step through docs and
> > set the bits for these documents. Sometimes this works, but sometimes
> > this returns a different number search results.
> > When I search for "content:test" in my index, I find 66 documents, but
> > when I search for "t*st" with my WildcardFilter, I only find 23. There
> > is only one term "test" matching this query and searching for this
> > term in Luke also returns 66 documents. I found out that the
> > SegmentTermDocs sets a variable df to "23", which leads to stop
> searching any further.
> > Unfortunately I do not quite understand, where this variable really
> > comes from and what it is for.
> >
> > I probably could just step through the TermDocs for each WildcardTerm.
>
>
> Start here. Unless and until you have some idea that the simple way of
> doing things isn't too slow for your problem, don't try anything fancy.
> Filters were *built* for this type of thing, and I've been pleasantly
> surprised at how fast they can be built. Admittedly, mine are on about 1M
> documents.....
>
> Here's some sample code that works for me, field and value are fields set
> in the constructor......
>
>     public BitSet bits(IndexReader reader)
>             throws IOException {
>
>         bits =3D new BitSet(reader.maxDoc());
>
>         TermDocs         termDocs =3D reader.termDocs();
>         WildcardTermEnum wildEnum =3D new WildcardTermEnum(reader, new
> Term(field, value));
>
>         for (Term term =3D null; (term =3D wildEnum.term()) !=3D null;
> wildEnum.next()) {
>             termDocs.seek(new Term(
>                     field,
>                     term.text()));
>
>             while (termDocs.next()) {
>                 bits.set(termDocs.doc());
>             }
>         }
>
>         return bits;
>     }
>
>
> Note a few things...
> CachingWrapperFilter will cache these filters for future use.
>
> If you have an idea of the kinds of wildcards you will need ahead of time=
,
> you could always generate filters and store them away if it turns out tha=
t
> performance is a problem (although I've rarely seen this be practical sin=
ce
> the silly users type things unpredictably<G>).
>
> I'd really recommend that you try the simple thing first and try a couple
> of timings on really ugly filter creation, something like a* before tryin=
g
> anything more complex....
>
> Best
> Erick
>
>
> Is that should a correct (and not dramatically slow) way to find all
> > documents? But I would like to understand, the difference in search
> > results and what the method TermDocs.read(docs, freqs) method does and
> > if my kind of filter does really make sense. I periodically rebuild my
> > index and I wonder why my WildcardFilter sometimes returns the correct
> > search results and sometimes not. What is the difference between
> > steping through the term docs with termDocs.next() and using the
> read-method.
> > Can anybodey explain that?
> >
> > Thanks in advance,
> > Thomas
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9058_7502729.1158684579892--

From java-user-return-23451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 16:51:49 2006
Return-Path: <java-user-return-23451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98732 invoked from network); 19 Sep 2006 16:51:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 16:51:49 -0000
Received: (qmail 45389 invoked by uid 500); 19 Sep 2006 16:51:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45234 invoked by uid 500); 19 Sep 2006 16:51:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45216 invoked by uid 99); 19 Sep 2006 16:51:42 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 09:51:42 -0700
X-ASF-Spam-Status: No, hits=1.0 required=5.0 tests=HTML_40_50,HTML_MESSAGE,MIME_BASE64_BLANKS,MIME_BASE64_TEXT
Received: from ([62.192.192.43:44529] helo=herb.xcom.de)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id AF/04-28275-81020154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 09:51:38 -0700
Received: from localhost (localhost.localdomain [127.0.0.1])
	by herb.xcom.de (Postfix) with ESMTP id 404A479C082
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 18:50:09 +0200 (CEST)
Received: from herb.xcom.de ([127.0.0.1])
 by localhost (herb.xcom.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 04513-07 for <java-user@lucene.apache.org>;
 Tue, 19 Sep 2006 18:50:06 +0200 (CEST)
Received: from jmail1.xcom.de (jmail1.xcom.de [62.192.192.139])
	by herb.xcom.de (Postfix) with ESMTP id A039679C080
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 18:50:06 +0200 (CEST)
Received: (from mail@localhost)
	by jmail1.xcom.de (8.12.10/8.12.10) id k8JGpTOQ009744
	for java-user@lucene.apache.org; Tue, 19 Sep 2006 18:51:29 +0200
Received: from xgate1.xcom.de (virus [62.192.192.130])
 	by jmail1.xcom.de (8.12.10/8.12.10) with ESMTP id k8JGpTm5009739
 	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 18:51:29 +0200
In-Reply-To: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
Subject: Re: Analysis/tokenization of compound words
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
From: "Jonathan O'Connor" <jonathan.oconnor@xcom.de>
Message-ID: <OF98F7C4C2.04811A04-ON802571EE.005AFB25-802571EE.005C614C@xcom.de>
Date: Tue, 19 Sep 2006 17:49:02 +0100
X-MIMETrack: Serialize by Router on xgate1/SRV/XCOM(Release 6.5.4FP2|September 12, 2005) at
 19.09.2006 18:51:29
MIME-Version: 1.0
Content-Type: multipart/related;
 	Boundary="0__=0FBBFB7DDFC97DB58f9e8a93df938690918c0FBBFB7DDFC97DB5"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0__=0FBBFB7DDFC97DB58f9e8a93df938690918c0FBBFB7DDFC97DB5
Content-type: multipart/alternative; 
	Boundary="1__=0FBBFB7DDFC97DB58f9e8a93df938690918c0FBBFB7DDFC97DB5"

--1__=0FBBFB7DDFC97DB58f9e8a93df938690918c0FBBFB7DDFC97DB5
Content-type: text/plain; charset=ISO-8859-15
Content-transfer-encoding: base64


T3RpcywNCkkgY2FuJ3Qgb2ZmZXIgeW91IGFueSBwcmFjdGljYWwgYWR2aWNlLCBidXQgYXMgYSBz
dHVkZW50IG9mIEdlcm1hbiwgSSBjYW4NCnRlbGwgeW91IHRoYXQgYmVnaW5uZXJzIGZpbmQgaXQg
ZGlmZmljdWx0IHRvIHJlYWQgR2VybWFuIHdvcmRzIGFuZCBzcGxpdA0KdGhlbSBwcm9wZXJseS4g
VGhlIGxhcmdlciB5b3VyIHZvY2FidWxhcnkgdGhlIGVhc2llciBpdCBpcy4gVGhlIHdob2xlIHRv
cGljDQpzb3VuZHMgbGlrZSBhbiBBSSBwcm9ibGVtOg0KQSBwb3NzaWJsZSBhbGdvcml0aG0gZm9y
IEdlcm1hbiAobm8gaWRlYSBpZiB0aGlzIHdvdWxkIGFsc28gd29yayBmb3INCkVuZ2xpc2ggb3Ig
YWdnbHV0aW5hdGl2ZSBsYW5ndWFnZXMgbGlrZSBUdXJraXNoKSBtaWdodCBiZToNCjEuIFNlYXJj
aCBmb3IgdGhlIHdob2xlIHdvcmQgaW4gdGhlIGRpY3Rpb25hcnkuIElmIGZvdW5kIGVuZA0KMi4g
U3BsaXQgdGhlIHdvcmQgaW50byBzeWxsYWJsZXMgKHRoaXMgbWlnaHQgYmUgYW5vdGhlciBBSSBw
cm9qZWN0IHRvbykuDQozLiBKb2luIHRoZSBzeWxsYWJsZXMgdG9nZXRoZXIgYW5kIHNlZSBpZiB0
aGV5IG1ha2Ugd29yZHMgaW4gdGhlDQpkaWN0aW9uYXJ5Lg0KNC4gSWYgYWxsIHRoZSBzeWxsYWJs
ZXMgYXJlIHVzZWQgaW4ga25vd24gd29yZHMsIHRoZW4geW91IGhhdmUgc3VjY2Vzcy4NCjUuIEFu
IGhldXJpc3RpYyB0byB1c2UgaXMgdG8gY3JlYXRlIHdvcmRzIGFzIGxvbmcgYXMgcG9zc2libGUu
DQoNCkUuZy4gIkJhbGxldHR05G56ZXJpbiIgKEJhbGxldHR0YWVuemVyaW4gaWYgeW91IGNhbid0
IHJlYWQgdW1sYXV0cykuDQpTeWxsYWJsZXM6ICJCYWxsIiwgImV0dCIsICJ0YWVueiIsICJlciIs
ICJpbiINCkpvaW5pbmcgdGhlIHN5bGxhYmxlcywgd2Ugc2VlIHRoYXQgIkJhbGwiIGlzIGluIG91
ciBkaWN0aW9uYXJ5LCBidXQNCiJldHR0YWVuemVyaW4iLCAiZXR0dGFlbnplciIgLCAiZXR0dGFl
bnoiIGFuZCAiZXR0IiBhcmUgbm90LiBTbyBvbiB3ZSBnbzoNCiJCYWxsZXR0IiBpcyBpbiBvdXIg
ZGljdGlvbmFyeSwgYW5kICJ0YWVuemVyaW4iIGlzIGFsc28uIE5vdGUgaWYgd2Ugd2VudA0KZm9y
IHRoZSBzaG9ydCB3b3JkcyBmaXJzdCwgdGhlbiB3ZSBjb3VsZCBzcGxpdCBpdCBpbnRvOiBCYWxs
ZXR0IHwgdGFlbnplciB8DQppbi4NCg0KQXMgdXN1YWwsIGl0cyBhbiBpbnRlcmVzdGluZyBwcm9q
ZWN0IHdpdGggbm8gMTAwJSBwZXJmZWN0IHNvbHV0aW9uLiBCZXN0IG9mDQpsdWNrDQpKb25hdGhh
biBPJ0Nvbm5vcg0KWENPTSBEdWJsaW4NCg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAg
ICAgICBPdGlzIEdvc3BvZG5ldGljICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIA0KICAgICAgICAgICAgIDxvdGlzX2dvc3BvZG5ldGljICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgQHlhaG9vLmNvbT4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUbyANCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGphdmEtdXNlckBsdWNlbmUuYXBhY2hl
Lm9yZyAgICAgICAgIA0KICAgICAgICAgICAgIDE5LzA5LzIwMDYgMTc6MjEgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MgDQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBTdWJqZWN0IA0KICAgICAgICAgICAgIFBsZWFzZSByZXNwb25kIHRvICAgICAgICAg
QW5hbHlzaXMvdG9rZW5pemF0aW9uIG9mIGNvbXBvdW5kICAgDQogICAgICAgICAgICAgamF2YS11
c2VyQGx1Y2VuZS4gICAgICAgICB3b3JkcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAN
CiAgICAgICAgICAgICAgICBhcGFjaGUub3JnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICANCg0KDQoNCg0KSGksDQoNCkhvdyBkbyBwZW9wbGUgdHlwaWNhbGx5IGFuYWx5emUvdG9r
ZW5pemUgdGV4dCB3aXRoIGNvbXBvdW5kcyAoZS5nLiBHZXJtYW4pPw0KSSB0b29rIGEgbG9vayBh
dCBHZXJtYW5BbmFseXplciBob3BpbmcgdG8gc2VlIGhvdyBvbmUgY2FuIGRlYWwgd2l0aCB0aGF0
LA0KYnV0IGl0IHR1cm5zIG91dCBHZXJtYW5BbmFseXplciBkb2Vzbid0IHRyZWF0IGNvbXBvdW5k
cyBpbiBhbnkgc3BlY2lhbCB3YXkNCmF0IGFsbC4NCg0KT25lIHdheSB0byBnbyBhYm91dCB0aGlz
IGlzIHRvIGhhdmUgYSB3b3JkIGRpY3Rpb25hcnkgYW5kIGEgdG9rZW5pemVyIHRoYXQNCnByb2Nl
c3NlcyBpbnB1dCBvbmUgY2hhcmFjdGVyIGF0IGEgdGltZSwgbG9va2luZyBmb3IgYSB3b3JkIG1h
dGNoIGluIHRoZQ0KZGljdGlvbmFyeSBhZnRlciBlYWNoIHByb2Nlc3NlZCBjaGFyYWN0ZXJzLiAg
VGhlbiwgQ29tcG91bmRXb3JkTGlrZVRoaXMNCmNvdWxkIGJlIGJyb2tlbiBkb3duIGludG8gbXVs
dGlwbGUgdG9rZW5zL3dvcmRzIGFuZCByZXR1cm5lZCBhdCBhIHNldCBvZg0KdG9rZW5zIGF0IHRo
ZSBzYW1lIHBvc2l0aW9uLiAgSG93ZXZlciwgc29tZWhvdyB0aGlzIGRvZXNuJ3Qgc3RyaWtlIG1l
IGFzIGENCnZlcnkgc21hcnQgYW5kIGZhc3QgYXBwcm9hY2guDQpXaGF0IGFyZSBzb21lIGJldHRl
ciBhcHByb2FjaGVzPw0KSWYgYW55b25lIGhhcyBpbXBsZW1lbnRlZCBhbnl0aGluZyB0aGF0IGRl
YWxzIHdpdGggdGhpcyBwcm9ibGVtLCBJJ2QgbG92ZQ0KdG8gaGVhciBhYm91dCBpdC4NCg0KVGhh
bmtzLA0KT3Rpcw0KDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBq
YXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCkZvciBhZGRpdGlvbmFsIGNv
bW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQoNCg0KDQoN
Cg0KDQoqKiogWENPTSBBRyBMZWdhbCBEaXNjbGFpbWVyICoqKg0KDQpEaWVzZSBFLU1haWwgZWlu
c2NobGllc3NsaWNoIGlocmVyIEFuaGFlbmdlIGlzdCB2ZXJ0cmF1bGljaCB1bmQgaXN0IGFsbGVp
bg0KZvxyIGRlbiBHZWJyYXVjaCBkdXJjaCBkZW4gdm9yZ2VzZWhlbmVuIEVtcGZhZW5nZXIgYmVz
dGltbXQuIERyaXR0ZW4gaXN0DQpkYXMgTGVzZW4sIFZlcnRlaWxlbiBvZGVyIFdlaXRlcmxlaXRl
biBkaWVzZXIgRS1NYWlsIHVudGVyc2FndC4gV2lyIGJpdHRlbiwNCmVpbmUgZmVobGdlbGVpdGV0
ZSBFLU1haWwgdW52ZXJ6dWVnbGljaCB2b2xsc3RhZW5kaWcgenUgbG9lc2NoZW4gdW5kIHVucw0K
ZWluZSBOYWNocmljaHQgenVrb21tZW4genUgbGFzc2VuLg0KDQpUaGlzIGVtYWlsIG1heSBjb250
YWluIG1hdGVyaWFsIHRoYXQgaXMgY29uZmlkZW50aWFsIGFuZCBmb3IgdGhlIHNvbGUgdXNlDQpv
ZiB0aGUgaW50ZW5kZWQgcmVjaXBpZW50LiBBbnkgcmV2aWV3LCBkaXN0cmlidXRpb24gYnkgb3Ro
ZXJzIG9yIGZvcndhcmRpbmcNCndpdGhvdXQgZXhwcmVzcyBwZXJtaXNzaW9uIGlzIHN0cmljdGx5
IHByb2hpYml0ZWQuIElmIHlvdSBhcmUgbm90IHRoZQ0KaW50ZW5kZWQgcmVjaXBpZW50LCBwbGVh
c2UgY29udGFjdCB0aGUgc2VuZGVyIGFuZCBkZWxldGUgYWxsIGNvcGllcy4NCg0KSGF1cHRzaXR6
OiBCYWhuc3RyYXNzZSAzMywgRC00Nzg3NyBXaWxsaWNoLCBVU3QtSWROci46IERFIDgxMiA4ODUg
NjY0DQpLb21tdW5pa2F0aW9uOiBUZWxlZm9uICs0OSAyMTU0IDkyMDktNzAsIFRlbGVmYXggKzQ5
IDIxNTQgOTIwOS05MDAsDQp3d3cueGNvbS5kZQ0KSGFuZGVsc3JlZ2lzdGVyOiBBbXRzZ2VyaWNo
dCBLcmVmZWxkLCBIUkIgMTAzNDANClZvcnN0YW5kOiBNYXR0aGlhcyBBbGJyZWNodCwgUmVuYXRl
IEJlY2tlci1Hcm9wZSwgTWFyY28gTWFydHksIERyLiBSYWluZXINCkZ1Y2hzDQpWb3JzaXR6ZW5k
ZXIgZGVzIEF1ZnNpY2h0c3JhdGVzOiBTdGVwaGFuIFN0ZXVlcg==

--1__=0FBBFB7DDFC97DB58f9e8a93df938690918c0FBBFB7DDFC97DB5
Content-type: text/html; charset=ISO-8859-15
Content-Disposition: inline
Content-transfer-encoding: base64

PGh0bWw+PGJvZHk+DQo8cD5PdGlzLDxicj4NCkkgY2FuJ3Qgb2ZmZXIgeW91IGFueSBwcmFjdGlj
YWwgYWR2aWNlLCBidXQgYXMgYSBzdHVkZW50IG9mIEdlcm1hbiwgSSBjYW4gdGVsbCB5b3UgdGhh
dCBiZWdpbm5lcnMgZmluZCBpdCBkaWZmaWN1bHQgdG8gcmVhZCBHZXJtYW4gd29yZHMgYW5kIHNw
bGl0IHRoZW0gcHJvcGVybHkuIFRoZSBsYXJnZXIgeW91ciB2b2NhYnVsYXJ5IHRoZSBlYXNpZXIg
aXQgaXMuIFRoZSB3aG9sZSB0b3BpYyBzb3VuZHMgbGlrZSBhbiBBSSBwcm9ibGVtOjxicj4NCkEg
cG9zc2libGUgYWxnb3JpdGhtIGZvciBHZXJtYW4gKG5vIGlkZWEgaWYgdGhpcyB3b3VsZCBhbHNv
IHdvcmsgZm9yIEVuZ2xpc2ggb3IgYWdnbHV0aW5hdGl2ZSBsYW5ndWFnZXMgbGlrZSBUdXJraXNo
KSBtaWdodCBiZTo8YnI+DQoxLiBTZWFyY2ggZm9yIHRoZSB3aG9sZSB3b3JkIGluIHRoZSBkaWN0
aW9uYXJ5LiBJZiBmb3VuZCBlbmQ8YnI+DQoyLiBTcGxpdCB0aGUgd29yZCBpbnRvIHN5bGxhYmxl
cyAodGhpcyBtaWdodCBiZSBhbm90aGVyIEFJIHByb2plY3QgdG9vKS48YnI+DQozLiBKb2luIHRo
ZSBzeWxsYWJsZXMgdG9nZXRoZXIgYW5kIHNlZSBpZiB0aGV5IG1ha2Ugd29yZHMgaW4gdGhlIGRp
Y3Rpb25hcnkuPGJyPg0KNC4gSWYgYWxsIHRoZSBzeWxsYWJsZXMgYXJlIHVzZWQgaW4ga25vd24g
d29yZHMsIHRoZW4geW91IGhhdmUgc3VjY2Vzcy48YnI+DQo1LiBBbiBoZXVyaXN0aWMgdG8gdXNl
IGlzIHRvIGNyZWF0ZSB3b3JkcyBhcyBsb25nIGFzIHBvc3NpYmxlLjxicj4NCjxicj4NCkUuZy4g
JnF1b3Q7QmFsbGV0dHTkbnplcmluJnF1b3Q7IChCYWxsZXR0dGFlbnplcmluIGlmIHlvdSBjYW4n
dCByZWFkIHVtbGF1dHMpLjxicj4NClN5bGxhYmxlczogJnF1b3Q7QmFsbCZxdW90OywgJnF1b3Q7
ZXR0JnF1b3Q7LCAmcXVvdDt0YWVueiZxdW90OywgJnF1b3Q7ZXImcXVvdDssICZxdW90O2luJnF1
b3Q7PGJyPg0KSm9pbmluZyB0aGUgc3lsbGFibGVzLCB3ZSBzZWUgdGhhdCAmcXVvdDtCYWxsJnF1
b3Q7IGlzIGluIG91ciBkaWN0aW9uYXJ5LCBidXQgJnF1b3Q7ZXR0dGFlbnplcmluJnF1b3Q7LCAm
cXVvdDtldHR0YWVuemVyJnF1b3Q7ICwgJnF1b3Q7ZXR0dGFlbnomcXVvdDsgYW5kICZxdW90O2V0
dCZxdW90OyBhcmUgbm90LiBTbyBvbiB3ZSBnbzo8YnI+DQomcXVvdDtCYWxsZXR0JnF1b3Q7IGlz
IGluIG91ciBkaWN0aW9uYXJ5LCBhbmQgJnF1b3Q7dGFlbnplcmluJnF1b3Q7IGlzIGFsc28uIE5v
dGUgaWYgd2Ugd2VudCBmb3IgdGhlIHNob3J0IHdvcmRzIGZpcnN0LCB0aGVuIHdlIGNvdWxkIHNw
bGl0IGl0IGludG86IEJhbGxldHQgfCB0YWVuemVyIHwgaW4uPGJyPg0KPGJyPg0KQXMgdXN1YWws
IGl0cyBhbiBpbnRlcmVzdGluZyBwcm9qZWN0IHdpdGggbm8gMTAwJSBwZXJmZWN0IHNvbHV0aW9u
LiBCZXN0IG9mIGx1Y2s8YnI+DQpKb25hdGhhbiBPJ0Nvbm5vcjxicj4NClhDT00gRHVibGluPGJy
Pg0KPGltZyBzcmM9ImNpZDoxMF9fPTBGQkJGQjdEREZDOTdEQjU4ZjllOGE5M2RmOTM4NjkwQHhj
b20uZGUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgYWx0PSJJbmFjdGl2ZSBoaWRlIGRldGFpbHMg
Zm9yIE90aXMgR29zcG9kbmV0aWMgJmx0O290aXNfZ29zcG9kbmV0aWNAeWFob28uY29tJmd0OyI+
T3RpcyBHb3Nwb2RuZXRpYyAmbHQ7b3Rpc19nb3Nwb2RuZXRpY0B5YWhvby5jb20mZ3Q7PGJyPg0K
PGJyPg0KPGJyPg0KDQo8dGFibGUgd2lkdGg9IjEwMCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9
IjAiIGNlbGxwYWRkaW5nPSIwIj4NCjx0ciB2YWxpZ249InRvcCI+PHRkIHN0eWxlPSJiYWNrZ3Jv
dW5kLWltYWdlOnVybChjaWQ6MjBfXz0wRkJCRkI3RERGQzk3REI1OGY5ZThhOTNkZjkzODY5MEB4
Y29tLmRlKTsgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgIiB3aWR0aD0iNDAlIj4NCjx1
bD4NCjx1bD4NCjx1bD4NCjx1bD48Yj48Zm9udCBzaXplPSIyIj5PdGlzIEdvc3BvZG5ldGljICZs
dDtvdGlzX2dvc3BvZG5ldGljQHlhaG9vLmNvbSZndDs8L2ZvbnQ+PC9iPjxmb250IHNpemU9IjIi
PiA8L2ZvbnQ+DQo8cD48Zm9udCBzaXplPSIyIj4xOS8wOS8yMDA2IDE3OjIxPC9mb250Pg0KPHRh
YmxlIGJvcmRlcj0iMSI+DQo8dHIgdmFsaWduPSJ0b3AiPjx0ZCB3aWR0aD0iMTY4IiBiZ2NvbG9y
PSIjRkZGRkZGIj48ZGl2IGFsaWduPSJjZW50ZXIiPjxmb250IHNpemU9IjIiPlBsZWFzZSByZXNw
b25kIHRvPGJyPg0KamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPC9mb250PjwvZGl2PjwvdGQ+
PC90cj4NCjwvdGFibGU+DQo8L3VsPg0KPC91bD4NCjwvdWw+DQo8L3VsPg0KPC90ZD48dGQgd2lk
dGg9IjYwJSI+DQo8dGFibGUgd2lkdGg9IjEwMCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjAi
IGNlbGxwYWRkaW5nPSIwIj4NCjx0ciB2YWxpZ249InRvcCI+PHRkIHdpZHRoPSIxJSIgdmFsaWdu
PSJtaWRkbGUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI3RERGQzk3REI1OGY5ZThhOTNkZjkz
ODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjU4IiBhbHQ9IiI+PGJy
Pg0KPGRpdiBhbGlnbj0icmlnaHQiPjxmb250IHNpemU9IjIiPlRvPC9mb250PjwvZGl2PjwvdGQ+
PHRkIHdpZHRoPSIxMDAlIj48aW1nIHNyYz0iY2lkOjMwX189MEZCQkZCN0RERkM5N0RCNThmOWU4
YTkzZGY5Mzg2OTBAeGNvbS5kZSIgYm9yZGVyPSIwIiBoZWlnaHQ9IjEiIHdpZHRoPSIxIiBhbHQ9
IiI+PGJyPg0KPGZvbnQgc2l6ZT0iMiI+amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPC9mb250
PjwvdGQ+PC90cj4NCg0KPHRyIHZhbGlnbj0idG9wIj48dGQgd2lkdGg9IjElIiB2YWxpZ249Im1p
ZGRsZSI+PGltZyBzcmM9ImNpZDozMF9fPTBGQkJGQjdEREZDOTdEQjU4ZjllOGE5M2RmOTM4Njkw
QHhjb20uZGUiIGJvcmRlcj0iMCIgaGVpZ2h0PSIxIiB3aWR0aD0iNTgiIGFsdD0iIj48YnI+DQo8
ZGl2IGFsaWduPSJyaWdodCI+PGZvbnQgc2l6ZT0iMiI+Y2M8L2ZvbnQ+PC9kaXY+PC90ZD48dGQg
d2lkdGg9IjEwMCUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI3RERGQzk3REI1OGY5ZThhOTNk
ZjkzODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjEiIGFsdD0iIj48
YnI+DQo8L3RkPjwvdHI+DQoNCjx0ciB2YWxpZ249InRvcCI+PHRkIHdpZHRoPSIxJSIgdmFsaWdu
PSJtaWRkbGUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI3RERGQzk3REI1OGY5ZThhOTNkZjkz
ODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjU4IiBhbHQ9IiI+PGJy
Pg0KPGRpdiBhbGlnbj0icmlnaHQiPjxmb250IHNpemU9IjIiPlN1YmplY3Q8L2ZvbnQ+PC9kaXY+
PC90ZD48dGQgd2lkdGg9IjEwMCUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI3RERGQzk3REI1
OGY5ZThhOTNkZjkzODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjEi
IGFsdD0iIj48YnI+DQo8Zm9udCBzaXplPSIyIj5BbmFseXNpcy90b2tlbml6YXRpb24gb2YgY29t
cG91bmQgd29yZHM8L2ZvbnQ+PC90ZD48L3RyPg0KPC90YWJsZT4NCg0KPHRhYmxlIGJvcmRlcj0i
MCIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4NCjx0ciB2YWxpZ249InRvcCI+PHRk
IHdpZHRoPSI1OCI+PGltZyBzcmM9ImNpZDozMF9fPTBGQkJGQjdEREZDOTdEQjU4ZjllOGE5M2Rm
OTM4NjkwQHhjb20uZGUiIGJvcmRlcj0iMCIgaGVpZ2h0PSIxIiB3aWR0aD0iMSIgYWx0PSIiPjwv
dGQ+PHRkIHdpZHRoPSIzMzYiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI3RERGQzk3REI1OGY5
ZThhOTNkZjkzODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjEiIGFs
dD0iIj48L3RkPjwvdHI+DQo8L3RhYmxlPg0KPC90ZD48L3RyPg0KPC90YWJsZT4NCjxicj4NCjx0
dD5IaSw8YnI+DQo8YnI+DQpIb3cgZG8gcGVvcGxlIHR5cGljYWxseSBhbmFseXplL3Rva2VuaXpl
IHRleHQgd2l0aCBjb21wb3VuZHMgKGUuZy4gR2VybWFuKT8gJm5ic3A7SSB0b29rIGEgbG9vayBh
dCBHZXJtYW5BbmFseXplciBob3BpbmcgdG8gc2VlIGhvdyBvbmUgY2FuIGRlYWwgd2l0aCB0aGF0
LCBidXQgaXQgdHVybnMgb3V0IEdlcm1hbkFuYWx5emVyIGRvZXNuJ3QgdHJlYXQgY29tcG91bmRz
IGluIGFueSBzcGVjaWFsIHdheSBhdCBhbGwuPGJyPg0KPGJyPg0KT25lIHdheSB0byBnbyBhYm91
dCB0aGlzIGlzIHRvIGhhdmUgYSB3b3JkIGRpY3Rpb25hcnkgYW5kIGEgdG9rZW5pemVyIHRoYXQg
cHJvY2Vzc2VzIGlucHV0IG9uZSBjaGFyYWN0ZXIgYXQgYSB0aW1lLCBsb29raW5nIGZvciBhIHdv
cmQgbWF0Y2ggaW4gdGhlIGRpY3Rpb25hcnkgYWZ0ZXIgZWFjaCBwcm9jZXNzZWQgY2hhcmFjdGVy
cy4gJm5ic3A7VGhlbiwgQ29tcG91bmRXb3JkTGlrZVRoaXMgY291bGQgYmUgYnJva2VuIGRvd24g
aW50byBtdWx0aXBsZSB0b2tlbnMvd29yZHMgYW5kIHJldHVybmVkIGF0IGEgc2V0IG9mIHRva2Vu
cyBhdCB0aGUgc2FtZSBwb3NpdGlvbi4gJm5ic3A7SG93ZXZlciwgc29tZWhvdyB0aGlzIGRvZXNu
J3Qgc3RyaWtlIG1lIGFzIGEgdmVyeSBzbWFydCBhbmQgZmFzdCBhcHByb2FjaC48YnI+DQpXaGF0
IGFyZSBzb21lIGJldHRlciBhcHByb2FjaGVzPzxicj4NCklmIGFueW9uZSBoYXMgaW1wbGVtZW50
ZWQgYW55dGhpbmcgdGhhdCBkZWFscyB3aXRoIHRoaXMgcHJvYmxlbSwgSSdkIGxvdmUgdG8gaGVh
ciBhYm91dCBpdC48YnI+DQo8YnI+DQpUaGFua3MsPGJyPg0KT3Rpczxicj4NCjxicj4NCjxicj4N
Cjxicj4NCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLTxicj4NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNl
ci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZzxicj4NCkZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnPGJyPg0KPGJyPg0K
PC90dD48YnI+DQo8YnI+DQo8YnI+DQo8YnI+DQo8YnI+DQoqKiogWENPTSBBRyBMZWdhbCBEaXNj
bGFpbWVyICoqKjxicj4NCjxicj4NCkRpZXNlIEUtTWFpbCBlaW5zY2hsaWVzc2xpY2ggaWhyZXIg
QW5oYWVuZ2UgaXN0IHZlcnRyYXVsaWNoIHVuZCBpc3QgYWxsZWluIGb8ciBkZW4gR2VicmF1Y2gg
ZHVyY2ggZGVuIHZvcmdlc2VoZW5lbiBFbXBmYWVuZ2VyIGJlc3RpbW10LiBEcml0dGVuIGlzdCBk
YXMgTGVzZW4sIFZlcnRlaWxlbiBvZGVyIFdlaXRlcmxlaXRlbiBkaWVzZXIgRS1NYWlsIHVudGVy
c2FndC4gV2lyIGJpdHRlbiwgZWluZSBmZWhsZ2VsZWl0ZXRlIEUtTWFpbCB1bnZlcnp1ZWdsaWNo
IHZvbGxzdGFlbmRpZyB6dSBsb2VzY2hlbiB1bmQgdW5zIGVpbmUgTmFjaHJpY2h0IHp1a29tbWVu
IHp1IGxhc3Nlbi48YnI+DQo8YnI+DQpUaGlzIGVtYWlsIG1heSBjb250YWluIG1hdGVyaWFsIHRo
YXQgaXMgY29uZmlkZW50aWFsIGFuZCBmb3IgdGhlIHNvbGUgdXNlIG9mIHRoZSBpbnRlbmRlZCBy
ZWNpcGllbnQuIEFueSByZXZpZXcsIGRpc3RyaWJ1dGlvbiBieSBvdGhlcnMgb3IgZm9yd2FyZGlu
ZyB3aXRob3V0IGV4cHJlc3MgcGVybWlzc2lvbiBpcyBzdHJpY3RseSBwcm9oaWJpdGVkLiBJZiB5
b3UgYXJlIG5vdCB0aGUgaW50ZW5kZWQgcmVjaXBpZW50LCBwbGVhc2UgY29udGFjdCB0aGUgc2Vu
ZGVyIGFuZCBkZWxldGUgYWxsIGNvcGllcy48YnI+DQo8YnI+DQpIYXVwdHNpdHo6IEJhaG5zdHJh
c3NlIDMzLCBELTQ3ODc3IFdpbGxpY2gsIFVTdC1JZE5yLjogREUgODEyIDg4NSA2NjQ8YnI+DQpL
b21tdW5pa2F0aW9uOiBUZWxlZm9uICs0OSAyMTU0IDkyMDktNzAsIFRlbGVmYXggKzQ5IDIxNTQg
OTIwOS05MDAsIHd3dy54Y29tLmRlPGJyPg0KSGFuZGVsc3JlZ2lzdGVyOiBBbXRzZ2VyaWNodCBL
cmVmZWxkLCBIUkIgMTAzNDA8YnI+DQpWb3JzdGFuZDogTWF0dGhpYXMgQWxicmVjaHQsIFJlbmF0
ZSBCZWNrZXItR3JvcGUsIE1hcmNvIE1hcnR5LCBEci4gUmFpbmVyIEZ1Y2hzPGJyPg0KVm9yc2l0
emVuZGVyIGRlcyBBdWZzaWNodHNyYXRlczogU3RlcGhhbiBTdGV1ZXI8YnI+DQo8L2JvZHk+PC9o
dG1sPg==


--1__=0FBBFB7DDFC97DB58f9e8a93df938690918c0FBBFB7DDFC97DB5--


--0__=0FBBFB7DDFC97DB58f9e8a93df938690918c0FBBFB7DDFC97DB5--

From java-user-return-23452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 16:52:59 2006
Return-Path: <java-user-return-23452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98974 invoked from network); 19 Sep 2006 16:52:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 16:52:58 -0000
Received: (qmail 47517 invoked by uid 500); 19 Sep 2006 16:52:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47490 invoked by uid 500); 19 Sep 2006 16:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47479 invoked by uid 99); 19 Sep 2006 16:52:52 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 09:52:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([68.116.38.223:57377] helo=rectangular.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id A8/14-28275-E5020154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 09:52:47 -0700
Received: from [67.189.26.9] (helo=[10.0.1.3])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1GPj4M-000Jmo-9Q
	for java-user@lucene.apache.org; Tue, 19 Sep 2006 10:07:38 -0700
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
References: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E1930C29-4B77-41EB-9384-450BF7D34C77@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Analysis/tokenization of compound words
Date: Tue, 19 Sep 2006 09:52:42 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 19, 2006, at 9:21 AM, Otis Gospodnetic wrote:

> How do people typically analyze/tokenize text with compounds (e.g.  
> German)?  I took a look at GermanAnalyzer hoping to see how one can  
> deal with that, but it turns out GermanAnalyzer doesn't treat  
> compounds in any special way at all.
>
> One way to go about this is to have a word dictionary and a  
> tokenizer that processes input one character at a time, looking for  
> a word match in the dictionary after each processed characters.   
> Then, CompoundWordLikeThis could be broken down into multiple  
> tokens/words and returned at a set of tokens at the same position.   
> However, somehow this doesn't strike me as a very smart and fast  
> approach.

This came up on the KinoSearch list a few weeks ago, and best  
solution I could think of used essentially the same algorithm you  
describe.

During the discussion, we found this:

http://www.glue.umd.edu/~oard/courses/708a/fall01/838/P2/

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 17:45:57 2006
Return-Path: <java-user-return-23453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14702 invoked from network); 19 Sep 2006 17:45:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 17:45:57 -0000
Received: (qmail 42847 invoked by uid 500); 19 Sep 2006 17:45:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42813 invoked by uid 500); 19 Sep 2006 17:45:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42802 invoked by uid 99); 19 Sep 2006 17:45:50 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 10:45:50 -0700
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received: from ([194.109.24.37:3634] helo=smtp-vbr17.xs4all.nl)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 98/A5-28275-ACC20154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 10:45:47 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr17.xs4all.nl (8.13.6/8.13.6) with ESMTP id k8JHjhw8077057
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 19:45:43 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: How to filter results below perticular score
Date: Tue, 19 Sep 2006 19:45:42 +0200
User-Agent: KMail/1.8.2
References: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin> <9fc755c20609190249o58ac0e4y5c9372d51e637fbc@mail.gmail.com>
In-Reply-To: <9fc755c20609190249o58ac0e4y5c9372d51e637fbc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609191945.42981.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 19 September 2006 11:49, karl wettin wrote:
> On 9/19/06, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
> > Hi all,
> >
> > How to put limit in lucene that "dont return me any document which has 
score less than 0.25"
> 
> You implement a HitCollector and break out when you reach such low score.

A HitCollector gets called in index order.


> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 17:51:16 2006
Return-Path: <java-user-return-23454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15840 invoked from network); 19 Sep 2006 17:51:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 17:51:16 -0000
Received: (qmail 53098 invoked by uid 500); 19 Sep 2006 17:51:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53074 invoked by uid 500); 19 Sep 2006 17:51:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53058 invoked by uid 99); 19 Sep 2006 17:51:06 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 10:51:06 -0700
X-ASF-Spam-Status: No, hits=0.1 required=5.0 tests=FORGED_RCVD_HELO
Received: from ([194.109.24.35:4289] helo=smtp-vbr15.xs4all.nl)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 00/D5-28275-50E20154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 10:51:03 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr15.xs4all.nl (8.13.6/8.13.6) with ESMTP id k8JHowl2064472
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 19:50:58 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: How to filter results below perticular score
Date: Tue, 19 Sep 2006 19:50:54 +0200
User-Agent: KMail/1.8.2
References: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin> <9fc755c20609190249o58ac0e4y5c9372d51e637fbc@mail.gmail.com> <200609191945.42981.paul.elschot@xs4all.nl>
In-Reply-To: <200609191945.42981.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609191950.56042.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry, I sent the message before completing it.

On Tuesday 19 September 2006 19:45, Paul Elschot wrote:
> On Tuesday 19 September 2006 11:49, karl wettin wrote:
> > On 9/19/06, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
> > > Hi all,
> > >
> > > How to put limit in lucene that "dont return me any document which has 
> score less than 0.25"
> > 
> > You implement a HitCollector and break out when you reach such low score.
> 
> A HitCollector gets called in index order.
For each matching document, that is.
Hits provides the documents sorted (normally) by decreasing score value.

This means that breaking out from a HitCollector is not normally done,
a doc with higher score could still follow.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 18:45:46 2006
Return-Path: <java-user-return-23455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28437 invoked from network); 19 Sep 2006 18:45:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 18:45:46 -0000
Received: (qmail 47212 invoked by uid 500); 19 Sep 2006 18:45:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47188 invoked by uid 500); 19 Sep 2006 18:45:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47177 invoked by uid 99); 19 Sep 2006 18:45:38 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 11:45:38 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=akunaulaakun@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.3 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,HTML_40_50,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([216.252.111.226:42849] helo=web57210.mail.re3.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 54/77-28275-CCA30154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 11:45:33 -0700
Received: (qmail 78824 invoked by uid 60001); 19 Sep 2006 18:45:30 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=t+vSB5IozVWDYp2AM9yMWOvAts0yRtWJvfdPeknLlqv9HSiH0iVeh4ftBZImuoOw1ROdVjBwTR2Vv3Jghzuz8l3vudGmfdZCmBdtsj7Xp7gTW1LlR09YxuJOUowy6VS9PM6uVvLyk9svvhkNmFobv2VezTvjBJOSroOd26fUGsg=  ;
Message-ID: <20060919184530.78822.qmail@web57210.mail.re3.yahoo.com>
Received: from [132.205.16.82] by web57210.mail.re3.yahoo.com via HTTP; Tue, 19 Sep 2006 11:45:30 PDT
Date: Tue, 19 Sep 2006 11:45:30 -0700 (PDT)
From: S R <akunaulaakun@yahoo.com>
Subject: Help wanted
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1196013281-1158691530=:58779"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1196013281-1158691530=:58779
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
  
  I have just downloaded LUCENE. I am not an expert in Java. Could someone lead me in the first few steps..
  
  Thank you
  
  
 		
---------------------------------
Do you Yahoo!?
 Get on board. You're invited to try the new Yahoo! Mail.
--0-1196013281-1158691530=:58779--

From java-user-return-23456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 18:56:56 2006
Return-Path: <java-user-return-23456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32588 invoked from network); 19 Sep 2006 18:56:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 18:56:55 -0000
Received: (qmail 74794 invoked by uid 500); 19 Sep 2006 18:56:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74763 invoked by uid 500); 19 Sep 2006 18:56:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74752 invoked by uid 99); 19 Sep 2006 18:56:49 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 11:56:49 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=yseeley@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.177:29828] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id EB/C7-28275-E6D30154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 11:56:46 -0700
Received: by py-out-1112.google.com with SMTP id w49so5027111pyg
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 11:56:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=SyXgs0pvzrbo+lU2p2d2IS5O83ABD1YGcUTh7PMtKqmAAG5z9TaUl+2We8f6BAydOwkx/npSI+erYlahYKIzxaolfxab4tqVKtQLU8LqJ9emLWNk3VvDcTJ/FljQkaLNEqvpjfmXfeU6T3RdL8a1ddrg6S0dQfNwLXzkbNsTixo=
Received: by 10.35.84.12 with SMTP id m12mr26659129pyl;
        Tue, 19 Sep 2006 11:56:43 -0700 (PDT)
Received: by 10.35.129.12 with HTTP; Tue, 19 Sep 2006 11:56:43 -0700 (PDT)
Message-ID: <c68e39170609191156v67c2dfe3s415b2e6217666f9@mail.gmail.com>
Date: Tue, 19 Sep 2006 14:56:43 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Help wanted
In-Reply-To: <20060919184530.78822.qmail@web57210.mail.re3.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <20060919184530.78822.qmail@web57210.mail.re3.yahoo.com>
X-Google-Sender-Auth: aa014d66accf555a
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/19/06, S R <akunaulaakun@yahoo.com> wrote:
>   I have just downloaded LUCENE. I am not an expert in Java. Could someone lead me in the first few steps..

The first few steps to what?
First, figure out if you want straight lucene-java, or another
application using lucene.

Lucene is a library that helps you write applications with full-text search.
Nutch uses Lucene, and adds web site crawlers and indexers, lets you
search the index, and is massively scalable (it's google-like)
Solr is a search server built on Lucene with a customizable schema,
highlighting, faceted browsing & web service-like interfaces (think
database, but full-text oriented).

So: web search => Nutch
      other search => Solr (no need for custom code)
      other, other search => Lucene (roll your own around Lucene)

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 19:07:44 2006
Return-Path: <java-user-return-23457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35485 invoked from network); 19 Sep 2006 19:07:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 19:07:44 -0000
Received: (qmail 12904 invoked by uid 500); 19 Sep 2006 19:07:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12874 invoked by uid 500); 19 Sep 2006 19:07:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12863 invoked by uid 99); 19 Sep 2006 19:07:37 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 12:07:37 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=akunaulaakun@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.7 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,HTML_20_30,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([216.252.111.219:37056] helo=web57203.mail.re3.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 47/28-28275-2FF30154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:07:32 -0700
Received: (qmail 47273 invoked by uid 60001); 19 Sep 2006 19:07:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=QIgXzDJYoSlKGU8erMeThB/7SQ1r3LtHkIP617BtbFD7hCtjWysU8xr5kyHQYPxw3oUqFLpvqM+tTlWpEG+elAsRiPezl37XHlyuDBVFuIKwOE7+wVaW9YtZ/92gqfKHPwI8ruzOT1Fv3ikw7AhSkhLLbsLIH8pGaR/fflNO3OY=  ;
Message-ID: <20060919190728.47271.qmail@web57203.mail.re3.yahoo.com>
Received: from [132.205.16.82] by web57203.mail.re3.yahoo.com via HTTP; Tue, 19 Sep 2006 12:07:28 PDT
Date: Tue, 19 Sep 2006 12:07:28 -0700 (PDT)
From: S R <akunaulaakun@yahoo.com>
Subject: Re: Help wanted
To: java-user@lucene.apache.org
In-Reply-To: <c68e39170609191156v67c2dfe3s415b2e6217666f9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-933059214-1158692848=:46951"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-933059214-1158692848=:46951
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thanks Yonik for the reply.
  
  What I want is to to index a set of text documents (about 200 .txt  files) in windows invironment so I can search in them. What I am doing  is actually evaluating different search or indexing tools. 
  
  Thank  you.
  

Yonik Seeley <yonik@apache.org> wrote:  On 9/19/06, S R  wrote:
>   I have just downloaded LUCENE. I am not an expert in Java. Could someone lead me in the first few steps..

The first few steps to what?
First, figure out if you want straight lucene-java, or another
application using lucene.

Lucene is a library that helps you write applications with full-text search.
Nutch uses Lucene, and adds web site crawlers and indexers, lets you
search the index, and is massively scalable (it's google-like)
Solr is a search server built on Lucene with a customizable schema,
highlighting, faceted browsing & web service-like interfaces (think
database, but full-text oriented).

So: web search => Nutch
      other search => Solr (no need for custom code)
      other, other search => Lucene (roll your own around Lucene)

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 				
---------------------------------
Get your own web address for just $1.99/1st yr. We'll help. Yahoo! Small Business.
--0-933059214-1158692848=:46951--

From java-user-return-23458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 19:21:19 2006
Return-Path: <java-user-return-23458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45142 invoked from network); 19 Sep 2006 19:21:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 19:21:19 -0000
Received: (qmail 43910 invoked by uid 500); 19 Sep 2006 19:21:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43881 invoked by uid 500); 19 Sep 2006 19:21:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43870 invoked by uid 99); 19 Sep 2006 19:21:12 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 12:21:12 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=findmath@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_00_10,HTML_MESSAGE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.182.184:1449] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 96/88-28275-42340154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:21:09 -0700
Received: by nf-out-0910.google.com with SMTP id b2so230561nfe
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:21:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=azYeFqtIg9DQQb3y0uxb0T/61kN0aTf5iYvC+j7BTNLWDQyGH7U5LAa9WY58ElOIfPXV4Yd7EIKKkLJZPaADbUmtGNu5mPDTF+ZSKSpJsFZj09ywFvUJJSdn7v/wZ1taSccn1e1FO1+oO+9qktjiqJmz6HzqAP9JvyZI0Y3XQuE=
Received: by 10.49.26.18 with SMTP id d18mr18779553nfj;
        Tue, 19 Sep 2006 12:21:05 -0700 (PDT)
Received: by 10.49.6.16 with HTTP; Tue, 19 Sep 2006 12:21:05 -0700 (PDT)
Message-ID: <abe188f20609191221n476165c5wa20ee03f5451b6eb@mail.gmail.com>
Date: Tue, 19 Sep 2006 14:21:05 -0500
From: "Find Me" <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: DisjunctionMaxQuery explaination
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_143272_7037934.1158693665331"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_143272_7037934.1158693665331
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I was trying to print out the score explanation by a DisjunctionMaxQuery.
Though there is a hit score > 0 for the results, there is no detailed
explanation. Am I doing something wrong?

In the following output, each hit has two lines. The first line is the hit
score and the second line is the explanation given by the
DisjunctionMaxQuery.

Hit 1: 0.6027994
0.0 = max plus 0.1 times others of:

Hit 2: 0.59990174
0.0 = max plus 0.1 times others of:

Hit 3: 0.41993123
0.0 = max plus 0.1 times others of:

------=_Part_143272_7037934.1158693665331--

From java-user-return-23459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 19:26:59 2006
Return-Path: <java-user-return-23459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46552 invoked from network); 19 Sep 2006 19:26:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 19:26:59 -0000
Received: (qmail 61644 invoked by uid 500); 19 Sep 2006 19:26:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61619 invoked by uid 500); 19 Sep 2006 19:26:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61608 invoked by uid 99); 19 Sep 2006 19:26:52 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 12:26:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([169.229.70.167:45515] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 42/B8-28275-97440154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:26:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8F3145B78D; Tue, 19 Sep 2006 12:26:47 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8B4127F403
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:26:47 -0700 (PDT)
Date: Tue, 19 Sep 2006 12:26:47 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: DisjunctionMaxQuery explaination
In-Reply-To: <abe188f20609191221n476165c5wa20ee03f5451b6eb@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609191225450.10962@hal.rescomp.berkeley.edu>
References: <abe188f20609191221n476165c5wa20ee03f5451b6eb@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: In the following output, each hit has two lines. The first line is the hit
: score and the second line is the explanation given by the
: DisjunctionMaxQuery.

how are you printing the Explanation? .. are you using the toString()?

can you post a small self contained code example showing how you got this
output?

: Hit 1: 0.6027994
: 0.0 = max plus 0.1 times others of:
:
: Hit 2: 0.59990174
: 0.0 = max plus 0.1 times others of:
:
: Hit 3: 0.41993123
: 0.0 = max plus 0.1 times others of:




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 19:35:08 2006
Return-Path: <java-user-return-23460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48503 invoked from network); 19 Sep 2006 19:35:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 19:35:07 -0000
Received: (qmail 80712 invoked by uid 500); 19 Sep 2006 19:35:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80683 invoked by uid 500); 19 Sep 2006 19:35:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80671 invoked by uid 99); 19 Sep 2006 19:35:01 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 12:35:01 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=findmath@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.182.185:16762] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id FA/E8-28275-F5640154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:34:57 -0700
Received: by nf-out-0910.google.com with SMTP id b2so233691nfe
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:34:52 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=C0CiLCwGHClYD2v4eUxfT7Z/QVO5Y+qR74XoJMfDCty9mvjDsnmMrBcqOqVsZJQD5r3bFsML4ViuKFLxpRA7B/tRzDGJNrYXKiBX/ZTgzbDnjz97zicwS8Lx6HqaST7bEDeKptw8xp/7auRFnmlwF9yGFR2tL/8MVdNfIfGF8mc=
Received: by 10.49.75.2 with SMTP id c2mr18784744nfl;
        Tue, 19 Sep 2006 12:34:52 -0700 (PDT)
Received: by 10.49.6.16 with HTTP; Tue, 19 Sep 2006 12:34:51 -0700 (PDT)
Message-ID: <abe188f20609191234t2eb56c7l5fd50d2ed963e3eb@mail.gmail.com>
Date: Tue, 19 Sep 2006 14:34:51 -0500
From: "Find Me" <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: DisjunctionMaxQuery explaination
In-Reply-To: <Pine.LNX.4.58.0609191225450.10962@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_143490_2448777.1158694491919"
References: <abe188f20609191221n476165c5wa20ee03f5451b6eb@mail.gmail.com>
	 <Pine.LNX.4.58.0609191225450.10962@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_143490_2448777.1158694491919
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

 public void explainSearchScore(String indexLocation, DisjunctionMaxQuery
disjunctQuery){
         IndexSearcher searcher = new IndexSearcher(IndexReader.open
(indexLocation));

         Hits hits = searcher.search(disjunctQuery);
         if(hits == null) return;

         for(int i = 0; i < hits.length(); i++){
               System.out.println("Hit " + i + " " +
searcher.explain(disjunctQuery,
i).toString());
         }
}


On 9/19/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : In the following output, each hit has two lines. The first line is the
> hit
> : score and the second line is the explanation given by the
> : DisjunctionMaxQuery.
>
> how are you printing the Explanation? .. are you using the toString()?
>
> can you post a small self contained code example showing how you got this
> output?
>
> : Hit 1: 0.6027994
> : 0.0 = max plus 0.1 times others of:
> :
> : Hit 2: 0.59990174
> : 0.0 = max plus 0.1 times others of:
> :
> : Hit 3: 0.41993123
> : 0.0 = max plus 0.1 times others of:
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
--Rajesh Munavalli
Blog: http://munavalli.blogspot.com

------=_Part_143490_2448777.1158694491919--

From java-user-return-23461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 19:43:22 2006
Return-Path: <java-user-return-23461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50585 invoked from network); 19 Sep 2006 19:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 19:43:22 -0000
Received: (qmail 96150 invoked by uid 500); 19 Sep 2006 19:43:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96122 invoked by uid 500); 19 Sep 2006 19:43:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96111 invoked by uid 99); 19 Sep 2006 19:43:15 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 12:43:15 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=findmath@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.180:1055] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id B0/29-28275-D4840154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:43:11 -0700
Received: by py-out-1112.google.com with SMTP id w49so5039512pyg
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:43:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=qMjqibYJpyfgUMT3hFdF8IErwrdhwGyYeg3TMCjn3SEDsjx5JcIPMm54Nz5ntG0I84WMyFJP7SjCsoN97VdH9Z3StrgTEy6qUIvUvSpifdJ/1zeyElxOCE2KzOiO+YJEcW8h4vD9efjY2U9EN2KCGMyvXzpybAIZF7R3oN570YA=
Received: by 10.35.18.3 with SMTP id v3mr26753870pyi;
        Tue, 19 Sep 2006 12:43:07 -0700 (PDT)
Received: from ?192.168.0.4? ( [209.98.206.13])
        by mx.gmail.com with ESMTP id b52sm1761241pyb.2006.09.19.12.43.05;
        Tue, 19 Sep 2006 12:43:06 -0700 (PDT)
Message-ID: <45104842.5090101@gmail.com>
Date: Tue, 19 Sep 2006 14:42:58 -0500
From: Find Me <findmath@gmail.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To: Lucene Java Group <java-user@lucene.apache.org>
Subject: Re: DisjunctionMaxQuery explaination
References: <abe188f20609191221n476165c5wa20ee03f5451b6eb@mail.gmail.com>	 <Pine.LNX.4.58.0609191225450.10962@hal.rescomp.berkeley.edu> <abe188f20609191234t2eb56c7l5fd50d2ed963e3eb@mail.gmail.com>
In-Reply-To: <abe188f20609191234t2eb56c7l5fd50d2ed963e3eb@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Forgot to add the hits.score() to print out the hits score.

public void explainSearchScore(String indexLocation, DisjunctionMaxQuery 
disjunctQuery){
         IndexSearcher searcher = new 
IndexSearcher(IndexReader.open(indexLocation));
         
         Hits hits = searcher.search(disjunctQuery);
         if(hits == null) return;
 
         for(int i = 0; i < hits.length(); i++){
               System.out.println("Hit " + i + ": " + hits.score(i) + 
"\n" + searcher.explain(disjunctQuery, i).toString());
         }
}

Find Me wrote:
> public void explainSearchScore(String indexLocation, 
> DisjunctionMaxQuery disjunctQuery){
>          IndexSearcher searcher = new 
> IndexSearcher(IndexReader.open(indexLocation));
>          
>          Hits hits = searcher.search(disjunctQuery);
>          if(hits == null) return;
>  
>          for(int i = 0; i < hits.length(); i++){
>                System.out.println("Hit " + i + " " + 
> searcher.explain(disjunctQuery, i).toString());
>          }
> }
>
>
> On 9/19/06, *Chris Hostetter* <hossman_lucene@fucit.org 
> <mailto:hossman_lucene@fucit.org>> wrote:
>
>
>     : In the following output, each hit has two lines. The first line
>     is the hit
>     : score and the second line is the explanation given by the
>     : DisjunctionMaxQuery.
>
>     how are you printing the Explanation? .. are you using the toString()?
>
>     can you post a small self contained code example showing how you
>     got this
>     output?
>
>     : Hit 1: 0.6027994
>     : 0.0 = max plus 0.1 times others of:
>     :
>     : Hit 2: 0.59990174
>     : 0.0 = max plus 0.1 times others of:
>     :
>     : Hit 3: 0.41993123
>     : 0.0 = max plus 0.1 times others of:
>
>
>
>
>     -Hoss
>
>
>     ---------------------------------------------------------------------
>     To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>     <mailto:java-user-unsubscribe@lucene.apache.org>
>     For additional commands, e-mail: java-user-help@lucene.apache.org
>     <mailto:java-user-help@lucene.apache.org>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 19:55:46 2006
Return-Path: <java-user-return-23462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54266 invoked from network); 19 Sep 2006 19:55:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 19:55:46 -0000
Received: (qmail 19296 invoked by uid 500); 19 Sep 2006 19:55:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19268 invoked by uid 500); 19 Sep 2006 19:55:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19257 invoked by uid 99); 19 Sep 2006 19:55:39 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 12:55:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([169.229.70.167:47887] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 66/79-28275-63B40154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:55:35 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3AF715B78B; Tue, 19 Sep 2006 12:55:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1D9847F403
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 12:55:20 -0700 (PDT)
Date: Tue, 19 Sep 2006 12:55:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Java Group <java-user@lucene.apache.org>
Subject: Re: DisjunctionMaxQuery explaination
In-Reply-To: <45104842.5090101@gmail.com>
Message-ID: <Pine.LNX.4.58.0609191253260.10962@hal.rescomp.berkeley.edu>
References: <abe188f20609191221n476165c5wa20ee03f5451b6eb@mail.gmail.com> 
 <Pine.LNX.4.58.0609191225450.10962@hal.rescomp.berkeley.edu>
 <abe188f20609191234t2eb56c7l5fd50d2ed963e3eb@mail.gmail.com>
 <45104842.5090101@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


The "i" you pass to Hits.score is the index of the result in that Hits
object ... the "i" you pass to Searcher.explain should be the absolute
docid  (the searcher has no way of knowing about your Hits, or what order
they are in).

Try something like...

	searcher.explain(disjunctQuery, hits.doc(i)).toString()



: Date: Tue, 19 Sep 2006 14:42:58 -0500
: From: Find Me <findmath@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: Lucene Java Group <java-user@lucene.apache.org>
: Subject: Re: DisjunctionMaxQuery explaination
:
: Forgot to add the hits.score() to print out the hits score.
:
: public void explainSearchScore(String indexLocation, DisjunctionMaxQuery
: disjunctQuery){
:          IndexSearcher searcher = new
: IndexSearcher(IndexReader.open(indexLocation));
:
:          Hits hits = searcher.search(disjunctQuery);
:          if(hits == null) return;
:
:          for(int i = 0; i < hits.length(); i++){
:                System.out.println("Hit " + i + ": " + hits.score(i) +
: "\n" + searcher.explain(disjunctQuery, i).toString());
:          }
: }
:
: Find Me wrote:
: > public void explainSearchScore(String indexLocation,
: > DisjunctionMaxQuery disjunctQuery){
: >          IndexSearcher searcher = new
: > IndexSearcher(IndexReader.open(indexLocation));
: >
: >          Hits hits = searcher.search(disjunctQuery);
: >          if(hits == null) return;
: >
: >          for(int i = 0; i < hits.length(); i++){
: >                System.out.println("Hit " + i + " " +
: > searcher.explain(disjunctQuery, i).toString());
: >          }
: > }
: >
: >
: > On 9/19/06, *Chris Hostetter* <hossman_lucene@fucit.org
: > <mailto:hossman_lucene@fucit.org>> wrote:
: >
: >
: >     : In the following output, each hit has two lines. The first line
: >     is the hit
: >     : score and the second line is the explanation given by the
: >     : DisjunctionMaxQuery.
: >
: >     how are you printing the Explanation? .. are you using the toString()?
: >
: >     can you post a small self contained code example showing how you
: >     got this
: >     output?
: >
: >     : Hit 1: 0.6027994
: >     : 0.0 = max plus 0.1 times others of:
: >     :
: >     : Hit 2: 0.59990174
: >     : 0.0 = max plus 0.1 times others of:
: >     :
: >     : Hit 3: 0.41993123
: >     : 0.0 = max plus 0.1 times others of:
: >
: >
: >
: >
: >     -Hoss
: >
: >
: >     ---------------------------------------------------------------------
: >     To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: >     <mailto:java-user-unsubscribe@lucene.apache.org>
: >     For additional commands, e-mail: java-user-help@lucene.apache.org
: >     <mailto:java-user-help@lucene.apache.org>
: >
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 20:15:28 2006
Return-Path: <java-user-return-23463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66297 invoked from network); 19 Sep 2006 20:15:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 20:15:28 -0000
Received: (qmail 75697 invoked by uid 500); 19 Sep 2006 20:15:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75678 invoked by uid 500); 19 Sep 2006 20:15:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75667 invoked by uid 99); 19 Sep 2006 20:15:13 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 13:15:13 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=eksdev@yahoo.co.uk; domainkeys=good
X-ASF-Spam-Status: No, hits=1.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([217.146.176.252:42222] helo=web25914.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 08/1A-28275-ACF40154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 13:15:08 -0700
Received: (qmail 67016 invoked by uid 60001); 19 Sep 2006 20:15:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=PX4rE3g4azRGmQLbGa8VrZOe8OM78iV3jWJTnDCF5VYJaCWXOKJpGTFd1bnxF0oOSOTMlv7YfRgSzfnsyuw3AqiCZh9h252GjceZzRPxMhji3Dao+LW3y73AJDr79ruJtyL5UDSFqBUryBvb15UEEleo7yOa57iO8lNdWHxgfzg=  ;
Message-ID: <20060919201504.67013.qmail@web25914.mail.ukl.yahoo.com>
Received: from [84.131.245.223] by web25914.mail.ukl.yahoo.com via HTTP; Tue, 19 Sep 2006 20:15:04 GMT
Date: Tue, 19 Sep 2006 20:15:04 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Reply-To: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Analysis/tokenization of compound words
To: java-user@lucene.apache.org
In-Reply-To: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,
Depends what yo need to do with it, if you need this to be only used as "ki=
nd of stemming" for searching documents, solution is not all that complex. =
If you need linguisticly correct splitting than it gets complicated.

for the first case:
Build SuffixTree with your dictionary (hope you have many inflections for g=
erman words in your dictionary...(feminin, masculin, plural, n-ending, 4 ca=
ses...), Tanzerin Tanzer). find longest suffix that is in your dictionary a=
nd recursively strip word that ends original word... It is fast.

If I remember correctly, in lucene util is some SuffixTree implementation (=
not really good for large dictionaries)

Thigs to be aware of, your recall will drop down in case you use simple fuz=
zy things that are normally found.

- "Ballettt=E4nzerin" -> "Ballett" "t=E4nzerin", so if your request does no=
t get split due to typos no chance to find it, e.g. "Ballett=E4nzerim"->"Ba=
llett=E4nzerim"

- You need good dictionary with all inflections (google morphy or something=
 like this to help you generate all forms )

- try to be carefull with short prefix in this case as this leads to totall=
y wrong splitting "umbau"->"um" "bau" (changes emning, and if you have prep=
osition "um" as stopword...)

For beter solutions that would cover fuzzy errors, contact Bob Carpenter fr=
om Alias-I, his SpellChecker can do this rather easily, unfortunatelly (for=
 us) for money (Warning: I am in no relatatin to Bob or Alias-I at all)...

Daniel Naber made some work with German dictionaries as well, if I recall w=
ell, maybe he has something that helps

Anyhow, if you opt for the first option, I will try to dig something out in=
 our archives, we did something similar ages ago ("stemming like" splitting=
 of word in German)

Have fun, e.

----- Original Message ----
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
To: java-user@lucene.apache.org
Sent: Tuesday, 19 September, 2006 6:21:55 PM
Subject: Analysis/tokenization of compound words

Hi,

How do people typically analyze/tokenize text with compounds (e.g. German)?=
  I took a look at GermanAnalyzer hoping to see how one can deal with that,=
 but it turns out GermanAnalyzer doesn't treat compounds in any special way=
 at all.

One way to go about this is to have a word dictionary and a tokenizer that =
processes input one character at a time, looking for a word match in the di=
ctionary after each processed characters.  Then, CompoundWordLikeThis could=
 be broken down into multiple tokens/words and returned at a set of tokens =
at the same position.  However, somehow this doesn't strike me as a very sm=
art and fast approach.
What are some better approaches?
If anyone has implemented anything that deals with this problem, I'd love t=
o hear about it.

Thanks,
Otis



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 20:41:50 2006
Return-Path: <java-user-return-23464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75857 invoked from network); 19 Sep 2006 20:41:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 20:41:50 -0000
Received: (qmail 25910 invoked by uid 500); 19 Sep 2006 20:41:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25878 invoked by uid 500); 19 Sep 2006 20:41:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25867 invoked by uid 99); 19 Sep 2006 20:41:41 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 13:41:41 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=eksdev@yahoo.co.uk; domainkeys=good
X-ASF-Spam-Status: No, hits=1.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([217.12.10.201:40923] helo=web25903.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 67/CA-28275-00650154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 13:41:38 -0700
Received: (qmail 18431 invoked by uid 60001); 19 Sep 2006 20:41:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=jCB/7LEKjfotq8UCbAhMEpqMUK2iFHdLpB4RY8d42XSKL6AfugU6BYUofKTPCkjj9KeQ9Xa/hf+yUwnjTSdpXN4WCBWQVD2uSf84nNu14dWG7krrLU5tbyTh+L7uaSFBc99B1fCGBP+nPeAlZ9xNNZRP7sCOHvOzxKH0lOGKY5c=  ;
Message-ID: <20060919204133.18429.qmail@web25903.mail.ukl.yahoo.com>
Received: from [84.131.245.223] by web25903.mail.ukl.yahoo.com via HTTP; Tue, 19 Sep 2006 20:41:33 GMT
Date: Tue, 19 Sep 2006 20:41:33 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Reply-To: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Analysis/tokenization of compound words
To: java-user@lucene.apache.org
In-Reply-To: <20060919201504.67013.qmail@web25914.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I just remembered now on minor thing that made our life easier, recusive lo=
op has some primitive=20
stripEndings() method that removes most of variable endings all these ungs/=
ungen/... before looking up in SuffixTree. This reduces your dictionary nee=
ds dramatically. I think this is partially done in GermanStemmer in Lucene.=
..

ahh, another one, when you strip suffix, check if last char on remaining "s=
tem" is "s" (magic thing in German), delete it if not the only letter.... d=
o not ask why, long unexplained mistery of German language

this approach works in 99% cases, and special linguistic tricks are anyhow =
not so relevant for most situations for searching. Regular stemmer makes mu=
ch greater distorsion than this

Must find this code somewhere, I probably left something out in these email=
s


----- Original Message ----
From: eks dev <eksdev@yahoo.co.uk>
To: java-user@lucene.apache.org
Sent: Tuesday, 19 September, 2006 10:15:04 PM
Subject: Re: Analysis/tokenization of compound words

Hi Otis,
Depends what yo need to do with it, if you need this to be only used as "ki=
nd of stemming" for searching documents, solution is not all that complex. =
If you need linguisticly correct splitting than it gets complicated.

for the first case:
Build SuffixTree with your dictionary (hope you have many inflections for g=
erman words in your dictionary...(feminin, masculin, plural, n-ending, 4 ca=
ses...), Tanzerin Tanzer). find longest suffix that is in your dictionary a=
nd recursively strip word that ends original word... It is fast.

If I remember correctly, in lucene util is some SuffixTree implementation (=
not really good for large dictionaries)

Thigs to be aware of, your recall will drop down in case you use simple fuz=
zy things that are normally found.

- "Ballettt=E4nzerin" -> "Ballett" "t=E4nzerin", so if your request does no=
t get split due to typos no chance to find it, e.g. "Ballett=E4nzerim"->"Ba=
llett=E4nzerim"

- You need good dictionary with all inflections (google morphy or something=
 like this to help you generate all forms )

- try to be carefull with short prefix in this case as this leads to totall=
y wrong splitting "umbau"->"um" "bau" (changes emning, and if you have prep=
osition "um" as stopword...)

For beter solutions that would cover fuzzy errors, contact Bob Carpenter fr=
om Alias-I, his SpellChecker can do this rather easily, unfortunatelly (for=
 us) for money (Warning: I am in no relatatin to Bob or Alias-I at all)...

Daniel Naber made some work with German dictionaries as well, if I recall w=
ell, maybe he has something that helps

Anyhow, if you opt for the first option, I will try to dig something out in=
 our archives, we did something similar ages ago ("stemming like" splitting=
 of word in German)

Have fun, e.

----- Original Message ----
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
To: java-user@lucene.apache.org
Sent: Tuesday, 19 September, 2006 6:21:55 PM
Subject: Analysis/tokenization of compound words

Hi,

How do people typically analyze/tokenize text with compounds (e.g. German)?=
  I took a look at GermanAnalyzer hoping to see how one can deal with that,=
 but it turns out GermanAnalyzer doesn't treat compounds in any special way=
 at all.

One way to go about this is to have a word dictionary and a tokenizer that =
processes input one character at a time, looking for a word match in the di=
ctionary after each processed characters.  Then, CompoundWordLikeThis could=
 be broken down into multiple tokens/words and returned at a set of tokens =
at the same position.  However, somehow this doesn't strike me as a very sm=
art and fast approach.
What are some better approaches?
If anyone has implemented anything that deals with this problem, I'd love t=
o hear about it.

Thanks,
Otis



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 21:19:36 2006
Return-Path: <java-user-return-23465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89185 invoked from network); 19 Sep 2006 21:19:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 21:19:35 -0000
Received: (qmail 8436 invoked by uid 500); 19 Sep 2006 21:19:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8413 invoked by uid 500); 19 Sep 2006 21:19:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8402 invoked by uid 99); 19 Sep 2006 21:19:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 14:19:25 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=simon.willnauer@googlemail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([66.249.92.169:6219] helo=ug-out-1314.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id C2/EB-28275-8DE50154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 14:19:21 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1072ugc
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 14:19:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YINYzb4+KlBDs0aIn9LLTFea+XN8mCt3veTeb6NM/yxojQrPvwvJoUu2A03KRaJFFByo38woNo9+OQSBq+pcPK51m6LDNa9WZBdXsJfUuuD6dYjlfl7w88tu5mNnxkTNcUJgDiB7fL+ylaFhNE+BjPyi7M3gykZe9NFevend5UU=
Received: by 10.67.93.6 with SMTP id v6mr8118881ugl;
        Tue, 19 Sep 2006 14:19:17 -0700 (PDT)
Received: by 10.67.22.17 with HTTP; Tue, 19 Sep 2006 14:19:17 -0700 (PDT)
Message-ID: <f18c9dde0609191419g3c433be6mf5249d9182909f47@mail.gmail.com>
Date: Tue, 19 Sep 2006 23:19:17 +0200
From: "Simon Willnauer" <simon.willnauer@googlemail.com>
Reply-To: simon.willnauer@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Help wanted
In-Reply-To: <20060919190728.47271.qmail@web57203.mail.re3.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <c68e39170609191156v67c2dfe3s415b2e6217666f9@mail.gmail.com>
	 <20060919190728.47271.qmail@web57203.mail.re3.yahoo.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rather than writing some more introductions to lucene I just give you
a hand with google.

GoogleQuery: lucene java intro

http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html

This should lead you to what you are looking for.

best regards simon

On 9/19/06, S R <akunaulaakun@yahoo.com> wrote:
> Thanks Yonik for the reply.
>
>   What I want is to to index a set of text documents (about 200 .txt  files) in windows invironment so I can search in them. What I am doing  is actually evaluating different search or indexing tools.
>
>   Thank  you.
>
>
> Yonik Seeley <yonik@apache.org> wrote:  On 9/19/06, S R  wrote:
> >   I have just downloaded LUCENE. I am not an expert in Java. Could someone lead me in the first few steps..
>
> The first few steps to what?
> First, figure out if you want straight lucene-java, or another
> application using lucene.
>
> Lucene is a library that helps you write applications with full-text search.
> Nutch uses Lucene, and adds web site crawlers and indexers, lets you
> search the index, and is massively scalable (it's google-like)
> Solr is a search server built on Lucene with a customizable schema,
> highlighting, faceted browsing & web service-like interfaces (think
> database, but full-text oriented).
>
> So: web search => Nutch
>       other search => Solr (no need for custom code)
>       other, other search => Lucene (roll your own around Lucene)
>
> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene search server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------
> Get your own web address for just $1.99/1st yr. We'll help. Yahoo! Small Business.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 21:21:01 2006
Return-Path: <java-user-return-23466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89627 invoked from network); 19 Sep 2006 21:21:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 21:21:00 -0000
Received: (qmail 11612 invoked by uid 500); 19 Sep 2006 21:20:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11571 invoked by uid 500); 19 Sep 2006 21:20:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11560 invoked by uid 99); 19 Sep 2006 21:20:52 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 14:20:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([169.229.70.167:49070] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 1D/EB-28275-F2F50154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 14:20:48 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2E64C5B777; Tue, 19 Sep 2006 14:20:43 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 25FFB7F403;
	Tue, 19 Sep 2006 14:20:43 -0700 (PDT)
Date: Tue, 19 Sep 2006 14:20:43 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org, Bhavin Pandya <bhavinp@rediff.co.in>
Subject: Re: How to filter results below perticular score
In-Reply-To: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin>
Message-ID: <Pine.LNX.4.58.0609191418040.13328@hal.rescomp.berkeley.edu>
References: <001801c6dbc6$ecb54cb0$cd0310ac@bhavin>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


please see the FAQ "Can I filter by score?" ...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-912c1f237bb00259185353182948e5935f0c2f03


: Date: Tue, 19 Sep 2006 14:07:43 +0530
: From: Bhavin Pandya <bhavinp@rediff.co.in>
: Reply-To: java-user@lucene.apache.org, Bhavin Pandya <bhavinp@rediff.co.in>
: To: java-user@lucene.apache.org
: Subject: How to filter results below perticular score
:
: Hi all,
:
: How to put limit in lucene that "dont return me any document which has score less than 0.25"
:
: Thanks.
: Bhavin pandya
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 21:38:28 2006
Return-Path: <java-user-return-23467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95160 invoked from network); 19 Sep 2006 21:38:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 21:38:28 -0000
Received: (qmail 48798 invoked by uid 500); 19 Sep 2006 21:38:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48753 invoked by uid 500); 19 Sep 2006 21:38:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48742 invoked by uid 99); 19 Sep 2006 21:38:19 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 14:38:19 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=markrmiller@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_BY_IP
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([64.233.166.180:21379] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id EE/5C-28275-54360154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 14:38:14 -0700
Received: by py-out-1112.google.com with SMTP id w49so8246pyg
        for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 14:38:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=us7xfOPTr3TXNZyob0b+toASSysgqUUcY2sopu2vBbyhV7QBc7THhd8XeKLVRX3/+D6E3RFESb8Bsk1wfD/apeb3DlfZlkkuUPaN6H6VtCuzDqCF7LWTkhH17rxzmsgi4G/VcPbfa4bmGxDT+PywiLT+hhJOIvJPHwab/hsScPo=
Received: by 10.65.112.5 with SMTP id p5mr18598752qbm;
        Tue, 19 Sep 2006 14:38:10 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id e18sm10595105qbe.2006.09.19.14.38.09;
        Tue, 19 Sep 2006 14:38:09 -0700 (PDT)
Message-ID: <45106341.7090802@gmail.com>
Date: Tue, 19 Sep 2006 17:38:09 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Help wanted
References: <c68e39170609191156v67c2dfe3s415b2e6217666f9@mail.gmail.com>	 <20060919190728.47271.qmail@web57203.mail.re3.yahoo.com> <f18c9dde0609191419g3c433be6mf5249d9182909f47@mail.gmail.com>
In-Reply-To: <f18c9dde0609191419g3c433be6mf5249d9182909f47@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'll one up you:

http://www.manning.com/hatcher2/

Might as well save yourself a whole lot of time and just buy the book. 
If you're going to use Lucene it might as well be required.

Simon Willnauer wrote:
> Rather than writing some more introductions to lucene I just give you
> a hand with google.
>
> GoogleQuery: lucene java intro
>
> http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html
>
> This should lead you to what you are looking for.
>
> best regards simon
>
> On 9/19/06, S R <akunaulaakun@yahoo.com> wrote:
>> Thanks Yonik for the reply.
>>
>>   What I want is to to index a set of text documents (about 200 .txt  
>> files) in windows invironment so I can search in them. What I am 
>> doing  is actually evaluating different search or indexing tools.
>>
>>   Thank  you.
>>
>>
>> Yonik Seeley <yonik@apache.org> wrote:  On 9/19/06, S R  wrote:
>> >   I have just downloaded LUCENE. I am not an expert in Java. Could 
>> someone lead me in the first few steps..
>>
>> The first few steps to what?
>> First, figure out if you want straight lucene-java, or another
>> application using lucene.
>>
>> Lucene is a library that helps you write applications with full-text 
>> search.
>> Nutch uses Lucene, and adds web site crawlers and indexers, lets you
>> search the index, and is massively scalable (it's google-like)
>> Solr is a search server built on Lucene with a customizable schema,
>> highlighting, faceted browsing & web service-like interfaces (think
>> database, but full-text oriented).
>>
>> So: web search => Nutch
>>       other search => Solr (no need for custom code)
>>       other, other search => Lucene (roll your own around Lucene)
>>
>> -Yonik
>> http://incubator.apache.org/solr Solr, the open-source Lucene search 
>> server
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>> ---------------------------------
>> Get your own web address for just $1.99/1st yr. We'll help. Yahoo! 
>> Small Business.
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 19 21:45:45 2006
Return-Path: <java-user-return-23468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97338 invoked from network); 19 Sep 2006 21:45:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2006 21:45:44 -0000
Received: (qmail 59662 invoked by uid 500); 19 Sep 2006 21:45:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59612 invoked by uid 500); 19 Sep 2006 21:45:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59601 invoked by uid 99); 19 Sep 2006 21:45:36 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 14:45:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([66.111.4.25:52180] helo=out1.smtp.messagingengine.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 0B/8C-28275-BF460154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 14:45:33 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id 78F9BDA7B00
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 17:45:28 -0400 (EDT)
Received: from heartbeat2.internal ([10.202.2.161])
  by frontend3.internal (MEProxy); Tue, 19 Sep 2006 17:45:28 -0400
X-Sasl-enc: 9smlip5bjVZF2wd6PHJBtUpyrcmy4Tnh010ww/oZts8L 1158702330
Received: from [10.17.4.90] (pool-71-162-112-253.bstnma.fios.verizon.net [71.162.112.253])
	by mail.messagingengine.com (Postfix) with ESMTP id 07E2C3821
	for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 17:45:29 -0400 (EDT)
Message-ID: <451064F2.2010803@mikemccandless.com>
Date: Tue, 19 Sep 2006 17:45:22 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Help wanted
References: <c68e39170609191156v67c2dfe3s415b2e6217666f9@mail.gmail.com>	 <20060919190728.47271.qmail@web57203.mail.re3.yahoo.com> <f18c9dde0609191419g3c433be6mf5249d9182909f47@mail.gmail.com> <45106341.7090802@gmail.com>
In-Reply-To: <45106341.7090802@gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mark Miller wrote:
> I'll one up you:
> 
> http://www.manning.com/hatcher2/
> 
> Might as well save yourself a whole lot of time and just buy the book. 
> If you're going to use Lucene it might as well be required.

There is also "Getting Started" on the Lucene web site:

   http://lucene.apache.org/java/docs/gettingstarted.html

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 02:22:03 2006
Return-Path: <java-user-return-23469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53549 invoked from network); 20 Sep 2006 02:22:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 02:22:03 -0000
Received: (qmail 18708 invoked by uid 500); 20 Sep 2006 02:21:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18680 invoked by uid 500); 20 Sep 2006 02:21:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18668 invoked by uid 99); 20 Sep 2006 02:21:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 19:21:55 -0700
X-ASF-Spam-Status: No, hits=0.6 required=5.0 tests=FORGED_RCVD_HELO,HTML_20_30,HTML_MESSAGE
Received: from ([205.207.78.3:42380] helo=tormail01.cihi.ca)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 0E/A2-00639-FB5A0154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 19:21:52 -0700
Received: from (tormail01.cihi.ca [10.64.1.106]) by webshield.cihi.ca with smtp
	 id 2870_121b3556_484f_11db_8c64_003048245df9;
	Tue, 19 Sep 2006 22:24:03 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6DC5B.50DAC4F9"
Subject: lucene based frameworks/servers: solr, nutch, compass - which one is for what????
Date: Tue, 19 Sep 2006 22:19:48 -0400
Message-ID: <373399D6389D8C42B4EAD9BE2B6B5C5F070D1527@tormail01.cihi.ca>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene based frameworks/servers: solr, nutch, compass - which one is for what????
Thread-Index: AcbcU2hwz49S0j0VQ462FzV7nW1R6gAB9ZcP
References: <373399D6389D8C42B4EAD9BE2B6B5C5F070D1526@tormail01.cihi.ca>
From: "Vladimir Olenin" <VOlenin@cihi.ca>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6DC5B.50DAC4F9
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

Couple of people mentioned here SOLR as a 'new' Lucene based search =
server. But NUTCH is also Lucene based. Also, there is an OpenSymphony =
initiative called 'Compass', which is rather an integration framework =
than server.

I wonder if anyone can come up with a small summary of what are scopes =
of each of the products above? I did some reading and shuffling, but not =
sure if I got it completely right. Here is my summary. Please, =
correct/add-in:

- Lucene: the core/kernel of all the products. Contains all the search =
logic as well as index maintenance.
- Nutch: Interent/Itranet search engine. Shipped with a web crawler and =
a framework to run the Nutch in clustered environment (Hadoop). Open =
Source 'Google' :).
- Solr: SOAP/XML/JSON interface to the Lucene
- Compass: a integration framework which wires your application with =
Lucene using Spring/Hibernate

Am I close?

Vlad

------_=_NextPart_001_01C6DC5B.50DAC4F9--

From java-user-return-23470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 03:40:01 2006
Return-Path: <java-user-return-23470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70098 invoked from network); 20 Sep 2006 03:40:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 03:40:01 -0000
Received: (qmail 98184 invoked by uid 500); 20 Sep 2006 03:39:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97574 invoked by uid 500); 20 Sep 2006 03:39:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97563 invoked by uid 99); 20 Sep 2006 03:39:54 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 20:39:54 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.2 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from ([206.190.38.57:36061] helo=web50303.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 80/10-01052-508B0154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 20:39:51 -0700
Received: (qmail 23386 invoked by uid 60001); 20 Sep 2006 03:39:46 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=gMbKVni52NVgDyZHu29YfQN5Qi/+nXGxrDSPgjK46EAE5cBLJr1JUVMDU1OxZFc4mVKa56XVgj4Se97pzNHWqrV8nn7NvyKKHtP68KpVE7ztl2zZGD6gZ+Imp6EByGvV+aL+qjLdiilaS5SEar0uZFw05ECX4ACpwUCB+Ak9xCs=  ;
Message-ID: <20060920033946.23384.qmail@web50303.mail.yahoo.com>
Received: from [74.65.202.166] by web50303.mail.yahoo.com via HTTP; Tue, 19 Sep 2006 20:39:46 PDT
Date: Tue, 19 Sep 2006 20:39:46 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lucene based frameworks/servers: solr, nutch, compass - which one is for what????
To: java-user@lucene.apache.org
In-Reply-To: <373399D6389D8C42B4EAD9BE2B6B5C5F070D1527@tormail01.cihi.ca>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Vladimir,

Yes, you are close.  Solr doesn't use SOAP, though, and JSON is only one of its outputs.  Solr can be described as a REST-ish web service.  You trigger it via HTTP GET requests and responses are XML, or JSON, or something else in the future.

I think you are right about Compass, but I have not used it, so I'm not certain.  All of these should really get some coverge in the upcoming Lucene in Action part deux.

Otis


----- Original Message ----
From: Vladimir Olenin <VOlenin@cihi.ca>
To: java-user@lucene.apache.org
Sent: Tuesday, September 19, 2006 10:19:48 PM
Subject: lucene based frameworks/servers: solr, nutch, compass - which one is for what????

Hi,

Couple of people mentioned here SOLR as a 'new' Lucene based search server. But NUTCH is also Lucene based. Also, there is an OpenSymphony initiative called 'Compass', which is rather an integration framework than server.

I wonder if anyone can come up with a small summary of what are scopes of each of the products above? I did some reading and shuffling, but not sure if I got it completely right. Here is my summary. Please, correct/add-in:

- Lucene: the core/kernel of all the products. Contains all the search logic as well as index maintenance.
- Nutch: Interent/Itranet search engine. Shipped with a web crawler and a framework to run the Nutch in clustered environment (Hadoop). Open Source 'Google' :).
- Solr: SOAP/XML/JSON interface to the Lucene
- Compass: a integration framework which wires your application with Lucene using Spring/Hibernate

Am I close?

Vlad




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 06:56:29 2006
Return-Path: <java-user-return-23471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11035 invoked from network); 20 Sep 2006 06:56:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 06:56:28 -0000
Received: (qmail 77042 invoked by uid 500); 20 Sep 2006 06:56:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76951 invoked by uid 500); 20 Sep 2006 06:56:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76940 invoked by uid 99); 20 Sep 2006 06:56:22 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 19 Sep 2006 23:56:22 -0700
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=FROM_ENDS_IN_NUMS
Received: from ([80.67.18.13:44858] helo=smtprelay01.ispgateway.de)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id DB/F4-01184-E06E0154 for <java-user@lucene.apache.org>; Tue, 19 Sep 2006 23:56:17 -0700
Received: (qmail 24782 invoked from network); 20 Sep 2006 06:56:09 -0000
Received: from unknown (HELO p5496dd46.dip.t-dialin.net) ([pbs]695637@[84.150.221.70])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 20 Sep 2006 06:56:09 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Analysis/tokenization of compound words
Date: Wed, 20 Sep 2006 08:57:05 +0200
User-Agent: KMail/1.8.2
References: <20060919204133.18429.qmail@web25903.mail.ukl.yahoo.com>
In-Reply-To: <20060919204133.18429.qmail@web25903.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609200857.05892@danielnaber.de>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 19 September 2006 22:41, eks dev wrote:

> ahh, another one, when you strip suffix, check if last char on remaining
> "stem" is "s" (magic thing in German), delete it if not the only
> letter.... do not ask why, long unexplained mistery of German language

This is called "Fugenelement" and there are more characters than just the 
"s", although it might be enough to remove the "s" when trying to detect 
compounds. There are also cases where characters are removed (Wolle + 
Decke => Wolldecke).

Also see http://de.wikipedia.org/wiki/Fugenelement and 
http://en.wikipedia.org/wiki/Epenthesis (which emphasises pronunciation, 
but that's not a good explanation for the existence of these characters in 
German).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 07:06:34 2006
Return-Path: <java-user-return-23472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13169 invoked from network); 20 Sep 2006 07:06:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 07:06:33 -0000
Received: (qmail 92114 invoked by uid 500); 20 Sep 2006 07:06:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91846 invoked by uid 500); 20 Sep 2006 07:06:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91834 invoked by uid 99); 20 Sep 2006 07:06:27 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Sep 2006 00:06:27 -0700
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=FROM_ENDS_IN_NUMS
Received: from ([80.67.18.13:46852] helo=smtprelay01.ispgateway.de)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id D4/55-01184-E68E0154 for <java-user@lucene.apache.org>; Wed, 20 Sep 2006 00:06:23 -0700
Received: (qmail 31432 invoked from network); 20 Sep 2006 07:06:19 -0000
Received: from unknown (HELO p5496dd46.dip.t-dialin.net) ([pbs]695637@[84.150.221.70])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 20 Sep 2006 07:06:19 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Analysis/tokenization of compound words
Date: Wed, 20 Sep 2006 09:07:18 +0200
User-Agent: KMail/1.8.2
References: <20060919201504.67013.qmail@web25914.mail.ukl.yahoo.com>
In-Reply-To: <20060919201504.67013.qmail@web25914.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200609200907.18356@danielnaber.de>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 19 September 2006 22:15, eks dev wrote:

> Daniel Naber made some work with German dictionaries as well, if I
> recall well, maybe he has something that helps

The company I work for offers a commercial Java component for decomposing=20
and lemmatizing German words, see http://demo.intrafind.org/LiSa/ for an=20
online demo (sorry, page is in German only).

Writing a decomposer is difficult as you need both a large dictionary=20
*without* compounds and a set of rules to avoid splitting at too many=20
positions. For those who speak German: write a decomposer and use=20
"Kotfl=C3=BCgel" to test it :-)

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 08:57:40 2006
Return-Path: <java-user-return-23473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56861 invoked from network); 20 Sep 2006 08:57:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 08:57:40 -0000
Received: (qmail 1991 invoked by uid 500); 20 Sep 2006 08:57:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1730 invoked by uid 500); 20 Sep 2006 08:57:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1719 invoked by uid 99); 20 Sep 2006 08:57:33 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Sep 2006 01:57:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from ([81.228.11.159:40211] helo=pne-smtpout2-sn1.fre.skanova.net)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id A6/B0-00532-B5201154 for <java-user@lucene.apache.org>; Wed, 20 Sep 2006 01:57:01 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout2-sn1.fre.skanova.net (7.2.075)
        id 44FEC7CA003A9B89 for java-user@lucene.apache.org; Wed, 20 Sep 2006 10:56:55 +0200
Subject: Re: Analysis/tokenization of compound words
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
References: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1
Organization: snigel heavy industries
Date: Wed, 20 Sep 2006 10:56:51 +0200
Message-Id: <1158742611.4672.21.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-09-19 at 09:21 -0700, Otis Gospodnetic wrote:
> 
> How do people typically analyze/tokenize text with compounds (e.g.
> German)?  I took a look at GermanAnalyzer hoping to see how one can
> deal with that, but it turns out GermanAnalyzer doesn't treat
> compounds in any special way at all.

I've been looking close at this, but for Swedish. The major problem in
that case is how a composite word generally have totaly diffrent
sematincs compared to the parts. Here is a classic school example:

"En brun hrig sjuk skterska" 
A brown hairy sick care taker

"En brunhrig sjukskterska"
A brunette nurse


Thus it is not very helpful to index the composite parts by them self.
It is really a problem to be handled by a spell checker. So I wrote and
posted the Jira issue 626, an adaptive session analysing spell checker.
It makes recommendations based on how previous users changed their
queries. davinci -> da vinci. heroes iii -> heroes 3. And so on.

This strategy does however require quite some user traffic.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 11:39:41 2006
Return-Path: <java-user-return-23474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19438 invoked from network); 20 Sep 2006 11:39:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 11:39:40 -0000
Received: (qmail 38302 invoked by uid 500); 20 Sep 2006 11:39:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38269 invoked by uid 500); 20 Sep 2006 11:39:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38257 invoked by uid 99); 20 Sep 2006 11:39:32 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Sep 2006 04:39:32 -0700
X-ASF-Spam-Status: No, hits=0.4 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received: from ([205.143.200.58:21568] helo=smtp58.geico.com)
	by idunn.apache.osuosl.org (ecelerity 2.1 r(10620)) with ESMTP
	id 90/A5-00532-07821154 for <java-user@lucene.apache.org>; Wed, 20 Sep 2006 04:39:29 -0700
X-IronPort-AV: i="4.09,190,1157342400"; 
   d="scan'208"; a="169956806:sNHT287139268"
X-GEICO-DISCLAIMER: Disclaimer added
Received: from GP2K0084V1.GEICO.corp.net ([10.49.32.212]) by gp2k0346.GEICO.corp.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 20 Sep 2006 07:39:25 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: lucene based frameworks/servers: solr, nutch, compass - which one is for what????
Date: Wed, 20 Sep 2006 07:39:24 -0400
Message-ID: <5C039EC39FDBB74CBD2104A95C6FF1EB051A74AC@GP2K0084V1.GEICO.corp.net>
In-Reply-To: <20060920033946.23384.qmail@web50303.mail.yahoo.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene based frameworks/servers: solr, nutch, compass - which one is for what????
Thread-Index: AcbcZnWM8HE8XpMGRtqBfeRtFTgfaQAQnuTw
From: "Chenini, Mohamed " <MChenini@geico.com>
To: <java-user@lucene.apache.org>,
	"Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
X-OriginalArrivalTime: 20 Sep 2006 11:39:25.0074 (UTC) FILETIME=[6C45DF20:01C6DCA9]
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="us-ascii"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis,

Is  "the upcoming Lucene in Action part deux" a complement to LUCENE IN
ACTION (which I just recently bought)? And will it be for sale? Why
don't you and Erik don't write a Lucene/Nutch book?

Regards,
Mohamed


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Tuesday, September 19, 2006 11:40 PM
To: java-user@lucene.apache.org
Subject: Re: lucene based frameworks/servers: solr, nutch, compass -
which one is for what????

Hi Vladimir,

Yes, you are close.  Solr doesn't use SOAP, though, and JSON is only one
of its outputs.  Solr can be described as a REST-ish web service.  You
trigger it via HTTP GET requests and responses are XML, or JSON, or
something else in the future.

I think you are right about Compass, but I have not used it, so I'm not
certain.  All of these should really get some coverge in the upcoming
Lucene in Action part deux.

Otis


----- Original Message ----
From: Vladimir Olenin <VOlenin@cihi.ca>
To: java-user@lucene.apache.org
Sent: Tuesday, September 19, 2006 10:19:48 PM
Subject: lucene based frameworks/servers: solr, nutch, compass - which
one is for what????

Hi,

Couple of people mentioned here SOLR as a 'new' Lucene based search
server. But NUTCH is also Lucene based. Also, there is an OpenSymphony
initiative called 'Compass', which is rather an integration framework
than server.

I wonder if anyone can come up with a small summary of what are scopes
of each of the products above? I did some reading and shuffling, but not
sure if I got it completely right. Here is my summary. Please,
correct/add-in:

- Lucene: the core/kernel of all the products. Contains all the search
logic as well as index maintenance.
- Nutch: Interent/Itranet search engine. Shipped with a web crawler and
a framework to run the Nutch in clustered environment (Hadoop). Open
Source 'Google' :).
- Solr: SOAP/XML/JSON interface to the Lucene
- Compass: a integration framework which wires your application with
Lucene using Spring/Hibernate

Am I close?

Vlad




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
This email/fax message is for the sole use of the intended
recipient(s) and may contain confidential and privileged information.
Any unauthorized review, use, disclosure or distribution of this
email/fax is prohibited. If you are not the intended recipient, please
destroy all paper and electronic copies of the original message.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 13:17:45 2006
Return-Path: <java-user-return-23475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60025 invoked from network); 20 Sep 2006 13:17:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 13:17:45 -0000
Received: (qmail 97150 invoked by uid 500); 20 Sep 2006 13:17:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97122 invoked by uid 500); 20 Sep 2006 13:17:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97111 invoked by uid 99); 20 Sep 2006 13:17:38 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Sep 2006 06:17:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [128.230.18.29] ([128.230.18.29:4152] helo=mailer.syr.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 59/01-01622-C6F31154 for <java-user@lucene.apache.org>; Wed, 20 Sep 2006 06:17:33 -0700
Received: from [128.230.84.138] (syru84-138.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1581167E@mailer.syr.edu>; Wed, 20 Sep 2006 9:17:29 -0400
Message-ID: <45113F69.5040700@syr.edu>
Date: Wed, 20 Sep 2006 09:17:29 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Help wanted
References: <c68e39170609191156v67c2dfe3s415b2e6217666f9@mail.gmail.com>	 <20060919190728.47271.qmail@web57203.mail.re3.yahoo.com> <f18c9dde0609191419g3c433be6mf5249d9182909f47@mail.gmail.com> <45106341.7090802@gmail.com> <451064F2.2010803@mikemccandless.com>
In-Reply-To: <451064F2.2010803@mikemccandless.com>
X-Enigmail-Version: 0.94.0.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The Resources page on the Lucene Wiki has a collection of articles that
may be useful to you:

<http://wiki.apache.org/jakarta-lucene/Resources>

Michael McCandless wrote:
> Mark Miller wrote:
>> I'll one up you:
>>
>> http://www.manning.com/hatcher2/
>>
>> Might as well save yourself a whole lot of time and just buy the book.
>> If you're going to use Lucene it might as well be required.
> 
> There is also "Getting Started" on the Lucene web site:
> 
>   http://lucene.apache.org/java/docs/gettingstarted.html
> 
> Mike


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 14:20:41 2006
Return-Path: <java-user-return-23476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92253 invoked from network); 20 Sep 2006 14:20:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 14:20:40 -0000
Received: (qmail 24827 invoked by uid 500); 20 Sep 2006 14:20:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23815 invoked by uid 500); 20 Sep 2006 14:20:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23804 invoked by uid 99); 20 Sep 2006 14:20:31 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Sep 2006 07:20:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [69.55.225.129] ([69.55.225.129:51591] helo=ehatchersolutions.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 66/42-01963-11E41154 for <java-user@lucene.apache.org>; Wed, 20 Sep 2006 07:20:02 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 129AF30EFCD3; Wed, 20 Sep 2006 10:19:58 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id B726430EFCD3
	for <java-user@lucene.apache.org>; Wed, 20 Sep 2006 10:19:54 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <5C039EC39FDBB74CBD2104A95C6FF1EB051A74AC@GP2K0084V1.GEICO.corp.net>
References: <5C039EC39FDBB74CBD2104A95C6FF1EB051A74AC@GP2K0084V1.GEICO.corp.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F5977027-ED56-4F60-A38F-E593A2BB5E7E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: lucene based frameworks/servers: solr, nutch, compass - which one is for what????
Date: Wed, 20 Sep 2006 10:19:51 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 20, 2006, at 7:39 AM, Chenini, Mohamed wrote:
> Is  "the upcoming Lucene in Action part deux" a complement to  
> LUCENE IN
> ACTION (which I just recently bought)? And will it be for sale? Why
> don't you and Erik don't write a Lucene/Nutch book?

Lucene in Action 2nd edition (code named LIA2) will be the successor,  
not quite a complement but rather a newly revised version with  
updated API usage for Lucene 2.x, coverage of new features, but also  
containing all the still relevant content from LIA1.

Certainly updated coverage of Nutch will be part of LIA2 as well as  
solid coverage of Solr.  We'll release more details of what we plan  
to cover as we actually pin down what that is.  Right now we're in  
the planning stage, and work should begin on it real soon now.  As  
for an expected release date, I cannot even speculate.  A wild guess  
would be no later than next summer, but certainly we hope much sooner.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 20 16:45:54 2006
Return-Path: <java-user-return-23477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52396 invoked from network); 20 Sep 2006 16:45:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2006 16:45:53 -0000
Received: (qmail 69850 invoked by uid 500); 20 Sep 2006 16:45:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69764 invoked by uid 500); 20 Sep 2006 16:45:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69753 invoked by uid 99); 20 Sep 2006 16:45:46 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 20 Sep 2006 09:45:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=MSGID_FROM_MTA_HEADER
Received: from [69.93.125.162] ([69.93.125.162:58807] helo=cpanel37.gzo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 4D/27-01963-43071154 for <java-user@lucene.apache.org>; Wed, 20 Sep 2006 09:45:41 -0700
Message-ID: <4D.27.01963.43071154@idunn.apache.osuosl.org>
Received: from bizhan.fors.com ([213.234.218.76] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1GQ5CV-0008NR-BX
	for java-user@lucene.apache.org; Wed, 20 Sep 2006 11:45:32 -0500
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: lucene based frameworks/servers: solr, nutch, compass - which one is for what????
Date: Wed, 20 Sep 2006 20:53:59 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcbcZnWM8HE8XpMGRtqBfeRtFTgfaQAQnuTwAAsCrsA=
In-Reply-To: <5C039EC39FDBB74CBD2104A95C6FF1EB051A74AC@GP2K0084V1.GEICO.corp.net>
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Chenini, Mohamed [mailto:MChenini@geico.com] 

> Is  "the upcoming Lucene in Action part deux" a complement to 
> LUCENE IN ACTION (which I just recently bought)? And will it 
> be for sale? Why don't you and Erik don't write a Lucene/Nutch book?

JFYI:
http://www.amazon.com/Building-Search-Applications-Lucene-Nutch/dp/159059687
0/sr=8-2/qid=1158770477/ref=pd_bbs_2/002-1809958-7770417?ie=UTF8&s=books
http://apress.com/book/bookDisplay.html?bID=10125

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 21 15:37:56 2006
Return-Path: <java-user-return-23478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27921 invoked from network); 21 Sep 2006 15:37:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2006 15:37:56 -0000
Received: (qmail 85383 invoked by uid 500); 21 Sep 2006 15:37:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85349 invoked by uid 500); 21 Sep 2006 15:37:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85338 invoked by uid 99); 21 Sep 2006 15:37:48 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 08:37:48 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=info@altervisionmedia.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain altervisionmedia.com from 72.29.74.74 cause and error)
Received: from [72.29.74.74] ([72.29.74.74:57247] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E4/B0-00858-5C1B2154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 08:37:43 -0700
Received: from [81.25.44.138] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GQQcR-0000sP-TT
	for java-user@lucene.apache.org; Thu, 21 Sep 2006 11:37:44 -0400
Date: Thu, 21 Sep 2006 18:37:27 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <154225864.20060921183727@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: ParallelMultiSearcher
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, java-user.

Does anyone here uses ParallelMultiSearcher for searching big arrays
of data? I have some questions about PrefixQuery search..

Thanks in advance.

--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 21 15:49:55 2006
Return-Path: <java-user-return-23479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31852 invoked from network); 21 Sep 2006 15:49:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2006 15:49:47 -0000
Received: (qmail 17562 invoked by uid 500); 21 Sep 2006 15:49:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17423 invoked by uid 500); 21 Sep 2006 15:49:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17412 invoked by uid 99); 21 Sep 2006 15:49:40 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 08:49:40 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=ronnie.kolehmainen@ub.uu.se; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ub.uu.se from 130.238.164.5 cause and error)
Received: from [130.238.164.5] ([130.238.164.5:57563] helo=elvira.its.uu.se)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A7/50-01605-F84B2154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 08:49:37 -0700
Received: by elvira.its.uu.se (Postfix, from userid 204)
	id 5BE56C99; Thu, 21 Sep 2006 17:49:30 +0200 (MSZ)
Received: from elvira.its.uu.se(127.0.0.1) by elvira.its.uu.se via virus-scan 
	id s274347; Thu, 21 Sep 06 17:49:23 +0200
Received: from tyto.its.uu.se (tyto3.its.uu.se [IPv6:2001:6b0:b:1::192])
	(using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by elvira.its.uu.se (Postfix) with ESMTP id D84FDD01;
	Thu, 21 Sep 2006 17:49:22 +0200 (MSZ)
Received: from localhost ([127.0.0.1])
	by tyto.its.uu.se with esmtp (Exim 4.50)
	id 1GQQni-0002e0-Hp; Thu, 21 Sep 2006 17:49:22 +0200
Received: from c-234de253.16-1-64736c11.cust.bredbandsbolaget.se (c-234de253.16-1-64736c11.cust.bredbandsbolaget.se [83.226.77.35]) 
	by webmail.uu.se (IMP) with HTTP 
	for <rokol669@localhost>; Thu, 21 Sep 2006 15:49:22 +0000
Message-ID: <1158853762.4512b4827fe71@webmail.uu.se>
Date: Thu, 21 Sep 2006 15:49:22 +0000
From: Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se>
To: java-user@lucene.apache.org, Yura Smolsky <info@altervisionmedia.com>
Subject: Re: ParallelMultiSearcher
References: <154225864.20060921183727@altervisionmedia.com>
In-Reply-To: <154225864.20060921183727@altervisionmedia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
User-Agent: Internet Messaging Program (IMP) 3.2.7
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dont ask to ask, just ask! ;)



Citerar Yura Smolsky <info@altervisionmedia.com>:

> Hello, java-user.
>=20
> Does anyone here uses ParallelMultiSearcher for searching big arrays
> of data? I have some questions about PrefixQuery search..
>=20
> Thanks in advance.
>=20
> --
> Yura Smolsky,
> http://altervisionmedia.com/
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 21 16:12:53 2006
Return-Path: <java-user-return-23480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40111 invoked from network); 21 Sep 2006 16:12:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2006 16:12:53 -0000
Received: (qmail 66016 invoked by uid 500); 21 Sep 2006 16:12:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65657 invoked by uid 500); 21 Sep 2006 16:12:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65646 invoked by uid 99); 21 Sep 2006 16:12:46 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 09:12:46 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=info@altervisionmedia.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain altervisionmedia.com from 72.29.74.74 cause and error)
Received: from [72.29.74.74] ([72.29.74.74:58939] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 7F/71-01605-BF9B2154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 09:12:44 -0700
Received: from [81.25.44.138] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GQRAM-00041v-4i
	for java-user@lucene.apache.org; Thu, 21 Sep 2006 12:12:46 -0400
Date: Thu, 21 Sep 2006 19:12:35 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <1521267906.20060921191235@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: Re[2]: ParallelMultiSearcher
In-Reply-To: <1158853762.4512b4827fe71@webmail.uu.se>
References: <154225864.20060921183727@altervisionmedia.com> <1158853762.4512b4827fe71@webmail.uu.se>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Ronnie.

RK> Dont ask to ask, just ask! ;)

ok. I have big issue when I try to search ParallelMultiSearcher for
PrefixQuery. This query is being rewritten to BooleanQuery during
search. This causes Similarity to calculate docFreq for each Term in the
BooleanQuery. So if we have a lot of results for some PrefixQuery then
we have a lot of calls to docFreq method of Searchable object passed
to ParallelMultiSearcher. In my case this Searchable object exists on the
other computer (network). Search became very slow b/c
of those multiple calls of docFreq over net.

I am not sure if this question for users mail list. But I have spent
about 3 days to fix this problem and I do not see any solution.

Maybe developers of Lucene could suggest something...

Thanks and sorry for my bad English.

--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 21 16:20:55 2006
Return-Path: <java-user-return-23481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42867 invoked from network); 21 Sep 2006 16:20:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2006 16:20:54 -0000
Received: (qmail 74738 invoked by uid 500); 21 Sep 2006 16:20:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74252 invoked by uid 500); 21 Sep 2006 16:20:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74241 invoked by uid 99); 21 Sep 2006 16:20:45 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 09:20:45 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=yseeley@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=yseeley@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.162.207 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.162.207] ([64.233.162.207:2304] helo=nz-out-0102.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 0F/A1-01605-BDBB2154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 09:20:45 -0700
Received: by nz-out-0102.google.com with SMTP id i1so335460nzh
        for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 09:20:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=epVhfDrKpj8g2C4Fe5uqA2kPxnscLu8l2mtf1XHCGkLpf8LIv5pgFj7MkAJPN+sa2EDlOcTMxUdaVro0GUzddmz8KmySSnO94LFeCoHHkj/Lv9qk6H1b2UVHSDJiASRv5QAW3PloqYnkpkK5vQqALuYfczlczJtuKTvCffExC0g=
Received: by 10.35.50.1 with SMTP id c1mr31187610pyk;
        Thu, 21 Sep 2006 09:20:39 -0700 (PDT)
Received: by 10.35.129.12 with HTTP; Thu, 21 Sep 2006 09:20:39 -0700 (PDT)
Message-ID: <c68e39170609210920k409662aal4419787c4e33efa7@mail.gmail.com>
Date: Thu, 21 Sep 2006 12:20:39 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Re[2]: ParallelMultiSearcher
In-Reply-To: <1521267906.20060921191235@altervisionmedia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <154225864.20060921183727@altervisionmedia.com>
	 <1158853762.4512b4827fe71@webmail.uu.se>
	 <1521267906.20060921191235@altervisionmedia.com>
X-Google-Sender-Auth: 1a734af726d5e8b3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/21/06, Yura Smolsky <info@altervisionmedia.com> wrote:

> ok. I have big issue when I try to search ParallelMultiSearcher for
> PrefixQuery. This query is being rewritten to BooleanQuery during
> search. This causes Similarity to calculate docFreq for each Term in the
> BooleanQuery. So if we have a lot of results for some PrefixQuery then
> we have a lot of calls to docFreq method of Searchable object passed
> to ParallelMultiSearcher.

IDF often does not make sense for auto-expanding queries (range, prefix, etc).
If you don't need the idf factor that makes rarer terms count more,
then use a PrefixFilter wrapped in a ConstantScoreQuery.

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ConstantScoreQuery.html
http://incubator.apache.org/solr/docs/api/org/apache/solr/search/PrefixFilter.html

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 21 18:35:59 2006
Return-Path: <java-user-return-23482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87602 invoked from network); 21 Sep 2006 18:35:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2006 18:35:58 -0000
Received: (qmail 99891 invoked by uid 500); 21 Sep 2006 18:35:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99629 invoked by uid 500); 21 Sep 2006 18:35:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99618 invoked by uid 99); 21 Sep 2006 18:35:51 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 11:35:51 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=Peter.Binkley@ualberta.ca; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ualberta.ca from 129.128.5.19 cause and error)
Received: from [129.128.5.19] ([129.128.5.19:65303] helo=pilsener.srv.ualberta.ca)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 84/61-03726-38BD2154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 11:35:49 -0700
Received: from mailserver.ualibrary.ualberta.ca (mail.library.ualberta.ca [129.128.216.88])
	by pilsener.srv.ualberta.ca (8.13.7/8.13.7) with SMTP id k8LIZivA017253;
	Thu, 21 Sep 2006 12:35:44 -0600 (MDT)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Analysis/tokenization of compound words
Date: Thu, 21 Sep 2006 12:38:18 -0600
Message-ID: <908893006339C0409519E4065DF3B249031877EF@mailserver.ualibrary.ualberta.ca>
In-Reply-To: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analysis/tokenization of compound words
Thread-Index: AcbcCF3aZnQoQBW4RBKSdwhB60iKzQBo7vdQ
From: "Binkley, Peter" <Peter.Binkley@ualberta.ca>
To: <java-user@lucene.apache.org>,
        "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Aspell has some support for compound words that might be useful to look
at:

http://aspell.sourceforge.net/man-html/Compound-Words.html#Compound-Word
s

Peter

Peter Binkley
Digital Initiatives Technology Librarian
Information Technology Services
4-30 Cameron Library
University of Alberta Libraries
Edmonton, Alberta
Canada T6G 2J8
Phone: (780) 492-3743
Fax: (780) 492-9243
e-mail: peter.binkley@ualberta.ca




=20

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Tuesday, September 19, 2006 10:22 AM
To: java-user@lucene.apache.org
Subject: Analysis/tokenization of compound words

Hi,

How do people typically analyze/tokenize text with compounds (e.g.
German)?  I took a look at GermanAnalyzer hoping to see how one can deal
with that, but it turns out GermanAnalyzer doesn't treat compounds in
any special way at all.

One way to go about this is to have a word dictionary and a tokenizer
that processes input one character at a time, looking for a word match
in the dictionary after each processed characters.  Then,
CompoundWordLikeThis could be broken down into multiple tokens/words and
returned at a set of tokens at the same position.  However, somehow this
doesn't strike me as a very smart and fast approach.
What are some better approaches?
If anyone has implemented anything that deals with this problem, I'd
love to hear about it.

Thanks,
Otis



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 21 23:31:29 2006
Return-Path: <java-user-return-23483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78876 invoked from network); 21 Sep 2006 23:31:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2006 23:31:29 -0000
Received: (qmail 59024 invoked by uid 500); 21 Sep 2006 23:31:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59002 invoked by uid 500); 21 Sep 2006 23:31:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58991 invoked by uid 99); 21 Sep 2006 23:31:22 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 16:31:22 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=ismail@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=ismail@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=3.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.182.190 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.190] ([64.233.182.190:26510] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 0C/D1-05580-8C023154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 16:31:22 -0700
Received: by nf-out-0910.google.com with SMTP id b2so859229nfe
        for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 16:31:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=E31yg39bahWnaWeYX4XzIzFhG8chVpTCIkh1xdjJugQTb4mw5heJOPW1HbHf+BdNf9UfvBBCwSbniwtDaH/nuHMHlmg2JvrJZWjt0L68FWLn4dKVo8m5WNkrwwx35Jz1VcG+qwXQ+8g/F2Cw5544Y5vd0hUneuw3Vm7DlI1XbS8=
Received: by 10.49.29.3 with SMTP id g3mr1238099nfj;
        Thu, 21 Sep 2006 16:31:17 -0700 (PDT)
Received: by 10.49.67.19 with HTTP; Thu, 21 Sep 2006 16:31:17 -0700 (PDT)
Message-ID: <1f07f6920609211631w138d65c5x123964f5babb147f@mail.gmail.com>
Date: Thu, 21 Sep 2006 19:31:17 -0400
From: "Ismail Siddiqui" <ismail@gmail.com>
To: java-user@lucene.apache.org
Subject: writer.minMergeDocs in lucene 2.0
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_19520_18999621.1158881477715"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_19520_18999621.1158881477715
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all,
I am trying to index a database.. indexing is taking quite a time..
i am trtying to tune it.for which i am trying to increase minMergeDocs..
in lucen 1.4.3 there is field called writer.minMergeDocs.. i found
writer.setMaxMergeDocs() method in lucne 2.0
but not any method called writer.setMinMergeDocs()..


can any one help.. how can i increase minimum docucment merge size.



thanks all


Ismail Siddiqui

------=_Part_19520_18999621.1158881477715--

From java-user-return-23484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 21 23:43:22 2006
Return-Path: <java-user-return-23484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80814 invoked from network); 21 Sep 2006 23:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2006 23:43:22 -0000
Received: (qmail 68146 invoked by uid 500); 21 Sep 2006 23:43:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68119 invoked by uid 500); 21 Sep 2006 23:43:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68108 invoked by uid 99); 21 Sep 2006 23:43:15 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 16:43:15 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=yseeley@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=yseeley@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.180 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.180] ([64.233.166.180:7276] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 3C/02-05580-29323154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 16:43:15 -0700
Received: by py-out-1112.google.com with SMTP id w49so974755pyg
        for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 16:43:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=TqVUlJF9n29HUpB+Og1Ayu4kIxdYtRScBozKimYsfdHbpHlrQq4NNZFBryr2qCqBCQvLidY5/4k9JQWhDkeJ8Op7LmmO/hOoYwXgT1Se5Odjp521WMkD+J4en6Brflkp5f0z9zg5rxw6tS3CBgEwAB6bosRYF8bASnmV5iq6zHw=
Received: by 10.35.95.1 with SMTP id x1mr31930813pyl;
        Thu, 21 Sep 2006 16:43:12 -0700 (PDT)
Received: by 10.35.129.12 with HTTP; Thu, 21 Sep 2006 16:43:12 -0700 (PDT)
Message-ID: <c68e39170609211643k7e522409ra47e582894e021a4@mail.gmail.com>
Date: Thu, 21 Sep 2006 19:43:12 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: writer.minMergeDocs in lucene 2.0
In-Reply-To: <1f07f6920609211631w138d65c5x123964f5babb147f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <1f07f6920609211631w138d65c5x123964f5babb147f@mail.gmail.com>
X-Google-Sender-Auth: 294b901ab4c7cf36
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/21/06, Ismail Siddiqui <ismail@gmail.com> wrote:
> in lucen 1.4.3 there is field called writer.minMergeDocs.. i found
> writer.setMaxMergeDocs() method in lucne 2.0
> but not any method called writer.setMinMergeDocs()..

Try setMaxBufferedDocs()


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 00:35:37 2006
Return-Path: <java-user-return-23485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92889 invoked from network); 22 Sep 2006 00:35:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 00:35:37 -0000
Received: (qmail 46511 invoked by uid 500); 22 Sep 2006 00:35:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46043 invoked by uid 500); 22 Sep 2006 00:35:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45930 invoked by uid 99); 22 Sep 2006 00:35:26 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 17:35:26 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bg7550@rambler.ru; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain rambler.ru designates 81.19.66.30 as permitted sender)
Received: from [81.19.66.30] ([81.19.66.30:4970] helo=mxb.rambler.ru)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 45/02-06791-5BF23154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 17:35:06 -0700
Received: from mcgi25.rambler.ru (mcgi25.rambler.ru [81.19.67.67])
	by mxb.rambler.ru (Postfix) with ESMTP id 1815844246
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 04:34:18 +0400 (MSD)
Received: from [64.157.93.162] by mcgi25.rambler.ru with HTTP (mailimap); Fri, 22 Sep 2006 04:34:09 +0400
From: Boris Galitsky <bg7550@rambler.ru>
To: <java-user@lucene.apache.org>
Subject: analyzer to populate more that one field of Lucene document
Date: Fri, 22 Sep 2006 04:34:09 +0400
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset="windows-1251"; format="flowed"
MIME-Version: 1.0
Message-Id: <561440871.1158885249.153762904.84704@mcgi25.rambler.ru>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I need to create two fields for Lucene documents populated
1) by numbers
2) by other strings
3) by values of another specific format

What kind of Analyzer would do it?

Using the customized analyzer, the current code is like

IndexWriter indexWriter = new IndexWriter(indexDir, analyzer, true);
Document doc = new Document();
    doc.add(new Field("numeric_contents", new FileReader(f))); // 
numeric tokens
    doc.add(new Filed("other_contents", new FileReader(f)));       //the 
same file but other than numeric tokens

Thanks
--
Boris Galitsky.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 00:53:52 2006
Return-Path: <java-user-return-23486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95277 invoked from network); 22 Sep 2006 00:53:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 00:53:52 -0000
Received: (qmail 76914 invoked by uid 500); 22 Sep 2006 00:53:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76889 invoked by uid 500); 22 Sep 2006 00:53:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76874 invoked by uid 99); 22 Sep 2006 00:53:46 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 17:53:46 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MAILTO_TO_SPAM_ADDR
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.178 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.178] ([64.233.166.178:61249] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id D5/E2-06791-91433154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 17:53:45 -0700
Received: by py-out-1112.google.com with SMTP id w49so995497pyg
        for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 17:53:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=PY70hnEgDcFWRx5treCXTRwiLtNT0Zb7Xa5WpErtE/dXG/6G763M9aAakiuge0/GeqfAXNOK3/7GxNeiI5bzyiiFb61c36Zn0IRNRMUJFiBo7ldHeik2TXCOzfGNK7CafttdJCkicuQ2PclJaJ7UqQA7DHZ9wuvvDSexqLpL3/c=
Received: by 10.35.132.13 with SMTP id j13mr112345pyn;
        Thu, 21 Sep 2006 17:53:42 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Thu, 21 Sep 2006 17:53:42 -0700 (PDT)
Message-ID: <359a92830609211753t2a7a59kb611bc46c018d4bc@mail.gmail.com>
Date: Thu, 21 Sep 2006 20:53:42 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: analyzer to populate more that one field of Lucene document
In-Reply-To: <561440871.1158885249.153762904.84704@mcgi25.rambler.ru>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34471_19632676.1158886422405"
References: <561440871.1158885249.153762904.84704@mcgi25.rambler.ru>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_34471_19632676.1158886422405
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think you want a PerFieldAnalyzerWrapper. It allows you to make a
different analyzer for each field in your document. You'll have to write the
code to extract the file contents in your desired formats for each field,
but you probably do that already <G>...

You can instantiate your IndexWriter with an instance of a
PerFieldAnalyzerWrapper and it all "just happens" after that......


>From the javadoc for PerFieldAnalyzerWrapper...
<<< This analyzer is used to facilitate scenarios where different fields
require different analysis techniques.>>>

Best
Erick

On 9/21/06, Boris Galitsky <bg7550@rambler.ru> wrote:
>
> I need to create two fields for Lucene documents populated
> 1) by numbers
> 2) by other strings
> 3) by values of another specific format
>
> What kind of Analyzer would do it?
>
> Using the customized analyzer, the current code is like
>
> IndexWriter indexWriter = new IndexWriter(indexDir, analyzer, true);
> Document doc = new Document();
>     doc.add(new Field("numeric_contents", new FileReader(f))); //
> numeric tokens
>     doc.add(new Filed("other_contents", new FileReader(f)));       //the
> same file but other than numeric tokens
>
> Thanks
> --
> Boris Galitsky.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_34471_19632676.1158886422405--

From java-user-return-23487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 05:28:34 2006
Return-Path: <java-user-return-23487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41797 invoked from network); 22 Sep 2006 05:28:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 05:28:34 -0000
Received: (qmail 54101 invoked by uid 500); 22 Sep 2006 05:28:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54073 invoked by uid 500); 22 Sep 2006 05:28:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54060 invoked by uid 99); 22 Sep 2006 05:28:27 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 21 Sep 2006 22:28:27 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bg7550@rambler.ru; spf=pass
X-ASF-Spam-Status: No, hits=0.3 required=5.0 tests=MAILTO_TO_SPAM_ADDR
Received-SPF: pass (idunn.apache.osuosl.org: domain rambler.ru designates 81.19.67.206 as permitted sender)
Received: from [81.19.67.206] ([81.19.67.206:55499] helo=mcgi14.rambler.ru)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 14/5B-06791-77473154 for <java-user@lucene.apache.org>; Thu, 21 Sep 2006 22:28:25 -0700
Received: from [71.146.124.249] by mcgi14.rambler.ru with HTTP (mailimap); Fri, 22 Sep 2006 09:28:19 +0400
From: Boris Galitsky <bg7550@rambler.ru>
To: <java-user@lucene.apache.org>
Subject: Re: analyzer to populate more that one field of Lucene document
Date: Fri, 22 Sep 2006 09:28:19 +0400
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset="windows-1251"; format="flowed"
MIME-Version: 1.0
References: <561440871.1158885249.153762904.84704@mcgi25.rambler.ru> <359a92830609211753t2a7a59kb611bc46c018d4bc@mail.gmail.com>
In-Reply-To: <359a92830609211753t2a7a59kb611bc46c018d4bc@mail.gmail.com>
Message-Id: <932008865.1158902899.156489820.78517@mcgi14.rambler.ru>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks a lot Erick
Boris

* Erick Erickson <erickerickson@gmail.com> [Thu, 21 Sep 2006 20:53:42 
-0400]:
> I think you want a PerFieldAnalyzerWrapper. It allows you to make a
> different analyzer for each field in your document. You'll have to 
write
> the
> code to extract the file contents in your desired formats for each
> field,
> but you probably do that already <G>...
>
> You can instantiate your IndexWriter with an instance of a
> PerFieldAnalyzerWrapper and it all "just happens" after that......
>
>
> >From the javadoc for PerFieldAnalyzerWrapper...
> <<< This analyzer is used to facilitate scenarios where different 
fields
> require different analysis techniques.>>>
>
> Best
> Erick
>
> On 9/21/06, Boris Galitsky <bg7550@rambler.ru> wrote:
> >
> > I need to create two fields for Lucene documents populated
> > 1) by numbers
> > 2) by other strings
> > 3) by values of another specific format
> >
> > What kind of Analyzer would do it?
> >
> > Using the customized analyzer, the current code is like
> >
> > IndexWriter indexWriter = new IndexWriter(indexDir, analyzer, true);
> > Document doc = new Document();
> >     doc.add(new Field("numeric_contents", new FileReader(f))); //
> > numeric tokens
> >     doc.add(new Filed("other_contents", new FileReader(f)));
> //the
> > same file but other than numeric tokens
> >
> > Thanks
> > --
> > Boris Galitsky.
> >
> > 
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >

--
Boris Galitsky.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 08:49:37 2006
Return-Path: <java-user-return-23488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9996 invoked from network); 22 Sep 2006 08:49:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 08:49:35 -0000
Received: (qmail 84069 invoked by uid 500); 22 Sep 2006 08:49:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84041 invoked by uid 500); 22 Sep 2006 08:49:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84011 invoked by uid 99); 22 Sep 2006 08:49:28 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 01:49:28 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=heritrix.lucene@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=heritrix.lucene@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=3.1 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_00_10,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.180 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.180] ([64.233.166.180:27002] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 44/12-06791-793A3154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 01:49:27 -0700
Received: by py-out-1112.google.com with SMTP id w49so1133681pyg
        for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 01:49:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=km3iu/rhFo47hUl9YIYqgZlL4uJypqTmlxyGm0W4OAniyuZFoZF4dSDZiZkJ4vhJHkIklV9Zc6sIHrzUOMS+EsfLjdP7WXwdMaf5rSjJYsWLFWZDaY7iN2IAzDKXJ48CXCpAm/QXoPvAEbmW0VG5ARUDmffIdSY4PXkAZbhn628=
Received: by 10.35.66.12 with SMTP id t12mr919891pyk;
        Fri, 22 Sep 2006 01:49:23 -0700 (PDT)
Received: by 10.35.66.7 with HTTP; Fri, 22 Sep 2006 01:49:22 -0700 (PDT)
Message-ID: <a36516400609220149x4accf69ar38d5d4231c3ac39@mail.gmail.com>
Date: Fri, 22 Sep 2006 14:19:22 +0530
From: heritrix.lucene <heritrix.lucene@gmail.com>
To: java-user@lucene.apache.org
Subject: is there any n-gram analyzer available??
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_57801_27563375.1158914962975"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_57801_27563375.1158914962975
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
i am looking for a analyzer that chops a given string into its n-grams.
Basically, I want to index 3-grams and more upto the limit of a word. Can
anybody tell me if there is any analyzer is available for this.

Regards..

------=_Part_57801_27563375.1158914962975--

From java-user-return-23489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 09:45:02 2006
Return-Path: <java-user-return-23489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26014 invoked from network); 22 Sep 2006 09:45:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 09:45:02 -0000
Received: (qmail 49018 invoked by uid 500); 22 Sep 2006 09:44:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49000 invoked by uid 500); 22 Sep 2006 09:44:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48989 invoked by uid 99); 22 Sep 2006 09:44:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 02:44:55 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lucene.developer@googlemail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=lucene.developer@googlemail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain googlemail.com designates 64.233.166.178 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.178] ([64.233.166.178:5274] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 7A/F3-06791-690B3154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 02:44:54 -0700
Received: by py-out-1112.google.com with SMTP id w49so1149842pyg
        for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 02:44:51 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=hpkXS+/6IMBuuE3t6hlN1DG0YZfnd1459QcxgFFJGp7TIN7+YfaG/DEOQXktZtcaG0hBdhSZO7VRaRLOpnu7JZell43bq1Bw/vW1YIPF2oVvZHBErya8Cw0XF7/tNzsNO6lqB5PoKBw95eii6sZaPthaXeHj1Y1p8pS/cgmT2eE=
Received: by 10.64.184.14 with SMTP id h14mr148815qbf;
        Fri, 22 Sep 2006 02:44:51 -0700 (PDT)
Received: by 10.65.83.3 with HTTP; Fri, 22 Sep 2006 02:44:51 -0700 (PDT)
Message-ID: <a218b3050609220244h6f13d0c6h7e63e36d06125bc3@mail.gmail.com>
Date: Fri, 22 Sep 2006 11:44:51 +0200
From: lude <lucene.developer@googlemail.com>
To: java-user <java-user@lucene.apache.org>
Subject: Status: Sorting on tokenized fields
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21626_26154395.1158918291183"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21626_26154395.1158918291183
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,

for years there is the discussion to make lucene able to sort on TOKENIZED
fields.
(e.g. if more then one term is available concatenate the tokens OR use the
stored value for sorting).

Could some of the developer please make a statement if there are any
plans to implement this feature in future?

Thanks
lude

------=_Part_21626_26154395.1158918291183--

From java-user-return-23490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 13:00:04 2006
Return-Path: <java-user-return-23490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98409 invoked from network); 22 Sep 2006 13:00:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 13:00:04 -0000
Received: (qmail 88805 invoked by uid 500); 22 Sep 2006 12:59:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87933 invoked by uid 500); 22 Sep 2006 12:59:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87922 invoked by uid 99); 22 Sep 2006 12:59:56 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 05:59:56 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=karl.wettin@gmail.com; spf=unknown
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: unknown (idunn.apache.osuosl.org: domain gmail.com does not designate 81.228.8.83 as permitted sender)
Received: from [81.228.8.83] ([81.228.8.83:33013] helo=pne-smtpout1-sn2.hy.skanova.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id BB/0A-06791-94ED3154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 05:59:53 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn2.hy.skanova.net (7.2.075)
        id 450708BC002B0116 for java-user@lucene.apache.org; Fri, 22 Sep 2006 14:59:48 +0200
Subject: Re: is there any n-gram analyzer available??
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <a36516400609220149x4accf69ar38d5d4231c3ac39@mail.gmail.com>
References: <a36516400609220149x4accf69ar38d5d4231c3ac39@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Fri, 22 Sep 2006 14:59:43 +0200
Message-Id: <1158929983.1453.2.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Fri, 2006-09-22 at 14:19 +0530, heritrix.lucene wrote:
> i am looking for a analyzer that chops a given string into its n-grams.
> Basically, I want to index 3-grams and more upto the limit of a word. Can
> anybody tell me if there is any analyzer is available for this.

It's not that much to it. But you might want to make it a filter.

  for (int size=3; size<word.length(); size++) {
     for (int pos=0; pos<word.length()-size; pos++) {
        String gram = word.subString(pos, size);
        // do your thing
     }
  }



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 13:30:30 2006
Return-Path: <java-user-return-23491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14922 invoked from network); 22 Sep 2006 13:30:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 13:30:29 -0000
Received: (qmail 47842 invoked by uid 500); 22 Sep 2006 13:30:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47756 invoked by uid 500); 22 Sep 2006 13:30:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47732 invoked by uid 99); 22 Sep 2006 13:30:18 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 06:30:18 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=info@altervisionmedia.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=RCVD_IN_BL_SPAMCOP_NET
Received-SPF: error (idunn.apache.osuosl.org: domain altervisionmedia.com from 72.29.74.74 cause and error)
Received: from [72.29.74.74] ([72.29.74.74:60432] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 86/FA-06791-655E3154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 06:30:01 -0700
Received: from [81.25.36.230] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GQl5l-0004T2-4x
	for java-user@lucene.apache.org; Fri, 22 Sep 2006 09:29:21 -0400
Date: Fri, 22 Sep 2006 16:29:10 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <1496711202.20060922162910@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: Re[4]: ParallelMultiSearcher
In-Reply-To: <c68e39170609210920k409662aal4419787c4e33efa7@mail.gmail.com>
References: <154225864.20060921183727@altervisionmedia.com> <1158853762.4512b4827fe71@webmail.uu.se> <1521267906.20060921191235@altervisionmedia.com> <c68e39170609210920k409662aal4419787c4e33efa7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Yonik.

>> ok. I have big issue when I try to search ParallelMultiSearcher for
>> PrefixQuery. This query is being rewritten to BooleanQuery during
>> search. This causes Similarity to calculate docFreq for each Term in the
>> BooleanQuery. So if we have a lot of results for some PrefixQuery then
>> we have a lot of calls to docFreq method of Searchable object passed
>> to ParallelMultiSearcher.

YS> IDF often does not make sense for auto-expanding queries (range, prefix, etc).
YS> If you don't need the idf factor that makes rarer terms count more,
YS> then use a PrefixFilter wrapped in a ConstantScoreQuery.

YS> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ConstantScoreQuery.html
YS> http://incubator.apache.org/solr/docs/api/org/apache/solr/search/PrefixFilter.html

Thank you so much! PrefixFilter has eliminated counting idf's.. I
wonder why it is not inside of Lucene yet :)

--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 16:50:22 2006
Return-Path: <java-user-return-23492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72901 invoked from network); 22 Sep 2006 16:50:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 16:50:22 -0000
Received: (qmail 21575 invoked by uid 500); 22 Sep 2006 16:50:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21249 invoked by uid 500); 22 Sep 2006 16:50:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21233 invoked by uid 99); 22 Sep 2006 16:50:15 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 09:50:15 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=magawake@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=magawake@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=3.1 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_00_10,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.184.225 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.184.225] ([64.233.184.225:57751] helo=wr-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 39/40-06791-C3414154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 09:50:06 -0700
Received: by wr-out-0506.google.com with SMTP id 57so614633wri
        for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 09:49:58 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=XY5/AVnreiwy4by0TD7HZOiwCfRTsVsvHeLp4XEEQMQViD390TNomvtHMLy9EwBmGALp9bIXPRarPVRngRse3G0eNApsNU9kz6RqgIjcHfebdJ7VF3DvtGjpmeSwzpvlsOke3zL+qYWwXcJ/XrbNqD84NNQrDvI/RA4gN9JedxQ=
Received: by 10.90.117.15 with SMTP id p15mr551679agc;
        Fri, 22 Sep 2006 09:49:57 -0700 (PDT)
Received: by 10.90.72.11 with HTTP; Fri, 22 Sep 2006 09:49:57 -0700 (PDT)
Message-ID: <1cbd6f830609220949v386f41adg3412a9b52cc97b50@mail.gmail.com>
Date: Fri, 22 Sep 2006 12:49:57 -0400
From: "Mag Gam" <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Using example Lucene 2.0 index class
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_28936_3005596.1158943797826"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_28936_3005596.1158943797826
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi All,

I have been using the Lucene 2.0 distro Index to index my files, currently
it indexes filepath and contents. I want to index, lastModified() (Returns
the time that the file denoted by this abstract pathname was last
modified.), and file length, length().

Can someone please show me how to do that? I am not too strong with Java,
some example code would be nice!

TIA

------=_Part_28936_3005596.1158943797826--

From java-user-return-23493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 17:47:29 2006
Return-Path: <java-user-return-23493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91869 invoked from network); 22 Sep 2006 17:47:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 17:47:29 -0000
Received: (qmail 23992 invoked by uid 500); 22 Sep 2006 17:47:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23968 invoked by uid 500); 22 Sep 2006 17:47:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23957 invoked by uid 99); 22 Sep 2006 17:47:22 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 10:47:22 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.180 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.180] ([64.233.166.180:38405] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 8F/91-06791-E8124154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 10:46:58 -0700
Received: by py-out-1112.google.com with SMTP id w49so1292230pyg
        for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 10:46:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lgbfd2KFRsjPhA/mcQxGYGDzf4GYUdh/MfzK4FLu5L1tsr1GwwUetBGNc5A+21LVwVrbUsOIHNKBWaYzym3rBXBWb09xVrnLTo+dfiauihk1m4wGa4ime0HCCVopf8ln4wEnEdZ7Sm9L6MbHTmOWhIxVeFiXsB1OnfzWAXW9m3w=
Received: by 10.35.54.1 with SMTP id g1mr1834210pyk;
        Fri, 22 Sep 2006 10:46:22 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Fri, 22 Sep 2006 10:46:21 -0700 (PDT)
Message-ID: <359a92830609221046p1f8c0c46s2f40345759d0126e@mail.gmail.com>
Date: Fri, 22 Sep 2006 13:46:22 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using example Lucene 2.0 index class
In-Reply-To: <1cbd6f830609220949v386f41adg3412a9b52cc97b50@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46685_13076515.1158947182044"
References: <1cbd6f830609220949v386f41adg3412a9b52cc97b50@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_46685_13076515.1158947182044
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Ya gotta use google, man <G>. This took about 15 seconds to find by googling

java file modification date

Get the "last modified" date from a file Simply use the lastModified()
method from a file object. but the return value is system dependent and
should only be used to compare with other values returned by last modified.
It should not be interpreted as an absolute time.

String s1 = "file1.dat";
String s2 = "file2.dat";

File f1 = new File(s1);
File f2 = new File(s2);

if (f1.lastModified() < f2.lastModified())
   System.out.println(s1 + " is older than " + s2);



On 9/22/06, Mag Gam <magawake@gmail.com> wrote:
>
> Hi All,
>
> I have been using the Lucene 2.0 distro Index to index my files, currently
> it indexes filepath and contents. I want to index, lastModified() (Returns
> the time that the file denoted by this abstract pathname was last
> modified.), and file length, length().
>
> Can someone please show me how to do that? I am not too strong with Java,
> some example code would be nice!
>
> TIA
>
>

------=_Part_46685_13076515.1158947182044--

From java-user-return-23494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 17:57:50 2006
Return-Path: <java-user-return-23494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97245 invoked from network); 22 Sep 2006 17:57:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 17:57:50 -0000
Received: (qmail 43588 invoked by uid 500); 22 Sep 2006 17:57:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42606 invoked by uid 500); 22 Sep 2006 17:57:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42595 invoked by uid 99); 22 Sep 2006 17:57:44 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 10:57:44 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=DORONC@il.ibm.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] ([195.212.29.155:7828] helo=mtagate6.de.ibm.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id D4/D1-06791-9E324154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 10:57:13 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8MHuL6S038492
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 17:56:21 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8MHwC7Q2310280
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 19:58:12 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8MHuK3l003585
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 19:56:20 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8MHuKIH003579
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 19:56:20 +0200
In-Reply-To: <1cbd6f830609220949v386f41adg3412a9b52cc97b50@mail.gmail.com>
Subject: Re: Using example Lucene 2.0 index class
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF61481E1E.52855216-ON882571F1.0062099E-882571F1.00626887@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Fri, 22 Sep 2006 10:54:52 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 22/09/2006 20:58:11
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I have been using the Lucene 2.0 distro Index to index my files,
currently
> it indexes filepath and contents. I want to index, lastModified()
(Returns
> the time that the file denoted by this abstract pathname was last
> modified.), and file length, length().
>
> Can someone please show me how to do that? I am not too strong with Java,
> some example code would be nice!

IndexFiles in Lucene Demo shows how to index the lastModified info -
-
http://lucene.apache.org/java/docs/api/org/apache/lucene/demo/IndexFiles.html
-
http://lucene.apache.org/java/docs/api/org/apache/lucene/demo/FileDocument.html


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 18:43:55 2006
Return-Path: <java-user-return-23495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9451 invoked from network); 22 Sep 2006 18:43:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 18:43:55 -0000
Received: (qmail 9933 invoked by uid 500); 22 Sep 2006 18:43:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9916 invoked by uid 500); 22 Sep 2006 18:43:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9905 invoked by uid 99); 22 Sep 2006 18:43:48 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 11:43:47 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8MIgQot057772
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 18:42:26 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8MIiGOe2494614
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 20:44:16 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8MIgPSS014019
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 20:42:25 +0200
Received: from d12ml102.megacenter.de.ibm.com (d12ml102.megacenter.de.ibm.com [9.149.166.138])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8MIgP8x014016
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 20:42:25 +0200
In-Reply-To: <OF61481E1E.52855216-ON882571F1.0062099E-882571F1.00626887@il.ibm.com>
Subject: Re: Using example Lucene 2.0 index class
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF2592435A.4C76A232-ON882571F1.0066261D-882571F1.0066A4E7@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Fri, 22 Sep 2006 11:41:08 -0700
X-MIMETrack: Serialize by Router on D12ML102/12/M/IBM(Release 6.5.5HF607 | June 26, 2006) at
 22/09/2006 21:44:16
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> > I have been using the Lucene 2.0 distro Index to index my
> > files, currently it indexes filepath and contents. I want
> > to index, lastModified() (Returns the time that the file
> > denoted by this abstract pathname was last
> > modified.), and file length, length().
> >
> > Can someone please show me how to do that? I am not
> > too strong with Java, some example code would be nice!
>
> IndexFiles in Lucene Demo shows how to index the lastModified info
>
http://lucene.apache.org/java/docs/api/org/apache/lucene/demo/IndexFiles.html

> http://lucene.apache.>
org/java/docs/api/org/apache/lucene/demo/FileDocument.html

Forgot to mention, if you don't have the sources already, you can see the
demo sources in
http://svn.apache.org/viewvc/lucene/java/tags/lucene_2_0_0/src/demo/org/apache/lucene/demo/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 22 19:46:51 2006
Return-Path: <java-user-return-23496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 480 invoked from network); 22 Sep 2006 19:46:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2006 19:46:51 -0000
Received: (qmail 38497 invoked by uid 500); 22 Sep 2006 19:46:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37520 invoked by uid 500); 22 Sep 2006 19:46:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37509 invoked by uid 99); 22 Sep 2006 19:46:45 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 12:46:45 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=markrmiller@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=markrmiller@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.162.206 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.162.206] ([64.233.162.206:44050] helo=nz-out-0102.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 34/F3-06791-C9D34154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 12:46:40 -0700
Received: by nz-out-0102.google.com with SMTP id z6so577130nzd
        for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 12:46:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=EFOMavmHRsPFaysBNZdGiu0sjuY1Lu1WZRd1SndCeYnjO9GRsLid9fnsRfgEDy8+gsBktUxylQngWcR2eTOt4Nsg8ALYQ0mKRJqBBY4nfFnpKALlnZa6HN/A55IBEeeI7Pcc2j/0fkYB1wlpu32S4QRIOJG3A1iQ33/1i3taAko=
Received: by 10.64.181.12 with SMTP id d12mr1090293qbf;
        Fri, 22 Sep 2006 12:46:02 -0700 (PDT)
Received: from ?192.168.1.102? ( [216.66.115.97])
        by mx.gmail.com with ESMTP id d5sm3838169qbd.2006.09.22.12.46.00;
        Fri, 22 Sep 2006 12:46:01 -0700 (PDT)
Message-ID: <45143D7F.6010907@gmail.com>
Date: Fri, 22 Sep 2006 15:46:07 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Using example Lucene 2.0 index class
References: <1cbd6f830609220949v386f41adg3412a9b52cc97b50@mail.gmail.com> <359a92830609221046p1f8c0c46s2f40345759d0126e@mail.gmail.com>
In-Reply-To: <359a92830609221046p1f8c0c46s2f40345759d0126e@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Not to step out of Lucene world, but I would love to know the truth of 
the matter on this...the first site that search brings up on google 
seems to claim that was the behavior back at 1.2 or so and it is not the 
case anymore.

The javadocs don't seem to mention it:


      lastModified

public long *lastModified*()

    Returns the time that the file denoted by this abstract pathname was
    last modified.

    *Returns:*
        A |long| value representing the time the file was last modified,
        measured in milliseconds since the epoch (00:00:00 GMT, January
        1, 1970), or |0L| if the file does not exist or if an I/O error
        occurs 
    *Throws:*
        |SecurityException
        <http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityException.html>|
        - If a security manager exists and its
        ||SecurityManager.checkRead(java.lang.String)|
        <http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityManager.html#checkRead%28java.lang.String%29>|
        method denies read access to the file



Erick Erickson wrote:
> Ya gotta use google, man <G>. This took about 15 seconds to find by 
> googling
>
> java file modification date
>
> Get the "last modified" date from a file Simply use the lastModified()
> method from a file object. but the return value is system dependent and
> should only be used to compare with other values returned by last 
> modified.
> It should not be interpreted as an absolute time.
>
> String s1 = "file1.dat";
> String s2 = "file2.dat";
>
> File f1 = new File(s1);
> File f2 = new File(s2);
>
> if (f1.lastModified() < f2.lastModified())
>   System.out.println(s1 + " is older than " + s2);
>
>
>
> On 9/22/06, Mag Gam <magawake@gmail.com> wrote:
>>
>> Hi All,
>>
>> I have been using the Lucene 2.0 distro Index to index my files, 
>> currently
>> it indexes filepath and contents. I want to index, lastModified() 
>> (Returns
>> the time that the file denoted by this abstract pathname was last
>> modified.), and file length, length().
>>
>> Can someone please show me how to do that? I am not too strong with 
>> Java,
>> some example code would be nice!
>>
>> TIA
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 01:05:19 2006
Return-Path: <java-user-return-23497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14646 invoked from network); 23 Sep 2006 01:05:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 01:05:19 -0000
Received: (qmail 50553 invoked by uid 500); 23 Sep 2006 01:05:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50523 invoked by uid 500); 23 Sep 2006 01:05:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50512 invoked by uid 99); 23 Sep 2006 01:05:13 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 18:05:13 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:37593] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id BB/D1-25038-84884154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 18:05:12 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 18FD25B764; Fri, 22 Sep 2006 18:05:10 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 153737F403
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 18:05:10 -0700 (PDT)
Date: Fri, 22 Sep 2006 18:05:10 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: is there any n-gram analyzer available??
In-Reply-To: <a36516400609220149x4accf69ar38d5d4231c3ac39@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609221805000.12848@hal.rescomp.berkeley.edu>
References: <a36516400609220149x4accf69ar38d5d4231c3ac39@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


https://issues.apache.org/jira/browse/LUCENE-400


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 01:09:43 2006
Return-Path: <java-user-return-23498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15725 invoked from network); 23 Sep 2006 01:09:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 01:09:43 -0000
Received: (qmail 56316 invoked by uid 500); 23 Sep 2006 01:09:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56281 invoked by uid 500); 23 Sep 2006 01:09:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56270 invoked by uid 99); 23 Sep 2006 01:09:37 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 18:09:37 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:51119] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 6D/00-25495-05984154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 18:09:37 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2570C5B764; Fri, 22 Sep 2006 18:09:34 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 153107F403
	for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 18:09:34 -0700 (PDT)
Date: Fri, 22 Sep 2006 18:09:34 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user <java-user@lucene.apache.org>
Subject: Re: Status: Sorting on tokenized fields
In-Reply-To: <a218b3050609220244h6f13d0c6h7e63e36d06125bc3@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609221805220.12848@hal.rescomp.berkeley.edu>
References: <a218b3050609220244h6f13d0c6h7e63e36d06125bc3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: for years there is the discussion to make lucene able to sort on TOKENIZED
: fields.

really? .. i've only been on the list since 1.4.3 but i don't remember it
being much of a recurring topic.

: (e.g. if more then one term is available concatenate the tokens OR use the
: stored value for sorting).

using the stored value doesn't help: there can be multiple stored values
just as easily as there can be multiple tokens.

concatenating the tokens is a vague concept that would be very hard to get
right in a way that would work genericly:  for starters, how do you deal
with tokens at the same position? (ie; synonyms)

In my experience, the best way to deal with this is for the application
using Lucene to decide which fields it wants to sort on, and make a
"sortable" version of that field that is indexed by not tokenized -- the
application is afterall in teh best position to decide how exactly it
wnats to "sort" on the data (ie: should the values be lowercased so the
sort is case-insensetive?  should certain punctution characters be striped
out? etc...)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 04:36:25 2006
Return-Path: <java-user-return-23499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40315 invoked from network); 23 Sep 2006 04:36:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 04:36:25 -0000
Received: (qmail 45644 invoked by uid 500); 23 Sep 2006 04:36:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45607 invoked by uid 500); 23 Sep 2006 04:36:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45596 invoked by uid 99); 23 Sep 2006 04:36:15 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 21:36:15 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=heritrix.lucene@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=heritrix.lucene@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.183 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.183] ([64.233.166.183:31807] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 6C/30-26396-CB9B4154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 21:36:14 -0700
Received: by py-out-1112.google.com with SMTP id w49so1469480pyg
        for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 21:36:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EbB4XU84N5eUy+3muUgC43abZOzxJaKLasEiXjoyE+YuxugRSQfYOvrI62G6cDG7uaNi6v95JKsgte8nOFCmtIPnVB3LdhsY7tOsjVj7pr9DiJH7G2k520crtFqx4mylE+BPHmlGwresgCu2Iq41ex/76QmUZHgLk0NYQsMf3hI=
Received: by 10.35.19.6 with SMTP id w6mr2868451pyi;
        Fri, 22 Sep 2006 21:36:10 -0700 (PDT)
Received: by 10.35.66.7 with HTTP; Fri, 22 Sep 2006 21:36:10 -0700 (PDT)
Message-ID: <a36516400609222136s297dc409j39c21e7520cff52c@mail.gmail.com>
Date: Sat, 23 Sep 2006 10:06:10 +0530
From: heritrix.lucene <heritrix.lucene@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: is there any n-gram analyzer available??
In-Reply-To: <Pine.LNX.4.58.0609221805000.12848@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1279_21782261.1158986170298"
References: <a36516400609220149x4accf69ar38d5d4231c3ac39@mail.gmail.com>
	 <Pine.LNX.4.58.0609221805000.12848@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1279_21782261.1158986170298
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks for your reply.

This analyzer creates combination of words. I am looking for analyzer where
you can break up the words into their n-grams. For example:
2-grams of
google - > go, oo, og, gl, le
like that.


Regards

On 9/23/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> https://issues.apache.org/jira/browse/LUCENE-400
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1279_21782261.1158986170298--

From java-user-return-23500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 06:23:19 2006
Return-Path: <java-user-return-23500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54269 invoked from network); 23 Sep 2006 06:23:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 06:23:18 -0000
Received: (qmail 75578 invoked by uid 500); 23 Sep 2006 06:23:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75542 invoked by uid 500); 23 Sep 2006 06:23:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75531 invoked by uid 99); 23 Sep 2006 06:23:13 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 22 Sep 2006 23:23:13 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bhavinp@rediff.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain rediff.co.in from 203.199.37.133 cause and error)
Received: from [203.199.37.133] ([203.199.37.133:56806] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id FE/71-27325-DC2D4154 for <java-user@lucene.apache.org>; Fri, 22 Sep 2006 23:23:12 -0700
Received: (qmail 10648 invoked from network); 23 Sep 2006 06:20:14 -0000
Received: from unknown (HELO bhavin) (172.16.3.11)
  by mailserver with SMTP; 23 Sep 2006 06:20:14 -0000
Message-ID: <005901c6deda$a5243c50$0b0310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Subject: ChainedFilter
Date: Sat, 23 Sep 2006 12:06:47 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0056_01C6DF08.BE929E10"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0056_01C6DF08.BE929E10
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I am using ChainedFilter and FilteredQuery together in order to remove =
RangeQuery from my code.
the problem is its not working..its effect is not coming...it returns me =
same number of record whether i am including range or not.
Here is the snippet.


                    BooleanQuery bqone =3D "coming from parent function; =
it booleanQuery of few termsQuery"
                    RangeFilter rf[] =3D new RangeFilter[2];
                    rf[0]=3Dnew RangeFilter("RANGEFIELD1", 20, 30 , =
true,true);
                    rf[1]=3Dnew RangeFilter("RANGEFIELD2", 20, 30 , =
true,true);
                    isChanged =3D true;

                    ChainedFilter cf =3D new =
ChainedFilter(rf,ChainedFilter.AND);
                    fq=3Dnew FilteredQuery(bqone,cf);
                   =20
                    Hits hits =3D searcher.search(fq);=20


Actually data is splitted across two columns ( RANGEFIELD1 and =
RANGEFIELD2 ) on which i want to fire range. e.g give me all records =
which is between 20 and 30.
so i have created two filter and passed it to chainedfilter...
but its not working ...i dont know what i m missing.... is there any =
better way to implement this...?

Thanks.
Bhavin pandya

------=_NextPart_000_0056_01C6DF08.BE929E10--


From java-user-return-23501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 08:19:19 2006
Return-Path: <java-user-return-23501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81740 invoked from network); 23 Sep 2006 08:19:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 08:19:18 -0000
Received: (qmail 23887 invoked by uid 500); 23 Sep 2006 08:19:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23856 invoked by uid 500); 23 Sep 2006 08:19:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23845 invoked by uid 99); 23 Sep 2006 08:19:12 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 01:19:12 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=p.imbemba@gmail.com; spf=unknown
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_IN_BL_SPAMCOP_NET
Received-SPF: unknown (idunn.apache.osuosl.org: domain gmail.com does not designate 85.37.17.99 as permitted sender)
Received: from [85.37.17.99] ([85.37.17.99:2693] helo=smtp-out03.alice.it)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 92/82-27820-BFDE4154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 01:19:09 -0700
Received: from FBCMMO01.fbc.local ([192.168.68.195]) by smtp-out03.alice.it with Microsoft SMTPSVC(6.0.3790.1830);
	 Sat, 23 Sep 2006 10:19:04 +0200
Received: from FBCMCL01B05.fbc.local ([192.168.69.86]) by FBCMMO01.fbc.local with Microsoft SMTPSVC(6.0.3790.1830);
	 Sat, 23 Sep 2006 10:18:57 +0200
Received: from [127.0.0.1] ([87.0.24.176]) by FBCMCL01B05.fbc.local with Microsoft SMTPSVC(6.0.3790.1830);
	 Sat, 23 Sep 2006 10:18:56 +0200
Message-ID: <4514EDDF.50308@gmail.com>
Date: Sat, 23 Sep 2006 10:18:39 +0200
From: Pasquale Imbemba <p.imbemba@gmail.com>
User-Agent: Mozilla Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
CC: Raffaella Bernardi <bernardi@inf.unibz.it>
Subject: Re: Analysis/tokenization of compound words
References: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
In-Reply-To: <20060919162155.56039.qmail@web50313.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 0638-1, 22/09/2006), Outbound message
X-Antivirus-Status: Clean
X-OriginalArrivalTime: 23 Sep 2006 08:18:57.0276 (UTC) FILETIME=[EA62CBC0:01C6DEE8]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

I am completing my bachelor thesis at the Free University of Bolzano 
(www.unibz.it). My project is exactly about what you need: a word 
splitter for German compound words. Raffaella Bernardi who is reading in 
CC is my supervisor.
As some from the lucene mailing list has already suggested, I have used 
the lexicon of German nouns extracted from Morphy 
(http://www.wolfganglezius.de/doku.php?id=public:cl:morphy). As for the 
splitting algorithm, I have used the one Maaten De Rijke and Christof 
Monz have published in /Shallow Morphological Analysis in Monolingual
Information Retrieval for Dutch, German and Italian /(website here 
<http://www.dcs.qmul.ac.uk/%7Echristof/>, document here 
<http://www.dcs.qmul.ac.uk/%7Echristof/publications/clef-2001-post.pdf>). 
I did some testing and minor improvement on it (as I needed to "adjust" 
it for the solution I was working on) and could send you my thesis paper 
(actually still in draft state), which contains statistical data on 
correctness.

Let me know
Pasquale

Otis Gospodnetic ha scritto:
> Hi,
>
> How do people typically analyze/tokenize text with compounds (e.g. German)?  I took a look at GermanAnalyzer hoping to see how one can deal with that, but it turns out GermanAnalyzer doesn't treat compounds in any special way at all.
>
> One way to go about this is to have a word dictionary and a tokenizer that processes input one character at a time, looking for a word match in the dictionary after each processed characters.  Then, CompoundWordLikeThis could be broken down into multiple tokens/words and returned at a set of tokens at the same position.  However, somehow this doesn't strike me as a very smart and fast approach.
> What are some better approaches?
> If anyone has implemented anything that deals with this problem, I'd love to hear about it.
>
> Thanks,
> Otis
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 
"As far as the laws of mathematics refer to reality, they are not certain, as far as they are certain, they do not refer to reality."

(Albert Einstein)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 08:24:43 2006
Return-Path: <java-user-return-23502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82449 invoked from network); 23 Sep 2006 08:24:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 08:24:43 -0000
Received: (qmail 27283 invoked by uid 500); 23 Sep 2006 08:24:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27248 invoked by uid 500); 23 Sep 2006 08:24:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27237 invoked by uid 99); 23 Sep 2006 08:24:37 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 01:24:37 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=p.imbemba@gmail.com; spf=unknown
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,RCVD_IN_BL_SPAMCOP_NET
Received-SPF: unknown (idunn.apache.osuosl.org: domain gmail.com does not designate 85.33.2.18 as permitted sender)
Received: from [85.33.2.18] ([85.33.2.18:2545] helo=smtp-out13.alice.it)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A6/A2-27820-44FE4154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 01:24:37 -0700
Received: from FBCMMO02.fbc.local ([192.168.68.196]) by smtp-out13.alice.it with Microsoft SMTPSVC(6.0.3790.1830);
	 Sat, 23 Sep 2006 10:24:34 +0200
Received: from FBCMCL01B05.fbc.local ([192.168.69.86]) by FBCMMO02.fbc.local with Microsoft SMTPSVC(6.0.3790.1830);
	 Sat, 23 Sep 2006 10:24:34 +0200
Received: from [127.0.0.1] ([87.0.24.176]) by FBCMCL01B05.fbc.local with Microsoft SMTPSVC(6.0.3790.1830);
	 Sat, 23 Sep 2006 10:24:33 +0200
Message-ID: <4514EF30.60907@gmail.com>
Date: Sat, 23 Sep 2006 10:24:16 +0200
From: Pasquale Imbemba <p.imbemba@gmail.com>
User-Agent: Mozilla Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Analysis/tokenization of compound words
References: <20060919162155.56039.qmail@web50313.mail.yahoo.com> <4514EDDF.50308@gmail.com>
In-Reply-To: <4514EDDF.50308@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 0638-1, 22/09/2006), Outbound message
X-Antivirus-Status: Clean
X-OriginalArrivalTime: 23 Sep 2006 08:24:34.0361 (UTC) FILETIME=[B34DE290:01C6DEE9]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis,

I forgot to mention that I make use of Lucene for noun retrieval from 
the lexicon.

Pasquale

Pasquale Imbemba ha scritto:
> Hi Otis,
>
> I am completing my bachelor thesis at the Free University of Bolzano 
> (www.unibz.it). My project is exactly about what you need: a word 
> splitter for German compound words. Raffaella Bernardi who is reading 
> in CC is my supervisor.
> As some from the lucene mailing list has already suggested, I have 
> used the lexicon of German nouns extracted from Morphy 
> (http://www.wolfganglezius.de/doku.php?id=public:cl:morphy). As for 
> the splitting algorithm, I have used the one Maaten De Rijke and 
> Christof Monz have published in /Shallow Morphological Analysis in 
> Monolingual
> Information Retrieval for Dutch, German and Italian /(website here 
> <http://www.dcs.qmul.ac.uk/%7Echristof/>, document here 
> <http://www.dcs.qmul.ac.uk/%7Echristof/publications/clef-2001-post.pdf>). 
> I did some testing and minor improvement on it (as I needed to 
> "adjust" it for the solution I was working on) and could send you my 
> thesis paper (actually still in draft state), which contains 
> statistical data on correctness.
>
> Let me know
> Pasquale
>
> Otis Gospodnetic ha scritto:
>> Hi,
>>
>> How do people typically analyze/tokenize text with compounds (e.g. 
>> German)?  I took a look at GermanAnalyzer hoping to see how one can 
>> deal with that, but it turns out GermanAnalyzer doesn't treat 
>> compounds in any special way at all.
>>
>> One way to go about this is to have a word dictionary and a tokenizer 
>> that processes input one character at a time, looking for a word 
>> match in the dictionary after each processed characters.  Then, 
>> CompoundWordLikeThis could be broken down into multiple tokens/words 
>> and returned at a set of tokens at the same position.  However, 
>> somehow this doesn't strike me as a very smart and fast approach.
>> What are some better approaches?
>> If anyone has implemented anything that deals with this problem, I'd 
>> love to hear about it.
>>
>> Thanks,
>> Otis
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>   
>

-- 
"As far as the laws of mathematics refer to reality, they are not certain, as far as they are certain, they do not refer to reality."

(Albert Einstein)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 08:32:17 2006
Return-Path: <java-user-return-23503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84089 invoked from network); 23 Sep 2006 08:32:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 08:32:16 -0000
Received: (qmail 37503 invoked by uid 500); 23 Sep 2006 08:32:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37480 invoked by uid 500); 23 Sep 2006 08:32:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37469 invoked by uid 99); 23 Sep 2006 08:32:10 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 01:32:10 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=supheakmungkol@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=supheakmungkol@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=4.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 209.191.85.23 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [209.191.85.23] ([209.191.85.23:44311] helo=web36606.mail.mud.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 62/F2-27820-701F4154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 01:32:09 -0700
Received: (qmail 78658 invoked by uid 60001); 23 Sep 2006 08:32:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type;
  b=ThvBOMe+pg1AO5pD9CAc0G8P5tIf8/ib5L0LvR6Ki4dYBZF6n7ObjXtS2W3iqAxF1f8yFqxlkA5RI2M85hygKoe9x21BAjL1bR+xnUs+0yXJ1l9tvFiiF5c9w7LzBlaAl4d//8foT3ccQxHZQAPXRx5JEg0Ij6+l2Ov9+tM7pio=  ;
Message-ID: <20060923083204.78656.qmail@web36606.mail.mud.yahoo.com>
Received: from [133.9.4.11] by web36606.mail.mud.yahoo.com via HTTP; Sat, 23 Sep 2006 01:32:04 PDT
Date: Sat, 23 Sep 2006 01:32:04 -0700 (PDT)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Subject: Help : get document lists from an index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1120135806-1159000324=:77643"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1120135806-1159000324=:77643
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable

Hello all,=0A=0AI'd like to know whether there is any built-in method that =
allow us to get all the documents that a term belongs to from its index?=0A=
=0AThanks a lot & regards,=0A=0ASS=0A=0A
--0-1120135806-1159000324=:77643--

From java-user-return-23504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 08:53:32 2006
Return-Path: <java-user-return-23504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86546 invoked from network); 23 Sep 2006 08:53:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 08:53:32 -0000
Received: (qmail 48279 invoked by uid 500); 23 Sep 2006 08:53:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48239 invoked by uid 500); 23 Sep 2006 08:53:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48228 invoked by uid 99); 23 Sep 2006 08:53:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 01:53:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bhavinp@rediff.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: error (idunn.apache.osuosl.org: domain rediff.co.in from 203.199.37.133 cause and error)
Received: from [203.199.37.133] ([203.199.37.133:58765] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 44/83-27820-206F4154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 01:53:25 -0700
Received: (qmail 28686 invoked from network); 23 Sep 2006 08:50:24 -0000
Received: from unknown (HELO bhavin) (172.16.3.11)
  by mailserver with SMTP; 23 Sep 2006 08:50:24 -0000
Message-ID: <007601c6deef$9f6d5390$0b0310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>,
	"Bhavin Pandya" <bhavinp@rediff.co.in>
References: <005901c6deda$a5243c50$0b0310ac@bhavin>
Subject: Re: ChainedFilter
Date: Sat, 23 Sep 2006 14:36:57 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi guys,

Its is solved now....
I come to know that "If you are ANDing/ORing FilteredQuery with say 
BooleanQuery then Its not giving proper result so i added that BooleanQuery 
before creating FilteredQuery"
May be i am wrong...but i changed the sequence of my queries ...and now its 
working...
- Bhavin pandya

----- Original Message ----- 
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Sent: Saturday, September 23, 2006 12:06 PM
Subject: ChainedFilter


Hi,

I am using ChainedFilter and FilteredQuery together in order to remove 
RangeQuery from my code.
the problem is its not working..its effect is not coming...it returns me 
same number of record whether i am including range or not.
Here is the snippet.


                    BooleanQuery bqone = "coming from parent function; it 
booleanQuery of few termsQuery"
                    RangeFilter rf[] = new RangeFilter[2];
                    rf[0]=new RangeFilter("RANGEFIELD1", 20, 30 , 
true,true);
                    rf[1]=new RangeFilter("RANGEFIELD2", 20, 30 , 
true,true);
                    isChanged = true;

                    ChainedFilter cf = new 
ChainedFilter(rf,ChainedFilter.AND);
                    fq=new FilteredQuery(bqone,cf);

                    Hits hits = searcher.search(fq);


Actually data is splitted across two columns ( RANGEFIELD1 and RANGEFIELD2 ) 
on which i want to fire range. e.g give me all records which is between 20 
and 30.
so i have created two filter and passed it to chainedfilter...
but its not working ...i dont know what i m missing.... is there any better 
way to implement this...?

Thanks.
Bhavin pandya


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 09:13:13 2006
Return-Path: <java-user-return-23505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88568 invoked from network); 23 Sep 2006 09:13:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 09:13:12 -0000
Received: (qmail 61495 invoked by uid 500); 23 Sep 2006 09:13:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61092 invoked by uid 500); 23 Sep 2006 09:13:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61081 invoked by uid 99); 23 Sep 2006 09:13:06 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 02:13:06 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=heritrix.lucene@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=heritrix.lucene@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=3.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.182 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.182] ([64.233.166.182:60339] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 52/54-27820-B9AF4154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 02:13:01 -0700
Received: by py-out-1112.google.com with SMTP id w49so1524549pyg
        for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 02:12:52 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Q0KAWSVPThKCvxUxCwyNzAgSRc0JPxNuslIiDoQ1GeDvVmOk0+KsflhgPHg7IATM+XJy1f2uvC23r+NPZVGAlumXJ35dBavKnV1a4znYhYxADIMPCf2TXtn6efDuWzw43LGTB5zeJu8CwcJyt28ad2rw+DTxdTdFyWY5z14M1xQ=
Received: by 10.35.60.15 with SMTP id n15mr2760696pyk;
        Sat, 23 Sep 2006 02:12:51 -0700 (PDT)
Received: by 10.35.66.7 with HTTP; Sat, 23 Sep 2006 02:12:51 -0700 (PDT)
Message-ID: <a36516400609230212r5aeb7050y3e51af7e342b33fa@mail.gmail.com>
Date: Sat, 23 Sep 2006 14:42:51 +0530
From: heritrix.lucene <heritrix.lucene@gmail.com>
To: java-user@lucene.apache.org
Subject: searching for the part of a term.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3314_13199838.1159002771937"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3314_13199838.1159002771937
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi All,

How can i make my search so that if i am looking for the term "counting" the
documents containing "accounting" must also come up.

Similarly if i am looking for term "workload", document s containing work
also come up as a search result.

Wildcard query seems to work in the first case, but if the index size is
very big, it throws TooManyClausesException.

Is there a way to resolve this issue, apart from indexing n-grams of each
term.


Regards,

------=_Part_3314_13199838.1159002771937--

From java-user-return-23506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 09:39:42 2006
Return-Path: <java-user-return-23506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90860 invoked from network); 23 Sep 2006 09:39:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 09:39:42 -0000
Received: (qmail 77786 invoked by uid 500); 23 Sep 2006 09:39:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76870 invoked by uid 500); 23 Sep 2006 09:39:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76859 invoked by uid 99); 23 Sep 2006 09:39:34 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 02:39:34 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=eliakis@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=eliakis@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.232 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.232] ([66.249.82.232:17605] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 91/B5-27820-4D005154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 02:39:33 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1158557wxc
        for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 02:39:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=nTO5/gLHkmPrR3jqyGKLCGlxQ5ZPIlF4Gug6AdriPH5uiwFg4p0UWptANpobzMbvUTgYjSvQIiUq/fgAIK49aG83PIMgbRY5RruBYeMPzrDB3OL7iB6z0OO1b0GTE9BI0/2feHju5x99focqDEcFlFGvajcU16n0N1k/DW8ujS4=
Received: by 10.70.11.5 with SMTP id 5mr2820447wxk;
        Sat, 23 Sep 2006 02:39:27 -0700 (PDT)
Received: by 10.70.19.13 with HTTP; Sat, 23 Sep 2006 02:39:27 -0700 (PDT)
Message-ID: <e129b0e70609230239j1e39f27dm3a179c8ed53013bd@mail.gmail.com>
Date: Sat, 23 Sep 2006 12:39:27 +0300
From: "Stelios Eliakis" <eliakis@gmail.com>
To: java-user@lucene.apache.org
Subject: highlighting
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4236_10477100.1159004367812"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4236_10477100.1159004367812
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
I'm new to lucene and I'm interesting in highlighting.
I want to extract the Best Fragment (passage) from a text file.
When I use the following code I take the first fragment that contains my
query. Nevertheless, the JavaDoc says that the function getBestFragment
returns the best fragment. Do I something wrong?

    QueryScorer scorer = new QueryScorer(query);

    SimpleHTMLFormatter formatter =new SimpleHTMLFormatter("<span
class=\"highlight\">","</span>");

    Highlighter highlighter = new Highlighter(formatter, scorer);

    Fragmenter fragmenter = new SimpleFragmenter(50);

    QueryScorer fragmentScore=(QueryScorer) highlighter.getFragmentScorer();

    TokenStream tokenStream = new StandardAnalyzer().tokenStream("contents",
new StringReader(text));

    String result = highlighter.getBestFragment(tokenStream,text);

    System.out.println(result);


Thanks in advance

-- 
Stelios Eliakis

------=_Part_4236_10477100.1159004367812--

From java-user-return-23507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 10:14:37 2006
Return-Path: <java-user-return-23507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94529 invoked from network); 23 Sep 2006 10:14:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 10:14:37 -0000
Received: (qmail 91657 invoked by uid 500); 23 Sep 2006 10:14:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91623 invoked by uid 500); 23 Sep 2006 10:14:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91608 invoked by uid 99); 23 Sep 2006 10:14:31 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 03:14:31 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=nicolas.lalevee@anyware-tech.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain anyware-tech.com from 80.236.3.118 cause and error)
Received: from [80.236.3.118] ([80.236.3.118:45640] helo=bain.numericable.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id F0/96-27820-40905154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 03:14:30 -0700
Received: (qmail 560 invoked from network); 23 Sep 2006 10:14:24 -0000
Received: from unknown (HELO [192.168.1.149]) ([81.220.88.208])
          (envelope-sender <nicolas.lalevee@anyware-tech.com>)
          by bain.numericable.net (qmail-ldap-1.03) with SMTP
          for <java-user@lucene.apache.org>; 23 Sep 2006 10:14:24 -0000
From: Nicolas =?iso-8859-15?q?Lalev=E9e?= <nicolas.lalevee@anyware-tech.com>
To: java-user@lucene.apache.org
Subject: Re: Help : get document lists from an index
Date: Sat, 23 Sep 2006 12:14:21 +0200
User-Agent: KMail/1.9.1
References: <20060923083204.78656.qmail@web36606.mail.mud.yahoo.com>
In-Reply-To: <20060923083204.78656.qmail@web36606.mail.mud.yahoo.com>
Organization: Anyware Technologies
MIME-Version: 1.0
Content-Disposition: inline
X-Length: 1220
X-UID: 5
Content-Type: text/plain;
  charset="iso-8859-15"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200609231214.22106.nicolas.lalevee@anyware-tech.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Le Samedi 23 Septembre 2006 10:32, Supheakmungkol SARIN a =E9crit=A0:
> Hello all,
>
> I'd like to know whether there is any built-in method that allow us to get
> all the documents that a term belongs to from its index?

you can, but the term should be indexed, and you have to retreive it from i=
t's=20
tokenized form. See IndexReader.termDocs(Term term)

Nicolas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 11:45:20 2006
Return-Path: <java-user-return-23508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29670 invoked from network); 23 Sep 2006 11:45:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 11:45:19 -0000
Received: (qmail 53007 invoked by uid 500); 23 Sep 2006 11:45:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52970 invoked by uid 500); 23 Sep 2006 11:45:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52959 invoked by uid 99); 23 Sep 2006 11:45:09 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 04:45:09 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=yinweiming@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=yinweiming@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=3.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.178 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.178] ([64.233.166.178:19981] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 1E/C8-27820-93E15154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 04:44:57 -0700
Received: by py-out-1112.google.com with SMTP id w49so1557265pyg
        for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 04:44:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=kySwmE+0PnuPoBhVeM1yRV7ZJYa31krRfUzpYaNcVRELg5C+o0gNPGEDjK6d7NLFwv5VNqV4folTLubWgP4D3hFwYPjz9YaR5132DNuZhuPMPN74J/zGxtBLkW9jxyQooFs/I6DndTqiLAup9IBIfDTzSaOibGzuEIynAHFLVio=
Received: by 10.64.243.10 with SMTP id q10mr1886081qbh;
        Sat, 23 Sep 2006 04:44:54 -0700 (PDT)
Received: by 10.65.234.16 with HTTP; Sat, 23 Sep 2006 04:44:54 -0700 (PDT)
Message-ID: <944d10830609230444r1c8cc80bl873fa38c68abff3d@mail.gmail.com>
Date: Sat, 23 Sep 2006 19:44:54 +0800
From: "Weiming Yin" <yinweiming@gmail.com>
To: java-user@lucene.apache.org
Subject: Can I get the most hot term ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2855_31662402.1159011894918"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2855_31662402.1159011894918
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi, all,
I am working with the follow situation.
1: a, b
2: b, c

When I build index with 1 and 2, it gives me three terms, a, b and c.
and 'b' is the most hot because it appears two times.

Is there a method that I get all (or a part of) terms that sorted by appears
time.
For the before example, when I get the terms it returns me
b (2 times), a (1 time), c( 1time).

Is there a method do like this?

Thanks.

-- 
Weiming

------=_Part_2855_31662402.1159011894918--

From java-user-return-23509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 12:27:34 2006
Return-Path: <java-user-return-23509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37745 invoked from network); 23 Sep 2006 12:27:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 12:27:33 -0000
Received: (qmail 80859 invoked by uid 500); 23 Sep 2006 12:27:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80825 invoked by uid 500); 23 Sep 2006 12:27:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80810 invoked by uid 99); 23 Sep 2006 12:27:28 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 05:27:28 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.183 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.183] ([64.233.166.183:45077] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 53/F9-27820-D2825154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 05:27:25 -0700
Received: by py-out-1112.google.com with SMTP id w49so1567012pyg
        for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 05:27:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NnHla82eWJ0dpIspBsDdkG5o3qoUI8ndlsRfJA8Mm1FfkAuqdfjJ7yT7Yi7jZuwwivhfCB2y+rfBAJgCzU6vbaX8670J9VFxHojElLKHKNi0LF2WEjoC2rcPDZqMx609TV79SI7pVbUM5UQx6rUnXX6xyIr2V7/CM61VtSFa2CI=
Received: by 10.35.119.8 with SMTP id w8mr3603715pym;
        Sat, 23 Sep 2006 05:27:22 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Sat, 23 Sep 2006 05:27:22 -0700 (PDT)
Message-ID: <359a92830609230527r14ea4a0ahea09198dc58e0e80@mail.gmail.com>
Date: Sat, 23 Sep 2006 08:27:22 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can I get the most hot term ?
In-Reply-To: <944d10830609230444r1c8cc80bl873fa38c68abff3d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3097_1585526.1159014442343"
References: <944d10830609230444r1c8cc80bl873fa38c68abff3d@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3097_1585526.1159014442343
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'm pretty sure you have to count them yourself, but that's made pretty easy
by the TermEnum, TermFreqVector etc. classes. I have only used a few of
these, so I can't be much help. But these sure seem like what you're looking
for.

Best
Erick

On 9/23/06, Weiming Yin <yinweiming@gmail.com> wrote:
>
> Hi, all,
> I am working with the follow situation.
> 1: a, b
> 2: b, c
>
> When I build index with 1 and 2, it gives me three terms, a, b and c.
> and 'b' is the most hot because it appears two times.
>
> Is there a method that I get all (or a part of) terms that sorted by
> appears
> time.
> For the before example, when I get the terms it returns me
> b (2 times), a (1 time), c( 1time).
>
> Is there a method do like this?
>
> Thanks.
>
> --
> Weiming
>
>

------=_Part_3097_1585526.1159014442343--

From java-user-return-23510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 15:15:03 2006
Return-Path: <java-user-return-23510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71695 invoked from network); 23 Sep 2006 15:15:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 15:15:03 -0000
Received: (qmail 93756 invoked by uid 500); 23 Sep 2006 15:14:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93714 invoked by uid 500); 23 Sep 2006 15:14:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93703 invoked by uid 99); 23 Sep 2006 15:14:57 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 08:14:57 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=marvin@rectangular.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain rectangular.com from 68.116.38.223 cause and error)
Received: from [68.116.38.223] ([68.116.38.223:62310] helo=rectangular.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id CB/ED-27820-E6F45154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 08:14:56 -0700
Received: from [67.189.26.9] (helo=[10.0.1.3])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1GR9T7-0001cP-SO
	for java-user@lucene.apache.org; Sat, 23 Sep 2006 08:31:05 -0700
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <200609200907.18356@danielnaber.de>
References: <20060919201504.67013.qmail@web25914.mail.ukl.yahoo.com> <200609200907.18356@danielnaber.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EB53E53B-EE78-4B04-B2FE-AA9560B08B49@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Analysis/tokenization of compound words
Date: Sat, 23 Sep 2006 08:14:49 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 20, 2006, at 12:07 AM, Daniel Naber wrote:

> Writing a decomposer is difficult as you need both a large dictionary
> *without* compounds and a set of rules to avoid splitting at too many
> positions.

Conceptually, how different is the problem of decompounding German  
from tokenizing languages such as Thai and Japanese, where "words"  
are not separated by spaces and may consist of multiple characters?

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 19:25:51 2006
Return-Path: <java-user-return-23511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17332 invoked from network); 23 Sep 2006 19:25:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 19:25:51 -0000
Received: (qmail 58521 invoked by uid 500); 23 Sep 2006 19:25:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58493 invoked by uid 500); 23 Sep 2006 19:25:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58482 invoked by uid 99); 23 Sep 2006 19:25:45 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 12:25:45 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.59 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.59] ([206.190.38.59:21647] helo=web50305.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 95/10-04426-63A85154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 12:25:43 -0700
Received: (qmail 29801 invoked by uid 60001); 23 Sep 2006 19:25:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=pw7/qIdDIePlL0tj6cD75vbjYc+jgae2c8DwihB0d2ARji7ocPb5srxd4TlkvM4+o4p2brX449oKKfKzdpdYXpvh1FgtWJXgTRegpdbC5LUErvBrYD3TQvFk00N9JEZcy0EVUovKQlaP+lH1b5lMzupHbGj4m/6VDjtX8VZI5CI=  ;
Message-ID: <20060923192539.29799.qmail@web50305.mail.yahoo.com>
Received: from [74.65.202.166] by web50305.mail.yahoo.com via HTTP; Sat, 23 Sep 2006 12:25:39 PDT
Date: Sat, 23 Sep 2006 12:25:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Analysis/tokenization of compound words
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, I think it's the same thing - word segmentation - http://www.google.co=
m/search?q=3Dword+segmentation=0A=0AYou may get the same ad(word) as I did =
- Basistech folks from Cambridge, MA have various interesting products, som=
e stuff that deals with CJK (not sure if they actually do word segmentation=
 or just n-gram the input).  Guess who their biggest customer is?  Hint: st=
arts with the letter G.=0A=0AOtis=0A=0A=0A----- Original Message ----=0AFro=
m: Marvin Humphrey <marvin@rectangular.com>=0ATo: java-user@lucene.apache.o=
rg=0ASent: Saturday, September 23, 2006 11:14:49 AM=0ASubject: Re: Analysis=
/tokenization of compound words=0A=0A=0AOn Sep 20, 2006, at 12:07 AM, Danie=
l Naber wrote:=0A=0A> Writing a decomposer is difficult as you need both a =
large dictionary=0A> *without* compounds and a set of rules to avoid splitt=
ing at too many=0A> positions.=0A=0AConceptually, how different is the prob=
lem of decompounding German  =0Afrom tokenizing languages such as Thai and =
Japanese, where "words"  =0Aare not separated by spaces and may consist of =
multiple characters?=0A=0AMarvin Humphrey=0ARectangular Research=0Ahttp://w=
ww.rectangular.com/=0A=0A=0A=0A--------------------------------------------=
-------------------------=0ATo unsubscribe, e-mail: java-user-unsubscribe@l=
ucene.apache.org=0AFor additional commands, e-mail: java-user-help@lucene.a=
pache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 19:33:51 2006
Return-Path: <java-user-return-23512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18747 invoked from network); 23 Sep 2006 19:33:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 19:33:51 -0000
Received: (qmail 62846 invoked by uid 500); 23 Sep 2006 19:33:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62807 invoked by uid 500); 23 Sep 2006 19:33:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62796 invoked by uid 99); 23 Sep 2006 19:33:46 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 12:33:46 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.57 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.57] ([206.190.38.57:27089] helo=web50303.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 0B/30-04426-61C85154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 12:33:43 -0700
Received: (qmail 95062 invoked by uid 60001); 23 Sep 2006 19:33:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=A+7WHV5oKcHcDvc8pa0hdeuLT7ufNlNGjTf0iZedjkZUZonTCamAW6QPItzoBtMwp24q+9qxMr+KQMBaPh49b077QyF17aRrrdALBZEQg+xmA82Kh38+m60w1DL/Mr1OJt9Xk9DZY0C0llcCuAXw6fwTgc4+byTPgbkY2kgX0h8=  ;
Message-ID: <20060923193339.95060.qmail@web50303.mail.yahoo.com>
Received: from [74.65.202.166] by web50303.mail.yahoo.com via HTTP; Sat, 23 Sep 2006 12:33:39 PDT
Date: Sat, 23 Sep 2006 12:33:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Analysis/tokenization of compound words
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the pointers, Pasquale!=0A=0AOtis=0A=0A----- Original Message --=
--=0AFrom: Pasquale Imbemba <p.imbemba@gmail.com>=0ATo: java-user@lucene.ap=
ache.org=0ASent: Saturday, September 23, 2006 4:24:16 AM=0ASubject: Re: Ana=
lysis/tokenization of compound words=0A=0AOtis,=0A=0AI forgot to mention th=
at I make use of Lucene for noun retrieval from =0Athe lexicon.=0A=0APasqua=
le=0A=0APasquale Imbemba ha scritto:=0A> Hi Otis,=0A>=0A> I am completing m=
y bachelor thesis at the Free University of Bolzano =0A> (www.unibz.it). My=
 project is exactly about what you need: a word =0A> splitter for German co=
mpound words. Raffaella Bernardi who is reading =0A> in CC is my supervisor=
.=0A> As some from the lucene mailing list has already suggested, I have =
=0A> used the lexicon of German nouns extracted from Morphy =0A> (http://ww=
w.wolfganglezius.de/doku.php?id=3Dpublic:cl:morphy). As for =0A> the splitt=
ing algorithm, I have used the one Maaten De Rijke and =0A> Christof Monz h=
ave published in /Shallow Morphological Analysis in =0A> Monolingual=0A> In=
formation Retrieval for Dutch, German and Italian /(website here =0A> <http=
://www.dcs.qmul.ac.uk/%7Echristof/>, document here =0A> <http://www.dcs.qmu=
l.ac.uk/%7Echristof/publications/clef-2001-post.pdf>). =0A> I did some test=
ing and minor improvement on it (as I needed to =0A> "adjust" it for the so=
lution I was working on) and could send you my =0A> thesis paper (actually =
still in draft state), which contains =0A> statistical data on correctness.=
=0A>=0A> Let me know=0A> Pasquale=0A>=0A> Otis Gospodnetic ha scritto:=0A>>=
 Hi,=0A>>=0A>> How do people typically analyze/tokenize text with compounds=
 (e.g. =0A>> German)?  I took a look at GermanAnalyzer hoping to see how on=
e can =0A>> deal with that, but it turns out GermanAnalyzer doesn't treat =
=0A>> compounds in any special way at all.=0A>>=0A>> One way to go about th=
is is to have a word dictionary and a tokenizer =0A>> that processes input =
one character at a time, looking for a word =0A>> match in the dictionary a=
fter each processed characters.  Then, =0A>> CompoundWordLikeThis could be =
broken down into multiple tokens/words =0A>> and returned at a set of token=
s at the same position.  However, =0A>> somehow this doesn't strike me as a=
 very smart and fast approach.=0A>> What are some better approaches?=0A>> I=
f anyone has implemented anything that deals with this problem, I'd =0A>> l=
ove to hear about it.=0A>>=0A>> Thanks,=0A>> Otis=0A>>=0A>>=0A>>=0A>> -----=
----------------------------------------------------------------=0A>> To un=
subscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A>> For additio=
nal commands, e-mail: java-user-help@lucene.apache.org=0A>>=0A>>=0A>>   =0A=
>=0A=0A-- =0A"As far as the laws of mathematics refer to reality, they are =
not certain, as far as they are certain, they do not refer to reality."=0A=
=0A(Albert Einstein)=0A=0A=0A----------------------------------------------=
-----------------------=0ATo unsubscribe, e-mail: java-user-unsubscribe@luc=
ene.apache.org=0AFor additional commands, e-mail: java-user-help@lucene.apa=
che.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 19:54:58 2006
Return-Path: <java-user-return-23513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20553 invoked from network); 23 Sep 2006 19:54:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 19:54:58 -0000
Received: (qmail 76727 invoked by uid 500); 23 Sep 2006 19:54:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76704 invoked by uid 500); 23 Sep 2006 19:54:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76693 invoked by uid 99); 23 Sep 2006 19:54:52 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 12:54:52 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:49477] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 9D/80-04426-C0195154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 12:54:52 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 026525B764; Sat, 23 Sep 2006 12:54:49 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id EA6497F403
	for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 12:54:49 -0700 (PDT)
Date: Sat, 23 Sep 2006 12:54:49 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Can I get the most hot term ?
In-Reply-To: <359a92830609230527r14ea4a0ahea09198dc58e0e80@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609231253120.23924@hal.rescomp.berkeley.edu>
References: <944d10830609230444r1c8cc80bl873fa38c68abff3d@mail.gmail.com>
 <359a92830609230527r14ea4a0ahea09198dc58e0e80@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: I'm pretty sure you have to count them yourself, but that's made pretty easy
: by the TermEnum, TermFreqVector etc. classes. I have only used a few of
: these, so I can't be much help. But these sure seem like what you're looking
: for.

TermEnum has a docFreq member .. so you can iterate over it and record the
terms with the N highest docFreq using something like a PriorityQueue





-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 19:58:54 2006
Return-Path: <java-user-return-23514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20885 invoked from network); 23 Sep 2006 19:58:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 19:58:53 -0000
Received: (qmail 80034 invoked by uid 500); 23 Sep 2006 19:58:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80001 invoked by uid 500); 23 Sep 2006 19:58:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79990 invoked by uid 99); 23 Sep 2006 19:58:48 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 12:58:48 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.57 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.57] ([206.190.38.57:21071] helo=web50303.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id DE/90-04426-7F195154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 12:58:48 -0700
Received: (qmail 4598 invoked by uid 60001); 23 Sep 2006 19:58:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ZCd2QJREy5X6FWyip5rZJ/imh93LQQaPa06+WubiS3p4sYZWulh9OC8BOuRaaQ9LYUNnsYTwX2BbKEi6sYgqYRmzffk4BSIR4PbtmC7uduzc/JZ/uuCa6JNRAnlhaWKU98o38Ykqh5+IsFrOW9fhhzKpKdHYXwpAJnIqvqRj6gw=  ;
Message-ID: <20060923195845.4596.qmail@web50303.mail.yahoo.com>
Received: from [74.65.202.166] by web50303.mail.yahoo.com via HTTP; Sat, 23 Sep 2006 12:58:45 PDT
Date: Sat, 23 Sep 2006 12:58:45 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Can I get the most hot term ?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doesn't this sound like the HighFreqTerms class in contrib/misc/..... ?=0A=
=0AOtis=0A=0A----- Original Message ----=0AFrom: Chris Hostetter <hossman_l=
ucene@fucit.org>=0ATo: java-user@lucene.apache.org=0ASent: Saturday, Septem=
ber 23, 2006 3:54:49 PM=0ASubject: Re: Can I get the most hot term ?=0A=0A:=
 I'm pretty sure you have to count them yourself, but that's made pretty ea=
sy=0A: by the TermEnum, TermFreqVector etc. classes. I have only used a few=
 of=0A: these, so I can't be much help. But these sure seem like what you'r=
e looking=0A: for.=0A=0ATermEnum has a docFreq member .. so you can iterate=
 over it and record the=0Aterms with the N highest docFreq using something =
like a PriorityQueue=0A=0A=0A=0A=0A=0A-Hoss=0A=0A=0A-----------------------=
----------------------------------------------=0ATo unsubscribe, e-mail: ja=
va-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail: ja=
va-user-help@lucene.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 23 20:20:12 2006
Return-Path: <java-user-return-23515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23106 invoked from network); 23 Sep 2006 20:20:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2006 20:20:12 -0000
Received: (qmail 95194 invoked by uid 500); 23 Sep 2006 20:20:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95161 invoked by uid 500); 23 Sep 2006 20:20:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95144 invoked by uid 99); 23 Sep 2006 20:20:07 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 23 Sep 2006 13:20:07 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lists@nabble.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] ([72.21.53.35:59829] helo=talk.nabble.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 52/F0-04426-5F695154 for <java-user@lucene.apache.org>; Sat, 23 Sep 2006 13:20:06 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GRDyl-00048K-6T
	for java-user@lucene.apache.org; Sat, 23 Sep 2006 13:20:03 -0700
Message-ID: <6466170.post@talk.nabble.com>
Date: Sat, 23 Sep 2006 13:20:03 -0700 (PDT)
From: Iravanchi <iravanchi@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene 2 in Maven 2 Global Repository
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: iravanchi@gmail.com
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



Hi,

The Lucene Version 2.0 jar file is not present in the Maven 2 repository at
ibiblio.org.
Will it become available?

Hamed

-- 
View this message in context: http://www.nabble.com/Lucene-2-in-Maven-2-Global-Repository-tf2324137.html#a6466170
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 24 15:47:23 2006
Return-Path: <java-user-return-23516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95666 invoked from network); 24 Sep 2006 15:47:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Sep 2006 15:47:22 -0000
Received: (qmail 40122 invoked by uid 500); 24 Sep 2006 15:47:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40091 invoked by uid 500); 24 Sep 2006 15:47:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40080 invoked by uid 99); 24 Sep 2006 15:47:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 24 Sep 2006 08:47:16 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=nestorjb@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=nestorjb@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.230 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.230] ([66.249.82.230:9707] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 81/70-10576-188A6154 for <java-user@lucene.apache.org>; Sun, 24 Sep 2006 08:47:14 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1451135wxc
        for <java-user@lucene.apache.org>; Sun, 24 Sep 2006 08:47:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:message-id:mime-version:content-type:x-mailer:thread-index:x-mimeole;
        b=IYgdWOKYV3SkdVH+lN1OLaMVJEXHTp42qWFa51EkWRlWfeijXF8zvR/w5HOLtkyPh7hDdsbbgn/xu2z6F0uaPFrR+0wTrKw+xM1VDbWxWEpcWuUkOAV1BQI7hOayxnYcatj7CeFW2rd3CjtEUtaigq7oPfMKBtOilZBc+YmP++k=
Received: by 10.70.52.1 with SMTP id z1mr5286628wxz;
        Sun, 24 Sep 2006 08:47:10 -0700 (PDT)
Received: from nboscan ( [200.109.36.133])
        by mx.gmail.com with ESMTP id 14sm895273wrl.2006.09.24.08.47.09;
        Sun, 24 Sep 2006 08:47:10 -0700 (PDT)
From: =?iso-8859-1?Q?N=E9stor_Bosc=E1n?= <nestorjb@gmail.com>
To: <java-user@lucene.apache.org>
Subject: Anyone knows where I can find a spanish synonym list?
Date: Sun, 24 Sep 2006 11:47:07 -0400
Message-ID: <003a01c6dff0$b1922d50$0a0a0a0a@nboscan>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003B_01C6DFCF.2A808D50"
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Acbe0mEK4mOWg7olT7akvmJ5MnRwKABHksAw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003B_01C6DFCF.2A808D50
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi
=20
Anyone knows where I can find a spanish synonym list?
=20
Regards,
=20
N=E9stor Bosc=E1n

------=_NextPart_000_003B_01C6DFCF.2A808D50--


From java-user-return-23517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 02:07:51 2006
Return-Path: <java-user-return-23517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87083 invoked from network); 25 Sep 2006 02:07:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 02:07:51 -0000
Received: (qmail 30530 invoked by uid 500); 25 Sep 2006 02:07:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29761 invoked by uid 500); 25 Sep 2006 02:07:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29750 invoked by uid 99); 25 Sep 2006 02:07:42 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 24 Sep 2006 19:07:42 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=wataylor@as-st.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain as-st.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] ([216.239.128.26:4998] helo=smtp.omnis.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 7E/12-13750-CE937154 for <java-user@lucene.apache.org>; Sun, 24 Sep 2006 19:07:41 -0700
Received: from [192.168.6.223] (d-65-175-205-96.metrocast.net [65.175.205.96])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 07FB21880C39
	for <java-user@lucene.apache.org>; Sun, 24 Sep 2006 19:07:34 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v624)
In-Reply-To: <003a01c6dff0$b1922d50$0a0a0a0a@nboscan>
References: <003a01c6dff0$b1922d50$0a0a0a0a@nboscan>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <990d1868ef5958af908dc8646e4f9f18@as-st.com>
Content-Transfer-Encoding: 7bit
From: Bill Taylor <wataylor@as-st.com>
Subject: Does anyone know of software for handling English plurals, "ing," etc?
Date: Sun, 24 Sep 2006 22:41:05 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.624)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am developing a program to search indexed documents.  To make the 
search more effective, I am trying to automatically search for plurals, 
words in ending in "ing," verbs ending in "ed," etc.

For example, if someone types "run" into the search box, AND the index 
also has runs and running, I would like to offer the user the option of 
including those terms as well.  If there is no "running" in the index, 
the software would not include it.

Similarly, there is walk and walked, battery and batteries, wake and 
waking, and other such.

I can't POSSIBLY be the first person to have wanted to do this.  Does 
anyone know of software for detecting such combinations in English?

Rumor hath that Google does this sort of thing without telling you; 
that;'s one way they can find millions of hits.

Thanks in advance,

Bill Taylor


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 02:56:00 2006
Return-Path: <java-user-return-23518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93933 invoked from network); 25 Sep 2006 02:56:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 02:56:00 -0000
Received: (qmail 65617 invoked by uid 500); 25 Sep 2006 02:55:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65582 invoked by uid 500); 25 Sep 2006 02:55:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65571 invoked by uid 99); 25 Sep 2006 02:55:54 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 24 Sep 2006 19:55:54 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=greg@colvin.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain colvin.org from 65.61.166.69 cause and error)
Received: from [65.61.166.69] ([65.61.166.69:38978] helo=rs30.luxsci.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 88/83-13750-83547154 for <java-user@lucene.apache.org>; Sun, 24 Sep 2006 19:55:53 -0700
Received: from [10.0.1.4] ([207.92.207.29])
	(authenticated bits=0)
	by rs30.luxsci.com (8.13.7/8.13.7) with ESMTP id k8P2tm34019708;
	Sun, 24 Sep 2006 21:55:49 -0500
In-Reply-To: <990d1868ef5958af908dc8646e4f9f18@as-st.com>
References: <003a01c6dff0$b1922d50$0a0a0a0a@nboscan> <990d1868ef5958af908dc8646e4f9f18@as-st.com>
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DFBAAFE3-E53C-41E9-BE8A-EEE5E152F3B4@colvin.org>
Content-Transfer-Encoding: 7bit
From: Greg Colvin <greg@colvin.org>
Subject: Re: Does anyone know of software for handling English plurals, "ing," etc?
Date: Sun, 24 Sep 2006 20:55:45 -0600
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Snowball, a generalized stemming facility:

    http://snowball.tartarus.org/

Where Snowball hooks into Lucene:

    http://lucene.apache.org/java/docs/api/net/sf/snowball/ 
SnowballProgram.html

Where to get Snowball for Lucene:

    http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/snowball/


I'm guessing that this is the kind of thing you are looking for.


On Sep 24, 2006, at 8:41 PM, Bill Taylor wrote:
> I am developing a program to search indexed documents.  To make the  
> search more effective, I am trying to automatically search for  
> plurals, words in ending in "ing," verbs ending in "ed," etc.
>
> For example, if someone types "run" into the search box, AND the  
> index also has runs and running, I would like to offer the user the  
> option of including those terms as well.  If there is no "running"  
> in the index, the software would not include it.
>
> Similarly, there is walk and walked, battery and batteries, wake  
> and waking, and other such.
>
> I can't POSSIBLY be the first person to have wanted to do this.   
> Does anyone know of software for detecting such combinations in  
> English?
>
> Rumor hath that Google does this sort of thing without telling you;  
> that;'s one way they can find millions of hits.
>
> Thanks in advance,
>
> Bill Taylor
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 08:02:26 2006
Return-Path: <java-user-return-23519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71024 invoked from network); 25 Sep 2006 08:02:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 08:02:26 -0000
Received: (qmail 27652 invoked by uid 500); 25 Sep 2006 08:02:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26597 invoked by uid 500); 25 Sep 2006 08:02:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26586 invoked by uid 99); 25 Sep 2006 08:02:17 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 01:02:17 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lucene.developer@googlemail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=lucene.developer@googlemail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain googlemail.com designates 64.233.162.196 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.162.196] ([64.233.162.196:57785] helo=nz-out-0102.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 74/1D-13750-60D87154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 01:02:16 -0700
Received: by nz-out-0102.google.com with SMTP id z6so624838nzd
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 01:02:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=aMNgSw6CyNnrvis0TLF1LSRYYF5Dczl+u7Ia2q605tf2VWIoRqNyPONuooKwetCzHluquCMFUfIJ/k6CEslvRp4s8WBA/4nrWM2FkOBRypsTQv1qrTOaWW+HaY9EuRKads7UgkDKmqse378/kRM96h0ztLPBYaO28WDQ3gIYwuQ=
Received: by 10.65.234.2 with SMTP id l2mr650163qbr;
        Mon, 25 Sep 2006 01:02:12 -0700 (PDT)
Received: by 10.65.83.3 with HTTP; Mon, 25 Sep 2006 01:02:11 -0700 (PDT)
Message-ID: <a218b3050609250102r53c854b6me731db3c159279d@mail.gmail.com>
Date: Mon, 25 Sep 2006 10:02:11 +0200
From: lude <lucene.developer@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: Status: Sorting on tokenized fields
In-Reply-To: <Pine.LNX.4.58.0609221805220.12848@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20703_30070262.1159171331669"
References: <a218b3050609220244h6f13d0c6h7e63e36d06125bc3@mail.gmail.com>
	 <Pine.LNX.4.58.0609221805220.12848@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_20703_30070262.1159171331669
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Chris,

sure, you can create an addional field for every field that should
support sorting.

In our application we need to do this for all 20 fields. That means
me have to create twenty redundant fields just for sorting.
That's really an overhead in size and indexing-time.

:: using the stored value doesn't help: there can be multiple stored values
:: just as easily as there can be multiple tokens.

In what situations do you have more than one stored value per field?
In our applications we always have one stored value for each field.
In such a situation it would be perfect to take these stored values for
sorting....
Wouldn't it?

Greetings
lude



On 9/23/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : for years there is the discussion to make lucene able to sort on
> TOKENIZED
> : fields.
>
> really? .. i've only been on the list since 1.4.3 but i don't remember it
> being much of a recurring topic.
>
> : (e.g. if more then one term is available concatenate the tokens OR use
> the
> : stored value for sorting).
>
> using the stored value doesn't help: there can be multiple stored values
> just as easily as there can be multiple tokens.
>
> concatenating the tokens is a vague concept that would be very hard to get
> right in a way that would work genericly:  for starters, how do you deal
> with tokens at the same position? (ie; synonyms)
>
> In my experience, the best way to deal with this is for the application
> using Lucene to decide which fields it wants to sort on, and make a
> "sortable" version of that field that is indexed by not tokenized -- the
> application is afterall in teh best position to decide how exactly it
> wnats to "sort" on the data (ie: should the values be lowercased so the
> sort is case-insensetive?  should certain punctution characters be striped
> out? etc...)
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20703_30070262.1159171331669--

From java-user-return-23520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 08:39:19 2006
Return-Path: <java-user-return-23520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79737 invoked from network); 25 Sep 2006 08:39:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 08:39:18 -0000
Received: (qmail 70271 invoked by uid 500); 25 Sep 2006 08:39:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70061 invoked by uid 500); 25 Sep 2006 08:39:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70050 invoked by uid 99); 25 Sep 2006 08:39:12 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 01:39:12 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=info@altervisionmedia.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.1 required=5.0 tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
Received-SPF: error (idunn.apache.osuosl.org: domain altervisionmedia.com from 72.29.74.74 cause and error)
Received: from [72.29.74.74] ([72.29.74.74:43495] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id EF/3E-13750-DA597154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 01:39:10 -0700
Received: from [81.25.38.191] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GRlzA-0004PT-UQ
	for java-user@lucene.apache.org; Mon, 25 Sep 2006 04:38:45 -0400
Date: Mon, 25 Sep 2006 11:38:34 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <1772959053.20060925113834@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: how to enhance speed of sorted search
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, java-user.

I have a set of documents with two fields:
1. "summary" which is tokenized, stored. it contains some text
2. "date", which is untokenized, stored. it contains seconds from
epoch aligned to the right and padded with zeroes on the left

I perform searches which are sorted by "date" field.
my query is phrase one - summary:"some text bla bla"
my sort is SortField("modified", SortField.INT, True)

I don't need to sort documents using "summary" field by relevance. I
think that by default Lucene spends some operations to score documents using
query.

Is there any way to speed up queries? Maybe should I replace query
with filter?

The problem that I have very big index, like 80 Gb and I have a lot of
different queries (about 480 per minute).

--
Yura Smolsky


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 09:50:26 2006
Return-Path: <java-user-return-23521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 683 invoked from network); 25 Sep 2006 09:50:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 09:50:25 -0000
Received: (qmail 56634 invoked by uid 500); 25 Sep 2006 09:50:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56391 invoked by uid 500); 25 Sep 2006 09:50:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56379 invoked by uid 99); 25 Sep 2006 09:50:18 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 02:50:18 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=sharadbdc@aol.com; spf=pass
X-ASF-Spam-Status: No, hits=1.7 required=5.0 tests=RCVD_FAKE_HELO_DOTCOM
Received-SPF: pass (idunn.apache.osuosl.org: domain aol.com designates 152.163.225.129 as permitted sender)
Received: from [152.163.225.129] ([152.163.225.129:2662] helo=omr-r01.mail.aol.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 5D/80-13750-156A7154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 02:50:10 -0700
Received: from aol.com (10.146.144.105)
  by omr-r01.mail.aol.com with ESMTP; 25 Sep 2006 05:50:06 -0400
Message-ID: <4517A64B.5070301@aol.com>
Date: Mon, 25 Sep 2006 15:20:03 +0530
From: Sharad Agarwal <sharadbdc@aol.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: searching in social networks
References: <e129b0e70609230239j1e39f27dm3a179c8ed53013bd@mail.gmail.com>
In-Reply-To: <e129b0e70609230239j1e39f27dm3a179c8ed53013bd@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am using lucene for simple flat searches. Now I have a requirement to 
do searches based on the object's connectivity with other objects. The 
way the searches are done in "social networks". Lets say I want to 
search for a query in only those objects which are within 3 degrees of 
connectivity to a given object.

Has any body tried this kind of feature with lucene? Any pointers will 
be appreciated.

thanks
sharad



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 10:28:05 2006
Return-Path: <java-user-return-23522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11327 invoked from network); 25 Sep 2006 10:28:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 10:28:04 -0000
Received: (qmail 9386 invoked by uid 500); 25 Sep 2006 10:27:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9190 invoked by uid 500); 25 Sep 2006 10:27:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9179 invoked by uid 99); 25 Sep 2006 10:27:57 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 03:27:57 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=mekin.m@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=mekin.m@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.182.188 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.188] ([64.233.182.188:40210] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 51/B1-13750-B2FA7154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 03:27:56 -0700
Received: by nf-out-0910.google.com with SMTP id b2so1398495nfe
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 03:27:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=fwlULyraH+fXgxAv7VYsj0xZOboYLqa9Zo1nWFullKgS+A4onDemecu68qoJnWuw5VSutEo1T6MgF547LfU3G6ChOCWOheOXJOLzwkYilqi4ypv+55pn0PkhcbDARtrHc6bG2vjeSjSRvZj/HOmbEW8XbP7Y6eq39qQyPuk9uMQ=
Received: by 10.48.210.20 with SMTP id i20mr1245506nfg;
        Mon, 25 Sep 2006 03:27:53 -0700 (PDT)
Received: by 10.49.37.16 with HTTP; Mon, 25 Sep 2006 03:27:52 -0700 (PDT)
Message-ID: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com>
Date: Mon, 25 Sep 2006 15:57:52 +0530
From: Mek <mekin.m@gmail.com>
To: java-user@lucene.apache.org
Subject: Very high fieldNorm for a field resulting in bad results
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23221_30909795.1159180072931"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_23221_30909795.1159180072931
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I was getting very bad results for some queries & after a little research &
a lot of searching on the mailing list, I have the following information.
Could someone please help me figure out whats wrong.

Exact phrase matches in fields with higher boost were ranking lower than
some non exact matches in 1 other field.
(I change th userQuery => "userQuery"^4 userQuery  .. any other ideas for
ranking exact matches higher ?)

The symptom:
Very high fieldNorm for field A.(explain output pasted below) The boost i am
applying to the troublesome field is 3.5  & the max boost applied per doc is
1.8
Given that information, the very high fieldNorm is very surprising to me.
Based on what I read,  FieldNorm  = 1 / sqrt(sum of terms) , possibly
multiplied by field boost values.

My suspicions:

There may be something wrong with the way I add this field:

fieldName = "A';
fieldConfig = getConfig(fieldName);

for (Collection of values){
     Field thisField = new Field(fieldName, value, fieldConfig.STORED,
fieldConfig.INDEXED);
     thisField.setBoost(fieldConfig);
    doc.add(thisField);
}

which should basically lead to the "values" being appended,
Am i making a mistake in the way I am adding fields ?

The results which are showing up on top (having very high fieldnorm) have a
lot of "values".

Thanks a ton for any guidance you can provide.
-mek


Explain output:

     [java] 931523.7 = product of:
     [java]   6520665.5 = product of:
     [java]     1.9561996E7 = weight(A:william in 2994602), product of:
     [java]       4.5579695E-4 = queryWeight(A:william), product of:
     [java]         5.7101016 = idf(docFreq=62092)
     [java]         7.9822916E-5 = queryNorm
     [java]       4.2918224E10 = fieldWeight(A:william in 2994602), product
of:
     [java]         1.0 = tf(termFreq(A:william)=1)
     [java]         5.7101016 = idf(docFreq=62092)
     [java]         7.5161928E9 = fieldNorm(field=A, doc=2994602)
     [java]     0.33333334 = coord(1/3)
     [java]   0.14285715 = coord(1/7)

------=_Part_23221_30909795.1159180072931--

From java-user-return-23523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 10:43:13 2006
Return-Path: <java-user-return-23523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18448 invoked from network); 25 Sep 2006 10:43:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 10:43:12 -0000
Received: (qmail 34552 invoked by uid 500); 25 Sep 2006 10:43:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34243 invoked by uid 500); 25 Sep 2006 10:43:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34232 invoked by uid 99); 25 Sep 2006 10:43:06 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 03:43:06 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=markharw00d@yahoo.co.uk; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=markharw00d@yahoo.co.uk; domainkeys=good
X-ASF-Spam-Status: No, hits=1.9 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.co.uk from 217.12.10.213 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [217.12.10.213] ([217.12.10.213:36527] helo=web26002.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 5A/22-13750-5B2B7154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 03:43:03 -0700
Received: (qmail 25408 invoked by uid 60001); 25 Sep 2006 10:42:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=TiM/sZITx+GDDoJ7F92qmC7qoyJ5nksb9Q2CyrFalcdImcGl8PSglTa5sms88dKJT1hNQiMN2RWLcko0wsGpZ3tiwqMrll2wH3pfGLZpP6p6zB6mHzeRf10OCJ2Cs4gH8m2tlpvTnBB8OWjb+bsXapXW0VPFBgrjqKztZdnhwbU=  ;
Message-ID: <20060925104258.25406.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Mon, 25 Sep 2006 10:42:58 GMT
Date: Mon, 25 Sep 2006 10:42:58 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Reply-To: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: searching in social networks
To: java-user@lucene.apache.org
In-Reply-To: <4517A64B.5070301@aol.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Finding the connected elements which make up the neighbourhood is just straightforward lookups of connected IDs on the graph. This can be done using either a database or Lucene - your choice, although I suspect the database is the better choice given the structured nature of the data and any potential volatility in connections. Once you have the IDs which define "the neighbourhood" of nodes you want to search, these IDs can be built into a Lucene filter very fast (see org.apache.lucene.search.TermsFilter.addTerm in the "contrib\queries" section).
Using this class I've found Lucene capable of searching neighbourhoods of thousands of nodes very quickly.

The biggest problem you are likely to face is shortlisting the nodes you want to search when "3 degrees of connectivity" leads you at step 1 or 2 to a highly connected node, exploding the list of IDs under consideration.

Cheers
Mark


----- Original Message ----
From: Sharad Agarwal <sharadbdc@aol.com>
To: java-user@lucene.apache.org
Sent: Monday, 25 September, 2006 10:50:03 AM
Subject: searching in social networks

I am using lucene for simple flat searches. Now I have a requirement to 
do searches based on the object's connectivity with other objects. The 
way the searches are done in "social networks". Lets say I want to 
search for a query in only those objects which are within 3 degrees of 
connectivity to a given object.

Has any body tried this kind of feature with lucene? Any pointers will 
be appreciated.

thanks
sharad



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 12:56:11 2006
Return-Path: <java-user-return-23524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89343 invoked from network); 25 Sep 2006 12:56:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 12:56:10 -0000
Received: (qmail 23414 invoked by uid 500); 25 Sep 2006 12:56:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23196 invoked by uid 500); 25 Sep 2006 12:56:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23185 invoked by uid 99); 25 Sep 2006 12:56:03 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 05:56:03 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=meils2003@yahoo.fr; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=meils2003@yahoo.fr; domainkeys=good
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.fr from 217.146.176.19 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [217.146.176.19] ([217.146.176.19:45462] helo=web26308.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id F2/A6-13750-AD1D7154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 05:55:56 -0700
Received: (qmail 35275 invoked by uid 60001); 25 Sep 2006 12:55:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.fr;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MHQLG07k4bNG8Tdc66P3csIEnIWsUUsj/Fe9sFQ+pZn7jlWhAy46qnLw+BihtPOM/QGsmHXq/TtKqBpLpqyur2BSwYcYJBXKjUEYkezT7Mw0URFlR7Wtc0iMvE6pedkxvzrpwxZBqBmr3bsFHwz2QJUPrInMjtMcMOQG4ulMqhw=  ;
Message-ID: <20060925125544.35273.qmail@web26308.mail.ukl.yahoo.com>
Received: from [194.206.138.56] by web26308.mail.ukl.yahoo.com via HTTP; Mon, 25 Sep 2006 14:55:44 CEST
Date: Mon, 25 Sep 2006 14:55:44 +0200 (CEST)
From: Virlouvet Olivier <meils2003@yahoo.fr>
Subject: Highlight specific occurence
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1518940252-1159188944=:34795"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1518940252-1159188944=:34795
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi All,
   
     I use proximity operator in my queries (for example "w1 w2 WITHIN 4" to find all documents where the distance  between w1 and w2 and less or equals to 4)
   
  For all documents matching the query, I need to know the corresponding occurences (w1, w2) to highlight them (and so exclude all other w1 and w2 which are no relevant for the query) but the object "Hits" returns only document id matching the query and not occurrence for each document matching.
   
  Thanks for your help
   
  Olivier

 		
---------------------------------
 Dcouvrez un nouveau moyen de poser toutes vos questions quelque soit le sujet ! Yahoo! Questions/Rponses pour partager vos connaissances, vos opinions et vos expriences. Cliquez ici. 
--0-1518940252-1159188944=:34795--

From java-user-return-23525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 13:03:07 2006
Return-Path: <java-user-return-23525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90726 invoked from network); 25 Sep 2006 13:03:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 13:03:06 -0000
Received: (qmail 33143 invoked by uid 500); 25 Sep 2006 13:03:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33120 invoked by uid 500); 25 Sep 2006 13:03:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33109 invoked by uid 99); 25 Sep 2006 13:03:00 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 06:03:00 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erik@ehatchersolutions.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ehatchersolutions.com from 69.55.225.129 cause and error)
Received: from [69.55.225.129] ([69.55.225.129:59687] helo=ehatchersolutions.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 1A/D6-13750-373D7154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 06:02:46 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D1ED530EFC19; Mon, 25 Sep 2006 09:02:19 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 6C1B130EFC1F
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 09:02:15 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <20060925125544.35273.qmail@web26308.mail.ukl.yahoo.com>
References: <20060925125544.35273.qmail@web26308.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <883E7F28-B460-4CFA-8F76-983A7F561E8C@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlight specific occurence
Date: Mon, 25 Sep 2006 09:02:12 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One option is to use a SpanQuery (instead of a PhraseQuery if that is =20=

what you're currently using) and toy with the getSpans() for getting =20
occurrences of matches.

	Erik


On Sep 25, 2006, at 8:55 AM, Virlouvet Olivier wrote:

> Hi All,
>
>      I use proximity operator in my queries (for example "w1 w2 =20
> WITHIN 4" to find all documents where the distance  between w1 and =20
> w2 and less or equals to 4)
>
>   For all documents matching the query, I need to know the =20
> corresponding occurences (w1, w2) to highlight them (and so exclude =20=

> all other w1 and w2 which are no relevant for the query) but the =20
> object "Hits" returns only document id matching the query and not =20
> occurrence for each document matching.
>
>   Thanks for your help
>
>   Olivier
>
>  	=09
> ---------------------------------
>  D=E9couvrez un nouveau moyen de poser toutes vos questions quelque =20=

> soit le sujet ! Yahoo! Questions/R=E9ponses pour partager vos =20
> connaissances, vos opinions et vos exp=E9riences. Cliquez ici.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 14:53:43 2006
Return-Path: <java-user-return-23526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33050 invoked from network); 25 Sep 2006 14:53:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 14:53:42 -0000
Received: (qmail 73482 invoked by uid 500); 25 Sep 2006 14:53:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73097 invoked by uid 500); 25 Sep 2006 14:53:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73086 invoked by uid 99); 25 Sep 2006 14:53:35 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 07:53:35 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=aviran.mordo@lmco.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain lmco.com from 192.35.35.7 cause and error)
Received: from [192.35.35.7] ([192.35.35.7:41976] helo=mailgw3a.lmco.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 1B/C9-13750-75DE7154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 07:53:16 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])by mailgw3a.lmco.com  (LM-6) with ESMTP id k8PEqJtG006420;Mon, 25 Sep 2006 10:52:19 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.3-x3 #31239) id <0J6500E01KB7ZN@lmco.com>; Mon,
 25 Sep 2006 10:52:19 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.3-x3 #31239)
 with ESMTP id <0J650077QL0XCS@lmco.com>; Mon, 25 Sep 2006 10:49:39 -0400 (EDT)
Received: from emss10m02.us.lmco.com ([158.187.0.186]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Mon,
 25 Sep 2006 10:49:10 -0400
Date: Mon, 25 Sep 2006 10:49:10 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: how to enhance speed of sorted search
To: java-user@lucene.apache.org, Yura Smolsky <info@altervisionmedia.com>
Message-id: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Thread-Topic: how to enhance speed of sorted search
Thread-Index: AcbgfigB5S4wrtZvSia8RGE7jg3vlwAM3aeA
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 25 Sep 2006 14:49:10.0915 (UTC) FILETIME=[C2D41530:01C6E0B1]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

AFAIK when you sort Lucene does not calculate the relevance score.

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: Yura Smolsky [mailto:info@altervisionmedia.com] 
Sent: Monday, September 25, 2006 4:39 AM
To: java-user@lucene.apache.org
Subject: how to enhance speed of sorted search

Hello, java-user.

I have a set of documents with two fields:
1. "summary" which is tokenized, stored. it contains some text 2.
"date", which is untokenized, stored. it contains seconds from epoch
aligned to the right and padded with zeroes on the left

I perform searches which are sorted by "date" field.
my query is phrase one - summary:"some text bla bla"
my sort is SortField("modified", SortField.INT, True)

I don't need to sort documents using "summary" field by relevance. I
think that by default Lucene spends some operations to score documents
using query.

Is there any way to speed up queries? Maybe should I replace query with
filter?

The problem that I have very big index, like 80 Gb and I have a lot of
different queries (about 480 per minute).

--
Yura Smolsky


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 15:02:08 2006
Return-Path: <java-user-return-23527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36189 invoked from network); 25 Sep 2006 15:02:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 15:02:02 -0000
Received: (qmail 91920 invoked by uid 500); 25 Sep 2006 15:01:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91712 invoked by uid 500); 25 Sep 2006 15:01:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91701 invoked by uid 99); 25 Sep 2006 15:01:56 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 08:01:56 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=info@altervisionmedia.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.1 required=5.0 tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
Received-SPF: error (idunn.apache.osuosl.org: domain altervisionmedia.com from 72.29.74.74 cause and error)
Received: from [72.29.74.74] ([72.29.74.74:18254] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E6/F9-13750-C4FE7154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 08:01:35 -0700
Received: from [81.25.38.191] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GRrwv-0002zQ-Pa
	for java-user@lucene.apache.org; Mon, 25 Sep 2006 11:00:50 -0400
Date: Mon, 25 Sep 2006 18:00:34 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <834910708.20060925180034@altervisionmedia.com>
To: java-user@lucene.apache.org
Subject: Re[2]: how to enhance speed of sorted search
In-Reply-To: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Aviran.

but searcher.explain returns that idf's and scores were still counted.
correct me if i am wrong.

MAENN> AFAIK when you sort Lucene does not calculate the relevance score.

MAENN> Aviran
MAENN> http://www.aviransplace.com 

MAENN> -----Original Message-----
MAENN> From: Yura Smolsky [mailto:info@altervisionmedia.com] 
MAENN> Sent: Monday, September 25, 2006 4:39 AM
MAENN> To: java-user@lucene.apache.org
MAENN> Subject: how to enhance speed of sorted search

MAENN> Hello, java-user.

MAENN> I have a set of documents with two fields:
MAENN> 1. "summary" which is tokenized, stored. it contains some text 2.
MAENN> "date", which is untokenized, stored. it contains seconds from epoch
MAENN> aligned to the right and padded with zeroes on the left

MAENN> I perform searches which are sorted by "date" field.
MAENN> my query is phrase one - summary:"some text bla bla"
MAENN> my sort is SortField("modified", SortField.INT, True)

MAENN> I don't need to sort documents using "summary" field by relevance. I
MAENN> think that by default Lucene spends some operations to score documents
MAENN> using query.

MAENN> Is there any way to speed up queries? Maybe should I replace query with
MAENN> filter?

MAENN> The problem that I have very big index, like 80 Gb and I have a lot of
MAENN> different queries (about 480 per minute).

MAENN> --
MAENN> Yura Smolsky


MAENN> ---------------------------------------------------------------------
MAENN> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
MAENN> For additional commands, e-mail: java-user-help@lucene.apache.org





--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 16:04:21 2006
Return-Path: <java-user-return-23528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56776 invoked from network); 25 Sep 2006 16:04:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 16:04:21 -0000
Received: (qmail 32575 invoked by uid 500); 25 Sep 2006 16:04:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32551 invoked by uid 500); 25 Sep 2006 16:04:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32540 invoked by uid 99); 25 Sep 2006 16:04:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [17.250.248.177] (HELO smtpout.mac.com) (17.250.248.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 09:04:10 -0700
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (Xserve/8.12.11/smtpout07/MantshX 4.0) with ESMTP id k8PG3UFi027330
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 09:03:30 -0700 (PDT)
Received: from [127.0.0.1] (216-12-26-38.va.mvl.ntelos.net [216.12.26.38])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id k8PG3Sjc009435
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 09:03:29 -0700 (PDT)
Message-ID: <4517FDD4.9040109@mac.com>
Date: Mon, 25 Sep 2006 12:03:32 -0400
From: "Michael J. Prichard" <michael_prichard@mac.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: "Greater than" equivalent?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a filtering process that checks my index for various things.  I 
have an "itemid" field in this index and I keep track of the last itemid 
I search up to.  I was wondering if there was an equivalent to doing a 
search with a "greater than" clause?  Sort of like:

to:blah@blah.com AND subject:happy AND itemid: >125688

-Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 16:27:24 2006
Return-Path: <java-user-return-23529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65433 invoked from network); 25 Sep 2006 16:27:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 16:27:23 -0000
Received: (qmail 73179 invoked by uid 500); 25 Sep 2006 16:27:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73152 invoked by uid 500); 25 Sep 2006 16:27:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73141 invoked by uid 99); 25 Sep 2006 16:27:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 09:27:16 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.176 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.176] ([64.233.166.176:23055] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 97/DB-13750-34308154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 09:26:44 -0700
Received: by py-out-1112.google.com with SMTP id w49so2325606pyg
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 09:25:58 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=koyVedBsOS1XiatiArQBPIwKB76LdW5zlV67uRxUXPtJmFScFV5+yiPRmKEYE3e4GZnHU+9KhZldbvhdi5pSMi/3gEwlZBgqFfdMvL5BhE6eaMeGSeKdV6ClxVoahTCmnJotycnKHdoiP9wLtiyRUqQv4xd/cvJPXmGqoagHJYE=
Received: by 10.35.40.10 with SMTP id s10mr8637620pyj;
        Mon, 25 Sep 2006 09:25:58 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Mon, 25 Sep 2006 09:25:47 -0700 (PDT)
Message-ID: <359a92830609250925y15d32d0s81b284dfcd1777cb@mail.gmail.com>
Date: Mon, 25 Sep 2006 12:25:48 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "Greater than" equivalent?
In-Reply-To: <4517FDD4.9040109@mac.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_29151_13540398.1159201548068"
References: <4517FDD4.9040109@mac.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_29151_13540398.1159201548068
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think you could use a range (either a RangeQuery or RangeFilter).  So your
range (from your example) would be between 125688 and 1000000000 or some
such...

Be careful of a RangeQuery throwing TooManyClauses if your range contains
more than 1024 (default) distinct entries, which means I'd recommend using
the RangeFilter is your first option.....

Erick

On 9/25/06, Michael J. Prichard <michael_prichard@mac.com> wrote:
>
> I have a filtering process that checks my index for various things.  I
> have an "itemid" field in this index and I keep track of the last itemid
> I search up to.  I was wondering if there was an equivalent to doing a
> search with a "greater than" clause?  Sort of like:
>
> to:blah@blah.com AND subject:happy AND itemid: >125688
>
> -Michael
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_29151_13540398.1159201548068--

From java-user-return-23530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 17:19:58 2006
Return-Path: <java-user-return-23530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81111 invoked from network); 25 Sep 2006 17:19:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 17:19:57 -0000
Received: (qmail 49182 invoked by uid 500); 25 Sep 2006 17:19:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49151 invoked by uid 500); 25 Sep 2006 17:19:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49140 invoked by uid 99); 25 Sep 2006 17:19:49 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 10:19:49 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=pablolynch@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=pablolynch@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 68.142.201.236 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [68.142.201.236] ([68.142.201.236:33006] helo=web30413.mail.mud.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 09/FC-13750-EAF08154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 10:19:45 -0700
Received: (qmail 74114 invoked by uid 60001); 25 Sep 2006 17:19:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=QC4iCZfGPbvvU7KM+nTJnx5ZgtHm/pqAxB0nZuyheu4P2qNm2znwZRKPcEzEJ4ATg0aHCFo2pyA88C5MvNNEmSLW3p9u1qQ+ojG8217MhGdSwsrHF2jefwfeJJbrckx2l8iRbv86EfoG2EOB2Ruax/40IxQSSDS5amsceenj9eg=  ;
Message-ID: <20060925171913.74112.qmail@web30413.mail.mud.yahoo.com>
Received: from [83.245.56.18] by web30413.mail.mud.yahoo.com via HTTP; Mon, 25 Sep 2006 10:19:13 PDT
Date: Mon, 25 Sep 2006 10:19:13 -0700 (PDT)
From: Paul Lynch <pablolynch@yahoo.com>
Subject: Advice on Custom Sorting
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0608012015490.11441@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I have an index containing documents which all have a
field called SubId which holds the ID of the
Subscriber that submitted the data. This field is
STORED and UN_TOKENIZED

When I am querying the index, the user can cloose a
number of different ways to sort the Hits. The problem
is that I have a list of SubIds that should appear at
the top of the results list regardless of how the
index is sorted. In other words, lets suppose the Hits
should be sorted by DateAdded, I require the Hits to
be sorted by DateAdded for the SubIds in my list and
then by DateAdded for the SubIds not in my list.

>From reading previous discussions on the mailing list,
I believe I could achieve what I need by writing
custom filters i.e. Run the query first with a custom
filter for the SubIds in my list and then a second
time with a custom filter for the SubIds not in my
list and then "merge" the results.

I suppose my question is simple: Is there a better way
to achieve this?

Couple of bits of info which I would influence best
design:

- Index contains roughly 5M documents
- There can be up to 10K different unique SubIds
- My "Preferred SubId List" could contain any
combination of the 10K SubIds including all or none of
them
- My "Preferred SubId List" gets updated about 10
times and hour so I could cache the custom filters

Thanks in advance,
Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 20:20:33 2006
Return-Path: <java-user-return-23531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44381 invoked from network); 25 Sep 2006 20:20:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 20:20:32 -0000
Received: (qmail 28604 invoked by uid 500); 25 Sep 2006 20:20:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28580 invoked by uid 500); 25 Sep 2006 20:20:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28563 invoked by uid 99); 25 Sep 2006 20:20:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 13:20:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=3.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.181 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.181] ([64.233.166.181:1255] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id D0/C0-13750-20A38154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 13:20:22 -0700
Received: by py-out-1112.google.com with SMTP id w49so2389052pyg
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 13:19:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DoHeWS1/77K228ZERYbO9n/Ig/40WNx6Zooh9FAVWXudcXXEhmU1UXLxObl/+sk7GQYAVv3OjjTaOkpKM+nDT/1U6PoEoh4YTu3g0l212XnLnF2L0M96i3W2sToHcOAMpPSlXeatldJZdsYYxglou1rKbDYMvAT8mWrDkNXf2q4=
Received: by 10.35.29.6 with SMTP id g6mr1371831pyj;
        Mon, 25 Sep 2006 13:19:41 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Mon, 25 Sep 2006 13:19:41 -0700 (PDT)
Message-ID: <359a92830609251319of5e9df6mb3a747bce4650292@mail.gmail.com>
Date: Mon, 25 Sep 2006 16:19:41 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Advice on Custom Sorting
In-Reply-To: <20060925171913.74112.qmail@web30413.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_33688_27757744.1159215581097"
References: <Pine.LNX.4.58.0608012015490.11441@hal.rescomp.berkeley.edu>
	 <20060925171913.74112.qmail@web30413.mail.mud.yahoo.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_33688_27757744.1159215581097
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

OK, a really "off the top of my head" response, but what the heck....

I'm not sure you need to worry about filters. Would it work for you to index
the documents in your preferred list with a  field (called, at the limit of
my creativity, preferredsubid <G>) and index your non-preferred docs with a
field subid? You'd still have to fire two queries, one on subid (to pick up
the ones in your non-preferred list) and one on preferredsubid.

Since there's no requirement that all docs have the same fields, your
preferred docs could have ONLY the preferredsubid field and your
non-preferred docs ONLY the subid field. That way you wouldn't have to worry
about picking the docs up twice.

Merging should be simple then, just iterate over however many hits you want
in your preferredHits object, then tack on however many you want from your
nonPreferredHits object. All the code for the two queries would be
identical, the only difference being whether you specify "subid" or
"preferredsubid"......

I can imagine several variations on this scenario, but they depend on your
problem space.

Whether this is the "best" or not, I leave as an exercise for the reader.

Best
Erick

On 9/25/06, Paul Lynch <pablolynch@yahoo.com> wrote:
>
> Hi All,
>
> I have an index containing documents which all have a
> field called SubId which holds the ID of the
> Subscriber that submitted the data. This field is
> STORED and UN_TOKENIZED
>
> When I am querying the index, the user can cloose a
> number of different ways to sort the Hits. The problem
> is that I have a list of SubIds that should appear at
> the top of the results list regardless of how the
> index is sorted. In other words, lets suppose the Hits
> should be sorted by DateAdded, I require the Hits to
> be sorted by DateAdded for the SubIds in my list and
> then by DateAdded for the SubIds not in my list.
>
> From reading previous discussions on the mailing list,
> I believe I could achieve what I need by writing
> custom filters i.e. Run the query first with a custom
> filter for the SubIds in my list and then a second
> time with a custom filter for the SubIds not in my
> list and then "merge" the results.
>
> I suppose my question is simple: Is there a better way
> to achieve this?
>
> Couple of bits of info which I would influence best
> design:
>
> - Index contains roughly 5M documents
> - There can be up to 10K different unique SubIds
> - My "Preferred SubId List" could contain any
> combination of the 10K SubIds including all or none of
> them
> - My "Preferred SubId List" gets updated about 10
> times and hour so I could cache the custom filters
>
> Thanks in advance,
> Paul
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_33688_27757744.1159215581097--

From java-user-return-23532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 20:21:03 2006
Return-Path: <java-user-return-23532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44454 invoked from network); 25 Sep 2006 20:21:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 20:21:02 -0000
Received: (qmail 32379 invoked by uid 500); 25 Sep 2006 20:20:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32352 invoked by uid 500); 25 Sep 2006 20:20:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32341 invoked by uid 99); 25 Sep 2006 20:20:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 13:20:55 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=daniel.armbrust.list@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=daniel.armbrust.list@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.181 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.181] ([64.233.166.181:1255] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 71/C0-13750-61A38154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 13:20:43 -0700
Received: by py-out-1112.google.com with SMTP id w49so2389052pyg
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 13:20:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        b=KPjvATCi/8D8I/8xZiT64lLUMPqEMQ8RLViBnHndHhyz8+C6oQUlS5tT8S4D0AZETWYE0dIKDnn5XyYbK2D3QXLAYaxVLhA9CczXlGbtnGZxZw8eyayKAhydaZiJPaR0TWYwQf3clUWeX+oCNDlQZUYPOu1C0Ngkt8qlWNd4m3g=
Received: by 10.35.38.17 with SMTP id q17mr1366641pyj;
        Mon, 25 Sep 2006 13:20:31 -0700 (PDT)
Received: from ?172.24.51.152? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id k13sm2964265pyf.2006.09.25.13.20.30;
        Mon, 25 Sep 2006 13:20:31 -0700 (PDT)
Message-ID: <45183A0E.9030306@gmail.com>
Date: Mon, 25 Sep 2006 15:20:30 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: wildcards in quoted phrases?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have someone wanting to do a query like this - "top sta*", but from 
what I have been able to gather, lucene doesn't have any built in 
support for wildcards inside of phrases?

Well, at least not complete support.  I was led to the MultiPhraseQuery 
class - but looking at that leaves me wondering - has anyone written (or 
modified) a QueryParser that can automatically use this?

Or do I have to manually create the query whenever I encounter a quoted 
phrase with a wildcard?  My hunch is that its not real easy, otherwise 
it would already have been done...

Thanks,

Dan


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 20:43:20 2006
Return-Path: <java-user-return-23533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49600 invoked from network); 25 Sep 2006 20:43:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 20:43:19 -0000
Received: (qmail 65603 invoked by uid 500); 25 Sep 2006 20:43:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65564 invoked by uid 500); 25 Sep 2006 20:43:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65532 invoked by uid 99); 25 Sep 2006 20:43:13 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 13:43:13 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=pablolynch@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=pablolynch@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 68.142.200.108 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [68.142.200.108] ([68.142.200.108:42024] helo=web30405.mail.mud.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 07/31-13750-95F38154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 13:43:09 -0700
Received: (qmail 4455 invoked by uid 60001); 25 Sep 2006 20:42:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=O7hU38M3HYCOBgiXJTLcJelUjypmJm/DIjSVF4zITqLUFv7gZ185Cf93ELSiuVqexfvOu6Z8hePllCv9wBnykXb7WP49WD3nzLUChDCLvs2gw/1uHrIjRIGmMiLysKEuHdw3gMdjYIgcwi6voPvPWVFgGQ56+sXYWmilopchDKs=  ;
Message-ID: <20060925204258.4453.qmail@web30405.mail.mud.yahoo.com>
Received: from [83.245.56.18] by web30405.mail.mud.yahoo.com via HTTP; Mon, 25 Sep 2006 13:42:58 PDT
Date: Mon, 25 Sep 2006 13:42:58 -0700 (PDT)
From: Paul Lynch <pablolynch@yahoo.com>
Subject: Re: Advice on Custom Sorting
To: java-user@lucene.apache.org
In-Reply-To: <359a92830609251319of5e9df6mb3a747bce4650292@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the quick response Erick.

"index the documents in your preferred list with a 
field and index your non-preferred docs with a field
subid?"

I considered this approach and dismissed it due to the
actual list of preferred ids changing so frequently
(every 10 mins...ish) but maybe I was a little hasty
in doing so. I will investigate the overhead in
updating all docs in the index each time my list
refreshes. I had assumed it was too prohibitive but I
know what they say about assumptions :)

Should I be able to make this workable, the beauty of
this solution would be that I would actually only need
to query once. If I had a field which indicates
whether it is a preferred doc or not, "all" I will
have to do is sort across the two fields.

Thanks again Erick. Any other suggestions are most
welcome.

Regards,
Paul

--- Erick Erickson <erickerickson@gmail.com> wrote:

> OK, a really "off the top of my head" response, but
> what the heck....
> 
> I'm not sure you need to worry about filters. Would
> it work for you to index
> the documents in your preferred list with a  field
> (called, at the limit of
> my creativity, preferredsubid <G>) and index your
> non-preferred docs with a
> field subid? You'd still have to fire two queries,
> one on subid (to pick up
> the ones in your non-preferred list) and one on
> preferredsubid.
> 
> Since there's no requirement that all docs have the
> same fields, your
> preferred docs could have ONLY the preferredsubid
> field and your
> non-preferred docs ONLY the subid field. That way
> you wouldn't have to worry
> about picking the docs up twice.
> 
> Merging should be simple then, just iterate over
> however many hits you want
> in your preferredHits object, then tack on however
> many you want from your
> nonPreferredHits object. All the code for the two
> queries would be
> identical, the only difference being whether you
> specify "subid" or
> "preferredsubid"......
> 
> I can imagine several variations on this scenario,
> but they depend on your
> problem space.
> 
> Whether this is the "best" or not, I leave as an
> exercise for the reader.
> 
> Best
> Erick
> 
> On 9/25/06, Paul Lynch <pablolynch@yahoo.com> wrote:
> >
> > Hi All,
> >
> > I have an index containing documents which all
> have a
> > field called SubId which holds the ID of the
> > Subscriber that submitted the data. This field is
> > STORED and UN_TOKENIZED
> >
> > When I am querying the index, the user can cloose
> a
> > number of different ways to sort the Hits. The
> problem
> > is that I have a list of SubIds that should appear
> at
> > the top of the results list regardless of how the
> > index is sorted. In other words, lets suppose the
> Hits
> > should be sorted by DateAdded, I require the Hits
> to
> > be sorted by DateAdded for the SubIds in my list
> and
> > then by DateAdded for the SubIds not in my list.
> >
> > From reading previous discussions on the mailing
> list,
> > I believe I could achieve what I need by writing
> > custom filters i.e. Run the query first with a
> custom
> > filter for the SubIds in my list and then a second
> > time with a custom filter for the SubIds not in my
> > list and then "merge" the results.
> >
> > I suppose my question is simple: Is there a better
> way
> > to achieve this?
> >
> > Couple of bits of info which I would influence
> best
> > design:
> >
> > - Index contains roughly 5M documents
> > - There can be up to 10K different unique SubIds
> > - My "Preferred SubId List" could contain any
> > combination of the 10K SubIds including all or
> none of
> > them
> > - My "Preferred SubId List" gets updated about 10
> > times and hour so I could cache the custom filters
> >
> > Thanks in advance,
> > Paul
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 20:43:49 2006
Return-Path: <java-user-return-23534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49705 invoked from network); 25 Sep 2006 20:43:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 20:43:49 -0000
Received: (qmail 67318 invoked by uid 500); 25 Sep 2006 20:43:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67291 invoked by uid 500); 25 Sep 2006 20:43:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67280 invoked by uid 99); 25 Sep 2006 20:43:43 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 13:43:43 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lucenelist2005@danielnaber.de; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] ([80.67.18.15:57632] helo=smtprelay03.ispgateway.de)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 79/31-13750-F6F38154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 13:43:34 -0700
Received: (qmail 23514 invoked from network); 25 Sep 2006 20:43:15 -0000
Received: from unknown (HELO p5496d521.dip.t-dialin.net) ([pbs]695637@[84.150.213.33])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 25 Sep 2006 20:43:15 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: wildcards in quoted phrases?
Date: Mon, 25 Sep 2006 22:44:42 +0200
User-Agent: KMail/1.8.2
References: <45183A0E.9030306@gmail.com>
In-Reply-To: <45183A0E.9030306@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609252244.42957@danielnaber.de>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 25 September 2006 22:20, Dan Armbrust wrote:

> My hunch is that its not real easy, otherwise
> it would already have been done...

I think it shouldn't be difficult, but to expand the PrefixQuery, your 
QueryParser would need an IndexReader. Currently IndexReader/QueryParser 
don't depend on each other. Maybe this is the reason why it hasn't been 
done or why it hasn't been published.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 21:01:48 2006
Return-Path: <java-user-return-23535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53399 invoked from network); 25 Sep 2006 21:01:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 21:01:48 -0000
Received: (qmail 88760 invoked by uid 500); 25 Sep 2006 21:01:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88727 invoked by uid 500); 25 Sep 2006 21:01:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88716 invoked by uid 99); 25 Sep 2006 21:01:43 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 14:01:43 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.176 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.176] ([64.233.166.176:30510] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 89/91-13750-FA348154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 14:01:36 -0700
Received: by py-out-1112.google.com with SMTP id w49so2400083pyg
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 14:01:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=R2FxIqfaT0hw4fork1sT2m+tFog7DQTJ3gAj7xayK6UhBag2A6SFkJwcfUhq0mpSLRoDxTC2YzBYsmexfkm46GuMkTOKlgkLfYkiZB7Bf0AF/yWEQmYrI1oSNggaLdlA3o4pgO4Y2HL0RwdEldmuQVJh0xQRJJ86gQtL4TJtf4M=
Received: by 10.35.91.1 with SMTP id t1mr8550370pyl;
        Mon, 25 Sep 2006 14:01:31 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Mon, 25 Sep 2006 14:01:30 -0700 (PDT)
Message-ID: <359a92830609251401y403e2f20gdbb2e21946ad7fd0@mail.gmail.com>
Date: Mon, 25 Sep 2006 17:01:30 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Advice on Custom Sorting
In-Reply-To: <20060925204258.4453.qmail@web30405.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34347_15494909.1159218090671"
References: <359a92830609251319of5e9df6mb3a747bce4650292@mail.gmail.com>
	 <20060925204258.4453.qmail@web30405.mail.mud.yahoo.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_34347_15494909.1159218090671
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You were probably right. See below....

On 9/25/06, Paul Lynch <pablolynch@yahoo.com> wrote:
>
> Thanks for the quick response Erick.
>
> "index the documents in your preferred list with a
> field and index your non-preferred docs with a field
> subid?"
>
> I considered this approach and dismissed it due to the
> actual list of preferred ids changing so frequently
> (every 10 mins...ish) but maybe I was a little hasty
> in doing so. I will investigate the overhead in
> updating all docs in the index each time my list
> refreshes. I had assumed it was too prohibitive but I
> know what they say about assumptions :)


Lots of overhead. There's really no capability of updating a doc in place.
This has been on several people's wish-list. You'd have to delete every doc
that you wanted to change and re-add it. I don't know how many documents
this would be, if just a few it'd be OK, but if many.... I was assuming (and
I *do* know what they say about assumptions <G>) that you were just adding
to your preferred doc list every few minutes, not changing existing
documents....

It really does sound like you want a filter. I was pleasantly surprised by
how very quickly a filters are built. You could use a CachingWrapperFilter
to have the filter kept around automatically (I guess you'd only have one
per index update) to minimize your overhead for building filters, and
perhaps warm up your cache by firing a canned query at your searcher when
you re-open your IndexReader after index update. I think you'd have to do
the two-query thing in this case. If you wanted to really get exotic, you
could build your filter when you created your index and store it in a *very
special document* and just read it in the first time you needed it. Although
I've never used it, I guess you can store binary data. From the Javadoc

*Field<file:///C:/lucene-2.0.0/docs/api/org/apache/lucene/document/Field.html#Field%28java.lang.String,%20byte%5B%5D,%20org.apache.lucene.document.Field.Store%29>
*(String <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html> name,
byte[] value, Field.Store<file:///C:/lucene-2.0.0/docs/api/org/apache/lucene/document/Field.Store.html>
 store)
          Create a stored field with binary value.

The only thing here is that the filters (probably wrapped in a
ConstantScoreQuery) lose relevance, but since you're sorting "one of several
ways", that probably doesn't matter.

Best
Erick



Should I be able to make this workable, the beauty of
> this solution would be that I would actually only need
> to query once. If I had a field which indicates
> whether it is a preferred doc or not, "all" I will
> have to do is sort across the two fields.
>
> Thanks again Erick. Any other suggestions are most
> welcome.
>
> Regards,
> Paul
>
> --- Erick Erickson <erickerickson@gmail.com> wrote:
>
> > OK, a really "off the top of my head" response, but
> > what the heck....
> >
> > I'm not sure you need to worry about filters. Would
> > it work for you to index
> > the documents in your preferred list with a  field
> > (called, at the limit of
> > my creativity, preferredsubid <G>) and index your
> > non-preferred docs with a
> > field subid? You'd still have to fire two queries,
> > one on subid (to pick up
> > the ones in your non-preferred list) and one on
> > preferredsubid.
> >
> > Since there's no requirement that all docs have the
> > same fields, your
> > preferred docs could have ONLY the preferredsubid
> > field and your
> > non-preferred docs ONLY the subid field. That way
> > you wouldn't have to worry
> > about picking the docs up twice.
> >
> > Merging should be simple then, just iterate over
> > however many hits you want
> > in your preferredHits object, then tack on however
> > many you want from your
> > nonPreferredHits object. All the code for the two
> > queries would be
> > identical, the only difference being whether you
> > specify "subid" or
> > "preferredsubid"......
> >
> > I can imagine several variations on this scenario,
> > but they depend on your
> > problem space.
> >
> > Whether this is the "best" or not, I leave as an
> > exercise for the reader.
> >
> > Best
> > Erick
> >
> > On 9/25/06, Paul Lynch <pablolynch@yahoo.com> wrote:
> > >
> > > Hi All,
> > >
> > > I have an index containing documents which all
> > have a
> > > field called SubId which holds the ID of the
> > > Subscriber that submitted the data. This field is
> > > STORED and UN_TOKENIZED
> > >
> > > When I am querying the index, the user can cloose
> > a
> > > number of different ways to sort the Hits. The
> > problem
> > > is that I have a list of SubIds that should appear
> > at
> > > the top of the results list regardless of how the
> > > index is sorted. In other words, lets suppose the
> > Hits
> > > should be sorted by DateAdded, I require the Hits
> > to
> > > be sorted by DateAdded for the SubIds in my list
> > and
> > > then by DateAdded for the SubIds not in my list.
> > >
> > > From reading previous discussions on the mailing
> > list,
> > > I believe I could achieve what I need by writing
> > > custom filters i.e. Run the query first with a
> > custom
> > > filter for the SubIds in my list and then a second
> > > time with a custom filter for the SubIds not in my
> > > list and then "merge" the results.
> > >
> > > I suppose my question is simple: Is there a better
> > way
> > > to achieve this?
> > >
> > > Couple of bits of info which I would influence
> > best
> > > design:
> > >
> > > - Index contains roughly 5M documents
> > > - There can be up to 10K different unique SubIds
> > > - My "Preferred SubId List" could contain any
> > > combination of the 10K SubIds including all or
> > none of
> > > them
> > > - My "Preferred SubId List" gets updated about 10
> > > times and hour so I could cache the custom filters
> > >
> > > Thanks in advance,
> > > Paul
> > >
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > >
> > >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_34347_15494909.1159218090671--

From java-user-return-23536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 21:49:31 2006
Return-Path: <java-user-return-23536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68977 invoked from network); 25 Sep 2006 21:49:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 21:49:30 -0000
Received: (qmail 67710 invoked by uid 500); 25 Sep 2006 21:49:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67687 invoked by uid 500); 25 Sep 2006 21:49:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67676 invoked by uid 99); 25 Sep 2006 21:49:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 14:49:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=DORONC@il.ibm.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] ([195.212.29.153:52569] helo=mtagate4.de.ibm.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 68/82-13750-BDE48154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 14:49:15 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8PLn730174102
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 21:49:07 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8PLp35N2793586
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 23:51:03 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8PLn61B020955
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 23:49:06 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8PLn6uq020952
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 23:49:06 +0200
In-Reply-To: <e129b0e70609230239j1e39f27dm3a179c8ed53013bd@mail.gmail.com>
Subject: Re: highlighting
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF4B437209.B0E87AF8-ON882571F4.007257A2-882571F4.0077BA6E@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Mon, 25 Sep 2006 14:47:45 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 26/09/2006 00:51:02
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


"Stelios Eliakis" <eliakis@gmail.com> wrote on 23/09/2006 02:39:27:
> I want to extract the Best Fragment (passage) from a text file.
> When I use the following code I take the first fragment that contains my
> query. Nevertheless, the JavaDoc says that the function getBestFragment
> returns the best fragment. Do I something wrong?

That code seems fine to me.

A possible explanation (which I think might be the case here but not sure)
is that getBestFragment*() only accumulates fragments scores for matches of
"unique terms" in the fragment.

Example 1: query = "xy", and the term "xy" appears once in an early
fragment but 3 times in a later fragment. In this case both fragments would
be scored equally, and hence the early fragment would be selected "best"
just because of how the sorting works.

Example 2: query = "xy zw", and the early fragment contains "xy" but a
later fragment contains both "xy" and "zw". In this case the later fragment
would be selected "best".

Does this explain what you see in your program?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 22:48:26 2006
Return-Path: <java-user-return-23537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80908 invoked from network); 25 Sep 2006 22:48:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 22:48:25 -0000
Received: (qmail 32239 invoked by uid 500); 25 Sep 2006 22:48:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32217 invoked by uid 500); 25 Sep 2006 22:48:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32206 invoked by uid 99); 25 Sep 2006 22:48:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 15:48:16 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=eliakis@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=eliakis@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.226 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.226] ([66.249.82.226:44224] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E9/20-03290-DAC58154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 15:48:13 -0700
Received: by wx-out-0506.google.com with SMTP id s15so1863705wxc
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 15:48:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JshCh5txTGWaXCRbCgB0uHJBy7+1bbrCJRalploT2TngkV+iwxiC7qNz/D6Fz/ansKW75ncPt2D8iQsaoctLALrP7g0TZOsa61/wnTdXINZ6cb8dALDxGgXZI2KtRGmwYlVr7RnF+/S9/LN1rRXsDFTvA71UjRXhIoCTFc1rbr0=
Received: by 10.70.34.3 with SMTP id h3mr70617wxh;
        Mon, 25 Sep 2006 15:48:10 -0700 (PDT)
Received: by 10.70.19.13 with HTTP; Mon, 25 Sep 2006 15:48:10 -0700 (PDT)
Message-ID: <e129b0e70609251548w2852281ge83aa4f2511a01d5@mail.gmail.com>
Date: Tue, 26 Sep 2006 01:48:10 +0300
From: "Stelios Eliakis" <eliakis@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: highlighting
In-Reply-To: <OF4B437209.B0E87AF8-ON882571F4.007257A2-882571F4.0077BA6E@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_42057_19203076.1159224490159"
References: <e129b0e70609230239j1e39f27dm3a179c8ed53013bd@mail.gmail.com>
	 <OF4B437209.B0E87AF8-ON882571F4.007257A2-882571F4.0077BA6E@il.ibm.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_42057_19203076.1159224490159
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You are right!
1)As far as Example 1 is concerned, I don't want these 2 fragments to have
the same score.Do you know how could I do this?

2)Furthemore, if a try to take fragment score:

Scorer fragmentScore= highlighter.getFragmentScorer();
float fragmentScoreFloat=fragmentScore.getFragmentScore();

I take 0.0. why?

3)Moreover,  for some docs lucene don't returns any fragment even if the
query exist in the document. why? :)

Thanks in advance
Stelios Eliakis


On 9/26/06, Doron Cohen <DORONC@il.ibm.com> wrote:
>
>
> "Stelios Eliakis" <eliakis@gmail.com> wrote on 23/09/2006 02:39:27:
> > I want to extract the Best Fragment (passage) from a text file.
> > When I use the following code I take the first fragment that contains my
> > query. Nevertheless, the JavaDoc says that the function getBestFragment
> > returns the best fragment. Do I something wrong?
>
> That code seems fine to me.
>
> A possible explanation (which I think might be the case here but not sure)
> is that getBestFragment*() only accumulates fragments scores for matches
> of
> "unique terms" in the fragment.
>
> Example 1: query = "xy", and the term "xy" appears once in an early
> fragment but 3 times in a later fragment. In this case both fragments
> would
> be scored equally, and hence the early fragment would be selected "best"
> just because of how the sorting works.
>
> Example 2: query = "xy zw", and the early fragment contains "xy" but a
> later fragment contains both "xy" and "zw". In this case the later
> fragment
> would be selected "best".
>
> Does this explain what you see in your program?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Stelios Eliakis

------=_Part_42057_19203076.1159224490159--

From java-user-return-23538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 25 23:35:18 2006
Return-Path: <java-user-return-23538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89471 invoked from network); 25 Sep 2006 23:35:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2006 23:35:17 -0000
Received: (qmail 80011 invoked by uid 500); 25 Sep 2006 23:35:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79973 invoked by uid 500); 25 Sep 2006 23:35:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79958 invoked by uid 99); 25 Sep 2006 23:35:12 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 16:35:12 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=Lee_Gary@emc.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.8 required=5.0 tests=MAILTO_TO_SPAM_ADDR,NO_REAL_NAME
Received-SPF: error (idunn.apache.osuosl.org: domain emc.com from 128.222.32.20 cause and error)
Received: from [128.222.32.20] ([128.222.32.20:21260] helo=mexforward.lss.emc.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E0/30-03561-CA768154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 16:35:10 -0700
Received: from mailhub.lss.emc.com (nagas.lss.emc.com [10.254.144.11])
	by mexforward.lss.emc.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id k8PNZ54W012654
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 19:35:05 -0400 (EDT)
Received: from corpussmtp3.corp.emc.com (corpussmtp3.corp.emc.com [10.254.64.53])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k8PNZ2dA011964
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 19:35:04 -0400 (EDT)
From: Lee_Gary@emc.com
Received: from CORPUSMX40B.corp.emc.com ([10.254.64.48]) by corpussmtp3.corp.emc.com with Microsoft SMTPSVC(6.0.3790.0);
	 Mon, 25 Sep 2006 19:35:01 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: wildcards in quoted phrases?
Date: Mon, 25 Sep 2006 19:34:59 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D047271B4@CORPUSMX40B.corp.emc.com>
In-Reply-To: <200609252244.42957@danielnaber.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: wildcards in quoted phrases?
Thread-Index: Acbg46oOlp5CXEZoTJqGo+AQvMtvTgAFivpA
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 25 Sep 2006 23:35:01.0965 (UTC) FILETIME=[38B83FD0:01C6E0FB]
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.4.0.264935, Antispam-Data: 2006.9.25.161443
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CP_URI_IN_BODY 0, __CT 0, __CTE 0, __CTYPE_CHARSET_QUOTED 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __IMS_MSGID 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0'
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I encountered this issue before and was led to use SpanQueries for
wildcards within phrases. Take a look at the SpanQuery family of
classes. SpanQueries can give you the ability to specify a wildcarded
term within a phrase since you can nest different SpanQueries within a
SpanQuery. One of these is the SpanRegexQuery, which allows you to
specify a regular expression that would serve as your wildcard term
search within the phrase.=20

I ended up using a SpanNearQuery to represent the overall phrase nested
with SpanRegexQueries for the wildcarded parts, and SpanTermQueries for
all other non-wildcarded terms.=20

Hope this helps,
Gary

-----Original Message-----
From: Daniel Naber [mailto:lucenelist2005@danielnaber.de]=20
Sent: Monday, September 25, 2006 01:45 PM
To: java-user@lucene.apache.org
Subject: Re: wildcards in quoted phrases?

On Monday 25 September 2006 22:20, Dan Armbrust wrote:

> My hunch is that its not real easy, otherwise it would already have=20
> been done...

I think it shouldn't be difficult, but to expand the PrefixQuery, your
QueryParser would need an IndexReader. Currently IndexReader/QueryParser
don't depend on each other. Maybe this is the reason why it hasn't been
done or why it hasn't been published.

Regards
 Daniel

--
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 00:24:39 2006
Return-Path: <java-user-return-23539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96861 invoked from network); 26 Sep 2006 00:24:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 00:24:39 -0000
Received: (qmail 13529 invoked by uid 500); 26 Sep 2006 00:24:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13491 invoked by uid 500); 26 Sep 2006 00:24:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13480 invoked by uid 99); 26 Sep 2006 00:24:34 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 17:24:34 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:59460] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id B1/70-03784-F3378154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 17:24:32 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CBB355B780; Mon, 25 Sep 2006 17:24:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 975217F403
	for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 17:24:20 -0700 (PDT)
Date: Mon, 25 Sep 2006 17:24:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Status: Sorting on tokenized fields
In-Reply-To: <a218b3050609250102r53c854b6me731db3c159279d@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609251713500.4050@hal.rescomp.berkeley.edu>
References: <a218b3050609220244h6f13d0c6h7e63e36d06125bc3@mail.gmail.com> 
 <Pine.LNX.4.58.0609221805220.12848@hal.rescomp.berkeley.edu>
 <a218b3050609250102r53c854b6me731db3c159279d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: In our application we need to do this for all 20 fields. That means
: me have to create twenty redundant fields just for sorting.
: That's really an overhead in size and indexing-time.

I guess it just depends on the size of your index and how fast is "fast
enough" when indexing ... most people are more concerned abotu the query
speed then the index time speed, and doing a concatenation at query time
when building the FieldCache every time a new IndexReader is opened is
probably a less optimal choice then doing the concat once at index time.

: :: using the stored value doesn't help: there can be multiple stored values
: :: just as easily as there can be multiple tokens.
:
: In what situations do you have more than one stored value per field?

oh, all the time ... consider the case of multiple authors for a book --
"Erik Hatcher" and "Otis Gospodnetic" ... it makes perfect sense to both
index/store both author names (probably using a large position gap in your
analyzer) but now your "author" field isn't sortable, so you make an
untokenized string version that has the specific sort string that you want
which isn't neccessarily the same as the concated values (perhaps:
"Hatcher, Erik & Gospodnetic, Otis")

: In our applications we always have one stored value for each field.
: In such a situation it would be perfect to take these stored values for
: sorting....
: Wouldn't it?

Now that there is Lazy Field loading, people have discussed the prospect
of SortComparatorSources using stored fields to do sorting without needing
to build FieldCache's at all -- perhaps you want to look into that option?

Alternately: if your index changes very infrequently, you could forcibly
populate the FieldCache with any data you want, from any source you want
-- using Stored fields, or concatenating tokens.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 00:30:44 2006
Return-Path: <java-user-return-23540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97605 invoked from network); 26 Sep 2006 00:30:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 00:30:44 -0000
Received: (qmail 16978 invoked by uid 500); 26 Sep 2006 00:30:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16948 invoked by uid 500); 26 Sep 2006 00:30:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16936 invoked by uid 99); 26 Sep 2006 00:30:39 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 17:30:39 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:42342] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 0D/90-03784-AA478154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 17:30:35 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 569115B780; Mon, 25 Sep 2006 17:30:32 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5228E7F403;
	Mon, 25 Sep 2006 17:30:32 -0700 (PDT)
Date: Mon, 25 Sep 2006 17:30:32 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>,
	Yura Smolsky <info@altervisionmedia.com>
Subject: Re[2]: how to enhance speed of sorted search
In-Reply-To: <834910708.20060925180034@altervisionmedia.com>
Message-ID: <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
 <834910708.20060925180034@altervisionmedia.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: but searcher.explain returns that idf's and scores were still counted.
: correct me if i am wrong.

1) search.explain doesn't know anything about any sorting, so you can't
trust it to tell you wether or not scores are computed when doing a custom
sort.

2) Lucene does in fact "score" the matches when executing a search before
it does any sorting -- this is because for most queries, a non-zero score
is what indicates a match.  there has been some discussion (in LUCENE-584
whose patches blur the lines of matching/scoring/filtering) about
optimizing that behavior away when relevent, but that's probably a ways
off.

3) most likely, if you are seeing "slow" performance from sorted searches,
the time spent "scoring" the results isn't the biggest contributor to how
long thesearch takes -- it tends to be negligable for most queries.  A
better question is: are you reusing the exact same IndexReader /
IndexSearcher instance for every querey? ... if not, that right there is
going to be your biggest problem, because it will prevent you from being
able to reuse teh "FieldCache" needed when sorting results.



:
: MAENN> AFAIK when you sort Lucene does not calculate the relevance
: score.
:
: MAENN> Aviran
: MAENN> http://www.aviransplace.com
:
: MAENN> -----Original Message-----
: MAENN> From: Yura Smolsky [mailto:info@altervisionmedia.com]
: MAENN> Sent: Monday, September 25, 2006 4:39 AM
: MAENN> To: java-user@lucene.apache.org
: MAENN> Subject: how to enhance speed of sorted search
:
: MAENN> Hello, java-user.
:
: MAENN> I have a set of documents with two fields:
: MAENN> 1. "summary" which is tokenized, stored. it contains some text 2.
: MAENN> "date", which is untokenized, stored. it contains seconds from epoch
: MAENN> aligned to the right and padded with zeroes on the left
:
: MAENN> I perform searches which are sorted by "date" field.
: MAENN> my query is phrase one - summary:"some text bla bla"
: MAENN> my sort is SortField("modified", SortField.INT, True)
:
: MAENN> I don't need to sort documents using "summary" field by relevance. I
: MAENN> think that by default Lucene spends some operations to score documents
: MAENN> using query.
:
: MAENN> Is there any way to speed up queries? Maybe should I replace query with
: MAENN> filter?
:
: MAENN> The problem that I have very big index, like 80 Gb and I have a lot of
: MAENN> different queries (about 480 per minute).
:
: MAENN> --
: MAENN> Yura Smolsky
:
:
: MAENN> ---------------------------------------------------------------------
: MAENN> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: MAENN> For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
:
:
:
: --
: Yura Smolsky,
: http://altervisionmedia.com/
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 01:11:12 2006
Return-Path: <java-user-return-23541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6123 invoked from network); 26 Sep 2006 01:11:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 01:11:12 -0000
Received: (qmail 48634 invoked by uid 500); 26 Sep 2006 01:11:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48351 invoked by uid 500); 26 Sep 2006 01:11:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48340 invoked by uid 99); 26 Sep 2006 01:11:05 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 18:11:05 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=vnguyen@ur.com; spf=pass
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain ur.com designates 63.241.148.20 as permitted sender)
Received: from [63.241.148.20] ([63.241.148.20:37644] helo=ironport.ur.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 9F/70-04059-32E78154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 18:11:01 -0700
Received: from unknown (HELO UREXCHSRV5.ur.com) ([10.6.134.35])
  by ironport.ur.com with ESMTP; 25 Sep 2006 21:10:57 -0400
X-OriginatingIP: 10.6.134.35
Content-Type: multipart/mixed; boundary="7YVOc.47b3wXM77.1ETQQP.4BKiFYZ"
Received: from UREXCHVS3.ur.com ([10.6.138.34]) by UREXCHSRV5.ur.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 25 Sep 2006 21:10:04 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
MIME-Version: 1.0
Subject: Caused by: java.io.IOException: The handle is invalid
Date: Mon, 25 Sep 2006 21:10:55 -0400
Message-ID: <0D6A3C278F4DC346B98DF4D2F1397E8115690CC1@UREXCHVS3.ur.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Caused by: java.io.IOException: The handle is invalid
Thread-Index: AcbhCJ4iHZRDmR4cSn6unqLg0TP7eA==
From: "Van Nguyen" <vnguyen@ur.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 26 Sep 2006 01:10:04.0886 (UTC) FILETIME=[7FECEF60:01C6E108]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--7YVOc.47b3wXM77.1ETQQP.4BKiFYZ
MIME-Version: 1.0
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6E108.9EA23861"

------_=_NextPart_001_01C6E108.9EA23861
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm getting an error while trying to build my index:

=20

Caused by: java.io.IOException: The handle is invalid

          at java.io.RandomAccessFile.close0(Native Method)

          at java.io.RandomAccessFile.close(RandomAccessFile.java:532)

          at
org.apache.lucene.store.FSIndexOutput.close(FSDirectory.java:507)

          at
org.apache.lucene.index.SegmentInfos.write(SegmentInfos.java:91)

          at
org.apache.lucene.index.IndexWriter$4.doBody(IndexWriter.java:726)

          at org.apache.lucene.store.Lock$With.run(Lock.java:99)

          at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:724)

          at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:686)

          at
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:
674)

          at
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:479)

          at
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:462)

=20

I only get this error when using the server version of jvm.dll with my
JBoss app server... but when I use the client version of jvm.dll, the
same index builds just fine. =20

=20

Has anyone ever experienced this situation?

=20

Van


------_=_NextPart_001_01C6E108.9EA23861
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Verdana;
	color:windowtext;
	font-weight:normal;
	font-style:normal;
	text-decoration:none none;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>I&#8217;m getting an error while trying to build my =
index:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>Caused by: java.io.IOException: The handle is =
invalid<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
java.io.RandomAccessFile.close0(Native =
Method)<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
java.io.RandomAccessFile.close(RandomAccessFile.java:532)<o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.store.FSIndexOutput.close(FSDirectory.java:507)<o:p></o=
:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.index.SegmentInfos.write(SegmentInfos.java:91)<o:p></o:=
p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.index.IndexWriter$4.doBody(IndexWriter.java:726)<o:p></=
o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.store.Lock$With.run(Lock.java:99)<o:p></o:p></span></fo=
nt></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:724)<o=
:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:686)<o=
:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:6=
74)<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:479)<o:p=
></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; at
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:462)<o:p=
></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>I only get this error when using the server version =
of
jvm.dll with my JBoss app server&#8230; but when I use the client =
version of
jvm.dll, the same index builds just fine.&nbsp; =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>Has anyone ever experienced this =
situation?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>Van<o:p></o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_001_01C6E108.9EA23861--
--7YVOc.47b3wXM77.1ETQQP.4BKiFYZ
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline



United Rentals
Consider it done.=E2=84=A2
800-UR-RENTS
unitedrentals.com


--7YVOc.47b3wXM77.1ETQQP.4BKiFYZ
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--7YVOc.47b3wXM77.1ETQQP.4BKiFYZ--

From java-user-return-23542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 01:32:26 2006
Return-Path: <java-user-return-23542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14532 invoked from network); 26 Sep 2006 01:32:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 01:32:26 -0000
Received: (qmail 58962 invoked by uid 500); 26 Sep 2006 01:32:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58934 invoked by uid 500); 26 Sep 2006 01:32:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58923 invoked by uid 99); 26 Sep 2006 01:32:20 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 18:32:20 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=DORONC@il.ibm.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from [195.212.29.154] ([195.212.29.154:58262] helo=mtagate5.de.ibm.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 01/21-04059-12388154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 18:32:20 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8Q1WEdj028980
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 01:32:14 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8Q1YASS3285160
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 03:34:10 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8Q1WDfH005638
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 03:32:13 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8Q1WD6a005635
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 03:32:13 +0200
In-Reply-To: <e129b0e70609251548w2852281ge83aa4f2511a01d5@mail.gmail.com>
Subject: Re: highlighting
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OFF9C5851C.5F7246FE-ON882571F5.000503F7-882571F5.00084DA4@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Mon, 25 Sep 2006 18:30:41 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 26/09/2006 04:34:10
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See below...

"Stelios Eliakis" <eliakis@gmail.com> wrote on 25/09/2006 15:48:10:
> You are right!
> 1)As far as Example 1 is concerned, I don't want these 2 fragments to
have
> the same score.Do you know how could I do this?

This behavior is not configurable, as far as I can understand, at least not
without changing the code of the QueryScorer (that you are using). I will
raise this question in the developers mailing list.

>
> 2)Furthemore, if a try to take fragment score:
>
> Scorer fragmentScore= highlighter.getFragmentScorer();
> float fragmentScoreFloat=fragmentScore.getFragmentScore();
>
> I take 0.0. why?
>

The QueryScorer maintains the score of the 'currently handled fragment', as
it process text fragments serially. Each time a new fragment starts, the
score maintained for it by the scorer is initialized to zero. So it really
depends how and when you call this API. If you invoke it after the call to
getBestFragments*() it would reflects the last processed fragment, so it
could be 0 or not. This makes sense with the javadoc:
  /** Called when the highlighter has no more tokens for
   * the current fragment - the scorer returns
   * the weighting it has derived for the most
   * recent fragment, typically based on the tokens
   * passed to getTokenScore().
   **/

> 3)Moreover,  for some docs lucene don't returns any fragment even if the
> query exist in the document. why? :)

I can't see how this happens... Do you have a sample - doc text and query -
that demonstrate this behavior?

>
> Thanks in advance
> Stelios Eliakis
>
>
> On 9/26/06, Doron Cohen <DORONC@il.ibm.com> wrote:
> >
> >
> > "Stelios Eliakis" <eliakis@gmail.com> wrote on 23/09/2006 02:39:27:
> > > I want to extract the Best Fragment (passage) from a text file.
> > > When I use the following code I take the first fragment that contains
my
> > > query. Nevertheless, the JavaDoc says that the function
getBestFragment
> > > returns the best fragment. Do I something wrong?
> >
> > That code seems fine to me.
> >
> > A possible explanation (which I think might be the case here but not
sure)
> > is that getBestFragment*() only accumulates fragments scores for
matches
> > of
> > "unique terms" in the fragment.
> >
> > Example 1: query = "xy", and the term "xy" appears once in an early
> > fragment but 3 times in a later fragment. In this case both fragments
> > would
> > be scored equally, and hence the early fragment would be selected
"best"
> > just because of how the sorting works.
> >
> > Example 2: query = "xy zw", and the early fragment contains "xy" but a
> > later fragment contains both "xy" and "zw". In this case the later
> > fragment
> > would be selected "best".
> >
> > Does this explain what you see in your program?
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> --
> Stelios Eliakis


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 01:51:17 2006
Return-Path: <java-user-return-23543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16798 invoked from network); 26 Sep 2006 01:51:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 01:51:17 -0000
Received: (qmail 68071 invoked by uid 500); 26 Sep 2006 01:51:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68044 invoked by uid 500); 26 Sep 2006 01:51:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68033 invoked by uid 99); 26 Sep 2006 01:51:10 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 18:51:10 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=VOlenin@cihi.ca; spf=permerror
X-ASF-Spam-Status: No, hits=2.9 required=5.0 tests=HTML_10_20,HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain cihi.ca from 205.207.78.3 cause and error)
Received: from [205.207.78.3] ([205.207.78.3:52938] helo=tormail01.cihi.ca)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C6/B1-04059-C8788154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 18:51:09 -0700
Received: from (tormail01.cihi.ca [10.64.1.106]) by webshield.cihi.ca with smtp
	 id 39c1_d882f8bc_4d01_11db_899c_003048245df9;
	Mon, 25 Sep 2006 21:53:50 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6E10E.02AE1FF3"
Subject: does anyone know of a 'smart' categorizing text pattern finder?
Date: Mon, 25 Sep 2006 21:49:31 -0400
Message-ID: <373399D6389D8C42B4EAD9BE2B6B5C5F070D1529@tormail01.cihi.ca>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: does anyone know of a 'smart' categorizing text pattern finder?
Thread-Index: AcbhDgKrBADaeFBERDqy/3WelfDXow==
From: "Vladimir Olenin" <VOlenin@cihi.ca>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6E10E.02AE1FF3
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hi,

I wonder if anyone here knows if there is a 'smart' text pattern finder, =
ideally written in Java. The library I'm looking for should be able to =
'guess' the category of the particular text on the page, most probably =
by finding similarities between the bulk of the pages and a set of =
templates.

Eg, many forums are powered by phpbb, which structures 99% of the pages =
(except for some title pages & user profile pages) in a very similar =
fashion (page is broken into blocks, each block is broken into further =
blocks, etc). By comparing many pages with each other (eg, from the same =
domain root: forum.springframework.org) it should be possible to detect =
common ('template decorations') and page specific (actual content, like =
'user name' and 'posting body') parts. After that it should further be =
possible, by comparing 'template decorations' parts to a set of =
templates, to 'guess' the nature of each of the 'page specific' block =
(eg, 'Vladimir Olenin' in the left side column will be marked as 'name', =
while whatever is adjucent to this column is the post body).

So, I wonder if anyone knows of a package capable of such things. =
Primary goal though is simplier: to be able to parse out just posters' =
names from message boards. Though sometimes the 'block category' can be =
derived from CSS class name of the tags around the text, it's very often =
not the case.

Might Nutch have similar functionality built into their crawler?

Thanks.

Vlad

------_=_NextPart_001_01C6E10E.02AE1FF3--

From java-user-return-23544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 04:51:39 2006
Return-Path: <java-user-return-23544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38789 invoked from network); 26 Sep 2006 04:51:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 04:51:39 -0000
Received: (qmail 73449 invoked by uid 500); 26 Sep 2006 04:51:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73426 invoked by uid 500); 26 Sep 2006 04:51:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73415 invoked by uid 99); 26 Sep 2006 04:51:32 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 25 Sep 2006 21:51:32 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=ykzhujiang@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=ykzhujiang@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.179 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.179] ([64.233.166.179:37658] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id FC/30-05106-2D1B8154 for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 21:51:31 -0700
Received: by py-out-1112.google.com with SMTP id w49so2528472pyg
        for <java-user@lucene.apache.org>; Mon, 25 Sep 2006 21:51:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=WgxJzOtOIps3J1KWsG2cEqs5jmOa+Ny+hMcqj78TnftIWdUzZtiIwbmQYPbdCaXlUyFSmh3sS8iylWheQw805GS9zEsAYNEbKl2YdZMToZAbgWtfwkuKJDzhYwbyW4hiroTWOsbUV5Qz2cwmQDJf8yMFQsE7+Ja01NsfhDrg1D4=
Received: by 10.35.95.1 with SMTP id x1mr651038pyl;
        Mon, 25 Sep 2006 21:51:28 -0700 (PDT)
Received: by 10.35.83.15 with HTTP; Mon, 25 Sep 2006 21:51:28 -0700 (PDT)
Message-ID: <23ee59170609252151i77222d51j5408ac807f64aa05@mail.gmail.com>
Date: Tue, 26 Sep 2006 12:51:28 +0800
From: "zhu jiang" <ykzhujiang@gmail.com>
To: java-user@lucene.apache.org
Subject: [Lucene2.0]How to not highlight keywords in some fields?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_45125_26604868.1159246288090"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_45125_26604868.1159246288090
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all,

    For example, if I have a document with two fields text and num like
this:
----------------
text:foo bar 1
num:1
----------------

When users query "foo", I changed the query to "text:foo AND num:1", both
"foo" and "1" in the text field will be highlighted. I don't wanna the word
"1" in text field to be highlighted. What should I do? Pls help me


-- 
Thanks,
Jiang

------=_Part_45125_26604868.1159246288090--

From java-user-return-23545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 07:13:06 2006
Return-Path: <java-user-return-23545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70711 invoked from network); 26 Sep 2006 07:13:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 07:13:05 -0000
Received: (qmail 19630 invoked by uid 500); 26 Sep 2006 07:12:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19614 invoked by uid 500); 26 Sep 2006 07:12:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19603 invoked by uid 99); 26 Sep 2006 07:12:58 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 00:12:58 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=info@altervisionmedia.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain altervisionmedia.com from 72.29.74.74 cause and error)
Received: from [72.29.74.74] ([72.29.74.74:57647] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C7/F1-05603-6F2D8154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 00:12:56 -0700
Received: from [81.25.37.246] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GS77s-00030k-JL
	for java-user@lucene.apache.org; Tue, 26 Sep 2006 03:13:09 -0400
Date: Tue, 26 Sep 2006 10:12:39 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <1647427384.20060926101239@altervisionmedia.com>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re[3]: how to enhance speed of sorted search
In-Reply-To: <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com> <834910708.20060925180034@altervisionmedia.com> <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Chris.

CH> 3) most likely, if you are seeing "slow" performance from sorted searches,
CH> the time spent "scoring" the results isn't the biggest contributor to how
CH> long thesearch takes -- it tends to be negligable for most queries.  A
CH> better question is: are you reusing the exact same IndexReader /
CH> IndexSearcher instance for every querey? ... if not, that right there is
CH> going to be your biggest problem, because it will prevent you from being
CH> able to reuse teh "FieldCache" needed when sorting results.

Sure I do reuse IndexSearcher :) and second query is always faster
than the first one...

I am thinking should be this faster

query = QueryParser("text", StandardAnalyzer()).parse("good boy")
IndexSearcher.search(
  new ConstantScoreQuery(new QueryFilter(query)),
  sortByIntField)

than usual search

IndexSearcher.search(
  query,
  sortByIntField)

Is there anyway I could use filter to get needed results from the
query?

--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 07:31:41 2006
Return-Path: <java-user-return-23546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85649 invoked from network); 26 Sep 2006 07:31:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 07:31:40 -0000
Received: (qmail 46085 invoked by uid 500); 26 Sep 2006 07:31:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45620 invoked by uid 500); 26 Sep 2006 07:31:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45609 invoked by uid 99); 26 Sep 2006 07:31:33 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 00:31:33 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=markharw00d@yahoo.co.uk; domainkeys=bad
Authentication-Results: idunn.apache.osuosl.org smtp.mail=markharw00d@yahoo.co.uk; spf=permerror
X-ASF-Spam-Status: No, hits=1.9 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.co.uk from 217.12.11.62 cause and error)
DomainKey-Status: bad
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [217.12.11.62] ([217.12.11.62:36297] helo=smtp008.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 44/50-06008-357D8154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 00:31:33 -0700
Received: (qmail 77652 invoked from network); 26 Sep 2006 07:31:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=VKoQ6cQW/RBMW9teSW7lKlFnfn3wGE+cPl1dTX77ogaXoFNYwDnhu33P8k3M6akmnkZogIGY1WB61nQC7ZYjjkq9vk73IKdjNrIUH++/LH/n8qiDLw2jgNN859IYgEDDwCAjGd7ENiFrTvG5ddNOu5YUwfV5voJVglMZtIBPmRI=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp008.mail.ukl.yahoo.com with SMTP; 26 Sep 2006 07:31:28 -0000
Message-ID: <4518D74D.1030505@yahoo.co.uk>
Date: Tue, 26 Sep 2006 08:31:25 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: [Lucene2.0]How to not highlight keywords in some fields?
References: <23ee59170609252151i77222d51j5408ac807f64aa05@mail.gmail.com>
In-Reply-To: <23ee59170609252151i77222d51j5408ac807f64aa05@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Pass a field name to the QueryScorer constructor.
See "testFieldSpecificHighlighting" method in the Junit test for the 
highlighter for an example.

Cheers
Mark


zhu jiang wrote:
> Hi all,
>
>    For example, if I have a document with two fields text and num like
> this:
> ----------------
> text:foo bar 1
> num:1
> ----------------
>
> When users query "foo", I changed the query to "text:foo AND num:1", both
> "foo" and "1" in the text field will be highlighted. I don't wanna the 
> word
> "1" in text field to be highlighted. What should I do? Pls help me
>
>



		
___________________________________________________________ 
The all-new Yahoo! Mail goes wherever you go - free your email address from your Internet provider. http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 08:33:19 2006
Return-Path: <java-user-return-23547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 990 invoked from network); 26 Sep 2006 08:33:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 08:33:18 -0000
Received: (qmail 3527 invoked by uid 500); 26 Sep 2006 08:33:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3008 invoked by uid 500); 26 Sep 2006 08:33:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2997 invoked by uid 99); 26 Sep 2006 08:33:12 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 01:33:12 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=ykzhujiang@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=ykzhujiang@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.177 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.177] ([64.233.166.177:12117] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id B1/40-06470-7C5E8154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 01:33:12 -0700
Received: by py-out-1112.google.com with SMTP id w49so2590951pyg
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 01:33:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=FzQmYEmPkxX31rJemwqOIG4EPz8oKzednT79Z7eE6RpPEk7OEzjbv1UKbmA5Ny+d6RTWeRf5NaofwaiqdYbgwu2L/wjbbl7MCgROQBL/P26pJ7TMw9MyW2Lmex6Ir+3r4Hmulng+478zMHwUq7W/yu5pL/0n5qHK7S1h4+zgcm4=
Received: by 10.35.76.9 with SMTP id d9mr339068pyl;
        Tue, 26 Sep 2006 01:33:08 -0700 (PDT)
Received: by 10.35.83.15 with HTTP; Tue, 26 Sep 2006 01:33:08 -0700 (PDT)
Message-ID: <23ee59170609260133s1697e3b7jb192b03e3762d9bb@mail.gmail.com>
Date: Tue, 26 Sep 2006 16:33:08 +0800
From: "zhu jiang" <ykzhujiang@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: [Lucene2.0]How to not highlight keywords in some fields?
In-Reply-To: <4518D74D.1030505@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1748_32400984.1159259588467"
References: <23ee59170609252151i77222d51j5408ac807f64aa05@mail.gmail.com>
	 <4518D74D.1030505@yahoo.co.uk>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1748_32400984.1159259588467
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thx a lot!

2006/9/26, markharw00d <markharw00d@yahoo.co.uk>:
>
> Pass a field name to the QueryScorer constructor.
> See "testFieldSpecificHighlighting" method in the Junit test for the
> highlighter for an example.
>
> Cheers
> Mark
>
>
> zhu jiang wrote:
> > Hi all,
> >
> >    For example, if I have a document with two fields text and num like
> > this:
> > ----------------
> > text:foo bar 1
> > num:1
> > ----------------
> >
> > When users query "foo", I changed the query to "text:foo AND num:1",
> both
> > "foo" and "1" in the text field will be highlighted. I don't wanna the
> > word
> > "1" in text field to be highlighted. What should I do? Pls help me
> >
> >
>
>
>
>
> ___________________________________________________________
> The all-new Yahoo! Mail goes wherever you go - free your email address
> from your Internet provider. http://uk.docs.yahoo.com/nowyoucan.html
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Thanks,
Jiang

------=_Part_1748_32400984.1159259588467--

From java-user-return-23548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 09:07:35 2006
Return-Path: <java-user-return-23548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12406 invoked from network); 26 Sep 2006 09:07:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 09:07:34 -0000
Received: (qmail 40290 invoked by uid 500); 26 Sep 2006 09:07:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40274 invoked by uid 500); 26 Sep 2006 09:07:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40263 invoked by uid 99); 26 Sep 2006 09:07:28 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 02:07:28 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=frank.kunemann@innosystec.de; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain innosystec.de from 212.227.126.186 cause and error)
Received: from [212.227.126.186] ([212.227.126.186:57862] helo=moutng.kundenserver.de)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id EB/00-06744-ECDE8154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 02:07:27 -0700
Received: from [85.220.140.42] (helo=sl-ox.innosystec.site)
	by mrelayeu.kundenserver.de (node=mrelayeu6) with ESMTP (Nemesis),
	id 0ML29c-1GS8uR1VBQ-0008Qc; Tue, 26 Sep 2006 11:07:23 +0200
Received: by sl-ox.innosystec.site (Postfix, from userid 70)
	id 04B6A1822112; Tue, 26 Sep 2006 11:07:27 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.1.4 (2006-07-26) on 
	sl-ox.innosystec.site
X-Spam-Level: 
X-Spam-Status: No, score=-1.8 required=7.5 tests=ALL_TRUSTED,AWL,BAYES_50 
	autolearn=no version=3.1.4
Received: from awkunemann (aw-kunemann.innosystec.site [192.168.3.126])
	by sl-ox.innosystec.site (Postfix) with ESMTP id 3C7A01822104
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:07:24 +0200 (CEST)
From: "Frank Kunemann" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
Subject: How to tell if IndexSearcher/IndexReader was closed?
Date: Tue, 26 Sep 2006 11:07:20 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <4518D74D.1030505@yahoo.co.uk>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbhPt2tyRfvmZC0TKe3etrO+UEvhAACztgg
Message-Id: <20060926090724.3C7A01822104@sl-ox.innosystec.site>
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:83fe6509a69fdd0b3dc2966fb66dcbe7
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

after I delete some entries from the index, I close the IndexSearcher to
ensure that the changes are done.
But after this I couldn't figure out a way to tell if the searcher is closed
or not.
Any ideas?


Regards
Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 10:51:21 2006
Return-Path: <java-user-return-23549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39745 invoked from network); 26 Sep 2006 10:51:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 10:51:20 -0000
Received: (qmail 82979 invoked by uid 500); 26 Sep 2006 10:51:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82020 invoked by uid 500); 26 Sep 2006 10:51:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82009 invoked by uid 99); 26 Sep 2006 10:51:10 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 03:51:10 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=simon.willnauer@googlemail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=simon.willnauer@googlemail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain googlemail.com designates 66.249.92.168 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.92.168] ([66.249.92.168:56423] helo=ug-out-1314.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 6F/20-07528-C1609154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 03:51:09 -0700
Received: by ug-out-1314.google.com with SMTP id k40so599088ugc
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 03:51:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Xg+/c05pq4TjiSSpym1rfWzbtFG0+iLc9HZScOwZWJf8k4+G9qzJR5wgilkawF2EMDd5tNaXE7g/ufhvDumBqjAjN5ioEAHq0TyMEzrNu/Egb0O2g6517Z0TFzjxC6p3SvInq9whoukbwSaWkZ8S9f031gD8SLzndJBxoQCNxww=
Received: by 10.66.244.10 with SMTP id r10mr546119ugh;
        Tue, 26 Sep 2006 03:51:05 -0700 (PDT)
Received: by 10.67.22.17 with HTTP; Tue, 26 Sep 2006 03:51:05 -0700 (PDT)
Message-ID: <f18c9dde0609260351p3d43de5fo557bb74902fb4ba9@mail.gmail.com>
Date: Tue, 26 Sep 2006 12:51:05 +0200
From: "Simon Willnauer" <simon.willnauer@googlemail.com>
Reply-To: simon.willnauer@gmail.com
To: java-user@lucene.apache.org
Subject: Re: How to tell if IndexSearcher/IndexReader was closed?
In-Reply-To: <20060926090724.3C7A01822104@sl-ox.innosystec.site>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <4518D74D.1030505@yahoo.co.uk>
	 <20060926090724.3C7A01822104@sl-ox.innosystec.site>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I guess there are many possibilities to implement some control
structure to track the references to your searcher / reader. As it is
best practice to have one single searcher open you can track the
reference to the searcher while one reference is hold by the class you
request your searcher from. If you close your searcher you decrement
the reference which is hold by the, I will call it "controller", class
and create a new searcher. If no reference to the searcher is
remaining you close the searcher and it will get garbage collected.

If you use this kind of pattern you might have more than one searcher
open for a short time. but if the last "search client" has decremented
the reference the searcher will be closed. You don't have to care
whether the searcher is closed or not, you won't get a reference to a
closed searcher instance.

Solr and GData Server uses this kind of reference tracking for this purpose.

have a look at http://svn.apache.org/viewvc/lucene/java/trunk/contrib/gdata-server/src/java/org/apache/lucene/gdata/utils/ReferenceCounter.java?view=markup


best regards Simon
On 9/26/06, Frank Kunemann <frank.kunemann@innosystec.de> wrote:
> Hi all,
>
> after I delete some entries from the index, I close the IndexSearcher to
> ensure that the changes are done.
> But after this I couldn't figure out a way to tell if the searcher is closed
> or not.
> Any ideas?
>
>
> Regards
> Frank
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 12:34:17 2006
Return-Path: <java-user-return-23550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94529 invoked from network); 26 Sep 2006 12:34:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 12:34:16 -0000
Received: (qmail 29595 invoked by uid 500); 26 Sep 2006 12:34:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29563 invoked by uid 500); 26 Sep 2006 12:34:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29552 invoked by uid 99); 26 Sep 2006 12:34:09 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 05:34:09 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bhavinp@rediff.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain rediff.co.in from 203.199.37.133 cause and error)
Received: from [203.199.37.133] ([203.199.37.133:40291] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 57/00-10839-B3E19154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 05:34:06 -0700
Received: (qmail 18924 invoked from network); 26 Sep 2006 12:31:05 -0000
Received: from unknown (HELO bhavin) (172.16.3.11)
  by mailserver with SMTP; 26 Sep 2006 12:31:05 -0000
Message-ID: <00c201c6e169$6e459f30$0b0310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Subject: How to remove duplicate records from result
Date: Tue, 26 Sep 2006 18:13:56 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00BF_01C6E197.87C258D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00BF_01C6E197.87C258D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I searched the index and i found say 1000 records but out of that 1000 =
records i want to filter duplicate records based on value of one field.

is there any way except looping through whole Hit object ?
Because it wont work when number of hit is too large...

Thanks.
Bhavin pandya
------=_NextPart_000_00BF_01C6E197.87C258D0--


From java-user-return-23551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 12:40:32 2006
Return-Path: <java-user-return-23551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96590 invoked from network); 26 Sep 2006 12:40:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 12:40:31 -0000
Received: (qmail 45376 invoked by uid 500); 26 Sep 2006 12:40:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45350 invoked by uid 500); 26 Sep 2006 12:40:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45339 invoked by uid 99); 26 Sep 2006 12:40:24 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 05:40:24 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bhavinp@rediff.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain rediff.co.in from 203.199.37.133 cause and error)
Received: from [203.199.37.133] ([203.199.37.133:40355] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id F1/40-10839-4BF19154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 05:40:21 -0700
Received: (qmail 20493 invoked from network); 26 Sep 2006 12:37:23 -0000
Received: from unknown (HELO bhavin) (172.16.3.11)
  by mailserver with SMTP; 26 Sep 2006 12:37:23 -0000
Message-ID: <00cc01c6e16a$4fbedfd0$0b0310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
Subject: spell checker with lucene
Date: Tue, 26 Sep 2006 18:20:14 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00C9_01C6E198.695A6C10"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00C9_01C6E198.695A6C10
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
Do anybody have idea for spell checker in java.
I want to use with lucene...but which must work well for phrases also...
-Bhavin pandya

------=_NextPart_000_00C9_01C6E198.695A6C10--


From java-user-return-23552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 12:47:28 2006
Return-Path: <java-user-return-23552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98204 invoked from network); 26 Sep 2006 12:47:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 12:47:28 -0000
Received: (qmail 53633 invoked by uid 500); 26 Sep 2006 12:47:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53602 invoked by uid 500); 26 Sep 2006 12:47:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53591 invoked by uid 99); 26 Sep 2006 12:47:21 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 05:47:21 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=heritrix.lucene@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=heritrix.lucene@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.176 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.176] ([64.233.166.176:11871] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 6A/70-10839-65129154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 05:47:20 -0700
Received: by py-out-1112.google.com with SMTP id w49so2664832pyg
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 05:47:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JcT3S/ZvKsPkOM/GA1jVTrvPQ3fx3vuko2qdkCbRIk+7/Bs/wVCVan6R3HD0W8AyWdbX5y3uuHQXcqqHkPKuKuYPT9qWGz1zEj8c6yblVmLsiFr/tHcmnHee5/Qfz7klX2oCMftTDqFhE37ycWZes6mUDnlUl2Gf0tvhYIodPhE=
Received: by 10.35.59.5 with SMTP id m5mr734519pyk;
        Tue, 26 Sep 2006 05:47:16 -0700 (PDT)
Received: by 10.35.66.7 with HTTP; Tue, 26 Sep 2006 05:47:15 -0700 (PDT)
Message-ID: <a36516400609260547n78124d6ckc8edb9f65ed366ea@mail.gmail.com>
Date: Tue, 26 Sep 2006 18:17:15 +0530
From: heritrix.lucene <heritrix.lucene@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: searching for the part of a term.
In-Reply-To: <a36516400609230212r5aeb7050y3e51af7e342b33fa@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5495_33180473.1159274835914"
References: <a36516400609230212r5aeb7050y3e51af7e342b33fa@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5495_33180473.1159274835914
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
While i was searching forum for my problem for searching a substring, i got
few very good links.

http://www.gossamer-threads.com/lists/lucene/java-user/39753?search_string=Bitset%20filter;#39753
http://www.gossamer-threads.com/lists/lucene/java-user/7813?search_string=substring;#7813
http://www.gossamer-threads.com/lists/lucene/java-user/5931?search_string=substring;#5931

In first, WildcardTermEnum is used.
>>I tried with this but this takes a lot of time in searching.

The other solution i found was to create a tokenstream which splits a token
into multiple tokens, and then index those token. like : google into google,
oogle, ogle....
And then while searching make a prefix query , then search.
>>But here it seems to create a lot of tokens from one token resulting index
size multiple times bigger then if we index a single token.

Since the overhead in first is the speed of the system, i think adopting
second method will be better.

Is there any other solution for this problem?? Am i going in right
direction??

It'll be great to see your response...

Regards,









On 9/23/06, heritrix. lucene <heritrix.lucene@gmail.com> wrote:
>
> Hi All,
>
> How can i make my search so that if i am looking for the term "counting"
> the documents containing "accounting" must also come up.
>
> Similarly if i am looking for term "workload", document s containing work
> also come up as a search result.
>
> Wildcard query seems to work in the first case, but if the index size is
> very big, it throws TooManyClausesException.
>
> Is there a way to resolve this issue, apart from indexing n-grams of each
> term.
>
>
> Regards,
>
>
>

------=_Part_5495_33180473.1159274835914--

From java-user-return-23553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 13:31:43 2006
Return-Path: <java-user-return-23553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18151 invoked from network); 26 Sep 2006 13:31:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 13:31:42 -0000
Received: (qmail 16980 invoked by uid 500); 26 Sep 2006 13:30:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16955 invoked by uid 500); 26 Sep 2006 13:30:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16934 invoked by uid 99); 26 Sep 2006 13:30:27 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 06:30:27 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.242 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.242] ([206.190.38.242:40405] helo=web50309.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id D9/30-11437-27B29154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 06:30:26 -0700
Received: (qmail 53591 invoked by uid 60001); 26 Sep 2006 13:30:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=TwvfHb4ErNZKokTMU0ijB0MtJUyiZwIO9J0poQMjLIcHe8/Y04Xq/uEtkeIg1dO8XcM0spDODb+v53MdjOx+btjn/VJ74c93p5aJ6tncOQsTABmPzUZXnxriCsJn90PqxeaxpwpTXB8K9TKRNQKz7yDrfnJgCVZbIeMb0or0anU=  ;
Message-ID: <20060926133023.53589.qmail@web50309.mail.yahoo.com>
Received: from [72.229.167.25] by web50309.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 06:30:23 PDT
Date: Tue, 26 Sep 2006 06:30:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: spell checker with lucene
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene-based one is described on the Wiki.  Another one is the one from Lin=
gPipe.  It may not be free, depending on what you do with it.=0A=0AOtis=0A=
=0A----- Original Message ----=0AFrom: Bhavin Pandya <bhavinp@rediff.co.in>=
=0ATo: java-user@lucene.apache.org=0ASent: Tuesday, September 26, 2006 8:50=
:14 AM=0ASubject: spell checker with lucene=0A=0AHi,=0ADo anybody have idea=
 for spell checker in java.=0AI want to use with lucene...but which must wo=
rk well for phrases also...=0A-Bhavin pandya=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 13:32:06 2006
Return-Path: <java-user-return-23554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18639 invoked from network); 26 Sep 2006 13:32:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 13:32:06 -0000
Received: (qmail 23840 invoked by uid 500); 26 Sep 2006 13:31:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23820 invoked by uid 500); 26 Sep 2006 13:31:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23809 invoked by uid 99); 26 Sep 2006 13:31:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 06:31:55 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.56 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.56] ([206.190.38.56:30040] helo=web50302.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 4B/40-11437-ACB29154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 06:31:54 -0700
Received: (qmail 82843 invoked by uid 60001); 26 Sep 2006 13:31:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=QJTJ7f3kT6CvelRnpfoYkBmMO87+uGa1nJ0wnlv9/jrotDmCohiSOvkI8jhbYRlLhm73S0e46aZDUoTLHyPfjl7bXBSRS/LYQbYmVvf6jlDVjeDp70rVAuQGYxQaaw/iEM7A6vDT/9T4m8GaZTy6HCKTXSGG+RFBLLvMgEoTW9I=  ;
Message-ID: <20060926133152.82841.qmail@web50302.mail.yahoo.com>
Received: from [72.229.167.25] by web50302.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 06:31:52 PDT
Date: Tue, 26 Sep 2006 06:31:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to remove duplicate records from result
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You could do it with a custom HitCollector, no?=0A=0AOtis=0A=0A----- Origin=
al Message ----=0AFrom: Bhavin Pandya <bhavinp@rediff.co.in>=0ATo: java-use=
r@lucene.apache.org=0ASent: Tuesday, September 26, 2006 8:43:56 AM=0ASubjec=
t: How to remove duplicate records from result=0A=0AHi,=0A=0AI searched the=
 index and i found say 1000 records but out of that 1000 records i want to =
filter duplicate records based on value of one field.=0A=0Ais there any way=
 except looping through whole Hit object ?=0ABecause it wont work when numb=
er of hit is too large...=0A=0AThanks.=0ABhavin pandya=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 13:36:29 2006
Return-Path: <java-user-return-23555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20652 invoked from network); 26 Sep 2006 13:36:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 13:36:28 -0000
Received: (qmail 35222 invoked by uid 500); 26 Sep 2006 13:36:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35195 invoked by uid 500); 26 Sep 2006 13:36:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35184 invoked by uid 99); 26 Sep 2006 13:36:19 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 06:36:19 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.59 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.59] ([206.190.38.59:25921] helo=web50305.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A3/70-11437-1DC29154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 06:36:18 -0700
Received: (qmail 11279 invoked by uid 60001); 26 Sep 2006 13:36:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=aORC5PMtXe8hPAOASQuetrHvw63Nzs7PfysHzIZSPB391UB/xGA/Mc37s5iko8sB6xTg8NR6AxgVWiG/7+U/Tl8nLpfwsbYXy2oGuaiUIsgznDJI+Xx0iBbdEGB7rUlfoZXbLfUTMNRAv+N3cCYoMJkWPftrUqtsr3NvPLiKGDY=  ;
Message-ID: <20060926133614.11277.qmail@web50305.mail.yahoo.com>
Received: from [72.229.167.25] by web50305.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 06:36:14 PDT
Date: Tue, 26 Sep 2006 06:36:14 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: does anyone know of a 'smart' categorizing text pattern finder?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Look at LingPipe from Alias-i.com.  Look at Named Entity extraction and its=
 classifiers.=0A=0AOtis=0A=0A=0A----- Original Message ----=0AFrom: Vladimi=
r Olenin <VOlenin@cihi.ca>=0ATo: java-user@lucene.apache.org=0ASent: Monday=
, September 25, 2006 9:49:31 PM=0ASubject: does anyone know of a 'smart' ca=
tegorizing text pattern finder?=0A=0A=0AHi,=0A=0AI wonder if anyone here kn=
ows if there is a 'smart' text pattern finder, ideally written in Java. The=
 library I'm looking for should be able to 'guess' the category of the part=
icular text on the page, most probably by finding similarities between the =
bulk of the pages and a set of templates.=0A=0AEg, many forums are powered =
by phpbb, which structures 99% of the pages (except for some title pages & =
user profile pages) in a very similar fashion (page is broken into blocks, =
each block is broken into further blocks, etc). By comparing many pages wit=
h each other (eg, from the same domain root: forum.springframework.org) it =
should be possible to detect common ('template decorations') and page speci=
fic (actual content, like 'user name' and 'posting body') parts. After that=
 it should further be possible, by comparing 'template decorations' parts t=
o a set of templates, to 'guess' the nature of each of the 'page specific' =
block (eg, 'Vladimir Olenin' in the left side column will be marked as 'nam=
e', while whatever is adjucent to this column is the post body).=0A=0ASo, I=
 wonder if anyone knows of a package capable of such things. Primary goal t=
hough is simplier: to be able to parse out just posters' names from message=
 boards. Though sometimes the 'block category' can be derived from CSS clas=
s name of the tags around the text, it's very often not the case.=0A=0AMigh=
t Nutch have similar functionality built into their crawler?=0A=0AThanks.=
=0A=0AVlad=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 13:38:02 2006
Return-Path: <java-user-return-23556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21077 invoked from network); 26 Sep 2006 13:38:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 13:38:02 -0000
Received: (qmail 38886 invoked by uid 500); 26 Sep 2006 13:37:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38766 invoked by uid 500); 26 Sep 2006 13:37:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38754 invoked by uid 99); 26 Sep 2006 13:37:56 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 06:37:56 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lucene@mikemccandless.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain mikemccandless.com from 66.111.4.25 cause and error)
Received: from [66.111.4.25] ([66.111.4.25:48243] helo=out1.smtp.messagingengine.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 31/80-11437-33D29154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 06:37:55 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id 26090DA9A4A
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 09:37:52 -0400 (EDT)
Received: from heartbeat2.internal ([10.202.2.161])
  by frontend3.internal (MEProxy); Tue, 26 Sep 2006 09:37:55 -0400
X-Sasl-enc: Fdj8UE8FVmhJoQ2USJZ7+2xmJ3c5ugid4gSfLj9TeULE 1159277874
Received: from [10.17.4.90] (pool-71-162-112-30.bstnma.fios.verizon.net [71.162.112.30])
	by mail.messagingengine.com (Postfix) with ESMTP id D489F4465
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 09:37:54 -0400 (EDT)
Message-ID: <45192D26.8060605@mikemccandless.com>
Date: Tue, 26 Sep 2006 09:37:42 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Caused by: java.io.IOException: The handle is invalid
References: <0D6A3C278F4DC346B98DF4D2F1397E8115690CC1@UREXCHVS3.ur.com>
In-Reply-To: <0D6A3C278F4DC346B98DF4D2F1397E8115690CC1@UREXCHVS3.ur.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Van Nguyen wrote:

> I only get this error when using the server version of jvm.dll with my 
> JBoss app server but when I use the client version of jvm.dll, the same 
> index builds just fine. 

This is an odd error.  Which OS are you running on?  And, what kind of 
filesystem is the index directory on?

It's surprising that client vs server JRE causes this.

Is the exception easily reproduced or is it intermittent?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 13:50:14 2006
Return-Path: <java-user-return-23557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24146 invoked from network); 26 Sep 2006 13:50:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 13:50:14 -0000
Received: (qmail 63732 invoked by uid 500); 26 Sep 2006 13:50:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63704 invoked by uid 500); 26 Sep 2006 13:50:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63693 invoked by uid 99); 26 Sep 2006 13:50:08 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 06:50:08 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.57 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.57] ([206.190.38.57:22917] helo=web50303.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 37/E0-11437-E0039154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 06:50:07 -0700
Received: (qmail 58863 invoked by uid 60001); 26 Sep 2006 13:50:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=k5FyfFJerjBAdRFKwhKC+VMkRgtXNsTG+kNhgfLRz9WTjm2+ah7LHCO3tOWo+KCrY7x43NReYeoPf1pcwYA7dYGBrz9Xd9yDwlTM9DMyoeldcCraWOPuMUxVEmib6oSGK5fj0k/UW9ietb3m9RSCuXZlmrELI4hnV6MF70oZmyI=  ;
Message-ID: <20060926135003.58861.qmail@web50303.mail.yahoo.com>
Received: from [72.229.167.25] by web50303.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 06:50:03 PDT
Date: Tue, 26 Sep 2006 06:50:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: searching in social networks
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Sharad,=0A=0AI've done this on Simpy.com.  You can see it in action if y=
ou create some Watchlists and Watchlists Filters in Simpy.=0AThe neighbourh=
ood is pulled from the DB, and the search uses a MultiSearcher to search th=
at neighbourhood.=0A=0AOtis=0A=0A----- Original Message ----=0AFrom: Sharad=
 Agarwal <sharadbdc@aol.com>=0ATo: java-user@lucene.apache.org=0ASent: Mond=
ay, September 25, 2006 5:50:03 AM=0ASubject: searching in social networks=
=0A=0AI am using lucene for simple flat searches. Now I have a requirement =
to =0Ado searches based on the object's connectivity with other objects. Th=
e =0Away the searches are done in "social networks". Lets say I want to =0A=
search for a query in only those objects which are within 3 degrees of =0Ac=
onnectivity to a given object.=0A=0AHas any body tried this kind of feature=
 with lucene? Any pointers will =0Abe appreciated.=0A=0Athanks=0Asharad=0A=
=0A=0A=0A------------------------------------------------------------------=
---=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor=
 additional commands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 15:58:00 2006
Return-Path: <java-user-return-23558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71085 invoked from network); 26 Sep 2006 15:57:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 15:57:59 -0000
Received: (qmail 2034 invoked by uid 500); 26 Sep 2006 15:57:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2004 invoked by uid 500); 26 Sep 2006 15:57:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1993 invoked by uid 99); 26 Sep 2006 15:57:52 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 08:57:52 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=meils2003@yahoo.fr; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=meils2003@yahoo.fr; spf=permerror
X-ASF-Spam-Status: No, hits=3.7 required=5.0 tests=HTML_MESSAGE,HTML_OBFUSCATE_05_10,INTERRUPTUS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.fr from 217.146.176.12 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [217.146.176.12] ([217.146.176.12:46688] helo=web26301.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id B3/30-13661-AFD49154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 08:57:48 -0700
Received: (qmail 83651 invoked by uid 60001); 26 Sep 2006 15:57:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.fr;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=g9ykWtsRi9WYgp3cIrlpJ1TlLYZlfgeMCfsHTn0gdiEb/oEpfIqphz16YMIQO+XXIddV7AKbF5/vARcwqkZUGFWTfVYsbtIZh56NDTDrM2pXzJtzgnIKQJ37JEj3ilVQZtfIchlKM/h9sKRIXAx8/FV4IUiTQ/+958Km7kupdtk=  ;
Message-ID: <20060926155743.83649.qmail@web26301.mail.ukl.yahoo.com>
Received: from [194.206.138.56] by web26301.mail.ukl.yahoo.com via HTTP; Tue, 26 Sep 2006 17:57:43 CEST
Date: Tue, 26 Sep 2006 17:57:43 +0200 (CEST)
From: Virlouvet Olivier <meils2003@yahoo.fr>
Subject: Ordered positions
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-507711080-1159286263=:83152"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-507711080-1159286263=:83152
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi 
   
     In javadoc IndexReader.termPositions() maps to the definition :
     Term    =>    <docNum, freq, <pos1, pos2, ... posfreq-1> >* 
       where returned enumeration is ordered by doc number.   
   
     Are positions ordered for each doc or not ?
   
  Thanks
  Olivier

 		
---------------------------------
 Yahoo! Mail rinvente le mail ! Dcouvrez le nouveau Yahoo! Mail et son interface rvolutionnaire.
--0-507711080-1159286263=:83152--

From java-user-return-23559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 16:31:45 2006
Return-Path: <java-user-return-23559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78112 invoked from network); 26 Sep 2006 16:31:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 16:31:44 -0000
Received: (qmail 52776 invoked by uid 500); 26 Sep 2006 16:31:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52746 invoked by uid 500); 26 Sep 2006 16:31:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52735 invoked by uid 99); 26 Sep 2006 16:31:38 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 09:31:38 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=vnguyen@ur.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain ur.com designates 63.241.148.20 as permitted sender)
Received: from [63.241.148.20] ([63.241.148.20:23005] helo=ironport.ur.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 96/21-13661-8E559154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 09:31:37 -0700
Received: from unknown (HELO UREXCHSRV5.ur.com) ([10.6.134.35])
  by ironport.ur.com with ESMTP; 26 Sep 2006 12:31:29 -0400
X-OriginatingIP: 10.6.134.35
Content-Type: multipart/mixed; boundary="7Z44d.47btMf/xG.ZT21Z.Dk3DPUB"
Received: from UREXCHVS3.ur.com ([10.6.138.34]) by UREXCHSRV5.ur.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 26 Sep 2006 12:30:35 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
MIME-Version: 1.0
Subject: RE: Caused by: java.io.IOException: The handle is invalid
Date: Tue, 26 Sep 2006 12:31:26 -0400
Message-ID: <0D6A3C278F4DC346B98DF4D2F1397E8115690FF6@UREXCHVS3.ur.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Caused by: java.io.IOException: The handle is invalid
Thread-Index: AcbhcQjgCO3sG/1QRASTdplXslUdJAAF0GQg
From: "Van Nguyen" <vnguyen@ur.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 26 Sep 2006 16:30:35.0901 (UTC) FILETIME=[182D02D0:01C6E189]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--7Z44d.47btMf/xG.ZT21Z.Dk3DPUB
MIME-Version: 1.0
Content-class: urn:content-classes:message
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm running this on Windows 2003 server (NTFS).  The Java VM version is
1.5.0_06.  This exception is not consistent, but it is not intermittent
either.  It does not throw it at any particular point while rebuilding
the index, but it will throw this exception at some point (it could be
1/3 way through... or it could be 95% done). =20

At first... I thought I might have a bad sector somewhere on my hard
drive, so I partitioned a hard drive (known to be good) to be only
500mb... knowing this particular index is only 250mb.  Using the server
version of the jvm.dll will cause this error somewhere during program.
Using the client version, it builds w/o any errors.

Van

-----Original Message-----
From: Michael McCandless [mailto:lucene@mikemccandless.com]=20
Sent: Tuesday, September 26, 2006 6:38 AM
To: java-user@lucene.apache.org
Subject: Re: Caused by: java.io.IOException: The handle is invalid

Van Nguyen wrote:

> I only get this error when using the server version of jvm.dll with my

> JBoss app server... but when I use the client version of jvm.dll, the
same=20
> index builds just fine.=20

This is an odd error.  Which OS are you running on?  And, what kind of=20
filesystem is the index directory on?

It's surprising that client vs server JRE causes this.

Is the exception easily reproduced or is it intermittent?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--7Z44d.47btMf/xG.ZT21Z.Dk3DPUB
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline



United Rentals
Consider it done.=E2=84=A2
800-UR-RENTS
unitedrentals.com


--7Z44d.47btMf/xG.ZT21Z.Dk3DPUB
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--7Z44d.47btMf/xG.ZT21Z.Dk3DPUB--

From java-user-return-23560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 16:36:13 2006
Return-Path: <java-user-return-23560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78940 invoked from network); 26 Sep 2006 16:36:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 16:36:12 -0000
Received: (qmail 63078 invoked by uid 500); 26 Sep 2006 16:36:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63055 invoked by uid 500); 26 Sep 2006 16:36:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63044 invoked by uid 99); 26 Sep 2006 16:36:04 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 09:36:04 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=pablolynch@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=pablolynch@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 68.142.200.106 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [68.142.200.106] ([68.142.200.106:27009] helo=web30403.mail.mud.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 1A/41-13661-2F659154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 09:36:03 -0700
Received: (qmail 14204 invoked by uid 60001); 26 Sep 2006 16:35:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yEYslNPfg1vheVa+GrvNWYl1HJN2tkpS7wn0xb2Mv2NN4Y/ve9WbUp7JbuJbwMt98RNQcycdQFJ+QvdxULyggVxzWaMKlmIcq7NmGcIH4YuJiOOdQPggheATKByd4IAvf352gjEPKEqDqvZg5qriWEBZ1mnsZAsLtBoHvX6gYl0=  ;
Message-ID: <20060926163559.14202.qmail@web30403.mail.mud.yahoo.com>
Received: from [83.245.56.18] by web30403.mail.mud.yahoo.com via HTTP; Tue, 26 Sep 2006 09:35:59 PDT
Date: Tue, 26 Sep 2006 09:35:59 -0700 (PDT)
From: Paul Lynch <pablolynch@yahoo.com>
Subject: Re: Advice on Custom Sorting
To: java-user@lucene.apache.org
In-Reply-To: <359a92830609251401y403e2f20gdbb2e21946ad7fd0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks again Erick for taking the time.

I agree that the CachingWrapperFilter as described
under "using a custom filter" in LIA is probably my
best bet. I wanted to check if anything had been added
in Lucene releases since the book was written I wasn't
aware of.

Cheers again.

--- Erick Erickson <erickerickson@gmail.com> wrote:

> You were probably right. See below....
> 
> On 9/25/06, Paul Lynch <pablolynch@yahoo.com> wrote:
> >
> > Thanks for the quick response Erick.
> >
> > "index the documents in your preferred list with a
> > field and index your non-preferred docs with a
> field
> > subid?"
> >
> > I considered this approach and dismissed it due to
> the
> > actual list of preferred ids changing so
> frequently
> > (every 10 mins...ish) but maybe I was a little
> hasty
> > in doing so. I will investigate the overhead in
> > updating all docs in the index each time my list
> > refreshes. I had assumed it was too prohibitive
> but I
> > know what they say about assumptions :)
> 
> 
> Lots of overhead. There's really no capability of
> updating a doc in place.
> This has been on several people's wish-list. You'd
> have to delete every doc
> that you wanted to change and re-add it. I don't
> know how many documents
> this would be, if just a few it'd be OK, but if
> many.... I was assuming (and
> I *do* know what they say about assumptions <G>)
> that you were just adding
> to your preferred doc list every few minutes, not
> changing existing
> documents....
> 
> It really does sound like you want a filter. I was
> pleasantly surprised by
> how very quickly a filters are built. You could use
> a CachingWrapperFilter
> to have the filter kept around automatically (I
> guess you'd only have one
> per index update) to minimize your overhead for
> building filters, and
> perhaps warm up your cache by firing a canned query
> at your searcher when
> you re-open your IndexReader after index update. I
> think you'd have to do
> the two-query thing in this case. If you wanted to
> really get exotic, you
> could build your filter when you created your index
> and store it in a *very
> special document* and just read it in the first time
> you needed it. Although
> I've never used it, I guess you can store binary
> data. From the Javadoc
> 
>
*Field<file:///C:/lucene-2.0.0/docs/api/org/apache/lucene/document/Field.html#Field%28java.lang.String,%20byte%5B%5D,%20org.apache.lucene.document.Field.Store%29>
> *(String
>
<http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html>
> name,
> byte[] value,
>
Field.Store<file:///C:/lucene-2.0.0/docs/api/org/apache/lucene/document/Field.Store.html>
>  store)
>           Create a stored field with binary value.
> 
> The only thing here is that the filters (probably
> wrapped in a
> ConstantScoreQuery) lose relevance, but since you're
> sorting "one of several
> ways", that probably doesn't matter.
> 
> Best
> Erick
> 
> 
> 
> Should I be able to make this workable, the beauty
> of
> > this solution would be that I would actually only
> need
> > to query once. If I had a field which indicates
> > whether it is a preferred doc or not, "all" I will
> > have to do is sort across the two fields.
> >
> > Thanks again Erick. Any other suggestions are most
> > welcome.
> >
> > Regards,
> > Paul
> >
> > --- Erick Erickson <erickerickson@gmail.com>
> wrote:
> >
> > > OK, a really "off the top of my head" response,
> but
> > > what the heck....
> > >
> > > I'm not sure you need to worry about filters.
> Would
> > > it work for you to index
> > > the documents in your preferred list with a 
> field
> > > (called, at the limit of
> > > my creativity, preferredsubid <G>) and index
> your
> > > non-preferred docs with a
> > > field subid? You'd still have to fire two
> queries,
> > > one on subid (to pick up
> > > the ones in your non-preferred list) and one on
> > > preferredsubid.
> > >
> > > Since there's no requirement that all docs have
> the
> > > same fields, your
> > > preferred docs could have ONLY the
> preferredsubid
> > > field and your
> > > non-preferred docs ONLY the subid field. That
> way
> > > you wouldn't have to worry
> > > about picking the docs up twice.
> > >
> > > Merging should be simple then, just iterate over
> > > however many hits you want
> > > in your preferredHits object, then tack on
> however
> > > many you want from your
> > > nonPreferredHits object. All the code for the
> two
> > > queries would be
> > > identical, the only difference being whether you
> > > specify "subid" or
> > > "preferredsubid"......
> > >
> > > I can imagine several variations on this
> scenario,
> > > but they depend on your
> > > problem space.
> > >
> > > Whether this is the "best" or not, I leave as an
> > > exercise for the reader.
> > >
> > > Best
> > > Erick
> > >
> > > On 9/25/06, Paul Lynch <pablolynch@yahoo.com>
> wrote:
> > > >
> > > > Hi All,
> > > >
> > > > I have an index containing documents which all
> > > have a
> > > > field called SubId which holds the ID of the
> > > > Subscriber that submitted the data. This field
> is
> > > > STORED and UN_TOKENIZED
> > > >
> > > > When I am querying the index, the user can
> cloose
> > > a
> > > > number of different ways to sort the Hits. The
> > > problem
> > > > is that I have a list of SubIds that should
> appear
> > > at
> > > > the top of the results list regardless of how
> the
> > > > index is sorted. In other words, lets suppose
> the
> > > Hits
> > > > should be sorted by DateAdded, I require the
> Hits
> > > to
> > > > be sorted by DateAdded for the SubIds in my
> list
> > > and
> > > > then by DateAdded for the SubIds not in my
> list.
> > > >
> > > > From reading previous discussions on the
> mailing
> > > list,
> > > > I believe I could achieve what I need by
> writing
> > > > custom filters i.e. Run the query first with a
> > > custom
> > > > filter for the SubIds in my list and then a
> second
> > > > time with a custom filter for the SubIds not
> in my
> > > > list and then "merge" the results.
> > > >
> > > > I suppose my question is simple: Is there a
> better
> > > way
> > > > to achieve this?
> > > >
> 
=== message truncated ===


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 17:09:51 2006
Return-Path: <java-user-return-23561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86344 invoked from network); 26 Sep 2006 17:09:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 17:09:51 -0000
Received: (qmail 8616 invoked by uid 500); 26 Sep 2006 17:09:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7804 invoked by uid 500); 26 Sep 2006 17:09:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7793 invoked by uid 99); 26 Sep 2006 17:09:45 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 10:09:45 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=karl.wettin@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=karl.wettin@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.178 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.178] ([64.233.166.178:11034] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id D6/10-14352-8DE59154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 10:09:44 -0700
Received: by py-out-1112.google.com with SMTP id w49so2738931pyg
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 10:09:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=e/9IKLnNEZQHAo4s8nr2O4SLhi+Kb/7ocBFTd2jXWLkRXQq2/YmNh3y7yVvPX3GPrCQTrPzNF2Gp6YmQ5bGSMwvA1MJotTeWDxU/BHv5LzHLE6yowoyh35sPseeg0scrBvUGi6cnjMJLy9LZtL/fj3q98eL6nljH6/JB1W0/QWU=
Received: by 10.35.51.19 with SMTP id d19mr1226328pyk;
        Tue, 26 Sep 2006 10:09:42 -0700 (PDT)
Received: by 10.35.127.4 with HTTP; Tue, 26 Sep 2006 10:09:41 -0700 (PDT)
Message-ID: <9fc755c20609261009q3f6b2b0dhbe4ba3418afd5a5c@mail.gmail.com>
Date: Tue, 26 Sep 2006 19:09:41 +0200
From: "karl wettin" <karl.wettin@gmail.com>
To: java-user@lucene.apache.org, "Bhavin Pandya" <bhavinp@rediff.co.in>
Subject: Re: spell checker with lucene
In-Reply-To: <00cc01c6e16a$4fbedfd0$0b0310ac@bhavin>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <00cc01c6e16a$4fbedfd0$0b0310ac@bhavin>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/26/06, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
> Hi,
> Do anybody have idea for spell checker in java.
> I want to use with lucene...but which must work well for phrases also...

You are welcome to try this:

https://issues.apache.org/jira/browse/LUCENE-626

it is good with phrases, is trained by (matching) user queries, so you
need a bit of user traffic for it to work. Perhaps you can use it as a
suplement to the ngram spell checker in contrib.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 17:50:08 2006
Return-Path: <java-user-return-23562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96098 invoked from network); 26 Sep 2006 17:50:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 17:50:08 -0000
Received: (qmail 61482 invoked by uid 500); 26 Sep 2006 17:50:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61452 invoked by uid 500); 26 Sep 2006 17:50:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61441 invoked by uid 99); 26 Sep 2006 17:50:02 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 10:50:02 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=paul.elschot@xs4all.nl; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain xs4all.nl from 194.109.24.37 cause and error)
Received: from [194.109.24.37] ([194.109.24.37:4595] helo=smtp-vbr17.xs4all.nl)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C8/70-14537-64869154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 10:50:01 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr17.xs4all.nl (8.13.8/8.13.8) with ESMTP id k8QHnum5094187
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 19:49:56 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Ordered positions
Date: Tue, 26 Sep 2006 19:49:55 +0200
User-Agent: KMail/1.8.2
References: <20060926155743.83649.qmail@web26301.mail.ukl.yahoo.com>
In-Reply-To: <20060926155743.83649.qmail@web26301.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609261949.55501.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 26 September 2006 17:57, Virlouvet Olivier wrote:
> Hi 
>    
>      In javadoc IndexReader.termPositions() maps to the definition :
>      Term    =>    <docNum, freq, <pos1, pos2, ... posfreq-1> >* 
>        where returned enumeration is ordered by doc number.   
>    
>      Are positions ordered for each doc or not ?

The positions returned by successive calls to
TermPositions.nextPosition() are ordered.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 18:09:20 2006
Return-Path: <java-user-return-23563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 356 invoked from network); 26 Sep 2006 18:09:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 18:09:20 -0000
Received: (qmail 86698 invoked by uid 500); 26 Sep 2006 18:09:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86645 invoked by uid 500); 26 Sep 2006 18:09:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86634 invoked by uid 99); 26 Sep 2006 18:09:13 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 11:09:12 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lists@nabble.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] ([72.21.53.35:36166] helo=talk.nabble.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A7/01-14537-6CC69154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:09:11 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1GSHMi-0001W4-D3
	for java-user@lucene.apache.org; Tue, 26 Sep 2006 11:09:08 -0700
Message-ID: <6512411.post@talk.nabble.com>
Date: Tue, 26 Sep 2006 11:09:08 -0700 (PDT)
From: djd0383 <ddigmann@formos.com>
To: java-user@lucene.apache.org
Subject: Re: Where to find drill-down examples (source code)
In-Reply-To: <44C0E40B.2050306@magpie.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: ddigmann@formos.com
References: <44C0DAF7.7040003@uni-hd.de> <44C0E40B.2050306@magpie.net>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I there a link to a zip file where I can get the entire package of source
files (version 2, please).  I know I am able to view them in the Source
Repository (http://svn.apache.org/viewvc/lucene/java/trunk/), but I do not
really feel like going through each of those to download them all.  I am
looking for a one stop shop here.



Miles Barr-3 wrote:
> 
> Martin Braun wrote:
> 
>>I want to realize a drill-down Function aka "narrow search" aka "refine
>>search".
>>
>>I want to have something like:
>>
>>Refine by Date:
>>* 1990-2000 (30 Docs)
>>* 2001-2003 (200 Docs)
>>* 2004-2006 (10 Docs)
>>
>>But not only DateRanges but also for other Categories.
>>
>>What I have found in the List-Archives so far is that I have to  use
>>Filters for my search.
>>
>>Does anybody knows where to find some Source Code, to get an Idea how to
>>implement this?
>> I think that's a useful property for a search engine, so are there any
>>contributions for Lucene for that?
>>
> 
> If you want to do a refined search I'd put the original query in a 
> QueryFilter, which filters on the new search.
> 
> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/QueryFilter.html
> 
> e.g.
> 
> Query original = // saved from the last time the search was executed
> QueryFilter filter = new QueryFilter(original);
> 
> QueryParser parser = ...
> Searcher searcher = ...
> 
> String userQuery;
> Query query = parser.parse(userQuery);
> 
> Hits hits = searcher.search(query, filter);
> 
> 
> Fill in the blanks with however you normally get your QueryParser and 
> IndexSearcher. You could store the old query on the session, or 
> somewhere else.
> 
> Then the QueryFilter will ensure you're doing a refinement, but won't 
> affect the scoring in the new search.
> 
> 
> Alternatively, since you appear to only want to refine on dates and 
> categories, you might want to put them in filters so they don't affect 
> the score, and leave the query as is. In which case you can use a 
> RangeQuery for the dates, and a wrap a TermQuery in a QueryFilter to 
> handle the categories.
> 
> If you need multiple filters you can use the ChainedFilter class.
> 
> 
> 
> 
> Miles
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Where-to-find-drill-down-examples-%28source-code%29-tf1980330.html#a6512411
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 18:16:43 2006
Return-Path: <java-user-return-23564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1831 invoked from network); 26 Sep 2006 18:16:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 18:16:41 -0000
Received: (qmail 93774 invoked by uid 500); 26 Sep 2006 18:16:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93233 invoked by uid 500); 26 Sep 2006 18:16:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93221 invoked by uid 99); 26 Sep 2006 18:16:36 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 11:16:36 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=wataylor@as-st.com; spf=pass
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain as-st.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] ([216.239.128.26:1033] helo=smtp.omnis.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A4/31-14537-18E69154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:16:34 -0700
Received: from [192.168.6.223] (d-65-175-205-96.metrocast.net [65.175.205.96])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 27B251880A02
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:16:30 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v624)
In-Reply-To: <00cc01c6e16a$4fbedfd0$0b0310ac@bhavin>
References: <00cc01c6e16a$4fbedfd0$0b0310ac@bhavin>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <a0657f16b2a851baf3ca5a081fd915ac@as-st.com>
Content-Transfer-Encoding: 7bit
From: Bill Taylor <wataylor@as-st.com>
Subject: Re: spell checker with lucene
Date: Tue, 26 Sep 2006 14:50:03 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.624)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sep 26, 2006, at 8:50 AM, Bhavin Pandya wrote:

> Hi,
> Do anybody have idea for spell checker in java.
> I want to use with lucene...but which must work well for phrases 
> also...
> -Bhavin pandya

When I googled "java spell check open source" I found

http://jazzy.sourceforge.net/

I have looked at it.

Are you thinking of doing a spell check on the queries people type?  It 
might be better simply to check each word and see if it is found in the 
index.  That will be a lot less work than adapting the spell checker to 
Lucene.

Bill Taylor


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 18:18:11 2006
Return-Path: <java-user-return-23565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2486 invoked from network); 26 Sep 2006 18:18:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 18:18:11 -0000
Received: (qmail 96559 invoked by uid 500); 26 Sep 2006 18:18:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96329 invoked by uid 500); 26 Sep 2006 18:18:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96318 invoked by uid 99); 26 Sep 2006 18:18:05 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 11:18:05 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=gasi@artentis.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain artentis.com from 212.227.126.187 cause and error)
Received: from [212.227.126.187] ([212.227.126.187:60667] helo=moutng.kundenserver.de)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 3F/31-14537-ADE69154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:18:05 -0700
Received: from [89.56.242.165] (helo=[192.168.178.22])
	by mrelayeu.kundenserver.de (node=mrelayeu5) with ESMTP (Nemesis),
	id 0ML25U-1GSHVH3qkP-0007lK; Tue, 26 Sep 2006 20:18:00 +0200
Message-ID: <45196ED5.3050003@artentis.com>
Date: Tue, 26 Sep 2006 20:17:57 +0200
From: Gaston <gasi@artentis.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: cache persistent Hits
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Lucene has itself  volatile caching mechanism provided by a weak 
HashMap. Is there a possibilty to serialize the Hits Object? I think of 
a HashMap that for each found result, caches the first 100 results. Is 
it possible to implement such a feature or is there such an extension? 
My problem is that the searching of my application with an index with 
the size of 212MB takes to much time, despite I set the BooleanOperator 
from OR to AND

I am happy about every suggestion.

Greetings

Gaston.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 18:20:05 2006
Return-Path: <java-user-return-23566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3081 invoked from network); 26 Sep 2006 18:20:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 18:20:04 -0000
Received: (qmail 98491 invoked by uid 500); 26 Sep 2006 18:19:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98461 invoked by uid 500); 26 Sep 2006 18:19:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98450 invoked by uid 99); 26 Sep 2006 18:19:58 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 11:19:58 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=simon.willnauer@googlemail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=simon.willnauer@googlemail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: pass (idunn.apache.osuosl.org: domain googlemail.com designates 66.249.92.174 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.92.174] ([66.249.92.174:7807] helo=ug-out-1314.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 5A/41-14537-B4F69154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:19:56 -0700
Received: by ug-out-1314.google.com with SMTP id k40so649550ugc
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:19:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SSYutptUFK+mZq3vq4m3Qq0KxdeuwpUhHr6Gpzj+9IxbuQNMV0XJOyEClVkvG1mThL0p+acDIlAnoIuqZRYwQt7xfNJfJUJdWGkhR7KoydL7UPy6r8av5i2AKmwkNnKGWNVDFO+a8Jzpr46eER9wpM4Zayf2qKzNlu2zDxFIntY=
Received: by 10.67.121.15 with SMTP id y15mr771519ugm;
        Tue, 26 Sep 2006 11:19:53 -0700 (PDT)
Received: by 10.67.22.17 with HTTP; Tue, 26 Sep 2006 11:19:52 -0700 (PDT)
Message-ID: <f18c9dde0609261119t13402c07gd6f162383f67fa3c@mail.gmail.com>
Date: Tue, 26 Sep 2006 20:19:52 +0200
From: "Simon Willnauer" <simon.willnauer@googlemail.com>
Reply-To: simon.willnauer@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Where to find drill-down examples (source code)
In-Reply-To: <6512411.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <44C0DAF7.7040003@uni-hd.de> <44C0E40B.2050306@magpie.net>
	 <6512411.post@talk.nabble.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Either you grap the next best svn client and check out the branch of
2.0 or you just download
the source dist from a mirror..... use this one
http://mirrorspace.org/apache/lucene/java/

best regards simon

On 9/26/06, djd0383 <ddigmann@formos.com> wrote:
>
> I there a link to a zip file where I can get the entire package of source
> files (version 2, please).  I know I am able to view them in the Source
> Repository (http://svn.apache.org/viewvc/lucene/java/trunk/), but I do not
> really feel like going through each of those to download them all.  I am
> looking for a one stop shop here.
>
>
>
> Miles Barr-3 wrote:
> >
> > Martin Braun wrote:
> >
> >>I want to realize a drill-down Function aka "narrow search" aka "refine
> >>search".
> >>
> >>I want to have something like:
> >>
> >>Refine by Date:
> >>* 1990-2000 (30 Docs)
> >>* 2001-2003 (200 Docs)
> >>* 2004-2006 (10 Docs)
> >>
> >>But not only DateRanges but also for other Categories.
> >>
> >>What I have found in the List-Archives so far is that I have to  use
> >>Filters for my search.
> >>
> >>Does anybody knows where to find some Source Code, to get an Idea how to
> >>implement this?
> >> I think that's a useful property for a search engine, so are there any
> >>contributions for Lucene for that?
> >>
> >
> > If you want to do a refined search I'd put the original query in a
> > QueryFilter, which filters on the new search.
> >
> > http://lucene.apache.org/java/docs/api/org/apache/lucene/search/QueryFilter.html
> >
> > e.g.
> >
> > Query original = // saved from the last time the search was executed
> > QueryFilter filter = new QueryFilter(original);
> >
> > QueryParser parser = ...
> > Searcher searcher = ...
> >
> > String userQuery;
> > Query query = parser.parse(userQuery);
> >
> > Hits hits = searcher.search(query, filter);
> >
> >
> > Fill in the blanks with however you normally get your QueryParser and
> > IndexSearcher. You could store the old query on the session, or
> > somewhere else.
> >
> > Then the QueryFilter will ensure you're doing a refinement, but won't
> > affect the scoring in the new search.
> >
> >
> > Alternatively, since you appear to only want to refine on dates and
> > categories, you might want to put them in filters so they don't affect
> > the score, and leave the query as is. In which case you can use a
> > RangeQuery for the dates, and a wrap a TermQuery in a QueryFilter to
> > handle the categories.
> >
> > If you need multiple filters you can use the ChainedFilter class.
> >
> >
> >
> >
> > Miles
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
>
> --
> View this message in context: http://www.nabble.com/Where-to-find-drill-down-examples-%28source-code%29-tf1980330.html#a6512411
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 18:43:55 2006
Return-Path: <java-user-return-23567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7135 invoked from network); 26 Sep 2006 18:43:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 18:43:55 -0000
Received: (qmail 24036 invoked by uid 500); 26 Sep 2006 18:43:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22948 invoked by uid 500); 26 Sep 2006 18:43:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22937 invoked by uid 99); 26 Sep 2006 18:43:49 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 11:43:49 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:37113] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C2/D1-14537-1E479154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:43:45 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3EC405B780; Tue, 26 Sep 2006 11:43:43 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3A2397F403
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:43:43 -0700 (PDT)
Date: Tue, 26 Sep 2006 11:43:43 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: searching for the part of a term.
In-Reply-To: <a36516400609260547n78124d6ckc8edb9f65ed366ea@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609261141510.13298@hal.rescomp.berkeley.edu>
References: <a36516400609230212r5aeb7050y3e51af7e342b33fa@mail.gmail.com>
 <a36516400609260547n78124d6ckc8edb9f65ed366ea@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Since the overhead in first is the speed of the system, i think adopting
: second method will be better.
:
: Is there any other solution for this problem?? Am i going in right
: direction??

you're definitely on teh right path -- those are the two bigsolutions i
can think of, which appraoch you should take really depends on the nature
of your data, what your performance concerns are, and how much development
time you have.

Here's another good thread you may want to check out...

http://www.nabble.com/I-just-don%27t-get-wildcards-at-all.-tf1412243.html#a3804223


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 18:46:37 2006
Return-Path: <java-user-return-23568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7834 invoked from network); 26 Sep 2006 18:46:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 18:46:37 -0000
Received: (qmail 26672 invoked by uid 500); 26 Sep 2006 18:46:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26634 invoked by uid 500); 26 Sep 2006 18:46:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26623 invoked by uid 99); 26 Sep 2006 18:46:30 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 11:46:30 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.178 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.178] ([64.233.166.178:16839] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 44/E1-14537-38579154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:46:28 -0700
Received: by py-out-1112.google.com with SMTP id w49so2765928pyg
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:46:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DjnEreCzdXcnKUz6az+vmaJzIW+3ZrxC7luMHPkRdcKi+5JJ2bd82q3BUba5pcwloE0l65DEs0AgiKH+uIijmXmXHhDgXgCKGpmAKmimV1hiwcQFjFWRjQeWVF6oY/ftL72OqrkhEcgQYE4xf8EO1TpMJWKqmMiNv9CYt1phnRI=
Received: by 10.35.101.1 with SMTP id d1mr1353900pym;
        Tue, 26 Sep 2006 11:46:22 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Tue, 26 Sep 2006 11:46:21 -0700 (PDT)
Message-ID: <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com>
Date: Tue, 26 Sep 2006 14:46:22 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: cache persistent Hits
In-Reply-To: <45196ED5.3050003@artentis.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10408_4980666.1159296382349"
References: <45196ED5.3050003@artentis.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10408_4980666.1159296382349
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, my index is over 1.4G, and others are reporting very large indexes in
the 10s of gigabytes. So I suspect your index size isn't the issue. I'd be
very, very, very surprised if it was.

Three things spring immediately to mind.

First, opening an IndexSearcher is a slow operation. Are you opening a new
IndexSearcher for each query? If so, don't <G>. You can re-use the same
searcher across threads without fear and you should *definitely* keep it
open between queries.

Second, your query could just be very, very interesting. It would be more
helpful if you posted an example of the code where you take your timings
(including opening the IndexSearcher).

Third, if you're using a Hits object to iterate over many documents, be
aware that it re-executes the query every hundred results or so. You want to
use one of the  HitCollector/TopDocs/TopDocsCollector classes if you are
iterating over all the returned documents. And you really *don't* want to do
an IndexReader.doc(doc#) or Searcher.doc(doc#) on every document.

If none of this helps, please post some code fragments and I'm sure others
will chime in.

Best
Erick

On 9/26/06, Gaston <gasi@artentis.com> wrote:
>
> Hi,
>
> Lucene has itself  volatile caching mechanism provided by a weak
> HashMap. Is there a possibilty to serialize the Hits Object? I think of
> a HashMap that for each found result, caches the first 100 results. Is
> it possible to implement such a feature or is there such an extension?
> My problem is that the searching of my application with an index with
> the size of 212MB takes to much time, despite I set the BooleanOperator
> from OR to AND
>
> I am happy about every suggestion.
>
> Greetings
>
> Gaston.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10408_4980666.1159296382349--

From java-user-return-23569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 18:49:30 2006
Return-Path: <java-user-return-23569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8298 invoked from network); 26 Sep 2006 18:49:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 18:49:29 -0000
Received: (qmail 33341 invoked by uid 500); 26 Sep 2006 18:49:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33309 invoked by uid 500); 26 Sep 2006 18:49:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33298 invoked by uid 99); 26 Sep 2006 18:49:24 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 11:49:24 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:50952] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 98/F1-14537-23679154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 11:49:24 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A51E35B780; Tue, 26 Sep 2006 11:49:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9A66B7F403;
	Tue, 26 Sep 2006 11:49:20 -0700 (PDT)
Date: Tue, 26 Sep 2006 11:49:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>,
	Yura Smolsky <info@altervisionmedia.com>
Subject: Re[3]: how to enhance speed of sorted search
In-Reply-To: <1647427384.20060926101239@altervisionmedia.com>
Message-ID: <Pine.LNX.4.58.0609261145040.13298@hal.rescomp.berkeley.edu>
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
 <834910708.20060925180034@altervisionmedia.com>
 <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
 <1647427384.20060926101239@altervisionmedia.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I am thinking should be this faster

The ConstantScoreQuery wrapped arround the QueryFilter might in fact be
faster then the raw query -- have your tried it to see?

you might be able to shave a little bit of speed off by accessing the bits
from the Filter directly and iterating over them yourself to check the
FieldCache ad build up your sorted list of the first "N" -- i think that
would save you one method call per match (the score method of
ConstantScoreQuery)

At some point you just have to wonder if it's fast enough?

how long does a typically sorted query take for you right now?

how many documents are in your index?

how many matches do you typically have?

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 19:07:10 2006
Return-Path: <java-user-return-23570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15461 invoked from network); 26 Sep 2006 19:07:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 19:07:09 -0000
Received: (qmail 73962 invoked by uid 500); 26 Sep 2006 19:07:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73942 invoked by uid 500); 26 Sep 2006 19:07:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73931 invoked by uid 99); 26 Sep 2006 19:07:02 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 12:07:02 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:54708] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 74/72-14537-35A79154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 12:07:01 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A57EC5B780; Tue, 26 Sep 2006 12:06:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A27727F403
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 12:06:57 -0700 (PDT)
Date: Tue, 26 Sep 2006 12:06:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Very high fieldNorm for a field resulting in bad results
In-Reply-To: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609261155270.13298@hal.rescomp.berkeley.edu>
References: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: The symptom:
: Very high fieldNorm for field A.(explain output pasted below) The boost i am
: applying to the troublesome field is 3.5  & the max boost applied per doc is
: 1.8
: Given that information, the very high fieldNorm is very surprising to me.
: Based on what I read,  FieldNorm  = 1 / sqrt(sum of terms) , possibly
: multiplied by field boost values.

The value of a the field norm for any field named "A" is typically the
lengthNorm of the field, times the document boost, times the field boost
for *each* Field instance added to the document with the name "A".
(lengthNorm is by default 1/swrt(num of terms))

so in your situation...

: for (Collection of values){
:      Field thisField = new Field(fieldName, value, fieldConfig.STORED,
: fieldConfig.INDEXED);
:      thisField.setBoost(fieldConfig);
:     doc.add(thisField);

the fieldNorm for "A" is going to be fieldConfig * values.size() * any
document boost you didn't mention using * length norm.

: which should basically lead to the "values" being appended,
: Am i making a mistake in the way I am adding fields ?

the way you are adding fields is the "proper" way to deal with multi-value
fields in my opinion, but it may be leading to more "boost" then you
intended, in which case only boosting the first Field may be the way to
go.

another aspect of this to keep in mind, is htat since fieldNorms are
stored as a single byte encoded float, some precission is lost ... the
byte encoding for the norms is targeted at smaller values, so with really
big norms you might find the problem exaserbated by the rounding.

play around with your boost values - you can use indexReader.norms("A")
along with similarity.decodeNorm to see what norm values your various
documents are getting as you tweak your numbers.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 19:14:33 2006
Return-Path: <java-user-return-23571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19722 invoked from network); 26 Sep 2006 19:14:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 19:14:32 -0000
Received: (qmail 94490 invoked by uid 500); 26 Sep 2006 19:14:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94462 invoked by uid 500); 26 Sep 2006 19:14:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94451 invoked by uid 99); 26 Sep 2006 19:14:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 12:14:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=gasi@artentis.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain artentis.com from 212.227.126.171 cause and error)
Received: from [212.227.126.171] ([212.227.126.171:58701] helo=moutng.kundenserver.de)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 1C/A2-14537-F0C79154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 12:14:24 -0700
Received: from [89.56.242.165] (helo=[192.168.178.22])
	by mrelayeu.kundenserver.de (node=mrelayeu2) with ESMTP (Nemesis),
	id 0MKwtQ-1GSINo0200-0003Md; Tue, 26 Sep 2006 21:14:20 +0200
Message-ID: <45197C09.3020303@artentis.com>
Date: Tue, 26 Sep 2006 21:14:17 +0200
From: Gaston <gasi@artentis.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: cache persistent Hits
References: <45196ED5.3050003@artentis.com> <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com>
In-Reply-To: <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi,

first thank you for the fast reply.

I use MultiSearcher that opens 3 indexes, so this makes the whole 
operation surly slower, but 20seconds for 5260 results out of an 212MB 
index  is  much too slow.
Another reason can of course be my ISP.

Here is my code:

        IndexSearcher[] searchers;
        searchers=new IndexSearcher[3];
        String path="/home/sn/public_html/";
        searchers[0]=new IndexSearcher(path+"index1");
        searchers[1]=new IndexSearcher(path+"index2");
        searchers[2]=new IndexSearcher(path+"index3");
        MultiSearcher saercher=new MultiSearcher(searchers);
        QueryParser parser=new QueryParser("content",new 
StandardAnalyzer());
            parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
          
            Query query=parser.parse("urlName:"+userInput+" OR 
"+"content:"+userInput);
           
            Hits hits=searcher.search(query);
           
            for(int i=0;i<hits.length();i++)
            {
               
                Document doc=hits.doc(i);
               
                   
            }
           
           
       // Outprint only 10 results per page

    for(int i=startPoint;i<startPoint+10;i++)
            {
               
                Document doc=hits.doc(i);
               
                    out.println(escapeHTML(doc.get("description"))+"<p>");
                    out.println("<a 
href="+doc.get("url")+">"+doc.get("url").substring(7)+"</a>");
                    out.println("<p><p><p>");
               
            }

Perhaps somebody see the reason why it is so slow.

Thank you in advance

Greetings Gaston




Erick Erickson schrieb:

> Well, my index is over 1.4G, and others are reporting very large 
> indexes in
> the 10s of gigabytes. So I suspect your index size isn't the issue. 
> I'd be
> very, very, very surprised if it was.
>
> Three things spring immediately to mind.
>
> First, opening an IndexSearcher is a slow operation. Are you opening a 
> new
> IndexSearcher for each query? If so, don't <G>. You can re-use the same
> searcher across threads without fear and you should *definitely* keep it
> open between queries.
>
> Second, your query could just be very, very interesting. It would be more
> helpful if you posted an example of the code where you take your timings
> (including opening the IndexSearcher).
>
> Third, if you're using a Hits object to iterate over many documents, be
> aware that it re-executes the query every hundred results or so. You 
> want to
> use one of the  HitCollector/TopDocs/TopDocsCollector classes if you are
> iterating over all the returned documents. And you really *don't* want 
> to do
> an IndexReader.doc(doc#) or Searcher.doc(doc#) on every document.
>
> If none of this helps, please post some code fragments and I'm sure 
> others
> will chime in.
>
> Best
> Erick
>
> On 9/26/06, Gaston <gasi@artentis.com> wrote:
>
>>
>> Hi,
>>
>> Lucene has itself  volatile caching mechanism provided by a weak
>> HashMap. Is there a possibilty to serialize the Hits Object? I think of
>> a HashMap that for each found result, caches the first 100 results. Is
>> it possible to implement such a feature or is there such an extension?
>> My problem is that the searching of my application with an index with
>> the size of 212MB takes to much time, despite I set the BooleanOperator
>> from OR to AND
>>
>> I am happy about every suggestion.
>>
>> Greetings
>>
>> Gaston.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 19:32:18 2006
Return-Path: <java-user-return-23572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33223 invoked from network); 26 Sep 2006 19:32:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 19:32:17 -0000
Received: (qmail 28336 invoked by uid 500); 26 Sep 2006 19:32:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28272 invoked by uid 500); 26 Sep 2006 19:32:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28261 invoked by uid 99); 26 Sep 2006 19:32:11 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 12:32:11 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=khoon.ee.gan@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=khoon.ee.gan@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=3.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.226 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.226] ([66.249.82.226:3311] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 9F/40-15364-93089154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 12:32:10 -0700
Received: by wx-out-0506.google.com with SMTP id s15so2165593wxc
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 12:32:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Heb7TJQDudzUTIElIOXYZwM3HTzmrlVmts/0hOsQlzaw2dEWITW5WkMnV0xywuo5f85Ith2k1Br1npYQ373BsuJ4+oMk/hro3iVKXbrp4eqZgRL0G2r7VnmtvoQKC7gGczuqFPYFwqZ3sRGck4ZcSM0vOeGC/445z8VP/g6M88I=
Received: by 10.70.113.15 with SMTP id l15mr1298376wxc;
        Tue, 26 Sep 2006 12:32:06 -0700 (PDT)
Received: by 10.70.22.17 with HTTP; Tue, 26 Sep 2006 12:32:06 -0700 (PDT)
Message-ID: <85c493340609261232h24b92fbag94648e46a60bf348@mail.gmail.com>
Date: Wed, 27 Sep 2006 03:32:06 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene In Action Book vs Lucene 2.0
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11779_33418282.1159299126286"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11779_33418282.1159299126286
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I have bought the Lucene In Action Book for more than a year now, and was
using Lucene 1.x during that time. Now, I have a new project with Lucene and
Lucene is now 2.0. Many APIs seems to have changed.

I would like to ask the experts here, what are the important or substantial
changes from Lucene 1.x to 2.0? Which part of the LIA book that is still
usable and which part is not? Any particular things that a new Lucene
2.0user that only have used the
1.x version, should pay attention to?

Thanks.

------=_Part_11779_33418282.1159299126286--

From java-user-return-23573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 20:42:09 2006
Return-Path: <java-user-return-23573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69115 invoked from network); 26 Sep 2006 20:42:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 20:42:08 -0000
Received: (qmail 65620 invoked by uid 500); 26 Sep 2006 20:42:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65592 invoked by uid 500); 26 Sep 2006 20:42:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65578 invoked by uid 99); 26 Sep 2006 20:42:01 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 13:42:01 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.180 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.180] ([64.233.166.180:35238] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A3/B0-15942-79099154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 13:42:00 -0700
Received: by py-out-1112.google.com with SMTP id w49so2797575pyg
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 13:41:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UbLQaA8TQE4s0oNP8EBXzCvruMHSQiWrmwBuXpVtT5dI0GCM+Ihcx4Ky4Rq9pFBDrWoTZv/kiR6GFxgu+3qTi5Fiacu4GtY7cA4ZRtfmE9Xb0HJciy/RuDQ/vi4t23SUGf9S/TlTyuVj4ISyMflWH6ixD5D2FsM3gC0f/bS8YvI=
Received: by 10.35.51.19 with SMTP id d19mr1588459pyk;
        Tue, 26 Sep 2006 13:41:56 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Tue, 26 Sep 2006 13:41:56 -0700 (PDT)
Message-ID: <359a92830609261341k4a162cdel50314dc6604944e@mail.gmail.com>
Date: Tue, 26 Sep 2006 16:41:56 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: cache persistent Hits
In-Reply-To: <45197C09.3020303@artentis.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12415_11593317.1159303316385"
References: <45196ED5.3050003@artentis.com>
	 <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com>
	 <45197C09.3020303@artentis.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12415_11593317.1159303316385
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

See below.

On 9/26/06, Gaston <gasi@artentis.com> wrote:
>
> hi,
>
> first thank you for the fast reply.
>
> I use MultiSearcher that opens 3 indexes, so this makes the whole
> operation surly slower, but 20seconds for 5260 results out of an 212MB
> index  is  much too slow.
> Another reason can of course be my ISP.
>
> Here is my code:
>
>         IndexSearcher[] searchers;
>         searchers=new IndexSearcher[3];
>         String path="/home/sn/public_html/";
>         searchers[0]=new IndexSearcher(path+"index1");
>         searchers[1]=new IndexSearcher(path+"index2");
>         searchers[2]=new IndexSearcher(path+"index3");
>         MultiSearcher saercher=new MultiSearcher(searchers);



Above you've opened the searcher for each search, exactly as I feared. This
is a major hit. Don't do this, but keep the searchers open between calls.
You can demonstrate this to yourself by returning time intervals in your
HTML page. Take one timestamp right here, one after a new dummy query that
you make up and hard-code, and one after the "real" query you already have
below. Return them all in your HTML page and take a look. I think you'll see
that the first query takes a while, and the second is very fast. And don't
iterate over all the hits (more below).


        QueryParser parser=new QueryParser("content",new
> StandardAnalyzer());
>             parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>
>             Query query=parser.parse("urlName:"+userInput+" OR
> "+"content:"+userInput);
>
>             Hits hits=searcher.search(query);
>
>             for(int i=0;i<hits.length();i++)
>             {
>
>                 Document doc=hits.doc(i);
>
>
>             }


what is the purpose of iteration above? This does nothing except waste time.
I'd just remove it (unless there's something else you're doing here that you
left out). If you're trying to get to the startPoint below, well, there's no
reason to iterate above, just to directly to the loop below. For 5000 hits,
you're repeating the search 50 times or so, as has been discussed in these
archives repeatedly. See my previous mail.....


       // Outprint only 10 results per page
>
>     for(int i=startPoint;i<startPoint+10;i++)
>             {
>
>                 Document doc=hits.doc(i);
>
>                     out.println(escapeHTML(doc.get("description"))+"<p>");
>                     out.println("<a
> href="+doc.get("url")+">"+doc.get("url").substring(7)+"</a>");
>                     out.println("<p><p><p>");
>
>             }
>
> Perhaps somebody see the reason why it is so slow.
>
> Thank you in advance
>
> Greetings Gaston


I'm assuming that your ISP comment is just where you're getting your page
from, and that your searchers and indexes are at least on the same network
and NOT separated by the web, as that would be slow and hard to fix.

To get a sense of where you're really spending your time, I'd actually get
the system time at various points in the process and send the *times* back
in your HTML page. That'll give you a much better sense of where you're
actually spending time. You can't really tell anything by measuring now long
it takes to get your HTML page back, you've *got* to measure at discreet
points in the code and return those.

5,000+ results should not be taking 20 seconds. I strongly suspect that the
fact that you're opening your searchers every time and uselessly iterating
through all the hits is the culprit. If I remember correctly, and you have
5,000 documents, you're executing the query about 50 times when you iterate
through all the hits. Under the covers, Hits is optimized for about 100
results. As you iterate through, each "next 100" re-executes the query. You
could search the mail archive for this topic, maybe "hits slow" or some such
for greater explications.

Hope this helps
Erick


Erick Erickson schrieb:
>
> > Well, my index is over 1.4G, and others are reporting very large
> > indexes in
> > the 10s of gigabytes. So I suspect your index size isn't the issue.
> > I'd be
> > very, very, very surprised if it was.
> >
> > Three things spring immediately to mind.
> >
> > First, opening an IndexSearcher is a slow operation. Are you opening a
> > new
> > IndexSearcher for each query? If so, don't <G>. You can re-use the same
> > searcher across threads without fear and you should *definitely* keep it
> > open between queries.
> >
> > Second, your query could just be very, very interesting. It would be
> more
> > helpful if you posted an example of the code where you take your timings
> > (including opening the IndexSearcher).
> >
> > Third, if you're using a Hits object to iterate over many documents, be
> > aware that it re-executes the query every hundred results or so. You
> > want to
> > use one of the  HitCollector/TopDocs/TopDocsCollector classes if you are
> > iterating over all the returned documents. And you really *don't* want
> > to do
> > an IndexReader.doc(doc#) or Searcher.doc(doc#) on every document.
> >
> > If none of this helps, please post some code fragments and I'm sure
> > others
> > will chime in.
> >
> > Best
> > Erick
> >
> > On 9/26/06, Gaston <gasi@artentis.com> wrote:
> >
> >>
> >> Hi,
> >>
> >> Lucene has itself  volatile caching mechanism provided by a weak
> >> HashMap. Is there a possibilty to serialize the Hits Object? I think of
> >> a HashMap that for each found result, caches the first 100 results. Is
> >> it possible to implement such a feature or is there such an extension?
> >> My problem is that the searching of my application with an index with
> >> the size of 212MB takes to much time, despite I set the BooleanOperator
> >> from OR to AND
> >>
> >> I am happy about every suggestion.
> >>
> >> Greetings
> >>
> >> Gaston.
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_12415_11593317.1159303316385--

From java-user-return-23574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 20:57:34 2006
Return-Path: <java-user-return-23574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79763 invoked from network); 26 Sep 2006 20:57:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 20:57:34 -0000
Received: (qmail 97725 invoked by uid 500); 26 Sep 2006 20:57:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97702 invoked by uid 500); 26 Sep 2006 20:57:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97690 invoked by uid 99); 26 Sep 2006 20:57:26 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [65.199.122.2] (HELO mainsequence.net) (65.199.122.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 13:57:25 -0700
Received: from 127.0.0.1 ([68.164.221.250])
	by mainsequence.net (mainsequence.net)
	(MDaemon.PRO.v7.2.0.R)
	with ESMTP id md50002667541.msg
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 16:56:43 -0400
Reply-To: Chris Salem <chris@mainsequence.net>
From: Chris Salem <chris@mainsequence.net>
To: java-user@lucene.apache.org
CC: 
Subject: spell checker
Date: Tue, 26 Sep 2006 20:56:57 -0000
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: PCRecruiter Emulation of Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: PCRecruiter Emulation of Microsoft MimeOLE V6.00.2800.1441
MIME-Version: 1.0
Content-Type: multipart/alternative;
      boundary="----=_pcr39E6BC22BEE54729ACE411BB526C2888section1-b1"
X-Spam-Processed: mainsequence.net, Tue, 26 Sep 2006 16:56:43 -0400
	(not processed: message from valid local sender)
X-MDRemoteIP: 68.164.221.250
X-Return-Path: chris@mainsequence.net
X-MDaemon-Deliver-To: java-user@lucene.apache.org
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_pcr39E6BC22BEE54729ACE411BB526C2888section1-b1
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Does anyone have sample code on how to build a dictionary?

I found this article online and but it uses version 1.4.3 and it doesn't seem to work on 2.0.0:  http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1

Here's the code I have:

indexReader = IndexReader.open(originalIndexDirectory);
Dictionary dictionary = new LuceneDictionary(indexReader, "experience_desired");
SpellChecker spellChckr = new SpellChecker(spellIndexDirectory);
spellChckr.indexDictionary(dictionary);
I'm getting a null pointer exception when I call indexDirectory().  
Here's how I index the field "experience_desired": 
doc.add(new Field("experience_desired", value, Field.Store.NO, Field.Index.TOKENIZED));
Is there another way I should do it so there is a way to build a dictionary on that field?

Thanks

Chris Salem
440.946.5214 x5458
chris@mainsequence.net 

(The following links were included with this email:)
http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1

mailto:chris@mainsequence.net



(The following links were included with this email:)
http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1

mailto:chris@mainsequence.net



------=_pcr39E6BC22BEE54729ACE411BB526C2888section1-b1--




From java-user-return-23575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 21:20:54 2006
Return-Path: <java-user-return-23575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89361 invoked from network); 26 Sep 2006 21:20:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 21:20:54 -0000
Received: (qmail 39323 invoked by uid 500); 26 Sep 2006 21:20:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39305 invoked by uid 500); 26 Sep 2006 21:20:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39294 invoked by uid 99); 26 Sep 2006 21:20:47 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 14:20:47 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=gasi@artentis.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain artentis.com from 212.227.126.188 cause and error)
Received: from [212.227.126.188] ([212.227.126.188:59930] helo=moutng.kundenserver.de)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 2A/40-16382-BA999154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 14:20:46 -0700
Received: from [89.56.185.22] (helo=[192.168.178.22])
	by mrelayeu.kundenserver.de (node=mrelayeu1) with ESMTP (Nemesis),
	id 0MKwpI-1GSKLp3g9G-0004WR; Tue, 26 Sep 2006 23:20:40 +0200
Message-ID: <45199995.10707@artentis.com>
Date: Tue, 26 Sep 2006 23:20:21 +0200
From: Gaston <gasi@artentis.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: cache persistent Hits
References: <45196ED5.3050003@artentis.com>	 <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com>	 <45197C09.3020303@artentis.com> <359a92830609261341k4a162cdel50314dc6604944e@mail.gmail.com>
In-Reply-To: <359a92830609261341k4a162cdel50314dc6604944e@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erick,

the problem was this piece of code I don't need anymore.

for(int i=0;i<hits.length();i++)
 {

          Document doc=hits.doc(i);


  }

Now it is very fast, thank you very much for your email that is written  
in detail.
Here is my application, that still is in development phase.
http://www.suchste.de

Greetings Gaston

P.S. The search for 'web' delivers over 5000 hits...


Erick Erickson schrieb:

> See below.
>
> On 9/26/06, Gaston <gasi@artentis.com> wrote:
>
>>
>> hi,
>>
>> first thank you for the fast reply.
>>
>> I use MultiSearcher that opens 3 indexes, so this makes the whole
>> operation surly slower, but 20seconds for 5260 results out of an 212MB
>> index  is  much too slow.
>> Another reason can of course be my ISP.
>>
>> Here is my code:
>>
>>         IndexSearcher[] searchers;
>>         searchers=new IndexSearcher[3];
>>         String path="/home/sn/public_html/";
>>         searchers[0]=new IndexSearcher(path+"index1");
>>         searchers[1]=new IndexSearcher(path+"index2");
>>         searchers[2]=new IndexSearcher(path+"index3");
>>         MultiSearcher saercher=new MultiSearcher(searchers);
>
>
>
>
> Above you've opened the searcher for each search, exactly as I feared. 
> This
> is a major hit. Don't do this, but keep the searchers open between calls.
> You can demonstrate this to yourself by returning time intervals in your
> HTML page. Take one timestamp right here, one after a new dummy query 
> that
> you make up and hard-code, and one after the "real" query you already 
> have
> below. Return them all in your HTML page and take a look. I think 
> you'll see
> that the first query takes a while, and the second is very fast. And 
> don't
> iterate over all the hits (more below).
>
>
>        QueryParser parser=new QueryParser("content",new
>
>> StandardAnalyzer());
>>             parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>>
>>             Query query=parser.parse("urlName:"+userInput+" OR
>> "+"content:"+userInput);
>>
>>             Hits hits=searcher.search(query);
>>
>>             for(int i=0;i<hits.length();i++)
>>             {
>>
>>                 Document doc=hits.doc(i);
>>
>>
>>             }
>
>
>
> what is the purpose of iteration above? This does nothing except waste 
> time.
> I'd just remove it (unless there's something else you're doing here 
> that you
> left out). If you're trying to get to the startPoint below, well, 
> there's no
> reason to iterate above, just to directly to the loop below. For 5000 
> hits,
> you're repeating the search 50 times or so, as has been discussed in 
> these
> archives repeatedly. See my previous mail.....
>
>
>       // Outprint only 10 results per page
>
>>
>>     for(int i=startPoint;i<startPoint+10;i++)
>>             {
>>
>>                 Document doc=hits.doc(i);
>>
>>                     
>> out.println(escapeHTML(doc.get("description"))+"<p>");
>>                     out.println("<a
>> href="+doc.get("url")+">"+doc.get("url").substring(7)+"</a>");
>>                     out.println("<p><p><p>");
>>
>>             }
>>
>> Perhaps somebody see the reason why it is so slow.
>>
>> Thank you in advance
>>
>> Greetings Gaston
>
>
>
> I'm assuming that your ISP comment is just where you're getting your page
> from, and that your searchers and indexes are at least on the same 
> network
> and NOT separated by the web, as that would be slow and hard to fix.
>
> To get a sense of where you're really spending your time, I'd actually 
> get
> the system time at various points in the process and send the *times* 
> back
> in your HTML page. That'll give you a much better sense of where you're
> actually spending time. You can't really tell anything by measuring 
> now long
> it takes to get your HTML page back, you've *got* to measure at discreet
> points in the code and return those.
>
> 5,000+ results should not be taking 20 seconds. I strongly suspect 
> that the
> fact that you're opening your searchers every time and uselessly 
> iterating
> through all the hits is the culprit. If I remember correctly, and you 
> have
> 5,000 documents, you're executing the query about 50 times when you 
> iterate
> through all the hits. Under the covers, Hits is optimized for about 100
> results. As you iterate through, each "next 100" re-executes the 
> query. You
> could search the mail archive for this topic, maybe "hits slow" or 
> some such
> for greater explications.
>
> Hope this helps
> Erick
>
>
> Erick Erickson schrieb:
>
>>
>> > Well, my index is over 1.4G, and others are reporting very large
>> > indexes in
>> > the 10s of gigabytes. So I suspect your index size isn't the issue.
>> > I'd be
>> > very, very, very surprised if it was.
>> >
>> > Three things spring immediately to mind.
>> >
>> > First, opening an IndexSearcher is a slow operation. Are you opening a
>> > new
>> > IndexSearcher for each query? If so, don't <G>. You can re-use the 
>> same
>> > searcher across threads without fear and you should *definitely* 
>> keep it
>> > open between queries.
>> >
>> > Second, your query could just be very, very interesting. It would be
>> more
>> > helpful if you posted an example of the code where you take your 
>> timings
>> > (including opening the IndexSearcher).
>> >
>> > Third, if you're using a Hits object to iterate over many 
>> documents, be
>> > aware that it re-executes the query every hundred results or so. You
>> > want to
>> > use one of the  HitCollector/TopDocs/TopDocsCollector classes if 
>> you are
>> > iterating over all the returned documents. And you really *don't* want
>> > to do
>> > an IndexReader.doc(doc#) or Searcher.doc(doc#) on every document.
>> >
>> > If none of this helps, please post some code fragments and I'm sure
>> > others
>> > will chime in.
>> >
>> > Best
>> > Erick
>> >
>> > On 9/26/06, Gaston <gasi@artentis.com> wrote:
>> >
>> >>
>> >> Hi,
>> >>
>> >> Lucene has itself  volatile caching mechanism provided by a weak
>> >> HashMap. Is there a possibilty to serialize the Hits Object? I 
>> think of
>> >> a HashMap that for each found result, caches the first 100 
>> results. Is
>> >> it possible to implement such a feature or is there such an 
>> extension?
>> >> My problem is that the searching of my application with an index with
>> >> the size of 212MB takes to much time, despite I set the 
>> BooleanOperator
>> >> from OR to AND
>> >>
>> >> I am happy about every suggestion.
>> >>
>> >> Greetings
>> >>
>> >> Gaston.
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 21:25:32 2006
Return-Path: <java-user-return-23576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90491 invoked from network); 26 Sep 2006 21:25:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 21:25:31 -0000
Received: (qmail 45890 invoked by uid 500); 26 Sep 2006 21:25:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45064 invoked by uid 500); 26 Sep 2006 21:25:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45053 invoked by uid 99); 26 Sep 2006 21:25:25 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 14:25:25 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=VOlenin@cihi.ca; spf=permerror
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain cihi.ca from 205.207.78.3 cause and error)
Received: from [205.207.78.3] ([205.207.78.3:57204] helo=tormail01.cihi.ca)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 61/60-16382-3CA99154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 14:25:24 -0700
Received: from (tormail01.cihi.ca [10.64.1.106]) by webshield.cihi.ca with smtp
	 id 4392_e4e6c9ae_4da5_11db_8e23_003048245df9;
	Tue, 26 Sep 2006 17:28:10 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6E1B2.0C193C6D"
Subject: term OR term OR term OR .... query question
Date: Tue, 26 Sep 2006 17:23:44 -0400
Message-ID: <373399D6389D8C42B4EAD9BE2B6B5C5F07151717@tormail01.cihi.ca>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: term OR term OR term OR .... query question
Thread-Index: AcbhsguZWgL0NEzSTw+2wMMbge+XPw==
From: "Vladimir Olenin" <VOlenin@cihi.ca>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6E1B2.0C193C6D
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi.
=20
I have a question regarding Lucene scoring algorithm. Providing I have a
query "a OR b OR c OR d OR e OR f", and two documents: doc1 "a b c d"
and doc2 "d e", will doc1 score higher than doc2? In other words, does
Lucene takes into account the number of terms matched in the document in
case of the 'or' query?
=20
Providing that I don't know the algorithms behind the Lucene, how does
'or' query time depends on the number of searched terms? Does it grow
linierly, exponentially? How does 'and' query time depends on the number
of searched terms? (it should decrease, right?)
=20
Thanks.
=20
Vlad

------_=_NextPart_001_01C6E1B2.0C193C6D--

From java-user-return-23577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 21:30:34 2006
Return-Path: <java-user-return-23577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91838 invoked from network); 26 Sep 2006 21:30:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 21:30:33 -0000
Received: (qmail 50179 invoked by uid 500); 26 Sep 2006 21:30:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50148 invoked by uid 500); 26 Sep 2006 21:30:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50135 invoked by uid 99); 26 Sep 2006 21:30:28 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 14:30:28 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=karl.wettin@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=karl.wettin@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.180 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.180] ([64.233.166.180:6054] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 1A/70-16382-3FB99154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 14:30:27 -0700
Received: by py-out-1112.google.com with SMTP id w49so2810308pyg
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 14:30:25 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=pbwKeHMEzgO+m30bKtQZECL2LZt/G3WCRthhlfp8SwetzZDrYO6TqwfE4wnscKE/CR2bBuQMNBRODtAcLxcf7DDo4UEz270NOzsE2RCJTvdvh8/YkAcDbZTsfYYkuUqfyGnLCxYpT1izv+BI0trSwhDmISMvg2pByaVoPE7cEvI=
Received: by 10.35.121.12 with SMTP id y12mr1635623pym;
        Tue, 26 Sep 2006 14:30:24 -0700 (PDT)
Received: by 10.35.127.4 with HTTP; Tue, 26 Sep 2006 14:30:24 -0700 (PDT)
Message-ID: <9fc755c20609261430t20330bbajc416b6eab25d8279@mail.gmail.com>
Date: Tue, 26 Sep 2006 23:30:24 +0200
From: "karl wettin" <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re[2]: how to enhance speed of sorted search
In-Reply-To: <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
	 <834910708.20060925180034@altervisionmedia.com>
	 <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/26/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:

> if you are seeing "slow" performance from sorted searches,
> the time spent "scoring" the results isn't the biggest contributor to how
> long thesearch takes -- it tends to be negligable for most queries.

I've many times wished for a visiting score mechanism of some kind.
Turn it off and save CPU, remove floating points, or even hide a
global sort order in the norms.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 21:38:14 2006
Return-Path: <java-user-return-23578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93223 invoked from network); 26 Sep 2006 21:38:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 21:38:14 -0000
Received: (qmail 60083 invoked by uid 500); 26 Sep 2006 21:38:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60055 invoked by uid 500); 26 Sep 2006 21:38:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60044 invoked by uid 99); 26 Sep 2006 21:38:09 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 14:38:09 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=VOlenin@cihi.ca; spf=permerror
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain cihi.ca from 205.207.78.3 cause and error)
Received: from [205.207.78.3] ([205.207.78.3:57618] helo=tormail01.cihi.ca)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 23/A0-16382-EBD99154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 14:38:08 -0700
Received: from (tormail01.cihi.ca [10.64.1.106]) by webshield.cihi.ca with smtp
	 id 56d6_ac409fba_4da7_11db_82cd_003048245df9;
	Tue, 26 Sep 2006 17:40:54 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6E1B3.D395A5BE"
Subject: how to get results without getting total number of found documents?
Date: Tue, 26 Sep 2006 17:36:29 -0400
Message-ID: <373399D6389D8C42B4EAD9BE2B6B5C5F0715171F@tormail01.cihi.ca>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: how to get results without getting total number of found documents?
Thread-Index: Acbhs9OIlyN9JkfHQWWpkDKzTN/ewQ==
From: "Vladimir Olenin" <VOlenin@cihi.ca>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6E1B3.D395A5BE
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi.
=20
I couldn't find the answer to this question in the mailing list archive.
In case I missed it, please let me know the keyword phrase I should be
looking for, if not a direct link.
=20
All the 'Lucene' powered implementations I saw (well, primarily those
utilizing Solr) return exact count of the number of documents found. It
means that the query is resolved across the whole data set in precise
fashion. If the number of searched documents is huge (eg, > 1billion),
this should present quite a problem. I wonder if that's the default
behaviour of Lucene or rather the frameworks that utilize it? Is it
possible to:
=20
- get the top 1000 results WITHOUT executing query across whole data set
- in other words, can Lucene:
  - chunk out top X results by 'approximate' fast search, which will
return _approximate_ total number of found documents, similar to
'Google' total pages found count
  - and perform more accurate search within that chunk
=20
Is such functionality built in or it has be customized? If it's
built-in, what algorithms are used to 'chunk out' the results and get
approximate docs count? What classes should I look at?
=20
Thanks!
=20
Vlad
=20
PS: it's pretty much the functionality Google has - you can't get more
than 1000 matches per query (meaning, you can get even '10M' documents
found, but if you'll try to browse beyond '1000' results, you'll get an
error page).

------_=_NextPart_001_01C6E1B3.D395A5BE--

From java-user-return-23579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 21:43:55 2006
Return-Path: <java-user-return-23579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95396 invoked from network); 26 Sep 2006 21:43:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 21:43:55 -0000
Received: (qmail 69589 invoked by uid 500); 26 Sep 2006 21:43:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69563 invoked by uid 500); 26 Sep 2006 21:43:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69552 invoked by uid 99); 26 Sep 2006 21:43:47 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 14:43:47 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=eksdev@yahoo.co.uk; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=eksdev@yahoo.co.uk; spf=permerror
X-ASF-Spam-Status: No, hits=1.9 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.co.uk from 217.146.189.26 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [217.146.189.26] ([217.146.189.26:48112] helo=web23001.mail.ird.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 3F/B0-16382-01F99154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 14:43:46 -0700
Received: (qmail 74265 invoked by uid 60001); 26 Sep 2006 21:43:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=6KtOV/VpKtNz7Rh2YkYymDrhFqLAWL82gLxJaCAlPspaUIf6RT+oQ0iHU6yh0QUoB7i5CEiwEfAqq1440QcdhxISDMoaOvqlWzn9J3XYrgXP8nwhGbDXLD53ZW3prbzmcrKLDlZKrCb9rQ8ehGCdjRZ9xz9dQ8oyrntW6JketNA=  ;
Message-ID: <20060926214341.74263.qmail@web23001.mail.ird.yahoo.com>
Received: from [84.131.248.179] by web23001.mail.ird.yahoo.com via HTTP; Tue, 26 Sep 2006 21:43:41 GMT
Date: Tue, 26 Sep 2006 21:43:41 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Reply-To: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Re[2]: how to enhance speed of sorted search
To: java-user@lucene.apache.org
In-Reply-To: <9fc755c20609261430t20330bbajc416b6eab25d8279@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul's Matcher in Jira will almost enable this, indirectly but possible

----- Original Message ----
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, 26 September, 2006 11:30:24 PM
Subject: Re: Re[2]: how to enhance speed of sorted search

On 9/26/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:

> if you are seeing "slow" performance from sorted searches,
> the time spent "scoring" the results isn't the biggest contributor to how
> long thesearch takes -- it tends to be negligable for most queries.

I've many times wished for a visiting score mechanism of some kind.
Turn it off and save CPU, remove floating points, or even hide a
global sort order in the norms.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 22:35:59 2006
Return-Path: <java-user-return-23580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9086 invoked from network); 26 Sep 2006 22:35:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 22:35:58 -0000
Received: (qmail 24588 invoked by uid 500); 26 Sep 2006 22:35:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24298 invoked by uid 500); 26 Sep 2006 22:35:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24287 invoked by uid 99); 26 Sep 2006 22:35:52 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 15:35:52 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=markharw00d@yahoo.co.uk; domainkeys=bad
Authentication-Results: idunn.apache.osuosl.org smtp.mail=markharw00d@yahoo.co.uk; spf=permerror
X-ASF-Spam-Status: No, hits=1.9 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.co.uk from 217.12.11.33 cause and error)
DomainKey-Status: bad
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [217.12.11.33] ([217.12.11.33:41879] helo=smtp002.mail.ukl.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 22/F1-17360-42BA9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 15:35:36 -0700
Received: (qmail 32760 invoked from network); 26 Sep 2006 22:34:36 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=RDlkFdvQTR043Iy1sQJfTeQmOUl1kPg+rVJKGdMKp9G327pZX4uV2AS4Db0/VJkmm5EiCbPMMPkLp4sv6xCl9OgjBLEDJ1ayL+c/xWSv0uLg7TUgwg42PVDej0Q8vommCfPMXgpNgEyGNwpDJ2P1r9pEsZlNOXTwqIcsvnmXPUg=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 26 Sep 2006 22:34:36 -0000
Message-ID: <4519AAF9.7050605@yahoo.co.uk>
Date: Tue, 26 Sep 2006 23:34:33 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to get results without getting total number of found documents?
References: <373399D6389D8C42B4EAD9BE2B6B5C5F0715171F@tormail01.cihi.ca>
In-Reply-To: <373399D6389D8C42B4EAD9BE2B6B5C5F0715171F@tormail01.cihi.ca>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 >>- get the top 1000 results WITHOUT executing query across whole data set

(Apologies if this is telling something you are already fully aware of ) 
- Counting matches doesn't involve scanning the text of all the docs so 
may be less expensive than you think for a single index. It very quickly 
looks up and ranks only the docs containing your search terms so a total 
match count is not an expensive by-product of this operation - see a 
description of inverted indexes for more details: 
http://en.wikipedia.org/wiki/Inverted_index

If you're aware of all that and considering larger scale problems 
(billions of docs) where multiple machines/indexes must be queried in 
parallel things are more complex. The cost of combining result scores 
from multiple machines is typically why you can't page beyond 1000 
results. Some of these large distributed  architectures will divide 
content into popular/recent content and older/less popular content. 
Approximations for total number of matching docs are calculated based on 
queries executed solely on the subset of popular stuff. Only queries 
with insufficient matches in popular content will resort to querying the 
older stuff.

Cheers
Mark


Vladimir Olenin wrote:
> Hi.
>  
> I couldn't find the answer to this question in the mailing list archive.
> In case I missed it, please let me know the keyword phrase I should be
> looking for, if not a direct link.
>  
> All the 'Lucene' powered implementations I saw (well, primarily those
> utilizing Solr) return exact count of the number of documents found. It
> means that the query is resolved across the whole data set in precise
> fashion. If the number of searched documents is huge (eg, > 1billion),
> this should present quite a problem. I wonder if that's the default
> behaviour of Lucene or rather the frameworks that utilize it? Is it
> possible to:
>  
> - get the top 1000 results WITHOUT executing query across whole data set
> - in other words, can Lucene:
>   - chunk out top X results by 'approximate' fast search, which will
> return _approximate_ total number of found documents, similar to
> 'Google' total pages found count
>   - and perform more accurate search within that chunk
>  
> Is such functionality built in or it has be customized? If it's
> built-in, what algorithms are used to 'chunk out' the results and get
> approximate docs count? What classes should I look at?
>  
> Thanks!
>  
> Vlad
>  
> PS: it's pretty much the functionality Google has - you can't get more
> than 1000 matches per query (meaning, you can get even '10M' documents
> found, but if you'll try to browse beyond '1000' results, you'll get an
> error page).
>
>   



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 22:59:57 2006
Return-Path: <java-user-return-23581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12952 invoked from network); 26 Sep 2006 22:59:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 22:59:56 -0000
Received: (qmail 52580 invoked by uid 500); 26 Sep 2006 22:59:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52553 invoked by uid 500); 26 Sep 2006 22:59:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52542 invoked by uid 99); 26 Sep 2006 22:59:50 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 15:59:50 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.178 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.178] ([64.233.166.178:3692] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id F4/00-20203-3E0B9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 15:59:48 -0700
Received: by py-out-1112.google.com with SMTP id w49so2833850pyg
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 15:59:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=daP64H3lAgfBVahXHuoz3YZ1C6tr5E6q78kexrPyQFdgr32eTxIYG0AIbdEpYYMWT0lwmSizooJJ3kGXon7DEn4hW9NdtToUZFnq1r1EmDXrKAm4BZNOvRQB8HPGnOwP5F9GMZZ3uGymch6WiA5Qozggs7vNKHvZDQuDclMg8+U=
Received: by 10.35.38.17 with SMTP id q17mr81521pyj;
        Tue, 26 Sep 2006 15:59:44 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Tue, 26 Sep 2006 15:59:44 -0700 (PDT)
Message-ID: <359a92830609261559t215dd0d0o3c2c6b120f5621d7@mail.gmail.com>
Date: Tue, 26 Sep 2006 18:59:44 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: cache persistent Hits
In-Reply-To: <45199995.10707@artentis.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14681_27502497.1159311584591"
References: <45196ED5.3050003@artentis.com>
	 <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com>
	 <45197C09.3020303@artentis.com>
	 <359a92830609261341k4a162cdel50314dc6604944e@mail.gmail.com>
	 <45199995.10707@artentis.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14681_27502497.1159311584591
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Glad I could help. I don't read a word of German, but even I could see the
227 milliseconds at the bottom <G>.

Glad things are working for you.
Erick

On 9/26/06, Gaston <gasi@artentis.com> wrote:
>
> Hi Erick,
>
> the problem was this piece of code I don't need anymore.
>
> for(int i=0;i<hits.length();i++)
> {
>
>           Document doc=hits.doc(i);
>
>
>   }
>
> Now it is very fast, thank you very much for your email that is written
> in detail.
> Here is my application, that still is in development phase.
> http://www.suchste.de
>
> Greetings Gaston
>
> P.S. The search for 'web' delivers over 5000 hits...
>
>
> Erick Erickson schrieb:
>
> > See below.
> >
> > On 9/26/06, Gaston <gasi@artentis.com> wrote:
> >
> >>
> >> hi,
> >>
> >> first thank you for the fast reply.
> >>
> >> I use MultiSearcher that opens 3 indexes, so this makes the whole
> >> operation surly slower, but 20seconds for 5260 results out of an 212MB
> >> index  is  much too slow.
> >> Another reason can of course be my ISP.
> >>
> >> Here is my code:
> >>
> >>         IndexSearcher[] searchers;
> >>         searchers=new IndexSearcher[3];
> >>         String path="/home/sn/public_html/";
> >>         searchers[0]=new IndexSearcher(path+"index1");
> >>         searchers[1]=new IndexSearcher(path+"index2");
> >>         searchers[2]=new IndexSearcher(path+"index3");
> >>         MultiSearcher saercher=new MultiSearcher(searchers);
> >
> >
> >
> >
> > Above you've opened the searcher for each search, exactly as I feared.
> > This
> > is a major hit. Don't do this, but keep the searchers open between
> calls.
> > You can demonstrate this to yourself by returning time intervals in your
> > HTML page. Take one timestamp right here, one after a new dummy query
> > that
> > you make up and hard-code, and one after the "real" query you already
> > have
> > below. Return them all in your HTML page and take a look. I think
> > you'll see
> > that the first query takes a while, and the second is very fast. And
> > don't
> > iterate over all the hits (more below).
> >
> >
> >        QueryParser parser=new QueryParser("content",new
> >
> >> StandardAnalyzer());
> >>             parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
> >>
> >>             Query query=parser.parse("urlName:"+userInput+" OR
> >> "+"content:"+userInput);
> >>
> >>             Hits hits=searcher.search(query);
> >>
> >>             for(int i=0;i<hits.length();i++)
> >>             {
> >>
> >>                 Document doc=hits.doc(i);
> >>
> >>
> >>             }
> >
> >
> >
> > what is the purpose of iteration above? This does nothing except waste
> > time.
> > I'd just remove it (unless there's something else you're doing here
> > that you
> > left out). If you're trying to get to the startPoint below, well,
> > there's no
> > reason to iterate above, just to directly to the loop below. For 5000
> > hits,
> > you're repeating the search 50 times or so, as has been discussed in
> > these
> > archives repeatedly. See my previous mail.....
> >
> >
> >       // Outprint only 10 results per page
> >
> >>
> >>     for(int i=startPoint;i<startPoint+10;i++)
> >>             {
> >>
> >>                 Document doc=hits.doc(i);
> >>
> >>
> >> out.println(escapeHTML(doc.get("description"))+"<p>");
> >>                     out.println("<a
> >> href="+doc.get("url")+">"+doc.get("url").substring(7)+"</a>");
> >>                     out.println("<p><p><p>");
> >>
> >>             }
> >>
> >> Perhaps somebody see the reason why it is so slow.
> >>
> >> Thank you in advance
> >>
> >> Greetings Gaston
> >
> >
> >
> > I'm assuming that your ISP comment is just where you're getting your
> page
> > from, and that your searchers and indexes are at least on the same
> > network
> > and NOT separated by the web, as that would be slow and hard to fix.
> >
> > To get a sense of where you're really spending your time, I'd actually
> > get
> > the system time at various points in the process and send the *times*
> > back
> > in your HTML page. That'll give you a much better sense of where you're
> > actually spending time. You can't really tell anything by measuring
> > now long
> > it takes to get your HTML page back, you've *got* to measure at discreet
> > points in the code and return those.
> >
> > 5,000+ results should not be taking 20 seconds. I strongly suspect
> > that the
> > fact that you're opening your searchers every time and uselessly
> > iterating
> > through all the hits is the culprit. If I remember correctly, and you
> > have
> > 5,000 documents, you're executing the query about 50 times when you
> > iterate
> > through all the hits. Under the covers, Hits is optimized for about 100
> > results. As you iterate through, each "next 100" re-executes the
> > query. You
> > could search the mail archive for this topic, maybe "hits slow" or
> > some such
> > for greater explications.
> >
> > Hope this helps
> > Erick
> >
> >
> > Erick Erickson schrieb:
> >
> >>
> >> > Well, my index is over 1.4G, and others are reporting very large
> >> > indexes in
> >> > the 10s of gigabytes. So I suspect your index size isn't the issue.
> >> > I'd be
> >> > very, very, very surprised if it was.
> >> >
> >> > Three things spring immediately to mind.
> >> >
> >> > First, opening an IndexSearcher is a slow operation. Are you opening
> a
> >> > new
> >> > IndexSearcher for each query? If so, don't <G>. You can re-use the
> >> same
> >> > searcher across threads without fear and you should *definitely*
> >> keep it
> >> > open between queries.
> >> >
> >> > Second, your query could just be very, very interesting. It would be
> >> more
> >> > helpful if you posted an example of the code where you take your
> >> timings
> >> > (including opening the IndexSearcher).
> >> >
> >> > Third, if you're using a Hits object to iterate over many
> >> documents, be
> >> > aware that it re-executes the query every hundred results or so. You
> >> > want to
> >> > use one of the  HitCollector/TopDocs/TopDocsCollector classes if
> >> you are
> >> > iterating over all the returned documents. And you really *don't*
> want
> >> > to do
> >> > an IndexReader.doc(doc#) or Searcher.doc(doc#) on every document.
> >> >
> >> > If none of this helps, please post some code fragments and I'm sure
> >> > others
> >> > will chime in.
> >> >
> >> > Best
> >> > Erick
> >> >
> >> > On 9/26/06, Gaston <gasi@artentis.com> wrote:
> >> >
> >> >>
> >> >> Hi,
> >> >>
> >> >> Lucene has itself  volatile caching mechanism provided by a weak
> >> >> HashMap. Is there a possibilty to serialize the Hits Object? I
> >> think of
> >> >> a HashMap that for each found result, caches the first 100
> >> results. Is
> >> >> it possible to implement such a feature or is there such an
> >> extension?
> >> >> My problem is that the searching of my application with an index
> with
> >> >> the size of 212MB takes to much time, despite I set the
> >> BooleanOperator
> >> >> from OR to AND
> >> >>
> >> >> I am happy about every suggestion.
> >> >>
> >> >> Greetings
> >> >>
> >> >> Gaston.
> >> >>
> >> >>
> ---------------------------------------------------------------------
> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >>
> >> >>
> >> >
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_14681_27502497.1159311584591--

From java-user-return-23582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 23:06:10 2006
Return-Path: <java-user-return-23582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13857 invoked from network); 26 Sep 2006 23:06:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 23:06:09 -0000
Received: (qmail 57479 invoked by uid 500); 26 Sep 2006 23:06:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57451 invoked by uid 500); 26 Sep 2006 23:06:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57440 invoked by uid 99); 26 Sep 2006 23:06:04 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 16:06:04 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=VOlenin@cihi.ca; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain cihi.ca from 205.207.78.3 cause and error)
Received: from [205.207.78.3] ([205.207.78.3:1284] helo=tormail01.cihi.ca)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 24/20-20203-852B9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 16:06:02 -0700
Received: from (tormail01.cihi.ca [10.64.1.106]) by webshield.cihi.ca with smtp
	 id 605f_f30fe9d0_4db3_11db_9eb6_003048245df9;
	Tue, 26 Sep 2006 19:08:47 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: how to get results without getting total number of found documents?
Date: Tue, 26 Sep 2006 19:04:20 -0400
Message-ID: <373399D6389D8C42B4EAD9BE2B6B5C5F07151737@tormail01.cihi.ca>
In-Reply-To: <4519AAF9.7050605@yahoo.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: how to get results without getting total number of found documents?
Thread-Index: Acbhu/kC8xaw5k/3RZa7XtJ+OwhqVwAAX9/Q
From: "Vladimir Olenin" <VOlenin@cihi.ca>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Mark, that clears things up a bit. No need to appologise - I am
quite a novice with Lucene.

To explain my concern a bit, assume that your inverted index is queried
with 'or' query for the most 'common' terms (ie, after excluding such
denominators as 'a', 'the', etc). Let's say, you have following terms:

- 'work': occurs in 200M documents
- 'java': occurs in 100M documents
- '.net': occurs in 100M documents

Now, if I'm doing a query: 'work OR java OR .net' the total result set
should be somewhere between 200M and 400M, right? But to get the exact
number you'll actually need to make the union of ALL the document Ids,
which means you'd have to loop through 400M ids at least. For more
complex queries the cost should be higher. The sorting step should be
quite expensive for the 'whole' dataset as well. The intersect should be
cheaper because each step eliminates some number of documents. In the
implementations I saw/did in the past the ability (or, to be more
correct, Unability) to create this kind of 'approximation' and chunk out
'most significant' results was the main limiting factor of all the
algorithms.

Thanks!

Vlad

PS: by 'computationally expensive', I mean 'scalability' as well - all
this operations are very CPU intensive, so if one query returns within
1-2 seconds during which time takes up 100% of CPU time, it means that
for 20 concurrent users the response time for the 'most unlucky' one
would be somewhere between 20 and 40 seconds.
=20

-----Original Message-----
From: markharw00d [mailto:markharw00d@yahoo.co.uk]=20
Sent: Tuesday, September 26, 2006 6:35 PM
To: java-user@lucene.apache.org
Subject: Re: how to get results without getting total number of found
documents?

 >>- get the top 1000 results WITHOUT executing query across whole data
set

(Apologies if this is telling something you are already fully aware of )
- Counting matches doesn't involve scanning the text of all the docs so
may be less expensive than you think for a single index. It very quickly
looks up and ranks only the docs containing your search terms so a total
match count is not an expensive by-product of this operation - see a
description of inverted indexes for more details:=20
http://en.wikipedia.org/wiki/Inverted_index

If you're aware of all that and considering larger scale problems
(billions of docs) where multiple machines/indexes must be queried in
parallel things are more complex. The cost of combining result scores
from multiple machines is typically why you can't page beyond 1000
results. Some of these large distributed  architectures will divide
content into popular/recent content and older/less popular content.=20
Approximations for total number of matching docs are calculated based on
queries executed solely on the subset of popular stuff. Only queries
with insufficient matches in popular content will resort to querying the
older stuff.

Cheers
Mark


Vladimir Olenin wrote:
> Hi.
> =20
> I couldn't find the answer to this question in the mailing list
archive.
> In case I missed it, please let me know the keyword phrase I should be

> looking for, if not a direct link.
> =20
> All the 'Lucene' powered implementations I saw (well, primarily those=20
> utilizing Solr) return exact count of the number of documents found.=20
> It means that the query is resolved across the whole data set in=20
> precise fashion. If the number of searched documents is huge (eg, >=20
> 1billion), this should present quite a problem. I wonder if that's the

> default behaviour of Lucene or rather the frameworks that utilize it?=20
> Is it possible to:
> =20
> - get the top 1000 results WITHOUT executing query across whole data=20
> set
> - in other words, can Lucene:
>   - chunk out top X results by 'approximate' fast search, which will=20
> return _approximate_ total number of found documents, similar to=20
> 'Google' total pages found count
>   - and perform more accurate search within that chunk
> =20
> Is such functionality built in or it has be customized? If it's=20
> built-in, what algorithms are used to 'chunk out' the results and get=20
> approximate docs count? What classes should I look at?
> =20
> Thanks!
> =20
> Vlad
> =20
> PS: it's pretty much the functionality Google has - you can't get more

> than 1000 matches per query (meaning, you can get even '10M' documents

> found, but if you'll try to browse beyond '1000' results, you'll get=20
> an error page).
>
>  =20



	=09
___________________________________________________________
To help you stay safe and secure online, we've developed the all new
Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 26 23:26:28 2006
Return-Path: <java-user-return-23583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17517 invoked from network); 26 Sep 2006 23:26:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2006 23:26:28 -0000
Received: (qmail 71167 invoked by uid 500); 26 Sep 2006 23:26:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71133 invoked by uid 500); 26 Sep 2006 23:26:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71122 invoked by uid 99); 26 Sep 2006 23:26:23 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 16:26:23 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=ab@getopt.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain getopt.org from 69.44.16.11 cause and error)
Received: from [69.44.16.11] ([69.44.16.11:56539] helo=getopt.org)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 2A/20-20356-B17B9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 16:26:20 -0700
Received: from [10.10.16.237] (fre2-125.164.71.64.krugle.com [64.71.164.125] (may be forged))
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k8QNQXf30713
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 18:26:34 -0500
Message-ID: <4519B724.5040304@getopt.org>
Date: Wed, 27 Sep 2006 01:26:28 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: how to get results without getting total number of found documents?
References: <373399D6389D8C42B4EAD9BE2B6B5C5F07151737@tormail01.cihi.ca>
In-Reply-To: <373399D6389D8C42B4EAD9BE2B6B5C5F07151737@tormail01.cihi.ca>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Vlad,

Please check published papers on sampling inverted indexes and 
multi-level caching - this is most probably what Google and other major 
search engines use.

You can see a simple implementation of this principle in Nutch - the 
index is sorted in decreasing order by a PageRank-like score (the logic 
for this is in IndexSorter.java), and then when running a query we only 
collect top-N results, and extrapolate total numbers over the whole 
collection, assuming certain model of term distributions 
(LuceneQueryOptimizer.LimitedCollector).

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 00:26:27 2006
Return-Path: <java-user-return-23584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28417 invoked from network); 27 Sep 2006 00:26:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 00:26:27 -0000
Received: (qmail 21315 invoked by uid 500); 27 Sep 2006 00:26:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21292 invoked by uid 500); 27 Sep 2006 00:26:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21281 invoked by uid 99); 27 Sep 2006 00:26:20 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 17:26:20 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:58379] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E2/E0-20516-C25C9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 17:26:20 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 123685B77F; Tue, 26 Sep 2006 17:26:18 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0D93B7F403
	for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 17:26:18 -0700 (PDT)
Date: Tue, 26 Sep 2006 17:26:18 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: cache persistent Hits
In-Reply-To: <359a92830609261341k4a162cdel50314dc6604944e@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609261724300.27120@hal.rescomp.berkeley.edu>
References: <45196ED5.3050003@artentis.com> 
 <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com> 
 <45197C09.3020303@artentis.com> <359a92830609261341k4a162cdel50314dc6604944e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: >         IndexSearcher[] searchers;
: >         searchers=new IndexSearcher[3];
: >         String path="/home/sn/public_html/";
: >         searchers[0]=new IndexSearcher(path+"index1");
: >         searchers[1]=new IndexSearcher(path+"index2");
: >         searchers[2]=new IndexSearcher(path+"index3");
: >         MultiSearcher saercher=new MultiSearcher(searchers);

: Above you've opened the searcher for each search, exactly as I feared. This
: is a major hit. Don't do this, but keep the searchers open between calls.

in addition opening a multisearcher across several local searches is a big
wast (or so i'm told) ... you should see better performance from a single
searcher arround a MultiReader (note: multireader vs multisearcher)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 00:35:33 2006
Return-Path: <java-user-return-23585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29373 invoked from network); 27 Sep 2006 00:35:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 00:35:32 -0000
Received: (qmail 27122 invoked by uid 500); 27 Sep 2006 00:35:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27098 invoked by uid 500); 27 Sep 2006 00:35:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27086 invoked by uid 99); 27 Sep 2006 00:35:26 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 17:35:26 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:49635] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E9/11-20516-A47C9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 17:35:23 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5ED865B77F; Tue, 26 Sep 2006 17:35:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5B68A7F403;
	Tue, 26 Sep 2006 17:35:20 -0700 (PDT)
Date: Tue, 26 Sep 2006 17:35:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org, Chris Salem <chris@mainsequence.net>
Subject: Re: spell checker
In-Reply-To: <20060926205730.397FC30402A@radix.cryptio.net>
Message-ID: <Pine.LNX.4.58.0609261734510.27120@hal.rescomp.berkeley.edu>
References: <20060926205730.397FC30402A@radix.cryptio.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



I've added a FAQ that may help you with this, "How do i get code written
for Lucene 1.4.x to work with Lucene 2.x?"

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-d09fdfc8a6335eab4e3f3dc8ac41a40a3666318e



: Date: Tue, 26 Sep 2006 20:56:57 -0000
: From: Chris Salem <chris@mainsequence.net>
: Reply-To: java-user@lucene.apache.org, Chris Salem <chris@mainsequence.net>
: To: java-user@lucene.apache.org
: Subject: spell checker
:
: Does anyone have sample code on how to build a dictionary?
:
: I found this article online and but it uses version 1.4.3 and it doesn't seem to work on 2.0.0:  http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1
:
: Here's the code I have:
:
: indexReader = IndexReader.open(originalIndexDirectory);
: Dictionary dictionary = new LuceneDictionary(indexReader, "experience_desired");
: SpellChecker spellChckr = new SpellChecker(spellIndexDirectory);
: spellChckr.indexDictionary(dictionary);
: I'm getting a null pointer exception when I call indexDirectory().
: Here's how I index the field "experience_desired":
: doc.add(new Field("experience_desired", value, Field.Store.NO, Field.Index.TOKENIZED));
: Is there another way I should do it so there is a way to build a dictionary on that field?
:
: Thanks
:
: Chris Salem
: 440.946.5214 x5458
: chris@mainsequence.net
:
: (The following links were included with this email:)
: http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1
:
: mailto:chris@mainsequence.net
:
:
:
: (The following links were included with this email:)
: http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1
:
: mailto:chris@mainsequence.net
:
:
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 02:04:28 2006
Return-Path: <java-user-return-23586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46302 invoked from network); 27 Sep 2006 02:04:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 02:04:28 -0000
Received: (qmail 81657 invoked by uid 500); 27 Sep 2006 02:04:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81621 invoked by uid 500); 27 Sep 2006 02:04:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81489 invoked by uid 99); 27 Sep 2006 02:04:18 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 19:04:18 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=joshj551@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=joshj551@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.18 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.18] ([206.190.38.18:37945] helo=web50003.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id AB/60-21307-02CD9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 19:04:16 -0700
Received: (qmail 95251 invoked by uid 60001); 27 Sep 2006 02:04:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=P/XrAtCLyzi5SSvPKH970cfWHzZLgS4qbFQ6TTqFaJPs7rnljCVcUIAlObzdVGIkIGiGP1sHar+9238ufCJe9F2bT4dbfMsAQcNYxiVIvHPmOZdx0/4+u6eFMGXilGR0Rowz2U1KACu6Wx2ViRR7BcvP28tV0ADu/5iXPsvfaIs=  ;
Message-ID: <20060927020413.95249.qmail@web50003.mail.yahoo.com>
Received: from [71.85.144.121] by web50003.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 19:04:13 PDT
Date: Tue, 26 Sep 2006 19:04:13 -0700 (PDT)
From: Josh Joy <joshj551@yahoo.com>
Subject: Multiple Terms, Delete From Index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I need to delete from the index where 2 terms are
matching, rather than 
just one term.
For example,

IndexReader reader = IndexReader.open(dir);
Term[] terms = new Term[2];
terms[0] = new Term("city","city1");
terms[1] = new Term("state","state1");
reader.delete(terms);
reader.close();

Any suggestions?

Thanks in advance,
Josh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 02:45:00 2006
Return-Path: <java-user-return-23587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50401 invoked from network); 27 Sep 2006 02:45:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 02:45:00 -0000
Received: (qmail 160 invoked by uid 500); 27 Sep 2006 02:44:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 124 invoked by uid 500); 27 Sep 2006 02:44:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 113 invoked by uid 99); 27 Sep 2006 02:44:54 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 19:44:54 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=mekin.m@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=mekin.m@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.182.186 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.186] ([64.233.182.186:11325] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 92/91-21307-3A5E9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 19:44:51 -0700
Received: by nf-out-0910.google.com with SMTP id b2so338792nfe
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 19:44:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Wb6n7FJASpzrA6ZMQ5H0w5Qvm+dMvB/MtbnHUwb+PPkrOX/FvhLJ9O9/J+m/FvMXWptzerCzLPUDd1oNao4ExN4KNHIkaIQ6+X/cWAbL7tKLkbPUx5fChJGlxvACKPRvu8xc8hoa44N1ADzO4pPzXxkCx/GY8Z+VZUS0X4pmSMY=
Received: by 10.48.163.19 with SMTP id l19mr1790633nfe;
        Tue, 26 Sep 2006 19:44:48 -0700 (PDT)
Received: by 10.49.37.16 with HTTP; Tue, 26 Sep 2006 19:44:48 -0700 (PDT)
Message-ID: <865c77680609261944h335583acy6b6900ecb898e8eb@mail.gmail.com>
Date: Wed, 27 Sep 2006 08:14:48 +0530
From: Mek <mekin.m@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Very high fieldNorm for a field resulting in bad results
In-Reply-To: <Pine.LNX.4.58.0609261155270.13298@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com>
	 <Pine.LNX.4.58.0609261155270.13298@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks a lot Chris for the detailed & patitent response.


>
> The value of a the field norm for any field named "A" is typically the
> lengthNorm of the field, times the document boost, times the field boost
> for *each* Field instance added to the document with the name "A".
> (lengthNorm is by default 1/swrt(num of terms))

That explains the very high value for the fieldNorm. The boost value
became boost_vale^#of  values in the field.

A couple of more questions:

1. Can I do away with index-time boosting for fields & tweak
query-time boosting for them ? I understand that doc level boosting is
very useful while indexing.
But for fields, both index-boost & query-boost are mutiples which lead
to the score, so would it be safe to say that I can replace the
index-time boost with query-time boosting. This allows me a lot of
freedom to test different values without re-indexing which takes  me
about 6 hours.

2. When searching through the archive I had read a post by you, saying
its possible to give exact matches much higher weightage by indexing
the START & END
from : http://www.nabble.com/What-are-norms--tf1919250.html#a5335856
"it is possible to score exact matches on (tokenized) fields very high
without using lengthNorm by indexing START and END tokens for the field as
well, and then including them in your sloppy phrase queries -- the
"tighter" match will score highest."

Can you please elaborate on this,

Thanks a ton for the response,
mekin

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 03:12:08 2006
Return-Path: <java-user-return-23588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53297 invoked from network); 27 Sep 2006 03:12:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 03:12:08 -0000
Received: (qmail 15142 invoked by uid 500); 27 Sep 2006 03:12:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15111 invoked by uid 500); 27 Sep 2006 03:12:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15100 invoked by uid 99); 27 Sep 2006 03:12:02 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 20:12:02 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=3.1 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,MAILTO_TO_SPAM_ADDR
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.59 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.59] ([206.190.38.59:36605] helo=web50305.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A6/62-21307-FFBE9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 20:12:01 -0700
Received: (qmail 86387 invoked by uid 60001); 27 Sep 2006 03:11:57 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=zc47C8VieJZb/RJqXQXzN/8Y3xGNaqtqanKh5kQVGXgp9CK3jZANTuP2YiibXt3g5WVQcUPrfJI1oZaP6dTj8RloE23/EIXEvZLq2FP+LAIjg/R3L6JXpmLkvXkjZIEU28sLzjR7+/+xXJeFlgEHWKSvNZCzeYFlokA5z5ZZ1IM=  ;
Message-ID: <20060927031157.86385.qmail@web50305.mail.yahoo.com>
Received: from [74.65.202.166] by web50305.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 20:11:57 PDT
Date: Tue, 26 Sep 2006 20:11:56 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple Terms, Delete From Index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Heh, I have to try the obvious - two reader.delete(term) calls?=0A=0AOtis=
=0A=0A----- Original Message ----=0AFrom: Josh Joy <joshj551@yahoo.com>=0AT=
o: java-user@lucene.apache.org=0ASent: Tuesday, September 26, 2006 10:04:13=
 PM=0ASubject: Multiple Terms, Delete From Index=0A=0AHi All,=0A=0AI need t=
o delete from the index where 2 terms are=0Amatching, rather than =0Ajust o=
ne term.=0AFor example,=0A=0AIndexReader reader =3D IndexReader.open(dir);=
=0ATerm[] terms =3D new Term[2];=0Aterms[0] =3D new Term("city","city1");=
=0Aterms[1] =3D new Term("state","state1");=0Areader.delete(terms);=0Areade=
r.close();=0A=0AAny suggestions?=0A=0AThanks in advance,=0AJosh=0A=0A------=
---------------------------------------------------------------=0ATo unsubs=
cribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional com=
mands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 03:20:42 2006
Return-Path: <java-user-return-23589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54474 invoked from network); 27 Sep 2006 03:20:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 03:20:42 -0000
Received: (qmail 27704 invoked by uid 500); 27 Sep 2006 03:20:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27667 invoked by uid 500); 27 Sep 2006 03:20:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27656 invoked by uid 99); 27 Sep 2006 03:20:35 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 20:20:35 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.60 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.60] ([206.190.38.60:47863] helo=web50306.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 70/B2-21307-10EE9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 20:20:33 -0700
Received: (qmail 25601 invoked by uid 60001); 27 Sep 2006 03:20:30 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=5robX1NnljuFM/DIqPnzEWOxPuOm2mpqR1BKaIJX51vgnNf/nFR0CN6W8whuApXrZlJVkimx4bEJgtiCry02VirvDFkZRE0G9BGdW2D/MOUiPCKJRPRvsGjpuST34BBEESQT/Xj8U76VEX8f/TLDfpNDdTQBWgY/wcK1tisg+O4=  ;
Message-ID: <20060927032030.25599.qmail@web50306.mail.yahoo.com>
Received: from [74.65.202.166] by web50306.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 20:20:30 PDT
Date: Tue, 26 Sep 2006 20:20:30 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: spell checker
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The code works with Lucene 2.0, I've used it.  However, it did change sligh=
tly.  If you look in JIRA you'll find some comments about it.  If I recall =
correctly, some changes I made to LuceneDictionary(?) class now require the=
 index directory to exist....I think.=0A=0AOtis=0A=0A----- Original Message=
 ----=0AFrom: Chris Salem <chris@mainsequence.net>=0ATo: java-user@lucene.a=
pache.org=0ASent: Tuesday, September 26, 2006 4:56:57 PM=0ASubject: spell c=
hecker=0A=0ADoes anyone have sample code on how to build a dictionary?=0A=
=0AI found this article online and but it uses version 1.4.3 and it doesn't=
 seem to work on 2.0.0:  http://today.java.net/pub/a/today/2005/08/09/didyo=
umean.html?page=3D1=0A=0AHere's the code I have:=0A=0AindexReader =3D Index=
Reader.open(originalIndexDirectory);=0ADictionary dictionary =3D new Lucene=
Dictionary(indexReader, "experience_desired");=0ASpellChecker spellChckr =
=3D new SpellChecker(spellIndexDirectory);=0AspellChckr.indexDictionary(dic=
tionary);=0AI'm getting a null pointer exception when I call indexDirectory=
().  =0AHere's how I index the field "experience_desired": =0Adoc.add(new F=
ield("experience_desired", value, Field.Store.NO, Field.Index.TOKENIZED));=
=0AIs there another way I should do it so there is a way to build a diction=
ary on that field?=0A=0AThanks=0A=0AChris Salem=0A440.946.5214 x5458=0Achri=
s@mainsequence.net =0A=0A(The following links were included with this email=
:)=0Ahttp://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=3D1=
=0A=0Amailto:chris@mainsequence.net=0A=0A=0A=0A(The following links were in=
cluded with this email:)=0Ahttp://today.java.net/pub/a/today/2005/08/09/did=
youmean.html?page=3D1=0A=0Amailto:chris@mainsequence.net=0A=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 03:23:23 2006
Return-Path: <java-user-return-23590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54754 invoked from network); 27 Sep 2006 03:23:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 03:23:23 -0000
Received: (qmail 29519 invoked by uid 500); 27 Sep 2006 03:23:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29489 invoked by uid 500); 27 Sep 2006 03:23:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29477 invoked by uid 99); 27 Sep 2006 03:23:17 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 20:23:17 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.55 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.55] ([206.190.38.55:23970] helo=web50301.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 03/C2-21307-3AEE9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 20:23:16 -0700
Received: (qmail 26774 invoked by uid 60001); 27 Sep 2006 03:23:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=vpRCtBaF4AKSp5viniUZJ+ps7tyH/5v10hgGxbtx4HvtybRlo8FlJrvlucLhg32jtp7xZYqms2y1vYw3rbNyI5DvhNxhiS4H9az/Z8gNOPNXNNVXFydf7TNAGNtzox2ydBoImgr7jY3L96eM/xa+8KRld8P/DjsHmgsqKHNy1+c=  ;
Message-ID: <20060927032312.26772.qmail@web50301.mail.yahoo.com>
Received: from [74.65.202.166] by web50301.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 20:23:12 PDT
Date: Tue, 26 Sep 2006 20:23:12 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene In Action Book vs Lucene 2.0
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,=0A=0AI think you'll find most of the book to still be useful (but then =
again, I'm the co-author, so maybe I'm not 100% objective).  One thing wher=
e the API changed is Fields.  They are now constructed differently, so the =
code in the book won't match the current API.=0AWe have LIA code working un=
der Lucene 2.0, but we'll have to wait and publish it along with LIA2.  It =
IS coming! :)=0A=0AOtis=0A=0A----- Original Message ----=0AFrom: KEGan <kho=
on.ee.gan@gmail.com>=0ATo: java-user@lucene.apache.org=0ASent: Tuesday, Sep=
tember 26, 2006 3:32:06 PM=0ASubject: Lucene In Action Book vs Lucene 2.0=
=0A=0AHi,=0A=0AI have bought the Lucene In Action Book for more than a year=
 now, and was=0Ausing Lucene 1.x during that time. Now, I have a new projec=
t with Lucene and=0ALucene is now 2.0. Many APIs seems to have changed.=0A=
=0AI would like to ask the experts here, what are the important or substant=
ial=0Achanges from Lucene 1.x to 2.0? Which part of the LIA book that is st=
ill=0Ausable and which part is not? Any particular things that a new Lucene=
=0A2.0user that only have used the=0A1.x version, should pay attention to?=
=0A=0AThanks.=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 04:33:17 2006
Return-Path: <java-user-return-23591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67378 invoked from network); 27 Sep 2006 04:33:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 04:33:17 -0000
Received: (qmail 87664 invoked by uid 500); 27 Sep 2006 04:33:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87638 invoked by uid 500); 27 Sep 2006 04:33:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87627 invoked by uid 99); 27 Sep 2006 04:33:10 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 21:33:10 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=khoon.ee.gan@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=khoon.ee.gan@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.232 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.232] ([66.249.82.232:30776] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 6D/40-22234-50FF9154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 21:33:09 -0700
Received: by wx-out-0506.google.com with SMTP id s15so71665wxc
        for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 21:33:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ucMUahF2ofSYfO4+v0cbuvVeVK5YnQz+5qxSjLPJz0zJJVkvL8jhB3CoUYDCQLxKBJ8tHpv0nYl9IIuu9FCsv0zfCFXIexl4gqMvm7CCOxibt5YPWiaj0NfJiGgM12WmLzWqOu1hP9SCPDTWda/zIus9riibWFsCthp63JSgzqo=
Received: by 10.70.130.19 with SMTP id c19mr599197wxd;
        Tue, 26 Sep 2006 21:33:06 -0700 (PDT)
Received: by 10.70.22.17 with HTTP; Tue, 26 Sep 2006 21:33:06 -0700 (PDT)
Message-ID: <85c493340609262133x394a6099g418d070f7c82d0ae@mail.gmail.com>
Date: Wed, 27 Sep 2006 12:33:06 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene In Action Book vs Lucene 2.0
In-Reply-To: <20060927032312.26772.qmail@web50301.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18625_10654328.1159331586501"
References: <20060927032312.26772.qmail@web50301.mail.yahoo.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18625_10654328.1159331586501
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Otis,

What about the internal of Lucene? Are there any major changes in there?

LIA is such a great book. Any date when LIA2 is coming? I definitely must
get it :)


On 9/27/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Hi,
>
> I think you'll find most of the book to still be useful (but then again,
> I'm the co-author, so maybe I'm not 100% objective).  One thing where the
> API changed is Fields.  They are now constructed differently, so the code in
> the book won't match the current API.
> We have LIA code working under Lucene 2.0, but we'll have to wait and
> publish it along with LIA2.  It IS coming! :)
>
> Otis
>
> ----- Original Message ----
> From: KEGan <khoon.ee.gan@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, September 26, 2006 3:32:06 PM
> Subject: Lucene In Action Book vs Lucene 2.0
>
> Hi,
>
> I have bought the Lucene In Action Book for more than a year now, and was
> using Lucene 1.x during that time. Now, I have a new project with Lucene
> and
> Lucene is now 2.0. Many APIs seems to have changed.
>
> I would like to ask the experts here, what are the important or
> substantial
> changes from Lucene 1.x to 2.0? Which part of the LIA book that is still
> usable and which part is not? Any particular things that a new Lucene
> 2.0user that only have used the
> 1.x version, should pay attention to?
>
> Thanks.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_18625_10654328.1159331586501--

From java-user-return-23592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 05:13:32 2006
Return-Path: <java-user-return-23592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75362 invoked from network); 27 Sep 2006 05:13:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 05:13:32 -0000
Received: (qmail 17732 invoked by uid 500); 27 Sep 2006 05:13:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17706 invoked by uid 500); 27 Sep 2006 05:13:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17695 invoked by uid 99); 27 Sep 2006 05:13:24 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 26 Sep 2006 22:13:24 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=joshj551@yahoo.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=joshj551@yahoo.com; spf=permerror
X-ASF-Spam-Status: No, hits=3.1 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,MAILTO_TO_SPAM_ADDR
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.24 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.24] ([206.190.38.24:23774] helo=web50009.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id AB/10-22465-4780A154 for <java-user@lucene.apache.org>; Tue, 26 Sep 2006 22:13:24 -0700
Received: (qmail 15397 invoked by uid 60001); 27 Sep 2006 05:13:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=33xmHMX4dvrtWPj1pCIoeXuyfhjrSKbS8tDWKPBo+zzAFzczqFC22BpLuoHkt/e2zXoEJ3pbvnGwJoD82b4zEH8FsiW70hSaKXeHXA2a4MkAy9I4JWMXnuH0+MYh3/WCxvD1qGaSn6L6uYmr+dsl20EXM9TcCAv7vXFo9feP7jc=  ;
Message-ID: <20060927051321.15392.qmail@web50009.mail.yahoo.com>
Received: from [71.85.144.121] by web50009.mail.yahoo.com via HTTP; Tue, 26 Sep 2006 22:13:21 PDT
Date: Tue, 26 Sep 2006 22:13:21 -0700 (PDT)
From: Josh Joy <joshj551@yahoo.com>
Subject: Re: Multiple Terms, Delete From Index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

Won't that delete all documents with term1, then all
documents with 
term2...rather than deleting all documents that
contain only term1 and 
term2...or am I missing the obvious and doing
something wrong?

Thanks,
Josh

Otis Gospodnetic wrote:
> Heh, I have to try the obvious - two
reader.delete(term) calls?
>
> Otis
>
> ----- Original Message ----
> From: Josh Joy <joshj551@yahoo.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, September 26, 2006 10:04:13 PM
> Subject: Multiple Terms, Delete From Index
>
> Hi All,
>
> I need to delete from the index where 2 terms are
> matching, rather than 
> just one term.
> For example,
>
> IndexReader reader =ndexReader.open(dir);
> Term[] terms =ew Term[2];
> terms[0] =ew Term("city","city1");
> terms[1] =ew Term("state","state1");
> reader.delete(terms);
> reader.close();
>
> Any suggestions?
>
> Thanks in advance,
> Josh
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
java-user-help@lucene.apache.org
>
>
>
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
java-user-help@lucene.apache.org
>
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 07:03:01 2006
Return-Path: <java-user-return-23593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6222 invoked from network); 27 Sep 2006 07:03:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 07:03:01 -0000
Received: (qmail 23758 invoked by uid 500); 27 Sep 2006 07:02:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23414 invoked by uid 500); 27 Sep 2006 07:02:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23403 invoked by uid 99); 27 Sep 2006 07:02:54 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 00:02:54 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=jackychenp@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=jackychenp@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=4.0 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MIME_BASE64_TEXT
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.177 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.177] ([64.233.166.177:15423] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id B4/61-22892-9122A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 00:02:50 -0700
Received: by py-out-1112.google.com with SMTP id w49so124287pyg
        for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 00:02:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:subject:date:mime-version:content-type:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=ouIbIY7Rtb21F8LAk0SeyeWBtgLOw9YpUkH/7QF6V2azE0fS/FgeSG8RmLXs7GvejEcEuMliYdEpag9Etdc1whaUzRNWit1s2/MXjLyNYPFSGYQHyHxsh98dBiT7q8Lo7TpDXBCa6VEXeWLlmUjt935eq56YolnlEafS0EkffPY=
Received: by 10.35.52.18 with SMTP id e18mr230750pyk;
        Wed, 27 Sep 2006 00:02:46 -0700 (PDT)
Received: from client11 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id 60sm396913pyg.2006.09.27.00.02.45;
        Wed, 27 Sep 2006 00:02:46 -0700 (PDT)
Message-ID: <001801c6e202$e2f46fc0$1501a8c0@keenmicro.com>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
Subject: lock file of lucene
Date: Wed, 27 Sep 2006 15:02:20 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0015_01C6E245.EE3BB8F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0015_01C6E245.EE3BB8F0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

aGksDQogIFdoZW4gd3JpdGluZyBpbnRvIGFuIGluZGV4LCBsdWNlbmUgd2lsbCBjcmVhdGUgYSB3
cml0ZSBsb2NrIGZpbGUuIA0KU28sIGlmIHRoZXJlIGlzIGFuIGVycm9yIGR1cmluZyB0aGUgd3Jp
dGluZy4gdGhlIGxvY2sgZmlsZSB3aWxsIG5vdCBiZSBkZWxldGVkLiANCkFuZCBhbHNvIHRoZSBK
Vk0gd2lsbCBub3QgYmUgY2xvc2VkIGZvciBzb21lIHRpbWUuIFNvIHRoZSBwcm9ncmFtIHdpbGwg
aGF2ZSBubyBjaGFuY2UgdG8gZ2V0IGxvY2sgb2YgdGhpcyBpbmRleC4NCklzIHRoZXJlIGFueSBt
ZXRob2QgdG8gYXZvaWQgdGhhdD8NCg0KICAgICBCZXN0IFJlZ2FyZHMuDQogICAgICAgamFja3kg
IA0KICAgICAgIA==

------=_NextPart_000_0015_01C6E245.EE3BB8F0--


From java-user-return-23594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 07:45:35 2006
Return-Path: <java-user-return-23594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29152 invoked from network); 27 Sep 2006 07:45:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 07:45:34 -0000
Received: (qmail 82322 invoked by uid 500); 27 Sep 2006 07:45:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81419 invoked by uid 500); 27 Sep 2006 07:45:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81408 invoked by uid 99); 27 Sep 2006 07:45:28 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 00:45:28 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=heritrix.lucene@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=heritrix.lucene@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.179 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.179] ([64.233.166.179:47416] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 2E/D2-22892-51C2A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 00:45:26 -0700
Received: by py-out-1112.google.com with SMTP id w49so136299pyg
        for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 00:45:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Wru0vWGPm+oL8momKRHqDwDpoEiz5YZ9yvip3LGjar2x86RsS3a1ijQQ/0mrJTn6CW85VvxKrSSADcVi1y9WoIKXM+EF4YCuaXXfU8CPcyaUw+5beXoDWMeVHz2gAhqjzegSIBF5RhZSOlEhmnlhdLNLuyM/GIZob09dDxCSoS8=
Received: by 10.35.46.11 with SMTP id y11mr285503pyj;
        Wed, 27 Sep 2006 00:45:22 -0700 (PDT)
Received: by 10.35.66.7 with HTTP; Wed, 27 Sep 2006 00:45:22 -0700 (PDT)
Message-ID: <a36516400609270045n14ad3316l87346bf165452727@mail.gmail.com>
Date: Wed, 27 Sep 2006 13:15:22 +0530
From: heritrix.lucene <heritrix.lucene@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: searching for the part of a term.
In-Reply-To: <Pine.LNX.4.58.0609261141510.13298@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_25593_14384167.1159343122689"
References: <a36516400609230212r5aeb7050y3e51af7e342b33fa@mail.gmail.com>
	 <a36516400609260547n78124d6ckc8edb9f65ed366ea@mail.gmail.com>
	 <Pine.LNX.4.58.0609261141510.13298@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_25593_14384167.1159343122689
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
Thanks for yor reply..


> : Since the overhead in first is the speed of the system, i think adopting
> : second method will be better.


Since iMy index size is around 10GB the second method is also taking a lot
of time for queries like
"am".

One more things that i found in

http://www.gossamer-threads.com/lists/lucene/java-user/13345?search_string=Starts%20With%20x%20and%20Ends%20With%20x%20Queries;#13345

was to index rotated token of a word, and then search by the prefix query.
But i think here also i'll face the speed issue because of the prefix
query..(If i am right...)


One more thing that we can do is to prepare the n-grams of a word and then
index each of them.
This way the index size will increase by several magnitude on the cost of
speed...

Is this the way by which i can implement the fastest substring search ????


Regards....




:
> : Is there any other solution for this problem?? Am i going in right
> : direction??
>
> you're definitely on teh right path -- those are the two bigsolutions i
> can think of, which appraoch you should take really depends on the nature
> of your data, what your performance concerns are, and how much development
> time you have.
>
> Here's another good thread you may want to check out...
>
>
> http://www.nabble.com/I-just-don%27t-get-wildcards-at-all.-tf1412243.html#a3804223
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_25593_14384167.1159343122689--

From java-user-return-23595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 08:46:04 2006
Return-Path: <java-user-return-23595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44909 invoked from network); 27 Sep 2006 08:46:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 08:46:03 -0000
Received: (qmail 49447 invoked by uid 500); 27 Sep 2006 08:45:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49415 invoked by uid 500); 27 Sep 2006 08:45:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49404 invoked by uid 99); 27 Sep 2006 08:45:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 01:45:55 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bhavinp@rediff.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: error (idunn.apache.osuosl.org: domain rediff.co.in from 203.197.35.8 cause and error)
Received: from [203.197.35.8] ([203.197.35.8:36025] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 4A/00-23965-04A3A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 01:45:55 -0700
Received: (qmail 31774 invoked from network); 27 Sep 2006 08:42:54 -0000
Received: from unknown (HELO bhavin) (172.16.3.116)
  by mailserver with SMTP; 27 Sep 2006 08:42:54 -0000
Message-ID: <003801c6e212$b89159e0$740310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <001801c6e202$e2f46fc0$1501a8c0@keenmicro.com>
Subject: Re: lock file of lucene
Date: Wed, 27 Sep 2006 14:25:45 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="gb2312";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi jacky,

Before you open IndexWriter object you can check whether lock file exists or 
not and if its available you can unlock it.
Use IndexReader.isLocked and IndexReader.unlock.

- Bhavin pandya


----- Original Message ----- 
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, September 27, 2006 12:32 PM
Subject: lock file of lucene


> hi,
>  When writing into an index, lucene will create a write lock file.
> So, if there is an error during the writing. the lock file will not be 
> deleted.
> And also the JVM will not be closed for some time. So the program will 
> have no chance to get lock of this index.
> Is there any method to avoid that?
>
>     Best Regards.
>       jacky
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 08:56:49 2006
Return-Path: <java-user-return-23596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46979 invoked from network); 27 Sep 2006 08:56:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 08:56:49 -0000
Received: (qmail 61085 invoked by uid 500); 27 Sep 2006 08:56:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61059 invoked by uid 500); 27 Sep 2006 08:56:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61048 invoked by uid 99); 27 Sep 2006 08:56:43 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 01:56:43 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erik@ehatchersolutions.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ehatchersolutions.com from 69.55.225.129 cause and error)
Received: from [69.55.225.129] ([69.55.225.129:47971] helo=ehatchersolutions.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id B7/80-23965-ACC3A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 01:56:42 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C7FB730EFCD3; Wed, 27 Sep 2006 04:56:38 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Status: No, score=-0.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id AFBD130EFC19
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 04:56:21 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <20060927020413.95249.qmail@web50003.mail.yahoo.com>
References: <20060927020413.95249.qmail@web50003.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2350B4CC-6202-4623-BEED-BF31A365C1C8@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple Terms, Delete From Index
Date: Wed, 27 Sep 2006 04:56:16 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Iterate through all Hits for "city:city1 AND state:state1" and delete  
them by document ID.

	Erik


On Sep 26, 2006, at 10:04 PM, Josh Joy wrote:

> Hi All,
>
> I need to delete from the index where 2 terms are
> matching, rather than
> just one term.
> For example,
>
> IndexReader reader = IndexReader.open(dir);
> Term[] terms = new Term[2];
> terms[0] = new Term("city","city1");
> terms[1] = new Term("state","state1");
> reader.delete(terms);
> reader.close();
>
> Any suggestions?
>
> Thanks in advance,
> Josh
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 08:58:57 2006
Return-Path: <java-user-return-23597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47440 invoked from network); 27 Sep 2006 08:58:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 08:58:56 -0000
Received: (qmail 64775 invoked by uid 500); 27 Sep 2006 08:58:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64362 invoked by uid 500); 27 Sep 2006 08:58:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 29079 invoked by uid 99); 27 Sep 2006 00:35:51 -0000
Authentication-Results: idunn.apache.osuosl.org smtp.mail=shane@my-family.us; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain my-family.us from 128.121.61.10 cause and error)
Message-ID: <4519C800.5000404@my-family.us>
Date: Tue, 26 Sep 2006 18:38:24 -0600
From: Shane Perry <shane@my-family.us>
User-Agent: Thunderbird 1.5.0.5 (X11/20060808)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: cache persistent Hits
References: <45196ED5.3050003@artentis.com>  <359a92830609261146w4592663al4119a09529d0692b@mail.gmail.com>  <45197C09.3020303@artentis.com> <359a92830609261341k4a162cdel50314dc6604944e@mail.gmail.com> <Pine.LNX.4.58.0609261724300.27120@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0609261724300.27120@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As I am always looking for ways to enhance a searches response time, if 
I were to use the MultiReader as suggested, would it still be possible 
to determine which index a hit came from?  Currently I  use the 
MultiSearcher.subSearcher() method to determine this information.  After 
taking a, albeit quick, look through the javadocs, nothing stands out.
> : Above you've opened the searcher for each search, exactly as I feared. This
> : is a major hit. Don't do this, but keep the searchers open between calls.
>
> in addition opening a multisearcher across several local searches is a big
> wast (or so i'm told) ... you should see better performance from a single
> searcher arround a MultiReader (note: multireader vs multisearcher)
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 08:59:28 2006
Return-Path: <java-user-return-23598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47565 invoked from network); 27 Sep 2006 08:59:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 08:59:27 -0000
Received: (qmail 67502 invoked by uid 500); 27 Sep 2006 08:59:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67473 invoked by uid 500); 27 Sep 2006 08:59:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67379 invoked by uid 99); 27 Sep 2006 08:59:15 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 01:59:15 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=iamaslamok@yahoo.co.in; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=iamaslamok@yahoo.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=4.2 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE,RCVD_IN_NJABL_PROXY
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.co.in from 202.43.219.198 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [202.43.219.198] ([202.43.219.198:31547] helo=web8327.mail.in.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 46/A0-23965-E5D3A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 01:59:12 -0700
Received: (qmail 97992 invoked by uid 60001); 27 Sep 2006 08:59:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=jYMQM9TigqfreD9BydZYEL5qNUQnZGuMJP8JdPWnWFQHKFyGAkL/3ItXKe58DPdXsleUW35KnQdYsa0yCHQVxMKJ/CPQGpNXwSewNPOKw1XeyE0OKuPaXamtRNgefewFFcGyJmD0leWT8Mg/OyBBfY1QMBvkRLlye4zrEJiGkS4=  ;
Message-ID: <20060927085907.97990.qmail@web8327.mail.in.yahoo.com>
Received: from [59.95.169.65] by web8327.mail.in.yahoo.com via HTTP; Wed, 27 Sep 2006 09:59:07 BST
Date: Wed, 27 Sep 2006 09:59:07 +0100 (BST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Can Lucene Index 50MB xml file
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-64338865-1159347547=:95422"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-64338865-1159347547=:95422
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Dear all,
  I want to confirm that can Lucene index 50MB xml file. Or i have to change in source code to make it work. Because i think there is some limits of tokens in Lucene. So it is not doing indexing of whole document. Any Views? Where should i change in code.

 				
---------------------------------
 Find out what India is talking about on  - Yahoo! Answers India 
 Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
--0-64338865-1159347547=:95422--

From java-user-return-23599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 10:59:48 2006
Return-Path: <java-user-return-23599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85102 invoked from network); 27 Sep 2006 10:59:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 10:59:48 -0000
Received: (qmail 60849 invoked by uid 500); 27 Sep 2006 10:59:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60776 invoked by uid 500); 27 Sep 2006 10:59:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60765 invoked by uid 99); 27 Sep 2006 10:59:41 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 03:59:41 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bhavinp@rediff.co.in; spf=permerror
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: error (idunn.apache.osuosl.org: domain rediff.co.in from 203.197.35.8 cause and error)
Received: from [203.197.35.8] ([203.197.35.8:37276] helo=rediff.co.in)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id B0/31-24938-A995A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 03:59:40 -0700
Received: (qmail 4305 invoked from network); 27 Sep 2006 10:56:40 -0000
Received: from unknown (HELO bhavin) (172.16.3.116)
  by mailserver with SMTP; 27 Sep 2006 10:56:40 -0000
Message-ID: <006d01c6e225$682f8590$740310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <20060927085907.97990.qmail@web8327.mail.in.yahoo.com>
Subject: Re: Can Lucene Index 50MB xml file
Date: Wed, 27 Sep 2006 16:39:30 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi aslam,

Here is the method you can set for very long content.
IndexWriter's setMaxFieldLength.

- Bhavin pandya


----- Original Message ----- 
From: "aslam bari" <iamaslamok@yahoo.co.in>
To: <java-user@lucene.apache.org>
Sent: Wednesday, September 27, 2006 2:29 PM
Subject: Can Lucene Index 50MB xml file


> Dear all,
>  I want to confirm that can Lucene index 50MB xml file. Or i have to 
> change in source code to make it work. Because i think there is some 
> limits of tokens in Lucene. So it is not doing indexing of whole document. 
> Any Views? Where should i change in code.
>
>
> ---------------------------------
> Find out what India is talking about on  - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get 
> it NOW 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 11:21:13 2006
Return-Path: <java-user-return-23600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97728 invoked from network); 27 Sep 2006 11:21:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 11:21:12 -0000
Received: (qmail 81604 invoked by uid 500); 27 Sep 2006 11:21:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81572 invoked by uid 500); 27 Sep 2006 11:21:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81561 invoked by uid 99); 27 Sep 2006 11:21:06 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 04:21:06 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=gsingers@syr.edu; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain syr.edu from 128.230.18.29 cause and error)
Received: from [128.230.18.29] ([128.230.18.29:3467] helo=mailer.syr.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C5/C1-24938-69E5A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 04:20:55 -0700
Received: from [192.168.0.2] (syru76-012.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1588DFE3@mailer.syr.edu>; Wed, 27 Sep 2006 7:20:51 -0400
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <20060926133614.11277.qmail@web50305.mail.yahoo.com>
References: <20060926133614.11277.qmail@web50305.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7147E9A2-797E-4CBA-BDC8-7AA1C85B953B@syr.edu>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@syr.edu>
Subject: Re: does anyone know of a 'smart' categorizing text pattern finder?
Date: Wed, 27 Sep 2006 07:20:49 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You might also look at some other NLP tools, such as OpenNLP which  
you can train for your collection, or if you are interested in  
buying, there are many products on the market that do similar things


On Sep 26, 2006, at 9:36 AM, Otis Gospodnetic wrote:

> Look at LingPipe from Alias-i.com.  Look at Named Entity extraction  
> and its classifiers.
>
> Otis
>
>
> ----- Original Message ----
> From: Vladimir Olenin <VOlenin@cihi.ca>
> To: java-user@lucene.apache.org
> Sent: Monday, September 25, 2006 9:49:31 PM
> Subject: does anyone know of a 'smart' categorizing text pattern  
> finder?
>
>
> Hi,
>
> I wonder if anyone here knows if there is a 'smart' text pattern  
> finder, ideally written in Java. The library I'm looking for should  
> be able to 'guess' the category of the particular text on the page,  
> most probably by finding similarities between the bulk of the pages  
> and a set of templates.
>
> Eg, many forums are powered by phpbb, which structures 99% of the  
> pages (except for some title pages & user profile pages) in a very  
> similar fashion (page is broken into blocks, each block is broken  
> into further blocks, etc). By comparing many pages with each other  
> (eg, from the same domain root: forum.springframework.org) it  
> should be possible to detect common ('template decorations') and  
> page specific (actual content, like 'user name' and 'posting body')  
> parts. After that it should further be possible, by comparing  
> 'template decorations' parts to a set of templates, to 'guess' the  
> nature of each of the 'page specific' block (eg, 'Vladimir Olenin'  
> in the left side column will be marked as 'name', while whatever is  
> adjucent to this column is the post body).
>
> So, I wonder if anyone knows of a package capable of such things.  
> Primary goal though is simplier: to be able to parse out just  
> posters' names from message boards. Though sometimes the 'block  
> category' can be derived from CSS class name of the tags around the  
> text, it's very often not the case.
>
> Might Nutch have similar functionality built into their crawler?
>
> Thanks.
>
> Vlad
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
Sr. Software Engineer
Center for Natural Language Processing
Syracuse University
335 Hinds Hall
Syracuse, NY 13244
http://www.cnlp.org

Voice: 315-443-5484
Skype: grant_ingersoll
Fax: 315-443-6886




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 11:25:01 2006
Return-Path: <java-user-return-23601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 614 invoked from network); 27 Sep 2006 11:25:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 11:25:00 -0000
Received: (qmail 86413 invoked by uid 500); 27 Sep 2006 11:24:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86044 invoked by uid 500); 27 Sep 2006 11:24:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86032 invoked by uid 99); 27 Sep 2006 11:24:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 04:24:55 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=gsingers@syr.edu; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain syr.edu from 128.230.18.29 cause and error)
Received: from [128.230.18.29] ([128.230.18.29:4236] helo=mailer.syr.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 90/E1-24938-38F5A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 04:24:52 -0700
Received: from [192.168.0.2] (syru76-012.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1588E04F@mailer.syr.edu>; Wed, 27 Sep 2006 7:24:49 -0400
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <373399D6389D8C42B4EAD9BE2B6B5C5F07151717@tormail01.cihi.ca>
References: <373399D6389D8C42B4EAD9BE2B6B5C5F07151717@tormail01.cihi.ca>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B85B8C81-4018-4A19-8E9C-42438CDB28D3@syr.edu>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@syr.edu>
Subject: Re: term OR term OR term OR .... query question
Date: Wed, 27 Sep 2006 07:24:47 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See below.

Also, there is new Scoring documentation available via the website  
(http://lucene.apache.org/java/docs/scoring.html) that covers scoring  
in some detail.

On Sep 26, 2006, at 5:23 PM, Vladimir Olenin wrote:

> Hi.
>
> I have a question regarding Lucene scoring algorithm. Providing I  
> have a
> query "a OR b OR c OR d OR e OR f", and two documents: doc1 "a b c d"
> and doc2 "d e", will doc1 score higher than doc2? In other words, does
> Lucene takes into account the number of terms matched in the  
> document in
> case of the 'or' query?
>

Yes, it should score higher.  See the coord() factor as part of the  
similarity.

> Providing that I don't know the algorithms behind the Lucene, how does
> 'or' query time depends on the number of searched terms? Does it grow
> linierly, exponentially? How does 'and' query time depends on the  
> number
> of searched terms? (it should decrease, right?)
>

Not 100% on this, but that does make sense, pretty simple to test  
out, I think.    We are working on some benchmarks and this may be a  
good one to add to it.



--------------------------
Grant Ingersoll
Sr. Software Engineer
Center for Natural Language Processing
Syracuse University
335 Hinds Hall
Syracuse, NY 13244
http://www.cnlp.org

Voice: 315-443-5484
Skype: grant_ingersoll
Fax: 315-443-6886




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 12:03:38 2006
Return-Path: <java-user-return-23602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25470 invoked from network); 27 Sep 2006 12:03:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 12:03:38 -0000
Received: (qmail 44649 invoked by uid 500); 27 Sep 2006 12:03:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43721 invoked by uid 500); 27 Sep 2006 12:03:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43710 invoked by uid 99); 27 Sep 2006 12:03:29 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 05:03:29 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=3.1 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,MAILTO_TO_SPAM_ADDR
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.61 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.61] ([206.190.38.61:29878] helo=web50307.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 44/50-25968-C886A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 05:03:26 -0700
Received: (qmail 11733 invoked by uid 60001); 27 Sep 2006 12:03:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=qPkVFfsGKoCnjdM1Bp+NwIX65bAtpWxkuTIv/ziulkF5NjoZcNTXohnLm9wQ5pZ7DUCYGCw24sHa/mFqjPu5jSQtqiAmTQzNVeQ8k+/hy/2yemsE09EHdsFwdUsFLZ3N0Rfahxh0Qzo7AAQqPUc+twE2FgICSTkpwSpq0t3HQ3Q=  ;
Message-ID: <20060927120318.11731.qmail@web50307.mail.yahoo.com>
Received: from [74.65.202.166] by web50307.mail.yahoo.com via HTTP; Wed, 27 Sep 2006 05:03:18 PDT
Date: Wed, 27 Sep 2006 05:03:17 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple Terms, Delete From Index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Josh,=0AYes, it will.  I thought that is what you wanted, but I see now tha=
t you are looking for docs that match both.  Search and delete by id from H=
its as Erik mentioned.=0A=0AOtis=0A=0A----- Original Message ----=0AFrom: J=
osh Joy <joshj551@yahoo.com>=0ATo: java-user@lucene.apache.org=0ASent: Wedn=
esday, September 27, 2006 1:13:21 AM=0ASubject: Re: Multiple Terms, Delete =
>From Index=0A=0AHi Otis,=0A=0AWon't that delete all documents with term1, t=
hen all=0Adocuments with =0Aterm2...rather than deleting all documents that=
=0Acontain only term1 and =0Aterm2...or am I missing the obvious and doing=
=0Asomething wrong?=0A=0AThanks,=0AJosh=0A=0AOtis Gospodnetic wrote:=0A> He=
h, I have to try the obvious - two=0Areader.delete(term) calls?=0A>=0A> Oti=
s=0A>=0A> ----- Original Message ----=0A> From: Josh Joy <joshj551@yahoo.co=
m>=0A> To: java-user@lucene.apache.org=0A> Sent: Tuesday, September 26, 200=
6 10:04:13 PM=0A> Subject: Multiple Terms, Delete From Index=0A>=0A> Hi All=
,=0A>=0A> I need to delete from the index where 2 terms are=0A> matching, r=
ather than =0A> just one term.=0A> For example,=0A>=0A> IndexReader reader =
=3DndexReader.open(dir);=0A> Term[] terms =3Dew Term[2];=0A> terms[0] =3Dew=
 Term("city","city1");=0A> terms[1] =3Dew Term("state","state1");=0A> reade=
r.delete(terms);=0A> reader.close();=0A>=0A> Any suggestions?=0A>=0A> Thank=
s in advance,=0A> Josh=0A>=0A>=0A------------------------------------------=
---------------------------=0A> To unsubscribe, e-mail:=0Ajava-user-unsubsc=
ribe@lucene.apache.org=0A> For additional commands, e-mail:=0Ajava-user-hel=
p@lucene.apache.org=0A>=0A>=0A>=0A>=0A>=0A>=0A-----------------------------=
----------------------------------------=0A> To unsubscribe, e-mail:=0Ajava=
-user-unsubscribe@lucene.apache.org=0A> For additional commands, e-mail:=0A=
java-user-help@lucene.apache.org=0A>=0A>=0A>=0A>   =0A=0A------------------=
---------------------------------------------------=0ATo unsubscribe, e-mai=
l: java-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mai=
l: java-user-help@lucene.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 12:04:55 2006
Return-Path: <java-user-return-23603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25708 invoked from network); 27 Sep 2006 12:04:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 12:04:55 -0000
Received: (qmail 47722 invoked by uid 500); 27 Sep 2006 12:04:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47697 invoked by uid 500); 27 Sep 2006 12:04:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47686 invoked by uid 99); 27 Sep 2006 12:04:48 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 05:04:48 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=otis_gospodnetic@yahoo.com; spf=permerror
Authentication-Results: idunn.apache.osuosl.org header.from=otis_gospodnetic@yahoo.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.8 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
Received-SPF: error (idunn.apache.osuosl.org: domain yahoo.com from 206.190.38.57 cause and error)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [206.190.38.57] ([206.190.38.57:43986] helo=web50303.mail.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id A1/60-25968-CD86A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 05:04:45 -0700
Received: (qmail 78056 invoked by uid 60001); 27 Sep 2006 12:04:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=B0TlrorWSj5Yfy2G53IYymRlX4EyOF7LLkWNzzYug4cP3PIfbL/4lDcow1RpyGc8PrYj/mw6E+u6AB3hU/O03Z9JTQm2qqLDLa7JvG4G6tWFVI1cE7MeHODE2b1JvhQ/7kY3nIia9BFrzr6yngGms00JlSAW6w3g7g7MgspJ8Vw=  ;
Message-ID: <20060927120442.78054.qmail@web50303.mail.yahoo.com>
Received: from [74.65.202.166] by web50303.mail.yahoo.com via HTTP; Wed, 27 Sep 2006 05:04:42 PDT
Date: Wed, 27 Sep 2006 05:04:42 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene In Action Book vs Lucene 2.0
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,=0AInternals have changed some, but I don't think the changes are substa=
ntial.  CHANGES.txt is your best source for that answer.  LIA2 some time in=
 early 2007, I hope, but don't hold me on that estimate.=0A=0AOtis=0A=0A---=
-- Original Message ----=0AFrom: KEGan <khoon.ee.gan@gmail.com>=0ATo: java-=
user@lucene.apache.org=0ASent: Wednesday, September 27, 2006 12:33:06 AM=0A=
Subject: Re: Lucene In Action Book vs Lucene 2.0=0A=0AOtis,=0A=0AWhat about=
 the internal of Lucene? Are there any major changes in there?=0A=0ALIA is =
such a great book. Any date when LIA2 is coming? I definitely must=0Aget it=
 :)=0A=0A=0AOn 9/27/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote=
:=0A>=0A> Hi,=0A>=0A> I think you'll find most of the book to still be usef=
ul (but then again,=0A> I'm the co-author, so maybe I'm not 100% objective)=
.  One thing where the=0A> API changed is Fields.  They are now constructed=
 differently, so the code in=0A> the book won't match the current API.=0A> =
We have LIA code working under Lucene 2.0, but we'll have to wait and=0A> p=
ublish it along with LIA2.  It IS coming! :)=0A>=0A> Otis=0A>=0A> ----- Ori=
ginal Message ----=0A> From: KEGan <khoon.ee.gan@gmail.com>=0A> To: java-us=
er@lucene.apache.org=0A> Sent: Tuesday, September 26, 2006 3:32:06 PM=0A> S=
ubject: Lucene In Action Book vs Lucene 2.0=0A>=0A> Hi,=0A>=0A> I have boug=
ht the Lucene In Action Book for more than a year now, and was=0A> using Lu=
cene 1.x during that time. Now, I have a new project with Lucene=0A> and=0A=
> Lucene is now 2.0. Many APIs seems to have changed.=0A>=0A> I would like =
to ask the experts here, what are the important or=0A> substantial=0A> chan=
ges from Lucene 1.x to 2.0? Which part of the LIA book that is still=0A> us=
able and which part is not? Any particular things that a new Lucene=0A> 2.0=
user that only have used the=0A> 1.x version, should pay attention to?=0A>=
=0A> Thanks.=0A>=0A>=0A>=0A>=0A> ------------------------------------------=
---------------------------=0A> To unsubscribe, e-mail: java-user-unsubscri=
be@lucene.apache.org=0A> For additional commands, e-mail: java-user-help@lu=
cene.apache.org=0A>=0A>=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 13:45:22 2006
Return-Path: <java-user-return-23604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66859 invoked from network); 27 Sep 2006 13:45:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 13:45:22 -0000
Received: (qmail 17082 invoked by uid 500); 27 Sep 2006 13:45:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16978 invoked by uid 500); 27 Sep 2006 13:45:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16934 invoked by uid 99); 27 Sep 2006 13:45:13 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 06:45:13 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=sarowe@syr.edu; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain syr.edu from 128.230.18.29 cause and error)
Received: from [128.230.18.29] ([128.230.18.29:4499] helo=mailer.syr.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 8C/00-27227-7608A154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 06:45:12 -0700
Received: from [128.230.84.138] (syru84-138.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1589108A@mailer.syr.edu>; Wed, 27 Sep 2006 9:45:08 -0400
Message-ID: <451A8064.1080108@syr.edu>
Date: Wed, 27 Sep 2006 09:45:08 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene In Action Book vs Lucene 2.0
References: <20060927120442.78054.qmail@web50303.mail.yahoo.com>
In-Reply-To: <20060927120442.78054.qmail@web50303.mail.yahoo.com>
X-Enigmail-Version: 0.94.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://svn.apache.org/repos/asf/lucene/java/tags/lucene_2_0_0/CHANGES.txt

Otis Gospodnetic wrote:
> CHANGES.txt is your best source for that answer.
> 
> KEGan <khoon.ee.gan@gmail.com> wrote:
> > What about the internal of Lucene? Are there any major changes in there?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 16:51:27 2006
Return-Path: <java-user-return-23605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25832 invoked from network); 27 Sep 2006 16:51:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 16:51:26 -0000
Received: (qmail 24613 invoked by uid 500); 27 Sep 2006 16:51:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24578 invoked by uid 500); 27 Sep 2006 16:51:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24567 invoked by uid 99); 27 Sep 2006 16:51:19 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 09:51:19 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=bubblenut@gmail.com; spf=unknown
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received-SPF: unknown (idunn.apache.osuosl.org: domain gmail.com does not designate 213.167.72.182 as permitted sender)
Received: from [213.167.72.182] ([213.167.72.182:55924] helo=cd-wow.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 88/20-29789-50CAA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 09:51:18 -0700
Received: from [192.168.250.47] (unverified [217.207.206.146]) 
	by cd-wow.com (SurgeMail 3.6f5) with ESMTP id 19709390 
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 16:51:14 +0000
From: Rob Young <bubblenut@gmail.com>
To: java-user@lucene.apache.org
Subject: Splitting the index
Date: Wed, 27 Sep 2006 17:51:11 +0100
User-Agent: KMail/1.9.1
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609271751.11676.bubblenut@gmail.com>
X-Server: High Performance Mail Server - http://surgemail.com r=-1251238296
X-Authenticated-User: robert.y@cd-wow.com 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm using Lucene to search a product database (CDs, DVDs, games and now 
books). Recently that index has increased in size to over a million items 
(added books). I have been performance testing our search server and the 
throughput of requests has dropped significantly, profiling the server it all 
seems to be in the Lucene searching.

So, now that I've narrowed it down to the searching itself rather than the 
rest of the application. What can I do about it? I am running a TermQuery, 
falling back to a FuzzyQuery when no results are found (each combined in a 
boolean queries with the product type restrictions). 

One solution I had in mind was to split the index down into four, would this 
provide any gains? It will require a lot of re-factoring so I don't want to 
commit myself if there's no chance it will help.

Another solution along the same train of thought was to use a caching filter 
search to cut the index into parts. How would this compare to the previous 
idea?

Does anyone have any other ideas / suggestions?

Thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 17:52:09 2006
Return-Path: <java-user-return-23606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43510 invoked from network); 27 Sep 2006 17:52:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 17:52:09 -0000
Received: (qmail 41971 invoked by uid 500); 27 Sep 2006 17:52:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41896 invoked by uid 500); 27 Sep 2006 17:52:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41863 invoked by uid 99); 27 Sep 2006 17:52:00 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 10:52:00 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erik@ehatchersolutions.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain ehatchersolutions.com from 69.55.225.129 cause and error)
Received: from [69.55.225.129] ([69.55.225.129:51959] helo=ehatchersolutions.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C4/02-29789-F3ABA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 10:51:59 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DFA9930EFC19; Wed, 27 Sep 2006 13:51:56 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 995CC30EFC19
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 13:51:53 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <200609271751.11676.bubblenut@gmail.com>
References: <200609271751.11676.bubblenut@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C6D9D11C-11A1-4ABE-A8EA-61FC2EC9BA44@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Splitting the index
Date: Wed, 27 Sep 2006 13:51:48 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lots of possible issues, but we need more information to troubleshoot  
this properly.   How big is your index, number of documents?  total  
file system size of the index?  is your index optimized?  how often  
do you update the index?  how are you managing indexsearcher  
instances after the index is updated?


On Sep 27, 2006, at 12:51 PM, Rob Young wrote:

> Hi,
>
> I'm using Lucene to search a product database (CDs, DVDs, games and  
> now
> books). Recently that index has increased in size to over a million  
> items
> (added books). I have been performance testing our search server  
> and the
> throughput of requests has dropped significantly, profiling the  
> server it all
> seems to be in the Lucene searching.
>
> So, now that I've narrowed it down to the searching itself rather  
> than the
> rest of the application. What can I do about it? I am running a  
> TermQuery,
> falling back to a FuzzyQuery when no results are found (each  
> combined in a
> boolean queries with the product type restrictions).
>
> One solution I had in mind was to split the index down into four,  
> would this
> provide any gains? It will require a lot of re-factoring so I don't  
> want to
> commit myself if there's no chance it will help.
>
> Another solution along the same train of thought was to use a  
> caching filter
> search to cut the index into parts. How would this compare to the  
> previous
> idea?
>
> Does anyone have any other ideas / suggestions?
>
> Thanks
> Rob
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 17:55:02 2006
Return-Path: <java-user-return-23607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44838 invoked from network); 27 Sep 2006 17:55:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 17:55:02 -0000
Received: (qmail 49404 invoked by uid 500); 27 Sep 2006 17:54:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49377 invoked by uid 500); 27 Sep 2006 17:54:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49366 invoked by uid 99); 27 Sep 2006 17:54:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 10:54:55 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=3.4 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.183 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.183] ([64.233.166.183:60923] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C5/22-29789-CEABA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 10:54:54 -0700
Received: by py-out-1112.google.com with SMTP id w49so311656pyg
        for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 10:54:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=KvoCe5UF4n0baoLkcea4ElAbcYRVqAx6mu1JCRiqWz0DaTGUOaxJDnCNpd1oP90q/zFiaB1y693cbKn0BK/CAhDJqyA0nsQMib2AkOfjTZjzQvHCVxwHrOJk27C8HDTzg3wr33I0KOT7dSftkVGbhLiMizcKASlAGKUCaf/oQk8=
Received: by 10.35.11.15 with SMTP id o15mr1295585pyi;
        Wed, 27 Sep 2006 10:54:50 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Wed, 27 Sep 2006 10:54:49 -0700 (PDT)
Message-ID: <359a92830609271054k3a67ac57wf72623c9f8f00d71@mail.gmail.com>
Date: Wed, 27 Sep 2006 13:54:50 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Splitting the index
In-Reply-To: <200609271751.11676.bubblenut@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_29870_17392707.1159379690001"
References: <200609271751.11676.bubblenut@gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_29870_17392707.1159379690001
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'd ask for more details. You say that you've narrowed it down to Lucene
doing the searching.... But which part of the search? Here're two places
people have run into problems before (sorry if you already know this...).

1> Iterating through the entire returned set with Hits.doc(#).
2> opening and closing your indexreader between queries.

The first thing I'd do is insert some timing logging into your search code.
For instance, log the time after you've assembled your query and before you
execute the search. Log the time it takes to do the raw search. Log the time
you spend spinning through the returned hits preparing to return the
results. I'm not talking anything fancy here, just
System.currentTimeMilliseconds().

I can't emphasize strongly enough that you simply *cannot* jump to a
solution before you *know* where you're spending your time. I've spent
waaaaay more time that I want to admit to fixing code that I was *sure* was
slow only find out that the *real* problem was somewhere else.

Finally, what times are you seeing? And what was the index size before and
after? Without some numbers, nobody else can guess at any solutions.

Best
Erick

On 9/27/06, Rob Young <bubblenut@gmail.com> wrote:
>
> Hi,
>
> I'm using Lucene to search a product database (CDs, DVDs, games and now
> books). Recently that index has increased in size to over a million items
> (added books). I have been performance testing our search server and the
> throughput of requests has dropped significantly, profiling the server it
> all
> seems to be in the Lucene searching.
>
> So, now that I've narrowed it down to the searching itself rather than the
> rest of the application. What can I do about it? I am running a TermQuery,
> falling back to a FuzzyQuery when no results are found (each combined in a
> boolean queries with the product type restrictions).
>
> One solution I had in mind was to split the index down into four, would
> this
> provide any gains? It will require a lot of re-factoring so I don't want
> to
> commit myself if there's no chance it will help.
>
> Another solution along the same train of thought was to use a caching
> filter
> search to cut the index into parts. How would this compare to the previous
> idea?
>
> Does anyone have any other ideas / suggestions?
>
> Thanks
> Rob
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_29870_17392707.1159379690001--

From java-user-return-23608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 18:41:30 2006
Return-Path: <java-user-return-23608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60845 invoked from network); 27 Sep 2006 18:41:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 18:41:30 -0000
Received: (qmail 52568 invoked by uid 500); 27 Sep 2006 18:41:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52447 invoked by uid 500); 27 Sep 2006 18:41:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52436 invoked by uid 99); 27 Sep 2006 18:41:24 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 11:41:24 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:36653] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 2A/B3-29789-1D5CA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 11:41:22 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C96035B766; Wed, 27 Sep 2006 11:41:12 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C5BFD7F403
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 11:41:12 -0700 (PDT)
Date: Wed, 27 Sep 2006 11:41:12 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Very high fieldNorm for a field resulting in bad results
In-Reply-To: <865c77680609261944h335583acy6b6900ecb898e8eb@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609271134380.32280@hal.rescomp.berkeley.edu>
References: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com> 
 <Pine.LNX.4.58.0609261155270.13298@hal.rescomp.berkeley.edu>
 <865c77680609261944h335583acy6b6900ecb898e8eb@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: 1. Can I do away with index-time boosting for fields & tweak
: query-time boosting for them ? I understand that doc level boosting is
: very useful while indexing.
: But for fields, both index-boost & query-boost are mutiples which lead
: to the score, so would it be safe to say that I can replace the
: index-time boost with query-time boosting. This allows me a lot of
: freedom to test different values without re-indexing which takes  me
: about 6 hours.

it depends on your goal.  index time field boosts are a way to express
things like "this documents title is worth twice as much as the title of
most documents" query time boosts are a way to express "i care about
matches on this clause of my query twice as much as i do about matches to
other clauses of my query.

: 2. When searching through the archive I had read a post by you, saying
: its possible to give exact matches much higher weightage by indexing
: the START & END
: from : http://www.nabble.com/What-are-norms--tf1919250.html#a5335856

the context was that even if you turn off field norms you can still some
score benefits/restrictions of matches on shorter fields vs longer fields
by indexing marker tokens (things you wouldn't expect to be regular
tokens; i used START and END just for convinience)  at the begining and
ending of hte field, and then including them in your phrase or span near
query with lots of slop ... so a values like...

	Duke Ellington
	The Duke Ellington Band

get indexed as the tokens...

	{START} {duke} {ellington} {END}
	{START} {the} {duke} {ellington} {band} {END}

...when doing a sloppy phrase or span near search for [ START, duke,
ellington, END ] both of those values will match, but the first will have
a higher score.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 21:08:19 2006
Return-Path: <java-user-return-23609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7686 invoked from network); 27 Sep 2006 21:08:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 21:08:18 -0000
Received: (qmail 35063 invoked by uid 500); 27 Sep 2006 21:08:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34961 invoked by uid 500); 27 Sep 2006 21:08:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34950 invoked by uid 99); 27 Sep 2006 21:08:11 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 14:08:11 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lrodrigo@isoco.com; spf=permerror
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received-SPF: error (idunn.apache.osuosl.org: domain isoco.com from 62.81.148.13 cause and error)
Received: from [62.81.148.13] ([62.81.148.13:60263] helo=smtp.isoco.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id CC/E1-01778-638EA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 14:08:09 -0700
Received: by smtp.isoco.com (Postfix-smc, from userid 65534)
	id C43141873E6; Wed, 27 Sep 2006 23:12:44 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on 
	kilimanjaro.isoco.net
X-Spam-Level: 
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,HTML_MESSAGE 
	autolearn=ham version=3.1.3
Received: from intranet.isoco.net (vinson.isoco.net [172.16.0.45])
	by smtp.isoco.com (Postfix-smc) with ESMTP id 308AC1873E1
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 23:12:44 +0200 (CEST)
Received: from [192.168.1.2] (unknown [87.217.71.196])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by intranet.isoco.net (Postfix) with ESMTP id 0D0744DD89
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 23:07:41 +0200 (CEST)
Message-ID: <451AE844.5060606@isoco.com>
Date: Wed, 27 Sep 2006 23:08:20 +0200
From: Luis Rodrigo Aguado <lrodrigo@isoco.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Writing - Searching synchronization
Content-Type: multipart/alternative;
 boundary="------------050005090708020409090709"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------050005090708020409090709
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi all,

I have a problem with a lucene-based application I am trying to build. 
The application is mainly search oriented, and the core of the index is 
built in a batch process before starting the system. In the application 
initialization an IndexSearcher object is built, to perform all the 
searches.

However, in some special conditions, an addition to the index may be 
necessary. In these situations, I build an IndexWriter, add the new 
document and finish with a writer.optimize() and a writer.close().

After an addition, the index returns perfectly the ideas before the 
addition, but not the ones that where added when the application was 
running.

Should I renew the IndexSearcher after the additions to be able to 
return the new Documents?

Thanks in advance!


--------------050005090708020409090709--

From java-user-return-23610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 21:16:13 2006
Return-Path: <java-user-return-23610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9826 invoked from network); 27 Sep 2006 21:16:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 21:16:13 -0000
Received: (qmail 45118 invoked by uid 500); 27 Sep 2006 21:16:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45084 invoked by uid 500); 27 Sep 2006 21:16:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45072 invoked by uid 99); 27 Sep 2006 21:16:08 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 14:16:08 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lucene@mikemccandless.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain mikemccandless.com from 66.111.4.25 cause and error)
Received: from [66.111.4.25] ([66.111.4.25:45840] helo=out1.smtp.messagingengine.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 35/12-01778-51AEA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 14:16:06 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id DA714DA9A99
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 17:16:01 -0400 (EDT)
Received: from heartbeat1.internal ([10.202.2.160])
  by frontend3.internal (MEProxy); Wed, 27 Sep 2006 17:16:05 -0400
X-Sasl-enc: nijVoyxCdSyH9CzlW90PUDakTL//3k+buaTJuGPswRC3 1159391764
Received: from [10.17.4.90] (pool-71-162-112-30.bstnma.fios.verizon.net [71.162.112.30])
	by mail.messagingengine.com (Postfix) with ESMTP id CF168FAA9
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 17:16:04 -0400 (EDT)
Message-ID: <451AEA0B.7050908@mikemccandless.com>
Date: Wed, 27 Sep 2006 17:15:55 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: lock file of lucene
References: <001801c6e202$e2f46fc0$1501a8c0@keenmicro.com> <003801c6e212$b89159e0$740310ac@bhavin>
In-Reply-To: <003801c6e212$b89159e0$740310ac@bhavin>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Bhavin Pandya wrote:
> Before you open IndexWriter object you can check whether lock file 
> exists or not and if its available you can unlock it.
> Use IndexReader.isLocked and IndexReader.unlock.

Also, you could use a try / finally and always close the IndexWriter in
the finally clause, which should release the lock.  However, it sounds
like something else is up if you are hitting alot of errors when writing
the index.

We are working on a locking implementation that uses OS native locks
(instead of file existence locking now used).  This would fix the case
where the JVM has crashed or was killed (ie, the OS will release the
lock for us).

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 21:16:21 2006
Return-Path: <java-user-return-23611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9876 invoked from network); 27 Sep 2006 21:16:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 21:16:21 -0000
Received: (qmail 46319 invoked by uid 500); 27 Sep 2006 21:16:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46295 invoked by uid 500); 27 Sep 2006 21:16:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46279 invoked by uid 99); 27 Sep 2006 21:16:12 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 14:16:12 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=erickerickson@gmail.com; spf=pass
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 64.233.166.177 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.177] ([64.233.166.177:17538] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 65/12-01778-A1AEA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 14:16:11 -0700
Received: by py-out-1112.google.com with SMTP id w49so368245pyg
        for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 14:16:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=RYoY5D8qZIJgWJgsWkWEADYO4pSmt6oN2+7uNrXJHkGf2u8C37Skk6ZBtye5WS8NWBlMMV6NWnjkAoybX7n+DopatPpEIDXVXxlTou9J3din4vsbYm//OGGvWbiGVFCSL8+kf5JGYD8HWuPqbObp2GwcYu6pwtEp0lN1UKuhxRA=
Received: by 10.35.132.20 with SMTP id j20mr2234190pyn;
        Wed, 27 Sep 2006 14:16:08 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Wed, 27 Sep 2006 14:16:07 -0700 (PDT)
Message-ID: <359a92830609271416h5f02fee5y49425e3fa756776e@mail.gmail.com>
Date: Wed, 27 Sep 2006 17:16:07 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Writing - Searching synchronization
In-Reply-To: <451AE844.5060606@isoco.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34085_18057359.1159391767955"
References: <451AE844.5060606@isoco.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_34085_18057359.1159391767955
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Yes. New additions to an index are NOT searchable until the
indexSearcher/IndexReader is closed and reopened, just as you are observing.
I think of it as the IndexSearcher taking a "snapshot" of the index when it
is instantiated and operating on that snapshot exclusively thereafter,
regardless of what changes are made to the underlying index.

You got it right in one <G>.

Best
Erick

On 9/27/06, Luis Rodrigo Aguado <lrodrigo@isoco.com> wrote:
>
> Hi all,
>
> I have a problem with a lucene-based application I am trying to build.
> The application is mainly search oriented, and the core of the index is
> built in a batch process before starting the system. In the application
> initialization an IndexSearcher object is built, to perform all the
> searches.
>
> However, in some special conditions, an addition to the index may be
> necessary. In these situations, I build an IndexWriter, add the new
> document and finish with a writer.optimize() and a writer.close().
>
> After an addition, the index returns perfectly the ideas before the
> addition, but not the ones that where added when the application was
> running.
>
> Should I renew the IndexSearcher after the additions to be able to
> return the new Documents?
>
> Thanks in advance!
>
>
>

------=_Part_34085_18057359.1159391767955--

From java-user-return-23612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 21:42:13 2006
Return-Path: <java-user-return-23612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15957 invoked from network); 27 Sep 2006 21:42:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 21:42:12 -0000
Received: (qmail 78401 invoked by uid 500); 27 Sep 2006 21:42:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78375 invoked by uid 500); 27 Sep 2006 21:42:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78364 invoked by uid 99); 27 Sep 2006 21:42:06 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 14:42:06 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=charliecmo@gmail.com; domainkeys=good
Authentication-Results: idunn.apache.osuosl.org smtp.mail=charliecmo@gmail.com; spf=pass
X-ASF-Spam-Status: No, hits=1.0 required=5.0 tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME
Received-SPF: pass (idunn.apache.osuosl.org: domain gmail.com designates 66.249.82.225 as permitted sender)
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.225] ([66.249.82.225:21699] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 88/00-02891-C20FA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 14:42:05 -0700
Received: by wx-out-0506.google.com with SMTP id s15so305161wxc
        for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 14:42:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:date:x-mailer:reply-to:x-priority:message-id:to:subject:in-reply-to:references:mime-version:content-type:content-transfer-encoding:from;
        b=OQDcOMqDgSImB1YMItdT10Xw26XjaYbtw8j2RYRiHRkf7FOwOkrvcN7Hu6Wtm/eU0UuTgLpEuEAvFK2vzquIxzgZ7CYX4BBTaw6W9m18+5xe/aragMD4M4Cu7SEwd3V3wPRls5ZJV6e/UABgmF04IVUGci/Adtr8sNgQabS76vo=
Received: by 10.70.61.1 with SMTP id j1mr1466730wxa;
        Wed, 27 Sep 2006 14:42:01 -0700 (PDT)
Received: from cmo.mshome.net ( [72.179.137.179])
        by mx.gmail.com with ESMTP id 39sm1666946wrl.2006.09.27.14.42.00;
        Wed, 27 Sep 2006 14:42:01 -0700 (PDT)
Date: Wed, 27 Sep 2006 16:41:52 -0500
X-Mailer: The Bat! (v3.5) Professional
Reply-To: Charlie Zhao <CharlieCMO@gmail.com>
X-Priority: 3 (Normal)
Message-ID: <677109849.20060927164152@gmail.com>
To: java-user@lucene.apache.org
Subject: strange behavior 4 query term boost
In-Reply-To: <359a92830609271416h5f02fee5y49425e3fa756776e@mail.gmail.com>
References: <451AE844.5060606@isoco.com>
 <359a92830609271416h5f02fee5y49425e3fa756776e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
From: charliecmo@gmail.com
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I don't understand why the following two queries give totally different results.

  term1^5 term2^6 term3^7

  term1^0.0005 term2^0.0006 term3^0.0007

Can anyone explain? Thanks.

(lucene2.0, using TopDocs)

-- 
Thanks,
 Charlie




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 21:49:29 2006
Return-Path: <java-user-return-23613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17291 invoked from network); 27 Sep 2006 21:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 21:49:28 -0000
Received: (qmail 91560 invoked by uid 500); 27 Sep 2006 21:49:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91532 invoked by uid 500); 27 Sep 2006 21:49:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91521 invoked by uid 99); 27 Sep 2006 21:49:22 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 14:49:22 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=hossman_lucene@fucit.org; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain fucit.org from 169.229.70.167 cause and error)
Received: from [169.229.70.167] ([169.229.70.167:35558] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id D3/30-02891-FD1FA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 14:49:20 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 36B465B766; Wed, 27 Sep 2006 14:49:11 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 263837F403;
	Wed, 27 Sep 2006 14:49:11 -0700 (PDT)
Date: Wed, 27 Sep 2006 14:49:11 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org, Charlie Zhao <CharlieCMO@gmail.com>
Subject: Re: strange behavior 4 query term boost
In-Reply-To: <677109849.20060927164152@gmail.com>
Message-ID: <Pine.LNX.4.58.0609271446520.10066@hal.rescomp.berkeley.edu>
References: <451AE844.5060606@isoco.com> <359a92830609271416h5f02fee5y49425e3fa756776e@mail.gmail.com>
 <677109849.20060927164152@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I assume you mean that the set of matches is hte same, but the scores (and
possibly the order) are different correct?

The IndexSearcher.explain methods should help make the reason clear --
compare the output for each query when looking at the same docIds.

I suspect what you'll find is that with the low boost values, the
fieldNorms become more significant resulting in a change of order.

: Date: Wed, 27 Sep 2006 16:41:52 -0500
: From: charliecmo@gmail.com
: Reply-To: java-user@lucene.apache.org, Charlie Zhao <CharlieCMO@gmail.com>
: To: java-user@lucene.apache.org
: Subject: strange behavior 4 query term boost
:
: Hello,
:
: I don't understand why the following two queries give totally different results.
:
:   term1^5 term2^6 term3^7
:
:   term1^0.0005 term2^0.0006 term3^0.0007
:
: Can anyone explain? Thanks.
:
: (lucene2.0, using TopDocs)
:
: --
: Thanks,
:  Charlie
:
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 27 22:24:17 2006
Return-Path: <java-user-return-23614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26555 invoked from network); 27 Sep 2006 22:24:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2006 22:24:17 -0000
Received: (qmail 43875 invoked by uid 500); 27 Sep 2006 22:24:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43853 invoked by uid 500); 27 Sep 2006 22:24:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43842 invoked by uid 99); 27 Sep 2006 22:24:11 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 15:24:11 -0700
Authentication-Results: idunn.apache.osuosl.org smtp.mail=lucene@mikemccandless.com; spf=permerror
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received-SPF: error (idunn.apache.osuosl.org: domain mikemccandless.com from 66.111.4.25 cause and error)
Received: from [66.111.4.25] ([66.111.4.25:43397] helo=out1.smtp.messagingengine.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 14/50-03124-70AFA154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 15:24:09 -0700
Received: from frontend3.internal (frontend3.internal [10.202.2.152])
	by frontend1.messagingengine.com (Postfix) with ESMTP id 93D9ADAA33F
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 18:24:04 -0400 (EDT)
Received: from heartbeat2.internal ([10.202.2.161])
  by frontend3.internal (MEProxy); Wed, 27 Sep 2006 18:24:07 -0400
X-Sasl-enc: Cog4lRrNOKy119rTggp27ajSVdW4kQ530oLaZr+ekGXN 1159395847
Received: from [192.168.0.102] (pool-72-74-90-36.bstnma.fios.verizon.net [72.74.90.36])
	by mail.messagingengine.com (Postfix) with ESMTP id B3E9ABE66
	for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 18:24:07 -0400 (EDT)
Message-ID: <451AFA02.40703@mikemccandless.com>
Date: Wed, 27 Sep 2006 18:24:02 -0400
From: Michael McCandless <lucene@mikemccandless.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Caused by: java.io.IOException: The handle is invalid
References: <0D6A3C278F4DC346B98DF4D2F1397E8115690FF6@UREXCHVS3.ur.com>
In-Reply-To: <0D6A3C278F4DC346B98DF4D2F1397E8115690FF6@UREXCHVS3.ur.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Van Nguyen wrote:
> I'm running this on Windows 2003 server (NTFS).  The Java VM version is
> 1.5.0_06.  This exception is not consistent, but it is not intermittent
> either.  It does not throw it at any particular point while rebuilding
> the index, but it will throw this exception at some point (it could be
> 1/3 way through... or it could be 95% done).  
> 
> At first... I thought I might have a bad sector somewhere on my hard
> drive, so I partitioned a hard drive (known to be good) to be only
> 500mb... knowing this particular index is only 250mb.  Using the server
> version of the jvm.dll will cause this error somewhere during program.
> Using the client version, it builds w/o any errors.

I am at a loss on this one.

That function that writes the segments file is quite simple -- it opens 
a "segments.new", writes a smallish number of bytes, then closes it, 
then renames it to "segments".  Your exception happens in the close (in 
a finally clause).  I don't get why server version of the JRE would do 
this but the client version would not.

Do you have any interesting customizations in how you are using Lucene?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 01:54:44 2006
Return-Path: <java-user-return-23615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68800 invoked from network); 28 Sep 2006 01:54:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 01:54:43 -0000
Received: (qmail 26724 invoked by uid 500); 28 Sep 2006 01:54:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26693 invoked by uid 500); 28 Sep 2006 01:54:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26682 invoked by uid 99); 28 Sep 2006 01:54:37 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 18:54:37 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=jackychenp@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=DNS_FROM_RFC_ABUSE,MIME_BASE64_TEXT
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.181] ([64.233.166.181:18043] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 72/72-04219-95B2B154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 18:54:34 -0700
Received: by py-out-1112.google.com with SMTP id w49so447818pyg
        for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 18:54:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=Ci539dxOBezgFXhsCVFYGCViEDZyKrYXxCz/LwpYhJhORsj8D3F32z7mK607hVld/bgGHa0bfVUIQAGfwvSer1yhh4ZbWohrbH7GTecCEyfcp6bpal80bEJBOiAOjWQ+vzcQp1SIbVjvwRjam7gdaRZV3sy+BROPoIlEUxbRb+M=
Received: by 10.35.96.7 with SMTP id y7mr2060377pyl;
        Wed, 27 Sep 2006 18:54:31 -0700 (PDT)
Received: from client11 ( [61.151.238.211])
        by mx.gmail.com with ESMTP id 60sm1308465pyg.2006.09.27.18.54.29;
        Wed, 27 Sep 2006 18:54:30 -0700 (PDT)
Message-ID: <002401c6e2a1$090f2f80$1501a8c0@keenmicro.com>
From: "jacky" <jackychenp@gmail.com>
To: <java-user@lucene.apache.org>,
	"Bhavin Pandya" <bhavinp@rediff.co.in>
References: <001801c6e202$e2f46fc0$1501a8c0@keenmicro.com> <003801c6e212$b89159e0$740310ac@bhavin>
Subject: Re: lock file of lucene
Date: Thu, 28 Sep 2006 09:54:24 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

aGksDQogICB5ZXMsIGJ1dCB0aGVyZSBtYXliZSBzZXZlcmFsIHByb2dyYW1zIHRvIHdyaXRlIHRo
ZSBpbmRleC4gDQpJZiBhIHByb2dyYW0gaXMgd3JpdGluZyBpbnRvIHRoZSBpbmRleCwgdGhlIGlu
ZGV4IGRhdGFiYXNlIG1heWJlIGNvcnJ1cHRlZCANCndoZW4gYW5vdGhlciBwcm9ncmFtIHVubG9j
a3MgaXQNCg0KICAgICBCZXN0IFJlZ2FyZHMuDQogICAgICAgamFja3kgIA0KICAgICAgIA0KLS0t
LS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206ICJCaGF2aW4gUGFuZHlhIiA8Ymhhdmlu
cEByZWRpZmYuY28uaW4+DQpUbzogPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4NClNlbnQ6
IFdlZG5lc2RheSwgU2VwdGVtYmVyIDI3LCAyMDA2IDQ6NTUgUE0NClN1YmplY3Q6IFJlOiBsb2Nr
IGZpbGUgb2YgbHVjZW5lDQoNCg0KPiBIaSBqYWNreSwNCj4gDQo+IEJlZm9yZSB5b3Ugb3BlbiBJ
bmRleFdyaXRlciBvYmplY3QgeW91IGNhbiBjaGVjayB3aGV0aGVyIGxvY2sgZmlsZSBleGlzdHMg
b3IgDQo+IG5vdCBhbmQgaWYgaXRzIGF2YWlsYWJsZSB5b3UgY2FuIHVubG9jayBpdC4NCj4gVXNl
IEluZGV4UmVhZGVyLmlzTG9ja2VkIGFuZCBJbmRleFJlYWRlci51bmxvY2suDQo+IA0KPiAtIEJo
YXZpbiBwYW5keWENCj4gDQo+IA0KPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KPiBG
cm9tOiAiamFja3kiIDxqYWNreWNoZW5wQGdtYWlsLmNvbT4NCj4gVG86IDxqYXZhLXVzZXJAbHVj
ZW5lLmFwYWNoZS5vcmc+DQo+IFNlbnQ6IFdlZG5lc2RheSwgU2VwdGVtYmVyIDI3LCAyMDA2IDEy
OjMyIFBNDQo+IFN1YmplY3Q6IGxvY2sgZmlsZSBvZiBsdWNlbmUNCj4gDQo+IA0KPiA+IGhpLA0K
PiA+ICBXaGVuIHdyaXRpbmcgaW50byBhbiBpbmRleCwgbHVjZW5lIHdpbGwgY3JlYXRlIGEgd3Jp
dGUgbG9jayBmaWxlLg0KPiA+IFNvLCBpZiB0aGVyZSBpcyBhbiBlcnJvciBkdXJpbmcgdGhlIHdy
aXRpbmcuIHRoZSBsb2NrIGZpbGUgd2lsbCBub3QgYmUgDQo+ID4gZGVsZXRlZC4NCj4gPiBBbmQg
YWxzbyB0aGUgSlZNIHdpbGwgbm90IGJlIGNsb3NlZCBmb3Igc29tZSB0aW1lLiBTbyB0aGUgcHJv
Z3JhbSB3aWxsIA0KPiA+IGhhdmUgbm8gY2hhbmNlIHRvIGdldCBsb2NrIG9mIHRoaXMgaW5kZXgu
DQo+ID4gSXMgdGhlcmUgYW55IG1ldGhvZCB0byBhdm9pZCB0aGF0Pw0KPiA+DQo+ID4gICAgIEJl
c3QgUmVnYXJkcy4NCj4gPiAgICAgICBqYWNreQ0KPiA+IA0KPiANCj4gDQo+IC0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5l
LmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2Vy
LWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4g



From java-user-return-23616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 01:59:28 2006
Return-Path: <java-user-return-23616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69206 invoked from network); 28 Sep 2006 01:59:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 01:59:27 -0000
Received: (qmail 29652 invoked by uid 500); 28 Sep 2006 01:59:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29623 invoked by uid 500); 28 Sep 2006 01:59:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29609 invoked by uid 99); 28 Sep 2006 01:59:22 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 18:59:22 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=iamaslamok@yahoo.co.in; domainkeys=good
X-ASF-Spam-Status: No, hits=3.9 required=5.0 tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [202.43.219.121] ([202.43.219.121:44852] helo=web8323.mail.in.yahoo.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 3C/82-04219-67C2B154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 18:59:20 -0700
Received: (qmail 35410 invoked by uid 60001); 28 Sep 2006 01:59:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=aNOab+TE0RhFyPtF+8AiLjMnKb8gz/n68zYPHIxzGm9SWW0LkTW4EglySNu9vOodAIHwTBGS23mwW1YIUgSiVFE3K41B6zvnTiOECQTRzc1I3GUSENUzvpVbOlTU8SibbEzXikRNkg2rkRDc2Jxsr+b3ADGONOuMLqZfiUfOk2E=  ;
Message-ID: <20060928015914.35408.qmail@web8323.mail.in.yahoo.com>
Received: from [59.95.161.143] by web8323.mail.in.yahoo.com via HTTP; Thu, 28 Sep 2006 02:59:14 BST
Date: Thu, 28 Sep 2006 02:59:14 +0100 (BST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Re: Can Lucene Index 50MB xml file
To: java-user@lucene.apache.org, Bhavin Pandya <bhavinp@rediff.co.in>
In-Reply-To: <006d01c6e225$682f8590$740310ac@bhavin>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-986105043-1159408754=:34328"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-986105043-1159408754=:34328
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I am using Lucene 2.1 in Slide. Have you any idea what is the place where should i change it and how much value should i give it?

Bhavin Pandya <bhavinp@rediff.co.in> wrote:  Hi aslam,

Here is the method you can set for very long content.
IndexWriter's setMaxFieldLength.

- Bhavin pandya


----- Original Message ----- 
From: "aslam bari" 
To: 
Sent: Wednesday, September 27, 2006 2:29 PM
Subject: Can Lucene Index 50MB xml file


> Dear all,
> I want to confirm that can Lucene index 50MB xml file. Or i have to 
> change in source code to make it work. Because i think there is some 
> limits of tokens in Lucene. So it is not doing indexing of whole document. 
> Any Views? Where should i change in code.
>
>
> ---------------------------------
> Find out what India is talking about on - Yahoo! Answers India
> Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get 
> it NOW 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 				
---------------------------------
 Find out what India is talking about on  - Yahoo! Answers India 
 Send FREE SMS to your friend's mobile from Yahoo! Messenger Version 8. Get it NOW
--0-986105043-1159408754=:34328--

From java-user-return-23617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 02:51:34 2006
Return-Path: <java-user-return-23617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81504 invoked from network); 28 Sep 2006 02:51:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 02:51:33 -0000
Received: (qmail 60028 invoked by uid 500); 28 Sep 2006 02:51:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59999 invoked by uid 500); 28 Sep 2006 02:51:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59988 invoked by uid 99); 28 Sep 2006 02:51:28 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Sep 2006 19:51:28 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=charliecmo@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=1.0 required=5.0 tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.229] ([66.249.82.229:22489] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id CE/C3-04219-EA83B154 for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 19:51:27 -0700
Received: by wx-out-0506.google.com with SMTP id s15so380634wxc
        for <java-user@lucene.apache.org>; Wed, 27 Sep 2006 19:51:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:date:x-mailer:reply-to:x-priority:message-id:to:cc:subject:mime-version:content-type:content-transfer-encoding:from;
        b=rLOOKIWThuU572UhUI41PnHntnlpKJynh5MJIo3n+XVVXHlJeUVA/2JtS7SZF1G72ZSj5AvojiFh7BzQSSkOcW7UQJSGmTvAERomTOc0P8Rv3sscSL12nWXA5D3R+frr5nZNIYj20enCDAr852PkUsAkmA7FmfWpdLAkUQLI2Vs=
Received: by 10.70.21.10 with SMTP id 10mr1932306wxu;
        Wed, 27 Sep 2006 19:51:23 -0700 (PDT)
Received: from cmo.mshome.net ( [72.179.137.179])
        by mx.gmail.com with ESMTP id 13sm2113572wrl.2006.09.27.19.51.22;
        Wed, 27 Sep 2006 19:51:22 -0700 (PDT)
Date: Wed, 27 Sep 2006 21:51:12 -0500
X-Mailer: The Bat! (v3.5) Professional
Reply-To: CharlieCMO@gmail.com
X-Priority: 3 (Normal)
Message-ID: <1542577129.20060927215112@gmail.com>
To: java-user@lucene.apache.org
CC: Chris Hostetter <hossman_lucene@fucit.org>
Subject: Re[2]: strange behavior 4 query term boost
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
From: charliecmo@gmail.com
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Found the reason, it is a bug IMHO.

The example should be:

A: term1^5 term2^6 term3^7
B: term1^5E-4 term2^6E-4 term3^7E-4
C: term1^0.0006 term2^0.0006 term3^0.0007

A & C suppose return the same rank
B is different

Since B will be parsed as: term1^5 E-4 term2^6 E-4 term3^7 E-4

The parser takes E-4 as another term.

Can someone help to log it as a "parsing bug" if we consider it as a
bug. Thanks.

Charlie

---
Wednesday, September 27, 2006, 4:49:11 PM, you wrote:


> I assume you mean that the set of matches is hte same, but the scores (and
> possibly the order) are different correct?

> The IndexSearcher.explain methods should help make the reason clear --
> compare the output for each query when looking at the same docIds.

> I suspect what you'll find is that with the low boost values, the
> fieldNorms become more significant resulting in a change of order.

> : Date: Wed, 27 Sep 2006 16:41:52 -0500
> : From: charliecmo@gmail.com
> : Reply-To: java-user@lucene.apache.org, Charlie Zhao <CharlieCMO@gmail.com>
> : To: java-user@lucene.apache.org
> : Subject: strange behavior 4 query term boost
> :
> : Hello,
> :
> : I don't understand why the following two queries give totally different results.
> :
> :   term1^5 term2^6 term3^7
> :
> :   term1^0.0005 term2^0.0006 term3^0.0007
> :
> : Can anyone explain? Thanks.
> :
> : (lucene2.0, using TopDocs)
> :
> : --
> : Thanks,
> :  Charlie





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 08:00:32 2006
Return-Path: <java-user-return-23618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51186 invoked from network); 28 Sep 2006 08:00:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 08:00:32 -0000
Received: (qmail 58599 invoked by uid 500); 28 Sep 2006 08:00:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58575 invoked by uid 500); 28 Sep 2006 08:00:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58564 invoked by uid 99); 28 Sep 2006 08:00:24 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 01:00:24 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=mekin.m@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.185] ([64.233.182.185:13139] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E8/EA-05478-F018B154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 01:00:20 -0700
Received: by nf-out-0910.google.com with SMTP id b2so623196nfe
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 01:00:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Cyf0aOIFwuT27LVeDL04CyFXrZ+C/hKuMSFq/ugD94MLdKne+Ec+42DF+ZlZetc/onPHrvQQLWKcH7uurwc/EscrbDDzK46eZZAyq5l647Z5Y7LB1pg8cZEtXU1v985LGmk9n9BmUMrHMmk13A7RgiYzasGdt9af0upUhwdZHkE=
Received: by 10.49.41.18 with SMTP id t18mr3409573nfj;
        Thu, 28 Sep 2006 01:00:08 -0700 (PDT)
Received: by 10.49.37.16 with HTTP; Thu, 28 Sep 2006 01:00:08 -0700 (PDT)
Message-ID: <865c77680609280100s5641337fk7af470e6c4c87437@mail.gmail.com>
Date: Thu, 28 Sep 2006 13:30:08 +0530
From: Mek <mekin.m@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Very high fieldNorm for a field resulting in bad results
In-Reply-To: <Pine.LNX.4.58.0609271134380.32280@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com>
	 <Pine.LNX.4.58.0609261155270.13298@hal.rescomp.berkeley.edu>
	 <865c77680609261944h335583acy6b6900ecb898e8eb@mail.gmail.com>
	 <Pine.LNX.4.58.0609271134380.32280@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> it depends on your goal.  index time field boosts are a way to express
> things like "this documents title is worth twice as much as the title of
> most documents" query time boosts are a way to express "i care about
> matches on this clause of my query twice as much as i do about matches to
> other clauses of my query.

Assuming I want to boost the fields with the same value for all documents,
can this be replaced by query-time boosting.

> : 2. When searching through the archive I had read a post by you, saying
> : its possible to give exact matches much higher weightage by indexing
> : the START & END
> : from : http://www.nabble.com/What-are-norms--tf1919250.html#a5335856
>
> the context was that even if you turn off field norms you can still some
> score benefits/restrictions of matches on shorter fields vs longer fields
> by indexing marker tokens (things you wouldn't expect to be regular
> tokens; i used START and END just for convinience)  at the begining and
> ending of hte field, and then including them in your phrase or span near
> query with lots of slop ... so a values like...

Cool, that was a good solution.

I, though, am storing the norms & yet do not get exact matches ranking
higher than others.

I do change  "user query"  to  "user query"^PHRASE_BOOST user query

this helps to some level, but my problem comes from the fact that
given a user query, i dont know which field to search in & hence
construct a boolean query that searches in all fields.

The issue with this is, that an exact match in field A ends up ranking
lower than a broader match in field A of another doc which also
matches partially with field B
Are there any easy solutions that have been used before ?

eg. Britney spears -> "Britney spear"^N britney spears
will match :

doc1 - A:"BritneySpears, and other celebrities"  B:William Spears
doc2   A: "Britney Spears"


the problem is aggravated by the fact that a query for "spears
william" should get me doc1 (that is is should actually query & score
based on all fields).

The only good solution I can think of is - giving very very high
weightage to the phrase, but even that did not seem to work.

Another possible idea - make length norm play a greater role in the
score (use length norm ^ 2 ? ) .

What else can I try ?

Thanks a lot for the responses Chris,
mek.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 08:32:38 2006
Return-Path: <java-user-return-23619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57991 invoked from network); 28 Sep 2006 08:32:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 08:32:37 -0000
Received: (qmail 88514 invoked by uid 500); 28 Sep 2006 08:32:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88480 invoked by uid 500); 28 Sep 2006 08:32:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88469 invoked by uid 99); 28 Sep 2006 08:32:31 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 01:32:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [72.29.74.74] ([72.29.74.74:58725] helo=sh58.surpasshosting.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id D4/EB-05478-A988B154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 01:32:27 -0700
Received: from [81.25.37.109] (helo=localhost)
	by sh58.surpasshosting.com with esmtpa (Exim 4.52)
	id 1GSrJZ-0004Ky-Lg
	for java-user@lucene.apache.org; Thu, 28 Sep 2006 04:32:18 -0400
Date: Thu, 28 Sep 2006 11:32:02 +0300
From: Yura Smolsky <info@altervisionmedia.com>
X-Mailer: The Bat! (v3.64.01 Christmas Edition) Professional
Reply-To: Yura Smolsky <info@altervisionmedia.com>
X-Priority: 3 (Normal)
Message-ID: <541201675.20060928113202@altervisionmedia.com>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re[4]: how to enhance speed of sorted search
In-Reply-To: <Pine.LNX.4.58.0609261145040.13298@hal.rescomp.berkeley.edu>
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com> <834910708.20060925180034@altervisionmedia.com> <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu> <1647427384.20060926101239@altervisionmedia.com> <Pine.LNX.4.58.0609261145040.13298@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sh58.surpasshosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervisionmedia.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, Chris.

CH> : I am thinking should be this faster
CH> The ConstantScoreQuery wrapped arround the QueryFilter might in fact be
CH> faster then the raw query -- have your tried it to see?

I will try when PrefixFilter will be added in Lucene. b/c I have some
technical issues and I use PyLucene. But on my local index of 400 mb is
it not slower than usual :)

CH> you might be able to shave a little bit of speed off by accessing the bits
CH> from the Filter directly and iterating over them yourself to check the
CH> FieldCache ad build up your sorted list of the first "N" -- i think that
CH> would save you one method call per match (the score method of
CH> ConstantScoreQuery)

What is the "sorted list of the first "N""?

CH> At some point you just have to wonder if it's fast enough?

:)

CH> how long does a typically sorted query take for you right now?

it takes 0.2 up to 0.4. this is only searching without iterating over
hits and fetching docs.

CH> how many documents are in your index?

about 30 millions

CH> how many matches do you typically have?

it varies greatly. from 7k to 100k


--
Yura Smolsky,
http://altervisionmedia.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 09:05:58 2006
Return-Path: <java-user-return-23620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66847 invoked from network); 28 Sep 2006 09:05:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 09:05:57 -0000
Received: (qmail 28676 invoked by uid 500); 28 Sep 2006 09:05:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28647 invoked by uid 500); 28 Sep 2006 09:05:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28636 invoked by uid 99); 28 Sep 2006 09:05:51 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 02:05:51 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=bubblenut@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.186] ([64.233.182.186:3966] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 22/EC-05478-7609B154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 02:05:44 -0700
Received: by nf-out-0910.google.com with SMTP id b2so632153nfe
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 02:05:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:user-agent:references:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:message-id;
        b=q9nzi6Y/B2r/4cWjg5w5HXvqLImgXNoW/07HSq5xYBz2nGSy5S89HwIo82IKmAYUevjFCOHKMlYXyFv2R+3FZmGsBjlb08GMh9Uj9p59HS8yG2icj8vglC6ykC2qhC4Eg0JPjA3hWaMe7TNluBHQ1Db0PP05WRdNdZ+VprjUyQc=
Received: by 10.78.136.9 with SMTP id j9mr1210733hud;
        Thu, 28 Sep 2006 02:05:37 -0700 (PDT)
Received: from ?192.168.250.47? ( [217.207.206.146])
        by mx.gmail.com with ESMTP id 18sm1023092hue.2006.09.28.02.05.36;
        Thu, 28 Sep 2006 02:05:36 -0700 (PDT)
From: Rob Young <bubblenut@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Splitting the index
Date: Thu, 28 Sep 2006 10:05:36 +0100
User-Agent: KMail/1.9.1
References: <200609271751.11676.bubblenut@gmail.com> <C6D9D11C-11A1-4ABE-A8EA-61FC2EC9BA44@ehatchersolutions.com>
In-Reply-To: <C6D9D11C-11A1-4ABE-A8EA-61FC2EC9BA44@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609281005.36242.bubblenut@gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 27 September 2006 18:51, Erik Hatcher wrote:
> Lots of possible issues, but we need more information to troubleshoot
> this properly.   
> How big is your index, number of documents?  
CDs       137,390
DVDs       41,049
Games       3,360
Books     648,941
Total     830,740

> total file system size of the index?
segments    31b
deletable    4b
index      286Mb

> is your index optimized?  
Yes, after every 1000 adds

> how often do you update the index?
Continuously. We have document builders running for each product type. They 
pull all products of their type which have changed since their last index 
time, build the documents and stick them in a queue for the indexer (this 
includes deletes), sleep for an hour and repeat. The indexer processes the 
queue optimising the index every 1000 documents.

> how are you managing indexsearcher instances after the index is updated?
My main search class is a Runnable, in it's run method it does the following.
while( !this.stop ) {
  try {
    Thread.sleep( 1000 * 60 * 5 );
    this.indexSearcher = 
      new IndexSearcher( 
        new RAMDirectory( 
          FSDirectory.getDirectory(
            this.index_directory, true
          )
        )
      )
    );
  } catch( IOException e ) {
    log.severe( "Failed to reload the searcher" );
  } catch( InterruptedException e ) {
    log.notice( "Index reloading interrupted" );
  }
}


I have replied to the other message in this thread with the questions asked 
there as well.

Many Thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 09:17:12 2006
Return-Path: <java-user-return-23621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69837 invoked from network); 28 Sep 2006 09:17:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 09:17:11 -0000
Received: (qmail 38146 invoked by uid 500); 28 Sep 2006 09:17:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38107 invoked by uid 500); 28 Sep 2006 09:17:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38095 invoked by uid 99); 28 Sep 2006 09:17:06 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [89.107.46.3] (HELO how-mail-1.hd.ebuyer.com) (89.107.46.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 02:17:05 -0700
Received: from beavis.dev.ebuyer.com ([10.22.13.213] helo=trade.ebuyer.com)
	by how-mail-1.hd.ebuyer.com with esmtp (Exim 4.62)
	(envelope-from <sgrimshaw@ebuyer.com>)
	id 1GSrzb-0002IS-Sm
	for java-user@lucene.apache.org; Thu, 28 Sep 2006 10:15:46 +0100
From: Stuart Grimshaw <sgrimshaw@ebuyer.com>
To: java-user@lucene.apache.org
Date: Thu, 28 Sep 2006 10:12:38 +0100
User-Agent: KMail/1.9.3
Organization: eBuyer
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609281012.39131.sgrimshaw@ebuyer.com>
X-SA-Exim-Connect-IP: 10.22.13.213
X-SA-Exim-Mail-From: sgrimshaw@ebuyer.com
Subject: Indexing a single product in multiple categories.
X-SA-Exim-Version: 4.2.1 (built Mon, 27 Mar 2006 13:42:28 +0200)
X-SA-Exim-Scanned: No (on how-mail-1.hd.ebuyer.com); Unknown failure
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We have an existing lucene based search, and a recent change to the way we 
organise our products has caused a bit of a problem for search results.

Our products are arranged into subcategories, categories & stores. A product 
can only be in 1 subcat or cat, but a cat can be in multiple stores. We only 
index the primary cat because historically the multiple store feature was 
depracated.

Obviously I don't want to simply add another row to the index for each store, 
as it would skew the results, especially when displaying a count of the 
results, I can't add a new column for each store, because I don't know how 
many stores it's going to be in.

Does anyone have any ideas?

Stuart Grimshaw
Developer
ebuyer.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 13:49:18 2006
Return-Path: <java-user-return-23622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57931 invoked from network); 28 Sep 2006 13:49:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 13:49:18 -0000
Received: (qmail 6801 invoked by uid 500); 28 Sep 2006 13:49:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6602 invoked by uid 500); 28 Sep 2006 13:49:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6591 invoked by uid 99); 28 Sep 2006 13:49:07 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 06:49:07 -0700
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received: from [205.207.78.3] ([205.207.78.3:22370] helo=tormail01.cihi.ca)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E2/82-05478-D92DB154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 06:48:36 -0700
Received: from (tormail01.cihi.ca [10.64.1.106]) by webshield.cihi.ca with smtp
	 id 7320_57f3ba44_4ef8_11db_95b7_003048245df9;
	Thu, 28 Sep 2006 09:51:22 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6E304.41D541D7"
Subject: 'categorized-term' web index
Date: Thu, 28 Sep 2006 09:44:44 -0400
Message-ID: <373399D6389D8C42B4EAD9BE2B6B5C5F07151B4C@tormail01.cihi.ca>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: 'categorized-term' web index
Thread-Index: AcbjBEFwhmqJ9W/CS1SV4UiDcNSbJA==
From: "Vladimir Olenin" <VOlenin@cihi.ca>
To: <java-user@lucene.apache.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6E304.41D541D7
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
=20
I wonder if anyone knows.....
=20
- is there a place I can get already crawled internet web pages in an
archive (10 - 100Gb of data)
- is there a place I can get already created Lucene index for these
pages
- is there such thing as 'categorized-terms' index, meaning each page is
processed by an NLP engine which assigns 'category tokens' to terms in
the text (eg, can detect company names, location names, addresses, etc),
so in the end on top of inverted index of pages you'll also get list of
detected term categories, as well as straight and inverted index of term
categories (ie, 'location names': 'toronto', 'new york', etc; 'location
names docids': doc1, doc2, doc3; 'toronto as location name': doc1, doc5,
doc6)
- can anyone recommend any particular open source NLP library?
- I've browsed through a bunch of them and the most impressive one was
'gate' (http://gate.ac.uk/). Has anyone used this library?
- can these libraries compliment each other (ie, ran the same content
through several libraries and then have a 'vote' on the most probable
result)?=20
=20
Thanks!
=20
Vlad
=20
PS: thanks to everyone who answered recent questions, especially Otis,
Mark, Andrzej and Grant.

------_=_NextPart_001_01C6E304.41D541D7--

From java-user-return-23623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 14:11:25 2006
Return-Path: <java-user-return-23623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62948 invoked from network); 28 Sep 2006 14:11:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 14:11:24 -0000
Received: (qmail 41649 invoked by uid 500); 28 Sep 2006 14:11:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41561 invoked by uid 500); 28 Sep 2006 14:11:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41509 invoked by uid 99); 28 Sep 2006 14:11:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [62.159.88.170] (HELO ns1.hauk-sasko-backup.de) (62.159.88.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 07:11:14 -0700
Received: (from mail@localhost)
	by ns1.hauk-sasko-backup.de (8.9.3/8.9.3) id QAA16804
	for java-user@lucene.apache.org.KAV; Thu, 28 Sep 2006 16:09:10 +0200
Received: (from mail@localhost)
	by ns1.hauk-sasko-backup.de (8.9.3/8.9.3) id QAA16800
	for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 16:09:10 +0200
Received: from UNKNOWN(172.19.1.103), claiming to be "homer.hauk-sasko.de"
 via SMTP by ns1, id smtpdvgi9Uw; Thu Sep 28 16:09:03 2006
Received: from core1 (localhost [127.0.0.1])
	by localhost (Postfix) with SMTP id 43ED2512F
	for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 16:09:03 +0200 (CEST)
Received: by homer.hauk-sasko.de (Postfix, from userid 1050)
	id 34F18512E; Thu, 28 Sep 2006 16:09:03 +0200 (CEST)
Received: from [172.19.3.123] (lx-el.hauk-sasko.de [172.19.3.123])
	by homer.hauk-sasko.de (Postfix) with ESMTP id 0A35030FB
	for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 16:09:03 +0200 (CEST)
Message-ID: <451BD77E.50800@hauk-sasko.de>
Date: Thu, 28 Sep 2006 16:09:02 +0200
From: Eric Louvard <eric.louvard@hauk-sasko.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: fr-fr, de-de, en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Indexing large index with Lucene
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.55 (1.174.2.19-2003-05-19-exp)
X-Sanitizer: This message has been sanitized!
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by ns1.hauk-sasko-backup.de id QAA16800
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-105.9 required=4.0
	tests=BAYES_01,SIGNATURE_LONG_SPARSE,USER_AGENT_MOZILLA_UA,
	      USER_IN_WHITELIST
	version=2.55
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm using Lucene since several year. We had to index allways more documents.

I'm now trying to optimise the index process with more than 1.000.000 
documents and I can see that the performance will decrease when the 
index size is greater.
I would like to know if someone as allready studied this case.

It's interactively maintained index and the fisrt index process is my 
biggest Problem.

- A document contains several attributs.
- I can't block the index during the index process (the search must 
allways be availlable).
- I need to delete the older version of document if I become an newer.

Thank you to tell me about you personnal experience.

ric Louvard.

-- 
Mit freundlichen Gren

i. A. ric Louvard
HAUK & SASKO Ingenieurgesellschaft mbH
Zettachring 2
D-70567 Stuttgart

Phone: +49 7 11 7 25 89 - 19
Fax: +49 7 11 7 25 89 - 50
E-Mail: eric.louvard@hauk-sasko.de
www: www.hauk-sasko.de





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 14:28:06 2006
Return-Path: <java-user-return-23624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70869 invoked from network); 28 Sep 2006 14:28:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 14:28:05 -0000
Received: (qmail 11933 invoked by uid 500); 28 Sep 2006 14:27:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11899 invoked by uid 500); 28 Sep 2006 14:27:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11792 invoked by uid 99); 28 Sep 2006 14:27:53 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 07:27:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [128.230.18.29] ([128.230.18.29:2769] helo=mailer.syr.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 27/E0-17533-EDBDB154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 07:27:44 -0700
Received: from [128.230.84.138] (syru84-138.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1589F5E3@mailer.syr.edu>; Thu, 28 Sep 2006 10:27:31 -0400
Message-ID: <451BDBD3.40407@syr.edu>
Date: Thu, 28 Sep 2006 10:27:31 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: 'categorized-term' web index
References: <373399D6389D8C42B4EAD9BE2B6B5C5F07151B4C@tormail01.cihi.ca>
In-Reply-To: <373399D6389D8C42B4EAD9BE2B6B5C5F07151B4C@tormail01.cihi.ca>
X-Enigmail-Version: 0.94.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Vladimir Olenin wrote:
> - is there a place I can get already crawled internet web pages in an
> archive (10 - 100Gb of data)

I don't the sizes of the corpora mentioned on Lucene Wiki's Resources
page, but it's a good place to start:

<http://wiki.apache.org/jakarta-lucene/Resources#head-2bc05beb8e8c53c9f655491ea834661026f4e522>

Also, the International Conference on Weblogs and Social Media (ICWSM)
is making available a dataset of crawled blogs.  It comes in the form of
a set of compressed really big (~2GB uncompressed) XML files wrapping
the original HTML files with some associated metadata, and it amounts to
about 40GB uncompressed:

   <http://www.icwsm.org/data.html>

Steve

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 16:19:18 2006
Return-Path: <java-user-return-23625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8403 invoked from network); 28 Sep 2006 16:19:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 16:19:18 -0000
Received: (qmail 69341 invoked by uid 500); 28 Sep 2006 16:19:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69307 invoked by uid 500); 28 Sep 2006 16:19:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69296 invoked by uid 99); 28 Sep 2006 16:19:11 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 09:19:11 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.178] ([64.233.166.178:18186] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id EB/26-17533-CF5FB154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 09:19:09 -0700
Received: by py-out-1112.google.com with SMTP id w49so693344pyg
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 09:19:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XtVd2BdgYCrzLUx9u1rILsiYkccV7QgBxK28s4AdKTuSnVLFGW0nX/34a7i4J687kZ4Hkkk6490JDOjL16Fryw/eMbI+/3ml/x+nqncgYGY564CaCD17dwtKoOl9o0kUxZMeJiiGJVewq65GAMM2zzBNLyLJ10rmvD2NPTkR2TA=
Received: by 10.35.114.16 with SMTP id r16mr568661pym;
        Thu, 28 Sep 2006 09:19:06 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Thu, 28 Sep 2006 09:19:05 -0700 (PDT)
Message-ID: <359a92830609280919o1ec125f6ud7d577c83d138f16@mail.gmail.com>
Date: Thu, 28 Sep 2006 12:19:05 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing large index with Lucene
In-Reply-To: <451BD77E.50800@hauk-sasko.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10226_32243082.1159460345560"
References: <451BD77E.50800@hauk-sasko.de>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10226_32243082.1159460345560
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Two things come to mind...

First, you can freely write to an index while searching it, the search is
always available. I'm pretty sure this includes deleting/readding documents=
.
However, you won't be able to search on the changes in your index until you
close/reopen the *searcher*.

Second, depending on how quickly you need updates, you could always make a
*copy* of your index, update that and then move it back to where your
searcher looks for it, sort of a batch process really. It all depends upon
how quickly you require seeing the changes.

Hope this helps
Erick

On 9/28/06, Eric Louvard <eric.louvard@hauk-sasko.de> wrote:
>
> I'm using Lucene since several year. We had to index allways more
> documents.
>
> I'm now trying to optimise the index process with more than 1.000.000
> documents and I can see that the performance will decrease when the
> index size is greater.
> I would like to know if someone as allready studied this case.
>
> It's interactively maintained index and the fisrt index process is my
> biggest Problem.
>
> - A document contains several attributs.
> - I can't block the index during the index process (the search must
> allways be availlable).
> - I need to delete the older version of document if I become an newer.
>
> Thank you to tell me about you personnal experience.
>
> =C9ric Louvard.
>
> --
> Mit freundlichen Gr=FC=DFen
>
> i. A. =C9ric Louvard
> HAUK & SASKO Ingenieurgesellschaft mbH
> Zettachring 2
> D-70567 Stuttgart
>
> Phone: +49 7 11 7 25 89 - 19
> Fax: +49 7 11 7 25 89 - 50
> E-Mail: eric.louvard@hauk-sasko.de
> www: www.hauk-sasko.de
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10226_32243082.1159460345560--

From java-user-return-23626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 16:53:45 2006
Return-Path: <java-user-return-23626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15148 invoked from network); 28 Sep 2006 16:53:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 16:53:44 -0000
Received: (qmail 28428 invoked by uid 500); 28 Sep 2006 16:53:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28404 invoked by uid 500); 28 Sep 2006 16:53:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28393 invoked by uid 99); 28 Sep 2006 16:53:38 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 09:53:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [17.250.248.173] ([17.250.248.173:51906] helo=smtpout.mac.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id EC/37-17533-F0EFB154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 09:53:37 -0700
Received: from mac.com (smtpin03-en2 [10.13.10.148])
	by smtpout.mac.com (Xserve/8.12.11/smtpout03/MantshX 4.0) with ESMTP id k8SGsbp9021928;
	Thu, 28 Sep 2006 09:54:37 -0700 (PDT)
Received: from [172.16.4.31] (66-147-201-242.focaldata.net [66.147.201.242] (may be forged))
	(authenticated bits=0)
	by mac.com (Xserve/smtpin03/MantshX 4.0) with ESMTP id k8SGrQR4007380
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO);
	Thu, 28 Sep 2006 09:53:31 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <65BBBCF7-5839-4016-8C23-D452B0ADD77B@mac.com>
Cc: "Garrick Toubassi" <gtoubassi@yahoo.com>
Content-Transfer-Encoding: 7bit
From: Wolfgang Hoschek <wolfgang.hoschek@mac.com>
Subject: Re: Field boosting in MemoryIndex
Date: Thu, 28 Sep 2006 09:53:23 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Brightmail-Tracker: AAAAAA==
X-Brightmail-scanned: yes
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Hi,
>
> I am playing with MemoryIndex for a situation in which I have a large
> number of small, ephemeral documents that I need to fire queries  
> at.  It
> appears to be at least 5x faster than RAMDirectory for my usage, which
> is large enough to be interesting.
>
> However MemoryIndex does not seem to support per field boosts,  
> which is
> something we need.  I presume its not a terribly difficult thing to
> extend MemoryIndex to support per field boosts, but I am looking for
> pointers from any lucene/MemoryIndex wizards on exactly how to attack
> this.
>
> Any guidance would be much appreciated.
>
> thanks,
>
> gt

Thanks for the reminder, I've now added support for per field boost  
to the SVN trunk of MemoryIndex. This comes in the form of the new  
method

	public void addField(String fieldName, TokenStream stream, float boost)

To get it to compile against the latest stable release (2.0.0) you'll  
need to simply remove the following method:

	public Document document(int n, FieldSelector fieldSelector)

(The FieldSelector interface has nothing to do with boosting, and was  
added after 2.0.0. shipped.)

Wolfgang.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 17:05:25 2006
Return-Path: <java-user-return-23627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20040 invoked from network); 28 Sep 2006 17:05:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 17:05:24 -0000
Received: (qmail 43014 invoked by uid 500); 28 Sep 2006 17:05:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42982 invoked by uid 500); 28 Sep 2006 17:05:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42971 invoked by uid 99); 28 Sep 2006 17:05:18 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 10:05:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [17.250.248.173] ([17.250.248.173:54805] helo=smtpout.mac.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E8/87-17533-BC00C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 10:05:17 -0700
Received: from mac.com (smtpin03-en2 [10.13.10.148])
	by smtpout.mac.com (Xserve/8.12.11/smtpout03/MantshX 4.0) with ESMTP id k8SH6Hpq026818;
	Thu, 28 Sep 2006 10:06:17 -0700 (PDT)
Received: from [172.16.4.31] (66-147-201-242.focaldata.net [66.147.201.242] (may be forged))
	(authenticated bits=0)
	by mac.com (Xserve/smtpin03/MantshX 4.0) with ESMTP id k8SH587p013669
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO);
	Thu, 28 Sep 2006 10:05:11 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F5CF28E4-9F1F-4EA6-B8C6-22FC5E3A1762@mac.com>
Cc: daniel.williams@agentlogic.com
Content-Transfer-Encoding: 7bit
From: Wolfgang Hoschek <wolfgang.hoschek@mac.com>
Subject: Re: highlight using a MemoryIndex
Date: Thu, 28 Sep 2006 10:05:05 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Brightmail-Tracker: AAAAAA==
X-Brightmail-scanned: yes
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>

Document.get(FIELD_NAME) will always be null because MemoryIndex does  
not store the original untokenized fulltext(s). Those full texts are  
thrown away immediately after tokenization (i.e. on addField()),  
keeping only the field names and associated (indexed) tokenized  
terms. The latter are what Lucene queries select on.

The underlying rationale is that a user can easily keep the fulltext 
(s) if desired, given that a MemoryIndex is intended for a single  
temporary document at a time.

Wolfgang.



> I was able to get the following code to work using a RAMDirectory,  
> but after reading \
> the description of the MemoryIndex, I wanted to try to use it  
> instead for speed \
> reasons. I removed the RAMDir code, and replaced the references  
> with the MemoryIndex, \
> and all seems to go well till I start stepping through the hits. 1  
> hit is found, but \
> the String returned from the "hits.doc(i).get(FIELD_NAME);" call is  
> always null. Any \
> ideas where I went wrong?
>
>
> Thank you,
>
> Dan Williams
>
>
>     public String findAndWrap( String queryString, String value)
>
>     {
>
> //        System.out.println( "Methods output = [" + \
> Methods.containsBoolean(queryString, value) + "]");
>
>         String returnString = null;
>
>
>
>         try {
>
>             // store the string to search
>
>             MemoryIndex index = new MemoryIndex();
>
>             index.addField(FIELD_NAME, value, new StandardAnalyzer());
>
>
>             /* RAMDir method
>
>             RAMDirectory ramDir = new RAMDirectory();
>
>             IndexWriter writer = new IndexWriter(ramDir, new  
> StandardAnalyzer(), \
> true);
>
>             addDoc(writer, value);
>
>
>             writer.optimize();
>
>             writer.close();
>
>             IndexReader reader = IndexReader.open(ramDir);
>
>             */
>
>
>             // setup the queryString
>
>             QueryParser parser=new QueryParser(FIELD_NAME, new  
> StandardAnalyzer());
>
>             Query unReWrittenQuery = parser.parse(queryString);
>
>             System.out.println("UnRewritten Query: [" + \
> unReWrittenQuery.toString(FIELD_NAME) + "]");
>
>
>             System.out.println("score = " + index.search 
> (unReWrittenQuery));
>
>
>             IndexSearcher searcher = index.createSearcher();
>
> /*          IndexSearcher searcher = new IndexSearcher(ramDir);*/
>
>             System.out.println("Searcher = " + searcher.toString());
>
>                                     IndexReader reader =  
> searcher.getIndexReader();
>
>
>             Query query = unReWrittenQuery.rewrite(reader);
>
>             System.out.println("Searching for: " + query.toString 
> (FIELD_NAME));
>
>             Hits hits = searcher.search(query);
>
>
>             System.out.println("Number of Hits = [" + hits.length()  
> + "]");
>
>
>             if( hits.length() > 0)
>
>             {
>
>                 Highlighter highlighter =new Highlighter(this,new \
> QueryScorer(query));
>
>                 highlighter.setTextFragmenter(new NullFragmenter());
>
>                 for (int i = 0; i < hits.length(); i++)
>
>                 {
>
>                     String text = hits.doc(i).get(FIELD_NAME);
>
>                     int maxNumFragmentsRequired = 2;
>
>                     String fragmentSeparator = "...";
>
>                     StandardAnalyzer analyzer2 = new  
> StandardAnalyzer();
>
>                     TokenStream tokenStream=analyzer2.tokenStream 
> (FIELD_NAME,new \
> StringReader(text));
>
>
>                     returnString =
>
>                         highlighter.getBestFragments(
>
>                                 tokenStream,
>
>                                 text,
>
>                                 maxNumFragmentsRequired,
>
>                                 fragmentSeparator);
>
>                 }
>
>             }
>
>             else
>
>             {
>
>                 System.out.println("No Matches found to highlight.");
>
>                 returnString = value;
>
>             }
>
>         } catch (ParseException e) {
>
>             // TODO Auto-generated catch block
>
>             e.printStackTrace();
>
>         } catch (IOException e) {
>
>             // TODO Auto-generated catch block
>
>             e.printStackTrace();
>
>         }
>
>
>         return returnString;
>
>     }
>
>
>     public static void main(String[] args) {
>
>
>         StringBuffer contents = new StringBuffer();
>
>
>         contents.append("bob\n");
>
>         contents.append("\n");
>
>         contents.append("bobberson\n");
>
>         contents.append("\n");
>
>         contents.append("test\n");
>
>         contents.append("\n");
>
>         contents.append("\n");
>
>         contents.append("\n");
>
>         contents.append("\n");
>
>         contents.append("dated this is also a test sentence\n");
>
>         contents.append("\n");
>
>         contents.append("Dated:7/24/2006\n");
>
>         contents.append("\n");
>
>         contents.append("#Dated: 7/24/2006\n");
>
>         contents.append("\n");
>
>         contents.append("asdf asdfas dfasdfDateda sdfasdfa sdfasd  
> fasdf: \
> 7/24/2006\n");
>
>
>
>         String queryString1 = "(+test +Dated*)";
>
>
>         String queryString2 = "sdfasd and !ted";
>
>         String queryString3 = "test";
>
>
>         modularHtmlHighlighter hl = new modularHtmlHighlighter();
>
>
>         System.out.println("string 1");
>
>         System.out.println( hl.findAndWrap(queryString1,  
> contents.toString()) );
>
>         System.out.println("string 2");
>
>         System.out.println( hl.findAndWrap(queryString2,  
> contents.toString()) );
>
>         System.out.println("string 3");
>
>         System.out.println( hl.findAndWrap(queryString3,  
> contents.toString()) );
>
>
>     }
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 18:40:37 2006
Return-Path: <java-user-return-23628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46254 invoked from network); 28 Sep 2006 18:40:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 18:40:36 -0000
Received: (qmail 264 invoked by uid 500); 28 Sep 2006 18:40:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99968 invoked by uid 500); 28 Sep 2006 18:40:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99957 invoked by uid 99); 28 Sep 2006 18:40:29 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 11:40:29 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=mike.klaas@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [72.14.204.236] ([72.14.204.236:19271] helo=qb-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 8F/1A-17533-C071C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 11:40:22 -0700
Received: by qb-out-0506.google.com with SMTP id d11so162701qbd
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 11:39:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=FcSK1Ab48DEDD7nAisibnPWEVMYgLfw6YNJVjVaaFKASi9Hj0OHQCidaosI7MQJjjjtAOYkrUFRoKWkT9G/NkBp8apVID68JPxeSYmwCDahMWUW4jrr7rKWj+lb6tue53P5/u+8xCDbobeYH46e6xwGdf3UWzbOubOT3OhDzQso=
Received: by 10.90.52.2 with SMTP id z2mr1003531agz;
        Thu, 28 Sep 2006 11:39:52 -0700 (PDT)
Received: by 10.90.30.13 with HTTP; Thu, 28 Sep 2006 11:39:52 -0700 (PDT)
Message-ID: <3d2ce8cb0609281139u3da275b6w74a0faa120684254@mail.gmail.com>
Date: Thu, 28 Sep 2006 11:39:52 -0700
From: "Mike Klaas" <mike.klaas@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re[2]: strange behavior 4 query term boost
In-Reply-To: <1542577129.20060927215112@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <1542577129.20060927215112@gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/27/06, charliecmo@gmail.com <charliecmo@gmail.com> wrote:
> Found the reason, it is a bug IMHO.
>
> The example should be:
>
> A: term1^5 term2^6 term3^7
> B: term1^5E-4 term2^6E-4 term3^7E-4
> C: term1^0.0006 term2^0.0006 term3^0.0007
>
> A & C suppose return the same rank
> B is different
>
> Since B will be parsed as: term1^5 E-4 term2^6 E-4 term3^7 E-4
>
> The parser takes E-4 as another term.
>
> Can someone help to log it as a "parsing bug" if we consider it as a
> bug. Thanks.

A "bug" exists when code does not perform to
specifications/documentation, not when it doesn't perform to
everybody's expectations.  Supporting scientific notation would be a
new feature.

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 19:04:21 2006
Return-Path: <java-user-return-23629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50580 invoked from network); 28 Sep 2006 19:04:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 19:04:21 -0000
Received: (qmail 31723 invoked by uid 500); 28 Sep 2006 19:04:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31463 invoked by uid 500); 28 Sep 2006 19:04:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31451 invoked by uid 99); 28 Sep 2006 19:04:14 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 12:04:14 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=hadascohen@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.184.235] ([64.233.184.235:56665] helo=wr-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id F2/9A-17533-4AC1C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 12:04:07 -0700
Received: by wr-out-0506.google.com with SMTP id 57so240866wri
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 12:03:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:mime-version:content-type:x-mailer:x-mimeole:thread-index:message-id;
        b=R7saDpCO/hu2Upx6IhjFcNdBU43aV4r0auJA023zV2REXSkzxTzcrImuv7tVHtQY4o/0CmMl9WdwP1IHQo20J/f1BhjGglVn8PFnvxgi/N63LR8tO/VMHhbhjHJvx8E1iLuRn4tBUZLrsTYzwgSKq2iU2plOwmvrPuWlMDzm6Y0=
Received: by 10.90.51.17 with SMTP id y17mr1022628agy;
        Thu, 28 Sep 2006 12:03:39 -0700 (PDT)
Received: from bepbh ( [128.228.113.128])
        by mx.gmail.com with ESMTP id 3sm2178358wrh.2006.09.28.12.03.38;
        Thu, 28 Sep 2006 12:03:38 -0700 (PDT)
From: "Hadas Cohen" <hadascohen@gmail.com>
To: <java-user@lucene.apache.org>
Subject: MoreLikeThis does not retrieve all terms when using like()
Date: Thu, 28 Sep 2006 15:01:20 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0010_01C6E30E.F5950830"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2962
Thread-Index: AcbjMHvxMkFGDbHvRd6ZaQ22eSlGcg==
Message-ID: <451c1c8a.63548707.1456.4dbc@mx.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0010_01C6E30E.F5950830
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Ever since I started using Lucene, I found all answers to all possible
questions in the archive.

But I need help about those ones.

1.	I am using MoreLikeThis class, and cannot figure out why not all
terms are retrieved when using like() to generate queries.
I extract the terms from a document using getTermFreqVectors(i) and got
about 1160 terms. But when extracting the query using like() on the exact
same reader, I got about 760 terms in the query. 

I set up fieldnames and stopwords correctly, and the following: 

mlt.setAnalyzer(ANALYZER); // ANALYZER is a snowball analyzer, the same one
I've created the index with

      mlt.setMinDocFreq(0);

      mlt.setMinTermFreq(0);

      mlt.setMaxQueryTerms(2000);

      I was trying to understand the logic behind the order in which the
terms appear (when retrieving queries with like(), but it seems so random
(relatively to the termFreqVectors, which are strictly sorted).

2.	Not related to 1: I need to generate a crawler for my project, and
was wondering if there are any suggestions for a convenient API (since LARM
is no longer available.) 

 

Any advice(s) will be highly appreciated!

 


------=_NextPart_000_0010_01C6E30E.F5950830--


From java-user-return-23630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 21:56:11 2006
Return-Path: <java-user-return-23630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10294 invoked from network); 28 Sep 2006 21:56:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 21:56:11 -0000
Received: (qmail 9508 invoked by uid 500); 28 Sep 2006 21:56:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9465 invoked by uid 500); 28 Sep 2006 21:56:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9454 invoked by uid 99); 28 Sep 2006 21:56:04 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 14:56:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [65.39.152.239] ([65.39.152.239:55453] helo=white.metrobridge.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 94/52-00212-2F44C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 14:56:04 -0700
Received: from [10.10.1.163] (unknown [66.119.182.210])
	by white.metrobridge.net (Postfix) with ESMTP id D68E095C153
	for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 13:29:45 -0700 (PDT)
Message-ID: <451C44DD.4090007@elasticpath.com>
Date: Thu, 28 Sep 2006 14:55:41 -0700
From: Ryan Heinen <ryan.heinen@elasticpath.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: NPE thrown in invertDocument
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I am creating an index using a RAMDirectory, and am running across a 
situation where when I call IndexSearcher.addDocument it throws a 
NullPointerException.

I'll provide the stack trace first, and then give you any details that 
may help in resolving this problem.

Exception in thread "main" java.lang.NullPointerException
	at 
org.apache.lucene.index.DocumentWriter.invertDocument(DocumentWriter.java:162)
	at 
org.apache.lucene.index.DocumentWriter.addDocument(DocumentWriter.java:93)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:476)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:462)


Here is what is produced when I call toString() on the Document that I 
created (only has one field because I commented out additions of fields 
that seem to work):

Document<stored/uncompressed,indexed,tokenized<artist:Plastilina Mosh>>

Here is the basic gist of what I am doing:

I am looping through a bunch of items, and creating a document for each 
language that I need to index each item in. The only difference (as far 
as I can tell) between this document and one that works is that I am 
extracting a localized value for the particular field that I am 
building, in this case the Italian version of the text. Neither the 
field name, nor the field value are null.

Here is some context from the Lucene source around where the exception 
is being thrown (DocumentWriter.java):

Reader reader;			  // find or make Reader
if (field.readerValue() != null)
   reader = field.readerValue();
else if (field.stringValue() != null)
   reader = new StringReader(field.stringValue());
else
   throw new IllegalArgumentException
           ("field must have either String or Reader value");

// Tokenize field and add to postingTable
TokenStream stream = analyzer.tokenStream(fieldName, reader);
//LINE 162, NPE THROWN HERE ^^^

So it stands to reason that either fieldName or reader is null. Why I 
don't exactly know.

Has anyone else ran into this issue before? Could it have anything to do 
with the encoding of the String that I am adding to the document?

Thanks in advance for any help,

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 28 22:25:58 2006
Return-Path: <java-user-return-23631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17417 invoked from network); 28 Sep 2006 22:25:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2006 22:25:57 -0000
Received: (qmail 55743 invoked by uid 500); 28 Sep 2006 22:25:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55714 invoked by uid 500); 28 Sep 2006 22:25:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55703 invoked by uid 99); 28 Sep 2006 22:25:51 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 15:25:51 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=chris.lu@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [66.249.82.238] ([66.249.82.238:16842] helo=wx-out-0506.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id EF/F2-00212-BEB4C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 15:25:49 -0700
Received: by wx-out-0506.google.com with SMTP id s15so658648wxc
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 15:25:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=sHL12MivLUW/YeHc3raBs2MXaA28TAgy2EpzD401By0hOUsTEBBRGL1G7dN0YEA2a+sEzIeWkHb9/MYT6c3SC6cg4QFdVY7gNzyY7B4ZWJ5U0RlAN9bvSL+J1Dr1LNYmlR1IaKarNlPa/WLt2WhwY9jwsJo33jfILuYE5jdHivc=
Received: by 10.90.94.2 with SMTP id r2mr1124352agb;
        Thu, 28 Sep 2006 15:25:44 -0700 (PDT)
Received: by 10.90.68.19 with HTTP; Thu, 28 Sep 2006 15:25:44 -0700 (PDT)
Message-ID: <6e3ae6310609281525v11c4a688pec29b59d4d227ea4@mail.gmail.com>
Date: Thu, 28 Sep 2006 15:25:44 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing large index with Lucene
In-Reply-To: <359a92830609280919o1ec125f6ud7d577c83d138f16@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <451BD77E.50800@hauk-sasko.de>
	 <359a92830609280919o1ec125f6ud7d577c83d138f16@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I like the approach in your second point. But I have doubt on the first poi=
nt.

For a production level index, usually pretty big, freqent close/reopen
the searcher may not be fast enough, especially when you want to cache
sorting. It's better to keep the searchers open. But when the indexing
process is going on, the files are changing. The searcher's segment
information will be outdated and read EOF exceptions will happen.

So for a big index, it's better to keep two copies of index, one for
searching, one for indexing. And hot-swapping them when indexing is
done. This is what we did in DBSight. No read EOF exceptions or
corrupted indexes any more.

Chris Lu
---------------------------
Full-Text Search on Any Applications/Databases
http://www.dbsight.net

On 9/28/06, Erick Erickson <erickerickson@gmail.com> wrote:
> Two things come to mind...
>
> First, you can freely write to an index while searching it, the search is
> always available. I'm pretty sure this includes deleting/readding documen=
ts.
> However, you won't be able to search on the changes in your index until y=
ou
> close/reopen the *searcher*.
>
> Second, depending on how quickly you need updates, you could always make =
a
> *copy* of your index, update that and then move it back to where your
> searcher looks for it, sort of a batch process really. It all depends upo=
n
> how quickly you require seeing the changes.
>
> Hope this helps
> Erick
>
> On 9/28/06, Eric Louvard <eric.louvard@hauk-sasko.de> wrote:
> >
> > I'm using Lucene since several year. We had to index allways more
> > documents.
> >
> > I'm now trying to optimise the index process with more than 1.000.000
> > documents and I can see that the performance will decrease when the
> > index size is greater.
> > I would like to know if someone as allready studied this case.
> >
> > It's interactively maintained index and the fisrt index process is my
> > biggest Problem.
> >
> > - A document contains several attributs.
> > - I can't block the index during the index process (the search must
> > allways be availlable).
> > - I need to delete the older version of document if I become an newer.
> >
> > Thank you to tell me about you personnal experience.
> >
> > =C9ric Louvard.
> >
> > --
> > Mit freundlichen Gr=FC=DFen
> >
> > i. A. =C9ric Louvard
> > HAUK & SASKO Ingenieurgesellschaft mbH
> > Zettachring 2
> > D-70567 Stuttgart
> >
> > Phone: +49 7 11 7 25 89 - 19
> > Fax: +49 7 11 7 25 89 - 50
> > E-Mail: eric.louvard@hauk-sasko.de
> > www: www.hauk-sasko.de
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 00:35:57 2006
Return-Path: <java-user-return-23632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38329 invoked from network); 29 Sep 2006 00:35:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 00:35:57 -0000
Received: (qmail 76420 invoked by uid 500); 29 Sep 2006 00:35:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76389 invoked by uid 500); 29 Sep 2006 00:35:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76378 invoked by uid 99); 29 Sep 2006 00:35:51 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 17:35:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [38.114.167.120] ([38.114.167.120:47760] helo=mail.bittorrent.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id AC/18-00212-56A6C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 17:35:51 -0700
Received: from [10.0.1.146] (dsl081-025-066.sfo1.dsl.speakeasy.net [64.81.25.66])
	(using TLSv1 with cipher RC4-SHA (128/128 bits))
	(No client certificate requested)
	by mail.bittorrent.com (Postfix) with ESMTP id 7443C8A75
	for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 17:35:47 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: 7bit
Message-Id: <6E68266F-BE3C-4E50-8CD1-43D75F528DA1@bittorrent.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: James O'Rourke <james@bittorrent.com>
Subject: Problem searching
Date: Thu, 28 Sep 2006 17:35:39 -0700
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have weird results when I create documents with input such as  
burmilla2.jpg.

Here is some example code:

Document doc = new Document()
doc.add(new Field("combined", "jorourke" + " " + "burmilla2.jpg" ,  
Field.Store.YES, Field.Index.TOKENIZED))

indexWriter.addDocument(doc)

QueryParser parser = new QueryParser("combined", new StandardAnalyzer())
parser.setDefaultOperator(QueryParser.Operator.AND)
Query q = parser.parse("jorourke burmilla2")

indexSearch.search(q,  Sort.RELEVANCE)

this returns no results

where as:

Query q = parser.parse("jorourke burmilla")

does return the document!!

Anyone have any ideas?

James

PS. The code is a rough translation but you get the idea. For some  
reason I think the index doesn't like "."'s in words.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 00:49:55 2006
Return-Path: <java-user-return-23633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39414 invoked from network); 29 Sep 2006 00:49:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 00:49:54 -0000
Received: (qmail 85057 invoked by uid 500); 29 Sep 2006 00:49:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85021 invoked by uid 500); 29 Sep 2006 00:49:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85010 invoked by uid 99); 29 Sep 2006 00:49:48 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 17:49:48 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.181] ([64.233.166.181:52851] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 18/88-00212-9AD6C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 17:49:46 -0700
Received: by py-out-1112.google.com with SMTP id s49so56597pyc
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 17:49:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oiF7HI+O/O5zOTFXJUkzysizKTmr8I0tHY5VpEgAO/QQoTgQPL/F8YVAFKq/wvJiKRVkE1Ik5sMVEtBIGXQuNrGGacQoM4Bi4XPagc9iDsJCk1V9tnBkWq4T/sVGCJulZJvPyECXBhAb98Xbx0DWFrWeAkDHRlCU/0+JFTPm94A=
Received: by 10.35.50.1 with SMTP id c1mr1371617pyk;
        Thu, 28 Sep 2006 17:49:41 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Thu, 28 Sep 2006 17:49:41 -0700 (PDT)
Message-ID: <359a92830609281749h3480699fp29f0616c935df44c@mail.gmail.com>
Date: Thu, 28 Sep 2006 20:49:41 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing large index with Lucene
In-Reply-To: <6e3ae6310609281525v11c4a688pec29b59d4d227ea4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17212_799331.1159490981902"
References: <451BD77E.50800@hauk-sasko.de>
	 <359a92830609280919o1ec125f6ud7d577c83d138f16@mail.gmail.com>
	 <6e3ae6310609281525v11c4a688pec29b59d4d227ea4@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17212_799331.1159490981902
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'll gladly defer to your experience on this one <G>. I have to admit that
my applications don't care much about updating so I'm not very familiar wit=
h
the behavior there.

Erick

On 9/28/06, Chris Lu <chris.lu@gmail.com> wrote:
>
> I like the approach in your second point. But I have doubt on the first
> point.
>
> For a production level index, usually pretty big, freqent close/reopen
> the searcher may not be fast enough, especially when you want to cache
> sorting. It's better to keep the searchers open. But when the indexing
> process is going on, the files are changing. The searcher's segment
> information will be outdated and read EOF exceptions will happen.
>
> So for a big index, it's better to keep two copies of index, one for
> searching, one for indexing. And hot-swapping them when indexing is
> done. This is what we did in DBSight. No read EOF exceptions or
> corrupted indexes any more.
>
> Chris Lu
> ---------------------------
> Full-Text Search on Any Applications/Databases
> http://www.dbsight.net
>
> On 9/28/06, Erick Erickson <erickerickson@gmail.com> wrote:
> > Two things come to mind...
> >
> > First, you can freely write to an index while searching it, the search
> is
> > always available. I'm pretty sure this includes deleting/readding
> documents.
> > However, you won't be able to search on the changes in your index until
> you
> > close/reopen the *searcher*.
> >
> > Second, depending on how quickly you need updates, you could always mak=
e
> a
> > *copy* of your index, update that and then move it back to where your
> > searcher looks for it, sort of a batch process really. It all depends
> upon
> > how quickly you require seeing the changes.
> >
> > Hope this helps
> > Erick
> >
> > On 9/28/06, Eric Louvard <eric.louvard@hauk-sasko.de> wrote:
> > >
> > > I'm using Lucene since several year. We had to index allways more
> > > documents.
> > >
> > > I'm now trying to optimise the index process with more than 1.000.000
> > > documents and I can see that the performance will decrease when the
> > > index size is greater.
> > > I would like to know if someone as allready studied this case.
> > >
> > > It's interactively maintained index and the fisrt index process is my
> > > biggest Problem.
> > >
> > > - A document contains several attributs.
> > > - I can't block the index during the index process (the search must
> > > allways be availlable).
> > > - I need to delete the older version of document if I become an newer=
.
> > >
> > > Thank you to tell me about you personnal experience.
> > >
> > > =C9ric Louvard.
> > >
> > > --
> > > Mit freundlichen Gr=FC=DFen
> > >
> > > i. A. =C9ric Louvard
> > > HAUK & SASKO Ingenieurgesellschaft mbH
> > > Zettachring 2
> > > D-70567 Stuttgart
> > >
> > > Phone: +49 7 11 7 25 89 - 19
> > > Fax: +49 7 11 7 25 89 - 50
> > > E-Mail: eric.louvard@hauk-sasko.de
> > > www: www.hauk-sasko.de
> > >
> > >
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_17212_799331.1159490981902--

From java-user-return-23634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 00:57:22 2006
Return-Path: <java-user-return-23634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40048 invoked from network); 29 Sep 2006 00:57:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 00:57:22 -0000
Received: (qmail 89067 invoked by uid 500); 29 Sep 2006 00:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89035 invoked by uid 500); 29 Sep 2006 00:57:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89024 invoked by uid 99); 29 Sep 2006 00:57:16 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 17:57:16 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.180] ([64.233.166.180:57605] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id AC/B8-00212-96F6C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 17:57:14 -0700
Received: by py-out-1112.google.com with SMTP id m51so929262pye
        for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 17:57:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=U7n0ar6LMp4VaxLQdXK0cTcvCSg5wGx7Uwr/jXNYIkUMQGK2Cumr7swZdcj3xWNQGAOJWn4mQkTATxrYADJYK/DWxNZLo2fJ3pBhubQBEYMXu0LxL1UP6sBj5fumgMXOECUWINKT0XtM8Nji18KFflFF7JCyaAEmuU7eJ0Q8cK4=
Received: by 10.35.51.19 with SMTP id d19mr4828877pyk;
        Thu, 28 Sep 2006 17:57:10 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Thu, 28 Sep 2006 17:57:10 -0700 (PDT)
Message-ID: <359a92830609281757q474c58e0t11cf1a1064a1001a@mail.gmail.com>
Date: Thu, 28 Sep 2006 20:57:10 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Problem searching
In-Reply-To: <6E68266F-BE3C-4E50-8CD1-43D75F528DA1@bittorrent.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17324_28305066.1159491430698"
References: <6E68266F-BE3C-4E50-8CD1-43D75F528DA1@bittorrent.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17324_28305066.1159491430698
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sure, what analyzer are you using? Both for indexing and parsing the query?
I'll bet that you're using a tokenizer (in one or both) that breaks your
input stream up in ways you're not expecting.

Get a copy of luke (google lucene luke) if you haven't already and look at
what's in your index. You can also use several different analyzers for a
query and see what is produced. You'll be glad you did<G>.

You can also look at the query. I don't remember whether toString prints the
query or there's another call, but you can probably find it without too much
trouble.

Hope this helps
Erick

On 9/28/06, James O'Rourke <james@bittorrent.com> wrote:
>
> I have weird results when I create documents with input such as
> burmilla2.jpg.
>
> Here is some example code:
>
> Document doc = new Document()
> doc.add(new Field("combined", "jorourke" + " " + "burmilla2.jpg" ,
> Field.Store.YES, Field.Index.TOKENIZED))
>
> indexWriter.addDocument(doc)
>
> QueryParser parser = new QueryParser("combined", new StandardAnalyzer())
> parser.setDefaultOperator(QueryParser.Operator.AND)
> Query q = parser.parse("jorourke burmilla2")
>
> indexSearch.search(q,  Sort.RELEVANCE)
>
> this returns no results
>
> where as:
>
> Query q = parser.parse("jorourke burmilla")
>
> does return the document!!
>
> Anyone have any ideas?
>
> James
>
> PS. The code is a rough translation but you get the idea. For some
> reason I think the index doesn't like "."'s in words.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_17324_28305066.1159491430698--

From java-user-return-23635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 01:37:03 2006
Return-Path: <java-user-return-23635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52103 invoked from network); 29 Sep 2006 01:37:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 01:37:03 -0000
Received: (qmail 13388 invoked by uid 500); 29 Sep 2006 01:36:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13192 invoked by uid 500); 29 Sep 2006 01:36:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13181 invoked by uid 99); 29 Sep 2006 01:36:55 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 28 Sep 2006 18:36:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [38.114.167.120] ([38.114.167.120:55065] helo=mail.bittorrent.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 36/1A-00212-4B87C154 for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 18:36:54 -0700
Received: from [10.0.1.146] (dsl081-025-066.sfo1.dsl.speakeasy.net [64.81.25.66])
	(using TLSv1 with cipher RC4-SHA (128/128 bits))
	(No client certificate requested)
	by mail.bittorrent.com (Postfix) with ESMTP id 9D6EC8973
	for <java-user@lucene.apache.org>; Thu, 28 Sep 2006 18:36:49 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <359a92830609281757q474c58e0t11cf1a1064a1001a@mail.gmail.com>
References: <6E68266F-BE3C-4E50-8CD1-43D75F528DA1@bittorrent.com> <359a92830609281757q474c58e0t11cf1a1064a1001a@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BD9DD550-CE9A-4B27-AD5F-22567F95EDFC@bittorrent.com>
Content-Transfer-Encoding: 7bit
From: James O'Rourke <james@bittorrent.com>
Subject: Re: Problem searching
Date: Thu, 28 Sep 2006 18:36:43 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Wow, thanks, just found a significant bug - thought I was using  
StandardAnalyzer throughout but was not!! ouch! Nasty typo.

Thanks again.

James



On Sep 28, 2006, at 5:57 PM, Erick Erickson wrote:

> Sure, what analyzer are you using? Both for indexing and parsing  
> the query?
> I'll bet that you're using a tokenizer (in one or both) that breaks  
> your
> input stream up in ways you're not expecting.
>
> Get a copy of luke (google lucene luke) if you haven't already and  
> look at
> what's in your index. You can also use several different analyzers  
> for a
> query and see what is produced. You'll be glad you did<G>.
>
> You can also look at the query. I don't remember whether toString  
> prints the
> query or there's another call, but you can probably find it without  
> too much
> trouble.
>
> Hope this helps
> Erick
>
> On 9/28/06, James O'Rourke <james@bittorrent.com> wrote:
>>
>> I have weird results when I create documents with input such as
>> burmilla2.jpg.
>>
>> Here is some example code:
>>
>> Document doc = new Document()
>> doc.add(new Field("combined", "jorourke" + " " + "burmilla2.jpg" ,
>> Field.Store.YES, Field.Index.TOKENIZED))
>>
>> indexWriter.addDocument(doc)
>>
>> QueryParser parser = new QueryParser("combined", new  
>> StandardAnalyzer())
>> parser.setDefaultOperator(QueryParser.Operator.AND)
>> Query q = parser.parse("jorourke burmilla2")
>>
>> indexSearch.search(q,  Sort.RELEVANCE)
>>
>> this returns no results
>>
>> where as:
>>
>> Query q = parser.parse("jorourke burmilla")
>>
>> does return the document!!
>>
>> Anyone have any ideas?
>>
>> James
>>
>> PS. The code is a rough translation but you get the idea. For some
>> reason I think the index doesn't like "."'s in words.
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 09:50:44 2006
Return-Path: <java-user-return-23636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28215 invoked from network); 29 Sep 2006 09:50:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 09:50:44 -0000
Received: (qmail 98492 invoked by uid 500); 29 Sep 2006 09:50:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98379 invoked by uid 500); 29 Sep 2006 09:50:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98298 invoked by uid 99); 29 Sep 2006 09:50:36 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 02:50:36 -0700
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received: from [81.228.8.164] ([81.228.8.164:35576] helo=pne-smtpout2-sn2.hy.skanova.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id B6/76-10102-96CEC154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 02:50:34 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout2-sn2.hy.skanova.net (7.2.075)
        id 451773300015B0C8 for java-user@lucene.apache.org; Fri, 29 Sep 2006 11:50:30 +0200
Subject: Re: Splitting the index
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <200609281005.36242.bubblenut@gmail.com>
References: <200609271751.11676.bubblenut@gmail.com>
	 <C6D9D11C-11A1-4ABE-A8EA-61FC2EC9BA44@ehatchersolutions.com>
	 <200609281005.36242.bubblenut@gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Fri, 29 Sep 2006 11:50:16 +0200
Message-Id: <1159523417.5097.18.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2006-09-28 at 10:05 +0100, Rob Young wrote:
> 
> > total file system size of the index?
> segments    31b
> deletable    4b
> index      286Mb 

If you experience that a 300M index is much slower than a.. 30M or so,
then something is probably rotten. I don't consider a 300M to be a
fairly small index. Perhaps it is your application that keep falling
back on fuzzy? That could explain it.

And if it is a commercial project where time is expensive, go buy a
bunch of RAM and run from a RAMDirectory. It might make no difference as
a FSDirectory end up in memory as file cache. My (jira 550) index might
be able to help you then. It consumes twice the memory but is something
like 10-200 time faster than RAMDirectory depending on your query and
the number of resulting hits.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 12:10:42 2006
Return-Path: <java-user-return-23637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90023 invoked from network); 29 Sep 2006 12:10:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 12:10:41 -0000
Received: (qmail 88275 invoked by uid 500); 29 Sep 2006 12:10:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88238 invoked by uid 500); 29 Sep 2006 12:10:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88227 invoked by uid 99); 29 Sep 2006 12:10:32 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 05:10:32 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=khoon.ee.gan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.187] ([64.233.182.187:34241] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 37/A0-13110-63D0D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 05:10:31 -0700
Received: by nf-out-0910.google.com with SMTP id b2so902847nfe
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 05:10:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=ZrWkvJw2F8XgDydhBYQT6RG/GwuTw38yRH3ut+b8JnIdqwOuOI1hW1wBLnohewQhQSXb5B2sWTTDJ6W8tmvoEKeQ9HuzR5C1BgXmN7I8ZfnkgspupbOO5eSMEyFFtNV5jA8A2iYCCWLBEP3KuwX7ICYsX7tYHL8Urd61lQwTWIo=
Received: by 10.82.120.15 with SMTP id s15mr58115buc;
        Fri, 29 Sep 2006 05:10:26 -0700 (PDT)
Received: by 10.82.138.15 with HTTP; Fri, 29 Sep 2006 05:10:26 -0700 (PDT)
Message-ID: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
Date: Fri, 29 Sep 2006 20:10:26 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Sort by date THEN by relevancy
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1361_14436382.1159531826945"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1361_14436382.1159531826945
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I have seen some sort examples in LIA. But cant find what I am looking for.
How do I sort document by date, AND for all the documents with the same date
... these are sorted by relavency. (Date has higher sort priority in this
case).

Thanks.

------=_Part_1361_14436382.1159531826945--

From java-user-return-23638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 12:54:41 2006
Return-Path: <java-user-return-23638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3559 invoked from network); 29 Sep 2006 12:54:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 12:54:41 -0000
Received: (qmail 59063 invoked by uid 500); 29 Sep 2006 12:54:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59039 invoked by uid 500); 29 Sep 2006 12:54:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59028 invoked by uid 99); 29 Sep 2006 12:54:34 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 05:54:34 -0700
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received: from [38.117.191.181] ([38.117.191.181:59403] helo=glgexchange01.glgroup.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 09/22-13110-8871D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 05:54:33 -0700
Content-Transfer-Encoding: 7bit
Importance: normal
Priority: normal
Received: from glgexchange04.glgroup.com ([192.168.1.19]) by glgexchange01.glgroup.com with Microsoft SMTPSVC(6.0.3790.0); Fri, 29 Sep 2006 08:54:29 -0400
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2663
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6E3C6.66A3A3E3"
Subject: IndexModifier and finding records
Date: Fri, 29 Sep 2006 08:54:29 -0400
Message-ID: <973858C2ADFF5C4F99415784F9391C0601C077BA@glgexchange04.glgroup.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexModifier and finding records
Thread-Index: Acbjxmah542cfnsoQXm4QzZQIrEzHg==
From: "Mark Modrall" <MModrall@glgroup.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Sep 2006 12:54:29.0412 (UTC) FILETIME=[66C90E40:01C6E3C6]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6E3C6.66A3A3E3
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi...

=20

            I was just looking at the IndexModifier class, which seems
like a nice consolidation for some of our operations.  There is one
question I have though.  The class says that it internally contains an
IndexReader and an IndexWriter and has examples of operations doing
both.  But it doesn't appear that a) there is access to either the
reader or writer internal fields and b) some things don't support an
IndexModifier in place of a reader or writer.

=20

            We have a metadata record that we put in and update when we
change the index, so when we do incremental updates, I need to find that
record which is currently done with an IndexSearcher(IndexReader).  It
would be nice if I could do IndexSearcher(IndexModifier) or
IndexSearcher(IndexModifier.getReader()) or something.

=20

            Am I missing the point or something?

=20

Thanks

-Mark

=20
This e-mail message, and any attachments, is intended only for the use =
of the individual or entity identified in the alias address of this =
message and may contain information that is confidential, privileged and =
subject to legal restrictions and penalties regarding its unauthorized =
disclosure and use. Any unauthorized review, copying, disclosure, use or =
distribution is strictly prohibited. If you have received this e-mail =
message in error, please notify the sender immediately by reply e-mail =
and delete this message, and any attachments, from your system. Thank =
you.

------_=_NextPart_001_01C6E3C6.66A3A3E3--

From java-user-return-23639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 13:29:07 2006
Return-Path: <java-user-return-23639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19315 invoked from network); 29 Sep 2006 13:29:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 13:29:07 -0000
Received: (qmail 16900 invoked by uid 500); 29 Sep 2006 13:29:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16613 invoked by uid 500); 29 Sep 2006 13:29:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16602 invoked by uid 99); 29 Sep 2006 13:29:00 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 06:29:00 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=khoon.ee.gan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.191] ([64.233.182.191:46031] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 28/23-13110-B9F1D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 06:28:59 -0700
Received: by nf-out-0910.google.com with SMTP id b2so918557nfe
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 06:28:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=eu9PEPMDt35jEK8KWITYel5DUCtIlhh3Fhkw9m+fZURfzd2HGjmy1/w1CaZJvfm5mdCXPWOR++zkPcl1NrV6KlzjLUs0UGxQingAbPAqPLRfub7LZQ6dtDYeePMx0psppJpptpBBJiEsZafxsrhgcX4trn85L7s3hpXoSumCmbU=
Received: by 10.82.142.9 with SMTP id p9mr60145bud;
        Fri, 29 Sep 2006 06:28:55 -0700 (PDT)
Received: by 10.82.138.15 with HTTP; Fri, 29 Sep 2006 06:28:55 -0700 (PDT)
Message-ID: <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
Date: Fri, 29 Sep 2006 21:28:55 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date THEN by relevancy
In-Reply-To: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1833_30831677.1159536535770"
References: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1833_30831677.1159536535770
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think I am going to answer my own question.

Just use the

*Sort*<file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(org.apache.lucene.search.SortField[])>
(SortField<file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/SortField.html>
[] fields)
*Sort*<file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(java.lang.String[])>
(String <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html>
[] fields)

This should do it right ?



On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
>
> Hi,
>
> I have seen some sort examples in LIA. But cant find what I am looking
> for. How do I sort document by date, AND for all the documents with the same
> date ... these are sorted by relavency. (Date has higher sort priority in
> this case).
>
> Thanks.
>

------=_Part_1833_30831677.1159536535770--

From java-user-return-23640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 14:08:41 2006
Return-Path: <java-user-return-23640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31530 invoked from network); 29 Sep 2006 14:08:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 14:08:41 -0000
Received: (qmail 75679 invoked by uid 500); 29 Sep 2006 14:08:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75641 invoked by uid 500); 29 Sep 2006 14:08:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75630 invoked by uid 99); 29 Sep 2006 14:08:33 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 07:08:33 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.182] ([64.233.166.182:53912] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 05/44-13110-DD82D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 07:08:31 -0700
Received: by py-out-1112.google.com with SMTP id s49so287862pyc
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 07:08:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QaXkz3KNBStL7dYcxj34i3lUXKaGPELu1HPc2LtqWeZUKKIILYRtUBidJj4gGesf6guzCJ2VQu4XMbyUiO6GOuFEVyMMLatzrIzQbUx72D+LLC+I2JZ1Jv/BdXjX8pWdHBFLSb4leNdxzMKfQlpDRtSyijo/3Cyi9NnqXOwqik0=
Received: by 10.35.135.12 with SMTP id m12mr500327pyn;
        Fri, 29 Sep 2006 07:08:27 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Fri, 29 Sep 2006 07:08:25 -0700 (PDT)
Message-ID: <359a92830609290708j186300d5s59d8294ec2e40488@mail.gmail.com>
Date: Fri, 29 Sep 2006 10:08:27 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date THEN by relevancy
In-Reply-To: <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23990_20685403.1159538907080"
References: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
	 <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_23990_20685403.1159538907080
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Yes. I do this with 5 fields and it works just fine. Although your
cut-n-paste got kind of hard to read <G>....

Erick

On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
>
> I think I am going to answer my own question.
>
> Just use the
>
> *Sort*<
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(org.apache.lucene.search.SortField[])
> >
> (SortField<
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/SortField.html
> >
> [] fields)
> *Sort*<
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(java.lang.String[])
> >
> (String <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html>
> [] fields)
>
> This should do it right ?
>
>
>
> On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> >
> > Hi,
> >
> > I have seen some sort examples in LIA. But cant find what I am looking
> > for. How do I sort document by date, AND for all the documents with the
> same
> > date ... these are sorted by relavency. (Date has higher sort priority
> in
> > this case).
> >
> > Thanks.
> >
>
>

------=_Part_23990_20685403.1159538907080--

From java-user-return-23641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 15:28:53 2006
Return-Path: <java-user-return-23641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52343 invoked from network); 29 Sep 2006 15:28:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 15:28:53 -0000
Received: (qmail 25891 invoked by uid 500); 29 Sep 2006 15:28:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25854 invoked by uid 500); 29 Sep 2006 15:28:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25843 invoked by uid 99); 29 Sep 2006 15:28:45 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 08:28:45 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=khoon.ee.gan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.191] ([64.233.182.191:45921] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 01/C6-13110-CAB3D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 08:28:45 -0700
Received: by nf-out-0910.google.com with SMTP id b2so946069nfe
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 08:28:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=C9WTYmCj+SENxVeH7IYXK5viqp576UV/1sQ4kSGTHSQnB50al4Yj0/951z7xZAxNWpxKBzcu43LcWw9iz1Lx36AK73Gpnn4pMrFPF6S2dz/7bawn666OJhCNlNjRFAMa+8fNTuYg6S0r6VijOogqNNdT2XSvZd7u7s3m4KFC1Y4=
Received: by 10.82.139.17 with SMTP id m17mr67867bud;
        Fri, 29 Sep 2006 08:28:41 -0700 (PDT)
Received: by 10.82.138.15 with HTTP; Fri, 29 Sep 2006 08:28:41 -0700 (PDT)
Message-ID: <85c493340609290828h41603be3nd02cc20954ae8164@mail.gmail.com>
Date: Fri, 29 Sep 2006 23:28:41 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date THEN by relevancy
In-Reply-To: <359a92830609290708j186300d5s59d8294ec2e40488@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2417_6530400.1159543721293"
References: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
	 <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
	 <359a92830609290708j186300d5s59d8294ec2e40488@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2417_6530400.1159543721293
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Erick,

Ouch!! Please excuse the cut-n-paste ;)

LIA mentions a lot about performance when doing sorting. Is it something to
be cautious about? You mention doing 5 fields and it works ok, ... can share
with us how many documents you are handling there with 5 fields ?

Thanks.

~KEGan

On 9/29/06, Erick Erickson <erickerickson@gmail.com> wrote:
>
> Yes. I do this with 5 fields and it works just fine. Although your
> cut-n-paste got kind of hard to read <G>....
>
> Erick
>
> On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> >
> > I think I am going to answer my own question.
> >
> > Just use the
> >
> > *Sort*<
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(org.apache.lucene.search.SortField[])
> > >
> > (SortField<
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/SortField.html
> > >
> > [] fields)
> > *Sort*<
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(java.lang.String[])
> > >
> > (String <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html>
> > [] fields)
> >
> > This should do it right ?
> >
> >
> >
> > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > >
> > > Hi,
> > >
> > > I have seen some sort examples in LIA. But cant find what I am looking
> > > for. How do I sort document by date, AND for all the documents with
> the
> > same
> > > date ... these are sorted by relavency. (Date has higher sort priority
> > in
> > > this case).
> > >
> > > Thanks.
> > >
> >
> >
>
>

------=_Part_2417_6530400.1159543721293--

From java-user-return-23642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 16:24:31 2006
Return-Path: <java-user-return-23642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70028 invoked from network); 29 Sep 2006 16:24:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 16:24:30 -0000
Received: (qmail 38253 invoked by uid 500); 29 Sep 2006 16:24:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38222 invoked by uid 500); 29 Sep 2006 16:24:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38211 invoked by uid 99); 29 Sep 2006 16:24:24 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 09:24:23 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.176] ([64.233.166.176:25100] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id BF/58-13110-5B84D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 09:24:22 -0700
Received: by py-out-1112.google.com with SMTP id s49so327413pyc
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 09:24:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=n2VWhPMvJ6NYHoLoiFtA60RWCy+O+WwTvFD485CZI/aVXTiYTA/uKLuoYhGZpJ9yAVUVZv5Qjpu15JMBiBeID+UBl8CZ1wIHN77WRLRsinF2HaRamrGqXzL8rsNy2sR9IEyhxZ0cpo6BqCoeQGZS5D7em1MtA2nVnQQNIvQr2+4=
Received: by 10.35.119.8 with SMTP id w8mr5763512pym;
        Fri, 29 Sep 2006 09:24:18 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Fri, 29 Sep 2006 09:24:18 -0700 (PDT)
Message-ID: <359a92830609290924o187707fewf58b39660e53cb94@mail.gmail.com>
Date: Fri, 29 Sep 2006 12:24:18 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date THEN by relevancy
In-Reply-To: <85c493340609290828h41603be3nd02cc20954ae8164@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26946_4725693.1159547058356"
References: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
	 <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
	 <359a92830609290708j186300d5s59d8294ec2e40488@mail.gmail.com>
	 <85c493340609290828h41603be3nd02cc20954ae8164@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_26946_4725693.1159547058356
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sorting will inevitably have an impact on your speed, but it's impossible to
generalize. FWIW, my app has 870K documents, the index is around 1.4G and
search/sort times are fine. But even that statement is misleading. "Fine"
means that the product manager for this product is satisfied with
performance, which has no relevance to your situation <G>......

I'm afraid that you'll just have to put in your sorting and see. I know
that's not a very satisfactory answer, but without knowing lots of details
about your app AND the distribution of terms AND the expected throughput AND
the usage statistics AND.......,  it's hard to say.

It was easy to put together a test harness that fired off a bunch of threads
at my searcher and measured throughput. I highly recommend something like
this if you're going to try to answer this question before putting the
product in production, just so you get an idea of what to expect.

Be sure you are satisfied with the performance before adding sorting. Lots
of people have gotten into trouble by opening/closing searchers for each
request, which is FAR more expensive that sorting in my experience. It would
be unfortunate to think your problem was sorting when, in fact, it was
something else.

Best
Erick

On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
>
> Erick,
>
> Ouch!! Please excuse the cut-n-paste ;)
>
> LIA mentions a lot about performance when doing sorting. Is it something
> to
> be cautious about? You mention doing 5 fields and it works ok, ... can
> share
> with us how many documents you are handling there with 5 fields ?
>
> Thanks.
>
> ~KEGan
>
> On 9/29/06, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > Yes. I do this with 5 fields and it works just fine. Although your
> > cut-n-paste got kind of hard to read <G>....
> >
> > Erick
> >
> > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > >
> > > I think I am going to answer my own question.
> > >
> > > Just use the
> > >
> > > *Sort*<
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(org.apache.lucene.search.SortField[])
> > > >
> > > (SortField<
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/SortField.html
> > > >
> > > [] fields)
> > > *Sort*<
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(java.lang.String[])
> > > >
> > > (String <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html>
> > > [] fields)
> > >
> > > This should do it right ?
> > >
> > >
> > >
> > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > >
> > > > Hi,
> > > >
> > > > I have seen some sort examples in LIA. But cant find what I am
> looking
> > > > for. How do I sort document by date, AND for all the documents with
> > the
> > > same
> > > > date ... these are sorted by relavency. (Date has higher sort
> priority
> > > in
> > > > this case).
> > > >
> > > > Thanks.
> > > >
> > >
> > >
> >
> >
>
>

------=_Part_26946_4725693.1159547058356--

From java-user-return-23643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 16:33:08 2006
Return-Path: <java-user-return-23643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73252 invoked from network); 29 Sep 2006 16:33:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 16:33:07 -0000
Received: (qmail 60439 invoked by uid 500); 29 Sep 2006 16:33:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60242 invoked by uid 500); 29 Sep 2006 16:33:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60231 invoked by uid 99); 29 Sep 2006 16:33:01 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 09:33:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [65.39.152.239] ([65.39.152.239:43986] helo=white.metrobridge.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 09/A8-13110-9BA4D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 09:32:59 -0700
Received: from [10.10.1.163] (unknown [66.119.182.210])
	by white.metrobridge.net (Postfix) with ESMTP id 00AEF95C2CB
	for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 08:06:26 -0700 (PDT)
Message-ID: <451D4AA1.10403@elasticpath.com>
Date: Fri, 29 Sep 2006 09:32:33 -0700
From: Ryan Heinen <ryan.heinen@elasticpath.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: NPE thrown in invertDocument
References: <451C44DD.4090007@elasticpath.com>
In-Reply-To: <451C44DD.4090007@elasticpath.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I just thought I should add that I am using Lucene 2.0.0.

Thanks,

Ryan

Ryan Heinen wrote:
> Hello,
> 
> I am creating an index using a RAMDirectory, and am running across a 
> situation where when I call IndexSearcher.addDocument it throws a 
> NullPointerException.
> 
> I'll provide the stack trace first, and then give you any details that 
> may help in resolving this problem.
> 
> Exception in thread "main" java.lang.NullPointerException
>     at 
> org.apache.lucene.index.DocumentWriter.invertDocument(DocumentWriter.java:162) 
> 
>     at 
> org.apache.lucene.index.DocumentWriter.addDocument(DocumentWriter.java:93)
>     at 
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:476)
>     at 
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:462)
> 
> 
> Here is what is produced when I call toString() on the Document that I 
> created (only has one field because I commented out additions of fields 
> that seem to work):
> 
> Document<stored/uncompressed,indexed,tokenized<artist:Plastilina Mosh>>
> 
> Here is the basic gist of what I am doing:
> 
> I am looping through a bunch of items, and creating a document for each 
> language that I need to index each item in. The only difference (as far 
> as I can tell) between this document and one that works is that I am 
> extracting a localized value for the particular field that I am 
> building, in this case the Italian version of the text. Neither the 
> field name, nor the field value are null.
> 
> Here is some context from the Lucene source around where the exception 
> is being thrown (DocumentWriter.java):
> 
> Reader reader;              // find or make Reader
> if (field.readerValue() != null)
>   reader = field.readerValue();
> else if (field.stringValue() != null)
>   reader = new StringReader(field.stringValue());
> else
>   throw new IllegalArgumentException
>           ("field must have either String or Reader value");
> 
> // Tokenize field and add to postingTable
> TokenStream stream = analyzer.tokenStream(fieldName, reader);
> //LINE 162, NPE THROWN HERE ^^^
> 
> So it stands to reason that either fieldName or reader is null. Why I 
> don't exactly know.
> 
> Has anyone else ran into this issue before? Could it have anything to do 
> with the encoding of the String that I am adding to the document?
> 
> Thanks in advance for any help,
> 
> Ryan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 17:12:04 2006
Return-Path: <java-user-return-23644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89562 invoked from network); 29 Sep 2006 17:12:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 17:12:03 -0000
Received: (qmail 28708 invoked by uid 500); 29 Sep 2006 17:11:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28691 invoked by uid 500); 29 Sep 2006 17:11:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28680 invoked by uid 99); 29 Sep 2006 17:11:56 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 10:11:56 -0700
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
Received: from [81.228.11.98] ([81.228.11.98:54476] helo=pne-smtpout1-sn1.fre.skanova.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 59/E9-13110-7D35D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 10:11:52 -0700
Received: from [192.168.0.102] (83.249.40.19) by pne-smtpout1-sn1.fre.skanova.net (7.2.076)
        id 45181C6B0013F0DB for java-user@lucene.apache.org; Fri, 29 Sep 2006 19:11:43 +0200
Subject: Re: Splitting the index
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
In-Reply-To: <1159523417.5097.18.camel@localhost>
References: <200609271751.11676.bubblenut@gmail.com>
	 <C6D9D11C-11A1-4ABE-A8EA-61FC2EC9BA44@ehatchersolutions.com>
	 <200609281005.36242.bubblenut@gmail.com>
	 <1159523417.5097.18.camel@localhost>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Fri, 29 Sep 2006 19:11:31 +0200
Message-Id: <1159549891.4664.0.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Fri, 2006-09-29 at 11:50 +0200, karl wettin wrote:
> I don't consider a 300M to be a fairly small index. 

Oups. I /do/ think it is.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 18:20:57 2006
Return-Path: <java-user-return-23645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9562 invoked from network); 29 Sep 2006 18:20:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 18:20:56 -0000
Received: (qmail 41285 invoked by uid 500); 29 Sep 2006 18:20:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41265 invoked by uid 500); 29 Sep 2006 18:20:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41254 invoked by uid 99); 29 Sep 2006 18:20:48 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 11:20:48 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=ismail@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.188] ([64.233.182.188:29245] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C7/2B-13110-CD36D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 11:20:25 -0700
Received: by nf-out-0910.google.com with SMTP id b2so983379nfe
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 11:19:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=RnfbIZ9yg1lNZ0p6RuWhk8pQYlkiPeHRY8P4WcTv6kbChyG/LY8wD+e6K4l0Vn8TDIy12QvdCimFiAnO5gNPXaXz5tQPB7pJ0ieETeJqp8gsdcjfeUv4+doKRyog2pGC45U0TbrnG2DHxf9RtB/u5VRSmVhiXdJifrEQ0/lxwOE=
Received: by 10.48.202.19 with SMTP id z19mr2001605nff;
        Fri, 29 Sep 2006 11:19:05 -0700 (PDT)
Received: by 10.49.81.18 with HTTP; Fri, 29 Sep 2006 11:19:05 -0700 (PDT)
Message-ID: <1f07f6920609291119k3c6456b1nf315b8577dfb75d8@mail.gmail.com>
Date: Fri, 29 Sep 2006 14:19:05 -0400
From: "Ismail Siddiqui" <ismail@gmail.com>
To: java-user@lucene.apache.org
Subject: BooleanQuery
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15386_6551601.1159553945007"
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15386_6551601.1159553945007
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I have two pharase queries


messageQuery = new PhraseQuery();
titleQuery = new PhraseQuery();
 messageQuery.setSlop(3);
 titleQuery.setSlop(1);

                 for (int i=0; i<search.length; i++){
                     messageQuery.add(new Term(MESSAGE,search[i]));
                     titleQuery.add(new Term(TITLE,search[i]));
                 }

now i want to add these two query in Boolean Query.. I am using lucene 2.0..
in book lucen in action .. i see an example like this

   BooleanQuery bQuery=new BooleanQuery();
bQuery.add(messageQuery,true,false)



but dont apparently there is no add function in BooleanQuery class with
these 3 arguments in lucene 2.x

can some one please tell me how to combine two queries in BooleanQuery in
lucene 2


thanks

Ismail Siddiqui
m

------=_Part_15386_6551601.1159553945007--

From java-user-return-23646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 18:42:55 2006
Return-Path: <java-user-return-23646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15210 invoked from network); 29 Sep 2006 18:42:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 18:42:55 -0000
Received: (qmail 73415 invoked by uid 500); 29 Sep 2006 18:42:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73225 invoked by uid 500); 29 Sep 2006 18:42:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73157 invoked by uid 99); 29 Sep 2006 18:42:47 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 11:42:47 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=findmath@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.185] ([64.233.182.185:50426] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 9E/6B-13110-7F86D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 11:42:20 -0700
Received: by nf-out-0910.google.com with SMTP id b2so988048nfe
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 11:40:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=HYX9CSTw7jgwjud+4SSCfS0yuvosTAijR1bPWeIBiFJJyzoM68zroRdR0GWAi43QNhtuOBRvHmnhM5sYu1aFZXFf/+pGyyHX7Z3V7K1MKaG2TrE6pmwMtwOurtTV1wExJXZtmue1fB0/GaWx/qjeMZQH8DyT8xF8Vi/q630YnHk=
Received: by 10.49.8.10 with SMTP id l10mr2028922nfi;
        Fri, 29 Sep 2006 11:40:46 -0700 (PDT)
Received: by 10.49.60.17 with HTTP; Fri, 29 Sep 2006 11:40:46 -0700 (PDT)
Message-ID: <abe188f20609291140u852b02byf74882bd7e4336e5@mail.gmail.com>
Date: Fri, 29 Sep 2006 13:40:46 -0500
From: "Find Me" <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: BooleanQuery
In-Reply-To: <1f07f6920609291119k3c6456b1nf315b8577dfb75d8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18216_22643279.1159555246707"
References: <1f07f6920609291119k3c6456b1nf315b8577dfb75d8@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18216_22643279.1159555246707
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

For:
BooleanQuery bQuery=new BooleanQuery();
bQuery.add(messageQuery,true,false)

Use:
BooleanQuery bQuery=new BooleanQuery();
bQuery.add(messageQuery, BooleanClause.Occur.MUST);

Mapping is as follows:

For add(query, true, false) use add(query, BooleanClause.Occur.MUST)
For add(query, false, false) use add(query, BooleanClause.Occur.SHOULD)
For add(query, false, true) use add(query, BooleanClause.Occur.MUST_NOT)

--Rajesh Munavalli


On 9/29/06, Ismail Siddiqui <ismail@gmail.com> wrote:
>
> Hi,
>
> I have two pharase queries
>
>
> messageQuery = new PhraseQuery();
> titleQuery = new PhraseQuery();
> messageQuery.setSlop(3);
> titleQuery.setSlop(1);
>
>                 for (int i=0; i<search.length; i++){
>                     messageQuery.add(new Term(MESSAGE,search[i]));
>                     titleQuery.add(new Term(TITLE,search[i]));
>                 }
>
> now i want to add these two query in Boolean Query.. I am using lucene 2.0
> ..
> in book lucen in action .. i see an example like this
>
>   BooleanQuery bQuery=new BooleanQuery();
> bQuery.add(messageQuery,true,false)
>
>
>
> but dont apparently there is no add function in BooleanQuery class with
> these 3 arguments in lucene 2.x
>
> can some one please tell me how to combine two queries in BooleanQuery in
> lucene 2
>
>
> thanks
>
> Ismail Siddiqui
> m
>
>

------=_Part_18216_22643279.1159555246707--

From java-user-return-23647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 18:46:09 2006
Return-Path: <java-user-return-23647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15888 invoked from network); 29 Sep 2006 18:46:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 18:46:08 -0000
Received: (qmail 76799 invoked by uid 500); 29 Sep 2006 18:46:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76029 invoked by uid 500); 29 Sep 2006 18:46:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76018 invoked by uid 99); 29 Sep 2006 18:46:00 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 11:46:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [80.67.18.14] ([80.67.18.14:34910] helo=smtprelay02.ispgateway.de)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 8D/7B-13110-EB96D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 11:45:22 -0700
Received: (qmail 1880 invoked from network); 29 Sep 2006 18:44:28 -0000
Received: from unknown (HELO p5496fa63.dip.t-dialin.net) ([pbs]695637@[84.150.250.99])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 29 Sep 2006 18:44:28 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: IndexModifier and finding records
Date: Fri, 29 Sep 2006 20:46:18 +0200
User-Agent: KMail/1.8.2
References: <973858C2ADFF5C4F99415784F9391C0601C077BA@glgexchange04.glgroup.com>
In-Reply-To: <973858C2ADFF5C4F99415784F9391C0601C077BA@glgexchange04.glgroup.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609292046.18283@danielnaber.de>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 29 September 2006 14:54, Mark Modrall wrote:

> It
> would be nice if I could do IndexSearcher(IndexModifier) or
> IndexSearcher(IndexModifier.getReader()) or something.

The reader and writer are closed automatically if needed, so they cannot 
easily be given to the outside. If you want to give it a try anway: 
IndexModifer was designed to be extendable, so you can just create your 
own subclass of IndexModifier that adds these methods.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 18:47:37 2006
Return-Path: <java-user-return-23648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16038 invoked from network); 29 Sep 2006 18:47:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 18:47:37 -0000
Received: (qmail 78248 invoked by uid 500); 29 Sep 2006 18:47:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78221 invoked by uid 500); 29 Sep 2006 18:47:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78210 invoked by uid 99); 29 Sep 2006 18:47:27 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 11:47:25 -0700
Received: (qmail 16037 invoked from network); 29 Sep 2006 18:46:39 -0000
Received: from unknown (HELO p5496fa63.dip.t-dialin.net) ([pbs]695637@[84.150.250.99])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 29 Sep 2006 18:46:39 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: NPE thrown in invertDocument
Date: Fri, 29 Sep 2006 20:48:29 +0200
User-Agent: KMail/1.8.2
References: <451C44DD.4090007@elasticpath.com>
In-Reply-To: <451C44DD.4090007@elasticpath.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200609292048.29847@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 28 September 2006 23:55, Ryan Heinen wrote:

> I am creating an index using a RAMDirectory, and am running across a
> situation where when I call IndexSearcher.addDocument it throws a
> NullPointerException.

Could you create a small test case that reporduces this? This usually makes 
it easier to find the problem (for you) or to fix the bug (for the 
developers) if there is any.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 20:21:27 2006
Return-Path: <java-user-return-23649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47776 invoked from network); 29 Sep 2006 20:21:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 20:21:27 -0000
Received: (qmail 60690 invoked by uid 500); 29 Sep 2006 20:21:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60667 invoked by uid 500); 29 Sep 2006 20:21:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60656 invoked by uid 99); 29 Sep 2006 20:21:19 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 13:21:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=5.0 tests=HTML_MESSAGE
Received: from [63.241.148.20] ([63.241.148.20:37160] helo=ironport.ur.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id DE/CC-13110-1FF7D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 13:20:42 -0700
Received: from unknown (HELO UREXCHSRV5.ur.com) ([10.6.134.35])
  by ironport.ur.com with ESMTP; 29 Sep 2006 16:17:52 -0400
X-OriginatingIP: 10.6.134.35
Content-Type: multipart/mixed; boundary="7cUtK.47frPofj9.1MPWuo.7aD9oFx"
Received: from UREXCHVS3.ur.com ([10.6.138.34]) by UREXCHSRV5.ur.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 29 Sep 2006 16:15:26 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
MIME-Version: 1.0
Subject: StandardAnalyzer question
Date: Fri, 29 Sep 2006 16:16:19 -0400
Message-ID: <0D6A3C278F4DC346B98DF4D2F1397E81157A249B@UREXCHVS3.ur.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: StandardAnalyzer question
Thread-Index: AcbkBB+896xiO4eGRL+QckWo9w69LQ==
From: "Van Nguyen" <vnguyen@ur.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Sep 2006 20:15:26.0002 (UTC) FILETIME=[00245120:01C6E404]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--7cUtK.47frPofj9.1MPWuo.7aD9oFx
MIME-Version: 1.0
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6E404.204FDFCC"

------_=_NextPart_001_01C6E404.204FDFCC
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have a field in my index that is being tokenized using the
StandardAnalyzer.  Let's say that field was:

=20

TOOLS FOR TRAILER

=20

The word "FOR" is a stop word so it is not being indexed (based on the
StandardAnaylzyer).  When someone types in TOOLS FOR TRAILER in, I have
a BooleanQuery search for:

=20

+CONTENTS:tools +CONTENTS:for +CONTENTS:trailer

=20

Which will result in no match because of the "AND" search on
"+CONTENTS:for". =20

=20

Do I have to have any logic to stripe the BooleanQuery of any stop words
used in the StandardAnalyzer?=20

=20

Van


------_=_NextPart_001_01C6E404.204FDFCC
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Verdana;
	color:windowtext;
	font-weight:normal;
	font-style:normal;
	text-decoration:none none;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>I have a field in my index that is being tokenized =
using
the StandardAnalyzer.&nbsp; Let&#8217;s say that field =
was:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>TOOLS FOR TRAILER<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>The word &#8220;FOR&#8221; is a stop word so it is =
not
being indexed (based on the StandardAnaylzyer).&nbsp; When someone types =
in
TOOLS FOR TRAILER in, I have a BooleanQuery search =
for:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>+CONTENTS:tools +CONTENTS:for =
+CONTENTS:trailer<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>Which will result in no match because of the =
&#8220;AND&#8221;
search on &#8220;+CONTENTS:for&#8221;.&nbsp; =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>Do I have to have any logic to stripe the =
BooleanQuery of
any stop words used in the StandardAnalyzer? =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:10.0pt;
font-family:Verdana'>Van<o:p></o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_001_01C6E404.204FDFCC--
--7cUtK.47frPofj9.1MPWuo.7aD9oFx
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline



United Rentals
Consider it done.=E2=84=A2
800-UR-RENTS
unitedrentals.com


--7cUtK.47frPofj9.1MPWuo.7aD9oFx
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--7cUtK.47frPofj9.1MPWuo.7aD9oFx--

From java-user-return-23650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 20:29:51 2006
Return-Path: <java-user-return-23650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49216 invoked from network); 29 Sep 2006 20:29:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 20:29:51 -0000
Received: (qmail 70185 invoked by uid 500); 29 Sep 2006 20:29:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70151 invoked by uid 500); 29 Sep 2006 20:29:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70140 invoked by uid 99); 29 Sep 2006 20:29:45 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 13:29:45 -0700
X-ASF-Spam-Status: No, hits=0.3 required=5.0 tests=MAILTO_TO_SPAM_ADDR
Received: from [38.117.191.181] ([38.117.191.181:19078] helo=glgexchange01.glgroup.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 95/EC-13110-E228D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 13:29:40 -0700
Importance: normal
Priority: normal
Received: from glgexchange04.glgroup.com ([192.168.1.19]) by glgexchange01.glgroup.com with Microsoft SMTPSVC(6.0.3790.0); Fri, 29 Sep 2006 16:28:51 -0400
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2663
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: IndexModifier and finding records
Date: Fri, 29 Sep 2006 16:28:50 -0400
Message-ID: <973858C2ADFF5C4F99415784F9391C0601C077C3@glgexchange04.glgroup.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexModifier and finding records
Thread-Index: Acbj94lCDfc5P+M/Syq0G8ce1tmTZQADey3w
From: "Mark Modrall" <MModrall@glgroup.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Sep 2006 20:28:51.0064 (UTC) FILETIME=[DFFF0780:01C6E405]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

So is IndexModifier opening an IndexReader when someone calls .delete()
then closing the reader and opening an IndexWriter when someone calls
addDocument() (for example)?

Sounds like that could get fairly inefficient.  Is IndexModifier for
more convenience (and less performance) than using reader and writer
separately?

Thanks
-mark




=20
This e-mail message, and any attachments, is intended only for the use =
of the individual or entity identified in the alias address of this =
message and may contain information that is confidential, privileged and =
subject to legal restrictions and penalties regarding its unauthorized =
disclosure and use. Any unauthorized review, copying, disclosure, use or =
distribution is strictly prohibited. If you have received this e-mail =
message in error, please notify the sender immediately by reply e-mail =
and delete this message, and any attachments, from your system. Thank =
you.=20

-----Original Message-----

From: Daniel Naber [mailto:lucenelist2005@danielnaber.de]=20
Sent: Friday, September 29, 2006 2:46 PM
To: java-user@lucene.apache.org
Subject: Re: IndexModifier and finding records

On Friday 29 September 2006 14:54, Mark Modrall wrote:

> It
> would be nice if I could do IndexSearcher(IndexModifier) or
> IndexSearcher(IndexModifier.getReader()) or something.

The reader and writer are closed automatically if needed, so they cannot

easily be given to the outside. If you want to give it a try anway:=20
IndexModifer was designed to be extendable, so you can just create your=20
own subclass of IndexModifier that adds these methods.

Regards
 Daniel

--=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 20:55:16 2006
Return-Path: <java-user-return-23651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58181 invoked from network); 29 Sep 2006 20:55:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 20:55:16 -0000
Received: (qmail 11493 invoked by uid 500); 29 Sep 2006 20:55:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11464 invoked by uid 500); 29 Sep 2006 20:55:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11440 invoked by uid 99); 29 Sep 2006 20:55:09 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 13:55:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [80.67.18.15] ([80.67.18.15:47314] helo=smtprelay03.ispgateway.de)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 19/2D-13110-B188D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 13:55:03 -0700
Received: (qmail 22909 invoked from network); 29 Sep 2006 20:46:29 -0000
Received: from unknown (HELO p5496f759.dip.t-dialin.net) ([pbs]695637@[84.150.247.89])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 29 Sep 2006 20:46:29 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: IndexModifier and finding records
Date: Fri, 29 Sep 2006 22:48:20 +0200
User-Agent: KMail/1.8.2
References: <973858C2ADFF5C4F99415784F9391C0601C077C3@glgexchange04.glgroup.com>
In-Reply-To: <973858C2ADFF5C4F99415784F9391C0601C077C3@glgexchange04.glgroup.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200609292248.20125@danielnaber.de>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 29 September 2006 22:28, Mark Modrall wrote:

> So is IndexModifier opening an IndexReader when someone calls .delete()
> then closing the reader and opening an IndexWriter when someone calls
> addDocument() (for example)?

If someone calls delete and the reader is not open yet, it opens the reader=
=20
and closes the writer.

> Sounds like that could get fairly inefficient. =C2=A0Is IndexModifier for
> more convenience (and less performance) than using reader and writer
> separately?

If you cannot batch deletions and inserts, both will be rather slow. This=20
is documented in the IndexModifier javadoc.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 21:12:34 2006
Return-Path: <java-user-return-23652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62750 invoked from network); 29 Sep 2006 21:12:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 21:12:33 -0000
Received: (qmail 42738 invoked by uid 500); 29 Sep 2006 21:11:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42651 invoked by uid 500); 29 Sep 2006 21:11:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42598 invoked by uid 99); 29 Sep 2006 21:11:35 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 14:11:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [65.39.152.239] ([65.39.152.239:53322] helo=white.metrobridge.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 10/10-20582-50C8D154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 14:11:34 -0700
Received: from [10.10.1.163] (unknown [66.119.182.210])
	by white.metrobridge.net (Postfix) with ESMTP id 06BA495C18D
	for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 12:44:59 -0700 (PDT)
Message-ID: <451D8BFF.7090701@elasticpath.com>
Date: Fri, 29 Sep 2006 14:11:27 -0700
From: Ryan Heinen <ryan.heinen@elasticpath.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: [BULK] StandardAnalyzer question
References: <0D6A3C278F4DC346B98DF4D2F1397E81157A249B@UREXCHVS3.ur.com>
In-Reply-To: <0D6A3C278F4DC346B98DF4D2F1397E81157A249B@UREXCHVS3.ur.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Van Nguyen wrote:
> I have a field in my index that is being tokenized using the 
> StandardAnalyzer.  Lets say that field was:
> 
> TOOLS FOR TRAILER
> 
> The word FOR is a stop word so it is not being indexed (based on the 
> StandardAnaylzyer).  When someone types in TOOLS FOR TRAILER in, I have 
> a BooleanQuery search for:
> 
> +CONTENTS:tools +CONTENTS:for +CONTENTS:trailer
> 
> Which will result in no match because of the AND search on 
> +CONTENTS:for. 
> 
> Do I have to have any logic to stripe the BooleanQuery of any stop words 
> used in the StandardAnalyzer?

It depends on how you are generating your Lucene query. If you are using 
the QueryParser you can just pass in a StandardAnalyzer when you create it:

QueryParser parser = new QueryParser("defaultField", new 
StandardAnalyzer());

However if you are generating the BooleanQuery yourself you will want to 
make sure that you run the text through the StandardAnalyzer, and 
construct it based on the tokens that the analyzer emits, eg.

Analyzer a = new StandardAnalyzer();
TokenStream ts = a.tokenStream("fieldName", new StringReader(query));

Token t = ts.next();

while (null != t) {
	String token = t.termText();
	// build your query using these token
	...
}

...

Either method will eliminate the stop words from your query string.

Hope that helps,

Ryan

> Van
> 
> 
> ------------------------------------------------------------------------
> 
> 
> 
> United Rentals
> Consider it done.
> 800-UR-RENTS
> unitedrentals.com
> 
> 
> 
> ------------------------------------------------------------------------
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 23:20:28 2006
Return-Path: <java-user-return-23653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87893 invoked from network); 29 Sep 2006 23:20:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 23:20:28 -0000
Received: (qmail 70048 invoked by uid 500); 29 Sep 2006 23:20:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70013 invoked by uid 500); 29 Sep 2006 23:20:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70002 invoked by uid 99); 29 Sep 2006 23:20:21 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 16:20:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [169.229.70.167] ([169.229.70.167:39398] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 3B/72-20582-43AAD154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 16:20:21 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B53E55B76E; Fri, 29 Sep 2006 16:20:17 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B00CF7F403
	for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 16:20:17 -0700 (PDT)
Date: Fri, 29 Sep 2006 16:20:17 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Very high fieldNorm for a field resulting in bad results
In-Reply-To: <865c77680609280100s5641337fk7af470e6c4c87437@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0609291608310.20370@hal.rescomp.berkeley.edu>
References: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com> 
 <Pine.LNX.4.58.0609261155270.13298@hal.rescomp.berkeley.edu> 
 <865c77680609261944h335583acy6b6900ecb898e8eb@mail.gmail.com> 
 <Pine.LNX.4.58.0609271134380.32280@hal.rescomp.berkeley.edu>
 <865c77680609280100s5641337fk7af470e6c4c87437@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Assuming I want to boost the fields with the same value for all documents,
: can this be replaced by query-time boosting.

if i'm understanding what you mena, then yes.

: I, though, am storing the norms & yet do not get exact matches ranking
: higher than others.

the notion that norms help "exact matches' score higher is only true in
simple queries, ie: "foo bar" should score higher against "foo bar
baz" then "foo bar bax bat" because the norm will lower the fieldWeight of
the query ... but when you are building complex BooleanQueries out of
other queries a lot of other factors come into play.

when trying to tweak your "Query builder" there is really no substitute
for a lot of patience, experimentation, and a lot of
Explanation.toString()  calls.

: this helps to some level, but my problem comes from the fact that
: given a user query, i dont know which field to search in & hence
: construct a boolean query that searches in all fields.

You might want to look into the DisjunctionMaxQuery class ... in
particular building a BooleanQuery containing a DisjunctionMaxQuery for
each 'word' of your input in the various fields ... i've found it to be
very effective.  when it was first proposed it was called
"MaxDisjunctionQuery" and you can find an explanation of how it can be
usefull here...

	http://issues.apache.org/jira/browse/LUCENE-323

...a DisjunctionMaxQueryParser that builds the types of queries i was
talking about on the fly is in use in solr's "DisMaxRequestHandler", you
can find it as a static inner class in SolrPluginUtils...

https://svn.apache.org/viewvc/incubator/solr/trunk/src/java/org/apache/solr/util/SolrPluginUtils.java?view=markup
https://svn.apache.org/viewvc/incubator/solr/trunk/src/java/org/apache/solr/request/DisMaxRequestHandler.java?view=markup

...if you look at how the DisMaxRequestHandler uses it with the q, qf, and
pf fields you might get som good ideas about building up a complex query
from a sequence of words the user gives across many fields for both the
individual words and the input as a whole phrase.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 29 23:24:10 2006
Return-Path: <java-user-return-23654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88261 invoked from network); 29 Sep 2006 23:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2006 23:24:09 -0000
Received: (qmail 75675 invoked by uid 500); 29 Sep 2006 23:24:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74660 invoked by uid 500); 29 Sep 2006 23:24:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74647 invoked by uid 99); 29 Sep 2006 23:24:04 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 16:24:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [169.229.70.167] ([169.229.70.167:39454] helo=rescomp.berkeley.edu)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 7B/00-21606-21BAD154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 16:24:04 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 668265B76E; Fri, 29 Sep 2006 16:24:00 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5F8E27F403;
	Fri, 29 Sep 2006 16:24:00 -0700 (PDT)
Date: Fri, 29 Sep 2006 16:24:00 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>,
	Yura Smolsky <info@altervisionmedia.com>
Subject: Re[4]: how to enhance speed of sorted search
In-Reply-To: <541201675.20060928113202@altervisionmedia.com>
Message-ID: <Pine.LNX.4.58.0609291621390.20370@hal.rescomp.berkeley.edu>
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
 <834910708.20060925180034@altervisionmedia.com>
 <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
 <1647427384.20060926101239@altervisionmedia.com>
 <Pine.LNX.4.58.0609261145040.13298@hal.rescomp.berkeley.edu>
 <541201675.20060928113202@altervisionmedia.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: CH> you might be able to shave a little bit of speed off by accessing the bits
: CH> from the Filter directly and iterating over them yourself to check the
: CH> FieldCache ad build up your sorted list of the first "N" -- i think that
: CH> would save you one method call per match (the score method of
: CH> ConstantScoreQuery)
:
: What is the "sorted list of the first "N""?

Whatever you want it to be ... my point is merely that the existing Lucene
code for sorted searching involves a "Query" -- if you know you want to
start with a Filter, then you might be able to come up with a faster
mechanism for getting sorted results using the BitSet directly, collecting
however many of the sorted resutls you care about in a data structure of
your choosing.

but this is all just speculation.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 30 00:05:50 2006
Return-Path: <java-user-return-23655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93903 invoked from network); 30 Sep 2006 00:05:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2006 00:05:50 -0000
Received: (qmail 8708 invoked by uid 500); 30 Sep 2006 00:05:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8666 invoked by uid 500); 30 Sep 2006 00:05:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8655 invoked by uid 99); 30 Sep 2006 00:05:44 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 17:05:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [65.39.152.239] ([65.39.152.239:38097] helo=white.metrobridge.net)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id C1/F0-21606-6D4BD154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 17:05:44 -0700
Received: from [10.10.1.163] (unknown [66.119.182.210])
	by white.metrobridge.net (Postfix) with ESMTP id 3588095C3ED
	for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 15:39:07 -0700 (PDT)
Message-ID: <451DB4BE.4090705@elasticpath.com>
Date: Fri, 29 Sep 2006 17:05:18 -0700
From: Ryan Heinen <ryan.heinen@elasticpath.com>
User-Agent: Thunderbird 1.5.0.7 (Windows/20060909)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: [BULK] Re: NPE thrown in invertDocument
References: <451C44DD.4090007@elasticpath.com> <200609292048.29847@danielnaber.de>
In-Reply-To: <200609292048.29847@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Naber wrote:
> On Thursday 28 September 2006 23:55, Ryan Heinen wrote:
> 
>> I am creating an index using a RAMDirectory, and am running across a
>> situation where when I call IndexSearcher.addDocument it throws a
>> NullPointerException.
> 
> Could you create a small test case that reporduces this? This usually makes 
> it easier to find the problem (for you) or to fix the bug (for the 
> developers) if there is any.

I'll do what I can to isolate this to a simple test case. Thanks,

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 30 00:38:07 2006
Return-Path: <java-user-return-23656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98276 invoked from network); 30 Sep 2006 00:38:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2006 00:38:07 -0000
Received: (qmail 26571 invoked by uid 500); 30 Sep 2006 00:38:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25924 invoked by uid 500); 30 Sep 2006 00:38:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25907 invoked by uid 99); 30 Sep 2006 00:38:00 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 17:38:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [195.212.29.150] ([195.212.29.150:11452] helo=mtagate1.de.ibm.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 5B/B1-21606-56CBD154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 17:37:59 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8U0bsRM065166
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 00:37:54 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8U0duR73158166
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 02:39:56 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8U0bs1Z021981
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 02:37:54 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8U0bsO4021978
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 02:37:54 +0200
In-Reply-To: <0D6A3C278F4DC346B98DF4D2F1397E81157A249B@UREXCHVS3.ur.com>
Subject: Re: StandardAnalyzer question
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OFC6D404E5.7CE16AFA-ON882571F9.0002E41F-882571F9.00035A2A@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Fri, 29 Sep 2006 17:36:36 -0700
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF269 | June 22, 2006) at
 30/09/2006 03:39:56
MIME-Version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: base64
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

UXVlcnlQYXJzZXIgY2FuIGRvIHRoYXQgZm9yIHlvdSAtIHNvbWV0aGluZyBsaWtlOg0KDQogICAg
ICBRdWVyeVBhcnNlciBxcCA9IG5ldyBRdWVyeVBhcnNlciggIkNPTlRFTlRTIiAsICBuZXcNClN0
YW5kYXJkQW5hbHl6ZXIoKSApOw0KICAgICAgcXAuc2V0RGVmYXVsdE9wZXJhdG9yICggT3BlcmF0
b3IuQU5EICk7DQogICAgICBRdWVyeSBxID0gcXAucGFyc2UgKCAiVE9PTFMgRk9SIFRSQUlMRVIi
ICk7DQoNClJlc3VsdCBxdWVyeSBzaG91bGQgYmU6DQogICAgICArY29udGVudDp0b29scyArY29u
dGVudDp0cmFpbGVyDQoNCg0KIlZhbiBOZ3V5ZW4iIDx2bmd1eWVuQHVyLmNvbT4gd3JvdGUgb24g
MjkvMDkvMjAwNiAxMzoxNjoxOToNCg0KPiBJIGhhdmUgYSBmaWVsZCBpbiBteSBpbmRleCB0aGF0
IGlzIGJlaW5nIHRva2VuaXplZCB1c2luZyB0aGUNCj4gU3RhbmRhcmRBbmFseXplci4gIExldOKA
mXMgc2F5IHRoYXQgZmllbGQgd2FzOg0KPg0KPiBUT09MUyBGT1IgVFJBSUxFUg0KPg0KPiBUaGUg
d29yZCDigJxGT1LigJ0gaXMgYSBzdG9wIHdvcmQgc28gaXQgaXMgbm90IGJlaW5nIGluZGV4ZWQg
KGJhc2VkIG9uDQo+IHRoZSBTdGFuZGFyZEFuYXlsenllcikuICBXaGVuIHNvbWVvbmUgdHlwZXMg
aW4gVE9PTFMgRk9SIFRSQUlMRVIgaW4sDQo+IEkgaGF2ZSBhIEJvb2xlYW5RdWVyeSBzZWFyY2gg
Zm9yOg0KPg0KPiArQ09OVEVOVFM6dG9vbHMgK0NPTlRFTlRTOmZvciArQ09OVEVOVFM6dHJhaWxl
cg0KPg0KPiBXaGljaCB3aWxsIHJlc3VsdCBpbiBubyBtYXRjaCBiZWNhdXNlIG9mIHRoZSDigJxB
TkTigJ0gc2VhcmNoIG9uDQo+IOKAnCtDT05URU5UUzpmb3LigJ0uDQo+DQo+IERvIEkgaGF2ZSB0
byBoYXZlIGFueSBsb2dpYyB0byBzdHJpcGUgdGhlIEJvb2xlYW5RdWVyeSBvZiBhbnkgc3RvcA0K
PiB3b3JkcyB1c2VkIGluIHRoZSBTdGFuZGFyZEFuYWx5emVyPw0KPg0KPiBWYW4NCj4NCj4gVW5p
dGVkIFJlbnRhbHMNCj4gQ29uc2lkZXIgaXQgZG9uZS7ihKINCj4gODAwLVVSLVJFTlRTDQo+IHVu
aXRlZHJlbnRhbHMuY29tDQo+DQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1t
YWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmc=




From java-user-return-23657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 30 01:20:19 2006
Return-Path: <java-user-return-23657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8678 invoked from network); 30 Sep 2006 01:20:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2006 01:20:19 -0000
Received: (qmail 57581 invoked by uid 500); 30 Sep 2006 01:20:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57556 invoked by uid 500); 30 Sep 2006 01:20:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57545 invoked by uid 99); 30 Sep 2006 01:20:13 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 18:20:13 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=yseeley@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.179] ([64.233.166.179:1891] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id F4/E2-21606-B46CD154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 18:20:12 -0700
Received: by py-out-1112.google.com with SMTP id s49so484397pyc
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 18:20:09 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=Hjp4NCuyokY00CeFXSV0SALuR+VH+gHhSPog4CMQfOMg7/wPcGAQZ8mYSdAl+1Glfiwkefi92XifjkkMSy2lJZnhmsaMgiO7s7+mGKeo8KfUXEf/Y5s8VEwhcETWh5mp2SjY5NkqgoZaH5Nz+xFbk1y96WXQUhNDRiEWyM7oPHc=
Received: by 10.35.123.10 with SMTP id a10mr1666471pyn;
        Fri, 29 Sep 2006 18:20:08 -0700 (PDT)
Received: by 10.35.129.12 with HTTP; Fri, 29 Sep 2006 18:20:08 -0700 (PDT)
Message-ID: <c68e39170609291820w1b80bafbu40dec6cc591b54c1@mail.gmail.com>
Date: Fri, 29 Sep 2006 21:20:08 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Re[3]: how to enhance speed of sorted search
Cc: "Yura Smolsky" <info@altervisionmedia.com>
In-Reply-To: <Pine.LNX.4.58.0609261145040.13298@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC3C8@emss10m02.us.lmco.com>
	 <834910708.20060925180034@altervisionmedia.com>
	 <Pine.LNX.4.58.0609251725170.4050@hal.rescomp.berkeley.edu>
	 <1647427384.20060926101239@altervisionmedia.com>
	 <Pine.LNX.4.58.0609261145040.13298@hal.rescomp.berkeley.edu>
X-Google-Sender-Auth: b834b3e9c0edbbe2
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/26/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> you might be able to shave a little bit of speed off by accessing the bits
> from the Filter directly and iterating over them yourself to check the
> FieldCache ad build up your sorted list of the first "N"

This is one optimization that Solr does.  From solrconfig.xml:

  <!-- An optimization that attempts to use a filter to satisfy a search.
         If the requested sort does not include score, then the filterCache
         will be checked for a filter matching the query. If found, the filter
         will be used as the source of document ids, and then the sort will be
         applied to that.  -->
    <useFilterForSortedQuery>true</useFilterForSortedQuery>


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 30 02:10:04 2006
Return-Path: <java-user-return-23658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14649 invoked from network); 30 Sep 2006 02:10:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2006 02:10:04 -0000
Received: (qmail 75816 invoked by uid 500); 30 Sep 2006 02:09:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75782 invoked by uid 500); 30 Sep 2006 02:09:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75771 invoked by uid 99); 30 Sep 2006 02:09:58 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 19:09:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=5.0 tests=
Received: from [195.212.29.153] ([195.212.29.153:36327] helo=mtagate4.de.ibm.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 66/14-21606-2F1DD154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 19:09:56 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id k8U29pYI157108
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 02:09:51 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.6/8.13.6/NCO v8.1.1) with ESMTP id k8U2BsHU2195538
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 04:11:54 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id k8U29plR001078
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 04:09:51 +0200
Received: from d12ml067.megacenter.de.ibm.com (d12ml067.megacenter.de.ibm.com [9.149.164.162])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id k8U29pNM001075
	for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 04:09:51 +0200
Subject: Stefan Raspl/Germany/IBM is out of the office.
From: Stefan Raspl <RASPL@de.ibm.com>
To: java-user@lucene.apache.org
Message-ID: <OF9DEA258E.8966F69D-ONC12571F9.000C11C6-C12571F9.000C11C6@de.ibm.com>
Date: Sat, 30 Sep 2006 04:11:49 +0200
X-MIMETrack: Serialize by Router on D12ML067/12/M/IBM(Release 6.5.5HF607 | June 26, 2006) at
 30/09/2006 04:11:53
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I will be out of the office starting  09/30/2006 and will not return until
10/09/2006.

I will respond to your message when I return.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 30 02:44:34 2006
Return-Path: <java-user-return-23659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19414 invoked from network); 30 Sep 2006 02:44:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2006 02:44:34 -0000
Received: (qmail 98388 invoked by uid 500); 30 Sep 2006 02:44:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98351 invoked by uid 500); 30 Sep 2006 02:44:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98334 invoked by uid 99); 30 Sep 2006 02:44:18 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 19:44:18 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=khoon.ee.gan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.191] ([64.233.182.191:53007] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 78/E4-21606-DF9DD154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 19:44:15 -0700
Received: by nf-out-0910.google.com with SMTP id b2so1055502nfe
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 19:44:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Ol402VuEXbDAM7ZYaJcWQx4NGre8gJADuuw0gUGFYD5s/SpmkSk+H+EAUlch68ibCwU7OJiT71DnSpLmzI0HaJ9ECs9kq7b6eLnOk/gGaKGWQ4G9mh1rZ1yPlq688WtsXsXXm5Iugp/jAvvFoNNyLZk4yAZXPl8LcTKW725yclk=
Received: by 10.82.118.2 with SMTP id q2mr78490buc;
        Fri, 29 Sep 2006 19:44:10 -0700 (PDT)
Received: by 10.82.138.15 with HTTP; Fri, 29 Sep 2006 19:44:10 -0700 (PDT)
Message-ID: <85c493340609291944x2f895f6ej272bc4aaba9f9823@mail.gmail.com>
Date: Sat, 30 Sep 2006 10:44:10 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date THEN by relevancy
In-Reply-To: <359a92830609290924o187707fewf58b39660e53cb94@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4225_16234231.1159584250108"
References: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
	 <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
	 <359a92830609290708j186300d5s59d8294ec2e40488@mail.gmail.com>
	 <85c493340609290828h41603be3nd02cc20954ae8164@mail.gmail.com>
	 <359a92830609290924o187707fewf58b39660e53cb94@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4225_16234231.1159584250108
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Erick,

Thanks for the great advice!!

About closing/opening searcher on each request .... isnt this unavoidable in
some cases? The application I am building will have users insert/search
documents all the time. So for every insert, the searcher need to be
recreated again, isnt it? Else new document wont be searchable with the
'old' searcher, right?

For this situation, I am thinking of recreating the searcher (and do a warm
up) inside the thread that do the insert. With this, the performance penalty
occurs to the user that does the insert. Also for my application, there will
be more searches than inserts.

Is this what people normally do?

Thanks.

~KEGan


On 9/30/06, Erick Erickson <erickerickson@gmail.com> wrote:
>
> Sorting will inevitably have an impact on your speed, but it's impossible
> to
> generalize. FWIW, my app has 870K documents, the index is around 1.4G and
> search/sort times are fine. But even that statement is misleading. "Fine"
> means that the product manager for this product is satisfied with
> performance, which has no relevance to your situation <G>......
>
> I'm afraid that you'll just have to put in your sorting and see. I know
> that's not a very satisfactory answer, but without knowing lots of details
> about your app AND the distribution of terms AND the expected throughput
> AND
> the usage statistics AND.......,  it's hard to say.
>
> It was easy to put together a test harness that fired off a bunch of
> threads
> at my searcher and measured throughput. I highly recommend something like
> this if you're going to try to answer this question before putting the
> product in production, just so you get an idea of what to expect.
>
> Be sure you are satisfied with the performance before adding sorting. Lots
> of people have gotten into trouble by opening/closing searchers for each
> request, which is FAR more expensive that sorting in my experience. It
> would
> be unfortunate to think your problem was sorting when, in fact, it was
> something else.
>
> Best
> Erick
>
> On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> >
> > Erick,
> >
> > Ouch!! Please excuse the cut-n-paste ;)
> >
> > LIA mentions a lot about performance when doing sorting. Is it something
> > to
> > be cautious about? You mention doing 5 fields and it works ok, ... can
> > share
> > with us how many documents you are handling there with 5 fields ?
> >
> > Thanks.
> >
> > ~KEGan
> >
> > On 9/29/06, Erick Erickson <erickerickson@gmail.com> wrote:
> > >
> > > Yes. I do this with 5 fields and it works just fine. Although your
> > > cut-n-paste got kind of hard to read <G>....
> > >
> > > Erick
> > >
> > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > >
> > > > I think I am going to answer my own question.
> > > >
> > > > Just use the
> > > >
> > > > *Sort*<
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(org.apache.lucene.search.SortField[])
> > > > >
> > > > (SortField<
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/SortField.html
> > > > >
> > > > [] fields)
> > > > *Sort*<
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(java.lang.String[])
> > > > >
> > > > (String <http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html
> >
> > > > [] fields)
> > > >
> > > > This should do it right ?
> > > >
> > > >
> > > >
> > > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > > >
> > > > > Hi,
> > > > >
> > > > > I have seen some sort examples in LIA. But cant find what I am
> > looking
> > > > > for. How do I sort document by date, AND for all the documents
> with
> > > the
> > > > same
> > > > > date ... these are sorted by relavency. (Date has higher sort
> > priority
> > > > in
> > > > > this case).
> > > > >
> > > > > Thanks.
> > > > >
> > > >
> > > >
> > >
> > >
> >
> >
>
>

------=_Part_4225_16234231.1159584250108--

From java-user-return-23660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 30 04:15:27 2006
Return-Path: <java-user-return-23660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40629 invoked from network); 30 Sep 2006 04:15:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2006 04:15:27 -0000
Received: (qmail 48114 invoked by uid 500); 30 Sep 2006 04:15:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48075 invoked by uid 500); 30 Sep 2006 04:15:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48064 invoked by uid 99); 30 Sep 2006 04:15:17 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 29 Sep 2006 21:15:17 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=mekin.m@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=0.5 required=5.0 tests=DNS_FROM_RFC_ABUSE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.190] ([64.233.182.190:49706] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 5B/C1-23383-35FED154 for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 21:15:17 -0700
Received: by nf-out-0910.google.com with SMTP id b2so1063781nfe
        for <java-user@lucene.apache.org>; Fri, 29 Sep 2006 21:15:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YeLsp8gz0niPrRcgzppIHvFZylsDCmCGQdyKacIaD5o5lBS+WzDA5XlkaoGAQ4pjgD0EdmdA/9mKw7QHj1LxM0IwjXaAQBc/m50yCB+mOLHDjXuiz0BFKyMGzg7Yeu2Rr66ClMgLu8m6gU3hmLkacX2arO+5+U/3oc97vi5qC88=
Received: by 10.48.162.15 with SMTP id k15mr2579471nfe;
        Fri, 29 Sep 2006 21:15:12 -0700 (PDT)
Received: by 10.49.37.16 with HTTP; Fri, 29 Sep 2006 21:15:12 -0700 (PDT)
Message-ID: <865c77680609292115q554143c1y2279fdd8348f741b@mail.gmail.com>
Date: Sat, 30 Sep 2006 09:45:12 +0530
From: Mek <mekin.m@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Very high fieldNorm for a field resulting in bad results
In-Reply-To: <Pine.LNX.4.58.0609291608310.20370@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <865c77680609250327j265039aeo43b8d771e405a5dc@mail.gmail.com>
	 <Pine.LNX.4.58.0609261155270.13298@hal.rescomp.berkeley.edu>
	 <865c77680609261944h335583acy6b6900ecb898e8eb@mail.gmail.com>
	 <Pine.LNX.4.58.0609271134380.32280@hal.rescomp.berkeley.edu>
	 <865c77680609280100s5641337fk7af470e6c4c87437@mail.gmail.com>
	 <Pine.LNX.4.58.0609291608310.20370@hal.rescomp.berkeley.edu>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> You might want to look into the DisjunctionMaxQuery class ... in
> particular building a BooleanQuery containing a DisjunctionMaxQuery for
> each 'word' of your input in the various fields ... i've found it to be
> very effective.  when it was first proposed it was called
> "MaxDisjunctionQuery" and you can find an explanation of how it can be
> usefull here...
>
>         http://issues.apache.org/jira/browse/LUCENE-323

This should solve most of my heartache.
Whats the suggested way to use this ? Copy a solr jar ? Or just copy
the code for this 1 query ?

Are there plans to move this into lucene core ? (or contrib area?)

There are a lot of good utils in Solr which I (and I guess most people
building a search) would want.


Are there plans to move the utils like   DisjunctionMaxQueryParser,
SynonymFilter, etc back into lucene, or would it be simpler for
someone using java 1.5 to start using solr straight away.

Are there any issues if I do decide to move to solr that I should be
aware of ? (I am using lucene 2.0 as of now)

Thanks a ton,
mek.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-23661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 30 15:23:14 2006
Return-Path: <java-user-return-23661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69487 invoked from network); 30 Sep 2006 15:23:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2006 15:23:13 -0000
Received: (qmail 63219 invoked by uid 500); 30 Sep 2006 15:23:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63172 invoked by uid 500); 30 Sep 2006 15:23:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63161 invoked by uid 99); 30 Sep 2006 15:23:07 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 30 Sep 2006 08:23:07 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=erickerickson@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.166.182] ([64.233.166.182:43633] helo=py-out-1112.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id E0/30-27162-8DB8E154 for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 08:23:05 -0700
Received: by py-out-1112.google.com with SMTP id s49so661486pyc
        for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 08:23:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=d0X8vLZmugSSqIdYt93DELyozHHToD/y/cAFMEVjckOg9De4NXwrs3dc1qhRc01RUDa0TGc+QadHmv4HsQ/E9JbZ3O0e8GqX36nhVu926mkg0arNRtMREmp1wiWnxtHMIsTQPR9+qv+lOGtFmtpF1B9l+Vrd8PxtReB3SYUxUwU=
Received: by 10.35.99.17 with SMTP id b17mr3017212pym;
        Sat, 30 Sep 2006 08:23:02 -0700 (PDT)
Received: by 10.35.8.5 with HTTP; Sat, 30 Sep 2006 08:23:02 -0700 (PDT)
Message-ID: <359a92830609300823m38a35761q2bdf23a1718a1d4b@mail.gmail.com>
Date: Sat, 30 Sep 2006 11:23:02 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date THEN by relevancy
In-Reply-To: <85c493340609291944x2f895f6ej272bc4aaba9f9823@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_37554_14792250.1159629782018"
References: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
	 <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
	 <359a92830609290708j186300d5s59d8294ec2e40488@mail.gmail.com>
	 <85c493340609290828h41603be3nd02cc20954ae8164@mail.gmail.com>
	 <359a92830609290924o187707fewf58b39660e53cb94@mail.gmail.com>
	 <85c493340609291944x2f895f6ej272bc4aaba9f9823@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_37554_14792250.1159629782018
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

See below

On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
>
> Erick,
>
> Thanks for the great advice!!
>
> About closing/opening searcher on each request .... isnt this unavoidable
> in
> some cases? The application I am building will have users insert/search
> documents all the time. So for every insert, the searcher need to be
> recreated again, isnt it? Else new document wont be searchable with the
> 'old' searcher, right?


Yep, if your requirement is that the documents be immediately searchable
then the searcher will have to be opened/closed each time. Except you can
get as clever as you want with this.

Say, for example, you keep two indexes, one in RAM and one on disk. The
algorithm then goes something like this.

For a search:

Open FSDir-based index *searcher*
Open RAM-based index writer.
For each search {
   Open ram-based searcher
   Use a multi-searcher on the FSDir and RAM-based indexes
   Close the ram-based searcher;
   return results
}

User adds document, just add it to the RAM AND FS-based indexes. Searches
will get this immediately by the code above. Whether you open/close the
FS-based writer for each document added is your option.

Periodically close the FS-based readers and writers and re-create the
RAM-based index.

NOTE: If it was me, I'd actually write to a COPY of the FS-based index, and
when you synchronize (i.e. close/reopen the FS-based searcher), copy your
most recent FS-based index to your "real" directory before re-opening your
FS-based index.

Also, you'll have to do some good coordination so you don't accidentally get
the same document from both indexes.

All that said, are you really, really, really sure that additions to the
index *must* be immediately available? Or would, say, a 10 minute (or even 1
hour) delay be acceptable? I'd recommend you check carefully, since I've
often seen cases where if you ask your product manager what "immediate"
means, and explain that they can have a product faster with fewer bugs if
they accept something like, say, an hour latency and you could spend the
time on some *other* feature, the PM will say "fine". especially if you
explain that you can still do the immediate thing later.

In particular, I'd think about selling this as something that you'll change
later, and do it the simple way (in this case, just close/reopen the
searchers every 1/2 hour, say) in the interests of getting something into
the hands of the users sooner. To be sure, build the simple case with the
notion of immediate searches in mind, but don't spend the time actually
doing the complex thing first off. Then, one of three things will happen: 1>
in actual real-world use, the delay is just fine and you can work on other
things that are more valuable, or 2> the delay isn't acceptable and you have
to implement the change, or 3> the dealy isn't acceptable but never gets
high enough on the priority list to get fixed, in which case it's really
situation <1>. In case <2>, you haven't lost any time to speak of. In <1 or
3>, you have saved time you can spend working on something *else* of more
importance, .

This long diatribe is mostly based on the eXtreme Programming/Agile
methodologies model, and it's Saturday and I'm not at work <G>. I've spent
faaaar to much of my professional life working on unimportant features of a
project at the expense of things that are actually *useful* because I've
uncritically accepted requirements like "the documents must be immediately
searchable" that the product managers would gladly forgoe if they knew they
could get a different feature if they would accept a 1/2 hour delay.


For this situation, I am thinking of recreating the searcher (and do a warm
> up) inside the thread that do the insert. With this, the performance
> penalty
> occurs to the user that does the insert. Also for my application, there
> will
> be more searches than inserts.


Well, really, the general case here is that you want the warmup to happen
outside the "current" searcher. Again, before you get fancy, just see if the
delay for the searcher when re-opening it is acceptable. I have no idea what
your actual delay for the first search after opening your index is. Don't go
the coordination route until you *know* it's unacceptable.

But if the delay is unacceptable, there are several alternatives. In
general, you could easily have  a thread that is your "warmer-upper" that
could even be your document add code. But, I suspect this is more complex
than you think. what happens if two users add documents at the same time?
How do you get the "right" warmed-up searcher? Will there be collisions? How
do you debug this kind of thing? If you *must* do this, I'd make sure all
the code for warming things up is in the searcher. Upon some signal, it
fires up a thread that opens a searcher and warms it up. Upon thread
termination, swap the actual searcher you're using for requests with the
just-warmed-up one. But *please* make sure you need to first.


'Good Lord has gotten long!

Is this what people normally do?



I have no clue. Each situation is different <G>.


Thanks.
>
> ~KEGan
>
>
> On 9/30/06, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > Sorting will inevitably have an impact on your speed, but it's
> impossible
> > to
> > generalize. FWIW, my app has 870K documents, the index is around 1.4Gand
> > search/sort times are fine. But even that statement is misleading.
> "Fine"
> > means that the product manager for this product is satisfied with
> > performance, which has no relevance to your situation <G>......
> >
> > I'm afraid that you'll just have to put in your sorting and see. I know
> > that's not a very satisfactory answer, but without knowing lots of
> details
> > about your app AND the distribution of terms AND the expected throughput
> > AND
> > the usage statistics AND.......,  it's hard to say.
> >
> > It was easy to put together a test harness that fired off a bunch of
> > threads
> > at my searcher and measured throughput. I highly recommend something
> like
> > this if you're going to try to answer this question before putting the
> > product in production, just so you get an idea of what to expect.
> >
> > Be sure you are satisfied with the performance before adding sorting.
> Lots
> > of people have gotten into trouble by opening/closing searchers for each
> > request, which is FAR more expensive that sorting in my experience. It
> > would
> > be unfortunate to think your problem was sorting when, in fact, it was
> > something else.
> >
> > Best
> > Erick
> >
> > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > >
> > > Erick,
> > >
> > > Ouch!! Please excuse the cut-n-paste ;)
> > >
> > > LIA mentions a lot about performance when doing sorting. Is it
> something
> > > to
> > > be cautious about? You mention doing 5 fields and it works ok, ... can
> > > share
> > > with us how many documents you are handling there with 5 fields ?
> > >
> > > Thanks.
> > >
> > > ~KEGan
> > >
> > > On 9/29/06, Erick Erickson <erickerickson@gmail.com> wrote:
> > > >
> > > > Yes. I do this with 5 fields and it works just fine. Although your
> > > > cut-n-paste got kind of hard to read <G>....
> > > >
> > > > Erick
> > > >
> > > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > > >
> > > > > I think I am going to answer my own question.
> > > > >
> > > > > Just use the
> > > > >
> > > > > *Sort*<
> > > > >
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(org.apache.lucene.search.SortField[])
> > > > > >
> > > > > (SortField<
> > > > >
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/SortField.html
> > > > > >
> > > > > [] fields)
> > > > > *Sort*<
> > > > >
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(java.lang.String[])
> > > > > >
> > > > > (String <
> http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html
> > >
> > > > > [] fields)
> > > > >
> > > > > This should do it right ?
> > > > >
> > > > >
> > > > >
> > > > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > > > >
> > > > > > Hi,
> > > > > >
> > > > > > I have seen some sort examples in LIA. But cant find what I am
> > > looking
> > > > > > for. How do I sort document by date, AND for all the documents
> > with
> > > > the
> > > > > same
> > > > > > date ... these are sorted by relavency. (Date has higher sort
> > > priority
> > > > > in
> > > > > > this case).
> > > > > >
> > > > > > Thanks.
> > > > > >
> > > > >
> > > > >
> > > >
> > > >
> > >
> > >
> >
> >
>
>

------=_Part_37554_14792250.1159629782018--

From java-user-return-23662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Oct 01 05:37:44 2006
Return-Path: <java-user-return-23662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62004 invoked from network); 1 Oct 2006 05:37:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Oct 2006 05:37:43 -0000
Received: (qmail 48586 invoked by uid 500); 1 Oct 2006 05:37:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48547 invoked by uid 500); 1 Oct 2006 05:37:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48536 invoked by uid 99); 1 Oct 2006 05:37:37 -0000
Received: from idunn.apache.osuosl.org (HELO idunn.apache.osuosl.org) (140.211.166.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 30 Sep 2006 22:37:37 -0700
Authentication-Results: idunn.apache.osuosl.org header.from=khoon.ee.gan@gmail.com; domainkeys=good
X-ASF-Spam-Status: No, hits=2.5 required=5.0 tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
DomainKey-Status: good
X-DomainKeys: Ecelerity dk_validate implementing draft-delany-domainkeys-base-01
Received: from [64.233.182.184] ([64.233.182.184:23245] helo=nf-out-0910.google.com)
	by idunn.apache.osuosl.org (ecelerity 2.1.1.8 r(12930)) with ESMTP
	id 02/D2-00407-E145F154 for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 22:37:35 -0700
Received: by nf-out-0910.google.com with SMTP id l24so1064623nfc
        for <java-user@lucene.apache.org>; Sat, 30 Sep 2006 22:37:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Q436LjMfry6kHdtTjP7B2vxnsu5w0qKB5HKkBMNCpAIe93v9hFeTGmAQXw8TVQC47nX16TOrcU3hj8qoJbet8nJHbA9fyVGQnkiUROsFnNlfr4gMeEdFBLuIkfJcKQXeozjwRTf9P3UEgFOXBGp4NCifM0z0+0+7SZR4W8qpcjg=
Received: by 10.82.120.14 with SMTP id s14mr105267buc;
        Sat, 30 Sep 2006 22:37:31 -0700 (PDT)
Received: by 10.82.138.15 with HTTP; Sat, 30 Sep 2006 22:37:31 -0700 (PDT)
Message-ID: <85c493340609302237r71bc08daj1b3e3f5f93664ffb@mail.gmail.com>
Date: Sun, 1 Oct 2006 13:37:31 +0800
From: KEGan <khoon.ee.gan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort by date THEN by relevancy
In-Reply-To: <359a92830609300823m38a35761q2bdf23a1718a1d4b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6714_4400411.1159681051150"
References: <85c493340609290510i538c7b8ak34c17f4928189fab@mail.gmail.com>
	 <85c493340609290628r7a5ec61dye3e2928222576419@mail.gmail.com>
	 <359a92830609290708j186300d5s59d8294ec2e40488@mail.gmail.com>
	 <85c493340609290828h41603be3nd02cc20954ae8164@mail.gmail.com>
	 <359a92830609290924o187707fewf58b39660e53cb94@mail.gmail.com>
	 <85c493340609291944x2f895f6ej272bc4aaba9f9823@mail.gmail.com>
	 <359a92830609300823m38a35761q2bdf23a1718a1d4b@mail.gmail.com>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6714_4400411.1159681051150
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Erick,

Wow!! Thanks for the invaluable advice and sharing of your experience :) I
greatly appreciate them.

Alright, I think it really make the most sense to follow the path of least
resistant first, then see if it really need optimization.

Thanks a lot.

~KEGan


On 9/30/06, Erick Erickson <erickerickson@gmail.com> wrote:
>
> See below
>
> On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> >
> > Erick,
> >
> > Thanks for the great advice!!
> >
> > About closing/opening searcher on each request .... isnt this
> unavoidable
> > in
> > some cases? The application I am building will have users insert/search
> > documents all the time. So for every insert, the searcher need to be
> > recreated again, isnt it? Else new document wont be searchable with the
> > 'old' searcher, right?
>
>
> Yep, if your requirement is that the documents be immediately searchable
> then the searcher will have to be opened/closed each time. Except you can
> get as clever as you want with this.
>
> Say, for example, you keep two indexes, one in RAM and one on disk. The
> algorithm then goes something like this.
>
> For a search:
>
> Open FSDir-based index *searcher*
> Open RAM-based index writer.
> For each search {
>   Open ram-based searcher
>   Use a multi-searcher on the FSDir and RAM-based indexes
>   Close the ram-based searcher;
>   return results
> }
>
> User adds document, just add it to the RAM AND FS-based indexes. Searches
> will get this immediately by the code above. Whether you open/close the
> FS-based writer for each document added is your option.
>
> Periodically close the FS-based readers and writers and re-create the
> RAM-based index.
>
> NOTE: If it was me, I'd actually write to a COPY of the FS-based index,
> and
> when you synchronize (i.e. close/reopen the FS-based searcher), copy your
> most recent FS-based index to your "real" directory before re-opening your
> FS-based index.
>
> Also, you'll have to do some good coordination so you don't accidentally
> get
> the same document from both indexes.
>
> All that said, are you really, really, really sure that additions to the
> index *must* be immediately available? Or would, say, a 10 minute (or even
> 1
> hour) delay be acceptable? I'd recommend you check carefully, since I've
> often seen cases where if you ask your product manager what "immediate"
> means, and explain that they can have a product faster with fewer bugs if
> they accept something like, say, an hour latency and you could spend the
> time on some *other* feature, the PM will say "fine". especially if you
> explain that you can still do the immediate thing later.
>
> In particular, I'd think about selling this as something that you'll
> change
> later, and do it the simple way (in this case, just close/reopen the
> searchers every 1/2 hour, say) in the interests of getting something into
> the hands of the users sooner. To be sure, build the simple case with the
> notion of immediate searches in mind, but don't spend the time actually
> doing the complex thing first off. Then, one of three things will happen:
> 1>
> in actual real-world use, the delay is just fine and you can work on other
> things that are more valuable, or 2> the delay isn't acceptable and you
> have
> to implement the change, or 3> the dealy isn't acceptable but never gets
> high enough on the priority list to get fixed, in which case it's really
> situation <1>. In case <2>, you haven't lost any time to speak of. In <1
> or
> 3>, you have saved time you can spend working on something *else* of more
> importance, .
>
> This long diatribe is mostly based on the eXtreme Programming/Agile
> methodologies model, and it's Saturday and I'm not at work <G>. I've spent
> faaaar to much of my professional life working on unimportant features of
> a
> project at the expense of things that are actually *useful* because I've
> uncritically accepted requirements like "the documents must be immediately
> searchable" that the product managers would gladly forgoe if they knew
> they
> could get a different feature if they would accept a 1/2 hour delay.
>
>
> For this situation, I am thinking of recreating the searcher (and do a
> warm
> > up) inside the thread that do the insert. With this, the performance
> > penalty
> > occurs to the user that does the insert. Also for my application, there
> > will
> > be more searches than inserts.
>
>
> Well, really, the general case here is that you want the warmup to happen
> outside the "current" searcher. Again, before you get fancy, just see if
> the
> delay for the searcher when re-opening it is acceptable. I have no idea
> what
> your actual delay for the first search after opening your index is. Don't
> go
> the coordination route until you *know* it's unacceptable.
>
> But if the delay is unacceptable, there are several alternatives. In
> general, you could easily have  a thread that is your "warmer-upper" that
> could even be your document add code. But, I suspect this is more complex
> than you think. what happens if two users add documents at the same time?
> How do you get the "right" warmed-up searcher? Will there be collisions?
> How
> do you debug this kind of thing? If you *must* do this, I'd make sure all
> the code for warming things up is in the searcher. Upon some signal, it
> fires up a thread that opens a searcher and warms it up. Upon thread
> termination, swap the actual searcher you're using for requests with the
> just-warmed-up one. But *please* make sure you need to first.
>
>
> 'Good Lord has gotten long!
>
> Is this what people normally do?
>
>
>
> I have no clue. Each situation is different <G>.
>
>
> Thanks.
> >
> > ~KEGan
> >
> >
> > On 9/30/06, Erick Erickson <erickerickson@gmail.com> wrote:
> > >
> > > Sorting will inevitably have an impact on your speed, but it's
> > impossible
> > > to
> > > generalize. FWIW, my app has 870K documents, the index is around
> 1.4Gand
> > > search/sort times are fine. But even that statement is misleading.
> > "Fine"
> > > means that the product manager for this product is satisfied with
> > > performance, which has no relevance to your situation <G>......
> > >
> > > I'm afraid that you'll just have to put in your sorting and see. I
> know
> > > that's not a very satisfactory answer, but without knowing lots of
> > details
> > > about your app AND the distribution of terms AND the expected
> throughput
> > > AND
> > > the usage statistics AND.......,  it's hard to say.
> > >
> > > It was easy to put together a test harness that fired off a bunch of
> > > threads
> > > at my searcher and measured throughput. I highly recommend something
> > like
> > > this if you're going to try to answer this question before putting the
> > > product in production, just so you get an idea of what to expect.
> > >
> > > Be sure you are satisfied with the performance before adding sorting.
> > Lots
> > > of people have gotten into trouble by opening/closing searchers for
> each
> > > request, which is FAR more expensive that sorting in my experience. It
> > > would
> > > be unfortunate to think your problem was sorting when, in fact, it was
> > > something else.
> > >
> > > Best
> > > Erick
> > >
> > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > >
> > > > Erick,
> > > >
> > > > Ouch!! Please excuse the cut-n-paste ;)
> > > >
> > > > LIA mentions a lot about performance when doing sorting. Is it
> > something
> > > > to
> > > > be cautious about? You mention doing 5 fields and it works ok, ...
> can
> > > > share
> > > > with us how many documents you are handling there with 5 fields ?
> > > >
> > > > Thanks.
> > > >
> > > > ~KEGan
> > > >
> > > > On 9/29/06, Erick Erickson <erickerickson@gmail.com> wrote:
> > > > >
> > > > > Yes. I do this with 5 fields and it works just fine. Although your
> > > > > cut-n-paste got kind of hard to read <G>....
> > > > >
> > > > > Erick
> > > > >
> > > > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > > > >
> > > > > > I think I am going to answer my own question.
> > > > > >
> > > > > > Just use the
> > > > > >
> > > > > > *Sort*<
> > > > > >
> > > > >
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(org.apache.lucene.search.SortField[])
> > > > > > >
> > > > > > (SortField<
> > > > > >
> > > > >
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/SortField.html
> > > > > > >
> > > > > > [] fields)
> > > > > > *Sort*<
> > > > > >
> > > > >
> > > >
> > >
> >
> file:///D:/library/apache/lucene-2.0.0/docs/api/org/apache/lucene/search/Sort.html#Sort(java.lang.String[])
> > > > > > >
> > > > > > (String <
> > http://java.sun.com/j2se/1.4/docs/api/java/lang/String.html
> > > >
> > > > > > [] fields)
> > > > > >
> > > > > > This should do it right ?
> > > > > >
> > > > > >
> > > > > >
> > > > > > On 9/29/06, KEGan <khoon.ee.gan@gmail.com> wrote:
> > > > > > >
> > > > > > > Hi,
> > > > > > >
> > > > > > > I have seen some sort examples in LIA. But cant find what I am
> > > > looking
> > > > > > > for. How do I sort document by date, AND for all the documents
> > > with
> > > > > the
> > > > > > same
> > > > > > > date ... these are sorted by relavency. (Date has higher sort
> > > > priority
> > > > > > in
> > > > > > > this case).
> > > > > > >
> > > > > > > Thanks.
> > > > > > >
> > > > > >
> > > > > >
> > > > >
> > > > >
> > > >
> > > >
> > >
> > >
> >
> >
>
>

------=_Part_6714_4400411.1159681051150--

