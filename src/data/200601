From java-user-return-18144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 02 07:29:58 2006
Return-Path: <java-user-return-18144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12318 invoked from network); 2 Jan 2006 07:29:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Jan 2006 07:29:58 -0000
Received: (qmail 75412 invoked by uid 500); 2 Jan 2006 07:29:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74570 invoked by uid 500); 2 Jan 2006 07:29:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74559 invoked by uid 99); 2 Jan 2006 07:29:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 01 Jan 2006 23:29:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 01 Jan 2006 23:29:51 -0800
Received: from [61.12.8.66] (helo=[192.168.1.121])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1EtK8F1kBi-0003dd; Mon, 02 Jan 2006 02:29:30 -0500
Message-ID: <43B8D5C1.70109@insideview.com>
Date: Mon, 02 Jan 2006 12:56:57 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Query Scoring
References: <43B56809.3010904@insideview.com> <7A43A249-FC36-4950-A4BF-84B5D5F3FEAA@ehatchersolutions.com> <43B6837C.5030901@yahoo.co.uk>
In-Reply-To: <43B6837C.5030901@yahoo.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes I was refering to how IDF is used in the Highlighter code to find 
out how to prioritize fragments of the documents.

My requirement is to show the relevant fragments of the news article for 
each company along with the search results. But the highlighter api 
sometimes picks up the fragments which are not so relevant to the news 
article/company. I would like to know if there is anyway that I can 
modify the scoring/ranking of these fragments in such a way that the 
news items in which a company name & keywords in the headline gets 
assigned a very strong relevancy ranking,  closely followed by a company 
name mention in the first paragraph and a  multiple-mention within the 
entire story. Something like headline =   5 points,  first paragraph = 
four, etc.

Thanks,
Harini

markharw00d wrote:

> Sorry to contradict, Erik, but the Highlighter's QueryScorer will make 
> use of IDF, given a reader, in order to better prioritise which are 
> the "best" bits of a document.
> However, In the particular example given, the criteria includes 
> several non-text fields which are not useful for IDF and general 
> scoring purposes - these are perhaps better expressed using a filter 
> of some form. Otherwise, why should the scarcity of a particular date 
> in the given range boost one matching document above others? These 
> numeric-type fields are simply mandatory boolean "hygiene factors" 
> and  should ideally play no part in highlight selection or results 
> ordering in general based on their IDF or TF.
>
> Cheers,
> Mark
>
>
> Erik Hatcher wrote:
>
>> Harini,
>>
>> I'm not sure I understand what you're asking.  IDF doesn't factor  
>> into highlighting.
>>
>> IDF calculations are useful in scoring documents during a search,  
>> such that the most relevant documents are returned, but again this 
>> is  unrelated to highlighting.
>>
>> Could you elaborate on what you're after?
>>
>>     Erik
>>
>> On Dec 30, 2005, at 12:02 PM, Harini Raghavan wrote:
>>
>>> Hi,
>>>
>>> I have a requirement to highlight search keywords in the results and
>>> display the matching fragment of the text with the results. I am using
>>> the Hits highlighting mentioned in Lucene in Action.
>>>
>>> Here is the search query(BooleanQuery) I am passing to the  
>>> IndexSearcher
>>> and QueryScorer:
>>> +DocumentType:news
>>> +(CompanyId:10 CompanyId:20 CompanyId:30 CompanyId:40)
>>> +FilingDate:[20041201 TO 20051201]
>>> +(Content:"cost saving" Content:"cost savings" Content:outsource
>>> Content:outsources Content:downsize Content:downsizes
>>> Content:restructuring Content:restructure)
>>>
>>> I do not quite understand how the query scoring actually works &  
>>> how Inverse Document Frequency(IDF) calculations are useful?  Can
>>> someone shed some light on this using the given query as an example?
>>>
>>> Thanks,
>>> Harini
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>
>
>
>        
> ___________________________________________________________ NEW Yahoo! 
> Cars - sell your car and browse thousands of new and used cars online! 
> http://uk.cars.yahoo.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 02 07:56:51 2006
Return-Path: <java-user-return-18145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18946 invoked from network); 2 Jan 2006 07:56:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Jan 2006 07:56:51 -0000
Received: (qmail 92645 invoked by uid 500); 2 Jan 2006 07:56:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92614 invoked by uid 500); 2 Jan 2006 07:56:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92603 invoked by uid 99); 2 Jan 2006 07:56:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 01 Jan 2006 23:56:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 01 Jan 2006 23:56:44 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A6C7E5B76C; Sun,  1 Jan 2006 23:56:23 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9F15E7F45C
	for <java-user@lucene.apache.org>; Sun,  1 Jan 2006 23:56:23 -0800 (PST)
Date: Sun, 1 Jan 2006 23:56:23 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Query Scoring
In-Reply-To: <43B8D5C1.70109@insideview.com>
Message-ID: <Pine.LNX.4.58.0601012343520.29580@hal.rescomp.berkeley.edu>
References: <43B56809.3010904@insideview.com>
 <7A43A249-FC36-4950-A4BF-84B5D5F3FEAA@ehatchersolutions.com>
 <43B6837C.5030901@yahoo.co.uk> <43B8D5C1.70109@insideview.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: My requirement is to show the relevant fragments of the news article for
: each company along with the search results. But the highlighter api
: sometimes picks up the fragments which are not so relevant to the news
: article/company. I would like to know if there is anyway that I can
: modify the scoring/ranking of these fragments in such a way that the
: news items in which a company name & keywords in the headline gets
: assigned a very strong relevancy ranking,  closely followed by a company
: name mention in the first paragraph and a  multiple-mention within the
: entire story. Something like headline =   5 points,  first paragraph =
: four, etc.

Well, the sample query you mentioned isn't checking any company names, or
doing anything with a "keywords" field.  I'm not to familiar with the way
the highlighter package works, but i imagine that with the types of
queries you said you are using, if you are highlighting the "Content"
field, the CompanyId and the FilingDate clauses of your query will be
fairly irelevent (becuase they are numbers, not because they are different
field names)

An idea i've suggested before (but i don't remember if anyone ever said
wether it is a viable use of the Highlighter or not) is to give the
highlighter a completely different Query object then the one you used to
get your search results.

ie, if you search query (what you want used to compute score) is...

  +(CompanyId:10 CompanyId:20) Content:"cost saving" Content:outsource

...but once you've gotten those results, what you really care about is
highlighting the name of the company, and you think the best fragments
when those company names appear near the other words, then give the
highlighter a query that looks like...

  "companyname10 cost savings"~20 "companyname20 outsource"~20 ...etc



: >>> Here is the search query(BooleanQuery) I am passing to the
: >>> IndexSearcher
: >>> and QueryScorer:
: >>> +DocumentType:news
: >>> +(CompanyId:10 CompanyId:20 CompanyId:30 CompanyId:40)
: >>> +FilingDate:[20041201 TO 20051201]
: >>> +(Content:"cost saving" Content:"cost savings" Content:outsource
: >>> Content:outsources Content:downsize Content:downsizes
: >>> Content:restructuring Content:restructure)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 02 10:12:56 2006
Return-Path: <java-user-return-18146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72050 invoked from network); 2 Jan 2006 10:12:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Jan 2006 10:12:56 -0000
Received: (qmail 81693 invoked by uid 500); 2 Jan 2006 10:12:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81660 invoked by uid 500); 2 Jan 2006 10:12:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81649 invoked by uid 99); 2 Jan 2006 10:12:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 02:12:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 02:12:50 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id ED1D613E201A; Mon,  2 Jan 2006 05:12:27 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id B8F2513E2005
	for <java-user@lucene.apache.org>; Mon,  2 Jan 2006 05:12:22 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <3AF76382C31760418AF0FBFD84F7140308B3E581@MI8NYCMAIL07.Mi8.com>
References: <3AF76382C31760418AF0FBFD84F7140308B3E581@MI8NYCMAIL07.Mi8.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3F708993-BE4E-41F2-8A86-2A857DB4EF0D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problems with sandbox - can't find org.apache.lucene.store.IndexInput
Date: Mon, 2 Jan 2006 05:12:17 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I haven't checked the specifics, but many of the contrib (the  
"sandbox" is the old name for it) projects have upgraded their latest  
code to be against the trunk of Lucene, which is destined to be  
Lucene 1.9.  You'll need to either grab a previous JAR built before  
the codebase changed, or upgrade yourself to the trunk of Lucene's  
subversion repository all the way around.

	Erik


On Dec 31, 2005, at 10:21 AM, Colin Young wrote:

> I'm attempting to compile Lucene with some sandbox code --  
> specifically
> the Berkely DB index storage -- and I'm running into and issue  
> where the
> code is attempting to import IndexInput (apparently located in
> org.apache.lucene.store.IndexInput) but I can't find it in the source
> anywhere. I'm not sure if the sandbox code is maybe using a more  
> recent
> version of the Lucene code, or if I'm missing something obvious. My
> personaly guess is that it's the latter.
>
> I'm using Lucene 1.4.3 source and the db directory from the source
> repository at the apache site.
>
> Thanks for any tips.
>
> Colin
>
>
> Notice: This email message is for the sole use of the intended  
> recipient(s) and may contain confidential and privileged  
> information. Any unauthorized review, use, disclosure or  
> distribution is prohibited. If you are not the intended recipient,  
> please contact the sender by reply email and destroy all copies of  
> the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 02 13:00:18 2006
Return-Path: <java-user-return-18147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53445 invoked from network); 2 Jan 2006 13:00:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Jan 2006 13:00:17 -0000
Received: (qmail 2872 invoked by uid 500); 2 Jan 2006 13:00:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2840 invoked by uid 500); 2 Jan 2006 13:00:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2829 invoked by uid 500); 2 Jan 2006 13:00:12 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 2826 invoked by uid 99); 2 Jan 2006 13:00:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 05:00:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 05:00:12 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 7D1481BB25
	for <lucene-user@jakarta.apache.org>; Mon,  2 Jan 2006 13:59:45 +0100 (CET)
Message-ID: <43B923C1.6070901@fib.upc.edu>
Date: Mon, 02 Jan 2006 13:59:45 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: My first question in 2006 :D
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello everybody and happy new year!
My first question about lucene in 2006 is the next:

What I have to do with the message "No tvx file". Every night I have to 
do a complete indexation proces of a forum in phpBB.
For example in an indexation of 93 documents (posts in Forum phpBB) i 
see 4 messages of No tvx file in my logs.
The called that produce the message is this(contents is an string):
            Field CONTENTS = Field.UnStored("CONTENTS",contents,true);
            CONTENTS.setBoost((float) 0.2);
            lucene_doc.add(CONTENTS);

The problem is when I'm working with an active forum that I can obtain 
near of 200 message of "No tvx file"
My index is setCompoundFile(true);

What I do wrong? Or what can I do to not obtain this messages?

Thks for any reply


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 02 14:36:11 2006
Return-Path: <java-user-return-18148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 600 invoked from network); 2 Jan 2006 14:36:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Jan 2006 14:36:11 -0000
Received: (qmail 75057 invoked by uid 500); 2 Jan 2006 14:36:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75035 invoked by uid 500); 2 Jan 2006 14:36:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 67962 invoked by uid 99); 2 Jan 2006 14:22:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Message-ID: <43B936EB.5040101@apache.org>
Date: Mon, 02 Jan 2006 15:21:31 +0100
From: Bernhard Messer <bmesser@apache.org>
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: My first question in 2006 :D
References: <43B923C1.6070901@fib.upc.edu>
In-Reply-To: <43B923C1.6070901@fib.upc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel,

you can simply ignore this message. It only says that you have term 
vectors enabled and add one ore more "empty" documents without a body. 
If you don't need term vectors for any special operations on index 
terms, switch this feature off.

Bernhard

Daniel Cortes wrote:

> Hello everybody and happy new year!
> My first question about lucene in 2006 is the next:
>
> What I have to do with the message "No tvx file". Every night I have 
> to do a complete indexation proces of a forum in phpBB.
> For example in an indexation of 93 documents (posts in Forum phpBB) i 
> see 4 messages of No tvx file in my logs.
> The called that produce the message is this(contents is an string):
>            Field CONTENTS = Field.UnStored("CONTENTS",contents,true);
>            CONTENTS.setBoost((float) 0.2);
>            lucene_doc.add(CONTENTS);
>
> The problem is when I'm working with an active forum that I can obtain 
> near of 200 message of "No tvx file"
> My index is setCompoundFile(true);
>
> What I do wrong? Or what can I do to not obtain this messages?
>
> Thks for any reply
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 02 20:52:24 2006
Return-Path: <java-user-return-18149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48431 invoked from network); 2 Jan 2006 20:52:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Jan 2006 20:52:23 -0000
Received: (qmail 82008 invoked by uid 500); 2 Jan 2006 20:52:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81576 invoked by uid 500); 2 Jan 2006 20:52:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81425 invoked by uid 99); 2 Jan 2006 20:52:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 12:52:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.46] (HELO mail.mi8.com) (63.240.6.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 12:52:15 -0800
Received: from 172.16.1.148 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D2)); Mon, 02 Jan 2006 15:51:48 -0500
X-Server-Uuid: 7829E76E-BB9E-4995-8473-3C0929DF7DD1
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.162]) by
 D01HOST02.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Mon, 2 Jan
 2006 15:51:48 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Problems with sandbox - can't find
 org.apache.lucene.store.IndexInput
Date: Mon, 2 Jan 2006 15:51:55 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F7140308B3E834@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Problems with sandbox - can't find
 org.apache.lucene.store.IndexInput
Thread-Index: AcYPhR7YoHnExcCbR6qKzdUkyIEQ7gAV89Pg
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 02 Jan 2006 20:51:48.0363 (UTC)
 FILETIME=[5965ADB0:01C60FDE]
X-WSS-ID: 6FA74DEE3TO5299131-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That would probably explain things. Is 1.9 close, or are we still
talking months aways=3F Unfortunately, what I'm trying to do is use the
code for Berkeley DB Java Edition which, best as I can tell was only
ported against the 1.9 code, so it looks like my choices are to do the
port myself, or check out 1.9 to see what the current issues and and see
how stable it is for my purposes.

Thanks

Colin Young

-----Original Message-----
=46rom: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: 2 January, 2006 05:12
To: java-user@lucene.apache.org
Subject: Re: Problems with sandbox - can't find
org.apache.lucene.store.IndexInput

I haven't checked the specifics, but many of the contrib (the "sandbox"
is the old name for it) projects have upgraded their latest code to be
against the trunk of Lucene, which is destined to be Lucene 1.9.  You'll
need to either grab a previous JAR built before the codebase changed, or
upgrade yourself to the trunk of Lucene's subversion repository all the
way around.

	Erik


On Dec 31, 2005, at 10:21 AM, Colin Young wrote:

> I'm attempting to compile Lucene with some sandbox code --=20
> specifically the Berkely DB index storage -- and I'm running into and=20
> issue where the code is attempting to import IndexInput (apparently=20
> located in
> org.apache.lucene.store.IndexInput) but I can't find it in the source=20
> anywhere. I'm not sure if the sandbox code is maybe using a more=20
> recent version of the Lucene code, or if I'm missing something=20
> obvious. My personaly guess is that it's the latter.
>
> I'm using Lucene 1.4.3 source and the db directory from the source=20
> repository at the apache site.
>
> Thanks for any tips.
>
> Colin
>
>
> Notice: This email message is for the sole use of the intended
> recipient(s) and may contain confidential and privileged information.=20
> Any unauthorized review, use, disclosure or distribution is=20
> prohibited. If you are not the intended recipient, please contact the=20
> sender by reply email and destroy all copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
=46or additional commands, e-mail: java-user-help@lucene.apache.org



Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 02:03:47 2006
Return-Path: <java-user-return-18150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52579 invoked from network); 3 Jan 2006 02:03:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 02:03:47 -0000
Received: (qmail 59636 invoked by uid 500); 3 Jan 2006 02:03:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59026 invoked by uid 500); 3 Jan 2006 02:03:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59015 invoked by uid 99); 3 Jan 2006 02:03:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 18:03:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 18:03:39 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 92EF413E2005; Mon,  2 Jan 2006 21:03:16 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id CE5A213E201A
	for <java-user@lucene.apache.org>; Mon,  2 Jan 2006 21:02:44 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <3AF76382C31760418AF0FBFD84F7140308B3E834@MI8NYCMAIL07.Mi8.com>
References: <3AF76382C31760418AF0FBFD84F7140308B3E834@MI8NYCMAIL07.Mi8.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7C266957-918E-4DE6-AE08-2E4019B9BC63@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problems with sandbox - can't find org.apache.lucene.store.IndexInput
Date: Mon, 2 Jan 2006 21:02:39 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Trunk of Lucene is very stable, more so than 1.4.3 I've heard.

Is 1.9 release close?  Hard to even say.  It could be.  No  
substantial changes to the trunk before 1.9 is officially released  
are planned that I know of.

	Erik


On Jan 2, 2006, at 3:51 PM, Colin Young wrote:

> That would probably explain things. Is 1.9 close, or are we still
> talking months aways? Unfortunately, what I'm trying to do is use the
> code for Berkeley DB Java Edition which, best as I can tell was only
> ported against the 1.9 code, so it looks like my choices are to do the
> port myself, or check out 1.9 to see what the current issues and  
> and see
> how stable it is for my purposes.
>
> Thanks
>
> Colin Young
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: 2 January, 2006 05:12
> To: java-user@lucene.apache.org
> Subject: Re: Problems with sandbox - can't find
> org.apache.lucene.store.IndexInput
>
> I haven't checked the specifics, but many of the contrib (the  
> "sandbox"
> is the old name for it) projects have upgraded their latest code to be
> against the trunk of Lucene, which is destined to be Lucene 1.9.   
> You'll
> need to either grab a previous JAR built before the codebase  
> changed, or
> upgrade yourself to the trunk of Lucene's subversion repository all  
> the
> way around.
>
> 	Erik
>
>
> On Dec 31, 2005, at 10:21 AM, Colin Young wrote:
>
>> I'm attempting to compile Lucene with some sandbox code --
>> specifically the Berkely DB index storage -- and I'm running into and
>> issue where the code is attempting to import IndexInput (apparently
>> located in
>> org.apache.lucene.store.IndexInput) but I can't find it in the source
>> anywhere. I'm not sure if the sandbox code is maybe using a more
>> recent version of the Lucene code, or if I'm missing something
>> obvious. My personaly guess is that it's the latter.
>>
>> I'm using Lucene 1.4.3 source and the db directory from the source
>> repository at the apache site.
>>
>> Thanks for any tips.
>>
>> Colin
>>
>>
>> Notice: This email message is for the sole use of the intended
>> recipient(s) and may contain confidential and privileged information.
>> Any unauthorized review, use, disclosure or distribution is
>> prohibited. If you are not the intended recipient, please contact the
>> sender by reply email and destroy all copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> Notice: This email message is for the sole use of the intended  
> recipient(s) and may contain confidential and privileged  
> information. Any unauthorized review, use, disclosure or  
> distribution is prohibited. If you are not the intended recipient,  
> please contact the sender by reply email and destroy all copies of  
> the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 02:54:59 2006
Return-Path: <java-user-return-18151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74051 invoked from network); 3 Jan 2006 02:54:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 02:54:59 -0000
Received: (qmail 92703 invoked by uid 500); 3 Jan 2006 02:54:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92659 invoked by uid 500); 3 Jan 2006 02:54:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92647 invoked by uid 99); 3 Jan 2006 02:54:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 18:54:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.44] (HELO mail.mi8.com) (63.240.6.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 18:54:53 -0800
Received: from 172.16.1.24 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D4)); Mon, 02 Jan 2006 21:54:25 -0500
X-Server-Uuid: C8FB4D43-1108-484A-A898-3CBCC7906230
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.162]) by
 d01smtp03.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Mon, 2 Jan
 2006 21:54:25 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Problems with sandbox - can't find
 org.apache.lucene.store.IndexInput
Date: Mon, 2 Jan 2006 21:54:32 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F7140308B3E8E6@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Problems with sandbox - can't find
 org.apache.lucene.store.IndexInput
Thread-Index: AcYQCfajdRAnHv+fSPSGT2IK45yKwAABsAZA
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 03 Jan 2006 02:54:25.0742 (UTC)
 FILETIME=[01CE3EE0:01C61011]
X-WSS-ID: 6FA738EB12G5422155-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That's good enough for me. At this point, going with a reasonably stable
branch rather than using my code appears to be the more conservative
option considering our release timeframe (which allows for extensive
testing).

Thanks for the help (and the excellent book).

Colin

-----Original Message-----
=46rom: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: 2 January, 2006 21:03
To: java-user@lucene.apache.org
Subject: Re: Problems with sandbox - can't find
org.apache.lucene.store.IndexInput

Trunk of Lucene is very stable, more so than 1.4.3 I've heard.

Is 1.9 release close=3F  Hard to even say.  It could be.  No substantial
changes to the trunk before 1.9 is officially released are planned that
I know of.

	Erik


On Jan 2, 2006, at 3:51 PM, Colin Young wrote:

> That would probably explain things. Is 1.9 close, or are we still=20
> talking months aways=3F Unfortunately, what I'm trying to do is use the=20
> code for Berkeley DB Java Edition which, best as I can tell was only=20
> ported against the 1.9 code, so it looks like my choices are to do the

> port myself, or check out 1.9 to see what the current issues and and=20
> see how stable it is for my purposes.
>
> Thanks
>
> Colin Young
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: 2 January, 2006 05:12
> To: java-user@lucene.apache.org
> Subject: Re: Problems with sandbox - can't find=20
> org.apache.lucene.store.IndexInput
>
> I haven't checked the specifics, but many of the contrib (the=20
> "sandbox"
> is the old name for it) projects have upgraded their latest code to be
> against the trunk of Lucene, which is destined to be Lucene 1.9.  =20
> You'll
> need to either grab a previous JAR built before the codebase changed,=20
> or upgrade yourself to the trunk of Lucene's subversion repository all

> the way around.
>
> 	Erik
>
>
> On Dec 31, 2005, at 10:21 AM, Colin Young wrote:
>
>> I'm attempting to compile Lucene with some sandbox code --=20
>> specifically the Berkely DB index storage -- and I'm running into and

>> issue where the code is attempting to import IndexInput (apparently=20
>> located in
>> org.apache.lucene.store.IndexInput) but I can't find it in the source

>> anywhere. I'm not sure if the sandbox code is maybe using a more=20
>> recent version of the Lucene code, or if I'm missing something=20
>> obvious. My personaly guess is that it's the latter.
>>
>> I'm using Lucene 1.4.3 source and the db directory from the source=20
>> repository at the apache site.
>>
>> Thanks for any tips.
>>
>> Colin
>>
>>
>> Notice: This email message is for the sole use of the intended
>> recipient(s) and may contain confidential and privileged information.
>> Any unauthorized review, use, disclosure or distribution is=20
>> prohibited. If you are not the intended recipient, please contact the

>> sender by reply email and destroy all copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> Notice: This email message is for the sole use of the intended
> recipient(s) and may contain confidential and privileged information.=20
> Any unauthorized review, use, disclosure or distribution is=20
> prohibited. If you are not the intended recipient, please contact the=20
> sender by reply email and destroy all copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
=46or additional commands, e-mail: java-user-help@lucene.apache.org



Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 04:50:50 2006
Return-Path: <java-user-return-18152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5863 invoked from network); 3 Jan 2006 04:50:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 04:50:49 -0000
Received: (qmail 83416 invoked by uid 500); 3 Jan 2006 04:50:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82884 invoked by uid 500); 3 Jan 2006 04:50:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82871 invoked by uid 99); 3 Jan 2006 04:50:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 20:50:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Jan 2006 20:50:43 -0800
Received: from [61.12.8.66] (helo=[192.168.1.121])
	by mrelay.perfora.net (node=mrelayus0) with ESMTP (Nemesis),
	id 0MKoyl-1Ete7m3Abg-0006PZ; Mon, 02 Jan 2006 23:50:22 -0500
Message-ID: <43BA01F5.20106@insideview.com>
Date: Tue, 03 Jan 2006 10:17:49 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Query Scoring
References: <43B56809.3010904@insideview.com> <7A43A249-FC36-4950-A4BF-84B5D5F3FEAA@ehatchersolutions.com> <43B6837C.5030901@yahoo.co.uk> <43B8D5C1.70109@insideview.com> <Pine.LNX.4.58.0601012343520.29580@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0601012343520.29580@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you Chris. That seems like a good suggestion. I will try to pass a 
different Query object to the Highlighter api that the one used for 
searching.

I plan to break down the HTML document and store the title/sub 
title/content in different fields of the index. So if I create a new 
query comparing company name and keywords against title and content 
fields, then I am assuming that highlighter api will give a higher 
ranking to the fragment where both terms of the query match against 
those fragments where just one term(either title or content) matches. I 
am assuming that even if I do not increase the boost factor of any of 
the terms, the api will take care of this ranking.
This is my understanding of the scoring/ranking algorithm. Any comments 
anyone?

Thanks,
Harini

Chris Hostetter wrote:

>: My requirement is to show the relevant fragments of the news article for
>: each company along with the search results. But the highlighter api
>: sometimes picks up the fragments which are not so relevant to the news
>: article/company. I would like to know if there is anyway that I can
>: modify the scoring/ranking of these fragments in such a way that the
>: news items in which a company name & keywords in the headline gets
>: assigned a very strong relevancy ranking,  closely followed by a company
>: name mention in the first paragraph and a  multiple-mention within the
>: entire story. Something like headline =   5 points,  first paragraph =
>: four, etc.
>
>Well, the sample query you mentioned isn't checking any company names, or
>doing anything with a "keywords" field.  I'm not to familiar with the way
>the highlighter package works, but i imagine that with the types of
>queries you said you are using, if you are highlighting the "Content"
>field, the CompanyId and the FilingDate clauses of your query will be
>fairly irelevent (becuase they are numbers, not because they are different
>field names)
>
>An idea i've suggested before (but i don't remember if anyone ever said
>wether it is a viable use of the Highlighter or not) is to give the
>highlighter a completely different Query object then the one you used to
>get your search results.
>
>ie, if you search query (what you want used to compute score) is...
>
>  +(CompanyId:10 CompanyId:20) Content:"cost saving" Content:outsource
>
>...but once you've gotten those results, what you really care about is
>highlighting the name of the company, and you think the best fragments
>when those company names appear near the other words, then give the
>highlighter a query that looks like...
>
>  "companyname10 cost savings"~20 "companyname20 outsource"~20 ...etc
>
>
>
>: >>> Here is the search query(BooleanQuery) I am passing to the
>: >>> IndexSearcher
>: >>> and QueryScorer:
>: >>> +DocumentType:news
>: >>> +(CompanyId:10 CompanyId:20 CompanyId:30 CompanyId:40)
>: >>> +FilingDate:[20041201 TO 20051201]
>: >>> +(Content:"cost saving" Content:"cost savings" Content:outsource
>: >>> Content:outsources Content:downsize Content:downsizes
>: >>> Content:restructuring Content:restructure)
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 09:55:00 2006
Return-Path: <java-user-return-18153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23663 invoked from network); 3 Jan 2006 09:55:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 09:55:00 -0000
Received: (qmail 5802 invoked by uid 500); 3 Jan 2006 09:54:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5772 invoked by uid 500); 3 Jan 2006 09:54:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5761 invoked by uid 99); 3 Jan 2006 09:54:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 01:54:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.18.25.230] (HELO mail.zooplus.de) (212.18.25.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 01:54:52 -0800
Received: from exchange2.home.zooplus.de (unknown [192.168.10.72])
	by mail.zooplus.de (Postfix) with ESMTP id 6B06C576CD
	for <java-user@lucene.apache.org>; Tue,  3 Jan 2006 10:54:30 +0100 (CET)
Received: by exchange2.home.zooplus.de with Internet Mail Service (5.5.2657.72)
	id <V3Q0PPYB>; Tue, 3 Jan 2006 10:54:30 +0100
Message-ID: <10361639FF4CA04ABB30F54683E4FB850566767F@exchange2.home.zooplus.de>
From: Steven Pannell <steven.pannell@zooplus.com>
To: java-user@lucene.apache.org
Subject: how to handle plurals
Date: Tue, 3 Jan 2006 10:54:30 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Does anyone know how I can handle plurals in lucene.  If I search for dog
and then dogs I get two different search results.  I would like the same
results regardless of the plural.  Can this be done??

thanks,
Steve.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 10:36:26 2006
Return-Path: <java-user-return-18154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41955 invoked from network); 3 Jan 2006 10:36:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 10:36:25 -0000
Received: (qmail 54511 invoked by uid 500); 3 Jan 2006 10:36:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54483 invoked by uid 500); 3 Jan 2006 10:36:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54471 invoked by uid 99); 3 Jan 2006 10:36:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 02:36:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 02:36:15 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7B1FA13E201A; Tue,  3 Jan 2006 05:35:54 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 9B6F713E2005
	for <java-user@lucene.apache.org>; Tue,  3 Jan 2006 05:35:51 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <10361639FF4CA04ABB30F54683E4FB850566767F@exchange2.home.zooplus.de>
References: <10361639FF4CA04ABB30F54683E4FB850566767F@exchange2.home.zooplus.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F7A8DD8C-4807-46CF-8EA9-169960D15332@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: how to handle plurals
Date: Tue, 3 Jan 2006 05:35:49 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 3, 2006, at 4:54 AM, Steven Pannell wrote:
> Does anyone know how I can handle plurals in lucene.  If I search  
> for dog
> and then dogs I get two different search results.  I would like the  
> same
> results regardless of the plural.  Can this be done??

Yes, it can easily be done by using an analyzer that stems, such as  
the SnowballAnalyzer.  The SnowballAnalyzer is found currently in  
Lucene's subversion repository under contrib/snowball.  Build this  
yourself if you are using Lucene from trunk.  If you're using Lucene  
1.4.3, your best option is to grab the snowball-1.1-dev.jar from the  
"Lucene in Action" codebase - http://www.lucenebook.com - and feel  
free to look at the examples in the src directory there.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 13:15:32 2006
Return-Path: <java-user-return-18155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18640 invoked from network); 3 Jan 2006 13:15:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 13:15:32 -0000
Received: (qmail 40180 invoked by uid 500); 3 Jan 2006 13:15:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39205 invoked by uid 500); 3 Jan 2006 13:15:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 40556 invoked by uid 99); 3 Jan 2006 11:46:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Content-class: urn:content-classes:message
Subject: Switching default parsing for Or and AND
Date: Tue, 3 Jan 2006 11:48:25 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE52784D@staf-exm-01.ardentia.co.uk>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6105B.941F3D63"
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Switching default parsing for Or and AND
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Thread-Index: AcYQW5sbznjAMgKeRJm1jyd453e9Ow==
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6105B.941F3D63
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Is there a way of altering the way lucene parses a default string to use
AND instead of OR, e.g. usually "joe bloggs" is executed as "joe OR
bloggs", is there a flag to change this to "joe AND bloggs" which seems
to be the way most search engines work.

=20

Thanks

=20

Mike


------_=_NextPart_001_01C6105B.941F3D63--

From java-user-return-18156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 13:19:39 2006
Return-Path: <java-user-return-18156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19892 invoked from network); 3 Jan 2006 13:19:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 13:19:39 -0000
Received: (qmail 43497 invoked by uid 500); 3 Jan 2006 13:19:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42478 invoked by uid 500); 3 Jan 2006 13:19:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42467 invoked by uid 99); 3 Jan 2006 13:19:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 05:19:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 05:19:34 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C536913E2005; Tue,  3 Jan 2006 08:19:13 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8EE3113E2005
	for <java-user@lucene.apache.org>; Tue,  3 Jan 2006 08:19:09 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <0B1C92228C5C8D45AA7450F78B3FB9DE52784D@staf-exm-01.ardentia.co.uk>
References: <0B1C92228C5C8D45AA7450F78B3FB9DE52784D@staf-exm-01.ardentia.co.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <95F498CC-ECA4-4C7C-8835-DDA6CF0036F6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Switching default parsing for Or and AND
Date: Tue, 3 Jan 2006 08:18:23 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mike,

If you construct an instance of QueryParser you can set the default  
operator (see the javadocs).  Important: be sure to construct an  
instance and use the *instance* parse method rather than the  
static .parse method!

	Erik

On Jan 3, 2006, at 6:48 AM, Mike Streeton wrote:

> Is there a way of altering the way lucene parses a default string  
> to use
> AND instead of OR, e.g. usually "joe bloggs" is executed as "joe OR
> bloggs", is there a flag to change this to "joe AND bloggs" which  
> seems
> to be the way most search engines work.
>
>
>
> Thanks
>
>
>
> Mike
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 15:40:42 2006
Return-Path: <java-user-return-18157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2020 invoked from network); 3 Jan 2006 15:40:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 15:40:42 -0000
Received: (qmail 54086 invoked by uid 500); 3 Jan 2006 15:40:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53967 invoked by uid 500); 3 Jan 2006 15:40:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53950 invoked by uid 99); 3 Jan 2006 15:40:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 07:40:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.18.25.230] (HELO mail.zooplus.de) (212.18.25.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 07:40:34 -0800
Received: from exchange2.home.zooplus.de (unknown [192.168.10.72])
	by mail.zooplus.de (Postfix) with ESMTP id B6CF7576AF
	for <java-user@lucene.apache.org>; Tue,  3 Jan 2006 16:40:12 +0100 (CET)
Received: by exchange2.home.zooplus.de with Internet Mail Service (5.5.2657.72)
	id <V3Q0QNN5>; Tue, 3 Jan 2006 16:40:12 +0100
Message-ID: <10361639FF4CA04ABB30F54683E4FB8505667681@exchange2.home.zooplus.de>
From: Steven Pannell <steven.pannell@zooplus.com>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Subject: RE: Switching default parsing for Or and AND
Date: Tue, 3 Jan 2006 16:40:12 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can do this, for example:

      QueryParser queryParser = new QueryParser(defaultField, new
StandardAnalyzer());
      queryParser.setOperator(QueryParser.DEFAULT_OPERATOR_AND)



-----Original Message-----
From: Mike Streeton [mailto:mike.streeton@ardentia.co.uk]
Sent: 03 January 2006 12:48
To: java-user@lucene.apache.org
Subject: Switching default parsing for Or and AND


Is there a way of altering the way lucene parses a default string to use
AND instead of OR, e.g. usually "joe bloggs" is executed as "joe OR
bloggs", is there a flag to change this to "joe AND bloggs" which seems
to be the way most search engines work.

 

Thanks

 

Mike


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 16:21:59 2006
Return-Path: <java-user-return-18158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24004 invoked from network); 3 Jan 2006 16:21:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 16:21:57 -0000
Received: (qmail 45917 invoked by uid 500); 3 Jan 2006 16:21:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45787 invoked by uid 500); 3 Jan 2006 16:21:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45646 invoked by uid 99); 3 Jan 2006 16:21:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 08:21:49 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.48.238] (HELO web52715.mail.yahoo.com) (206.190.48.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 03 Jan 2006 08:21:49 -0800
Received: (qmail 64739 invoked by uid 60001); 3 Jan 2006 16:21:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=hYy5jSs4hnDus35o/LUnUK/TkULS0fLfgAF6tQYC7J7aTZP2qRVbJBC+3gg2B9aJM1PrjGP6PUCo6nGOzNPyie7ZFWC5uwzPR0qIYfjEUVejMXNpei77izRh8LNR2fD4tSwIsB+8Qe74vd3e87vAEDa5TIxfFBTp4/GNQQG8WN4=  ;
Message-ID: <20060103162128.64737.qmail@web52715.mail.yahoo.com>
Received: from [84.162.76.34] by web52715.mail.yahoo.com via HTTP; Tue, 03 Jan 2006 08:21:28 PST
Date: Tue, 3 Jan 2006 08:21:28 -0800 (PST)
From: Klaus Hubert <klaus_hubert@yahoo.com>
Subject: boosting results with a field from the index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-889515681-1136305288=:63960"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-889515681-1136305288=:63960
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi and a Happy New Year!
 
I created a lucene index with 2 fields (text and importance). The text contains the real text and importance is a field where I manually give a number between 1 and 5 for the related document. When I search the index I find the documents with the highest revelancy weighted automatically by lucene. I'm just wondering if I can boost the results with the importance field I already have stored in the index. As I result I expect the same search results just weighted differently. Something like relevancy multiplied by importance.
 
Thank you so much,
 
  Klaus

		
---------------------------------
Yahoo! Photos
 Ring in the New Year with Photo Calendars. Add photos, events, holidays, whatever.
--0-889515681-1136305288=:63960--

From java-user-return-18159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 16:26:47 2006
Return-Path: <java-user-return-18159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27214 invoked from network); 3 Jan 2006 16:26:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 16:26:47 -0000
Received: (qmail 61503 invoked by uid 500); 3 Jan 2006 16:26:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61484 invoked by uid 500); 3 Jan 2006 16:26:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61473 invoked by uid 99); 3 Jan 2006 16:26:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 08:26:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 08:26:40 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D2CB8F@mailer.syr.edu>; Tue, 3 Jan 2006 11:26:19 -0500
Message-ID: <43BAA5B3.4070905@syr.edu>
Date: Tue, 03 Jan 2006 11:26:27 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: boosting results with a field from the index
References: <20060103162128.64737.qmail@web52715.mail.yahoo.com>
In-Reply-To: <20060103162128.64737.qmail@web52715.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Klaus,

You might want to just set the boost value of the Document using your 
importance number, then Lucene will factor that in automatically when 
scoring.  See the Document#setBoost javadoc for info.

You could also sort on the field, I think, so that the more important 
docs come to the top.

-Grant

Klaus Hubert wrote:

>Hi and a Happy New Year!
> 
>I created a lucene index with 2 fields (text and importance). The text contains the real text and importance is a field where I manually give a number between 1 and 5 for the related document. When I search the index I find the documents with the highest revelancy weighted automatically by lucene. I'm just wondering if I can boost the results with the importance field I already have stored in the index. As I result I expect the same search results just weighted differently. Something like relevancy multiplied by importance.
> 
>Thank you so much,
> 
>  Klaus
>
>		
>---------------------------------
>Yahoo! Photos
> Ring in the New Year with Photo Calendars. Add photos, events, holidays, whatever.
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 16:31:08 2006
Return-Path: <java-user-return-18160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29862 invoked from network); 3 Jan 2006 16:31:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 16:31:08 -0000
Received: (qmail 69527 invoked by uid 500); 3 Jan 2006 16:31:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69441 invoked by uid 500); 3 Jan 2006 16:31:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69379 invoked by uid 99); 3 Jan 2006 16:31:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 08:31:00 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 08:30:58 -0800
Received: by zproxy.gmail.com with SMTP id x7so2515027nzc
        for <java-user@lucene.apache.org>; Tue, 03 Jan 2006 08:30:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=AnC6tCUBZbKbjTGYDMp12TRuyk2k1Qm7jRej+XFaCASCZfn6FchuCOdP8toVVPBbcLlgZyRIc5prSAzxyI8gNuYMh/69/JoxwDRZxDRIBVOnpijJMhjhs07ckVjBzLbPj4KCAe7OGZNwH3/HPtjgCRMBSKWtFvxDsnG71qemgqE=
Received: by 10.65.119.13 with SMTP id w13mr506359qbm;
        Tue, 03 Jan 2006 08:30:37 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Tue, 3 Jan 2006 08:30:37 -0800 (PST)
Message-ID: <c68e39170601030830v1b0f4242r156c3767b382265c@mail.gmail.com>
Date: Tue, 3 Jan 2006 11:30:37 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: boosting results with a field from the index
In-Reply-To: <20060103162128.64737.qmail@web52715.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060103162128.64737.qmail@web52715.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Take a look at FunctionQuery
http://issues.apache.org/jira/browse/LUCENE-446

It can do relevancy+importance, but not relevancy*importance with the
provided classes.  It shouldn't be too hard to do the multiplication
though.

You could also boost the field or document at index time.  That gives
you what you want, but it's fixed at indexing time and can't be
changed per-query.

-Yonik


On 1/3/06, Klaus Hubert <klaus_hubert@yahoo.com> wrote:
> Hi and a Happy New Year!
>
> I created a lucene index with 2 fields (text and importance). The text co=
ntains the real text and importance is a field where I manually give a numb=
er between 1 and 5 for the related document. When I search the index I find=
 the documents with the highest revelancy weighted automatically by lucene.=
 I'm just wondering if I can boost the results with the importance field I =
already have stored in the index. As I result I expect the same search resu=
lts just weighted differently. Something like relevancy multiplied by impor=
tance.
>
> Thank you so much,
>
>   Klaus
>
>
> ---------------------------------
> Yahoo! Photos
>  Ring in the New Year with Photo Calendars. Add photos, events, holidays,=
 whatever.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 03 16:38:24 2006
Return-Path: <java-user-return-18161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35273 invoked from network); 3 Jan 2006 16:38:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Jan 2006 16:38:24 -0000
Received: (qmail 88965 invoked by uid 500); 3 Jan 2006 16:38:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88941 invoked by uid 500); 3 Jan 2006 16:38:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88930 invoked by uid 99); 3 Jan 2006 16:38:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 08:38:17 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.48.228] (HELO web52705.mail.yahoo.com) (206.190.48.228)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 03 Jan 2006 08:38:16 -0800
Received: (qmail 71080 invoked by uid 60001); 3 Jan 2006 16:37:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=fhHQl1dbGegtyVnzEkW5iEpTjjGpkoiYLdsIHnwuZZBQB/3x3Ksw/Ob48XxRa59yxCB7h8z5ya0t/54bcQutITj0ltPd1hs8Wsyb80hCNWLAj5+auyjuQNzE5HgAlPsv70eaGKRyDa+bci9H3FyBqcz2c5CUjaF2nHF1GsyBYOc=  ;
Message-ID: <20060103163755.71078.qmail@web52705.mail.yahoo.com>
Received: from [84.162.76.34] by web52705.mail.yahoo.com via HTTP; Tue, 03 Jan 2006 08:37:55 PST
Date: Tue, 3 Jan 2006 08:37:55 -0800 (PST)
From: Klaus Hubert <klaus_hubert@yahoo.com>
Subject: RE: boosting results with a field from the index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Wow, that was fast :-)

Right, why haven't I came up with the idea on just
sorting the results by
importance... Lol...

OK, I will test both solutions and see what I like
best. Such a great piece
for software...

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu] 
Sent: Tuesday, January 03, 2006 5:26 PM
To: java-user@lucene.apache.org
Subject: Re: boosting results with a field from the
index

Hi Klaus,

You might want to just set the boost value of the
Document using your 
importance number, then Lucene will factor that in
automatically when 
scoring.  See the Document#setBoost javadoc for info.

You could also sort on the field, I think, so that the
more important 
docs come to the top.

-Grant

Klaus Hubert wrote:

>Hi and a Happy New Year!
> 
>I created a lucene index with 2 fields (text and
importance). The text
contains the real text and importance is a field where
I manually give a
number between 1 and 5 for the related document. When
I search the index I
find the documents with the highest revelancy weighted
automatically by
lucene. I'm just wondering if I can boost the results
with the importance
field I already have stored in the index. As I result
I expect the same
search results just weighted differently. Something
like relevancy
multiplied by importance.
> 
>Thank you so much,
> 
>  Klaus
>
>		
>---------------------------------
>Yahoo! Photos
> Ring in the New Year with Photo Calendars. Add
photos, events, holidays,
whatever.
>  
>

-- 
-------------------------------------------------------------------

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail:
java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail:
java-user-help@lucene.apache.org




		
__________________________________________ 
Yahoo! DSL  Something to write home about. 
Just $16.99/mo. or less. 
dsl.yahoo.com 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 03:45:22 2006
Return-Path: <java-user-return-18162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65329 invoked from network); 4 Jan 2006 03:45:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 03:45:22 -0000
Received: (qmail 79242 invoked by uid 500); 4 Jan 2006 03:45:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78269 invoked by uid 500); 4 Jan 2006 03:45:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78250 invoked by uid 99); 4 Jan 2006 03:45:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 19:45:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.46] (HELO mail.mi8.com) (63.240.6.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 19:45:16 -0800
Received: from 172.16.1.24 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D2)); Tue, 03 Jan 2006 22:44:47 -0500
X-Server-Uuid: 7829E76E-BB9E-4995-8473-3C0929DF7DD1
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.162]) by
 d01smtp03.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Tue, 3 Jan
 2006 22:44:47 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: OT: how do I connect to the SVN repository to grab the latest
 source?
Date: Tue, 3 Jan 2006 22:44:55 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F7140308FB3828@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: OT: how do I connect to the SVN repository to grab the
 latest source?
Thread-Index: AcYQ4TnORB6tq3NJRUihpel+LTz3mw==
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 04 Jan 2006 03:44:47.0170 (UTC)
 FILETIME=[35215220:01C610E1]
X-WSS-ID: 6FA59B253TO6251180-01-01
Content-Type: multipart/alternative;
 boundary="----_=_NextPart_001_01C610E1.34F04150"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C610E1.34F04150
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Normally I wouldn't post this here, but I haven't been able to find any
info about how I would go about downloading the latest source from the
SVN repository. I've got a bit of experience with CVS, but I can't even
=66igure out where to start with SVN.
=20
If anyone could point me in the right direction I'd appreciate it (we
could do it offline to avoid polluting this list any further).
=20
Thanks
=20
Colin Young

Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.

------_=_NextPart_001_01C610E1.34F04150--


From java-user-return-18163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 05:12:36 2006
Return-Path: <java-user-return-18163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92864 invoked from network); 4 Jan 2006 05:12:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 05:12:36 -0000
Received: (qmail 50808 invoked by uid 500); 4 Jan 2006 05:12:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50781 invoked by uid 500); 4 Jan 2006 05:12:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50770 invoked by uid 99); 4 Jan 2006 05:12:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 21:12:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.48] (HELO mta08-winn.ispmail.ntl.com) (81.103.221.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 21:12:28 -0800
Received: from aamta10-winn.ispmail.ntl.com ([81.103.221.35])
          by mta08-winn.ispmail.ntl.com with ESMTP
          id <20060104051206.JAAC17804.mta08-winn.ispmail.ntl.com@aamta10-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>; Wed, 4 Jan 2006 05:12:06 +0000
Received: from jhi ([81.98.13.34]) by aamta10-winn.ispmail.ntl.com
          with SMTP
          id <20060104051205.NCHV1068.aamta10-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>; Wed, 4 Jan 2006 05:12:05 +0000
Message-ID: <002901c610ed$6aa17ea0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <3AF76382C31760418AF0FBFD84F7140308FB3828@MI8NYCMAIL07.Mi8.com>
Subject: Re: how do I connect to the SVN repository to grab the latest source?
Date: Wed, 4 Jan 2006 05:12:08 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

if your using windows just download subversion from subversion.tigris.org 
and install it - then just enter the command found on the lucene homepage or 
wiki :) via the command input (i.e. cmd), pretty much the same for linux i 
guess

_gk

----- Original Message ----- 
From: "Colin Young" <Colin.Young@tembizi.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, January 04, 2006 3:44 AM
Subject: OT: how do I connect to the SVN repository to grab the latest 
source?


Normally I wouldn't post this here, but I haven't been able to find any
info about how I would go about downloading the latest source from the
SVN repository. I've got a bit of experience with CVS, but I can't even
figure out where to start with SVN.

If anyone could point me in the right direction I'd appreciate it (we
could do it offline to avoid polluting this list any further).

Thanks

Colin Young

Notice: This email message is for the sole use of the intended recipient(s) 
and may contain confidential and privileged information. Any unauthorized 
review, use, disclosure or distribution is prohibited. If you are not the 
intended recipient, please contact the sender by reply email and destroy all 
copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 06:34:40 2006
Return-Path: <java-user-return-18164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28158 invoked from network); 4 Jan 2006 06:34:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 06:34:40 -0000
Received: (qmail 32232 invoked by uid 500); 4 Jan 2006 06:34:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32195 invoked by uid 500); 4 Jan 2006 06:34:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32184 invoked by uid 99); 4 Jan 2006 06:34:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 22:34:34 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of davekor@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 22:34:33 -0800
Received: by wproxy.gmail.com with SMTP id i7so418618wra
        for <java-user@lucene.apache.org>; Tue, 03 Jan 2006 22:34:12 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=O5yB2wbgV5HFDCBZcT7yQ9TqIvc4X1NG6xQvdb/2TPQEVoVkTecn/GZiVDWMC0fTK5l1soJ0DGu7v/cF9iZ4RrkFRjitgeWTu/l/Px5mG8ACTGCOrorir242/xcQ9ViL7fsH8mFefbvtX8sdpei3ebHREhJB6ZArRWRFHS9KiI4=
Received: by 10.54.158.2 with SMTP id g2mr819166wre;
        Tue, 03 Jan 2006 22:33:28 -0800 (PST)
Received: by 10.54.129.3 with HTTP; Tue, 3 Jan 2006 22:34:12 -0800 (PST)
Message-ID: <901c03930601032234s57b2c19bi4d32ad7ce8ccb220@mail.gmail.com>
Date: Wed, 4 Jan 2006 14:34:12 +0800
From: Dave Kor <davekor@gmail.com>
To: java-user@lucene.apache.org
Subject: Good representation for part-of-speech, chunk, sentence boundary tags?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18975_21179780.1136356452099"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18975_21179780.1136356452099
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

  I would like to associate information (or labels) with each word or a
range of words in a document. Information such as this word is a noun, that
word is a verb, this period marks the end of a sentence, "kick the bucket"
is a contiguous phrase, "white house" is a location and so on. I am seeking
a good representation for such information so that they can be easily store=
d
as additional fields in a lucene document, and easily recovered after a
search. For the more technically inclined, this would allow me to store
part-of-speech tags, chunk tags, sentence boundary markers and parse trees
for every indexed document.

  These additional information will enable Lucene to perform additional
post-processing on retrieved documents for various purposes such as
information extraction, summarization, question answering, etc... Is there
any available api? If not, I would appreciate any suggestions and tips on
how such information can best be stored in a Lucene document.


Regards,
Dave.

------=_Part_18975_21179780.1136356452099--

From java-user-return-18165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 07:19:23 2006
Return-Path: <java-user-return-18165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50969 invoked from network); 4 Jan 2006 07:19:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 07:19:23 -0000
Received: (qmail 67851 invoked by uid 500); 4 Jan 2006 07:19:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67379 invoked by uid 500); 4 Jan 2006 07:19:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67365 invoked by uid 99); 4 Jan 2006 07:19:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 23:19:15 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lukas.vlcek@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jan 2006 23:19:12 -0800
Received: by zproxy.gmail.com with SMTP id n29so4291266nzf
        for <java-user@lucene.apache.org>; Tue, 03 Jan 2006 23:18:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=XI5bQ21jTEeyM5EjeWYCIE5sSxCeRnwG9XO9IUj2VJPBJjDJLDNnaTcEE7MAIQUmSrwUg1vCHa3Qv2yOu3USnthkeSx11Bvi0PByAGcgQQD8/iNM/A419wboIaLto2RcEzdmeuL7KbRi83Hk/EpKqBZ5Apj9ZUfh0JA+8SNxiBE=
Received: by 10.65.119.13 with SMTP id w13mr707726qbm;
        Tue, 03 Jan 2006 23:18:51 -0800 (PST)
Received: by 10.65.249.6 with HTTP; Tue, 3 Jan 2006 23:18:51 -0800 (PST)
Message-ID: <52c3ddca0601032318t3e67d217he6b997ff5b2ece41@mail.gmail.com>
Date: Wed, 4 Jan 2006 08:18:51 +0100
From: Lukas Vlcek <lukas.vlcek@gmail.com>
Reply-To: java-user@lucene.apache.org
To: java-user@lucene.apache.org
Subject: Re: how do I connect to the SVN repository to grab the latest source?
In-Reply-To: <002901c610ed$6aa17ea0$b900a8c0@jhi>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <3AF76382C31760418AF0FBFD84F7140308FB3828@MI8NYCMAIL07.Mi8.com>
	 <002901c610ed$6aa17ea0$b900a8c0@jhi>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I use the following url:
http://svn.apache.org/repos/asf/lucene/java/trunk
and it works well for me.

Lukas

On 1/4/06, gekkokid <me@gekkokid.org.uk> wrote:
> if your using windows just download subversion from subversion.tigris.org
> and install it - then just enter the command found on the lucene homepage=
 or
> wiki :) via the command input (i.e. cmd), pretty much the same for linux =
i
> guess
>
> _gk
>
> ----- Original Message -----
> From: "Colin Young" <Colin.Young@tembizi.com>
> To: <java-user@lucene.apache.org>
> Sent: Wednesday, January 04, 2006 3:44 AM
> Subject: OT: how do I connect to the SVN repository to grab the latest
> source?
>
>
> Normally I wouldn't post this here, but I haven't been able to find any
> info about how I would go about downloading the latest source from the
> SVN repository. I've got a bit of experience with CVS, but I can't even
> figure out where to start with SVN.
>
> If anyone could point me in the right direction I'd appreciate it (we
> could do it offline to avoid polluting this list any further).
>
> Thanks
>
> Colin Young
>
> Notice: This email message is for the sole use of the intended recipient(=
s)
> and may contain confidential and privileged information. Any unauthorized
> review, use, disclosure or distribution is prohibited. If you are not the
> intended recipient, please contact the sender by reply email and destroy =
all
> copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 09:21:52 2006
Return-Path: <java-user-return-18166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8123 invoked from network); 4 Jan 2006 09:21:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 09:21:51 -0000
Received: (qmail 79900 invoked by uid 500); 4 Jan 2006 09:21:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79876 invoked by uid 500); 4 Jan 2006 09:21:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79865 invoked by uid 99); 4 Jan 2006 09:21:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 01:21:45 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO zproxy.gmail.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 01:21:44 -0800
Received: by zproxy.gmail.com with SMTP id 13so2969821nzn
        for <java-user@lucene.apache.org>; Wed, 04 Jan 2006 01:21:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PmFfDYQ1i8BWMxFz+6Gfcc7jQrOsIQiqRj8SgBJDMoyRBA7EM1wSGRxIZyTEDOnOlOSMl3uBHHTpDdjCcTao+bpgO+UFTHsiDK9tq9ambJAUyTiOzGuF5+sOfhb2GsGMVdy4K0YFdpb0Pk/070TSxboqsKkG7CVb0gEe0YtKLKQ=
Received: by 10.65.197.10 with SMTP id z10mr717208qbp;
        Wed, 04 Jan 2006 01:21:33 -0800 (PST)
Received: by 10.64.149.12 with HTTP; Wed, 4 Jan 2006 01:21:33 -0800 (PST)
Message-ID: <4f9b23800601040121r7c51b019s@mail.gmail.com>
Date: Wed, 4 Jan 2006 09:21:33 +0000
From: Patrick Kimber <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: OT: how do I connect to the SVN repository to grab the latest source?
In-Reply-To: <3AF76382C31760418AF0FBFD84F7140308FB3828@MI8NYCMAIL07.Mi8.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <3AF76382C31760418AF0FBFD84F7140308FB3828@MI8NYCMAIL07.Mi8.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Colin
Did you get some help?

Are you using Windows?  If so, you can install TortoiseSVN which is a
shell extension:
http://tortoisesvn.tigris.org/

If you are using Windows or Linux you can use SmartSVN
http://www.smartcvs.com/smartsvn/

The url for Lucene on SVN is:
http://svn.apache.org/repos/asf/lucene/java/trunk

If you want to learn all about SubVersion (SVN), the best source of
information is the SubVersion book:
http://svnbook.red-bean.com/

Hope this helps
Patrick

On 04/01/06, Colin Young <Colin.Young@tembizi.com> wrote:
> Normally I wouldn't post this here, but I haven't been able to find any
> info about how I would go about downloading the latest source from the
> SVN repository. I've got a bit of experience with CVS, but I can't even
> figure out where to start with SVN.
>
> If anyone could point me in the right direction I'd appreciate it (we
> could do it offline to avoid polluting this list any further).
>
> Thanks
>
> Colin Young
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 12:27:49 2006
Return-Path: <java-user-return-18167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87536 invoked from network); 4 Jan 2006 12:27:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 12:27:48 -0000
Received: (qmail 88688 invoked by uid 500); 4 Jan 2006 12:27:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88662 invoked by uid 500); 4 Jan 2006 12:27:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88651 invoked by uid 99); 4 Jan 2006 12:27:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 04:27:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.46] (HELO mail.mi8.com) (63.240.6.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 04:27:40 -0800
Received: from 172.16.1.112 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D2)); Wed, 04 Jan 2006 07:27:17 -0500
X-Server-Uuid: 7829E76E-BB9E-4995-8473-3C0929DF7DD1
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.162]) by
 D01SMTP02.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Wed, 4 Jan
 2006 07:27:17 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: OT: how do I connect to the SVN repository to grab the
 latest source?
Date: Wed, 4 Jan 2006 07:27:26 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F7140308FB396D@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: OT: how do I connect to the SVN repository to grab the
 latest source?
Thread-Index: AcYREFMGsPCTPM+XSym8oJr27bI3PgAGYlIw
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 04 Jan 2006 12:27:17.0776 (UTC)
 FILETIME=[338C2900:01C6112A]
X-WSS-ID: 6FA560AF3TO6500801-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks to everyone for the help. It appears to be working now. I
probably should have mentioned that I already had TortoiseSVN installed,
and was having trouble with finding the correct URL. I'm sure now when I
go back to the Lucene home page it will be blindingly obvious...

Thanks

Colin

Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 12:54:09 2006
Return-Path: <java-user-return-18168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98135 invoked from network); 4 Jan 2006 12:54:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 12:54:08 -0000
Received: (qmail 11101 invoked by uid 500); 4 Jan 2006 12:54:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11072 invoked by uid 500); 4 Jan 2006 12:54:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11061 invoked by uid 99); 4 Jan 2006 12:54:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 04:54:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.21] (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 04:54:02 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.13.3/8.13.3) with ESMTP id k04CrpuK047409
	for <java-user@lucene.apache.org>; Wed, 4 Jan 2006 13:53:51 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Good representation for part-of-speech, chunk, sentence boundary tags?
Date: Wed, 4 Jan 2006 13:53:51 +0100
User-Agent: KMail/1.8.2
References: <901c03930601032234s57b2c19bi4d32ad7ce8ccb220@mail.gmail.com>
In-Reply-To: <901c03930601032234s57b2c19bi4d32ad7ce8ccb220@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601041353.51091.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 04 January 2006 07:34, Dave Kor wrote:
> Hi,
> 
>   I would like to associate information (or labels) with each word or a
> range of words in a document. Information such as this word is a noun, that
> word is a verb, this period marks the end of a sentence, "kick the bucket"
> is a contiguous phrase, "white house" is a location and so on. I am seeking
> a good representation for such information so that they can be easily stored
> as additional fields in a lucene document, and easily recovered after a
> search. For the more technically inclined, this would allow me to store
> part-of-speech tags, chunk tags, sentence boundary markers and parse trees
> for every indexed document.
> 
>   These additional information will enable Lucene to perform additional
> post-processing on retrieved documents for various purposes such as
> information extraction, summarization, question answering, etc... Is there
> any available api? If not, I would appreciate any suggestions and tips on
> how such information can best be stored in a Lucene document.

Basically, the index information available in Lucene is the Term, which is a
combination of a field name and a token. For these Lucene indexes
document presence and all positions within a document.  Lucene also
indexes the field length as a norm.
By using one ore more extra fields the tags and sentence boundary markers
can be easily indexed at their positions. To search these have a look at the
span package.
In case you want to search for tokens combined with some (part of speech)
tag, and the tokens and their tags are in different fields, the span package
is not sufficient, because it does not allow position search over different
fields.
One use for positions as sentence boundary markers is to leave
gaps at the sentence boundaries. This can safely be done when the
slop (allowed distance) in the queries is always smaller than this gap.

Parse trees carry (much) more information, and these will not be easy to map
to Lucene, but it all depends on the searches you want to support.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 13:15:13 2006
Return-Path: <java-user-return-18169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8012 invoked from network); 4 Jan 2006 13:15:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 13:15:11 -0000
Received: (qmail 44644 invoked by uid 500); 4 Jan 2006 13:15:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44617 invoked by uid 500); 4 Jan 2006 13:15:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44606 invoked by uid 99); 4 Jan 2006 13:15:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 05:15:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 05:15:03 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D200F13E2005; Wed,  4 Jan 2006 08:14:52 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 2E49213E2005
	for <java-user@lucene.apache.org>; Wed,  4 Jan 2006 08:14:46 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <200601041353.51091.paul.elschot@xs4all.nl>
References: <901c03930601032234s57b2c19bi4d32ad7ce8ccb220@mail.gmail.com> <200601041353.51091.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E43941FA-6B7C-4159-A167-65DBB2EBC44C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Good representation for part-of-speech, chunk, sentence boundary tags?
Date: Wed, 4 Jan 2006 08:14:34 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 4, 2006, at 7:53 AM, Paul Elschot wrote:

> On Wednesday 04 January 2006 07:34, Dave Kor wrote:
>> Hi,
>>
>>   I would like to associate information (or labels) with each word  
>> or a
>> range of words in a document. Information such as this word is a  
>> noun, that
>> word is a verb, this period marks the end of a sentence, "kick the  
>> bucket"
>> is a contiguous phrase, "white house" is a location and so on. I  
>> am seeking
>> a good representation for such information so that they can be  
>> easily stored
>> as additional fields in a lucene document, and easily recovered  
>> after a
>> search. For the more technically inclined, this would allow me to  
>> store
>> part-of-speech tags, chunk tags, sentence boundary markers and  
>> parse trees
>> for every indexed document.
>>
>>   These additional information will enable Lucene to perform  
>> additional
>> post-processing on retrieved documents for various purposes such as
>> information extraction, summarization, question answering, etc...  
>> Is there
>> any available api? If not, I would appreciate any suggestions and  
>> tips on
>> how such information can best be stored in a Lucene document.
>
> Basically, the index information available in Lucene is the Term,  
> which is a
> combination of a field name and a token. For these Lucene indexes
> document presence and all positions within a document.  Lucene also
> indexes the field length as a norm.
> By using one ore more extra fields the tags and sentence boundary  
> markers
> can be easily indexed at their positions. To search these have a  
> look at the
> span package.
> In case you want to search for tokens combined with some (part of  
> speech)
> tag, and the tokens and their tags are in different fields, the  
> span package
> is not sufficient, because it does not allow position search over  
> different
> fields.

Paul - I'm interested in this topic myself.  Suppose the "text" field  
is indexed but also entities are detected like names and places.   
Suppose I'd like a query that was "all names that have the initials  
EH in the text field" (where we could identify EH names by doing a  
SpanRegexQuery for "E.* H.*".

I've been pondering whether it makes sense for Lucene to be enhanced  
to carry over a Token's type into the index such that it could factor  
into the query also.

Thoughts?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 14:06:03 2006
Return-Path: <java-user-return-18170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39020 invoked from network); 4 Jan 2006 14:05:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 14:05:45 -0000
Received: (qmail 34411 invoked by uid 500); 4 Jan 2006 14:05:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34351 invoked by uid 500); 4 Jan 2006 14:05:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34294 invoked by uid 99); 4 Jan 2006 14:05:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 06:05:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 06:05:24 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D358B5@mailer.syr.edu>; Wed, 4 Jan 2006 9:05:12 -0500
Message-ID: <43BBD618.6060307@syr.edu>
Date: Wed, 04 Jan 2006 09:05:12 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Good representation for part-of-speech, chunk, sentence boundary
 tags?
References: <901c03930601032234s57b2c19bi4d32ad7ce8ccb220@mail.gmail.com> <200601041353.51091.paul.elschot@xs4all.nl> <E43941FA-6B7C-4159-A167-65DBB2EBC44C@ehatchersolutions.com>
In-Reply-To: <E43941FA-6B7C-4159-A167-65DBB2EBC44C@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We tend to store this information externally in XML (or in a stored 
field), but that is probably more of an artifact of our other uses of 
the information outside of Lucene than any shortcoming in Lucene.

A few of us on the list had some ideas on sentence boundary storage 
here: 
http://www.mail-archive.com/java-user@lucene.apache.org/msg03694.html.  
You could do similar things with some of the other information I 
suspect.  Don't know a lot about how it works, but I think you might be 
able to leverage the fact that you can store multiple tokens at the same 
position.  For instance, you may be able to add the POS of label at the 
same position as the term.  Perhaps Erik could add whether this works or not

-Grant

Erik Hatcher wrote:

>
> On Jan 4, 2006, at 7:53 AM, Paul Elschot wrote:
>
>> On Wednesday 04 January 2006 07:34, Dave Kor wrote:
>>
>>> Hi,
>>>
>>>   I would like to associate information (or labels) with each word  
>>> or a
>>> range of words in a document. Information such as this word is a  
>>> noun, that
>>> word is a verb, this period marks the end of a sentence, "kick the  
>>> bucket"
>>> is a contiguous phrase, "white house" is a location and so on. I  am 
>>> seeking
>>> a good representation for such information so that they can be  
>>> easily stored
>>> as additional fields in a lucene document, and easily recovered  
>>> after a
>>> search. For the more technically inclined, this would allow me to  
>>> store
>>> part-of-speech tags, chunk tags, sentence boundary markers and  
>>> parse trees
>>> for every indexed document.
>>>
>>>   These additional information will enable Lucene to perform  
>>> additional
>>> post-processing on retrieved documents for various purposes such as
>>> information extraction, summarization, question answering, etc...  
>>> Is there
>>> any available api? If not, I would appreciate any suggestions and  
>>> tips on
>>> how such information can best be stored in a Lucene document.
>>
>>
>> Basically, the index information available in Lucene is the Term,  
>> which is a
>> combination of a field name and a token. For these Lucene indexes
>> document presence and all positions within a document.  Lucene also
>> indexes the field length as a norm.
>> By using one ore more extra fields the tags and sentence boundary  
>> markers
>> can be easily indexed at their positions. To search these have a  
>> look at the
>> span package.
>> In case you want to search for tokens combined with some (part of  
>> speech)
>> tag, and the tokens and their tags are in different fields, the  span 
>> package
>> is not sufficient, because it does not allow position search over  
>> different
>> fields.
>
>
> Paul - I'm interested in this topic myself.  Suppose the "text" field  
> is indexed but also entities are detected like names and places.   
> Suppose I'd like a query that was "all names that have the initials  
> EH in the text field" (where we could identify EH names by doing a  
> SpanRegexQuery for "E.* H.*".
>
> I've been pondering whether it makes sense for Lucene to be enhanced  
> to carry over a Token's type into the index such that it could factor  
> into the query also.
>
> Thoughts?
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 14:06:28 2006
Return-Path: <java-user-return-18171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39344 invoked from network); 4 Jan 2006 14:06:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 14:06:08 -0000
Received: (qmail 36715 invoked by uid 500); 4 Jan 2006 14:05:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36693 invoked by uid 500); 4 Jan 2006 14:05:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36677 invoked by uid 99); 4 Jan 2006 14:05:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 06:05:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.33] (HELO smtp-vbr13.xs4all.nl) (194.109.24.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 06:05:48 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.13.3/8.13.3) with ESMTP id k04E5aC9086646
	for <java-user@lucene.apache.org>; Wed, 4 Jan 2006 15:05:37 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Good representation for part-of-speech, chunk, sentence boundary tags?
Date: Wed, 4 Jan 2006 15:05:35 +0100
User-Agent: KMail/1.8.2
References: <901c03930601032234s57b2c19bi4d32ad7ce8ccb220@mail.gmail.com> <200601041353.51091.paul.elschot@xs4all.nl> <E43941FA-6B7C-4159-A167-65DBB2EBC44C@ehatchersolutions.com>
In-Reply-To: <E43941FA-6B7C-4159-A167-65DBB2EBC44C@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601041505.36008.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 04 January 2006 14:14, Erik Hatcher wrote:
> 
> On Jan 4, 2006, at 7:53 AM, Paul Elschot wrote:
> 
> > On Wednesday 04 January 2006 07:34, Dave Kor wrote:
> >> Hi,
> >>
...
> >>
> >>   These additional information will enable Lucene to perform  
> >> additional
> >> post-processing on retrieved documents for various purposes such as
> >> information extraction, summarization, question answering, etc...  
> >> Is there
> >> any available api? If not, I would appreciate any suggestions and  
> >> tips on
> >> how such information can best be stored in a Lucene document.
> >
> > Basically, the index information available in Lucene is the Term,  
> > which is a
> > combination of a field name and a token. For these Lucene indexes
> > document presence and all positions within a document.  Lucene also
> > indexes the field length as a norm.
> > By using one ore more extra fields the tags and sentence boundary  
> > markers
> > can be easily indexed at their positions. To search these have a  
> > look at the
> > span package.
> > In case you want to search for tokens combined with some (part of  
> > speech)
> > tag, and the tokens and their tags are in different fields, the  
> > span package
> > is not sufficient, because it does not allow position search over  
> > different
> > fields.
> 
> Paul - I'm interested in this topic myself.  Suppose the "text" field  
> is indexed but also entities are detected like names and places.   
> Suppose I'd like a query that was "all names that have the initials  
> EH in the text field" (where we could identify EH names by doing a  
> SpanRegexQuery for "E.* H.*".
> 
> I've been pondering whether it makes sense for Lucene to be enhanced  
> to carry over a Token's type into the index such that it could factor  
> into the query also.
> 
> Thoughts?

When the token type is a (small) integer, it could be stored in
addition to the indexed position as additional information in the
proximity index.
The document level  index could also be extended to
to be able to find the documents containing this typed token.

Part of speech tags would map nicely to this token type.
In the (recent) past there has been talk of structured fields and
sentence/paragraph level fields, but I don't recall details of
intended implementations.

Sentence/paragraph level fields are probably better handled by
extra proximity indexes for the same field, ie. without repeating
the term index. For this the document level index would need
a pointer into each proximity index, currently it has only one
pointer into the only proximity index.
When there are only a few types/tags, each of them could be
mapped to a level like this.

So there are (at least) two independent possibilities:
- store type/tag info in the proximity index, and maybe allow
  searching this on document level.
- add more proximity indexes for the same field.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 15:20:32 2006
Return-Path: <java-user-return-18172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82787 invoked from network); 4 Jan 2006 15:20:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 15:20:32 -0000
Received: (qmail 83446 invoked by uid 500); 4 Jan 2006 15:20:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83417 invoked by uid 500); 4 Jan 2006 15:20:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83404 invoked by uid 99); 4 Jan 2006 15:20:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 07:20:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.20.56.74] (HELO mail.synechron.com) (69.20.56.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 07:20:23 -0800
Received: from [10.31.4.40] [220.225.40.2] by mail.synechron.com with ESMTP
  (SMTPD32-8.15) id A79E152700CC; Wed, 04 Jan 2006 10:19:58 -0500
Message-ID: <43BBE7D6.4090304@synechron.com>
Date: Wed, 04 Jan 2006 20:50:54 +0530
From: Amol Bhutada <amolb@synechron.com>
User-Agent: Mozilla Thunderbird 1.0RC1 (X11/20041209)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: indexreader refresh
References: <43B56809.3010904@insideview.com> <7A43A249-FC36-4950-A4BF-84B5D5F3FEAA@ehatchersolutions.com> <43B6837C.5030901@yahoo.co.uk> <43B8D5C1.70109@insideview.com> <Pine.LNX.4.58.0601012343520.29580@hal.rescomp.berkeley.edu> <43BA01F5.20106@insideview.com>
In-Reply-To: <43BA01F5.20106@insideview.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-IMSTrailer: __IMail_7__
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If I have a reader and searcher on a indexdata folder and another 
indexwriter writing documents to the same indexdata folder, do I need to 
close existing reader and searcher and create new so that newly indexed 
data comes into search effect?

I have checked through google, got some pointers but some important 
links are not opening now, so If you can give me a pointer or clear 
picture about this it will be great.

I am looking at implementing lucene searching for a site having millions 
of user records so even looking for best way to keep my indexes uptodate 
while searching is going on.

thanks
Amol


--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are confidential and the views expressed in the same are not necessarily the views of Synechron, and its Directors, Management or Employees. This communication represents the originator's personal views and opinions. If you are not the intended recipient or the person responsible for delivering the e-mail to the intended recipient, be advised that you have received this e-mail by error, and that any use, dissemination, forwarding, printing, or copying of this e-mail is strictly prohibited. You shall be under obligation to keep the contents of this e-mail, strictly confidential and shall not disclose, disseminate or divulge the same to any Person, Company, Firm or Entity. Even though Synechron uses up-to-date virus checking software to scan it's emails please ensure you have adequate virus protection before you open or detach any documents from this transmission. Synechron does not accept any liability for viruses 
 or vulnerabilities. The rights to monitor all e-mail communication through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 15:23:30 2006
Return-Path: <java-user-return-18173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84574 invoked from network); 4 Jan 2006 15:23:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 15:23:30 -0000
Received: (qmail 91240 invoked by uid 500); 4 Jan 2006 15:23:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91118 invoked by uid 500); 4 Jan 2006 15:23:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91067 invoked by uid 99); 4 Jan 2006 15:23:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 07:23:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 07:23:21 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: indexreader refresh
Date: Wed, 4 Jan 2006 09:22:12 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2915E747@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexreader refresh
Thread-Index: AcYRQkTRqCfd1CNARJ+hjS4FJsA4kQAADS4Q
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ya, you'll want to close and open your open searcher.

I have the indexer create random directories to work in. then when the
indexing is done it assigns the searcher a new location and fires off
the "close/open" command to the searcher.   =20

-----Original Message-----
From: Amol Bhutada [mailto:amolb@synechron.com]=20
Sent: Wednesday, January 04, 2006 9:21 AM
To: java-user@lucene.apache.org
Subject: indexreader refresh

If I have a reader and searcher on a indexdata folder and another=20
indexwriter writing documents to the same indexdata folder, do I need to

close existing reader and searcher and create new so that newly indexed=20
data comes into search effect?

I have checked through google, got some pointers but some important=20
links are not opening now, so If you can give me a pointer or clear=20
picture about this it will be great.

I am looking at implementing lucene searching for a site having millions

of user records so even looking for best way to keep my indexes uptodate

while searching is going on.

thanks
Amol


--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are
confidential and the views expressed in the same are not necessarily the
views of Synechron, and its Directors, Management or Employees. This
communication represents the originator's personal views and opinions.
If you are not the intended recipient or the person responsible for
delivering the e-mail to the intended recipient, be advised that you
have received this e-mail by error, and that any use, dissemination,
forwarding, printing, or copying of this e-mail is strictly prohibited.
You shall be under obligation to keep the contents of this e-mail,
strictly confidential and shall not disclose, disseminate or divulge the
same to any Person, Company, Firm or Entity. Even though Synechron uses
up-to-date virus checking software to scan it's emails please ensure you
have adequate virus protection before you open or detach any documents
from this transmission. Synechron does not accept any liability for
viruses=20
 or vulnerabilities. The rights to monitor all e-mail communication
through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 15:28:54 2006
Return-Path: <java-user-return-18174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87666 invoked from network); 4 Jan 2006 15:28:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 15:28:54 -0000
Received: (qmail 895 invoked by uid 500); 4 Jan 2006 15:28:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 867 invoked by uid 500); 4 Jan 2006 15:28:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 853 invoked by uid 99); 4 Jan 2006 15:28:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 07:28:48 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 07:28:47 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k04FSSQq021641
	for <java-user@lucene.apache.org>; Wed, 4 Jan 2006 16:28:28 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200601041528.k04FSSQq021641@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: indexreader refresh
Date: Wed, 4 Jan 2006 16:28:23 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYRQmqQIOO9FRqQSyq399LAEjiRJgAAOZoQ
In-Reply-To: <43BBE7D6.4090304@synechron.com>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Amol,
Yeah you should close reader to get updated index into effect.


Regards,
Jelda 

-----Original Message-----
From: Amol Bhutada [mailto:amolb@synechron.com] 
Sent: Wednesday, January 04, 2006 4:21 PM
To: java-user@lucene.apache.org
Subject: indexreader refresh

If I have a reader and searcher on a indexdata folder and another
indexwriter writing documents to the same indexdata folder, do I need to
close existing reader and searcher and create new so that newly indexed data
comes into search effect?

I have checked through google, got some pointers but some important links
are not opening now, so If you can give me a pointer or clear picture about
this it will be great.

I am looking at implementing lucene searching for a site having millions of
user records so even looking for best way to keep my indexes uptodate while
searching is going on.

thanks
Amol


--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are
confidential and the views expressed in the same are not necessarily the
views of Synechron, and its Directors, Management or Employees. This
communication represents the originator's personal views and opinions. If
you are not the intended recipient or the person responsible for delivering
the e-mail to the intended recipient, be advised that you have received this
e-mail by error, and that any use, dissemination, forwarding, printing, or
copying of this e-mail is strictly prohibited. You shall be under obligation
to keep the contents of this e-mail, strictly confidential and shall not
disclose, disseminate or divulge the same to any Person, Company, Firm or
Entity. Even though Synechron uses up-to-date virus checking software to
scan it's emails please ensure you have adequate virus protection before you
open or detach any documents from this transmission. Synechron does not
accept any liability for viruses  or vulnerabilities. The rights to monitor
all e-mail communication through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 21:42:10 2006
Return-Path: <java-user-return-18175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81861 invoked from network); 4 Jan 2006 21:42:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 21:42:09 -0000
Received: (qmail 91505 invoked by uid 500); 4 Jan 2006 21:42:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91010 invoked by uid 500); 4 Jan 2006 21:42:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90999 invoked by uid 99); 4 Jan 2006 21:42:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 13:42:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.78.21.128] (HELO mis011-1.exch011.intermedia.net) (64.78.21.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 13:42:02 -0800
Received: from ehost011-3.exch011.intermedia.net ([64.78.21.96]) by mis011-1.exch011.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 4 Jan 2006 13:41:51 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C61177.ABA0D624"
Subject: Lucene and Regex - ?
Date: Wed, 4 Jan 2006 13:41:50 -0800
Message-ID: <FAB00A8DC59FAB42B13C2B3B0F687701E7CBCB@ehost011-3.exch011.intermedia.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene and Regex - ?
thread-index: AcYRd6uEpBB7bC6cSQiu8sUf90KoTg==
From: "Dmitry Goldenberg" <dmitry.goldenberg@weblayers.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 04 Jan 2006 21:41:51.0016 (UTC) FILETIME=[ABF1AA80:01C61177]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C61177.ABA0D624
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

Can someone provide a quick summary of the Regex capabilities in Lucene? =
I see there's a RegexQuery and a SpanRegexQuery - what are they intended =
for and how do I use them?

Thanks,
- Dmitry

------_=_NextPart_001_01C61177.ABA0D624--

From java-user-return-18176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 04 23:04:52 2006
Return-Path: <java-user-return-18176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53734 invoked from network); 4 Jan 2006 23:04:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Jan 2006 23:04:52 -0000
Received: (qmail 27144 invoked by uid 500); 4 Jan 2006 23:04:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27105 invoked by uid 500); 4 Jan 2006 23:04:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27087 invoked by uid 99); 4 Jan 2006 23:04:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 15:04:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.101.35.202] (HELO mail.cs.umn.edu) (128.101.35.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 15:04:45 -0800
Received: from localhost (localhost [127.0.0.1])
	by augustus.cs.umn.edu (Postfix) with ESMTP id 7955B5C485
	for <java-user@lucene.apache.org>; Wed,  4 Jan 2006 17:04:34 -0600 (CST)
Received: from mail.cs.umn.edu ([127.0.0.1])
 by localhost (mail.cs.umn.edu [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 12384-02-7 for <java-user@lucene.apache.org>;
 Wed,  4 Jan 2006 17:04:33 -0600 (CST)
Received: from [128.101.35.48] (eliot.cs.umn.edu [128.101.35.48])
	by mail.cs.umn.edu (Postfix) with ESMTP id 18D135C458
	for <java-user@lucene.apache.org>; Wed,  4 Jan 2006 17:04:33 -0600 (CST)
Message-ID: <43BC5481.2060504@cs.umn.edu>
Date: Wed, 04 Jan 2006 17:04:33 -0600
From: Dan Frankowski <dfrankow@cs.umn.edu>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Search result snippets?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at cs.umn.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Folks,

I'm a Lucene newbie, and I've been searching awhile today to answer this 
question. Googled, read Lucene FAQ, looked at Javadoc for Document and 
Hits, etc.

How would you implement "snippets" with Lucene? A snippet is some text 
around parts of the text that caused a match, with the search matches in 
bold. For example, the supporting text in Google searches. A snippet is 
NOT a document summary, which has a FAQ entry and someone answered about 
on this email list.

I can store the full text in Lucene, but then when I get the match back, 
it seems as if I'd have to reimplement the query matcher if I wanted to 
know which things matched.

Thanks in advance for any help.

Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 00:21:29 2006
Return-Path: <java-user-return-18177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85981 invoked from network); 5 Jan 2006 00:21:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 00:21:28 -0000
Received: (qmail 98407 invoked by uid 500); 5 Jan 2006 00:21:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98379 invoked by uid 500); 5 Jan 2006 00:21:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98366 invoked by uid 99); 5 Jan 2006 00:21:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 16:21:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO zproxy.gmail.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 16:21:22 -0800
Received: by zproxy.gmail.com with SMTP id 34so2930305nzf
        for <java-user@lucene.apache.org>; Wed, 04 Jan 2006 16:21:11 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Nvmg9xk7WdN37V2Lm5QfdUB8tJma0pnkAqpCFS/BE2LFNAWL9XRytuFBL2DsKy5f3vG8IDHNs37n7ixfiyLsp5G3EKxJtnUm6xr17x1NrmYXK5ZCeUXJveL6IQAtF8F+IfIuLBauylEZLop0Aw8SSAq0o6kKcckg6dJvSRWhmEk=
Received: by 10.65.218.9 with SMTP id v9mr1069362qbq;
        Wed, 04 Jan 2006 16:21:11 -0800 (PST)
Received: by 10.65.35.8 with HTTP; Wed, 4 Jan 2006 16:21:11 -0800 (PST)
Message-ID: <50f433360601041621y769c5a80ke7194ac2e7a845f@mail.gmail.com>
Date: Wed, 4 Jan 2006 16:21:11 -0800
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene and geo queries
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46474_32818200.1136420471449"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_46474_32818200.1136420471449
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm very interested in incorporating smart geographic querying capabilities
(distance calcs are just scratching the surface) into Lucene and came acros=
s
this whitepaper:

http://www.clef-campaign.org/2005/working_notes/workingnotes2005/leidner05.=
pdf

Just curious, has anyone ventured down this path?

cheers,
j

------=_Part_46474_32818200.1136420471449--

From java-user-return-18178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 00:41:35 2006
Return-Path: <java-user-return-18178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94552 invoked from network); 5 Jan 2006 00:41:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 00:41:34 -0000
Received: (qmail 11675 invoked by uid 500); 5 Jan 2006 00:41:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11650 invoked by uid 500); 5 Jan 2006 00:41:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11639 invoked by uid 99); 5 Jan 2006 00:41:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 16:41:30 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.56] (HELO web50302.mail.yahoo.com) (206.190.38.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 04 Jan 2006 16:41:30 -0800
Received: (qmail 6896 invoked by uid 60001); 5 Jan 2006 00:41:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=KgAAOVtxLYryexdx/a+L6U5bDklT4rUWBG4O233rxyjl8dWjDvuI7mtiEXFVSZ/cpcIV0aD56JSmCfXWZr0g6rt5n0gjPW3xwig8S6p8j8dYgkQBlIxbRzdR0pzm5ixVtmSeWlIRIY8Ho/nBpLzCO55cvYPeOCxjV7V1tu7W/k0=  ;
Message-ID: <20060105004118.6894.qmail@web50302.mail.yahoo.com>
Date: Wed, 4 Jan 2006 16:41:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search result snippets?
To: java-user@lucene.apache.org
In-Reply-To: <43BC5481.2060504@cs.umn.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Look for the Highlighter in contrib/ to get this effect:

http://www.lucenebook.com/search?query=highlighter+fragment

Otis

----- Original Message ----
From: Dan Frankowski <dfrankow@cs.umn.edu>
To: java-user@lucene.apache.org
Sent: Wed Jan  4 18:04:33 2006
Subject: Search result snippets?

Folks,

I'm a Lucene newbie, and I've been searching awhile today to answer this 
question. Googled, read Lucene FAQ, looked at Javadoc for Document and 
Hits, etc.

How would you implement "snippets" with Lucene? A snippet is some text 
around parts of the text that caused a match, with the search matches in 
bold. For example, the supporting text in Google searches. A snippet is 
NOT a document summary, which has a FAQ entry and someone answered about 
on this email list.

I can store the full text in Lucene, but then when I get the match back, 
it seems as if I'd have to reimplement the query matcher if I wanted to 
know which things matched.

Thanks in advance for any help.

Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 00:42:41 2006
Return-Path: <java-user-return-18179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94896 invoked from network); 5 Jan 2006 00:42:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 00:42:41 -0000
Received: (qmail 14410 invoked by uid 500); 5 Jan 2006 00:42:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14390 invoked by uid 500); 5 Jan 2006 00:42:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14374 invoked by uid 99); 5 Jan 2006 00:42:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 16:42:35 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 04 Jan 2006 16:42:33 -0800
Received: (qmail 84574 invoked by uid 60001); 5 Jan 2006 00:42:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=MFDKmJ7tPDEjovMw22yvc2rxUIlpVEjL1djnamFztnePCG3IO5sFmWWdai68Zf5znzWmsgutvob2g2ggxYaCFzNEURWYqRSM7UEiIOye601SYajZn+j3pAKgDVRx3UvSX62Y8dPYXE5yGgGaA44QaWJ49nht+n22GHd/knZgTwg=  ;
Message-ID: <20060105004222.84572.qmail@web50314.mail.yahoo.com>
Date: Wed, 4 Jan 2006 16:42:22 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene and geo queries
To: java-user@lucene.apache.org
In-Reply-To: <50f433360601041621y769c5a80ke7194ac2e7a845f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jeff, look at Nutch.  I believe somebody contributed a piece of code that does this and documented it on the Wiki.

Otis


----- Original Message ----
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Sent: Wed Jan  4 19:21:11 2006
Subject: Lucene and geo queries

I'm very interested in incorporating smart geographic querying capabilities
(distance calcs are just scratching the surface) into Lucene and came across
this whitepaper:

http://www.clef-campaign.org/2005/working_notes/workingnotes2005/leidner05.pdf

Just curious, has anyone ventured down this path?

cheers,
j




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 02:32:05 2006
Return-Path: <java-user-return-18180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42645 invoked from network); 5 Jan 2006 02:32:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 02:32:05 -0000
Received: (qmail 69728 invoked by uid 500); 5 Jan 2006 02:32:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69684 invoked by uid 500); 5 Jan 2006 02:32:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69673 invoked by uid 99); 5 Jan 2006 02:31:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 18:31:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 04 Jan 2006 18:31:59 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <221777(2)>; Wed, 4 Jan 2006 18:31:34 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58633>; Wed, 4 Jan 2006 18:31:31 PST
To: java-user@lucene.apache.org
Subject: multi-field query parser with AND operator?
Date: Wed, 4 Jan 2006 18:31:29 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <06Jan4.183131pst."58633"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've got a some code developed for Lucene 1.4.1, that works around the
problem of having both (1) multiple default fields, and (2) the AND
operator for query elements.  In 1.4.1, MultiFieldQueryParser
effectively only allowed the OR operator.

I'm wondering if this has changed in 1.9.  Will I be able to get rid
of this work-around, and use a standard Lucene-provided class to
achieve what my hand-written code now achieves?

If so, it will simplify my move to PyLucene a great deal.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 02:39:33 2006
Return-Path: <java-user-return-18181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44410 invoked from network); 5 Jan 2006 02:39:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 02:39:33 -0000
Received: (qmail 72240 invoked by uid 500); 5 Jan 2006 02:39:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72215 invoked by uid 500); 5 Jan 2006 02:39:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72204 invoked by uid 99); 5 Jan 2006 02:39:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 18:39:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [128.59.29.8] (HELO brinza.cc.columbia.edu) (128.59.29.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 18:39:27 -0800
Received: from [156.145.29.81] ([156.145.29.81])
	(user=mh2371 mech=PLAIN bits=0)
	by brinza.cc.columbia.edu (8.13.0/8.13.0) with ESMTP id k052dD0K019314
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Wed, 4 Jan 2006 21:39:14 -0500 (EST)
Message-ID: <43BC86D1.10007@animarc.com>
Date: Wed, 04 Jan 2006 21:39:13 -0500
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: span / position increment issue
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.48 on 128.59.29.8
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hello all -

i have a problem with a SpanNearQuery returning incorrect (false 
positive) results.

I am creating the context of a field using tokens which have position 
increment set to either 1 or 0.  The position increment is set to 0 for 
special tokens, in this case part-of-speech markers.
Thus, brackets set of position increments:

[The __pos_dt] [cow __pos_noun] [jumped __pos_verb] [over __pos_prep] 
[the __pos_dt] [moon __pos_noun] [. __pos_.]


My Span Query looks like:
SpanQuery sq = new SpanNearQuery(new SpanQuery[]
                      {
                         new SpanTermQuery(new Term("content", "jumped")),
                     
                        new SpanTermQuery(new Term("content", "__pos_verb"))
                      
                    }, 0, false);

This correctly finds the span:  [jumped __pos_verb]

However, if I query:
SpanQuery sq = new SpanNearQuery(new SpanQuery[]
                      {
                         new SpanTermQuery(new Term("content", "jumped")),
                     
                        new SpanTermQuery(new Term("content", "__pos_noun"))
                      
                    }, 0, false);

This incorrectly finds the span:  [cow __pos_noun] [jumped __pos_verb]

This is wrong because there is a distance of 1 between the tokens, not 0.

I am using a recent version of Lucene from SVN.

I am thinking that the problem is related to the position increment 
being set to 0 for the first token of the incorrect "match" -- thus 
perhaps this is a bug in the SpanNearQuery?


Best,
Marc






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 03:08:36 2006
Return-Path: <java-user-return-18182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53011 invoked from network); 5 Jan 2006 03:08:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 03:08:36 -0000
Received: (qmail 87456 invoked by uid 500); 5 Jan 2006 03:08:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86459 invoked by uid 500); 5 Jan 2006 03:08:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86448 invoked by uid 99); 5 Jan 2006 03:08:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 19:08:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.47] (HELO mail.Mi8.com) (63.240.6.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 19:08:30 -0800
Received: from 172.16.1.25 by mail.Mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D1)); Wed, 04 Jan 2006 22:08:13 -0500
X-Server-Uuid: 241911D6-425B-44B9-A073-E3FE0F8FC774
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.162]) by
 D01HOST03.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Wed, 4 Jan
 2006 22:08:13 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: Opening (and building) the lucene source in eclipse
Date: Wed, 4 Jan 2006 22:08:12 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F7140308FB41B4@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Opening (and building) the lucene source in eclipse
Thread-Index: AcYRpUOQ+P9+hlgYRICVwWrd+mmgXA==
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 05 Jan 2006 03:08:13.0752 (UTC)
 FILETIME=[442A0B80:01C611A5]
X-WSS-ID: 6FA2521732K7073909-02-01
Content-Type: multipart/alternative;
 boundary="----_=_NextPart_001_01C611A5.43DAB296"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C611A5.43DAB296
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable

So far I've succeeded in grabbing the latest source (and I can build
with ant), but now I'm trying to open it in eclipse by creating a new
"Java Project from Existing And Buildfile," but when I attempt to open
build.xml, I get an alert telling me that the "Specified buildfile does
not contain a javac task." Examining the 3 build files, I do see that in
common-build.xml there appears to be a javac task there. I don't know if
it's just that the eclipse ant import has trouble following includes, or
if I'm missing something (I'm not that familiar with either ant or
eclipse).
=20
What I'm really trying to do is create a jar with lucene and the Berkely
DB JE code from Aaron Donovan (ported from Andi Vajda's BDB code). If I
stick the source into the store/je directory, I get a bunch of errors,
and I'm sure I could eventually figure them all out, but my life would
be made much easier with a nice IDE to work in.
=20
Thanks for any tips (I really hope that in the very near future I'll
actually be able to contribute something positive once I manage to get
this thing built).
=20
Colin
=20

Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.

------_=_NextPart_001_01C611A5.43DAB296--


From java-user-return-18183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 05:14:42 2006
Return-Path: <java-user-return-18183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4568 invoked from network); 5 Jan 2006 05:14:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 05:14:42 -0000
Received: (qmail 78593 invoked by uid 500); 5 Jan 2006 05:14:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78554 invoked by uid 500); 5 Jan 2006 05:14:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78543 invoked by uid 99); 5 Jan 2006 05:14:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 21:14:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [198.174.169.2] (HELO winternet.com) (198.174.169.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 21:14:35 -0800
X-AuthUser: dfrankow@winternet.com
Received: from [192.168.0.4] ([207.191.131.118]:1265)
	by winternet.com with [XMail 1.21 ESMTP Server]
	id <S50B38> for <java-user@lucene.apache.org> from <dfrankow@cs.umn.edu>;
	Wed, 4 Jan 2006 23:12:29 -0600
Message-ID: <43BCAAFD.2070102@cs.umn.edu>
Date: Wed, 04 Jan 2006 23:13:33 -0600
From: Dan Frankowski <dfrankow@cs.umn.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Search result snippets?
References: <20060105004118.6894.qmail@web50302.mail.yahoo.com>
In-Reply-To: <20060105004118.6894.qmail@web50302.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for this tip! This should be in the FAQ. Is there a way to get it 
in there? I can't edit the wiki, I think.

Dan

Otis Gospodnetic wrote:

>Look for the Highlighter in contrib/ to get this effect:
>
>http://www.lucenebook.com/search?query=highlighter+fragment
>
>Otis
>
>----- Original Message ----
>From: Dan Frankowski <dfrankow@cs.umn.edu>
>To: java-user@lucene.apache.org
>Sent: Wed Jan  4 18:04:33 2006
>Subject: Search result snippets?
>
>Folks,
>
>I'm a Lucene newbie, and I've been searching awhile today to answer this 
>question. Googled, read Lucene FAQ, looked at Javadoc for Document and 
>Hits, etc.
>
>How would you implement "snippets" with Lucene? A snippet is some text 
>around parts of the text that caused a match, with the search matches in 
>bold. For example, the supporting text in Google searches. A snippet is 
>NOT a document summary, which has a FAQ entry and someone answered about 
>on this email list.
>
>I can store the full text in Lucene, but then when I get the match back, 
>it seems as if I'd have to reimplement the query matcher if I wanted to 
>know which things matched.
>
>Thanks in advance for any help.
>
>Dan
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 05:19:32 2006
Return-Path: <java-user-return-18184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8154 invoked from network); 5 Jan 2006 05:19:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 05:19:32 -0000
Received: (qmail 86101 invoked by uid 500); 5 Jan 2006 05:19:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86065 invoked by uid 500); 5 Jan 2006 05:19:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86043 invoked by uid 99); 5 Jan 2006 05:19:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 21:19:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 21:19:21 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 207435B776; Wed,  4 Jan 2006 21:19:08 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1F5B37F459
	for <java-user@lucene.apache.org>; Wed,  4 Jan 2006 21:19:08 -0800 (PST)
Date: Wed, 4 Jan 2006 21:19:08 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: span / position increment issue
In-Reply-To: <43BC86D1.10007@animarc.com>
Message-ID: <Pine.LNX.4.58.0601042105330.2762@hal.rescomp.berkeley.edu>
References: <43BC86D1.10007@animarc.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: i have a problem with a SpanNearQuery returning incorrect (false
: positive) results.

I'm not familiar with how Span queries are implimented, but there doesn't
appear to be any test cases dealing with an index where term position
increments are ever 0, so i can neither confirm nor deny the bug you're
seeing.

Can you post code demonstrating the problem?  ideally in the form of
a simple, self contained, JUnit test?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 05:30:00 2006
Return-Path: <java-user-return-18185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11723 invoked from network); 5 Jan 2006 05:30:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 05:30:00 -0000
Received: (qmail 94909 invoked by uid 500); 5 Jan 2006 05:29:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94879 invoked by uid 500); 5 Jan 2006 05:29:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94867 invoked by uid 99); 5 Jan 2006 05:29:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 21:29:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jan 2006 21:29:52 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E27105B776; Wed,  4 Jan 2006 21:29:43 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id DFE7A7F459
	for <java-user@lucene.apache.org>; Wed,  4 Jan 2006 21:29:43 -0800 (PST)
Date: Wed, 4 Jan 2006 21:29:43 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Search result snippets?
In-Reply-To: <43BCAAFD.2070102@cs.umn.edu>
Message-ID: <Pine.LNX.4.58.0601042119370.2762@hal.rescomp.berkeley.edu>
References: <20060105004118.6894.qmail@web50302.mail.yahoo.com>
 <43BCAAFD.2070102@cs.umn.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Thanks for this tip! This should be in the FAQ. Is there a way to get it
: in there? I can't edit the wiki, I think.

1) People who create a Wiki account can edit the FAQ.

2) the FAQ already includes a refrence to Highlighter, I think it's the
FAQ entry you mentioned...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-0c15966e2ee7755f4ae639ee8eaf7de04f5c27f5

   Is there a way to get a text summary of an indexed document with Lucene?

   You could store the documents summary in the index and then use the
   Highlighter from the sandbox.

...feel free to add to the FAQ whatever information you think would have
made the answer more useful to you when you first found it.


: >How would you implement "snippets" with Lucene? A snippet is some text
: >around parts of the text that caused a match, with the search matches in
: >bold. For example, the supporting text in Google searches. A snippet is
: >NOT a document summary, which has a FAQ entry and someone answered about
: >on this email list.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 10:55:19 2006
Return-Path: <java-user-return-18186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84363 invoked from network); 5 Jan 2006 10:55:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 10:55:19 -0000
Received: (qmail 78056 invoked by uid 500); 5 Jan 2006 10:55:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77753 invoked by uid 500); 5 Jan 2006 10:55:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77741 invoked by uid 99); 5 Jan 2006 10:55:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 02:55:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 02:55:11 -0800
Received: by zproxy.gmail.com with SMTP id i28so3424508nzi
        for <java-user@lucene.apache.org>; Thu, 05 Jan 2006 02:55:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=IjOckFZyEQXKzRPtE7Ljnb4USD+5Dq1KzZEISEWxObidis12cTIUsvgETnPZtOzl3QamoI7RhCHzZc0tSBryiaWVJb/6h/LqoohHIRBGDXnEodQzQW4i9B7ovAacO5KIcyHE3gzTV4KcD4isLcLkkSpb/BIkW0xHHg/xB1tL6MA=
Received: by 10.64.250.14 with SMTP id x14mr857720qbh;
        Thu, 05 Jan 2006 02:55:00 -0800 (PST)
Received: by 10.64.149.12 with HTTP; Thu, 5 Jan 2006 02:55:00 -0800 (PST)
Message-ID: <4f9b23800601050255ua2db0e8j@mail.gmail.com>
Date: Thu, 5 Jan 2006 10:55:00 +0000
From: Patrick Kimber <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: http://www.textmining.org/ is "hacked"
In-Reply-To: <1132851772.350.4.camel@gui>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4f9b23800511240846hd847823x@mail.gmail.com>
	 <1132851159.350.1.camel@gui>
	 <4f9b23800511240858j7b392773j@mail.gmail.com>
	 <1132851772.350.4.camel@gui>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gui

How about using the OpenOffice API?

http://weblogs.java.net/blog/tchangu/archive/2005/12/open_office_jav_1.html
http://api.openoffice.org/DevelopersGuide/DevelopersGuide.html

Patrick

On 24/11/05, Guilherme Barile <gui@prosoma.com.br> wrote:
> I have some issues with textmining extracting text from odd word
> documents (ok, any .doc file is odd)
> The project seems somehow abandoned, and has no clear licence, so if you
> wish to improve it (maybe create a dev.java.net project for it) i'd be
> glad to help
> Also if you find something else (cross platform) for extracting text
> from word documents, please let me know
>
> gui
>
> On Thu, 2005-11-24 at 16:58 +0000, Patrick Kimber wrote:
> > Thanks for the very quick response.
> >
> > On 24/11/05, Guilherme Barile <gui@prosoma.com.br> wrote:
> > > I have it here, uploaded it to rapidshare
> > > http://rapidshare.de/files/8097202/textmining.zip.html
> > >
> > > c ya
> > >
> > >
> > > On Thu, 2005-11-24 at 16:46 +0000, Patrick Kimber wrote:
> > > > Hi
> > > > I am trying to download the source code for
> > > > tm-extractors-0.4.jar
> > > > from
> > > > http://www.textmining.org/
> > > >
> > > > Looks like the site has been hacked.
> > > > Does anyone know the location of the CVS or SVN repository?
> > > > Thanks for your help...
> > > > Pat
> > > >

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 11:48:46 2006
Return-Path: <java-user-return-18187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20153 invoked from network); 5 Jan 2006 11:48:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 11:48:46 -0000
Received: (qmail 63211 invoked by uid 500); 5 Jan 2006 11:48:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63086 invoked by uid 500); 5 Jan 2006 11:48:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63061 invoked by uid 99); 5 Jan 2006 11:48:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 03:48:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 03:48:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 30E4413E2005; Thu,  5 Jan 2006 06:48:18 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 1928113E2005
	for <java-user@lucene.apache.org>; Thu,  5 Jan 2006 06:48:14 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <FAB00A8DC59FAB42B13C2B3B0F687701E7CBCB@ehost011-3.exch011.intermedia.net>
References: <FAB00A8DC59FAB42B13C2B3B0F687701E7CBCB@ehost011-3.exch011.intermedia.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <33D8890F-AD0D-429A-B6C9-CF82DCF38127@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene and Regex - ?
Date: Thu, 5 Jan 2006 06:48:14 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dmitry,

RegexQuery is similar in behavior to Lucene's built-in WildcardQuery,  
except rather than accepting only ? and * as wildcard characters it  
leverages the full expression capability of whatever underlying  
regular expression engine is selected.

SpanRegexQuery is a "span" version of RegexQuery, allowing for  
queries like "j.v. l.*" that could match "java lucene" and any other  
two sequential terms that match those patterns.  There currently is  
no QueryParser support for this kind of syntax.  Perhaps in the  
future the neutral part of (Span)RegexQuery could be moved into the  
core (it currently lives in contrib/regex and has dependencies on  
Jakarta Regexp, and likely Jakarta ORO also) to facilitate future  
QueryParser support.  For now you'll need to construct the queries  
via the API, build a custom QueryParser extension, or a completely  
custom QueryParser.

The test cases are generally the best place to look for usage examples.

I am working on polishing the documentation and tidying some loose  
ends with contrib/regex, but patches/suggestions always welcome.

	Erik


On Jan 4, 2006, at 4:41 PM, Dmitry Goldenberg wrote:

> Hi,
>
> Can someone provide a quick summary of the Regex capabilities in  
> Lucene? I see there's a RegexQuery and a SpanRegexQuery - what are  
> they intended for and how do I use them?
>
> Thanks,
> - Dmitry


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 11:56:04 2006
Return-Path: <java-user-return-18188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23234 invoked from network); 5 Jan 2006 11:56:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 11:56:04 -0000
Received: (qmail 70755 invoked by uid 500); 5 Jan 2006 11:55:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70734 invoked by uid 500); 5 Jan 2006 11:55:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70723 invoked by uid 99); 5 Jan 2006 11:55:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 03:55:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 03:55:57 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1B2DC13E201A; Thu,  5 Jan 2006 06:55:47 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 63D1013E2005
	for <java-user@lucene.apache.org>; Thu,  5 Jan 2006 06:55:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <43BC86D1.10007@animarc.com>
References: <43BC86D1.10007@animarc.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8CCB83A3-6C7D-4C47-9B30-D3812686E9C0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: span / position increment issue
Date: Thu, 5 Jan 2006 06:55:32 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marc,

SpanNearQuery isn't capable of performing the proximity to within  
only a single position in the manner you've described.  A slop of 0  
means the terms must be contiguous with no gaps, which also allows  
for matches in the same position as in your first example.

I think MultiPhraseQuery (from svn trunk) will do what you want  
though.  Please try that and report back on how it works for you.

	Erik


On Jan 4, 2006, at 9:39 PM, Marc Hadfield wrote:

> hello all -
>
> i have a problem with a SpanNearQuery returning incorrect (false  
> positive) results.
>
> I am creating the context of a field using tokens which have  
> position increment set to either 1 or 0.  The position increment is  
> set to 0 for special tokens, in this case part-of-speech markers.
> Thus, brackets set of position increments:
>
> [The __pos_dt] [cow __pos_noun] [jumped __pos_verb] [over  
> __pos_prep] [the __pos_dt] [moon __pos_noun] [. __pos_.]
>
>
> My Span Query looks like:
> SpanQuery sq = new SpanNearQuery(new SpanQuery[]
>                      {
>                         new SpanTermQuery(new Term("content",  
> "jumped")),
>                                            new SpanTermQuery(new  
> Term("content", "__pos_verb"))
>                                         }, 0, false);
>
> This correctly finds the span:  [jumped __pos_verb]
>
> However, if I query:
> SpanQuery sq = new SpanNearQuery(new SpanQuery[]
>                      {
>                         new SpanTermQuery(new Term("content",  
> "jumped")),
>                                            new SpanTermQuery(new  
> Term("content", "__pos_noun"))
>                                         }, 0, false);
>
> This incorrectly finds the span:  [cow __pos_noun] [jumped __pos_verb]
>
> This is wrong because there is a distance of 1 between the tokens,  
> not 0.
>
> I am using a recent version of Lucene from SVN.
>
> I am thinking that the problem is related to the position increment  
> being set to 0 for the first token of the incorrect "match" -- thus  
> perhaps this is a bug in the SpanNearQuery?
>
>
> Best,
> Marc
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 13:31:41 2006
Return-Path: <java-user-return-18189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82357 invoked from network); 5 Jan 2006 13:31:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 13:31:41 -0000
Received: (qmail 31278 invoked by uid 500); 5 Jan 2006 13:31:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31245 invoked by uid 500); 5 Jan 2006 13:31:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31234 invoked by uid 99); 5 Jan 2006 13:31:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 05:31:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 05:31:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8183313E2005; Thu,  5 Jan 2006 08:31:11 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B428E13E201A
	for <java-user@lucene.apache.org>; Thu,  5 Jan 2006 08:31:00 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <3AF76382C31760418AF0FBFD84F7140308FB41B4@MI8NYCMAIL07.Mi8.com>
References: <3AF76382C31760418AF0FBFD84F7140308FB41B4@MI8NYCMAIL07.Mi8.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <9BA3D530-EF48-4A59-BA99-9C6E87721E71@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Opening (and building) the lucene source in eclipse
Date: Thu, 5 Jan 2006 08:31:02 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Colin,

I've not used Eclipse in a long while, and I've not used the new Ant  
project support it has.  It sounds like Eclipse has issues with Ant  
imports as you've surmised, and my recommendation is to simply set up  
a normal Eclipse project.  The source tree to Lucene is extremely  
basic... src/java is the only path you need to add to build the core  
Lucene library.  For the BDBJE stuff, you'll want to check out the  
latest source code of contrib/db where Andi has just committed the  
BDBJE code, and add its source path(s) to your Eclipse project as well.

Not using the Ant project support should be just fine.  I use  
IntelliJ without running Ant through it.  I simply use the command- 
line to run Ant, and the IDE to do iterative development and unit  
testing.

	Erik



On Jan 4, 2006, at 10:08 PM, Colin Young wrote:

> So far I've succeeded in grabbing the latest source (and I can build
> with ant), but now I'm trying to open it in eclipse by creating a new
> "Java Project from Existing And Buildfile," but when I attempt to open
> build.xml, I get an alert telling me that the "Specified buildfile  
> does
> not contain a javac task." Examining the 3 build files, I do see  
> that in
> common-build.xml there appears to be a javac task there. I don't  
> know if
> it's just that the eclipse ant import has trouble following  
> includes, or
> if I'm missing something (I'm not that familiar with either ant or
> eclipse).
>
> What I'm really trying to do is create a jar with lucene and the  
> Berkely
> DB JE code from Aaron Donovan (ported from Andi Vajda's BDB code).  
> If I
> stick the source into the store/je directory, I get a bunch of errors,
> and I'm sure I could eventually figure them all out, but my life would
> be made much easier with a nice IDE to work in.
>
> Thanks for any tips (I really hope that in the very near future I'll
> actually be able to contribute something positive once I manage to get
> this thing built).
>
> Colin
>
>
> Notice: This email message is for the sole use of the intended  
> recipient(s) and may contain confidential and privileged  
> information. Any unauthorized review, use, disclosure or  
> distribution is prohibited. If you are not the intended recipient,  
> please contact the sender by reply email and destroy all copies of  
> the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 15:00:55 2006
Return-Path: <java-user-return-18190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32846 invoked from network); 5 Jan 2006 15:00:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 15:00:54 -0000
Received: (qmail 5325 invoked by uid 500); 5 Jan 2006 15:00:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5307 invoked by uid 500); 5 Jan 2006 15:00:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5296 invoked by uid 99); 5 Jan 2006 15:00:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:00:46 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DATE_IN_FUTURE_96_XX,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [220.225.120.3] (HELO mail.photoninfotech.com) (220.225.120.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:00:45 -0800
Received: (qmail 19699 invoked by uid 508); 5 Jan 2006 20:33:38 +0530
Received: from 192.168.8.151 by apsara.photon.dev (envelope-from <hussain@photoninfotech.com>, uid 507) with qmail-scanner-1.24-st-qms 
 (clamdscan: 0.80/640. spamassassin: 3.0.1. perlscan: 1.24-st-qms.  
 Clear:RC:0(192.168.8.151):SA:0(-4.7/5.0):. 
 Processed in 0.302888 secs); 05 Jan 2006 15:03:38 -0000
X-Antivirus-MYDOMAIN-Mail-From: hussain@photoninfotech.com via apsara.photon.dev
X-Antivirus-MYDOMAIN: 1.24-st-qms (Clear:RC:0(192.168.8.151):SA:0(-4.7/5.0):. Processed in 0.302888 secs Process 19685)
Received: from unknown (HELO HUSSAIN) (Hussain@photoninfotech.com@192.168.8.151)
  by mail.photoninfotech.com with SMTP; 5 Jan 2006 20:33:37 +0530
Message-ID: <001401c6598a$ddc71ad0$9708a8c0@HUSSAIN>
Reply-To: "K.A.Hussain Ali" <Hussain@photoninfotech.com>
From: "K.A.Hussain Ali" <Hussain@photoninfotech.com>
To: <java-user@lucene.apache.org>
Subject: searching and indexing simultaneously...
Date: Thu, 6 Apr 2006 20:30:34 +0530
Organization: Photoninfotech Pvt.LTd.
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000F_01C659B8.F4E60E50"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-4.7 required=5.0
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000F_01C659B8.F4E60E50
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

HI all.

i am newbie to lucene

Do lucene provides any way to do indexing ,searching and deleting =
simultaneously ..

I hope we could do searching and indexing which means there can be =
multiple indexreader and only one indexwriter accessing the index..

Could we have two indexwriter working simultaneously...?

Any help is greatly appreciated
Thanks in advance.

regards
-Hussain


------=_NextPart_000_000F_01C659B8.F4E60E50--


From java-user-return-18191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 15:08:19 2006
Return-Path: <java-user-return-18191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38354 invoked from network); 5 Jan 2006 15:08:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 15:08:18 -0000
Received: (qmail 22862 invoked by uid 500); 5 Jan 2006 15:08:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22834 invoked by uid 500); 5 Jan 2006 15:08:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22823 invoked by uid 99); 5 Jan 2006 15:08:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:08:11 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:08:10 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k05F7joP012007
	for <java-user@lucene.apache.org>; Thu, 5 Jan 2006 16:07:45 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200601051507.k05F7joP012007@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: searching and indexing simultaneously...
Date: Thu, 5 Jan 2006 16:07:39 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYSCNRzrACJYQ5FRSSXWEicwn5CEAAAJxGw
In-Reply-To: <001401c6598a$ddc71ad0$9708a8c0@HUSSAIN>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 
Hi,
You are right. There can be multiple indexreaders but only one indexwriter
is advised. 

No, we can not use two indexwriters simultaneously.

Jelda

-----Original Message-----
From: K.A.Hussain Ali [mailto:Hussain@photoninfotech.com] 
Sent: Thursday, April 06, 2006 5:01 PM
To: java-user@lucene.apache.org
Subject: searching and indexing simultaneously...

HI all.

i am newbie to lucene

Do lucene provides any way to do indexing ,searching and deleting
simultaneously ..

I hope we could do searching and indexing which means there can be multiple
indexreader and only one indexwriter accessing the index..

Could we have two indexwriter working simultaneously...?

Any help is greatly appreciated
Thanks in advance.

regards
-Hussain



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 15:09:50 2006
Return-Path: <java-user-return-18192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39226 invoked from network); 5 Jan 2006 15:09:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 15:09:49 -0000
Received: (qmail 28693 invoked by uid 500); 5 Jan 2006 15:09:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28610 invoked by uid 500); 5 Jan 2006 15:09:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28589 invoked by uid 99); 5 Jan 2006 15:09:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:09:35 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.251.225.55] (HELO navisite.com) (216.251.225.55)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:09:33 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: WordNet alternatives
Date: Thu, 5 Jan 2006 10:09:36 -0500
Message-ID: <37E2AB54ECE58E40A4E56916CD324DD46D4112@NAVEXC.corp.int.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: WordNet alternatives
Thread-Index: AcYRd6uEpBB7bC6cSQiu8sUf90KoTgAkiOeQ
From: "Yilmazel, Sibel" <syilmazel@navisite.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Are there any WordNet dictionary alternatives that anyone had a chance
to look into for Lucene?

Thanks,

Sibel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 15:10:07 2006
Return-Path: <java-user-return-18193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39628 invoked from network); 5 Jan 2006 15:10:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 15:10:07 -0000
Received: (qmail 31106 invoked by uid 500); 5 Jan 2006 15:09:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31077 invoked by uid 500); 5 Jan 2006 15:09:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31066 invoked by uid 99); 5 Jan 2006 15:09:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:09:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:09:57 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: searching and indexing simultaneously...
Date: Thu, 5 Jan 2006 09:08:19 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2915E7FF@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: searching and indexing simultaneously...
Thread-Index: AcYSCbgTNHyvtjZXRuKCRLCp7oo5UgAABkCg
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

But its best to only have one reader/searcher, correct?

-----Original Message-----
From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]=20
Sent: Thursday, January 05, 2006 9:08 AM
To: java-user@lucene.apache.org
Subject: RE: searching and indexing simultaneously...

=20
Hi,
You are right. There can be multiple indexreaders but only one
indexwriter
is advised.=20

No, we can not use two indexwriters simultaneously.

Jelda

-----Original Message-----
From: K.A.Hussain Ali [mailto:Hussain@photoninfotech.com]=20
Sent: Thursday, April 06, 2006 5:01 PM
To: java-user@lucene.apache.org
Subject: searching and indexing simultaneously...

HI all.

i am newbie to lucene

Do lucene provides any way to do indexing ,searching and deleting
simultaneously ..

I hope we could do searching and indexing which means there can be
multiple
indexreader and only one indexwriter accessing the index..

Could we have two indexwriter working simultaneously...?

Any help is greatly appreciated
Thanks in advance.

regards
-Hussain



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 15:56:33 2006
Return-Path: <java-user-return-18194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72189 invoked from network); 5 Jan 2006 15:56:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 15:56:32 -0000
Received: (qmail 38558 invoked by uid 500); 5 Jan 2006 15:56:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38534 invoked by uid 500); 5 Jan 2006 15:56:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38510 invoked by uid 99); 5 Jan 2006 15:56:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:56:25 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO zproxy.gmail.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 07:56:25 -0800
Received: by zproxy.gmail.com with SMTP id x7so3041473nzc
        for <java-user@lucene.apache.org>; Thu, 05 Jan 2006 07:56:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=GSldCboTP9b1GmCmzmw2B3Xic/Yowa+No7i6e1OTWqRNjeY62tPhG6k38c74ApvQE4pfZ5o+DhteJoH3kg3P708dKu227gtA7OchWgOupMSXcsSZylbBswTYN29RDaVFppOlqFF8gfEibar52TqklHjcuG5hzTnHpIRibx6rzB4=
Received: by 10.65.105.9 with SMTP id h9mr1301358qbm;
        Thu, 05 Jan 2006 07:56:04 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Thu, 5 Jan 2006 07:56:03 -0800 (PST)
Message-ID: <c68e39170601050756u7f70f1d8v139391f48a600a55@mail.gmail.com>
Date: Thu, 5 Jan 2006 10:56:03 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Opening (and building) the lucene source in eclipse
In-Reply-To: <9BA3D530-EF48-4A59-BA99-9C6E87721E71@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <3AF76382C31760418AF0FBFD84F7140308FB41B4@MI8NYCMAIL07.Mi8.com>
	 <9BA3D530-EF48-4A59-BA99-9C6E87721E71@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/5/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>  my recommendation is to simply set up
> a normal Eclipse project.

I use IntelliJ, and that's how I do it (a normal IntelliJ project).

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 16:11:15 2006
Return-Path: <java-user-return-18195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79610 invoked from network); 5 Jan 2006 16:11:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 16:11:14 -0000
Received: (qmail 66892 invoked by uid 500); 5 Jan 2006 16:11:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66867 invoked by uid 500); 5 Jan 2006 16:11:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66856 invoked by uid 99); 5 Jan 2006 16:11:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 08:11:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.131] (HELO exchange-mbx.bvdep.com) (193.194.158.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 08:11:04 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: searching and indexing simultaneously...
Date: Thu, 5 Jan 2006 17:10:42 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF560F016@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: searching and indexing simultaneously...
Thread-Index: AcYSCbgTNHyvtjZXRuKCRLCp7oo5UgAABkCgAAHLnVA=
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

One reader/searcher per server.

My configuration uses
- one Lucene index in a shared location,
- one server that uses either a single IndexReader or a single
IndexWriter to delete or add documents
- several servers that read/search the index.

The 'search' servers each have a single IndexReader open to handle all
requests.
At fixed intervals, they check the version of the index to know if it's
time to close and reopen the IndexReader instance. (I make use of the
DelayCloseIndexReader I contributed in
http://issues.apache.org/jira/browse/LUCENE-445 to make sure the
previous instance doesn't close while other threads are still using it)

You have to make sure all servers put their lock files in a shared
location, but from then on everything works fine...
There was an issue with getCurrentVersion() and isCurrent() not using
the locks properly (http://issues.apache.org/jira/browse/LUCENE-481),
but that's resolved now (the patch is easy to backport to Lucene 1.4.3)

Luc

-----Original Message-----
From: John Powers [mailto:jpowers@configureone.com]=20
Sent: donderdag 5 januari 2006 16:08
To: java-user@lucene.apache.org
Subject: RE: searching and indexing simultaneously...

But its best to only have one reader/searcher, correct?

-----Original Message-----
From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]=20
Sent: Thursday, January 05, 2006 9:08 AM
To: java-user@lucene.apache.org
Subject: RE: searching and indexing simultaneously...

=20
Hi,
You are right. There can be multiple indexreaders but only one
indexwriter
is advised.=20

No, we can not use two indexwriters simultaneously.

Jelda

-----Original Message-----
From: K.A.Hussain Ali [mailto:Hussain@photoninfotech.com]=20
Sent: Thursday, April 06, 2006 5:01 PM
To: java-user@lucene.apache.org
Subject: searching and indexing simultaneously...

HI all.

i am newbie to lucene

Do lucene provides any way to do indexing ,searching and deleting
simultaneously ..

I hope we could do searching and indexing which means there can be
multiple
indexreader and only one indexwriter accessing the index..

Could we have two indexwriter working simultaneously...?

Any help is greatly appreciated
Thanks in advance.

regards
-Hussain



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 16:42:57 2006
Return-Path: <java-user-return-18196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99995 invoked from network); 5 Jan 2006 16:42:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 16:42:56 -0000
Received: (qmail 45014 invoked by uid 500); 5 Jan 2006 16:42:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44988 invoked by uid 500); 5 Jan 2006 16:42:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44977 invoked by uid 99); 5 Jan 2006 16:42:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 08:42:51 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 08:42:50 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k05GgDou070608
	for <java-user@lucene.apache.org>; Thu, 5 Jan 2006 17:42:13 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200601051642.k05GgDou070608@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: searching and indexing simultaneously...
Date: Thu, 5 Jan 2006 17:42:08 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYSCbgTNHyvtjZXRuKCRLCp7oo5UgAABkCgAAHLnVAAAXiJ8A==
In-Reply-To: <3287125F0F0CCE4E8F55435208100CF560F016@exchange-mbx.be.bvd>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Nice contribution by Luc.

Thanks,
Jelda

-----Original Message-----
From: Vanlerberghe, Luc [mailto:Luc.Vanlerberghe@bvdep.com] 
Sent: Thursday, January 05, 2006 5:11 PM
To: java-user@lucene.apache.org
Subject: RE: searching and indexing simultaneously...

One reader/searcher per server.

My configuration uses
- one Lucene index in a shared location,
- one server that uses either a single IndexReader or a single IndexWriter
to delete or add documents
- several servers that read/search the index.

The 'search' servers each have a single IndexReader open to handle all
requests.
At fixed intervals, they check the version of the index to know if it's time
to close and reopen the IndexReader instance. (I make use of the
DelayCloseIndexReader I contributed in
http://issues.apache.org/jira/browse/LUCENE-445 to make sure the previous
instance doesn't close while other threads are still using it)

You have to make sure all servers put their lock files in a shared location,
but from then on everything works fine...
There was an issue with getCurrentVersion() and isCurrent() not using the
locks properly (http://issues.apache.org/jira/browse/LUCENE-481),
but that's resolved now (the patch is easy to backport to Lucene 1.4.3)

Luc

-----Original Message-----
From: John Powers [mailto:jpowers@configureone.com]
Sent: donderdag 5 januari 2006 16:08
To: java-user@lucene.apache.org
Subject: RE: searching and indexing simultaneously...

But its best to only have one reader/searcher, correct?

-----Original Message-----
From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]
Sent: Thursday, January 05, 2006 9:08 AM
To: java-user@lucene.apache.org
Subject: RE: searching and indexing simultaneously...

 
Hi,
You are right. There can be multiple indexreaders but only one indexwriter
is advised. 

No, we can not use two indexwriters simultaneously.

Jelda

-----Original Message-----
From: K.A.Hussain Ali [mailto:Hussain@photoninfotech.com]
Sent: Thursday, April 06, 2006 5:01 PM
To: java-user@lucene.apache.org
Subject: searching and indexing simultaneously...

HI all.

i am newbie to lucene

Do lucene provides any way to do indexing ,searching and deleting
simultaneously ..

I hope we could do searching and indexing which means there can be multiple
indexreader and only one indexwriter accessing the index..

Could we have two indexwriter working simultaneously...?

Any help is greatly appreciated
Thanks in advance.

regards
-Hussain



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 18:33:34 2006
Return-Path: <java-user-return-18197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56667 invoked from network); 5 Jan 2006 18:33:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 18:33:33 -0000
Received: (qmail 45473 invoked by uid 500); 5 Jan 2006 18:33:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45447 invoked by uid 500); 5 Jan 2006 18:33:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45436 invoked by uid 99); 5 Jan 2006 18:33:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 10:33:08 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 05 Jan 2006 10:33:07 -0800
Received: (qmail 91996 invoked by uid 60001); 5 Jan 2006 18:32:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=z8wHoq+ts61g18m7dETyT7MISQg/rzLdUgkCZROnNayjUCF11eqGMJykSUx5PWxZtM2q1gxsXfakKicOBF3hFEPDogWdfhWVjUOSncz5EGRac3wfIU0CamDZEMlucew21gYIgqsKLMSGsnwMDSmEa7V/grO2tXLMNhNo2n1l2vU=  ;
Message-ID: <20060105183242.91994.qmail@web50306.mail.yahoo.com>
Date: Thu, 5 Jan 2006 10:32:42 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: WordNet alternatives
To: java-user@lucene.apache.org
In-Reply-To: <37E2AB54ECE58E40A4E56916CD324DD46D4112@NAVEXC.corp.int.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A better place to ask this may be some kind of a computational linguistics mailing list.
I'm not aware of WordNet alternatives for the English language, but I know there are WordNet cousins for other languages (e.g. BalkaNet for several languages spoken on the Balkan peninsula).

Otis

----- Original Message ----
From: "Yilmazel, Sibel" <syilmazel@navisite.com>
To: java-user@lucene.apache.org
Sent: Thu 05 Jan 2006 10:09:36 AM EST
Subject: WordNet alternatives

Hello,

Are there any WordNet dictionary alternatives that anyone had a chance
to look into for Lucene?

Thanks,

Sibel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 18:33:41 2006
Return-Path: <java-user-return-18198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56799 invoked from network); 5 Jan 2006 18:33:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 18:33:41 -0000
Received: (qmail 46753 invoked by uid 500); 5 Jan 2006 18:33:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46733 invoked by uid 500); 5 Jan 2006 18:33:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46721 invoked by uid 99); 5 Jan 2006 18:33:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 10:33:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.121.220.151] (HELO animarci.iserver.net) (128.121.220.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 10:33:34 -0800
Received: from [10.55.102.57] (cpe-24-193-103-206.nyc.res.rr.com [24.193.103.206])
	by animarci.iserver.net (8.12.11/8.12.6) with ESMTP id k05IX7Dc014669;
	Thu, 5 Jan 2006 11:33:07 -0700 (MST)
Message-ID: <43BD6660.3040703@animarc.com>
Date: Thu, 05 Jan 2006 13:33:04 -0500
From: Marc Hadfield <marc@animarc.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
CC: hossman_lucene@fucit.org
Subject: Re: span / position increment issue
References: <43BC86D1.10007@animarc.com> <8CCB83A3-6C7D-4C47-9B30-D3812686E9C0@ehatchersolutions.com>
In-Reply-To: <8CCB83A3-6C7D-4C47-9B30-D3812686E9C0@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



Thanks Erik, Hoss -

I will try MultiPhraseQuery and report back.

Back in an email thread with Doug be mentioned SpanQuery would work, and 
in a fashion it does, but I can't differentiate between terms at the 
same position and contiguous positions.  The problem gets worse if I 
want to test for more than two terms at the same position ( moon / noun 
/ end_of_sentence / ...), which opens it up to wider contiguous spaces.

Would it make sense to extend SpanNearQuery for this case, perhaps with 
a slop of a special value (-1) to indicate terms should be found at the 
same position?  I'm not sure how difficult this would be to represent in 
the underlying queues keeping track of matches.
 
---Marc

Erik Hatcher wrote:

> Marc,
>
> SpanNearQuery isn't capable of performing the proximity to within  
> only a single position in the manner you've described.  A slop of 0  
> means the terms must be contiguous with no gaps, which also allows  
> for matches in the same position as in your first example.
>
> I think MultiPhraseQuery (from svn trunk) will do what you want  
> though.  Please try that and report back on how it works for you.
>
>     Erik
>
>

>: i have a problem with a SpanNearQuery returning incorrect (false
>: positive) results.
>
>I'm not familiar with how Span queries are implimented, but there doesn't
>appear to be any test cases dealing with an index where term position
>increments are ever 0, so i can neither confirm nor deny the bug you're
>seeing.
>
>Can you post code demonstrating the problem?  ideally in the form of
>a simple, self contained, JUnit test?
>
>
>
>-Hoss
>




> On Jan 4, 2006, at 9:39 PM, Marc Hadfield wrote:
>
>> hello all -
>>
>> i have a problem with a SpanNearQuery returning incorrect (false  
>> positive) results.
>>
>> I am creating the context of a field using tokens which have  
>> position increment set to either 1 or 0.  The position increment is  
>> set to 0 for special tokens, in this case part-of-speech markers.
>> Thus, brackets set of position increments:
>>
>> [The __pos_dt] [cow __pos_noun] [jumped __pos_verb] [over  
>> __pos_prep] [the __pos_dt] [moon __pos_noun] [. __pos_.]
>>
>>
>> My Span Query looks like:
>> SpanQuery sq = new SpanNearQuery(new SpanQuery[]
>>                      {
>>                         new SpanTermQuery(new Term("content",  
>> "jumped")),
>>                                            new SpanTermQuery(new  
>> Term("content", "__pos_verb"))
>>                                         }, 0, false);
>>
>> This correctly finds the span:  [jumped __pos_verb]
>>
>> However, if I query:
>> SpanQuery sq = new SpanNearQuery(new SpanQuery[]
>>                      {
>>                         new SpanTermQuery(new Term("content",  
>> "jumped")),
>>                                            new SpanTermQuery(new  
>> Term("content", "__pos_noun"))
>>                                         }, 0, false);
>>
>> This incorrectly finds the span:  [cow __pos_noun] [jumped __pos_verb]
>>
>> This is wrong because there is a distance of 1 between the tokens,  
>> not 0.
>>
>> I am using a recent version of Lucene from SVN.
>>
>> I am thinking that the problem is related to the position increment  
>> being set to 0 for the first token of the incorrect "match" -- thus  
>> perhaps this is a bug in the SpanNearQuery?
>>
>>
>> Best,
>> Marc
>>
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 18:36:13 2006
Return-Path: <java-user-return-18199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58491 invoked from network); 5 Jan 2006 18:36:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 18:36:13 -0000
Received: (qmail 52352 invoked by uid 500); 5 Jan 2006 18:36:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52328 invoked by uid 500); 5 Jan 2006 18:36:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52310 invoked by uid 99); 5 Jan 2006 18:36:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 10:36:05 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 05 Jan 2006 10:36:05 -0800
Received: (qmail 46958 invoked by uid 60001); 5 Jan 2006 18:35:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=oSzCdhiKJZxAfk6jsZkCA9k2Mmr3yPBgKt63pO1WpLrg+nq3ULWKUM4mfoFsoKsmcZzWBK0KHUYoukmNy2NROZVJhM4Wdh89iOil7bnJk2fgd9JURMG3UaD3s7+H+TEuUslwy7F+z0o0tIXyuGBgRx06B4HrNtePlwtjZSmxt7o=  ;
Message-ID: <20060105183544.46956.qmail@web50311.mail.yahoo.com>
Date: Thu, 5 Jan 2006 10:35:44 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: searching and indexing simultaneously...
To: java-user@lucene.apache.org
In-Reply-To: <001401c6598a$ddc71ad0$9708a8c0@HUSSAIN>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As far as I know, the best information about various Lucene concurrency rules, locks and locking is in the Lucene book (e.g. http://www.lucenebook.com/search?query=concurrency+rules ).

The short story is: use 1 IndexSearcher.  Get a new one when you detect index change.  Use 1 IndexWriter.  If you delete documents (via IndexReader), your IndexWriter needs to be closed, and vice versa.

Otis

----- Original Message ----
From: K.A.Hussain Ali <Hussain@photoninfotech.com>
To: java-user@lucene.apache.org
Sent: Thu 06 Apr 2006 11:00:34 AM EDT
Subject: searching and indexing simultaneously...

HI all.

i am newbie to lucene

Do lucene provides any way to do indexing ,searching and deleting simultaneously ..

I hope we could do searching and indexing which means there can be multiple indexreader and only one indexwriter accessing the index..

Could we have two indexwriter working simultaneously...?

Any help is greatly appreciated
Thanks in advance.

regards
-Hussain





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 18:46:19 2006
Return-Path: <java-user-return-18200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71273 invoked from network); 5 Jan 2006 18:46:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 18:46:19 -0000
Received: (qmail 79431 invoked by uid 500); 5 Jan 2006 18:46:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79404 invoked by uid 500); 5 Jan 2006 18:46:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79392 invoked by uid 99); 5 Jan 2006 18:46:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 10:46:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.30] (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 10:46:12 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.13.3/8.13.3) with ESMTP id k05Ijn5d014680
	for <java-user@lucene.apache.org>; Thu, 5 Jan 2006 19:45:49 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: span / position increment issue
Date: Thu, 5 Jan 2006 19:45:48 +0100
User-Agent: KMail/1.8.2
References: <43BC86D1.10007@animarc.com> <8CCB83A3-6C7D-4C47-9B30-D3812686E9C0@ehatchersolutions.com> <43BD6660.3040703@animarc.com>
In-Reply-To: <43BD6660.3040703@animarc.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601051945.48698.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 05 January 2006 19:33, Marc Hadfield wrote:
> 
> Thanks Erik, Hoss -
> 
> I will try MultiPhraseQuery and report back.
> 
> Back in an email thread with Doug be mentioned SpanQuery would work, and 
> in a fashion it does, but I can't differentiate between terms at the 
> same position and contiguous positions.  The problem gets worse if I 
> want to test for more than two terms at the same position ( moon / noun 
> / end_of_sentence / ...), which opens it up to wider contiguous spaces.
> 
> Would it make sense to extend SpanNearQuery for this case, perhaps with 
> a slop of a special value (-1) to indicate terms should be found at the 
> same position?  I'm not sure how difficult this would be to represent in 
> the underlying queues keeping track of matches.

Fwiw, there is an alternative implementation of ordered NearSpans here:
http://issues.apache.org/jira/browse/LUCENE-413
The NearSpansOrdered there might actually work as needed for this case.

Spans are normally slower than Phrases, so I'd try the MultiPhraseQuery first.

Regards,
Paul Elschot


>  
> ---Marc
> 
> Erik Hatcher wrote:
> 
> > Marc,
> >
> > SpanNearQuery isn't capable of performing the proximity to within  
> > only a single position in the manner you've described.  A slop of 0  
> > means the terms must be contiguous with no gaps, which also allows  
> > for matches in the same position as in your first example.
> >
> > I think MultiPhraseQuery (from svn trunk) will do what you want  
> > though.  Please try that and report back on how it works for you.
> >
> >     Erik
> >
> >
> 
> >: i have a problem with a SpanNearQuery returning incorrect (false
> >: positive) results.
> >
> >I'm not familiar with how Span queries are implimented, but there doesn't
> >appear to be any test cases dealing with an index where term position
> >increments are ever 0, so i can neither confirm nor deny the bug you're
> >seeing.
> >
> >Can you post code demonstrating the problem?  ideally in the form of
> >a simple, self contained, JUnit test?
> >
> >
> >
> >-Hoss
> >
> 
> 
> 
> 
> > On Jan 4, 2006, at 9:39 PM, Marc Hadfield wrote:
> >
> >> hello all -
> >>
> >> i have a problem with a SpanNearQuery returning incorrect (false  
> >> positive) results.
> >>
> >> I am creating the context of a field using tokens which have  
> >> position increment set to either 1 or 0.  The position increment is  
> >> set to 0 for special tokens, in this case part-of-speech markers.
> >> Thus, brackets set of position increments:
> >>
> >> [The __pos_dt] [cow __pos_noun] [jumped __pos_verb] [over  
> >> __pos_prep] [the __pos_dt] [moon __pos_noun] [. __pos_.]
> >>
> >>
> >> My Span Query looks like:
> >> SpanQuery sq = new SpanNearQuery(new SpanQuery[]
> >>                      {
> >>                         new SpanTermQuery(new Term("content",  
> >> "jumped")),
> >>                                            new SpanTermQuery(new  
> >> Term("content", "__pos_verb"))
> >>                                         }, 0, false);
> >>
> >> This correctly finds the span:  [jumped __pos_verb]
> >>
> >> However, if I query:
> >> SpanQuery sq = new SpanNearQuery(new SpanQuery[]
> >>                      {
> >>                         new SpanTermQuery(new Term("content",  
> >> "jumped")),
> >>                                            new SpanTermQuery(new  
> >> Term("content", "__pos_noun"))
> >>                                         }, 0, false);
> >>
> >> This incorrectly finds the span:  [cow __pos_noun] [jumped __pos_verb]
> >>
> >> This is wrong because there is a distance of 1 between the tokens,  
> >> not 0.
> >>
> >> I am using a recent version of Lucene from SVN.
> >>
> >> I am thinking that the problem is related to the position increment  
> >> being set to 0 for the first token of the incorrect "match" -- thus  
> >> perhaps this is a bug in the SpanNearQuery?
> >>
> >>
> >> Best,
> >> Marc
> >>
> >>
> >>
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 19:03:39 2006
Return-Path: <java-user-return-18201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79692 invoked from network); 5 Jan 2006 19:03:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 19:03:38 -0000
Received: (qmail 7238 invoked by uid 500); 5 Jan 2006 19:03:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7200 invoked by uid 500); 5 Jan 2006 19:03:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7174 invoked by uid 99); 5 Jan 2006 19:03:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 11:03:31 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=INVALID_MSGID
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.44] (HELO mail.mi8.com) (63.240.6.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 11:03:30 -0800
Received: from 172.16.1.24 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D4)); Thu, 05 Jan 2006 14:03:02 -0500
X-Server-Uuid: C8FB4D43-1108-484A-A898-3CBCC7906230
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.162]) by
 d01smtp03.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Thu, 5 Jan
 2006 14:03:02 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Opening (and building) the lucene source in eclipse
Date: Thu, 5 Jan 2006 14:03:02 -0500
Message-ID: 1E5CA85A48F8204BA253CFCE0B533F59
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <3AF76382C31760418AF0FBFD84F7140304B197F8@MI8NYCMAIL07.Mi8.com>
Thread-Topic: Opening (and building) the lucene source in eclipse
Thread-Index: AcYR/GG/lRzliQkYRkmMPAEf6/a6NQALTg2b
References: <3AF76382C31760418AF0FBFD84F7140308FB41B4@MI8NYCMAIL07.Mi8.com>
 <9BA3D530-EF48-4A59-BA99-9C6E87721E71@ehatchersolutions.com>
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 05 Jan 2006 19:03:02.0660 (UTC)
 FILETIME=[A703AC40:01C6122A]
X-WSS-ID: 6FA3B2EC12G7574655-01-01
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I did manage to get things built with ant this morning (I had some time and space on the train) including the DBDJE support, although I wasn't aware any of it had been checked into contrib. I'll have to grab that tonight.

I had tried building a normal Eclipse project, but was having some problems with it. At least now I can build from the command line. Now I just need to figure out who to report the Eclipse/Ant problems to...

Just curious, but when one is desiring to make use of stuff in the contrib is there any particular reason to compile it into the Lucene jar, or include it in the project that's making use of it, or is it really just up to the preferences of the developer using it or the needs of the environment?

Thanks for your patience with my question. I've made some really good progress in the last couple days, so it looks like I'll be giving the BDBJE integration a good workout this weekend.

Colin

  _____  

From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thu 1/5/2006 8:31 AM
To: java-user@lucene.apache.org
Subject: Re: Opening (and building) the lucene source in eclipse



Colin,

I've not used Eclipse in a long while, and I've not used the new Ant
project support it has. It sounds like Eclipse has issues with Ant
imports as you've surmised, and my recommendation is to simply set up
a normal Eclipse project. The source tree to Lucene is extremely
basic... src/java is the only path you need to add to build the core
Lucene library. For the BDBJE stuff, you'll want to check out the
latest source code of contrib/db where Andi has just committed the
BDBJE code, and add its source path(s) to your Eclipse project as well.

Not using the Ant project support should be just fine. I use
IntelliJ without running Ant through it. I simply use the command-
line to run Ant, and the IDE to do iterative development and unit
testing.

 Erik



Notice: This email message is for the sole use of the intended recipient(s) and may contain confidential and privileged information. Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please contact the sender by reply email and destroy all copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 19:48:46 2006
Return-Path: <java-user-return-18202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1635 invoked from network); 5 Jan 2006 19:48:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 19:48:46 -0000
Received: (qmail 77957 invoked by uid 500); 5 Jan 2006 19:48:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77657 invoked by uid 500); 5 Jan 2006 19:48:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77646 invoked by uid 99); 5 Jan 2006 19:48:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 11:48:40 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 11:48:38 -0800
Received: (qmail 24357 invoked from network); 5 Jan 2006 19:48:16 -0000
Received: from unknown (HELO p5496d619.dip.t-dialin.net) ([pbs]695637@[84.150.214.25])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 5 Jan 2006 19:48:16 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: WordNet alternatives
Date: Thu, 5 Jan 2006 20:49:46 +0100
User-Agent: KMail/1.8.2
References: <37E2AB54ECE58E40A4E56916CD324DD46D4112@NAVEXC.corp.int.com>
In-Reply-To: <37E2AB54ECE58E40A4E56916CD324DD46D4112@NAVEXC.corp.int.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601052049.46885@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 05 Januar 2006 16:09, Yilmazel, Sibel wrote:

> Are there any WordNet dictionary alternatives that anyone had a chance
> to look into for Lucene?

Maybe you could specify your question: what exactly are you trying to do 
with WordNet and why are you looking for alternatives?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 19:49:44 2006
Return-Path: <java-user-return-18203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2599 invoked from network); 5 Jan 2006 19:49:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 19:49:44 -0000
Received: (qmail 81267 invoked by uid 500); 5 Jan 2006 19:49:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81222 invoked by uid 500); 5 Jan 2006 19:49:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81194 invoked by uid 99); 5 Jan 2006 19:49:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 11:49:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 11:49:31 -0800
Received: (qmail 24517 invoked from network); 5 Jan 2006 19:49:10 -0000
Received: from unknown (HELO p5496d619.dip.t-dialin.net) ([pbs]695637@[84.150.214.25])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 5 Jan 2006 19:49:10 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: multi-field query parser with AND operator?
Date: Thu, 5 Jan 2006 20:50:41 +0100
User-Agent: KMail/1.8.2
References: <06Jan4.183131pst."58633"@synergy1.parc.xerox.com>
In-Reply-To: <06Jan4.183131pst."58633"@synergy1.parc.xerox.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200601052050.41885@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 05 Januar 2006 03:31, Bill Janssen wrote:

> I've got a some code developed for Lucene 1.4.1, that works around the
> problem of having both (1) multiple default fields, and (2) the AND
> operator for query elements. =C2=A0In 1.4.1, MultiFieldQueryParser
> effectively only allowed the OR operator.
>
> I'm wondering if this has changed in 1.9.

Yes, this has been fixed in 1.9.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 20:34:42 2006
Return-Path: <java-user-return-18204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35358 invoked from network); 5 Jan 2006 20:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 20:34:41 -0000
Received: (qmail 56196 invoked by uid 500); 5 Jan 2006 20:34:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56169 invoked by uid 500); 5 Jan 2006 20:34:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56158 invoked by uid 99); 5 Jan 2006 20:34:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 12:34:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 12:34:34 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0F24713E2005; Thu,  5 Jan 2006 15:34:13 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id BB1E013E2005
	for <java-user@lucene.apache.org>; Thu,  5 Jan 2006 15:34:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: 1E5CA85A48F8204BA253CFCE0B533F59
References: <3AF76382C31760418AF0FBFD84F7140308FB41B4@MI8NYCMAIL07.Mi8.com> <9BA3D530-EF48-4A59-BA99-9C6E87721E71@ehatchersolutions.com> 1E5CA85A48F8204BA253CFCE0B533F59
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3EB20B25-E633-436B-AFF5-FF11C7923E29@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Opening (and building) the lucene source in eclipse
Date: Thu, 5 Jan 2006 15:34:02 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 5, 2006, at 2:03 PM, Colin Young wrote:
> Just curious, but when one is desiring to make use of stuff in the  
> contrib is there any particular reason to compile it into the  
> Lucene jar, or include it in the project that's making use of it,  
> or is it really just up to the preferences of the developer using  
> it or the needs of the environment?

IDE builds aren't official with Lucene.  All releases are built with  
the command-line using Ant.  The way the contrib build works is that  
each builds it's own JAR.  The core of Lucene is its own separate JAR  
also.  I would not recommend merging everything into one JAR, but  
certainly there is no problem with doing so.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 21:43:12 2006
Return-Path: <java-user-return-18205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75233 invoked from network); 5 Jan 2006 21:43:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 21:43:11 -0000
Received: (qmail 22223 invoked by uid 500); 5 Jan 2006 21:43:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22114 invoked by uid 500); 5 Jan 2006 21:43:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22078 invoked by uid 99); 5 Jan 2006 21:43:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 13:43:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.222] (HELO virginia.cc.emory.edu) (170.140.8.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 13:43:02 -0800
Received: from localhost (localhost [127.0.0.1])
	by virginia.cc.emory.edu (8.13.4/8.13.4) with ESMTP id k05LgZUW016020
	for <java-user@lucene.apache.org>; Thu, 5 Jan 2006 16:42:37 -0500 (EST)
Received: from metascholar3.library.emory.edu(metascholar3.library.emory.edu
	 [170.140.210.99]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Thu, 05 Jan 200616:42:35 -0500
Message-ID: <20060105164235.u31mifa20o088wk8@webmail.service.emory.edu>
Date: Thu, 05 Jan 2006 16:42:35 -0500
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: Handling fractional field range queries
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-imss-version: 2.035
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

Any pointers on how to handle range queries if the data type is double 
or float?

Best,
Urvashi




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 22:09:44 2006
Return-Path: <java-user-return-18206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88902 invoked from network); 5 Jan 2006 22:09:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 22:09:44 -0000
Received: (qmail 85034 invoked by uid 500); 5 Jan 2006 22:09:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84735 invoked by uid 500); 5 Jan 2006 22:09:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84724 invoked by uid 99); 5 Jan 2006 22:09:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:09:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:09:37 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id E211C5B8062
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:09:16 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id C220E534155
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:09:16 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 17159-02-10 for <java-user@lucene.apache.org>;
 Fri,  6 Jan 2006 09:09:16 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id F1E95534154
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:09:15 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
Content-Transfer-Encoding: 7bit
Message-Id: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Paul Smith <psmith@aconex.com>
Subject: "Starts with" query?
Date: Fri, 6 Jan 2006 09:09:14 +1100
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm throwing myself at the mercy of the lucene community, I'm a bit  
brain dead today after looking after a screaming 3 month old baby for  
4 hours last night...

We have a 'title' field indexed as Field.Text(...), which works  
nicely, and has lots of good searching.

However, this application is being ported from a DB based search,  
which had originally a "starts with" type search, and we need to  
support that.

So, given "The quick brown fox jumped of the caffeine addicted  
software developer", if the user types "The quick*" we need to find  
only those that have a title that starts with, and NOT match  
documents that have "The quick" as a sequence of terms later in the  
title (ie don't match "blah blah the quick blah blah").

Think SQL of " ....where title like 'The quick%'  ".

How do I do that with Lucene?  I'm sure this a is a dumb question,  
and I know that Lucene's searching is way more useful than that, but  
you know these pesky compatibility requirements.....It's screwing  
with my unit tests because the new index search results are getting  
more results that the old db method.

cheers,

Paul Smith

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 22:34:17 2006
Return-Path: <java-user-return-18208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4002 invoked from network); 5 Jan 2006 22:34:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 22:34:16 -0000
Received: (qmail 21693 invoked by uid 500); 5 Jan 2006 22:34:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21630 invoked by uid 500); 5 Jan 2006 22:34:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21454 invoked by uid 99); 5 Jan 2006 22:34:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:34:02 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:34:01 -0800
Received: by zproxy.gmail.com with SMTP id x7so3129407nzc
        for <java-user@lucene.apache.org>; Thu, 05 Jan 2006 14:33:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=giS0v28jKpRjThdKkH9WykcS7MFRrc9aoRPBPbAMijuFEPo6oVuK9Q3+xeMfkgeTlbcfjdqD1KgmgmZcwzNmwzqCw30wrpnxzG1o3coZh0I6/iQmU3G+uovLg+ZNHm8Bwao3zrW1E2iWg4ti+JrUBy1nYmOetYGf+Q5C9CKn17E=
Received: by 10.65.177.14 with SMTP id e14mr5537612qbp;
        Thu, 05 Jan 2006 14:33:40 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Thu, 5 Jan 2006 14:33:40 -0800 (PST)
Message-ID: <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com>
Date: Thu, 5 Jan 2006 17:33:40 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "Starts with" query?
In-Reply-To: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Off the top of my head:
1) also index the field untokenized and use a straight prefix query
2) index a magic token at the start of the title and include that in a
phrase query:
   "_START_ the quick"
3) use a SpanFirst query (but you have to make the Java Query object yourse=
lf)

-Yonik

On 1/5/06, Paul Smith <psmith@aconex.com> wrote:
> I'm throwing myself at the mercy of the lucene community, I'm a bit
> brain dead today after looking after a screaming 3 month old baby for
> 4 hours last night...
>
> We have a 'title' field indexed as Field.Text(...), which works
> nicely, and has lots of good searching.
>
> However, this application is being ported from a DB based search,
> which had originally a "starts with" type search, and we need to
> support that.
>
> So, given "The quick brown fox jumped of the caffeine addicted
> software developer", if the user types "The quick*" we need to find
> only those that have a title that starts with, and NOT match
> documents that have "The quick" as a sequence of terms later in the
> title (ie don't match "blah blah the quick blah blah").
>
> Think SQL of " ....where title like 'The quick%'  ".
>
> How do I do that with Lucene?  I'm sure this a is a dumb question,
> and I know that Lucene's searching is way more useful than that, but
> you know these pesky compatibility requirements.....It's screwing
> with my unit tests because the new index search results are getting
> more results that the old db method.
>
> cheers,
>
> Paul Smith
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 22:34:17 2006
Return-Path: <java-user-return-18207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4004 invoked from network); 5 Jan 2006 22:34:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 22:34:16 -0000
Received: (qmail 21673 invoked by uid 500); 5 Jan 2006 22:34:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21413 invoked by uid 500); 5 Jan 2006 22:34:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21395 invoked by uid 99); 5 Jan 2006 22:34:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:34:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:34:00 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 035535B78A; Thu,  5 Jan 2006 14:33:40 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0097D7F459
	for <java-user@lucene.apache.org>; Thu,  5 Jan 2006 14:33:39 -0800 (PST)
Date: Thu, 5 Jan 2006 14:33:39 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: "Starts with" query?
In-Reply-To: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
Message-ID: <Pine.LNX.4.58.0601051428360.23272@hal.rescomp.berkeley.edu>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



: Think SQL of " ....where title like 'The quick%'  ".

I solved this problem by having a variation of my field that was not
tokenized, and did PrefixQueries on that field (so in your case, leave
your title field alone for generic matches, and have a titleUntokenized
field for PrefixMatches.

Another approach i have not tried that should work as long as your "starts
with" input is allways whole Terms (ie: "The quick %" and not "The qu%")
is to use a SpanFirstQuery wrapped arround a a SpanNearQuery containing
successive SpanTermQueries with no slop.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 22:49:14 2006
Return-Path: <java-user-return-18209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13051 invoked from network); 5 Jan 2006 22:49:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 22:49:14 -0000
Received: (qmail 46351 invoked by uid 500); 5 Jan 2006 22:49:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46162 invoked by uid 500); 5 Jan 2006 22:49:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46147 invoked by uid 99); 5 Jan 2006 22:49:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:49:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:49:07 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id BCA985B806A
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:48:45 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 87B38534155
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:48:45 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 18310-04-48 for <java-user@lucene.apache.org>;
 Fri,  6 Jan 2006 09:48:44 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id BA49B534154
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:48:44 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <Pine.LNX.4.58.0601051428360.23272@hal.rescomp.berkeley.edu>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com> <Pine.LNX.4.58.0601051428360.23272@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8DEB4793-6341-4E02-B0D0-64402D6EC720@aconex.com>
Content-Transfer-Encoding: 7bit
From: Paul Smith <psmith@aconex.com>
Subject: Re: "Starts with" query?
Date: Fri, 6 Jan 2006 09:48:42 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On 06/01/2006, at 9:33 AM, Chris Hostetter wrote:

>
>
> : Think SQL of " ....where title like 'The quick%'  ".
>
> I solved this problem by having a variation of my field that was not
> tokenized, and did PrefixQueries on that field (so in your case, leave
> your title field alone for generic matches, and have a  
> titleUntokenized
> field for PrefixMatches.

Thanks Chris, I had thought of that one, but unfortunately the title  
could be quite long, and there are literally millions of documents.   
Isn't each title going to be included as one "term" in the index  
dictionary?  If so, won't the index get ridiculously large and slow?
>
> Another approach i have not tried that should work as long as your  
> "starts
> with" input is allways whole Terms (ie: "The quick %" and not "The  
> qu%")
> is to use a SpanFirstQuery wrapped arround a a SpanNearQuery  
> containing
> successive SpanTermQueries with no slop.

ooh err, Span queries, I'd better go have a look at them.

thanks,

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 22:54:06 2006
Return-Path: <java-user-return-18210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15578 invoked from network); 5 Jan 2006 22:54:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 22:54:05 -0000
Received: (qmail 54289 invoked by uid 500); 5 Jan 2006 22:54:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54271 invoked by uid 500); 5 Jan 2006 22:53:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54260 invoked by uid 99); 5 Jan 2006 22:53:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:53:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 14:53:59 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 175545B8062
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:53:38 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id CDC27534156
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:53:37 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 20834-01-92 for <java-user@lucene.apache.org>;
 Fri,  6 Jan 2006 09:53:37 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 27953534154
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 09:53:37 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com> <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F75EC2FA-65E2-4EC9-8769-33F7DA3A10A9@aconex.com>
Content-Transfer-Encoding: 7bit
From: Paul Smith <psmith@aconex.com>
Subject: Re: "Starts with" query?
Date: Fri, 6 Jan 2006 09:53:34 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> 1) also index the field untokenized and use a straight prefix query
See my reply to Chris, not sure I can afford the index size increment.

> 2) index a magic token at the start of the title and include that in a
> phrase query:
>    "_START_ the quick"

ooooh, that's clever.

> 3) use a SpanFirst query (but you have to make the Java Query  
> object yourself)

Will SpanFirst find the phrase at the start, but where the term might  
not be compelete, ie. search would be "The qu*"?

the _START_ trick might do it, and efficient in terms of index size etc.

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 05 23:44:38 2006
Return-Path: <java-user-return-18211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43308 invoked from network); 5 Jan 2006 23:44:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Jan 2006 23:44:35 -0000
Received: (qmail 26161 invoked by uid 500); 5 Jan 2006 23:44:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26042 invoked by uid 500); 5 Jan 2006 23:44:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26005 invoked by uid 99); 5 Jan 2006 23:44:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 15:44:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 15:44:19 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 7AB575B8060
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 10:43:57 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 59F69534155
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 10:43:57 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 30270-01-5 for <java-user@lucene.apache.org>;
 Fri,  6 Jan 2006 10:43:56 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 9354D534154
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 10:43:56 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com> <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <83D5A154-9D25-4D22-B3B8-FDB1EE742730@aconex.com>
Content-Transfer-Encoding: 7bit
From: Paul Smith <psmith@aconex.com>
Subject: Re: "Starts with" query?
Date: Fri, 6 Jan 2006 10:43:53 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> 2) index a magic token at the start of the title and include that in a
> phrase query:
>    "_START_ the quick"

Ok, I've gone and chose "0start0" as my start token, because our  
analyzer is stripping _.

Now, second dumb question of the day, give the search for starts with  
"The qui*", that has to be turned into a prefix query, like so?

new PrefixQuery(new Term("title", "0start0 " +  "The qui"))

Is that the right approach?  To always prefix the search term string  
with the magic start text?

I ask this because I'm getting weird results in my search now, as all  
documents are being matched.  When the query is finally run, it looks  
like this:

+(orgid:7 publicflag:1 sharedorgid:7) +isregistered:1 +title:'0start0  
f'* +cversion:1

(you can ignore all but the title field in this case, the rest is  
correct for our app).

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 00:02:14 2006
Return-Path: <java-user-return-18212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50189 invoked from network); 6 Jan 2006 00:02:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 00:02:14 -0000
Received: (qmail 42371 invoked by uid 500); 6 Jan 2006 00:02:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42314 invoked by uid 500); 6 Jan 2006 00:02:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42229 invoked by uid 99); 6 Jan 2006 00:02:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 16:02:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 16:01:57 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 5D0275B8060
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 11:01:36 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 3D3E9534155
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 11:01:36 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 02499-01-7 for <java-user@lucene.apache.org>;
 Fri,  6 Jan 2006 11:01:35 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 53C90534154
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 11:01:35 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <83D5A154-9D25-4D22-B3B8-FDB1EE742730@aconex.com>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com> <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com> <83D5A154-9D25-4D22-B3B8-FDB1EE742730@aconex.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1FE28A5B-5259-4883-A769-3BC4E67598C3@aconex.com>
Content-Transfer-Encoding: 7bit
From: Paul Smith <psmith@aconex.com>
Subject: Re: "Starts with" query?
Date: Fri, 6 Jan 2006 11:01:31 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

first off response to my own post, I meant PhraseQuery instead.

But, since we're only tokenizing this field ,and not storing the  
entire contents of the field, I'm not sure this is ever going to  
work, is it?

I notice that if I have a title "auto update", then the phrase query  
trick works if it searches on

	title:"0start0 auto*"

but does not find any matches for

	title:"0start0 aut*"

I'm a bit stuck.

Paul

On 06/01/2006, at 10:43 AM, Paul Smith wrote:

>> 2) index a magic token at the start of the title and include that  
>> in a
>> phrase query:
>>    "_START_ the quick"
>
> Ok, I've gone and chose "0start0" as my start token, because our  
> analyzer is stripping _.
>
> Now, second dumb question of the day, give the search for starts  
> with "The qui*", that has to be turned into a prefix query, like so?
>
> new PrefixQuery(new Term("title", "0start0 " +  "The qui"))
>
> Is that the right approach?  To always prefix the search term  
> string with the magic start text?
>
> I ask this because I'm getting weird results in my search now, as  
> all documents are being matched.  When the query is finally run, it  
> looks like this:
>
> +(orgid:7 publicflag:1 sharedorgid:7) +isregistered:1  
> +title:'0start0 f'* +cversion:1
>
> (you can ignore all but the title field in this case, the rest is  
> correct for our app).
>
> Paul
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 00:39:41 2006
Return-Path: <java-user-return-18213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68176 invoked from network); 6 Jan 2006 00:39:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 00:39:40 -0000
Received: (qmail 82083 invoked by uid 500); 6 Jan 2006 00:39:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82029 invoked by uid 500); 6 Jan 2006 00:39:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82006 invoked by uid 99); 6 Jan 2006 00:39:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 16:39:22 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO zproxy.gmail.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 16:39:21 -0800
Received: by zproxy.gmail.com with SMTP id x7so3148366nzc
        for <java-user@lucene.apache.org>; Thu, 05 Jan 2006 16:39:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=q1G2y97H7nXuQt+JjdxPcKc/P8pNd/NcTnYgZUVGjaUzm7jWIyLUhznlxqE3FtedwOWyNEEeSggssQHrOBn2TxKa/IWSVqBIsKPnqJnXRJMizhCxZ75ewYzbIlV0vyLY0y3sovprG5TFsZzgrqzlLvfngBruhTvPXraaJWACy1Q=
Received: by 10.65.96.13 with SMTP id y13mr1714045qbl;
        Thu, 05 Jan 2006 16:39:00 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Thu, 5 Jan 2006 16:39:00 -0800 (PST)
Message-ID: <c68e39170601051639q708d3ea7p9b293609cad7c4fa@mail.gmail.com>
Date: Thu, 5 Jan 2006 19:39:00 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "Starts with" query?
In-Reply-To: <1FE28A5B-5259-4883-A769-3BC4E67598C3@aconex.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
	 <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com>
	 <83D5A154-9D25-4D22-B3B8-FDB1EE742730@aconex.com>
	 <1FE28A5B-5259-4883-A769-3BC4E67598C3@aconex.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Check out PhrasePrefixQuery.

-Yonik


On 1/5/06, Paul Smith <psmith@aconex.com> wrote:
> first off response to my own post, I meant PhraseQuery instead.
>
> But, since we're only tokenizing this field ,and not storing the
> entire contents of the field, I'm not sure this is ever going to
> work, is it?
>
> I notice that if I have a title "auto update", then the phrase query
> trick works if it searches on
>
>         title:"0start0 auto*"
>
> but does not find any matches for
>
>         title:"0start0 aut*"
>
> I'm a bit stuck.
>
> Paul
>
> On 06/01/2006, at 10:43 AM, Paul Smith wrote:
>
> >> 2) index a magic token at the start of the title and include that
> >> in a
> >> phrase query:
> >>    "_START_ the quick"
> >
> > Ok, I've gone and chose "0start0" as my start token, because our
> > analyzer is stripping _.
> >
> > Now, second dumb question of the day, give the search for starts
> > with "The qui*", that has to be turned into a prefix query, like so?
> >
> > new PrefixQuery(new Term("title", "0start0 " +  "The qui"))
> >
> > Is that the right approach?  To always prefix the search term
> > string with the magic start text?
> >
> > I ask this because I'm getting weird results in my search now, as
> > all documents are being matched.  When the query is finally run, it
> > looks like this:
> >
> > +(orgid:7 publicflag:1 sharedorgid:7) +isregistered:1
> > +title:'0start0 f'* +cversion:1
> >
> > (you can ignore all but the title field in this case, the rest is
> > correct for our app).
> >
> > Paul
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 00:41:11 2006
Return-Path: <java-user-return-18214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68759 invoked from network); 6 Jan 2006 00:41:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 00:41:11 -0000
Received: (qmail 86523 invoked by uid 500); 6 Jan 2006 00:41:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86493 invoked by uid 500); 6 Jan 2006 00:41:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86482 invoked by uid 99); 6 Jan 2006 00:41:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 16:41:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 16:41:04 -0800
Received: by zproxy.gmail.com with SMTP id x3so3379211nzd
        for <java-user@lucene.apache.org>; Thu, 05 Jan 2006 16:40:44 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=FE7U7oENP3cYRNS5CDwmMPtpY/1lid0TPLVPbk7HLdA2dv0CbLlWpOX5oP5XoUWRZgSfWe/eEU10+hBGJmtedsatn0AgkLz+siQ1iDI+qw+siRRYqEDlTBzbRvaEEkvCK6bDoqj0/4CDyq/7TIzra4c4XSzZoQIzxqiLNcPsfGg=
Received: by 10.65.119.10 with SMTP id w10mr1719144qbm;
        Thu, 05 Jan 2006 16:40:44 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Thu, 5 Jan 2006 16:40:43 -0800 (PST)
Message-ID: <c68e39170601051640j71c08386q29f91442fa960a21@mail.gmail.com>
Date: Thu, 5 Jan 2006 19:40:43 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: "Starts with" query?
In-Reply-To: <c68e39170601051639q708d3ea7p9b293609cad7c4fa@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
	 <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com>
	 <83D5A154-9D25-4D22-B3B8-FDB1EE742730@aconex.com>
	 <1FE28A5B-5259-4883-A769-3BC4E67598C3@aconex.com>
	 <c68e39170601051639q708d3ea7p9b293609cad7c4fa@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That's deprecated now of course... so you want MultiPhraseQuery.

-Yonik

On 1/5/06, Yonik Seeley <yseeley@gmail.com> wrote:
> Check out PhrasePrefixQuery.
>
> -Yonik
>
>
> On 1/5/06, Paul Smith <psmith@aconex.com> wrote:
> > first off response to my own post, I meant PhraseQuery instead.
> >
> > But, since we're only tokenizing this field ,and not storing the
> > entire contents of the field, I'm not sure this is ever going to
> > work, is it?
> >
> > I notice that if I have a title "auto update", then the phrase query
> > trick works if it searches on
> >
> >         title:"0start0 auto*"
> >
> > but does not find any matches for
> >
> >         title:"0start0 aut*"
> >
> > I'm a bit stuck.
> >
> > Paul
> >
> > On 06/01/2006, at 10:43 AM, Paul Smith wrote:
> >
> > >> 2) index a magic token at the start of the title and include that
> > >> in a
> > >> phrase query:
> > >>    "_START_ the quick"
> > >
> > > Ok, I've gone and chose "0start0" as my start token, because our
> > > analyzer is stripping _.
> > >
> > > Now, second dumb question of the day, give the search for starts
> > > with "The qui*", that has to be turned into a prefix query, like so?
> > >
> > > new PrefixQuery(new Term("title", "0start0 " +  "The qui"))
> > >
> > > Is that the right approach?  To always prefix the search term
> > > string with the magic start text?
> > >
> > > I ask this because I'm getting weird results in my search now, as
> > > all documents are being matched.  When the query is finally run, it
> > > looks like this:
> > >
> > > +(orgid:7 publicflag:1 sharedorgid:7) +isregistered:1
> > > +title:'0start0 f'* +cversion:1
> > >
> > > (you can ignore all but the title field in this case, the rest is
> > > correct for our app).
> > >
> > > Paul
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 04:26:08 2006
Return-Path: <java-user-return-18215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69182 invoked from network); 6 Jan 2006 04:26:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 04:26:08 -0000
Received: (qmail 31131 invoked by uid 500); 6 Jan 2006 04:26:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30712 invoked by uid 500); 6 Jan 2006 04:26:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30701 invoked by uid 99); 6 Jan 2006 04:26:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 20:26:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 20:25:59 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 75B4B5B789; Thu,  5 Jan 2006 20:25:37 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 732D57F459
	for <java-user@lucene.apache.org>; Thu,  5 Jan 2006 20:25:37 -0800 (PST)
Date: Thu, 5 Jan 2006 20:25:37 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: "Starts with" query?
In-Reply-To: <8DEB4793-6341-4E02-B0D0-64402D6EC720@aconex.com>
Message-ID: <Pine.LNX.4.58.0601052020390.32304@hal.rescomp.berkeley.edu>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com>
 <Pine.LNX.4.58.0601051428360.23272@hal.rescomp.berkeley.edu>
 <8DEB4793-6341-4E02-B0D0-64402D6EC720@aconex.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: Thanks Chris, I had thought of that one, but unfortunately the title
: could be quite long, and there are literally millions of documents.
: Isn't each title going to be included as one "term" in the index
: dictionary?  If so, won't the index get ridiculously large and slow?

It depends on your definitions of "large" and "slow" ... I haven't had any
complains, but i haven't really tried chaning my implimentation to see if
i can improve on it.

one thing you may not have thought about yet that may affect your
decision: sorting in lucene requires the field be indexed but untokenized.
so if you want to support sortting on the conceptual "title", you'll still
need a version of your title field that's untokenized, which can then be
used for these types of queries for free.

(it's the kind of thing people sometimes don't realize untill late in
their development, they make sure all of their queries return the results
they expect before they worry about what kinds of sorting they need to
support)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 04:52:29 2006
Return-Path: <java-user-return-18216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79762 invoked from network); 6 Jan 2006 04:52:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 04:52:28 -0000
Received: (qmail 61005 invoked by uid 500); 6 Jan 2006 04:52:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60978 invoked by uid 500); 6 Jan 2006 04:52:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60967 invoked by uid 99); 6 Jan 2006 04:52:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 20:52:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Jan 2006 20:52:20 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 3EABB5B803E
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 15:51:59 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 094A7534155
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 15:51:59 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 06071-02-29 for <java-user@lucene.apache.org>;
 Fri,  6 Jan 2006 15:51:58 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 4F50C534154
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 15:51:58 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <Pine.LNX.4.58.0601052020390.32304@hal.rescomp.berkeley.edu>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com> <Pine.LNX.4.58.0601051428360.23272@hal.rescomp.berkeley.edu> <8DEB4793-6341-4E02-B0D0-64402D6EC720@aconex.com> <Pine.LNX.4.58.0601052020390.32304@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <85365BD5-CDE5-47CF-9268-82E3FE6A86A8@aconex.com>
Content-Transfer-Encoding: 7bit
From: Paul Smith <psmith@aconex.com>
Subject: Re: "Starts with" query?
Date: Fri, 6 Jan 2006 15:51:50 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>
> one thing you may not have thought about yet that may affect your
> decision: sorting in lucene requires the field be indexed but  
> untokenized.
> so if you want to support sortting on the conceptual "title",  
> you'll still
> need a version of your title field that's untokenized, which can  
> then be
> used for these types of queries for free.
>
> (it's the kind of thing people sometimes don't realize untill late in
> their development, they make sure all of their queries return the  
> results
> they expect before they worry about what kinds of sorting they need to
> support)

Thanks for that note, we had decided that this was a field we were  
just not going to be able to support sorting on, for both index size  
and search/sort performance.

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 12:01:41 2006
Return-Path: <java-user-return-18217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65328 invoked from network); 6 Jan 2006 12:01:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 12:01:39 -0000
Received: (qmail 54262 invoked by uid 500); 6 Jan 2006 12:01:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54226 invoked by uid 500); 6 Jan 2006 12:01:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54206 invoked by uid 99); 6 Jan 2006 12:01:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 04:01:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 04:01:28 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0052E13E201A; Fri,  6 Jan 2006 07:01:06 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 3C87713E2005
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 07:00:46 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <1FE28A5B-5259-4883-A769-3BC4E67598C3@aconex.com>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com> <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com> <83D5A154-9D25-4D22-B3B8-FDB1EE742730@aconex.com> <1FE28A5B-5259-4883-A769-3BC4E67598C3@aconex.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D964B804-E941-4584-BACB-E707E695FDFB@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: "Starts with" query?
Date: Fri, 6 Jan 2006 07:00:47 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 5, 2006, at 7:01 PM, Paul Smith wrote:
> first off response to my own post, I meant PhraseQuery instead.
>
> But, since we're only tokenizing this field ,and not storing the  
> entire contents of the field, I'm not sure this is ever going to  
> work, is it?

Sure it will :)

> I notice that if I have a title "auto update", then the phrase  
> query trick works if it searches on
>
> 	title:"0start0 auto*"
>
> but does not find any matches for
>
> 	title:"0start0 aut*"
>
> I'm a bit stuck.

PhraseQuery does not handle wildcards.  Unfortunately this is common  
misunderstanding.

The MultiPhraseQuery could do this provided you expand "aut*" into  
all the matching terms yourself.  But here is an alternative using  
the new SpanRegexQuery (in contrib/regex):

     RAMDirectory directory = new RAMDirectory();
     IndexWriter writer = new IndexWriter(directory, new  
SimpleAnalyzer(), true);
     Document doc = new Document();
     doc.add(new Field("field", "auto update", Field.Store.NO,  
Field.Index.TOKENIZED));
     writer.addDocument(doc);
     doc = new Document();
     doc.add(new Field("field", "first auto update", Field.Store.NO,  
Field.Index.TOKENIZED));
     writer.addDocument(doc);
     writer.optimize();
     writer.close();

     IndexSearcher searcher = new IndexSearcher(directory);
     SpanRegexQuery srq = new SpanRegexQuery(new Term("field",  
"aut.*"));
     SpanFirstQuery sfq = new SpanFirstQuery(srq, 1);
     Hits hits = searcher.search(sfq);
     assertEquals(1, hits.length());

Notice that the query is "aut.*", not "aut*" such that it is a valid  
regular expression for what you want.  In my current project, my  
custom query parser handles * and ? like WildcardQuery, but under the  
covers I simply convert that into a regex by replacing ? with . and *  
with .*

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 12:11:42 2006
Return-Path: <java-user-return-18218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69770 invoked from network); 6 Jan 2006 12:11:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 12:11:42 -0000
Received: (qmail 69952 invoked by uid 500); 6 Jan 2006 12:11:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69932 invoked by uid 500); 6 Jan 2006 12:11:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69921 invoked by uid 99); 6 Jan 2006 12:11:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 04:11:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 04:11:35 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D7C4113E2005; Fri,  6 Jan 2006 07:11:14 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 3D60C13E2005
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 07:11:11 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <D964B804-E941-4584-BACB-E707E695FDFB@ehatchersolutions.com>
References: <80DEC792-6385-40AF-BB77-8382E93886F8@aconex.com> <c68e39170601051433x12cfed6fk18438c8a11a5bd50@mail.gmail.com> <83D5A154-9D25-4D22-B3B8-FDB1EE742730@aconex.com> <1FE28A5B-5259-4883-A769-3BC4E67598C3@aconex.com> <D964B804-E941-4584-BACB-E707E695FDFB@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <52EA13E9-BF83-4360-AB04-0F4F4A2EF660@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: "Starts with" query?
Date: Fri, 6 Jan 2006 07:11:12 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 6, 2006, at 7:00 AM, Erik Hatcher wrote:
>> I notice that if I have a title "auto update", then the phrase  
>> query trick works if it searches on
>>
>> 	title:"0start0 auto*"
>>
>> but does not find any matches for
>>
>> 	title:"0start0 aut*"
>>
>> I'm a bit stuck.
>
> PhraseQuery does not handle wildcards.  Unfortunately this is  
> common misunderstanding.
>
> The MultiPhraseQuery could do this provided you expand "aut*" into  
> all the matching terms yourself.  But here is an alternative using  
> the new SpanRegexQuery (in contrib/regex):
>
>     RAMDirectory directory = new RAMDirectory();
>     IndexWriter writer = new IndexWriter(directory, new  
> SimpleAnalyzer(), true);
>     Document doc = new Document();
>     doc.add(new Field("field", "auto update", Field.Store.NO,  
> Field.Index.TOKENIZED));
>     writer.addDocument(doc);
>     doc = new Document();
>     doc.add(new Field("field", "first auto update", Field.Store.NO,  
> Field.Index.TOKENIZED));
>     writer.addDocument(doc);
>     writer.optimize();
>     writer.close();
>
>     IndexSearcher searcher = new IndexSearcher(directory);
>     SpanRegexQuery srq = new SpanRegexQuery(new Term("field",  
> "aut.*"));
>     SpanFirstQuery sfq = new SpanFirstQuery(srq, 1);
>     Hits hits = searcher.search(sfq);
>     assertEquals(1, hits.length());
>
> Notice that the query is "aut.*", not "aut*" such that it is a  
> valid regular expression for what you want.  In my current project,  
> my custom query parser handles * and ? like WildcardQuery, but  
> under the covers I simply convert that into a regex by replacing ?  
> with . and * with .*

Let me add a major caveat, especially given that Paul's index is  
large.  (Span)RegexQuery by default, currently, scans through *every*  
term in the index.  This is due to the complexity in determining the  
prefix of the regex.  While it is obvious that "aut.*" should only  
scan through terms starting with "aut", it gets more complicated with  
expressions like "a?uto" because the "a" is optional.  There is a  
Jakarta Regexp implementation in contrib/regex also and it is capable  
of determining the static prefix to reduce term enumeration, but I  
suspect java.util.regex is much faster than Jakarta Regexp.  I'm  
using, in my project, a blending of the two letting Jakarta Regexp  
determine the prefix but using java.util.regex for matching - this  
requires a custom, and trivial, implementation of RegexCapabilities.   
I didn't include that in contrib/regex because it seems a bit awkward  
for general consumption.

Anyway, caveat emptor for term enumeration with (Span)RegexQuery!    
Also, doing term rotation on indexing and with searching can also  
greatly reduce term enumeration even with leading wildcards - but  
I'll leave that as an exercise for the reader for now :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 12:43:06 2006
Return-Path: <java-user-return-18219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85145 invoked from network); 6 Jan 2006 12:43:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 12:43:05 -0000
Received: (qmail 7951 invoked by uid 500); 6 Jan 2006 12:42:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7924 invoked by uid 500); 6 Jan 2006 12:42:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7913 invoked by uid 99); 6 Jan 2006 12:42:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 04:42:59 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tony.scerri@gmail.com designates 64.233.182.206 as permitted sender)
Received: from [64.233.182.206] (HELO nproxy.gmail.com) (64.233.182.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 04:42:58 -0800
Received: by nproxy.gmail.com with SMTP id x37so18856nfc
        for <java-user@lucene.apache.org>; Fri, 06 Jan 2006 04:42:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=YVb+pl4kpYvBoZJsJ5p2FSQsd8CUAnKKNbi75OWvcc+M5soxGzUd1OH6+PKcn6padjMnO4N0AfhR4XYkhMmPuoFYpMx5WuzVV0+StpniS6WRtiorJ1j7fUgWJifDJwlYar53ddrICMpM+GBHBRqF8ly0z8f5A9mvFIoKN9mbiJs=
Received: by 10.49.5.11 with SMTP id h11mr752019nfi;
        Fri, 06 Jan 2006 04:42:37 -0800 (PST)
Received: by 10.48.255.9 with HTTP; Fri, 6 Jan 2006 04:42:36 -0800 (PST)
Message-ID: <8a84ce4d0601060442i33937f1xd6f3ff45e5b030ff@mail.gmail.com>
Date: Fri, 6 Jan 2006 12:42:37 +0000
From: Tony Scerri <tony.scerri@gmail.com>
To: java-user@lucene.apache.org
Subject: Cloning of queries
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16204_19949522.1136551357051"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16204_19949522.1136551357051
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

Is there an official line on the supported behaviour for cloning queries? I
have been working with Spans and I found they were not working correctly
because of missing clone methods on some of the classes. I expanded this to
handle SpanWildcardQuery also which comes in very handy. But today i also
found that BooleanQuery are not clonned correctly becasue a BooleanClause
isnt clonning. So if you clone a BooleanQuery then call the setQuery method
on one of the clauses to modify it both the original and cloned BooleanQuer=
y
reflect this change.

Im not sure whether what im doing is something that is supported and
therefore needs patching or im just messing with stuff i shouldnt be. Im
working from the latest SVN codebase.

While im on the subject of Phrase and Span queries. Would anyone support th=
e
idea of loosing Phrase queries and moving to the more flexible Span query
model. I know phrases are quicker but surely optimized handling of exact
phrases could be included. Its just being able to embed one span within
another is really handy. I would like to see that functionality supported
fully within the main query model, so you can use any normal query operator
within a span. So really it means making SpanNear part of the normal model
and utilising the existing Query operator rather than the Span variants.

Thanks

Tony

------=_Part_16204_19949522.1136551357051--

From java-user-return-18220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 13:34:38 2006
Return-Path: <java-user-return-18220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15099 invoked from network); 6 Jan 2006 13:34:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 13:34:38 -0000
Received: (qmail 1758 invoked by uid 500); 6 Jan 2006 13:34:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1731 invoked by uid 500); 6 Jan 2006 13:34:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1720 invoked by uid 99); 6 Jan 2006 13:34:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 05:34:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [15.219.201.134] (HELO bgerelbas01.asiapac.hp.net) (15.219.201.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 05:34:30 -0800
Received: from bgeexg12.asiapacific.cpqcorp.net (bgeexg12.asiapacific.cpqcorp.net [16.150.33.62])
	by bgerelbas01.asiapac.hp.net (Postfix) with ESMTP id 206F832F8E
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 08:34:08 -0500 (EST)
Received: from bgeexc05.asiapacific.cpqcorp.net ([16.150.33.65]) by bgeexg12.asiapacific.cpqcorp.net with Microsoft SMTPSVC(6.0.3790.211);
	 Fri, 6 Jan 2006 19:04:07 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Sorting Facility
Date: Fri, 6 Jan 2006 19:04:07 +0530
Message-ID: <98AC56E252884B4898DFF63C25FFB76D0107351A@bgeexc05.asiapacific.cpqcorp.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting Facility
Thread-Index: AcYSvr/F8jBPQZY3SmOMze7wKDRC8wABvXvg
From: "Veera, Sekhar S" <svsekhar@hp.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 06 Jan 2006 13:34:07.0969 (UTC) FILETIME=[DEA28D10:01C612C5]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi ,

Is there any way to sort the records in a file using lucene.?


Regards
Veera=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 15:53:53 2006
Return-Path: <java-user-return-18221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86526 invoked from network); 6 Jan 2006 15:53:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 15:53:53 -0000
Received: (qmail 17315 invoked by uid 500); 6 Jan 2006 15:53:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17291 invoked by uid 500); 6 Jan 2006 15:53:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17279 invoked by uid 99); 6 Jan 2006 15:53:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 07:53:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 07:53:45 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0B3FC13E202C; Fri,  6 Jan 2006 10:53:20 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id C777013E2029
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 10:53:02 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20060105164235.u31mifa20o088wk8@webmail.service.emory.edu>
References: <20060105164235.u31mifa20o088wk8@webmail.service.emory.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <85DBFB50-00D8-4C27-9C18-266278CA5E77@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Handling fractional field range queries
Date: Fri, 6 Jan 2006 10:53:05 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 5, 2006, at 4:42 PM, Urvashi Gadi wrote:
> Any pointers on how to handle range queries if the data type is  
> double or float?

There is a bit of this on the wiki:

	<http://wiki.apache.org/jakarta-lucene/SearchNumericalFields>

The main thing to note is that what is indexed in Lucene is text, not  
numbers per se.  It is important to represent the numbers in a  
lexicographically ordered way for range queries to work.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 17:05:24 2006
Return-Path: <java-user-return-18222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43191 invoked from network); 6 Jan 2006 17:05:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 17:05:23 -0000
Received: (qmail 5971 invoked by uid 500); 6 Jan 2006 17:05:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5940 invoked by uid 500); 6 Jan 2006 17:05:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5929 invoked by uid 99); 6 Jan 2006 17:05:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 09:05:15 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 09:05:14 -0800
Received: by xproxy.gmail.com with SMTP id i29so1897283wxd
        for <java-user@lucene.apache.org>; Fri, 06 Jan 2006 09:04:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=k1TPQT0sbncu69iddaZt20jQbO/cYg79AcmO9ZDAfqXjSFIrZ9iiPkNnKYLsBQ01T9BL2MtEIdNChH6Eu5EEb+wlXfYVFqxNTH+XG0b69lFExX1bk5/38mz7WtywzRWTPRldy8R6zyazc+tM5qxHNnv6ybJfpmC3HnmYhA5CLOk=
Received: by 10.70.122.16 with SMTP id u16mr3374141wxc;
        Fri, 06 Jan 2006 09:04:53 -0800 (PST)
Received: by 10.70.27.20 with HTTP; Fri, 6 Jan 2006 09:04:53 -0800 (PST)
Message-ID: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
Date: Fri, 6 Jan 2006 12:04:53 -0500
From: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: need some advice/help with negative query.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_60462_28306914.1136567093894"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_60462_28306914.1136567093894
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I would like to do queries that are negative. I mean a query with
only negative terms and phrases.  For example, retrieve all
documents that do not contain the term "apple".

For now, I have a limited set of documents (say, 10000) to index.
I can create a bitset that represents the search result of hits on "apple".
Then I complement (XOR) the result.
Each bit corresponds to a document ID.
My question is :
Inside Lucene, are the hits represented in some form of a bitset.
Can I get at it directly.   I saw the BitSet class.  (I now use
Java's Bitset class).
Assuming that hits are internally represented as bitset, for a
small number of documets, the bitset won't be very big,
and if there are plenty of hits and many many more documents,
is the bitset still  kept entirely
in memory as well ?

Thank you

------=_Part_60462_28306914.1136567093894--

From java-user-return-18223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 17:30:57 2006
Return-Path: <java-user-return-18223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57859 invoked from network); 6 Jan 2006 17:30:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 17:30:57 -0000
Received: (qmail 50864 invoked by uid 500); 6 Jan 2006 17:30:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49900 invoked by uid 500); 6 Jan 2006 17:30:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49888 invoked by uid 99); 6 Jan 2006 17:30:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 09:30:48 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.179.166] (HELO web35712.mail.mud.yahoo.com) (66.163.179.166)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 06 Jan 2006 09:30:47 -0800
Received: (qmail 99921 invoked by uid 60001); 6 Jan 2006 17:30:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Vyt8RVHvGtWFQoGQqxko5efdEoU2LnZvJlkJPo9acMIfx98XmCMrUrD/tg72gyyACS6a2PZdtQsdWiZiTJxgBTJfbSQVuwOTU6PHTIzHkp9T4K0qearoF9Yihg3PjgG95zTIbxhfe0AkmlEimX57KFaqkDBoqwbRqdLYWoH5Ptk=  ;
Message-ID: <20060106173026.99919.qmail@web35712.mail.mud.yahoo.com>
Received: from [86.108.15.74] by web35712.mail.mud.yahoo.com via HTTP; Fri, 06 Jan 2006 09:30:26 PST
Date: Fri, 6 Jan 2006 09:30:26 -0800 (PST)
From: JJ Braz <funkgunxxx@yahoo.com>
Subject: Directory Permissions from Tomcat
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-883896342-1136568626=:96259"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-883896342-1136568626=:96259
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

After succesfully running the Lucene Demo I'm now trying to customize 
it on a Win XP machine. Using the IndexHTML file I want to create my 
own index, but I'm getting an "Access Denied" error. The files which I 
want to include in the index are in c:\sourcedir and I want the index to 
be created in c:\tomcat\webapps\myidx. I'm using the following 
command.:
   
  C:\tomcat\webapps>java org.apache.lucene.demo.IndexHTML -create -
index myidx <c:\sourcedir> ..

  I'm getting the following error:
  Access is denied.
   
  I tried to modify the catalina.policy file by adding the following: 
   
  grant { 
permission java.io.FilePermission "/","read"; 
}; 
   
  This didn't solve my problem. Any idea on how I can set the 
permissions so that the index files can be sourced from and created to the 
directories of my choice? Many thanks

			
---------------------------------
Yahoo! Photos
 Ring in the New Year with Photo Calendars. Add photos, events, holidays, whatever.
--0-883896342-1136568626=:96259--

From java-user-return-18224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 19:17:37 2006
Return-Path: <java-user-return-18224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17800 invoked from network); 6 Jan 2006 19:17:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 19:17:36 -0000
Received: (qmail 65436 invoked by uid 500); 6 Jan 2006 19:17:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65415 invoked by uid 500); 6 Jan 2006 19:17:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65404 invoked by uid 99); 6 Jan 2006 19:17:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:17:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:17:29 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8FCD813E2005; Fri,  6 Jan 2006 14:17:08 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 3061713E2005
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 14:17:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <98AC56E252884B4898DFF63C25FFB76D0107351A@bgeexc05.asiapacific.cpqcorp.net>
References: <98AC56E252884B4898DFF63C25FFB76D0107351A@bgeexc05.asiapacific.cpqcorp.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8CFC84F4-83E6-4A18-8FCE-6F1A526F596E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sorting Facility
Date: Fri, 6 Jan 2006 10:40:33 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 6, 2006, at 8:34 AM, Veera, Sekhar S wrote:
> Is there any way to sort the records in a file using lucene.?

I presume by "records" and "file" you mean sort Hits from a search of  
an index.

Yes, Lucene can do that.  Look at the various overloaded  
IndexSearcher.search() methods... the ones that take a Sort will do  
the trick.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 19:39:29 2006
Return-Path: <java-user-return-18225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31038 invoked from network); 6 Jan 2006 19:39:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 19:39:29 -0000
Received: (qmail 16658 invoked by uid 500); 6 Jan 2006 19:39:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16616 invoked by uid 500); 6 Jan 2006 19:39:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16594 invoked by uid 99); 6 Jan 2006 19:39:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:39:20 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:39:19 -0800
Received: (qmail 9320 invoked from network); 6 Jan 2006 19:38:57 -0000
Received: from unknown (HELO p5496da89.dip.t-dialin.net) ([pbs]695637@[84.150.218.137])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 6 Jan 2006 19:38:57 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
Date: Fri, 6 Jan 2006 20:40:32 +0100
User-Agent: KMail/1.8.2
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
In-Reply-To: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601062040.32626@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Freitag 06 Januar 2006 18:04, Beady Geraghty wrote:

> For now, I have a limited set of documents (say, 10000) to index.
> I can create a bitset that represents the search result of hits on
> "apple".

The development version of Lucene contains a MatchAllDocsQuery so you can 
create queries (programmatically) like:

MatchAllDocsQuery -apple

I guess this is is memory-efficient. MatchAllDocsQuery can be backported 
easily.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 19:40:02 2006
Return-Path: <java-user-return-18226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31288 invoked from network); 6 Jan 2006 19:40:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 19:40:02 -0000
Received: (qmail 19150 invoked by uid 500); 6 Jan 2006 19:39:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19103 invoked by uid 500); 6 Jan 2006 19:39:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19083 invoked by uid 99); 6 Jan 2006 19:39:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:39:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:39:43 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7B74F13E2005; Fri,  6 Jan 2006 14:39:19 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id AF57E13E2005
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 14:39:09 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: need some advice/help with negative query.
Date: Fri, 6 Jan 2006 14:39:11 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

With Lucene's trunk, there is a MatchAllDocsQuery.   You could use  
this in a BooleanQuery with your negative-only query.

Another option, if you're at Lucene 1.4.3 is to index the same value  
for a dummy field for every document (say like "dummy:all") and use a  
TermQuery in a BooleanQuery with the negative-only query.

As for BitSet's, if you need to go that route a QueryFilter would  
give you the BitSet back that you could easily complement, but that  
might be a bit overkill for what you need given the option above.

	Erik


On Jan 6, 2006, at 12:04 PM, Beady Geraghty wrote:

> I would like to do queries that are negative. I mean a query with
> only negative terms and phrases.  For example, retrieve all
> documents that do not contain the term "apple".
>
> For now, I have a limited set of documents (say, 10000) to index.
> I can create a bitset that represents the search result of hits on  
> "apple".
> Then I complement (XOR) the result.
> Each bit corresponds to a document ID.
> My question is :
> Inside Lucene, are the hits represented in some form of a bitset.
> Can I get at it directly.   I saw the BitSet class.  (I now use
> Java's Bitset class).
> Assuming that hits are internally represented as bitset, for a
> small number of documets, the bitset won't be very big,
> and if there are plenty of hits and many many more documents,
> is the bitset still  kept entirely
> in memory as well ?
>
> Thank you


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 19:58:08 2006
Return-Path: <java-user-return-18227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41332 invoked from network); 6 Jan 2006 19:58:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 19:58:08 -0000
Received: (qmail 59861 invoked by uid 500); 6 Jan 2006 19:58:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59812 invoked by uid 500); 6 Jan 2006 19:58:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59801 invoked by uid 99); 6 Jan 2006 19:58:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:58:01 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 11:58:00 -0800
Received: by zproxy.gmail.com with SMTP id 8so3520191nzo
        for <java-user@lucene.apache.org>; Fri, 06 Jan 2006 11:57:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=KeqCVUGKsnaG7RKB+JwaEzOAQWx6itkpom0OX59DPxP77A7Uyj/EluAt6Vu0BjyrarhXLuF28lEIwAIBoWKrD/Z6bGb/WIG/qGGVwlvFAh/Pg0DL/vqn8qhqm5IQF/9+knbXDd0Wz+rtHd06NsTPTAL7T5suKaXH6pB3I6aWFJM=
Received: by 10.65.96.13 with SMTP id y13mr2032685qbl;
        Fri, 06 Jan 2006 11:57:39 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Fri, 6 Jan 2006 11:57:39 -0800 (PST)
Message-ID: <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
Date: Fri, 6 Jan 2006 14:57:39 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
In-Reply-To: <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
	 <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Should we should detect the case of all negative clauses and throw in
a MatchAllDocsQuery?

I guess this would be done in the QueryParser, but one could also make
a case for doing it in the BooleanQuery.

-Yonik

On 1/6/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> With Lucene's trunk, there is a MatchAllDocsQuery.   You could use
> this in a BooleanQuery with your negative-only query.
>
> Another option, if you're at Lucene 1.4.3 is to index the same value
> for a dummy field for every document (say like "dummy:all") and use a
> TermQuery in a BooleanQuery with the negative-only query.
>
> As for BitSet's, if you need to go that route a QueryFilter would
> give you the BitSet back that you could easily complement, but that
> might be a bit overkill for what you need given the option above.
>
>         Erik
>
>
> On Jan 6, 2006, at 12:04 PM, Beady Geraghty wrote:
>
> > I would like to do queries that are negative. I mean a query with
> > only negative terms and phrases.  For example, retrieve all
> > documents that do not contain the term "apple".
> >
> > For now, I have a limited set of documents (say, 10000) to index.
> > I can create a bitset that represents the search result of hits on
> > "apple".
> > Then I complement (XOR) the result.
> > Each bit corresponds to a document ID.
> > My question is :
> > Inside Lucene, are the hits represented in some form of a bitset.
> > Can I get at it directly.   I saw the BitSet class.  (I now use
> > Java's Bitset class).
> > Assuming that hits are internally represented as bitset, for a
> > small number of documets, the bitset won't be very big,
> > and if there are plenty of hits and many many more documents,
> > is the bitset still  kept entirely
> > in memory as well ?
> >
> > Thank you
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 20:02:49 2006
Return-Path: <java-user-return-18228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45550 invoked from network); 6 Jan 2006 20:02:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 20:02:49 -0000
Received: (qmail 77180 invoked by uid 500); 6 Jan 2006 20:02:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77155 invoked by uid 500); 6 Jan 2006 20:02:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77144 invoked by uid 99); 6 Jan 2006 20:02:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:02:43 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.222] (HELO virginia.cc.emory.edu) (170.140.8.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:02:42 -0800
Received: from localhost (localhost [127.0.0.1])
	by virginia.cc.emory.edu (8.13.4/8.13.4) with ESMTP id k06K2IIX017827
	for <java-user@lucene.apache.org>; Fri, 6 Jan 2006 15:02:19 -0500 (EST)
Received: from metascholar3.library.emory.edu(metascholar3.library.emory.edu
	 [170.140.210.99]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Fri, 06 Jan 200615:02:18 -0500
Message-ID: <20060106150218.0g8xnwck08ss48w4@webmail.service.emory.edu>
Date: Fri, 06 Jan 2006 15:02:18 -0500
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: Deprecated warning messages in org.apache.lucene.document.Field
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-imss-version: 2.035
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

Why do i get the following warning messages? I couldn't find any 
information in javadocs. I am using java version 1.4.2 and lucene 
version 1.5.

Thanks for the help,

Urvashi

---------------------------------------------------------------------------


IndexingApp.java:131: warning: Text(java.lang.String,java.lang.String) 
in org.apache.lucene.document.Field has been deprecated
                                
doc.add(Field.Text(member.attributeName, member.attributeValue));
                                             ^
                                           ^
IndexingApp.java:137: warning: 
UnIndexed(java.lang.String,java.lang.String) in 
org.apache.lucene.document.Field has been deprecated
                                
doc.add(Field.UnIndexed(member.attributeName, member.attributeValue));
                                             ^
                                             IndexingApp.java:144: 
warning: Keyword(java.lang.String,java.lang.String) in 
org.apache.lucene.document.Field has been deprecated
                                
doc.add(Field.Keyword(member.attributeName, member.attributeValue));
                                             ^


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 20:23:57 2006
Return-Path: <java-user-return-18229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59694 invoked from network); 6 Jan 2006 20:23:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 20:23:56 -0000
Received: (qmail 14542 invoked by uid 500); 6 Jan 2006 20:23:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14453 invoked by uid 500); 6 Jan 2006 20:23:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14430 invoked by uid 99); 6 Jan 2006 20:23:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:23:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:23:46 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1BD8E5B781; Fri,  6 Jan 2006 12:23:25 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 102307F459
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 12:23:25 -0800 (PST)
Date: Fri, 6 Jan 2006 12:23:25 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Deprecated warning messages in org.apache.lucene.document.Field
In-Reply-To: <20060106150218.0g8xnwck08ss48w4@webmail.service.emory.edu>
Message-ID: <Pine.LNX.4.58.0601061221200.19187@hal.rescomp.berkeley.edu>
References: <20060106150218.0g8xnwck08ss48w4@webmail.service.emory.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Why do i get the following warning messages? I couldn't find any
: information in javadocs. I am using java version 1.4.2 and lucene
: version 1.5.

when you say "lucene version 1.5" i assume you mean you are using a jar
build from Subversion (or perhaps a jav build from the old cvs
repository).  In both cases, the Text(String,String) method and the other
methods yo uare getting warnings from have been deprecated.

you won't see these deprecatations in the online javadocs, because they
are for hte last "official" release -- which is 1.4.3 (which shows up in
the title bar of your browser)

	http://lucene.apache.org/java/docs/api/index.html


: IndexingApp.java:131: warning: Text(java.lang.String,java.lang.String)
: in org.apache.lucene.document.Field has been deprecated
:
: doc.add(Field.Text(member.attributeName, member.attributeValue));
:                                              ^
:                                            ^
: IndexingApp.java:137: warning:
: UnIndexed(java.lang.String,java.lang.String) in
: org.apache.lucene.document.Field has been deprecated
:
: doc.add(Field.UnIndexed(member.attributeName, member.attributeValue));
:                                              ^
:                                              IndexingApp.java:144:
: warning: Keyword(java.lang.String,java.lang.String) in
: org.apache.lucene.document.Field has been deprecated
:
: doc.add(Field.Keyword(member.attributeName, member.attributeValue));
:                                              ^
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 20:32:07 2006
Return-Path: <java-user-return-18230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64870 invoked from network); 6 Jan 2006 20:32:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 20:32:06 -0000
Received: (qmail 25696 invoked by uid 500); 6 Jan 2006 20:31:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25653 invoked by uid 500); 6 Jan 2006 20:31:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25628 invoked by uid 99); 6 Jan 2006 20:31:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:31:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.221] (HELO pales.cc.emory.edu) (170.140.8.221)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:31:49 -0800
Received: from localhost (localhost [127.0.0.1])
	by pales.cc.emory.edu (8.13.4/8.13.4) with ESMTP id k06KVHON002952
	for <java-user@lucene.apache.org>; Fri, 6 Jan 2006 15:31:19 -0500 (EST)
Received: from metascholar3.library.emory.edu(metascholar3.library.emory.edu
	 [170.140.210.99]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Fri, 06 Jan 200615:31:17 -0500
Message-ID: <20060106153117.5m742bq6hww048gg@webmail.service.emory.edu>
Date: Fri, 06 Jan 2006 15:31:17 -0500
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: Re: Deprecated warning messages inorg.apache.lucene.document.Field
References: <20060106150218.0g8xnwck08ss48w4@webmail.service.emory.edu><Pine
	.LNX.4.58.0601061221200.19187@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0601061221200.19187@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-imss-version: 2.035
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

okay...so what are alternative methods i should use? Where can i get 
the information?

Best,
Urvashi



Quoting Chris Hostetter <hossman_lucene@fucit.org>:

>
> : Why do i get the following warning messages? I couldn't find any
> : information in javadocs. I am using java version 1.4.2 and lucene
> : version 1.5.
>
> when you say "lucene version 1.5" i assume you mean you are using a jar
> build from Subversion (or perhaps a jav build from the old cvs
> repository).  In both cases, the Text(String,String) method and the other
> methods yo uare getting warnings from have been deprecated.
>
> you won't see these deprecatations in the online javadocs, because they
> are for hte last "official" release -- which is 1.4.3 (which shows up in
> the title bar of your browser)
>
> 	http://lucene.apache.org/java/docs/api/index.html
>
>
> : IndexingApp.java:131: warning: Text(java.lang.String,java.lang.String)
> : in org.apache.lucene.document.Field has been deprecated
> :
> : doc.add(Field.Text(member.attributeName, member.attributeValue));
> :                                              ^
> :                                            ^
> : IndexingApp.java:137: warning:
> : UnIndexed(java.lang.String,java.lang.String) in
> : org.apache.lucene.document.Field has been deprecated
> :
> : doc.add(Field.UnIndexed(member.attributeName, member.attributeValue));
> :                                              ^
> :                                              IndexingApp.java:144:
> : warning: Keyword(java.lang.String,java.lang.String) in
> : org.apache.lucene.document.Field has been deprecated
> :
> : doc.add(Field.Keyword(member.attributeName, member.attributeValue));
> :                                              ^
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 20:41:00 2006
Return-Path: <java-user-return-18231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67602 invoked from network); 6 Jan 2006 20:40:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 20:40:59 -0000
Received: (qmail 40326 invoked by uid 500); 6 Jan 2006 20:40:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40255 invoked by uid 500); 6 Jan 2006 20:40:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40244 invoked by uid 99); 6 Jan 2006 20:40:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:40:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 12:40:52 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 004C45B778; Fri,  6 Jan 2006 12:40:33 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 32CA37F459
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 12:40:33 -0800 (PST)
Date: Fri, 6 Jan 2006 12:40:33 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Deprecated warning messages inorg.apache.lucene.document.Field
In-Reply-To: <20060106153117.5m742bq6hww048gg@webmail.service.emory.edu>
Message-ID: <Pine.LNX.4.58.0601061236560.19187@hal.rescomp.berkeley.edu>
References: <20060106150218.0g8xnwck08ss48w4@webmail.service.emory.edu><Pine
 .LNX.4.58.0601061221200.19187@hal.rescomp.berkeley.edu>
 <20060106153117.5m742bq6hww048gg@webmail.service.emory.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: okay...so what are alternative methods i should use? Where can i get
: the information?

If you are using code compiled from the trunk of the subversion
repository, you should consult the javadocs built from the trunk of the
subversion repository.  if you are using a jar build from the old CVS
repository, then you should consult the javadocs built from the old CVS
repository. ... in either case, just run "ant javadocs".


If you don't have the source your code was compiled from, then there's
really know way to know -- but there's no harm in useing those deprecated
methods, just be aware that if/when you upgrade to a newer version of
lucene, they may not be arround anymore.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 21:07:49 2006
Return-Path: <java-user-return-18232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79695 invoked from network); 6 Jan 2006 21:07:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 21:07:48 -0000
Received: (qmail 13084 invoked by uid 500); 6 Jan 2006 21:07:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13038 invoked by uid 500); 6 Jan 2006 21:07:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13010 invoked by uid 99); 6 Jan 2006 21:07:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:07:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:07:38 -0800
Received: by xproxy.gmail.com with SMTP id i29so1923880wxd
        for <java-user@lucene.apache.org>; Fri, 06 Jan 2006 13:07:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=jr03kJgk7Mp/vKQaP5ryxMKppetIGzoNgGYRuhM6e3JOTXjgexz6TaqUKtNXAfJj511YmtBSFioR4abjdM5+uWHYEWT1AsMhEVP5c6ECkkJ1s3J65ZZSZh7/tGbu+BAM2mut4T4ckCl//A9VJ42QijC6L3Mo3Ov7ulcknf+J8e0=
Received: by 10.70.126.12 with SMTP id y12mr4920505wxc;
        Fri, 06 Jan 2006 13:07:18 -0800 (PST)
Received: by 10.70.27.20 with HTTP; Fri, 6 Jan 2006 13:07:18 -0800 (PST)
Message-ID: <b487c1370601061307x68f0617eq2f664f32bebdf42b@mail.gmail.com>
Date: Fri, 6 Jan 2006 16:07:18 -0500
From: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
In-Reply-To: <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_63546_307724.1136581638295"
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
	 <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com>
	 <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_63546_307724.1136581638295
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thank you all for your answer.

On 1/6/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> Should we should detect the case of all negative clauses and throw in
> a MatchAllDocsQuery?
>
> I guess this would be done in the QueryParser, but one could also make
> a case for doing it in the BooleanQuery.
>
> -Yonik
>
> On 1/6/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> > With Lucene's trunk, there is a MatchAllDocsQuery.   You could use
> > this in a BooleanQuery with your negative-only query.
> >
> > Another option, if you're at Lucene 1.4.3 is to index the same value
> > for a dummy field for every document (say like "dummy:all") and use a
> > TermQuery in a BooleanQuery with the negative-only query.
> >
> > As for BitSet's, if you need to go that route a QueryFilter would
> > give you the BitSet back that you could easily complement, but that
> > might be a bit overkill for what you need given the option above.
> >
> >         Erik
> >
> >
> > On Jan 6, 2006, at 12:04 PM, Beady Geraghty wrote:
> >
> > > I would like to do queries that are negative. I mean a query with
> > > only negative terms and phrases.  For example, retrieve all
> > > documents that do not contain the term "apple".
> > >
> > > For now, I have a limited set of documents (say, 10000) to index.
> > > I can create a bitset that represents the search result of hits on
> > > "apple".
> > > Then I complement (XOR) the result.
> > > Each bit corresponds to a document ID.
> > > My question is :
> > > Inside Lucene, are the hits represented in some form of a bitset.
> > > Can I get at it directly.   I saw the BitSet class.  (I now use
> > > Java's Bitset class).
> > > Assuming that hits are internally represented as bitset, for a
> > > small number of documets, the bitset won't be very big,
> > > and if there are plenty of hits and many many more documents,
> > > is the bitset still  kept entirely
> > > in memory as well ?
> > >
> > > Thank you
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_63546_307724.1136581638295--

From java-user-return-18233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 21:10:42 2006
Return-Path: <java-user-return-18233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80622 invoked from network); 6 Jan 2006 21:10:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 21:10:42 -0000
Received: (qmail 16860 invoked by uid 500); 6 Jan 2006 21:10:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16839 invoked by uid 500); 6 Jan 2006 21:10:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16828 invoked by uid 99); 6 Jan 2006 21:10:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:10:36 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.179.157] (HELO web35703.mail.mud.yahoo.com) (66.163.179.157)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 06 Jan 2006 13:10:35 -0800
Received: (qmail 89211 invoked by uid 60001); 6 Jan 2006 21:10:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ujV/D77vdlIkhe01WIZwUayzL8MhFUI5hAkPfMMnBeBnBeqyFeI7Kl1cIWMMiblkwS5ufMXDhC6z0WOZT+bVG7jyHUKjGPpVfx+NbCr/5McVqM+VJgqflVmMu0sMZqOT5i00FeP1e9c9IbRStGZ/oWFtLM5TXspl9oNSF1XB9vE=  ;
Message-ID: <20060106211014.89209.qmail@web35703.mail.mud.yahoo.com>
Received: from [86.108.15.74] by web35703.mail.mud.yahoo.com via HTTP; Fri, 06 Jan 2006 13:10:14 PST
Date: Fri, 6 Jan 2006 13:10:14 -0800 (PST)
From: JJ Braz <funkgunxxx@yahoo.com>
Subject: Re: Directory Permissions from Tomcat
To: java-user@lucene.apache.org
In-Reply-To: <20060106173026.99919.qmail@web35712.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-672281584-1136581814=:82885"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-672281584-1136581814=:82885
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Follow up: One thing I though I could is to modify the "String usage" line on the IndexHTML file: 
   
    Currently the line reads: 
   
  String usage = "IndexHTML [-create] [-index <index>] <root_directory>";
   
  I want to modify it to:
   
  String usage = "IndexHTML [-create] [-index <index>] c:\sourcedir";
   
  will this allow Tomcat to read that directory and index the documents in that directory? Will I need to Ant rebuild the IndexHTML and associated classes? 
  Are my questions relevant to the user mailing list or should I post these on the developer list? Any help would be greatly appreciated. Thanks, J 

JJ Braz <funkgunxxx@yahoo.com> wrote:

  After succesfully running the Lucene Demo I'm now trying to customize 
it on a Win XP machine. Using the IndexHTML file I want to create my 
own index, but I'm getting an "Access Denied" error. The files which I 
want to include in the index are in c:\sourcedir and I want the index to 
be created in c:\tomcat\webapps\myidx. I'm using the following 
command.:

C:\tomcat\webapps>java org.apache.lucene.demo.IndexHTML -create -
index myidx ..

I'm getting the following error:
Access is denied.

I tried to modify the catalina.policy file by adding the following: 

grant { 
permission java.io.FilePermission "/","read"; 
}; 

This didn't solve my problem. Any idea on how I can set the 
permissions so that the index files can be sourced from and created to the 
directories of my choice? Many thanks


---------------------------------
Yahoo! Photos
Ring in the New Year with Photo Calendars. Add photos, events, holidays, whatever.  


		
---------------------------------
 Yahoo! DSL Something to write home about. Just $16.99/mo. or less
--0-672281584-1136581814=:82885--

From java-user-return-18234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 21:15:24 2006
Return-Path: <java-user-return-18234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82223 invoked from network); 6 Jan 2006 21:15:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 21:15:24 -0000
Received: (qmail 25102 invoked by uid 500); 6 Jan 2006 21:15:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25002 invoked by uid 500); 6 Jan 2006 21:15:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24991 invoked by uid 99); 6 Jan 2006 21:15:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:15:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:15:16 -0800
Received: by xproxy.gmail.com with SMTP id i29so1924548wxd
        for <java-user@lucene.apache.org>; Fri, 06 Jan 2006 13:14:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Xmd7gBtCBtsnfahpLgha1nWXTTp+j7YoP812OdFK0C6D9eYEN5X6/T4rTY/wcWmVTM3QQ+eonjhnzgFvBC+Uyd5oUtZuFQML0Hm498zErYqj1b+Nx+FH+dTVfC0fQiGbssZhJvWz4bkMH9M6ITJ7NW3jJ4SZZWqeyEclR8oIlVs=
Received: by 10.70.54.8 with SMTP id c8mr3682361wxa;
        Fri, 06 Jan 2006 13:14:55 -0800 (PST)
Received: by 10.70.27.20 with HTTP; Fri, 6 Jan 2006 13:14:55 -0800 (PST)
Message-ID: <b487c1370601061314j3d9f7993xdd1891205c2493f8@mail.gmail.com>
Date: Fri, 6 Jan 2006 16:14:55 -0500
From: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
In-Reply-To: <b487c1370601061307x68f0617eq2f664f32bebdf42b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_63618_14953819.1136582095914"
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
	 <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com>
	 <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
	 <b487c1370601061307x68f0617eq2f664f32bebdf42b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_63618_14953819.1136582095914
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I thought along the line of dummy:all as well, but for some reason,
I chose bitset.  I am not sure if it matters which route to go.

My situation is that for now, I have say 10000 documents,
but, maybe I incease that by 100 time or more.  I would guess that
half of the documents qualifies, and half don't.

It appears that everyone  suggests that I take  MatchAllDocsQuery
from the trunk. Is this the choice regardless of the number of
documents I have ?

Thanks,






On 1/6/06, Beady Geraghty <beadygeraghty@gmail.com> wrote:
>
> Thank you all for your answer.
>
> On 1/6/06, Yonik Seeley <yseeley@gmail.com> wrote:
> >
> > Should we should detect the case of all negative clauses and throw in
> > a MatchAllDocsQuery?
> >
> > I guess this would be done in the QueryParser, but one could also make
> > a case for doing it in the BooleanQuery.
> >
> > -Yonik
> >
> > On 1/6/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> > > With Lucene's trunk, there is a MatchAllDocsQuery.   You could use
> > > this in a BooleanQuery with your negative-only query.
> > >
> > > Another option, if you're at Lucene 1.4.3 is to index the same value
> > > for a dummy field for every document (say like "dummy:all") and use a
> > > TermQuery in a BooleanQuery with the negative-only query.
> > >
> > > As for BitSet's, if you need to go that route a QueryFilter would
> > > give you the BitSet back that you could easily complement, but that
> > > might be a bit overkill for what you need given the option above.
> > >
> > >         Erik
> > >
> > >
> > > On Jan 6, 2006, at 12:04 PM, Beady Geraghty wrote:
> > >
> > > > I would like to do queries that are negative. I mean a query with
> > > > only negative terms and phrases.  For example, retrieve all
> > > > documents that do not contain the term "apple".
> > > >
> > > > For now, I have a limited set of documents (say, 10000) to index.
> > > > I can create a bitset that represents the search result of hits on
> > > > "apple".
> > > > Then I complement (XOR) the result.
> > > > Each bit corresponds to a document ID.
> > > > My question is :
> > > > Inside Lucene, are the hits represented in some form of a bitset.
> > > > Can I get at it directly.   I saw the BitSet class.  (I now use
> > > > Java's Bitset class).
> > > > Assuming that hits are internally represented as bitset, for a
> > > > small number of documets, the bitset won't be very big,
> > > > and if there are plenty of hits and many many more documents,
> > > > is the bitset still  kept entirely
> > > > in memory as well ?
> > > >
> > > > Thank you
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_63618_14953819.1136582095914--

From java-user-return-18235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 21:29:21 2006
Return-Path: <java-user-return-18235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87821 invoked from network); 6 Jan 2006 21:29:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 21:29:21 -0000
Received: (qmail 58328 invoked by uid 500); 6 Jan 2006 21:29:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58307 invoked by uid 500); 6 Jan 2006 21:29:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58296 invoked by uid 99); 6 Jan 2006 21:29:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:29:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.36] (HELO smtp-vbr16.xs4all.nl) (194.109.24.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:29:13 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr16.xs4all.nl (8.13.3/8.13.3) with ESMTP id k06LSpbs053676
	for <java-user@lucene.apache.org>; Fri, 6 Jan 2006 22:28:51 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
Date: Fri, 6 Jan 2006 22:28:51 +0100
User-Agent: KMail/1.8.2
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com> <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com> <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
In-Reply-To: <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601062228.51203.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 06 January 2006 20:57, Yonik Seeley wrote:
> Should we should detect the case of all negative clauses and throw in
> a MatchAllDocsQuery?
> 
> I guess this would be done in the QueryParser, but one could also make
> a case for doing it in the BooleanQuery.

Overriding getBooleanQuery() from QueryParser allows to do that easily.
Allowing negative queries by default will probably give performance
problems.

Automatically adding the MatchAllDocsQuery in a BooleanQuery
is feasible, and then the case of only negative clauses should be
caught in the default QueryParser to prevent performance problems.
But given the age of BooleanQuery such a change is probably not
worthwhile.

Regards,
Paul Elschot


> 
> -Yonik
> 
> On 1/6/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> > With Lucene's trunk, there is a MatchAllDocsQuery.   You could use
> > this in a BooleanQuery with your negative-only query.
> >
> > Another option, if you're at Lucene 1.4.3 is to index the same value
> > for a dummy field for every document (say like "dummy:all") and use a
> > TermQuery in a BooleanQuery with the negative-only query.
> >
> > As for BitSet's, if you need to go that route a QueryFilter would
> > give you the BitSet back that you could easily complement, but that
> > might be a bit overkill for what you need given the option above.
> >
> >         Erik
> >
> >
> > On Jan 6, 2006, at 12:04 PM, Beady Geraghty wrote:
> >
> > > I would like to do queries that are negative. I mean a query with
> > > only negative terms and phrases.  For example, retrieve all
> > > documents that do not contain the term "apple".
> > >
> > > For now, I have a limited set of documents (say, 10000) to index.
> > > I can create a bitset that represents the search result of hits on
> > > "apple".
> > > Then I complement (XOR) the result.
> > > Each bit corresponds to a document ID.
> > > My question is :
> > > Inside Lucene, are the hits represented in some form of a bitset.
> > > Can I get at it directly.   I saw the BitSet class.  (I now use
> > > Java's Bitset class).
> > > Assuming that hits are internally represented as bitset, for a
> > > small number of documets, the bitset won't be very big,
> > > and if there are plenty of hits and many many more documents,
> > > is the bitset still  kept entirely
> > > in memory as well ?
> > >
> > > Thank you
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 21:57:26 2006
Return-Path: <java-user-return-18236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2103 invoked from network); 6 Jan 2006 21:57:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 21:57:26 -0000
Received: (qmail 27347 invoked by uid 500); 6 Jan 2006 21:57:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27328 invoked by uid 500); 6 Jan 2006 21:57:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27317 invoked by uid 99); 6 Jan 2006 21:57:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:57:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.24] (HELO smtp-vbr4.xs4all.nl) (194.109.24.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 13:57:18 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr4.xs4all.nl (8.13.3/8.13.3) with ESMTP id k06Luvrp053768
	for <java-user@lucene.apache.org>; Fri, 6 Jan 2006 22:56:57 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
Date: Fri, 6 Jan 2006 22:56:56 +0100
User-Agent: KMail/1.8.2
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
In-Reply-To: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601062256.56618.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 06 January 2006 18:04, Beady Geraghty wrote:
> I would like to do queries that are negative. I mean a query with
> only negative terms and phrases.  For example, retrieve all
> documents that do not contain the term "apple".
> 
> For now, I have a limited set of documents (say, 10000) to index.
> I can create a bitset that represents the search result of hits on "apple".
> Then I complement (XOR) the result.
> Each bit corresponds to a document ID.
> My question is :
> Inside Lucene, are the hits represented in some form of a bitset.
> Can I get at it directly.   I saw the BitSet class.  (I now use
> Java's Bitset class).
> Assuming that hits are internally represented as bitset, for a
> small number of documets, the bitset won't be very big,
> and if there are plenty of hits and many many more documents,
> is the bitset still  kept entirely
> in memory as well ?

A Hits is implemented by caching some of the highest scoring
documents, when more documents are needed the search is
repeated to collect more documents.

The problem with negative queries is that the scores of the results
do not vary, so it is not useful to keep only the highest scoring docs.
This also means that all results will have to be processed further
in some other way.
The easiest way to do that is to use the MatchAllDocsQuery
as indicated earlier, and then use the low level search API
with your own HitCollector.
You can then use any data structure in your HitCollector.
A simple and fast collect() implementation just counts the results, and
that can already be quite informative. Setting up a BitSet 
for the matching document numbers is also possible.
It's best to avoid accessing the index via the IndexReader inside
the collect() implementation of the HitCollector.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 22:22:35 2006
Return-Path: <java-user-return-18237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14738 invoked from network); 6 Jan 2006 22:22:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 22:22:34 -0000
Received: (qmail 61428 invoked by uid 500); 6 Jan 2006 22:22:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61398 invoked by uid 500); 6 Jan 2006 22:22:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61387 invoked by uid 99); 6 Jan 2006 22:22:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 14:22:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO xproxy.gmail.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 14:22:28 -0800
Received: by xproxy.gmail.com with SMTP id i29so1930747wxd
        for <java-user@lucene.apache.org>; Fri, 06 Jan 2006 14:22:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NXvRf2NqqVjhtzb9Nz6uzdGKLwQQHpW07JD+Xk9gNKzL7N2/TrP/R3cMBzfhg8RB4IxHXu0DgK4XUVDb+kMu08HRv6s4yHCm/+ShccO81J1W/+YQh+YejXiSPnTwJJFa9m5UsbT/h+W73AWDYas2R+7UlQWmHN3Fd0JvQKjcdOU=
Received: by 10.70.76.6 with SMTP id y6mr1082321wxa;
        Fri, 06 Jan 2006 14:22:07 -0800 (PST)
Received: by 10.70.27.20 with HTTP; Fri, 6 Jan 2006 14:22:07 -0800 (PST)
Message-ID: <b487c1370601061422u7099dbd7pe5d022df7199562a@mail.gmail.com>
Date: Fri, 6 Jan 2006 17:22:07 -0500
From: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
In-Reply-To: <200601062256.56618.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_64323_27398656.1136586127884"
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
	 <200601062256.56618.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_64323_27398656.1136586127884
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks.

On 1/6/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
>
> On Friday 06 January 2006 18:04, Beady Geraghty wrote:
> > I would like to do queries that are negative. I mean a query with
> > only negative terms and phrases.  For example, retrieve all
> > documents that do not contain the term "apple".
> >
> > For now, I have a limited set of documents (say, 10000) to index.
> > I can create a bitset that represents the search result of hits on
> "apple".
> > Then I complement (XOR) the result.
> > Each bit corresponds to a document ID.
> > My question is :
> > Inside Lucene, are the hits represented in some form of a bitset.
> > Can I get at it directly.   I saw the BitSet class.  (I now use
> > Java's Bitset class).
> > Assuming that hits are internally represented as bitset, for a
> > small number of documets, the bitset won't be very big,
> > and if there are plenty of hits and many many more documents,
> > is the bitset still  kept entirely
> > in memory as well ?
>
> A Hits is implemented by caching some of the highest scoring
> documents, when more documents are needed the search is
> repeated to collect more documents.
>
> The problem with negative queries is that the scores of the results
> do not vary, so it is not useful to keep only the highest scoring docs.
> This also means that all results will have to be processed further
> in some other way.
> The easiest way to do that is to use the MatchAllDocsQuery
> as indicated earlier, and then use the low level search API
> with your own HitCollector.
> You can then use any data structure in your HitCollector.
> A simple and fast collect() implementation just counts the results, and
> that can already be quite informative. Setting up a BitSet
> for the matching document numbers is also possible.
> It's best to avoid accessing the index via the IndexReader inside
> the collect() implementation of the HitCollector.
>
> Regards,
> Paul Elschot
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_64323_27398656.1136586127884--

From java-user-return-18238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 22:32:37 2006
Return-Path: <java-user-return-18238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19633 invoked from network); 6 Jan 2006 22:32:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 22:32:36 -0000
Received: (qmail 80167 invoked by uid 500); 6 Jan 2006 22:32:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79900 invoked by uid 500); 6 Jan 2006 22:32:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79867 invoked by uid 99); 6 Jan 2006 22:32:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 14:32:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 14:32:09 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2D3FE13E201A; Fri,  6 Jan 2006 17:31:48 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 3FE1313E2005
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 17:31:44 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com> <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com> <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5A190004-80A7-4618-9810-DE90342E4B5D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: need some advice/help with negative query.
Date: Fri, 6 Jan 2006 17:31:40 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 6, 2006, at 2:57 PM, Yonik Seeley wrote:
> Should we should detect the case of all negative clauses and throw in
> a MatchAllDocsQuery?
>
> I guess this would be done in the QueryParser, but one could also make
> a case for doing it in the BooleanQuery.

In a  custom (non-generalizable) query parser that I've built, I  
detect a negative only query and then nest it within a BooleanQuery  
with a MatchAllDocsQuery.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 23:00:21 2006
Return-Path: <java-user-return-18239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34638 invoked from network); 6 Jan 2006 23:00:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 23:00:21 -0000
Received: (qmail 37523 invoked by uid 500); 6 Jan 2006 23:00:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37500 invoked by uid 500); 6 Jan 2006 23:00:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37489 invoked by uid 99); 6 Jan 2006 23:00:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 15:00:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.101.35.202] (HELO mail.cs.umn.edu) (128.101.35.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 15:00:13 -0800
Received: from localhost (localhost [127.0.0.1])
	by augustus.cs.umn.edu (Postfix) with ESMTP id 93D885C3B9
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 16:59:52 -0600 (CST)
Received: from mail.cs.umn.edu ([127.0.0.1])
 by localhost (mail.cs.umn.edu [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 29905-01-2 for <java-user@lucene.apache.org>;
 Fri,  6 Jan 2006 16:59:49 -0600 (CST)
Received: from [128.101.35.48] (eliot.cs.umn.edu [128.101.35.48])
	by mail.cs.umn.edu (Postfix) with ESMTP id 738825C3A2
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 16:59:49 -0600 (CST)
Message-ID: <43BEF665.3030209@cs.umn.edu>
Date: Fri, 06 Jan 2006 16:59:49 -0600
From: Dan Frankowski <dfrankow@cs.umn.edu>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Search result snippets?
References: <20060105004118.6894.qmail@web50302.mail.yahoo.com> <43BCAAFD.2070102@cs.umn.edu> <Pine.LNX.4.58.0601042119370.2762@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0601042119370.2762@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at cs.umn.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris,

Thanks, I have signed up for the wiki and will put in the answer when I 
fully understand it.

Otis,

So, I downloaded the Highlighter code with

svn checkout 
http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/highlighter/src/java/org/apache/lucene/search/highlight/

Then I tried to compile it with lucene.jar, version 1.4.3. I get 
compile-time errors (attached at the bottom of this message) for missing 
classes. One of them is org.apache.lucene.index.TermVectorOffsetInfo. 
For example,
% jar tvf lib/lucene.jar | grep TermVectorOffset
<nothing ...>
% jar xvf ../work/jspwiki/JSPWiki/lib/lucene.jar  META-INF/MANIFEST.MF
inflated: META-INF/MANIFEST.MF
dfrankow@gibson (~/windows/tmp) % cat META-INF/MANIFEST.MF
Manifest-Version: 1.0
Ant-Version: Apache Ant 1.6.1
Created-By: Apache Jakarta

Name: org/apache/lucene
Specification-Title: Lucene Search Engine
Specification-Version: 1.4.3
Specification-Vendor: Lucene
Implementation-Title: org.apache.lucene
Implementation-Version: build 2004-11-29 15:13:05
Implementation-Vemdpr: Lucene

I looked for TermVectorOffsetInfo in jar version 1.4.3, 1.4, 1.3, and 
1.2, and could not find it.

Someone asked about this on March 11 
(http://mail-archives.apache.org/mod_mbox/lucene-java-user/200503.mbox/%3C20050311062700.46656.qmail@web31110.mail.mud.yahoo.com%3E). 
You said to check out the trunk of Lucene, but I have to work with 
Lucene 1.4.3 in an existing project. I can't work with a version from SVN.

Suggestions? Is there a version of Highlighter that works with 1.4.3? If 
it compiles for you, where do you get TermVectorOffsetInfo, and is that 
in 1.4.3?

Thanks in advance.

Dan

Chris Hostetter wrote:

>: Thanks for this tip! This should be in the FAQ. Is there a way to get it
>: in there? I can't edit the wiki, I think.
>
>1) People who create a Wiki account can edit the FAQ.
>
>2) the FAQ already includes a refrence to Highlighter, I think it's the
>FAQ entry you mentioned...
>
>http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-0c15966e2ee7755f4ae639ee8eaf7de04f5c27f5
>
>   Is there a way to get a text summary of an indexed document with Lucene?
>
>   You could store the documents summary in the index and then use the
>   Highlighter from the sandbox.
>
>...feel free to add to the FAQ whatever information you think would have
>made the answer more useful to you when you first found it.
>
>
>: >How would you implement "snippets" with Lucene? A snippet is some text
>: >around parts of the text that caused a match, with the search matches in
>: >bold. For example, the supporting text in Google searches. A snippet is
>: >NOT a document summary, which has a FAQ entry and someone answered about
>: >on this email list.
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>  
>

====

    [javac] 
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:19: 
cannot find symbol
    [javac] symbol  : class TermVectorOffsetInfo
    [javac] location: package org.apache.lucene.index
    [javac] import org.apache.lucene.index.TermVectorOffsetInfo;
    [javac]                                ^
    [javac] 
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:124: 
cannot find symbol
    [javac] symbol  : class TermVectorOffsetInfo
    [javac] location: class org.apache.lucene.search.highlight.TokenSources
    [javac]             TermVectorOffsetInfo[] offsets=tpv.getOffsets(t);
    [javac]             ^
    [javac] 
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:124: 
cannot find symbol
    [javac] symbol  : method getOffsets(int)
    [javac] location: interface org.apache.lucene.index.TermPositionVector
    [javac]             TermVectorOffsetInfo[] offsets=tpv.getOffsets(t);
    [javac]                                               ^
    [javac] 
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:145: 
internal error; cannot instantiate Token(java.lang.String,int,int) at 
org.apache.lucene.analysis.Token to ()
    [javac]                     unsortedTokens.add(new Token(terms[t],
    [javac]                                        ^
    [javac] 
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:160: 
internal error; cannot instantiate Token(java.lang.String,int,int) at 
org.apache.lucene.analysis.Token to ()
    [javac]                     tokensInOriginalOrder[pos[tp]]=new 
Token(terms[t],
    [javac]                                                    ^
    [javac] 5 errors

BUILD FAILED
.../JSPWiki/build.xml:216: Compile failed; see the compiler error output 
for details.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 23:02:13 2006
Return-Path: <java-user-return-18240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35543 invoked from network); 6 Jan 2006 23:02:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 23:02:13 -0000
Received: (qmail 42158 invoked by uid 500); 6 Jan 2006 23:02:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42137 invoked by uid 500); 6 Jan 2006 23:02:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42120 invoked by uid 99); 6 Jan 2006 23:02:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 15:02:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 15:02:06 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C30E45B776; Fri,  6 Jan 2006 15:01:46 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C1F587F459
	for <java-user@lucene.apache.org>; Fri,  6 Jan 2006 15:01:46 -0800 (PST)
Date: Fri, 6 Jan 2006 15:01:46 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
In-Reply-To: <5A190004-80A7-4618-9810-DE90342E4B5D@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0601061450580.22546@hal.rescomp.berkeley.edu>
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
 <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com>
 <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
 <5A190004-80A7-4618-9810-DE90342E4B5D@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > Should we should detect the case of all negative clauses and throw in
: > a MatchAllDocsQuery?
: >
: > I guess this would be done in the QueryParser, but one could also make
: > a case for doing it in the BooleanQuery.

if it were going to be done, i would add it to the QueryParser, and not to
BooleanQuery ... BooleanQuery serves as a good "container" for other
queries along with their required/optional/prohibited status that can be
passed arround -- if someone is building up a BooleanQuery and
incrimentally adding clauses to it, the only place it could safely assume
it should add a MatchAllDocs query if all of it's clauses are negated is
in the createWeight method -- and that would be a very weird place to do
for the query to modify itself.

Putting logic like this in the QueryParser would seem like it makes the
most sense to me, as long as their was an option to toggle the behavior
on/off for people like me who use QueryParser to generate BooleanQueries
based on one set of input, and then add required/optional clauses to it
based on other sets of input.

I'd even support defaulting the behavior to "on" just because it seems
like it would be more DWIM for casual users (who might not notice an
option for turning it on as easily as experienced users would find an
option for turning it off)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 06 23:24:36 2006
Return-Path: <java-user-return-18241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50859 invoked from network); 6 Jan 2006 23:24:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Jan 2006 23:24:36 -0000
Received: (qmail 80670 invoked by uid 500); 6 Jan 2006 23:24:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80625 invoked by uid 500); 6 Jan 2006 23:24:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80611 invoked by uid 99); 6 Jan 2006 23:24:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 15:24:29 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.10 as permitted sender)
Received: from [219.125.112.10] (HELO nm05omta059.dion.ne.jp) (219.125.112.10)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 06 Jan 2006 15:24:29 -0800
Received: from sekiguchi ([59.135.92.19])
	by nm05mta.dion.ne.jp
	id <20060107082407084.MA92.80F2268@nm05mta.dion.ne.jp>;
	Sat, 7 Jan 2006 08:24:07 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Search result snippets?
Date: Sat, 7 Jan 2006 08:24:03 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCGEKBCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <43BEF665.3030209@cs.umn.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Dan,

I've experienced same error you are facing. Check out:

http://www.gossamer-threads.com/lists/lucene/java-user/28554?search_string=T
ermVectorOffsetInfo;#28554

Hope this helps.

Koji


> -----Original Message-----
> From: Dan Frankowski [mailto:dfrankow@cs.umn.edu]
> Sent: Saturday, January 07, 2006 8:00 AM
> To: java-user@lucene.apache.org
> Subject: Re: Search result snippets?
>
>
> Chris,
>
> Thanks, I have signed up for the wiki and will put in the answer when I
> fully understand it.
>
> Otis,
>
> So, I downloaded the Highlighter code with
>
> svn checkout
> http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/highligh
> ter/src/java/org/apache/lucene/search/highlight/
>
> Then I tried to compile it with lucene.jar, version 1.4.3. I get
> compile-time errors (attached at the bottom of this message) for missing
> classes. One of them is org.apache.lucene.index.TermVectorOffsetInfo.
> For example,
> % jar tvf lib/lucene.jar | grep TermVectorOffset
> <nothing ...>
> % jar xvf ../work/jspwiki/JSPWiki/lib/lucene.jar  META-INF/MANIFEST.MF
> inflated: META-INF/MANIFEST.MF
> dfrankow@gibson (~/windows/tmp) % cat META-INF/MANIFEST.MF
> Manifest-Version: 1.0
> Ant-Version: Apache Ant 1.6.1
> Created-By: Apache Jakarta
>
> Name: org/apache/lucene
> Specification-Title: Lucene Search Engine
> Specification-Version: 1.4.3
> Specification-Vendor: Lucene
> Implementation-Title: org.apache.lucene
> Implementation-Version: build 2004-11-29 15:13:05
> Implementation-Vemdpr: Lucene
>
> I looked for TermVectorOffsetInfo in jar version 1.4.3, 1.4, 1.3, and
> 1.2, and could not find it.
>
> Someone asked about this on March 11
> (http://mail-archives.apache.org/mod_mbox/lucene-java-user/200503.
> mbox/%3C20050311062700.46656.qmail@web31110.mail.mud.yahoo.com%3E).
> You said to check out the trunk of Lucene, but I have to work with
> Lucene 1.4.3 in an existing project. I can't work with a version from SVN.
>
> Suggestions? Is there a version of Highlighter that works with 1.4.3? If
> it compiles for you, where do you get TermVectorOffsetInfo, and is that
> in 1.4.3?
>
> Thanks in advance.
>
> Dan
>
> Chris Hostetter wrote:
>
> >: Thanks for this tip! This should be in the FAQ. Is there a way
> to get it
> >: in there? I can't edit the wiki, I think.
> >
> >1) People who create a Wiki account can edit the FAQ.
> >
> >2) the FAQ already includes a refrence to Highlighter, I think it's the
> >FAQ entry you mentioned...
> >
> >http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-0c15966e2ee7
755f4ae639ee8eaf7de04f5c27f5
> >
> >   Is there a way to get a text summary of an indexed document
> with Lucene?
> >
> >   You could store the documents summary in the index and then use the
> >   Highlighter from the sandbox.
> >
> >...feel free to add to the FAQ whatever information you think would have
> >made the answer more useful to you when you first found it.
> >
> >
> >: >How would you implement "snippets" with Lucene? A snippet is some text
> >: >around parts of the text that caused a match, with the search
> matches in
> >: >bold. For example, the supporting text in Google searches. A
> snippet is
> >: >NOT a document summary, which has a FAQ entry and someone
> answered about
> >: >on this email list.
> >
> >
> >-Hoss
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ====
>
>     [javac]
> .../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:19:
> cannot find symbol
>     [javac] symbol  : class TermVectorOffsetInfo
>     [javac] location: package org.apache.lucene.index
>     [javac] import org.apache.lucene.index.TermVectorOffsetInfo;
>     [javac]                                ^
>     [javac]
> .../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:124:
> cannot find symbol
>     [javac] symbol  : class TermVectorOffsetInfo
>     [javac] location: class
> org.apache.lucene.search.highlight.TokenSources
>     [javac]             TermVectorOffsetInfo[] offsets=tpv.getOffsets(t);
>     [javac]             ^
>     [javac]
> .../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:124:
> cannot find symbol
>     [javac] symbol  : method getOffsets(int)
>     [javac] location: interface org.apache.lucene.index.TermPositionVector
>     [javac]             TermVectorOffsetInfo[] offsets=tpv.getOffsets(t);
>     [javac]                                               ^
>     [javac]
> .../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:145:
> internal error; cannot instantiate Token(java.lang.String,int,int) at
> org.apache.lucene.analysis.Token to ()
>     [javac]                     unsortedTokens.add(new Token(terms[t],
>     [javac]                                        ^
>     [javac]
> .../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:160:
> internal error; cannot instantiate Token(java.lang.String,int,int) at
> org.apache.lucene.analysis.Token to ()
>     [javac]                     tokensInOriginalOrder[pos[tp]]=new
> Token(terms[t],
>     [javac]                                                    ^
>     [javac] 5 errors
>
> BUILD FAILED
> .../JSPWiki/build.xml:216: Compile failed; see the compiler error output
> for details.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 06:40:30 2006
Return-Path: <java-user-return-18242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7157 invoked from network); 7 Jan 2006 06:40:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 06:40:30 -0000
Received: (qmail 68211 invoked by uid 500); 7 Jan 2006 06:40:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68158 invoked by uid 500); 7 Jan 2006 06:40:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68147 invoked by uid 99); 7 Jan 2006 06:40:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Jan 2006 22:40:24 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 06 Jan 2006 22:40:23 -0800
Received: (qmail 79717 invoked by uid 60001); 7 Jan 2006 06:40:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=G/s801vmRMdrRBb9QNgMn+82HRsW2a8TzjytUD4SlrdF+aePpFATcCEhAnwixiLdFyqT/GiVg8OzUlNC4YRSIncMvo4KA2/3YsAQUH4FMiA4uFDhSACl9WOwvYETqlJInixu/vnui4Fcwqq/Z9qavmmGgv0LGDAG7T9BCiitV+k=  ;
Message-ID: <20060107064001.79715.qmail@web50306.mail.yahoo.com>
Received: from [69.201.142.21] by web50306.mail.yahoo.com via HTTP; Fri, 06 Jan 2006 22:40:01 PST
Date: Fri, 6 Jan 2006 22:40:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search result snippets?
To: java-user@lucene.apache.org
In-Reply-To: <43BEF665.3030209@cs.umn.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dan,

Grab the highlighter Jar that comes with Lucene in Action code -
http://www.lucenebook.com/ .  That will work with Lucene 1.4.3.

Otis

--- Dan Frankowski <dfrankow@cs.umn.edu> wrote:

> Chris,
> 
> Thanks, I have signed up for the wiki and will put in the answer when
> I 
> fully understand it.
> 
> Otis,
> 
> So, I downloaded the Highlighter code with
> 
> svn checkout 
>
http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/highlighter/src/java/org/apache/lucene/search/highlight/
> 
> Then I tried to compile it with lucene.jar, version 1.4.3. I get 
> compile-time errors (attached at the bottom of this message) for
> missing 
> classes. One of them is org.apache.lucene.index.TermVectorOffsetInfo.
> 
> For example,
> % jar tvf lib/lucene.jar | grep TermVectorOffset
> <nothing ...>
> % jar xvf ../work/jspwiki/JSPWiki/lib/lucene.jar 
> META-INF/MANIFEST.MF
> inflated: META-INF/MANIFEST.MF
> dfrankow@gibson (~/windows/tmp) % cat META-INF/MANIFEST.MF
> Manifest-Version: 1.0
> Ant-Version: Apache Ant 1.6.1
> Created-By: Apache Jakarta
> 
> Name: org/apache/lucene
> Specification-Title: Lucene Search Engine
> Specification-Version: 1.4.3
> Specification-Vendor: Lucene
> Implementation-Title: org.apache.lucene
> Implementation-Version: build 2004-11-29 15:13:05
> Implementation-Vemdpr: Lucene
> 
> I looked for TermVectorOffsetInfo in jar version 1.4.3, 1.4, 1.3, and
> 
> 1.2, and could not find it.
> 
> Someone asked about this on March 11 
>
(http://mail-archives.apache.org/mod_mbox/lucene-java-user/200503.mbox/%3C20050311062700.46656.qmail@web31110.mail.mud.yahoo.com%3E).
> 
> You said to check out the trunk of Lucene, but I have to work with 
> Lucene 1.4.3 in an existing project. I can't work with a version from
> SVN.
> 
> Suggestions? Is there a version of Highlighter that works with 1.4.3?
> If 
> it compiles for you, where do you get TermVectorOffsetInfo, and is
> that 
> in 1.4.3?
> 
> Thanks in advance.
> 
> Dan
> 
> Chris Hostetter wrote:
> 
> >: Thanks for this tip! This should be in the FAQ. Is there a way to
> get it
> >: in there? I can't edit the wiki, I think.
> >
> >1) People who create a Wiki account can edit the FAQ.
> >
> >2) the FAQ already includes a refrence to Highlighter, I think it's
> the
> >FAQ entry you mentioned...
> >
>
>http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-0c15966e2ee7755f4ae639ee8eaf7de04f5c27f5
> >
> >   Is there a way to get a text summary of an indexed document with
> Lucene?
> >
> >   You could store the documents summary in the index and then use
> the
> >   Highlighter from the sandbox.
> >
> >...feel free to add to the FAQ whatever information you think would
> have
> >made the answer more useful to you when you first found it.
> >
> >
> >: >How would you implement "snippets" with Lucene? A snippet is some
> text
> >: >around parts of the text that caused a match, with the search
> matches in
> >: >bold. For example, the supporting text in Google searches. A
> snippet is
> >: >NOT a document summary, which has a FAQ entry and someone
> answered about
> >: >on this email list.
> >
> >
> >-Hoss
> >
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >  
> >
> 
> ====
> 
>     [javac] 
>
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:19:
> 
> cannot find symbol
>     [javac] symbol  : class TermVectorOffsetInfo
>     [javac] location: package org.apache.lucene.index
>     [javac] import org.apache.lucene.index.TermVectorOffsetInfo;
>     [javac]                                ^
>     [javac] 
>
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:124:
> 
> cannot find symbol
>     [javac] symbol  : class TermVectorOffsetInfo
>     [javac] location: class
> org.apache.lucene.search.highlight.TokenSources
>     [javac]             TermVectorOffsetInfo[]
> offsets=tpv.getOffsets(t);
>     [javac]             ^
>     [javac] 
>
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:124:
> 
> cannot find symbol
>     [javac] symbol  : method getOffsets(int)
>     [javac] location: interface
> org.apache.lucene.index.TermPositionVector
>     [javac]             TermVectorOffsetInfo[]
> offsets=tpv.getOffsets(t);
>     [javac]                                               ^
>     [javac] 
>
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:145:
> 
> internal error; cannot instantiate Token(java.lang.String,int,int) at
> 
> org.apache.lucene.analysis.Token to ()
>     [javac]                     unsortedTokens.add(new
> Token(terms[t],
>     [javac]                                        ^
>     [javac] 
>
.../JSPWiki/src/org/apache/lucene/search/highlight/TokenSources.java:160:
> 
> internal error; cannot instantiate Token(java.lang.String,int,int) at
> 
> org.apache.lucene.analysis.Token to ()
>     [javac]                     tokensInOriginalOrder[pos[tp]]=new 
> Token(terms[t],
>     [javac]                                                    ^
>     [javac] 5 errors
> 
> BUILD FAILED
> .../JSPWiki/build.xml:216: Compile failed; see the compiler error
> output 
> for details.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 15:11:35 2006
Return-Path: <java-user-return-18243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65027 invoked from network); 7 Jan 2006 15:11:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 15:11:35 -0000
Received: (qmail 33373 invoked by uid 500); 7 Jan 2006 15:11:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32821 invoked by uid 500); 7 Jan 2006 15:11:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32798 invoked by uid 99); 7 Jan 2006 15:11:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 07:11:28 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 07:11:27 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EvFif-0005sQ-CU
	for java-user@lucene.apache.org; Sat, 07 Jan 2006 16:11:01 +0100
Received: from 86.49.100.18 ([86.49.100.18])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 16:11:01 +0100
Received: from literakl by 86.49.100.18 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 16:11:01 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Leos Literak <literakl@seznam.cz>
Subject:  how to forbid prefetching found Documents?
Date:  Sat, 07 Jan 2006 16:10:43 +0100
Lines: 15
Message-ID: <dpollj$hki$1@sea.gmane.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 86.49.100.18
User-Agent: Mozilla Thunderbird 1.0.6-7.1.20060mdk (X11/20050322)
X-Accept-Language: en-us, en
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I found in Lucenebook, that searching always reads
first first 100 documents. I take a look to java
source code and found that in Hits.java. I cannot
find any easy way, how to forbid this behaviour.

motivation: my page size is 30. It is useless to
read 100 documents, when I will display only small
portion of it. And imagine, that user is on fourth
page - reading first 100 document is waste of time.

Thanks for your idea

Leos


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 15:44:20 2006
Return-Path: <java-user-return-18244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82127 invoked from network); 7 Jan 2006 15:44:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 15:44:20 -0000
Received: (qmail 68753 invoked by uid 500); 7 Jan 2006 15:44:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68728 invoked by uid 500); 7 Jan 2006 15:44:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68717 invoked by uid 99); 7 Jan 2006 15:44:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 07:44:15 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO zproxy.gmail.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 07:44:13 -0800
Received: by zproxy.gmail.com with SMTP id 8so3673462nzo
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 07:43:53 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gVjVAaVRGlhQ42ttVocp/JAWyElEO1SBFkGzrzccUbmLOIrJvBf9OrgnESgZXHQJKnEfEvtFhvABPVBveQ3JJHqPPqSdINUEXJWE/8/gUkUZx1ZwBRrNcDSO//pIoytDzc88Bo52zCMqMEqdIr1kqlyVNbnvhEICQF13ZIaqFyw=
Received: by 10.65.52.3 with SMTP id e3mr2172420qbk;
        Sat, 07 Jan 2006 07:43:52 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Sat, 7 Jan 2006 07:43:52 -0800 (PST)
Message-ID: <c68e39170601070743w1cce424ajf7271eb4f8600061@mail.gmail.com>
Date: Sat, 7 Jan 2006 10:43:52 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to forbid prefetching found Documents?
In-Reply-To: <dpollj$hki$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <dpollj$hki$1@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The actual fields of found documents are not prefetched, only the ids.

> And imagine, that user is on fourth
> page - reading first 100 document is waste of time.

As it relates to document ids, you must know what the first 100 are if
you are to know which ones follow.

If you want more control over how this is all done, you can use the
expert level search methods that return TopDocs or TopFieldDocs.

-Yonik


On 1/7/06, Leos Literak <literakl@seznam.cz> wrote:
> Hello,
>
> I found in Lucenebook, that searching always reads
> first first 100 documents. I take a look to java
> source code and found that in Hits.java. I cannot
> find any easy way, how to forbid this behaviour.
>
> motivation: my page size is 30. It is useless to
> read 100 documents, when I will display only small
> portion of it. And imagine, that user is on fourth
> page - reading first 100 document is waste of time.
>
> Thanks for your idea
>
> Leos
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 16:54:32 2006
Return-Path: <java-user-return-18245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14292 invoked from network); 7 Jan 2006 16:54:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 16:54:31 -0000
Received: (qmail 38730 invoked by uid 500); 7 Jan 2006 16:54:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37752 invoked by uid 500); 7 Jan 2006 16:54:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37741 invoked by uid 99); 7 Jan 2006 16:54:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 08:54:26 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.235] (HELO web60812.mail.yahoo.com) (209.73.178.235)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 07 Jan 2006 08:54:25 -0800
Received: (qmail 40796 invoked by uid 60001); 7 Jan 2006 16:54:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=QCt0ap1fEBpa5A3ESc0/Z1lul03XcQI44TzYqd4x/BqwNbPQ1omrJdYYKHxmt3urKuOW1Go0nJerYdY4ZskKYQimEexuHNhUgA15m+9iK2wXnqYbu5G4v0T7qhlSCjctQtXyGwpOnLqn0gUxQK9dzaG9jlere+0JqDQ1S/SrdFM=  ;
Message-ID: <20060107165404.40794.qmail@web60812.mail.yahoo.com>
Received: from [82.81.81.93] by web60812.mail.yahoo.com via HTTP; Sat, 07 Jan 2006 08:54:04 PST
Date: Sat, 7 Jan 2006 08:54:04 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: how to post questions?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1010318550-1136652844=:40101"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1010318550-1136652844=:40101
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit



		
---------------------------------
 Yahoo! DSL Something to write home about. Just $16.99/mo. or less
--0-1010318550-1136652844=:40101--

From java-user-return-18246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 17:01:04 2006
Return-Path: <java-user-return-18246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18933 invoked from network); 7 Jan 2006 17:01:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 17:01:04 -0000
Received: (qmail 45952 invoked by uid 500); 7 Jan 2006 17:01:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45447 invoked by uid 500); 7 Jan 2006 17:00:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45436 invoked by uid 99); 7 Jan 2006 17:00:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 09:00:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 09:00:57 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BA63B13E201A; Sat,  7 Jan 2006 12:00:35 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 2720713E2005
	for <java-user@lucene.apache.org>; Sat,  7 Jan 2006 12:00:17 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <Pine.LNX.4.58.0601061450580.22546@hal.rescomp.berkeley.edu>
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com> <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com> <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com> <5A190004-80A7-4618-9810-DE90342E4B5D@ehatchersolutions.com> <Pine.LNX.4.58.0601061450580.22546@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <459EEEA7-3E3B-42AF-A528-EA3EE54E0480@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: need some advice/help with negative query.
Date: Sat, 7 Jan 2006 12:00:12 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

+1 to Hoss's suggested enhancement to QueryParser.

I'll volunteer to implement this barring any objections in the next  
day or so.

	Erik


On Jan 6, 2006, at 6:01 PM, Chris Hostetter wrote:

>
> : > Should we should detect the case of all negative clauses and  
> throw in
> : > a MatchAllDocsQuery?
> : >
> : > I guess this would be done in the QueryParser, but one could  
> also make
> : > a case for doing it in the BooleanQuery.
>
> if it were going to be done, i would add it to the QueryParser, and  
> not to
> BooleanQuery ... BooleanQuery serves as a good "container" for other
> queries along with their required/optional/prohibited status that  
> can be
> passed arround -- if someone is building up a BooleanQuery and
> incrimentally adding clauses to it, the only place it could safely  
> assume
> it should add a MatchAllDocs query if all of it's clauses are  
> negated is
> in the createWeight method -- and that would be a very weird place  
> to do
> for the query to modify itself.
>
> Putting logic like this in the QueryParser would seem like it makes  
> the
> most sense to me, as long as their was an option to toggle the  
> behavior
> on/off for people like me who use QueryParser to generate  
> BooleanQueries
> based on one set of input, and then add required/optional clauses  
> to it
> based on other sets of input.
>
> I'd even support defaulting the behavior to "on" just because it seems
> like it would be more DWIM for casual users (who might not notice an
> option for turning it on as easily as experienced users would find an
> option for turning it off)
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 17:10:04 2006
Return-Path: <java-user-return-18247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22915 invoked from network); 7 Jan 2006 17:10:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 17:10:03 -0000
Received: (qmail 57835 invoked by uid 500); 7 Jan 2006 17:09:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57815 invoked by uid 500); 7 Jan 2006 17:09:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57804 invoked by uid 99); 7 Jan 2006 17:09:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 09:09:56 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.236] (HELO web60813.mail.yahoo.com) (209.73.178.236)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 07 Jan 2006 09:09:55 -0800
Received: (qmail 17531 invoked by uid 60001); 7 Jan 2006 17:09:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MHc++xNRcbfqR/uVw8ef5bMR2we4BxG0bE5VdgRiadKuef3tIbPyy1DiFcHdjo25qsrLNCw/cWgJZMPCU4EypQWUeP1w1z/YAUYhi2EIcQ0wIYc6Woh8fyeMNh3uaaxYo9TLyQIzihh/6vv3qRHw72rJ0Of1Rcuy9iZt59QRy9s=  ;
Message-ID: <20060107170934.17529.qmail@web60813.mail.yahoo.com>
Received: from [82.81.81.93] by web60813.mail.yahoo.com via HTTP; Sat, 07 Jan 2006 09:09:34 PST
Date: Sat, 7 Jan 2006 09:09:34 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: online incremental indexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-988839880-1136653774=:15005"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-988839880-1136653774=:15005
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hello all,
   
  i have an environment with a number of search instances (index searchers) running as rmi servers and a federator (a parallel multi searcher) combining the results of all the instances, this is working great, and allows us to load into memory millions of docs.
   
  my problem is as follows:
   
  i want to update the indexes but i do not want any down time,
  looking at the parallel multi searcher code i see that if one of the searchables throws an io exception the multisearcher doesnt bother dealing with that searchable's results (am i correct? if so this is great), 
   
  i would like to write my own remotesearchaer that adds a reload function that will close the indexsearcher and reload the indexes into memory after they have been updated.
   
  however this means that closing and then reopening/reloading an indexsearcher (running as a search instance) would result in a specific instance not returning results during the load time.
   
  is there a better solution?
   
  thanks

		
---------------------------------
Yahoo! Photos
 Ring in the New Year with Photo Calendars. Add photos, events, holidays, whatever.
--0-988839880-1136653774=:15005--

From java-user-return-18248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 17:46:34 2006
Return-Path: <java-user-return-18248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41663 invoked from network); 7 Jan 2006 17:46:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 17:46:33 -0000
Received: (qmail 92915 invoked by uid 500); 7 Jan 2006 17:46:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91952 invoked by uid 500); 7 Jan 2006 17:46:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91941 invoked by uid 99); 7 Jan 2006 17:46:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 09:46:28 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 09:46:27 -0800
Received: by zproxy.gmail.com with SMTP id n29so5593375nzf
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 09:46:07 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CzuIR3r9s09Y0P/ReD7rVEISO+hSrqv6sda8byGECLlg7iGm4joGz5S+BT9vJoVjSEg0XSC/62Fw8/683C9fu/DW13WJ5my85wgmB4LOpRzSs55dUbl090m97lhOzSaWprLet847Y4QT0OJDw3ehkFM6X8ct0Q8WELEjAilMzoQ=
Received: by 10.65.115.10 with SMTP id s10mr2156368qbm;
        Sat, 07 Jan 2006 09:46:06 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Sat, 7 Jan 2006 09:46:06 -0800 (PST)
Message-ID: <c68e39170601070946p3d0d39c6h7ca5b6ebfb83f5fd@mail.gmail.com>
Date: Sat, 7 Jan 2006 12:46:06 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: need some advice/help with negative query.
In-Reply-To: <459EEEA7-3E3B-42AF-A528-EA3EE54E0480@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <b487c1370601060904h6638f2f1u71a40f4309f0b035@mail.gmail.com>
	 <547E8578-88D9-4598-BA01-0E59EBAF6C5A@ehatchersolutions.com>
	 <c68e39170601061157l79b28758k14c1a91511c21118@mail.gmail.com>
	 <5A190004-80A7-4618-9810-DE90342E4B5D@ehatchersolutions.com>
	 <Pine.LNX.4.58.0601061450580.22546@hal.rescomp.berkeley.edu>
	 <459EEEA7-3E3B-42AF-A528-EA3EE54E0480@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

+1 from me.
-Yonik

On 1/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> +1 to Hoss's suggested enhancement to QueryParser.
>
> I'll volunteer to implement this barring any objections in the next
> day or so.
>
>         Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 19:44:00 2006
Return-Path: <java-user-return-18249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87867 invoked from network); 7 Jan 2006 19:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 19:44:00 -0000
Received: (qmail 81445 invoked by uid 500); 7 Jan 2006 19:43:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81410 invoked by uid 500); 7 Jan 2006 19:43:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81399 invoked by uid 99); 7 Jan 2006 19:43:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 11:43:55 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 11:43:54 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EvJyN-0000mr-06
	for java-user@lucene.apache.org; Sat, 07 Jan 2006 20:43:31 +0100
Received: from 86.49.100.18 ([86.49.100.18])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 20:43:30 +0100
Received: from literakl by 86.49.100.18 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 20:43:30 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Leos Literak <literakl@seznam.cz>
Subject:  Re: how to forbid prefetching found Documents?
Date:  Sat, 07 Jan 2006 20:43:24 +0100
Lines: 57
Message-ID: <dpp5kt$1n5$1@sea.gmane.org>
References:  <dpollj$hki$1@sea.gmane.org> <c68e39170601070743w1cce424ajf7271eb4f8600061@mail.gmail.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 86.49.100.18
User-Agent: Mozilla Thunderbird 1.0.6-7.1.20060mdk (X11/20050322)
X-Accept-Language: en-us, en
In-Reply-To: <c68e39170601070743w1cce424ajf7271eb4f8600061@mail.gmail.com>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik, I want to display 120th. up to 150th. document
in Hits. Do you mean that Hits does not contain id
of all relevant documents? I thought that search will
return all document ids with their score and Lucene
prefetches first 100 document to speed the process.

My index contains complete text (yes, it is stored),
so feeding 100 documents, when I will display only 30
of them (or noone at all) is IMHO waste of time.
I would like to have a control and specify, how many
documents to prefetch.

Am I wrong?

leos

Yonik Seeley wrote:
> The actual fields of found documents are not prefetched, only the ids.
> 
> 
>>And imagine, that user is on fourth
>>page - reading first 100 document is waste of time.
> 
> 
> As it relates to document ids, you must know what the first 100 are if
> you are to know which ones follow.
> 
> If you want more control over how this is all done, you can use the
> expert level search methods that return TopDocs or TopFieldDocs.
> 
> -Yonik
> 
> 
> On 1/7/06, Leos Literak <literakl@seznam.cz> wrote:
> 
>>Hello,
>>
>>I found in Lucenebook, that searching always reads
>>first first 100 documents. I take a look to java
>>source code and found that in Hits.java. I cannot
>>find any easy way, how to forbid this behaviour.
>>
>>motivation: my page size is 30. It is useless to
>>read 100 documents, when I will display only small
>>portion of it. And imagine, that user is on fourth
>>page - reading first 100 document is waste of time.
>>
>>Thanks for your idea
>>
>>Leos
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 20:18:27 2006
Return-Path: <java-user-return-18250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4448 invoked from network); 7 Jan 2006 20:18:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 20:18:26 -0000
Received: (qmail 11952 invoked by uid 500); 7 Jan 2006 20:18:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10970 invoked by uid 500); 7 Jan 2006 20:18:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10958 invoked by uid 99); 7 Jan 2006 20:18:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 12:18:21 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 12:18:20 -0800
Received: by wproxy.gmail.com with SMTP id 71so2911648wra
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 12:17:59 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=syzYlvy2QgSt8BZ3WEw8SXDCsyJFijb2phbXh6lK0CCSra4UypifU5gGZCfaG4YP1C4Lu+jZOWxDuzt+ShqIC2E1uJhup8S1YU3U48JpWie1BgdKWGjGe9vDlsf2RzriGqb8T0gBHBygXa9SCaXPP9G16RwrPBTDS3m3L+Ql1bs=
Received: by 10.65.240.8 with SMTP id s8mr2214991qbr;
        Sat, 07 Jan 2006 12:17:59 -0800 (PST)
Received: by 10.65.250.11 with HTTP; Sat, 7 Jan 2006 12:17:59 -0800 (PST)
Message-ID: <c68e39170601071217l6ec5f695i328e1cd4a3bffcd1@mail.gmail.com>
Date: Sat, 7 Jan 2006 15:17:59 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to forbid prefetching found Documents?
In-Reply-To: <dpp5kt$1n5$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <dpollj$hki$1@sea.gmane.org>
	 <c68e39170601070743w1cce424ajf7271eb4f8600061@mail.gmail.com>
	 <dpp5kt$1n5$1@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/7/06, Leos Literak <literakl@seznam.cz> wrote:
> Yonik, I want to display 120th. up to 150th. document
> in Hits. Do you mean that Hits does not contain id
> of all relevant documents?

Correct, it does not.  The first time Hits is returned to you, it will
internally contain the ids and scores of the top 100, but not the
stored fields (the Document instance).

When you access beyond the 100th element, Hits will internally redo
the search asking for more ids and scores this time.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 07 23:00:54 2006
Return-Path: <java-user-return-18251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49549 invoked from network); 7 Jan 2006 23:00:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Jan 2006 23:00:54 -0000
Received: (qmail 89788 invoked by uid 500); 7 Jan 2006 23:00:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89767 invoked by uid 500); 7 Jan 2006 23:00:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89747 invoked by uid 99); 7 Jan 2006 23:00:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 15:00:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 15:00:47 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6455E5B776; Sat,  7 Jan 2006 15:00:25 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5CB917F459
	for <java-user@lucene.apache.org>; Sat,  7 Jan 2006 15:00:25 -0800 (PST)
Date: Sat, 7 Jan 2006 15:00:25 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: how to forbid prefetching found Documents?
In-Reply-To: <c68e39170601071217l6ec5f695i328e1cd4a3bffcd1@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601071453320.15688@hal.rescomp.berkeley.edu>
References: <dpollj$hki$1@sea.gmane.org>  <c68e39170601070743w1cce424ajf7271eb4f8600061@mail.gmail.com>
  <dpp5kt$1n5$1@sea.gmane.org> <c68e39170601071217l6ec5f695i328e1cd4a3bffcd1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


This is the reason i suggested a while back that the initiall call to to
getMoreDocs should be moved out of the Hits constructor, so no prefetching
is done untill the client asks for hte first hit they want -- if on page#2
of some paginated results we wants docs 101-200, then the first prefetch
will get 1-200

http://www.nabble.com/Weird-time-results-doing-wildcard-queries-t291393.html#a818816

...but since I never actaully use a Hits object in any of my apps, i
haven't tried actually making these changes to see if it works out well.


: > Yonik, I want to display 120th. up to 150th. document
: > in Hits. Do you mean that Hits does not contain id
: > of all relevant documents?
:
: Correct, it does not.  The first time Hits is returned to you, it will
: internally contain the ids and scores of the top 100, but not the
: stored fields (the Document instance).
:
: When you access beyond the 100th element, Hits will internally redo
: the search asking for more ids and scores this time.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 04:54:51 2006
Return-Path: <java-user-return-18252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53758 invoked from network); 8 Jan 2006 04:54:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 04:54:51 -0000
Received: (qmail 61627 invoked by uid 500); 8 Jan 2006 04:54:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61591 invoked by uid 500); 8 Jan 2006 04:54:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61580 invoked by uid 99); 8 Jan 2006 04:54:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 20:54:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddjong67@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Jan 2006 20:54:44 -0800
Received: by wproxy.gmail.com with SMTP id i31so3278048wra
        for <java-user@lucene.apache.org>; Sat, 07 Jan 2006 20:54:23 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=lD9mPvp0M8iG1Bh1ZjPwjw4VmkEq7YSFyByzvp//JEUo44DgmBGiTMQ4NxqOs2bnBfsTfimmwT/wYX9Of2UK+SjQmm+yaz3JYghrMAtD+UEAN3Lg3RZfqt+rBXMwqwCCeWRVzhjXvwAYSymZZfnSgVTlFCHiZxWoR0y84VaAKlA=
Received: by 10.54.67.10 with SMTP id p10mr2595491wra;
        Sat, 07 Jan 2006 20:54:22 -0800 (PST)
Received: by 10.54.145.6 with HTTP; Sat, 7 Jan 2006 20:54:22 -0800 (PST)
Message-ID: <1b634b00601072054o70df1c2kf97abb98dafe181a@mail.gmail.com>
Date: Sun, 8 Jan 2006 05:54:22 +0100
From: Dick de Jong <ddjong67@gmail.com>
To: java-user@lucene.apache.org
Subject: Basic question on opening 2 IndexWriters on same Directory - I do not get IOException ...
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_37644_17534325.1136696062766"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_37644_17534325.1136696062766
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Question:
      Run attached java class and see the also attached when I ran it.
      I assumed the second writer should get an IOException in getWriter (i=
n
first TESTCASE).
      However this does not happen! This only happens when I open both
writers with flag 'createIndex'=3Dtrue (see
      also second test case).

      Is this a misunderstanding from my side or what is this?

ENVIRONMENT:
      Windows Professional XP SP2
      Lucene 1.4 (java)


OUTPUT OF MAIN METHOD:
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
   START TESTCASE
   Test open 2 index writers on index c:\temp\indexdir
         writer 1 uses createIndex =3Dtrue
         writer 2 uses createIndex =3Dtrue               // why not an
IOException here ??
   Opening writer w1 on: c:\temp\indexdir
   Writing document to index using writer :w1
   Opening writer w2 on: c:\temp\indexdir
   Writing document to index using writer :w2
   Writing document to index using writer :w1
   Closing writer w1
   Closing writer w2
   END of test case ...
   =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
   =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
   START TESTCASE
   Test open 2 index writers on index c:\temp\indexdir
         writer 1 uses createIndex =3Dtrue
         writer 2 uses createIndex =3Dfalse
   Opening writer w1 on: c:\temp\indexdir
   Writing document to index using writer :w1
   Opening writer w2 on: c:\temp\indexdir
   In open writer caught IOException:
        Lock obtain timed out: Lock@C:\DOCUME~1\ddjong\LOCALS~1\Temp\lucene=
-
ea51d1f7bb672168eda3ee90698e936d-write.lock
   Closing writer w1
   END of test case ...
   =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

USED JAVA class (src):
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D

import java.io.IOException;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

public class TestIndexWriter
{

     private IndexWriter w1;
     private IndexWriter w2;
     private String indexDir;

     private Analyzer analyzer;
     private Document document;

     private TestIndexWriter()
     {
         // just create dummy document for test purposes, document is
reused.
         this.document =3D new Document();
         this.document.add(Field.Keyword("fname", "fvalue"));

         // indexDirectory Folder to be used
         this.indexDir =3D "c:\\temp\\indexdir";

         this.analyzer =3D new StandardAnalyzer();
     }

     private IndexWriter getWriter(String name, boolean createIndex) throws
IOException
     {
         System.out.println("Opening writer " + name + " on: " +
this.indexDir);
         return new IndexWriter(this.indexDir, this.analyzer, createIndex);
     }

     private void closeWriter(String name, IndexWriter w)
     {
         try {
             if (w !=3D null) {
                 System.out.println("Closing writer " + name);
                 w.close();
             }
         }
         catch (IOException e) {
             System.out.println("Don't bubble error in close writer; error:
\n" + e.getMessage());
         }
     }

     private void addDocument(String name, IndexWriter w) throws IOExceptio=
n
     {
         System.out.println("Writing document to index using writer :" +
name);
         w.addDocument(this.document);
     }


     public void testOpenIndexWriters(boolean w1_create, boolean w2_create)
     {
         System.out.println("=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D");
         System.out.println("START TESTCASE");
         System.out.println("Test open 2 index writers on index " +
this.indexDir);

         System.out.println(" \twriter 1 uses createIndex =3D" + w1_create)=
;
         System.out.println(" \twriter 2 uses createIndex =3D" + w2_create)=
;

         this.w1 =3D this.w2 =3D null;
         try
         {
             w1 =3D this.getWriter("w1", w1_create);
             addDocument("w1", w1);
             w2 =3D this.getWriter("w2", w2_create);
             addDocument("w2", w2);
             addDocument("w1", w1);
         }
         catch (IOException e)
         {
             System.out.println("In open writer caught IOException:");
             System.out.println("\t" + e.getMessage());
         }
         finally
         {
             this.closeWriter("w1", w1);
             this.closeWriter("w2", w2);
             System.out.println("END of test case ...");
             System.out.println("=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D");
         }
     }

     public static void main(String[] args)
     {
         TestIndexWriter tw =3D new TestIndexWriter();
         tw.testOpenIndexWriters(true, true);
         tw.testOpenIndexWriters(true, false);
     }
}

------=_Part_37644_17534325.1136696062766--

From java-user-return-18253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 16:11:32 2006
Return-Path: <java-user-return-18253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21844 invoked from network); 8 Jan 2006 16:11:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 16:11:31 -0000
Received: (qmail 89875 invoked by uid 500); 8 Jan 2006 16:11:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88883 invoked by uid 500); 8 Jan 2006 16:11:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88872 invoked by uid 99); 8 Jan 2006 16:11:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 08:11:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 08:11:24 -0800
Received: from [59.93.73.254] (helo=[59.93.73.254])
	by mrelay.perfora.net (node=mrelayus0) with ESMTP (Nemesis),
	id 0MKoyl-1Evd8G32Vk-0000w1; Sun, 08 Jan 2006 11:11:03 -0500
Message-ID: <43C13901.8050607@insideview.com>
Date: Sun, 08 Jan 2006 21:38:33 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Deleting a Document
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I want to update a document in the lucene index. As mentioned in the 
documentation, I tried to delete the document using IndexReader.delete 
method. But even after I delete the document, I am able to see the 
document when I perform a search. I thought this could be because, I am 
caching the IndexSearcher instance and refreshing it only when required. 
So I tried to refresh the IndexSearcher instance immediately after 
deletion. But even this did not solve the problem. Here is the code:
    public synchronized void deleteDocument(String id) {
        String indexLoc = luceneConfig.getIndexDir();
        Directory fsDir = getIndexDirectory(indexLoc, false);
        IndexReader reader = getIndexReader(fsDir);
        try {
            Term t = new Term(IndexSearchConstants.DOCUMENT_ID, id);
            reader.delete(t);

            //After deleting the document refresh the IndexSearcher instance
            manager.refreshIndexSearcher();
        } catch (IOException e) {
            logger.error("IOException occurred in deleteDocument()", e);
        } finally {
            try {
                reader.close();
            } catch(IOException e) {}
        }
    }
The document seems to be deleted only when I restart the server. Am I 
missing something while deleting the document? When does the document 
actually get deleted from the index?
Thanks,
Harini



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 16:17:30 2006
Return-Path: <java-user-return-18254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23200 invoked from network); 8 Jan 2006 16:17:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 16:17:30 -0000
Received: (qmail 96897 invoked by uid 500); 8 Jan 2006 16:17:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95939 invoked by uid 500); 8 Jan 2006 16:17:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95928 invoked by uid 99); 8 Jan 2006 16:17:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 08:17:25 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.10 as permitted sender)
Received: from [219.125.112.10] (HELO nm05omta059.dion.ne.jp) (219.125.112.10)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 08 Jan 2006 08:17:24 -0800
Received: from sekiguchi ([59.135.99.189])
	by nm05mta.dion.ne.jp
	id <20060109011702947.MA89.8068788@nm05mta.dion.ne.jp>;
	Mon, 9 Jan 2006 01:17:02 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: numDocs() after undeleteAll()
Date: Mon, 9 Jan 2006 01:17:02 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCCEKJCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Luceners!

steps:

1. index has 15 docs and has no deleted docs
2. call IndexReader.delete(Term) and 6 docs are deleted
3. now maxDoc() == 15, numDocs() == 9
4. call IndexReader.undeleteAll()
5. maxDoc() == 15, numDocs() == 9	<<???>>
6. close IndexReader and open again
7. now maxDoc() == 15, numDocs() == 15


I expected numDocs() returns 15 at step 5.
Am I wrong? I'm using Lucene 1.9.
The program is single thread and use single IndexReader
and threre is no other processes touch the index directory.

Thanks in advance,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 16:20:53 2006
Return-Path: <java-user-return-18255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24710 invoked from network); 8 Jan 2006 16:20:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 16:20:53 -0000
Received: (qmail 224 invoked by uid 500); 8 Jan 2006 16:20:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 205 invoked by uid 500); 8 Jan 2006 16:20:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 188 invoked by uid 99); 8 Jan 2006 16:20:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 08:20:47 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.11 as permitted sender)
Received: from [219.125.112.11] (HELO nm05omta05b.dion.ne.jp) (219.125.112.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 08 Jan 2006 08:20:46 -0800
Received: from sekiguchi ([59.135.99.189])
	by nm05mta.dion.ne.jp
	id <20060109012025632.MAB2.83D7F88@nm05mta.dion.ne.jp>;
	Mon, 9 Jan 2006 01:20:25 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Deleting a Document
Date: Mon, 9 Jan 2006 01:20:24 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCIEKJCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <43C13901.8050607@insideview.com>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Harini,

Close the reader after delete docs to take effect.

Hope this helps,

Koji

> -----Original Message-----
> From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
> Sent: Monday, January 09, 2006 1:09 AM
> To: java-user@lucene.apache.org
> Subject: Deleting a Document
> 
> 
> Hi,
> I want to update a document in the lucene index. As mentioned in the 
> documentation, I tried to delete the document using IndexReader.delete 
> method. But even after I delete the document, I am able to see the 
> document when I perform a search. I thought this could be because, I am 
> caching the IndexSearcher instance and refreshing it only when required. 
> So I tried to refresh the IndexSearcher instance immediately after 
> deletion. But even this did not solve the problem. Here is the code:
>     public synchronized void deleteDocument(String id) {
>         String indexLoc = luceneConfig.getIndexDir();
>         Directory fsDir = getIndexDirectory(indexLoc, false);
>         IndexReader reader = getIndexReader(fsDir);
>         try {
>             Term t = new Term(IndexSearchConstants.DOCUMENT_ID, id);
>             reader.delete(t);
> 
>             //After deleting the document refresh the 
> IndexSearcher instance
>             manager.refreshIndexSearcher();
>         } catch (IOException e) {
>             logger.error("IOException occurred in deleteDocument()", e);
>         } finally {
>             try {
>                 reader.close();
>             } catch(IOException e) {}
>         }
>     }
> The document seems to be deleted only when I restart the server. Am I 
> missing something while deleting the document? When does the document 
> actually get deleted from the index?
> Thanks,
> Harini
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 16:25:04 2006
Return-Path: <java-user-return-18256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26749 invoked from network); 8 Jan 2006 16:25:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 16:25:04 -0000
Received: (qmail 4075 invoked by uid 500); 8 Jan 2006 16:24:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4050 invoked by uid 500); 8 Jan 2006 16:24:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4039 invoked by uid 99); 8 Jan 2006 16:24:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 08:24:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.195 as permitted sender)
Received: from [64.233.182.195] (HELO nproxy.gmail.com) (64.233.182.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 08:24:59 -0800
Received: by nproxy.gmail.com with SMTP id x37so25956nfc
        for <java-user@lucene.apache.org>; Sun, 08 Jan 2006 08:24:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Ur28cwNwYgSzpEYItquq75Qa1gGDYbbtFAATWK0DOB8xS7jZkGsZutwqr3sP7QM9HcQoAy73gKtp7AX+XtRJGKKsbURSHkLaXW8vVgILJ8Lk4mkObU0FzsIrEnq2YbLwF3zN02azXytmESP1s8B2vqAbY7CuCuQmT8leOEetQaE=
Received: by 10.48.254.2 with SMTP id b2mr854768nfi;
        Sun, 08 Jan 2006 08:24:37 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Sun, 8 Jan 2006 08:24:37 -0800 (PST)
Message-ID: <c68e39170601080824r3a8b1355g15cd1da68dd4814a@mail.gmail.com>
Date: Sun, 8 Jan 2006 11:24:37 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: numDocs() after undeleteAll()
In-Reply-To: <PKEIKOCKCHNIIHNECPCCCEKJCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCCEKJCCAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you using the latest version of Lucene (after Dec 8th)?  There was
a bug fix regarding this:

http://issues.apache.org/jira/browse/LUCENE-479

-Yonik

On 1/8/06, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> Hello Luceners!
>
> steps:
>
> 1. index has 15 docs and has no deleted docs
> 2. call IndexReader.delete(Term) and 6 docs are deleted
> 3. now maxDoc() =3D=3D 15, numDocs() =3D=3D 9
> 4. call IndexReader.undeleteAll()
> 5. maxDoc() =3D=3D 15, numDocs() =3D=3D 9       <<???>>
> 6. close IndexReader and open again
> 7. now maxDoc() =3D=3D 15, numDocs() =3D=3D 15
>
>
> I expected numDocs() returns 15 at step 5.
> Am I wrong? I'm using Lucene 1.9.
> The program is single thread and use single IndexReader
> and threre is no other processes touch the index directory.
>
> Thanks in advance,
>
> Koji
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 16:37:09 2006
Return-Path: <java-user-return-18257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30753 invoked from network); 8 Jan 2006 16:37:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 16:37:09 -0000
Received: (qmail 16662 invoked by uid 500); 8 Jan 2006 16:37:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16627 invoked by uid 500); 8 Jan 2006 16:37:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16616 invoked by uid 99); 8 Jan 2006 16:37:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 08:37:05 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.12 as permitted sender)
Received: from [219.125.112.12] (HELO nm05omta05b.dion.ne.jp) (219.125.112.12)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 08 Jan 2006 08:37:04 -0800
Received: from sekiguchi ([59.135.99.189])
	by nm05mta.dion.ne.jp
	id <20060109013642801.MAA2.8514EE0@nm05mta.dion.ne.jp>;
	Mon, 9 Jan 2006 01:36:42 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: numDocs() after undeleteAll()
Date: Mon, 9 Jan 2006 01:36:41 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCEEKKCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <c68e39170601080824r3a8b1355g15cd1da68dd4814a@mail.gmail.com>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik,

> Are you using the latest version of Lucene (after Dec 8th)?  There was
> a bug fix regarding this:
> 
> http://issues.apache.org/jira/browse/LUCENE-479

Thank you. Fixed!

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 17:38:44 2006
Return-Path: <java-user-return-18258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51160 invoked from network); 8 Jan 2006 17:38:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 17:38:44 -0000
Received: (qmail 59503 invoked by uid 500); 8 Jan 2006 17:38:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59473 invoked by uid 500); 8 Jan 2006 17:38:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59462 invoked by uid 99); 8 Jan 2006 17:38:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 09:38:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [198.174.169.2] (HELO winternet.com) (198.174.169.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 09:38:38 -0800
X-AuthUser: dfrankow@winternet.com
Received: from [192.168.0.4] ([207.191.131.118]:1340)
	by winternet.com with [XMail 1.21 ESMTP Server]
	id <S64F36> for <java-user@lucene.apache.org> from <dfrankow@cs.umn.edu>;
	Sun, 8 Jan 2006 11:35:36 -0600
Message-ID: <43C14DA7.8010905@cs.umn.edu>
Date: Sun, 08 Jan 2006 11:36:39 -0600
From: Dan Frankowski <dfrankow@cs.umn.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Search result snippets?
References: <PKEIKOCKCHNIIHNECPCCGEKBCCAA.koji.sekiguchi@m4.dion.ne.jp>
In-Reply-To: <PKEIKOCKCHNIIHNECPCCGEKBCCAA.koji.sekiguchi@m4.dion.ne.jp>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Koji Sekiguchi wrote:

>Hi Dan,
>
>I've experienced same error you are facing. Check out:
>
>http://www.gossamer-threads.com/lists/lucene/java-user/28554?search_string=T
>ermVectorOffsetInfo;#28554
>
>Hope this helps.
>
>Koji
>  
>


Thanks! That helped! I put all this in the FAQ entry: 
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-75566820ee94a425c7e2950ac61d24e405fbd914

Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 08 22:44:17 2006
Return-Path: <java-user-return-18259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67945 invoked from network); 8 Jan 2006 22:44:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Jan 2006 22:44:17 -0000
Received: (qmail 45731 invoked by uid 500); 8 Jan 2006 22:44:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45573 invoked by uid 500); 8 Jan 2006 22:44:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45562 invoked by uid 99); 8 Jan 2006 22:44:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 14:44:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.47] (HELO smtpout.mac.com) (17.250.248.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 14:44:10 -0800
Received: from mac.com (smtpin04-en2 [10.13.10.149])
	by smtpout.mac.com (Xserve/8.12.11/smtpout09/MantshX 4.0) with ESMTP id k08Mho7P016424
	for <java-user@lucene.apache.org>; Sun, 8 Jan 2006 14:43:50 -0800 (PST)
Received: from [192.168.53.211] (i-195-137-67-86.freedom2surf.net [195.137.67.86])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin04/MantshX 4.0) with ESMTP id k08Mhk0e022503
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Sun, 8 Jan 2006 14:43:49 -0800 (PST)
Message-ID: <43C195A6.2010600@mac.com>
Date: Sun, 08 Jan 2006 22:43:50 +0000
From: Shay Banon <kimchy@mac.com>
Reply-To: java-user@lucene.apache.org
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Compass Framework 0.8 + Jdbc Lucene Directory
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We are pleased to announce the 0.8.0 release of Compass Framework - A 
Java Search Engine Framework based on Lucene.

Major feature of this release is the ability to store Lucene index 
within a database. The feature has two parts: A complete Lucene Jdbc 
Directory implementation which is separated from any Compass related 
code (currently part of the compass-core module and jar), allowing using 
it in pure Lucene implementations. The Lucene Jdbc Directory comes with 
documentation as an Appendix in Compass documentation 
(http://static.compassframework.org/docs/latest/jdbcdirectory.html). The 
second part is the integration of Jdbc Directory with Compass Framework, 
allowing existing compass code to work as is, requiring changes to 
configuration settings only. The integration includes several Data 
Source Providers (Dbcp, c3p0, Jndi, and more), and special automatic 
performance improvements.


Cheers,
Shay

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 04:18:50 2006
Return-Path: <java-user-return-18260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87967 invoked from network); 9 Jan 2006 04:18:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 04:18:50 -0000
Received: (qmail 82858 invoked by uid 500); 9 Jan 2006 04:18:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82831 invoked by uid 500); 9 Jan 2006 04:18:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82820 invoked by uid 99); 9 Jan 2006 04:18:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 20:18:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 20:18:44 -0800
Received: from [61.12.8.66] (helo=[192.168.1.128])
	by mrelay.perfora.net (node=mrelayus0) with ESMTP (Nemesis),
	id 0MKoyl-1EvoU63SrS-0000w9; Sun, 08 Jan 2006 23:18:23 -0500
Message-ID: <43C1E374.4080806@insideview.com>
Date: Mon, 09 Jan 2006 09:45:48 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Deleting a Document
References: <PKEIKOCKCHNIIHNECPCCIEKJCCAA.koji.sekiguchi@m4.dion.ne.jp>
In-Reply-To: <PKEIKOCKCHNIIHNECPCCIEKJCCAA.koji.sekiguchi@m4.dion.ne.jp>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Koji,
I am closing the reader after deleting. You can see the close being 
called in the finally block in the code.
-Harini

Koji Sekiguchi wrote:

>Hi Harini,
>
>Close the reader after delete docs to take effect.
>
>Hope this helps,
>
>Koji
>
>  
>
>>-----Original Message-----
>>From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
>>Sent: Monday, January 09, 2006 1:09 AM
>>To: java-user@lucene.apache.org
>>Subject: Deleting a Document
>>
>>
>>Hi,
>>I want to update a document in the lucene index. As mentioned in the 
>>documentation, I tried to delete the document using IndexReader.delete 
>>method. But even after I delete the document, I am able to see the 
>>document when I perform a search. I thought this could be because, I am 
>>caching the IndexSearcher instance and refreshing it only when required. 
>>So I tried to refresh the IndexSearcher instance immediately after 
>>deletion. But even this did not solve the problem. Here is the code:
>>    public synchronized void deleteDocument(String id) {
>>        String indexLoc = luceneConfig.getIndexDir();
>>        Directory fsDir = getIndexDirectory(indexLoc, false);
>>        IndexReader reader = getIndexReader(fsDir);
>>        try {
>>            Term t = new Term(IndexSearchConstants.DOCUMENT_ID, id);
>>            reader.delete(t);
>>
>>            //After deleting the document refresh the 
>>IndexSearcher instance
>>            manager.refreshIndexSearcher();
>>        } catch (IOException e) {
>>            logger.error("IOException occurred in deleteDocument()", e);
>>        } finally {
>>            try {
>>                reader.close();
>>            } catch(IOException e) {}
>>        }
>>    }
>>The document seems to be deleted only when I restart the server. Am I 
>>missing something while deleting the document? When does the document 
>>actually get deleted from the index?
>>Thanks,
>>Harini
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 04:33:10 2006
Return-Path: <java-user-return-18261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93891 invoked from network); 9 Jan 2006 04:33:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 04:33:09 -0000
Received: (qmail 99246 invoked by uid 500); 9 Jan 2006 04:33:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99227 invoked by uid 500); 9 Jan 2006 04:33:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99214 invoked by uid 99); 9 Jan 2006 04:33:03 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.182.194 as permitted sender)
Received: from [64.233.182.194] (HELO nproxy.gmail.com) (64.233.182.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 20:33:03 -0800
Received: by nproxy.gmail.com with SMTP id x37so80142nfc
        for <java-user@lucene.apache.org>; Sun, 08 Jan 2006 20:31:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Muy2EmmGCa13TfuAV6qo3RxOWbcYh52ZKoI/fqqhcLVO1WbYc102BZzOU2xvqL3RzvQrP8MH0mGJGAhmYrbOl9O2yOnzzLwrb7Q/sVPzNCleHaLEOCGxDUYAvLWRLAiDGiqrzVxFuk3QPMFrT5DAzPMBJDtFEV/v6gnm9wkFqjM=
Received: by 10.48.3.13 with SMTP id 13mr879833nfc;
        Sun, 08 Jan 2006 20:31:08 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Sun, 8 Jan 2006 20:31:08 -0800 (PST)
Message-ID: <c68e39170601082031l53e52274oa032fcf729c969b@mail.gmail.com>
Date: Sun, 8 Jan 2006 23:31:08 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Deleting a Document
In-Reply-To: <43C1E374.4080806@insideview.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCIEKJCCAA.koji.sekiguchi@m4.dion.ne.jp>
	 <43C1E374.4080806@insideview.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Closing the reader that did the deletion causes the deletions to be
flushed to the index.
After that point, any new readers you open will see the deletions.=20
Any old index readers that were opened before the deleting reader was
closed will still see the old version of the index (without the
deletions).

Hope that helps.
-Yonik

On 1/8/06, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> Hi Koji,
> I am closing the reader after deleting. You can see the close being
> called in the finally block in the code.
> -Harini
>
> Koji Sekiguchi wrote:
>
> >Hi Harini,
> >
> >Close the reader after delete docs to take effect.
> >
> >Hope this helps,
> >
> >Koji
> >
> >
> >
> >>-----Original Message-----
> >>From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
> >>Sent: Monday, January 09, 2006 1:09 AM
> >>To: java-user@lucene.apache.org
> >>Subject: Deleting a Document
> >>
> >>
> >>Hi,
> >>I want to update a document in the lucene index. As mentioned in the
> >>documentation, I tried to delete the document using IndexReader.delete
> >>method. But even after I delete the document, I am able to see the
> >>document when I perform a search. I thought this could be because, I am
> >>caching the IndexSearcher instance and refreshing it only when required=
.
> >>So I tried to refresh the IndexSearcher instance immediately after
> >>deletion. But even this did not solve the problem. Here is the code:
> >>    public synchronized void deleteDocument(String id) {
> >>        String indexLoc =3D luceneConfig.getIndexDir();
> >>        Directory fsDir =3D getIndexDirectory(indexLoc, false);
> >>        IndexReader reader =3D getIndexReader(fsDir);
> >>        try {
> >>            Term t =3D new Term(IndexSearchConstants.DOCUMENT_ID, id);
> >>            reader.delete(t);
> >>
> >>            //After deleting the document refresh the
> >>IndexSearcher instance
> >>            manager.refreshIndexSearcher();
> >>        } catch (IOException e) {
> >>            logger.error("IOException occurred in deleteDocument()", e)=
;
> >>        } finally {
> >>            try {
> >>                reader.close();
> >>            } catch(IOException e) {}
> >>        }
> >>    }
> >>The document seems to be deleted only when I restart the server. Am I
> >>missing something while deleting the document? When does the document
> >>actually get deleted from the index?
> >>Thanks,
> >>Harini
> >>
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >>
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 04:33:32 2006
Return-Path: <java-user-return-18262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94120 invoked from network); 9 Jan 2006 04:33:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 04:33:32 -0000
Received: (qmail 916 invoked by uid 500); 9 Jan 2006 04:33:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 897 invoked by uid 500); 9 Jan 2006 04:33:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 886 invoked by uid 99); 9 Jan 2006 04:33:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Jan 2006 20:33:25 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.3 as permitted sender)
Received: from [219.125.112.3] (HELO nm05omta053.dion.ne.jp) (219.125.112.3)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 08 Jan 2006 20:33:25 -0800
Received: from sekiguchi ([59.135.99.189])
	by nm05mta.dion.ne.jp
	id <20060109133303690.MA22.80F2268@nm05mta.dion.ne.jp>;
	Mon, 9 Jan 2006 13:33:03 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Deleting a Document
Date: Mon, 9 Jan 2006 13:33:02 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCEEKLCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <43C1E374.4080806@insideview.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Harini,

I meant you close the reader first, then get a new searcher.

regards,

Koji

> -----Original Message-----
> From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
> Sent: Monday, January 09, 2006 1:16 PM
> To: java-user@lucene.apache.org
> Subject: Re: Deleting a Document
> 
> 
> Hi Koji,
> I am closing the reader after deleting. You can see the close being 
> called in the finally block in the code.
> -Harini
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 08:36:51 2006
Return-Path: <java-user-return-18263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4342 invoked from network); 9 Jan 2006 08:36:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 08:36:51 -0000
Received: (qmail 85677 invoked by uid 500); 9 Jan 2006 08:36:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85649 invoked by uid 500); 9 Jan 2006 08:36:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85633 invoked by uid 99); 9 Jan 2006 08:36:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 00:36:45 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 00:36:42 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EvsVm-0005X8-6j
	for java-user@lucene.apache.org; Mon, 09 Jan 2006 09:36:18 +0100
Received: from mail.idoox.com ([194.213.203.154])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 09 Jan 2006 09:36:18 +0100
Received: from literakl by mail.idoox.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 09 Jan 2006 09:36:18 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Leos Literak <literakl@seznam.cz>
Subject:  Re: how to forbid prefetching found Documents?
Date:  Mon, 09 Jan 2006 09:36:09 +0100
Lines: 19
Message-ID: <dpt79p$m54$1@sea.gmane.org>
References:  <dpollj$hki$1@sea.gmane.org>	 <c68e39170601070743w1cce424ajf7271eb4f8600061@mail.gmail.com>	 <dpp5kt$1n5$1@sea.gmane.org> <c68e39170601071217l6ec5f695i328e1cd4a3bffcd1@mail.gmail.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: mail.idoox.com
User-Agent: Mozilla Thunderbird 1.0.6-7.2.20060mdk (X11/20050322)
X-Accept-Language: en-us, en
In-Reply-To: <c68e39170601071217l6ec5f695i328e1cd4a3bffcd1@mail.gmail.com>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik Seeley wrote:
> On 1/7/06, Leos Literak <literakl@seznam.cz> wrote:
> 
>>Yonik, I want to display 120th. up to 150th. document
>>in Hits. Do you mean that Hits does not contain id
>>of all relevant documents?
> 
> 
> Correct, it does not.  The first time Hits is returned to you, it will
> internally contain the ids and scores of the top 100, but not the
> stored fields (the Document instance).
> 
> When you access beyond the 100th element, Hits will internally redo
> the search asking for more ids and scores this time.

thanks, I understand it now finally. Glad to hear that complete document
is not loaded at this time.

Leos


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 09:35:14 2006
Return-Path: <java-user-return-18264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28047 invoked from network); 9 Jan 2006 09:35:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 09:35:14 -0000
Received: (qmail 33556 invoked by uid 500); 9 Jan 2006 09:35:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33521 invoked by uid 500); 9 Jan 2006 09:35:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33510 invoked by uid 99); 9 Jan 2006 09:35:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 01:35:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 01:35:08 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k099YevS028788
	for <java-user@lucene.apache.org>; Mon, 9 Jan 2006 10:34:40 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.371 [267.14.15/223]); Mon, 09 Jan 2006 10:34:36 +0100
Message-ID: <43C22E2C.7080505@isb-sib.ch>
Date: Mon, 09 Jan 2006 10:34:36 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Scoring by number of terms in field
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene seems to prefer matches in shorter documents. Is it possible to 
influence the scoring mechanism to have matches in shorter fields score 
higher instead?

For example, a query for "europe" should rank:

1. title:"Europe"
2. title:"History of Europe"
3. title:"Travel in Europe, Middle East and Africa"
4. subtitle:"Fairy Tales from Europe"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 13:21:27 2006
Return-Path: <java-user-return-18265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49696 invoked from network); 9 Jan 2006 13:21:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 13:21:25 -0000
Received: (qmail 78228 invoked by uid 500); 9 Jan 2006 13:21:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78196 invoked by uid 500); 9 Jan 2006 13:21:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78185 invoked by uid 99); 9 Jan 2006 13:21:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 05:21:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.131] (HELO exchange-mbx.bvdep.com) (193.194.158.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 05:21:18 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Subject: RE: online incremental indexing
Date: Mon, 9 Jan 2006 14:20:55 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF56BFF0F@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: online incremental indexing
Thread-Index: AcYTrTPS5N+tG16TSoy2jyK5VS677ABcbveQ
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can open a new instance *before* closing the previous one.
If you have queries that occur often, you can 'warm up' the new instance
before starting to use it.

Just make sure you don't close an IndexSearcher instance that is in use
by Hits instances...

Luc

-----Original Message-----
From: zzzzz shalev [mailto:zzzzz_shalev@yahoo.com]=20
Sent: zaterdag 7 januari 2006 18:10
To: java-user@lucene.apache.org
Subject: online incremental indexing

hello all,
  =20
  i have an environment with a number of search instances (index
searchers) running as rmi servers and a federator (a parallel multi
searcher) combining the results of all the instances, this is working
great, and allows us to load into memory millions of docs.
  =20
  my problem is as follows:
  =20
  i want to update the indexes but i do not want any down time,
  looking at the parallel multi searcher code i see that if one of the
searchables throws an io exception the multisearcher doesnt bother
dealing with that searchable's results (am i correct? if so this is
great),=20
  =20
  i would like to write my own remotesearchaer that adds a reload
function that will close the indexsearcher and reload the indexes into
memory after they have been updated.
  =20
  however this means that closing and then reopening/reloading an
indexsearcher (running as a search instance) would result in a specific
instance not returning results during the load time.
  =20
  is there a better solution?
  =20
  thanks

	=09
---------------------------------
Yahoo! Photos
 Ring in the New Year with Photo Calendars. Add photos, events,
holidays, whatever.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 14:37:15 2006
Return-Path: <java-user-return-18266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 179 invoked from network); 9 Jan 2006 14:37:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 14:37:15 -0000
Received: (qmail 94184 invoked by uid 500); 9 Jan 2006 14:37:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94160 invoked by uid 500); 9 Jan 2006 14:37:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94149 invoked by uid 99); 9 Jan 2006 14:37:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 06:37:06 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.251.225.55] (HELO navisite.com) (216.251.225.55)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 06:37:05 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: WordNet alternatives
Date: Mon, 9 Jan 2006 09:37:06 -0500
Message-ID: <37E2AB54ECE58E40A4E56916CD324DD46D411E@NAVEXC.corp.int.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: WordNet alternatives
Thread-Index: AcYSMRs4gGlAhMcgRYSWOhcIoRifeQC9188Q
From: "Yilmazel, Sibel" <syilmazel@navisite.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


We currently use AltaVista. It uses its own dictionary to expand
queries.=20

For Lucene, we would like to experiment with different dictionaries to
see if the precision improves. WordNet is one alternative, that we know
of, with Lucene and I was wondering if there are any other dictionaries
for Lucene... Any comments would be appreciated.

Sibel

-----Original Message-----
From: Daniel Naber [mailto:lucenelist2005@danielnaber.de]=20
Sent: Thursday, January 05, 2006 2:50 PM
To: java-user@lucene.apache.org
Subject: Re: WordNet alternatives

On Donnerstag 05 Januar 2006 16:09, Yilmazel, Sibel wrote:

> Are there any WordNet dictionary alternatives that anyone had a chance
> to look into for Lucene?

Maybe you could specify your question: what exactly are you trying to do

with WordNet and why are you looking for alternatives?

Regards
 Daniel

--=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 15:22:24 2006
Return-Path: <java-user-return-18267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32542 invoked from network); 9 Jan 2006 15:22:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 15:22:23 -0000
Received: (qmail 82216 invoked by uid 500); 9 Jan 2006 15:22:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82189 invoked by uid 500); 9 Jan 2006 15:22:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82171 invoked by uid 99); 9 Jan 2006 15:22:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 07:22:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 07:22:16 -0800
Received: from [59.93.82.208] (helo=[59.93.82.208])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1EvyqH0Hvj-0003by; Mon, 09 Jan 2006 10:21:55 -0500
Message-ID: <43C27EFD.4090702@insideview.com>
Date: Mon, 09 Jan 2006 20:49:25 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Deleting a Document
References: <PKEIKOCKCHNIIHNECPCCEEKLCCAA.koji.sekiguchi@m4.dion.ne.jp>
In-Reply-To: <PKEIKOCKCHNIIHNECPCCEEKLCCAA.koji.sekiguchi@m4.dion.ne.jp>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Koji,

Thanks for the suggestion. It worked when I closed the reader before 
refreshing the IndexSearcher instance.

Harini

Koji Sekiguchi wrote:

>Hi Harini,
>
>I meant you close the reader first, then get a new searcher.
>
>regards,
>
>Koji
>
>  
>
>>-----Original Message-----
>>From: Harini Raghavan [mailto:harini.raghavan@insideview.com]
>>Sent: Monday, January 09, 2006 1:16 PM
>>To: java-user@lucene.apache.org
>>Subject: Re: Deleting a Document
>>
>>
>>Hi Koji,
>>I am closing the reader after deleting. You can see the close being 
>>called in the finally block in the code.
>>-Harini
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 16:19:59 2006
Return-Path: <java-user-return-18268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68886 invoked from network); 9 Jan 2006 16:19:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 16:19:59 -0000
Received: (qmail 97186 invoked by uid 500); 9 Jan 2006 16:19:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97160 invoked by uid 500); 9 Jan 2006 16:19:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97149 invoked by uid 99); 9 Jan 2006 16:19:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:19:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:19:49 -0800
Received: from sleipnir2 (dslb-084-061-047-031.pools.arcor-ip.net [84.61.47.31])
	by basicbox6.server-home.net (Postfix) with ESMTP id 436AD7189AC
	for <java-user@lucene.apache.org>; Mon,  9 Jan 2006 17:19:22 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: Finding similar documents
Date: Mon, 9 Jan 2006 17:19:20 +0100
Message-ID: <004601c61538$728c3160$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
Thread-Index: AcYTrTPS5N+tG16TSoy2jyK5VS677ABcbveQAAZMJDA=
In-Reply-To: <3287125F0F0CCE4E8F55435208100CF56BFF0F@exchange-mbx.be.bvd>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

is there are build-in method for finding similar documents to one given
document?

Thx,

Klaus


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 16:28:50 2006
Return-Path: <java-user-return-18269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73901 invoked from network); 9 Jan 2006 16:28:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 16:28:50 -0000
Received: (qmail 17353 invoked by uid 500); 9 Jan 2006 16:28:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17335 invoked by uid 500); 9 Jan 2006 16:28:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17324 invoked by uid 99); 9 Jan 2006 16:28:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:28:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.222.0.30] (HELO smtpout.eastlink.ca) (24.222.0.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:28:43 -0800
Received: from ip02.eastlink.ca ([24.222.10.10])
 by mta01.eastlink.ca (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ISU00EAY32PRV20@mta01.eastlink.ca> for
 java-user@lucene.apache.org; Mon, 09 Jan 2006 12:28:01 -0400 (AST)
Received: from blk-224-233-28.eastlink.ca (HELO starlet) ([24.224.233.28])
 by ip02.eastlink.ca with SMTP; Mon, 09 Jan 2006 12:28:21 -0400
Date: Mon, 09 Jan 2006 12:28:28 -0400
From: Chris Brown <chris_b@orangepics.com>
Subject: top n words within a results set?
To: java-user@lucene.apache.org
Message-id: <003301c61539$b8deb4c0$0a05a8c0@starlet>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
Content-type: multipart/alternative;
 boundary="Boundary_(ID_QlyDOGcVQivOIGtgRKuwbw)"
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Boundary_(ID_QlyDOGcVQivOIGtgRKuwbw)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT

Hello,

Is it possible to retrieve the top 'n' most often appearing words within a search criteria? I've seen the High Frequency Terms code in the sandbox but it works across the whole index.

To put this question into context: We're developing website that hosts a user's photo website. Searches can be specific to a particular user's website or be performed globally across one, many or all websites. I've accomplished this with a field in the index called website. What I'd like to do is give each user the top ten words that appear on their website. 

Thanks,
Chris Brown

http://www.orangepics.com/

--Boundary_(ID_QlyDOGcVQivOIGtgRKuwbw)--

From java-user-return-18270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 16:33:43 2006
Return-Path: <java-user-return-18270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75812 invoked from network); 9 Jan 2006 16:33:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 16:33:43 -0000
Received: (qmail 27863 invoked by uid 500); 9 Jan 2006 16:33:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27844 invoked by uid 500); 9 Jan 2006 16:33:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27833 invoked by uid 99); 9 Jan 2006 16:33:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:33:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:33:35 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D64B86@mailer.syr.edu>; Mon, 9 Jan 2006 11:33:14 -0500
Message-ID: <43C2904B.1050901@syr.edu>
Date: Mon, 09 Jan 2006 11:33:15 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Finding similar documents
References: <004601c61538$728c3160$6402a8c0@sleipnir2>
In-Reply-To: <004601c61538$728c3160$6402a8c0@sleipnir2>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe there is a MoreLikeThis class floating around somewhere (I 
think it is in the contrib/similarity package).  The Lucene book also 
has a good example, and I have some examples at 
http://www.cnlp.org/apachecon2005 that demonstrate using term vectors to 
do this

Klaus wrote:

>Hi,
>
>is there are build-in method for finding similar documents to one given
>document?
>
>Thx,
>
>Klaus
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 16:35:19 2006
Return-Path: <java-user-return-18271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76549 invoked from network); 9 Jan 2006 16:35:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 16:35:19 -0000
Received: (qmail 30072 invoked by uid 500); 9 Jan 2006 16:35:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30049 invoked by uid 500); 9 Jan 2006 16:35:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30037 invoked by uid 99); 9 Jan 2006 16:35:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:35:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:35:12 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D64BC9@mailer.syr.edu>; Mon, 9 Jan 2006 11:34:52 -0500
Message-ID: <43C290AC.8030903@syr.edu>
Date: Mon, 09 Jan 2006 11:34:52 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: top n words within a results set?
References: <003301c61539$b8deb4c0$0a05a8c0@starlet>
In-Reply-To: <003301c61539$b8deb4c0$0a05a8c0@starlet>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You could use term vectors to accomplish this.  Get your hits for the 
website, then load the term vector for the field containing the keywords 
and add up the frequencies

Chris Brown wrote:

>Hello,
>
>Is it possible to retrieve the top 'n' most often appearing words within a search criteria? I've seen the High Frequency Terms code in the sandbox but it works across the whole index.
>
>To put this question into context: We're developing website that hosts a user's photo website. Searches can be specific to a particular user's website or be performed globally across one, many or all websites. I've accomplished this with a field in the index called website. What I'd like to do is give each user the top ten words that appear on their website. 
>
>Thanks,
>Chris Brown
>
>http://www.orangepics.com/
>
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 16:45:31 2006
Return-Path: <java-user-return-18272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84060 invoked from network); 9 Jan 2006 16:45:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 16:45:28 -0000
Received: (qmail 44527 invoked by uid 500); 9 Jan 2006 16:45:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44508 invoked by uid 500); 9 Jan 2006 16:45:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44496 invoked by uid 99); 9 Jan 2006 16:45:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:45:21 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.222.0.30] (HELO smtpout.eastlink.ca) (24.222.0.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 08:45:20 -0800
Received: from ip03.eastlink.ca ([24.222.10.15])
 by mta01.eastlink.ca (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ISU00KVA3VAHS50@mta01.eastlink.ca> for
 java-user@lucene.apache.org; Mon, 09 Jan 2006 12:45:10 -0400 (AST)
Received: from blk-224-233-28.eastlink.ca (HELO starlet) ([24.224.233.28])
 by ip03.eastlink.ca with SMTP; Mon, 09 Jan 2006 12:45:00 -0400
Date: Mon, 09 Jan 2006 12:45:03 -0400
From: Chris Brown <chris_b@orangepics.com>
Subject: Re: top n words within a results set?
To: java-user@lucene.apache.org
Message-id: <001101c6153c$0bac7370$0a05a8c0@starlet>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
Content-type: text/plain; format=flowed; charset=iso-8859-1; reply-type=response
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
References: <003301c61539$b8deb4c0$0a05a8c0@starlet> <43C290AC.8030903@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Okay great! Thanks for the quick response and pointing me in the right 
direction. I'll go get out my Lucene in Action book ;) and learn all about 
term vectors.

----- Original Message ----- 
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <java-user@lucene.apache.org>
Sent: Monday, January 09, 2006 12:34 PM
Subject: Re: top n words within a results set?


> You could use term vectors to accomplish this.  Get your hits for the 
> website, then load the term vector for the field containing the keywords 
> and add up the frequencies
>
> Chris Brown wrote:
>
>>Hello,
>>
>>Is it possible to retrieve the top 'n' most often appearing words within a 
>>search criteria? I've seen the High Frequency Terms code in the sandbox 
>>but it works across the whole index.
>>
>>To put this question into context: We're developing website that hosts a 
>>user's photo website. Searches can be specific to a particular user's 
>>website or be performed globally across one, many or all websites. I've 
>>accomplished this with a field in the index called website. What I'd like 
>>to do is give each user the top ten words that appear on their website.
>>Thanks,
>>Chris Brown
>>
>>http://www.orangepics.com/
>>
>>
>
> -- 
> ------------------------------------------------------------------- 
> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
> Processing Syracuse University School of Information Studies 337 Hinds 
> Hall Syracuse, NY 13244
> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 18:20:15 2006
Return-Path: <java-user-return-18273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32939 invoked from network); 9 Jan 2006 18:20:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 18:20:14 -0000
Received: (qmail 22126 invoked by uid 500); 9 Jan 2006 18:20:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22102 invoked by uid 500); 9 Jan 2006 18:20:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22091 invoked by uid 99); 9 Jan 2006 18:20:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 10:20:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 10:20:07 -0800
Received: from [59.93.71.85] (helo=[59.93.71.85])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1Ew1cO1dX7-0003b5; Mon, 09 Jan 2006 13:19:46 -0500
Message-ID: <43C2A89A.90407@insideview.com>
Date: Mon, 09 Jan 2006 23:46:58 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: highlighting phrases
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I am using the highlighter package to highlight my search results. The 
query I am passing to the Highlighter is:
+(Content:"Apple Computer" Content:"Apple Comp") +(Title:"Apple 
Computer" Title:"Apple Comp")
But the Highlighter is highlighting even occurances of terms 
'Computer'/'Comp'. Anyone knows how to make sure
that only phrases are highlighted, not just the individual terms?

Thanks,
Harini

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 18:40:08 2006
Return-Path: <java-user-return-18274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41756 invoked from network); 9 Jan 2006 18:40:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 18:40:08 -0000
Received: (qmail 53816 invoked by uid 500); 9 Jan 2006 18:40:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53796 invoked by uid 500); 9 Jan 2006 18:40:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53785 invoked by uid 99); 9 Jan 2006 18:40:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 10:40:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 10:40:01 -0800
Received: from [59.93.71.85] (helo=[59.93.71.85])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1Ew1ve2qjB-0003b6; Mon, 09 Jan 2006 13:39:40 -0500
Message-ID: <43C2AD45.2050304@insideview.com>
Date: Tue, 10 Jan 2006 00:06:53 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Lock obtain timed out + IndexSearcher
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

All of a sudden I have started getting LockTimeOut exception while 
searching the index. There is no write.lock file in the index directory, 
so why should this issue come while searching? I tried to delete the 
index directory and restarted the server, but still no luck. What could 
be wrong?

java.io.IOException: Lock obtain timed out: 
Lock@C:\DOCUME~1\harini\LOCALS~1\Temp\lucene-1b92bc
48efc5c13ac4ef4ad9fd17c158-commit.lock
        at org.apache.lucene.store.Lock.obtain(Lock.java:58)
        at org.apache.lucene.store.Lock$With.run(Lock.java:108)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
        at 
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:43)
        at 
lucene.LuceneManager.refreshIndexSearcherInstance(LuceneManager.java:50)

-Harini

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 18:45:07 2006
Return-Path: <java-user-return-18275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44465 invoked from network); 9 Jan 2006 18:45:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 18:45:06 -0000
Received: (qmail 63291 invoked by uid 500); 9 Jan 2006 18:45:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63272 invoked by uid 500); 9 Jan 2006 18:45:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63261 invoked by uid 99); 9 Jan 2006 18:45:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 10:45:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.32] (HELO smtp-vbr12.xs4all.nl) (194.109.24.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 10:45:00 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr12.xs4all.nl (8.13.3/8.13.3) with ESMTP id k09IicjS062884
	for <java-user@lucene.apache.org>; Mon, 9 Jan 2006 19:44:38 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Scoring by number of terms in field
Date: Mon, 9 Jan 2006 19:44:37 +0100
User-Agent: KMail/1.8.2
References: <43C22E2C.7080505@isb-sib.ch>
In-Reply-To: <43C22E2C.7080505@isb-sib.ch>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601091944.38212.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 09 January 2006 10:34, Eric Jain wrote:
> Lucene seems to prefer matches in shorter documents. Is it possible to 
> influence the scoring mechanism to have matches in shorter fields score 
> higher instead?

A query is always in at least one field of a document.

> 
> For example, a query for "europe" should rank:
> 
> 1. title:"Europe"
> 2. title:"History of Europe"
> 3. title:"Travel in Europe, Middle East and Africa"
> 4. subtitle:"Fairy Tales from Europe"

Perhaps with this query (assuming the default implicit OR):

title:europe subtitle:europe^0.5 body:europe

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 19:23:47 2006
Return-Path: <java-user-return-18276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61138 invoked from network); 9 Jan 2006 19:23:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 19:23:46 -0000
Received: (qmail 14902 invoked by uid 500); 9 Jan 2006 19:23:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14800 invoked by uid 500); 9 Jan 2006 19:23:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14769 invoked by uid 99); 9 Jan 2006 19:23:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 11:23:40 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 09 Jan 2006 11:23:39 -0800
Received: (qmail 21139 invoked by uid 60001); 9 Jan 2006 19:23:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=R1NoZWN9/3J6dfFD2d+VQtHX+7sQa8yhUndAT12eQEQvo10xq7MDbmLW/PuBx1nlLtpT0uPmIpHL88ESP5xR1IuStslA92A4ErJqYO6i6AXBkZPB3/483Rruual5sVEfaHSpxwHW98yzVXEmC74MvdQOM1RE87rpsJ8p25XH8HA=  ;
Message-ID: <20060109192318.21137.qmail@web50306.mail.yahoo.com>
Date: Mon, 9 Jan 2006 11:23:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lock obtain timed out + IndexSearcher
To: java-user@lucene.apache.org
In-Reply-To: <43C2AD45.2050304@insideview.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Probably a stale lock - remove it.
Otis

----- Original Message ----
From: Harini Raghavan <harini.raghavan@insideview.com>
To: java-user@lucene.apache.org
Sent: Mon 09 Jan 2006 01:36:53 PM EST
Subject: Lock obtain timed out + IndexSearcher

Hi All,

All of a sudden I have started getting LockTimeOut exception while 
searching the index. There is no write.lock file in the index directory, 
so why should this issue come while searching? I tried to delete the 
index directory and restarted the server, but still no luck. What could 
be wrong?

java.io.IOException: Lock obtain timed out: 
Lock@C:\DOCUME~1\harini\LOCALS~1\Temp\lucene-1b92bc
48efc5c13ac4ef4ad9fd17c158-commit.lock
        at org.apache.lucene.store.Lock.obtain(Lock.java:58)
        at org.apache.lucene.store.Lock$With.run(Lock.java:108)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
        at 
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:43)
        at 
lucene.LuceneManager.refreshIndexSearcherInstance(LuceneManager.java:50)

-Harini

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 20:23:22 2006
Return-Path: <java-user-return-18277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99180 invoked from network); 9 Jan 2006 20:23:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 20:23:21 -0000
Received: (qmail 42036 invoked by uid 500); 9 Jan 2006 20:23:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42014 invoked by uid 500); 9 Jan 2006 20:23:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42003 invoked by uid 99); 9 Jan 2006 20:23:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 12:23:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 12:23:14 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3228213E201A; Mon,  9 Jan 2006 15:22:53 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E9CA613E2005
	for <java-user@lucene.apache.org>; Mon,  9 Jan 2006 15:22:49 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <43C22E2C.7080505@isb-sib.ch>
References: <43C22E2C.7080505@isb-sib.ch>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7F5826A9-6D65-45E1-AEEB-61EDE91B4F6B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Scoring by number of terms in field
Date: Mon, 9 Jan 2006 15:22:43 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry for the quick reply, but yes you can accomplish this by  
tweaking a custom Similarity implementation (or DefaultSimilarity  
subclass).  Check out IndexSearcher.explain on a query and a document  
and then tinker.

	Erik


On Jan 9, 2006, at 4:34 AM, Eric Jain wrote:

> Lucene seems to prefer matches in shorter documents. Is it possible  
> to influence the scoring mechanism to have matches in shorter  
> fields score higher instead?
>
> For example, a query for "europe" should rank:
>
> 1. title:"Europe"
> 2. title:"History of Europe"
> 3. title:"Travel in Europe, Middle East and Africa"
> 4. subtitle:"Fairy Tales from Europe"
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 21:03:24 2006
Return-Path: <java-user-return-18278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15770 invoked from network); 9 Jan 2006 21:03:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 21:03:23 -0000
Received: (qmail 16062 invoked by uid 500); 9 Jan 2006 21:03:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16035 invoked by uid 500); 9 Jan 2006 21:03:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16024 invoked by uid 99); 9 Jan 2006 21:03:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 13:03:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 13:03:17 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A7E4413E201A; Mon,  9 Jan 2006 16:02:53 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id AF0B613E2005
	for <java-user@lucene.apache.org>; Mon,  9 Jan 2006 16:02:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <43C2A89A.90407@insideview.com>
References: <43C2A89A.90407@insideview.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <937BBB6C-3363-4646-BD9D-7ED62C8B9B4A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: highlighting phrases
Date: Mon, 9 Jan 2006 16:02:06 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 9, 2006, at 1:16 PM, Harini Raghavan wrote:
> I am using the highlighter package to highlight my search results.  
> The query I am passing to the Highlighter is:
> +(Content:"Apple Computer" Content:"Apple Comp") +(Title:"Apple  
> Computer" Title:"Apple Comp")
> But the Highlighter is highlighting even occurances of terms  
> 'Computer'/'Comp'. Anyone knows how to make sure
> that only phrases are highlighted, not just the individual terms?

This is not currently implemented in the Highlighter in contrib/ 
highlighter.  Implementing this has been discussed (by converting a  
Query to a SpanQuery and leveraging its precise range for highlighting).

It would be greatly welcome to have some patches to achieve this  
level of precise highlighting!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 09 21:28:23 2006
Return-Path: <java-user-return-18279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29142 invoked from network); 9 Jan 2006 21:28:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Jan 2006 21:28:23 -0000
Received: (qmail 56823 invoked by uid 500); 9 Jan 2006 21:28:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56799 invoked by uid 500); 9 Jan 2006 21:28:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56782 invoked by uid 99); 9 Jan 2006 21:28:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 13:28:16 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.205 as permitted sender)
Received: from [64.233.182.205] (HELO nproxy.gmail.com) (64.233.182.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 13:28:15 -0800
Received: by nproxy.gmail.com with SMTP id c29so92050nfb
        for <java-user@lucene.apache.org>; Mon, 09 Jan 2006 13:27:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=JVz3A+qzNF58xw19bkG30v41CbYXBgZzuRYI6ZW/Mu65IgZEQ3vXg44be75TVt0iLQex26HiB/Z3NaIZu3Wx+GKJZGZMl+V13pZH/1P99ppoFYl4RHe8hvIDF4wgYRBgqv1U5eOVHOovRT/QEAM2hMMOVzQ829uD0l2iwHta01M=
Received: by 10.49.94.7 with SMTP id w7mr375047nfl;
        Mon, 09 Jan 2006 13:27:21 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Mon, 9 Jan 2006 13:27:21 -0800 (PST)
Message-ID: <c68e39170601091327i20135a0bs89f168ef8c1248d6@mail.gmail.com>
Date: Mon, 9 Jan 2006 16:27:21 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lock obtain timed out + IndexSearcher
In-Reply-To: <43C2AD45.2050304@insideview.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <43C2AD45.2050304@insideview.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lock files aren't contained in the index directory, but in the
standard temp directory.
remove the file referenced in the exception:
C:\DOCUME~1\harini\LOCALS~1\Temp\lucene-1b92bc48efc5c13ac4ef4ad9fd17c158-co=
mmit.lock

-Yonik

On 1/9/06, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> Hi All,
>
> All of a sudden I have started getting LockTimeOut exception while
> searching the index. There is no write.lock file in the index directory,
> so why should this issue come while searching? I tried to delete the
> index directory and restarted the server, but still no luck. What could
> be wrong?
>
> java.io.IOException: Lock obtain timed out:
> Lock@C:\DOCUME~1\harini\LOCALS~1\Temp\lucene-1b92bc
> 48efc5c13ac4ef4ad9fd17c158-commit.lock
>         at org.apache.lucene.store.Lock.obtain(Lock.java:58)
>         at org.apache.lucene.store.Lock$With.run(Lock.java:108)
>         at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
>         at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
>         at
> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:43)
>         at
> lucene.LuceneManager.refreshIndexSearcherInstance(LuceneManager.java:50)
>
> -Harini
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 02:00:05 2006
Return-Path: <java-user-return-18280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41560 invoked from network); 10 Jan 2006 02:00:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 02:00:05 -0000
Received: (qmail 435 invoked by uid 500); 10 Jan 2006 02:00:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 354 invoked by uid 500); 10 Jan 2006 02:00:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 343 invoked by uid 99); 10 Jan 2006 01:59:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 17:59:59 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.7 as permitted sender)
Received: from [219.125.112.7] (HELO nm05omta057.dion.ne.jp) (219.125.112.7)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 09 Jan 2006 17:59:58 -0800
Received: from sekiguchi ([59.135.99.189])
	by nm05mta.dion.ne.jp
	id <20060110105936087.MA75.8403300@nm05mta.dion.ne.jp>;
	Tue, 10 Jan 2006 10:59:36 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Basic question on opening 2 IndexWriters on same Directory - I do not get IOException ...
Date: Tue, 10 Jan 2006 10:59:34 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCGELACCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1b634b00601072054o70df1c2kf97abb98dafe181a@mail.gmail.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Dick,

Why you couldn't get an IOException when obtaining the second
writer because you used IndexWriter(String,Analyzer,boolean) version
constructor. Try IndexWriter(Directory,Analyzer,boolean) version instead:

To do it, add the following code on your program:

import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;

    private Directory directory;

    private Directory getDirectory() throws IOException {
	if( directory == null ){
	    directory = FSDirectory.getDirectory( indexDir, true );
	}
	return directory;
    }

And use the following method:

     private IndexWriter getWriter(String name, boolean createIndex) throws
IOException
     {
         System.out.println("Opening writer " + name + " on: " +
this.indexDir);
         //return new IndexWriter(this.indexDir, this.analyzer,
createIndex);
         return new IndexWriter(getDirectory(), this.analyzer, createIndex);
     }

If IndexWriter(path,Analyzer,true) is used,
IndexWriter calls FSDirectory.getDirectory(path,true) and
FSDirectory overwrites the existing lock file.

Hope this helps,

Koji

> -----Original Message-----
> From: Dick de Jong [mailto:ddjong67@gmail.com]
> Sent: Sunday, January 08, 2006 1:54 PM
> To: java-user@lucene.apache.org
> Subject: Basic question on opening 2 IndexWriters on same
> Directory - I do not get IOException ...
>
>
> Question:
>       Run attached java class and see the also attached when I ran it.
>       I assumed the second writer should get an IOException in
> getWriter (in
> first TESTCASE).
>       However this does not happen! This only happens when I open both
> writers with flag 'createIndex'=true (see
>       also second test case).
>
>       Is this a misunderstanding from my side or what is this?
>
> ENVIRONMENT:
>       Windows Professional XP SP2
>       Lucene 1.4 (java)
>
>
> OUTPUT OF MAIN METHOD:
> =======================
>    START TESTCASE
>    Test open 2 index writers on index c:\temp\indexdir
>          writer 1 uses createIndex =true
>          writer 2 uses createIndex =true               // why not an
> IOException here ??
>    Opening writer w1 on: c:\temp\indexdir
>    Writing document to index using writer :w1
>    Opening writer w2 on: c:\temp\indexdir
>    Writing document to index using writer :w2
>    Writing document to index using writer :w1
>    Closing writer w1
>    Closing writer w2
>    END of test case ...
>    =======================
>    =======================
>    START TESTCASE
>    Test open 2 index writers on index c:\temp\indexdir
>          writer 1 uses createIndex =true
>          writer 2 uses createIndex =false
>    Opening writer w1 on: c:\temp\indexdir
>    Writing document to index using writer :w1
>    Opening writer w2 on: c:\temp\indexdir
>    In open writer caught IOException:
>         Lock obtain timed out:
> Lock@C:\DOCUME~1\ddjong\LOCALS~1\Temp\lucene-
> ea51d1f7bb672168eda3ee90698e936d-write.lock
>    Closing writer w1
>    END of test case ...
>    =======================
>
> USED JAVA class (src):
> ==================================
>
> import java.io.IOException;
>
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
>
> public class TestIndexWriter
> {
>
>      private IndexWriter w1;
>      private IndexWriter w2;
>      private String indexDir;
>
>      private Analyzer analyzer;
>      private Document document;
>
>      private TestIndexWriter()
>      {
>          // just create dummy document for test purposes, document is
> reused.
>          this.document = new Document();
>          this.document.add(Field.Keyword("fname", "fvalue"));
>
>          // indexDirectory Folder to be used
>          this.indexDir = "c:\\temp\\indexdir";
>
>          this.analyzer = new StandardAnalyzer();
>      }
>
>      private IndexWriter getWriter(String name, boolean
> createIndex) throws
> IOException
>      {
>          System.out.println("Opening writer " + name + " on: " +
> this.indexDir);
>          return new IndexWriter(this.indexDir, this.analyzer,
> createIndex);
>      }
>
>      private void closeWriter(String name, IndexWriter w)
>      {
>          try {
>              if (w != null) {
>                  System.out.println("Closing writer " + name);
>                  w.close();
>              }
>          }
>          catch (IOException e) {
>              System.out.println("Don't bubble error in close
> writer; error:
> \n" + e.getMessage());
>          }
>      }
>
>      private void addDocument(String name, IndexWriter w) throws
> IOException
>      {
>          System.out.println("Writing document to index using writer :" +
> name);
>          w.addDocument(this.document);
>      }
>
>
>      public void testOpenIndexWriters(boolean w1_create, boolean
> w2_create)
>      {
>          System.out.println("=======================");
>          System.out.println("START TESTCASE");
>          System.out.println("Test open 2 index writers on index " +
> this.indexDir);
>
>          System.out.println(" \twriter 1 uses createIndex =" + w1_create);
>          System.out.println(" \twriter 2 uses createIndex =" + w2_create);
>
>          this.w1 = this.w2 = null;
>          try
>          {
>              w1 = this.getWriter("w1", w1_create);
>              addDocument("w1", w1);
>              w2 = this.getWriter("w2", w2_create);
>              addDocument("w2", w2);
>              addDocument("w1", w1);
>          }
>          catch (IOException e)
>          {
>              System.out.println("In open writer caught IOException:");
>              System.out.println("\t" + e.getMessage());
>          }
>          finally
>          {
>              this.closeWriter("w1", w1);
>              this.closeWriter("w2", w2);
>              System.out.println("END of test case ...");
>              System.out.println("=======================");
>          }
>      }
>
>      public static void main(String[] args)
>      {
>          TestIndexWriter tw = new TestIndexWriter();
>          tw.testOpenIndexWriters(true, true);
>          tw.testOpenIndexWriters(true, false);
>      }
> }
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 06:32:57 2006
Return-Path: <java-user-return-18281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44243 invoked from network); 10 Jan 2006 06:32:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 06:32:57 -0000
Received: (qmail 8634 invoked by uid 500); 10 Jan 2006 06:32:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8595 invoked by uid 500); 10 Jan 2006 06:32:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8579 invoked by uid 99); 10 Jan 2006 06:32:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 22:32:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Jan 2006 22:32:51 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k0A6WPvS007268
	for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 07:32:25 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.371 [267.14.15/223]); Tue, 10 Jan 2006 07:32:16 +0100
Message-ID: <43C354F0.4090106@isb-sib.ch>
Date: Tue, 10 Jan 2006 07:32:16 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Scoring by number of terms in field
References: <43C22E2C.7080505@isb-sib.ch> <200601091944.38212.paul.elschot@xs4all.nl>
In-Reply-To: <200601091944.38212.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Elschot wrote:
>>For example, a query for "europe" should rank:
>>
>>1. title:"Europe"
>>2. title:"History of Europe"
>>3. title:"Travel in Europe, Middle East and Africa"
>>4. subtitle:"Fairy Tales from Europe"
> 
> Perhaps with this query (assuming the default implicit OR):
> 
> title:europe subtitle:europe^0.5 body:europe

This will ensure that match 4 appears at the end, but as far as I can see 
this won't help with getting matches 1-3 ordered correctly? Note that match 
1 for example may have a "description" field that contains a lot terms, but 
no mention of the query term.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 08:33:06 2006
Return-Path: <java-user-return-18282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22712 invoked from network); 10 Jan 2006 08:33:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 08:33:06 -0000
Received: (qmail 14149 invoked by uid 500); 10 Jan 2006 08:33:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14122 invoked by uid 500); 10 Jan 2006 08:33:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14107 invoked by uid 99); 10 Jan 2006 08:33:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 00:33:01 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddjong67@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 00:32:59 -0800
Received: by wproxy.gmail.com with SMTP id i31so3661430wra
        for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 00:32:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ukcU/fWkfKHgzMO25BTEZAoA4SGA1ESXBY2VhKQkFI2Q61vTTS39rtEIFwjimBf+m8v7TA6GSnUfmusDg7vP5npc+iSdXtqJUtYVDZRu86+bJEm6/FzcBnLMyiD6B+7ZhZOtOt5aEOZsfIQWvF0fgPe6R0PAYFZ+WNp5AhKoU/c=
Received: by 10.54.123.12 with SMTP id v12mr4245635wrc;
        Tue, 10 Jan 2006 00:32:38 -0800 (PST)
Received: by 10.54.145.6 with HTTP; Tue, 10 Jan 2006 00:32:36 -0800 (PST)
Message-ID: <1b634b00601100032i6a3002f0j8285690c9fd6ff5b@mail.gmail.com>
Date: Tue, 10 Jan 2006 09:32:36 +0100
From: Dick de Jong <ddjong67@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Basic question on opening 2 IndexWriters on same Directory - I do not get IOException ...
In-Reply-To: <PKEIKOCKCHNIIHNECPCCGELACCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12561_9464074.1136881956920"
References: <1b634b00601072054o70df1c2kf97abb98dafe181a@mail.gmail.com>
	 <PKEIKOCKCHNIIHNECPCCGELACCAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12561_9464074.1136881956920
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Koji,

Thanks for your help, would not have found that soon ... You are right, if =
I
apply your code, the IOException comes.

I only see one difference in the constructor of the IndexWriter class:
"closeDir" is 'true' in my scenario and 'false' in your scenario. What is
reason for this difference? And if there is a valid reason, it might be
useful to add this to the javaDoc of the IndexWriter class.

See below the difference in the constructor:

When passing a Directory object:
            public IndexWriter(Directory d, Analyzer a, boolean create)
throws IOException {
                   this(d, a, create, false);
            }

When passing a String path:
           public IndexWriter(String path, Analyzer a, boolean create)
throws IOException {
                  this(FSDirectory.getDirectory(path, create), a, create,
true);
           }

Dick

On 1/10/06, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
>
> Hello Dick,
>
> Why you couldn't get an IOException when obtaining the second
> writer because you used IndexWriter(String,Analyzer,boolean) version
> constructor. Try IndexWriter(Directory,Analyzer,boolean) version instead:
>
> To do it, add the following code on your program:
>
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.FSDirectory;
>
>     private Directory directory;
>
>     private Directory getDirectory() throws IOException {
>         if( directory =3D=3D null ){
>             directory =3D FSDirectory.getDirectory( indexDir, true );
>         }
>         return directory;
>     }
>
> And use the following method:
>
>      private IndexWriter getWriter(String name, boolean createIndex)
> throws
> IOException
>      {
>          System.out.println("Opening writer " + name + " on: " +
> this.indexDir);
>          //return new IndexWriter(this.indexDir, this.analyzer,
> createIndex);
>          return new IndexWriter(getDirectory(), this.analyzer,
> createIndex);
>      }
>
> If IndexWriter(path,Analyzer,true) is used,
> IndexWriter calls FSDirectory.getDirectory(path,true) and
> FSDirectory overwrites the existing lock file.
>
> Hope this helps,
>
> Koji
>
> > -----Original Message-----
> > From: Dick de Jong [mailto:ddjong67@gmail.com]
> > Sent: Sunday, January 08, 2006 1:54 PM
> > To: java-user@lucene.apache.org
> > Subject: Basic question on opening 2 IndexWriters on same
> > Directory - I do not get IOException ...
> >
> >
> > Question:
> >       Run attached java class and see the also attached when I ran it.
> >       I assumed the second writer should get an IOException in
> > getWriter (in
> > first TESTCASE).
> >       However this does not happen! This only happens when I open both
> > writers with flag 'createIndex'=3Dtrue (see
> >       also second test case).
> >
> >       Is this a misunderstanding from my side or what is this?
> >
> > ENVIRONMENT:
> >       Windows Professional XP SP2
> >       Lucene 1.4 (java)
> >
> >
> > OUTPUT OF MAIN METHOD:
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> >    START TESTCASE
> >    Test open 2 index writers on index c:\temp\indexdir
> >          writer 1 uses createIndex =3Dtrue
> >          writer 2 uses createIndex =3Dtrue               // why not an
> > IOException here ??
> >    Opening writer w1 on: c:\temp\indexdir
> >    Writing document to index using writer :w1
> >    Opening writer w2 on: c:\temp\indexdir
> >    Writing document to index using writer :w2
> >    Writing document to index using writer :w1
> >    Closing writer w1
> >    Closing writer w2
> >    END of test case ...
> >    =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
> >    =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
> >    START TESTCASE
> >    Test open 2 index writers on index c:\temp\indexdir
> >          writer 1 uses createIndex =3Dtrue
> >          writer 2 uses createIndex =3Dfalse
> >    Opening writer w1 on: c:\temp\indexdir
> >    Writing document to index using writer :w1
> >    Opening writer w2 on: c:\temp\indexdir
> >    In open writer caught IOException:
> >         Lock obtain timed out:
> > Lock@C:\DOCUME~1\ddjong\LOCALS~1\Temp\lucene-
> > ea51d1f7bb672168eda3ee90698e936d-write.lock
> >    Closing writer w1
> >    END of test case ...
> >    =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
> >
> > USED JAVA class (src):
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> >
> > import java.io.IOException;
> >
> > import org.apache.lucene.analysis.Analyzer;
> > import org.apache.lucene.analysis.standard.StandardAnalyzer;
> > import org.apache.lucene.index.IndexWriter;
> > import org.apache.lucene.document.Document;
> > import org.apache.lucene.document.Field;
> >
> > public class TestIndexWriter
> > {
> >
> >      private IndexWriter w1;
> >      private IndexWriter w2;
> >      private String indexDir;
> >
> >      private Analyzer analyzer;
> >      private Document document;
> >
> >      private TestIndexWriter()
> >      {
> >          // just create dummy document for test purposes, document is
> > reused.
> >          this.document =3D new Document();
> >          this.document.add(Field.Keyword("fname", "fvalue"));
> >
> >          // indexDirectory Folder to be used
> >          this.indexDir =3D "c:\\temp\\indexdir";
> >
> >          this.analyzer =3D new StandardAnalyzer();
> >      }
> >
> >      private IndexWriter getWriter(String name, boolean
> > createIndex) throws
> > IOException
> >      {
> >          System.out.println("Opening writer " + name + " on: " +
> > this.indexDir);
> >          return new IndexWriter(this.indexDir, this.analyzer,
> > createIndex);
> >      }
> >
> >      private void closeWriter(String name, IndexWriter w)
> >      {
> >          try {
> >              if (w !=3D null) {
> >                  System.out.println("Closing writer " + name);
> >                  w.close();
> >              }
> >          }
> >          catch (IOException e) {
> >              System.out.println("Don't bubble error in close
> > writer; error:
> > \n" + e.getMessage());
> >          }
> >      }
> >
> >      private void addDocument(String name, IndexWriter w) throws
> > IOException
> >      {
> >          System.out.println("Writing document to index using writer :" =
+
> > name);
> >          w.addDocument(this.document);
> >      }
> >
> >
> >      public void testOpenIndexWriters(boolean w1_create, boolean
> > w2_create)
> >      {
> >          System.out.println("=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D");
> >          System.out.println("START TESTCASE");
> >          System.out.println("Test open 2 index writers on index " +
> > this.indexDir);
> >
> >          System.out.println(" \twriter 1 uses createIndex =3D" +
> w1_create);
> >          System.out.println(" \twriter 2 uses createIndex =3D" +
> w2_create);
> >
> >          this.w1 =3D this.w2 =3D null;
> >          try
> >          {
> >              w1 =3D this.getWriter("w1", w1_create);
> >              addDocument("w1", w1);
> >              w2 =3D this.getWriter("w2", w2_create);
> >              addDocument("w2", w2);
> >              addDocument("w1", w1);
> >          }
> >          catch (IOException e)
> >          {
> >              System.out.println("In open writer caught IOException:");
> >              System.out.println("\t" + e.getMessage());
> >          }
> >          finally
> >          {
> >              this.closeWriter("w1", w1);
> >              this.closeWriter("w2", w2);
> >              System.out.println("END of test case ...");
> >              System.out.println("=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D");
> >          }
> >      }
> >
> >      public static void main(String[] args)
> >      {
> >          TestIndexWriter tw =3D new TestIndexWriter();
> >          tw.testOpenIndexWriters(true, true);
> >          tw.testOpenIndexWriters(true, false);
> >      }
> > }
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_12561_9464074.1136881956920--

From java-user-return-18283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 09:04:18 2006
Return-Path: <java-user-return-18283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45845 invoked from network); 10 Jan 2006 09:04:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 09:04:18 -0000
Received: (qmail 53245 invoked by uid 500); 10 Jan 2006 09:04:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53225 invoked by uid 500); 10 Jan 2006 09:04:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53214 invoked by uid 99); 10 Jan 2006 09:04:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 01:04:11 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.13 as permitted sender)
Received: from [219.125.112.13] (HELO nm05omta05d.dion.ne.jp) (219.125.112.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jan 2006 01:04:10 -0800
Received: from sekiguchi ([59.135.99.189])
	by nm05mta.dion.ne.jp
	id <20060110180348367.MAC0.8158E20@nm05mta.dion.ne.jp>;
	Tue, 10 Jan 2006 18:03:48 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Basic question on opening 2 IndexWriters on same Directory - I do not get IOException ...
Date: Tue, 10 Jan 2006 18:03:46 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCGELECCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1b634b00601100032i6a3002f0j8285690c9fd6ff5b@mail.gmail.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Dick,

> I only see one difference in the constructor of the IndexWriter class:
> "closeDir" is 'true' in my scenario and 'false' in your scenario. What is
> reason for this difference? And if there is a valid reason, it might be
> useful to add this to the javaDoc of the IndexWriter class.

The important difference is:

> >     private Directory getDirectory() throws IOException {
> >         if( directory == null ){
> >             directory = FSDirectory.getDirectory( indexDir, true );
> >         }
> >         return directory;
> >     }

this method instantiates FSDirectory object only once.
But in your original code, calling IndexWriter( String,Analyzer,boolean)
version with create=true:

>            public IndexWriter(String path, Analyzer a, boolean create)
> throws IOException {
>                   this(FSDirectory.getDirectory(path, create), a, create,
> true);
>            }

it always makes new FSDirectory object.

regards,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 09:41:30 2006
Return-Path: <java-user-return-18284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66407 invoked from network); 10 Jan 2006 09:41:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 09:41:30 -0000
Received: (qmail 96099 invoked by uid 500); 10 Jan 2006 09:41:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95865 invoked by uid 500); 10 Jan 2006 09:41:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95852 invoked by uid 99); 10 Jan 2006 09:41:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 01:41:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddjong67@gmail.com designates 64.233.184.196 as permitted sender)
Received: from [64.233.184.196] (HELO wproxy.gmail.com) (64.233.184.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 01:41:22 -0800
Received: by wproxy.gmail.com with SMTP id i31so3671295wra
        for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 01:41:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NQ9xshPd5k+oRor4Gy8MAMJBgdwCCQ69+TjEe9hiO2k+Z3lrPhoZE+Tali12dTOKo4GzDlLiEvn/gQ0gNcaiN+Abf0CJQxnt+3BpDpkPZyOWh78MlqFGfL4NWXfABPtBQAboMqHnVWDspYvjjUubW0Y1PL/gaKL4eiUFguy0smU=
Received: by 10.54.152.17 with SMTP id z17mr372132wrd;
        Tue, 10 Jan 2006 01:40:22 -0800 (PST)
Received: by 10.54.145.6 with HTTP; Tue, 10 Jan 2006 01:40:59 -0800 (PST)
Message-ID: <1b634b00601100140vfb02e25re448af0412ae236@mail.gmail.com>
Date: Tue, 10 Jan 2006 10:40:59 +0100
From: Dick de Jong <ddjong67@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Basic question on opening 2 IndexWriters on same Directory - I do not get IOException ...
In-Reply-To: <PKEIKOCKCHNIIHNECPCCGELECCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12741_27270523.1136886059704"
References: <1b634b00601100032i6a3002f0j8285690c9fd6ff5b@mail.gmail.com>
	 <PKEIKOCKCHNIIHNECPCCGELECCAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12741_27270523.1136886059704
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Koji,

I might not agree with you ... I did the following: I create new function
which invokes FSDirectory.getDirectory(dir,true) twice . The result I
compare (fs1=3D=3Dfs2). In my situation the (fs1=3D=3Dfs2) =3D true. So eve=
n in my
situation, i have two references to the <b>same</b> Directory object.

If I look in the FSDirectory constructor, this is also what happens. The
FSDirectory.getDirectory(path,create) method invokese the
FSDirectory.getDirectory(file, create) method and this checks the hashtable
DIRECTORIES whether an object is already created for that directory. If so,
it returns the existing reference, if not it creates a new directory object=
.

So, I still think the difference is in the closeDir parameter difference
(true/false).

Do you agree with me sofar?

New function added to java class:
    private void openDirectoryTwiceAndCompareObjects()
    {
        try
        {
            Directory fs1 =3D FSDirectory.getDirectory(this.indexDir,
true);
            Directory fs2 =3D FSDirectory.getDirectory(this.indexDir, true)=
;
            if (fs1 =3D=3D fs2)    {
                System.out.println("Two references to identical object");
            }
            else {
                System.out.println("Two different directory objects");
            }
        }
        catch (IOException e)
        {
            System.out.println("Error in creating directory : " +
e.getMessage());
        }
    }

And change main to invoke this method:
    public static void main(String[] args)
    {
        TestIndexWriter tw =3D new TestIndexWriter();
        tw.openDirectoryTwiceAndCompareObjects();
        //tw.testOpenIndexWriters(true, true);
        //tw.testOpenIndexWriters(true, false);
    }







On 1/10/06, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
>
> Hi Dick,
>
> > I only see one difference in the constructor of the IndexWriter class:
> > "closeDir" is 'true' in my scenario and 'false' in your scenario. What
> is
> > reason for this difference? And if there is a valid reason, it might be
> > useful to add this to the javaDoc of the IndexWriter class.
>
> The important difference is:
>
> > >     private Directory getDirectory() throws IOException {
> > >         if( directory =3D=3D null ){
> > >             directory =3D FSDirectory.getDirectory( indexDir, true );
> > >         }
> > >         return directory;
> > >     }
>
> this method instantiates FSDirectory object only once.
> But in your original code, calling IndexWriter( String,Analyzer,boolean)
> version with create=3Dtrue:
>
> >            public IndexWriter(String path, Analyzer a, boolean create)
> > throws IOException {
> >                   this(FSDirectory.getDirectory(path, create), a,
> create,
> > true);
> >            }
>
> it always makes new FSDirectory object.
>
> regards,
>
> Koji
>
>
>
>
>

------=_Part_12741_27270523.1136886059704--

From java-user-return-18285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 10:05:17 2006
Return-Path: <java-user-return-18285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80861 invoked from network); 10 Jan 2006 10:05:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 10:05:16 -0000
Received: (qmail 28925 invoked by uid 500); 10 Jan 2006 10:05:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28895 invoked by uid 500); 10 Jan 2006 10:05:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28883 invoked by uid 99); 10 Jan 2006 10:05:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 02:05:10 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.9 as permitted sender)
Received: from [219.125.112.9] (HELO nm05omta059.dion.ne.jp) (219.125.112.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jan 2006 02:05:09 -0800
Received: from sekiguchi ([59.135.106.76])
	by nm05mta.dion.ne.jp
	id <20060110190447833.MA87.81C6528@nm05mta.dion.ne.jp>;
	Tue, 10 Jan 2006 19:04:47 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Basic question on opening 2 IndexWriters on same Directory - I do not get IOException ...
Date: Tue, 10 Jan 2006 19:04:46 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCAELFCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1b634b00601100140vfb02e25re448af0412ae236@mail.gmail.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Dick,

I agree with you. Now I cannot understand why your
original code didn't work.
If you find the answer, please let me know!

regrads,

Koji


> -----Original Message-----
> From: Dick de Jong [mailto:ddjong67@gmail.com]
> Sent: Tuesday, January 10, 2006 6:41 PM
> To: java-user@lucene.apache.org
> Subject: Re: Basic question on opening 2 IndexWriters on same
> Directory - I do not get IOException ...
>
>
> Hi Koji,
>
> I might not agree with you ... I did the following: I create new function
> which invokes FSDirectory.getDirectory(dir,true) twice . The result I
> compare (fs1==fs2). In my situation the (fs1==fs2) = true. So even in my
> situation, i have two references to the <b>same</b> Directory object.
>
> If I look in the FSDirectory constructor, this is also what happens. The
> FSDirectory.getDirectory(path,create) method invokese the
> FSDirectory.getDirectory(file, create) method and this checks the
> hashtable
> DIRECTORIES whether an object is already created for that
> directory. If so,
> it returns the existing reference, if not it creates a new
> directory object.
>
> So, I still think the difference is in the closeDir parameter difference
> (true/false).
>
> Do you agree with me sofar?
>
> New function added to java class:
>     private void openDirectoryTwiceAndCompareObjects()
>     {
>         try
>         {
>             Directory fs1 = FSDirectory.getDirectory(this.indexDir,
> true);
>             Directory fs2 = FSDirectory.getDirectory(this.indexDir, true);
>             if (fs1 == fs2)    {
>                 System.out.println("Two references to identical object");
>             }
>             else {
>                 System.out.println("Two different directory objects");
>             }
>         }
>         catch (IOException e)
>         {
>             System.out.println("Error in creating directory : " +
> e.getMessage());
>         }
>     }
>
> And change main to invoke this method:
>     public static void main(String[] args)
>     {
>         TestIndexWriter tw = new TestIndexWriter();
>         tw.openDirectoryTwiceAndCompareObjects();
>         //tw.testOpenIndexWriters(true, true);
>         //tw.testOpenIndexWriters(true, false);
>     }
>
>
>
>
>
>
>
> On 1/10/06, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> >
> > Hi Dick,
> >
> > > I only see one difference in the constructor of the IndexWriter class:
> > > "closeDir" is 'true' in my scenario and 'false' in your scenario. What
> > is
> > > reason for this difference? And if there is a valid reason,
> it might be
> > > useful to add this to the javaDoc of the IndexWriter class.
> >
> > The important difference is:
> >
> > > >     private Directory getDirectory() throws IOException {
> > > >         if( directory == null ){
> > > >             directory = FSDirectory.getDirectory( indexDir, true );
> > > >         }
> > > >         return directory;
> > > >     }
> >
> > this method instantiates FSDirectory object only once.
> > But in your original code, calling IndexWriter( String,Analyzer,boolean)
> > version with create=true:
> >
> > >            public IndexWriter(String path, Analyzer a, boolean create)
> > > throws IOException {
> > >                   this(FSDirectory.getDirectory(path, create), a,
> > create,
> > > true);
> > >            }
> >
> > it always makes new FSDirectory object.
> >
> > regards,
> >
> > Koji
> >
> >
> >
> >
> >
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 15:53:55 2006
Return-Path: <java-user-return-18286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17748 invoked from network); 10 Jan 2006 15:53:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 15:53:55 -0000
Received: (qmail 15687 invoked by uid 500); 10 Jan 2006 15:53:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15530 invoked by uid 500); 10 Jan 2006 15:53:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15479 invoked by uid 99); 10 Jan 2006 15:53:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 07:53:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 07:53:36 -0800
Subject: AW: Scoring by number of terms in field
Date: Tue, 10 Jan 2006 16:53:13 +0100
Message-ID: <28CC4850CA7A704FB1980317A99FA036755E@ad1.ad.kbse.net>
MIME-Version: 1.0
X-MS-Has-Attach: 
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-TNEF-Correlator: 
Thread-Topic: Scoring by number of terms in field
Content-class: urn:content-classes:message
Thread-Index: AcYVr7IlOuLqSFCMRgGxWEDft2RPyAATbA6A
X-MimeOLE: Produced By Microsoft Exchange V6.5
From: "Stefan Gusenbauer" <stefan.gusenbauer@kbse.net>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think this will work because in number 1 europe is the only word in =
the title which means it has a higher weight than the word Europe in =
number 2. In number 2 there are more words around Europe and so on with =
number 3.
As I can remember the scoring algorithm should exactly reproduce this =
result if the body isn't regarded at. But in the body the words are =
usually weighed lower because it contains more words.=20

Hope this helps!
stefan

-----Urspr=FCngliche Nachricht-----
Von: Eric Jain [mailto:Eric.Jain@isb-sib.ch]=20
Gesendet: Dienstag, 10. Januar 2006 07:32
An: java-user@lucene.apache.org
Betreff: Re: Scoring by number of terms in field

Paul Elschot wrote:
>>For example, a query for "europe" should rank:
>>
>>1. title:"Europe"
>>2. title:"History of Europe"
>>3. title:"Travel in Europe, Middle East and Africa"
>>4. subtitle:"Fairy Tales from Europe"
>=20
> Perhaps with this query (assuming the default implicit OR):
>=20
> title:europe subtitle:europe^0.5 body:europe

This will ensure that match 4 appears at the end, but as far as I can =
see=20
this won't help with getting matches 1-3 ordered correctly? Note that =
match=20
1 for example may have a "description" field that contains a lot terms, =
but=20
no mention of the query term.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 18:24:55 2006
Return-Path: <java-user-return-18287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12071 invoked from network); 10 Jan 2006 18:24:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 18:24:54 -0000
Received: (qmail 65859 invoked by uid 500); 10 Jan 2006 18:24:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65837 invoked by uid 500); 10 Jan 2006 18:24:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65826 invoked by uid 99); 10 Jan 2006 18:24:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 10:24:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.22] (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 10:24:46 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0AIOOeq077159
	for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 19:24:24 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Scoring by number of terms in field
Date: Tue, 10 Jan 2006 19:24:23 +0100
User-Agent: KMail/1.8.2
References: <43C22E2C.7080505@isb-sib.ch> <200601091944.38212.paul.elschot@xs4all.nl> <43C354F0.4090106@isb-sib.ch>
In-Reply-To: <43C354F0.4090106@isb-sib.ch>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601101924.24092.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 10 January 2006 07:32, Eric Jain wrote:
> Paul Elschot wrote:
> >>For example, a query for "europe" should rank:
> >>
> >>1. title:"Europe"
> >>2. title:"History of Europe"
> >>3. title:"Travel in Europe, Middle East and Africa"
> >>4. subtitle:"Fairy Tales from Europe"
> > 
> > Perhaps with this query (assuming the default implicit OR):
> > 
> > title:europe subtitle:europe^0.5 body:europe
> 
> This will ensure that match 4 appears at the end, but as far as I can see 
> this won't help with getting matches 1-3 ordered correctly? Note that match 
> 1 for example may have a "description" field that contains a lot terms, but 
> no mention of the query term.

In general, the length of a field that does not match does not influence
the score, but it's still not easy to predict the order in this case.
With an OR over multiple fields:
- when a shorter field matches, it usually dominates the score for a
document.
- when other fields match, they contribute to the score via the sum
score over the clauses and via the coordination factor in the
DefaultSimilarity.

In case you prefer to use the maximum score over the clauses you
can use the DisjunctionMaxQuery from the development version.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 18:54:05 2006
Return-Path: <java-user-return-18288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30163 invoked from network); 10 Jan 2006 18:54:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 18:54:05 -0000
Received: (qmail 27589 invoked by uid 500); 10 Jan 2006 18:53:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27536 invoked by uid 500); 10 Jan 2006 18:53:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27511 invoked by uid 99); 10 Jan 2006 18:53:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 10:53:55 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.174.124.10] (HELO mail.igb.uiuc.edu) (128.174.124.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 10:53:53 -0800
Received: by mail.igb.uiuc.edu (Postfix, from userid 48)
	id 9FDDA114400D; Tue, 10 Jan 2006 12:53:29 -0600 (CST)
Received: from 128.174.124.138
        (SquirrelMail authenticated user tlittell)
        by mail.igb.uiuc.edu with HTTP;
        Tue, 10 Jan 2006 12:53:29 -0600 (CST)
Message-ID: <1566.128.174.124.138.1136919209.squirrel@mail.igb.uiuc.edu>
Date: Tue, 10 Jan 2006 12:53:29 -0600 (CST)
Subject: Default searching across all fields?
From: tlittell@igb.uiuc.edu
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-IGB-MailScanner-Information: Please contact the ISP for more information
X-IGB-MailScanner: Found to be clean
X-IGB-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-0.493, required 5, ALL_TRUSTED -0.50,
	NO_REAL_NAME 0.01)
X-MailScanner-From: tlittell@igb.uiuc.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Is there a way to make the default search to go across all fields?

For example, suppose I have two fields "title" & "content", and we have
the following:

String queryText = "dogs cats";
QueryParser qParser = ...;

Query query = qParser.parse(queryText);  // uses DFLT field.

But what if you want the query to go across ALL fields?

(I'm hoping there is an easier approach than expanding the query across
all fields and do a Boolean OR.)

thanks in advance,
Todd



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 19:19:41 2006
Return-Path: <java-user-return-18289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51242 invoked from network); 10 Jan 2006 19:19:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 19:19:41 -0000
Received: (qmail 80695 invoked by uid 500); 10 Jan 2006 19:19:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80116 invoked by uid 500); 10 Jan 2006 19:19:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80105 invoked by uid 99); 10 Jan 2006 19:19:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 11:19:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 11:19:32 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D73C3D@mailer.syr.edu>; Tue, 10 Jan 2006 14:19:11 -0500
Message-ID: <43C408B0.2090508@syr.edu>
Date: Tue, 10 Jan 2006 14:19:12 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Default searching across all fields?
References: <1566.128.174.124.138.1136919209.squirrel@mail.igb.uiuc.edu>
In-Reply-To: <1566.128.174.124.138.1136919209.squirrel@mail.igb.uiuc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think you want to use the MultiFieldQueryParser instead of the 
QueryParser.

tlittell@igb.uiuc.edu wrote:

>Is there a way to make the default search to go across all fields?
>
>For example, suppose I have two fields "title" & "content", and we have
>the following:
>
>String queryText = "dogs cats";
>QueryParser qParser = ...;
>
>Query query = qParser.parse(queryText);  // uses DFLT field.
>
>But what if you want the query to go across ALL fields?
>
>(I'm hoping there is an easier approach than expanding the query across
>all fields and do a Boolean OR.)
>
>thanks in advance,
>Todd
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 19:28:41 2006
Return-Path: <java-user-return-18290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55656 invoked from network); 10 Jan 2006 19:28:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 19:28:40 -0000
Received: (qmail 96318 invoked by uid 500); 10 Jan 2006 19:28:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96287 invoked by uid 500); 10 Jan 2006 19:28:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96276 invoked by uid 99); 10 Jan 2006 19:28:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 11:28:34 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.174.124.10] (HELO mail.igb.uiuc.edu) (128.174.124.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 11:28:32 -0800
Received: by mail.igb.uiuc.edu (Postfix, from userid 48)
	id ACA49114400D; Tue, 10 Jan 2006 13:28:09 -0600 (CST)
Received: from 128.174.124.138
        (SquirrelMail authenticated user tlittell)
        by mail.igb.uiuc.edu with HTTP;
        Tue, 10 Jan 2006 13:28:09 -0600 (CST)
Message-ID: <2678.128.174.124.138.1136921289.squirrel@mail.igb.uiuc.edu>
In-Reply-To: <43C408B0.2090508@syr.edu>
References: <1566.128.174.124.138.1136919209.squirrel@mail.igb.uiuc.edu>
    <43C408B0.2090508@syr.edu>
Date: Tue, 10 Jan 2006 13:28:09 -0600 (CST)
Subject: Re: Default searching across all fields?
From: tlittell@igb.uiuc.edu
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-IGB-MailScanner-Information: Please contact the ISP for more information
X-IGB-MailScanner: Found to be clean
X-IGB-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-0.493, required 5, ALL_TRUSTED -0.50,
	NO_REAL_NAME 0.01)
X-MailScanner-From: tlittell@igb.uiuc.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Ohh, I see now. That's perfect. I hadn't realized that was in the API. 
thanks...

> I think you want to use the MultiFieldQueryParser instead of the
> QueryParser.
>
> tlittell@igb.uiuc.edu wrote:
>
>>Is there a way to make the default search to go across all fields?
>>
>>For example, suppose I have two fields "title" & "content", and we have
>>the following:
>>
>>String queryText = "dogs cats";
>>QueryParser qParser = ...;
>>
>>Query query = qParser.parse(queryText);  // uses DFLT field.
>>
>>But what if you want the query to go across ALL fields?
>>
>>(I'm hoping there is an easier approach than expanding the query across
>>all fields and do a Boolean OR.)
>>
>>thanks in advance,
>>Todd
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>
> --
> -------------------------------------------------------------------
> Grant Ingersoll
> Sr. Software Engineer
> Center for Natural Language Processing
> Syracuse University
> School of Information Studies
> 337 Hinds Hall
> Syracuse, NY 13244
>
> http://www.cnlp.org
> Voice:  315-443-5484
> Fax: 315-443-6886
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 23:06:42 2006
Return-Path: <java-user-return-18291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78524 invoked from network); 10 Jan 2006 23:06:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 23:06:42 -0000
Received: (qmail 77850 invoked by uid 500); 10 Jan 2006 23:06:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77822 invoked by uid 500); 10 Jan 2006 23:06:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77811 invoked by uid 99); 10 Jan 2006 23:06:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 15:06:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 15:06:31 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k0AN64vS000357
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 00:06:05 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.371 [267.14.16/225]); Wed, 11 Jan 2006 00:05:38 +0100
Message-ID: <43C43DC1.8090809@isb-sib.ch>
Date: Wed, 11 Jan 2006 00:05:37 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Scoring by number of terms in field
References: <43C22E2C.7080505@isb-sib.ch> <200601091944.38212.paul.elschot@xs4all.nl> <43C354F0.4090106@isb-sib.ch> <200601101924.24092.paul.elschot@xs4all.nl>
In-Reply-To: <200601101924.24092.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Elschot wrote:
> In case you prefer to use the maximum score over the clauses you
> can use the DisjunctionMaxQuery from the development version.

Yes, that may help! I'll need to have a look...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 10 23:10:51 2006
Return-Path: <java-user-return-18292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80061 invoked from network); 10 Jan 2006 23:10:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Jan 2006 23:10:51 -0000
Received: (qmail 85931 invoked by uid 500); 10 Jan 2006 23:10:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85512 invoked by uid 500); 10 Jan 2006 23:10:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85334 invoked by uid 99); 10 Jan 2006 23:10:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 15:10:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 15:10:27 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k0ANA1vS001141
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 00:10:02 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.371 [267.14.16/225]); Wed, 11 Jan 2006 00:09:31 +0100
Message-ID: <43C43EAB.3060703@isb-sib.ch>
Date: Wed, 11 Jan 2006 00:09:31 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Generating phrase queries from term queries
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there an efficient way to determine if two or more terms frequently 
appear next to each other sequence? For a query like:

a b c

one or more of the following suggestions could be generated:

"a b c"
"a b" c
a "b c"

I could of course just run a search with all possible combinations, but 
perhaps there is a better way?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 00:28:15 2006
Return-Path: <java-user-return-18293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10836 invoked from network); 11 Jan 2006 00:28:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 00:28:15 -0000
Received: (qmail 5579 invoked by uid 500); 11 Jan 2006 00:28:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5538 invoked by uid 500); 11 Jan 2006 00:28:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5524 invoked by uid 99); 11 Jan 2006 00:28:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 16:28:10 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 16:28:08 -0800
Received: from smtp2.sybase.com (sybgate2 [10.22.97.85])
	by inergen.sybase.com  with ESMTP id k0B0Rk218044
	for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 16:27:46 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp2.sybase.com  with ESMTP id QAA18119
	for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 16:27:46 -0800 (PST)
Subject: Lucene and Nutch
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OFC8F18EF6.FAF90228-ON882570F3.000212E2-852570F3.000289C6@sybase.com>
From: Daniel.Clark@sybase.com
Date: Tue, 10 Jan 2006 19:27:43 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 01/10/2006
 04:27:46 PM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I am using lucene to index local HTML files.  The requirement just changed
to index remote HTML files.  Can I use Nutch to crawl for the remote HTML
files and use the index for the Lucene code I have already written?  Or do
I have to redo the whole thing using the Nutch API?  I am using boosting
during the indexing.  I hope Nutch can boost fields, too.  Any help would
be appreciated.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 00:40:37 2006
Return-Path: <java-user-return-18294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15442 invoked from network); 11 Jan 2006 00:40:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 00:40:37 -0000
Received: (qmail 21930 invoked by uid 500); 11 Jan 2006 00:40:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21700 invoked by uid 500); 11 Jan 2006 00:40:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21689 invoked by uid 99); 11 Jan 2006 00:40:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 16:40:31 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.15 as permitted sender)
Received: from [219.125.112.15] (HELO nm05omta05f.dion.ne.jp) (219.125.112.15)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 10 Jan 2006 16:40:30 -0800
Received: from sekiguchi ([59.135.106.76])
	by nm05mta.dion.ne.jp
	id <20060111094009043.MAE6.8068788@nm05mta.dion.ne.jp>;
	Wed, 11 Jan 2006 09:40:09 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Lucene and Nutch
Date: Wed, 11 Jan 2006 09:40:07 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCCELLCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <OFC8F18EF6.FAF90228-ON882570F3.000212E2-852570F3.000289C6@sybase.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

FYI:

open source web crawler:
http://java-source.net/open-source/crawlers


Thanks,

Koji


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 00:48:14 2006
Return-Path: <java-user-return-18295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18556 invoked from network); 11 Jan 2006 00:48:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 00:48:14 -0000
Received: (qmail 34509 invoked by uid 500); 11 Jan 2006 00:48:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34225 invoked by uid 500); 11 Jan 2006 00:48:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34214 invoked by uid 99); 11 Jan 2006 00:48:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 16:48:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 16:48:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CD8255B779; Tue, 10 Jan 2006 16:47:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CC66A7F459
	for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 16:47:47 -0800 (PST)
Date: Tue, 10 Jan 2006 16:47:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Lucene and Nutch
In-Reply-To: <OFC8F18EF6.FAF90228-ON882570F3.000212E2-852570F3.000289C6@sybase.com>
Message-ID: <Pine.LNX.4.58.0601101644050.23375@hal.rescomp.berkeley.edu>
References: <OFC8F18EF6.FAF90228-ON882570F3.000212E2-852570F3.000289C6@sybase.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: to index remote HTML files.  Can I use Nutch to crawl for the remote HTML
: files and use the index for the Lucene code I have already written?  Or do
: I have to redo the whole thing using the Nutch API?  I am using boosting
: during the indexing.  I hope Nutch can boost fields, too.  Any help would
: be appreciated.

thebest place to start with a question like this is the Nutch
documentation and user community -- between hose two information sources,
you should be able to determine what constraints nutch puts on the
fields of the index it creates, and what flexability you have to affect
field/document boosts at index time.

With that information in hand, you can make an informed choice about using
nutch in conjunction with your direct lucene access code, re-writing your
code to use whatever api nutch has, or using a third party crawler to
fetch documents for your lucene based code and ignoring nutch.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 04:44:42 2006
Return-Path: <java-user-return-18296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23344 invoked from network); 11 Jan 2006 04:44:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 04:44:41 -0000
Received: (qmail 11054 invoked by uid 500); 11 Jan 2006 04:44:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11003 invoked by uid 500); 11 Jan 2006 04:44:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10991 invoked by uid 99); 11 Jan 2006 04:44:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 20:44:33 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 143.127.12.110 is neither permitted nor denied by domain of Vikas_Khengare@symantec.com)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 20:44:29 -0800
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by gold.veritas.com with ESMTP; 10 Jan 2006 20:44:08 -0800
Received: from itpxchmb2.enterprise.veritas.com ([10.216.17.1]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 10 Jan 2006 20:44:07 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C61669.A6735A1E"
Subject: How to track database changes at run time to update index in Lucene ?
Date: Wed, 11 Jan 2006 10:14:04 +0530
Message-ID: <D17EC75396CC974E85E180CE6F7F045D031E537D@itpxchmb2.enterprise.veritas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to track database changes at run time to update index in Lucene ?
Thread-Index: AcYVGrROCwIYSptUQyO7Ex5vulX4GQAloQAAAACMfIAAAC4J8AAAHz9QAAJ/KgAAKtN4MA==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 11 Jan 2006 04:44:07.0480 (UTC) FILETIME=[A821C380:01C61669]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C61669.A6735A1E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20
Hi Friend.......
=20
           I have two questions for you................=20
=20
        I am doing indexing using Lucene. I am taking data from database
But for updation in index there is problem. How can I come to know that
a row or a single data cell is get changed from row ? How can I index
only that data cell ?
=20
1] How to track database changes in web application from front end
processing at runtime ?
2] Can get information that database is changed...... Some events from
that I will come to know that database is changed
=20
Explanation :
=20
         I am showing some information to user from database tables in
my web application. While showing suppose any user change any database
table may be that table whose data I am not displaying / displaying. Can
I get that information at front end side to change my contents of web
page.
=20
        Can get information that database is changed...... Some events
from that I will come to know that database is changed............=20
=20
        Can I use AJAX for that ?
=20
       I hope I will get solution from experts like you.
=20
Thanks.
=20
From
vikas r. Khengare
[ vikas_khengare@yahoo.com <BLOCKED::mailto:vikas_khengare@yahoo.com>  ]

------_=_NextPart_001_01C61669.A6735A1E--

From java-user-return-18297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 04:52:14 2006
Return-Path: <java-user-return-18297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26983 invoked from network); 11 Jan 2006 04:52:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 04:52:14 -0000
Received: (qmail 19188 invoked by uid 500); 11 Jan 2006 04:52:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19168 invoked by uid 500); 11 Jan 2006 04:52:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19157 invoked by uid 99); 11 Jan 2006 04:52:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 20:52:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddjong67@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 20:52:07 -0800
Received: by wproxy.gmail.com with SMTP id i31so68204wra
        for <java-user@lucene.apache.org>; Tue, 10 Jan 2006 20:51:46 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YSQiMFN2JPfUG7yjffvfSiYRY5Q/pPurKzZABqdaJyK6twkhKU07ungh7cfC7GBm6oRA1qRBr3k460OVXyiJ2+7ziiJb/173kL7JbRlBZF8jvaEUJSF7DpZZ0dZ0+9gFBdtHEew4/yPSLvcVx71CCeSG1wSG4ig+VEdqS4rNang=
Received: by 10.54.69.10 with SMTP id r10mr445157wra;
        Tue, 10 Jan 2006 20:51:46 -0800 (PST)
Received: by 10.54.145.6 with HTTP; Tue, 10 Jan 2006 20:51:46 -0800 (PST)
Message-ID: <1b634b00601102051j158b29e3oe13e5eca45646395@mail.gmail.com>
Date: Wed, 11 Jan 2006 05:51:46 +0100
From: Dick de Jong <ddjong67@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to track database changes at run time to update index in Lucene ?
In-Reply-To: <D17EC75396CC974E85E180CE6F7F045D031E537D@itpxchmb2.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21981_29288922.1136955106262"
References: <D17EC75396CC974E85E180CE6F7F045D031E537D@itpxchmb2.enterprise.veritas.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21981_29288922.1136955106262
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

For changes in the database, you can:
- use the server side business object that also does the update of the BO i=
n
the database, and which currently does also the indexing in lucene
- use the front-end (browser I presume if I see AJAX, which is nothing more
than XmlHttp), but would not be my preference ... (use servlet or bean or
... instead)
- use the database if it supports database triggers

But an update in the database will mean an delete and insert in Lucene, as
far as I know.
Remaining things (like push changed backend data to client) has nothing to
do with Lucene.

Kind regards,

Dick

On 1/11/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
>
>
> Hi Friend.......
>
>            I have two questions for you................
>
>         I am doing indexing using Lucene. I am taking data from database
> But for updation in index there is problem. How can I come to know that
> a row or a single data cell is get changed from row ? How can I index
> only that data cell ?
>
> 1] How to track database changes in web application from front end
> processing at runtime ?
> 2] Can get information that database is changed...... Some events from
> that I will come to know that database is changed
>
> Explanation :
>
>          I am showing some information to user from database tables in
> my web application. While showing suppose any user change any database
> table may be that table whose data I am not displaying / displaying. Can
> I get that information at front end side to change my contents of web
> page.
>
>         Can get information that database is changed...... Some events
> from that I will come to know that database is changed............
>
>         Can I use AJAX for that ?
>
>        I hope I will get solution from experts like you.
>
> Thanks.
>
> From
> vikas r. Khengare
> [ vikas_khengare@yahoo.com <BLOCKED::mailto:vikas_khengare@yahoo.com>  ]
>
>

------=_Part_21981_29288922.1136955106262--

From java-user-return-18298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 05:19:03 2006
Return-Path: <java-user-return-18298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38182 invoked from network); 11 Jan 2006 05:19:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 05:19:02 -0000
Received: (qmail 46912 invoked by uid 500); 11 Jan 2006 05:18:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46891 invoked by uid 500); 11 Jan 2006 05:18:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46876 invoked by uid 500); 11 Jan 2006 05:18:56 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 46873 invoked by uid 99); 11 Jan 2006 05:18:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 21:18:56 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 143.127.12.110 is neither permitted nor denied by domain of Vikas_Khengare@symantec.com)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 21:18:54 -0800
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by gold.veritas.com with ESMTP; 10 Jan 2006 21:18:32 -0800
Received: from itpxchmb2.enterprise.veritas.com ([10.216.17.1]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 10 Jan 2006 21:18:31 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6166E.5BF262BE"
Subject: How to track database changes at run time to update index in Lucene ?
Date: Wed, 11 Jan 2006 10:47:47 +0530
Message-ID: <D17EC75396CC974E85E180CE6F7F045D031E53BC@itpxchmb2.enterprise.veritas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to track database changes at run time to update index in Lucene ?
Thread-Index: AcYVGrROCwIYSptUQyO7Ex5vulX4GQAloQAAAACMfIAAAC4J8AAAHz9QAAJ/KgAAKtN4MAAADy9QAADiHaA=
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 Jan 2006 05:18:31.0574 (UTC) FILETIME=[766D8360:01C6166E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6166E.5BF262BE
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20
Hi Friend.......
=20
           I have two questions for you................=20
=20
        I am doing indexing using Lucene. I am taking data from database
But for updation in index there is problem. How can I come to know that
a row or a single data cell is get changed from row ? How can I index
only that data cell ?
=20
1] How to track database changes in web application from front end
processing at runtime ?
2] Can get information that database is changed...... Some events from
that I will come to know that database is changed
=20
Explanation :
                I am doing indexing and searching on database. If
database gets change then I have to update index also. But how I come to
know in web application that which database record gets change and on
which table record is deleted OR inserted. So I will update that
document only from the index by uniquely identifying it.
         =20
         Can get information that database is changed...... Some events
from that I will come to know that database is changed............=20
=20
        Can I use AJAX  OR Database Triggers OR Periodical updates OR
something different for that ?
=20
       I hope I will get solution from experts like you.
=20
Thanks.
=20
From
vikas r. Khengare
[ vikas_khengare@yahoo.com <BLOCKED::mailto:vikas_khengare@yahoo.com>  ]

------_=_NextPart_001_01C6166E.5BF262BE--

From java-user-return-18299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 07:58:21 2006
Return-Path: <java-user-return-18299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34854 invoked from network); 11 Jan 2006 07:58:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 07:58:21 -0000
Received: (qmail 13751 invoked by uid 500); 11 Jan 2006 07:58:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13731 invoked by uid 500); 11 Jan 2006 07:58:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13720 invoked by uid 99); 11 Jan 2006 07:58:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 23:58:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.36] (HELO smtp-vbr16.xs4all.nl) (194.109.24.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Jan 2006 23:58:12 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr16.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0B7vpia056898
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 08:57:51 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
Date: Wed, 11 Jan 2006 08:57:51 +0100
User-Agent: KMail/1.8.2
References: <43C43EAB.3060703@isb-sib.ch>
In-Reply-To: <43C43EAB.3060703@isb-sib.ch>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601110857.51251.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 11 January 2006 00:09, Eric Jain wrote:
> Is there an efficient way to determine if two or more terms frequently 
> appear next to each other sequence? For a query like:
> 
> a b c
> 
> one or more of the following suggestions could be generated:
> 
> "a b c"
> "a b" c
> a "b c"
> 
> I could of course just run a search with all possible combinations, but 
> perhaps there is a better way?

One way that might be better is to provide your own Scorer
that works on the term positions of the three or more terms.
This would be better for performance because it only uses one
term positions object per query term (a, b, and c here).

For two terms, Nutch has something very similar that works
over multiple fields. Have a look in the archives for the thread
"Lucene performance bottlenecks" that started on 2 Dec 2005.
I don't know how Nutch handles more than two query terms.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 08:07:02 2006
Return-Path: <java-user-return-18300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38264 invoked from network); 11 Jan 2006 08:07:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 08:07:02 -0000
Received: (qmail 21546 invoked by uid 500); 11 Jan 2006 08:06:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21517 invoked by uid 500); 11 Jan 2006 08:06:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21506 invoked by uid 99); 11 Jan 2006 08:06:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 00:06:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 00:06:54 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k0B86YF11957
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 02:06:34 -0600
Message-ID: <43C4BC8E.3070005@getopt.org>
Date: Wed, 11 Jan 2006 09:06:38 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
References: <43C43EAB.3060703@isb-sib.ch> <200601110857.51251.paul.elschot@xs4all.nl>
In-Reply-To: <200601110857.51251.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Elschot wrote:

>On Wednesday 11 January 2006 00:09, Eric Jain wrote:
>  
>
>>Is there an efficient way to determine if two or more terms frequently 
>>appear next to each other sequence? For a query like:
>>
>>a b c
>>
>>one or more of the following suggestions could be generated:
>>
>>"a b c"
>>"a b" c
>>a "b c"
>>
>>I could of course just run a search with all possible combinations, but 
>>perhaps there is a better way?
>>    
>>
>
>One way that might be better is to provide your own Scorer
>that works on the term positions of the three or more terms.
>This would be better for performance because it only uses one
>term positions object per query term (a, b, and c here).
>
>For two terms, Nutch has something very similar that works
>over multiple fields. Have a look in the archives for the thread
>"Lucene performance bottlenecks" that started on 2 Dec 2005.
>I don't know how Nutch handles more than two query terms.
>  
>

Not there yet... ;-) Currently Nutch handles this as simple 
BooleanQueries (using the default scorer) and optionally PhraseQueries. 
We didn't work yet on a custom scorer.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 10:34:37 2006
Return-Path: <java-user-return-18301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19473 invoked from network); 11 Jan 2006 10:34:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 10:34:36 -0000
Received: (qmail 16235 invoked by uid 500); 11 Jan 2006 10:34:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16206 invoked by uid 500); 11 Jan 2006 10:34:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16194 invoked by uid 99); 11 Jan 2006 10:34:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 02:34:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 02:34:28 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k0BAY1vS013099
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 11:34:01 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.371 [267.14.17/226]); Wed, 11 Jan 2006 11:33:44 +0100
Message-ID: <43C4DF08.2000401@isb-sib.ch>
Date: Wed, 11 Jan 2006 11:33:44 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
References: <43C43EAB.3060703@isb-sib.ch> <200601110857.51251.paul.elschot@xs4all.nl>
In-Reply-To: <200601110857.51251.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul Elschot wrote:
> One way that might be better is to provide your own Scorer
> that works on the term positions of the three or more terms.
> This would be better for performance because it only uses one
> term positions object per query term (a, b, and c here).

I'm trying to extract the actual phrases, rather than scoring documents 
with terms that appear in the same order higher (though that would seem 
like a good idea, too).

The idea is that once I have the phrases, I can suggest something like 
"show only matches where a and b appear next to each other". Not terribly 
important, but if there was a simple and efficient way to accomplish this...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 11:57:42 2006
Return-Path: <java-user-return-18302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65157 invoked from network); 11 Jan 2006 11:57:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 11:57:41 -0000
Received: (qmail 31484 invoked by uid 500); 11 Jan 2006 11:57:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31464 invoked by uid 500); 11 Jan 2006 11:57:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 28836 invoked by uid 99); 11 Jan 2006 11:55:56 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Date: Wed, 11 Jan 2006 07:55:31 -0400
From: Chris Brown <chris_b@redsky.ca>
Subject: Re: top n words within a results set?
To: java-user@lucene.apache.org
Message-id: <003201c616a5$ecb4bac0$0200a8c0@snip>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
Content-type: text/plain; format=flowed; charset=iso-8859-1; reply-type=response
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
References: <003301c61539$b8deb4c0$0a05a8c0@starlet> <43C290AC.8030903@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Okay, I've taken Grant's advice and aggregated the TermFreqVector's for
each term in the applicable field. It works quite well, there's just one
glitch.

Some words like "party" and "picture" appear as "parti" and "pictur". I am
using the SnowballAnalyzer, I suspect that's what's changing the words.
Short of maintaining a second index using a different analyzer, does anyone
have any ideas?

----- Original Message ----- 
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <java-user@lucene.apache.org>
Sent: Monday, January 09, 2006 12:34 PM
Subject: Re: top n words within a results set?


> You could use term vectors to accomplish this.  Get your hits for the 
> website, then load the term vector for the field containing the keywords 
> and add up the frequencies
>
> Chris Brown wrote:
>
>>Hello,
>>
>>Is it possible to retrieve the top 'n' most often appearing words within a 
>>search criteria? I've seen the High Frequency Terms code in the sandbox 
>>but it works across the whole index.
>>
>>To put this question into context: We're developing website that hosts a 
>>user's photo website. Searches can be specific to a particular user's 
>>website or be performed globally across one, many or all websites. I've 
>>accomplished this with a field in the index called website. What I'd like 
>>to do is give each user the top ten words that appear on their website.
>>Thanks,
>>Chris Brown
>>
>>http://www.orangepics.com/
>>
>>
>
> -- 
> ------------------------------------------------------------------- 
> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
> Processing Syracuse University School of Information Studies 337 Hinds 
> Hall Syracuse, NY 13244
> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 12:23:52 2006
Return-Path: <java-user-return-18303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76466 invoked from network); 11 Jan 2006 12:23:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 12:23:52 -0000
Received: (qmail 60742 invoked by uid 500); 11 Jan 2006 12:23:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60710 invoked by uid 500); 11 Jan 2006 12:23:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60699 invoked by uid 99); 11 Jan 2006 12:23:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 04:23:46 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.61] (HELO web53111.mail.yahoo.com) (206.190.49.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jan 2006 04:23:46 -0800
Received: (qmail 6776 invoked by uid 60001); 11 Jan 2006 12:23:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=dZj8CLUBu5FZN+2nYP7iiVvaYFsVlBqsfqHpUJDonSYjwf85J8dXtgQjiIq8Ao5/DvQdrzFNAFWkZJWEk+6jqqCgveuwM6pK5Nk6iJz8CWp0weKMIpQ1aiSSWObgempDZmJMO+RGzogeXy6scftgN1OcE/GSWU7MRL/DpraQxBc=  ;
Message-ID: <20060111122325.6774.qmail@web53111.mail.yahoo.com>
Received: from [203.199.211.113] by web53111.mail.yahoo.com via HTTP; Wed, 11 Jan 2006 04:23:25 PST
Date: Wed, 11 Jan 2006 04:23:25 -0800 (PST)
From: shailesh kumar <shailesh1992@yahoo.com>
Subject: BTree
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1365978177-1136982205=:6505"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1365978177-1136982205=:6505
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Does Lucene use a BTree kind of structure for storing the index (atleast in the memory)  .? or is it just a list. Based on the file format in the index directory ( where in the terms are are lexicographically sorted in one of the files ) I   am not sure if BTree is used. ( Because constructing a Btree from a lexicographicaly sorted list    will be difficult. ) 
 
 Shailesh
 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1365978177-1136982205=:6505--

From java-user-return-18304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 12:33:14 2006
Return-Path: <java-user-return-18304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81724 invoked from network); 11 Jan 2006 12:33:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 12:33:13 -0000
Received: (qmail 72800 invoked by uid 500); 11 Jan 2006 12:32:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72752 invoked by uid 500); 11 Jan 2006 12:32:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72724 invoked by uid 99); 11 Jan 2006 12:32:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 04:32:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 04:32:52 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D7B8A6@mailer.syr.edu>; Wed, 11 Jan 2006 7:32:31 -0500
Message-ID: <43C4FADF.2030800@syr.edu>
Date: Wed, 11 Jan 2006 07:32:31 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: top n words within a results set?
References: <003301c61539$b8deb4c0$0a05a8c0@starlet> <43C290AC.8030903@syr.edu> <003201c616a5$ecb4bac0$0200a8c0@snip>
In-Reply-To: <003201c616a5$ecb4bac0$0200a8c0@snip>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe the usual solution is to have a separate field on the same 
document for display purposes (I am assumming you are trying to display 
the values of the indexed field) that is not stemmed.   The tradeoff is 
in disk space, of course.

Chris Brown wrote:

> Okay, I've taken Grant's advice and aggregated the TermFreqVector's for
> each term in the applicable field. It works quite well, there's just one
> glitch.
>
> Some words like "party" and "picture" appear as "parti" and "pictur". 
> I am
> using the SnowballAnalyzer, I suspect that's what's changing the words.
> Short of maintaining a second index using a different analyzer, does 
> anyone
> have any ideas?
>
> ----- Original Message ----- From: "Grant Ingersoll" <gsingers@syr.edu>
> To: <java-user@lucene.apache.org>
> Sent: Monday, January 09, 2006 12:34 PM
> Subject: Re: top n words within a results set?
>
>
>> You could use term vectors to accomplish this.  Get your hits for the 
>> website, then load the term vector for the field containing the 
>> keywords and add up the frequencies
>>
>> Chris Brown wrote:
>>
>>> Hello,
>>>
>>> Is it possible to retrieve the top 'n' most often appearing words 
>>> within a search criteria? I've seen the High Frequency Terms code in 
>>> the sandbox but it works across the whole index.
>>>
>>> To put this question into context: We're developing website that 
>>> hosts a user's photo website. Searches can be specific to a 
>>> particular user's website or be performed globally across one, many 
>>> or all websites. I've accomplished this with a field in the index 
>>> called website. What I'd like to do is give each user the top ten 
>>> words that appear on their website.
>>> Thanks,
>>> Chris Brown
>>>
>>> http://www.orangepics.com/
>>>
>>>
>>
>> -- 
>> ------------------------------------------------------------------- 
>> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
>> Processing Syracuse University School of Information Studies 337 
>> Hinds Hall Syracuse, NY 13244
>> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 13:25:30 2006
Return-Path: <java-user-return-18305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15440 invoked from network); 11 Jan 2006 13:25:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 13:25:30 -0000
Received: (qmail 80746 invoked by uid 500); 11 Jan 2006 13:25:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80715 invoked by uid 500); 11 Jan 2006 13:25:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80700 invoked by uid 500); 11 Jan 2006 13:25:23 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 80697 invoked by uid 99); 11 Jan 2006 13:25:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 05:25:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.131.136] (HELO p15105029.pureserver.info) (217.160.131.136)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jan 2006 05:25:22 -0800
Received: (qmail 11415 invoked by uid 3001); 11 Jan 2006 14:24:58 +0100
Received: from 82.144.201.6 by p15105029 (envelope-from <max@osua.de>, uid 89) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.87.1/1238. spamassassin: 3.1.0. perlscan: 1.25-st-qms.  
 Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. 
 Processed in 1.860801 secs); 11 Jan 2006 13:24:58 -0000
X-Spam-Level: +++
X-Spam-Report: SA TESTS
  0.1 FORGED_RCVD_HELO       Received: contains a forged HELO
  3.2 BAYES_99               BODY: Bayesian spam probability is 99 to 100%
                             [score: 1.0000]
  0.3 AWL                    AWL: From: address is in the auto white-list
X-Qmail-Scanner-Mail-From: max@osua.de via p15105029
X-Qmail-Scanner: 1.25-st-qms (Clear:RC:0(82.144.201.6):SA:0(3.6/6.5):. Processed in 1.860801 secs Process 11405)
Received: from ip.82.144.201.6.stat-8.volia.net (HELO max.osuatech.local) (max%osua.de@82.144.201.6)
  by p15105029.pureserver.info with SMTP; 11 Jan 2006 14:24:56 +0100
Date: Wed, 11 Jan 2006 15:26:27 +0200
From: Maxim Patramanskij <max@osua.de>
X-Mailer: The Bat! (v1.62i) Business
Reply-To: Maxim Patramanskij <max@osua.de>
Organization: OSUA technology
X-Priority: 3 (Normal)
Message-ID: <602006125687.20060111152627@osua.de>
To: lucene-user@jakarta.apache.org
Subject: How to check, whether Index is optimized or not?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=3.6 required=6.5
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello dear Lucene users!

Is their an easy way to check, whether index is optimized or not?


Best regards,
 Max


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 13:40:43 2006
Return-Path: <java-user-return-18306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23748 invoked from network); 11 Jan 2006 13:40:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 13:40:43 -0000
Received: (qmail 12471 invoked by uid 500); 11 Jan 2006 13:40:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12338 invoked by uid 500); 11 Jan 2006 13:40:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12242 invoked by uid 99); 11 Jan 2006 13:40:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 05:40:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 05:40:32 -0800
Received: from [59.93.69.20] (helo=[59.93.69.20])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1EwgCu3UC0-0003c2; Wed, 11 Jan 2006 08:40:11 -0500
Message-ID: <43C50A0F.2090703@insideview.com>
Date: Wed, 11 Jan 2006 19:07:19 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: highlighting phrases
References: <43C2A89A.90407@insideview.com> <937BBB6C-3363-4646-BD9D-7ED62C8B9B4A@ehatchersolutions.com>
In-Reply-To: <937BBB6C-3363-4646-BD9D-7ED62C8B9B4A@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik,

I had a look at the SpansExtractor class by Mark, that can convert any
Query to spans. But I think ultimately the analyzer that is used to
convert the text in to TokenStream is what is more important. I am using
the StandardAnalyzer and it seems to return a stream of Tokens where
each token is single word with some positional information. But I want
some words(company name which I can read from an external file) not to
be broken in to separate tokens. So what I need to work on first, is a
custom analyzer. Are there any such existing Analyzer implementations
available?

Thanks,
Harini

Erik Hatcher wrote:

>
> On Jan 9, 2006, at 1:16 PM, Harini Raghavan wrote:
>
>> I am using the highlighter package to highlight my search results.  
>> The query I am passing to the Highlighter is:
>> +(Content:"Apple Computer" Content:"Apple Comp") +(Title:"Apple  
>> Computer" Title:"Apple Comp")
>> But the Highlighter is highlighting even occurances of terms  
>> 'Computer'/'Comp'. Anyone knows how to make sure
>> that only phrases are highlighted, not just the individual terms?
>
>
> This is not currently implemented in the Highlighter in contrib/ 
> highlighter.  Implementing this has been discussed (by converting a  
> Query to a SpanQuery and leveraging its precise range for highlighting).
>
> It would be greatly welcome to have some patches to achieve this  
> level of precise highlighting!
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 13:51:24 2006
Return-Path: <java-user-return-18307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29018 invoked from network); 11 Jan 2006 13:51:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 13:51:23 -0000
Received: (qmail 32532 invoked by uid 500); 11 Jan 2006 13:51:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32507 invoked by uid 500); 11 Jan 2006 13:51:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32496 invoked by uid 99); 11 Jan 2006 13:51:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 05:51:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 05:51:17 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7CAAC13E201A; Wed, 11 Jan 2006 08:50:56 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id B09A413E2005
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 08:50:54 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20060111122325.6774.qmail@web53111.mail.yahoo.com>
References: <20060111122325.6774.qmail@web53111.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <32558B4D-9A9A-442C-9E5F-055B847A2E5E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: BTree
Date: Wed, 11 Jan 2006 08:50:52 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 11, 2006, at 7:23 AM, shailesh kumar wrote:
> Does Lucene use a BTree kind of structure for storing the index  
> (atleast in the memory)  .? or is it just a list. Based on the file  
> format in the index directory ( where in the terms are are  
> lexicographically sorted in one of the files ) I   am not sure if  
> BTree is used. ( Because constructing a Btree from a  
> lexicographicaly sorted list    will be difficult. )

The index structure is documented here:

	http://lucene.apache.org/java/docs/fileformats.html



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 14:11:22 2006
Return-Path: <java-user-return-18308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37823 invoked from network); 11 Jan 2006 14:11:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 14:11:21 -0000
Received: (qmail 64461 invoked by uid 500); 11 Jan 2006 14:11:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64416 invoked by uid 500); 11 Jan 2006 14:11:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64405 invoked by uid 99); 11 Jan 2006 14:11:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 06:11:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 06:11:12 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 36DB713E2005; Wed, 11 Jan 2006 09:10:50 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 22A2213E2005
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 09:10:46 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <43C50A0F.2090703@insideview.com>
References: <43C2A89A.90407@insideview.com> <937BBB6C-3363-4646-BD9D-7ED62C8B9B4A@ehatchersolutions.com> <43C50A0F.2090703@insideview.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3F08422C-895E-47D2-97AC-4C06D6991983@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: highlighting phrases
Date: Wed, 11 Jan 2006 09:10:43 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Harini - you won't find a custom analyzer that does exactly what  
you've described, but building custom analyzers is pretty  
straightforward.  You can learn a lot about it by looking at the  
pieces within Lucene's source code or the examples (and text) from  
Lucene in Action.

Reading from an external file and aggregating tokens shouldn't be too  
difficult.

	Erik


On Jan 11, 2006, at 8:37 AM, Harini Raghavan wrote:

> Hi Erik,
>
> I had a look at the SpansExtractor class by Mark, that can convert any
> Query to spans. But I think ultimately the analyzer that is used to
> convert the text in to TokenStream is what is more important. I am  
> using
> the StandardAnalyzer and it seems to return a stream of Tokens where
> each token is single word with some positional information. But I want
> some words(company name which I can read from an external file) not to
> be broken in to separate tokens. So what I need to work on first, is a
> custom analyzer. Are there any such existing Analyzer implementations
> available?
>
> Thanks,
> Harini
>
> Erik Hatcher wrote:
>
>>
>> On Jan 9, 2006, at 1:16 PM, Harini Raghavan wrote:
>>
>>> I am using the highlighter package to highlight my search  
>>> results.  The query I am passing to the Highlighter is:
>>> +(Content:"Apple Computer" Content:"Apple Comp") +(Title:"Apple   
>>> Computer" Title:"Apple Comp")
>>> But the Highlighter is highlighting even occurances of terms   
>>> 'Computer'/'Comp'. Anyone knows how to make sure
>>> that only phrases are highlighted, not just the individual terms?
>>
>>
>> This is not currently implemented in the Highlighter in contrib/  
>> highlighter.  Implementing this has been discussed (by converting  
>> a  Query to a SpanQuery and leveraging its precise range for  
>> highlighting).
>>
>> It would be greatly welcome to have some patches to achieve this   
>> level of precise highlighting!
>>
>>     Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 14:36:00 2006
Return-Path: <java-user-return-18309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58527 invoked from network); 11 Jan 2006 14:35:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 14:35:59 -0000
Received: (qmail 18389 invoked by uid 500); 11 Jan 2006 14:35:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18357 invoked by uid 500); 11 Jan 2006 14:35:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18346 invoked by uid 99); 11 Jan 2006 14:35:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 06:35:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 06:35:51 -0800
Received: from sleipnir2 (dslb-084-061-028-182.pools.arcor-ip.net [84.61.28.182])
	by basicbox6.server-home.net (Postfix) with ESMTP id BB6F5718856
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 15:35:23 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: RF and IDF
Date: Wed, 11 Jan 2006 15:35:24 +0100
Message-ID: <000001c616bc$43c9a8f0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcYWqzH1FqNFH+4cQyur0LihJ1QEZgAEMYcg
In-Reply-To: <43C4FADF.2030800@syr.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

do you know how the tf und idf values are computed by the default
similarity? I mean the exact mathematical equation.

Thx,

Klaus




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 14:57:34 2006
Return-Path: <java-user-return-18310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73220 invoked from network); 11 Jan 2006 14:57:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 14:57:33 -0000
Received: (qmail 61671 invoked by uid 500); 11 Jan 2006 14:57:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61650 invoked by uid 500); 11 Jan 2006 14:57:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61639 invoked by uid 99); 11 Jan 2006 14:57:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 06:57:27 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.201 as permitted sender)
Received: from [64.233.182.201] (HELO nproxy.gmail.com) (64.233.182.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 06:57:26 -0800
Received: by nproxy.gmail.com with SMTP id l35so104307nfa
        for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 06:57:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CqUETTPmlEuzr6LqKE3eu8oe7LcZ/OMxSJvAYfIw/l3H8ALl4DcRYKlByYtgpkEnqwnJk9iOHh6td/UNUJld3GOUN12WiqjY+jt3kjXdu5XyWHjLxC7fRinczD3YUDSADRvMWyDZxqn3pO8P+EjJl/PecKHegWoLpeTDJSF2yMA=
Received: by 10.48.247.18 with SMTP id u18mr53418nfh;
        Wed, 11 Jan 2006 06:57:05 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Wed, 11 Jan 2006 06:57:04 -0800 (PST)
Message-ID: <c68e39170601110657n2cece253n2a9abe797a47237d@mail.gmail.com>
Date: Wed, 11 Jan 2006 09:57:04 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: RF and IDF
In-Reply-To: <000001c616bc$43c9a8f0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <43C4FADF.2030800@syr.edu>
	 <000001c616bc$43c9a8f0$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/11/06, Klaus <klaus@vommond.de> wrote:
> Hi all,
>
> do you know how the tf und idf values are computed by the default
> similarity? I mean the exact mathematical equation.

Well, here is the default Similarity:

/** Expert: Default scoring implementation. */
public class DefaultSimilarity extends Similarity {
  /** Implemented as <code>1/sqrt(numTerms)</code>. */
  public float lengthNorm(String fieldName, int numTerms) {
    return (float)(1.0 / Math.sqrt(numTerms));
  }

  /** Implemented as <code>1/sqrt(sumOfSquaredWeights)</code>. */
  public float queryNorm(float sumOfSquaredWeights) {
    return (float)(1.0 / Math.sqrt(sumOfSquaredWeights));
  }

  /** Implemented as <code>sqrt(freq)</code>. */
  public float tf(float freq) {
    return (float)Math.sqrt(freq);
  }

  /** Implemented as <code>1 / (distance + 1)</code>. */
  public float sloppyFreq(int distance) {
    return 1.0f / (distance + 1);
  }

  /** Implemented as <code>log(numDocs/(docFreq+1)) + 1</code>. */
  public float idf(int docFreq, int numDocs) {
    return (float)(Math.log(numDocs/(double)(docFreq+1)) + 1.0);
  }

  /** Implemented as <code>overlap / maxOverlap</code>. */
  public float coord(int overlap, int maxOverlap) {
    return overlap / (float)maxOverlap;
  }
}


If you really want to understand how scoring works, I'd suggest also
looking at TermWeight/TermScorer.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 15:47:37 2006
Return-Path: <java-user-return-18311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7429 invoked from network); 11 Jan 2006 15:47:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 15:47:36 -0000
Received: (qmail 91944 invoked by uid 500); 11 Jan 2006 15:47:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91913 invoked by uid 500); 11 Jan 2006 15:47:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91901 invoked by uid 99); 11 Jan 2006 15:47:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 07:47:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 07:47:22 -0800
Received: from sleipnir2 (dslb-084-061-028-182.pools.arcor-ip.net [84.61.28.182])
	by basicbox6.server-home.net (Postfix) with ESMTP id B09FC718869
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 16:46:57 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: AW: RF and IDF
Date: Wed, 11 Jan 2006 16:46:58 +0100
Message-ID: <000c01c616c6$41eaa430$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcYWv16zpT8QPcDXQrSBvJ5SEgX/uAABsvHA
In-Reply-To: <c68e39170601110657n2cece253n2a9abe797a47237d@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thx, but where can I find this classes?

>If you really want to understand how scoring works, I'd suggest also
>looking at TermWeight/TermScorer.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 15:50:15 2006
Return-Path: <java-user-return-18312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10361 invoked from network); 11 Jan 2006 15:50:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 15:50:14 -0000
Received: (qmail 99841 invoked by uid 500); 11 Jan 2006 15:50:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99820 invoked by uid 500); 11 Jan 2006 15:50:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99809 invoked by uid 99); 11 Jan 2006 15:50:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 07:50:06 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.222.0.30] (HELO smtpout.eastlink.ca) (24.222.0.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 07:50:04 -0800
Received: from ip01.eastlink.ca ([24.222.10.5])
 by mta01.eastlink.ca (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ISX0076LQM77OY1@mta01.eastlink.ca> for
 java-user@lucene.apache.org; Wed, 11 Jan 2006 11:49:19 -0400 (AST)
Received: from blk-224-233-28.eastlink.ca (HELO starlet) ([24.224.233.28])
 by ip01.eastlink.ca with SMTP; Wed, 11 Jan 2006 11:46:24 -0400
Date: Wed, 11 Jan 2006 11:46:15 -0400
From: Chris Brown <chris_b@orangepics.com>
Subject: Re: top n words within a results set?
To: java-user@lucene.apache.org
Message-id: <003a01c616c6$339c6120$0a05a8c0@starlet>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
Content-type: text/plain; format=flowed; charset=iso-8859-1; reply-type=response
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
References: <003301c61539$b8deb4c0$0a05a8c0@starlet> <43C290AC.8030903@syr.edu>
 <003201c616a5$ecb4bac0$0200a8c0@snip> <43C4FADF.2030800@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Bear with me, I might be missing something.... My documents get indexed ( 
writer.addDocument(doc) ) with one IndexWriter created using one Analyzer 
(the SnowballAnalyzer). So unless you can somehow use a different Analyzer 
per field I don't see how the second field will help. If I get the 
TermFreqVector for a field for a document that was indexed using the 
SnowballAnalyzer, isn't it always going to return stemmed words?

To confirm your assumption, I suppose I am trying to display the values of 
the indexed field. It doesn't matter to me whether I count "party" and 
"parties" as separate words or not but I cannot display "parti" to a user as 
it's not a word.

I'm thinking I need a separate index with the field created using the 
StandardAnalyzer unless there's some other trick with mixing Analyzers I'm 
unaware of.

Thanks again for your help,
Chris

----- Original Message ----- 
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <java-user@lucene.apache.org>
Sent: Wednesday, January 11, 2006 8:32 AM
Subject: Re: top n words within a results set?


>I believe the usual solution is to have a separate field on the same 
>document for display purposes (I am assumming you are trying to display the 
>values of the indexed field) that is not stemmed.   The tradeoff is in disk 
>space, of course.
>
> Chris Brown wrote:
>
>> Okay, I've taken Grant's advice and aggregated the TermFreqVector's for
>> each term in the applicable field. It works quite well, there's just one
>> glitch.
>>
>> Some words like "party" and "picture" appear as "parti" and "pictur". I 
>> am
>> using the SnowballAnalyzer, I suspect that's what's changing the words.
>> Short of maintaining a second index using a different analyzer, does 
>> anyone
>> have any ideas?
>>
>> ----- Original Message ----- From: "Grant Ingersoll" <gsingers@syr.edu>
>> To: <java-user@lucene.apache.org>
>> Sent: Monday, January 09, 2006 12:34 PM
>> Subject: Re: top n words within a results set?
>>
>>
>>> You could use term vectors to accomplish this.  Get your hits for the 
>>> website, then load the term vector for the field containing the keywords 
>>> and add up the frequencies
>>>
>>> Chris Brown wrote:
>>>
>>>> Hello,
>>>>
>>>> Is it possible to retrieve the top 'n' most often appearing words 
>>>> within a search criteria? I've seen the High Frequency Terms code in 
>>>> the sandbox but it works across the whole index.
>>>>
>>>> To put this question into context: We're developing website that hosts 
>>>> a user's photo website. Searches can be specific to a particular user's 
>>>> website or be performed globally across one, many or all websites. I've 
>>>> accomplished this with a field in the index called website. What I'd 
>>>> like to do is give each user the top ten words that appear on their 
>>>> website.
>>>> Thanks,
>>>> Chris Brown
>>>>
>>>> http://www.orangepics.com/
>>>>
>>>>
>>>
>>> -- 
>>> ------------------------------------------------------------------- 
>>> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
>>> Processing Syracuse University School of Information Studies 337 Hinds 
>>> Hall Syracuse, NY 13244
>>> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> -- 
> ------------------------------------------------------------------- 
> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
> Processing Syracuse University School of Information Studies 337 Hinds 
> Hall Syracuse, NY 13244
> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 15:59:34 2006
Return-Path: <java-user-return-18313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24978 invoked from network); 11 Jan 2006 15:57:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 15:57:30 -0000
Received: (qmail 23897 invoked by uid 500); 11 Jan 2006 15:56:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18704 invoked by uid 500); 11 Jan 2006 15:55:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13687 invoked by uid 99); 11 Jan 2006 15:54:14 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.182.194 as permitted sender)
Received: from [64.233.182.194] (HELO nproxy.gmail.com) (64.233.182.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 07:54:13 -0800
Received: by nproxy.gmail.com with SMTP id l35so112492nfa
        for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 07:52:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CqBAFCnDqrXxdnGNYawAJDvjx9jKgHGY6PqYRQfdUttPn3Y9WoGkjZUlbo9s+zqGM01FkfDFtJrJ7OAfqyF0mhrPHF1CVXKMpJ+ls6LqsZhnXoCtlP3eIlGOypkybDOKq5uZtW5SG4hgkZSx+caARMBGzLsCzxHblMXG7EfQvg8=
Received: by 10.48.247.18 with SMTP id u18mr58523nfh;
        Wed, 11 Jan 2006 07:52:51 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Wed, 11 Jan 2006 07:52:51 -0800 (PST)
Message-ID: <c68e39170601110752v3f4559ces4d5513b31253c7f8@mail.gmail.com>
Date: Wed, 11 Jan 2006 10:52:51 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: RF and IDF
In-Reply-To: <000c01c616c6$41eaa430$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <c68e39170601110657n2cece253n2a9abe797a47237d@mail.gmail.com>
	 <000c01c616c6$41eaa430$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Click on "Source Repository" off of the main Lucene page.

Here is a pointer to the search package containing TermQuery/Weight/Scorer
http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/luc=
ene/search/?sortby=3Dfile#dirlist

Look in TermQuert for TermWeight (it's an inner class).

-Yonik

On 1/11/06, Klaus <klaus@vommond.de> wrote:
> Thx, but where can I find this classes?
>
> >If you really want to understand how scoring works, I'd suggest also
> >looking at TermWeight/TermScorer.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 16:08:32 2006
Return-Path: <java-user-return-18314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52206 invoked from network); 11 Jan 2006 16:08:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 16:08:14 -0000
Received: (qmail 75473 invoked by uid 500); 11 Jan 2006 16:08:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75450 invoked by uid 500); 11 Jan 2006 16:08:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75439 invoked by uid 99); 11 Jan 2006 16:08:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 08:08:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 08:08:04 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D7E0CC@mailer.syr.edu>; Wed, 11 Jan 2006 11:07:43 -0500
Message-ID: <43C52D4F.7010308@syr.edu>
Date: Wed, 11 Jan 2006 11:07:43 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: top n words within a results set?
References: <003301c61539$b8deb4c0$0a05a8c0@starlet> <43C290AC.8030903@syr.edu> <003201c616a5$ecb4bac0$0200a8c0@snip> <43C4FADF.2030800@syr.edu> <003a01c616c6$339c6120$0a05a8c0@starlet>
In-Reply-To: <003a01c616c6$339c6120$0a05a8c0@starlet>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hey Chris,

There is just such an analyzer, called the PerFieldAnalyzerWrapper.  The 
trick is the Analyzer always passes in the Field name when it gets the 
TokenStream,

-Grant

Chris Brown wrote:

> Bear with me, I might be missing something.... My documents get 
> indexed ( writer.addDocument(doc) ) with one IndexWriter created using 
> one Analyzer (the SnowballAnalyzer). So unless you can somehow use a 
> different Analyzer per field I don't see how the second field will 
> help. If I get the TermFreqVector for a field for a document that was 
> indexed using the SnowballAnalyzer, isn't it always going to return 
> stemmed words?
>
> To confirm your assumption, I suppose I am trying to display the 
> values of the indexed field. It doesn't matter to me whether I count 
> "party" and "parties" as separate words or not but I cannot display 
> "parti" to a user as it's not a word.
>
> I'm thinking I need a separate index with the field created using the 
> StandardAnalyzer unless there's some other trick with mixing Analyzers 
> I'm unaware of.
>
> Thanks again for your help,
> Chris
>
> ----- Original Message ----- From: "Grant Ingersoll" <gsingers@syr.edu>
> To: <java-user@lucene.apache.org>
> Sent: Wednesday, January 11, 2006 8:32 AM
> Subject: Re: top n words within a results set?
>
>
>> I believe the usual solution is to have a separate field on the same 
>> document for display purposes (I am assumming you are trying to 
>> display the values of the indexed field) that is not stemmed.   The 
>> tradeoff is in disk space, of course.
>>
>> Chris Brown wrote:
>>
>>> Okay, I've taken Grant's advice and aggregated the TermFreqVector's for
>>> each term in the applicable field. It works quite well, there's just 
>>> one
>>> glitch.
>>>
>>> Some words like "party" and "picture" appear as "parti" and 
>>> "pictur". I am
>>> using the SnowballAnalyzer, I suspect that's what's changing the words.
>>> Short of maintaining a second index using a different analyzer, does 
>>> anyone
>>> have any ideas?
>>>
>>> ----- Original Message ----- From: "Grant Ingersoll" <gsingers@syr.edu>
>>> To: <java-user@lucene.apache.org>
>>> Sent: Monday, January 09, 2006 12:34 PM
>>> Subject: Re: top n words within a results set?
>>>
>>>
>>>> You could use term vectors to accomplish this.  Get your hits for 
>>>> the website, then load the term vector for the field containing the 
>>>> keywords and add up the frequencies
>>>>
>>>> Chris Brown wrote:
>>>>
>>>>> Hello,
>>>>>
>>>>> Is it possible to retrieve the top 'n' most often appearing words 
>>>>> within a search criteria? I've seen the High Frequency Terms code 
>>>>> in the sandbox but it works across the whole index.
>>>>>
>>>>> To put this question into context: We're developing website that 
>>>>> hosts a user's photo website. Searches can be specific to a 
>>>>> particular user's website or be performed globally across one, 
>>>>> many or all websites. I've accomplished this with a field in the 
>>>>> index called website. What I'd like to do is give each user the 
>>>>> top ten words that appear on their website.
>>>>> Thanks,
>>>>> Chris Brown
>>>>>
>>>>> http://www.orangepics.com/
>>>>>
>>>>>
>>>>
>>>> -- 
>>>> ------------------------------------------------------------------- 
>>>> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
>>>> Processing Syracuse University School of Information Studies 337 
>>>> Hinds Hall Syracuse, NY 13244
>>>> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> -- 
>> ------------------------------------------------------------------- 
>> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
>> Processing Syracuse University School of Information Studies 337 
>> Hinds Hall Syracuse, NY 13244
>> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
337 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 16:38:54 2006
Return-Path: <java-user-return-18315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78627 invoked from network); 11 Jan 2006 16:38:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 16:38:54 -0000
Received: (qmail 81519 invoked by uid 500); 11 Jan 2006 16:38:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81303 invoked by uid 500); 11 Jan 2006 16:38:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81292 invoked by uid 99); 11 Jan 2006 16:38:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 08:38:47 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.222.0.30] (HELO smtpout.eastlink.ca) (24.222.0.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 08:38:45 -0800
Received: from ip02.eastlink.ca ([24.222.10.10])
 by mta01.eastlink.ca (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ISX001F0SWA1LR0@mta01.eastlink.ca> for
 java-user@lucene.apache.org; Wed, 11 Jan 2006 12:38:34 -0400 (AST)
Received: from blk-224-233-28.eastlink.ca (HELO starlet) ([24.224.233.28])
 by ip02.eastlink.ca with SMTP; Wed, 11 Jan 2006 12:38:23 -0400
Date: Wed, 11 Jan 2006 12:38:11 -0400
From: Chris Brown <chris_b@orangepics.com>
Subject: Re: top n words within a results set?
To: java-user@lucene.apache.org
Message-id: <006501c616cd$767c6b50$0a05a8c0@starlet>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
Content-type: text/plain; format=flowed; charset=iso-8859-1; reply-type=response
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
References: <003301c61539$b8deb4c0$0a05a8c0@starlet> <43C290AC.8030903@syr.edu>
 <003201c616a5$ecb4bac0$0200a8c0@snip> <43C4FADF.2030800@syr.edu>
 <003a01c616c6$339c6120$0a05a8c0@starlet> <43C52D4F.7010308@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Excellent!! Thank you so much!

----- Original Message ----- 
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <java-user@lucene.apache.org>
Sent: Wednesday, January 11, 2006 12:07 PM
Subject: Re: top n words within a results set?


> Hey Chris,
>
> There is just such an analyzer, called the PerFieldAnalyzerWrapper.  The 
> trick is the Analyzer always passes in the Field name when it gets the 
> TokenStream,
>
> -Grant
>
> Chris Brown wrote:
>
>> Bear with me, I might be missing something.... My documents get indexed 
>> ( writer.addDocument(doc) ) with one IndexWriter created using one 
>> Analyzer (the SnowballAnalyzer). So unless you can somehow use a 
>> different Analyzer per field I don't see how the second field will help. 
>> If I get the TermFreqVector for a field for a document that was indexed 
>> using the SnowballAnalyzer, isn't it always going to return stemmed 
>> words?
>>
>> To confirm your assumption, I suppose I am trying to display the values 
>> of the indexed field. It doesn't matter to me whether I count "party" and 
>> "parties" as separate words or not but I cannot display "parti" to a user 
>> as it's not a word.
>>
>> I'm thinking I need a separate index with the field created using the 
>> StandardAnalyzer unless there's some other trick with mixing Analyzers 
>> I'm unaware of.
>>
>> Thanks again for your help,
>> Chris
>>
>> ----- Original Message ----- From: "Grant Ingersoll" <gsingers@syr.edu>
>> To: <java-user@lucene.apache.org>
>> Sent: Wednesday, January 11, 2006 8:32 AM
>> Subject: Re: top n words within a results set?
>>
>>
>>> I believe the usual solution is to have a separate field on the same 
>>> document for display purposes (I am assumming you are trying to display 
>>> the values of the indexed field) that is not stemmed.   The tradeoff is 
>>> in disk space, of course.
>>>
>>> Chris Brown wrote:
>>>
>>>> Okay, I've taken Grant's advice and aggregated the TermFreqVector's for
>>>> each term in the applicable field. It works quite well, there's just 
>>>> one
>>>> glitch.
>>>>
>>>> Some words like "party" and "picture" appear as "parti" and "pictur". I 
>>>> am
>>>> using the SnowballAnalyzer, I suspect that's what's changing the words.
>>>> Short of maintaining a second index using a different analyzer, does 
>>>> anyone
>>>> have any ideas?
>>>>
>>>> ----- Original Message ----- From: "Grant Ingersoll" <gsingers@syr.edu>
>>>> To: <java-user@lucene.apache.org>
>>>> Sent: Monday, January 09, 2006 12:34 PM
>>>> Subject: Re: top n words within a results set?
>>>>
>>>>
>>>>> You could use term vectors to accomplish this.  Get your hits for the 
>>>>> website, then load the term vector for the field containing the 
>>>>> keywords and add up the frequencies
>>>>>
>>>>> Chris Brown wrote:
>>>>>
>>>>>> Hello,
>>>>>>
>>>>>> Is it possible to retrieve the top 'n' most often appearing words 
>>>>>> within a search criteria? I've seen the High Frequency Terms code in 
>>>>>> the sandbox but it works across the whole index.
>>>>>>
>>>>>> To put this question into context: We're developing website that 
>>>>>> hosts a user's photo website. Searches can be specific to a 
>>>>>> particular user's website or be performed globally across one, many 
>>>>>> or all websites. I've accomplished this with a field in the index 
>>>>>> called website. What I'd like to do is give each user the top ten 
>>>>>> words that appear on their website.
>>>>>> Thanks,
>>>>>> Chris Brown
>>>>>>
>>>>>> http://www.orangepics.com/
>>>>>>
>>>>>>
>>>>>
>>>>> -- 
>>>>> ------------------------------------------------------------------- 
>>>>> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
>>>>> Processing Syracuse University School of Information Studies 337 Hinds 
>>>>> Hall Syracuse, NY 13244
>>>>> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>>>>>
>>>>> ---------------------------------------------------------------------
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>>> -- 
>>> ------------------------------------------------------------------- 
>>> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
>>> Processing Syracuse University School of Information Studies 337 Hinds 
>>> Hall Syracuse, NY 13244
>>> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> -- 
> ------------------------------------------------------------------- 
> Grant Ingersoll Sr. Software Engineer Center for Natural Language 
> Processing Syracuse University School of Information Studies 337 Hinds 
> Hall Syracuse, NY 13244
> http://www.cnlp.org Voice:  315-443-5484 Fax: 315-443-6886
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 18:11:28 2006
Return-Path: <java-user-return-18316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39588 invoked from network); 11 Jan 2006 18:11:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 18:11:28 -0000
Received: (qmail 1923 invoked by uid 500); 11 Jan 2006 18:11:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1900 invoked by uid 500); 11 Jan 2006 18:11:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1889 invoked by uid 99); 11 Jan 2006 18:11:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 10:11:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.21] (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 10:11:20 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0BIAxfZ006872
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 19:10:59 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
Date: Wed, 11 Jan 2006 19:10:58 +0100
User-Agent: KMail/1.8.2
References: <43C43EAB.3060703@isb-sib.ch> <200601110857.51251.paul.elschot@xs4all.nl> <43C4DF08.2000401@isb-sib.ch>
In-Reply-To: <43C4DF08.2000401@isb-sib.ch>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601111910.58732.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 11 January 2006 11:33, Eric Jain wrote:
> Paul Elschot wrote:
> > One way that might be better is to provide your own Scorer
> > that works on the term positions of the three or more terms.
> > This would be better for performance because it only uses one
> > term positions object per query term (a, b, and c here).
> 
> I'm trying to extract the actual phrases, rather than scoring documents 
> with terms that appear in the same order higher (though that would seem 
> like a good idea, too).
> 
> The idea is that once I have the phrases, I can suggest something like 
> "show only matches where a and b appear next to each other". Not terribly 
> important, but if there was a simple and efficient way to accomplish this...

If you can express each phrase as a SpanNearQuery, the occurrences
of the phrases can be easily obtained by iterating over the result of
getSpans() on SpanNearQuery.
It's not as efficient as a specialized PhraseQuery, though.

Regards,
Paul Elschot.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 18:30:41 2006
Return-Path: <java-user-return-18317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50053 invoked from network); 11 Jan 2006 18:30:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 18:30:40 -0000
Received: (qmail 48751 invoked by uid 500); 11 Jan 2006 18:30:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48731 invoked by uid 500); 11 Jan 2006 18:30:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48720 invoked by uid 99); 11 Jan 2006 18:30:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 10:30:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 10:30:33 -0800
Received: from sleipnir2 (dslb-084-061-028-182.pools.arcor-ip.net [84.61.28.182])
	by basicbox6.server-home.net (Postfix) with ESMTP id 9F32F7189F4
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 19:30:05 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: Boolean Query
Date: Wed, 11 Jan 2006 19:30:06 +0100
Message-ID: <000001c616dd$0cec3cf0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcYWqzH1FqNFH+4cQyur0LihJ1QEZgAEMYcgAAecJMA=
In-Reply-To: <000001c616bc$43c9a8f0$6402a8c0@sleipnir2>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have got another question... How do I construct a BooleanQuery, where the
terms with the query a connected with OR? 

I have a list of term, representing to high scored terms in a document. Here
is my code

BooleanQuery query = new BooleanQuery();
for(Term t: terms)
{
	query = new TermQuery(t);
	query.add(t, false, false); // ist his wrong?	  
}

If I construct the query as a string like "A a OR B b OR C" I get much more
results. I assume that the Boolean query uses an AND operator. How can I
change that. 

And I'm wondering what happens if I boost a TermQuery with a value smaller
then one. I'm asking because I would like to boost each TermQuery with the
td*idf Value of the term in the original document. From my point of view,
this should lead to a better precision, but on the first looks the results
are worse.

THX,

Klaus



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 19:02:49 2006
Return-Path: <java-user-return-18318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68925 invoked from network); 11 Jan 2006 19:02:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 19:02:48 -0000
Received: (qmail 31609 invoked by uid 500); 11 Jan 2006 19:02:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31544 invoked by uid 500); 11 Jan 2006 19:02:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31489 invoked by uid 99); 11 Jan 2006 19:02:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 11:02:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 11:02:29 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id DC4BC5B77F; Wed, 11 Jan 2006 11:02:08 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D9BF47F459
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 11:02:08 -0800 (PST)
Date: Wed, 11 Jan 2006 11:02:08 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
In-Reply-To: <200601111910.58732.paul.elschot@xs4all.nl>
Message-ID: <Pine.LNX.4.58.0601111055220.16347@hal.rescomp.berkeley.edu>
References: <43C43EAB.3060703@isb-sib.ch> <200601110857.51251.paul.elschot@xs4all.nl>
 <43C4DF08.2000401@isb-sib.ch> <200601111910.58732.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: If you can express each phrase as a SpanNearQuery, the occurrences
: of the phrases can be easily obtained by iterating over the result of
: getSpans() on SpanNearQuery.
: It's not as efficient as a specialized PhraseQuery, though.

I think you are missunderstanding his goal.

(Assuming *I* understand it) what he's talking baout, is the ability for
his search GUI to display suggested phrase searches you may want to try
which consist of the words you just typed in grouped into phrases.

For example, if a user types in...
	Lucene Erik Otis

...he will do a Boolean OR search on those words, and not suggest any
phrases, if the user types in...
	Lucene Erik Otis Hatcher

...he will again do a boolean search on the individual words, but he
wants to be able to suggest the more restrictive search consisisting of a
phrase he found with the words "Erik" and "Hatcher"
	"Erik Hatcher" Otis Lucene

...but he doesn't want to suggest searching on phrases like "Erik Otis" or
"Otis Lucene" unless those phrases actually appear in some documents.

Presumably, if multiple phrases in the source data can be found in the
permutations of hte search words, the least common are the ones you'd want
to sugggest -- which makes the problem a sort of SIP problem (ie: given an
extremely limited set of words, find the Statistically imporbably phrases
in the corpus made using only subsets of those words)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 19:55:23 2006
Return-Path: <java-user-return-18319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18538 invoked from network); 11 Jan 2006 19:55:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 19:55:23 -0000
Received: (qmail 75829 invoked by uid 500); 11 Jan 2006 19:55:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75727 invoked by uid 500); 11 Jan 2006 19:55:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75691 invoked by uid 99); 11 Jan 2006 19:55:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 11:55:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 11:55:06 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2ACC25B76C; Wed, 11 Jan 2006 11:54:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1F5127F459
	for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 11:54:47 -0800 (PST)
Date: Wed, 11 Jan 2006 11:54:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Boolean Query
In-Reply-To: <000001c616dd$0cec3cf0$6402a8c0@sleipnir2>
Message-ID: <Pine.LNX.4.58.0601111147270.16999@hal.rescomp.berkeley.edu>
References: <000001c616dd$0cec3cf0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: BooleanQuery query = new BooleanQuery();
: for(Term t: terms)
: {
: 	query = new TermQuery(t);
: 	query.add(t, false, false); // ist his wrong?
: }
:
: If I construct the query as a string like "A a OR B b OR C" I get much more
: results. I assume that the Boolean query uses an AND operator. How can I
: change that.

The "false, false" on when you add the subclauses should be doing the "OR"
behavior, but more then likely the problem you are running into has to do
with the analyzer being used by your QueryParser when it parses your
string -- when you build the query up by hand, no analyzer is used, so if
the analyzer used at indexing time did any lowercasing or steming you'll
miss a lot of matches.

a quick thing you should try is comparing the toString from each of the
queries you are comparing (the one QueryParser built, and the one you
built by hand).  You should also look at this wiki entry, and pick up a
copy of Lucene in Action and read chapter 4.

: And I'm wondering what happens if I boost a TermQuery with a value smaller
: then one. I'm asking because I would like to boost each TermQuery with the
: td*idf Value of the term in the original document. From my point of view,
: this should lead to a better precision, but on the first looks the results
: are worse.

Before you try this, make sure you understand the existing score
claculation ... look a the explain info for each document against your
query and see what it's already doing.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 11 23:08:19 2006
Return-Path: <java-user-return-18320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31595 invoked from network); 11 Jan 2006 23:08:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Jan 2006 23:08:09 -0000
Received: (qmail 67682 invoked by uid 500); 11 Jan 2006 23:07:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67576 invoked by uid 500); 11 Jan 2006 23:07:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67518 invoked by uid 99); 11 Jan 2006 23:07:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 15:07:56 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.197 as permitted sender)
Received: from [64.233.182.197] (HELO nproxy.gmail.com) (64.233.182.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 15:07:54 -0800
Received: by nproxy.gmail.com with SMTP id l35so166950nfa
        for <java-user@lucene.apache.org>; Wed, 11 Jan 2006 15:07:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=AIY+1rQVxaSVmoPh7X9nD262WYzc8cne4XLdDERxiXhQoQmCrvaTrvXVg4jLzWpL0BBldFOCX+IASePnBLFi3Efowryi3q2tk2HERxdjHvfAiKVONKy0segxrtrVshWv3j0fVrjCH58JGaodcXsxdh6dcMOVLPh4zx+WSXZ5IS0=
Received: by 10.48.209.7 with SMTP id h7mr5793nfg;
        Tue, 10 Jan 2006 15:17:09 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Tue, 10 Jan 2006 15:17:09 -0800 (PST)
Message-ID: <c68e39170601101517x274749f0y3278a00810f57770@mail.gmail.com>
Date: Tue, 10 Jan 2006 18:17:09 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
In-Reply-To: <43C43EAB.3060703@isb-sib.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <43C43EAB.3060703@isb-sib.ch>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A phrase query with slop scores matching documents higher when the
terms are closer together.

"a b c"~10000

-Yonik

On 1/10/06, Eric Jain <Eric.Jain@isb-sib.ch> wrote:
> Is there an efficient way to determine if two or more terms frequently
> appear next to each other sequence? For a query like:
>
> a b c
>
> one or more of the following suggestions could be generated:
>
> "a b c"
> "a b" c
> a "b c"
>
> I could of course just run a search with all possible combinations, but
> perhaps there is a better way?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 01:37:58 2006
Return-Path: <java-user-return-18321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94339 invoked from network); 12 Jan 2006 01:37:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 01:37:57 -0000
Received: (qmail 85434 invoked by uid 500); 12 Jan 2006 01:37:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85406 invoked by uid 500); 12 Jan 2006 01:37:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85395 invoked by uid 99); 12 Jan 2006 01:37:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 17:37:51 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.69] (HELO web33005.mail.mud.yahoo.com) (68.142.206.69)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jan 2006 17:37:49 -0800
Received: (qmail 59572 invoked by uid 60001); 12 Jan 2006 01:37:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=bHhtlKR4JHRwEB+1ok4uycfxtbq4DaOh/ygmhCbUp0m2Ip1JXh9OqDHzZTaOVqepeVeLohja8lVXXysuJuW7TUJd0triA0ezby75Ug1n/nScrdq40Mvw6LVlHhFwrh/J1Z5GI4m9SQB+QJsf7XBiemRBRTHfs3n+Hxuoq1cV/OU=  ;
Message-ID: <20060112013725.59570.qmail@web33005.mail.mud.yahoo.com>
Received: from [63.237.220.2] by web33005.mail.mud.yahoo.com via HTTP; Wed, 11 Jan 2006 17:37:25 PST
Date: Wed, 11 Jan 2006 17:37:25 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Cache index in RAMDirectory and evict
To: java-user@lucene.apache.org
Cc: Kan Deng <kan.deng@yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, there, 

In "Lucene in action", it mentions in Section 3.2.3
"reading indexes into memory" that, 

"...RAMDirectory's constructor can be used to read a
file system-based index into memory, allowing the
application that accesses it to benefit from the
superior speed of the RAM:

   RAMDirectory ramDir = new RAMDirectory(dir)"

Some questions here need help,

1. Suppose the content in the FSDirectory index is
read-only, but since it is so big that it exceeds the
capacity of the JVM heap space. When constructing a
RAMDirectory to cache the entire FSDirectory, will it
blow the JVM?

2. How to cache into the RAMDirectory with the most
frequently used index parts from the FSDirectory?

   The purpose is that to serve search query, first of
all, search it in the RAMDirectory, if missed, goto
FSDirectory. 

   My question is how to implement this
RAMDirectory-based cache. I assume it takes 3 steps.
Is it an appropriate workflow?

   a) Search in the RAMDirectory. 
   b) If missed, search in the FSDirectory
   c) Add the documents from the FSDirectory to
RAMDirectory, 
      and remove some less frequently used document
from the RAMDirectory to save memory consumption. 


3. To make the cache mechanism more powerful, we can
count the frequency of the usage of every document in
the RAMDirectory, and evict those less frequently used
documents. 

   How to implement the eviction? In details, is it
good enough by counting the usage of each documents in
the index, and delete those documents not used very
often? Any better idea?


thanks,
Kan


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 03:31:24 2006
Return-Path: <java-user-return-18322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53563 invoked from network); 12 Jan 2006 03:31:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 03:31:24 -0000
Received: (qmail 14289 invoked by uid 500); 12 Jan 2006 03:31:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14239 invoked by uid 500); 12 Jan 2006 03:31:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14206 invoked by uid 99); 12 Jan 2006 03:31:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 19:31:17 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jan 2006 19:31:16 -0800
Received: (qmail 4304 invoked by uid 60001); 12 Jan 2006 03:30:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=U6c8pH5Hvs9kMLHq5wytQMRYB2xIEHkfR4CKOip1q6v98bT9/Tr1OlCcpmTlYccwGfpSjr09boe92Eb1DJfOaRGwb6mPu+yo4lMgez2NvpifXBz95oMzZukbJIlQweRYDDi9Dgj2if1DD2M6zin5k6yNGp2WoHbwPAzd61uGFG0=  ;
Message-ID: <20060112033055.4302.qmail@web50306.mail.yahoo.com>
Date: Wed, 11 Jan 2006 19:30:55 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Cache index in RAMDirectory and evict
To: java-user@lucene.apache.org
In-Reply-To: <20060112013725.59570.qmail@web33005.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Kan,

Some (all?) of what you described will typically be handled for you by the file system.  Yes, the JVM would blow up with a OOM error if the index is too big to fit in RAM.

Otis

----- Original Message ----
From: Kan Deng <kan.deng@yahoo.com>
To: java-user@lucene.apache.org
Cc: Kan Deng <kan.deng@yahoo.com>
Sent: Wed 11 Jan 2006 08:37:25 PM EST
Subject: Cache index in RAMDirectory and evict

Hi, there, 

In "Lucene in action", it mentions in Section 3.2.3
"reading indexes into memory" that, 

"...RAMDirectory's constructor can be used to read a
file system-based index into memory, allowing the
application that accesses it to benefit from the
superior speed of the RAM:

   RAMDirectory ramDir = new RAMDirectory(dir)"

Some questions here need help,

1. Suppose the content in the FSDirectory index is
read-only, but since it is so big that it exceeds the
capacity of the JVM heap space. When constructing a
RAMDirectory to cache the entire FSDirectory, will it
blow the JVM?

2. How to cache into the RAMDirectory with the most
frequently used index parts from the FSDirectory?

   The purpose is that to serve search query, first of
all, search it in the RAMDirectory, if missed, goto
FSDirectory. 

   My question is how to implement this
RAMDirectory-based cache. I assume it takes 3 steps.
Is it an appropriate workflow?

   a) Search in the RAMDirectory. 
   b) If missed, search in the FSDirectory
   c) Add the documents from the FSDirectory to
RAMDirectory, 
      and remove some less frequently used document
from the RAMDirectory to save memory consumption. 


3. To make the cache mechanism more powerful, we can
count the frequency of the usage of every document in
the RAMDirectory, and evict those less frequently used
documents. 

   How to implement the eviction? In details, is it
good enough by counting the usage of each documents in
the index, and delete those documents not used very
often? Any better idea?


thanks,
Kan


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 04:47:41 2006
Return-Path: <java-user-return-18323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82107 invoked from network); 12 Jan 2006 04:47:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 04:47:41 -0000
Received: (qmail 87671 invoked by uid 500); 12 Jan 2006 04:47:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87639 invoked by uid 500); 12 Jan 2006 04:47:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87628 invoked by uid 99); 12 Jan 2006 04:47:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 20:47:35 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.59] (HELO web53109.mail.yahoo.com) (206.190.49.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jan 2006 20:47:34 -0800
Received: (qmail 49004 invoked by uid 60001); 12 Jan 2006 04:47:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=LERvIuBtsR3D3QC/bcGc3u5mhebVJxW+R9kaWnzXVNHHBNvo91BRw8y19Acxz0EMSWOUpOp5cKSJ+VPVWXNNsNhDBUZVfyZjLYTU29Xnv4ODRlpcIkIsx75WxtPUxDOnWLUe74jCRfDSqyPaFVucLCMCLylFDylJk7YvrCR9S2c=  ;
Message-ID: <20060112044713.49002.qmail@web53109.mail.yahoo.com>
Received: from [203.199.211.113] by web53109.mail.yahoo.com via HTTP; Wed, 11 Jan 2006 20:47:13 PST
Date: Wed, 11 Jan 2006 20:47:13 -0800 (PST)
From: shailesh kumar <shailesh1992@yahoo.com>
Subject: Re: BTree
To: java-user@lucene.apache.org
In-Reply-To: <32558B4D-9A9A-442C-9E5F-055B847A2E5E@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-52525452-1137041233=:48479"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-52525452-1137041233=:48479
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I had   looked at the document you had listed as well as used a  Hex editor to look at the segment files. .That is how I came to know about the lexicographic sorting. But was not sure if BTree is used.  If I understand correctly a Binary tree  (i.e each node only  2 children) or  a high order Balanced tree (where in a range of values are stored in the node and each node can have more than 2 children)  is the best way to search.
  So wantted to know if Lucene implements it that way  ( if not in the data storage of the index in the file, atleast in the memory during lookups??)
  
  Shailesh
 

 


		
---------------------------------
Yahoo! Photos
 Ring in the New Year with Photo Calendars. Add photos, events, holidays, whatever.
--0-52525452-1137041233=:48479--

From java-user-return-18324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 05:59:34 2006
Return-Path: <java-user-return-18324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19524 invoked from network); 12 Jan 2006 05:59:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 05:59:34 -0000
Received: (qmail 64756 invoked by uid 500); 12 Jan 2006 05:59:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64726 invoked by uid 500); 12 Jan 2006 05:59:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64715 invoked by uid 99); 12 Jan 2006 05:59:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 21:59:28 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jan 2006 21:59:27 -0800
Received: (qmail 56475 invoked by uid 60001); 12 Jan 2006 05:59:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=U04vW5U8U2rD/aAwNK0mhO8R4uBCN9eNTCer2MSg5aCG1LqB5W2lca40nEjxQGRfybihRfUzvdeUPBBXqyXvdD1+JIZEYUktMxWszyQI8K5RxkM4hZhugpb7QOgRXMQowYLAhwLlaVqrgc/RAnLOc8RTnfq/7nqr1ptT254AsAQ=  ;
Message-ID: <20060112055906.56473.qmail@web50306.mail.yahoo.com>
Date: Wed, 11 Jan 2006 21:59:06 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: BarCampNYC: Lucene presentations
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

For those in or near New York, this coming weekend there will be a geeky event called BarCampNYC:
  http://barcamp.org/index.cgi?BarCampNYC

A few people will be presenting Lucene, Ferret, and related stuff.
I'll be giving away a few copies of Lucene in Action and also presenting Simpy at http://www.simpy.com

Some Lucene people here might be interested.

Otis



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 07:14:56 2006
Return-Path: <java-user-return-18325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53774 invoked from network); 12 Jan 2006 07:14:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 07:14:55 -0000
Received: (qmail 64191 invoked by uid 500); 12 Jan 2006 07:14:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64027 invoked by uid 500); 12 Jan 2006 07:14:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64009 invoked by uid 99); 12 Jan 2006 07:14:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Jan 2006 23:14:49 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.55] (HELO web50301.mail.yahoo.com) (206.190.38.55)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 11 Jan 2006 23:14:48 -0800
Received: (qmail 80338 invoked by uid 60001); 12 Jan 2006 07:14:27 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=MZU8S9rMjj9jIv3q11ak+Hltg+G4O25lwwIXum1Y4av/yIAVKbDsurup4jM5hGGYtlJJELMO7+naBASP/2wM9fkIbEKGrk3a0PcVBhUFRcGzO7LCvgo9ly0HCjldV4jmKrc0CR0MfUF+eMb2V82xi6+jgHw9a5dnXYuSy5k+MWk=  ;
Message-ID: <20060112071427.80336.qmail@web50301.mail.yahoo.com>
Date: Wed, 11 Jan 2006 23:14:27 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to check, whether Index is optimized or not?
To: java-user@lucene.apache.org
In-Reply-To: <602006125687.20060111152627@osua.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I don't think we have a public API for that, but the index is considered optimized when it contains only a single segment.
Then, we could add the following to IndexReader:

public boolean isOptimized() {
  return segmentInfos.size() == 1;
}

I think that should do it.

Otis


----- Original Message ----
From: Maxim Patramanskij <max@osua.de>
To: lucene-user@jakarta.apache.org
Sent: Wed 11 Jan 2006 08:26:27 AM EST
Subject: How to check, whether Index is optimized or not?

Hello dear Lucene users!

Is their an easy way to check, whether index is optimized or not?


Best regards,
 Max


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 08:19:21 2006
Return-Path: <java-user-return-18326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85403 invoked from network); 12 Jan 2006 08:19:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 08:19:04 -0000
Received: (qmail 53862 invoked by uid 500); 12 Jan 2006 08:18:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53838 invoked by uid 500); 12 Jan 2006 08:18:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53823 invoked by uid 99); 12 Jan 2006 08:18:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 00:18:51 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.78] (HELO web33014.mail.mud.yahoo.com) (68.142.206.78)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jan 2006 00:18:51 -0800
Received: (qmail 14109 invoked by uid 60001); 12 Jan 2006 08:18:30 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=u3tyRJWo72Ne/PEwKSp8gdGLzo8D4j18cTkBlyK5eaHGUMiHxGzo7aJ0ufzwsjn6jfyNfcFXl7ednK6qx8w4xSbtjvVCVei59d69hTGNimD6zSmqGEeylG9NSax+809+NPC1l73MoFd3fBO6QIGriyv02x221BrMFpiVJZXGj88=  ;
Message-ID: <20060112081830.14107.qmail@web33014.mail.mud.yahoo.com>
Received: from [71.139.118.61] by web33014.mail.mud.yahoo.com via HTTP; Thu, 12 Jan 2006 00:18:30 PST
Date: Thu, 12 Jan 2006 00:18:30 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: Cache index in RAMDirectory and evict
To: java-user@lucene.apache.org, Otis Gospodnetic <otis_gospodnetic@yahoo.com>
In-Reply-To: <20060112033055.4302.qmail@web50306.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Otis. 

Also appreciate your wonderful book, "Lucene in
Action". The book is so well written that it makes me
very curious about the low level design of the system,
in addition to how to use it. 

Back the cache problem, I agree that the native OS
file system can do most of the job for me. However,
there are two issues if we only rely on OS's cache.

1. Performance. 

   Since all the cached disk data resides outside JVM
heap space, the access efficiency from Java object to
those cached data cannot be too high.

2. Volatile.

   Since the OS caches the disk data in a common area
shared by multiple processes, but not only JVM. If
there are other processes doing disk IO at the same
time, chances are the cached Lucene index data from
disk may be wiped. 

Therefore, a more reliable and efficient cache should
reside inside JVM heap space. But due to the crowded
JVM heap space, we have to manually "evict" the less
frequently used data from the cache. 

Did I mis-understand anything?

thanks again, Otis.
Kan




--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:

> Kan,
> 
> Some (all?) of what you described will typically be
> handled for you by the file system.  Yes, the JVM
> would blow up with a OOM error if the index is too
> big to fit in RAM.
> 
> Otis
> 
> ----- Original Message ----
> From: Kan Deng <kan.deng@yahoo.com>
> To: java-user@lucene.apache.org
> Cc: Kan Deng <kan.deng@yahoo.com>
> Sent: Wed 11 Jan 2006 08:37:25 PM EST
> Subject: Cache index in RAMDirectory and evict
> 
> Hi, there, 
> 
> In "Lucene in action", it mentions in Section 3.2.3
> "reading indexes into memory" that, 
> 
> "...RAMDirectory's constructor can be used to read a
> file system-based index into memory, allowing the
> application that accesses it to benefit from the
> superior speed of the RAM:
> 
>    RAMDirectory ramDir = new RAMDirectory(dir)"
> 
> Some questions here need help,
> 
> 1. Suppose the content in the FSDirectory index is
> read-only, but since it is so big that it exceeds
> the
> capacity of the JVM heap space. When constructing a
> RAMDirectory to cache the entire FSDirectory, will
> it
> blow the JVM?
> 
> 2. How to cache into the RAMDirectory with the most
> frequently used index parts from the FSDirectory?
> 
>    The purpose is that to serve search query, first
> of
> all, search it in the RAMDirectory, if missed, goto
> FSDirectory. 
> 
>    My question is how to implement this
> RAMDirectory-based cache. I assume it takes 3 steps.
> Is it an appropriate workflow?
> 
>    a) Search in the RAMDirectory. 
>    b) If missed, search in the FSDirectory
>    c) Add the documents from the FSDirectory to
> RAMDirectory, 
>       and remove some less frequently used document
> from the RAMDirectory to save memory consumption. 
> 
> 
> 3. To make the cache mechanism more powerful, we can
> count the frequency of the usage of every document
> in
> the RAMDirectory, and evict those less frequently
> used
> documents. 
> 
>    How to implement the eviction? In details, is it
> good enough by counting the usage of each documents
> in
> the index, and delete those documents not used very
> often? Any better idea?
> 
> 
> thanks,
> Kan
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam
> protection around 
> http://mail.yahoo.com 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 08:27:07 2006
Return-Path: <java-user-return-18327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91299 invoked from network); 12 Jan 2006 08:27:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 08:27:07 -0000
Received: (qmail 69668 invoked by uid 500); 12 Jan 2006 08:27:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69560 invoked by uid 500); 12 Jan 2006 08:27:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69549 invoked by uid 99); 12 Jan 2006 08:27:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 00:27:00 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.69] (HELO web33005.mail.mud.yahoo.com) (68.142.206.69)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jan 2006 00:26:58 -0800
Received: (qmail 42007 invoked by uid 60001); 12 Jan 2006 08:26:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=zVosEtW2K8c4QNZqfzG+/kzX/JD2e8DujGsZnChfjDOHfZWzfOrziFY/Xs1Py0ohBKIwU7GGSAqfuUxz7+ryQPiTQ9BpDajTjxZfthU5Vo4stxj9u620rhVRIUdJGXquC+sDb7+nhSS2pJCSQ6+Nukj8XgVi+p7/CCjMZQYMEvc=  ;
Message-ID: <20060112082637.42005.qmail@web33005.mail.mud.yahoo.com>
Received: from [71.139.118.61] by web33005.mail.mud.yahoo.com via HTTP; Thu, 12 Jan 2006 00:26:37 PST
Date: Thu, 12 Jan 2006 00:26:37 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: BTree
To: java-user@lucene.apache.org
In-Reply-To: <20060112044713.49002.qmail@web53109.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I have similar problem about the internal indexing
data structure

According to Paolo Ferragina of Univ Pisa, B+tree with
cluster is best for sorting. However, referring to the
implementation of
org.apache.lucene.search.IndexSearch, it looks like
the impl doesn't take B+tree, never mention cluster. 

Can anyone explain this issue in more depth?

thanks,
Kan



--- shailesh kumar <shailesh1992@yahoo.com> wrote:

> I had   looked at the document you had listed as
> well as used a  Hex editor to look at the segment
> files. .That is how I came to know about the
> lexicographic sorting. But was not sure if BTree is
> used.  If I understand correctly a Binary tree  (i.e
> each node only  2 children) or  a high order
> Balanced tree (where in a range of values are stored
> in the node and each node can have more than 2
> children)  is the best way to search.
>   So wantted to know if Lucene implements it that
> way  ( if not in the data storage of the index in
> the file, atleast in the memory during lookups??)
>   
>   Shailesh
>  
> 
>  
> 
> 
> 		
> ---------------------------------
> Yahoo! Photos
>  Ring in the New Year with Photo Calendars. Add
> photos, events, holidays, whatever.


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 08:27:14 2006
Return-Path: <java-user-return-18328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92126 invoked from network); 12 Jan 2006 08:27:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 08:27:14 -0000
Received: (qmail 70797 invoked by uid 500); 12 Jan 2006 08:27:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70772 invoked by uid 500); 12 Jan 2006 08:27:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70755 invoked by uid 99); 12 Jan 2006 08:27:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 00:27:07 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of davekor@gmail.com designates 64.233.184.196 as permitted sender)
Received: from [64.233.184.196] (HELO wproxy.gmail.com) (64.233.184.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 00:27:06 -0800
Received: by wproxy.gmail.com with SMTP id i7so314714wra
        for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 00:26:46 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=EOAMApHJ3+R2IZP6zW3tuxixZimre6zxDlBDjhhdKz3vFYglDYgXtOXXVYfuVaWa9GjBBCpkKQ+setU7xNGIZZy9RvXSrsDceUnV2CfdRkfVwgKJUixcFCcGpn9zprLdm5pnoCSPcS1Guba0EiSaKKUuRyT2SHQ7AOyAkG61bDo=
Received: by 10.54.129.9 with SMTP id b9mr3312264wrd;
        Thu, 12 Jan 2006 00:26:46 -0800 (PST)
Received: by 10.54.156.4 with HTTP; Thu, 12 Jan 2006 00:26:46 -0800 (PST)
Message-ID: <901c03930601120026n28411a5am4d761ee6f64a3829@mail.gmail.com>
Date: Thu, 12 Jan 2006 16:26:46 +0800
From: Dave Kor <davekor@gmail.com>
To: java-user@lucene.apache.org, Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to check, whether Index is optimized or not?
In-Reply-To: <20060112071427.80336.qmail@web50301.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <602006125687.20060111152627@osua.de>
	 <20060112071427.80336.qmail@web50301.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Do we need to check if any documents are marked for deletion?

On 1/12/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> I don't think we have a public API for that, but the index is considered =
optimized when it contains only a single segment.
> Then, we could add the following to IndexReader:
>
> public boolean isOptimized() {
>   return segmentInfos.size() =3D=3D 1;
> }
>
> I think that should do it.
>
> Otis
>
>
> ----- Original Message ----
> From: Maxim Patramanskij <max@osua.de>
> To: lucene-user@jakarta.apache.org
> Sent: Wed 11 Jan 2006 08:26:27 AM EST
> Subject: How to check, whether Index is optimized or not?
>
> Hello dear Lucene users!
>
> Is their an easy way to check, whether index is optimized or not?
>
>
> Best regards,
>  Max
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Research Assistant
Center for Information Mining and Extraction
School of Computing
National University of Singapore.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 09:25:13 2006
Return-Path: <java-user-return-18329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39658 invoked from network); 12 Jan 2006 09:25:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 09:25:06 -0000
Received: (qmail 69442 invoked by uid 500); 12 Jan 2006 09:24:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69381 invoked by uid 500); 12 Jan 2006 09:24:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69217 invoked by uid 99); 12 Jan 2006 09:24:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 01:24:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 01:24:27 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k0C9O13b006699
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 10:24:01 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.371 [267.14.17/227]); Thu, 12 Jan 2006 10:24:00 +0100
Message-ID: <43C62030.20508@isb-sib.ch>
Date: Thu, 12 Jan 2006 10:24:00 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
References: <43C43EAB.3060703@isb-sib.ch> <200601110857.51251.paul.elschot@xs4all.nl> <43C4DF08.2000401@isb-sib.ch> <200601111910.58732.paul.elschot@xs4all.nl> <Pine.LNX.4.58.0601111055220.16347@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0601111055220.16347@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:
> (Assuming *I* understand it) what he's talking baout, is the ability for
> his search GUI to display suggested phrase searches you may want to try
> which consist of the words you just typed in grouped into phrases.

Yes, that's precisely what I am talking about. Sorry for being unclear.


> Presumably, if multiple phrases in the source data can be found in the
> permutations of hte search words, the least common are the ones you'd want
> to sugggest -- which makes the problem a sort of SIP problem (ie: given an
> extremely limited set of words, find the Statistically imporbably phrases
> in the corpus made using only subsets of those words)

I'd already be happy to get *any* phrases :-)

If the phrases could be ranked, I might prefer to pick the *most frequent* 
phrases. For example:

   anopheles anopheles malaria

("anopheles anopheles" is the latin name for the common mosquito)

I'd like to be able to suggest quoting this name to eliminate all the other 
mosquito species that also contain "anopheles" in their name.

There are lots of documents with "anopheles anopheles". There may also be a 
document or two where "anopheles" happens to appear next to "malaria", but 
these are less interesting here.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 09:31:08 2006
Return-Path: <java-user-return-18330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43308 invoked from network); 12 Jan 2006 09:31:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 09:31:08 -0000
Received: (qmail 83115 invoked by uid 500); 12 Jan 2006 09:31:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83095 invoked by uid 500); 12 Jan 2006 09:31:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83084 invoked by uid 99); 12 Jan 2006 09:31:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 01:31:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 01:31:00 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 072F213E201D; Thu, 12 Jan 2006 04:30:36 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id DC1F113E2005
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 04:30:19 -0500 (EST)
In-Reply-To: <602006125687.20060111152627@osua.de>
References: <602006125687.20060111152627@osua.de>
Mime-Version: 1.0 (Apple Message framework v746.2)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2EFBA372-5759-46EB-B64D-056CDE94E881@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to check, whether Index is optimized or not?
Date: Thu, 12 Jan 2006 04:30:13 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A fully optimized index has only a single segment.  If you're using  
the non-compound index format you will be able to tell by looking at  
the segments file in the index where only one segment would be  
listed.   There are certainly programatic ways of telling too, but I  
don't have that detail handy at the moment.

	Erik


On Jan 11, 2006, at 8:26 AM, Maxim Patramanskij wrote:

> Hello dear Lucene users!
>
> Is their an easy way to check, whether index is optimized or not?
>
>
> Best regards,
>  Max
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 09:40:29 2006
Return-Path: <java-user-return-18331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50136 invoked from network); 12 Jan 2006 09:40:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 09:40:19 -0000
Received: (qmail 6299 invoked by uid 500); 12 Jan 2006 09:40:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6278 invoked by uid 500); 12 Jan 2006 09:40:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6266 invoked by uid 99); 12 Jan 2006 09:40:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 01:40:11 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jan 2006 01:40:09 -0800
Received: (qmail 98424 invoked by uid 60001); 12 Jan 2006 09:39:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=iJ1vOtbNQpcrJp/nukM3YwrgAoH7QTbP/HlwP6gMEQpdUq1iPhx3o/gYFr03pFVg9R1h5ffz9130XIh7sMtHw1tJtKJEU2hsfu1w7FWcgX5rzOGHdf/IdG7uNF4AglCv90HSu6IOzC6IS5qNqdBQPVV8TmkyUvMOscgEBz3gOrc=  ;
Message-ID: <20060112093948.98420.qmail@web50303.mail.yahoo.com>
Date: Thu, 12 Jan 2006 01:39:48 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to check, whether Index is optimized or not?
To: java-user@lucene.apache.org
In-Reply-To: <901c03930601120026n28411a5am4d761ee6f64a3829@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I don't think so.  It's still a single segment.  Close the reader, and you still have only one segment.  You only have gaps from deleted docs, but I think that doesn't make the index unoptimized, even though optimizing such an index will remove the gaps.
 
 Otis


----- Original Message ----
From: Dave Kor <davekor@gmail.com>
To: java-user@lucene.apache.org; Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Sent: Thu 12 Jan 2006 03:26:46 AM EST
Subject: Re: How to check, whether Index is optimized or not?

Do we need to check if any documents are marked for deletion?

On 1/12/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> I don't think we have a public API for that, but the index is considered optimized when it contains only a single segment.
> Then, we could add the following to IndexReader:
>
> public boolean isOptimized() {
>   return segmentInfos.size() == 1;
> }
>
> I think that should do it.
>
> Otis
>
>
> ----- Original Message ----
> From: Maxim Patramanskij <max@osua.de>
> To: lucene-user@jakarta.apache.org
> Sent: Wed 11 Jan 2006 08:26:27 AM EST
> Subject: How to check, whether Index is optimized or not?
>
> Hello dear Lucene users!
>
> Is their an easy way to check, whether index is optimized or not?
>
>
> Best regards,
>  Max
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Research Assistant
Center for Information Mining and Extraction
School of Computing
National University of Singapore.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 10:18:01 2006
Return-Path: <java-user-return-18332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71266 invoked from network); 12 Jan 2006 10:17:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 10:17:52 -0000
Received: (qmail 60101 invoked by uid 500); 12 Jan 2006 10:17:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60067 invoked by uid 500); 12 Jan 2006 10:17:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60029 invoked by uid 99); 12 Jan 2006 10:17:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 02:17:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 02:17:12 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k0CAGoS12256
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 04:16:50 -0600
Message-ID: <43C62C8E.7050202@getopt.org>
Date: Thu, 12 Jan 2006 11:16:46 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: How to check, whether Index is optimized or not?
References: <20060112071427.80336.qmail@web50301.mail.yahoo.com>
In-Reply-To: <20060112071427.80336.qmail@web50301.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>I don't think we have a public API for that, but the index is considered optimized when it contains only a single segment.
>Then, we could add the following to IndexReader:
>
>public boolean isOptimized() {
>  return segmentInfos.size() == 1;
>}
>
>I think that should do it.
>  
>

Actually, I think you rather need the following:

public boolean isOptimized() {
  return segmentInfos.size() == 1 && !hasDeletions();
}


-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 10:30:51 2006
Return-Path: <java-user-return-18333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76862 invoked from network); 12 Jan 2006 10:30:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 10:30:44 -0000
Received: (qmail 79440 invoked by uid 500); 12 Jan 2006 10:30:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79422 invoked by uid 500); 12 Jan 2006 10:30:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79407 invoked by uid 99); 12 Jan 2006 10:30:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 02:30:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 02:30:21 -0800
Received: from sleipnir2 (dslb-084-061-028-182.pools.arcor-ip.net [84.61.28.182])
	by basicbox6.server-home.net (Postfix) with ESMTP id 2130C718899
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 11:29:58 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: AW: Boolean Query
Date: Thu, 12 Jan 2006 11:29:56 +0100
Message-ID: <000501c61763$22531830$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcYW6Pl0cucLEml7T7yQ3DWEHxlxxQAdLDTAAAFdEoA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
In-Reply-To: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have tried to study to lucene scoring in the default similarity. Can
anyone explain me, how this similarity was designed? I have read a lot =
of IR
literature, but I have never seen an equation like the one used in =
lucene.
Why is this better then the normal cosine-measure?

Thanks,

Klaus


-----Urspr=FCngliche Nachricht-----
Von: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] Im Auftrag von Chris Hostetter
Gesendet: Mittwoch, 11. Januar 2006 20:55
An: java-user@lucene.apache.org
Betreff: Re: Boolean Query

: BooleanQuery query =3D new BooleanQuery();
: for(Term t: terms)
: {
: 	query =3D new TermQuery(t);
: 	query.add(t, false, false); // ist his wrong?
: }
:
: If I construct the query as a string like "A a OR B b OR C" I get much
more
: results. I assume that the Boolean query uses an AND operator. How can =
I
: change that.

The "false, false" on when you add the subclauses should be doing the =
"OR"
behavior, but more then likely the problem you are running into has to =
do
with the analyzer being used by your QueryParser when it parses your
string -- when you build the query up by hand, no analyzer is used, so =
if
the analyzer used at indexing time did any lowercasing or steming you'll
miss a lot of matches.

a quick thing you should try is comparing the toString from each of the
queries you are comparing (the one QueryParser built, and the one you
built by hand).  You should also look at this wiki entry, and pick up a
copy of Lucene in Action and read chapter 4.

: And I'm wondering what happens if I boost a TermQuery with a value =
smaller
: then one. I'm asking because I would like to boost each TermQuery with =
the
: td*idf Value of the term in the original document. From my point of =
view,
: this should lead to a better precision, but on the first looks the =
results
: are worse.

Before you try this, make sure you understand the existing score
claculation ... look a the explain info for each document against your
query and see what it's already doing.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 13:43:32 2006
Return-Path: <java-user-return-18334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81927 invoked from network); 12 Jan 2006 13:43:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 13:43:24 -0000
Received: (qmail 76520 invoked by uid 500); 12 Jan 2006 13:43:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75531 invoked by uid 500); 12 Jan 2006 13:43:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75516 invoked by uid 99); 12 Jan 2006 13:43:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 05:43:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 05:43:12 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11/8.12.11) with ESMTP id k0CDgpgq002542
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 13:42:51 GMT
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11/8.12.11/Submit) with ESMTP id k0CDgowh002540
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 13:42:51 GMT
Received: from [192.168.0.22] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.0.168)
    via ESMTP; Thu, 12 Jan 2006 13:42:50 +0000 (GMT)
Date: Thu, 12 Jan 2006 13:42:49 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <43C65CD9.2060802@scalix.com>
In-Reply-To: <20060112081830.14107.qmail@web33014.mail.mud.yahoo.com>
References: <20060112081830.14107.qmail@web33014.mail.mud.yahoo.com>
Subject: Re: Cache index in RAMDirectory and evict
x-scalix-Hops: 1
User-Agent: Mozilla Thunderbird 1.0.7-1.4.1 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Kan Deng wrote:

>1. Performance. 
>
>   Since all the cached disk data resides outside JVM
>heap space, the access efficiency from Java object to
>those cached data cannot be too high.
>  
>
True, but you need to compare the relative speeds.   If data has to be 
pulled from a file, then you're talking several milliseconds to fetch 
from the disk.  If it's in the OS's cache (and here I'm rather assuming 
Linux since that's what I know about) you're talking about microseconds 
rather than milliseconds to fetch the data from the OS.   Once the data 
is in the JVM, but not in the CPU cache, then you're down to nanosecods 
to get the data from main memory (how many depends on the hardware; some 
platforms take a while to get the data moving but when it comes, it's 
very quick; some systems are fast to get going but don't have the 
throughput).   It's not the absolute times that are important though: 
once you've got the data in the OS's cache then things like network 
latency, display update speed and scheduling overheads begin to make 
themselves felt and you won't make these any less by getting data into 
the JVM's memory.   Well, not much anyway.

>2. Volatile.
>
>   Since the OS caches the disk data in a common area
>shared by multiple processes, but not only JVM. If
>there are other processes doing disk IO at the same
>time, chances are the cached Lucene index data from
>disk may be wiped. 
>  
>
What you can do by hanging on to a lot of memory is make the overall 
machine performance worse.  In fact by denying other processes memory, 
you're going to force up the I/O rate and when you do need to go to the 
disk then it'll take much longer -- net result, things run slower.    
Generally speaking, because the OS has a more holistic view of resource 
management, you'll get better overall performance.

>Therefore, a more reliable and efficient cache should
>reside inside JVM heap space. But due to the crowded
>JVM heap space, we have to manually "evict" the less
>frequently used data from the cache. 
>  
>
It's that last sentence that is the critical one.   Yes, you can do your 
own cache management, but how much better are you going to be than the 
OS?    Well, you _can_ be a lot better since you know what you're 
doing.   You can also be a _lot_ worse when you get it wrong.   Choosing 
the right point to flush data from the cache ("evict") is not all that 
straightforward: the OS buffer cache was introduced into BSD unix in the 
early '80s and we're still seeing work going on to improve the basic 
strategy 20-odd years later.

If you find that you're spending an inordinate amount of time waiting 
for I/O for the index from the OS, then that it the time to start 
looking at caching strategies.   My own feeling is that you're going to 
find easier things to fix before you get that far.

>Did I mis-understand anything?
>  
>
Probably not, it's just that performance is more of an holistic approach 
and an obvious, isolated, change isn't going to have the effect that you 
want.

jch


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 15:25:41 2006
Return-Path: <java-user-return-18335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58662 invoked from network); 12 Jan 2006 15:25:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 15:25:41 -0000
Received: (qmail 9047 invoked by uid 500); 12 Jan 2006 15:25:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8090 invoked by uid 500); 12 Jan 2006 15:25:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8079 invoked by uid 99); 12 Jan 2006 15:25:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 07:25:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.196 as permitted sender)
Received: from [66.249.82.196] (HELO xproxy.gmail.com) (66.249.82.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 07:25:34 -0800
Received: by xproxy.gmail.com with SMTP id i28so281149wxd
        for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 07:25:13 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=IRcyIJq38mvbeeMfiaL4d7DnbEWyxcex2uUloh6fWe8mjK8SILfnZ/jVMXvkRWJPSweaAouR/xF71izdbwYGxWmyx+FhXdioLR18HTVMn/OAXl6V7rKVxrgs/Gu5WL1Muk2QljeFim96vZ2+yv/Bda1QXWCLc8PFQyfxgbMYT8g=
Received: by 10.70.12.6 with SMTP id 6mr2492091wxl;
        Thu, 12 Jan 2006 07:25:13 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Thu, 12 Jan 2006 07:25:13 -0800 (PST)
Message-ID: <277d4c5d0601120725g54b48a4cgcf2c18688bd89537@mail.gmail.com>
Date: Thu, 12 Jan 2006 23:25:13 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: about the wordnet program.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_114655_3286365.1137079513214"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_114655_3286365.1137079513214
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi$B!$(B

i am trying to use the Lucene WordNet program for my application. However, i
got some problems.

When i incorporate these files,  Syns2Index.java, SynLookup.java, and
SynExpand.java, I find some variables are not defined.

For instance, in Syns2Index. java,

        writer.setMergeFactor( writer.getMergeFactor() * 2);  // the
writer.getMergeFactor() is not found in the lucene package.


        writer.setMaxBufferedDocs( writer.getMaxBufferedDocs() * 2); // the
writer.getMaxBufferedDocs() is not found.

also,
   i do not find the definition of the Field.Store.YES,
Field.Index.UN_TOKENIZED in the Field.java.

how can i handler this problem?

regards
Xing

------=_Part_114655_3286365.1137079513214--

From java-user-return-18336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 17:54:08 2006
Return-Path: <java-user-return-18336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53755 invoked from network); 12 Jan 2006 17:54:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 17:54:06 -0000
Received: (qmail 11720 invoked by uid 500); 12 Jan 2006 17:53:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11698 invoked by uid 500); 12 Jan 2006 17:53:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11687 invoked by uid 99); 12 Jan 2006 17:53:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 09:53:57 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 09:53:56 -0800
Received: from pimout3-ext.prodigy.net (pimout3-int.prodigy.net [207.115.4.218])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0CHrVrk024383
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 12:53:32 -0500
X-ORBL: [69.228.214.103]
Received: from [192.168.168.81] (adsl-69-228-214-103.dsl.pltn13.pacbell.net [69.228.214.103])
	by pimout3-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0CHrPGA055034;
	Thu, 12 Jan 2006 12:53:30 -0500
Message-ID: <43C69795.2080206@apache.org>
Date: Thu, 12 Jan 2006 09:53:25 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: AW: Boolean Query
References: <000501c61763$22531830$6402a8c0@sleipnir2>
In-Reply-To: <000501c61763$22531830$6402a8c0@sleipnir2>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Klaus wrote:
> I have tried to study to lucene scoring in the default similarity. Can
> anyone explain me, how this similarity was designed? I have read a lot of IR
> literature, but I have never seen an equation like the one used in lucene.
> Why is this better then the normal cosine-measure?

It degenerates to the normal cosine measure.  So it's the cosine measure 
with a few bells and whistles.

The tf(), idf(), lengthNorm() and queryNorm() are directly from the 
cosine measure, although lengthNorm()'s default implemenation uses an 
approximation.

So the non-standard bits are getBoost(), which permits incorporation of 
a-priori document weights, like PageRank, and coord(), which makes OR's 
more AND-like.  Cosine is OR-based, but, for short queries over large 
collections, AND tends to give better results than OR.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 19:34:00 2006
Return-Path: <java-user-return-18337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6755 invoked from network); 12 Jan 2006 19:34:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 19:34:00 -0000
Received: (qmail 45867 invoked by uid 500); 12 Jan 2006 19:33:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45838 invoked by uid 500); 12 Jan 2006 19:33:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45827 invoked by uid 99); 12 Jan 2006 19:33:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 11:33:51 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.70] (HELO web33006.mail.mud.yahoo.com) (68.142.206.70)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jan 2006 11:33:50 -0800
Received: (qmail 60835 invoked by uid 60001); 12 Jan 2006 19:33:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Fihf71yZkyf49UYgwT8y/lC+obI+1yaPq2FJYYibwpQA0a/CMGHHBQmEFAp3MkcLSiVCMftCcBN2dXM9es873hyeOuMY9OzBLD0FzjsBjmp/NmhvK0JXnZUB9rEEK2x+U+PWqG2nxdDAMjGMT5XfMA+s3GE4yyE/EznJ5GAF83o=  ;
Message-ID: <20060112193328.60833.qmail@web33006.mail.mud.yahoo.com>
Received: from [63.237.220.2] by web33006.mail.mud.yahoo.com via HTTP; Thu, 12 Jan 2006 11:33:28 PST
Date: Thu, 12 Jan 2006 11:33:28 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: Cache index in RAMDirectory and evict
To: java-user@lucene.apache.org, John Haxby <jch@scalix.com>
In-Reply-To: <43C65CD9.2060802@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

John, thanks a lot for your excellent reply. 

Especially, I think this sentence is very convincing, 

> "Well, you _can_ be a lot better since you know what
you're 
> doing. You can also be a _lot_ worse when you get it
wrong.

With such a high risk, probably I should try other
tricks to improve the system performance, before
rushing into the implementation of cache. 

thanks again,
Kan



--- John Haxby <jch@scalix.com> wrote:

> Kan Deng wrote:
> 
> >1. Performance. 
> >
> >   Since all the cached disk data resides outside
> JVM
> >heap space, the access efficiency from Java object
> to
> >those cached data cannot be too high.
> >  
> >
> True, but you need to compare the relative speeds.  
> If data has to be 
> pulled from a file, then you're talking several
> milliseconds to fetch 
> from the disk.  If it's in the OS's cache (and here
> I'm rather assuming 
> Linux since that's what I know about) you're talking
> about microseconds 
> rather than milliseconds to fetch the data from the
> OS.   Once the data 
> is in the JVM, but not in the CPU cache, then you're
> down to nanosecods 
> to get the data from main memory (how many depends
> on the hardware; some 
> platforms take a while to get the data moving but
> when it comes, it's 
> very quick; some systems are fast to get going but
> don't have the 
> throughput).   It's not the absolute times that are
> important though: 
> once you've got the data in the OS's cache then
> things like network 
> latency, display update speed and scheduling
> overheads begin to make 
> themselves felt and you won't make these any less by
> getting data into 
> the JVM's memory.   Well, not much anyway.
> 
> >2. Volatile.
> >
> >   Since the OS caches the disk data in a common
> area
> >shared by multiple processes, but not only JVM. If
> >there are other processes doing disk IO at the same
> >time, chances are the cached Lucene index data from
> >disk may be wiped. 
> >  
> >
> What you can do by hanging on to a lot of memory is
> make the overall 
> machine performance worse.  In fact by denying other
> processes memory, 
> you're going to force up the I/O rate and when you
> do need to go to the 
> disk then it'll take much longer -- net result,
> things run slower.    
> Generally speaking, because the OS has a more
> holistic view of resource 
> management, you'll get better overall performance.
> 
> >Therefore, a more reliable and efficient cache
> should
> >reside inside JVM heap space. But due to the
> crowded
> >JVM heap space, we have to manually "evict" the
> less
> >frequently used data from the cache. 
> >  
> >
> It's that last sentence that is the critical one.  
> Yes, you can do your 
> own cache management, but how much better are you
> going to be than the 
> OS?    Well, you _can_ be a lot better since you
> know what you're 
> doing.   You can also be a _lot_ worse when you get
> it wrong.   Choosing 
> the right point to flush data from the cache
> ("evict") is not all that 
> straightforward: the OS buffer cache was introduced
> into BSD unix in the 
> early '80s and we're still seeing work going on to
> improve the basic 
> strategy 20-odd years later.
> 
> If you find that you're spending an inordinate
> amount of time waiting 
> for I/O for the index from the OS, then that it the
> time to start 
> looking at caching strategies.   My own feeling is
> that you're going to 
> find easier things to fix before you get that far.
> 
> >Did I mis-understand anything?
> >  
> >
> Probably not, it's just that performance is more of
> an holistic approach 
> and an obvious, isolated, change isn't going to have
> the effect that you 
> want.
> 
> jch
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 19:45:56 2006
Return-Path: <java-user-return-18338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14527 invoked from network); 12 Jan 2006 19:45:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 19:45:56 -0000
Received: (qmail 81013 invoked by uid 500); 12 Jan 2006 19:45:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80993 invoked by uid 500); 12 Jan 2006 19:45:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80982 invoked by uid 99); 12 Jan 2006 19:45:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 11:45:49 -0800
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=RCVD_IN_SORBS_WEB,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 11:45:47 -0800
Received: (qmail 15695 invoked from network); 12 Jan 2006 19:45:23 -0000
Received: from unknown (HELO p5496ff57.dip.t-dialin.net) ([pbs]695637@[84.150.255.87])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 12 Jan 2006 19:45:23 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: BTree
Date: Thu, 12 Jan 2006 20:47:28 +0100
User-Agent: KMail/1.8.2
References: <20060112044713.49002.qmail@web53109.mail.yahoo.com>
In-Reply-To: <20060112044713.49002.qmail@web53109.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200601122047.29137@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 12 Januar 2006 05:47, shailesh kumar wrote:

> I had =C2=A0 looked at the document you had listed as well as used a =C2=
=A0Hex
> editor to look at the segment files. .That is how I came to know about
> the lexicographic sorting. But was not sure if BTree is used. =C2=A0If I
> understand correctly a Binary tree =C2=A0(i.e each node only =C2=A02 chil=
dren) or
> =C2=A0a high order Balanced tree (where in a range of values are stored in
> the node and each node can have more than 2 children) =C2=A0is the best w=
ay
> to search.

The list of terms is a list on disk. Every n-th (128th I think) entry is=20
kept in memory as an index to the list on disk. Both lists are sorted to=20
allow binary searching.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 19:56:23 2006
Return-Path: <java-user-return-18339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21685 invoked from network); 12 Jan 2006 19:56:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 19:56:22 -0000
Received: (qmail 32631 invoked by uid 500); 12 Jan 2006 19:56:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32610 invoked by uid 500); 12 Jan 2006 19:56:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32595 invoked by uid 99); 12 Jan 2006 19:56:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 11:56:14 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.76] (HELO web33012.mail.mud.yahoo.com) (68.142.206.76)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jan 2006 11:56:14 -0800
Received: (qmail 50056 invoked by uid 60001); 12 Jan 2006 19:55:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=nJMnvSkeYinUHTvXw1LUOVGtj7ca+gbrcr5KF9DiTFiTRY2kLDwjLQDeLj0sX5mOK8kkXRId0PwJ006teEX3ayrUrQ2+9n9yxmocMI6QTZ7oFKSaa8v9QXUuRTtNgPgantS3IZ+5cdo/CyqE/KSui1c4g6fSOUOIf2OTDGxEjLk=  ;
Message-ID: <20060112195553.50054.qmail@web33012.mail.mud.yahoo.com>
Received: from [63.237.220.2] by web33012.mail.mud.yahoo.com via HTTP; Thu, 12 Jan 2006 11:55:52 PST
Date: Thu, 12 Jan 2006 11:55:52 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: BTree
To: java-user@lucene.apache.org
In-Reply-To: <20060112082637.42005.qmail@web33005.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


After reading into the source code, I think Lucene
doeesn't use B+tree or other tree structure for index.


A possible reason is that, since Lucene aims at
handling gigabytes  , it has to be cautious about the
index file's size. B+tree may grow rapidly when the
number of leaves grows. Hence, B+tree doesn't scale
well with gigabytes data. 

Seems to me Lucene's search is implemented by
"hopping" along the sorted index. 

For example, suppose there is a field "first name"
whose values are the first names of all California
residents. Those values are listed sequentially but
sorted. Given a certain query, the search can start
from the first name, if the first name is smaller than
the query, hop to the 10'th one, if still smaller,
continue hop forward, otherwise, hop back. so on. 

By this, we don't need B+tree. Of course, there are
tricks to improve the hopping algorithm. However, my
doubt is that the search performance may not so
competitive as B+tree. 

Is my understanding correct?

Kan


--- Kan Deng <kan.deng@yahoo.com> wrote:

> 
> I have similar problem about the internal indexing
> data structure
> 
> According to Paolo Ferragina of Univ Pisa, B+tree
> with
> cluster is best for sorting. However, referring to
> the
> implementation of
> org.apache.lucene.search.IndexSearch, it looks like
> the impl doesn't take B+tree, never mention cluster.
> 
> 
> Can anyone explain this issue in more depth?
> 
> thanks,
> Kan
> 
> 
> 
> --- shailesh kumar <shailesh1992@yahoo.com> wrote:
> 
> > I had   looked at the document you had listed as
> > well as used a  Hex editor to look at the segment
> > files. .That is how I came to know about the
> > lexicographic sorting. But was not sure if BTree
> is
> > used.  If I understand correctly a Binary tree 
> (i.e
> > each node only  2 children) or  a high order
> > Balanced tree (where in a range of values are
> stored
> > in the node and each node can have more than 2
> > children)  is the best way to search.
> >   So wantted to know if Lucene implements it that
> > way  ( if not in the data storage of the index in
> > the file, atleast in the memory during lookups??)
> >   
> >   Shailesh
> >  
> > 
> >  
> > 
> > 
> > 		
> > ---------------------------------
> > Yahoo! Photos
> >  Ring in the New Year with Photo Calendars. Add
> > photos, events, holidays, whatever.
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam
> protection around 
> http://mail.yahoo.com 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 19:59:12 2006
Return-Path: <java-user-return-18340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23499 invoked from network); 12 Jan 2006 19:59:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 19:59:10 -0000
Received: (qmail 40212 invoked by uid 500); 12 Jan 2006 19:58:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39941 invoked by uid 500); 12 Jan 2006 19:58:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39845 invoked by uid 99); 12 Jan 2006 19:58:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 11:58:33 -0800
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=RCVD_IN_SORBS_WEB,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 11:58:32 -0800
Received: (qmail 17766 invoked from network); 12 Jan 2006 19:58:10 -0000
Received: from unknown (HELO p5496ff57.dip.t-dialin.net) ([pbs]695637@[84.150.255.87])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 12 Jan 2006 19:58:10 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: about the wordnet program.
Date: Thu, 12 Jan 2006 21:00:16 +0100
User-Agent: KMail/1.8.2
References: <277d4c5d0601120725g54b48a4cgcf2c18688bd89537@mail.gmail.com>
In-Reply-To: <277d4c5d0601120725g54b48a4cgcf2c18688bd89537@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200601122100.16206@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 12 Januar 2006 16:25, jason wrote:

> When i incorporate these files, =C2=A0Syns2Index.java, SynLookup.java, and
> SynExpand.java, I find some variables are not defined.

It depends on Lucene in SVN, some things in the Lucene API have changed=20
since Lucene 1.4. So you need to get the latest development version from=20
SVN.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 20:11:42 2006
Return-Path: <java-user-return-18341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32047 invoked from network); 12 Jan 2006 20:11:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 20:11:42 -0000
Received: (qmail 73529 invoked by uid 500); 12 Jan 2006 20:11:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73503 invoked by uid 500); 12 Jan 2006 20:11:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73492 invoked by uid 99); 12 Jan 2006 20:11:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 12:11:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 12:11:34 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 714235B788; Thu, 12 Jan 2006 12:11:11 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 703A57F459
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 12:11:11 -0800 (PST)
Date: Thu, 12 Jan 2006 12:11:11 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Generating phrase queries from term queries
In-Reply-To: <43C62030.20508@isb-sib.ch>
Message-ID: <Pine.LNX.4.58.0601121207530.1940@hal.rescomp.berkeley.edu>
References: <43C43EAB.3060703@isb-sib.ch> <200601110857.51251.paul.elschot@xs4all.nl>
 <43C4DF08.2000401@isb-sib.ch> <200601111910.58732.paul.elschot@xs4all.nl>
 <Pine.LNX.4.58.0601111055220.16347@hal.rescomp.berkeley.edu>
 <43C62030.20508@isb-sib.ch>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > (Assuming *I* understand it) what he's talking baout, is the ability for
: > his search GUI to display suggested phrase searches you may want to try
: > which consist of the words you just typed in grouped into phrases.
:
: Yes, that's precisely what I am talking about. Sorry for being unclear.

I would start with the most straight forward appraoch: try executing
queries where each permutation of the input is grouped into phrases.
start with the phrases that include the fewest number of words first, that
was if "A B" isnt' a valid phrase, yo know you can skip "A B C".  design
your API so that you can specify a "max time to look" and once that time
has past give up on looking for more phrases.

wants youv'e got that, you might be able to optimize the order that you
test phrases by looking at the TermFreq for each of hte individual words,
and trying the phrases hat include hte most common term first (and the
second most common term second, etc...)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 20:17:34 2006
Return-Path: <java-user-return-18342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35398 invoked from network); 12 Jan 2006 20:17:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 20:17:33 -0000
Received: (qmail 89342 invoked by uid 500); 12 Jan 2006 20:17:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89309 invoked by uid 500); 12 Jan 2006 20:17:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89287 invoked by uid 99); 12 Jan 2006 20:17:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 12:17:22 -0800
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 12:17:21 -0800
Received: from pimout4-ext.prodigy.net (pimout4-int.prodigy.net [207.115.4.203])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0CKGurk008770
	for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 15:16:56 -0500
X-ORBL: [69.228.214.103]
Received: from [192.168.168.81] (adsl-69-228-214-103.dsl.pltn13.pacbell.net [69.228.214.103])
	by pimout4-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0CKGqq4186590;
	Thu, 12 Jan 2006 15:16:55 -0500
Message-ID: <43C6B934.3030500@apache.org>
Date: Thu, 12 Jan 2006 12:16:52 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc3 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: BTree
References: <20060112195553.50054.qmail@web33012.mail.mud.yahoo.com>
In-Reply-To: <20060112195553.50054.qmail@web33012.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

B-Tree's are best for random, incremental updates.  They require 
log_b(N) disk accesses for inserts, deletes and accesses, where b is the 
number of entries per page, and N is the total number of entries in the 
tree.  But that's too slow for text indexing.  Rather Lucene uses a 
combination of file sorting and merging to update indexes, which is much 
faster than a B-tree would be.  For access, Lucene is equivalent to a 
B-Tree with all but the leaves cached in memory, so that accesses 
require only a single disk access.

Slides 5 and 6 of the following presentation discuss this a bit:

http://www.research.ibm.com/haifa/Workshops/ir2005/papers/DougCutting-Haifa05.pdf

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 23:30:42 2006
Return-Path: <java-user-return-18343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37733 invoked from network); 12 Jan 2006 23:30:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 23:30:40 -0000
Received: (qmail 40917 invoked by uid 500); 12 Jan 2006 23:30:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40689 invoked by uid 500); 12 Jan 2006 23:30:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40608 invoked by uid 99); 12 Jan 2006 23:30:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 15:30:28 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.78] (HELO web33014.mail.mud.yahoo.com) (68.142.206.78)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jan 2006 15:30:27 -0800
Received: (qmail 27638 invoked by uid 60001); 12 Jan 2006 23:30:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=VU5quafSpdjpyZ843+MhtF3RM54xXfQJOQg9nA8llTv9ONSBBBXscMOcEWQeN46EjZz0F9CLX1s9h5S9Sa9JcMqRVPuR9EubZaiCxta+CSPo5P/0J3nSBK9x+fzfRbQX46pF/xCRlDrNxHPkOzkiNKSOzj0UFaOZpOC3FemBZ0E=  ;
Message-ID: <20060112233006.27636.qmail@web33014.mail.mud.yahoo.com>
Received: from [63.237.220.2] by web33014.mail.mud.yahoo.com via HTTP; Thu, 12 Jan 2006 15:30:06 PST
Date: Thu, 12 Jan 2006 15:30:06 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: BTree
To: java-user@lucene.apache.org, cutting@apache.org
In-Reply-To: <43C6B934.3030500@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Many thanks, Doug. 

A quick question, which class implements the following
logic? 

  org.apache.lucene.search.IndexSearcher? 

> For access, Lucene is equivalent to a B-Tree 
> with all but the leaves cached in memory, so
> that accesses require only a single disk access.


thanks,
Kan



--- Doug Cutting <cutting@apache.org> wrote:

> B-Tree's are best for random, incremental updates. 
> They require 
> log_b(N) disk accesses for inserts, deletes and
> accesses, where b is the 
> number of entries per page, and N is the total
> number of entries in the 
> tree.  But that's too slow for text indexing. 
> Rather Lucene uses a 
> combination of file sorting and merging to update
> indexes, which is much 
> faster than a B-tree would be.  For access, Lucene
> is equivalent to a 
> B-Tree with all but the leaves cached in memory, so
> that accesses 
> require only a single disk access.
> 
> Slides 5 and 6 of the following presentation discuss
> this a bit:
> 
>
http://www.research.ibm.com/haifa/Workshops/ir2005/papers/DougCutting-Haifa05.pdf
> 
> Doug
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 12 23:50:11 2006
Return-Path: <java-user-return-18344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48769 invoked from network); 12 Jan 2006 23:50:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Jan 2006 23:50:11 -0000
Received: (qmail 74714 invoked by uid 500); 12 Jan 2006 23:50:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74693 invoked by uid 500); 12 Jan 2006 23:50:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74682 invoked by uid 99); 12 Jan 2006 23:50:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 15:50:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.206 as permitted sender)
Received: from [66.249.92.206] (HELO uproxy.gmail.com) (66.249.92.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 15:50:04 -0800
Received: by uproxy.gmail.com with SMTP id e2so64841ugf
        for <java-user@lucene.apache.org>; Thu, 12 Jan 2006 15:49:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Hf1aiAVlyfZpppsDx8PgKJnjG7p/8a1lfsGzupL0GBS+GkXREg6hsIUlOlY2ehZPCFW0seUK5emiWm31aSRYdo08gecwsUmBpNfS5C0NY/448hfH0/Gp+/X++EHWalSXholTD+eEYkHN08STehqo/KMEFAjg1SMcU2JI+pI5PlE=
Received: by 10.49.20.19 with SMTP id x19mr26863nfi;
        Thu, 12 Jan 2006 15:49:39 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Thu, 12 Jan 2006 15:49:39 -0800 (PST)
Message-ID: <c68e39170601121549q5494d53fu5ba49e63572380fd@mail.gmail.com>
Date: Thu, 12 Jan 2006 18:49:39 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: BTree
Cc: cutting@apache.org
In-Reply-To: <20060112233006.27636.qmail@web33014.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <43C6B934.3030500@apache.org>
	 <20060112233006.27636.qmail@web33014.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/12/06, Kan Deng <kan.deng@yahoo.com> wrote:
> Many thanks, Doug.
>
> A quick question, which class implements the following
> logic?

It looks to me like org.apache.lucene.index.TermInfosReader

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 13 00:03:45 2006
Return-Path: <java-user-return-18345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53485 invoked from network); 13 Jan 2006 00:03:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Jan 2006 00:03:44 -0000
Received: (qmail 93721 invoked by uid 500); 13 Jan 2006 00:03:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93695 invoked by uid 500); 13 Jan 2006 00:03:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93684 invoked by uid 99); 13 Jan 2006 00:03:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Jan 2006 16:03:38 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.66] (HELO web33002.mail.mud.yahoo.com) (68.142.206.66)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 12 Jan 2006 16:03:37 -0800
Received: (qmail 69937 invoked by uid 60001); 13 Jan 2006 00:02:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=wip4fYO+i362zeXUXyHnAvj1LUIX6JFEPKx0hOBfU+8d0DLcF8wf/OD9fVx1puUd95UDnOpgxUZWzC9lTXWepr3uS/eupvqb3p2VC7dO1SEBv7mjfjPm/M0WEMucIje3rlHeqOytUtWDgjUEILg3JvqlTNH1PIQnj687nyAIRh8=  ;
Message-ID: <20060113000232.69935.qmail@web33002.mail.mud.yahoo.com>
Received: from [63.237.220.2] by web33002.mail.mud.yahoo.com via HTTP; Thu, 12 Jan 2006 16:02:31 PST
Date: Thu, 12 Jan 2006 16:02:31 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: BTree
To: java-user@lucene.apache.org, yseeley@gmail.com
In-Reply-To: <c68e39170601121549q5494d53fu5ba49e63572380fd@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Yonik. 

TermInfosReader is exactly the class I am looking for.


Kan


--- Yonik Seeley <yseeley@gmail.com> wrote:

> On 1/12/06, Kan Deng <kan.deng@yahoo.com> wrote:
> > Many thanks, Doug.
> >
> > A quick question, which class implements the
> following
> > logic?
> 
> It looks to me like
> org.apache.lucene.index.TermInfosReader
> 
> -Yonik
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 13 14:06:16 2006
Return-Path: <java-user-return-18346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73318 invoked from network); 13 Jan 2006 14:06:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Jan 2006 14:06:15 -0000
Received: (qmail 78936 invoked by uid 500); 13 Jan 2006 14:06:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78900 invoked by uid 500); 13 Jan 2006 14:06:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78888 invoked by uid 99); 13 Jan 2006 14:06:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 06:06:06 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 06:06:04 -0800
Received: by xproxy.gmail.com with SMTP id i28so430985wxd
        for <java-user@lucene.apache.org>; Fri, 13 Jan 2006 06:05:44 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oAQwy9rPtaWczCSETzKotlZmJipqwH/ykHLSOyeY952deIWgcGGocz2fBdHxnGOITsP3QxOh7GWwtH0eqQHQ+PyU2Qf8vNGJ7ZnNOfnoxtDTsTu2/b/gmwvN0s6scmqJ43H4grptGU3eZ0X9ZeYVqe9Kck2W4tqhomza6hVyM5M=
Received: by 10.70.37.10 with SMTP id k10mr3370589wxk;
        Fri, 13 Jan 2006 06:05:43 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Fri, 13 Jan 2006 06:05:43 -0800 (PST)
Message-ID: <277d4c5d0601130605u3245e4d8m9de4bf6491caab89@mail.gmail.com>
Date: Fri, 13 Jan 2006 22:05:43 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: about the wordnet program.
In-Reply-To: <200601122100.16206@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_125362_21697013.1137161143415"
References: <277d4c5d0601120725g54b48a4cgcf2c18688bd89537@mail.gmail.com>
	 <200601122100.16206@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_125362_21697013.1137161143415
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

thx for your reply.

I have checked the source code and found it should be updated now.

For Syns2Index:
doc.add( new Field( F_WORD, g, Field.Store.YES, Field.Index.UN_TOKENIZED))
--> doc.add( Field.Keyword( F_WORD, g))
doc.add( new Field( F_SYN, cur, Field.Store.YES, Field.Index.NO)); -->
doc.add( Field.UnIndexed( F_SYN , cur));

For SynLookup and SynExpand,

tmp.add( tq, BooleanClause.Occur.SHOULD);  --> tmp.add(tq, true, false);


On 1/13/06, Daniel Naber <lucenelist2005@danielnaber.de> wrote:
>
> On Donnerstag 12 Januar 2006 16:25, jason wrote:
>
> > When i incorporate these files, Syns2Index.java, SynLookup.java, and
> > SynExpand.java, I find some variables are not defined.
>
> It depends on Lucene in SVN, some things in the Lucene API have changed
> since Lucene 1.4. So you need to get the latest development version from
> SVN.
>
> Regards
> Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_125362_21697013.1137161143415--

From java-user-return-18347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 13 17:47:51 2006
Return-Path: <java-user-return-18347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22371 invoked from network); 13 Jan 2006 17:47:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Jan 2006 17:47:51 -0000
Received: (qmail 69235 invoked by uid 500); 13 Jan 2006 17:47:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69204 invoked by uid 500); 13 Jan 2006 17:47:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69188 invoked by uid 99); 13 Jan 2006 17:47:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 09:47:44 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.174.124.10] (HELO mail.igb.uiuc.edu) (128.174.124.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 09:47:44 -0800
Received: by mail.igb.uiuc.edu (Postfix, from userid 48)
	id 90F01114400F; Fri, 13 Jan 2006 11:47:13 -0600 (CST)
Received: from 128.174.124.138
        (SquirrelMail authenticated user tlittell)
        by mail.igb.uiuc.edu with HTTP;
        Fri, 13 Jan 2006 11:47:13 -0600 (CST)
Message-ID: <2033.128.174.124.138.1137174433.squirrel@mail.igb.uiuc.edu>
Date: Fri, 13 Jan 2006 11:47:13 -0600 (CST)
Subject: while indexing, encountered "No tvx file" msg.
From: tlittell@igb.uiuc.edu
To: java-user@lucene.apache.org
User-Agent: SquirrelMail/1.4.4-1.FC2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-IGB-MailScanner-Information: Please contact the ISP for more information
X-IGB-MailScanner: Found to be clean
X-IGB-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=-1.493, required 5, autolearn=not spam,
	ALL_TRUSTED -0.50, BAYES_00 -1.00, NO_REAL_NAME 0.01)
X-MailScanner-From: tlittell@igb.uiuc.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Does anybody know what would cause a "No tvx file" msg while indexing. I'm
indexing with both Field.Keyword & Field.Text, with term vectors being
stored.

thanks
Todd


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 13 20:11:02 2006
Return-Path: <java-user-return-18348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97852 invoked from network); 13 Jan 2006 20:11:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Jan 2006 20:11:02 -0000
Received: (qmail 45775 invoked by uid 500); 13 Jan 2006 20:10:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45733 invoked by uid 500); 13 Jan 2006 20:10:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45722 invoked by uid 99); 13 Jan 2006 20:10:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 12:10:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 12:10:51 -0800
Received: (qmail 15256 invoked from network); 13 Jan 2006 20:10:28 -0000
Received: from unknown (HELO p5496f7d3.dip.t-dialin.net) ([pbs]695637@[84.150.247.211])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 13 Jan 2006 20:10:28 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: while indexing, encountered "No tvx file" msg.
Date: Fri, 13 Jan 2006 21:12:39 +0100
User-Agent: KMail/1.8.2
References: <2033.128.174.124.138.1137174433.squirrel@mail.igb.uiuc.edu>
In-Reply-To: <2033.128.174.124.138.1137174433.squirrel@mail.igb.uiuc.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601132112.39545@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Freitag 13 Januar 2006 18:47, tlittell@igb.uiuc.edu wrote:

> Does anybody know what would cause a "No tvx file" msg while indexing.
> I'm indexing with both Field.Keyword & Field.Text, with term vectors
> being stored.

I have now added the answer to our FAQ, please see:
http://wiki.apache.org/jakarta-lucene/LuceneFAQ

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 13 20:12:27 2006
Return-Path: <java-user-return-18349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98779 invoked from network); 13 Jan 2006 20:12:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Jan 2006 20:12:26 -0000
Received: (qmail 50186 invoked by uid 500); 13 Jan 2006 20:12:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50079 invoked by uid 500); 13 Jan 2006 20:12:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50051 invoked by uid 99); 13 Jan 2006 20:12:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 12:12:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 12:12:15 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.14D9999D@mailer.syr.edu>; Fri, 13 Jan 2006 15:11:54 -0500
Message-ID: <43C8098B.4090100@syr.edu>
Date: Fri, 13 Jan 2006 15:11:55 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: while indexing, encountered "No tvx file" msg.
References: <2033.128.174.124.138.1137174433.squirrel@mail.igb.uiuc.edu>
In-Reply-To: <2033.128.174.124.138.1137174433.squirrel@mail.igb.uiuc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See
http://www.nabble.com/My-first-question-in-2006-:D-t836943.html for details

You can safely ignore the message.

tlittell@igb.uiuc.edu wrote:

>Does anybody know what would cause a "No tvx file" msg while indexing. I'm
>indexing with both Field.Keyword & Field.Text, with term vectors being
>stored.
>
>thanks
>Todd
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 14 02:04:50 2006
Return-Path: <java-user-return-18350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51235 invoked from network); 14 Jan 2006 02:04:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Jan 2006 02:04:50 -0000
Received: (qmail 37666 invoked by uid 500); 14 Jan 2006 02:04:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37643 invoked by uid 500); 14 Jan 2006 02:04:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37632 invoked by uid 99); 14 Jan 2006 02:04:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jan 2006 18:04:43 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.3 as permitted sender)
Received: from [219.125.112.3] (HELO nm05omta053.dion.ne.jp) (219.125.112.3)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 13 Jan 2006 18:04:42 -0800
Received: from sekiguchi ([59.135.69.22])
	by nm05mta.dion.ne.jp
	id <20060114110420118.MA37.81BCCC0@nm05mta.dion.ne.jp>;
	Sat, 14 Jan 2006 11:04:20 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: Hits or HitIterator
Date: Sat, 14 Jan 2006 11:04:16 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCEENFCCAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I'm using Lucene 1.9 and found HitIterator class.
What is this class for?
Is it for Java Groovy (Iterator lovers) or more than that?

Thanks in advance,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 14 10:27:57 2006
Return-Path: <java-user-return-18351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87813 invoked from network); 14 Jan 2006 10:27:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Jan 2006 10:27:57 -0000
Received: (qmail 78799 invoked by uid 500); 14 Jan 2006 10:27:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78763 invoked by uid 500); 14 Jan 2006 10:27:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 58827 invoked by uid 99); 14 Jan 2006 09:50:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
From: "Mathias" <der_grosse_hui@web.de>
To: <java-user@lucene.apache.org>
Subject: Get name of field where term was found
Date: Sat, 14 Jan 2006 10:50:26 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
thread-index: AcYY7/G8hiwbzR03T1Oftb4TWs27Lg==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <E1Exi3E-0000qm-00@smtp06.web.de>
Sender: der_grosse_hui@web.de
X-Sender: der_grosse_hui@web.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Everybody!

Do you know if it is possible to get the name of the field in which Lucene
found a term?
I know that you can get the content of all fields with the document id. But
I need to know in which field Lucene found my term, if I searched in several
fields.

I'm thankful for every kind of help!

Bye
Mathew



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 14 23:26:26 2006
Return-Path: <java-user-return-18352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75266 invoked from network); 14 Jan 2006 23:26:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Jan 2006 23:26:25 -0000
Received: (qmail 81485 invoked by uid 500); 14 Jan 2006 23:26:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80472 invoked by uid 500); 14 Jan 2006 23:26:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80456 invoked by uid 99); 14 Jan 2006 23:26:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jan 2006 15:26:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jan 2006 15:26:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 63F4013E201D; Sat, 14 Jan 2006 18:25:56 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id A981613E2005
	for <java-user@lucene.apache.org>; Sat, 14 Jan 2006 18:25:45 -0500 (EST)
In-Reply-To: <PKEIKOCKCHNIIHNECPCCEENFCCAA.koji.sekiguchi@m4.dion.ne.jp>
References: <PKEIKOCKCHNIIHNECPCCEENFCCAA.koji.sekiguchi@m4.dion.ne.jp>
Mime-Version: 1.0 (Apple Message framework v746.2)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B35B0CD7-06A8-4FD1-A3EB-0B5E016FA11F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Hits or HitIterator
Date: Sat, 14 Jan 2006 18:23:18 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

HitIterator is simply a facade over Hits that implements the Iterator  
interface, making it a bit more aesthetic to work with, and such it  
makes using Groovy with Lucene a lot cleaner.  Nothing more than that.

	Erik


On Jan 13, 2006, at 9:04 PM, Koji Sekiguchi wrote:

> Hello,
>
> I'm using Lucene 1.9 and found HitIterator class.
> What is this class for?
> Is it for Java Groovy (Iterator lovers) or more than that?
>
> Thanks in advance,
>
> Koji
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 14 23:28:27 2006
Return-Path: <java-user-return-18353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76090 invoked from network); 14 Jan 2006 23:28:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Jan 2006 23:28:27 -0000
Received: (qmail 84577 invoked by uid 500); 14 Jan 2006 23:28:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83681 invoked by uid 500); 14 Jan 2006 23:28:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 32170 invoked by uid 99); 14 Jan 2006 16:07:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
From: "Sven Schmeier" <sven@schmeier.com>
To: <java-user@lucene.apache.org>
Subject: Part-Of Match 
Date: Sat, 14 Jan 2006 17:06:22 +0100
Message-ID: <005501c61924$76af12e0$6501a8c0@Karl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0056_01C6192C.D8737AE0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0056_01C6192C.D8737AE0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi Folks,
 
I have the following problem:
We have a very large list of special words or phrases that should match if
they occur in a document. The idea was to fill the index with all these
phrases and use the document as the query. Then we expect a 100% match for
phrases that occur "exact" in the documents, for others the score should be
less than 1.
 
Example: 
 
Querydocument: 
 von Willebrand factor (vWF) is a large multimeric glycoprotein synthesized
exclusively by endothelial cells and megakaryocytes (1). 
 
 
Index contains the following phrases:
 
(1) von Willebrand
(2) glycoprotein
(3) endothelial glycoprotein
(4) multimeric megakaryocytes
 
 
So the result should be:
(1) Score: 1
(2) Score: 1
(3) Score: less than 1
(4) Score: less than 1
 
Is there any way of doing this with lucene?
 
Thanks and best whishes,
Sven
 
 

------=_NextPart_000_0056_01C6192C.D8737AE0--


From java-user-return-18354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 15 05:49:19 2006
Return-Path: <java-user-return-18354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78062 invoked from network); 15 Jan 2006 05:49:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Jan 2006 05:49:19 -0000
Received: (qmail 78187 invoked by uid 500); 15 Jan 2006 05:49:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78159 invoked by uid 500); 15 Jan 2006 05:49:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78148 invoked by uid 99); 15 Jan 2006 05:49:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jan 2006 21:49:13 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gary.mangum@gmail.com designates 64.233.184.203 as permitted sender)
Received: from [64.233.184.203] (HELO wproxy.gmail.com) (64.233.184.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 14 Jan 2006 21:49:13 -0800
Received: by wproxy.gmail.com with SMTP id i31so903133wra
        for <java-user@lucene.apache.org>; Sat, 14 Jan 2006 21:48:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=jRteWb7eT4JugXoGqRaav5eWOAJ+elLKbLJPsJpAh+SyKxnvOlz9Qxk6Z5Qd1w75Sb7GoJhgISwTuraw43oKZkrWW+jmsibvgUvkERz4J83R1C+p/rJUXgwJicV6arH93vbpnHM6P7PYxef9EBFPmumPlrsaerdOLjCUMwxyBL4=
Received: by 10.54.83.7 with SMTP id g7mr6313051wrb;
        Sat, 14 Jan 2006 21:48:52 -0800 (PST)
Received: by 10.54.70.17 with HTTP; Sat, 14 Jan 2006 21:48:52 -0800 (PST)
Message-ID: <9140a7030601142148l26d3f6f0rae647e7ea8b59500@mail.gmail.com>
Date: Sat, 14 Jan 2006 22:48:52 -0700
From: Gary Mangum <gary.mangum@gmail.com>
Reply-To: gary@mangumfamily.org
To: java-user@lucene.apache.org
Subject: Complete count of search results
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13164_1483030.1137304132649"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13164_1483030.1137304132649
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I am trying to find out a quick way to get a complete count of all search
results found in all of my Documents.

Let me back up...

I have split the content that I am searching into many Documents and then
indexed this content.  Each Document represents about one "paragraph" of
data.

Now I search all of my Documents for a word or phrase.

If I understand correctly, the Hits that are returned tell me which
Documents contain the information that I am searching for.  And Hits.length=
()
would tell me how many documents contain my information.

I would like to know how many total results were found for my search.  In
other words, if a Document contains the word or phrase more than once, I
would like to know this information so that I can return a "true" count of
search results that were found across all of my Documents.  It seems that
Lucene must already know this information since it searched the Document
already when it scored and added it to my Hits.

What is the best way to get this information quickly?

Thanks,

Gary

------=_Part_13164_1483030.1137304132649--

From java-user-return-18355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 15 12:59:27 2006
Return-Path: <java-user-return-18355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97936 invoked from network); 15 Jan 2006 12:59:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Jan 2006 12:59:26 -0000
Received: (qmail 48220 invoked by uid 500); 15 Jan 2006 12:59:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48180 invoked by uid 500); 15 Jan 2006 12:59:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48169 invoked by uid 99); 15 Jan 2006 12:59:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jan 2006 04:59:21 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jan 2006 04:59:19 -0800
Received: (qmail 25178 invoked from network); 15 Jan 2006 12:58:57 -0000
Received: from unknown (HELO p5496ebea.dip.t-dialin.net) ([pbs]695637@[84.150.235.234])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 15 Jan 2006 12:58:57 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Part-Of Match
Date: Sun, 15 Jan 2006 14:00:53 +0100
User-Agent: KMail/1.8.2
References: <005501c61924$76af12e0$6501a8c0@Karl>
In-Reply-To: <005501c61924$76af12e0$6501a8c0@Karl>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Message-Id: <200601151400.54068@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Samstag 14 Januar 2006 17:06, Sven Schmeier wrote:

> (1) von Willebrand

You can rewrite the query like this:

"von Willebrand"^10 OR (von AND Willebrand)

Documents with the phrase "von Willebrand" will then score higher than 
those where "von" and "Willebrand" appear at different places.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 15 14:08:45 2006
Return-Path: <java-user-return-18356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34654 invoked from network); 15 Jan 2006 14:08:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Jan 2006 14:08:45 -0000
Received: (qmail 97830 invoked by uid 500); 15 Jan 2006 14:08:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97515 invoked by uid 500); 15 Jan 2006 14:08:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97502 invoked by uid 99); 15 Jan 2006 14:08:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jan 2006 06:08:38 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.169.145.166] (HELO natnoddy.rzone.de) (81.169.145.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jan 2006 06:08:37 -0800
Received: from Karl (pD9531434.dip0.t-ipconnect.de [217.83.20.52])
	by post.webmailer.de (8.13.1/8.13.1) with ESMTP id k0FE8DkQ027771
	for <java-user@lucene.apache.org>; Sun, 15 Jan 2006 15:08:14 +0100 (MET)
From: "Sven" <sven@schmeier.de>
To: <java-user@lucene.apache.org>
Subject: AW: Part-Of Match
Date: Sun, 15 Jan 2006 15:07:07 +0100
Message-ID: <002101c619dc$f90dd290$6501a8c0@Karl>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <200601151400.54068@danielnaber.de>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Daniel,

>>von Willebrand<< is not the query but a document in the index.... The =
task
is to detect exact matches of phrases inside a query (large document) =
with
these phrases stored in the index.

Cheers,
Sven



> -----Urspr=FCngliche Nachricht-----
> Von: Daniel Naber [mailto:lucenelist2005@danielnaber.de]=20
> Gesendet: Sonntag, 15. Januar 2006 14:01
> An: java-user@lucene.apache.org
> Betreff: Re: Part-Of Match
>=20
>=20
> On Samstag 14 Januar 2006 17:06, Sven Schmeier wrote:
>=20
> > (1) von Willebrand
>=20
> You can rewrite the query like this:
>=20
> "von Willebrand"^10 OR (von AND Willebrand)
>=20
> Documents with the phrase "von Willebrand" will then score=20
> higher than=20
> those where "von" and "Willebrand" appear at different places.
>=20
> Regards
>  Daniel
>=20
> --=20
> http://www.danielnaber.de
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 15 21:14:56 2006
Return-Path: <java-user-return-18357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3954 invoked from network); 15 Jan 2006 21:14:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Jan 2006 21:14:55 -0000
Received: (qmail 76373 invoked by uid 500); 15 Jan 2006 21:14:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75449 invoked by uid 500); 15 Jan 2006 21:14:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75438 invoked by uid 99); 15 Jan 2006 21:14:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jan 2006 13:14:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jan 2006 13:14:49 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 763135B766; Sun, 15 Jan 2006 13:14:29 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 73AC67F403
	for <java-user@lucene.apache.org>; Sun, 15 Jan 2006 13:14:29 -0800 (PST)
Date: Sun, 15 Jan 2006 13:14:29 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: AW: Part-Of Match
In-Reply-To: <002101c619dc$f90dd290$6501a8c0@Karl>
Message-ID: <Pine.LNX.4.58.0601151253480.8917@hal.rescomp.berkeley.edu>
References: <002101c619dc$f90dd290$6501a8c0@Karl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: >>von Willebrand<< is not the query but a document in the index.... The task
: is to detect exact matches of phrases inside a query (large document) with
: these phrases stored in the index.

Lemme see if i can restate your problem...

You want to build a data repository in which you insert a large magnatude
of "concepts" where a concept is a short phrase consisting of a few words
(possibly just one word).  The words in any given concept phrase may
overlap (or be a super set) of the words in other concepts.

Once this concept repository is built, you want to to build a black box
arround it, such that people can hand your black box a "document"
(ie: a research paper, a newpaper article, a short story, ...
some text consisting of many many sentences) and you want your black box
to then return the list of concepts that match the input document, such
that the cnceptss with the highest score are concepts whose phrase appears
exactly in the input document.  Concepts whose phrase doesn't appear
exactly in the document shoudl still be returned, but with a lower score
based on how many words in the concept's phrase are found in the input
document.

	(have i adequetly described your problem?)

It's an interesting idea.  can it be done with lucene? ... i can think of
one kludgy mechanism for doing it but i'd be very suprised if there isn't
a better way (or if there is some other software library out there that
would be more suited)

Build a permentant index in which each concept is a Lucene Document.
these documents really only need one stored/tokenized/indexed field
containing the phrase (if you want other payload fields that's up to you).

Each time you are asked to analyze a Text sample and return matching
phrases, run the text through your analyzer to get back a tokenstream, and
for each of those tokens, use a TermDocs iterator to find out if any
phrase in your concept index contains that term, and if so which ones.
(you could also do this by building a boolean OR query out of all the
words in your input document -- but that may run into performance
limitatios if your input docs are too big, and it will try to score each
concept which isn't neccessary so even for short input text it's less
efficient).

Now you have an (unordered) list of concepts that have something to do
with your input text.

Next build a RAMDirectory based index consisting of exactly one document
which you build from the input text.  Loop over that list of concepts you
got, and build a boolean query out of each one along the lines that
Daniel described: a phrase query on the whole concept phrase along with
term queries for each individual word -- all optional.  run each of these
boolean queries against your one document RAMDirectory.  the higher the
score, the better that concept applies to your input text.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 08:54:37 2006
Return-Path: <java-user-return-18358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55304 invoked from network); 16 Jan 2006 08:54:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 08:54:37 -0000
Received: (qmail 82425 invoked by uid 500); 16 Jan 2006 08:54:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82390 invoked by uid 500); 16 Jan 2006 08:54:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82378 invoked by uid 99); 16 Jan 2006 08:54:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 00:54:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.204 as permitted sender)
Received: from [66.249.82.204] (HELO xproxy.gmail.com) (66.249.82.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 00:54:29 -0800
Received: by xproxy.gmail.com with SMTP id i28so770799wxd
        for <java-user@lucene.apache.org>; Mon, 16 Jan 2006 00:54:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=k9EL/PozvOMQEpSWI2Mxt+2EZk+19AZ/sNrG5P+ueOqtJlo8EyubltIvjQ/gL7aELmNPYx+Wj6G4PeNlCWQYLyP+nLQn9xmJp6BOlp8iy+MBHo4LabXTEf4u6TnymPdjV6/prJLHXc5BHNsqHNlSDyGSh63lNXjdNOy6X0iruDA=
Received: by 10.70.30.17 with SMTP id d17mr5142078wxd;
        Mon, 16 Jan 2006 00:54:08 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Mon, 16 Jan 2006 00:54:08 -0800 (PST)
Message-ID: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com>
Date: Mon, 16 Jan 2006 16:54:08 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: One problem of using the lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_143724_12174144.1137401648230"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_143724_12174144.1137401648230
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I got a problem of using the lucene.

I write a SynonymFilter which can add synonyms from the WordNet. Meanwhile,
i used the SnowballFilter for term stemming. However, i got a problem when
combining the two fiters.

For instance, i got 17 documents containing the Term "support"  and  the
following is the SynonymAnalyzer i wrote.

/**
*
*/
 public TokenStream tokenStream(String fieldName, Reader reader){


        TokenStream result =3D new StandardTokenizer(reader);
        result =3D new StandardFilter(result);
        result =3D new LowerCaseFilter(result);
        if (stopword !=3D null){
          result =3D new StopFilter(result, stopword);
        }

        result =3D new SnowballFilter(result, "Lovins");

       result =3D new SynonymFilter(result, engine);

        return result;
    }

If i only used the SnowballFilter, i can find the "support" in the 17
documents. However, after adding the SynonymFilter, the "support" can only
be found in 10 documents. It seems the term "support" cannot be found in th=
e
left 7 documents. I dont know what's wrong with it.

regards

jiang xing

------=_Part_143724_12174144.1137401648230--

From java-user-return-18359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 09:40:32 2006
Return-Path: <java-user-return-18359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78297 invoked from network); 16 Jan 2006 09:40:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 09:40:32 -0000
Received: (qmail 36114 invoked by uid 500); 16 Jan 2006 09:40:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36068 invoked by uid 500); 16 Jan 2006 09:40:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36049 invoked by uid 99); 16 Jan 2006 09:40:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 01:40:25 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of liste@ja-web.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 01:40:24 -0800
Received: (qmail 6750 invoked from network); 16 Jan 2006 09:40:02 -0000
Received: from unknown (HELO [10.50.40.160]) (685708@[213.61.178.58])
          (envelope-sender <liste@ja-web.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <java-user@lucene.apache.org>; 16 Jan 2006 09:40:02 -0000
Message-ID: <43CB69F1.4060807@ja-web.de>
Date: Mon, 16 Jan 2006 10:40:01 +0100
From: Jens Ansorg <liste@ja-web.de>
User-Agent: Thunderbird 1.6a1 (Windows/20060112)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: locked files after updating lucene to 1.4.3
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi,

I run into an issue after updating lucene libs from 1.3-final to 1.4.3.

We have a batch job on our web server that recreates the lucene search 
index every night. This job deletes all index and creates a new one.

This search index gets used by the lucene-powered search feature of the 
web site /IS + Resin-2.1.11).

The search itself still works. but once I did a search on the web site 
some files in the index become locked. And n the index updater fails 
because it tries to delete those locked files ... The error is 
someething like

[ERROR][2006-01-15 08:15:01 - main - de.bcg.web.search.BcgSiteSearch] 
Error while building index.
java.io.IOException: couldn't delete _e3.tis
	at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:166)
	at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:151)
	at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:132)
	at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:113)
	at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:151)
	at de.bcg.web.search.BcgSiteSearch.buildIndex(BcgSiteSearch.java:99)
	at de.bcg.web.search.BcgSiteSearch.main(BcgSiteSearch.java:71)


The developer of the search stuff is no longer here and I have to 
maintain that stuff. Now, why does this locking happen? Didn never 
happen with 1.3. So I probably need to update something in the code.

any hints about what causes the lock and how to fix this are very welcome :)

thanks
Jens Ansorg

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 10:26:48 2006
Return-Path: <java-user-return-18360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 333 invoked from network); 16 Jan 2006 10:26:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 10:26:47 -0000
Received: (qmail 90047 invoked by uid 500); 16 Jan 2006 10:26:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89016 invoked by uid 500); 16 Jan 2006 10:26:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89004 invoked by uid 99); 16 Jan 2006 10:26:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 02:26:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 02:26:41 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 84B4713E201D; Mon, 16 Jan 2006 05:26:17 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 132FB13E2005
	for <java-user@lucene.apache.org>; Mon, 16 Jan 2006 05:25:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com>
References: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0292C8E6-6084-4D0E-9CDB-1C319BDC6ACD@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: One problem of using the lucene
Date: Mon, 16 Jan 2006 05:25:46 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Could you share the details of your SynonymFilter?  Is it adding  
tokens into the same position as the original tokens (position  
increment of 0)?   Are you using QueryParser for searching?  If so,  
try TermQuery to eliminate the parser's analysis from the picture for  
the time being while trouble shooting.

If you are using QueryParser, are you using the same analyzer?  If  
this is the case, what is the .toString of the generated Query?

	Erik


On Jan 16, 2006, at 3:54 AM, jason wrote:

> Hi,
>
> I got a problem of using the lucene.
>
> I write a SynonymFilter which can add synonyms from the WordNet.  
> Meanwhile,
> i used the SnowballFilter for term stemming. However, i got a  
> problem when
> combining the two fiters.
>
> For instance, i got 17 documents containing the Term "support"   
> and  the
> following is the SynonymAnalyzer i wrote.
>
> /**
> *
> */
>  public TokenStream tokenStream(String fieldName, Reader reader){
>
>
>         TokenStream result = new StandardTokenizer(reader);
>         result = new StandardFilter(result);
>         result = new LowerCaseFilter(result);
>         if (stopword != null){
>           result = new StopFilter(result, stopword);
>         }
>
>         result = new SnowballFilter(result, "Lovins");
>
>        result = new SynonymFilter(result, engine);
>
>         return result;
>     }
>
> If i only used the SnowballFilter, i can find the "support" in the 17
> documents. However, after adding the SynonymFilter, the "support"  
> can only
> be found in 10 documents. It seems the term "support" cannot be  
> found in the
> left 7 documents. I dont know what's wrong with it.
>
> regards
>
> jiang xing


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 12:31:34 2006
Return-Path: <java-user-return-18361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76378 invoked from network); 16 Jan 2006 12:31:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 12:31:33 -0000
Received: (qmail 78291 invoked by uid 500); 16 Jan 2006 12:31:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78035 invoked by uid 500); 16 Jan 2006 12:31:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78023 invoked by uid 99); 16 Jan 2006 12:31:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 04:31:25 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.169.145.176] (HELO natsluvver.rzone.de) (81.169.145.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 04:31:24 -0800
Received: from www.strato-webmail.de (salami.rzone.de [81.169.145.14])
	by post.webmailer.de (8.13.1/8.13.1) with ESMTP id k0GCV0ct014326;
	Mon, 16 Jan 2006 13:31:00 +0100 (MET)
From: sven@schmeier.de
To: java-user@lucene.apache.org (java-user@lucene.apache.org)
Subject: AW: Part-Of Match
X-Mailer: STRATO-Webmail.de, powered by PHlyMail OEM, http://phlymail.com
X-Sender-IP: 194.146.160.126
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-Id: <20060116123102.1FD6490005@www.strato-webmail.de>
Date: Mon, 16 Jan 2006 13:31:02 +0100 (CET)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Hoss,

thanks for the answer, and yes you have described the problem perfectly.
I think you are right lucene is in fact not the best way of solving it.
I decided to simply build a letter trie consisting of all concepts and
then simply do a search with that document on the trie. 
This brings exact matches only on the one hand (and thats exactly what I
need) and furthermore yields matches even for concepts that are in plural
form in the query document.
So the "von Willebrands" will yield "von Willebrand".

Thanks for your efforts,
Sven


 --- Urspr=FCngliche Nachricht --- 
Datum: 15.01.2006 22:14
Von: java-user@lucene.apache.org
An: java-user@lucene.apache.org
Betreff: Re: AW: Part-Of Match
  
> 
> : >>von Willebrand<< is not the query but a document in the index....
The task
> : is to detect exact matches of phrases inside a query (large document)
with
> : these phrases stored in the index.
> 
> Lemme see if i can restate your problem...
> 
> You want to build a data repository in which you insert a large
magnatude
> of "concepts" where a concept is a short phrase consisting of a few
words
> (possibly just one word).  The words in any given concept phrase may
> overlap (or be a super set) of the words in other concepts.
> 
> Once this concept repository is built, you want to to build a black box
> arround it, such that people can hand your black box a "document"
> (ie: a research paper, a newpaper article, a short story, ...
> some text consisting of many many sentences) and you want your black
box
> to then return the list of concepts that match the input document, such
> that the cnceptss with the highest score are concepts whose phrase
appears
> exactly in the input document.  Concepts whose phrase doesn't appear
> exactly in the document shoudl still be returned, but with a lower
score
> based on how many words in the concept's phrase are found in the input
> document.
> 
> 	(have i adequetly described your problem?)
> 
> It's an interesting idea.  can it be done with lucene? ... i can think
of
> one kludgy mechanism for doing it but i'd be very suprised if there
isn't
> a better way (or if there is some other software library out there that
> would be more suited)
> 
> Build a permentant index in which each concept is a Lucene Document.
> these documents really only need one stored/tokenized/indexed field
> containing the phrase (if you want other payload fields that's up to
you).
> 
> Each time you are asked to analyze a Text sample and return matching
> phrases, run the text through your analyzer to get back a tokenstream,
and
> for each of those tokens, use a TermDocs iterator to find out if any
> phrase in your concept index contains that term, and if so which ones.
> (you could also do this by building a boolean OR query out of all the
> words in your input document -- but that may run into performance
> limitatios if your input docs are too big, and it will try to score
each
> concept which isn't neccessary so even for short input text it's less
> efficient).
> 
> Now you have an (unordered) list of concepts that have something to do
> with your input text.
> 
> Next build a RAMDirectory based index consisting of exactly one
document
> which you build from the input text.  Loop over that list of concepts
you
> got, and build a boolean query out of each one along the lines that
> Daniel described: a phrase query on the whole concept phrase along with
> term queries for each individual word -- all optional.  run each of
these
> boolean queries against your one document RAMDirectory.  the higher the
> score, the better that concept applies to your input text.
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 18:38:39 2006
Return-Path: <java-user-return-18362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72124 invoked from network); 16 Jan 2006 18:38:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 18:38:39 -0000
Received: (qmail 3154 invoked by uid 500); 16 Jan 2006 18:38:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2162 invoked by uid 500); 16 Jan 2006 18:38:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2151 invoked by uid 99); 16 Jan 2006 18:38:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 10:38:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 10:38:32 -0800
Received: from [192.168.0.4] ([86.56.177.145]) by ad1.ad.kbse.net over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 16 Jan 2006 19:38:10 +0100
Message-ID: <43CBE81F.6000108@kbse.net>
Date: Mon, 16 Jan 2006 19:38:23 +0100
From: Stefan Gusenbauer <stefan.gusenbauer@kbse.net>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Finding similar documents
References: <004601c61538$728c3160$6402a8c0@sleipnir2> <43C2904B.1050901@syr.edu>
In-Reply-To: <43C2904B.1050901@syr.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 16 Jan 2006 18:38:10.0237 (UTC) FILETIME=[00013ED0:01C61ACC]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Grant Ingersoll wrote:

> I believe there is a MoreLikeThis class floating around somewhere (I 
> think it is in the contrib/similarity package).  The Lucene book also 
> has a good example, and I have some examples at 
> http://www.cnlp.org/apachecon2005 that demonstrate using term vectors 
> to do this
>
> Klaus wrote:
>
>> Hi,
>>
>> is there are build-in method for finding similar documents to one given
>> document?
>>
>> Thx,
>>
>> Klaus
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>  
>>
>
I've implemented a simple relevance feedback algorithm which extracts 
terms from all interesting documents and builds up a new query with this 
terms. This is pretty simple but It works in most cases.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 20:12:12 2006
Return-Path: <java-user-return-18363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17947 invoked from network); 16 Jan 2006 20:12:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 20:12:11 -0000
Received: (qmail 84852 invoked by uid 500); 16 Jan 2006 20:12:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84816 invoked by uid 500); 16 Jan 2006 20:12:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84805 invoked by uid 99); 16 Jan 2006 20:12:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 12:12:04 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 12:12:03 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Memory
Date: Mon, 16 Jan 2006 15:11:41 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13104DF8403@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Memory
Thread-Index: AcYYSpcDMP5rGt+aQEOOYrlH4m35WAAB8Xxg
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi all,
	Is anyone experiencing possible memory problems on LINUX with
Lucene search?  Here is our scenario, we have a service that lives on
LINUX that takes all incoming request through a port and does the
search.  Only 1 IndexSearcher is instantiated to do this from our
service.  When I run a ps and grep for java it shows only 1 java process
running.. however, when 4 users log into our program and start to search
at the same time, 4 java processes show up on TOP (and I can't see their
parent PID from the top command), but still only 1 java on ps. =20
	My company fears that each process is being allocated 128M
memory and is running the box out of memory (when the service is started
we allocated 10 - 128M from the java call).  I am still in the process
of testing with our system guys and having the data analyzed with a 3rd
party, but was curious as to your findings..

Thanks ahead of time,
Tom =20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 20:18:50 2006
Return-Path: <java-user-return-18364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21456 invoked from network); 16 Jan 2006 20:18:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 20:18:49 -0000
Received: (qmail 96904 invoked by uid 500); 16 Jan 2006 20:18:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96865 invoked by uid 500); 16 Jan 2006 20:18:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96848 invoked by uid 99); 16 Jan 2006 20:18:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 12:18:43 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 12:18:42 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 86C135B8057
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 07:18:19 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 66CD2534155
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 07:18:19 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 21176-01-8 for <java-user@lucene.apache.org>;
 Tue, 17 Jan 2006 07:18:18 +1100 (EST)
Received: from [192.168.1.100] (CPE-60-224-149-130.vic.bigpond.net.au [60.224.149.130])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 278B8534154
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 07:18:18 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13104DF8403@MAIL01.wescodist.com>
References: <14FBF41EF1411B45B2EC4ADEAC53D13104DF8403@MAIL01.wescodist.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F52734CB-A077-4422-91A6-BD95DCFCA30C@aconex.com>
Content-Transfer-Encoding: 7bit
From: Paul Smith <psmith@aconex.com>
Subject: Re: Memory
Date: Tue, 17 Jan 2006 07:18:17 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you look at the man page for 'ps' you'll see a switch that shows  
all the threads too (it's different on different unix flavours, so  
best to do look in the man page).

Once you've shown the threads in 'ps' you'll see that the process  
that is appearing in top, and I'll bet it's parent is your original  
java process.

I wouldn't panic, each thread is almost certainly sharing the same  
memory pool, so while top reports that the thread has X Mb of memory,  
it's really the same physical block as all the others.

You see this all the time in a Tomcat app server box, where each Http  
Connector is a thread, and appears as it's own process.

cheers,

Paul Smith

On 17/01/2006, at 7:11 AM, Aigner, Thomas wrote:

>
> Hi all,
> 	Is anyone experiencing possible memory problems on LINUX with
> Lucene search?  Here is our scenario, we have a service that lives on
> LINUX that takes all incoming request through a port and does the
> search.  Only 1 IndexSearcher is instantiated to do this from our
> service.  When I run a ps and grep for java it shows only 1 java  
> process
> running.. however, when 4 users log into our program and start to  
> search
> at the same time, 4 java processes show up on TOP (and I can't see  
> their
> parent PID from the top command), but still only 1 java on ps.
> 	My company fears that each process is being allocated 128M
> memory and is running the box out of memory (when the service is  
> started
> we allocated 10 - 128M from the java call).  I am still in the process
> of testing with our system guys and having the data analyzed with a  
> 3rd
> party, but was curious as to your findings..
>
> Thanks ahead of time,
> Tom
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 16 20:50:53 2006
Return-Path: <java-user-return-18365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44931 invoked from network); 16 Jan 2006 20:50:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Jan 2006 20:50:53 -0000
Received: (qmail 65861 invoked by uid 500); 16 Jan 2006 20:50:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65838 invoked by uid 500); 16 Jan 2006 20:50:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65827 invoked by uid 99); 16 Jan 2006 20:50:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 12:50:47 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 12:50:46 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Memory
Date: Mon, 16 Jan 2006 15:50:26 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13104DF8456@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Memory
Thread-Index: AcYa2iDP0i+6rI2aQHexHsDjOA6H2QABCegw
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Paul,
	I did a man on top and sure enough there was a PPID command on
Linux (f then B) for parent process.  And yes, they always have the same
parent command.  Thanks for your help as I'm obviously still a noob on
Unix.

Tom

-----Original Message-----
From: Paul Smith [mailto:psmith@aconex.com]=20
Sent: Monday, January 16, 2006 3:18 PM
To: java-user@lucene.apache.org
Subject: Re: Memory

If you look at the man page for 'ps' you'll see a switch that shows =20
all the threads too (it's different on different unix flavours, so =20
best to do look in the man page).

Once you've shown the threads in 'ps' you'll see that the process =20
that is appearing in top, and I'll bet it's parent is your original =20
java process.

I wouldn't panic, each thread is almost certainly sharing the same =20
memory pool, so while top reports that the thread has X Mb of memory, =20
it's really the same physical block as all the others.

You see this all the time in a Tomcat app server box, where each Http =20
Connector is a thread, and appears as it's own process.

cheers,

Paul Smith

On 17/01/2006, at 7:11 AM, Aigner, Thomas wrote:

>
> Hi all,
> 	Is anyone experiencing possible memory problems on LINUX with
> Lucene search?  Here is our scenario, we have a service that lives on
> LINUX that takes all incoming request through a port and does the
> search.  Only 1 IndexSearcher is instantiated to do this from our
> service.  When I run a ps and grep for java it shows only 1 java =20
> process
> running.. however, when 4 users log into our program and start to =20
> search
> at the same time, 4 java processes show up on TOP (and I can't see =20
> their
> parent PID from the top command), but still only 1 java on ps.
> 	My company fears that each process is being allocated 128M
> memory and is running the box out of memory (when the service is =20
> started
> we allocated 10 - 128M from the java call).  I am still in the process
> of testing with our system guys and having the data analyzed with a =20
> 3rd
> party, but was curious as to your findings..
>
> Thanks ahead of time,
> Tom
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 05:14:47 2006
Return-Path: <java-user-return-18366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63868 invoked from network); 17 Jan 2006 05:14:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 05:14:43 -0000
Received: (qmail 69463 invoked by uid 500); 17 Jan 2006 05:14:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69440 invoked by uid 500); 17 Jan 2006 05:14:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69429 invoked by uid 99); 17 Jan 2006 05:14:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 21:14:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO xproxy.gmail.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 21:14:29 -0800
Received: by xproxy.gmail.com with SMTP id i28so915642wxd
        for <java-user@lucene.apache.org>; Mon, 16 Jan 2006 21:14:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gtTXtsUW/WvJVaUNp2VWkgkl4AFshebpMo2bC+qQqPjGFOw1GxGJUTcttSobp/kPc4rqA3PImA07QjP3j/ecDrazMltKkkedCaN/iPQLZDfA9L/mPiu6zYWZVQvyw9AaT/+4KdqU9IoXWGN7zFPpiOwr8/YJhuLFlfP7Bleedog=
Received: by 10.70.14.6 with SMTP id 6mr7462766wxn;
        Mon, 16 Jan 2006 21:14:08 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Mon, 16 Jan 2006 21:14:08 -0800 (PST)
Message-ID: <277d4c5d0601162114y10f3b64ctc786f6386ecdff3@mail.gmail.com>
Date: Tue, 17 Jan 2006 13:14:08 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: One problem of using the lucene
In-Reply-To: <0292C8E6-6084-4D0E-9CDB-1C319BDC6ACD@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_153805_32698730.1137474848241"
References: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com>
	 <0292C8E6-6084-4D0E-9CDB-1C319BDC6ACD@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_153805_32698730.1137474848241
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

the following code is the SynonymFilter i wrote.


import org.apache.lucene.analysis.*;


import java.io.*;
import java.util.*;
/**
 * @author JIANG XING
 *
 * Jan 15, 2006
 */
public class SynonymFilter extends TokenFilter {

    public static final String TOKEN_TYPE_SYNONYM =3D "SYNONYM";

    private Stack synonymStack;
    private WordNetSynonymEngine engine;

    public SynonymFilter(TokenStream in, WordNetSynonymEngine engine){
        super(in);
        synonymStack =3D new Stack();
        this.engine =3D engine;
    }

    public Token next () throws IOException {
        if(synonymStack.size() > 0){
            return (Token) synonymStack.pop();
        }

        Token token =3D input.next();


        if(token =3D=3D null){
            return null;
        }

        addAliasesToStack(token);

        return token;
    }

    private void addAliasesToStack(Token token) throws IOException {


        String [] synonyms =3D engine.getSynonyms(token.termText());

        if(synonyms =3D=3D null) return;

        for(int i =3D 0; i < synonyms.length; i++) {
            Token synToken =3D new Token(synonyms[i], token.startOffset(),
token.endOffset(), TOKEN_TYPE_SYNONYM);

            synToken.setPositionIncrement(0); //

            synonymStack.push(synToken);
        }
    }
}
It is adding tokens into the same position as the original token. And then,
I used the QueryParser for searching and the snowball analyzer for parsing.

the following is the SynonymAnalyzer I wrote.

import org.apache.lucene.analysis.*;
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.analysis.snowball.*;

import java.io.*;
import java.util.*;

/**
 * @author JIANG XING
 *
 * Jan 15, 2006
 */
public class SynonymAnalyzer extends Analyzer {
    private WordNetSynonymEngine engine;
    private Set stopword;

    public SynonymAnalyzer(String [] word) {
        try{
        engine =3D new WordNetSynonymEngine(new
File("C:\\PDF2Text\\SearchEngine\\WordNetIndex"));
        stopword =3D StopFilter.makeStopSet(word);
        }catch(IOException e){
            e.printStackTrace();
        }
    }

    public TokenStream tokenStream(String fieldName, Reader reader){

        TokenStream result =3D new StandardTokenizer(reader);
        result =3D new StandardFilter(result);
        result =3D new LowerCaseFilter(result);
        if (stopword !=3D null){
          result =3D new StopFilter(result, stopword);
        }

        result =3D new SnowballFilter(result, "Lovins");

        result =3D new SynonymFilter(result, engine);

        return result;
    }

}
I write some code in the snowballfitler (line 75-79). If i only used the
snowballfilter, the term "support" can be found in all the 17 documents.
However, if the code "result =3D new SynonymFilter(result, engine);" is use=
d.
The term "support" cannot be found in some documents.


public class SnowballFilter extends TokenFilter {
  private static final Object [] EMPTY_ARGS =3D new Object[0];

  private SnowballProgram stemmer;
  private Method stemMethod;

  /** Construct the named stemming filter.
   *
   * @param in the input tokens to stem
   * @param name the name of a stemmer
   */
  public SnowballFilter(TokenStream in, String name) {
    super(in);
    try {
      Class stemClass =3D
        Class.forName("net.sf.snowball.ext." + name + "Stemmer");
      stemmer =3D (SnowballProgram) stemClass.newInstance();
      // why doesn't the SnowballProgram class have an (abstract?) stem
method?
      stemMethod =3D stemClass.getMethod("stem", new Class[0]);
    } catch (Exception e) {
      throw new RuntimeException(e.toString());
    }
  }

  /** Returns the next input Token, after being stemmed */
  public final Token next() throws IOException {
    Token token =3D input.next();
    if (token =3D=3D null)
      return null;
    stemmer.setCurrent(token.termText());
    try {
      stemMethod.invoke(stemmer, EMPTY_ARGS);
    } catch (Exception e) {
      throw new RuntimeException(e.toString());
    }

    Token newToken =3D new Token(stemmer.getCurrent(),
                      token.startOffset(), token.endOffset(), token.type())=
;
    //check the tokens.
    if(newToken.termText().equals("support")){
        System.out.println("the term support is found");
    }

    newToken.setPositionIncrement(token.getPositionIncrement());
    return newToken;
  }
}



On 1/16/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> Could you share the details of your SynonymFilter?  Is it adding
> tokens into the same position as the original tokens (position
> increment of 0)?   Are you using QueryParser for searching?  If so,
> try TermQuery to eliminate the parser's analysis from the picture for
> the time being while trouble shooting.
>
> If you are using QueryParser, are you using the same analyzer?  If
> this is the case, what is the .toString of the generated Query?
>
>        Erik
>
>
> On Jan 16, 2006, at 3:54 AM, jason wrote:
>
> > Hi,
> >
> > I got a problem of using the lucene.
> >
> > I write a SynonymFilter which can add synonyms from the WordNet.
> > Meanwhile,
> > i used the SnowballFilter for term stemming. However, i got a
> > problem when
> > combining the two fiters.
> >
> > For instance, i got 17 documents containing the Term "support"
> > and  the
> > following is the SynonymAnalyzer i wrote.
> >
> > /**
> > *
> > */
> >  public TokenStream tokenStream(String fieldName, Reader reader){
> >
> >
> >         TokenStream result =3D new StandardTokenizer(reader);
> >         result =3D new StandardFilter(result);
> >         result =3D new LowerCaseFilter(result);
> >         if (stopword !=3D null){
> >           result =3D new StopFilter(result, stopword);
> >         }
> >
> >         result =3D new SnowballFilter(result, "Lovins");
> >
> >        result =3D new SynonymFilter(result, engine);
> >
> >         return result;
> >     }
> >
> > If i only used the SnowballFilter, i can find the "support" in the 17
> > documents. However, after adding the SynonymFilter, the "support"
> > can only
> > be found in 10 documents. It seems the term "support" cannot be
> > found in the
> > left 7 documents. I dont know what's wrong with it.
> >
> > regards
> >
> > jiang xing
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_153805_32698730.1137474848241--

From java-user-return-18367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 05:20:30 2006
Return-Path: <java-user-return-18367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65913 invoked from network); 17 Jan 2006 05:20:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 05:20:29 -0000
Received: (qmail 73377 invoked by uid 500); 17 Jan 2006 05:20:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73351 invoked by uid 500); 17 Jan 2006 05:20:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73340 invoked by uid 99); 17 Jan 2006 05:20:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 21:20:24 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gary.mangum@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 21:20:23 -0800
Received: by wproxy.gmail.com with SMTP id 71so1317486wri
        for <java-user@lucene.apache.org>; Mon, 16 Jan 2006 21:20:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=FRgwU00Qf5NC5Ku9I//s7dpiAnRz2AoF5mI3t2sNicHQay6JGJF4pSxUN4m9AFUdKGeVfB4uiFxOm2R3VMvj95HFHTblrUAlPNeTbd8hsoWn+RdvN+SdGkiGJpPv4IBljuthfWuneUNd6VO2wtn0N/ysHnuRFaUftkdeeyIu+aA=
Received: by 10.54.76.3 with SMTP id y3mr8993179wra;
        Mon, 16 Jan 2006 21:20:02 -0800 (PST)
Received: by 10.54.70.17 with HTTP; Mon, 16 Jan 2006 21:20:02 -0800 (PST)
Message-ID: <9140a7030601162120u28ae6262hb41aa7cbd9b0c4f8@mail.gmail.com>
Date: Mon, 16 Jan 2006 22:20:02 -0700
From: Gary Mangum <gary.mangum@gmail.com>
Reply-To: gary@mangumfamily.org
To: java-user@lucene.apache.org
Subject: How do I get a count of all search results inside of my content?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6428_19802992.1137475202234"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6428_19802992.1137475202234
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I am trying to find out a quick way to get a complete count of all search
results found in all of my Documents.

Let me back up...

I have split the content that I am searching into many Documents and then
indexed this content.  Each Document represents about one "paragraph" of
data.

Now I search all of my Documents for a word or phrase.

If I understand correctly, the Hits that are returned tell me which
Documents contain the information that I am searching for.  And Hits.length=
()
would tell me how many documents contain my information.

I would like to know how many total results were found for my search.  In
other words, if a Document contains the word or phrase more than once, I
would like to know this information so that I can return a "true" count of
search results that were found across all of my Documents.  It seems that
Lucene must already know this information since it searched the Document
already when it scored and added it to my Hits.

What is the best way to get this information quickly?

Thanks,


Gary

------=_Part_6428_19802992.1137475202234--

From java-user-return-18368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 05:42:38 2006
Return-Path: <java-user-return-18368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74144 invoked from network); 17 Jan 2006 05:42:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 05:42:37 -0000
Received: (qmail 90957 invoked by uid 500); 17 Jan 2006 05:42:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90677 invoked by uid 500); 17 Jan 2006 05:42:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90664 invoked by uid 99); 17 Jan 2006 05:42:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 21:42:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jan 2006 21:42:30 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5F53B5B771; Mon, 16 Jan 2006 21:42:03 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5156B7F403;
	Mon, 16 Jan 2006 21:42:03 -0800 (PST)
Date: Mon, 16 Jan 2006 21:42:03 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, gary@mangumfamily.org
Subject: Re: How do I get a count of all search results inside of my content?
In-Reply-To: <9140a7030601162120u28ae6262hb41aa7cbd9b0c4f8@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601162132590.24671@hal.rescomp.berkeley.edu>
References: <9140a7030601162120u28ae6262hb41aa7cbd9b0c4f8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1) There's no need to send the same message twice just because you didn't
get a rapid response to hte first one ... in most parts of hte US this has
been a three day weekend, so it's not that suprising that no one wrote a
reply yet since the first time you asked this question friday night.

2) you need to be carefully about your terminology...

: I would like to know how many total results were found for my search.  In
: other words, if a Document contains the word or phrase more than once, I
: would like to know this information so that I can return a "true" count of
: search results that were found across all of my Documents.  It seems that

The total results of your search is Hits.length().
1 result is 1 matching document.  what you are asking for is information
about the frequency of a word or phrase.

The TermEnum class makes it easy to find out the frequency of a term in
your entire index.

The frequency of a phrase is more complicated.   I would suggest you start
by looking at the documenation on Similarity and the way scores are
calculated.  I believe that it is possible to write an implimentation of
Similarity that will result in the raw score of a PhraseQuery on
any document being the number of times that phrase appears in the
document. You will then need to use a HitCollector to sum the raw scores
so they don't get normalized for you.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 10:03:52 2006
Return-Path: <java-user-return-18369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20450 invoked from network); 17 Jan 2006 10:03:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 10:03:52 -0000
Received: (qmail 83923 invoked by uid 500); 17 Jan 2006 10:03:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83634 invoked by uid 500); 17 Jan 2006 10:03:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83623 invoked by uid 99); 17 Jan 2006 10:03:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:03:44 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.57] (HELO web53107.mail.yahoo.com) (206.190.49.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jan 2006 02:03:44 -0800
Received: (qmail 95312 invoked by uid 60001); 17 Jan 2006 10:03:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Ij03SC4xqD30iG8DrTm8ig2rUB5b+BfEFnBIicRxMtAc3lHNGP7oDTnUvDHeRHx5Q7U6BCMUIFSNigOJvzNdWVVhCOfQmRUvcHy281O4Qr37pUatkyMHmaXeF5F1m3tUWmYl8IOcme+/KKDkbn0SLX0Fj3TAaipAHyhZ5wkyv14=  ;
Message-ID: <20060117100322.95310.qmail@web53107.mail.yahoo.com>
Received: from [203.199.211.113] by web53107.mail.yahoo.com via HTTP; Tue, 17 Jan 2006 02:03:22 PST
Date: Tue, 17 Jan 2006 02:03:22 -0800 (PST)
From: shailesh kumar <shailesh1992@yahoo.com>
Subject: Files in index directory
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2045460250-1137492202=:94774"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-2045460250-1137492202=:94774
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

   This question is based on the file format document. http://lucene.apache.org/java/docs/fileformats.html
 
 The following is my understanding. Is this correct
 
 1) The .frq file is the most important file and that is where we get the mapping of terms to documents.
 
 2) The .prx file is used for answering queries like find docs that contain  Term A and Term B kind of queries.
 
 3) The .tvx, .tvd and the .tvf files will not be created by default. you need to set the storeTermVector as true. I am not able to appreciate the usefulness of the the information stored in tv[x,d,f] files. 
 

		
---------------------------------
Yahoo! Photos  Showcase holiday pictures in hardcover
 Photo Books. You design it and well bind it!
--0-2045460250-1137492202=:94774--

From java-user-return-18370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 10:39:42 2006
Return-Path: <java-user-return-18370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39724 invoked from network); 17 Jan 2006 10:39:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 10:39:41 -0000
Received: (qmail 30171 invoked by uid 500); 17 Jan 2006 10:39:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30152 invoked by uid 500); 17 Jan 2006 10:39:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30137 invoked by uid 99); 17 Jan 2006 10:39:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:39:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:39:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 95F5413E201D; Tue, 17 Jan 2006 05:39:11 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id D99BA13E2005
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 05:37:56 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <277d4c5d0601162114y10f3b64ctc786f6386ecdff3@mail.gmail.com>
References: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com> <0292C8E6-6084-4D0E-9CDB-1C319BDC6ACD@ehatchersolutions.com> <277d4c5d0601162114y10f3b64ctc786f6386ecdff3@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <60DCEEDA-9B97-44D6-9008-EE0E55E4B206@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: One problem of using the lucene
Date: Tue, 17 Jan 2006 05:38:01 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 17, 2006, at 12:14 AM, jason wrote:
> It is adding tokens into the same position as the original token.  
> And then,
> I used the QueryParser for searching and the snowball analyzer for  
> parsing.

Ok, so you're only using the SynonymAnalyzer for indexing, and the  
SnowballAnalyzer for QueryParser, correct?  If so, that is reasonable.

>     public TokenStream tokenStream(String fieldName, Reader reader){
>
>         TokenStream result = new StandardTokenizer(reader);
>         result = new StandardFilter(result);
>         result = new LowerCaseFilter(result);
>         if (stopword != null){
>           result = new StopFilter(result, stopword);
>         }
>
>         result = new SnowballFilter(result, "Lovins");
>
>         result = new SynonymFilter(result, engine);
>
>         return result;
>     }
>
> }
> I write some code in the snowballfitler (line 75-79). If i only  
> used the
> snowballfilter, the term "support" can be found in all the 17  
> documents.
> However, if the code "result = new SynonymFilter(result, engine);"  
> is used.
> The term "support" cannot be found in some documents.


It looks like you borrowed SynonymAnalyzer from the Lucene in Action  
code.  But you've tweaked some things.  One thing that is clearly  
amiss is that you're looking up synonyms for stemmed words, which is  
not going to work (unless you stemmed the WordNet words beforehand,  
but I doubt you did that and it would quite odd to do so).  You're  
probably not injecting many synonyms at all.

I encourage you to "analyze your analyzer" by running some utilities  
such as the Analyzer demo that comes with Lucene in Action's code.   
You'll have some more insight into this issue when trying this out in  
isolation from query parsing and other complexities.

>   /** Returns the next input Token, after being stemmed */
>   public final Token next() throws IOException {
>     Token token = input.next();
>     if (token == null)
>       return null;
>     stemmer.setCurrent(token.termText());
>     try {
>       stemMethod.invoke(stemmer, EMPTY_ARGS);
>     } catch (Exception e) {
>       throw new RuntimeException(e.toString());
>     }
>
>     Token newToken = new Token(stemmer.getCurrent(),
>                       token.startOffset(), token.endOffset(),  
> token.type());
>     //check the tokens.
>     if(newToken.termText().equals("support")){
>         System.out.println("the term support is found");
>     }

I'm not sure what the exact solution to your dilemma is, but doing  
more testing with your analyzer will likely shed light on it for you.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 10:50:47 2006
Return-Path: <java-user-return-18371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44817 invoked from network); 17 Jan 2006 10:50:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 10:50:46 -0000
Received: (qmail 39077 invoked by uid 500); 17 Jan 2006 10:50:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39054 invoked by uid 500); 17 Jan 2006 10:50:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39043 invoked by uid 99); 17 Jan 2006 10:50:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:50:42 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 217.207.206.146 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [217.207.206.146] (HELO armel.cd-wow.com) (217.207.206.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:50:41 -0800
Message-ID: <43CCCC06.6030703@gmail.com>
Date: Tue, 17 Jan 2006 10:50:46 +0000
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Memory Issues
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I've developed a service which accepts search requests over the network, 
runs them with Lucene and pumps out results. I have noticed that if I 
use RAMDirectory the memory usage is much more (more than expected) and 
it grows as the service is left running.
The lucene index is 34Mb but when the service starts up 90Mb is used (as 
seen by top). I'm setting an upper limit of 200Mb for the service to use 
and after being left for day with about a request every 2-4 seconds the 
memory consumtion is 213Mb (I'm guessing this is because top includes 
other stuff). My question is, why is so much extra memory being used? Is 
the RAMDirectory object that much larger than the index on disk? Is 
caching put in place to speed things up if the memory is available?
If this is normal then OK but I'd just like to know.

Thanks for any help
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 10:52:55 2006
Return-Path: <java-user-return-18372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45781 invoked from network); 17 Jan 2006 10:52:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 10:52:52 -0000
Received: (qmail 44735 invoked by uid 500); 17 Jan 2006 10:52:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44698 invoked by uid 500); 17 Jan 2006 10:52:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44679 invoked by uid 99); 17 Jan 2006 10:52:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:52:27 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 143.127.12.111 is neither permitted nor denied by domain of Vikas_Khengare@symantec.com)
Received: from [143.127.12.111] (HELO silver.veritas.com) (143.127.12.111)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:52:26 -0800
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by silver.veritas.com with ESMTP; 17 Jan 2006 02:52:06 -0800
Received: from itpxchmb2.enterprise.veritas.com ([10.216.17.1]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 17 Jan 2006 02:52:05 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C61B54.0B0647C0"
Subject: Why we use Lucene for Database search like Oracle / Sybase ?
Date: Tue, 17 Jan 2006 16:22:00 +0530
Message-ID: <D17EC75396CC974E85E180CE6F7F045D032D7C9A@itpxchmb2.enterprise.veritas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Why we use Lucene for Database search like Oracle / Sybase ?
Thread-Index: AcYbVIWFmS7rJfPmQWWJRXwKQ3yF6A==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <java-dev@lucene.apache.org>,
	<java-user@lucene.apache.org>
X-OriginalArrivalTime: 17 Jan 2006 10:52:05.0843 (UTC) FILETIME=[0E571A30:01C61B54]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C61B54.0B0647C0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Friends,
=20
        I have very basic question that
=20
    1] Why we use Lucene for Database search like Oracle / Sybase ?
    2] For that first we have to convert all records one bye one in
string then build lucene document and then index it ?
=20
Thanks
=20
From,
[ vikas_khengare@symantec.com ]

------_=_NextPart_001_01C61B54.0B0647C0--

From java-user-return-18373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 10:59:53 2006
Return-Path: <java-user-return-18373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49444 invoked from network); 17 Jan 2006 10:59:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 10:59:52 -0000
Received: (qmail 59492 invoked by uid 500); 17 Jan 2006 10:59:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58456 invoked by uid 500); 17 Jan 2006 10:59:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58415 invoked by uid 99); 17 Jan 2006 10:59:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:59:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 02:59:03 -0800
Received: by xproxy.gmail.com with SMTP id i28so953805wxd
        for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 02:58:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rmvLZj7JuOc2A5xNV6krDRWTO3o2U/Tjd2C39AJN6h/mlWwZTvef3Ijzkdd2Pcx9rWup3B7w7EARklD5S+7nw2GbXpqWXVtr4pM7aZk3//JyrtlvjAF3V6zeZVlYdkoJengbOu9J9eT/l9BJJVu1oYORYKdyvOaJqbeuxBltFBs=
Received: by 10.70.12.6 with SMTP id 6mr9307847wxl;
        Tue, 17 Jan 2006 02:58:42 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Tue, 17 Jan 2006 02:58:42 -0800 (PST)
Message-ID: <277d4c5d0601170258x24cea0bfg8b9e0fda15827716@mail.gmail.com>
Date: Tue, 17 Jan 2006 18:58:42 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: One problem of using the lucene
In-Reply-To: <60DCEEDA-9B97-44D6-9008-EE0E55E4B206@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_155461_13914157.1137495522931"
References: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com>
	 <0292C8E6-6084-4D0E-9CDB-1C319BDC6ACD@ehatchersolutions.com>
	 <277d4c5d0601162114y10f3b64ctc786f6386ecdff3@mail.gmail.com>
	 <60DCEEDA-9B97-44D6-9008-EE0E55E4B206@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_155461_13914157.1137495522931
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

hi,

thx for your replies.

I have test the snowballFilter and it does not stem the term "support". It
means the term "support" should be in all the papers. However, i add the
synonymFilter, the "support" is missing.

I think i have to read the lucene source code again.

yours truly

Jiang Xing

On 1/17/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On Jan 17, 2006, at 12:14 AM, jason wrote:
> > It is adding tokens into the same position as the original token.
> > And then,
> > I used the QueryParser for searching and the snowball analyzer for
> > parsing.
>
> Ok, so you're only using the SynonymAnalyzer for indexing, and the
> SnowballAnalyzer for QueryParser, correct?  If so, that is reasonable.
>
> >     public TokenStream tokenStream(String fieldName, Reader reader){
> >
> >         TokenStream result =3D new StandardTokenizer(reader);
> >         result =3D new StandardFilter(result);
> >         result =3D new LowerCaseFilter(result);
> >         if (stopword !=3D null){
> >           result =3D new StopFilter(result, stopword);
> >         }
> >
> >         result =3D new SnowballFilter(result, "Lovins");
> >
> >         result =3D new SynonymFilter(result, engine);
> >
> >         return result;
> >     }
> >
> > }
> > I write some code in the snowballfitler (line 75-79). If i only
> > used the
> > snowballfilter, the term "support" can be found in all the 17
> > documents.
> > However, if the code "result =3D new SynonymFilter(result, engine);"
> > is used.
> > The term "support" cannot be found in some documents.
>
>
> It looks like you borrowed SynonymAnalyzer from the Lucene in Action
> code.  But you've tweaked some things.  One thing that is clearly
> amiss is that you're looking up synonyms for stemmed words, which is
> not going to work (unless you stemmed the WordNet words beforehand,
> but I doubt you did that and it would quite odd to do so).  You're
> probably not injecting many synonyms at all.
>
> I encourage you to "analyze your analyzer" by running some utilities
> such as the Analyzer demo that comes with Lucene in Action's code.
> You'll have some more insight into this issue when trying this out in
> isolation from query parsing and other complexities.
>
> >   /** Returns the next input Token, after being stemmed */
> >   public final Token next() throws IOException {
> >     Token token =3D input.next();
> >     if (token =3D=3D null)
> >       return null;
> >     stemmer.setCurrent(token.termText());
> >     try {
> >       stemMethod.invoke(stemmer, EMPTY_ARGS);
> >     } catch (Exception e) {
> >       throw new RuntimeException(e.toString());
> >     }
> >
> >     Token newToken =3D new Token(stemmer.getCurrent(),
> >                       token.startOffset(), token.endOffset(),
> > token.type());
> >     //check the tokens.
> >     if(newToken.termText().equals("support")){
> >         System.out.println("the term support is found");
> >     }
>
> I'm not sure what the exact solution to your dilemma is, but doing
> more testing with your analyzer will likely shed light on it for you.
>
>        Erik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_155461_13914157.1137495522931--

From java-user-return-18374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 13:49:53 2006
Return-Path: <java-user-return-18374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39364 invoked from network); 17 Jan 2006 13:49:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 13:49:51 -0000
Received: (qmail 31263 invoked by uid 500); 17 Jan 2006 13:49:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30980 invoked by uid 500); 17 Jan 2006 13:49:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30827 invoked by uid 99); 17 Jan 2006 13:49:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 05:49:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 05:46:00 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EFA9B13E2029; Tue, 17 Jan 2006 08:45:38 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 3B00313E2005
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 08:45:23 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <277d4c5d0601170258x24cea0bfg8b9e0fda15827716@mail.gmail.com>
References: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com> <0292C8E6-6084-4D0E-9CDB-1C319BDC6ACD@ehatchersolutions.com> <277d4c5d0601162114y10f3b64ctc786f6386ecdff3@mail.gmail.com> <60DCEEDA-9B97-44D6-9008-EE0E55E4B206@ehatchersolutions.com> <277d4c5d0601170258x24cea0bfg8b9e0fda15827716@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A98C8F3C-61D1-49BD-90BD-70E0BFC1B4A7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: One problem of using the lucene
Date: Tue, 17 Jan 2006 08:45:28 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 17, 2006, at 5:58 AM, jason wrote:
> I have test the snowballFilter and it does not stem the term  
> "support". It
> means the term "support" should be in all the papers. However, i  
> add the
> synonymFilter, the "support" is missing.

Two very valuable troubleshooting techniques:

    1) Run your analyzer used for indexing standalone on the trouble  
text.

    2) Look at the Query.toString() of the parsed query.

These two things will very likely point to the issue.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 14:18:35 2006
Return-Path: <java-user-return-18375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57783 invoked from network); 17 Jan 2006 14:17:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 14:17:27 -0000
Received: (qmail 94894 invoked by uid 500); 17 Jan 2006 14:16:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94852 invoked by uid 500); 17 Jan 2006 14:16:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94830 invoked by uid 99); 17 Jan 2006 14:16:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 06:16:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 06:16:45 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11/8.12.11) with ESMTP id k0HEGN4o030050
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 14:16:24 GMT
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11/8.12.11/Submit) with ESMTP id k0HEGNvp030045
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 14:16:23 GMT
Received: from [10.11.108.16] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.0.168)
    via ESMTP; Tue, 17 Jan 2006 14:16:23 +0000 (GMT)
Date: Tue, 17 Jan 2006 14:16:22 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <43CCFC36.1000807@scalix.com>
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13104DF8456@MAIL01.wescodist.com>
References: <14FBF41EF1411B45B2EC4ADEAC53D13104DF8456@MAIL01.wescodist.com>
Subject: Re: Memory
x-scalix-Hops: 1
User-Agent: Mozilla Thunderbird 1.0.7-1.4.1 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Aigner, Thomas wrote:

>	I did a man on top and sure enough there was a PPID command on
>Linux (f then B) for parent process.  And yes, they always have the same
>parent command.  Thanks for your help as I'm obviously still a noob on
>Unix.
>  
>
Nope, that doesn't tell you they're different threads in the same 
process -- look at all the obviously different processes whose PPID 
(parent PID) is "1" -- "ps -ef | less", the first screenful or so will 
all have a PPID of 1.   A single process can have lots of different 
children and many do.

It does depend on which version you're running, but look for "thread" in 
the ps(1) man page.   On the system I've got here it says "-m" shows all 
threads; 2.4-based machines may show all threads by default (but not 
RHEL3, which is closer to 2.6 than 2.4).

Although it's not definitive, finding processes with the exactly the 
same memory profile -- same resident set size (RSS), same total size 
(SIZE), etc is a bit of a giveaway: any two processes are unlikely to be 
using exactly the same amount of memory, any two threads are, by 
definition, using the same memory and must show the same statistics 
(well, to within stack size, but we can ignore that mostly).

Possibly a good way to look at this is with "top".  The "H" key toggles 
threads (where it can detect them) and you get plenty good memory 
reporting.   If you can see all your java threads then you'll see that 
they are all suspiciously similar.

Anyway, the reason that you see threads and processes confused is that 
there is very little difference between the two in Linux.   Indeed, the 
lack of distinction caused some problems with the posix thread semantics 
that weren't fixed until 2.6 came out.   If you're running a 2.6 kernel 
then look at /proc/<pid> where <pid> is the PID of the java process.   
In that you'll see a sub-directory called "task" which contains 
sub-directories for each thread, there's normally only one task, but 
multi-threaded processes will have several, eg

$ ps -e | grep java
29918 ?        00:02:38 java
$ ls /proc/29918/task
29918  29920  29922  29924  29928  29930  29937  8993
29919  29921  29923  29925  29929  29934  6875   917

jch


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 14:35:08 2006
Return-Path: <java-user-return-18377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70502 invoked from network); 17 Jan 2006 14:35:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 14:35:00 -0000
Received: (qmail 39058 invoked by uid 500); 17 Jan 2006 14:34:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38999 invoked by uid 500); 17 Jan 2006 14:34:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38952 invoked by uid 99); 17 Jan 2006 14:34:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 06:34:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.194 as permitted sender)
Received: from [66.249.82.194] (HELO xproxy.gmail.com) (66.249.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 06:34:55 -0800
Received: by xproxy.gmail.com with SMTP id i28so984773wxd
        for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 06:34:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=B8D3ZHiGJso2zSe5z7gz0PlK5s0VeF6iT5xeqwolhURjBpTVEjJHZHX4rx4GFJd0HIIP024X39TEx1VHebV7qCtqWZUqsvejPF1riuoJY/7094zAQIhqNPJtgg1MTgrksiTp0mI6tgOxSrkw++wLbjRHxXrCO80qD+NrICJU9uw=
Received: by 10.70.86.8 with SMTP id j8mr9589593wxb;
        Tue, 17 Jan 2006 06:34:34 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Tue, 17 Jan 2006 06:34:33 -0800 (PST)
Message-ID: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com>
Date: Tue, 17 Jan 2006 22:34:33 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Use the lucene for searching in the Semantic Web.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_157045_19783856.1137508473966"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_157045_19783856.1137508473966
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi friends,

How do you think use the lucene for searching in the Semantic Web? I am
trying using the lucene for searching documents with ontological annotation=
.
But i do not get a better model to combine the keywords information and the
ontological information.

regards
jiang xing

------=_Part_157045_19783856.1137508473966--

From java-user-return-18376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 14:38:30 2006
Return-Path: <java-user-return-18376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73805 invoked from network); 17 Jan 2006 14:38:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 14:38:30 -0000
Received: (qmail 30321 invoked by uid 500); 17 Jan 2006 14:30:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30300 invoked by uid 500); 17 Jan 2006 14:30:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30288 invoked by uid 99); 17 Jan 2006 14:30:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 06:30:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 06:30:25 -0800
Received: by xproxy.gmail.com with SMTP id i28so984019wxd
        for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 06:30:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ex4y8rmQNaYWvNAty8dotUQ3bzOfDTFib1A/2e+gphOAqPMSK5mLLzv4zjM6HHeirGynO7FOpg4jETqkrK+1MSP/Im7hwBW0UcahOaIgvw9jQ3hUfCdmqyNUiz64cCwkOjDb9yMI64DgF0hTO+aaANOMOacgZ4s46qQmL9Qxs58=
Received: by 10.70.14.6 with SMTP id 6mr7946106wxn;
        Tue, 17 Jan 2006 06:30:03 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Tue, 17 Jan 2006 06:30:03 -0800 (PST)
Message-ID: <277d4c5d0601170630p1ae5f672yfa57e581acbb1178@mail.gmail.com>
Date: Tue, 17 Jan 2006 22:30:03 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: One problem of using the lucene
In-Reply-To: <A98C8F3C-61D1-49BD-90BD-70E0BFC1B4A7@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_157001_27008577.1137508203323"
References: <277d4c5d0601160054t4c26666cx705090befbf1fc11@mail.gmail.com>
	 <0292C8E6-6084-4D0E-9CDB-1C319BDC6ACD@ehatchersolutions.com>
	 <277d4c5d0601162114y10f3b64ctc786f6386ecdff3@mail.gmail.com>
	 <60DCEEDA-9B97-44D6-9008-EE0E55E4B206@ehatchersolutions.com>
	 <277d4c5d0601170258x24cea0bfg8b9e0fda15827716@mail.gmail.com>
	 <A98C8F3C-61D1-49BD-90BD-70E0BFC1B4A7@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_157001_27008577.1137508203323
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Ok,  i  will try it.


On 1/17/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On Jan 17, 2006, at 5:58 AM, jason wrote:
> > I have test the snowballFilter and it does not stem the term
> > "support". It
> > means the term "support" should be in all the papers. However, i
> > add the
> > synonymFilter, the "support" is missing.
>
> Two very valuable troubleshooting techniques:
>
>    1) Run your analyzer used for indexing standalone on the trouble
> text.
>
>    2) Look at the Query.toString() of the parsed query.
>
> These two things will very likely point to the issue.
>
>        Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_157001_27008577.1137508203323--

From java-user-return-18378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 15:47:16 2006
Return-Path: <java-user-return-18378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30013 invoked from network); 17 Jan 2006 15:47:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 15:47:05 -0000
Received: (qmail 87072 invoked by uid 500); 17 Jan 2006 15:46:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86964 invoked by uid 500); 17 Jan 2006 15:46:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86941 invoked by uid 99); 17 Jan 2006 15:46:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 07:46:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 07:46:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 13D4013E202A; Tue, 17 Jan 2006 10:45:55 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E64D313E201D
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 10:45:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com>
References: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F129C2FB-F4CD-45B1-9096-E1034B98D105@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Use the lucene for searching in the Semantic Web.
Date: Tue, 17 Jan 2006 10:45:34 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Have a look at Kowari - http://www.kowari.org

It is a scalable RDF engine that also has full-text search support  
via Lucene.

Professionally I tinker with semweb and search topics, and eventually  
we'll have something to show for these efforts :)

	Erik


On Jan 17, 2006, at 9:34 AM, jason wrote:

> Hi friends,
>
> How do you think use the lucene for searching in the Semantic Web?  
> I am
> trying using the lucene for searching documents with ontological  
> annotation.
> But i do not get a better model to combine the keywords information  
> and the
> ontological information.
>
> regards
> jiang xing


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 16:41:51 2006
Return-Path: <java-user-return-18379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69120 invoked from network); 17 Jan 2006 16:41:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 16:41:51 -0000
Received: (qmail 25366 invoked by uid 500); 17 Jan 2006 16:41:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25048 invoked by uid 500); 17 Jan 2006 16:41:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25035 invoked by uid 99); 17 Jan 2006 16:41:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 08:41:44 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 08:41:43 -0800
Received: by zproxy.gmail.com with SMTP id i28so1298574nzi
        for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 08:41:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=C6zd8/5g8bRXIV8eOj+yHT2iYtRfXQFPBsAN0Es7T0fHF5dAxNkAnnxz4g8ehB3nXoQPqPvq6V2xJNSXAYoEKSPrR5a22SdISfUbl0uKbmgzM+Q4EvMjbbzK1P8Dt3aktL+sDCrNUJxeZ+fSzDRIKyjSjTET2zeZOaiQNawv8CE=
Received: by 10.65.124.13 with SMTP id b13mr4025365qbn;
        Tue, 17 Jan 2006 08:41:20 -0800 (PST)
Received: by 10.65.95.17 with HTTP; Tue, 17 Jan 2006 08:41:20 -0800 (PST)
Message-ID: <6e3ae6310601170841p64aff5dcl268e9de2f7303d54@mail.gmail.com>
Date: Tue, 17 Jan 2006 08:41:20 -0800
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Why we use Lucene for Database search like Oracle / Sybase ?
In-Reply-To: <D17EC75396CC974E85E180CE6F7F045D032D7C9A@itpxchmb2.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <D17EC75396CC974E85E180CE6F7F045D032D7C9A@itpxchmb2.enterprise.veritas.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

1) Because database mainly uses B-tree to index records' some columns.
Lucene or other full text search software uses to analyze the content
of each document and saved to inverted index. "Lucene's index falls
into the family of indexes known as an inverted index. This is because
it can list, for a term, the documents that contain it. This is the
inverse of the natural relationship, in which documents list terms."

Oracle has it's full-text search, ultrasearch. But you need to pay a
lot extra for it.

2) It'll work. But that will lose the unique information for each
column. And you may want to assign different weight to each filed.
I(working for DBSight) recommend you to take a look at
http://www.DBSight.net. It will help you to understand Lucene with
databases better.

Chris Lu
--------------
Full-Text Search on Any Databases
http://www.dbsight.net

On 1/17/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
> Hi Friends,
>
>         I have very basic question that
>
>     1] Why we use Lucene for Database search like Oracle / Sybase ?
>     2] For that first we have to convert all records one bye one in
> string then build lucene document and then index it ?
>
> Thanks
>
> From,
> [ vikas_khengare@symantec.com ]
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 16:56:52 2006
Return-Path: <java-user-return-18380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76824 invoked from network); 17 Jan 2006 16:56:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 16:56:51 -0000
Received: (qmail 62460 invoked by uid 500); 17 Jan 2006 16:56:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62379 invoked by uid 500); 17 Jan 2006 16:56:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62328 invoked by uid 99); 17 Jan 2006 16:56:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 08:56:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 08:56:35 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: best practices
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Tue, 17 Jan 2006 10:55:13 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2915ECE8@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: best practices
thread-index: AcYbhMURry8F+iNTSpqifews3OfbIAAAY05A
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hia
Is there any repository of best practices?  Does LIA represent that?
I was thinking about a blog or something that everyone could post their
solutions into.    I've written only 4 implementations of lucene, but
each was so very different, I was thinking it might be nice to know what
everyone else does.    And since reading this site, I see similar
questions asked over and over, but each time I hear something different,
a new technique to do this or that.   I'm no where near the expert at
optimizations and what not, but I could setup and maintain a blog or
something for everyone to post all that too, if it doesn't already
exist.     I'd like to help out someway, even if its clerical.   =20

--jN


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 17:26:08 2006
Return-Path: <java-user-return-18381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98357 invoked from network); 17 Jan 2006 17:26:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 17:26:07 -0000
Received: (qmail 42152 invoked by uid 500); 17 Jan 2006 17:26:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42117 invoked by uid 500); 17 Jan 2006 17:26:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42106 invoked by uid 99); 17 Jan 2006 17:25:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:25:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.204 as permitted sender)
Received: from [66.249.82.204] (HELO xproxy.gmail.com) (66.249.82.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:25:59 -0800
Received: by xproxy.gmail.com with SMTP id i28so1012767wxd
        for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 09:25:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BXHN3ZVMDb6uwrojgjtpju04YST6DiZb1dD1B9lC7ZJjgzYk6QAfcfXz3/V/gn14grNv6Fbt3zkPkj+oqXADmB83b3EpEDxq0NDZ5ZtDrD65Y9SRL21adx9NH2fIXdCiYWJyt658tZfaqiWq6P8JCWSPpsdHvUDkXSjlIpKFHts=
Received: by 10.70.36.14 with SMTP id j14mr9775279wxj;
        Tue, 17 Jan 2006 09:25:38 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Tue, 17 Jan 2006 09:25:38 -0800 (PST)
Message-ID: <277d4c5d0601170925q5c933cfeqc7610582b4c2630f@mail.gmail.com>
Date: Wed, 18 Jan 2006 01:25:38 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <F129C2FB-F4CD-45B1-9096-E1034B98D105@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_159623_25793035.1137518738299"
References: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com>
	 <F129C2FB-F4CD-45B1-9096-E1034B98D105@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_159623_25793035.1137518738299
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

hi Erik,

thx for your reply.

I think the Kowari is a system for searching information in the RDF files.
It is only for finding information in the meta data files. However, i think
one problem of the Semantic Web is that, if we have a document and its RDF
annotate, how do we retrieve the documents? Right now, we can use keyword
based method to find relevant documents to user's query and use some kinds
of technologies for finding metadata files. But can we combine the two
processes and how can we combine them?

regards
Jiang Xing


On 1/17/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> Have a look at Kowari - http://www.kowari.org
>
> It is a scalable RDF engine that also has full-text search support
> via Lucene.
>
> Professionally I tinker with semweb and search topics, and eventually
> we'll have something to show for these efforts :)
>
>        Erik
>
>
> On Jan 17, 2006, at 9:34 AM, jason wrote:
>
> > Hi friends,
> >
> > How do you think use the lucene for searching in the Semantic Web?
> > I am
> > trying using the lucene for searching documents with ontological
> > annotation.
> > But i do not get a better model to combine the keywords information
> > and the
> > ontological information.
> >
> > regards
> > jiang xing
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_159623_25793035.1137518738299--

From java-user-return-18382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 17:31:58 2006
Return-Path: <java-user-return-18382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1547 invoked from network); 17 Jan 2006 17:31:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 17:31:58 -0000
Received: (qmail 53004 invoked by uid 500); 17 Jan 2006 17:31:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52971 invoked by uid 500); 17 Jan 2006 17:31:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52959 invoked by uid 99); 17 Jan 2006 17:31:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:31:51 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:31:50 -0800
Received: from home-pool7-2.com2com.ru ([195.98.167.2] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1Eyug1-0006hZ-0u
	for java-user@lucene.apache.org; Tue, 17 Jan 2006 11:31:25 -0600
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: best practices
Date: Tue, 17 Jan 2006 20:38:14 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcYbhMURry8F+iNTSpqifews3OfbIAAAY05AAAGWmmA=
In-reply-to: <F9E303076B72074AB76B2C8F78952B2915ECE8@bettylou.configureone.net>
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060117173151.23F2810FB0A6@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> -----Original Message-----
> From: John Powers [mailto:jpowers@configureone.com] 
> 
> Is there any repository of best practices?  Does LIA represent that?
> I was thinking about a blog or something that everyone could 
> post their solutions into. 

I think http://wiki.apache.org/jakarta-lucene/HowTo

Pasha Bizhan



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 17:32:38 2006
Return-Path: <java-user-return-18383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1830 invoked from network); 17 Jan 2006 17:32:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 17:32:36 -0000
Received: (qmail 54984 invoked by uid 500); 17 Jan 2006 17:32:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54730 invoked by uid 500); 17 Jan 2006 17:32:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54718 invoked by uid 99); 17 Jan 2006 17:32:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:32:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:32:29 -0800
Received: from sleipnir2 (dslb-084-061-039-175.pools.arcor-ip.net [84.61.39.175])
	by basicbox6.server-home.net (Postfix) with ESMTP id CD0F671880A
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 18:32:03 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: AW: Use the lucene for searching in the Semantic Web.
Date: Tue, 17 Jan 2006 18:32:06 +0100
Message-ID: <000c01c61b8b$f02cf4c0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcYbczYh/uklu8HKRzmHrueQUxx/jgAFU1Lw
In-Reply-To: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jiang,

I'm currently facing a similar problem. Up to now I have to use for the
semantic query a graph matching algorithm, but the fulltext search in =
the
semantic web is performed by lucene.=20
At first I wrote the whole text into a one index. The document contains =
one
field for the unique id and on for the whole text. For the semantic =
markup I
use an extra index. Every rdf triple will result in a document with the
following fields id, predicate + subject + object. Every query is =
executed
on both indexes. I use an extra index for the rdf data, because this =
results
in a higher score for the documents. You might argue that this would
adulterate the result, but from me point of view explicit Meta data =
should
be higher scored then terms in document body.=20

Cheers,

Klaus

-----Urspr=FCngliche Nachricht-----
Von: jason [mailto:gingerons@gmail.com]=20
Gesendet: Dienstag, 17. Januar 2006 15:35
An: java-user@lucene.apache.org
Betreff: Use the lucene for searching in the Semantic Web.

Hi friends,

How do you think use the lucene for searching in the Semantic Web? I am
trying using the lucene for searching documents with ontological =
annotation.
But i do not get a better model to combine the keywords information and =
the
ontological information.

regards
jiang xing


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 17:40:42 2006
Return-Path: <java-user-return-18384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6240 invoked from network); 17 Jan 2006 17:40:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 17:40:42 -0000
Received: (qmail 72609 invoked by uid 500); 17 Jan 2006 17:40:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72579 invoked by uid 500); 17 Jan 2006 17:40:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72568 invoked by uid 99); 17 Jan 2006 17:40:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:40:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 09:40:30 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: best practices
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Tue, 17 Jan 2006 11:39:09 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2915ECF5@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: best practices
thread-index: AcYbi8U666NXIr9SQxyD6IDY122dwQAAHT/A
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If that's it, that's fine.  I guess I had in mind something else?  For
example, one of mine uses categories (something mentioned quite a bit),
but it has some slight differences from what I've seen before.   Items
can be in multiple locations, the categories can move around amoungst
themselves, and a couple other issues.  Then there is an event/calendar
system..  it allows for repeating occurances by filling the date field
with iterations at the frequency and count of the event.     A bible
searcher that uses different books to compare translations, allowing
also for comments, etc.   I've talked with a couple other people and it
seems something basic like 'categories' take on different solutions each
time.    Maybe it's the model of the customer, but maybe there is a best
way to do that.   I know that's in this wiki, but there are others.
But like I said, if this is wiki is it, perfect!    Maybe it is what I
was thinking of.  =20

-----Original Message-----
From: Pasha Bizhan [mailto:lucene-list@lucenedotnet.com]=20
Sent: Tuesday, January 17, 2006 11:38 AM
To: java-user@lucene.apache.org
Subject: RE: best practices

Hi,=20

> -----Original Message-----
> From: John Powers [mailto:jpowers@configureone.com]=20
>=20
> Is there any repository of best practices?  Does LIA represent that?
> I was thinking about a blog or something that everyone could=20
> post their solutions into.=20

I think http://wiki.apache.org/jakarta-lucene/HowTo

Pasha Bizhan



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 20:01:24 2006
Return-Path: <java-user-return-18385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91513 invoked from network); 17 Jan 2006 20:01:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 20:01:22 -0000
Received: (qmail 30758 invoked by uid 500); 17 Jan 2006 20:01:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30719 invoked by uid 500); 17 Jan 2006 20:01:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 12721 invoked by uid 99); 17 Jan 2006 19:52:57 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C61B9F.8F2BA581"
Subject: Lucene Query Writing question
Date: Tue, 17 Jan 2006 14:52:33 -0500
Message-ID: <13F36D2926AD444697093282F20041B703FA4692@buf-ex01.cymfony.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Query Writing question
Thread-Index: AcYbn466K1oY/zcwRpuqzL9qFl54lQ==
From: "Dan Katz" <dkatz@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C61B9F.8F2BA581
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C61B9F.8F2BA581"


------_=_NextPart_002_01C61B9F.8F2BA581
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I apologize if sending this to the wrong place, but I need some help
writing some lucene queries.  I am not the Lucene manager here at our
company.  Just a lowly unsophisticated user who would be appreciative of
any help that can be provided.
=20
Question 1)   Is there a way in Lucene to have some sort of limit based
on term count.  For example,  "atleast5 Apple" to find items with the
word apple only when it has at least 5 mentions.
=20
Question 2) We use Lucene to index articles from Web sites. When I have
these documents I want to find when a Web site is mentioned, but not the
email addresses of a Web site.   I write something like "website.com NOT
\@website.com".  This works to a point.  However, it also excludes the
documents when the website.com AND the @website.com is mentioned.  I
want to eliminate the content that only has @website.com but keep it
whenever the @ is not present.  Does anyone know how I would write this
query?
=20
Again, I apologize if sending this to the wrong place and would be
thankful for any help I can get.
=20
Dan Katz
Cymfony
=20

=20


------_=_NextPart_002_01C61B9F.8F2BA581
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE id=3DridTitle>Blank</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<STYLE>BODY {
	MARGIN-TOP: 25px; FONT-SIZE: 10pt; MARGIN-LEFT: 25px; COLOR: #000000; =
FONT-FAMILY: Arial, Helvetica
}
P.msoNormal {
	MARGIN-TOP: 0px; FONT-SIZE: 10pt; MARGIN-LEFT: 0px; COLOR: #ffffcc; =
FONT-FAMILY: Helvetica, "Times New Roman"
}
LI.msoNormal {
	MARGIN-TOP: 0px; FONT-SIZE: 10pt; MARGIN-LEFT: 0px; COLOR: #ffffcc; =
FONT-FAMILY: Helvetica, "Times New Roman"
}
</STYLE>

<META content=3D"MSHTML 6.00.2900.2722" name=3DGENERATOR></HEAD>
<BODY id=3DridBody background=3Dcid:667594419@17012006-0CC9>
<DIV><SPAN class=3D667594419-17012006>I apologize if sending this to the =
wrong=20
place, but I need some help writing some lucene queries.&nbsp; I am not =
the=20
Lucene manager here at our company.&nbsp; Just a lowly unsophisticated =
user who=20
would be appreciative of any help that can be provided.</SPAN></DIV>
<DIV>&nbsp;</DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006>Question =
1)&nbsp;&nbsp; Is there=20
a way in Lucene to have some sort of limit based on term count.&nbsp; =
For=20
example,&nbsp; "atleast5 Apple" to find items with the word apple only =
when it=20
has at least 5 mentions.</SPAN></DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006></SPAN>&nbsp;</DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006>Question 2)&nbsp;We =
use Lucene to=20
index articles from Web sites. When I have these documents I want to =
find when a=20
Web site is mentioned, but not the email addresses of a Web site.&nbsp; =
&nbsp;I=20
write something like "website.com NOT \@website.com".&nbsp; This works =
to a=20
point.&nbsp; However, it also excludes the documents when the =
website.com AND=20
the @website.com is mentioned.&nbsp; I want to eliminate the content =
that only=20
has @website.com but keep it whenever the @ is not present.&nbsp; Does =
anyone=20
know how I would write this query?</SPAN></DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006></SPAN>&nbsp;</DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006>Again, I apologize if =
sending=20
this to the wrong place and would be thankful for any help I can=20
get.</SPAN></DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006></SPAN>&nbsp;</DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006>Dan Katz</SPAN></DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006>Cymfony</SPAN></DIV>
<DIV align=3Dleft><SPAN class=3D667594419-17012006></SPAN>&nbsp;</DIV>
<P>&nbsp;</P></BODY></HTML>

------_=_NextPart_002_01C61B9F.8F2BA581--

------_=_NextPart_001_01C61B9F.8F2BA581--

From java-user-return-18386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 20:23:30 2006
Return-Path: <java-user-return-18386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15530 invoked from network); 17 Jan 2006 20:23:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 20:23:29 -0000
Received: (qmail 72591 invoked by uid 500); 17 Jan 2006 20:23:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72552 invoked by uid 500); 17 Jan 2006 20:23:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72541 invoked by uid 99); 17 Jan 2006 20:23:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 12:23:22 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.67] (HELO web33003.mail.mud.yahoo.com) (68.142.206.67)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jan 2006 12:23:21 -0800
Received: (qmail 59294 invoked by uid 60001); 17 Jan 2006 20:23:00 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ob2//iPXDMfuarrOn1l2NMLCWDqiL+L8IrtAcAldYb9AcIn9OvmiajoF4VPISDSGipnifu3iWBOm1ZcB3/ZU/BhpAPTiflCxujwug4oizE/GA3hVhASH4iBIS3QqQAIeJVIim7dKxXclEk5h3lBDjEaWdaAbhrTbPu2NgZSv09k=  ;
Message-ID: <20060117202300.59292.qmail@web33003.mail.mud.yahoo.com>
Received: from [63.237.220.2] by web33003.mail.mud.yahoo.com via HTTP; Tue, 17 Jan 2006 12:23:00 PST
Date: Tue, 17 Jan 2006 12:23:00 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: Why we use Lucene for Database search like Oracle / Sybase ?
To: java-user@lucene.apache.org
In-Reply-To: <6e3ae6310601170841p64aff5dcl268e9de2f7303d54@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1. The conventional database uses B+tree as the
indexing mechanism, while search engine uses
inverted-index. 

   When user needs to update the data frequently, then
B+tree is a better choice. However, for search engine,
the data and index doesn't change too often. 

   Inverted indexes are tables. For example, .tis
index file is a table of columns including "Field
name", "Field value" and "doc freq". However, there
are no B+tree associated with those tables. 

   Inverted index is less space consuming comparing
with B+tree index. Imagine there is a table which has
a ID column. Suppose there are N rows in this table,
the size of B+tree is O(Nlog(N)), but the size of
inverted index is O(N). 

2. Searching:

   Conventional RDBMS searches among the B+tree. But a
search engine "hops" along the inverted index, which
is sorted. Suppose a field value of inverted index is
"0, 3, 4, 6, 20, 29, 39, 60, 202", to search for a
given value say 6, the search engine may start with
"0", then hop with a fixed length, say 4, to "20",
then to "202". If nesssary, it "hops" backforwards but
with shrinked pace.

   A search engine assumes the inverted indexes are
sorted. This is a strong assumption, especially it is
very hard to maintain if the user can update the data
thus index at any time. B+tree doesn't comply to this
strong assumption. 

   When the dataset and index is small, B+tree is
faster than inverted index search. However, with
gigabytes, inverted index search tends to be faster,
because inverted index is smaller in size, thus less
disk IO required. 


3. Compression. 

  Lucene compressed the data in its inverted indexes,
because it assumes the indexes do not change very
frequently. However, B+tree doesn't compress, because
it doesn't assume the same stability of its indexes. 


4. Inverted index doesn't required fix-length of
columns. 

  Conventional RDBMS assumes that every row of a table
must be of the same columns. When one row may have
some extra columns, a workaround is to use "flex".
However, each Document of Lucene may be of different
fields. 

  
5. Inverted index is convenient for alias/synonyms. 

  Since inverted indexes refer to the original dataset
by offset pointers, it is convenient to inject alias
and synonym into the inverted indexes, as long as they
point to the same offset of the original dataset. 

  However, it is not very convenient to do the same
job with conventional database enpowered by B+tree. 

6. Ranking. 

  A search engine's implementation makes it convenient
to rank the search result. But with conventional
database, it is not so convenient. 

7. Search engine doesn't bother SQL language. 

  Usually conventional database suppose SQL language
to make it convenient for user to organize data, set
up index, query, etc. However, SQL's convenience comes
with price, because RDBMS engine has to handle the
compilation and figure out execution plan for most
queries. 

  However, SQL language is not mandatory for RDBMS,
the embedded database like BerkeleyDB (Sleepycat)
doesn't support SQL, therefore, it is faster than
using SQL. 

  Lucene doesn't support SQL-like language. But it is
possible to do so if people like SQL's convenient. 


In summary, for many applications, search engine and
database are competitive solutions. One has to
consider in depth to choose either search engine or
database, and in some cases, the border is blurred. 


Kan



__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 21:02:48 2006
Return-Path: <java-user-return-18387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41668 invoked from network); 17 Jan 2006 21:02:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 21:02:44 -0000
Received: (qmail 19849 invoked by uid 500); 17 Jan 2006 21:02:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18813 invoked by uid 500); 17 Jan 2006 21:01:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18130 invoked by uid 99); 17 Jan 2006 21:01:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 13:01:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 13:01:07 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Why we use Lucene for Database search like Oracle / Sybase ?
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Tue, 17 Jan 2006 14:59:45 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2915ED3C@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Why we use Lucene for Database search like Oracle / Sybase ?
thread-index: AcYbo7srtkSgTu10SIOl0/Ig98tuUQABO/Dw
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Would you say as a best practice that you can use both?    When would
you and when wouldn't you?  I trust databases more then free files, so I
am putting my more sensitive and volatile data in the database.   If you
built a commenting system.. like a blog or an flickr type app, would
just a lucene solution be best?      The problem with both of course is
syncing.. =20

-----Original Message-----
From: Kan Deng [mailto:kan.deng@yahoo.com]=20
Sent: Tuesday, January 17, 2006 2:23 PM
To: java-user@lucene.apache.org
Subject: Re: Why we use Lucene for Database search like Oracle / Sybase
?


1. The conventional database uses B+tree as the
indexing mechanism, while search engine uses
inverted-index.=20

   When user needs to update the data frequently, then
B+tree is a better choice. However, for search engine,
the data and index doesn't change too often.=20

   Inverted indexes are tables. For example, .tis
index file is a table of columns including "Field
name", "Field value" and "doc freq". However, there
are no B+tree associated with those tables.=20

   Inverted index is less space consuming comparing
with B+tree index. Imagine there is a table which has
a ID column. Suppose there are N rows in this table,
the size of B+tree is O(Nlog(N)), but the size of
inverted index is O(N).=20

2. Searching:

   Conventional RDBMS searches among the B+tree. But a
search engine "hops" along the inverted index, which
is sorted. Suppose a field value of inverted index is
"0, 3, 4, 6, 20, 29, 39, 60, 202", to search for a
given value say 6, the search engine may start with
"0", then hop with a fixed length, say 4, to "20",
then to "202". If nesssary, it "hops" backforwards but
with shrinked pace.

   A search engine assumes the inverted indexes are
sorted. This is a strong assumption, especially it is
very hard to maintain if the user can update the data
thus index at any time. B+tree doesn't comply to this
strong assumption.=20

   When the dataset and index is small, B+tree is
faster than inverted index search. However, with
gigabytes, inverted index search tends to be faster,
because inverted index is smaller in size, thus less
disk IO required.=20


3. Compression.=20

  Lucene compressed the data in its inverted indexes,
because it assumes the indexes do not change very
frequently. However, B+tree doesn't compress, because
it doesn't assume the same stability of its indexes.=20


4. Inverted index doesn't required fix-length of
columns.=20

  Conventional RDBMS assumes that every row of a table
must be of the same columns. When one row may have
some extra columns, a workaround is to use "flex".
However, each Document of Lucene may be of different
fields.=20

 =20
5. Inverted index is convenient for alias/synonyms.=20

  Since inverted indexes refer to the original dataset
by offset pointers, it is convenient to inject alias
and synonym into the inverted indexes, as long as they
point to the same offset of the original dataset.=20

  However, it is not very convenient to do the same
job with conventional database enpowered by B+tree.=20

6. Ranking.=20

  A search engine's implementation makes it convenient
to rank the search result. But with conventional
database, it is not so convenient.=20

7. Search engine doesn't bother SQL language.=20

  Usually conventional database suppose SQL language
to make it convenient for user to organize data, set
up index, query, etc. However, SQL's convenience comes
with price, because RDBMS engine has to handle the
compilation and figure out execution plan for most
queries.=20

  However, SQL language is not mandatory for RDBMS,
the embedded database like BerkeleyDB (Sleepycat)
doesn't support SQL, therefore, it is faster than
using SQL.=20

  Lucene doesn't support SQL-like language. But it is
possible to do so if people like SQL's convenient.=20


In summary, for many applications, search engine and
database are competitive solutions. One has to
consider in depth to choose either search engine or
database, and in some cases, the border is blurred.=20


Kan



__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around=20
http://mail.yahoo.com=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 21:35:46 2006
Return-Path: <java-user-return-18388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64747 invoked from network); 17 Jan 2006 21:35:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 21:35:46 -0000
Received: (qmail 93718 invoked by uid 500); 17 Jan 2006 21:35:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92721 invoked by uid 500); 17 Jan 2006 21:35:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 65799 invoked by uid 99); 17 Jan 2006 21:20:15 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of petedaly@gmail.com designates 66.249.92.192 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZZyC+7dm1hQUl6pYURxeU6TZGp+nU8KBDzweYNXpcsg8Gp4VQAsf1NhQrEboJUGow9tNvyyuW3oOwaiVyED5bUddofmS7GUop2qiA7Ty4lMtEDZ+N1QUSGuHOVOzcDrKjtctHfpQABQQgAeKMk8bKvI8OL+lOOi6Ftx+O4tO5/c=
Message-ID: <6f0a20e10601171319k190a4226l511d538b3d1cc96e@mail.gmail.com>
Date: Tue, 17 Jan 2006 16:19:49 -0500
From: "Peter A. Daly" <petedaly@gmail.com>
Reply-To: petedaly@ix.netcom.com
To: java-user@lucene.apache.org
Subject: Re: Why we use Lucene for Database search like Oracle / Sybase ?
In-Reply-To: <F9E303076B72074AB76B2C8F78952B2915ED3C@bettylou.configureone.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_44205_4668680.1137532789015"
References: <F9E303076B72074AB76B2C8F78952B2915ED3C@bettylou.configureone.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_44205_4668680.1137532789015
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

In many cases that essentially require traditional RDBMS but also require
lucene like functionality, I would use the database as the primary data
store.  I would then either:
1.  Update the lucene index using data from the database based on a
scheduled process.
2.  As records are added, add them to both Lucene and the database.

It's a little extra work (and space,) but you get the best of both worlds.

-Pete

On 1/17/06, John Powers <jpowers@configureone.com> wrote:
>
> Would you say as a best practice that you can use both?    When would
> you and when wouldn't you?  I trust databases more then free files, so I
> am putting my more sensitive and volatile data in the database.   If you
> built a commenting system.. like a blog or an flickr type app, would
> just a lucene solution be best?      The problem with both of course is
> syncing..
>
> -----Original Message-----
> From: Kan Deng [mailto:kan.deng@yahoo.com]
> Sent: Tuesday, January 17, 2006 2:23 PM
> To: java-user@lucene.apache.org
> Subject: Re: Why we use Lucene for Database search like Oracle / Sybase
> ?
>
>
> 1. The conventional database uses B+tree as the
> indexing mechanism, while search engine uses
> inverted-index.
>
>    When user needs to update the data frequently, then
> B+tree is a better choice. However, for search engine,
> the data and index doesn't change too often.
>
>    Inverted indexes are tables. For example, .tis
> index file is a table of columns including "Field
> name", "Field value" and "doc freq". However, there
> are no B+tree associated with those tables.
>
>    Inverted index is less space consuming comparing
> with B+tree index. Imagine there is a table which has
> a ID column. Suppose there are N rows in this table,
> the size of B+tree is O(Nlog(N)), but the size of
> inverted index is O(N).
>
> 2. Searching:
>
>    Conventional RDBMS searches among the B+tree. But a
> search engine "hops" along the inverted index, which
> is sorted. Suppose a field value of inverted index is
> "0, 3, 4, 6, 20, 29, 39, 60, 202", to search for a
> given value say 6, the search engine may start with
> "0", then hop with a fixed length, say 4, to "20",
> then to "202". If nesssary, it "hops" backforwards but
> with shrinked pace.
>
>    A search engine assumes the inverted indexes are
> sorted. This is a strong assumption, especially it is
> very hard to maintain if the user can update the data
> thus index at any time. B+tree doesn't comply to this
> strong assumption.
>
>    When the dataset and index is small, B+tree is
> faster than inverted index search. However, with
> gigabytes, inverted index search tends to be faster,
> because inverted index is smaller in size, thus less
> disk IO required.
>
>
> 3. Compression.
>
>   Lucene compressed the data in its inverted indexes,
> because it assumes the indexes do not change very
> frequently. However, B+tree doesn't compress, because
> it doesn't assume the same stability of its indexes.
>
>
> 4. Inverted index doesn't required fix-length of
> columns.
>
>   Conventional RDBMS assumes that every row of a table
> must be of the same columns. When one row may have
> some extra columns, a workaround is to use "flex".
> However, each Document of Lucene may be of different
> fields.
>
>
> 5. Inverted index is convenient for alias/synonyms.
>
>   Since inverted indexes refer to the original dataset
> by offset pointers, it is convenient to inject alias
> and synonym into the inverted indexes, as long as they
> point to the same offset of the original dataset.
>
>   However, it is not very convenient to do the same
> job with conventional database enpowered by B+tree.
>
> 6. Ranking.
>
>   A search engine's implementation makes it convenient
> to rank the search result. But with conventional
> database, it is not so convenient.
>
> 7. Search engine doesn't bother SQL language.
>
>   Usually conventional database suppose SQL language
> to make it convenient for user to organize data, set
> up index, query, etc. However, SQL's convenience comes
> with price, because RDBMS engine has to handle the
> compilation and figure out execution plan for most
> queries.
>
>   However, SQL language is not mandatory for RDBMS,
> the embedded database like BerkeleyDB (Sleepycat)
> doesn't support SQL, therefore, it is faster than
> using SQL.
>
>   Lucene doesn't support SQL-like language. But it is
> possible to do so if people like SQL's convenient.
>
>
> In summary, for many applications, search engine and
> database are competitive solutions. One has to
> consider in depth to choose either search engine or
> database, and in some cases, the border is blurred.
>
>
> Kan
>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_44205_4668680.1137532789015--

From java-user-return-18389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 22:19:53 2006
Return-Path: <java-user-return-18389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88717 invoked from network); 17 Jan 2006 22:19:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 22:19:52 -0000
Received: (qmail 74429 invoked by uid 500); 17 Jan 2006 22:19:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74384 invoked by uid 500); 17 Jan 2006 22:19:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74370 invoked by uid 99); 17 Jan 2006 22:19:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 14:19:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.36] (HELO smtp-vbr16.xs4all.nl) (194.109.24.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 14:19:46 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr16.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0HMJOdl017303
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 23:19:25 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Lucene Query Writing question
Date: Tue, 17 Jan 2006 23:19:23 +0100
User-Agent: KMail/1.8.2
References: <13F36D2926AD444697093282F20041B703FA4692@buf-ex01.cymfony.com>
In-Reply-To: <13F36D2926AD444697093282F20041B703FA4692@buf-ex01.cymfony.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601172319.24087.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 17 January 2006 20:52, Dan Katz wrote:
...
> Question 1)   Is there a way in Lucene to have some sort of limit based
> on term count.  For example,  "atleast5 Apple" to find items with the
> word apple only when it has at least 5 mentions.

This can be done, but you'll need to write your own TermQuery and
TermScorer for this. Just add the requirement of the minimum number
of term occurrences in your own TermScorer.
Have a look at the Java code of TermScorer, it should be straightforward
to do this.

>  
> Question 2) We use Lucene to index articles from Web sites. When I have
> these documents I want to find when a Web site is mentioned, but not the
> email addresses of a Web site.   I write something like "website.com NOT
> \@website.com".  This works to a point.  However, it also excludes the
> documents when the website.com AND the @website.com is mentioned.  I
> want to eliminate the content that only has @website.com but keep it
> whenever the @ is not present.  Does anyone know how I would write this
> query?

You'll need to make sure the the query term website.com does not match
@website.com so you can simply query for website.com.
I don't know how the StandardAnalyzer deals with this case.
You may need to use your own Analyzer to make sure that @website.com
is only indexed as @website.com and never as website.com .
If you need to know how some text is indexed try Luke:
http://www.getopt.org/luke/

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 22:30:25 2006
Return-Path: <java-user-return-18390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93426 invoked from network); 17 Jan 2006 22:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 22:30:25 -0000
Received: (qmail 90496 invoked by uid 500); 17 Jan 2006 22:30:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90467 invoked by uid 500); 17 Jan 2006 22:30:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90456 invoked by uid 99); 17 Jan 2006 22:30:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 14:30:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 14:30:18 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4C7745B775; Tue, 17 Jan 2006 14:29:51 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 49D5F7F403
	for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 14:29:51 -0800 (PST)
Date: Tue, 17 Jan 2006 14:29:51 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: best practices
In-Reply-To: <F9E303076B72074AB76B2C8F78952B2915ECF5@bettylou.configureone.net>
Message-ID: <Pine.LNX.4.58.0601171424120.28090@hal.rescomp.berkeley.edu>
References: <F9E303076B72074AB76B2C8F78952B2915ECF5@bettylou.configureone.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



The concept of a category means very differnet things to different people,
but if you've got several differnet use cases that you think other people
can benefit from, by all means feel free to write up descriptions of the
problem you solved, and how you solved it and post it in the HowTo
section of the wiki.

Not all HowTo pages need to be the same style, or have the same
granularity ... feel free to just "brain dump" any ideas you want to
share.



: Date: Tue, 17 Jan 2006 11:39:09 -0600
: From: John Powers <jpowers@configureone.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: RE: best practices
:
: If that's it, that's fine.  I guess I had in mind something else?  For
: example, one of mine uses categories (something mentioned quite a bit),
: but it has some slight differences from what I've seen before.   Items
: can be in multiple locations, the categories can move around amoungst
: themselves, and a couple other issues.  Then there is an event/calendar
: system..  it allows for repeating occurances by filling the date field
: with iterations at the frequency and count of the event.     A bible
: searcher that uses different books to compare translations, allowing
: also for comments, etc.   I've talked with a couple other people and it
: seems something basic like 'categories' take on different solutions each
: time.    Maybe it's the model of the customer, but maybe there is a best
: way to do that.   I know that's in this wiki, but there are others.
: But like I said, if this is wiki is it, perfect!    Maybe it is what I
: was thinking of.
:
: -----Original Message-----
: From: Pasha Bizhan [mailto:lucene-list@lucenedotnet.com]
: Sent: Tuesday, January 17, 2006 11:38 AM
: To: java-user@lucene.apache.org
: Subject: RE: best practices
:
: Hi,
:
: > -----Original Message-----
: > From: John Powers [mailto:jpowers@configureone.com]
: >
: > Is there any repository of best practices?  Does LIA represent that?
: > I was thinking about a blog or something that everyone could
: > post their solutions into.
:
: I think http://wiki.apache.org/jakarta-lucene/HowTo
:
: Pasha Bizhan
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 17 23:38:03 2006
Return-Path: <java-user-return-18391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22781 invoked from network); 17 Jan 2006 23:38:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Jan 2006 23:38:02 -0000
Received: (qmail 72332 invoked by uid 500); 17 Jan 2006 23:37:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72311 invoked by uid 500); 17 Jan 2006 23:37:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72300 invoked by uid 99); 17 Jan 2006 23:37:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 15:37:56 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.206.67] (HELO web33003.mail.mud.yahoo.com) (68.142.206.67)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 17 Jan 2006 15:37:55 -0800
Received: (qmail 49476 invoked by uid 60001); 17 Jan 2006 23:37:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=CbdY2+xjCzLuTehW5P7bJja5y3qdhjDMq3rIEXFvDt85dMeR3sduJxAHUSil7HB+Lw9/G21bgaXity0gi62HDzFEOQXRPNhOg1hCubDFYxLZ9k73unjnk2BbDxgFBHwlkLpD0Vt0IAV+PDikaQnxYbElOVMPsrsWC7VnTq23cuw=  ;
Message-ID: <20060117233734.49474.qmail@web33003.mail.mud.yahoo.com>
Received: from [63.237.220.2] by web33003.mail.mud.yahoo.com via HTTP; Tue, 17 Jan 2006 15:37:34 PST
Date: Tue, 17 Jan 2006 15:37:34 -0800 (PST)
From: Kan Deng <kan.deng@yahoo.com>
Subject: Re: Why we use Lucene for Database search like Oracle / Sybase ?
To: java-user@lucene.apache.org
In-Reply-To: <6f0a20e10601171319k190a4226l511d538b3d1cc96e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For many applications, search engine and database are
competitive solutions. One has to consider in depth to
choose either search engine or database, and in some
cases, the border is blurred. 

There are several issues to consider when selecting
database or Lucene or both as the solution to a
specific application. 

1. Data change frequency. 

   Suppose there is a "restaurant" table, which
contains a "current customers" column. Since the
content of this column is updated very frequently,
Lucene is not a good choice. 

   However, for "menu" column, Lucene definitely a
strong candidate for indexing and searching. 


2. Query. 

   Suppose the "restaurant" table which contains a
"menu" column, there are two ways to store the content
into the "menu" column, one is put all the dishes into
it as a big string delimited by comma. Another way is
to separate each dish into different rows, so that one
single restaurant may have multiple rows. 

   If the menu is stored as a big string, then
conventional RDBMS is not capable of doing the search.
Because "select * from restaurant where menu like
'%BBQ%'" will induce a full table scan. 

   However, if the dishes are stored in separated
rows, RDBMS is among the candidates. More analysis
needs to be considered before making the decision. 


3. Performance. 

   Intuitively, B+tree based search sounds faster than
inverted-index search. However, since inverted-index
organizes the data in a sorted way, its search
performance doesn't fall behind B+tree search for too
far. Imagine there is an inverted-index, "0, 1, 2, 3,
4, 5, 6, 7, 8", the "hopping" algorithm can be
implemented in a way identical to the binary search,
if starting with "4", then either "2" or "6", so on.
Lucene uses fixed interval hopping, mainly because it
is convenient to implement with satisfying
performance, even though theoritically not so good as
binary search or B+tree search. 

   The above comparison assume B+tree and
inverted-index are loaded fully into RAM. In case the
index is so big that it is mandatory to swap between
RAM and disk, inverted-index tends to excel B+tree
index. The reason is that B+tree index occupies more
space, which induces more disk IO, and consequently
reduces the overall performance. 


4. Infrastructure. 

   RDBMS products consume a lot of computational
resource, if the user doesn't want to break into the
RDBMS's source code and get rid of the unwanted
functionality like SQL language. As a result, usually
RDBMS is running on a standalone machine, and use
JDBC/ODBC to interact with application which is
running on another machine, via network. Keep in mind
that average it costs 10-1000 milliseconds to transmit
data through network, depending on the size of your
data. If one wants his server running fast and scaling
well like Google.com, even 10 millisecond is a big
issue that he has to think hard how to save. 

   Therefore, for better performance, maybe it is more
appropriate to put the application logic on the same
machine as the data repository. However, if one wants
to use conventional RDBMS as a blackbox, the one tier
solution may not work well because RDBMS consumes so
much computational resource that there is little
remained for application logic to use. 

   As a best practice, an embedded database is more
favorable than the standalone RDBMS blackbox,
especially for non-critical data repository, and
usually with better performance. 

   The comparison between embedded database and Lucene
is subtle. Sometimes it is reasonable to merge Lucene
with embedded database. 


5. Integrate Lucene with embedded database.

   One reason is to integrate Lucene with embedded
database is to support blind query like "select * from
restaurant where menu like '%BBQ%'". 

   It is possible to integrate Lucene with embedded
database, but a difficulty is how to update the
inverted-indexes frequently. This is an interesting
problem, however, to my best knowledge, there is no
good solution for the time being. 


Kan


--- "Peter A. Daly" <petedaly@gmail.com> wrote:

> In many cases that essentially require traditional
> RDBMS but also require
> lucene like functionality, I would use the database
> as the primary data
> store.  I would then either:
> 1.  Update the lucene index using data from the
> database based on a
> scheduled process.
> 2.  As records are added, add them to both Lucene
> and the database.
> 
> It's a little extra work (and space,) but you get
> the best of both worlds.
> 
> -Pete
> 
> On 1/17/06, John Powers <jpowers@configureone.com>
> wrote:
> >
> > Would you say as a best practice that you can use
> both?    When would
> > you and when wouldn't you?  I trust databases more
> then free files, so I
> > am putting my more sensitive and volatile data in
> the database.   If you
> > built a commenting system.. like a blog or an
> flickr type app, would
> > just a lucene solution be best?      The problem
> with both of course is
> > syncing..
> >
> >

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 03:36:33 2006
Return-Path: <java-user-return-18392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25992 invoked from network); 18 Jan 2006 03:36:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 03:36:33 -0000
Received: (qmail 70776 invoked by uid 500); 18 Jan 2006 03:36:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70745 invoked by uid 500); 18 Jan 2006 03:36:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70733 invoked by uid 99); 18 Jan 2006 03:36:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 19:36:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Jan 2006 19:36:24 -0800
Received: by xproxy.gmail.com with SMTP id i28so1093094wxd
        for <java-user@lucene.apache.org>; Tue, 17 Jan 2006 19:36:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QGqMEY3LxwsZ9GHgyNdHqj748TcFDL1hG9781z/4Upj/uOzEzSK9TiPtDHkD6ZDj4SRWSa6JNKZ29vJUKCTkArDeeZmNA3rDjrLcITGKURptjKY7zBRkLAl9FvPLnz8Rs+2SLhUv2KAIJ8W8i5o4J7cqYUDnqs+YA7rDgDW41kU=
Received: by 10.70.25.12 with SMTP id 12mr10556692wxy;
        Tue, 17 Jan 2006 19:36:03 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Tue, 17 Jan 2006 19:36:03 -0800 (PST)
Message-ID: <277d4c5d0601171936g1f709babvc00fa52cffb30468@mail.gmail.com>
Date: Wed, 18 Jan 2006 11:36:03 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <000c01c61b8b$f02cf4c0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_165721_29286900.1137555363609"
References: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com>
	 <000c01c61b8b$f02cf4c0$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_165721_29286900.1137555363609
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I think one problem of the existing method is that, to query on the RDF
files or similar structures, we have to form SQL like queries. However, for
searching in the text files, we only need to type several keywords. Can we
combine the two methods and how can we combine the two methods. For
instance, i only need to enter some keywords. Then, the system can handle
the left process. Why do we have to learn some SQL like language for
searching in the Semantic Web.

regards
Jiang Xing


On 1/18/06, Klaus <klaus@vommond.de> wrote:
>
> Hi Jiang,
>
> I'm currently facing a similar problem. Up to now I have to use for the
> semantic query a graph matching algorithm, but the fulltext search in the
> semantic web is performed by lucene.
> At first I wrote the whole text into a one index. The document contains
> one
> field for the unique id and on for the whole text. For the semantic marku=
p
> I
> use an extra index. Every rdf triple will result in a document with the
> following fields id, predicate + subject + object. Every query is execute=
d
> on both indexes. I use an extra index for the rdf data, because this
> results
> in a higher score for the documents. You might argue that this would
> adulterate the result, but from me point of view explicit Meta data shoul=
d
> be higher scored then terms in document body.
>
> Cheers,
>
> Klaus
>
> -----Urspr=FCngliche Nachricht-----
> Von: jason [mailto:gingerons@gmail.com]
> Gesendet: Dienstag, 17. Januar 2006 15:35
> An: java-user@lucene.apache.org
> Betreff: Use the lucene for searching in the Semantic Web.
>
> Hi friends,
>
> How do you think use the lucene for searching in the Semantic Web? I am
> trying using the lucene for searching documents with ontological
> annotation.
> But i do not get a better model to combine the keywords information and
> the
> ontological information.
>
> regards
> jiang xing
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards

Jiang Xing

------=_Part_165721_29286900.1137555363609--

From java-user-return-18393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 08:27:30 2006
Return-Path: <java-user-return-18393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52070 invoked from network); 18 Jan 2006 08:27:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 08:27:30 -0000
Received: (qmail 70584 invoked by uid 500); 18 Jan 2006 08:27:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70473 invoked by uid 500); 18 Jan 2006 08:27:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70417 invoked by uid 99); 18 Jan 2006 08:27:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 00:27:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.18.25.230] (HELO mail.zooplus.de) (212.18.25.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 00:27:18 -0800
Received: from exchange2.home.zooplus.de (unknown [192.168.10.72])
	by mail.zooplus.de (Postfix) with ESMTP id 17A49576AD
	for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 09:26:56 +0100 (CET)
Received: by exchange2.home.zooplus.de with Internet Mail Service (5.5.2657.72)
	id <V3Q0VVN7>; Wed, 18 Jan 2006 09:26:55 +0100
Message-ID: <10361639FF4CA04ABB30F54683E4FB8505667726@exchange2.home.zooplus.de>
From: Steven Pannell <steven.pannell@zooplus.com>
To: java-user@lucene.apache.org
Subject: SoundEx
Date: Wed, 18 Jan 2006 09:26:53 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Does anyone know if there is a SoundEx analyzer implementation available for
lucene???

thanks.
Steve,



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 09:30:57 2006
Return-Path: <java-user-return-18394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96632 invoked from network); 18 Jan 2006 09:30:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 09:30:57 -0000
Received: (qmail 81599 invoked by uid 500); 18 Jan 2006 09:30:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81270 invoked by uid 500); 18 Jan 2006 09:30:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81258 invoked by uid 99); 18 Jan 2006 09:30:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 01:30:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 01:27:42 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9610B13E201D; Wed, 18 Jan 2006 04:27:21 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id E988913E2005
	for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 04:27:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <10361639FF4CA04ABB30F54683E4FB8505667726@exchange2.home.zooplus.de>
References: <10361639FF4CA04ABB30F54683E4FB8505667726@exchange2.home.zooplus.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <13A2F282-5842-442B-B90D-9C0FE4896670@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SoundEx
Date: Wed, 18 Jan 2006 04:27:08 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 18, 2006, at 3:26 AM, Steven Pannell wrote:
> Does anyone know if there is a SoundEx analyzer implementation  
> available for
> lucene???

There is a Metaphone filter and some sample analyzers that use it in  
the Lucene in Action codebase.  I toyed with various ones from  
Jakarta Commons Codec and thought Metaphone did a better job than  
Soundex.  The implementation is pretty trivial, so it'd be easy to  
switch to Soundex.  Just grab the code download from http:// 
www.lucenebook.com

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 09:31:53 2006
Return-Path: <java-user-return-18395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97137 invoked from network); 18 Jan 2006 09:31:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 09:31:37 -0000
Received: (qmail 82554 invoked by uid 500); 18 Jan 2006 09:30:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82228 invoked by uid 500); 18 Jan 2006 09:30:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 67557 invoked by uid 99); 18 Jan 2006 09:20:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Message-ID: <43CE0842.1070002@dfki.de>
Date: Wed, 18 Jan 2006 10:20:02 +0100
From: Christian Reuschling <reuschling@dfki.de>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: SoundEx
References: <10361639FF4CA04ABB30F54683E4FB8505667726@exchange2.home.zooplus.de>
In-Reply-To: <10361639FF4CA04ABB30F54683E4FB8505667726@exchange2.home.zooplus.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

yes, look at the 'contributions' link at the lucene-homepage.
The 'Phonetix'-project provides an implementation for soudex,
metaphor and double-metaphor. Simply use their analyzer. I am
not sure what the behaviour is in the case of wildcards. Have
anyone an answer?

regards

Christian


Steven Pannell wrote:
> Hi,
> 
> Does anyone know if there is a SoundEx analyzer implementation available for
> lucene???
> 
> thanks.
> Steve,
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 09:31:53 2006
Return-Path: <java-user-return-18396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97134 invoked from network); 18 Jan 2006 09:31:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 09:31:37 -0000
Received: (qmail 82920 invoked by uid 500); 18 Jan 2006 09:30:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82808 invoked by uid 500); 18 Jan 2006 09:30:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82064 invoked by uid 99); 18 Jan 2006 09:30:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 01:30:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.51.130.200] (HELO smtpq1.groni1.gr.home.nl) (213.51.130.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 01:29:37 -0800
Received: from [213.51.130.189] (port=52032 helo=smtp2.groni1.gr.home.nl)
	by smtpq1.groni1.gr.home.nl with esmtp (Exim 4.30)
	id 1Ez9cx-0000pw-Ts
	for java-user@lucene.apache.org; Wed, 18 Jan 2006 10:29:15 +0100
Received: from cc540376-a.assen1.dr.home.nl ([82.74.36.156]:60418 helo=thuis)
	by smtp2.groni1.gr.home.nl with smtp (Exim 4.30)
	id 1Ez9cw-0000jG-LV
	for java-user@lucene.apache.org; Wed, 18 Jan 2006 10:29:14 +0100
Message-ID: <002001c61c11$a70210b0$6600a8c0@thuis>
From: "Marco Dissel" <mdissel@home.nl>
To: <java-user@lucene.apache.org>
Subject: Help on Similarity class
Date: Wed, 18 Jan 2006 10:29:16 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001D_01C61C1A.08BA91D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.1830
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
X-AtHome-MailScanner-Information: Neem contact op met support@home.nl voor meer informatie
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001D_01C61C1A.08BA91D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello

I'm using Lucene for searching in a CRM application. For example when =
searching for a company name i want to show similair company names:
search for: "Microsoft International" would return (in this order):
-microsoft international
-microsoft benelux
-microsoft
Currently it would also return companynames that holds "International" =
but terms that are heavily used in the index shouldn't be returned..

I need something like a 'reversed top terms value' that is used in the =
Similarity, but what should i change for this? and als during indexing?

Thanks
Marco



------=_NextPart_000_001D_01C61C1A.08BA91D0--


From java-user-return-18397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 10:42:30 2006
Return-Path: <java-user-return-18397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39425 invoked from network); 18 Jan 2006 10:42:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 10:42:27 -0000
Received: (qmail 3516 invoked by uid 500); 18 Jan 2006 10:42:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3495 invoked by uid 500); 18 Jan 2006 10:42:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3480 invoked by uid 99); 18 Jan 2006 10:42:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 02:42:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 02:42:15 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5BB6313E201A; Wed, 18 Jan 2006 05:41:52 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id DADBF13E2005
	for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 05:41:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <43CE0842.1070002@dfki.de>
References: <10361639FF4CA04ABB30F54683E4FB8505667726@exchange2.home.zooplus.de> <43CE0842.1070002@dfki.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8C1DE5FA-E2B1-42A2-A22C-D2D69D9039C6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SoundEx
Date: Wed, 18 Jan 2006 05:41:30 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 18, 2006, at 4:20 AM, Christian Reuschling wrote:
> yes, look at the 'contributions' link at the lucene-homepage.
> The 'Phonetix'-project provides an implementation for soudex,
> metaphor and double-metaphor. Simply use their analyzer. I am
> not sure what the behaviour is in the case of wildcards. Have
> anyone an answer?

You can always index the original term in the same position as an  
encoded (soundex, metaphone, etc) term, or into a different field.

To be really clever, I suppose, you'd want to enumerate all terms  
that match the wildcard expression, then look up the ones that "sound  
like" those.

	Erik


>
> regards
>
> Christian
>
>
> Steven Pannell wrote:
>> Hi,
>> Does anyone know if there is a SoundEx analyzer implementation  
>> available for
>> lucene???
>> thanks.
>> Steve,
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 13:18:01 2006
Return-Path: <java-user-return-18398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39050 invoked from network); 18 Jan 2006 13:18:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 13:18:00 -0000
Received: (qmail 30220 invoked by uid 500); 18 Jan 2006 13:17:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30176 invoked by uid 500); 18 Jan 2006 13:17:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30154 invoked by uid 99); 18 Jan 2006 13:17:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:17:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:17:52 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 18 Jan 2006 05:03:21 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: :intersection of two hits objects:
Date: Wed, 18 Jan 2006 18:50:09 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C61C60.0B5C3BF0"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcYcMeej8ZmXA1HCQwStFB+o1GrA1w==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-ID: <KINGPeGbPn6U9BekWo7000007c4@King.Siti.com>
X-OriginalArrivalTime: 18 Jan 2006 13:03:23.0250 (UTC) FILETIME=[900DC520:01C61C2F]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C61C60.0B5C3BF0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi 

 

 

I want to find out the intersection of two hits objects  please help me

 

 

Hits hits1 = Searcher.searh(strQuery1); 

Hits hits2 = Searcher.searh(strQuery2);

 

 

Now In hits1 contains records numbers 3,4 ,5,6 and 

       Hits2 contains records numbers 3,6,8,9

Now I need a solution which can give the hits object which contains  3,6
records

 

 

 

I would appreciate any help from all 

 

 

Thanks

 

Ravi Kumar Jaladanki

 

 

 

 


------=_NextPart_000_0000_01C61C60.0B5C3BF0--


From java-user-return-18399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 13:42:41 2006
Return-Path: <java-user-return-18399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59111 invoked from network); 18 Jan 2006 13:42:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 13:42:39 -0000
Received: (qmail 74411 invoked by uid 500); 18 Jan 2006 13:42:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74387 invoked by uid 500); 18 Jan 2006 13:42:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74373 invoked by uid 99); 18 Jan 2006 13:42:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:42:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:42:25 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9D9C413E2005; Wed, 18 Jan 2006 08:42:02 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 6B19B13E2005
	for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 08:41:56 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <KINGPeGbPn6U9BekWo7000007c4@King.Siti.com>
References: <KINGPeGbPn6U9BekWo7000007c4@King.Siti.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7E92ABDC-78CD-4D87-B813-4943E0C1D3A6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: :intersection of two hits objects:
Date: Wed, 18 Jan 2006 08:41:51 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 18, 2006, at 8:20 AM, Ravi wrote:
>
> I want to find out the intersection of two hits objects  please  
> help me
>
>
>
>
>
> Hits hits1 = Searcher.searh(strQuery1);
>
> Hits hits2 = Searcher.searh(strQuery2);
>
>
>
>
>
> Now In hits1 contains records numbers 3,4 ,5,6 and
>
>        Hits2 contains records numbers 3,6,8,9
>
> Now I need a solution which can give the hits object which  
> contains  3,6
> records

One option is to construct a QueryFilter with the first query, and  
use the search(Query, Filter) method.  Another option is to AND the  
two queries together by wrapping them in a BooleanQuery with both  
clauses required.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 13:43:34 2006
Return-Path: <java-user-return-18400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59661 invoked from network); 18 Jan 2006 13:43:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 13:43:34 -0000
Received: (qmail 76637 invoked by uid 500); 18 Jan 2006 13:43:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76587 invoked by uid 500); 18 Jan 2006 13:43:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76545 invoked by uid 99); 18 Jan 2006 13:43:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:43:20 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:43:19 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: :intersection of two hits objects:
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Wed, 18 Jan 2006 08:42:57 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13104DF8AB2@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: :intersection of two hits objects:
Thread-Index: AcYcMeej8ZmXA1HCQwStFB+o1GrA1wAAqS+A
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm still a bit new to Lucene, but the way I think you can handle it is
using a Boolean query.

//Create a bool Query
BooleanQuery boolQuery =3D new BooleanQuery();

Loop through each query and add it to the boolQuery

//Addend the boolean queries together Using the And syntax
boolQuery.add(queryX, true, false);

Then do a hits =3D is.search(boolQuery);


-----Original Message-----
From: Ravi [mailto:ravi.jaladanki@siti.com]=20
Sent: Wednesday, January 18, 2006 8:20 AM
To: java-user@lucene.apache.org
Subject: :intersection of two hits objects:

Hi=20

=20

=20

I want to find out the intersection of two hits objects  please help me

=20

=20

Hits hits1 =3D Searcher.searh(strQuery1);=20

Hits hits2 =3D Searcher.searh(strQuery2);

=20

=20

Now In hits1 contains records numbers 3,4 ,5,6 and=20

       Hits2 contains records numbers 3,6,8,9

Now I need a solution which can give the hits object which contains  3,6
records

=20

=20

=20

I would appreciate any help from all=20

=20

=20

Thanks

=20

Ravi Kumar Jaladanki

=20

=20

=20

=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 13:43:43 2006
Return-Path: <java-user-return-18401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59813 invoked from network); 18 Jan 2006 13:43:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 13:43:40 -0000
Received: (qmail 78301 invoked by uid 500); 18 Jan 2006 13:43:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78234 invoked by uid 500); 18 Jan 2006 13:43:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78116 invoked by uid 99); 18 Jan 2006 13:43:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:43:31 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.51.130.200] (HELO smtpq1.groni1.gr.home.nl) (213.51.130.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:43:29 -0800
Received: from [213.51.130.188] (port=43731 helo=smtp3.groni1.gr.home.nl)
	by smtpq1.groni1.gr.home.nl with esmtp (Exim 4.30)
	id 1EzDad-0004NZ-GG; Wed, 18 Jan 2006 14:43:07 +0100
Received: from webmail1.groni1.gr.home.nl ([10.99.11.8]:54372 helo=webmail1.groni1)
	by smtp3.groni1.gr.home.nl with esmtp (Exim 4.30)
	id 1EzDac-0003G6-7d; Wed, 18 Jan 2006 14:43:06 +0100
Message-ID: <8142046.1137591786237.JavaMail.root@webmail1.groni1>
Date: Wed, 18 Jan 2006 14:43:06 +0100
From:  <mdissel@home.nl>
To: java-user@lucene.apache.org
Subject: Re: :intersection of two hits objects:
Cc: Ravi <ravi.jaladanki@siti.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
Sensitivity: Normal
X-AtHome-MailScanner-Information: Neem contact op met support@home.nl voor meer informatie
X-AtHome-MailScanner: Found to be clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Why not combine the two searches with an AND operator

(search 1) AND (search2)

Regards

Marco

---- Ravi <ravi.jaladanki@siti.com> schrijft: 
> Hi 
> 
>  
> 
>  
> 
> I want to find out the intersection of two hits objects  please help me
> 
>  
> 
>  
> 
> Hits hits1 = Searcher.searh(strQuery1); 
> 
> Hits hits2 = Searcher.searh(strQuery2);
> 
>  
> 
>  
> 
> Now In hits1 contains records numbers 3,4 ,5,6 and 
> 
>        Hits2 contains records numbers 3,6,8,9
> 
> Now I need a solution which can give the hits object which contains  3,6
> records
> 
>  
> 
>  
> 
>  
> 
> I would appreciate any help from all 
> 
>  
> 
>  
> 
> Thanks
> 
>  
> 
> Ravi Kumar Jaladanki
> 
>  
> 
>  
> 
>  
> 
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 13:48:25 2006
Return-Path: <java-user-return-18402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63082 invoked from network); 18 Jan 2006 13:48:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 13:48:25 -0000
Received: (qmail 90339 invoked by uid 500); 18 Jan 2006 13:48:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90318 invoked by uid 500); 18 Jan 2006 13:48:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90307 invoked by uid 99); 18 Jan 2006 13:48:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:48:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:48:17 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 18 Jan 2006 05:24:58 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: :Highlighting the Specific Filed:
Date: Wed, 18 Jan 2006 19:11:54 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0007_01C61C63.1192C810"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcYcNPFFATpNUfzCRsmzvONyNLun+Q==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-ID: <KINGco1H2UhBTtuZxGb0000087a@King.Siti.com>
X-OriginalArrivalTime: 18 Jan 2006 13:25:02.0062 (UTC) FILETIME=[9634C0E0:01C61C32]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0007_01C61C63.1192C810
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

 

 

I want to highlight the specific field which I have added to document.

 

 

For ex  I have added  two fileds one is  "Contens" and second one is
"Skills" 

 

So I want highlight Skills which I have added as
Filed.Keyword("Skills","Java, oracle")

 

 

 

Please help me I have tried out the example in the lucene action book . but
I didn't get any solution .Can any body gives the code for that to highlight
specific field from document

 

Thanks

 

Ravi Kumar Jaladanki

 

 


------=_NextPart_000_0007_01C61C63.1192C810--


From java-user-return-18403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 14:03:28 2006
Return-Path: <java-user-return-18403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70671 invoked from network); 18 Jan 2006 14:03:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 14:03:24 -0000
Received: (qmail 6032 invoked by uid 500); 18 Jan 2006 14:01:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4468 invoked by uid 500); 18 Jan 2006 14:01:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2806 invoked by uid 99); 18 Jan 2006 14:01:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 06:01:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 05:55:37 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 18 Jan 2006 05:41:15 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <mdissel@home.nl>,
	<java-user@lucene.apache.org>
Subject: RE: :intersection of two hits objects:
Date: Wed, 18 Jan 2006 19:28:10 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcYcMylktCdIQIUBSA2oDgFFKYxvpAAA9nJw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <8142046.1137591786237.JavaMail.root@webmail1.groni1>
Message-ID: <KINGazUSxvjPkQTGpao0000088c@King.Siti.com>
X-OriginalArrivalTime: 18 Jan 2006 13:41:15.0890 (UTC) FILETIME=[DAA71D20:01C61C34]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks

But I will get these Hits objects in two cases. 
First I will search and store it in temp location and next time I search I
get the new hits object . now I need to get the intersection


Thanks
Ravi Kumar Jaladanki

-----Original Message-----
From: mdissel@home.nl [mailto:mdissel@home.nl] 
Sent: Wednesday, January 18, 2006 7:13 PM
To: java-user@lucene.apache.org
Cc: Ravi
Subject: Re: :intersection of two hits objects:

Why not combine the two searches with an AND operator

(search 1) AND (search2)

Regards

Marco

---- Ravi <ravi.jaladanki@siti.com> schrijft: 
> Hi 
> 
>  
> 
>  
> 
> I want to find out the intersection of two hits objects  please help me
> 
>  
> 
>  
> 
> Hits hits1 = Searcher.searh(strQuery1); 
> 
> Hits hits2 = Searcher.searh(strQuery2);
> 
>  
> 
>  
> 
> Now In hits1 contains records numbers 3,4 ,5,6 and 
> 
>        Hits2 contains records numbers 3,6,8,9
> 
> Now I need a solution which can give the hits object which contains  3,6
> records
> 
>  
> 
>  
> 
>  
> 
> I would appreciate any help from all 
> 
>  
> 
>  
> 
> Thanks
> 
>  
> 
> Ravi Kumar Jaladanki
> 
>  
> 
>  
> 
>  
> 
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 18 15:05:08 2006
Return-Path: <java-user-return-18404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20688 invoked from network); 18 Jan 2006 15:05:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Jan 2006 15:05:07 -0000
Received: (qmail 88413 invoked by uid 500); 18 Jan 2006 15:04:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88336 invoked by uid 500); 18 Jan 2006 15:04:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88295 invoked by uid 99); 18 Jan 2006 15:04:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 07:04:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.238.164.5] (HELO elvira.ekonomikum.uu.se) (130.238.164.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 07:04:26 -0800
Received: by elvira.ekonomikum.uu.se (Postfix, from userid 204)
	id A02EB401; Wed, 18 Jan 2006 16:04:04 +0100 (MEZ)
Received: from elvira.its.uu.se(127.0.0.1) by elvira.its.uu.se via virus-scan 
	id s26687; Wed, 18 Jan 06 16:03:55 +0100
Received: from [130.238.171.116] (pc171-116.ub.UU.SE [130.238.171.116])
	by elvira.ekonomikum.uu.se (Postfix) with ESMTP id CBF513FF
	for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 16:03:54 +0100 (MEZ)
Message-ID: <43CE58DA.3060109@ub.uu.se>
Date: Wed, 18 Jan 2006 16:03:54 +0100
From: Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se>
User-Agent: Mozilla Thunderbird 1.0.6 (X11/20050905)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: :intersection of two hits objects:
References: <KINGazUSxvjPkQTGpao0000088c@King.Siti.com>
In-Reply-To: <KINGazUSxvjPkQTGpao0000088c@King.Siti.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Why not storing the query instead of the Hits object? Then you can add 
the stored query to the new query with a BooleanQuery.

/Ronnie


Ravi wrote:
> Thanks
> 
> But I will get these Hits objects in two cases. 
> First I will search and store it in temp location and next time I search I
> get the new hits object . now I need to get the intersection
> 
> 
> Thanks
> Ravi Kumar Jaladanki
> 
> -----Original Message-----
> From: mdissel@home.nl [mailto:mdissel@home.nl] 
> Sent: Wednesday, January 18, 2006 7:13 PM
> To: java-user@lucene.apache.org
> Cc: Ravi
> Subject: Re: :intersection of two hits objects:
> 
> Why not combine the two searches with an AND operator
> 
> (search 1) AND (search2)
> 
> Regards
> 
> Marco
> 
> ---- Ravi <ravi.jaladanki@siti.com> schrijft: 
> 
>>Hi 
>>
>> 
>>
>> 
>>
>>I want to find out the intersection of two hits objects  please help me
>>
>> 
>>
>> 
>>
>>Hits hits1 = Searcher.searh(strQuery1); 
>>
>>Hits hits2 = Searcher.searh(strQuery2);
>>
>> 
>>
>> 
>>
>>Now In hits1 contains records numbers 3,4 ,5,6 and 
>>
>>       Hits2 contains records numbers 3,6,8,9
>>
>>Now I need a solution which can give the hits object which contains  3,6
>>records
>>
>> 
>>
>> 
>>
>> 
>>
>>I would appreciate any help from all 
>>
>> 
>>
>> 
>>
>>Thanks
>>
>> 
>>
>>Ravi Kumar Jaladanki
>>
>> 
>>
>> 
>>
>> 
>>
>> 
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

-- 
________________________________________

   Ronnie Kolehmainen
   Systems Developer
   Electronic Publishing Centre
   Uppsala University Library
   +46 (0)18 471 5847
   mailto:ronnie.kolehmainen@ub.uu.se
________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 00:10:14 2006
Return-Path: <java-user-return-18405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1147 invoked from network); 19 Jan 2006 00:10:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 00:10:14 -0000
Received: (qmail 67876 invoked by uid 500); 19 Jan 2006 00:09:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67756 invoked by uid 500); 19 Jan 2006 00:09:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67732 invoked by uid 99); 19 Jan 2006 00:09:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 16:09:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of adam.saltiel@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 16:09:56 -0800
Received: by xproxy.gmail.com with SMTP id i28so50781wxd
        for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 16:09:35 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QJkvchyPIiFy9N11yiLFMXgor5QRqeKpx5yiQRueDQoJylBpNchSfY6aSdwVGOxFMdGuFrr3URvhz4dgeNPWGTsZk/pydM8s38eO3VVF7zqH/V4PpRKsF4p6r2WDKxIl4VdmO6xA5V7GDsUCPS4hGVi39nuxxGvFkrR/vi/Y8LM=
Received: by 10.70.34.20 with SMTP id h20mr11765173wxh;
        Wed, 18 Jan 2006 16:09:35 -0800 (PST)
Received: by 10.70.24.10 with HTTP; Wed, 18 Jan 2006 16:09:35 -0800 (PST)
Message-ID: <e8aa138c0601181609k36d29f4dg@mail.gmail.com>
Date: Thu, 19 Jan 2006 00:09:35 +0000
From: adasal <adam.saltiel@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <277d4c5d0601171936g1f709babvc00fa52cffb30468@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14368_8904139.1137629375361"
References: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com>
	 <000c01c61b8b$f02cf4c0$6402a8c0@sleipnir2>
	 <277d4c5d0601171936g1f709babvc00fa52cffb30468@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14368_8904139.1137629375361
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

UHJlc3VtYWJseSBiZWNhdXNlIHRoaXMgaXMgdGhlIHdheSBvZiBmb3JtdWxhdGluZyBhbiBpbmR1
Y3RpdmUgc3RhdGVtZW50LgpKdXN0IGVudGVyaW5nIGtleSB3b3JkcyBkb2Vzbid0IGludHJvZHVj
ZSB0aGUgbm90aW9uIG9mIGEgcmVsYXRpb25zaGlwCmJldHdlZW4gc29tZSBrbm93biBhbmQgc29t
ZSBvdGhlciB1bmtub3duIHRlcm1zLgoKPiBRdWVyaWVzIG1hdGNoIGdyYXBoIHBhdHRlcm5zIGFn
YWluc3QgdGhlIHRhcmdldCBncmFwaCBvZiB0aGUgcXVlcnkuCgoKRnJvbSBodHRwOi8vd3d3Lncz
Lm9yZy9UUi8yMDA0L1dELXJkZi1zcGFycWwtcXVlcnktMjAwNDEwMTIvCkluIG90aGVyIHdvcmRz
IHRoZXJlIGlzIGFuIGhvbW9ycGhpYyByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgdGFyZ2V0IGdy
YXBoCnF1ZXJyeSBhbmQgaXRzIHNvbHV0aW9uLgpBbmQgZm9ybWluZyBhIHF1ZXJyeSBpbXBsaWVz
IGtub3dsZWRnZSBvZiB0aGUgZGF0YXNldC4gSXQgaXMgbm90IGtub3dsZWRnZQphPW9mIGFuIFNR
TCBsaWtlIGxhbmd1YWdlIHRoYXQgaXMgcmVxdWlyZWQsIGJ1dCBzb21lIGtub3dsZWRnZSBvZiB0
aGUgZGF0YQpzZXQgdGhhdCB0aGUgbGFuZ3VhZ2UgY29udmV5cy4gU28gdGhlIHNvbHV0aW9uIHRv
IGRvaW5nIHRoaXMgaW4gb25lIHN0ZXAKd291bGQgaGF2ZSB0byBpbmNsdWRlIHNvbWUgcmVwcmVz
ZW50YXRpb24gb2YgdGhlIGRhdGEgc2V0IHRvIHRoZSB1c2VyLCBvciBhbgphdXRvbWF0aWMgbWFw
cGluZyBmcm9tIHRoZSBhcmJpdHJhcnkgcXVlcnkgdG8gdGhlIGRhdGEuIEl0IHNlZW1zIHRvIG1l
IHRoYXQKdGhpcyB3b3VsZCBiZSBkaWZmaWN1bHQgdG8gYWNjb21wbGlzaCBhcyBpdCBjb250YWlu
cyB0aGUgcHJvYmxlbSBvZiBob3cgdGhlCm1ldGEgZGF0YSBpcyBkZWZpbmVkLiBGb3IgaW5zdGFu
Y2UgaWYgaXQgaXMgYW4gb250b2xvZ3kgYnV0IGl0IHVzZXMgdGhlIHRlcm0KcGFydG5lciBmb3Ig
YWxsIHNvcnRzIG9mIGNvdXBsZXMgZnJvbSBmcmllbmRzIHRvIG1hcnJpZWQgcGFydG5lcnMuIChU
aGlzCm1pZ2h0IGhhdmUgYmVlbiByaWdodCB3aGVuIGRlZmluaW5nIHRoZSBvbnRvbG9neSwgZm9y
IGluc3RhbmNlIG9mIHVzZSBmb3IKaG9zcGl0YWwgaW5mb3JtYXRpb24gY2FyZHMgd2hlcmUgd2hh
dCBpcyBtZWFudCBpcyB0aGUgcGVyc29uIHdobyBtaWdodCBiZQp3aXRoIHlvdSBhdCB0aGUgdGlt
ZSBvZiB0aGUsIHNheSBub3QgdmVyeSBzZXJpb3VzLCBwcm9jZWR1cmUuKQpEZWZpbmluZyBzeW5v
bnltcyBhZnRlciB0aGUgZXZlbnQsIG9yIHVzaW5nIHN0YXRpc3RpY2FsIGNvbnRleHR1YWwgYW5h
bHlzaXMKZm9yIHNhbWUgbWF5IGhlbHAsIGJ1dCB0aGVzZSBhcmUgdGhlIHByb2JsZW1zIGFzIEkg
c2VlIHRoZW0uCkFkYW0KCk9uIDE4LzAxLzA2LCB4aW5nIGppYW5nIDxnaW5nZXJvbnNAZ21haWwu
Y29tPiB3cm90ZToKPgo+IEhpLAo+Cj4gSSB0aGluayBvbmUgcHJvYmxlbSBvZiB0aGUgZXhpc3Rp
bmcgbWV0aG9kIGlzIHRoYXQsIHRvIHF1ZXJ5IG9uIHRoZSBSREYKPiBmaWxlcyBvciBzaW1pbGFy
IHN0cnVjdHVyZXMsIHdlIGhhdmUgdG8gZm9ybSBTUUwgbGlrZSBxdWVyaWVzLiBIb3dldmVyLAo+
IGZvcgo+IHNlYXJjaGluZyBpbiB0aGUgdGV4dCBmaWxlcywgd2Ugb25seSBuZWVkIHRvIHR5cGUg
c2V2ZXJhbCBrZXl3b3Jkcy4gQ2FuIHdlCj4gY29tYmluZSB0aGUgdHdvIG1ldGhvZHMgYW5kIGhv
dyBjYW4gd2UgY29tYmluZSB0aGUgdHdvIG1ldGhvZHMuIEZvcgo+IGluc3RhbmNlLCBpIG9ubHkg
bmVlZCB0byBlbnRlciBzb21lIGtleXdvcmRzLiBUaGVuLCB0aGUgc3lzdGVtIGNhbiBoYW5kbGUK
PiB0aGUgbGVmdCBwcm9jZXNzLiBXaHkgZG8gd2UgaGF2ZSB0byBsZWFybiBzb21lIFNRTCBsaWtl
IGxhbmd1YWdlIGZvcgo+IHNlYXJjaGluZyBpbiB0aGUgU2VtYW50aWMgV2ViLgo+Cj4gcmVnYXJk
cwo+IEppYW5nIFhpbmcKPgo+Cj4gT24gMS8xOC8wNiwgS2xhdXMgPGtsYXVzQHZvbW1vbmQuZGU+
IHdyb3RlOgo+ID4KPiA+IEhpIEppYW5nLAo+ID4KPiA+IEknbSBjdXJyZW50bHkgZmFjaW5nIGEg
c2ltaWxhciBwcm9ibGVtLiBVcCB0byBub3cgSSBoYXZlIHRvIHVzZSBmb3IgdGhlCj4gPiBzZW1h
bnRpYyBxdWVyeSBhIGdyYXBoIG1hdGNoaW5nIGFsZ29yaXRobSwgYnV0IHRoZSBmdWxsdGV4dCBz
ZWFyY2ggaW4KPiB0aGUKPiA+IHNlbWFudGljIHdlYiBpcyBwZXJmb3JtZWQgYnkgbHVjZW5lLgo+
ID4gQXQgZmlyc3QgSSB3cm90ZSB0aGUgd2hvbGUgdGV4dCBpbnRvIGEgb25lIGluZGV4LiBUaGUg
ZG9jdW1lbnQgY29udGFpbnMKPiA+IG9uZQo+ID4gZmllbGQgZm9yIHRoZSB1bmlxdWUgaWQgYW5k
IG9uIGZvciB0aGUgd2hvbGUgdGV4dC4gRm9yIHRoZSBzZW1hbnRpYwo+IG1hcmt1cAo+ID4gSQo+
ID4gdXNlIGFuIGV4dHJhIGluZGV4LiBFdmVyeSByZGYgdHJpcGxlIHdpbGwgcmVzdWx0IGluIGEg
ZG9jdW1lbnQgd2l0aCB0aGUKPiA+IGZvbGxvd2luZyBmaWVsZHMgaWQsIHByZWRpY2F0ZSArIHN1
YmplY3QgKyBvYmplY3QuIEV2ZXJ5IHF1ZXJ5IGlzCj4gZXhlY3V0ZWQKPiA+IG9uIGJvdGggaW5k
ZXhlcy4gSSB1c2UgYW4gZXh0cmEgaW5kZXggZm9yIHRoZSByZGYgZGF0YSwgYmVjYXVzZSB0aGlz
Cj4gPiByZXN1bHRzCj4gPiBpbiBhIGhpZ2hlciBzY29yZSBmb3IgdGhlIGRvY3VtZW50cy4gWW91
IG1pZ2h0IGFyZ3VlIHRoYXQgdGhpcyB3b3VsZAo+ID4gYWR1bHRlcmF0ZSB0aGUgcmVzdWx0LCBi
dXQgZnJvbSBtZSBwb2ludCBvZiB2aWV3IGV4cGxpY2l0IE1ldGEgZGF0YQo+IHNob3VsZAo+ID4g
YmUgaGlnaGVyIHNjb3JlZCB0aGVuIHRlcm1zIGluIGRvY3VtZW50IGJvZHkuCj4gPgo+ID4gQ2hl
ZXJzLAo+ID4KPiA+IEtsYXVzCj4gPgo+ID4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQt
LS0tLQo+ID4gVm9uOiBqYXNvbiBbbWFpbHRvOmdpbmdlcm9uc0BnbWFpbC5jb21dCj4gPiBHZXNl
bmRldDogRGllbnN0YWcsIDE3LiBKYW51YXIgMjAwNiAxNTozNQo+ID4gQW46IGphdmEtdXNlckBs
dWNlbmUuYXBhY2hlLm9yZwo+ID4gQmV0cmVmZjogVXNlIHRoZSBsdWNlbmUgZm9yIHNlYXJjaGlu
ZyBpbiB0aGUgU2VtYW50aWMgV2ViLgo+ID4KPiA+IEhpIGZyaWVuZHMsCj4gPgo+ID4gSG93IGRv
IHlvdSB0aGluayB1c2UgdGhlIGx1Y2VuZSBmb3Igc2VhcmNoaW5nIGluIHRoZSBTZW1hbnRpYyBX
ZWI/IEkgYW0KPiA+IHRyeWluZyB1c2luZyB0aGUgbHVjZW5lIGZvciBzZWFyY2hpbmcgZG9jdW1l
bnRzIHdpdGggb250b2xvZ2ljYWwKPiA+IGFubm90YXRpb24uCj4gPiBCdXQgaSBkbyBub3QgZ2V0
IGEgYmV0dGVyIG1vZGVsIHRvIGNvbWJpbmUgdGhlIGtleXdvcmRzIGluZm9ybWF0aW9uIGFuZAo+
ID4gdGhlCj4gPiBvbnRvbG9naWNhbCBpbmZvcm1hdGlvbi4KPiA+Cj4gPiByZWdhcmRzCj4gPiBq
aWFuZyB4aW5nCj4gPgo+ID4KPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+ID4gVG8gdW5zdWJzY3JpYmUsIGUt
bWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiBGb3IgYWRk
aXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9y
Zwo+ID4KPiA+Cj4KPgo+IC0tCj4gUmVnYXJkcwo+Cj4gSmlhbmcgWGluZwo+Cj4K
------=_Part_14368_8904139.1137629375361--

From java-user-return-18406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 00:21:21 2006
Return-Path: <java-user-return-18406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6881 invoked from network); 19 Jan 2006 00:21:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 00:21:20 -0000
Received: (qmail 87653 invoked by uid 500); 19 Jan 2006 00:21:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87612 invoked by uid 500); 19 Jan 2006 00:21:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87601 invoked by uid 99); 19 Jan 2006 00:21:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 16:21:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 16:21:12 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A1ABC13E201A; Wed, 18 Jan 2006 19:20:50 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 5889413E2005
	for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 19:20:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <277d4c5d0601170925q5c933cfeqc7610582b4c2630f@mail.gmail.com>
References: <277d4c5d0601170634u79ea3e50n99d69b1c5d5266f0@mail.gmail.com> <F129C2FB-F4CD-45B1-9096-E1034B98D105@ehatchersolutions.com> <277d4c5d0601170925q5c933cfeqc7610582b4c2630f@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CE2B5991-5E87-4BD8-887E-5BD7BFB37E1C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Use the lucene for searching in the Semantic Web.
Date: Wed, 18 Jan 2006 19:20:24 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 17, 2006, at 12:25 PM, jason wrote:
> I think the Kowari is a system for searching information in the RDF  
> files.
> It is only for finding information in the meta data files. However,  
> i think
> one problem of the Semantic Web is that, if we have a document and  
> its RDF
> annotate, how do we retrieve the documents? Right now, we can use  
> keyword
> based method to find relevant documents to user's query and use  
> some kinds
> of technologies for finding metadata files. But can we combine the two
> processes and how can we combine them?

It's not quite true that Kowari only deals with RDF.  It can load and  
parse HTML, for example, and load it directly into a LuceneModel for  
full-text indexing.  You can then query structured information in  
conjunction with full-text Lucene queries.  To get other type of  
content in, you would need to extend Kowari or hand in literal text,  
but it could be done.

	Erik


>
> regards
> Jiang Xing
>
>
> On 1/17/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>>
>> Have a look at Kowari - http://www.kowari.org
>>
>> It is a scalable RDF engine that also has full-text search support
>> via Lucene.
>>
>> Professionally I tinker with semweb and search topics, and eventually
>> we'll have something to show for these efforts :)
>>
>>        Erik
>>
>>
>> On Jan 17, 2006, at 9:34 AM, jason wrote:
>>
>>> Hi friends,
>>>
>>> How do you think use the lucene for searching in the Semantic Web?
>>> I am
>>> trying using the lucene for searching documents with ontological
>>> annotation.
>>> But i do not get a better model to combine the keywords information
>>> and the
>>> ontological information.
>>>
>>> regards
>>> jiang xing
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 01:31:39 2006
Return-Path: <java-user-return-18407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54053 invoked from network); 19 Jan 2006 01:31:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 01:31:38 -0000
Received: (qmail 78536 invoked by uid 500); 19 Jan 2006 01:31:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78508 invoked by uid 500); 19 Jan 2006 01:31:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78497 invoked by uid 99); 19 Jan 2006 01:31:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 17:31:32 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of davekor@gmail.com designates 64.233.184.200 as permitted sender)
Received: from [64.233.184.200] (HELO wproxy.gmail.com) (64.233.184.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 17:31:31 -0800
Received: by wproxy.gmail.com with SMTP id i7so96548wra
        for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 17:31:10 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ht8U8gpLzcNpDDZbcjPfrDYmZaMXgOx1loHzD2Qo5garG7dn+TUQh6n4Kn8Y5yq4e9VpR6v702gv2IwOwNxrMXyK2X9P5aOD24vV19vev1svPuxpOOHE5kySfnfnjLz15dzCf4amrV7tmft2IbFoqEC2QXotzzZ5oSL+gQSBV8U=
Received: by 10.54.135.4 with SMTP id i4mr1422792wrd;
        Wed, 18 Jan 2006 17:31:10 -0800 (PST)
Received: by 10.54.131.9 with HTTP; Wed, 18 Jan 2006 17:31:10 -0800 (PST)
Message-ID: <901c03930601181731s543c96abtfcbfc63fad6d0b6e@mail.gmail.com>
Date: Thu, 19 Jan 2006 09:31:10 +0800
From: Dave Kor <davekor@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: :intersection of two hits objects:
In-Reply-To: <KINGPeGbPn6U9BekWo7000007c4@King.Siti.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <KINGPeGbPn6U9BekWo7000007c4@King.Siti.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/18/06, Ravi <ravi.jaladanki@siti.com> wrote:
> Hi
>
> I want to find out the intersection of two hits objects  please help me
>
> Hits hits1 =3D Searcher.searh(strQuery1);
> Hits hits2 =3D Searcher.searh(strQuery2);
>
> Now In hits1 contains records numbers 3,4 ,5,6 and
>        Hits2 contains records numbers 3,6,8,9
>
> Now I need a solution which can give the hits object which contains  3,6
> records
>

You can iterate through the Hits objects, flagging the document
numbers in a java.util.BitSet. To compare hits between different
queries, all you have to do is bitset1.and(bitset2).

--
Dave Kor, Research Assistant
Center for Information Mining and Extraction
School of Computing
National University of Singapore.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 02:31:09 2006
Return-Path: <java-user-return-18408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93945 invoked from network); 19 Jan 2006 02:31:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 02:31:09 -0000
Received: (qmail 53209 invoked by uid 500); 19 Jan 2006 02:31:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53167 invoked by uid 500); 19 Jan 2006 02:31:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53151 invoked by uid 99); 19 Jan 2006 02:31:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 18:31:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 18:31:00 -0800
Received: by xproxy.gmail.com with SMTP id i28so66978wxd
        for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 18:30:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pmADHcriZF2yAv7g6PNmtf8PVLfQ4b/jOuwCzc8zBqMOaNniDKMQldNoettyuLwk69D0Z4XoVj+HOwftJiRk3EtythxNvK7bxCV9kU9mk1MxoJUAeBKYSLF1OUHEkpxU665txscfGhGSFr131RCiiGtm2W0of6fqKAbJ762PY48=
Received: by 10.70.52.9 with SMTP id z9mr52117wxz;
        Wed, 18 Jan 2006 18:30:39 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Wed, 18 Jan 2006 18:30:38 -0800 (PST)
Message-ID: <277d4c5d0601181830r2fccfa86la573af1c9709f613@mail.gmail.com>
Date: Thu, 19 Jan 2006 10:30:38 +0800
From: xing jiang <gingerons@gmail.com>
To: Klaus <klaus@vommond.de>, java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <001101c61c81$7f0c9dd0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_179406_7231846.1137637838933"
References: <277d4c5d0601171936g1f709babvc00fa52cffb30468@mail.gmail.com>
	 <001101c61c81$7f0c9dd0$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_179406_7231846.1137637838933
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I have done some surveys about the information retrieval on the Semantic
Web, (maybe i miss many papers, most papers i used are published in recent
WWW and CIKM conferences, :).

1. A typical way of using the ontology is to select exact term from the
domain ontology to form queries. The first one may be the OntoSeek (
www.loa-cnr.it/Papers/OntoSeek.pdf ).  Similar work may be Latifur Khan's
work ("Retrieval effectiveness of an ontology-based model for information
selection", VLDB 2004).

2. Guha et al. ("Semantic Search", WWW2003) used domain ontology to form a
concept graph. Then, users only need to browse the concept graph egenerated=
.
Similar work may be Eero Hyvonen's  work "MuseumFinland". They all used the
semantic structure of the domain ontology to help users browsing.

3. QuizRDF (www.cs.rutgers.edu/~shklar/www11/final_submissions/paper6.pdf) =
used
another kind of method for using the domain ontology.  Klaus, I think your
method  should be better than QuizRDF.

One interesting method i found is Roha's work ("A hybrid approach for
searching in the Semantic Web", WWW2004). They still used keyword based
method for retrieving documents on the Semantic Web. But i cannot find any
more information about their work and the application i am building can be
seen an extension of their work.

Actually, the swoogle focuses on the ontology level's files only. It will
crawls RDF, OWL & DAML files. But they do not provide any new method to
combine the traditional keyword method for searching the text files. Li Din=
g
used a variant of page rank method for ontology files. But i am not sure
this method can be combined with the page rank method.

Maybe i have missed too many things when i do this survey. However, I think
we may can find some good new methods of using the domain ontology in the
Semantic Web.

Yours truly,
Jiang Xing




On 1/19/06, Klaus <klaus@vommond.de> wrote:
>
> Hello,
>
>
> >Hi,
>
> >I think one problem of the existing method is that, to query on the RDF
> >files or similar structures, we have to form SQL like queries. However,
> for
> >searching in the text files, we only need to type several keywords. Can
> we
> >combine the two methods and how can we combine the two methods. For
> >instance, i only need to enter some keywords.
>
> Yes you are right. At the moment I offer the users a UI where the can
> input
> some keywords and in addition to this some rql like query via drop down
> menus. With the help of the this semantic query, they can specify the
> results demarcate the result set, e.g. saying that all result's should
> belong to one class, or deal with one theme.
>
> Now I try automate the generation of the query... But I'm not sure how to
> do
> this exactly. Maybe I will use some kind of pseudo relevance feedback to
> make some semantic analysis an the first result set.
>
>
> >Why do we have to learn some SQL like language for
> >searching in the Semantic Web.
>
> Maybe this paper can help you... Primary the semantic web is for agents
> and
> so on, not for humans. So the information has to have a structure, which
> can
> be exploited.
>
> http://www.sciam.com/article.cfm?articleID=3D00048144-10D2-1C70-84A9809EC=
588EF
> 21
>
> By the way, maybe you should take a look at http://swoogle.umbc.edu/ Ther=
e
> is also quite a big number of papers an scholar.google.
>
> Do your have any ideas, right now?
>
> Peace
>
> Klaus
>
>
>
>


--
Regards

Jiang Xing

------=_Part_179406_7231846.1137637838933--

From java-user-return-18409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 04:36:15 2006
Return-Path: <java-user-return-18409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59508 invoked from network); 19 Jan 2006 04:36:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 04:36:14 -0000
Received: (qmail 58340 invoked by uid 500); 19 Jan 2006 04:36:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57373 invoked by uid 500); 19 Jan 2006 04:36:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57362 invoked by uid 99); 19 Jan 2006 04:36:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 20:36:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.155.252.97] (HELO elephant.cnchost.com) (207.155.252.97)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 20:36:06 -0800
Received: from eagle (c-24-12-191-129.hsd1.il.comcast.net [24.12.191.129])
	by elephant.cnchost.com
	id XAA23624; Wed, 18 Jan 2006 23:35:45 -0500 (EST)
	[ConcentricHost SMTP Relay 1.17]
Message-ID: <200601190435.XAA23624@elephant.cnchost.com>
Errors-To: <xinwu@pathf.com>
From: "Xin Herbert Wu" <xinwu@pathf.com>
To: <java-user@lucene.apache.org>
Subject: " Lock obtain timed out" Exception when doing incremental indexing
Date: Wed, 18 Jan 2006 22:35:41 -0600
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0009_01C61C7F.83819610"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYcsc2ipxHi1vxcTA6qwibO+4+Idw==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0009_01C61C7F.83819610
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I kept getting this exception when adding a new document to an existing
index:

 

22:19:10,281 INFO  [STDOUT] java.io.IOException: Lock obtain timed out:
Lock@C:\DOCUME~1\xin\LOCALS~

1\Temp\lucene-31c482aaf5f581ad3dc0249eeeb8d281-write.lock

 

(Stack trace is like:

22:19:10,312 INFO  [STDOUT]     at
org.apache.lucene.store.Lock.obtain(Lock.java:58)

22:19:10,312 INFO  [STDOUT]     at
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:223)

22:19:10,312 INFO  [STDOUT]     at
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)

)

 

It does not seem affecting the search results most time, but I am not sure
how to get rid of it, and no trace to locate the lock file indicated in the
log file.

 

Any help is greatly appreciated.

 

The attached is the code to add a doc.

 

-Xin

public synchronized int addRecord(IndexDataSource dataSource, int recordId,
List<LibraryField> libSchema, String indexDir) throws IndexException {

 

       IndexWriter writer = null;

       int totalIndexed =0;

 

        try {

            .

            writer = new IndexWriter(indexDir, getAnalyzer(), false);

            writer.setUseCompoundFile(isCompound());

            

            writer.addDocument(doc);

                

            writer.optimize();

            totalIndexed = writer.docCount();

                           

            }

              

        } catch (IOException ioe) {

           

            throw new IndexException(ioe.toString());

            

        } finally {

            try {

                if (null != writer)

                {

                    writer.close();

                }

            } catch (IOException ioe) {

                throw new IndexException(ioe.toString()); 

            }

        }

 

        return totalIndexed;


------=_NextPart_000_0009_01C61C7F.83819610--



From java-user-return-18410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 06:10:41 2006
Return-Path: <java-user-return-18410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99893 invoked from network); 19 Jan 2006 06:10:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 06:10:41 -0000
Received: (qmail 64114 invoked by uid 500); 19 Jan 2006 06:10:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64088 invoked by uid 500); 19 Jan 2006 06:10:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64077 invoked by uid 99); 19 Jan 2006 06:10:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 22:10:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 22:10:32 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 18 Jan 2006 21:56:02 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: RE: :intersection of two hits objects:
Date: Thu, 19 Jan 2006 11:42:41 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYcliGJJGBypJ/MTJW1AQLXzByn1gAKMn/A
In-Reply-To: <901c03930601181731s543c96abtfcbfc63fad6d0b6e@mail.gmail.com>
Message-ID: <KINGz0tWqhUYLqVpUOF00000c7c@King.Siti.com>
X-OriginalArrivalTime: 19 Jan 2006 05:56:05.0000 (UTC) FILETIME=[08E10880:01C61CBD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for your help ,

I am able to get the record numbers in BitSet object but how to iterate in
the first hits1 object with the bitset object and retain only those
documents  which contains ids existed in bitset object..


Thanks
Ravi Kumar jaladanki

-----Original Message-----
From: Dave Kor [mailto:davekor@gmail.com] 
Sent: Thursday, January 19, 2006 7:01 AM
To: java-user@lucene.apache.org
Subject: Re: :intersection of two hits objects:

On 1/18/06, Ravi <ravi.jaladanki@siti.com> wrote:
> Hi
>
> I want to find out the intersection of two hits objects  please help me
>
> Hits hits1 = Searcher.searh(strQuery1);
> Hits hits2 = Searcher.searh(strQuery2);
>
> Now In hits1 contains records numbers 3,4 ,5,6 and
>        Hits2 contains records numbers 3,6,8,9
>
> Now I need a solution which can give the hits object which contains  3,6
> records
>

You can iterate through the Hits objects, flagging the document
numbers in a java.util.BitSet. To compare hits between different
queries, all you have to do is bitset1.and(bitset2).

--
Dave Kor, Research Assistant
Center for Information Mining and Extraction
School of Computing
National University of Singapore.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 06:15:34 2006
Return-Path: <java-user-return-18411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1346 invoked from network); 19 Jan 2006 06:15:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 06:15:34 -0000
Received: (qmail 70462 invoked by uid 500); 19 Jan 2006 06:15:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70442 invoked by uid 500); 19 Jan 2006 06:15:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70431 invoked by uid 99); 19 Jan 2006 06:15:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 22:15:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 22:15:26 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id BC6B4B7BEF
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 17:15:06 +1100 (EST)
Message-ID: <43CF30BD.3070507@nuix.com.au>
Date: Thu, 19 Jan 2006 17:25:01 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: :intersection of two hits objects:
References: <KINGz0tWqhUYLqVpUOF00000c7c@King.Siti.com>
In-Reply-To: <KINGz0tWqhUYLqVpUOF00000c7c@King.Siti.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ravi wrote:
> Thanks for your help ,
>
> I am able to get the record numbers in BitSet object but how to iterate in
> the first hits1 object with the bitset object and retain only those
> documents  which contains ids existed in bitset object..
>   
Ah.

I take it that you want the results as another Hits object.

Is there any reason you can't just reexecute the whole thing using a 
BooleanQuery to AND the two queries together?  That would give you more 
or less what you want.

Daniel

-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 07:21:21 2006
Return-Path: <java-user-return-18412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34991 invoked from network); 19 Jan 2006 07:21:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 07:21:20 -0000
Received: (qmail 31251 invoked by uid 500); 19 Jan 2006 07:21:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31220 invoked by uid 500); 19 Jan 2006 07:21:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31209 invoked by uid 99); 19 Jan 2006 07:21:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 23:21:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 23:21:11 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5C4555B772; Wed, 18 Jan 2006 23:20:41 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 518487F403
	for <java-user@lucene.apache.org>; Wed, 18 Jan 2006 23:20:41 -0800 (PST)
Date: Wed, 18 Jan 2006 23:20:41 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: :intersection of two hits objects:
In-Reply-To: <KINGz0tWqhUYLqVpUOF00000c7c@King.Siti.com>
Message-ID: <Pine.LNX.4.58.0601182308340.23914@hal.rescomp.berkeley.edu>
References: <KINGz0tWqhUYLqVpUOF00000c7c@King.Siti.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


The first thing you need to keep in mind, is that a Hits object doesn't
"contain" results.  The Hits class is provided as a convincent way to
access results in order, that provides some prefecthing of ids/scores, and
caching of doc stored fields.

Iterating over an entire Hits object is *never* a good idea.
Depending on how big your result set is, iterating over every doc in the
results with a Hits object will re-execute your search over and over again
as you reach the end of it's buffer.

If it's not entirely obvious yet: there is no way to make a Hits object
and "add" or "remove" documents to/from it.   all a Hits objects has in it
is your orriginal Query, a refrnece to your searcher, and a cache.


if you need a Hits obejct ot contain only the results that can be found in
both of two queries A and B, then you should do one of two things:

  1) combine A and B in a boolean query ... this is the "right" option if
you want the scores in your results to be based on the aggregate scores
from A and B.

  2) execute A filtered by B (or B filtered by A) ... this is the "right"
option if you want the scores in your results to be based on just one
query ... and the other should only be used to restrict the results.


if you don't have the orriginal queries A and B, and all you have is the
Hits that resulted from those queries ... then i suggest you change your
app.



: Date: Thu, 19 Jan 2006 11:42:41 +0530
: From: Ravi <ravi.jaladanki@siti.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: RE: :intersection of two hits objects:
:
: Thanks for your help ,
:
: I am able to get the record numbers in BitSet object but how to iterate in
: the first hits1 object with the bitset object and retain only those
: documents  which contains ids existed in bitset object..
:
:
: Thanks
: Ravi Kumar jaladanki
:
: -----Original Message-----
: From: Dave Kor [mailto:davekor@gmail.com]
: Sent: Thursday, January 19, 2006 7:01 AM
: To: java-user@lucene.apache.org
: Subject: Re: :intersection of two hits objects:
:
: On 1/18/06, Ravi <ravi.jaladanki@siti.com> wrote:
: > Hi
: >
: > I want to find out the intersection of two hits objects  please help me
: >
: > Hits hits1 = Searcher.searh(strQuery1);
: > Hits hits2 = Searcher.searh(strQuery2);
: >
: > Now In hits1 contains records numbers 3,4 ,5,6 and
: >        Hits2 contains records numbers 3,6,8,9
: >
: > Now I need a solution which can give the hits object which contains  3,6
: > records
: >
:
: You can iterate through the Hits objects, flagging the document
: numbers in a java.util.BitSet. To compare hits between different
: queries, all you have to do is bitset1.and(bitset2).
:
: --
: Dave Kor, Research Assistant
: Center for Information Mining and Extraction
: School of Computing
: National University of Singapore.
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 07:55:07 2006
Return-Path: <java-user-return-18413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47096 invoked from network); 19 Jan 2006 07:55:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 07:55:07 -0000
Received: (qmail 72494 invoked by uid 500); 19 Jan 2006 07:54:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72468 invoked by uid 500); 19 Jan 2006 07:54:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72456 invoked by uid 99); 19 Jan 2006 07:54:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 23:54:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Jan 2006 23:54:55 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 18 Jan 2006 23:40:29 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: RE: :intersection of two hits objects:
Date: Thu, 19 Jan 2006 13:27:23 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <7E92ABDC-78CD-4D87-B813-4943E0C1D3A6@ehatchersolutions.com>
Thread-Index: AcYcMxNWrHQ0gP7MTAC2sDavv1m7RwAmolVQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-ID: <KING5Qc32om1joKIB5i00000cf4@King.Siti.com>
X-OriginalArrivalTime: 19 Jan 2006 07:40:31.0109 (UTC) FILETIME=[9FC56350:01C61CCB]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik

Can  u please tell me how to use this query in loop because he can refine
the search n number of time so how to maintain all the queries in
QueryFilter and use of them ,,,,, Please help me I need very urgent.


Thanks
Ravi Kumar Jaladanki

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, January 18, 2006 7:12 PM
To: java-user@lucene.apache.org
Subject: Re: :intersection of two hits objects:


On Jan 18, 2006, at 8:20 AM, Ravi wrote:
>
> I want to find out the intersection of two hits objects  please  
> help me
>
>
>
>
>
> Hits hits1 = Searcher.searh(strQuery1);
>
> Hits hits2 = Searcher.searh(strQuery2);
>
>
>
>
>
> Now In hits1 contains records numbers 3,4 ,5,6 and
>
>        Hits2 contains records numbers 3,6,8,9
>
> Now I need a solution which can give the hits object which  
> contains  3,6
> records

One option is to construct a QueryFilter with the first query, and  
use the search(Query, Filter) method.  Another option is to AND the  
two queries together by wrapping them in a BooleanQuery with both  
clauses required.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 08:41:40 2006
Return-Path: <java-user-return-18414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76649 invoked from network); 19 Jan 2006 08:41:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 08:41:40 -0000
Received: (qmail 42488 invoked by uid 500); 19 Jan 2006 08:41:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42460 invoked by uid 500); 19 Jan 2006 08:41:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42449 invoked by uid 99); 19 Jan 2006 08:41:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 00:41:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.27.2.202] (HELO mailrelay2.tu-graz.ac.at) (129.27.2.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 00:41:30 -0800
Received: from firewall.know-center.tugraz.at (firewall.know-center.tugraz.at [129.27.219.242])
	by mailrelay2.tu-graz.ac.at (8.13.5/8.13.5) with ESMTP id k0J8f7pe003529
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 09:41:07 +0100 (CET)
Received: from exchange.know-center.at (know.know-center.at [192.168.111.5])
	by firewall.know-center.tugraz.at (8.13.3/8.13.3) with ESMTP id k0J8f6vl029129
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 09:41:07 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Use the lucene for searching in the Semantic Web.
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 19 Jan 2006 09:41:06 +0100
Message-ID: <868EA75043E67D47B4A62E7571C90E6FA44A34@exchange.know.know-center.at>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: RE: Use the lucene for searching in the Semantic Web.
Thread-Index: AcYbczYh/uklu8HKRzmHrueQUxx/jgAFU1LwAFJY+xA=
From: "Mathias Lux" <mlux@know-center.at>
To: <java-user@lucene.apache.org>
X-Scanned-By: MIMEDefang 2.52 on 129.27.10.19
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

(1) I'm working on a similar problem, but based on MPEG-7 Semantic
Description Graphs. I've already a prototype for pakth based matching
within Lucene integrated in my sf project Caliph & Emir
(http://caliph-emir.sf.net). I've already adapted the approach to an
ontology, which had to be searched.

My approach works roughly like this:
 * index all paths up to a certain length in a graph as strings in
Lucene
 * index all node descriptions in another index
 * Within the query graph nodes are lucene queries -> query expansion to
node ids based on the node index
 * search for all expanded query graphs and merge results.

Unfortunately I didn't have time yet to do a full evaluation, but
preeliminary results are promising.

The valuation and a more comprehensive description of the approach can
be found in the proceedings of the TIR 05 (Text Information Retrieval
Workschop 2005 in Koblenz, Germany):
http://www-ai.upb.de/aisearch/tir-05/proceedings/lux05-fast-and-simple-p
ath-index-based-retrieval.pdf

The prototype is available @ http://caliph-emir.sf.net.

I'm open to comments and ideas on the approach as it is part of my PhD
and I'm working on a method without query expansion :-)

(2) A second thing is the feature based retrieval of nodes within an
ontology, which allows really fast indexing and retrieval as no
pathwalking takes place.=20
Works like this:
 * nodes being the documents / entities being searched for in the
ontology are extracted
 * surrounding nodes / literals are used as characteristic features
 * with some heuristics and some runtime configuration classifications,
text & keyword fields are separated
 * Retrieval is purely based on text and keywords, the same with
similarity search
 * additional Clustering is done on snippets from search results.
I already have a prototype running with this approach, but no evaluation
yet, sorry! For more information on this one please contact me. A
publication on this is currently in review, so I cannot give a link here
;(

References:=20
- Rodriguez, M.A. & Egenhofer, M.J. (2003), 'Determining Semantic
Similarity among Entity Classes from Different Ontologies', IEEE
Transactions on Knowledge and Data Engineering 15(2), 442--456.
- Varelas, G.; Voutsakis, E.; Raftopoulou, P.; Petrakis, E.G. & Milios,
E.E. (2005), Semantic similarity meth-ods in wordNet and their
application to information retrieval on the web, in 'WIDM '05:
Proceedings of the 7th annual ACM international workshop on Web
information and data management', ACM Press, New York, NY, USA, pp.
10--16.


regards,
  Mathias

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
DI Mathias Lux
Know-Center & Graz University of Technology, Austria
Institute for Knowledge Management (IWM)
Inffeldgasse 21a, 8010 Graz, Austria
Email  : mlux@know-center.at=20
Tel: +43 316 873 9274  Fax: +43 316 873 9252

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 09:19:31 2006
Return-Path: <java-user-return-18415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97541 invoked from network); 19 Jan 2006 09:19:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 09:19:30 -0000
Received: (qmail 12332 invoked by uid 500); 19 Jan 2006 09:19:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12304 invoked by uid 500); 19 Jan 2006 09:19:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12293 invoked by uid 99); 19 Jan 2006 09:19:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 01:19:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 01:19:21 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 19 Jan 2006 01:04:57 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: RE: :intersection of two hits objects:
Date: Thu, 19 Jan 2006 14:51:55 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <Pine.LNX.4.58.0601182308340.23914@hal.rescomp.berkeley.edu>
Thread-Index: AcYcxvswTi/yFmwHTsWMMuMUs89MvwAEqSWA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-ID: <KINGxTjtRpeVPOEcyhJ00000d31@King.Siti.com>
X-OriginalArrivalTime: 19 Jan 2006 09:04:58.0484 (UTC) FILETIME=[6C297340:01C61CD7]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks for your valuable suggestions to me.. I am very much glad to you for
this response. Now I understood where I am going wrong so I will try use the
first solution given by you 

Thanks 
Ravi Kumar Jaladanki


-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: Thursday, January 19, 2006 12:51 PM
To: java-user@lucene.apache.org
Subject: RE: :intersection of two hits objects:


The first thing you need to keep in mind, is that a Hits object doesn't
"contain" results.  The Hits class is provided as a convincent way to
access results in order, that provides some prefecthing of ids/scores, and
caching of doc stored fields.

Iterating over an entire Hits object is *never* a good idea.
Depending on how big your result set is, iterating over every doc in the
results with a Hits object will re-execute your search over and over again
as you reach the end of it's buffer.

If it's not entirely obvious yet: there is no way to make a Hits object
and "add" or "remove" documents to/from it.   all a Hits objects has in it
is your orriginal Query, a refrnece to your searcher, and a cache.


if you need a Hits obejct ot contain only the results that can be found in
both of two queries A and B, then you should do one of two things:

  1) combine A and B in a boolean query ... this is the "right" option if
you want the scores in your results to be based on the aggregate scores
from A and B.

  2) execute A filtered by B (or B filtered by A) ... this is the "right"
option if you want the scores in your results to be based on just one
query ... and the other should only be used to restrict the results.


if you don't have the orriginal queries A and B, and all you have is the
Hits that resulted from those queries ... then i suggest you change your
app.



: Date: Thu, 19 Jan 2006 11:42:41 +0530
: From: Ravi <ravi.jaladanki@siti.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: RE: :intersection of two hits objects:
:
: Thanks for your help ,
:
: I am able to get the record numbers in BitSet object but how to iterate in
: the first hits1 object with the bitset object and retain only those
: documents  which contains ids existed in bitset object..
:
:
: Thanks
: Ravi Kumar jaladanki
:
: -----Original Message-----
: From: Dave Kor [mailto:davekor@gmail.com]
: Sent: Thursday, January 19, 2006 7:01 AM
: To: java-user@lucene.apache.org
: Subject: Re: :intersection of two hits objects:
:
: On 1/18/06, Ravi <ravi.jaladanki@siti.com> wrote:
: > Hi
: >
: > I want to find out the intersection of two hits objects  please help me
: >
: > Hits hits1 = Searcher.searh(strQuery1);
: > Hits hits2 = Searcher.searh(strQuery2);
: >
: > Now In hits1 contains records numbers 3,4 ,5,6 and
: >        Hits2 contains records numbers 3,6,8,9
: >
: > Now I need a solution which can give the hits object which contains  3,6
: > records
: >
:
: You can iterate through the Hits objects, flagging the document
: numbers in a java.util.BitSet. To compare hits between different
: queries, all you have to do is bitset1.and(bitset2).
:
: --
: Dave Kor, Research Assistant
: Center for Information Mining and Extraction
: School of Computing
: National University of Singapore.
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 11:04:17 2006
Return-Path: <java-user-return-18416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53414 invoked from network); 19 Jan 2006 11:04:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 11:04:17 -0000
Received: (qmail 69767 invoked by uid 500); 19 Jan 2006 11:04:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69733 invoked by uid 500); 19 Jan 2006 11:04:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69722 invoked by uid 99); 19 Jan 2006 11:04:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:04:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:04:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A4C3C13E201A; Thu, 19 Jan 2006 06:03:44 -0500 (EST)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-a-214.chvlva.adelphia.net [68.169.40.214])
	by ehatchersolutions.com (Postfix) with ESMTP id 3425513E2005
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 06:03:37 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <KING5Qc32om1joKIB5i00000cf4@King.Siti.com>
References: <KING5Qc32om1joKIB5i00000cf4@King.Siti.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EB744B76-8EF1-4A12-B67B-5BD6F9C4C0A5@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: :intersection of two hits objects:
Date: Thu, 19 Jan 2006 06:03:35 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 19, 2006, at 2:57 AM, Ravi wrote:
> Can  u please tell me how to use this query in loop because he can  
> refine
> the search n number of time so how to maintain all the queries in
> QueryFilter and use of them ,,,,, Please help me I need very urgent.

If you're continually refining queries, I encourage you to consider  
AND'ing successive clauses in a BooleanQuery.  Using a Filter  
requires running one query to generate a BitSet and then another  
query using the BitSet as a constraint, so you'd likely find better  
performance by ANDing.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 11:16:49 2006
Return-Path: <java-user-return-18418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60336 invoked from network); 19 Jan 2006 11:16:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 11:16:36 -0000
Received: (qmail 87729 invoked by uid 500); 19 Jan 2006 11:15:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86208 invoked by uid 500); 19 Jan 2006 11:15:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85266 invoked by uid 99); 19 Jan 2006 11:15:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:15:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:14:18 -0800
Received: by xproxy.gmail.com with SMTP id i28so122558wxd
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 03:13:57 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XDzKRCC1l3+kbTmsCwsqK9o9UB0Bb6g/HdKOvy9U4qvusRG3pFGYvKMI9442BvEtNrhzeceX4CtLrqyty8TR60IsOhI+fk4Y3P1B3dXnzqd6JfcEcYXtsXAe3CFD65/0ImgKlwf+C09/qR9CBkbPTflag2mcMWkYsDlW/enhz8w=
Received: by 10.70.82.7 with SMTP id f7mr561772wxb;
        Thu, 19 Jan 2006 03:13:57 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Thu, 19 Jan 2006 03:13:57 -0800 (PST)
Message-ID: <277d4c5d0601190313y1da4569bi2ad80e260b1e7c24@mail.gmail.com>
Date: Thu, 19 Jan 2006 19:13:57 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <868EA75043E67D47B4A62E7571C90E6FA44A34@exchange.know.know-center.at>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_182454_6470371.1137669237312"
References: <868EA75043E67D47B4A62E7571C90E6FA44A34@exchange.know.know-center.at>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_182454_6470371.1137669237312
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Mathias,

Can you give more details?  Is your application for text + ontology, or
ontology only?

regards

jiang xing

On 1/19/06, Mathias Lux <mlux@know-center.at> wrote:
>
> Hi!
>
> (1) I'm working on a similar problem, but based on MPEG-7 Semantic
> Description Graphs. I've already a prototype for pakth based matching
> within Lucene integrated in my sf project Caliph & Emir
> (http://caliph-emir.sf.net). I've already adapted the approach to an
> ontology, which had to be searched.
>
> My approach works roughly like this:
> * index all paths up to a certain length in a graph as strings in
> Lucene
> * index all node descriptions in another index
> * Within the query graph nodes are lucene queries -> query expansion to
> node ids based on the node index
> * search for all expanded query graphs and merge results.
>
> Unfortunately I didn't have time yet to do a full evaluation, but
> preeliminary results are promising.
>
> The valuation and a more comprehensive description of the approach can
> be found in the proceedings of the TIR 05 (Text Information Retrieval
> Workschop 2005 in Koblenz, Germany):
> http://www-ai.upb.de/aisearch/tir-05/proceedings/lux05-fast-and-simple-p
> ath-index-based-retrieval.pdf
>
> The prototype is available @ http://caliph-emir.sf.net.
>
> I'm open to comments and ideas on the approach as it is part of my PhD
> and I'm working on a method without query expansion :-)
>
> (2) A second thing is the feature based retrieval of nodes within an
> ontology, which allows really fast indexing and retrieval as no
> pathwalking takes place.
> Works like this:
> * nodes being the documents / entities being searched for in the
> ontology are extracted


* surrounding nodes / literals are used as characteristic features
> * with some heuristics and some runtime configuration classifications,
> text & keyword fields are separated
> * Retrieval is purely based on text and keywords, the same with
> similarity search
> * additional Clustering is done on snippets from search results.
> I already have a prototype running with this approach, but no evaluation
> yet, sorry! For more information on this one please contact me. A
> publication on this is currently in review, so I cannot give a link here
> ;(
>
> References:
> - Rodriguez, M.A. & Egenhofer, M.J. (2003), 'Determining Semantic
> Similarity among Entity Classes from Different Ontologies', IEEE
> Transactions on Knowledge and Data Engineering 15(2), 442--456.
> - Varelas, G.; Voutsakis, E.; Raftopoulou, P.; Petrakis, E.G. & Milios,
> E.E. (2005), Semantic similarity meth-ods in wordNet and their
> application to information retrieval on the web, in 'WIDM '05:
> Proceedings of the 7th annual ACM international workshop on Web
> information and data management', ACM Press, New York, NY, USA, pp.
> 10--16.
>
>
> regards,
> Mathias
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> DI Mathias Lux
> Know-Center & Graz University of Technology, Austria
> Institute for Knowledge Management (IWM)
> Inffeldgasse 21a, 8010 Graz, Austria
> Email  : mlux@know-center.at
> Tel: +43 316 873 9274  Fax: +43 316 873 9252
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards

Jiang Xing

------=_Part_182454_6470371.1137669237312--

From java-user-return-18417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 11:16:59 2006
Return-Path: <java-user-return-18417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60291 invoked from network); 19 Jan 2006 11:16:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 11:16:35 -0000
Received: (qmail 86038 invoked by uid 500); 19 Jan 2006 11:15:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85421 invoked by uid 500); 19 Jan 2006 11:15:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85138 invoked by uid 99); 19 Jan 2006 11:15:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:15:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:08:40 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B4A7C13E201D; Thu, 19 Jan 2006 06:08:19 -0500 (EST)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-a-214.chvlva.adelphia.net [68.169.40.214])
	by ehatchersolutions.com (Postfix) with ESMTP id 68A4513E2005
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 06:08:13 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <277d4c5d0601181830r2fccfa86la573af1c9709f613@mail.gmail.com>
References: <277d4c5d0601171936g1f709babvc00fa52cffb30468@mail.gmail.com> <001101c61c81$7f0c9dd0$6402a8c0@sleipnir2> <277d4c5d0601181830r2fccfa86la573af1c9709f613@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C1595879-772F-422E-8AF7-406A48E4954E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Use the lucene for searching in the Semantic Web.
Date: Thu, 19 Jan 2006 06:08:13 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.1 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For some semweb + full-text searching real-world examples, also look  
to the SIMILE project - http://simile.mit.edu/

They have integrated Lucene into PiggyBank and Longwell.

	Erik



On Jan 18, 2006, at 9:30 PM, xing jiang wrote:

> Hi,
>
> I have done some surveys about the information retrieval on the  
> Semantic
> Web, (maybe i miss many papers, most papers i used are published in  
> recent
> WWW and CIKM conferences, :).
>
> 1. A typical way of using the ontology is to select exact term from  
> the
> domain ontology to form queries. The first one may be the OntoSeek (
> www.loa-cnr.it/Papers/OntoSeek.pdf ).  Similar work may be Latifur  
> Khan's
> work ("Retrieval effectiveness of an ontology-based model for  
> information
> selection", VLDB 2004).
>
> 2. Guha et al. ("Semantic Search", WWW2003) used domain ontology to  
> form a
> concept graph. Then, users only need to browse the concept graph  
> egenerated.
> Similar work may be Eero Hyvonen's  work "MuseumFinland". They all  
> used the
> semantic structure of the domain ontology to help users browsing.
>
> 3. QuizRDF (www.cs.rutgers.edu/~shklar/www11/final_submissions/ 
> paper6.pdf) used
> another kind of method for using the domain ontology.  Klaus, I  
> think your
> method  should be better than QuizRDF.
>
> One interesting method i found is Roha's work ("A hybrid approach for
> searching in the Semantic Web", WWW2004). They still used keyword  
> based
> method for retrieving documents on the Semantic Web. But i cannot  
> find any
> more information about their work and the application i am building  
> can be
> seen an extension of their work.
>
> Actually, the swoogle focuses on the ontology level's files only.  
> It will
> crawls RDF, OWL & DAML files. But they do not provide any new  
> method to
> combine the traditional keyword method for searching the text  
> files. Li Ding
> used a variant of page rank method for ontology files. But i am not  
> sure
> this method can be combined with the page rank method.
>
> Maybe i have missed too many things when i do this survey. However,  
> I think
> we may can find some good new methods of using the domain ontology  
> in the
> Semantic Web.
>
> Yours truly,
> Jiang Xing
>
>
>
>
> On 1/19/06, Klaus <klaus@vommond.de> wrote:
>>
>> Hello,
>>
>>
>>> Hi,
>>
>>> I think one problem of the existing method is that, to query on  
>>> the RDF
>>> files or similar structures, we have to form SQL like queries.  
>>> However,
>> for
>>> searching in the text files, we only need to type several  
>>> keywords. Can
>> we
>>> combine the two methods and how can we combine the two methods. For
>>> instance, i only need to enter some keywords.
>>
>> Yes you are right. At the moment I offer the users a UI where the can
>> input
>> some keywords and in addition to this some rql like query via drop  
>> down
>> menus. With the help of the this semantic query, they can specify the
>> results demarcate the result set, e.g. saying that all result's  
>> should
>> belong to one class, or deal with one theme.
>>
>> Now I try automate the generation of the query... But I'm not sure  
>> how to
>> do
>> this exactly. Maybe I will use some kind of pseudo relevance  
>> feedback to
>> make some semantic analysis an the first result set.
>>
>>
>>> Why do we have to learn some SQL like language for
>>> searching in the Semantic Web.
>>
>> Maybe this paper can help you... Primary the semantic web is for  
>> agents
>> and
>> so on, not for humans. So the information has to have a structure,  
>> which
>> can
>> be exploited.
>>
>> http://www.sciam.com/article.cfm? 
>> articleID=00048144-10D2-1C70-84A9809EC588EF
>> 21
>>
>> By the way, maybe you should take a look at http:// 
>> swoogle.umbc.edu/ There
>> is also quite a big number of papers an scholar.google.
>>
>> Do your have any ideas, right now?
>>
>> Peace
>>
>> Klaus
>>
>>
>>
>>
>
>
> --
> Regards
>
> Jiang Xing


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 11:39:56 2006
Return-Path: <java-user-return-18419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73161 invoked from network); 19 Jan 2006 11:39:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 11:39:56 -0000
Received: (qmail 26878 invoked by uid 500); 19 Jan 2006 11:39:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26849 invoked by uid 500); 19 Jan 2006 11:39:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26836 invoked by uid 99); 19 Jan 2006 11:39:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:39:48 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of drabus@gmx.de designates 213.165.64.21 as permitted sender)
Received: from [213.165.64.21] (HELO mail.gmx.net) (213.165.64.21)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 03:39:47 -0800
Received: (qmail invoked by alias); 19 Jan 2006 11:39:25 -0000
Received: from dialin-145-254-235-240.pools.arcor-ip.net (EHLO [145.254.235.240]) [145.254.235.240]
  by mail.gmx.net (mp039) with SMTP; 19 Jan 2006 12:39:25 +0100
X-Authenticated: #760050
Message-ID: <43CF7A62.80908@gmx.de>
Date: Thu, 19 Jan 2006 12:39:14 +0100
From: Daniel Rabus <drabus@gmx.de>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Lucene Logo? (high resolution)
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I've created an Semantic Desktop application using Lucene. For a 
presentation I'd like to create a poster. Unfortunately I haven't found 
any high resolution version (or vector graphic) of the Lucene logo. At 
http://svn.apache.org/repos/asf/lucene/java/trunk/docs/images/ only a 
few GIFs are available. Any suggestions?

Thanks,
Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 11:45:26 2006
Return-Path: <java-user-return-18420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75620 invoked from network); 19 Jan 2006 11:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 11:45:25 -0000
Received: (qmail 32246 invoked by uid 500); 19 Jan 2006 11:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32221 invoked by uid 500); 19 Jan 2006 11:45:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32202 invoked by uid 99); 19 Jan 2006 11:45:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:45:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.27.2.202] (HELO mailrelay1.tu-graz.ac.at) (129.27.2.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 03:45:19 -0800
Received: from firewall.know-center.tugraz.at (firewall.know-center.tugraz.at [129.27.219.242])
	by mailrelay1.tu-graz.ac.at (8.13.5/8.13.5) with ESMTP id k0JBiv2k025750
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 12:44:57 +0100 (CET)
Received: from exchange.know-center.at (know.know-center.at [192.168.111.5])
	by firewall.know-center.tugraz.at (8.13.3/8.13.3) with ESMTP id k0JBiukA029574
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 12:44:56 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Use the lucene for searching in the Semantic Web.
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 19 Jan 2006 12:44:56 +0100
Message-ID: <868EA75043E67D47B4A62E7571C90E6FA44A66@exchange.know.know-center.at>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Use the lucene for searching in the Semantic Web.
Thread-Index: AcYc6dFX3n/BwIrqTr+NoL6JEbFp5QAAivVA
From: "Mathias Lux" <mlux@know-center.at>
To: <java-user@lucene.apache.org>
X-Scanned-By: MIMEDefang 2.52 on 129.27.10.18
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Its for both, onto + contents (Word, Pdf, PPT, all time the same =
candidates). The main disadvantage of this approach is that "main" nodes =
in the ontology have to be defined.=20

Imagine following use case:=20
An ontology describes a companies content and knowledge management =
system. Persons, hierarchies, projects, documents and concepts (project =
manager, author, requirements document and so on) are within this =
ontology.
If you for instance choose to index all documents, projects and persons =
you identify all nodes, that symbolize the documents, projects and =
persons. For persons you can then index name (given-, surname, title and =
so on), department, age, ... For documents you can take the contents =
(from the document file itself), all metadata, the authors name, the =
category and type and so on. For projects you can extract from the =
ontology e.g. the description, name, participants, ... In the lucene =
index there are only 3 types of nodes indexed.=20

The main point in this is: How do you define the features of a node (in =
this use case document, person and project) and which neighbouring =
literals describe the concept of the ontology best?=20

The selection of concepts / classes / node types (whatever :) depends on =
the use case.

hope this helps a bit,
mathias

> -----Urspr=FCngliche Nachricht-----
> Von: xing jiang [mailto:gingerons@gmail.com]=20
> Gesendet: Donnerstag, 19. J=E4nner 2006 12:14
> An: java-user@lucene.apache.org
> Betreff: Re: Use the lucene for searching in the Semantic Web.
>=20
> Hi Mathias,
>=20
> Can you give more details?  Is your application for text +=20
> ontology, or
> ontology only?
>=20
> regards
>=20
> jiang xing
>=20
> On 1/19/06, Mathias Lux <mlux@know-center.at> wrote:
> >
> > Hi!
> >
> > (1) I'm working on a similar problem, but based on MPEG-7 Semantic
> > Description Graphs. I've already a prototype for pakth=20
> based matching
> > within Lucene integrated in my sf project Caliph & Emir
> > (http://caliph-emir.sf.net). I've already adapted the approach to an
> > ontology, which had to be searched.
> >
> > My approach works roughly like this:
> > * index all paths up to a certain length in a graph as strings in
> > Lucene
> > * index all node descriptions in another index
> > * Within the query graph nodes are lucene queries -> query=20
> expansion to
> > node ids based on the node index
> > * search for all expanded query graphs and merge results.
> >
> > Unfortunately I didn't have time yet to do a full evaluation, but
> > preeliminary results are promising.
> >
> > The valuation and a more comprehensive description of the=20
> approach can
> > be found in the proceedings of the TIR 05 (Text Information=20
> Retrieval
> > Workschop 2005 in Koblenz, Germany):
> >=20
> http://www-ai.upb.de/aisearch/tir-05/proceedings/lux05-fast-an
d-simple-p
> > ath-index-based-retrieval.pdf
> >
> > The prototype is available @ http://caliph-emir.sf.net.
> >
> > I'm open to comments and ideas on the approach as it is=20
> part of my PhD
> > and I'm working on a method without query expansion :-)
> >
> > (2) A second thing is the feature based retrieval of nodes within an
> > ontology, which allows really fast indexing and retrieval as no
> > pathwalking takes place.
> > Works like this:
> > * nodes being the documents / entities being searched for in the
> > ontology are extracted
>=20
>=20
> * surrounding nodes / literals are used as characteristic features
> > * with some heuristics and some runtime configuration=20
> classifications,
> > text & keyword fields are separated
> > * Retrieval is purely based on text and keywords, the same with
> > similarity search
> > * additional Clustering is done on snippets from search results.
> > I already have a prototype running with this approach, but=20
> no evaluation
> > yet, sorry! For more information on this one please contact me. A
> > publication on this is currently in review, so I cannot=20
> give a link here
> > ;(
> >
> > References:
> > - Rodriguez, M.A. & Egenhofer, M.J. (2003), 'Determining Semantic
> > Similarity among Entity Classes from Different Ontologies', IEEE
> > Transactions on Knowledge and Data Engineering 15(2), 442--456.
> > - Varelas, G.; Voutsakis, E.; Raftopoulou, P.; Petrakis,=20
> E.G. & Milios,
> > E.E. (2005), Semantic similarity meth-ods in wordNet and their
> > application to information retrieval on the web, in 'WIDM '05:
> > Proceedings of the 7th annual ACM international workshop on Web
> > information and data management', ACM Press, New York, NY, USA, pp.
> > 10--16.
> >
> >
> > regards,
> > Mathias
> >
> > =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > DI Mathias Lux
> > Know-Center & Graz University of Technology, Austria
> > Institute for Knowledge Management (IWM)
> > Inffeldgasse 21a, 8010 Graz, Austria
> > Email  : mlux@know-center.at
> > Tel: +43 316 873 9274  Fax: +43 316 873 9252
> >
> >=20
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>=20
>=20
> --
> Regards
>=20
> Jiang Xing
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 12:11:42 2006
Return-Path: <java-user-return-18421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89092 invoked from network); 19 Jan 2006 12:11:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 12:11:35 -0000
Received: (qmail 75854 invoked by uid 500); 19 Jan 2006 12:11:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75818 invoked by uid 500); 19 Jan 2006 12:11:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75807 invoked by uid 99); 19 Jan 2006 12:11:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 04:11:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.206 as permitted sender)
Received: from [66.249.82.206] (HELO xproxy.gmail.com) (66.249.82.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 04:11:14 -0800
Received: by xproxy.gmail.com with SMTP id i28so129821wxd
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 04:10:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NW0LCYdnMg3vr5Dumi4FtKln3lIbPxDBhDOtVRZqM94Tu+AdTAC5kthADDSFtnATaybx2F7MlTjGIH1UYT7gQ+iqhEMRTb8Gza8CIcZObb2zr1dXoJtqz47S0+nk6g/p/1IoNDJ/YlIzlU57z3os2Kka4qcpekoKgvEd5eIyGtw=
Received: by 10.70.45.12 with SMTP id s12mr513303wxs;
        Thu, 19 Jan 2006 04:10:52 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Thu, 19 Jan 2006 04:10:51 -0800 (PST)
Message-ID: <277d4c5d0601190410u67e05dc1w87172a936421a0de@mail.gmail.com>
Date: Thu, 19 Jan 2006 20:10:51 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <868EA75043E67D47B4A62E7571C90E6FA44A66@exchange.know.know-center.at>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_182658_32831569.1137672651614"
References: <868EA75043E67D47B4A62E7571C90E6FA44A66@exchange.know.know-center.at>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_182658_32831569.1137672651614
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I am not sure whether my understanding is correct.

In your application, A concept "document" first should be defined as a clas=
s
in the ontology? Then, each document is an instance of this class. It uses
its contents as its features. Also, the related concepts will be added into
the feature vector.

I think besides how to select the features, another problem is how to defin=
e
the similarity measure. Given a query submitted. How do you define the
similarity between the query and the result? One document is featured by it=
s
keywords and the ontological annotations.

Yours truly,
Jiang Xing




On 1/19/06, Mathias Lux <mlux@know-center.at> wrote:
>
> Its for both, onto + contents (Word, Pdf, PPT, all time the same
> candidates). The main disadvantage of this approach is that "main" nodes =
in
> the ontology have to be defined.
>
> Imagine following use case:
> An ontology describes a companies content and knowledge management system=
.
> Persons, hierarchies, projects, documents and concepts (project manager,
> author, requirements document and so on) are within this ontology.
> If you for instance choose to index all documents, projects and persons
> you identify all nodes, that symbolize the documents, projects and person=
s.
> For persons you can then index name (given-, surname, title and so on),
> department, age, ... For documents you can take the contents (from the
> document file itself), all metadata, the authors name, the category and t=
ype
> and so on. For projects you can extract from the ontology e.g. the
> description, name, participants, ... In the lucene index there are only 3
> types of nodes indexed.
>
> The main point in this is: How do you define the features of a node (in
> this use case document, person and project) and which neighbouring litera=
ls
> describe the concept of the ontology best?
>
> The selection of concepts / classes / node types (whatever :) depends on
> the use case.
>
> hope this helps a bit,
> mathias
>
> > -----Urspr=FCngliche Nachricht-----
> > Von: xing jiang [mailto:gingerons@gmail.com]
> > Gesendet: Donnerstag, 19. J=E4nner 2006 12:14
> > An: java-user@lucene.apache.org
> > Betreff: Re: Use the lucene for searching in the Semantic Web.
> >
> > Hi Mathias,
> >
> > Can you give more details?  Is your application for text +
> > ontology, or
> > ontology only?
> >
> > regards
> >
> > jiang xing
> >
> > On 1/19/06, Mathias Lux <mlux@know-center.at> wrote:
> > >
> > > Hi!
> > >
> > > (1) I'm working on a similar problem, but based on MPEG-7 Semantic
> > > Description Graphs. I've already a prototype for pakth
> > based matching
> > > within Lucene integrated in my sf project Caliph & Emir
> > > (http://caliph-emir.sf.net). I've already adapted the approach to an
> > > ontology, which had to be searched.
> > >
> > > My approach works roughly like this:
> > > * index all paths up to a certain length in a graph as strings in
> > > Lucene
> > > * index all node descriptions in another index
> > > * Within the query graph nodes are lucene queries -> query
> > expansion to
> > > node ids based on the node index
> > > * search for all expanded query graphs and merge results.
> > >
> > > Unfortunately I didn't have time yet to do a full evaluation, but
> > > preeliminary results are promising.
> > >
> > > The valuation and a more comprehensive description of the
> > approach can
> > > be found in the proceedings of the TIR 05 (Text Information
> > Retrieval
> > > Workschop 2005 in Koblenz, Germany):
> > >
> > http://www-ai.upb.de/aisearch/tir-05/proceedings/lux05-fast-an
> d-simple-p
> > > ath-index-based-retrieval.pdf
> > >
> > > The prototype is available @ http://caliph-emir.sf.net.
> > >
> > > I'm open to comments and ideas on the approach as it is
> > part of my PhD
> > > and I'm working on a method without query expansion :-)
> > >
> > > (2) A second thing is the feature based retrieval of nodes within an
> > > ontology, which allows really fast indexing and retrieval as no
> > > pathwalking takes place.
> > > Works like this:
> > > * nodes being the documents / entities being searched for in the
> > > ontology are extracted
> >
> >
> > * surrounding nodes / literals are used as characteristic features
> > > * with some heuristics and some runtime configuration
> > classifications,
> > > text & keyword fields are separated
> > > * Retrieval is purely based on text and keywords, the same with
> > > similarity search
> > > * additional Clustering is done on snippets from search results.
> > > I already have a prototype running with this approach, but
> > no evaluation
> > > yet, sorry! For more information on this one please contact me. A
> > > publication on this is currently in review, so I cannot
> > give a link here
> > > ;(
> > >
> > > References:
> > > - Rodriguez, M.A. & Egenhofer, M.J. (2003), 'Determining Semantic
> > > Similarity among Entity Classes from Different Ontologies', IEEE
> > > Transactions on Knowledge and Data Engineering 15(2), 442--456.
> > > - Varelas, G.; Voutsakis, E.; Raftopoulou, P.; Petrakis,
> > E.G. & Milios,
> > > E.E. (2005), Semantic similarity meth-ods in wordNet and their
> > > application to information retrieval on the web, in 'WIDM '05:
> > > Proceedings of the 7th annual ACM international workshop on Web
> > > information and data management', ACM Press, New York, NY, USA, pp.
> > > 10--16.
> > >
> > >
> > > regards,
> > > Mathias
> > >
> > > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > > DI Mathias Lux
> > > Know-Center & Graz University of Technology, Austria
> > > Institute for Knowledge Management (IWM)
> > > Inffeldgasse 21a, 8010 Graz, Austria
> > > Email  : mlux@know-center.at
> > > Tel: +43 316 873 9274  Fax: +43 316 873 9252
> > >
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
> > --
> > Regards
> >
> > Jiang Xing
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards

Jiang Xing

------=_Part_182658_32831569.1137672651614--

From java-user-return-18422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 12:41:29 2006
Return-Path: <java-user-return-18422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99799 invoked from network); 19 Jan 2006 12:36:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 12:36:20 -0000
Received: (qmail 9176 invoked by uid 500); 19 Jan 2006 12:35:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9156 invoked by uid 500); 19 Jan 2006 12:35:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9145 invoked by uid 99); 19 Jan 2006 12:35:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 04:35:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.27.2.202] (HELO mailrelay2.tu-graz.ac.at) (129.27.2.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 04:35:06 -0800
Received: from firewall.know-center.tugraz.at (firewall.know-center.tugraz.at [129.27.219.242])
	by mailrelay2.tu-graz.ac.at (8.13.5/8.13.5) with ESMTP id k0JCYhe1020846
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 13:34:43 +0100 (CET)
Received: from exchange.know-center.at (know.know-center.at [192.168.111.5])
	by firewall.know-center.tugraz.at (8.13.3/8.13.3) with ESMTP id k0JCYhLX029679
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 13:34:43 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Use the lucene for searching in the Semantic Web.
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 19 Jan 2006 13:34:43 +0100
Message-ID: <868EA75043E67D47B4A62E7571C90E6FA44A71@exchange.know.know-center.at>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Use the lucene for searching in the Semantic Web.
Thread-Index: AcYc8YB7hLJB7OPsRxOlYV+G+6c6sgAAjJQA
From: "Mathias Lux" <mlux@know-center.at>
To: <java-user@lucene.apache.org>
X-Scanned-By: MIMEDefang 2.52 on 129.27.10.19
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

=20

> -----Urspr=FCngliche Nachricht-----
> Von: xing jiang [mailto:gingerons@gmail.com]=20
> Gesendet: Donnerstag, 19. J=E4nner 2006 13:11
> An: java-user@lucene.apache.org
> Betreff: Re: Use the lucene for searching in the Semantic Web.
>=20
> Hi,
>=20
> I am not sure whether my understanding is correct.
>=20
> In your application, A concept "document" first should be=20
> defined as a class
> in the ontology? Then, each document is an instance of this=20
> class. It uses
> its contents as its features. Also, the related concepts will=20
> be added into
> the feature vector.

Yes, thats it in general. You decide which classes are the ones to index =
and select all instances from this class or ist subclasses.=20

> I think besides how to select the features, another problem=20
> is how to define
> the similarity measure. Given a query submitted. How do you define the
> similarity between the query and the result? One document is=20
> featured by its
> keywords and the ontological annotations.
the similarity measure is term based, tf*idf weighted in ist simple =
form. Further enhancement would be a "weighting" of nodes e.g. based on =
information content (see e.g. Rodriguez, M.A. & Egenhofer, M.J. (2003)), =
where a test corpus helps to weight the importance of nodes based on =
their labels. But this is just a direction, not tested yet.=20

To introduce path based similarity using lucene I'm afraid is in my =
opinion impossible :) What someone - if not me - could try is to use the =
structural context of a node instead of the textual context based on =
paths as I've done with MPEG-7. This should be quite easy as RDF shares =
most characteristics with MPEG-7 semantic graphs, having e.g. unique =
node labels (URIs per definitionem in RDF), a limited set of possible =
relations (limited by the number of nodes in RDF, but that should do =
also) and so on.

- mathias

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 12:49:54 2006
Return-Path: <java-user-return-18423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5660 invoked from network); 19 Jan 2006 12:47:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 12:47:25 -0000
Received: (qmail 20286 invoked by uid 500); 19 Jan 2006 12:47:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20261 invoked by uid 500); 19 Jan 2006 12:47:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20250 invoked by uid 99); 19 Jan 2006 12:47:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 04:47:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO xproxy.gmail.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 04:47:17 -0800
Received: by xproxy.gmail.com with SMTP id i28so134568wxd
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 04:46:57 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LVymmAhvenWsVAFF8d6/VERxR7p9mwuP/DaJodWuWn4AQCPpPHfIsDTnbg/oix9Uhk6Y8HkuEoXhWWqFDwiWxgNrOO1G3lea6rIZJ9MxFxtCiF+ICBH0DmF+17f/yG262/G57efHc5QGQIXIn/bnyh0t3jB57lIYXkPA2ajuh3U=
Received: by 10.70.45.12 with SMTP id s12mr544849wxs;
        Thu, 19 Jan 2006 04:46:56 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Thu, 19 Jan 2006 04:46:56 -0800 (PST)
Message-ID: <277d4c5d0601190446o2410e7bfw4ee3a456b4504511@mail.gmail.com>
Date: Thu, 19 Jan 2006 20:46:56 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <868EA75043E67D47B4A62E7571C90E6FA44A71@exchange.know.know-center.at>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_182922_17929359.1137674816291"
References: <868EA75043E67D47B4A62E7571C90E6FA44A71@exchange.know.know-center.at>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_182922_17929359.1137674816291
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 1/19/06, Mathias Lux <mlux@know-center.at> wrote:
>
>
>
> > -----Urspr=FCngliche Nachricht-----
> > Von: xing jiang [mailto:gingerons@gmail.com]
> > Gesendet: Donnerstag, 19. J=E4nner 2006 13:11
> > An: java-user@lucene.apache.org
> > Betreff: Re: Use the lucene for searching in the Semantic Web.
> >
> > Hi,
> >
> > I am not sure whether my understanding is correct.
> >
> > In your application, A concept "document" first should be
> > defined as a class
> > in the ontology? Then, each document is an instance of this
> > class. It uses
> > its contents as its features. Also, the related concepts will
> > be added into
> > the feature vector.
>
> Yes, thats it in general. You decide which classes are the ones to index
> and select all instances from this class or ist subclasses.
>
> > I think besides how to select the features, another problem
> > is how to define
> > the similarity measure. Given a query submitted. How do you define the
> > similarity between the query and the result? One document is
> > featured by its
> > keywords and the ontological annotations.
> the similarity measure is term based, tf*idf weighted in ist simple form.
> Further enhancement would be a "weighting" of nodes e.g. based on
> information content (see e.g. Rodriguez, M.A. & Egenhofer, M.J. (2003)),
> where a test corpus helps to weight the importance of nodes based on thei=
r
> labels. But this is just a direction, not tested yet.


Actually, my problem is that, for instance, for a document d, Its feature
vector may be keywords and concepts. I don't know how to weight the two
items. Right now, i used a stupid method, given a document d, i can obtain =
a
rank D based on keyword method. Also, it is annotated with a concept c (The
most simple example) . People can have a rank  C of these concepts in the
domain ontology, where the most relevant concepts should be the at top of
this concept list. Finally, document's rank is decided by the sum of (C +
D).


To introduce path based similarity using lucene I'm afraid is in my opinion
> impossible :) What someone - if not me - could try is to use the structur=
al
> context of a node instead of the textual context based on paths as I've d=
one
> with MPEG-7. This should be quite easy as RDF shares most characteristics
> with MPEG-7 semantic graphs, having e.g. unique node labels (URIs per
> definitionem in RDF), a limited set of possible relations (limited by the
> number of nodes in RDF, but that should do also) and so on.
>
> - mathias
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards

Jiang Xing

------=_Part_182922_17929359.1137674816291--

From java-user-return-18424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 13:02:33 2006
Return-Path: <java-user-return-18424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13958 invoked from network); 19 Jan 2006 13:00:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 13:00:59 -0000
Received: (qmail 40890 invoked by uid 500); 19 Jan 2006 13:00:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40870 invoked by uid 500); 19 Jan 2006 13:00:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40859 invoked by uid 99); 19 Jan 2006 13:00:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 05:00:35 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 05:00:34 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 19 Jan 2006 14:00:05 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Limiting hits?
Date: Thu, 19 Jan 2006 14:00:05 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003446BA047@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Limiting hits?
Thread-Index: AcYc+ER04N/8HJMVTSaNpGQr5zO78Q==
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 19 Jan 2006 13:00:05.0485 (UTC) FILETIME=[4496F9D0:01C61CF8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am currently looking for a way to limit the amount of Hits which are
returned by a Query.

What I am doing is following:

Searcher s =3D ...;
Query q =3D QueryParser.parse("...", "...", new StandardAnalyzer());
searcher.search(query);

We have approximately 10 million products in our Index and of these 10
million products there might be 100.000 which have the word "processor"
in it's description.

Say a user on our website is searching for processor the Index (to which
I connect by RMI) is finding 100.000 products and returns these Hits.

Is it possible to implement away to return no more than 1000 products?
Is it possible to add something like "name:processor AND
maxresults:1000"?

Thanks in advance!
/Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 13:15:31 2006
Return-Path: <java-user-return-18425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24802 invoked from network); 19 Jan 2006 13:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 13:15:00 -0000
Received: (qmail 64207 invoked by uid 500); 19 Jan 2006 13:14:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64175 invoked by uid 500); 19 Jan 2006 13:14:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64147 invoked by uid 99); 19 Jan 2006 13:14:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 05:14:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.27.2.202] (HELO mailrelay1.tu-graz.ac.at) (129.27.2.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 05:14:27 -0800
Received: from firewall.know-center.tugraz.at (firewall.know-center.tugraz.at [129.27.219.242])
	by mailrelay1.tu-graz.ac.at (8.13.5/8.13.5) with ESMTP id k0JDE4J1002010
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 14:14:04 +0100 (CET)
Received: from exchange.know-center.at (know.know-center.at [192.168.111.5])
	by firewall.know-center.tugraz.at (8.13.3/8.13.3) with ESMTP id k0JDE44Z029764
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 14:14:04 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Use the lucene for searching in the Semantic Web.
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 19 Jan 2006 14:14:04 +0100
Message-ID: <868EA75043E67D47B4A62E7571C90E6FA44A78@exchange.know.know-center.at>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Use the lucene for searching in the Semantic Web.
Thread-Index: AcYc9o4Dnth/1X0oQlat8IHE02iK+wAAfyjg
From: "Mathias Lux" <mlux@know-center.at>
To: <java-user@lucene.apache.org>
X-Scanned-By: MIMEDefang 2.52 on 129.27.10.18
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

=20
> Actually, my problem is that, for instance, for a document d,=20
> Its feature
> vector may be keywords and concepts. I don't know how to=20
> weight the two
> items. Right now, i used a stupid method, given a document d,=20
> i can obtain a
> rank D based on keyword method. Also, it is annotated with a=20
> concept c (The
> most simple example) . People can have a rank  C of these=20
> concepts in the
> domain ontology, where the most relevant concepts should be=20
> the at top of
> this concept list. Finally, document's rank is decided by the=20
> sum of (C +
> D).

hmm, if you index the concepts e.g. based on ist URI in a Lucene Filed
you can set a boost value at indexing time like this:

Field conceptField =3D Field.Text("classification",
"http://concepts.server.com/classification/car/mercedes")=20
conceptField.setBoost(1.3f);

So your concept for this document, where the filed is added, is boosted
in relevance computation.

if you know the concept boost value at search time you can add the boost
value to the query:
e.g. querying for=20

classification:"http://concepts.server.com/classification/car/mercedes"^
4

Of course you have to think about the whole thing, but I think with good
boost values it would work.=20

- mathias

ps. instead of C+D I would use (l-1)*C + l*D, so l from [0,1] can be
used to specify if concept or content has more influence.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 13:26:29 2006
Return-Path: <java-user-return-18426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33438 invoked from network); 19 Jan 2006 13:26:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 13:26:21 -0000
Received: (qmail 88334 invoked by uid 500); 19 Jan 2006 13:25:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88308 invoked by uid 500); 19 Jan 2006 13:25:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88296 invoked by uid 99); 19 Jan 2006 13:25:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 05:25:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 05:25:25 -0800
Received: by xproxy.gmail.com with SMTP id i28so139961wxd
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 05:25:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SjyFfp6s04XbQdXCzSyjS8WfeC554T0Ex5e1bbebSok2EF2xyWqmccsGnC7maEvEMwdpnd0M7LSGJEdBdPxv4WV7Zu47Yqguf+tR/B7rL/KPaqVyX9wngO/6U61FimGxdMGTk0O7D6mHENSyoil6d6kdnMh8eo23vY0NaHoXyBc=
Received: by 10.70.52.9 with SMTP id z9mr583004wxz;
        Thu, 19 Jan 2006 05:25:04 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Thu, 19 Jan 2006 05:25:04 -0800 (PST)
Message-ID: <277d4c5d0601190525m451516e4p472584130e81c75c@mail.gmail.com>
Date: Thu, 19 Jan 2006 21:25:04 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <868EA75043E67D47B4A62E7571C90E6FA44A78@exchange.know.know-center.at>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_183202_10634385.1137677104468"
References: <868EA75043E67D47B4A62E7571C90E6FA44A78@exchange.know.know-center.at>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_183202_10634385.1137677104468
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 1/19/06, Mathias Lux <mlux@know-center.at> wrote:
>
>
> > Actually, my problem is that, for instance, for a document d,
> > Its feature
> > vector may be keywords and concepts. I don't know how to
> > weight the two
> > items. Right now, i used a stupid method, given a document d,
> > i can obtain a
> > rank D based on keyword method. Also, it is annotated with a
> > concept c (The
> > most simple example) . People can have a rank  C of these
> > concepts in the
> > domain ontology, where the most relevant concepts should be
> > the at top of
> > this concept list. Finally, document's rank is decided by the
> > sum of (C +
> > D).
>
> hmm, if you index the concepts e.g. based on ist URI in a Lucene Filed
> you can set a boost value at indexing time like this:
>
> Field conceptField =3D Field.Text("classification",
> "http://concepts.server.com/classification/car/mercedes")
> conceptField.setBoost(1.3f);
>
> So your concept for this document, where the filed is added, is boosted
> in relevance computation.
>
> if you know the concept boost value at search time you can add the boost
> value to the query:
> e.g. querying for
>
> classification:"http://concepts.server.com/classification/car/mercedes"^
> 4
>
> Of course you have to think about the whole thing, but I think with good
> boost values it would work.
>
> - mathias
>
> ps. instead of C+D I would use (l-1)*C + l*D, so l from [0,1] can be
> used to specify if concept or content has more influence.


I will compute each concepts relevant to each query. Thus, i cannot set the
boost value. Actually, I use the (l-1)*C + l*D method in my prototype. But
my supervisor said this method is funny as it is too simple.


---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards

Jiang Xing

------=_Part_183202_10634385.1137677104468--

From java-user-return-18427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 14:05:35 2006
Return-Path: <java-user-return-18427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67408 invoked from network); 19 Jan 2006 14:05:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 14:05:20 -0000
Received: (qmail 41732 invoked by uid 500); 19 Jan 2006 13:54:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40166 invoked by uid 500); 19 Jan 2006 13:53:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40099 invoked by uid 99); 19 Jan 2006 13:53:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 05:53:57 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.38] (HELO web53008.mail.yahoo.com) (206.190.49.38)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 05:52:05 -0800
Received: (qmail 32300 invoked by uid 60001); 19 Jan 2006 13:51:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=mNrKmVR/8YsoQhYHygsDXLOk8E4UWu+O6XHJCjf8tZbPsEJH14DFIx4rkUpqhZNfkMDOdlcOa06XH17ibXHO1wl0pro8u9e0CWh7OIcqFzkv5HwlC40FjihmuJ9CWrYY9Fsxfd5CeU+EKmlxDviwWp7+mt3NETHyAbsJDh3fpbA=  ;
Message-ID: <20060119135144.32298.qmail@web53008.mail.yahoo.com>
Received: from [219.91.147.162] by web53008.mail.yahoo.com via HTTP; Thu, 19 Jan 2006 05:51:44 PST
Date: Thu, 19 Jan 2006 05:51:44 -0800 (PST)
From: "Ranjan K. Baisak" <ranjanbaisak@yahoo.com>
Subject: Search more than one index directory
To: java-user@lucene.apache.org
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003446BA047@EXHQ01.root.tradedoubler.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have different categories of indexes in different
directory. When I am searching for a category of
"ALL", lucene should search using indexes from all
directories.
So is it possible?

regards,
Ranjan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 14:45:13 2006
Return-Path: <java-user-return-18428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98859 invoked from network); 19 Jan 2006 14:45:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 14:45:12 -0000
Received: (qmail 55387 invoked by uid 500); 19 Jan 2006 14:45:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55197 invoked by uid 500); 19 Jan 2006 14:45:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55184 invoked by uid 99); 19 Jan 2006 14:45:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 06:45:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 06:45:03 -0800
Received: from orbitsoft.ipt ([192.168.0.150] helo=orbitsoft.orbitscripts)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1Ezb1k-0003uh-EN
	for java-user@lucene.apache.org; Thu, 19 Jan 2006 17:44:40 +0300
Subject: non-standard query
Date: Thu, 19 Jan 2006 17:44:26 +0300
Message-ID: <41D8E340E5045F4ABA553E4524E3D3792936A8@orbitsoft.orbitscripts>
X-MS-Has-Attach: 
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C61D06.E689522A"
X-MS-TNEF-Correlator: 
Thread-Topic: non-standard query
Thread-Index: AcYdBthXApSzb/6dReylsHM9t3KvHQ==
Content-class: urn:content-classes:message
From: "Anton Potehin" <anton@orbita1.ru>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C61D06.E689522A
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I've the following problem:

I've a big number of documents indexed.

=20

Suppose that the search query contains 20 terms. It is necessary to find
all documents which contains at least 5 terms from search query.=20

Is it possible to implement? If yes, what problems may arise during the
solving of this task?

=20


------_=_NextPart_001_01C61D06.E689522A--

From java-user-return-18429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 15:04:13 2006
Return-Path: <java-user-return-18429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12907 invoked from network); 19 Jan 2006 15:04:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 15:04:13 -0000
Received: (qmail 4025 invoked by uid 500); 19 Jan 2006 15:04:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4005 invoked by uid 500); 19 Jan 2006 15:04:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 94490 invoked by uid 99); 19 Jan 2006 15:02:13 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Date: Thu, 19 Jan 2006 16:01:51 +0100
Message-Id: <440704315@web.de>
MIME-Version: 1.0
From: der_grosse_hui@web.de
To: java-user@lucene.apache.org
Subject: What's the differents between QueryParser and Query
Organization: http://freemail.web.de/
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all!
I've a question about the lucene search method. What is the different between a search with the class lucene.queryParser.QueryParser and the class lucene.search.Query and their subclasses?
For example: With the WildcardQuery I can search for * at the beginning of a term, but not with the method QueryParser.parse(). But I get the same search string with Query.toString(). Why?

Some background about my project:
I have to decide if I build a Query with the Query class and their subclasses or if I build it with the static method QueryParser.parse()
The sizes of my indexes are pretty different. They might reach a size of 100,000 docs and more. Unfortunately the index changes frequently.
What is the best way to search in such an index, and why?

Pleased for every kind of help!

Matt
______________________________________________________________
Verschicken Sie romantische, coole und witzige Bilder per SMS!
Jetzt bei WEB.DE FreeMail: http://f.web.de/?mc=021193


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 15:41:37 2006
Return-Path: <java-user-return-18430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42616 invoked from network); 19 Jan 2006 15:41:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 15:41:35 -0000
Received: (qmail 97615 invoked by uid 500); 19 Jan 2006 15:41:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97594 invoked by uid 500); 19 Jan 2006 15:41:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97583 invoked by uid 99); 19 Jan 2006 15:41:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 07:41:28 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 07:41:28 -0800
Received: by uproxy.gmail.com with SMTP id e2so391232ugf
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 07:41:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=hTghQjki/kCw3/RLtiFHDfi0NEMfnZDdACSZQ8kvir/jiiEQhbAR/yTtv4/73wmFZxiXy6vIzH4qXypHnrk346gcip9Fnqj+7fhfxav0Kw+t8wePH8zk1rBDLSZmhlrNBc7DsgN78Y9wPlVmFTHaTZB5ONL+BY9SjrUN67tEUWw=
Received: by 10.48.108.7 with SMTP id g7mr52654nfc;
        Thu, 19 Jan 2006 07:41:06 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Thu, 19 Jan 2006 07:41:06 -0800 (PST)
Message-ID: <c68e39170601190741r5c18d61dk2c00d296b7c8f2b8@mail.gmail.com>
Date: Thu, 19 Jan 2006 10:41:06 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: non-standard query
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792936A8@orbitsoft.orbitscripts>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <41D8E340E5045F4ABA553E4524E3D3792936A8@orbitsoft.orbitscripts>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Check out minNrShouldMatch in BooleanQuery in the latest lucene
version (1.9 dev version in subversion).

-Yonik

On 1/19/06, Anton Potehin <anton@orbita1.ru> wrote:
> Suppose that the search query contains 20 terms. It is necessary to find
> all documents which contains at least 5 terms from search query.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 15:46:22 2006
Return-Path: <java-user-return-18431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46880 invoked from network); 19 Jan 2006 15:46:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 15:46:22 -0000
Received: (qmail 11459 invoked by uid 500); 19 Jan 2006 15:46:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11384 invoked by uid 500); 19 Jan 2006 15:46:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11326 invoked by uid 99); 19 Jan 2006 15:46:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 07:46:16 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.192 as permitted sender)
Received: from [66.249.92.192] (HELO uproxy.gmail.com) (66.249.92.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 07:46:15 -0800
Received: by uproxy.gmail.com with SMTP id e2so393210ugf
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 07:45:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=owuPco0K2dPTfHBs2l/lR6hPjyTeUfsnlYQMZdLOAWPrlsmuJbl0IsMyYsk3P1FLProA6YTShQXuessnWxI2MQQhSdWQO+MhvHetmvdMdFMArkVujAuf6cT8w46RvmP4mG7PqBg6RJNZVZLpKH1SMZUPpgtpOLeV9yU39iVMEiU=
Received: by 10.49.41.11 with SMTP id t11mr54529nfj;
        Thu, 19 Jan 2006 07:45:54 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Thu, 19 Jan 2006 07:45:54 -0800 (PST)
Message-ID: <c68e39170601190745l1295ba96ocb745fb410bd1086@mail.gmail.com>
Date: Thu, 19 Jan 2006 10:45:54 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Limiting hits?
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003446BA047@EXHQ01.root.tradedoubler.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4BA24A13BFC8B24EBD64FCA6525003446BA047@EXHQ01.root.tradedoubler.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hits doesn't keep track of all 100,000 matches, only the first 100.=20
It dynamically collects more matches if it needs to.

-Yonik

On 1/19/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> Hi,
>
> I am currently looking for a way to limit the amount of Hits which are
> returned by a Query.
>
> What I am doing is following:
>
> Searcher s =3D ...;
> Query q =3D QueryParser.parse("...", "...", new StandardAnalyzer());
> searcher.search(query);
>
> We have approximately 10 million products in our Index and of these 10
> million products there might be 100.000 which have the word "processor"
> in it's description.
>
> Say a user on our website is searching for processor the Index (to which
> I connect by RMI) is finding 100.000 products and returns these Hits.
>
> Is it possible to implement away to return no more than 1000 products?
> Is it possible to add something like "name:processor AND
> maxresults:1000"?
>
> Thanks in advance!
> /Daniel
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 16:28:18 2006
Return-Path: <java-user-return-18432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81558 invoked from network); 19 Jan 2006 16:28:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 16:28:18 -0000
Received: (qmail 25999 invoked by uid 500); 19 Jan 2006 16:27:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25918 invoked by uid 500); 19 Jan 2006 16:27:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25884 invoked by uid 99); 19 Jan 2006 16:27:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:27:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:27:48 -0800
Received: from sleipnir2 (dslb-084-061-027-025.pools.arcor-ip.net [84.61.27.25])
	by basicbox6.server-home.net (Postfix) with ESMTP id 1DAF5718001
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 17:27:23 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: AW: Use the lucene for searching in the Semantic Web.
Date: Thu, 19 Jan 2006 17:27:23 +0100
Message-ID: <003201c61d15$3ac3b160$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
Thread-Index: AcYc9n9OB/2B9Eu7RhKGIw5xBvOwJQAHX1Xg
In-Reply-To: <277d4c5d0601190446o2410e7bfw4ee3a456b4504511@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

>Actually, my problem is that, for instance, for a document d, Its feature
>vector may be keywords and concepts.

What do you exactly mean by features vector? You are referring to the
predicate - object pairs, connected to one subject node, don't you?
 
>I don't know how to weight the two
>items. Right now, i used a stupid method, given a document d, i can obtain
>a rank D based on keyword method. Also, it is annotated with a concept c
>(The most simple example) . People can have a rank  C of these concepts in
>the domain ontology, where the most relevant concepts should be the at top
>of this concept list. Finally, document's rank is decided by the sum of (C
>+D).

I'm going to implement something like a pagerank algorithm for my search
engine. In Contrast to the google approach I cannot just count the edge, of
one node, because of the know semantic I can weight them. Of course this
implies a knowledge of the domain ontology. For instance if there is a
predicate "cited_in_document" I could rank a document higher, if it is often
cited. But I'm not sure about the results...

Klaus


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 16:30:11 2006
Return-Path: <java-user-return-18433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83013 invoked from network); 19 Jan 2006 16:30:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 16:30:10 -0000
Received: (qmail 34241 invoked by uid 500); 19 Jan 2006 16:30:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34217 invoked by uid 500); 19 Jan 2006 16:30:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34205 invoked by uid 99); 19 Jan 2006 16:30:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:30:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:30:01 -0800
Received: from sleipnir2 (dslb-084-061-027-025.pools.arcor-ip.net [84.61.27.25])
	by basicbox6.server-home.net (Postfix) with ESMTP id 63E4F7189E2
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 17:29:37 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: Analyzer
Date: Thu, 19 Jan 2006 17:29:38 +0100
Message-ID: <003301c61d15$8acfc9f0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
Thread-Index: AcYc9n9OB/2B9Eu7RhKGIw5xBvOwJQAHtI0w
In-Reply-To: <277d4c5d0601190446o2410e7bfw4ee3a456b4504511@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Is there a way to get the unstemmed term out of the lucene index, or do I
have to change the analyzer, to save the original term and the stemmed one?

Thank,

Klaus


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 16:43:32 2006
Return-Path: <java-user-return-18435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91575 invoked from network); 19 Jan 2006 16:43:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 16:43:31 -0000
Received: (qmail 51539 invoked by uid 500); 19 Jan 2006 16:42:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50400 invoked by uid 500); 19 Jan 2006 16:41:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48373 invoked by uid 99); 19 Jan 2006 16:41:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:41:38 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.207 as permitted sender)
Received: from [66.249.92.207] (HELO uproxy.gmail.com) (66.249.92.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:38:06 -0800
Received: by uproxy.gmail.com with SMTP id e2so415158ugf
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 08:37:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ZrdP1QAvw7aW2bsdpyiy/xK0laNzbepxYdQII5jvaiQHEhTT0BJey6Ub02dqr5ULOGf2ZdmmgRDTnenmZvQEFzMH9ZU2tE9FhDhpCGSRR7VuuLmTx4U9PNf7A1wAwUvNg/4fvFgqgZYOQ39SF/xTkztxAIw6l+wRSCkY5LWXIeI=
Received: by 10.48.235.6 with SMTP id i6mr59011nfh;
        Thu, 19 Jan 2006 08:37:45 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Thu, 19 Jan 2006 08:37:44 -0800 (PST)
Message-ID: <c68e39170601190837v28fe363ao2a38cbe90d5f1104@mail.gmail.com>
Date: Thu, 19 Jan 2006 11:37:44 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Analyzer
In-Reply-To: <003301c61d15$8acfc9f0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <277d4c5d0601190446o2410e7bfw4ee3a456b4504511@mail.gmail.com>
	 <003301c61d15$8acfc9f0$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Do you want to search for the unstemmed term, or just be able to retrieve i=
t?

When you retrieve a document, you get the un-analyzed original fields.

If you want to index both the stemmend and unstemmed terms, the
easiest way is to add the field twice (the second time using a
different field name) and use different analyzers for the different
fields.

-Yonik

On 1/19/06, Klaus <klaus@vommond.de> wrote:
> Hi,
>
> Is there a way to get the unstemmed term out of the lucene index, or do I
> have to change the analyzer, to save the original term and the stemmed on=
e?
>
> Thank,
>
> Klaus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 16:43:34 2006
Return-Path: <java-user-return-18434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91588 invoked from network); 19 Jan 2006 16:43:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 16:43:32 -0000
Received: (qmail 52340 invoked by uid 500); 19 Jan 2006 16:42:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49292 invoked by uid 500); 19 Jan 2006 16:41:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48080 invoked by uid 99); 19 Jan 2006 16:41:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:41:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.68.36.82] (HELO mail.cardiweb.com) (195.68.36.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:35:49 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.cardiweb.com (Postfix) with ESMTP id 7FCBB683FF
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 17:35:22 +0100 (CET)
Received: from mail.cardiweb.com ([127.0.0.1])
	by localhost (alpha [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 16251-09 for <java-user@lucene.apache.org>;
	Thu, 19 Jan 2006 17:35:13 +0100 (CET)
Received: from [127.0.0.1] (unknown [10.0.2.61])
	by mail.cardiweb.com (Postfix) with ESMTP id E8862683EC
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 17:35:12 +0100 (CET)
Message-ID: <43CFBF0A.7060907@cardiweb.com>
Date: Thu, 19 Jan 2006 17:32:10 +0100
From: =?ISO-8859-1?Q?St=E9phane_Lagraulet?= <slagraulet@cardiweb.com>
Organization: Cardiweb
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Analyzer
References: <003301c61d15$8acfc9f0$6402a8c0@sleipnir2>
In-Reply-To: <003301c61d15$8acfc9f0$6402a8c0@sleipnir2>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at cardiweb.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
You'd better use 2 fields, one analysed and not stored, and the other 
one only stored.
So you perform the query on the analysed field and present the other 
field (not stemmed) in the result.

Stephan Lagraulet

Klaus a crit :
> Hi,
>
> Is there a way to get the unstemmed term out of the lucene index, or do I
> have to change the analyzer, to save the original term and the stemmed one?
>
> Thank,
>
> Klaus
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 16:58:47 2006
Return-Path: <java-user-return-18436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2514 invoked from network); 19 Jan 2006 16:58:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 16:58:47 -0000
Received: (qmail 830 invoked by uid 500); 19 Jan 2006 16:58:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 803 invoked by uid 500); 19 Jan 2006 16:58:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 792 invoked by uid 99); 19 Jan 2006 16:58:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:58:40 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.198 as permitted sender)
Received: from [66.249.92.198] (HELO uproxy.gmail.com) (66.249.92.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 08:58:39 -0800
Received: by uproxy.gmail.com with SMTP id e2so423883ugf
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 08:58:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=HjD+tQbjCZiolc2megO8ZKMrRTjI/5Gld86GC6ME3G6qKCcb3VbN4vOSd/l8bW5lIIR+PxQh9E4TqxqQfwmR459z0lwHvevE5VmA/3CK6W+D+4qw65APyRHCU6l6Cv0DeaHz/2//VKSdDT/N2bZc/lKva2Nnj9u3z4PjPgQGym8=
Received: by 10.48.235.6 with SMTP id i6mr61178nfh;
        Thu, 19 Jan 2006 08:58:18 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Thu, 19 Jan 2006 08:58:18 -0800 (PST)
Message-ID: <c68e39170601190858y5a237f1cm90974527d1cc1444@mail.gmail.com>
Date: Thu, 19 Jan 2006 11:58:18 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Analyzer
In-Reply-To: <43CFBF0A.7060907@cardiweb.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <003301c61d15$8acfc9f0$6402a8c0@sleipnir2>
	 <43CFBF0A.7060907@cardiweb.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/19/06, St=E9phane Lagraulet <slagraulet@cardiweb.com> wrote:
> Hi,
> You'd better use 2 fields, one analysed and not stored, and the other
> one only stored.

There is no need for that.  A single field that is both indexed and
stored will give you the same ting.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:08:11 2006
Return-Path: <java-user-return-18437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6586 invoked from network); 19 Jan 2006 17:08:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:08:10 -0000
Received: (qmail 13781 invoked by uid 500); 19 Jan 2006 17:08:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13735 invoked by uid 500); 19 Jan 2006 17:08:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13723 invoked by uid 99); 19 Jan 2006 17:08:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:08:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.68.36.82] (HELO mail.cardiweb.com) (195.68.36.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:08:03 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.cardiweb.com (Postfix) with ESMTP id 5177E683FF
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 18:07:36 +0100 (CET)
Received: from mail.cardiweb.com ([127.0.0.1])
	by localhost (alpha [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 23544-04 for <java-user@lucene.apache.org>;
	Thu, 19 Jan 2006 18:07:27 +0100 (CET)
Received: from [127.0.0.1] (unknown [10.0.2.61])
	by mail.cardiweb.com (Postfix) with ESMTP id 8569B683EC
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 18:07:26 +0100 (CET)
Message-ID: <43CFC697.6040109@cardiweb.com>
Date: Thu, 19 Jan 2006 18:04:23 +0100
From: =?ISO-8859-1?Q?St=E9phane_Lagraulet?= <slagraulet@cardiweb.com>
Organization: Cardiweb
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Analyzer
References: <003301c61d15$8acfc9f0$6402a8c0@sleipnir2>	 <43CFBF0A.7060907@cardiweb.com> <c68e39170601190858y5a237f1cm90974527d1cc1444@mail.gmail.com>
In-Reply-To: <c68e39170601190858y5a237f1cm90974527d1cc1444@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at cardiweb.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik,

You're right, it's unecessary unless you want to search on both (so 
index both), as you said in your other message

SL

Yonik Seeley a crit :
> On 1/19/06, Stphane Lagraulet <slagraulet@cardiweb.com> wrote:
>   
>> Hi,
>> You'd better use 2 fields, one analysed and not stored, and the other
>> one only stored.
>>     
>
> There is no need for that.  A single field that is both indexed and
> stored will give you the same ting.
>
> -Yonik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:15:32 2006
Return-Path: <java-user-return-18438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11179 invoked from network); 19 Jan 2006 17:15:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:15:32 -0000
Received: (qmail 30527 invoked by uid 500); 19 Jan 2006 17:15:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30493 invoked by uid 500); 19 Jan 2006 17:15:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30478 invoked by uid 99); 19 Jan 2006 17:15:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:15:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:15:24 -0800
Received: by xproxy.gmail.com with SMTP id i28so176784wxd
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 09:15:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NynBLrVGcqUJcm06Gz8QulGtlIsbAfaViEIwOXCTs7FFfEEhJZ1uRTbOIAKMlPbToCiwAz1TkJ3NFI6UTnirpdHxVMwW5r2XLhfl0I1WgQMXHmhY2MgfiLe7NF5zOe/yI5A59QijGD9WfMW7VIJDZBLGhd7R1UJSV9RS4Hrn/iI=
Received: by 10.70.26.13 with SMTP id 13mr368637wxz;
        Thu, 19 Jan 2006 09:15:04 -0800 (PST)
Received: by 10.70.37.2 with HTTP; Thu, 19 Jan 2006 09:15:04 -0800 (PST)
Message-ID: <277d4c5d0601190915i506b7e56y247fba7b980858f8@mail.gmail.com>
Date: Fri, 20 Jan 2006 01:15:04 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Use the lucene for searching in the Semantic Web.
In-Reply-To: <003201c61d15$3ac3b160$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_347_631874.1137690904078"
References: <277d4c5d0601190446o2410e7bfw4ee3a456b4504511@mail.gmail.com>
	 <003201c61d15$3ac3b160$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_347_631874.1137690904078
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 1/20/06, Klaus <klaus@vommond.de> wrote:
>
> Hi,
>
> >Actually, my problem is that, for instance, for a document d, Its featur=
e
> >vector may be keywords and concepts.
>
> What do you exactly mean by features vector? You are referring to the
> predicate - object pairs, connected to one subject node, don't you?


The feature vector may be bigger than the object-predicate pairs. In my
application, each document may be annotated with several concepts to say
this document contains an instance of a class. Thus, each document will be
indexed like (keywords in the document, concepts in the document) --> URI.


>I don't know how to weight the two
> >items. Right now, i used a stupid method, given a document d, i can
> obtain
> >a rank D based on keyword method. Also, it is annotated with a concept c
> >(The most simple example) . People can have a rank  C of these concepts
> in
> >the domain ontology, where the most relevant concepts should be the at
> top
> >of this concept list. Finally, document's rank is decided by the sum of
> (C
> >+D).
>
> I'm going to implement something like a pagerank algorithm for my search
> engine. In Contrast to the google approach I cannot just count the edge,
> of
> one node, because of the know semantic I can weight them. Of course this
> implies a knowledge of the domain ontology. For instance if there is a
> predicate "cited_in_document" I could rank a document higher, if it is
> often
> cited. But I'm not sure about the results...


I am very interesting at your approach. You can see the page rank like
method used in the SWOOGLE. But the relations they used only some simple
relations, Such as "import" (used in OWL files"). IF we can use the Semanti=
c
level relations, It's should be better. But I am not sure it can succeed, a=
s
it requires how to weight the relations.

Klaus
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards

Jiang Xing

------=_Part_347_631874.1137690904078--

From java-user-return-18439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:22:34 2006
Return-Path: <java-user-return-18439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14905 invoked from network); 19 Jan 2006 17:22:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:22:33 -0000
Received: (qmail 45412 invoked by uid 500); 19 Jan 2006 17:22:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45393 invoked by uid 500); 19 Jan 2006 17:22:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45380 invoked by uid 99); 19 Jan 2006 17:22:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:22:27 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.238] (HELO web60815.mail.yahoo.com) (209.73.178.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 09:22:26 -0800
Received: (qmail 89599 invoked by uid 60001); 19 Jan 2006 17:22:00 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=g2XOhJOWIVO03N2zvoAgeR1KjEMOdDPx/4QhoBIIyInmreqkOab6ev+Qe/zJW5VbDAEYU8+9QVJo3oZr7nHgbkjwkfs2EGmYYUkHawpUjplPk3TtRQ19C3ISWLfP9T1OcF6gM3zJMMk2ORvb24lkIi8076k9tZOtUbYFAthWhDk=  ;
Message-ID: <20060119172200.89597.qmail@web60815.mail.yahoo.com>
Received: from [212.179.71.70] by web60815.mail.yahoo.com via HTTP; Thu, 19 Jan 2006 09:22:00 PST
Date: Thu, 19 Jan 2006 09:22:00 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: data size limitation?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-481711897-1137691320=:88302"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-481711897-1137691320=:88302
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hey,
   
  is there a max amount of data (in gigabytes) where lucene's performance starts to deteriorate
   
  i tested with about 2 giga on two instances (2 ram dirs using the parallelmultisearcher) and performance was great,
   
  however i think i will need to support about 10-15 times as much data (approx. 20-30 giga) will lucene hold up?
   
  thanks in advance,

		
---------------------------------
Yahoo! Photos  Showcase holiday pictures in hardcover
 Photo Books. You design it and well bind it!
--0-481711897-1137691320=:88302--

From java-user-return-18440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:25:40 2006
Return-Path: <java-user-return-18440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16784 invoked from network); 19 Jan 2006 17:25:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:25:40 -0000
Received: (qmail 51700 invoked by uid 500); 19 Jan 2006 17:25:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51680 invoked by uid 500); 19 Jan 2006 17:25:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51669 invoked by uid 99); 19 Jan 2006 17:25:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:25:33 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:25:32 -0800
Received: from pimout3-ext.prodigy.net (pimout3-int.prodigy.net [207.115.4.218])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0JHP3rk009902
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 12:25:04 -0500
X-ORBL: [69.228.81.116]
Received: from [192.168.168.10] (adsl-69-228-81-116.dsl.pltn13.pacbell.net [69.228.81.116])
	by pimout3-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0JHP7Eq198686;
	Thu, 19 Jan 2006 12:25:08 -0500
Message-ID: <43CFCB64.3040308@apache.org>
Date: Thu, 19 Jan 2006 09:24:52 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene Logo? (high resolution)
References: <43CF7A62.80908@gmx.de>
In-Reply-To: <43CF7A62.80908@gmx.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Rabus wrote:
> I've created an Semantic Desktop application using Lucene. For a 
> presentation I'd like to create a poster. Unfortunately I haven't found 
> any high resolution version (or vector graphic) of the Lucene logo. At 
> http://svn.apache.org/repos/asf/lucene/java/trunk/docs/images/ only a 
> few GIFs are available. Any suggestions?

Try:

http://svn.apache.org/repos/asf/lucene/site/publish/images/logo.eps

or

http://lucene.apache.org/images/logo.eps

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:26:41 2006
Return-Path: <java-user-return-18441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17267 invoked from network); 19 Jan 2006 17:26:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:26:41 -0000
Received: (qmail 54775 invoked by uid 500); 19 Jan 2006 17:26:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54719 invoked by uid 500); 19 Jan 2006 17:26:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54691 invoked by uid 99); 19 Jan 2006 17:26:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:26:15 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:26:14 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 19 Jan 2006 18:25:36 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C61D1D.5C52902A"
Subject: RE: Limiting hits?
Date: Thu, 19 Jan 2006 18:24:57 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003440C45F5@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <4BA24A13BFC8B24EBD64FCA6525003440C45F5@EXHQ01.root.tradedoubler.com>
Thread-Topic: Limiting hits?
Thread-Index: AcYdD9YJGj9ve695QfWpnj1V6si9uAADW68I
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 19 Jan 2006 17:25:36.0930 (UTC) FILETIME=[5C789020:01C61D1D]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C61D1D.5C52902A
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Are you certain? I am quite sure we retrieve a huge amount of data if =
there are thousands of matches to one query.


-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]
Sent: Thu 2006-01-19 16:45
To: java-user@lucene.apache.org
Subject: Re: Limiting hits?
=20
Hits doesn't keep track of all 100,000 matches, only the first 100.=20
It dynamically collects more matches if it needs to.

-Yonik

On 1/19/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> Hi,
>
> I am currently looking for a way to limit the amount of Hits which are
> returned by a Query.
>
> What I am doing is following:
>
> Searcher s =3D ...;
> Query q =3D QueryParser.parse("...", "...", new StandardAnalyzer());
> searcher.search(query);
>
> We have approximately 10 million products in our Index and of these 10
> million products there might be 100.000 which have the word =
"processor"
> in it's description.
>
> Say a user on our website is searching for processor the Index (to =
which
> I connect by RMI) is finding 100.000 products and returns these Hits.
>
> Is it possible to implement away to return no more than 1000 products?
> Is it possible to add something like "name:processor AND
> maxresults:1000"?
>
> Thanks in advance!
> /Daniel
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




------_=_NextPart_001_01C61D1D.5C52902A
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C61D1D.5C52902A--

From java-user-return-18442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:43:25 2006
Return-Path: <java-user-return-18442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25553 invoked from network); 19 Jan 2006 17:43:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:43:24 -0000
Received: (qmail 99606 invoked by uid 500); 19 Jan 2006 17:43:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99578 invoked by uid 500); 19 Jan 2006 17:43:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99566 invoked by uid 99); 19 Jan 2006 17:43:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:43:16 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=DNS_FROM_RFC_DSN
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:43:16 -0800
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.21) id AFBD032C; Thu, 19 Jan 2006 12:43:25 -0500
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: RE: data size limitation?
Date: Thu, 19 Jan 2006 23:12:51 +0530
Message-ID: <001401c61d1f$c6f6c2d0$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <20060119172200.89597.qmail@web60815.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Lucene is aimed for ~10M document indexes on single CPU,
Anyway I tried till 20 GB and believe me lucene holds pretty good.

Manish Chowdhary
manish.chowdhary@acusis.com



-----Original Message-----
From: zzzzz shalev [mailto:zzzzz_shalev@yahoo.com]=20
Sent: Thursday, January 19, 2006 10:52 PM
To: java-user@lucene.apache.org
Subject: data size limitation?

hey,
  =20
  is there a max amount of data (in gigabytes) where lucene's =
performance
starts to deteriorate
  =20
  i tested with about 2 giga on two instances (2 ram dirs using the
parallelmultisearcher) and performance was great,
  =20
  however i think i will need to support about 10-15 times as much data
(approx. 20-30 giga) will lucene hold up?
  =20
  thanks in advance,

	=09
---------------------------------
Yahoo! Photos =96 Showcase holiday pictures in hardcover
 Photo Books. You design it and we=92ll bind it!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:44:52 2006
Return-Path: <java-user-return-18443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26663 invoked from network); 19 Jan 2006 17:44:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:44:51 -0000
Received: (qmail 3671 invoked by uid 500); 19 Jan 2006 17:44:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3651 invoked by uid 500); 19 Jan 2006 17:44:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3640 invoked by uid 99); 19 Jan 2006 17:44:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:44:44 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 09:44:43 -0800
Received: by uproxy.gmail.com with SMTP id e2so442761ugf
        for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 09:44:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=hgz96ppJ1iASse1X0J4xvF9+k1AuR0qfs/fHBDk7JGforkmNVkZeyeXYLya8LISUAkxzH4YR9LUpGY/PyXx5Uv/BWb9ipJ7L2cVB+WSPj2xpaSvBGsHbJgvkHkt7J1DNawCEexwC62ZzLH2BISWPN+S3aXkMuTm2vYAjZ1vujU0=
Received: by 10.48.142.7 with SMTP id p7mr66818nfd;
        Thu, 19 Jan 2006 09:44:22 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Thu, 19 Jan 2006 09:44:22 -0800 (PST)
Message-ID: <c68e39170601190944g6f160a64m7335df9bd0ebb797@mail.gmail.com>
Date: Thu, 19 Jan 2006 12:44:22 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Limiting hits?
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003440C45F5@EXHQ01.root.tradedoubler.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4BA24A13BFC8B24EBD64FCA6525003440C45F5@EXHQ01.root.tradedoubler.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm certain how the Hits class works, but I've never used Lucene with
RMI before.
I suppose of one does it incorrectly, every hit could end up going
across the network (definitely not what you want).

Are you using RemoteSearchable on the server side?

-Yonik

On 1/19/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> Are you certain? I am quite sure we retrieve a huge amount of data if the=
re are thousands of matches to one query.
>
>
> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Thu 2006-01-19 16:45
> To: java-user@lucene.apache.org
> Subject: Re: Limiting hits?
>
> Hits doesn't keep track of all 100,000 matches, only the first 100.
> It dynamically collects more matches if it needs to.
>
> -Yonik
>
> On 1/19/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> > Hi,
> >
> > I am currently looking for a way to limit the amount of Hits which are
> > returned by a Query.
> >
> > What I am doing is following:
> >
> > Searcher s =3D ...;
> > Query q =3D QueryParser.parse("...", "...", new StandardAnalyzer());
> > searcher.search(query);
> >
> > We have approximately 10 million products in our Index and of these 10
> > million products there might be 100.000 which have the word "processor"
> > in it's description.
> >
> > Say a user on our website is searching for processor the Index (to whic=
h
> > I connect by RMI) is finding 100.000 products and returns these Hits.
> >
> > Is it possible to implement away to return no more than 1000 products?
> > Is it possible to add something like "name:processor AND
> > maxresults:1000"?
> >
> > Thanks in advance!
> > /Daniel
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 17:55:19 2006
Return-Path: <java-user-return-18444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31299 invoked from network); 19 Jan 2006 17:55:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 17:55:19 -0000
Received: (qmail 19968 invoked by uid 500); 19 Jan 2006 17:55:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19950 invoked by uid 500); 19 Jan 2006 17:55:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 4819 invoked by uid 99); 19 Jan 2006 17:44:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Message-ID: <43CFD000.6070809@dessci.com>
Date: Thu, 19 Jan 2006 11:44:32 -0600
From: Rajesh Munavalli <rajeshm@dessci.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: information theory based expanded query term boosting
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 19 Jan 2006 17:44:35.0340 (UTC) FILETIME=[030424C0:01C61D20]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
         Has anyone experimented information theory based expanded query 
weight boosting for Lucene?

         When the user query is small, there are several ways to expand 
the query terms by synonym terms, morph terms etc. I read several 
articles on how different boosting levels affect the precision and 
recall of the expanded query. In the context of Lucene, is there a 
systematic study conducted to analyze different boosting schemes? It 
would be nice to have a theoretical proof rather than empirically 
setting boost levels for the expanded query terms. The main disadvantage 
of empirical boost levels is that there is no cross system comparison 
and is highly dependent on the test bed.

Thanks,

Rajesh Munavalli

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 18:20:53 2006
Return-Path: <java-user-return-18445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45595 invoked from network); 19 Jan 2006 18:20:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 18:20:49 -0000
Received: (qmail 72068 invoked by uid 500); 19 Jan 2006 18:20:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72036 invoked by uid 500); 19 Jan 2006 18:20:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72025 invoked by uid 99); 19 Jan 2006 18:20:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 10:20:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 10:20:40 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 46E5F13E201A; Thu, 19 Jan 2006 13:20:19 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 901EA13E2005
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 13:20:11 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <440704315@web.de>
References: <440704315@web.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B9B84F7D-E52D-4BE6-AA06-8AD58F61616B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: What's the differents between QueryParser and Query
Date: Thu, 19 Jan 2006 13:20:04 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 19, 2006, at 10:01 AM, der_grosse_hui@web.de wrote:
> I've a question about the lucene search method. What is the  
> different between a search with the class  
> lucene.queryParser.QueryParser and the class lucene.search.Query  
> and their subclasses?

QueryParser is a Query "factory".   It takes a String and parses it  
into a Query, and depending on the expression in that String it could  
be one of many different types of Query subclasses.

There is no difference in searching at all.... you search with a  
Query, and how that query got built is immaterial.

> For example: With the WildcardQuery I can search for * at the  
> beginning of a term, but not with the method QueryParser.parse().  
> But I get the same search string with Query.toString(). Why?

QueryParser has its limitations, and one of them is to prevent the  
possibility of a prefixed wildcard query such as "*foo" which would  
have to enumerate all terms in the index and quite possibly blow up  
BooleanQuery as it rewrites the query or perhaps cause performance  
issues.

QueryParser is a one-size-sorta-fits-all kinda thing.  It's a decent  
general purpose tool to get going, but most of my projects use  
QueryParser sparingly only within small pieces of the ultimate query.

> Some background about my project:
> I have to decide if I build a Query with the Query class and their  
> subclasses or if I build it with the static method QueryParser.parse()
> The sizes of my indexes are pretty different. They might reach a  
> size of 100,000 docs and more. Unfortunately the index changes  
> frequently.
> What is the best way to search in such an index, and why?
>
> Pleased for every kind of help!

Neither QueryParser or Query factor into the size of the index or how  
to manage a frequently changing index, totally unrelated topics.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 19:17:05 2006
Return-Path: <java-user-return-18446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76433 invoked from network); 19 Jan 2006 19:17:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 19:17:03 -0000
Received: (qmail 23844 invoked by uid 500); 19 Jan 2006 19:16:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23780 invoked by uid 500); 19 Jan 2006 19:16:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23769 invoked by uid 99); 19 Jan 2006 19:16:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 11:16:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.96.1.105] (HELO parker.sim.ucm.es) (147.96.1.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 11:16:54 -0800
Received: from parker.sim.ucm.es (parker.sim.ucm.es [127.0.0.1])
	by localhost.ucm.es (Postfix) with ESMTP id 7F29F2F45ED
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 20:16:32 +0100 (CET)
Received: from ODISEO.sim.ucm.es (unknown [10.150.1.32])
	by parker.sim.ucm.es (Postfix) with ESMTP id 67BF22F452F
	for <java-user@lucene.apache.org>; Thu, 19 Jan 2006 20:16:32 +0100 (CET)
Received: from ucm.es ([10.147.128.157])
 by ODISEO.sim.ucm.es (Sun Java System Messaging Server 6.1 HotFix 0.11 (built
 Jan 28 2005)) with ESMTP id <0ITC002EETJK9T00@ODISEO.sim.ucm.es> for
 java-user@lucene.apache.org; Thu, 19 Jan 2006 20:16:32 +0100 (CET)
Received: from [10.150.1.31] (Forwarded-For: [147.96.83.6])
 by menelao.adm.ucm.es (mshttpd); Thu, 19 Jan 2006 20:16:32 +0100
Date: Thu, 19 Jan 2006 20:16:32 +0100
From: =?iso-8859-1?B?Sm9z6SBSYW3zbiBQ6XJleiBBZ/xlcmE=?= <jose.aguera@fdi.ucm.es>
Subject: Re: information theory based expanded query term boosting
To: java-user@lucene.apache.org
Message-id: <b00d7783377d.43cff3a0@ucm.es>
MIME-version: 1.0
X-Mailer: Sun Java(tm) System Messenger Express 6.1 HotFix 0.12 (built May  2
 2005)
Content-type: text/plain; charset=iso-8859-1
Content-language: es
Content-transfer-encoding: quoted-printable
Content-disposition: inline
X-Accept-Language: es
Priority: normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

what articles you have read=3F i work in automatic query expansion and a=
utomatic thesaurus generation=2C and i use lucene for my tests=2C but=2C=
 by now=2C i don=27t have excellent results=2E In a few days i will have=
 results based in this method=3A

Concept Based Query Expansion (1993) =

Yonggang Qiu Department of Computer Science Swiss Federal Institute of=2E=
=2E=2E
Proceedings of SIGIR-93=2C 16th ACM International Conference on Research=
 and Development in Information Retrieval
http=3A//citeseer=2Eist=2Epsu=2Eedu/qiu93concept=2Ehtml

are you interested=3F

jose

Sorry for my english

Jos=E9 Ram=F3n P=E9rez Ag=FCera
Despacho 411 tlf=2E 913947599
Dept=2E de Sistemas Inform=E1ticos y Programaci=F3n
Facultad de Inform=E1tica
Universidad Complutense de Madrid

----- Mensaje original -----
De=3A Rajesh Munavalli =3Crajeshm=40dessci=2Ecom=3E
Fecha=3A Jueves=2C Enero 19=2C 2006 6=3A44 pm
Asunto=3A information theory based expanded query term boosting

=3E Hi=2C
=3E         Has anyone experimented information theory based expanded =

=3E query =

=3E weight boosting for Lucene=3F
=3E =

=3E         When the user query is small=2C there are several ways to =

=3E expand =

=3E the query terms by synonym terms=2C morph terms etc=2E I read severa=
l =

=3E articles on how different boosting levels affect the precision and =

=3E recall of the expanded query=2E In the context of Lucene=2C is there=
 a =

=3E systematic study conducted to analyze different boosting schemes=3F =

=3E It =

=3E would be nice to have a theoretical proof rather than empirically =

=3E setting boost levels for the expanded query terms=2E The main =

=3E disadvantage =

=3E of empirical boost levels is that there is no cross system =

=3E comparison =

=3E and is highly dependent on the test bed=2E
=3E =

=3E Thanks=2C
=3E =

=3E Rajesh Munavalli
=3E =

=3E -------------------------------------------------------------------
=3E --
=3E To unsubscribe=2C e-mail=3A java-user-unsubscribe=40lucene=2Eapache=2E=
org
=3E For additional commands=2C e-mail=3A java-user-help=40lucene=2Eapach=
e=2Eorg
=3E =

=3E 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 19:19:58 2006
Return-Path: <java-user-return-18447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77695 invoked from network); 19 Jan 2006 19:19:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 19:19:57 -0000
Received: (qmail 34710 invoked by uid 500); 19 Jan 2006 19:19:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34693 invoked by uid 500); 19 Jan 2006 19:19:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 91230 invoked by uid 99); 19 Jan 2006 19:01:30 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DATE_IN_FUTURE_06_12,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
From: <arnaudbuffet@free.fr>
To: <java-user@lucene.apache.org>
Subject: languages &  files 
Date: Thu, 19 Jan 2006 20:01:07 -0800
Message-ID: <000f01c61d76$252906f0$1e00a8c0@platoon>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I begin working with lucene and need few explanations to do what i want,
thanks for your helpful answers.

I have to add lucene into a java application and I have two targets:

- To enable search throw different types of files, like MS Word, PDF or
Excel files.=20
I read that each type of document must be indexed with the appropriate
indexer. So how can I do it easily? I found an API called Lius which
seem to index different types of documents directly, is anyone know this
product? Other ones?

- Secondly, the =91search system=92 must work with different like Dutch,
Turkish, Bulgarian and tomorrow Tha=EF or Chinese.=20
The lucene documentation talks about using different Analyzer for none
ISO languages. Lucene's sandbox is quite empty, and I do not understand
which kind of treatment much be done to read correctly data. I think I
still have problem searching into indexed documents with accents. So how
should I work on the languages particularity?

Thanks

A


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 19:33:21 2006
Return-Path: <java-user-return-18448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82633 invoked from network); 19 Jan 2006 19:33:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 19:33:21 -0000
Received: (qmail 67006 invoked by uid 500); 19 Jan 2006 19:33:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66986 invoked by uid 500); 19 Jan 2006 19:33:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66975 invoked by uid 99); 19 Jan 2006 19:33:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 11:33:13 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 11:33:12 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 19 Jan 2006 20:20:08 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C61D2D.5C153B2F"
Subject: RE: Limiting hits?
Date: Thu, 19 Jan 2006 20:19:25 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003440C45F6@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <4BA24A13BFC8B24EBD64FCA6525003440C45F6@EXHQ01.root.tradedoubler.com>
Thread-Topic: Limiting hits?
Thread-Index: AcYdIAtDRe6gvPR3RTafXa1YGtnwDAADTdG/
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 19 Jan 2006 19:20:08.0678 (UTC) FILETIME=[5C5A1860:01C61D2D]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C61D2D.5C153B2F
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I agree, it's definitely not what one wants. But to answer your =
question: Yes, I do use RemoteSearchable on the server side.


-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]
Sent: Thu 2006-01-19 18:44
To: java-user@lucene.apache.org
Subject: Re: Limiting hits?
=20
I'm certain how the Hits class works, but I've never used Lucene with
RMI before.
I suppose of one does it incorrectly, every hit could end up going
across the network (definitely not what you want).

Are you using RemoteSearchable on the server side?

-Yonik

On 1/19/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> Are you certain? I am quite sure we retrieve a huge amount of data if =
there are thousands of matches to one query.
>
>
> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Thu 2006-01-19 16:45
> To: java-user@lucene.apache.org
> Subject: Re: Limiting hits?
>
> Hits doesn't keep track of all 100,000 matches, only the first 100.
> It dynamically collects more matches if it needs to.
>
> -Yonik
>
> On 1/19/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> > Hi,
> >
> > I am currently looking for a way to limit the amount of Hits which =
are
> > returned by a Query.
> >
> > What I am doing is following:
> >
> > Searcher s =3D ...;
> > Query q =3D QueryParser.parse("...", "...", new StandardAnalyzer());
> > searcher.search(query);
> >
> > We have approximately 10 million products in our Index and of these =
10
> > million products there might be 100.000 which have the word =
"processor"
> > in it's description.
> >
> > Say a user on our website is searching for processor the Index (to =
which
> > I connect by RMI) is finding 100.000 products and returns these =
Hits.
> >
> > Is it possible to implement away to return no more than 1000 =
products?
> > Is it possible to add something like "name:processor AND
> > maxresults:1000"?
> >
> > Thanks in advance!
> > /Daniel
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




------_=_NextPart_001_01C61D2D.5C153B2F
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C61D2D.5C153B2F--

From java-user-return-18449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 20:00:24 2006
Return-Path: <java-user-return-18449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7355 invoked from network); 19 Jan 2006 20:00:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 20:00:24 -0000
Received: (qmail 28528 invoked by uid 500); 19 Jan 2006 19:57:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28471 invoked by uid 500); 19 Jan 2006 19:57:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 8279 invoked by uid 99); 19 Jan 2006 19:54:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Message-ID: <43CFEE6D.9030904@dessci.com>
Date: Thu, 19 Jan 2006 13:54:21 -0600
From: Rajesh Munavalli <rajeshm@dessci.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: information theory based expanded query term boosting
References: <b00d7783377d.43cff3a0@ucm.es>
In-Reply-To: <b00d7783377d.43cff3a0@ucm.es>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 19 Jan 2006 19:54:24.0163 (UTC) FILETIME=[25843730:01C61D32]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jose,
         There are several papers on that topic. But the one which 
particularly interested me was

An information-theoretic approach to automatic query expansion
Claudio Carpineto, Renato de Mori, Giovanni Romano, Brigitte Bigi
ACM Transactions on Information Systems (TOIS)

           It would be interesting to see your  results. There are two 
different problems in expanding the query.
(1) Determining the expanded terms using methods like
            (a) Dictionary lookup
            (b) Local or global analysis

(2) Assigning weights to the expanded terms. What should the weight on 
the expanded term be? Is it in the order of 10, 100 or some logarithmic 
scale?

          Do you have any results (preliminary) results on problem (2)?

Thanks,

Rajesh Munavalli
        
Jos Ramn Prez Agera wrote:
> what articles you have read? i work in automatic query expansion and automatic thesaurus generation, and i use lucene for my tests, but, by now, i don't have excellent results. In a few days i will have results based in this method:
>
> Concept Based Query Expansion (1993) 
> Yonggang Qiu Department of Computer Science Swiss Federal Institute of...
> Proceedings of SIGIR-93, 16th ACM International Conference on Research and Development in Information Retrieval
> http://citeseer.ist.psu.edu/qiu93concept.html
>
> are you interested?
>
> jose
>
> Sorry for my english
>
> Jos Ramn Prez Agera
> Despacho 411 tlf. 913947599
> Dept. de Sistemas Informticos y Programacin
> Facultad de Informtica
> Universidad Complutense de Madrid
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 20:34:33 2006
Return-Path: <java-user-return-18450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41010 invoked from network); 19 Jan 2006 20:34:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 20:34:08 -0000
Received: (qmail 44669 invoked by uid 500); 19 Jan 2006 20:33:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44648 invoked by uid 500); 19 Jan 2006 20:33:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44637 invoked by uid 99); 19 Jan 2006 20:33:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 12:33:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 12:33:48 -0800
Received: (qmail 11602 invoked from network); 19 Jan 2006 20:33:25 -0000
Received: from unknown (HELO p5496d207.dip.t-dialin.net) ([pbs]695637@[84.150.210.7])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 19 Jan 2006 20:33:25 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Search more than one index directory
Date: Thu, 19 Jan 2006 21:33:26 +0100
User-Agent: KMail/1.8.2
References: <20060119135144.32298.qmail@web53008.mail.yahoo.com>
In-Reply-To: <20060119135144.32298.qmail@web53008.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601192133.27290@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 19 Januar 2006 14:51, Ranjan K. Baisak wrote:

> I have different categories of indexes in different
> directory. When I am searching for a category of
> "ALL", lucene should search using indexes from all
> directories.
> So is it possible?

Use this class:
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MultiSearcher.html

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 19 22:43:41 2006
Return-Path: <java-user-return-18451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30544 invoked from network); 19 Jan 2006 22:43:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Jan 2006 22:43:41 -0000
Received: (qmail 3807 invoked by uid 500); 19 Jan 2006 22:43:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3779 invoked by uid 500); 19 Jan 2006 22:43:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3768 invoked by uid 99); 19 Jan 2006 22:43:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 14:43:33 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.242] (HELO web50309.mail.yahoo.com) (206.190.38.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 14:43:32 -0800
Received: (qmail 95152 invoked by uid 60001); 19 Jan 2006 22:43:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=GfcZGX34MGLvvbBQ5zzodLtMkQMtlw13BvAKJ53lL3bXpJYBum2QEiOlTiBsMoLP0EnwdjaL8MA1Z3XFLf+BfMzfuDO1mtNDTm3U1PeKvpkYBG88kJX53uVjxd1i7zFCZzvAzHfz8ixfz74jowuIU9HTZ9dUEO6rlulzmd3mjZc=  ;
Message-ID: <20060119224311.95150.qmail@web50309.mail.yahoo.com>
Date: Thu, 19 Jan 2006 14:43:11 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: languages &  files
To: java-user@lucene.apache.org
In-Reply-To: <000f01c61d76$252906f0$1e00a8c0@platoon>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
For the first problem (indexing different types of documents), you can use =
the mini-framework for doing just that.  Just get the source code that come=
s with Lucene in Action, and play - http://www.lucenebook.com/

For the Analyzers, look what Snowball provides (do a search at lucenebook.c=
om or google.com).  I imagine only Dutch is supported, and I imagine you ma=
y be able to find a Bulgarian Analyzer somewhere, but the other two languag=
es may be harder ...

Otis

----- Original Message ----
From: arnaudbuffet@free.fr
To: java-user@lucene.apache.org
Sent: Thu 19 Jan 2006 11:01:07 PM EST
Subject: languages &  files=20

Hi,

I begin working with lucene and need few explanations to do what i want,
thanks for your helpful answers.

I have to add lucene into a java application and I have two targets:

- To enable search throw different types of files, like MS Word, PDF or
Excel files.=20
I read that each type of document must be indexed with the appropriate
indexer. So how can I do it easily? I found an API called Lius which
seem to index different types of documents directly, is anyone know this
product? Other ones?

- Secondly, the search system must work with different like Dutch,
Turkish, Bulgarian and tomorrow Tha=C3=AF or Chinese.=20
The lucene documentation talks about using different Analyzer for none
ISO languages. Lucene's sandbox is quite empty, and I do not understand
which kind of treatment much be done to read correctly data. I think I
still have problem searching into indexed documents with accents. So how
should I work on the languages particularity?

Thanks

A


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 00:15:41 2006
Return-Path: <java-user-return-18452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95441 invoked from network); 20 Jan 2006 00:15:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 00:15:41 -0000
Received: (qmail 72417 invoked by uid 500); 20 Jan 2006 00:15:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72385 invoked by uid 500); 20 Jan 2006 00:15:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72370 invoked by uid 99); 20 Jan 2006 00:15:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 16:15:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 16:15:32 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <223650(2)>; Thu, 19 Jan 2006 16:15:02 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58633>; Thu, 19 Jan 2006 16:14:53 PST
To: java-user@lucene.apache.org
Subject: notification of active IndexSearchers when index is modified?
Date: Thu, 19 Jan 2006 16:14:49 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <06Jan19.161453pst."58633"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've got a daemon process which keeps an IndexSearcher open on an
index and responds to query requests by sending back document
identifiers.  I've also got other processes updating the index by
re-indexing existing documents, deleting obsolete documents, and
adding new documents.  Is there any way to notify the IndexSearcher
that the index has changed, and to (somehow?) re-read it?  Or is that
automatic?  Will it just re-load the index as necessary?

I'm using PyLucene 1.0.1, which corresponds to Lucene 1.4.3.  

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 00:54:01 2006
Return-Path: <java-user-return-18453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28878 invoked from network); 20 Jan 2006 00:54:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 00:54:01 -0000
Received: (qmail 17365 invoked by uid 500); 20 Jan 2006 00:53:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17345 invoked by uid 500); 20 Jan 2006 00:53:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17334 invoked by uid 99); 20 Jan 2006 00:53:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 16:53:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 16:53:54 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 96F43B7BEF
	for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 11:53:23 +1100 (EST)
Message-ID: <43D036D8.6040806@nuix.com.au>
Date: Fri, 20 Jan 2006 12:03:20 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: notification of active IndexSearchers when index is modified?
References: <06Jan19.161453pst."58633"@synergy1.parc.xerox.com>
In-Reply-To: <06Jan19.161453pst."58633"@synergy1.parc.xerox.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Bill Janssen wrote:
> I've got a daemon process which keeps an IndexSearcher open on an
> index and responds to query requests by sending back document
> identifiers.  I've also got other processes updating the index by
> re-indexing existing documents, deleting obsolete documents, and
> adding new documents.  Is there any way to notify the IndexSearcher
> that the index has changed, and to (somehow?) re-read it?  Or is that
> automatic?  Will it just re-load the index as necessary?
>   
We have similar index modification notification in our own application, 
though we use it to keep track of the state of indexing (when the index 
is saved, we save other files, mainly a queue which tracks what is yet 
to be processed.)

One thing you'll probably notice pretty soon is that the index writer 
keeps a whole lot of segments in-memory (in order to be so fast.)  So 
not every document added to the index will necessarily result in a write 
to disk.

What we did for ours is to make a new class extending IndexWriter, 
overriding this method:

    public void addDocument(Document doc, Analyzer analyzer) throws 
IOException
    {
        long lastUpdate = segmentsFile.lastModified();
        if (lastUpdate > lastRecordedUpdate)
        {
            fireSegmentsMerged();
           
            lastRecordedUpdate = lastUpdate;
        }
    }

Of course I've omitted all the event firing, adding/removing listeners, 
and so forth, we've just used standard JavaBeans event handling for all 
of this.

It's dirty, but it works.  If there's a better way, I'm definitely 
interested in hearing what it is. :-D

Note though, opening an index can be expensive.  It might not be 
particularly good for performance if you expect the index to be modified 
quite often... accepting a bit of lag between adding entries and having 
them available can help performance a lot.

Daniel


-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 01:15:01 2006
Return-Path: <java-user-return-18454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55977 invoked from network); 20 Jan 2006 01:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 01:15:00 -0000
Received: (qmail 48716 invoked by uid 500); 20 Jan 2006 01:14:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48692 invoked by uid 500); 20 Jan 2006 01:14:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48681 invoked by uid 99); 20 Jan 2006 01:14:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 17:14:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 17:14:52 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <223721(1)>; Thu, 19 Jan 2006 17:14:24 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58633>; Thu, 19 Jan 2006 17:14:18 PST
To: java-user@lucene.apache.org
Subject: Re: notification of active IndexSearchers when index is modified? 
In-Reply-To: Your message of "Thu, 19 Jan 2006 17:03:20 PST."
             <43D036D8.6040806@nuix.com.au> 
Date: Thu, 19 Jan 2006 17:14:14 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <06Jan19.171418pst."58633"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel,

Thanks for the note.  But I think you misunderstand a bit (or I do :-).

These are two separate processes.  The updater (in Java) runs and
exits, flushing its buffers, over and over again, as new info comes
in.

The query server (in Python), however, runs continuously, doing
searches and sending back results.  It keeps its IndexReader open for
long periods.  What I'm wondering is if the IndexReader/IndexSearcher
will automatically update its in-memory version of the index when the
index files change, or whether we need to do some kind of explicit
check (like calls to getCurrentVersion()) in order to explicitly
re-load the index.  Some postings about transactional updates make me
hopeful that there is some automatic system at work.

Bill

> Bill Janssen wrote:
> > I've got a daemon process which keeps an IndexSearcher open on an
> > index and responds to query requests by sending back document
> > identifiers.  I've also got other processes updating the index by
> > re-indexing existing documents, deleting obsolete documents, and
> > adding new documents.  Is there any way to notify the IndexSearcher
> > that the index has changed, and to (somehow?) re-read it?  Or is that
> > automatic?  Will it just re-load the index as necessary?
> >   
> We have similar index modification notification in our own application, 
> though we use it to keep track of the state of indexing (when the index 
> is saved, we save other files, mainly a queue which tracks what is yet 
> to be processed.)
> 
> One thing you'll probably notice pretty soon is that the index writer 
> keeps a whole lot of segments in-memory (in order to be so fast.)  So 
> not every document added to the index will necessarily result in a write 
> to disk.
> 
> What we did for ours is to make a new class extending IndexWriter, 
> overriding this method:
> 
>     public void addDocument(Document doc, Analyzer analyzer) throws 
> IOException
>     {
>         long lastUpdate = segmentsFile.lastModified();
>         if (lastUpdate > lastRecordedUpdate)
>         {
>             fireSegmentsMerged();
>            
>             lastRecordedUpdate = lastUpdate;
>         }
>     }
> 
> Of course I've omitted all the event firing, adding/removing listeners, 
> and so forth, we've just used standard JavaBeans event handling for all 
> of this.
> 
> It's dirty, but it works.  If there's a better way, I'm definitely 
> interested in hearing what it is. :-D
> 
> Note though, opening an index can be expensive.  It might not be 
> particularly good for performance if you expect the index to be modified 
> quite often... accepting a bit of lag between adding entries and having 
> them available can help performance a lot.
> 
> Daniel
> 
> 
> -- 
> Daniel Noll
> 
> Nuix Australia Pty Ltd
> Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
> Phone: (02) 9280 0699
> Fax:   (02) 9212 6902
> 
> This message is intended only for the named recipient. If you are not
> the intended recipient you are notified that disclosing, copying,
> distributing or taking any action in reliance on the contents of this
> message or attachment is strictly prohibited.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 02:24:16 2006
Return-Path: <java-user-return-18455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4786 invoked from network); 20 Jan 2006 02:24:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 02:24:15 -0000
Received: (qmail 26909 invoked by uid 500); 20 Jan 2006 02:24:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26483 invoked by uid 500); 20 Jan 2006 02:23:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26087 invoked by uid 99); 20 Jan 2006 02:23:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 18:23:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [206.190.39.230] (HELO web51811.mail.yahoo.com) (206.190.39.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 18:20:45 -0800
Received: (qmail 53329 invoked by uid 60001); 20 Jan 2006 02:20:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.ar;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Yyxeob80Tjd9HxFWo6Y5y0/U0X0twzj5nFwV0eevzior90sdKRJe/9VMEpja8x7ZuDOHrQ2gl5b3jk3ZSzqxbROnxgtsdvADqaljhygmTwCtoXUmmt/11lO1UzZHnxUj2OZ44G6wUgAxyoKO8j2adilyFqfz18gbJ64W6B5anSw=  ;
Message-ID: <20060120022022.53327.qmail@web51811.mail.yahoo.com>
Received: from [200.125.106.206] by web51811.mail.yahoo.com via HTTP; Fri, 20 Jan 2006 02:20:22 GMT
Date: Fri, 20 Jan 2006 02:20:22 +0000 (GMT)
From: Alejandro Rusell <alejandro_rusell@yahoo.com.ar>
Subject: Re: notification of active IndexSearchers when index is modified? 
To: java-user@lucene.apache.org
In-Reply-To: <06Jan19.171418pst."58633"@synergy1.parc.xerox.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Bill,

I dont know of any automatic method to get notified
of index changes.

One option is that the process that updates the index
send a signal to the search deamon.
Or, the search deamon may have a thread that
periodically checks for new indexes (I think of two
possible checks: check the version from within
IndexSearcher/IndexReader, or check the modification
date of the index directory).

After detecting a new index, the search daemon should
open a new IndexSearcher and release the previous one.

Hope that it helps,

Regards,

Alejandro


 --- Bill Janssen <janssen@parc.com> escribi:

> Daniel,
> 
> Thanks for the note.  But I think you misunderstand
> a bit (or I do :-).
> 
> These are two separate processes.  The updater (in
> Java) runs and
> exits, flushing its buffers, over and over again, as
> new info comes
> in.
> 
> The query server (in Python), however, runs
> continuously, doing
> searches and sending back results.  It keeps its
> IndexReader open for
> long periods.  What I'm wondering is if the
> IndexReader/IndexSearcher
> will automatically update its in-memory version of
> the index when the
> index files change, or whether we need to do some
> kind of explicit
> check (like calls to getCurrentVersion()) in order
> to explicitly
> re-load the index.  Some postings about
> transactional updates make me
> hopeful that there is some automatic system at work.
> 
> Bill
> 
> > Bill Janssen wrote:
> > > I've got a daemon process which keeps an
> IndexSearcher open on an
> > > index and responds to query requests by sending
> back document
> > > identifiers.  I've also got other processes
> updating the index by
> > > re-indexing existing documents, deleting
> obsolete documents, and
> > > adding new documents.  Is there any way to
> notify the IndexSearcher
> > > that the index has changed, and to (somehow?)
> re-read it?  Or is that
> > > automatic?  Will it just re-load the index as
> necessary?
> > >   
> > We have similar index modification notification in
> our own application, 
> > though we use it to keep track of the state of
> indexing (when the index 
> > is saved, we save other files, mainly a queue
> which tracks what is yet 
> > to be processed.)
> > 
> > One thing you'll probably notice pretty soon is
> that the index writer 
> > keeps a whole lot of segments in-memory (in order
> to be so fast.)  So 
> > not every document added to the index will
> necessarily result in a write 
> > to disk.
> > 
> > What we did for ours is to make a new class
> extending IndexWriter, 
> > overriding this method:
> > 
> >     public void addDocument(Document doc, Analyzer
> analyzer) throws 
> > IOException
> >     {
> >         long lastUpdate =
> segmentsFile.lastModified();
> >         if (lastUpdate > lastRecordedUpdate)
> >         {
> >             fireSegmentsMerged();
> >            
> >             lastRecordedUpdate = lastUpdate;
> >         }
> >     }
> > 
> > Of course I've omitted all the event firing,
> adding/removing listeners, 
> > and so forth, we've just used standard JavaBeans
> event handling for all 
> > of this.
> > 
> > It's dirty, but it works.  If there's a better
> way, I'm definitely 
> > interested in hearing what it is. :-D
> > 
> > Note though, opening an index can be expensive. 
> It might not be 
> > particularly good for performance if you expect
> the index to be modified 
> > quite often... accepting a bit of lag between
> adding entries and having 
> > them available can help performance a lot.
> > 
> > Daniel
> > 
> > 
> > -- 
> > Daniel Noll
> > 
> > Nuix Australia Pty Ltd
> > Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
> > Phone: (02) 9280 0699
> > Fax:   (02) 9212 6902
> > 
> > This message is intended only for the named
> recipient. If you are not
> > the intended recipient you are notified that
> disclosing, copying,
> > distributing or taking any action in reliance on
> the contents of this
> > message or attachment is strictly prohibited.
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > 
> 
> 
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



	


	
		
___________________________________________________________ 
1GB gratis, Antivirus y Antispam 
Correo Yahoo!, el mejor correo web del mundo 
http://correo.yahoo.com.ar 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 04:52:49 2006
Return-Path: <java-user-return-18456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95591 invoked from network); 20 Jan 2006 04:52:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 04:52:49 -0000
Received: (qmail 91712 invoked by uid 500); 20 Jan 2006 04:52:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91437 invoked by uid 500); 20 Jan 2006 04:52:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91421 invoked by uid 99); 20 Jan 2006 04:52:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 20:52:42 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.20 as permitted sender)
Received: from [64.4.51.20] (HELO hotmail.com) (64.4.51.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 20:52:41 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 19 Jan 2006 20:52:20 -0800
Message-ID: <BAY107-F10F1E085313D9214688EDC941F0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Fri, 20 Jan 2006 04:52:20 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: Storing large text or binary source documents in the index and memory usage
Date: Fri, 20 Jan 2006 04:52:20 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 20 Jan 2006 04:52:20.0771 (UTC) FILETIME=[4BDFBF30:01C61D7D]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I would like to store large source documents (>10MB) in the index in their 
original form, i.e. as text for text documents or as byte[] for binary 
documents.
I have no difficulty adding the source document as a field to the Lucene 
index document, but when I write the index document to the index I 
consistently get out-of-memory errors for documents larger than approx 9MB.
Is there a formula that can help calculate the max size of a document which 
can be added to the index?
Is there an alternative way to store such large documents that you can 
suggest?
I have 512MB memory under WinXP. Increasing the VM heap size does not help.
Many thanks

_________________________________________________________________
Make your dream car a reality 
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fcarpoint%2Eninemsn%2Ecom%2Eau&_t=12345&_r=emailtagline&_m=EXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 05:43:17 2006
Return-Path: <java-user-return-18457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12705 invoked from network); 20 Jan 2006 05:43:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 05:43:17 -0000
Received: (qmail 33684 invoked by uid 500); 20 Jan 2006 05:43:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33664 invoked by uid 500); 20 Jan 2006 05:43:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33649 invoked by uid 99); 20 Jan 2006 05:43:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 21:43:10 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.70] (HELO web60022.mail.yahoo.com) (209.73.178.70)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 21:43:09 -0800
Received: (qmail 26887 invoked by uid 60001); 20 Jan 2006 05:42:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=11JvHtiIrKGaMJpgxgM1beNsu3BPxN4riYGKfkOiwoM0R0a0962Xj8VwjXZAOrImTbo1ab85tlTGLBe6zMVUDv78gKkiRkZKEQyXvBTFLPTzztIDszXCPmZ2rY3ObCv56hsZAQeSUpc0g6NiDlu9sxbPvgyz+4IYdcZtWVQCCXI=  ;
Message-ID: <20060120054248.26885.qmail@web60022.mail.yahoo.com>
Received: from [70.162.176.95] by web60022.mail.yahoo.com via HTTP; Thu, 19 Jan 2006 21:42:48 PST
Date: Thu, 19 Jan 2006 21:42:48 -0800 (PST)
From: Chandramohan <clingam_nattamai@yahoo.com>
Subject: Re: Why we use Lucene for Database search like Oracle / Sybase ?
To: java-user@lucene.apache.org
In-Reply-To: <20060117233734.49474.qmail@web33003.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the nice summary.

Couple of other things that comes to my mind are:
1. Not columns are indexed in a database; searching on
a non-indexed field would be very expensive.
2. Some dbs do support free form indexes but it is an
offline index.  Good thing is that regular sql can be
used to take advantage of full text indexes; however,
there are performance issues as data gets moved
between full-text and the search core. I remember
seeing an article that talks in detail about this;
will post to this group once I find it :-)
3. with lucene type approach, you can potentially
support any type of querying on any field; typically
database search  restricts search on specific fields
and often custom coded to generate appropriate sql
(depends largely on the implementation though).

Chandra

--- Kan Deng <kan.deng@yahoo.com> wrote:

> For many applications, search engine and database
> are
> competitive solutions. One has to consider in depth
> to
> choose either search engine or database, and in some
> cases, the border is blurred. 
> 
> There are several issues to consider when selecting
> database or Lucene or both as the solution to a
> specific application. 
> 
> 1. Data change frequency. 
> 
>    Suppose there is a "restaurant" table, which
> contains a "current customers" column. Since the
> content of this column is updated very frequently,
> Lucene is not a good choice. 
> 
>    However, for "menu" column, Lucene definitely a
> strong candidate for indexing and searching. 
> 
> 
> 2. Query. 
> 
>    Suppose the "restaurant" table which contains a
> "menu" column, there are two ways to store the
> content
> into the "menu" column, one is put all the dishes
> into
> it as a big string delimited by comma. Another way
> is
> to separate each dish into different rows, so that
> one
> single restaurant may have multiple rows. 
> 
>    If the menu is stored as a big string, then
> conventional RDBMS is not capable of doing the
> search.
> Because "select * from restaurant where menu like
> '%BBQ%'" will induce a full table scan. 
> 
>    However, if the dishes are stored in separated
> rows, RDBMS is among the candidates. More analysis
> needs to be considered before making the decision. 
> 
> 
> 3. Performance. 
> 
>    Intuitively, B+tree based search sounds faster
> than
> inverted-index search. However, since inverted-index
> organizes the data in a sorted way, its search
> performance doesn't fall behind B+tree search for
> too
> far. Imagine there is an inverted-index, "0, 1, 2,
> 3,
> 4, 5, 6, 7, 8", the "hopping" algorithm can be
> implemented in a way identical to the binary search,
> if starting with "4", then either "2" or "6", so on.
> Lucene uses fixed interval hopping, mainly because
> it
> is convenient to implement with satisfying
> performance, even though theoritically not so good
> as
> binary search or B+tree search. 
> 
>    The above comparison assume B+tree and
> inverted-index are loaded fully into RAM. In case
> the
> index is so big that it is mandatory to swap between
> RAM and disk, inverted-index tends to excel B+tree
> index. The reason is that B+tree index occupies more
> space, which induces more disk IO, and consequently
> reduces the overall performance. 
> 
> 
> 4. Infrastructure. 
> 
>    RDBMS products consume a lot of computational
> resource, if the user doesn't want to break into the
> RDBMS's source code and get rid of the unwanted
> functionality like SQL language. As a result,
> usually
> RDBMS is running on a standalone machine, and use
> JDBC/ODBC to interact with application which is
> running on another machine, via network. Keep in
> mind
> that average it costs 10-1000 milliseconds to
> transmit
> data through network, depending on the size of your
> data. If one wants his server running fast and
> scaling
> well like Google.com, even 10 millisecond is a big
> issue that he has to think hard how to save. 
> 
>    Therefore, for better performance, maybe it is
> more
> appropriate to put the application logic on the same
> machine as the data repository. However, if one
> wants
> to use conventional RDBMS as a blackbox, the one
> tier
> solution may not work well because RDBMS consumes so
> much computational resource that there is little
> remained for application logic to use. 
> 
>    As a best practice, an embedded database is more
> favorable than the standalone RDBMS blackbox,
> especially for non-critical data repository, and
> usually with better performance. 
> 
>    The comparison between embedded database and
> Lucene
> is subtle. Sometimes it is reasonable to merge
> Lucene
> with embedded database. 
> 
> 
> 5. Integrate Lucene with embedded database.
> 
>    One reason is to integrate Lucene with embedded
> database is to support blind query like "select *
> from
> restaurant where menu like '%BBQ%'". 
> 
>    It is possible to integrate Lucene with embedded
> database, but a difficulty is how to update the
> inverted-indexes frequently. This is an interesting
> problem, however, to my best knowledge, there is no
> good solution for the time being. 
> 
> 
> Kan
> 
> 
> --- "Peter A. Daly" <petedaly@gmail.com> wrote:
> 
> > In many cases that essentially require traditional
> > RDBMS but also require
> > lucene like functionality, I would use the
> database
> > as the primary data
> > store.  I would then either:
> > 1.  Update the lucene index using data from the
> > database based on a
> > scheduled process.
> > 2.  As records are added, add them to both Lucene
> > and the database.
> > 
> > It's a little extra work (and space,) but you get
> > the best of both worlds.
> > 
> > -Pete
> > 
> > On 1/17/06, John Powers <jpowers@configureone.com>
> > wrote:
> > >
> > > Would you say as a best practice that you can
> use
> > both?    When would
> > > you and when wouldn't you?  I trust databases
> more
> > then free files, so I
> > > am putting my more sensitive and volatile data
> in
> > the database.   If you
> > > built a commenting system.. like a blog or an
> > flickr type app, would
> > > just a lucene solution be best?      The problem
> > with both of course is
> > > syncing..
> > >
> > >
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam
> protection around 
> http://mail.yahoo.com 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 07:31:02 2006
Return-Path: <java-user-return-18458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55601 invoked from network); 20 Jan 2006 07:31:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 07:31:02 -0000
Received: (qmail 53848 invoked by uid 500); 20 Jan 2006 07:30:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53811 invoked by uid 500); 20 Jan 2006 07:30:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53799 invoked by uid 99); 20 Jan 2006 07:30:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Jan 2006 23:30:56 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of drabus@gmx.de designates 213.165.64.21 as permitted sender)
Received: from [213.165.64.21] (HELO mail.gmx.net) (213.165.64.21)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 19 Jan 2006 23:30:56 -0800
Received: (qmail invoked by alias); 20 Jan 2006 07:30:29 -0000
Received: from dialin-145-254-235-117.pools.arcor-ip.net (EHLO [145.254.235.117]) [145.254.235.117]
  by mail.gmx.net (mp017) with SMTP; 20 Jan 2006 08:30:29 +0100
X-Authenticated: #760050
Message-ID: <43D09112.6040906@gmx.de>
Date: Fri, 20 Jan 2006 08:28:18 +0100
From: Daniel Rabus <drabus@gmx.de>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene Logo? (high resolution)
References: <43CF7A62.80908@gmx.de> <43CFCB64.3040308@apache.org>
In-Reply-To: <43CFCB64.3040308@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Dough,

that's exactly what I'm looking for!

Thanks very much,
Daniel


Doug Cutting wrote:
> Daniel Rabus wrote:
> 
>> I've created an Semantic Desktop application using Lucene. For a 
>> presentation I'd like to create a poster. Unfortunately I haven't 
>> found any high resolution version (or vector graphic) of the Lucene 
>> logo. At 
>> http://svn.apache.org/repos/asf/lucene/java/trunk/docs/images/ only a 
>> few GIFs are available. Any suggestions?
> 
> 
> Try:
> 
> http://svn.apache.org/repos/asf/lucene/site/publish/images/logo.eps
> 
> or
> 
> http://lucene.apache.org/images/logo.eps
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 10:01:38 2006
Return-Path: <java-user-return-18459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31057 invoked from network); 20 Jan 2006 10:01:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 10:01:37 -0000
Received: (qmail 68202 invoked by uid 500); 20 Jan 2006 10:01:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68173 invoked by uid 500); 20 Jan 2006 10:01:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68162 invoked by uid 99); 20 Jan 2006 10:01:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 02:01:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 02:01:29 -0800
Received: from sleipnir2 (dslb-084-061-021-097.pools.arcor-ip.net [84.61.21.97])
	by basicbox6.server-home.net (Postfix) with ESMTP id BE1857189DB
	for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 11:01:05 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: AW: Use the lucene for searching in the Semantic Web.
Date: Fri, 20 Jan 2006 11:01:03 +0100
Message-ID: <003301c61da8$6d042fe0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
In-Reply-To: <277d4c5d0601190915i506b7e56y247fba7b980858f8@mail.gmail.com>
Thread-Index: AcYdG/UY6g5Mf71UTO6tVQnVFOpn6AAi2Dkg
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>The feature vector may be bigger than the object-predicate pairs. In my
>application, each document may be annotated with several concepts to say
>this document contains an instance of a class.
How do you do that? I have to reengineer the ontology in my application, but
I'm not sure how to express that a document belongs to one or more concepts.
Would you mind sending my your ontology?


>I am very interesting at your approach. You can see the page rank like
>method used in the SWOOGLE. But the relations they used only some simple
>relations, Such as "import" (used in OWL files"). IF we can use the
>Semantic level relations, It's should be better. But I am not sure it can
>succeed, as it requires how to weight the relations.

Yes. I will have to provide some meta information about the ontology. You
can store this information as an Owl annotation, or in an extra file. I will
start to implement this during the weekend. I think it will be hard to find
the right weights for the predicates, I will keep you informed.

Cheers,

Klaus


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 12:28:47 2006
Return-Path: <java-user-return-18460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4737 invoked from network); 20 Jan 2006 12:28:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 12:28:47 -0000
Received: (qmail 96310 invoked by uid 500); 20 Jan 2006 12:28:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96281 invoked by uid 500); 20 Jan 2006 12:28:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96270 invoked by uid 99); 20 Jan 2006 12:28:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 04:28:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 04:28:38 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 20 Jan 2006 04:13:30 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: : Creating searcher object for read opertions: 
Date: Fri, 20 Jan 2006 18:00:24 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0030_01C61DEB.82EDA410"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcYdvUmPYzoGUJglS0OHLZUeYpAC4Q==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-ID: <KINGXZZTHfyQgeDKvPE0000013d@King.Siti.com>
X-OriginalArrivalTime: 20 Jan 2006 12:14:08.0046 (UTC) FILETIME=[0370ECE0:01C61DBB]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0030_01C61DEB.82EDA410
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

 

 

 

Hi ,

 

I want to create searcher object for only read operation. I read that we can
open any number of read only connections  and we can work with them .

 

But when they can be closed ,if we continually opens ,is there any problem
with that.. I want to use single searcher object which can solve this
problem. I want to open the searcher object when the application started and
I want to close the searcher object when the application closed. But If I do
like that, I am able to see only those records which are existed in the
index dir when I created searcher object . whenever I add new thing it is
not reflecting until unless I restart the application. I don't want to
restart the application each time when the index modified . Please tell me
the solution how to solve this problem or we should use like that .. I am
giving the code which is repeating every time I use searching  even though
the index does not modified. 

 

 

 

 

 

try{

              String strIndexPath                 =    "D:\\ravi\\Index";

                               try {

                    objFSDirectory              =
FSDirectory.getDirectory(new File(strIndexPath), false);

                    boolean bIsLocked           =
IndexReader.isLocked(strIndexPath);

                    System.out.println("-------------> Is
Locked="+bIsLocked);

                    if (bIsLocked) {

                        synchronized(objFSDirectory)    {

                            IndexReader.unlock(objFSDirectory);

                        }

                    }

                    reader      =   IndexReader.open(objFSDirectory);

                    searcher    =   new IndexSearcher(reader);

                } catch (Exception objException) {

                    System.out.println("Exception 1");

                    objException.printStackTrace();

                }

 

 

Thanks

 

Ravi Kumar Jaladanki


------=_NextPart_000_0030_01C61DEB.82EDA410--


From java-user-return-18461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 13:50:08 2006
Return-Path: <java-user-return-18461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57880 invoked from network); 20 Jan 2006 13:50:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 13:50:07 -0000
Received: (qmail 44673 invoked by uid 500); 20 Jan 2006 13:50:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44626 invoked by uid 500); 20 Jan 2006 13:50:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44615 invoked by uid 99); 20 Jan 2006 13:50:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 05:50:00 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of aserba@gmail.com designates 66.249.92.202 as permitted sender)
Received: from [66.249.92.202] (HELO uproxy.gmail.com) (66.249.92.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 05:49:58 -0800
Received: by uproxy.gmail.com with SMTP id e2so297425ugf
        for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 05:49:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=bEZOsgdL5gZMfLVivux/fa80PfzF+jrkUOeY3eaqe4UdnWj0NQChgqjov9N5X1d6kZCnfGgD5sWp/sMl2aw+dW36MQy06Y84wZomaY6OnWvgfmuPmP9DByqan3y0xdzqeEpCuiCDMx5UyDzPF6jQI53RGiDsqWPIDeL7peBvHd4=
Received: by 10.48.239.5 with SMTP id m5mr140512nfh;
        Fri, 20 Jan 2006 05:49:36 -0800 (PST)
Received: by 10.49.92.5 with HTTP; Fri, 20 Jan 2006 05:49:36 -0800 (PST)
Message-ID: <3e8ef54f0601200549s7c7597cdj370ac70419e42931@mail.gmail.com>
Date: Fri, 20 Jan 2006 16:49:36 +0300
From: Aleksey Serba <aserba@gmail.com>
To: java-user@lucene.apache.org
Subject: Document similarity
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello lucene people!
First of all, i would like to thank all of community participants (
developers, users, Erik and Otis for "Lucene in Action" book ) for
their great work.

As far as i understand it, there are two most popular approches
concerning document similarity:
1. "cosine metrics" using term vectors
2. constructing MoreLikeThis query by document

In my case, i need to filter similar documents in search results and
therefore determine document similarity during indexing process using
term vectors. Obviously, i can't compare currently indexing document
with all documents in my collection. Should i restrict documents in my
collection using constructing some kind of "LikeThis" query?
What's a best/common practices for such things?

Thanks in advance,
Alex Serba

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 15:09:03 2006
Return-Path: <java-user-return-18462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23130 invoked from network); 20 Jan 2006 15:09:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 15:09:03 -0000
Received: (qmail 5536 invoked by uid 500); 20 Jan 2006 15:08:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5483 invoked by uid 500); 20 Jan 2006 15:08:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5418 invoked by uid 99); 20 Jan 2006 15:08:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:08:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [65.182.99.16] (HELO sendmail.brinkster.com) (65.182.99.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:08:53 -0800
Received: from ASHDELL ([62.202.20.14])
        by sendmail.brinkster.com (Brinkster Mail 1) with ASMTP id IYG74540
        for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 10:11:26 -0500
From: "Ashley Rajaratnam" <ash@avalonserv.com>
To: <java-user@lucene.apache.org>
Subject: Beginner Querying multiple fields pls help
Date: Fri, 20 Jan 2006 16:08:30 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0065_01C61DDB.C2802860"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYd01+CHG63wX0MTs2bS4m6TVFQvg==
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060120150854.14E1410FB003@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0065_01C61DDB.C2802860
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

Please forgive me if this comes across as being na=EFve however Ive =
bashed my
head against it for a while and can=92t come up with a solution.

=20

Overview:

=20

I have the following basic document structure:

=85

Document doc =3D new Document();

doc.Add(Field.Text("itemtitle", iteminf.itemtitle));

doc.Add(Field.Text("itemSubTitle", iteminf.itemSubTitle));

doc.Add(Field.Keyword("CategoryID", iteminf.CategoryID));  -- THIS ID (1
-30000) is passed in here as a string

writer.AddDocument(doc);

=85

=20

What I would like to do is search the title and subtitle fields with =
what a
user types in so I build up a search query string=20

=20

        Qstr =3D (query + =93 =93);

        Qstr +=3D (=93itemtitle:=94 + =93(=93 + query + =93)=94 + =93 =
=93);

        Qstr +=3D (=93itemSubTitle:=94 + =93(=93 + query + =93)=94 + =93 =
=93);

=20

Pass it to QueryParse get the Query=20

Query q =3D QueryParser.Parse(sbquerys.ToString(), SEARCH_KEY_ITEMDESC, =
new
StandardAnalyzer());=20

=20

Execute the query searcher.Search(query); No Problem get the results =
etc.

=20

Now the problem what I would like to do is restricted the results coming
back to only certain CategoryIDs so I changed my Qstr dynamically such =
like

=20

                       string[] leafcats =3D
GET_ARRAY_OF_RELEVANT_CATIDS_AS_STRING_ARRAY();

                       sbquerys +=3D =93CategoryID:=94 + =93(=93;

                       for(int i=3D0; i< leafcats.Length; i++)

                       {

                              sbquerys +=3D leafcats[i]+ =93 =93;

                       }

                       sbquerys +=3D =93)=94;

=20

Qstr +=3D sbquerys

=20

Pass it to QueryParse get the Query=20

Query q =3D QueryParser.Parse(Qstr SEARCH_KEY_ITEMDESC, new
StandardAnalyzer());

=20

Now not surprisingly the Parse Function calls takes upward of about 10
seconds (or throws a toomanybool clauses exception) I think this is due =
to
the fact that Im passing it with so many CategoryID (between 1 -30000) =20

=20

So I tried building up the Query using the API=20

=20

                              BooleanQuery bq =3D new  BooleanQuery();

                             =20

                              Term t =3D new Term(=93itemdesc=94, =
query);   <<<
Doesn=92t work because query is something user has typed in and thus =
doesn=92t
match properly

                              bq.Add(new TermQuery(t), false, false);

                              t =3D new Term(=93itemSubTitle=94, query); =
=20

                              bq.Add(new TermQuery(t), false, false);

                              t =3D new Term(=93itemtitle=94, query);    =
=20

                              bq.Add(new TermQuery(t), false, false);

=20

                       if (categoryid !=3D null)

                       {           =20

                              string[] leafcats =3D
(string[])leafcategoryids.ToArray(typeof(string));

=20

                                      t =3D new =
Term(SEARCH_KEY_CATEGORYID,
string.Join(" OR ",leafcats));  <<<< OR DOESN=92T WORK

=20

                                      bq.Add(new TermQuery(t), true, =
false);
<< NOTE TRUE

                              }

=20

=20

But this doesn=92t seem to execute the OR clause in the new Term value =
which
is not surprising because it=92s a TermQuery which is supposed to be 1 =
value.
So now Im a bit lost as to where to take this perhaps QueryFilter would =
do
the trick but Im lost on the syntax and just don=92t feel that is the =
right
approach.

=20

=20

Anyhow any help you can provide would be greatly appreciate

=20

-A

=20

=20


------=_NextPart_000_0065_01C61DDB.C2802860--


From java-user-return-18463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 15:18:25 2006
Return-Path: <java-user-return-18463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28942 invoked from network); 20 Jan 2006 15:18:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 15:18:25 -0000
Received: (qmail 25540 invoked by uid 500); 20 Jan 2006 15:18:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25387 invoked by uid 500); 20 Jan 2006 15:18:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25375 invoked by uid 99); 20 Jan 2006 15:18:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:18:16 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 144.167.10.42 is neither permitted nor denied by domain of hemantmjoshi@gmail.com)
Received: from [144.167.10.42] (HELO hermes.ualr.edu) (144.167.10.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:18:16 -0800
Received: from mfilter1.ualr.edu ([144.167.10.248])
 by hermes.ualr.edu (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ITE00L0YD5V6P00@hermes.ualr.edu> for
 java-user@lucene.apache.org; Fri, 20 Jan 2006 09:17:55 -0600 (CST)
Received: from [144.167.145.63] (helo=[144.167.145.63])
	by mfilter1.ualr.edu with esmtp (Exim 4.43)
	id 1Ezxhd-0002Qv-DP	for java-user@lucene.apache.org; Fri,
 20 Jan 2006 08:57:25 -0600
Date: Fri, 20 Jan 2006 09:24:33 -0600
From: Hemant Joshi <hemantmjoshi@gmail.com>
Subject: Re: Beginner Querying multiple fields pls help
In-reply-to: <20060120150854.14E1410FB003@asf.osuosl.org>
To: java-user@lucene.apache.org
Reply-to: hemantmjoshi@gmail.com
Message-id: <43D100B1.9070103@gmail.com>
MIME-version: 1.0
Content-type: text/plain; charset=windows-1252; format=flowed
Content-transfer-encoding: 8BIT
X-Accept-Language: en-us, en
X-No-Spam-Signature: fc43e723684f45ea09ffcc1265c21e30
X-Virus-Defs: 0.86.2/1151/Mon Oct 31 12:34:04 2005
X-Spam-Score: -2.8 (--)
X-Spam-Report: Analysis detail: (-2.8 points,
 4.0 required)	-2.8 ALL_TRUSTED            Did not pass through any untrusted
 hosts
References: <20060120150854.14E1410FB003@asf.osuosl.org>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You have to set bq.setMaxClauseCount value as the default number of 
clauses BooleanQuery supports is 1024.
I am guessing you have categoryIDs between 1-30000 which means more than 
1024 clauses.
-Hemant


      setMaxClauseCount


Ashley Rajaratnam wrote:

>Hi,
>
> 
>
>Please forgive me if this comes across as being nave however Ive bashed my
>head against it for a while and cant come up with a solution.
>
> 
>
>Overview:
>
> 
>
>I have the following basic document structure:
>
>
>
>Document doc = new Document();
>
>doc.Add(Field.Text("itemtitle", iteminf.itemtitle));
>
>doc.Add(Field.Text("itemSubTitle", iteminf.itemSubTitle));
>
>doc.Add(Field.Keyword("CategoryID", iteminf.CategoryID));  -- THIS ID (1
>-30000) is passed in here as a string
>
>writer.AddDocument(doc);
>
>
>
> 
>
>What I would like to do is search the title and subtitle fields with what a
>user types in so I build up a search query string 
>
> 
>
>        Qstr = (query +  );
>
>        Qstr += (itemtitle: + ( + query + ) +  );
>
>        Qstr += (itemSubTitle: + ( + query + ) +  );
>
> 
>
>Pass it to QueryParse get the Query 
>
>Query q = QueryParser.Parse(sbquerys.ToString(), SEARCH_KEY_ITEMDESC, new
>StandardAnalyzer()); 
>
> 
>
>Execute the query searcher.Search(query); No Problem get the results etc.
>
> 
>
>Now the problem what I would like to do is restricted the results coming
>back to only certain CategoryIDs so I changed my Qstr dynamically such like
>
> 
>
>                       string[] leafcats =
>GET_ARRAY_OF_RELEVANT_CATIDS_AS_STRING_ARRAY();
>
>                       sbquerys += CategoryID: + (;
>
>                       for(int i=0; i< leafcats.Length; i++)
>
>                       {
>
>                              sbquerys += leafcats[i]+  ;
>
>                       }
>
>                       sbquerys += );
>
> 
>
>Qstr += sbquerys
>
> 
>
>Pass it to QueryParse get the Query 
>
>Query q = QueryParser.Parse(Qstr SEARCH_KEY_ITEMDESC, new
>StandardAnalyzer());
>
> 
>
>Now not surprisingly the Parse Function calls takes upward of about 10
>seconds (or throws a toomanybool clauses exception) I think this is due to
>the fact that Im passing it with so many CategoryID (between 1 -30000)  
>
> 
>
>So I tried building up the Query using the API 
>
> 
>
>                              BooleanQuery bq = new  BooleanQuery();
>
>                              
>
>                              Term t = new Term(itemdesc, query);   <<<
>Doesnt work because query is something user has typed in and thus doesnt
>match properly
>
>                              bq.Add(new TermQuery(t), false, false);
>
>                              t = new Term(itemSubTitle, query);  
>
>                              bq.Add(new TermQuery(t), false, false);
>
>                              t = new Term(itemtitle, query);     
>
>                              bq.Add(new TermQuery(t), false, false);
>
> 
>
>                       if (categoryid != null)
>
>                       {            
>
>                              string[] leafcats =
>(string[])leafcategoryids.ToArray(typeof(string));
>
> 
>
>                                      t = new Term(SEARCH_KEY_CATEGORYID,
>string.Join(" OR ",leafcats));  <<<< OR DOESNT WORK
>
> 
>
>                                      bq.Add(new TermQuery(t), true, false);
><< NOTE TRUE
>
>                              }
>
> 
>
> 
>
>But this doesnt seem to execute the OR clause in the new Term value which
>is not surprising because its a TermQuery which is supposed to be 1 value.
>So now Im a bit lost as to where to take this perhaps QueryFilter would do
>the trick but Im lost on the syntax and just dont feel that is the right
>approach.
>
> 
>
> 
>
>Anyhow any help you can provide would be greatly appreciate
>
> 
>
>-A
>
> 
>
> 
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 15:19:44 2006
Return-Path: <java-user-return-18464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29325 invoked from network); 20 Jan 2006 15:19:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 15:19:44 -0000
Received: (qmail 28152 invoked by uid 500); 20 Jan 2006 15:19:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28126 invoked by uid 500); 20 Jan 2006 15:19:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28115 invoked by uid 99); 20 Jan 2006 15:19:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:19:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:19:37 -0800
Received: from sleipnir2 (dslb-084-061-021-097.pools.arcor-ip.net [84.61.21.97])
	by basicbox6.server-home.net (Postfix) with ESMTP id 20E5E718544
	for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 16:19:12 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: AW: Document similarity
Date: Fri, 20 Jan 2006 16:19:08 +0100
Message-ID: <000a01c61dd4$de6ceab0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcYd0ES4agd0BVbiTTSAnpFgjLKVQAABDC/w
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
In-Reply-To: <3e8ef54f0601200549s7c7597cdj370ac70419e42931@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


>In my case, i need to filter similar documents in search results and
>therefore determine document similarity during indexing process using
>term vectors. Obviously, i can't compare currently indexing document
>with all documents in my collection. 

Yes you can. Right after indexing the new documents fetch the termvector for
this document from the index. Computer some kind of weight for each term,
und construct a Boolean query from all terms. You can use the termweights to
boost the termqueries. The hits will be scored, this score is a measure for
the similarity between the documents.

peace 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 15:35:51 2006
Return-Path: <java-user-return-18465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36834 invoked from network); 20 Jan 2006 15:35:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 15:35:51 -0000
Received: (qmail 58377 invoked by uid 500); 20 Jan 2006 15:35:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58348 invoked by uid 500); 20 Jan 2006 15:35:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58336 invoked by uid 99); 20 Jan 2006 15:35:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:35:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [65.182.99.14] (HELO sendmail.brinkster.com) (65.182.99.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:35:42 -0800
Received: from ASHDELL ([62.202.20.14])
        by sendmail.brinkster.com (Brinkster Mail 1) with ASMTP id IYG74540;
        Fri, 20 Jan 2006 10:38:14 -0500
From: "Ashley Rajaratnam" <ash@avalonserv.com>
To: <java-user@lucene.apache.org>,
	<hemantmjoshi@gmail.com>
Subject: RE: Beginner Querying multiple fields pls help
Date: Fri, 20 Jan 2006 16:35:17 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYd1SfSwT1jh+/aRfGjDOwYMvzZJwAAUFdg
In-Reply-To: <43D100B1.9070103@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060120153543.AE5EE10FB0A6@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Joshi

Thanks for the reply!

I had already done that before but failed to put it in the code in the
original post

	if (BooleanQuery.GetMaxClauseCount() < MAX_CLAUSE_COUNT)
			BooleanQuery.SetMaxClauseCount(MAX_CLAUSE_COUNT);

Im using Lucene 1.9 that fixes the problem if you are using the API to =
build
the BooleanQuery manually but the QueryParser.Parse still throws.

Anyhow unfortunately I don't think that is the answer basically I would =
like
to query=20

Itemtitle with what a user types in and
itemsubtitle with what a user types in
restricted by certain values for CategoryID=20


Let me know=20
Cheers A

-----Original Message-----
From: Hemant Joshi [mailto:hemantmjoshi@gmail.com]=20
Sent: Friday, January 20, 2006 4:25 PM
To: java-user@lucene.apache.org
Subject: Re: Beginner Querying multiple fields pls help

You have to set bq.setMaxClauseCount value as the default number of=20
clauses BooleanQuery supports is 1024.
I am guessing you have categoryIDs between 1-30000 which means more than =

1024 clauses.
-Hemant


      setMaxClauseCount


Ashley Rajaratnam wrote:

>Hi,
>
>=20
>
>Please forgive me if this comes across as being na=EFve however Ive =
bashed my
>head against it for a while and can=92t come up with a solution.
>
>=20
>
>Overview:
>
>=20
>
>I have the following basic document structure:
>
>=85
>
>Document doc =3D new Document();
>
>doc.Add(Field.Text("itemtitle", iteminf.itemtitle));
>
>doc.Add(Field.Text("itemSubTitle", iteminf.itemSubTitle));
>
>doc.Add(Field.Keyword("CategoryID", iteminf.CategoryID));  -- THIS ID =
(1
>-30000) is passed in here as a string
>
>writer.AddDocument(doc);
>
>=85
>
>=20
>
>What I would like to do is search the title and subtitle fields with =
what a
>user types in so I build up a search query string=20
>
>=20
>
>        Qstr =3D (query + =93 =93);
>
>        Qstr +=3D (=93itemtitle:=94 + =93(=93 + query + =93)=94 + =93 =
=93);
>
>        Qstr +=3D (=93itemSubTitle:=94 + =93(=93 + query + =93)=94 + =
=93 =93);
>
>=20
>
>Pass it to QueryParse get the Query=20
>
>Query q =3D QueryParser.Parse(sbquerys.ToString(), SEARCH_KEY_ITEMDESC, =
new
>StandardAnalyzer());=20
>
>=20
>
>Execute the query searcher.Search(query); No Problem get the results =
etc.
>
>=20
>
>Now the problem what I would like to do is restricted the results =
coming
>back to only certain CategoryIDs so I changed my Qstr dynamically such =
like
>
>=20
>
>                       string[] leafcats =3D
>GET_ARRAY_OF_RELEVANT_CATIDS_AS_STRING_ARRAY();
>
>                       sbquerys +=3D =93CategoryID:=94 + =93(=93;
>
>                       for(int i=3D0; i< leafcats.Length; i++)
>
>                       {
>
>                              sbquerys +=3D leafcats[i]+ =93 =93;
>
>                       }
>
>                       sbquerys +=3D =93)=94;
>
>=20
>
>Qstr +=3D sbquerys
>
>=20
>
>Pass it to QueryParse get the Query=20
>
>Query q =3D QueryParser.Parse(Qstr SEARCH_KEY_ITEMDESC, new
>StandardAnalyzer());
>
>=20
>
>Now not surprisingly the Parse Function calls takes upward of about 10
>seconds (or throws a toomanybool clauses exception) I think this is due =
to
>the fact that Im passing it with so many CategoryID (between 1 -30000)  =

>
>=20
>
>So I tried building up the Query using the API=20
>
>=20
>
>                              BooleanQuery bq =3D new  BooleanQuery();
>
>                             =20
>
>                              Term t =3D new Term(=93itemdesc=94, =
query);   <<<
>Doesn=92t work because query is something user has typed in and thus =
doesn=92t
>match properly
>
>                              bq.Add(new TermQuery(t), false, false);
>
>                              t =3D new Term(=93itemSubTitle=94, =
query); =20
>
>                              bq.Add(new TermQuery(t), false, false);
>
>                              t =3D new Term(=93itemtitle=94, query);   =
 =20
>
>                              bq.Add(new TermQuery(t), false, false);
>
>=20
>
>                       if (categoryid !=3D null)
>
>                       {           =20
>
>                              string[] leafcats =3D
>(string[])leafcategoryids.ToArray(typeof(string));
>
>=20
>
>                                      t =3D new =
Term(SEARCH_KEY_CATEGORYID,
>string.Join(" OR ",leafcats));  <<<< OR DOESN=92T WORK
>
>=20
>
>                                      bq.Add(new TermQuery(t), true,
false);
><< NOTE TRUE
>
>                              }
>
>=20
>
>=20
>
>But this doesn=92t seem to execute the OR clause in the new Term value =
which
>is not surprising because it=92s a TermQuery which is supposed to be 1 =
value.
>So now Im a bit lost as to where to take this perhaps QueryFilter would =
do
>the trick but Im lost on the syntax and just don=92t feel that is the =
right
>approach.
>
>=20
>
>=20
>
>Anyhow any help you can provide would be greatly appreciate
>
>=20
>
>-A
>
>=20
>
>=20
>
>
> =20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 15:51:22 2006
Return-Path: <java-user-return-18466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46311 invoked from network); 20 Jan 2006 15:51:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 15:51:22 -0000
Received: (qmail 97701 invoked by uid 500); 20 Jan 2006 15:51:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97669 invoked by uid 500); 20 Jan 2006 15:51:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97644 invoked by uid 99); 20 Jan 2006 15:51:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:51:14 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:51:14 -0800
Received: by uproxy.gmail.com with SMTP id e2so348067ugf
        for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 07:50:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=h+qsQnOgewvjsfU2z8ZcIj3lJbdGtGg94EGBFl2MXsbaamTuNplU3z79ATtXyUWlWbBGLWqa7rJXY6q4iA8iiXOBsnu/sC73yaBv46GyAQd1PwdMLkcgIIHZHaxw+8BZwgq1b7bxosZriNpz0IRbnJciOaIYV+Nr/zOXjBLCDaw=
Received: by 10.48.48.3 with SMTP id v3mr153747nfv;
        Fri, 20 Jan 2006 07:50:50 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Fri, 20 Jan 2006 07:50:49 -0800 (PST)
Message-ID: <c68e39170601200750m5d634414q45dd50ede35693d4@mail.gmail.com>
Date: Fri, 20 Jan 2006 10:50:49 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Document similarity
In-Reply-To: <000a01c61dd4$de6ceab0$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <3e8ef54f0601200549s7c7597cdj370ac70419e42931@mail.gmail.com>
	 <000a01c61dd4$de6ceab0$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you didn't want to store term vectors you could also run the
document fields through the analyzer yourself and collect the Tokens
(you should still have the fields you just indexed... no need to
retrieve it again).

-Yonik

On 1/20/06, Klaus <klaus@vommond.de> wrote:
>
> >In my case, i need to filter similar documents in search results and
> >therefore determine document similarity during indexing process using
> >term vectors. Obviously, i can't compare currently indexing document
> >with all documents in my collection.
>
> Yes you can. Right after indexing the new documents fetch the termvector =
for
> this document from the index. Computer some kind of weight for each term,
> und construct a Boolean query from all terms. You can use the termweights=
 to
> boost the termqueries. The hits will be scored, this score is a measure f=
or
> the similarity between the documents.
>
> peace

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 15:56:00 2006
Return-Path: <java-user-return-18467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49251 invoked from network); 20 Jan 2006 15:55:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 15:55:59 -0000
Received: (qmail 13061 invoked by uid 500); 20 Jan 2006 15:55:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13019 invoked by uid 500); 20 Jan 2006 15:55:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12997 invoked by uid 99); 20 Jan 2006 15:55:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:55:47 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 07:55:45 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Storing large text or binary source documents in the index and memory usage
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Fri, 20 Jan 2006 09:54:22 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2915EECD@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Storing large text or binary source documents in the index and memory usage
thread-index: AcYdfTc2B/nOZyXhTUin00wsl0/24wAXHkWQ
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are these super large files supposed to be searchable?
Can the binary files be stored somewhere else and just pointed to?
Can the text files be broken up?


-----Original Message-----
From: George Washington [mailto:gws293@hotmail.com]=20
Sent: Thursday, January 19, 2006 10:52 PM
To: java-user@lucene.apache.org
Subject: Storing large text or binary source documents in the index and
memory usage

I would like to store large source documents (>10MB) in the index in
their=20
original form, i.e. as text for text documents or as byte[] for binary=20
documents.
I have no difficulty adding the source document as a field to the Lucene

index document, but when I write the index document to the index I=20
consistently get out-of-memory errors for documents larger than approx
9MB.
Is there a formula that can help calculate the max size of a document
which=20
can be added to the index?
Is there an alternative way to store such large documents that you can=20
suggest?
I have 512MB memory under WinXP. Increasing the VM heap size does not
help.
Many thanks

_________________________________________________________________
Make your dream car a reality=20
http://a.ninemsn.com.au/b.aspx?URL=3Dhttp%3A%2F%2Fcarpoint%2Eninemsn%2Eco=
m
%2Eau&_t=3D12345&_r=3Demailtagline&_m=3DEXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 18:32:15 2006
Return-Path: <java-user-return-18468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38031 invoked from network); 20 Jan 2006 18:32:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 18:32:14 -0000
Received: (qmail 81430 invoked by uid 500); 20 Jan 2006 18:32:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81402 invoked by uid 500); 20 Jan 2006 18:32:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81390 invoked by uid 99); 20 Jan 2006 18:32:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 10:32:07 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of aserba@gmail.com designates 66.249.92.196 as permitted sender)
Received: from [66.249.92.196] (HELO uproxy.gmail.com) (66.249.92.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 10:32:06 -0800
Received: by uproxy.gmail.com with SMTP id e2so416413ugf
        for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 10:31:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Izx36Wxwc/QPBb4MjgeaR5vqqlXDZgvVJI7qWPGSQtQaLps6S6Z357+9op/yCP2tGcJ56stiRzowhEQk8dd7rDtB9tPiZw2s/6IuDMZLflkBEFLNVhO/j44TLy/CCqZqJgL0t2esLBhwylKIP2ao3YCGcOv1sEMD6qgbZvNX6+Y=
Received: by 10.48.211.16 with SMTP id j16mr167846nfg;
        Fri, 20 Jan 2006 10:31:43 -0800 (PST)
Received: by 10.49.92.5 with HTTP; Fri, 20 Jan 2006 10:31:43 -0800 (PST)
Message-ID: <3e8ef54f0601201031k6945195ey10c2267e317cdf95@mail.gmail.com>
Date: Fri, 20 Jan 2006 21:31:43 +0300
From: Aleksey Serba <aserba@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Document similarity
In-Reply-To: <c68e39170601200750m5d634414q45dd50ede35693d4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <3e8ef54f0601200549s7c7597cdj370ac70419e42931@mail.gmail.com>
	 <000a01c61dd4$de6ceab0$6402a8c0@sleipnir2>
	 <c68e39170601200750m5d634414q45dd50ede35693d4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik, Klaus, thanks for your quick response.

Let me rephrase, i can't compare currently processed document with all
documents in my collection using angle between documents in
terms-vector space because of performance issues. As far as i can see,
i can avoid unnecessary operations. At first, i can build query from
document terms, fetch top N results and compute angle only for them.
Is it ok?

The second question is
How to generate some information about documents similarity to store
in lucene index?
For example, hash with the same values for similar documents or
something like that.
Thus it would be easy to filter "supplemental" results.


On 1/20/06, Yonik Seeley <yseeley@gmail.com> wrote:
> If you didn't want to store term vectors you could also run the
> document fields through the analyzer yourself and collect the Tokens
> (you should still have the fields you just indexed... no need to
> retrieve it again).
>
> -Yonik
>
> On 1/20/06, Klaus <klaus@vommond.de> wrote:
> >
> > >In my case, i need to filter similar documents in search results and
> > >therefore determine document similarity during indexing process using
> > >term vectors. Obviously, i can't compare currently indexing document
> > >with all documents in my collection.
> >
> > Yes you can. Right after indexing the new documents fetch the termvecto=
r for
> > this document from the index. Computer some kind of weight for each ter=
m,
> > und construct a Boolean query from all terms. You can use the termweigh=
ts to
> > boost the termqueries. The hits will be scored, this score is a measure=
 for
> > the similarity between the documents.
> >
> > peace
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 20 22:40:16 2006
Return-Path: <java-user-return-18469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65667 invoked from network); 20 Jan 2006 22:40:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Jan 2006 22:40:16 -0000
Received: (qmail 70644 invoked by uid 500); 20 Jan 2006 22:40:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70599 invoked by uid 500); 20 Jan 2006 22:40:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70586 invoked by uid 99); 20 Jan 2006 22:40:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 14:40:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 14:40:06 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4EE185B773; Fri, 20 Jan 2006 14:39:38 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4DA037F403
	for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 14:39:38 -0800 (PST)
Date: Fri, 20 Jan 2006 14:39:38 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Beginner Querying multiple fields pls help
In-Reply-To: <20060120150854.14E1410FB003@asf.osuosl.org>
Message-ID: <Pine.LNX.4.58.0601201431120.31834@hal.rescomp.berkeley.edu>
References: <20060120150854.14E1410FB003@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1) instead of building up a string, and giving it to QueryParser, i would
suggest you look at the MultiFieldQueryParser

2) it sounds like what you are interested regarding the category field, is
not to restrict your search to a particular handfull of categoryIds, but
to a large set of categories that have something in common.  i'm not sure
what it is that these categories have in common, but perhaps you could
make a field for it and put that in each document.   (ie:
doc.add(Field.Keyword("in_leaf_cat","1")))

if not, if you really do just want to restrict to all categories with an
id between 1 and 30000, i suggest you use a RangeFilter.  it should work
for you perfectly.

if there isn't some common property of hte categories you are interested
in that you can specify, nor are the category ids all truely sequential,
and you still need some way to specify an arbitrarily large set of
category ids to restrict your results to, a Filter is still probably a
better way to go then just building up a mongo BooleanQuery.  search the
mailing list archives for discussion about a "SetFilter" ... it's not
something anyone has written an commited, but it is a fairly simpel
concept to impliment given some of the hints from previous messages.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 21 01:00:48 2006
Return-Path: <java-user-return-18470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42045 invoked from network); 21 Jan 2006 01:00:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Jan 2006 01:00:47 -0000
Received: (qmail 96578 invoked by uid 500); 21 Jan 2006 01:00:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96529 invoked by uid 500); 21 Jan 2006 01:00:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96518 invoked by uid 99); 21 Jan 2006 01:00:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 17:00:41 -0800
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MAILTO_TO_SPAM_ADDR,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.22 as permitted sender)
Received: from [64.4.51.22] (HELO hotmail.com) (64.4.51.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 17:00:40 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 20 Jan 2006 17:00:19 -0800
Message-ID: <BAY107-F127AB5924DAFF7C8553AF1941E0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Sat, 21 Jan 2006 01:00:19 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
In-Reply-To: <BAY107-F10F1E085313D9214688EDC941F0@phx.gbl>
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: RE: Storing large text or binary source documents in the index and memory usage
Date: Sat, 21 Jan 2006 01:00:19 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 21 Jan 2006 01:00:19.0752 (UTC) FILETIME=[0CB69280:01C61E26]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you ipowers for your reply. Perhaps I did not make myself clear 
enough. As I explained in my original posting I want to store large 
documents  in the Lucene index. Storing them elsewhere is not an option, 
otherwise I would have done so already. My real question is question number 
one, which did not receive a reply, is there a formula that can tell me if 
what is happening is reasonable and to be expected, or am I doing something 
wrong or something which can be done better. I realise I can breakdown a 
large file into smaller chunks, but I don't want to do that unless the 
answer to question one is that there is no other alternative.
Cheers





>From: "George Washington" <gws293@hotmail.com>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Storing large text or binary source documents in the index and 
>memory usage
>Date: Fri, 20 Jan 2006 04:52:20 +0000
>
>I would like to store large source documents (>10MB) in the index in their 
>original form, i.e. as text for text documents or as byte[] for binary 
>documents.
>I have no difficulty adding the source document as a field to the Lucene 
>index document, but when I write the index document to the index I 
>consistently get out-of-memory errors for documents larger than approx 9MB.
>Is there a formula that can help calculate the max size of a document which 
>can be added to the index?
>Is there an alternative way to store such large documents that you can 
>suggest?
>I have 512MB memory under WinXP. Increasing the VM heap size does not help.
>Many thanks
>
>_________________________________________________________________
>Make your dream car a reality 
>http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fcarpoint%2Eninemsn%2Ecom%2Eau&_t=12345&_r=emailtagline&_m=EXT
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
Make your dream car a reality 
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fcarpoint%2Eninemsn%2Ecom%2Eau&_t=12345&_r=emailtagline&_m=EXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 21 02:36:18 2006
Return-Path: <java-user-return-18471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78784 invoked from network); 21 Jan 2006 02:36:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Jan 2006 02:36:18 -0000
Received: (qmail 65545 invoked by uid 500); 21 Jan 2006 02:36:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65523 invoked by uid 500); 21 Jan 2006 02:36:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65509 invoked by uid 99); 21 Jan 2006 02:36:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 18:36:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Jan 2006 18:36:10 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3ED1C5B773; Fri, 20 Jan 2006 18:35:41 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3B8587F403
	for <java-user@lucene.apache.org>; Fri, 20 Jan 2006 18:35:41 -0800 (PST)
Date: Fri, 20 Jan 2006 18:35:41 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: Storing large text or binary source documents in the index and
 memory usage
In-Reply-To: <BAY107-F127AB5924DAFF7C8553AF1941E0@phx.gbl>
Message-ID: <Pine.LNX.4.58.0601201825370.5060@hal.rescomp.berkeley.edu>
References: <BAY107-F127AB5924DAFF7C8553AF1941E0@phx.gbl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: otherwise I would have done so already. My real question is question number
: one, which did not receive a reply, is there a formula that can tell me if
: what is happening is reasonable and to be expected, or am I doing something

I've never played with the binary fields much, nor have i ever tried to
add more then a few KB of data to any document, but my reading of the docs
doesn't turn up any reason why you should be encountering this problem.

typically, when people report problems like this, it turns out the problem
had nothing to do with lucene -- they were forgetting to close files they
were reading while indexing or something like that.  so i tried writing a
unit test that allocated arbitrary in memory byte arrays to see if i could
reproduce the problem, sure enough i can.

No matter what size heap i use, i can't add more then 9 documents
containing fields of 5mb of data..  It seems i can as many 4mb documents
as my heart desires, but once i go up to 5 all hell breaks loose.

I didn't try playing with the various IndexWriter options to see what
affect they had on the breaking point.

i've open a jira bug about this...

https://issues.apache.org/jira/browse/LUCENE-488


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 21 08:06:06 2006
Return-Path: <java-user-return-18472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47483 invoked from network); 21 Jan 2006 08:06:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Jan 2006 08:06:06 -0000
Received: (qmail 97475 invoked by uid 500); 21 Jan 2006 08:06:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97445 invoked by uid 500); 21 Jan 2006 08:06:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97433 invoked by uid 99); 21 Jan 2006 08:06:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jan 2006 00:06:00 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.20 as permitted sender)
Received: from [64.4.51.20] (HELO hotmail.com) (64.4.51.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jan 2006 00:05:59 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sat, 21 Jan 2006 00:05:38 -0800
Message-ID: <BAY107-F10A74221AB65DF9A11D935941E0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Sat, 21 Jan 2006 08:05:38 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
In-Reply-To: <Pine.LNX.4.58.0601201825370.5060@hal.rescomp.berkeley.edu>
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: RE: Storing large text or binary source documents in the index and memory usage
Date: Sat, 21 Jan 2006 08:05:38 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 21 Jan 2006 08:05:38.0600 (UTC) FILETIME=[7721C280:01C61E61]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you Chris for replying and for the trouble you took to test the 
problem. I am looking forward to a reply form the Lucene project.
Cheers


>From: Chris Hostetter <hossman_lucene@fucit.org>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: RE: Storing large text or binary source documents in the index and 
>memory usage
>Date: Fri, 20 Jan 2006 18:35:41 -0800 (PST)
>
>
>: otherwise I would have done so already. My real question is question 
>number
>: one, which did not receive a reply, is there a formula that can tell me 
>if
>: what is happening is reasonable and to be expected, or am I doing 
>something
>
>I've never played with the binary fields much, nor have i ever tried to
>add more then a few KB of data to any document, but my reading of the docs
>doesn't turn up any reason why you should be encountering this problem.
>
>typically, when people report problems like this, it turns out the problem
>had nothing to do with lucene -- they were forgetting to close files they
>were reading while indexing or something like that.  so i tried writing a
>unit test that allocated arbitrary in memory byte arrays to see if i could
>reproduce the problem, sure enough i can.
>
>No matter what size heap i use, i can't add more then 9 documents
>containing fields of 5mb of data..  It seems i can as many 4mb documents
>as my heart desires, but once i go up to 5 all hell breaks loose.
>
>I didn't try playing with the various IndexWriter options to see what
>affect they had on the breaking point.
>
>i've open a jira bug about this...
>
>https://issues.apache.org/jira/browse/LUCENE-488
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
Make your dream car a reality 
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fcarpoint%2Eninemsn%2Ecom%2Eau&_t=12345&_r=emailtagline&_m=EXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 22 06:42:36 2006
Return-Path: <java-user-return-18473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84457 invoked from network); 22 Jan 2006 06:42:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Jan 2006 06:42:35 -0000
Received: (qmail 34237 invoked by uid 500); 22 Jan 2006 06:42:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34209 invoked by uid 500); 22 Jan 2006 06:42:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34198 invoked by uid 99); 22 Jan 2006 06:42:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jan 2006 22:42:30 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.24 as permitted sender)
Received: from [64.4.51.24] (HELO hotmail.com) (64.4.51.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 21 Jan 2006 22:42:27 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sat, 21 Jan 2006 22:42:07 -0800
Message-ID: <BAY107-F14A1698314C3DF0393317594110@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Sun, 22 Jan 2006 06:42:06 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
In-Reply-To: <BAY107-F10A74221AB65DF9A11D935941E0@phx.gbl>
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: RE: Storing large text or binary source documents in the index and memory usage
Date: Sun, 22 Jan 2006 06:42:06 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 22 Jan 2006 06:42:07.0239 (UTC) FILETIME=[F68A8170:01C61F1E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thank you Daniel, but the best I get from MaxBufferedDocs(1) is an OOM error 
after trying 5 iterations of 10MB each in the JUnit test provided by Chris, 
running inside Eclipse 3.1.
I had already tried with MaxBufferdDocs(2) with no success before I posted 
the original post.
I also tried:
  writer.setMaxBufferedDocs(1);
  writer.setMergeFactor(2);
but with the same result.

My heap size is set in the eclipse command line with:  
C:\eclipse\eclipse.exe -vmargs -Xmx350M
Increasing the size does not help.
If you actually tried Chris's test program and got it to run successfully 
there must be something  wrong in my Eclipse config. I cannot think of any 
other possible cause for the difference in your results from mine.
But I am open to all suggestions.
thanks

_________________________________________________________________
ASUS M5 Ultra-slim lightweight is Now $1999 (was $2,999)  
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fwww%2Easus%2Ecom%2Eau%2F&_t=752129232&_r=Hotmail_tagline_23Nov05&_m=EXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 01:54:26 2006
Return-Path: <java-user-return-18474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34744 invoked from network); 23 Jan 2006 01:54:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 01:54:26 -0000
Received: (qmail 39633 invoked by uid 500); 23 Jan 2006 01:54:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39206 invoked by uid 500); 23 Jan 2006 01:54:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39195 invoked by uid 99); 23 Jan 2006 01:54:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Jan 2006 17:54:20 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.215] (HELO web50313.mail.yahoo.com) (206.190.39.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 22 Jan 2006 17:54:19 -0800
Received: (qmail 3951 invoked by uid 60001); 23 Jan 2006 01:53:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type;
  b=L9Z2cPoGJ6tjpfwju/bfwZpl1kHoNHaFlbqssewQEZfi8G2iAJtsljkqC46u0n4jxTaEZCMu4HzWtTOlRrYW81e7U3VOSfwTZrI8/Y1n08vEvQm+rDQAhVjWC4hwD3D2thh8Ydgse8GejgsaU+z99hIc3HRt2hA91+Qkbl0Y+0A=  ;
Message-ID: <20060123015358.3949.qmail@web50313.mail.yahoo.com>
Date: Sun, 22 Jan 2006 17:53:58 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Handling of colons in QueryParserTokenManager
To: java-user@lucene.apache.org
Cc: Gwyn Carwardine <gwyn@carwardine.net>
In-Reply-To: <019c01c61e8c$1db28010$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gwyn - this is a question for java-user@ list, I'm answering there.

Perhaps you can write your own QueryParser.jj variant and change it so it has explicit knowledge of your indef fields.  Then, if it parses "foo:...." and "foo" is not one of the fields it knows about, it could escape the column character on behalf of the user.

If you do this, and it works out, plese share a patch.  This issue was just raised on one of the projects where I'm using Lucene, and this was going to be my first way of dealing with the problem.

Otis

----- Original Message ----
From: Gwyn Carwardine <gwyn@carwardine.net>
To: java-dev@lucene.apache.org
Sent: Sat 21 Jan 2006 08:10:56 AM EST
Subject: Handling of colons in QueryParserTokenManager

Hello, I'm new here. I've actually started using dotLucene but I think I
need to make a change to the QueryParser but it's so complicated to try and
understand what it's doing I thought I'd ask if maybe one of you guys could
point me in the right direction?

In my implementation of Lucene I have the need to store keywords that are of
the form "<key>:<identity>" for example CI:123. Whilst I can store this in
Lucene using Field.Keyword("ID","CI:123") I can't easily look it up by using
QueryParser which I need to do.

Whenever I parse the query ID:CI:123 it parses it as "ID:ci". Now I've
already made a small hack so that non-tokenized values are indexed as
lowercase so at least I can get them back if I use ID:CI\:123 but colons are
commonly used and I really don't want to have to escape them everywhere

What I want to achieve is that query parser will parse ID:CI:123 as
field(ID) value(CI:123). I understand that colon is a special character but
it's only used to delimit fields and values in which case it makes sense to
react to the first colon, the second colon should be treated as part of the
text which the analyzer could strip out or keep (in my case because I'm
using a custom analyzer).

Does this make sense? How do I go about changing the QueryParserTokenManager
to achieve this? Perhaps you can point me to some documentation that
describes the code even?

Any help gratefully received!

Thanks,
Gwyn Carwardine


---------------------------------------------------------------------
To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-dev-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 14:35:45 2006
Return-Path: <java-user-return-18475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91968 invoked from network); 23 Jan 2006 14:35:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 14:35:44 -0000
Received: (qmail 84240 invoked by uid 500); 23 Jan 2006 14:35:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84137 invoked by uid 500); 23 Jan 2006 14:35:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84122 invoked by uid 99); 23 Jan 2006 14:35:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 06:35:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mta09-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 06:35:36 -0800
Received: from aamta11-winn.ispmail.ntl.com ([81.103.221.35])
          by mta09-winn.ispmail.ntl.com with ESMTP
          id <20060123143514.MCRN15755.mta09-winn.ispmail.ntl.com@aamta11-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Mon, 23 Jan 2006 14:35:14 +0000
Received: from jhi ([81.98.13.34]) by aamta11-winn.ispmail.ntl.com
          with SMTP
          id <20060123143514.QIRX21124.aamta11-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Mon, 23 Jan 2006 14:35:14 +0000
Message-ID: <001b01c6202a$3be95320$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
Subject: No sub-file with id _18.f0 found
Date: Mon, 23 Jan 2006 14:35:16 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0018_01C6202A.3A920080"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0018_01C6202A.3A920080
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hi, when i try to view my index with luke i get the loading error: "No =
sub-file with id _18.f0 found".

any ideas what could be causing this?

im using IndexWriter.setUseCompoundFile(true)

in the past it has worked fine without any problems, im on win xp with =
java 1.5



Regards,
me@gekkokid.org.uk
------=_NextPart_000_0018_01C6202A.3A920080--


From java-user-return-18476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 15:43:20 2006
Return-Path: <java-user-return-18476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32068 invoked from network); 23 Jan 2006 15:43:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 15:43:19 -0000
Received: (qmail 41075 invoked by uid 500); 23 Jan 2006 15:43:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41055 invoked by uid 500); 23 Jan 2006 15:43:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41044 invoked by uid 99); 23 Jan 2006 15:43:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 07:43:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 07:43:11 -0800
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id DD6AF252B50
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 15:42:44 +0000 (GMT)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: Range queries
Date: Mon, 23 Jan 2006 15:38:49 -0000
Message-ID: <044f01c62033$1b124180$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AcYgMxqrXB4yGEy0TJ+qcMgg6ozlHw==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Two queries about ranges:

1. field:[a TO z] does not return the same as field:[z TO a] 

I think it should. The standard QueryParser or even the range query should
ascertain the lowest and highest and switch them around if necessary

2. How do I search for negative numbers in a range. For example field:[-3 TO
2] ?

I don't mind hacking code such that my numbers are indexed as +00000001 and
-00000001 and then I can override the query parser to change my query to
[-0000003 TO +0000002]. However.. "+" is less then "-" in Ascii terms so a
range search isn't going to work terrifically well.. Is there a standard
approach??

-Gwyn



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 15:48:23 2006
Return-Path: <java-user-return-18477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35900 invoked from network); 23 Jan 2006 15:48:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 15:48:22 -0000
Received: (qmail 54749 invoked by uid 500); 23 Jan 2006 15:48:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54730 invoked by uid 500); 23 Jan 2006 15:48:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54718 invoked by uid 99); 23 Jan 2006 15:48:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 07:48:16 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (asf.osuosl.org: transitioning domain of Allan.Dewar@bipsolutions.com does not designate 213.228.203.184 as permitted sender)
Received: from [213.228.203.184] (HELO mail2.virtual-email.net) (213.228.203.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 07:48:15 -0800
Received: from mailx07.virtual-email.net ([213.228.203.165]) by mail2.virtual-email.net with Microsoft SMTPSVC(6.0.3790.1830); Mon, 23 Jan 2006 15:47:53 +0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Selecting the maxium/highest numerical value from a lucene Index)
Date: Mon, 23 Jan 2006 15:47:16 -0000
Message-ID: <F30CB8C5AB1C7E438852B9F1000EBFD601190A45@mailx07.virtual-email.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Selecting the maxium/highest numerical value from a lucene Index)
Importance: normal
Priority: normal
Thread-Index: AcYgNElZEqT+bmqqRGev+1sn4GS9gQ==
From: "Allan Dewar" <Allan.Dewar@bipsolutions.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Jan 2006 15:47:53.0874 (UTC) FILETIME=[5F783720:01C62034]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

A database is used as our primary data store.  Our lucene index is then
created and updated from this database.

We store the value of the database primary key in the lucene index as we
need to be able to identify documents across the database and lucene
index.

New documents are inserted into the database on a daily basis and this
is not necessarily a batch process.

What is the easist way to identify the maximum or highest primary key
value in the lucene index?

(The database equivalent of SELECT MAX(id) FROM CONTRACTS)

I would then be able to add documents to the lucene index from the
database whose primary key is greater than the highest primary key value
already in the index.

SELECT * FROM contracts WHERE id > maximumIdInLuceneIndex

Is there a standard approach to achieve this?

Aldo


*************************************************************************=
***
This e-mail (and any attachment) is intended only for the attention of =
the addressee(s). Its unauthorised use, disclosure, storage or copying =
is not permitted. If you are not the intended recipient, please destroy =
all copies and inform the sender by return e-mail.
This e-mail (whether you are the sender or the recipient) may be =
monitored, recorded and retained by BiP Solutions Ltd.=20
E-mail monitoring/ blocking software may be used, and e-mail content may =
be read at any time.You have a responsibility to ensure laws are not =
broken when composing or forwarding e-mails and their contents.
*************************************************************************=
***

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 16:13:20 2006
Return-Path: <java-user-return-18478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49742 invoked from network); 23 Jan 2006 16:13:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 16:13:19 -0000
Received: (qmail 5584 invoked by uid 500); 23 Jan 2006 16:13:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5548 invoked by uid 500); 23 Jan 2006 16:13:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5537 invoked by uid 99); 23 Jan 2006 16:13:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 08:13:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 08:13:12 -0800
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id 450E1252481
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 16:12:48 +0000 (GMT)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: RE: Selecting the maxium/highest numerical value from a lucene Index)
Date: Mon, 23 Jan 2006 16:08:52 -0000
Message-ID: <045c01c62037$4d96b3d0$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AcYgNElZEqT+bmqqRGev+1sn4GS9gQAAqxuw
In-Reply-To: <F30CB8C5AB1C7E438852B9F1000EBFD601190A45@mailx07.virtual-email.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm only a novice at these things but if I had to do that right now? I'd add
a document that represents that primary key with a value representing the
next available number and everytime I go to do some additions I'd get it,
use the value and then delete and re-add that document with the revised next
available number. As only one index writer can be open at a time it would
seem a reasonable solution.

-Gwyn 

-----Original Message-----
From: Allan Dewar [mailto:Allan.Dewar@bipsolutions.com] 
Sent: 23 January 2006 15:47
To: java-user@lucene.apache.org
Subject: Selecting the maxium/highest numerical value from a lucene Index)

Hi

A database is used as our primary data store.  Our lucene index is then
created and updated from this database.

We store the value of the database primary key in the lucene index as we
need to be able to identify documents across the database and lucene
index.

New documents are inserted into the database on a daily basis and this
is not necessarily a batch process.

What is the easist way to identify the maximum or highest primary key
value in the lucene index?

(The database equivalent of SELECT MAX(id) FROM CONTRACTS)

I would then be able to add documents to the lucene index from the
database whose primary key is greater than the highest primary key value
already in the index.

SELECT * FROM contracts WHERE id > maximumIdInLuceneIndex

Is there a standard approach to achieve this?

Aldo


****************************************************************************
This e-mail (and any attachment) is intended only for the attention of the
addressee(s). Its unauthorised use, disclosure, storage or copying is not
permitted. If you are not the intended recipient, please destroy all copies
and inform the sender by return e-mail.
This e-mail (whether you are the sender or the recipient) may be monitored,
recorded and retained by BiP Solutions Ltd. 
E-mail monitoring/ blocking software may be used, and e-mail content may be
read at any time.You have a responsibility to ensure laws are not broken
when composing or forwarding e-mails and their contents.
****************************************************************************

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 17:07:36 2006
Return-Path: <java-user-return-18479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2217 invoked from network); 23 Jan 2006 17:07:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 17:07:36 -0000
Received: (qmail 45048 invoked by uid 500); 23 Jan 2006 17:07:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45020 invoked by uid 500); 23 Jan 2006 17:07:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45009 invoked by uid 99); 23 Jan 2006 17:07:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:07:28 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_HAS_ULINE_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.179.222] (HELO web36108.mail.mud.yahoo.com) (66.163.179.222)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 23 Jan 2006 09:07:27 -0800
Received: (qmail 3154 invoked by uid 60001); 23 Jan 2006 17:07:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=gGFL2u5iApUN5HgdxeZV3MZ4GIZ0fHyx3rkEGIM9xtb8a+xZnB6hI4SNQ9dlJMG3QkPRvdUbpruqF8lcK9OY1rx1DgwZCMYDFL7zrftXHfgt8MEFSCzTUpbie97xNShnIDTye0Ul1dcgFqxWNsfO8dj8G5ulqMkph9yDPgNP38o=  ;
Message-ID: <20060123170706.3152.qmail@web36108.mail.mud.yahoo.com>
Received: from [210.214.47.142] by web36108.mail.mud.yahoo.com via HTTP; Mon, 23 Jan 2006 09:07:06 PST
Date: Mon, 23 Jan 2006 09:07:06 -0800 (PST)
From: revati joshi <revati_joshi83@yahoo.com>
Subject: Reindexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1797972033-1138036026=:3150"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1797972033-1138036026=:3150
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello Lucene members,
                                     I'm the silent member of lucene.I hve being using lucene from last 6 to 8 months.I hve finished with indexing,searching stuff successfully.
  Now i'm stuck up with one stuff i.e reindexing.I got some help from some lucene members abt this.
  For Reindexing lucene uses Lifecycles/Interceptors interface for updating search.
  But  where do i get Lifecycles/Interceptors interface?.whether i hve to download some jar file for it?.
  Quartz is a job scheduler system through which i can achieve reindexing process.
  Which on of this will be better and simple to use?.
  plz suggest some solution to this.
  Thnkx for ur cooperation.
                                            regards,
                                             Revati

			
---------------------------------
Yahoo! Photos
 Got holiday prints? See all the ways to get quality prints in your hands ASAP.
--0-1797972033-1138036026=:3150--

From java-user-return-18480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 17:18:41 2006
Return-Path: <java-user-return-18480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8958 invoked from network); 23 Jan 2006 17:18:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 17:18:40 -0000
Received: (qmail 73896 invoked by uid 500); 23 Jan 2006 17:18:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73812 invoked by uid 500); 23 Jan 2006 17:18:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73764 invoked by uid 99); 23 Jan 2006 17:18:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:18:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.8.60.202] (HELO MUSCOVITE.igneous.opin.com) (206.8.60.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:18:32 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C62040.F130C34E"
Subject: OutOfMemory during optimize
Date: Mon, 23 Jan 2006 11:17:52 -0600
Message-ID: <44C71DE68669B045B760F2EE833AEF3005A3D6@muscovite.igneous.opin.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: OutOfMemory during optimize
Thread-Index: AcYgQPErRFXZOwr5QJ6Xjr7bq4NplA==
From: "Steve Rajavuori" <SteveR@opin.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C62040.F130C34E
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I am periodically getting "Too many open files" error when searching. =
Currently there are over 500 files in my Lucene directory. I am =
attempting to run optimize( ) to reduce the number of files. However, =
optimize never finishes because whenever I run it, it quits with a Java =
exception OutOfMemory error. I have tried using the -Xmx and -Xms =
switches to increase heap size, but that has not helped.

Any suggestions?

Steve Rajavuori
OPIN Systems

Voice: 651-994-6556
Fax:   651-994-7828

2600 Eagan Woods Dr., Suite 400
Eagan, MN  55121
800-888-1804
 <http://www.opin.com/> www.opin.com

------_=_NextPart_001_01C62040.F130C34E--

From java-user-return-18481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 17:42:32 2006
Return-Path: <java-user-return-18481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21830 invoked from network); 23 Jan 2006 17:42:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 17:42:32 -0000
Received: (qmail 10391 invoked by uid 500); 23 Jan 2006 17:42:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10268 invoked by uid 500); 23 Jan 2006 17:42:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10254 invoked by uid 99); 23 Jan 2006 17:42:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:42:26 -0800
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.207.192.7] (HELO smtp0.beanfield.net) (66.207.192.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:42:25 -0800
Received: from [127.0.0.1] (66-207-218-34.beanfield.net [66.207.218.34])
	by smtp0.beanfield.net (8.13.4/8.12.11) with ESMTP id k0NHfBeP041681
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 12:41:13 -0500 (EST)
	(envelope-from donv@webimpact.com)
Message-ID: <43D516E8.1070101@webimpact.com>
Date: Mon, 23 Jan 2006 12:48:24 -0500
From: Don Vaillancourt <donv@webimpact.com>
Reply-To: donv@webimpact.com
Organization: Web Impact Inc.
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Boost value and LUKE
References: <44C71DE68669B045B760F2EE833AEF3005A3D6@muscovite.igneous.opin.com>
In-Reply-To: <44C71DE68669B045B760F2EE833AEF3005A3D6@muscovite.igneous.opin.com>
Content-Type: multipart/alternative;
 boundary="------------070601070208090401020302"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------070601070208090401020302
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hello All,

I am testing the boost value within the latest version of Lucene and I'm 
inspecting the results through Luke.

For each FIELD that I want to boost I use the setBoost method.  And 
everything looks good.  But Luke is refusing to exposure the boost value 
and keeps returning 1.0 for the specified columns (well actually all 
columns) when I have set one column to 0.5 and the other to 0.75.

1. Is there something I am doing wrong?
2. Is there a bug in Lucene?
3. is there a bug in Luke?

Anyone have any hints.

Thank You

-- 
Don Vaillancourt
Director of Software Development
WEB IMPACT INC.
phone: 	 416-815-2000 ext. 245
fax: 	 416-815-2001
toll free: 	 866-319-1573 ext. 245
email: 	 donv@web-impact.com <mailto:donv@webimpact.com>
blackberry: 	 donv@rogers.blackberry.net 
<mailto:donv@rogers.blackberry.net>
web: 	 http://www.web-impact.com
address: 	 http://www.mapquest.ca 
<http://www.mapquest.com/maps/map.adp?country=CA&addtohistory=&formtype=address&searchtype=address&cat=&address=99%20Atlantic%20Ave&city=Toronto&state=ON&zipcode=M6K%203J8> 


This email message is intended only for the addressee(s) and contains 
information that may be confidential and/or copyright.

If you are not the intended recipient please notify the sender by reply 
email and immediately delete this email.

Use, disclosure or reproduction of this email by anyone other than the 
intended recipient(s) is strictly prohibited. No representation  made 
that this email or any attachments are free of viruses. Virus scanning 
is recommended and is the responsibility of the recipient.


--------------070601070208090401020302--

From java-user-return-18482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 17:53:34 2006
Return-Path: <java-user-return-18482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27263 invoked from network); 23 Jan 2006 17:53:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 17:53:34 -0000
Received: (qmail 41099 invoked by uid 500); 23 Jan 2006 17:53:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41055 invoked by uid 500); 23 Jan 2006 17:53:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41024 invoked by uid 99); 23 Jan 2006 17:53:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:53:24 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.130] (HELO uksmtp3.uk.informa.com) (213.212.68.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:53:22 -0800
Received: from ukexfe01.UK.CorpLAN.net (unverified) by uksmtp3.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T7604ce6e8cc0a82d141a34@uksmtp3.uk.informa.com>; Mon, 23 Jan 2006 
    17:52:58 +0000
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.121]) by 
    ukexfe01.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.1830); Mon, 23 
    Jan 2006 17:52:58 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Boost value and LUKE
Date: Mon, 23 Jan 2006 17:52:57 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F297@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Boost value and LUKE
Thread-Index: AcYgRGXq1H18LkiyTxSlb1VLLJh1eAAAUWLQ
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>, <donv@webimpact.com>
X-OriginalArrivalTime: 23 Jan 2006 17:52:58.0364 (UTC) 
    FILETIME=[D87E83C0:01C62045]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm pretty sure this is a bug or incompatibility with Luke - I'm using
boosted documents, and I seem to remember that Luke reported everything
as 1.0, even though my test applications showed things correctly.=20

The boost in the final app is working fine, so the functionality of
Lucene appears to be correct.=20

Cheers,

Tim.

-----Original Message-----
From: Don Vaillancourt [mailto:donv@webimpact.com]=20
Sent: 23 January 2006 17:48
To: java-user@lucene.apache.org
Subject: Boost value and LUKE


Hello All,

I am testing the boost value within the latest version of Lucene and I'm

inspecting the results through Luke.

For each FIELD that I want to boost I use the setBoost method.  And=20
everything looks good.  But Luke is refusing to exposure the boost value

and keeps returning 1.0 for the specified columns (well actually all=20
columns) when I have set one column to 0.5 and the other to 0.75.

1. Is there something I am doing wrong?
2. Is there a bug in Lucene?
3. is there a bug in Luke?

Anyone have any hints.

Thank You

--=20
Don Vaillancourt
Director of Software Development
WEB IMPACT INC.
phone: 	 416-815-2000 ext. 245
fax: 	 416-815-2001
toll free: 	 866-319-1573 ext. 245
email: 	 donv@web-impact.com <mailto:donv@webimpact.com>
blackberry: 	 donv@rogers.blackberry.net=20
<mailto:donv@rogers.blackberry.net>
web: 	 http://www.web-impact.com
address: 	 http://www.mapquest.ca=20
<http://www.mapquest.com/maps/map.adp?country=3DCA&addtohistory=3D&formtype=
=3D
address&searchtype=3Daddress&cat=3D&address=3D99%20Atlantic%20Ave&city=3DTo=
ronto
&state=3DON&zipcode=3DM6K%203J8>=20


This email message is intended only for the addressee(s) and contains=20
information that may be confidential and/or copyright.

If you are not the intended recipient please notify the sender by reply=20
email and immediately delete this email.

Use, disclosure or reproduction of this email by anyone other than the=20
intended recipient(s) is strictly prohibited. No representation  made=20
that this email or any attachments are free of viruses. Virus scanning=20
is recommended and is the responsibility of the recipient.




***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 18:01:40 2006
Return-Path: <java-user-return-18483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30991 invoked from network); 23 Jan 2006 18:01:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 18:01:38 -0000
Received: (qmail 62490 invoked by uid 500); 23 Jan 2006 18:01:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62468 invoked by uid 500); 23 Jan 2006 18:01:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62457 invoked by uid 99); 23 Jan 2006 18:01:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 10:01:29 -0800
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.207.192.7] (HELO smtp0.beanfield.net) (66.207.192.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 10:01:28 -0800
Received: from [127.0.0.1] (66-207-218-34.beanfield.net [66.207.218.34])
	by smtp0.beanfield.net (8.13.4/8.12.11) with ESMTP id k0NI0GoM043688
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 13:00:18 -0500 (EST)
	(envelope-from donv@webimpact.com)
Message-ID: <43D51B61.5050409@webimpact.com>
Date: Mon, 23 Jan 2006 13:07:29 -0500
From: Don Vaillancourt <donv@webimpact.com>
Reply-To: donv@webimpact.com
Organization: Web Impact Inc.
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Boost value and LUKE
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F297@UKEXBE01.UK.CorpLAN.net>
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F297@UKEXBE01.UK.CorpLAN.net>
Content-Type: multipart/alternative;
 boundary="------------000201030005020505090609"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------000201030005020505090609
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Eh,

I did some some tests after I sent the email to see if I was doing it 
right and they confirmed your results.  The scores were higher for 
boosted content.

Thanks for the reply

Tim.Wright@informa.com wrote:
> I'm pretty sure this is a bug or incompatibility with Luke - I'm using
> boosted documents, and I seem to remember that Luke reported everything
> as 1.0, even though my test applications showed things correctly. 
>
> The boost in the final app is working fine, so the functionality of
> Lucene appears to be correct. 
>
> Cheers,
>
> Tim.
>
> -----Original Message-----
> From: Don Vaillancourt [mailto:donv@webimpact.com] 
> Sent: 23 January 2006 17:48
> To: java-user@lucene.apache.org
> Subject: Boost value and LUKE
>
>
> Hello All,
>
> I am testing the boost value within the latest version of Lucene and I'm
>
> inspecting the results through Luke.
>
> For each FIELD that I want to boost I use the setBoost method.  And 
> everything looks good.  But Luke is refusing to exposure the boost value
>
> and keeps returning 1.0 for the specified columns (well actually all 
> columns) when I have set one column to 0.5 and the other to 0.75.
>
> 1. Is there something I am doing wrong?
> 2. Is there a bug in Lucene?
> 3. is there a bug in Luke?
>
> Anyone have any hints.
>
> Thank You
>
>   


-- 
Don Vaillancourt
Director of Software Development
WEB IMPACT INC.
phone: 	 416-815-2000 ext. 245
fax: 	 416-815-2001
toll free: 	 866-319-1573 ext. 245
email: 	 donv@web-impact.com <mailto:donv@webimpact.com>
blackberry: 	 donv@rogers.blackberry.net 
<mailto:donv@rogers.blackberry.net>
web: 	 http://www.web-impact.com
address: 	 http://www.mapquest.ca 
<http://www.mapquest.com/maps/map.adp?country=CA&addtohistory=&formtype=address&searchtype=address&cat=&address=99%20Atlantic%20Ave&city=Toronto&state=ON&zipcode=M6K%203J8> 


This email message is intended only for the addressee(s) and contains 
information that may be confidential and/or copyright.

If you are not the intended recipient please notify the sender by reply 
email and immediately delete this email.

Use, disclosure or reproduction of this email by anyone other than the 
intended recipient(s) is strictly prohibited. No representation is made 
that this email or any attachments are free of viruses. Virus scanning 
is recommended and is the responsibility of the recipient.


--------------000201030005020505090609--

From java-user-return-18484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 18:34:29 2006
Return-Path: <java-user-return-18484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49357 invoked from network); 23 Jan 2006 18:34:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 18:34:29 -0000
Received: (qmail 13800 invoked by uid 500); 23 Jan 2006 18:34:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13782 invoked by uid 500); 23 Jan 2006 18:34:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 76923 invoked by uid 99); 23 Jan 2006 12:15:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Cc: "'Otis Gospodnetic'" <otis_gospodnetic@yahoo.com>
Subject: RE: Handling of colons in QueryParserTokenManager
Date: Mon, 23 Jan 2006 12:10:44 -0000
Message-ID: <040101c62016$0962ff50$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AcYfv935IooshO8ySwOWv4bGBtm/aQAVI3lA
In-Reply-To: <20060123015358.3949.qmail@web50313.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis, sorry if I posted to the wrong group. I though user was for
usage-type queries and dev was for development-type queries. As I was asking
about changing the code itself (rather than about interfacing with it) I
assumed this was a dev forum issue. I'm still a bit confused.. can you tell
me what the distinction is? I have another issue (where I've hacked the
Lucene code and I want to discuss whether it's a valid hack or not and
possibly how to do it properly) which I would like to raise and I'm confused
as to where to raise it!

Anyway, back to the matter in hand:

At the moment if I use abc:def:123 I would expect my custom analyzer to
receive field(abc) value(def:123) but it's receiving field(abc) value(def).
somewhere along the line query parse is throwing away the 123. Which I think
is the wrong behaviour... But anyway, what I don't know is where to make a
change to (for all fields) pass the second colon through to the analyzer
where the analyzer can make the decision about what to do with it. As it
would do it I entered abc:def.123 or abc:def;123 

I can override the analyzer but I can't override the query parser behaviour
very easily. I don't understand where the post-colon text is being
discarded. In QueryParser or in QueryPArserTokenManager?

And now I've been pointed to QueryParser.jj I wonder what language that is?
And is QueryParser.javaj create from it? If so how does it get from one to
the other?! Help! 

Cheers, Gwyn



-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: 23 January 2006 01:54
To: 
Cc: Gwyn Carwardine
Subject: Re: Handling of colons in QueryParserTokenManager

Gwyn - this is a question for java-user@ list, I'm answering there.

Perhaps you can write your own QueryParser.jj variant and change it so it
has explicit knowledge of your indef fields.  Then, if it parses "foo:...."
and "foo" is not one of the fields it knows about, it could escape the
column character on behalf of the user.

If you do this, and it works out, plese share a patch.  This issue was just
raised on one of the projects where I'm using Lucene, and this was going to
be my first way of dealing with the problem.

Otis

----- Original Message ----
From: Gwyn Carwardine <gwyn@carwardine.net>
To: java-dev@lucene.apache.org
Sent: Sat 21 Jan 2006 08:10:56 AM EST
Subject: Handling of colons in QueryParserTokenManager

Hello, I'm new here. I've actually started using dotLucene but I think I
need to make a change to the QueryParser but it's so complicated to try and
understand what it's doing I thought I'd ask if maybe one of you guys could
point me in the right direction?

In my implementation of Lucene I have the need to store keywords that are of
the form "<key>:<identity>" for example CI:123. Whilst I can store this in
Lucene using Field.Keyword("ID","CI:123") I can't easily look it up by using
QueryParser which I need to do.

Whenever I parse the query ID:CI:123 it parses it as "ID:ci". Now I've
already made a small hack so that non-tokenized values are indexed as
lowercase so at least I can get them back if I use ID:CI\:123 but colons are
commonly used and I really don't want to have to escape them everywhere

What I want to achieve is that query parser will parse ID:CI:123 as
field(ID) value(CI:123). I understand that colon is a special character but
it's only used to delimit fields and values in which case it makes sense to
react to the first colon, the second colon should be treated as part of the
text which the analyzer could strip out or keep (in my case because I'm
using a custom analyzer).

Does this make sense? How do I go about changing the QueryParserTokenManager
to achieve this? Perhaps you can point me to some documentation that
describes the code even?

Any help gratefully received!

Thanks,
Gwyn Carwardine


---------------------------------------------------------------------
To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-dev-help@lucene.apache.org






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 18:40:00 2006
Return-Path: <java-user-return-18485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52597 invoked from network); 23 Jan 2006 18:40:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 18:40:00 -0000
Received: (qmail 19794 invoked by uid 500); 23 Jan 2006 18:39:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19763 invoked by uid 500); 23 Jan 2006 18:39:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19752 invoked by uid 99); 23 Jan 2006 18:39:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 10:39:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.199 as permitted sender)
Received: from [205.158.62.199] (HELO ws6-3.us4.outblaze.com) (205.158.62.199)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 23 Jan 2006 10:39:54 -0800
Received: (qmail 28292 invoked from network); 23 Jan 2006 18:39:31 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@69.214.178.152)
  by ws6-3.us4.outblaze.com with SMTP; 23 Jan 2006 18:39:31 -0000
Message-ID: <43D522E2.3030009@curtin.com>
Date: Mon, 23 Jan 2006 13:39:30 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: OutOfMemory during optimize
References: <44C71DE68669B045B760F2EE833AEF3005A3D6@muscovite.igneous.opin.com>
In-Reply-To: <44C71DE68669B045B760F2EE833AEF3005A3D6@muscovite.igneous.opin.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Steve Rajavuori wrote:
> I am periodically getting "Too many open files" error when searching. Currently there are over 500 files in my Lucene directory. I am attempting to run optimize( ) to reduce the number of files. However, optimize never finishes because whenever I run it, it quits with a Java exception OutOfMemory error. I have tried using the -Xmx and -Xms switches to increase heap size, but that has not helped.
> 
> Any suggestions?

You could try reducing maxMergeDocs and mergeFactor.  Doing so increases 
the time it takes to optimize, but reduces the amount of memory consumed.

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 19:07:36 2006
Return-Path: <java-user-return-18486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71552 invoked from network); 23 Jan 2006 19:07:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 19:07:35 -0000
Received: (qmail 75466 invoked by uid 500); 23 Jan 2006 19:07:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75446 invoked by uid 500); 23 Jan 2006 19:07:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75434 invoked by uid 99); 23 Jan 2006 19:07:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:07:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:07:27 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k0NJ7Gi24262;
	Mon, 23 Jan 2006 13:07:16 -0600
Message-ID: <43D5295F.4050601@getopt.org>
Date: Mon, 23 Jan 2006 20:07:11 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
CC: donv@webimpact.com
Subject: Re: Boost value and LUKE
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F297@UKEXBE01.UK.CorpLAN.net>
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F297@UKEXBE01.UK.CorpLAN.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tim.Wright@informa.com wrote:
> I'm pretty sure this is a bug or incompatibility with Luke - I'm using
> boosted documents, and I seem to remember that Luke reported everything
> as 1.0, even though my test applications showed things correctly. 
>
> The boost in the final app is working fine, so the functionality of
> Lucene appears to be correct. 
>   

This is not a bug or incompatibility - it's the way the boost values are 
stored in the index. Once the index is written down, the original boost 
values per field and per doc cannot be retrieved, because they are 
calculated into so called "fieldNorm" values.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 19:15:22 2006
Return-Path: <java-user-return-18487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77858 invoked from network); 23 Jan 2006 19:15:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 19:15:14 -0000
Received: (qmail 91243 invoked by uid 500); 23 Jan 2006 19:15:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91218 invoked by uid 500); 23 Jan 2006 19:15:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91207 invoked by uid 99); 23 Jan 2006 19:15:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:15:04 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.131] (HELO uksmtp4.uk.informa.com) (213.212.68.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:15:03 -0800
Received: from ukexfe01.UK.CorpLAN.net (unverified) by uksmtp4.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T7605193843c0a82d150c8@uksmtp4.uk.informa.com> for 
    <java-user@lucene.apache.org>; Mon, 23 Jan 2006 19:14:39 +0000
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.121]) by 
    ukexfe01.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.1830); Mon, 23 
    Jan 2006 19:14:39 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Boost value and LUKE
Date: Mon, 23 Jan 2006 19:14:39 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F299@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Boost value and LUKE
Thread-Index: AcYgUER3Tg61Y8YsTtuTTr3E4tJDgAAAMJqg
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Jan 2006 19:14:39.0693 (UTC) 
    FILETIME=[41E9F7D0:01C62051]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ah - that's useful to know. Although in that case I'd suggest that the
sensible thing for Luke to do would be to either remove the boost field,
or show it as "unavailable", instead of (misleadingly) displaying it as
1.0...=20

Cheers,

Tim.

-----Original Message-----
From: Andrzej Bialecki [mailto:ab@getopt.org]=20
Sent: 23 January 2006 19:07
To: java-user@lucene.apache.org
Cc: donv@webimpact.com
Subject: Re: Boost value and LUKE


Tim.Wright@informa.com wrote:
> I'm pretty sure this is a bug or incompatibility with Luke - I'm using
> boosted documents, and I seem to remember that Luke reported
everything
> as 1.0, even though my test applications showed things correctly.=20
>
> The boost in the final app is working fine, so the functionality of
> Lucene appears to be correct.=20
>  =20

This is not a bug or incompatibility - it's the way the boost values are

stored in the index. Once the index is written down, the original boost=20
values per field and per doc cannot be retrieved, because they are=20
calculated into so called "fieldNorm" values.

--=20
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 19:16:10 2006
Return-Path: <java-user-return-18488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78317 invoked from network); 23 Jan 2006 19:16:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 19:16:09 -0000
Received: (qmail 93326 invoked by uid 500); 23 Jan 2006 19:16:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93080 invoked by uid 500); 23 Jan 2006 19:16:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93069 invoked by uid 99); 23 Jan 2006 19:16:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:16:03 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY,MISSING_HEADERS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.207.192.7] (HELO smtp0.beanfield.net) (66.207.192.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:16:02 -0800
Received: from [127.0.0.1] (66-207-218-34.beanfield.net [66.207.218.34])
	by smtp0.beanfield.net (8.13.4/8.12.11) with ESMTP id k0NJEoaW049537
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 14:14:51 -0500 (EST)
	(envelope-from donv@webimpact.com)
Message-ID: <43D52CDB.5070906@webimpact.com>
Date: Mon, 23 Jan 2006 14:22:03 -0500
From: Don Vaillancourt <donv@webimpact.com>
Reply-To: donv@webimpact.com
Organization: Web Impact Inc.
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
CC: java-user@lucene.apache.org
Subject: Re: Boost value and LUKE
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F297@UKEXBE01.UK.CorpLAN.net> <43D5295F.4050601@getopt.org>
In-Reply-To: <43D5295F.4050601@getopt.org>
Content-Type: multipart/alternative;
 boundary="------------080406030902070304030500"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------080406030902070304030500
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Eh yeah.  I remember reading that.  The boost is calculated at indexing 
time.

That didn't even click.  Thanks.

Andrzej Bialecki wrote:
> Tim.Wright@informa.com wrote:
>> I'm pretty sure this is a bug or incompatibility with Luke - I'm using
>> boosted documents, and I seem to remember that Luke reported everything
>> as 1.0, even though my test applications showed things correctly.
>> The boost in the final app is working fine, so the functionality of
>> Lucene appears to be correct.   
>
> This is not a bug or incompatibility - it's the way the boost values 
> are stored in the index. Once the index is written down, the original 
> boost values per field and per doc cannot be retrieved, because they 
> are calculated into so called "fieldNorm" values.
>


-- 
Don Vaillancourt
Director of Software Development
WEB IMPACT INC.
phone: 	 416-815-2000 ext. 245
fax: 	 416-815-2001
toll free: 	 866-319-1573 ext. 245
email: 	 donv@web-impact.com <mailto:donv@webimpact.com>
blackberry: 	 donv@rogers.blackberry.net 
<mailto:donv@rogers.blackberry.net>
web: 	 http://www.web-impact.com
address: 	 http://www.mapquest.ca 
<http://www.mapquest.com/maps/map.adp?country=CA&addtohistory=&formtype=address&searchtype=address&cat=&address=99%20Atlantic%20Ave&city=Toronto&state=ON&zipcode=M6K%203J8> 


This email message is intended only for the addressee(s) and contains 
information that may be confidential and/or copyright.

If you are not the intended recipient please notify the sender by reply 
email and immediately delete this email.

Use, disclosure or reproduction of this email by anyone other than the 
intended recipient(s) is strictly prohibited. No representation is made 
that this email or any attachments are free of viruses. Virus scanning 
is recommended and is the responsibility of the recipient.


--------------080406030902070304030500--

From java-user-return-18489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 19:24:02 2006
Return-Path: <java-user-return-18489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85080 invoked from network); 23 Jan 2006 19:24:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 19:24:01 -0000
Received: (qmail 10880 invoked by uid 500); 23 Jan 2006 19:23:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10860 invoked by uid 500); 23 Jan 2006 19:23:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10849 invoked by uid 99); 23 Jan 2006 19:23:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:23:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:23:53 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id DD4E05B783; Mon, 23 Jan 2006 11:23:25 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id DAB527F403
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 11:23:25 -0800 (PST)
Date: Mon, 23 Jan 2006 11:23:25 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Selecting the maxium/highest numerical value from a lucene Index)
In-Reply-To: <F30CB8C5AB1C7E438852B9F1000EBFD601190A45@mailx07.virtual-email.net>
Message-ID: <Pine.LNX.4.58.0601231118220.18881@hal.rescomp.berkeley.edu>
References: <F30CB8C5AB1C7E438852B9F1000EBFD601190A45@mailx07.virtual-email.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: What is the easist way to identify the maximum or highest primary key
: value in the lucene index?

The most straight forward way is to do a search for all documents, ordered
by the field you are interested in, and then get the value out of hte
first document.

Under the covers, sorting works using the FieldCache -- a more efficient
way to do what you want then searching would be to use the FieldCache
for your ID field directly, and get the largest value out of the array.

If you don't want to have a giant array of all the ids in memory, you can
use a TermEnum to iterate over all the values of the field, remembering
the "previous" value each time untill you run out of values -- and now
your "previous" value is the highest.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 19:53:52 2006
Return-Path: <java-user-return-18490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13078 invoked from network); 23 Jan 2006 19:53:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 19:53:51 -0000
Received: (qmail 90283 invoked by uid 500); 23 Jan 2006 19:53:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90042 invoked by uid 500); 23 Jan 2006 19:53:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90024 invoked by uid 99); 23 Jan 2006 19:53:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:53:44 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.195 as permitted sender)
Received: from [66.249.92.195] (HELO uproxy.gmail.com) (66.249.92.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 11:53:44 -0800
Received: by uproxy.gmail.com with SMTP id e2so24956ugf
        for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 11:53:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=li+27NT04U0HcwKelblaWQAla0whbxuLYUVoUs5KTvwnmqW8c2U5C6abRZDb7414/fq9+OouW0PAmiypah2UZe8oLzURO+yWDp+NNGWEGtlAFmKRTyywm8V8Yqlhs8HjuwQvkQ0sGebu9+CpJ6ztwOWmnb6tZRR4LU1J8uWeQFc=
Received: by 10.48.157.12 with SMTP id f12mr369786nfe;
        Mon, 23 Jan 2006 11:53:21 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Mon, 23 Jan 2006 11:53:20 -0800 (PST)
Message-ID: <c68e39170601231153w3f907caao310b8ceab86acd62@mail.gmail.com>
Date: Mon, 23 Jan 2006 14:53:20 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Selecting the maxium/highest numerical value from a lucene Index)
In-Reply-To: <Pine.LNX.4.58.0601231118220.18881@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <F30CB8C5AB1C7E438852B9F1000EBFD601190A45@mailx07.virtual-email.net>
	 <Pine.LNX.4.58.0601231118220.18881@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/23/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> use a TermEnum to iterate over all the values of the field, remembering
> the "previous" value each time untill you run out of values

Bummer that you can't step backwards with a TermEnum... finding the
first term is cheap, but finding the last is expensive.

How feasible would it be to add a prev() to TermEnum?  Would it be
worth it?  It seems like it would be useful for numeric fields to be
able to quickly find the max as well as the min without filling the
fieldcache.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 20:36:37 2006
Return-Path: <java-user-return-18491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44099 invoked from network); 23 Jan 2006 20:36:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 20:36:37 -0000
Received: (qmail 95915 invoked by uid 500); 23 Jan 2006 20:36:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95790 invoked by uid 500); 23 Jan 2006 20:36:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95779 invoked by uid 99); 23 Jan 2006 20:36:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 12:36:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.34] (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 12:36:29 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0NKa7HY012084
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 21:36:07 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Handling of colons in QueryParserTokenManager
Date: Mon, 23 Jan 2006 21:36:06 +0100
User-Agent: KMail/1.8.2
References: <040101c62016$0962ff50$ca03010a@theoldstore.propelsystems.com>
In-Reply-To: <040101c62016$0962ff50$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601232136.06934.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 23 January 2006 13:10, Gwyn Carwardine wrote:
...
> 
> And now I've been pointed to QueryParser.jj I wonder what language that is?
> And is QueryParser.javaj create from it? If so how does it get from one to
> the other?! Help! 
> 

QueryParser.java is generated from QueryParser.jj by javacc:

https://javacc.dev.java.net/

The easiest way to get from one to the other is to install javacc and
use the various javacc ant targets in lucene's build.xml.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 23 21:46:00 2006
Return-Path: <java-user-return-18492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86051 invoked from network); 23 Jan 2006 21:46:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Jan 2006 21:46:00 -0000
Received: (qmail 50743 invoked by uid 500); 23 Jan 2006 21:45:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50717 invoked by uid 500); 23 Jan 2006 21:45:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 14439 invoked by uid 99); 23 Jan 2006 21:34:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Message-ID: <43D54BE7.3080306@dessci.com>
Date: Mon, 23 Jan 2006 15:34:31 -0600
From: Rajesh Munavalli <rajeshm@dessci.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: Lucene Java Group <java-user@lucene.apache.org>
Subject: Specific length field in wild card queries
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 Jan 2006 21:34:33.0777 (UTC) FILETIME=[CD2D8A10:01C62064]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am looking for Lucene API/work around to answer the following 
questions. I need to find if a particular field contains terms with 
certain length. Let me explain with an example.

Lets say there are
Four fields: F1, F2 and F3
Hypothetical User Query: "F1:lucene F2:* F3:? F4:group"

I am aware that Lucene does not allow wildcard queries starting with 
"*". The aim of the query is to find "lucene" in field F1 and "group" in 
field F4 but should find only those documents where
(1) Field F2 should not be empty.
(2) Field F3 should contain indexed terms of length 1.

Thanks,

Rajesh Munavalli

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 00:25:34 2006
Return-Path: <java-user-return-18493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91341 invoked from network); 24 Jan 2006 00:25:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 00:25:34 -0000
Received: (qmail 36078 invoked by uid 500); 24 Jan 2006 00:25:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36058 invoked by uid 500); 24 Jan 2006 00:25:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36047 invoked by uid 99); 24 Jan 2006 00:25:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 16:25:27 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of oschnaps@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 16:25:27 -0800
Received: by zproxy.gmail.com with SMTP id k1so1089684nzf
        for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 16:25:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=dEc23bq3BBuZSpKzxiRex6wn8o1B4+YUgT2sltLzszsmXqZmm+dcrnwvLhoB8bfEDDFnP2ePxmujpuSdsEp0vZ9c7UqVMw1Q36IkPcSBTjT+19Iel9KXvFEAaJv7iOJ9ZG3vx/ekSEi6fAnrRthA9hUo4qaK0uCLfJsbYLQn6Uk=
Received: by 10.36.56.18 with SMTP id e18mr4232126nza;
        Mon, 23 Jan 2006 16:25:06 -0800 (PST)
Received: by 10.36.126.19 with HTTP; Mon, 23 Jan 2006 16:25:06 -0800 (PST)
Message-ID: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
Date: Mon, 23 Jan 2006 19:25:06 -0500
From: Ori Schnaps <oschnaps@gmail.com>
To: java-user@lucene.apache.org
Subject: performance implications for an index with large number of documents.
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Apologies if this question has being asked before on this list.

I am working on an application with a Lucene index whose performance
(response time for a query) has started degrading as its size has
increase.

The index is made up of approximately 10 million documents that have
11 fields.  The average document size is less then 1k.  The index has
a total of 13 million terms.  The total index size is about 2.2 gig.
The index is being updated relatively aggressively.  In a 24hr period
there may be any where from 500k to 3 million updates.

What I have noticed is that as the document number increased from 6
million to 10 million, the response time for a query has continually
increased from 0.5 seconds to ~2+ seconds.

I am using a Java j2sdk1.4.2_08 and Lucene 1.4.3.  The container is
tomcat and the java process is allocated 2gig heap.  The heap is
shared between the Lucene index and the end user application.

Our initial inclination is to pull the index out of the application
and load it fully into memory on a separate box.  Anyone have any
experience with performance for index of this nature and what kind of
request time should be expected from Lucene?

thanks
ori

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 01:08:16 2006
Return-Path: <java-user-return-18494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25404 invoked from network); 24 Jan 2006 01:08:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 01:08:15 -0000
Received: (qmail 78776 invoked by uid 500); 24 Jan 2006 01:08:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78744 invoked by uid 500); 24 Jan 2006 01:08:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78732 invoked by uid 99); 24 Jan 2006 01:08:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 17:08:10 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of davekor@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 17:08:10 -0800
Received: by wproxy.gmail.com with SMTP id i7so1136207wra
        for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 17:07:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Wu32cf8MHPjpdKvRVi5N3+XkJCQ5DJs17A1GLd5hdQtQ3qrWgVXXLTa2eEiBuzYqWVktSWgLMU2dVGQKiuj1/78eWAk7hpLpVNto4//w4Znz+gEbSfC7jkQ/cVSwn/Mc7uq1NhKF3uXZ9Znudu3DH+Jzb5OMtgUa7RDU5vojJdk=
Received: by 10.54.128.13 with SMTP id a13mr8127118wrd;
        Mon, 23 Jan 2006 17:07:48 -0800 (PST)
Received: by 10.54.131.9 with HTTP; Mon, 23 Jan 2006 17:07:48 -0800 (PST)
Message-ID: <901c03930601231707o2f7c7a61h35495b9468d3f489@mail.gmail.com>
Date: Tue, 24 Jan 2006 09:07:48 +0800
From: Dave Kor <davekor@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: performance implications for an index with large number of documents.
In-Reply-To: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene scales with the number of unique terms in the index and not the
number of documents nor the size of the documents. Typically, you
should have at most 1 million unique terms for a set of 10 million
documents.

So the fact that you have 13 million unique terms in 10 million
documents tells me that the characteristics of your document set don't
follow the typical term growth rate that Lucene is designed for. You
might actually be better off using a database for storing and
searching these documents.

On 1/24/06, Ori Schnaps <oschnaps@gmail.com> wrote:
> Hi,
>
> Apologies if this question has being asked before on this list.
>
> I am working on an application with a Lucene index whose performance
> (response time for a query) has started degrading as its size has
> increase.
>
> The index is made up of approximately 10 million documents that have
> 11 fields.  The average document size is less then 1k.  The index has
> a total of 13 million terms.  The total index size is about 2.2 gig.
> The index is being updated relatively aggressively.  In a 24hr period
> there may be any where from 500k to 3 million updates.
>
> What I have noticed is that as the document number increased from 6
> million to 10 million, the response time for a query has continually
> increased from 0.5 seconds to ~2+ seconds.
>
> I am using a Java j2sdk1.4.2_08 and Lucene 1.4.3.  The container is
> tomcat and the java process is allocated 2gig heap.  The heap is
> shared between the Lucene index and the end user application.
>
> Our initial inclination is to pull the index out of the application
> and load it fully into memory on a separate box.  Anyone have any
> experience with performance for index of this nature and what kind of
> request time should be expected from Lucene?
>
> thanks
> ori
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Dave Kor, Research Assistant
Center for Information Mining and Extraction
School of Computing
National University of Singapore.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 01:23:29 2006
Return-Path: <java-user-return-18495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37151 invoked from network); 24 Jan 2006 01:23:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 01:23:28 -0000
Received: (qmail 89223 invoked by uid 500); 24 Jan 2006 01:23:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89201 invoked by uid 500); 24 Jan 2006 01:23:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89190 invoked by uid 99); 24 Jan 2006 01:23:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 17:23:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 17:23:21 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0E4525B783; Mon, 23 Jan 2006 17:22:54 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0B7A17F403
	for <java-user@lucene.apache.org>; Mon, 23 Jan 2006 17:22:54 -0800 (PST)
Date: Mon, 23 Jan 2006 17:22:54 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: performance implications for an index with large number of
 documents.
In-Reply-To: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601231716370.25952@hal.rescomp.berkeley.edu>
References: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

:
: The index is made up of approximately 10 million documents that have
: 11 fields.  The average document size is less then 1k.  The index has
: a total of 13 million terms.  The total index size is about 2.2 gig.
: The index is being updated relatively aggressively.  In a 24hr period
: there may be any where from 500k to 3 million updates.

I'm interpreting "update" to mean a deletion followed by an add (unless
you mean your index is growing by 0.5-3 million docs a day)

Which begs the question: How often are you optimizing?

Deleting documents doesn't free up all of the space used to store
information about which terms map to those documents, which could explain
why your total number of terms seems high to Dave Kor -- a lot of those
Terms may only be mapped to deleted documents.


(of course, i could be wrong.  maybe you are optimizing regularly, and
this is an unrelated issue ... but it's the first thing i'd double check
-- how does maxDoc compare with numDoc? what is the relative size of index
before/after an optimize? what is the relative number of terms
before/after an optime?)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 05:34:34 2006
Return-Path: <java-user-return-18496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54628 invoked from network); 24 Jan 2006 05:34:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 05:34:34 -0000
Received: (qmail 85631 invoked by uid 500); 24 Jan 2006 05:34:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85601 invoked by uid 500); 24 Jan 2006 05:34:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 10625 invoked by uid 99); 24 Jan 2006 00:00:48 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of oschnaps@gmail.com designates 64.233.162.207 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=EqjZfZBgY/g6HBlQQpUHtfWWJZ9kj5J417vWSTljd/DaxFCRvpOnQg20AtbmGbJjOQ67KRbstbscwmcCizByYDfeaPi9pQiXn/equ44ledrQqkekC6dvez3KW3QF/d0zTt3HWKNrR6i1wkDL4C7ULJd1yNRUcjN1vn9CjZBoPJ4=
Message-ID: <9ab92af00601231600n7f09c70n5dbf4d0e6e6b6c52@mail.gmail.com>
Date: Mon, 23 Jan 2006 19:00:27 -0500
From: Ori Schnaps <oschnaps@gmail.com>
To: java-user@lucene.apache.org
Subject: performance of implication an index with large number of documents.
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Apologies if this question has being asked before on this list.

I am working on an application with a Lucene index whose performance
(response time for a query) has started degrading as its size has
increase.

The index is made up of approximately 10 million documents that have
11 fields.  The average document size is less then 1k.  The index has
a total of 13 million terms.  The total index size is about 2.2 gig.=20
The index is being updated relatively aggressively.  In a 24hr period
there may be any where from 500k to 3 million updates.

What I have noticed is that as the document number increased from 6
million to 10 million, the response time for a query has continually
increased from 0.5 seconds to ~2+ seconds.

I am using a Java j2sdk1.4.2_08 and Lucene 1.4.3.  The container is
tomcat and the java process is allocated 2gig heap.  The heap is
shared between the Lucene index and the end user application.

Our initial inclination is to pull the index out of the application
and load it fully into memory on a separate box.  Anyone have any
experience with performance for index of this nature and what kind of
request time should be expected from Lucene?

thanks
ori

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 05:55:26 2006
Return-Path: <java-user-return-18497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62215 invoked from network); 24 Jan 2006 05:55:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 05:55:26 -0000
Received: (qmail 95835 invoked by uid 500); 24 Jan 2006 05:55:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95595 invoked by uid 500); 24 Jan 2006 05:55:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95570 invoked by uid 99); 24 Jan 2006 05:55:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 21:55:20 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_HAS_ULINE_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.179.219] (HELO web36105.mail.mud.yahoo.com) (66.163.179.219)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 23 Jan 2006 21:55:19 -0800
Received: (qmail 63970 invoked by uid 60001); 24 Jan 2006 05:54:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=1semO0FFjSZoqjg65LRuqPoxYjghHU0jErdC2P12WUC3JmqJher1ObKrtIL3CSLR/2TSqbwKIWfwf5AqJbCWCKgfDP/dzyPM959SF8Y1TryFNiVGDXFWvEBn5GHPxB96nXKE4zXSQcfVRisiV1Ba9/tFRApZr6wOYAv1elCFuUQ=  ;
Message-ID: <20060124055456.63965.qmail@web36105.mail.mud.yahoo.com>
Received: from [203.197.47.185] by web36105.mail.mud.yahoo.com via HTTP; Mon, 23 Jan 2006 21:54:56 PST
Date: Mon, 23 Jan 2006 21:54:56 -0800 (PST)
From: revati joshi <revati_joshi83@yahoo.com>
Subject: Reindexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-1315253012-1138082096=:61934"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1315253012-1138082096=:61934
Content-Type: multipart/alternative; boundary="0-78446221-1138082096=:61934"

--0-78446221-1138082096=:61934
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit



Note: forwarded message attached.

			
---------------------------------
Yahoo! Photos
 Got holiday prints? See all the ways to get quality prints in your hands ASAP.
--0-78446221-1138082096=:61934
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<DIV id=RTEContent><BR><BR>Note: forwarded message attached.</DIV><p>
	
		<hr size=1>Yahoo! Photos<br> 
Got holiday prints? <a href="http://us.rd.yahoo.com/mail_us/taglines/holidayprints/*http://pa.yahoo.com/*http://us.rd.yahoo.com/mail_us/taglines/photos/evt=38089/*http://pg.photos.yahoo.com/ph//print_splash">See all the ways</a> to get quality prints in your hands ASAP.
--0-78446221-1138082096=:61934--
--0-1315253012-1138082096=:61934
Content-Type: message/rfc822
Content-Transfer-Encoding: 8bit

X-Apparently-To: revati_joshi83@yahoo.com via 66.163.179.222; Mon, 23 Jan 2006 09:07:36 -0800
X-Originating-IP: [209.237.227.199]
Authentication-Results: mta133.mail.mud.yahoo.com
  from=yahoo.com; domainkeys=fail (bad sig)
Received: from 209.237.227.199  (HELO mail.apache.org) (209.237.227.199)
  by mta133.mail.mud.yahoo.com with SMTP; Mon, 23 Jan 2006 09:07:35 -0800
Received: (qmail 45020 invoked by uid 500); 23 Jan 2006 17:07:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45009 invoked by uid 99); 23 Jan 2006 17:07:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Jan 2006 09:07:28 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_HAS_ULINE_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.179.222] (HELO web36108.mail.mud.yahoo.com) (66.163.179.222)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 23 Jan 2006 09:07:27 -0800
Received: (qmail 3154 invoked by uid 60001); 23 Jan 2006 17:07:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=gGFL2u5iApUN5HgdxeZV3MZ4GIZ0fHyx3rkEGIM9xtb8a+xZnB6hI4SNQ9dlJMG3QkPRvdUbpruqF8lcK9OY1rx1DgwZCMYDFL7zrftXHfgt8MEFSCzTUpbie97xNShnIDTye0Ul1dcgFqxWNsfO8dj8G5ulqMkph9yDPgNP38o=  ;
Received: from [210.214.47.142] by web36108.mail.mud.yahoo.com via HTTP; Mon, 23 Jan 2006 09:07:06 PST
Date: Mon, 23 Jan 2006 09:07:06 -0800 (PST)
From: revati joshi <revati_joshi83@yahoo.com>
Subject: Reindexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1797972033-1138036026=:3150"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
Content-Length: 563

--0-1797972033-1138036026=:3150
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello Lucene members,
                                     I'm the silent member of lucene.I hve being using lucene from last 6 to 8 months.I hve finished with indexing,searching stuff successfully.
  Now i'm stuck up with one stuff i.e reindexing.I got some help from some lucene members abt this.
  For Reindexing lucene uses Lifecycles/Interceptors interface for updating search.
  But  where do i get Lifecycles/Interceptors interface?.whether i hve to download some jar file for it?.
  Quartz is a job scheduler system through which i can achieve reindexing process.
  Which on of this will be better and simple to use?.
  plz suggest some solution to this.
  Thnkx for ur cooperation.
                                            regards,
                                             Revati

			
---------------------------------
Yahoo! Photos
 Got holiday prints? See all the ways to get quality prints in your hands ASAP.
--0-1797972033-1138036026=:3150--


--0-1315253012-1138082096=:61934
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--0-1315253012-1138082096=:61934--

From java-user-return-18498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 10:24:53 2006
Return-Path: <java-user-return-18498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90798 invoked from network); 24 Jan 2006 10:24:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 10:24:40 -0000
Received: (qmail 72481 invoked by uid 500); 24 Jan 2006 10:24:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71485 invoked by uid 500); 24 Jan 2006 10:24:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71474 invoked by uid 99); 24 Jan 2006 10:24:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 02:24:30 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 66.249.92.193 as permitted sender)
Received: from [66.249.92.193] (HELO uproxy.gmail.com) (66.249.92.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 02:24:29 -0800
Received: by uproxy.gmail.com with SMTP id m3so226604uge
        for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 02:24:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=uq6iRtfuVN+3XeYWHOC+Jj2m65WLZ/FuuxN8LYjFp+XCM87AJGweAWY6czgEe6D8dMHu448xTBuGJdSHo//vrJEfWCR+oM7AKwx0oNO8vtqsGJf1fTpDKhZ6ZAE2wCGPkft7c8NfCbDbX4H0RucLp0PP4TBF9bEdkxQOg6Wh2Js=
Received: by 10.48.217.14 with SMTP id p14mr431208nfg;
        Tue, 24 Jan 2006 02:24:07 -0800 (PST)
Received: by 10.49.54.5 with HTTP; Tue, 24 Jan 2006 02:24:07 -0800 (PST)
Message-ID: <88c6a6720601240224y65282eb6ha191eebc618114da@mail.gmail.com>
Date: Tue, 24 Jan 2006 04:24:07 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: performance implications for an index with large number of documents.
In-Reply-To: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How much RAM do you have?  If you're under linux, can you run
something like "iostat -x -d -t 60" and watch your disk usage during
searching?  If your disk utilization is high, add more RAM (enough to
hold your index in RAM) and see if the OS cache solves the problem.  I
would try this before the common approach of loading the index into a
RAMDirectory.  You might even try lowering your java heap to give more
to the OS.

Watch your CPU usage (using tools 'top' or 'sar'), are you CPU-bound?=20
With more info, we can try to pinpoint the bottleneck.

-c

On 1/23/06, Ori Schnaps <oschnaps@gmail.com> wrote:
> Hi,
>
> Apologies if this question has being asked before on this list.
>
> I am working on an application with a Lucene index whose performance
> (response time for a query) has started degrading as its size has
> increase.
>
> The index is made up of approximately 10 million documents that have
> 11 fields.  The average document size is less then 1k.  The index has
> a total of 13 million terms.  The total index size is about 2.2 gig.
> The index is being updated relatively aggressively.  In a 24hr period
> there may be any where from 500k to 3 million updates.
>
> What I have noticed is that as the document number increased from 6
> million to 10 million, the response time for a query has continually
> increased from 0.5 seconds to ~2+ seconds.
>
> I am using a Java j2sdk1.4.2_08 and Lucene 1.4.3.  The container is
> tomcat and the java process is allocated 2gig heap.  The heap is
> shared between the Lucene index and the end user application.
>
> Our initial inclination is to pull the index out of the application
> and load it fully into memory on a separate box.  Anyone have any
> experience with performance for index of this nature and what kind of
> request time should be expected from Lucene?
>
> thanks
> ori
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 10:37:56 2006
Return-Path: <java-user-return-18499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98862 invoked from network); 24 Jan 2006 10:37:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 10:37:55 -0000
Received: (qmail 86411 invoked by uid 500); 24 Jan 2006 10:37:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86378 invoked by uid 500); 24 Jan 2006 10:37:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86367 invoked by uid 99); 24 Jan 2006 10:37:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 02:37:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 02:37:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id ED1A613E2029; Tue, 24 Jan 2006 05:37:25 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 92BF013E202B
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 05:36:50 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <044f01c62033$1b124180$ca03010a@theoldstore.propelsystems.com>
References: <044f01c62033$1b124180$ca03010a@theoldstore.propelsystems.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8B3A2F97-EC85-40DA-BA21-A1745C20C4C9@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Range queries
Date: Tue, 24 Jan 2006 05:36:46 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 23, 2006, at 10:38 AM, Gwyn Carwardine wrote:
> Two queries about ranges:
>
> 1. field:[a TO z] does not return the same as field:[z TO a]
>
> I think it should. The standard QueryParser or even the range query  
> should
> ascertain the lowest and highest and switch them around if necessary

This is quite debatable.  I personally don't think the ends of the  
ranges should be swapped when the left one is greater than the right  
one.  The word "TO" indicates the user is supplying the ends already  
in order.

But if the consensus was to adjust it, I wouldn't object.

> 2. How do I search for negative numbers in a range. For example  
> field:[-3 TO
> 2] ?
>
> I don't mind hacking code such that my numbers are indexed as  
> +00000001 and
> -00000001 and then I can override the query parser to change my  
> query to
> [-0000003 TO +0000002]. However.. "+" is less then "-" in Ascii  
> terms so a
> range search isn't going to work terrifically well.. Is there a  
> standard
> approach??

You could leave the "+" off for positive numbers.  That'd do the  
trick, right?  "-" < "0" lexicographically.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 11:00:46 2006
Return-Path: <java-user-return-18500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9482 invoked from network); 24 Jan 2006 11:00:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 11:00:33 -0000
Received: (qmail 10364 invoked by uid 500); 24 Jan 2006 11:00:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10339 invoked by uid 500); 24 Jan 2006 11:00:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10326 invoked by uid 99); 24 Jan 2006 11:00:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:00:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:00:05 -0800
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id 2501D253EF9
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 10:59:40 +0000 (GMT)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: RE: Range queries
Date: Tue, 24 Jan 2006 10:55:50 -0000
Message-ID: <05b001c620d4$bd3aa2d0$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AcYg0kBDauZ168tKTP6z8Rtx1FRN1gAAOgIA
In-Reply-To: <8B3A2F97-EC85-40DA-BA21-A1745C20C4C9@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>> 2. How do I search for negative numbers in a range. For example  
>> field:[-3 TO
>> 2] ?
>>
>> I don't mind hacking code such that my numbers are indexed as  
>> +00000001 and
>> -00000001 and then I can override the query parser to change my  
>> query to
>> [-0000003 TO +0000002]. However.. "+" is less then "-" in Ascii  
>> terms so a
>> range search isn't going to work terrifically well.. Is there a  
>> standard
>> approach??
>
>You could leave the "+" off for positive numbers.  That'd do the  
>trick, right?  "-" < "0" lexicographically.
>
>	Erik

Hi Erik, 

good point! Of course it still doesn't work because "-3" is greater then
"-2" !

I've done something else where 0 is represented by 10000000000000000000
Any positive number has a "1" followed by the number left padded with zeroes
to length 19 

12345 is therefore 10000000000000012345

Any negative number has a "0" followed by (number - long.minvalue) left
padded with zeroes to length 19

-12345 is therefore 09223372036854763463

This will work fine. Of course it got much more difficult with floating
numbers where you have to mess around with a positive and negative mantissa
and exponent. But it was doable.

-g


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 11:02:03 2006
Return-Path: <java-user-return-18501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10184 invoked from network); 24 Jan 2006 11:02:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 11:02:02 -0000
Received: (qmail 12209 invoked by uid 500); 24 Jan 2006 11:01:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12075 invoked by uid 500); 24 Jan 2006 11:01:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12064 invoked by uid 99); 24 Jan 2006 11:01:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:01:54 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (asf.osuosl.org: transitioning domain of Allan.Dewar@bipsolutions.com does not designate 213.228.203.184 as permitted sender)
Received: from [213.228.203.184] (HELO mail2.virtual-email.net) (213.228.203.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:01:54 -0800
Received: from mailx07.virtual-email.net ([213.228.203.165]) by mail2.virtual-email.net with Microsoft SMTPSVC(6.0.3790.1830); Tue, 24 Jan 2006 11:01:11 +0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Selecting the maxium/highest numerical value from a lucene Index)
Date: Tue, 24 Jan 2006 11:01:06 -0000
Message-ID: <F30CB8C5AB1C7E438852B9F1000EBFD6011D3120@mailx07.virtual-email.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Selecting the maxium/highest numerical value from a lucene Index)
Importance: normal
Priority: normal
Thread-Index: AcYgVrXAJYktKxyfS66b+syxxW1JiQAfnl1Q
From: "Allan Dewar" <Allan.Dewar@bipsolutions.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 Jan 2006 11:01:11.0065 (UTC) FILETIME=[7C35A090:01C620D5]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the suggestions...

I've only been using Lucene for a few months, so will go with the sort
option for now and see how that works.

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]=20
Sent: 23 January 2006 19:53
To: java-user@lucene.apache.org
Subject: Re: Selecting the maxium/highest numerical value from a lucene
Index)

On 1/23/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> use a TermEnum to iterate over all the values of the field,=20
> remembering the "previous" value each time untill you run out of=20
> values

Bummer that you can't step backwards with a TermEnum... finding the
first term is cheap, but finding the last is expensive.

How feasible would it be to add a prev() to TermEnum?  Would it be worth
it?  It seems like it would be useful for numeric fields to be able to
quickly find the max as well as the min without filling the fieldcache.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


______________________________________________       =20
This email has been scanned by Netintelligence       =20
http://www.netintelligence.com/email



*************************************************************************=
***
This e-mail (and any attachment) is intended only for the attention of =
the addressee(s). Its unauthorised use, disclosure, storage or copying =
is not permitted. If you are not the intended recipient, please destroy =
all copies and inform the sender by return e-mail.
This e-mail (whether you are the sender or the recipient) may be =
monitored, recorded and retained by BiP Solutions Ltd.=20
E-mail monitoring/ blocking software may be used, and e-mail content may =
be read at any time.You have a responsibility to ensure laws are not =
broken when composing or forwarding e-mails and their contents.
*************************************************************************=
***

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 11:49:02 2006
Return-Path: <java-user-return-18502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30900 invoked from network); 24 Jan 2006 11:48:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 11:48:53 -0000
Received: (qmail 67336 invoked by uid 500); 24 Jan 2006 11:48:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66811 invoked by uid 500); 24 Jan 2006 11:48:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66800 invoked by uid 99); 24 Jan 2006 11:48:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:48:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.76] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:48:34 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C620DC.1C631966"
Subject: Lucene Web Site
Date: Tue, 24 Jan 2006 11:48:11 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE5857BB@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Web Site
Thread-Index: AcYg3A1b8LnfZgnmR0uFjCi0bBt7JA==
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C620DC.1C631966
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

How do you go about getting our product listed on the Powered By Lucene
web site (http://wiki.apache.org/jakarta-lucene/PoweredBy) and latest
new in the Wiki.

=20

Many Thanks

=20

Mike

=20

www.ardentia.com


------_=_NextPart_001_01C620DC.1C631966--

From java-user-return-18503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 11:51:26 2006
Return-Path: <java-user-return-18503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32386 invoked from network); 24 Jan 2006 11:51:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 11:51:25 -0000
Received: (qmail 71041 invoked by uid 500); 24 Jan 2006 11:51:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70593 invoked by uid 500); 24 Jan 2006 11:51:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70582 invoked by uid 99); 24 Jan 2006 11:51:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:51:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 03:51:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6ADEA13E201A; Tue, 24 Jan 2006 06:50:57 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id D0FBF13E201A
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 06:49:43 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <0B1C92228C5C8D45AA7450F78B3FB9DE5857BB@staf-exm-01.ardentia.co.uk>
References: <0B1C92228C5C8D45AA7450F78B3FB9DE5857BB@staf-exm-01.ardentia.co.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <718A900B-857E-40FF-8166-5105CE3E9F11@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene Web Site
Date: Tue, 24 Jan 2006 06:49:41 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Jan 24, 2006, at 6:48 AM, Mike Streeton wrote:
> How do you go about getting our product listed on the Powered By  
> Lucene
> web site (http://wiki.apache.org/jakarta-lucene/PoweredBy) and latest
> new in the Wiki.

Create a wiki account and add it yourself.  Self-serve.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 12:32:10 2006
Return-Path: <java-user-return-18504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56133 invoked from network); 24 Jan 2006 12:32:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 12:32:10 -0000
Received: (qmail 23726 invoked by uid 500); 24 Jan 2006 12:32:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23691 invoked by uid 500); 24 Jan 2006 12:32:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23680 invoked by uid 99); 24 Jan 2006 12:32:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 04:32:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mta09-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 04:32:03 -0800
Received: from aamta11-winn.ispmail.ntl.com ([81.103.221.35])
          by mta09-winn.ispmail.ntl.com with ESMTP
          id <20060124123141.DXWH15755.mta09-winn.ispmail.ntl.com@aamta11-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Tue, 24 Jan 2006 12:31:41 +0000
Received: from jhi ([81.98.13.34]) by aamta11-winn.ispmail.ntl.com
          with SMTP
          id <20060124123141.IHIF21124.aamta11-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Tue, 24 Jan 2006 12:31:41 +0000
Message-ID: <001801c620e2$24b77b60$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <001b01c6202a$3be95320$b900a8c0@jhi>
Subject: Re: No sub-file with id _18.f0 found
Date: Tue, 24 Jan 2006 12:31:45 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

is there a web page that lists all the files created in a index so i can 
track down the problem im having

im using the latest source via svn and have rebuild using ant

everytime i create an index no-matter how basic i get errors from luke


----- Original Message ----- 
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
Sent: Monday, January 23, 2006 2:35 PM
Subject: No sub-file with id _18.f0 found


hi, when i try to view my index with luke i get the loading error: "No 
sub-file with id _18.f0 found".

any ideas what could be causing this?

im using IndexWriter.setUseCompoundFile(true)

in the past it has worked fine without any problems, im on win xp with java 
1.5



Regards,
me@gekkokid.org.uk 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 13:38:20 2006
Return-Path: <java-user-return-18505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94377 invoked from network); 24 Jan 2006 13:38:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 13:38:19 -0000
Received: (qmail 8955 invoked by uid 500); 24 Jan 2006 13:38:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8702 invoked by uid 500); 24 Jan 2006 13:38:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8683 invoked by uid 99); 24 Jan 2006 13:38:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 05:38:03 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.197 as permitted sender)
Received: from [205.158.62.197] (HELO ws6-2.us4.outblaze.com) (205.158.62.197)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 24 Jan 2006 05:38:01 -0800
Received: (qmail 24764 invoked from network); 24 Jan 2006 12:54:23 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@69.214.178.152)
  by ws6-2.us4.outblaze.com with SMTP; 24 Jan 2006 12:54:23 -0000
Message-ID: <43D6237E.1040008@curtin.com>
Date: Tue, 24 Jan 2006 07:54:22 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: performance implications for an index with large number of documents.
References: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
In-Reply-To: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Ori,

Before taking drastic rehosting measures, and introducing the associated 
software complexity off splitting your application into pieces running 
on separate machines, I'd recommend looking at the way your document 
data is distributed and the way you're searching them.  Here are some 
questions that may help you find a less-complex solution:

-   Is your high ratio of unique terms to documents due to a unique 
identifier in the documents?  If so, are you performing wildcard or 
range searches on that field?

-   Are your queries "canned", i.e. hard-coded in form, or are they "ad 
hoc", coming from users?

-   Do your queries refer to every field you've indexed?  On a similar 
note, does your application use every field you've indexed or stored in 
Lucene?

-   How many documents do your queries hit typically?  How many of those 
hits do you typically use?

-   How important is it that queries are run on up-to-the-second data? 
In other words, would the hits be pretty much as useful if the updates 
were batched up for a few runs per day, instead of continuous?


One of the things I really like about Lucene is that one can quickly 
whip up an application and it basically works.  But, like most 
databases, small differences in organization can produce 
disproportionately large differences in performance when there are 
millions of rows/records/entries.  A little time spent examining data 
distribution and access patterns can go a long way.

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 13:52:47 2006
Return-Path: <java-user-return-18506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3137 invoked from network); 24 Jan 2006 13:52:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 13:52:47 -0000
Received: (qmail 33447 invoked by uid 500); 24 Jan 2006 13:52:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33416 invoked by uid 500); 24 Jan 2006 13:52:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33405 invoked by uid 99); 24 Jan 2006 13:52:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 05:52:42 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 05:52:41 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 24 Jan 2006 14:52:19 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Two strange things in Lucene
Date: Tue, 24 Jan 2006 14:52:19 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003446BA067@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Two strange things in Lucene
Thread-Index: AcYg7WSAsn+yiqIKRN2ZmFOCz4Oegw==
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 Jan 2006 13:52:19.0745 (UTC) FILETIME=[64D1D910:01C620ED]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Today I've been alerted by one of my collegues that our Lucene-based
indexing solution no longer refreshes the searchers and thus we never
get any new indexed documents.

Since I didn't find anything in the log from log4j I did a "kill -3" on
the process and found two very interesting things:

Almost all multisearcher threads were in this state:

"MultiSearcher thread #1" daemon prio=3D10 tid=3D0x0000000001900960
nid=3D0x81442c waiting for monitor entry
[0xfffffd7d269ff000..0xfffffd7d269ffb50]
	at java.util.Vector.size(Vector.java:270)
	- waiting to lock <0xfffffd7f0114ea28> (a java.util.Vector)
	at
org.apache.lucene.search.BooleanQuery$BooleanWeight.<init>(BooleanQuery.
java:95)
	at
org.apache.lucene.search.BooleanQuery.createWeight(BooleanQuery.java:220
)
	at
org.apache.lucene.search.BooleanQuery$BooleanWeight.<init>(BooleanQuery.
java:97)
	at
org.apache.lucene.search.BooleanQuery.createWeight(BooleanQuery.java:220
)
	at org.apache.lucene.search.Query.weight(Query.java:85)
	at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
	at
org.apache.lucene.search.MultiSearcherThread.run(ParallelMultiSearcher.j
ava:251)

And, additionally I found another stacktrace in the stdout-log which I
find interesting:

Exception in thread "MultiSearcher thread #1"
org.apache.lucene.search.BooleanQuery$TooManyClauses
	at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:79)
	at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:71)
	at
org.apache.lucene.search.PrefixQuery.rewrite(PrefixQuery.java:50)
	at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
	at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
	at
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
	at org.apache.lucene.search.Query.weight(Query.java:84)
	at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
	at
org.apache.lucene.search.MultiSearcherThread.run(ParallelMultiSearcher.j
ava:251)


Has anyone ever seen these errors and knows why they might occour?

Thanks in advance,
Daniel Pfeifer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 14:36:58 2006
Return-Path: <java-user-return-18507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31570 invoked from network); 24 Jan 2006 14:36:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 14:36:58 -0000
Received: (qmail 98062 invoked by uid 500); 24 Jan 2006 14:36:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97639 invoked by uid 500); 24 Jan 2006 14:36:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97618 invoked by uid 99); 24 Jan 2006 14:36:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 06:36:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 06:36:47 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B92DE13E2005; Tue, 24 Jan 2006 09:36:25 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id A4B9313E2005
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 09:36:21 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003446BA067@EXHQ01.root.tradedoubler.com>
References: <4BA24A13BFC8B24EBD64FCA6525003446BA067@EXHQ01.root.tradedoubler.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <085199C6-1849-4F6A-A937-7F96E6A5CF64@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Two strange things in Lucene
Date: Tue, 24 Jan 2006 09:36:18 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 24, 2006, at 8:52 AM, Daniel Pfeifer wrote:
> Today I've been alerted by one of my collegues that our Lucene-based
> indexing solution no longer refreshes the searchers and thus we never
> get any new indexed documents.
>
> Since I didn't find anything in the log from log4j I did a "kill  
> -3" on
> the process and found two very interesting things:
>
> Almost all multisearcher threads were in this state:
>
> "MultiSearcher thread #1" daemon prio=10 tid=0x0000000001900960
> nid=0x81442c waiting for monitor entry
> [0xfffffd7d269ff000..0xfffffd7d269ffb50]
> 	at java.util.Vector.size(Vector.java:270)
> 	- waiting to lock <0xfffffd7f0114ea28> (a java.util.Vector)
> 	at
> org.apache.lucene.search.BooleanQuery$BooleanWeight.<init> 
> (BooleanQuery.
> java:95)

I don't know about this one, but guessing that it just happens to be  
a normal state of the system when you killed the process.  *shrugs*

>
> And, additionally I found another stacktrace in the stdout-log which I
> find interesting:
>
> Exception in thread "MultiSearcher thread #1"
> org.apache.lucene.search.BooleanQuery$TooManyClauses


This is a typical occurrence when using Query's that expand such as  
WildcardQuery, RangeQuery, FuzzyQuery, etc.  If users are doing  
queries like a* and there are over 1024 terms that start with "a"  
then you will, by default, blow up WildcardQuery's expansion into a  
BooleanQuery.  You can up that limit on BooleanQuery, or disallow  
those types of queries perhaps.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 14:39:23 2006
Return-Path: <java-user-return-18508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32846 invoked from network); 24 Jan 2006 14:39:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 14:39:23 -0000
Received: (qmail 5710 invoked by uid 500); 24 Jan 2006 14:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5686 invoked by uid 500); 24 Jan 2006 14:39:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5674 invoked by uid 99); 24 Jan 2006 14:39:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 06:39:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 06:39:15 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11/8.12.11) with ESMTP id k0OEcqLY000447
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 14:38:52 GMT
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11/8.12.11/Submit) with ESMTP id k0OEcpI6000442
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 14:38:52 GMT
Received: from [192.168.0.22] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.0.171)
    via ESMTP; Tue, 24 Jan 2006 14:38:51 +0000 (GMT)
Date: Tue, 24 Jan 2006 14:38:50 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <43D63BFA.8090404@scalix.com>
In-Reply-To: <8B3A2F97-EC85-40DA-BA21-A1745C20C4C9@ehatchersolutions.com>
References: <044f01c62033$1b124180$ca03010a@theoldstore.propelsystems.com>
References: <8B3A2F97-EC85-40DA-BA21-A1745C20C4C9@ehatchersolutions.com>
Subject: Re: Range queries
x-scalix-Hops: 1
User-Agent: Mozilla Thunderbird 1.0.7-1.4.1 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>> 2. How do I search for negative numbers in a range. For example  
>> field:[-3 TO
>> 2] ?
>>
>> I don't mind hacking code such that my numbers are indexed as  
>> +00000001 and
>> -00000001 and then I can override the query parser to change my  
>> query to
>> [-0000003 TO +0000002]. However.. "+" is less then "-" in Ascii  
>> terms so a
>> range search isn't going to work terrifically well.. Is there a  
>> standard
>> approach??
>
>
> You could leave the "+" off for positive numbers.  That'd do the  
> trick, right?  "-" < "0" lexicographically.

As Gwyn pointed out, that would make -3 > -2.   Personally, I'd use 
unsigned numbers and shift the range -- for 16 bit numbers I'd map 
-32768..32767 to 0..65535 by adding 32768.  I guess you could do that by 
having overriding getRangeQuery() (LIA, p207 -- wonderful book).

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 14:49:04 2006
Return-Path: <java-user-return-18509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40301 invoked from network); 24 Jan 2006 14:49:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 14:49:03 -0000
Received: (qmail 27697 invoked by uid 500); 24 Jan 2006 14:48:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27675 invoked by uid 500); 24 Jan 2006 14:48:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27664 invoked by uid 99); 24 Jan 2006 14:48:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 06:48:56 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 06:48:55 -0800
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id OAA08651
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 14:54:20 GMT
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma008646; Tue, 24 Jan 06 14:54:04 GMT
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003446BA067@EXHQ01.root.tradedoubler.com>
Subject: Re: Two strange things in Lucene
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF6C16F85B.034396A7-ON80257100.0051149B-80257100.00515E7B@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Tue, 24 Jan 2006 14:51:32 +0000
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 24/01/2006 14:51:34
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






The TooManyClauses exception is due to the prefix query being rewritten to
a boolean query that exceeds the boolean queries maximum number of clauses.
Its an unchecked exception from the search method that you should probably
explicitly catch and then return a helpful message to the user maybe
suggesting they refine their search?

        try
        {
            Hits h = searcher.search(query, filter, sort);

        }
        catch (TooManyClauses e)
        {
            // return a msg to user that the query was too general
        }

Regards

Paul I.



                                                                           
             "Daniel Pfeifer"                                              
             <Daniel.Pfeifer@t                                             
             radedoubler.com>                                           To 
                                       <java-user@lucene.apache.org>       
             24/01/2006 13:52                                           cc 
                                                                           
                                                                   Subject 
             Please respond to         Two strange things in Lucene        
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           




Today I've been alerted by one of my collegues that our Lucene-based
indexing solution no longer refreshes the searchers and thus we never
get any new indexed documents.

Since I didn't find anything in the log from log4j I did a "kill -3" on
the process and found two very interesting things:

Almost all multisearcher threads were in this state:

"MultiSearcher thread #1" daemon prio=10 tid=0x0000000001900960
nid=0x81442c waiting for monitor entry
[0xfffffd7d269ff000..0xfffffd7d269ffb50]
             at java.util.Vector.size(Vector.java:270)
             - waiting to lock <0xfffffd7f0114ea28> (a java.util.Vector)
             at
org.apache.lucene.search.BooleanQuery$BooleanWeight.<init>(BooleanQuery.
java:95)
             at
org.apache.lucene.search.BooleanQuery.createWeight(BooleanQuery.java:220
)
             at
org.apache.lucene.search.BooleanQuery$BooleanWeight.<init>(BooleanQuery.
java:97)
             at
org.apache.lucene.search.BooleanQuery.createWeight(BooleanQuery.java:220
)
             at org.apache.lucene.search.Query.weight(Query.java:85)
             at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
             at
org.apache.lucene.search.MultiSearcherThread.run(ParallelMultiSearcher.j
ava:251)

And, additionally I found another stacktrace in the stdout-log which I
find interesting:

Exception in thread "MultiSearcher thread #1"
org.apache.lucene.search.BooleanQuery$TooManyClauses
             at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:79)
             at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:71)
             at
org.apache.lucene.search.PrefixQuery.rewrite(PrefixQuery.java:50)
             at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
             at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
             at
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
             at org.apache.lucene.search.Query.weight(Query.java:84)
             at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
             at
org.apache.lucene.search.MultiSearcherThread.run(ParallelMultiSearcher.j
ava:251)


Has anyone ever seen these errors and knows why they might occour?

Thanks in advance,
Daniel Pfeifer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 15:38:53 2006
Return-Path: <java-user-return-18510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68144 invoked from network); 24 Jan 2006 15:38:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 15:38:53 -0000
Received: (qmail 55870 invoked by uid 500); 24 Jan 2006 15:38:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55845 invoked by uid 500); 24 Jan 2006 15:38:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55834 invoked by uid 99); 24 Jan 2006 15:38:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 07:38:46 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.58] (HELO web50304.mail.yahoo.com) (206.190.38.58)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 24 Jan 2006 07:38:46 -0800
Received: (qmail 51740 invoked by uid 60001); 24 Jan 2006 15:38:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=1bErKO0hWRBoykwd9BuzQI+F+SmQd1HAfd+6SEMWeHugMQnsibUhxi/YBLKpdFvh4YWMqvE0A0ndBvSgU3ewItShr175O4HvXcWXEsYiQsdHBlj2eoOH7y1bLrSsgVSjISilaH5vhOWp3W6rGpOghhTtXTUZNDYmYOZ9icw2etQ=  ;
Message-ID: <20060124153825.51738.qmail@web50304.mail.yahoo.com>
Date: Tue, 24 Jan 2006 07:38:25 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: No sub-file with id _18.f0 found
To: java-user@lucene.apache.org
In-Reply-To: <001801c620e2$24b77b60$b900a8c0@jhi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Look for File Formats page on the left side of Lucene's home page.  Some of that is also in Appendix B of Lucene in Action, but the web version is more up to date.

Otis

----- Original Message ----
From: gekkokid <me@gekkokid.org.uk>
To: java-user@lucene.apache.org
Sent: Tue 24 Jan 2006 07:31:45 AM EST
Subject: Re: No sub-file with id _18.f0 found

is there a web page that lists all the files created in a index so i can 
track down the problem im having

im using the latest source via svn and have rebuild using ant

everytime i create an index no-matter how basic i get errors from luke


----- Original Message ----- 
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
Sent: Monday, January 23, 2006 2:35 PM
Subject: No sub-file with id _18.f0 found


hi, when i try to view my index with luke i get the loading error: "No 
sub-file with id _18.f0 found".

any ideas what could be causing this?

im using IndexWriter.setUseCompoundFile(true)

in the past it has worked fine without any problems, im on win xp with java 
1.5



Regards,
me@gekkokid.org.uk 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 16:39:42 2006
Return-Path: <java-user-return-18511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1609 invoked from network); 24 Jan 2006 16:39:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 16:39:42 -0000
Received: (qmail 649 invoked by uid 500); 24 Jan 2006 16:39:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 629 invoked by uid 500); 24 Jan 2006 16:39:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 618 invoked by uid 99); 24 Jan 2006 16:39:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 08:39:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of oschnaps@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 08:39:34 -0800
Received: by zproxy.gmail.com with SMTP id k1so1261147nzf
        for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 08:39:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rSvyYj9Ba65tgjZvHrnNY9YUqz7X7nO8dcq4tOJ163+1jQ6TATyi59umsIgnAk9Xza9CSR4YDig+3moPQWhfnYfRSGh+XyM/PX5G5625vaVvv60Z6VU645WTGUnFwPz1twPP3jhKQZUrZxCO9VJcONWn4BYRDKOBe/gV7wj8Y0o=
Received: by 10.36.31.8 with SMTP id e8mr4773430nze;
        Tue, 24 Jan 2006 08:39:13 -0800 (PST)
Received: by 10.36.126.19 with HTTP; Tue, 24 Jan 2006 08:39:11 -0800 (PST)
Message-ID: <9ab92af00601240839q489d068cw1a6d4acd93cd0127@mail.gmail.com>
Date: Tue, 24 Jan 2006 11:39:11 -0500
From: Ori Schnaps <oschnaps@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: performance implications for an index with large number of documents.
In-Reply-To: <43D6237E.1040008@curtin.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9ab92af00601231625l5da3307fo6fd2f974ea7ccd65@mail.gmail.com>
	 <43D6237E.1040008@curtin.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi,

Thank you for all the quick and pertinent responses.

The index is being optimized every hour due to the number of updates.=20
The JVM has a heap of 2gig and the machine has a total of 4.=20
Currently the JVM is not configured with -server parameter and the
parallel garbage collection (we are testing that configuration).

The high ration of unique terms in the documents is mainly due to two
sets of unique identifiers.  The larger set does not need to be index
since that key is not utilize it in any query and as such we are going
to change that field to UnIndex from Keyword.

The queries are ad hoc, i.e. from users.  There is one primary field
that is used for the initially query.  The other fields are used as
filters on the data.

The initial query can return several thousand results.  Out of the
total hits we typically use the top 100 - 200.

As for the need for the aggressive updates, shrug, a business decision.

thanks much,
ori

On 1/24/06, Michael D. Curtin <mike@curtin.com> wrote:
> Hi Ori,
>
> Before taking drastic rehosting measures, and introducing the associated
> software complexity off splitting your application into pieces running
> on separate machines, I'd recommend looking at the way your document
> data is distributed and the way you're searching them.  Here are some
> questions that may help you find a less-complex solution:
>
> -   Is your high ratio of unique terms to documents due to a unique
> identifier in the documents?  If so, are you performing wildcard or
> range searches on that field?
>
> -   Are your queries "canned", i.e. hard-coded in form, or are they "ad
> hoc", coming from users?
>
> -   Do your queries refer to every field you've indexed?  On a similar
> note, does your application use every field you've indexed or stored in
> Lucene?
>
> -   How many documents do your queries hit typically?  How many of those
> hits do you typically use?
>
> -   How important is it that queries are run on up-to-the-second data?
> In other words, would the hits be pretty much as useful if the updates
> were batched up for a few runs per day, instead of continuous?
>
>
> One of the things I really like about Lucene is that one can quickly
> whip up an application and it basically works.  But, like most
> databases, small differences in organization can produce
> disproportionately large differences in performance when there are
> millions of rows/records/entries.  A little time spent examining data
> distribution and access patterns can go a long way.
>
> Good luck!
>
> --MDC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 17:42:42 2006
Return-Path: <java-user-return-18512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36843 invoked from network); 24 Jan 2006 17:42:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 17:42:41 -0000
Received: (qmail 10148 invoked by uid 500); 24 Jan 2006 17:42:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10044 invoked by uid 500); 24 Jan 2006 17:42:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10014 invoked by uid 99); 24 Jan 2006 17:42:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 09:42:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nick@neoworks.com designates 80.168.17.114 as permitted sender)
Received: from [80.168.17.114] (HELO hermes.neoworks.co.uk) (80.168.17.114)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 09:42:32 -0800
Received: from kronos.neoworks.co.uk (kronos.neoworks.co.uk [10.0.0.132])
	by hermes.neoworks.co.uk (8.13.1/8.13.1) with ESMTP id k0OHSEYi006096
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 17:28:16 GMT
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: Sorting by calculated custom score at search time
Date: Tue, 24 Jan 2006 17:42:06 -0000
Message-ID: <DDEB64C8619AC64DBC074208B046611C852AE8@kronos.neoworks.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting by calculated custom score at search time
Thread-Index: AcYhDX5hSKyN/N2yRAWRZ0THAMM85Q==
From: "Nick Vincent" <nick@neoworks.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am trying to find a way to create scores with a custom formula based
on the initial score from Lucene and field values from each document,
e.g. for each document:

 finalScore =3D searchScore * (popularity) * (userRating)

The customer requires this functionality as I have to replace an
existing system that works like this.  User rating and popularity are
already available and will be stored in Lucene.  I've looked through LIA
and the approaches there don't seem to fit the requirement:

5.1.6 Sorting by multiple fields: only sorts by one field, then the
next, I need to combine the scores
6.1 Using a custom sort method: does not take into account the
document's original score

>From an earlier thread discussing a calculated score based on the hit
score and the age of document I gather that TSS regenerate their indexes
to alter the document boost based on date.  I need to be able to sort by
either relevance or "popularity rated relevance" depending on user
input, so I don't think adding a precalculated document boost at index
time is an option.

In the worst case scenario I'll need to iterate through the hits and
then sort them in memory myself, but I'm looking to be indexing around
500,000 documents, and in this particular application there are a lot of
common keywords, so a large number of hits for a basic query is common.
I'm trying to avoid this as it's an untidy solution which is likely to
be (relatively) slow.

I notice Erik has commented that "I've not come across a really clean
way to do this sort of age-based =20
boosting other than how TSS does it".  I was wondering if anyone has any
experience with dirtier approaches they could share with me?

Any help is really appreciated,

Thanks,

Nick
=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 18:02:54 2006
Return-Path: <java-user-return-18513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51362 invoked from network); 24 Jan 2006 18:02:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 18:02:53 -0000
Received: (qmail 50658 invoked by uid 500); 24 Jan 2006 18:02:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50629 invoked by uid 500); 24 Jan 2006 18:02:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50618 invoked by uid 99); 24 Jan 2006 18:02:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 10:02:45 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.130] (HELO uksmtp3.uk.informa.com) (213.212.68.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 10:02:43 -0800
Received: from ukexfe01.UK.CorpLAN.net (unverified) by uksmtp3.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T7609fd3d2ac0a82d14120c@uksmtp3.uk.informa.com> for 
    <java-user@lucene.apache.org>; Tue, 24 Jan 2006 18:02:12 +0000
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.121]) by 
    ukexfe01.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.1830); Tue, 24 
    Jan 2006 18:02:12 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Sorting by calculated custom score at search time
Date: Tue, 24 Jan 2006 18:02:11 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F29F@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Sorting by calculated custom score at search time
Thread-Index: AcYhDX5hSKyN/N2yRAWRZ0THAMM85QAAiUpQ
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 Jan 2006 18:02:12.0141 (UTC) 
    FILETIME=[4CFBEDD0:01C62110]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nick Vincent [mailto:nick@neoworks.com] wrote:

[snip]

> From an earlier thread discussing a calculated score based on the hit
> score and the age of document I gather that TSS regenerate their
indexes
> to alter the document boost based on date.  I need to be able to sort
by
> either relevance or "popularity rated relevance" depending on user
> input, so I don't think adding a precalculated document boost at index
> time is an option.

The easiest way I can think of would be to build two indexes - one with
popularity boosted documents and one without, and search the one you
want.=20

Alternatively, if you have to have a single index, you could add each
document twice, once with no boost, and once with "popularity" boost,
and specify a keyword field for each document defining whether it's
boosted or not. Then, when you want to search, restrict results to
documents where the keyword is "boosted" or "notboosted" respectively.

Both fairly low tech solutions, but I'm lazy like that!

Cheers,

Tim.



***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 21:32:50 2006
Return-Path: <java-user-return-18514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69399 invoked from network); 24 Jan 2006 21:32:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 21:32:49 -0000
Received: (qmail 57191 invoked by uid 500); 24 Jan 2006 21:32:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57168 invoked by uid 500); 24 Jan 2006 21:32:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57157 invoked by uid 99); 24 Jan 2006 21:32:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 13:32:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 13:32:42 -0800
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id 4D9C4253B82
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 21:32:14 +0000 (GMT)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: Highlighter
Date: Tue, 24 Jan 2006 21:28:23 -0000
Message-ID: <065c01c6212d$1b05aec0$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AcYhLRq3xGz04Az/TD6tJBMwGhbTlA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm using the .net port of highlighter (1.5) and I notice it doesn't
highlight range or prefix queries.. Is this consistent with the java
version? Only I note my standard reference of www.lucenebook.com seems to
support highlighting.. is this using that same highlighter version (couldn't
find any verison info on the lucene apache site)

TIA

-Gwyn


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 22:23:25 2006
Return-Path: <java-user-return-18515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96424 invoked from network); 24 Jan 2006 22:23:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 22:23:25 -0000
Received: (qmail 61085 invoked by uid 500); 24 Jan 2006 22:23:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60817 invoked by uid 500); 24 Jan 2006 22:23:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60805 invoked by uid 99); 24 Jan 2006 22:23:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:23:18 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.3 as permitted sender)
Received: from [219.125.112.3] (HELO nm05omta053.dion.ne.jp) (219.125.112.3)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 24 Jan 2006 14:23:16 -0800
Received: from sekiguchi ([59.135.110.181])
	by nm05mta.dion.ne.jp
	id <20060125072254551.MA31.8091320@nm05mta.dion.ne.jp>;
	Wed, 25 Jan 2006 07:22:54 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Highlighter
Date: Wed, 25 Jan 2006 07:22:53 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCKECBCDAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <065c01c6212d$1b05aec0$ca03010a@theoldstore.propelsystems.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've never used .net port of Lucene and highlighter,
but I believe we have to call Query.rewrite()
to expand the query expression when using
phrasequery, wildcardquery, regexquery and fuzzyquery,
then pass it to highlighter.

hope this helps,

Koji


> -----Original Message-----
> From: Gwyn Carwardine [mailto:gwyn@carwardine.net]
> Sent: Wednesday, January 25, 2006 6:28 AM
> To: java-user@lucene.apache.org
> Subject: Highlighter
> 
> 
> I'm using the .net port of highlighter (1.5) and I notice it doesn't
> highlight range or prefix queries.. Is this consistent with the java
> version? Only I note my standard reference of www.lucenebook.com seems to
> support highlighting.. is this using that same highlighter 
> version (couldn't
> find any verison info on the lucene apache site)
> 
> TIA
> 
> -Gwyn
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 22:37:49 2006
Return-Path: <java-user-return-18516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3322 invoked from network); 24 Jan 2006 22:37:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 22:37:48 -0000
Received: (qmail 87701 invoked by uid 500); 24 Jan 2006 22:37:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87681 invoked by uid 500); 24 Jan 2006 22:37:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87669 invoked by uid 99); 24 Jan 2006 22:37:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:37:43 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:37:41 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A14ED5B7B0; Tue, 24 Jan 2006 14:37:12 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9EAB37F403
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 14:37:12 -0800 (PST)
Date: Tue, 24 Jan 2006 14:37:12 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Range queries
In-Reply-To: <43D63BFA.8090404@scalix.com>
Message-ID: <Pine.LNX.4.58.0601241428130.9793@hal.rescomp.berkeley.edu>
References: <044f01c62033$1b124180$ca03010a@theoldstore.propelsystems.com>
 <43D63BFA.8090404@scalix.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: As Gwyn pointed out, that would make -3 > -2.   Personally, I'd use
: unsigned numbers and shift the range -- for 16 bit numbers I'd map
: -32768..32767 to 0..65535 by adding 32768.  I guess you could do that by
: having overriding getRangeQuery() (LIA, p207 -- wonderful book).

there are a lot of different techniques for encoding numeric values as
lexigraphically ordered strings, finding the right soluation for any
given case depends mainly on what hte scope of your values is -- if
you're only ever dealing with the numbers 1-10, there are some really
easy options.  If you want something that can handle any "long" take a
look at the NumberTools class in SVN.  Even if what you want is something
that can handle any int, the technique used in that class can be still be
applied.


As for the query parsing aspect -- subclassing and overriding the
getRangeQuery method to know which fields to encode using your method of
choice is the very easy to do.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 22:46:24 2006
Return-Path: <java-user-return-18517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6965 invoked from network); 24 Jan 2006 22:46:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 22:46:24 -0000
Received: (qmail 5560 invoked by uid 500); 24 Jan 2006 22:46:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5539 invoked by uid 500); 24 Jan 2006 22:46:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5528 invoked by uid 99); 24 Jan 2006 22:46:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:46:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.48] (HELO mta08-winn.ispmail.ntl.com) (81.103.221.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:46:17 -0800
Received: from aamta10-winn.ispmail.ntl.com ([81.103.221.35])
          by mta08-winn.ispmail.ntl.com with ESMTP
          id <20060124224556.IQCA8724.mta08-winn.ispmail.ntl.com@aamta10-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Tue, 24 Jan 2006 22:45:56 +0000
Received: from jhi ([81.98.13.34]) by aamta10-winn.ispmail.ntl.com
          with SMTP
          id <20060124224556.LIBJ21315.aamta10-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Tue, 24 Jan 2006 22:45:56 +0000
Message-ID: <007801c62137$f26a79e0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <DDEB64C8619AC64DBC074208B046611C852AE8@kronos.neoworks.co.uk>
Subject: Re: Sorting by calculated custom score at search time
Date: Tue, 24 Jan 2006 22:45:57 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

how does TSS boost by date? give a small boost increase like 0.1 or 0.2 x 
(ArticlePublishDate - IndexCreationDate)?


----- Original Message ----- 
From: "Nick Vincent" <nick@neoworks.com>
To: <java-user@lucene.apache.org>
Sent: Tuesday, January 24, 2006 5:42 PM
Subject: Sorting by calculated custom score at search time

I notice Erik has commented that "I've not come across a really clean
way to do this sort of age-based
boosting other than how TSS does it".  I was wondering if anyone has any
experience with dirtier approaches they could share with me?

Any help is really appreciated,

Thanks,

Nick


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 22:48:22 2006
Return-Path: <java-user-return-18518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8778 invoked from network); 24 Jan 2006 22:48:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 22:48:21 -0000
Received: (qmail 9474 invoked by uid 500); 24 Jan 2006 22:48:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9455 invoked by uid 500); 24 Jan 2006 22:48:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9444 invoked by uid 99); 24 Jan 2006 22:48:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:48:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:48:15 -0800
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id 5FC95252B5C
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 22:47:48 +0000 (GMT)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: RE: Highlighter
Date: Tue, 24 Jan 2006 22:43:53 -0000
Message-ID: <066701c62137$a75cc2f0$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AcYhNMfBCDFfOqqpSQ6gSmDP00aqgQAAm0Sg
In-Reply-To: <PKEIKOCKCHNIIHNECPCCKECBCDAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes I think you're right. On reading the "lucene in action" chapted on
highlighting I found it squirreled in the middle of the text. I get the
feeling that whilst I have so far found query parser to be the primary
method of building queries that this is not ht eprimary method used by other
people. Otherwise I would have expected to see the first example in the book
use query parser. So what I'm not quite sure is how come the norm is using
the direct queries.

it helped, thanks

-Gwyn

-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp] 
Sent: 24 January 2006 22:23
To: java-user@lucene.apache.org
Subject: RE: Highlighter

I've never used .net port of Lucene and highlighter,
but I believe we have to call Query.rewrite()
to expand the query expression when using
phrasequery, wildcardquery, regexquery and fuzzyquery,
then pass it to highlighter.

hope this helps,

Koji


> -----Original Message-----
> From: Gwyn Carwardine [mailto:gwyn@carwardine.net]
> Sent: Wednesday, January 25, 2006 6:28 AM
> To: java-user@lucene.apache.org
> Subject: Highlighter
> 
> 
> I'm using the .net port of highlighter (1.5) and I notice it doesn't
> highlight range or prefix queries.. Is this consistent with the java
> version? Only I note my standard reference of www.lucenebook.com seems to
> support highlighting.. is this using that same highlighter 
> version (couldn't
> find any verison info on the lucene apache site)
> 
> TIA
> 
> -Gwyn
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 22:55:14 2006
Return-Path: <java-user-return-18519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14389 invoked from network); 24 Jan 2006 22:55:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 22:55:13 -0000
Received: (qmail 16950 invoked by uid 500); 24 Jan 2006 22:55:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16930 invoked by uid 500); 24 Jan 2006 22:55:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16919 invoked by uid 99); 24 Jan 2006 22:55:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:55:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 14:55:00 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 23D405B773; Tue, 24 Jan 2006 14:54:40 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 214177F403
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 14:54:40 -0800 (PST)
Date: Tue, 24 Jan 2006 14:54:40 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Sorting by calculated custom score at search time
In-Reply-To: <DDEB64C8619AC64DBC074208B046611C852AE8@kronos.neoworks.co.uk>
Message-ID: <Pine.LNX.4.58.0601241447050.9793@hal.rescomp.berkeley.edu>
References: <DDEB64C8619AC64DBC074208B046611C852AE8@kronos.neoworks.co.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



Take a look at the org.apache.lucene.search.function package in SVN.  It
provides an API that allows you to define "function" classes that can
compute a score for each document using whatever means you want.  The
overall FunctionQuery can then be wrapped in a BooleanQuery along with
whateer other search critera you have.

5 basic functions have been included that can be composed in all sorts of
interesting ways to compute scores based on document values for a
particular field (or the relative ordinal positions in the FieldCache for
that field)


: Date: Tue, 24 Jan 2006 17:42:06 -0000
: From: Nick Vincent <nick@neoworks.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Sorting by calculated custom score at search time
:
: Hi,
:
: I am trying to find a way to create scores with a custom formula based
: on the initial score from Lucene and field values from each document,
: e.g. for each document:
:
:  finalScore = searchScore * (popularity) * (userRating)
:
: The customer requires this functionality as I have to replace an
: existing system that works like this.  User rating and popularity are
: already available and will be stored in Lucene.  I've looked through LIA
: and the approaches there don't seem to fit the requirement:
:
: 5.1.6 Sorting by multiple fields: only sorts by one field, then the
: next, I need to combine the scores
: 6.1 Using a custom sort method: does not take into account the
: document's original score
:
: >From an earlier thread discussing a calculated score based on the hit
: score and the age of document I gather that TSS regenerate their indexes
: to alter the document boost based on date.  I need to be able to sort by
: either relevance or "popularity rated relevance" depending on user
: input, so I don't think adding a precalculated document boost at index
: time is an option.
:
: In the worst case scenario I'll need to iterate through the hits and
: then sort them in memory myself, but I'm looking to be indexing around
: 500,000 documents, and in this particular application there are a lot of
: common keywords, so a large number of hits for a basic query is common.
: I'm trying to avoid this as it's an untidy solution which is likely to
: be (relatively) slow.
:
: I notice Erik has commented that "I've not come across a really clean
: way to do this sort of age-based
: boosting other than how TSS does it".  I was wondering if anyone has any
: experience with dirtier approaches they could share with me?
:
: Any help is really appreciated,
:
: Thanks,
:
: Nick
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 23:05:46 2006
Return-Path: <java-user-return-18520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20570 invoked from network); 24 Jan 2006 23:05:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 23:05:46 -0000
Received: (qmail 34880 invoked by uid 500); 24 Jan 2006 23:05:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34860 invoked by uid 500); 24 Jan 2006 23:05:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34849 invoked by uid 99); 24 Jan 2006 23:05:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:05:40 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.207 as permitted sender)
Received: from [66.249.92.207] (HELO uproxy.gmail.com) (66.249.92.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:05:40 -0800
Received: by uproxy.gmail.com with SMTP id e2so10926ugf
        for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 15:05:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=MmYcon/rQ2QS08Bso6MoF5N9VCtt+vGXQZg+R5zm8GnCD4NoOvhleKIzOlcFWbGE2Rl2P+3P1hvfw310Zsrqz2h/WRQiGlTwSI26wTNx45TnQzaxA++aHwuwn2MU1HOeFSwbqkvo+T9U1v2oMH7yKfdUICdV1UveSsEMFQ07+o0=
Received: by 10.49.20.9 with SMTP id x9mr4172nfi;
        Tue, 24 Jan 2006 15:05:18 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Tue, 24 Jan 2006 15:05:18 -0800 (PST)
Message-ID: <c68e39170601241505y16cfb798g576a23a4be8241f8@mail.gmail.com>
Date: Tue, 24 Jan 2006 18:05:18 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorting by calculated custom score at search time
In-Reply-To: <Pine.LNX.4.58.0601241447050.9793@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <DDEB64C8619AC64DBC074208B046611C852AE8@kronos.neoworks.co.uk>
	 <Pine.LNX.4.58.0601241447050.9793@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It's not in subversion yet though ;-)

You have to look here:
http://issues.apache.org/jira/browse/LUCENE-446

I haven't committed it, because we may be able to do better (maybe
removing the difference between Query and ValueSource so you could
freely mix the two and not have to wrap ValueSource in a
FunctionQuery).

-Yonik


On 1/24/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> Take a look at the org.apache.lucene.search.function package in SVN.  It
> provides an API that allows you to define "function" classes that can
> compute a score for each document using whatever means you want.  The
> overall FunctionQuery can then be wrapped in a BooleanQuery along with
> whateer other search critera you have.
>
> 5 basic functions have been included that can be composed in all sorts of
> interesting ways to compute scores based on document values for a
> particular field (or the relative ordinal positions in the FieldCache for
> that field)
>
>
> : Date: Tue, 24 Jan 2006 17:42:06 -0000
> : From: Nick Vincent <nick@neoworks.com>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: Sorting by calculated custom score at search time
> :
> : Hi,
> :
> : I am trying to find a way to create scores with a custom formula based
> : on the initial score from Lucene and field values from each document,
> : e.g. for each document:
> :
> :  finalScore =3D searchScore * (popularity) * (userRating)
> :
> : The customer requires this functionality as I have to replace an
> : existing system that works like this.  User rating and popularity are
> : already available and will be stored in Lucene.  I've looked through LI=
A
> : and the approaches there don't seem to fit the requirement:
> :
> : 5.1.6 Sorting by multiple fields: only sorts by one field, then the
> : next, I need to combine the scores
> : 6.1 Using a custom sort method: does not take into account the
> : document's original score
> :
> : >From an earlier thread discussing a calculated score based on the hit
> : score and the age of document I gather that TSS regenerate their indexe=
s
> : to alter the document boost based on date.  I need to be able to sort b=
y
> : either relevance or "popularity rated relevance" depending on user
> : input, so I don't think adding a precalculated document boost at index
> : time is an option.
> :
> : In the worst case scenario I'll need to iterate through the hits and
> : then sort them in memory myself, but I'm looking to be indexing around
> : 500,000 documents, and in this particular application there are a lot o=
f
> : common keywords, so a large number of hits for a basic query is common.
> : I'm trying to avoid this as it's an untidy solution which is likely to
> : be (relatively) slow.
> :
> : I notice Erik has commented that "I've not come across a really clean
> : way to do this sort of age-based
> : boosting other than how TSS does it".  I was wondering if anyone has an=
y
> : experience with dirtier approaches they could share with me?
> :
> : Any help is really appreciated,
> :
> : Thanks,
> :
> : Nick
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 23:14:01 2006
Return-Path: <java-user-return-18521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24852 invoked from network); 24 Jan 2006 23:14:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 23:14:01 -0000
Received: (qmail 49831 invoked by uid 500); 24 Jan 2006 23:13:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49712 invoked by uid 500); 24 Jan 2006 23:13:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49656 invoked by uid 99); 24 Jan 2006 23:13:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:13:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:13:48 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D81A45B773; Tue, 24 Jan 2006 15:13:25 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D579C7F403
	for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 15:13:25 -0800 (PST)
Date: Tue, 24 Jan 2006 15:13:25 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Sorting by calculated custom score at search time
In-Reply-To: <c68e39170601241505y16cfb798g576a23a4be8241f8@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601241508020.11460@hal.rescomp.berkeley.edu>
References: <DDEB64C8619AC64DBC074208B046611C852AE8@kronos.neoworks.co.uk> 
 <Pine.LNX.4.58.0601241447050.9793@hal.rescomp.berkeley.edu>
 <c68e39170601241505y16cfb798g576a23a4be8241f8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: It's not in subversion yet though ;-)
:
: You have to look here:
: http://issues.apache.org/jira/browse/LUCENE-446

Whoops ... sorry about that.  I forget how far out on the bleeding edge
the code I'm using is sometimes :)

It definitely works right now, so you should give it a shot -- but you may
not want to invest *too* heavily in integrating it into your code if the
API is still in flux.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 23:47:15 2006
Return-Path: <java-user-return-18522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42802 invoked from network); 24 Jan 2006 23:47:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 23:47:15 -0000
Received: (qmail 1331 invoked by uid 500); 24 Jan 2006 23:47:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1306 invoked by uid 500); 24 Jan 2006 23:47:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1295 invoked by uid 99); 24 Jan 2006 23:47:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:47:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.78.21.129] (HELO mis011-2.exch011.intermedia.net) (64.78.21.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:47:09 -0800
Received: from ehost011-3.exch011.intermedia.net ([64.78.21.96]) by mis011-2.exch011.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 24 Jan 2006 15:46:48 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C62140.711755D2"
Subject: Keyword fields, Porter stemming, and QueryParser
Date: Tue, 24 Jan 2006 15:46:48 -0800
Message-ID: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC04@ehost011-3.exch011.intermedia.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Keyword fields, Porter stemming, and QueryParser
thread-index: AcYhQHEUrBQE0chYREKRs5TCUQJBPw==
From: "Dmitry Goldenberg" <dmitry.goldenberg@weblayers.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 Jan 2006 23:46:48.0679 (UTC) FILETIME=[71293F70:01C62140]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C62140.711755D2
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I'm having a problem with keyword fields and how they're treated by =
QueryParser.
=20
At indexing time, I index my documents, as follows:
=20
 Content - tokenized, indexed field (the default field)
 DocType - not tokenized, indexed, stored field
 ....... - other fields
=20
The analyzer I use utilizes Porter stemming.
=20
At searching time, a query may come from the application's front end, as =
follows:
=20
 +Content:"content model" AND DocType:xls
=20
I use the same analyzer as the one used for indexing:
=20
      QueryParser parser =3D new QueryParser("Content", getAnalyzer());
      Query query =3D parser.parse(strQuery); // strQuery is =
+Content:"content model" AND DocType:xls
=20
When this Query is built, the second clause gets represented in it as =
DocType:xl -
I guess the 's' gets dropped due to the stemming.
=20
What I have in the index is actually DocType:xls.  So, the query does =
not bring back the expected results.
=20
Has anyone run into this issue? How do I work around it?
=20
Thanks,
- Dmitry

------_=_NextPart_001_01C62140.711755D2--

From java-user-return-18523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 24 23:53:18 2006
Return-Path: <java-user-return-18523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45707 invoked from network); 24 Jan 2006 23:53:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Jan 2006 23:53:18 -0000
Received: (qmail 11081 invoked by uid 500); 24 Jan 2006 23:53:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10055 invoked by uid 500); 24 Jan 2006 23:53:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10040 invoked by uid 99); 24 Jan 2006 23:53:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:53:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.78.21.129] (HELO mis011-2.exch011.intermedia.net) (64.78.21.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 15:53:13 -0800
Received: from ehost011-3.exch011.intermedia.net ([64.78.21.96]) by mis011-2.exch011.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 24 Jan 2006 15:52:52 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C62141.49B8D0ED"
Subject: java.io.IOException: read past EOF in BufferedIndexInput.refill
Date: Tue, 24 Jan 2006 15:52:52 -0800
Message-ID: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC05@ehost011-3.exch011.intermedia.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: java.io.IOException: read past EOF in BufferedIndexInput.refill
thread-index: AcYhQUmz+8kaFBJ7Tym4afilnI3/Dg==
From: "Dmitry Goldenberg" <dmitry.goldenberg@weblayers.com>
To: <java-user@lucene.apache.org>
Cc: <java-dev@lucene.apache.org>
X-OriginalArrivalTime: 24 Jan 2006 23:52:52.0458 (UTC) FILETIME=[49FD84A0:01C62141]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C62141.49B8D0ED
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Has anyone seen this exception and been able to resolve the cause?  I =
have seen numerous mentions of it in the Lucene lists archives but no =
resolutions, looks like.  Anyone? Thanks.
=20
java.io.IOException: read past EOF
 at =
org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java=
:62)
 at =
org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.ja=
va:33)
 at org.apache.lucene.store.IndexInput.readVInt(IndexInput.java:56)
 at org.apache.lucene.index.FieldInfos.read(FieldInfos.java:279)
 at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:58)
 at =
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:144)
 at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
 at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:110)
 at =
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:674)
 at =
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
 at =
org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.java:628=
)
 at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:508)
 at =
com.weblayers.core.search.lucene.IndexerImpl.index(IndexerImpl.java:170) =

=20

------_=_NextPart_001_01C62141.49B8D0ED--

From java-user-return-18524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 00:13:57 2006
Return-Path: <java-user-return-18524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54369 invoked from network); 25 Jan 2006 00:13:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 00:13:57 -0000
Received: (qmail 31430 invoked by uid 500); 25 Jan 2006 00:13:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31388 invoked by uid 500); 25 Jan 2006 00:13:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31377 invoked by uid 99); 25 Jan 2006 00:13:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 16:13:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.78.21.128] (HELO mis011-1.exch011.intermedia.net) (64.78.21.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 16:13:50 -0800
Received: from ehost011-3.exch011.intermedia.net ([64.78.21.96]) by mis011-1.exch011.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 24 Jan 2006 16:13:29 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C62144.2B66299C"
Subject: RE: java.io.IOException: read past EOF in BufferedIndexInput.refill
Date: Tue, 24 Jan 2006 16:12:09 -0800
Message-ID: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC08@ehost011-3.exch011.intermedia.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC08@ehost011-3.exch011.intermedia.net>
Thread-Topic: java.io.IOException: read past EOF in BufferedIndexInput.refill
thread-index: AcYhQUmz+8kaFBJ7Tym4afilnI3/DgAArHjJ
References: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC05@ehost011-3.exch011.intermedia.net>
From: "Dmitry Goldenberg" <dmitry.goldenberg@weblayers.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 25 Jan 2006 00:13:29.0984 (UTC) FILETIME=[2B9D0000:01C62144]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C62144.2B66299C
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I see some mentions of NoOpDirectory, as in
http://www.gossamer-threads.com/lists/lucene/java-user/14064?search_strin=
g=3Dread%20past%20EOF;#14064
=20
which point to the Lucene bug tracker. I just searched the Lucene JIRA =
and didn't find anything related to NoOpDirectory.  Any clues?

________________________________

From: Dmitry Goldenberg [mailto:dmitry.goldenberg@weblayers.com]
Sent: Tue 1/24/2006 3:52 PM
To: java-user@lucene.apache.org
Cc: java-dev@lucene.apache.org
Subject: java.io.IOException: read past EOF in BufferedIndexInput.refill



Has anyone seen this exception and been able to resolve the cause?  I =
have seen numerous mentions of it in the Lucene lists archives but no =
resolutions, looks like.  Anyone? Thanks.

java.io.IOException: read past EOF
 at =
org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java=
:62)
 at =
org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.ja=
va:33)
 at org.apache.lucene.store.IndexInput.readVInt(IndexInput.java:56)
 at org.apache.lucene.index.FieldInfos.read(FieldInfos.java:279)
 at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:58)
 at =
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:144)
 at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
 at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:110)
 at =
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:674)
 at =
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
 at =
org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.java:628=
)
 at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:508)
 at =
com.weblayers.core.search.lucene.IndexerImpl.index(IndexerImpl.java:170)





------_=_NextPart_001_01C62144.2B66299C
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C62144.2B66299C--

From java-user-return-18525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 01:06:14 2006
Return-Path: <java-user-return-18525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75961 invoked from network); 25 Jan 2006 01:06:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 01:06:14 -0000
Received: (qmail 78137 invoked by uid 500); 25 Jan 2006 01:06:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78112 invoked by uid 500); 25 Jan 2006 01:06:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78101 invoked by uid 99); 25 Jan 2006 01:06:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 17:06:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of davekor@gmail.com designates 64.233.184.195 as permitted sender)
Received: from [64.233.184.195] (HELO wproxy.gmail.com) (64.233.184.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 17:06:08 -0800
Received: by wproxy.gmail.com with SMTP id i7so70087wra
        for <java-user@lucene.apache.org>; Tue, 24 Jan 2006 17:05:47 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=GtUow5N+tLx9F8YRn+UHlqZxtBIP/kZTuIG68g4D10YopzWISTZiSzqnHxpR27g+y6UvDTfjKy3lRrOU/wg4TFMTcMstsayTWt4enrssPqJ+zcGXvj0JNb3GkpAdIVBX+yLrmyOJxOzNKfw+dsIpJ6+GChTNAwOi9pWMdtbjGSQ=
Received: by 10.54.109.13 with SMTP id h13mr309897wrc;
        Tue, 24 Jan 2006 17:05:46 -0800 (PST)
Received: by 10.54.131.9 with HTTP; Tue, 24 Jan 2006 17:05:46 -0800 (PST)
Message-ID: <901c03930601241705g3337e7bew7416a47b5eee1fe3@mail.gmail.com>
Date: Wed, 25 Jan 2006 09:05:46 +0800
From: Dave Kor <davekor@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Keyword fields, Porter stemming, and QueryParser
In-Reply-To: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC04@ehost011-3.exch011.intermedia.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC04@ehost011-3.exch011.intermedia.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If reindexing doesn't take too much time and effor, you can reindex
using the PerFieldAnalyzerWrapper to have different analyzers for each
field.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 05:48:26 2006
Return-Path: <java-user-return-18526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91582 invoked from network); 25 Jan 2006 05:48:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 05:48:26 -0000
Received: (qmail 11099 invoked by uid 500); 25 Jan 2006 05:48:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11069 invoked by uid 500); 25 Jan 2006 05:48:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11058 invoked by uid 99); 25 Jan 2006 05:48:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 21:48:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jan 2006 21:48:18 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 24 Jan 2006 21:33:23 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: RE: Highlighter
Date: Wed, 25 Jan 2006 11:20:26 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcYhMs0ddeebC8oOTN23gx9cZ2XiaQAQEdGQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <PKEIKOCKCHNIIHNECPCCKECBCDAA.koji.sekiguchi@m4.dion.ne.jp>
Message-ID: <KINGdZhotjCjWEF0HG000000e4d@King.Siti.com>
X-OriginalArrivalTime: 25 Jan 2006 05:33:25.0125 (UTC) FILETIME=[DCCF1350:01C62170]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi ,

I am also have some problem with highlighter when I want to highlight
specific field in the lucene it is not working....


Thanks

Ravi Kumar Jaladanki

-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp] 
Sent: Wednesday, January 25, 2006 3:53 AM
To: java-user@lucene.apache.org
Subject: RE: Highlighter

I've never used .net port of Lucene and highlighter,
but I believe we have to call Query.rewrite()
to expand the query expression when using
phrasequery, wildcardquery, regexquery and fuzzyquery,
then pass it to highlighter.

hope this helps,

Koji


> -----Original Message-----
> From: Gwyn Carwardine [mailto:gwyn@carwardine.net]
> Sent: Wednesday, January 25, 2006 6:28 AM
> To: java-user@lucene.apache.org
> Subject: Highlighter
> 
> 
> I'm using the .net port of highlighter (1.5) and I notice it doesn't
> highlight range or prefix queries.. Is this consistent with the java
> version? Only I note my standard reference of www.lucenebook.com seems to
> support highlighting.. is this using that same highlighter 
> version (couldn't
> find any verison info on the lucene apache site)
> 
> TIA
> 
> -Gwyn
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 11:24:45 2006
Return-Path: <java-user-return-18527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42709 invoked from network); 25 Jan 2006 11:24:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 11:24:08 -0000
Received: (qmail 51984 invoked by uid 500); 25 Jan 2006 11:23:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51912 invoked by uid 500); 25 Jan 2006 11:23:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51797 invoked by uid 99); 25 Jan 2006 11:23:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:23:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:23:48 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C7DCE13E2005; Wed, 25 Jan 2006 06:23:25 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 52B9213E2005
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 06:22:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <KINGdZhotjCjWEF0HG000000e4d@King.Siti.com>
References: <KINGdZhotjCjWEF0HG000000e4d@King.Siti.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2A479DA2-91B9-4497-A5DE-A1AB022A1CAC@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter
Date: Wed, 25 Jan 2006 06:22:23 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 25, 2006, at 12:50 AM, Ravi wrote:
> I am also have some problem with highlighter when I want to highlight
> specific field in the lucene it is not working....

Improvements were made to the Highlighter in December to add field- 
specific highlighting capability.  Here's the svn log:

-----
r351504 | mharwood | 2005-12-01 17:18:33 -0500 (Thu, 01 Dec 2005) | 1  
line

Added support for field-specific highlighting which respects the  
fieldnames found in queries. Pass a field name to the QueryScorer in  
order to only select those field's query terms for highlighting.  
Updated JUnit tests too.
------

You will need to rebuild the Highlighter (contrib/highlighter in  
Subversion) to get this change, and the Highlighter code depends on  
the trunk version of Lucene.  You'll either need to upgrade to the  
latest trunk code of Lucene and the Highlighter, or figure out how to  
backport the Highlighter changes to a 1.4.3 compatible version.  My  
recommendation is to upgrade to the trunk of Lucene and Highlighter.

	Erik




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 11:28:51 2006
Return-Path: <java-user-return-18528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45340 invoked from network); 25 Jan 2006 11:28:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 11:28:46 -0000
Received: (qmail 58225 invoked by uid 500); 25 Jan 2006 11:28:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57940 invoked by uid 500); 25 Jan 2006 11:28:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57926 invoked by uid 99); 25 Jan 2006 11:28:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:28:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.76] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:28:32 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Range queries
Date: Wed, 25 Jan 2006 11:28:09 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE585A22@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Range queries
Thread-Index: AcYhNs0hArFC9aOTShOyPUoTbhNSIAAasrTA
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I can recommend this method, this is how we do it, but what we store in
the index is the long converted to a 16 digit number hex. The extended
parser converts entered queries containing longs field to have hex. We
obviously also do the conversion before we display the value. Floating
point numbers are more difficult and so far I have used the same
technique to do fixed position floats.

Mike

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: 24 January 2006 22:37
To: java-user@lucene.apache.org
Subject: Re: Range queries


: As Gwyn pointed out, that would make -3 > -2.   Personally, I'd use
: unsigned numbers and shift the range -- for 16 bit numbers I'd map
: -32768..32767 to 0..65535 by adding 32768.  I guess you could do that
by
: having overriding getRangeQuery() (LIA, p207 -- wonderful book).

there are a lot of different techniques for encoding numeric values as
lexigraphically ordered strings, finding the right soluation for any
given case depends mainly on what hte scope of your values is -- if
you're only ever dealing with the numbers 1-10, there are some really
easy options.  If you want something that can handle any "long" take a
look at the NumberTools class in SVN.  Even if what you want is
something
that can handle any int, the technique used in that class can be still
be
applied.


As for the query parsing aspect -- subclassing and overriding the
getRangeQuery method to know which fields to encode using your method of
choice is the very easy to do.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 11:32:29 2006
Return-Path: <java-user-return-18529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46653 invoked from network); 25 Jan 2006 11:32:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 11:32:27 -0000
Received: (qmail 63798 invoked by uid 500); 25 Jan 2006 11:32:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63773 invoked by uid 500); 25 Jan 2006 11:32:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63762 invoked by uid 99); 25 Jan 2006 11:32:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:32:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:32:21 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 386D913E2029; Wed, 25 Jan 2006 06:31:58 -0500 (EST)
Received: from [172.16.1.101] (va-71-48-129-167.dhcp.sprint-hsd.net [71.48.129.167])
	by ehatchersolutions.com (Postfix) with ESMTP id 4ACD113E201A
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 06:30:53 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <066701c62137$a75cc2f0$ca03010a@theoldstore.propelsystems.com>
References: <066701c62137$a75cc2f0$ca03010a@theoldstore.propelsystems.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <15F51F3E-552C-4541-BF49-23C2EBA92CD0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter
Date: Wed, 25 Jan 2006 06:30:48 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 24, 2006, at 5:43 PM, Gwyn Carwardine wrote:

> Yes I think you're right. On reading the "lucene in action" chapted on
> highlighting I found it squirreled in the middle of the text. I get  
> the
> feeling that whilst I have so far found query parser to be the primary
> method of building queries that this is not ht eprimary method used  
> by other
> people. Otherwise I would have expected to see the first example in  
> the book
> use query parser. So what I'm not quite sure is how come the norm  
> is using
> the direct queries.

Highlighting and QueryParser aren't related.  How you build or  
generate the Query object is irrelevant to the Highlighter.

It is true that in my applications, use of QueryParser is only a  
small piece of how the Query gets built and in one project I've  
created an entirely different and custom expression parser (for  
legacy syntax compatibility reasons, as well as to support  
sophisticated SpanQuery constructions).

I believe the first example in Lucene in Action does use QueryParser,  
the Searcher.java code in Chapter 1.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 11:45:39 2006
Return-Path: <java-user-return-18530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51432 invoked from network); 25 Jan 2006 11:44:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 11:44:23 -0000
Received: (qmail 85879 invoked by uid 500); 25 Jan 2006 11:44:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85586 invoked by uid 500); 25 Jan 2006 11:44:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85575 invoked by uid 99); 25 Jan 2006 11:44:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:44:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 03:44:00 -0800
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id EFF3F25484D
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 11:43:34 +0000 (GMT)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: RE: Highlighter
Date: Wed, 25 Jan 2006 11:39:39 -0000
Message-ID: <075801c621a4$06cf7450$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AcYhowL6gU92iWX7TNmGlJ63mBuLWQAADg1g
In-Reply-To: <15F51F3E-552C-4541-BF49-23C2EBA92CD0@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>> Yes I think you're right. On reading the "lucene in action" chapted on
>> highlighting I found it squirreled in the middle of the text. I get  
>> the
>> feeling that whilst I have so far found query parser to be the primary
>> method of building queries that this is not ht eprimary method used  
>> by other
>> people. Otherwise I would have expected to see the first example in  
>> the book
>> use query parser. So what I'm not quite sure is how come the norm  
>> is using
>> the direct queries.

>Highlighting and QueryParser aren't related.  How you build or  
>generate the Query object is irrelevant to the Highlighter.
>
>It is true that in my applications, use of QueryParser is only a  
>small piece of how the Query gets built and in one project I've  
>created an entirely different and custom expression parser (for  
>legacy syntax compatibility reasons, as well as to support  
>sophisticated SpanQuery constructions).
>
>I believe the first example in Lucene in Action does use QueryParser,  
>the Searcher.java code in Chapter 1.
>
>	Erik

Hi Erik, from my point of view Highlighter and QueryParser ARE related when
talking about the process of highlighting. If you've generated your Query
through the use of QueryParser then you really must call the Query.Rewrite
before you pass the query to the scorer which goes on to the highlighter.

When I said the first example what I meant was the first example in section
8.7 "Highlighting query terms". It looks like a very simple example but for
me it was not a realistic example. When I see these things I want to cut and
paste and use as a starting point but in this case it didn't do what I
expected and I ended up confused..

Please take my comments as constructive feedback solely from my perspective.
Please do not take it as criticism of your excellent book!

-Gwyn



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 12:01:35 2006
Return-Path: <java-user-return-18531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58959 invoked from network); 25 Jan 2006 12:00:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 12:00:36 -0000
Received: (qmail 16223 invoked by uid 500); 25 Jan 2006 12:00:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16200 invoked by uid 500); 25 Jan 2006 12:00:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16186 invoked by uid 99); 25 Jan 2006 12:00:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 04:00:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.76] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 04:00:17 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Range queries
Date: Wed, 25 Jan 2006 11:59:55 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE585A4C@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Range queries
Thread-Index: AcYhNs0hArFC9aOTShOyPUoTbhNSIAAasrTAAAE3eVA=
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry forgot to mention what you do for floats is take everything to the
left of decimal point encode this to 16 digit hex (via long) then append
of decimal point and everything following it. The only problem we tend
to find is searching across large ranges either produces an exception
about too many Boolean queries or does not return any results at all.

Mike

-----Original Message-----
From: Mike Streeton [mailto:mike.streeton@ardentia.co.uk]=20
Sent: 25 January 2006 11:28
To: java-user@lucene.apache.org
Subject: RE: Range queries

I can recommend this method, this is how we do it, but what we store in
the index is the long converted to a 16 digit number hex. The extended
parser converts entered queries containing longs field to have hex. We
obviously also do the conversion before we display the value. Floating
point numbers are more difficult and so far I have used the same
technique to do fixed position floats.

Mike

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: 24 January 2006 22:37
To: java-user@lucene.apache.org
Subject: Re: Range queries


: As Gwyn pointed out, that would make -3 > -2.   Personally, I'd use
: unsigned numbers and shift the range -- for 16 bit numbers I'd map
: -32768..32767 to 0..65535 by adding 32768.  I guess you could do that
by
: having overriding getRangeQuery() (LIA, p207 -- wonderful book).

there are a lot of different techniques for encoding numeric values as
lexigraphically ordered strings, finding the right soluation for any
given case depends mainly on what hte scope of your values is -- if
you're only ever dealing with the numbers 1-10, there are some really
easy options.  If you want something that can handle any "long" take a
look at the NumberTools class in SVN.  Even if what you want is
something
that can handle any int, the technique used in that class can be still
be
applied.


As for the query parsing aspect -- subclassing and overriding the
getRangeQuery method to know which fields to encode using your method of
choice is the very easy to do.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 12:29:16 2006
Return-Path: <java-user-return-18532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71217 invoked from network); 25 Jan 2006 12:29:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 12:29:16 -0000
Received: (qmail 65873 invoked by uid 500); 25 Jan 2006 12:29:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65278 invoked by uid 500); 25 Jan 2006 12:29:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65267 invoked by uid 99); 25 Jan 2006 12:29:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 04:29:08 -0800
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [80.168.70.143] (HELO relay3.mail.uk.clara.net) (80.168.70.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 04:29:08 -0800
Received: from [217.158.27.252] (helo=SRV-VL-EX-01.visitlondon.com)
	by relay3.mail.uk.clara.net with esmtp (Exim 4.46)
	id 1F1jlW-0003wc-E2
	for java-user@lucene.apache.org; Wed, 25 Jan 2006 12:28:46 +0000
Content-class: urn:content-classes:message
Subject: Help needed with BooleanQuery formation
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C621AB.5D061EC0"
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.132
Date: Wed, 25 Jan 2006 12:32:10 -0000
Content-Transfer-Encoding: 7bit
Message-ID: <A9EF346005DE024EBA935918D3D63812025DADCA@SRV-VL-EX-01.visitlondon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help needed with BooleanQuery formation
Thread-Index: AcYhq1zA8dZaTdygQxqx4zKmFERuHQ==
From: "Michael Pickard" <mpickard@visitlondon.com>
Priority: normal
Importance: normal
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C621AB.5D061EC0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

 =20
Can anyone help me with the formation of a BooleanQuery ?

I want a query of the form:

x AND ( a OR b OR c OR d)

=20

The nearest I've managed to get is

=20

query.add(new TermQuery(new Term(2, "x")),true,false);

Term term =3D null;

for (int i=3D1; i<numberOfNodes; i++){

term  =3D new Term(IndexLn2.CATEGORY_NODE, (String) nodes.get(i));

query.add(new TermQuery(term),false,false);

}

=20

=20

But this results in a query something similar to:

x AND a OR b OR c OR d

=20

Close, but no cigar.

=20

Thanks in advance,

Mike=20
 =20
Michael Pickard=20
Software Engineer=20
Visit London=20
6th Floor,
2 More London Riverside, London, SE1 2RR=20
 =20
Tel: +44 (0)20 7234 5857=20
Fax: +44 (0)20 7234 5751=20
www.visitlondon.com  =20
 =20
 =20
Visit London is the official visitor organisation for London. Visit =
London is partly funded by Partnership, the Mayor's London Development =
Agency and the Association of London Government.=20
The information contained in this e-mail is confidential and intended =
for the named recipient(s) only.  If you have received it in error, =
please notify the sender immediately and then delete the message.  If =
you are not the intended recipient, you must not use, disclose, copy or =
distribute this email. The views expressed in this e-mail are those of =
the individual and not of Visit London. We reserve the right to read and =
monitor any email or attachment entering or leaving our systems without =
prior notice.=20
=20
 =20

------_=_NextPart_001_01C621AB.5D061EC0--

From java-user-return-18533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 12:33:54 2006
Return-Path: <java-user-return-18533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72998 invoked from network); 25 Jan 2006 12:33:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 12:33:39 -0000
Received: (qmail 74748 invoked by uid 500); 25 Jan 2006 12:33:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74726 invoked by uid 500); 25 Jan 2006 12:33:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74715 invoked by uid 99); 25 Jan 2006 12:33:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 04:33:14 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.152 as permitted sender)
Received: from [205.158.62.152] (HELO ws6-5.us4.outblaze.com) (205.158.62.152)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 25 Jan 2006 04:33:13 -0800
Received: (qmail 17099 invoked from network); 25 Jan 2006 12:32:52 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@69.214.178.152)
  by ws6-5.us4.outblaze.com with SMTP; 25 Jan 2006 12:32:52 -0000
Message-ID: <43D76FF3.2030409@curtin.com>
Date: Wed, 25 Jan 2006 07:32:51 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Help needed with BooleanQuery formation
References: <A9EF346005DE024EBA935918D3D63812025DADCA@SRV-VL-EX-01.visitlondon.com>
In-Reply-To: <A9EF346005DE024EBA935918D3D63812025DADCA@SRV-VL-EX-01.visitlondon.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Michael Pickard wrote:
>   
> Can anyone help me with the formation of a BooleanQuery ?
> 
> I want a query of the form:
> 
> x AND ( a OR b OR c OR d)

You're going to need 2 BooleanQuery objects, one for the OR'd expression 
in parentheses, and another for the AND and expression.  Something like 
this:

BooleanQuery bq_or = new BooleanQuery();
bq_or.add(new TermQuery(new Term("f", "a")), false, false);
bq_or.add(new TermQuery(new Term("f", "b")), false, false);
bq_or.add(new TermQuery(new Term("f", "c")), false, false);
bq_or.add(new TermQuery(new Term("f", "d")), false, false);
BooleanQuery bq_and = new BooleanQuery();
bq_and.add(bq_or, true, false);
bq_and.add(new TermQuery(new Term("f", "x")), true, false);
...
search(bq_and, ...);

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 14:26:12 2006
Return-Path: <java-user-return-18534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41527 invoked from network); 25 Jan 2006 14:26:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 14:26:12 -0000
Received: (qmail 45507 invoked by uid 500); 25 Jan 2006 14:26:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44645 invoked by uid 500); 25 Jan 2006 14:26:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44626 invoked by uid 99); 25 Jan 2006 14:26:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 06:26:06 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 144.167.10.42 is neither permitted nor denied by domain of hemantmjoshi@gmail.com)
Received: from [144.167.10.42] (HELO hermes.ualr.edu) (144.167.10.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 06:26:04 -0800
Received: from mfilter1.ualr.edu ([144.167.10.248])
 by hermes.ualr.edu (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ITN00FHPK2V1E90@hermes.ualr.edu> for
 java-user@lucene.apache.org; Wed, 25 Jan 2006 08:25:43 -0600 (CST)
Received: from [144.167.145.63] (helo=[144.167.145.63])
	by mfilter1.ualr.edu with esmtp (Exim 4.43)
	id 1F1lGW-0005ne-Uf	for java-user@lucene.apache.org; Wed,
 25 Jan 2006 08:04:54 -0600
Date: Wed, 25 Jan 2006 08:32:51 -0600
From: Hemant Joshi <hemantmjoshi@gmail.com>
Subject: MoreDisLikeThis query
To: java-user@lucene.apache.org
Reply-to: hemantmjoshi@gmail.com
Message-id: <43D78C13.1000705@gmail.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
X-No-Spam-Signature: fc43e723684f45ea09ffcc1265c21e30
X-Virus-Defs: 0.86.2/1151/Mon Oct 31 12:34:04 2005
X-Spam-Score: -2.8 (--)
X-Spam-Report: Analysis detail: (-2.8 points,
 4.0 required)	-2.8 ALL_TRUSTED            Did not pass through any untrusted
 hosts
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
           I have looked at MoreLikeThis functionality. I would like to 
add moreDisLikeThis functionality as well. It is important for me to 
learn from similarity as well as dissimilarity with other documents. I 
have done the basic ground work of forming two queries (one with 
MoreLikeThis class for similarity to given documents - query1) and other 
to include high TF terms from documents to avoid (or dislike) as query2.

I combine the 2 queries as
query1 NOT query2 and obtain Hits through searcher.

Is this the way to do it? Does high term frequency indicate most likely 
terms of the document to be represented in the query?
For example, if I would like to search for all documents with term 
cancer, then I can simply search for query +(contents:cancer). If I have 
to look for all documents with cancer as disease and not as a sun sign, 
then probably my query should be +(contents:cancer contents:disease) NOT 
(contents:astrology contents:zodiac)

Any comments would be appreciated.
-Hemant

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 15:10:15 2006
Return-Path: <java-user-return-18535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70298 invoked from network); 25 Jan 2006 15:10:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 15:10:14 -0000
Received: (qmail 43772 invoked by uid 500); 25 Jan 2006 15:10:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43528 invoked by uid 500); 25 Jan 2006 15:10:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43517 invoked by uid 99); 25 Jan 2006 15:10:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 07:10:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 07:10:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E5A4613E2005; Wed, 25 Jan 2006 10:09:42 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 95EBB13E201A
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 09:59:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <075801c621a4$06cf7450$ca03010a@theoldstore.propelsystems.com>
References: <075801c621a4$06cf7450$ca03010a@theoldstore.propelsystems.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EBAAAA33-5D94-4A3E-B063-A5BA9A3D0F83@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter
Date: Wed, 25 Jan 2006 09:52:31 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 25, 2006, at 6:39 AM, Gwyn Carwardine wrote:

>>> Yes I think you're right. On reading the "lucene in action"  
>>> chapted on
>>> highlighting I found it squirreled in the middle of the text. I get
>>> the
>>> feeling that whilst I have so far found query parser to be the  
>>> primary
>>> method of building queries that this is not ht eprimary method used
>>> by other
>>> people. Otherwise I would have expected to see the first example in
>>> the book
>>> use query parser. So what I'm not quite sure is how come the norm
>>> is using
>>> the direct queries.
>
>> Highlighting and QueryParser aren't related.  How you build or
>> generate the Query object is irrelevant to the Highlighter.
>>
>> It is true that in my applications, use of QueryParser is only a
>> small piece of how the Query gets built and in one project I've
>> created an entirely different and custom expression parser (for
>> legacy syntax compatibility reasons, as well as to support
>> sophisticated SpanQuery constructions).
>>
>> I believe the first example in Lucene in Action does use QueryParser,
>> the Searcher.java code in Chapter 1.
>>
>> 	Erik
>
> Hi Erik, from my point of view Highlighter and QueryParser ARE  
> related when
> talking about the process of highlighting. If you've generated your  
> Query
> through the use of QueryParser then you really must call the  
> Query.Rewrite
> before you pass the query to the scorer which goes on to the  
> highlighter.

Again, it doesn't matter about how the Query was created.  It is  
important to call rewrite on it to have queries that expand to expand  
themselves into primitive queries such that the exact terms can be  
extracted by the Highlighter.  For example, if you create a  
WildcardQuery yourself without the parser, you'll still need to call  
rewrite to have the terms expanded.

> When I said the first example what I meant was the first example in  
> section
> 8.7 "Highlighting query terms". It looks like a very simple example  
> but for
> me it was not a realistic example. When I see these things I want  
> to cut and
> paste and use as a starting point but in this case it didn't do what I
> expected and I ended up confused..

That's a fair critique.  I agree that this example was not entirely  
realistic for cut-and-paste, and the coverage of having to do a  
rewrite was barely mentioned in the text.  I'll note this for  
improvement in the 2nd edition (which hopefully will get started in  
the next couple of months).

> Please take my comments as constructive feedback solely from my  
> perspective.
> Please do not take it as criticism of your excellent book!

Thank you!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 18:51:01 2006
Return-Path: <java-user-return-18536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96751 invoked from network); 25 Jan 2006 18:51:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 18:51:01 -0000
Received: (qmail 31055 invoked by uid 500); 25 Jan 2006 18:50:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30123 invoked by uid 500); 25 Jan 2006 18:50:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30111 invoked by uid 99); 25 Jan 2006 18:50:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 10:50:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 10:50:54 -0800
Received: by wproxy.gmail.com with SMTP id i21so168639wra
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 10:50:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=uOAsxvgjvigvpbCSER8rGdG1ISU5dfz/ZeYS67VHBpjCCCVLAlbmBXbiEAQYNaYyoHr9kUzod1bAxM4nBavygo8yN9M6Cl1mQLYM8R3xIqOYMpuLxdmFdbr53JbuQgI/TNrrW1ooBhWrtyg67yFENq+cFCNUkxxrH53XqkIk67Q=
Received: by 10.54.115.8 with SMTP id n8mr547488wrc;
        Wed, 25 Jan 2006 10:49:02 -0800 (PST)
Received: by 10.54.122.20 with HTTP; Wed, 25 Jan 2006 10:50:32 -0800 (PST)
Message-ID: <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
Date: Wed, 25 Jan 2006 13:50:32 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org, shoren@alum.cs.huji.ac.il
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_56546_12212762.1138215032545"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_56546_12212762.1138215032545
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This is just  fyi - in my stress tests on a 8-cpu box (that's 8 real cpus),
the maximum throughput occurred with just 4 query threads. The query
throughput decreased with fewer than 4 or greater than 4 query threads. The
entire index was most likely in the file system cache, too. Periodic
snapshots of stack traces showed most threads blocked in the synchronizatio=
n
in: FSIndexInput.readInternal(), when the thread count exceeded 4.

Peter


On 11/22/05, Oren Shir <shoren@gmail.com> wrote:
>
> Hi,
>
> There are two sunchronization points: on the stream and on the reader.
> Using
> different FSDirectoriy and IndexReaders should solve this. I'll let you
> know
> once I code it. Right now I'm checking if making my Documents store less
> data will move the bottleneck to some other place.
>
> Thanks again,
> Oren Shir
>
> On 11/21/05, Doug Cutting <cutting@apache.org> wrote:
> >
> > Jay Booth wrote:
> > > I had a similar problem with threading, the problem turned out to be
> > that in
> > > the back end of the FSDirectory class I believe it was, there was a
> > > synchronized block on the actual RandomAccessFile resource when
> reading
> > a
> > > block of data from it... high-concurrency situations caused threads t=
o
> > stack
> > > up in front of this synchronized block and our CPU time wound up bein=
g
> > spent
> > > thrashing between blocked threads instead of doing anything useful.
> >
> > This is correct. In Lucene, multiple streams per file are created by
> > cloning, and all clones of an FSDirectory input stream share a
> > RandomAccessFile and must synchronize input from it. MmapDirectory does
> > not have this limitation. If your indexes are less than a few GB or you
> > are using 64-bit hardware, then MmapDirectory should work well for you.
> > Otherwise it would be simple to write an nio-based Directory that does
> > not use mmap that is also unsynchronized. Such a contribution would be
> > welcome.
> >
> > > Making multiple IndexSearchers and FSDirectories didn't help because
> in
> > the
> > > back end, lucene consults a singleton HashMap of some kind (don't
> > remember
> > > implementation) that maintained a single FSDirectory for any given
> index
> > > being accessed from the JVM... multiple calls to
> > FSDirectory.getDirectory
> > > actually return the same FSDirectory object with synchronization at
> the
> > same
> > > point.
> >
> > This does not make sense to me. FSDirectory does keep a cache of
> > FSDirectory instances, but i/o should not be synchronized on these. One
> > should be able to open multiple input streams on the same file from an
> > FSDirectory. But this would not be a great solution, since file handle
> > limits would soon become a problem.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

------=_Part_56546_12212762.1138215032545--

From java-user-return-18537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 18:58:19 2006
Return-Path: <java-user-return-18537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99972 invoked from network); 25 Jan 2006 18:58:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 18:58:18 -0000
Received: (qmail 36728 invoked by uid 500); 25 Jan 2006 18:58:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36703 invoked by uid 500); 25 Jan 2006 18:58:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36692 invoked by uid 99); 25 Jan 2006 18:58:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 10:58:13 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of maustin75@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 10:58:13 -0800
Received: by zproxy.gmail.com with SMTP id i28so179192nzi
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 10:57:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=E8H3JODX2QIB/Wni+T2I6nL9S4W5Ms0goH7Pn1/yqh6pmj9xw8ZUPkk1cg6p7RcYAUaSBcIxPsnkFTXuA7wgLVLtz9i6T1ajSiFkxykRiuHPZzjr7iOH6Cdi0FYxB2gIGF06RCjP14HP35QfFKHPg8EaqxlViIL6vmoW0iCkHxo=
Received: by 10.64.76.13 with SMTP id y13mr546964qba;
        Wed, 25 Jan 2006 10:57:48 -0800 (PST)
Received: by 10.64.76.20 with HTTP; Wed, 25 Jan 2006 10:57:48 -0800 (PST)
Message-ID: <4a6648f60601251057r235abb23p4df36b574d317990@mail.gmail.com>
Date: Wed, 25 Jan 2006 12:57:48 -0600
From: Mike Austin <maustin75@gmail.com>
To: java-user@lucene.apache.org
Subject: how to select top categories.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13107_19598580.1138215468804"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13107_19598580.1138215468804
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I have ~5 million documents that are in categories and subcategories. Let u=
s
say that my query is for search terms in one top-level category and it
returns a large amount of documents and I want to list the top 5
sub-categories by highest count total. I know I can't go one by one countin=
g
through the results because it is too slow.

I really don't care about the counts, I just want the sub-categories with
the most documents in them.

Options that I was thinking about:
1) Do queries for each sub-category using the results of the first initial
query and use the hits count to select the sub-categories to display, but I
might have thousands of sub-categories and it would be too slow..

2) Just select some sub-categories for each top-level category to always
show, but this is bad because that sub-category might not have items found
in it after the initial query.

3) Give-Up, but this is bad also..

Thanks for your help.

------=_Part_13107_19598580.1138215468804--

From java-user-return-18538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 19:07:40 2006
Return-Path: <java-user-return-18538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5878 invoked from network); 25 Jan 2006 19:07:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 19:07:40 -0000
Received: (qmail 53096 invoked by uid 500); 25 Jan 2006 19:07:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53053 invoked by uid 500); 25 Jan 2006 19:07:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53023 invoked by uid 99); 25 Jan 2006 19:07:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:07:29 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.197 as permitted sender)
Received: from [66.249.92.197] (HELO uproxy.gmail.com) (66.249.92.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:07:29 -0800
Received: by uproxy.gmail.com with SMTP id e2so362004ugf
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 11:07:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=A6h4NDFMUneH9x86aGwdfebmP+Cgr1DXN94rS5s7JNJ0I7AYRcibPWWLNYlYBpTF/umqhpCVDy/KWvIG6Te9yYeYRzc5r7FXMG0SyIjIdidyU7DyvdhKOdUGxFXdT9oT9K7UaR+iTQBU62Kwq+uiv0a2o91qUQxGxiMCIb2e974=
Received: by 10.49.26.9 with SMTP id d9mr92718nfj;
        Wed, 25 Jan 2006 11:07:03 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Wed, 25 Jan 2006 11:07:03 -0800 (PST)
Message-ID: <c68e39170601251107m22b74678w9083353cc2890fc0@mail.gmail.com>
Date: Wed, 25 Jan 2006 14:07:03 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
	 <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Peter, that's useful info.

Just out of curiosity, what kind of box is this?  what CPUs?

-Yonik

On 1/25/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> This is just  fyi - in my stress tests on a 8-cpu box (that's 8 real cpus=
),
> the maximum throughput occurred with just 4 query threads. The query
> throughput decreased with fewer than 4 or greater than 4 query threads. T=
he
> entire index was most likely in the file system cache, too. Periodic
> snapshots of stack traces showed most threads blocked in the synchronizat=
ion
> in: FSIndexInput.readInternal(), when the thread count exceeded 4.
>
> Peter
>
>
> On 11/22/05, Oren Shir <shoren@gmail.com> wrote:
> >
> > Hi,
> >
> > There are two sunchronization points: on the stream and on the reader.
> > Using
> > different FSDirectoriy and IndexReaders should solve this. I'll let you
> > know
> > once I code it. Right now I'm checking if making my Documents store les=
s
> > data will move the bottleneck to some other place.
> >
> > Thanks again,
> > Oren Shir
> >
> > On 11/21/05, Doug Cutting <cutting@apache.org> wrote:
> > >
> > > Jay Booth wrote:
> > > > I had a similar problem with threading, the problem turned out to b=
e
> > > that in
> > > > the back end of the FSDirectory class I believe it was, there was a
> > > > synchronized block on the actual RandomAccessFile resource when
> > reading
> > > a
> > > > block of data from it... high-concurrency situations caused threads=
 to
> > > stack
> > > > up in front of this synchronized block and our CPU time wound up be=
ing
> > > spent
> > > > thrashing between blocked threads instead of doing anything useful.
> > >
> > > This is correct. In Lucene, multiple streams per file are created by
> > > cloning, and all clones of an FSDirectory input stream share a
> > > RandomAccessFile and must synchronize input from it. MmapDirectory do=
es
> > > not have this limitation. If your indexes are less than a few GB or y=
ou
> > > are using 64-bit hardware, then MmapDirectory should work well for yo=
u.
> > > Otherwise it would be simple to write an nio-based Directory that doe=
s
> > > not use mmap that is also unsynchronized. Such a contribution would b=
e
> > > welcome.
> > >
> > > > Making multiple IndexSearchers and FSDirectories didn't help becaus=
e
> > in
> > > the
> > > > back end, lucene consults a singleton HashMap of some kind (don't
> > > remember
> > > > implementation) that maintained a single FSDirectory for any given
> > index
> > > > being accessed from the JVM... multiple calls to
> > > FSDirectory.getDirectory
> > > > actually return the same FSDirectory object with synchronization at
> > the
> > > same
> > > > point.
> > >
> > > This does not make sense to me. FSDirectory does keep a cache of
> > > FSDirectory instances, but i/o should not be synchronized on these. O=
ne
> > > should be able to open multiple input streams on the same file from a=
n
> > > FSDirectory. But this would not be a great solution, since file handl=
e
> > > limits would soon become a problem.
> > >
> > > Doug
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 19:15:16 2006
Return-Path: <java-user-return-18539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9112 invoked from network); 25 Jan 2006 19:15:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 19:15:15 -0000
Received: (qmail 65282 invoked by uid 500); 25 Jan 2006 19:15:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65249 invoked by uid 500); 25 Jan 2006 19:15:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65238 invoked by uid 99); 25 Jan 2006 19:15:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:15:09 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:15:08 -0800
Received: from pimout4-ext.prodigy.net (pimout4-int.prodigy.net [207.115.4.203])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0PJEXrk013554
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 14:14:39 -0500
X-ORBL: [69.228.232.128]
Received: from [192.168.168.15] (adsl-69-228-232-128.dsl.pltn13.pacbell.net [69.228.232.128])
	by pimout4-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0PJEcuc216668;
	Wed, 25 Jan 2006 14:14:39 -0500
Message-ID: <43D7CE1E.30100@apache.org>
Date: Wed, 25 Jan 2006 11:14:38 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <43820731.5000806@apache.org>	 <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com> <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
In-Reply-To: <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Keegan wrote:
> This is just  fyi - in my stress tests on a 8-cpu box (that's 8 real cpus),
> the maximum throughput occurred with just 4 query threads. The query
> throughput decreased with fewer than 4 or greater than 4 query threads. The
> entire index was most likely in the file system cache, too. Periodic
> snapshots of stack traces showed most threads blocked in the synchronization
> in: FSIndexInput.readInternal(), when the thread count exceeded 4.

Was this with a compound or non-compound format index?  The non-compound 
should fare slightly better, since there are more file handles per 
index.  Did you try using MMapDirectory?  This should have no i/o 
concurrency limits, but, on 32-bit systems, only works with indexes less 
than a few GB.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 19:31:04 2006
Return-Path: <java-user-return-18540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17365 invoked from network); 25 Jan 2006 19:31:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 19:31:04 -0000
Received: (qmail 89609 invoked by uid 500); 25 Jan 2006 19:31:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89576 invoked by uid 500); 25 Jan 2006 19:30:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89563 invoked by uid 99); 25 Jan 2006 19:30:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:30:59 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.55] (HELO web50301.mail.yahoo.com) (206.190.38.55)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 25 Jan 2006 11:30:58 -0800
Received: (qmail 23377 invoked by uid 60001); 25 Jan 2006 19:30:38 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=hvN2xOWzub/31QwZAPhnsHUZ3sT8waj72DfIW23TxLXqW/kII8nCF+t2RfTQBNgrxEMiFGmvwB7pxgx8TQKGpQm8DSmYmJu5EHpGf8plHxekMsQvVAFX2bE1DoZXfWWTTnWLQ+PLPAY1RG6zdUvL/aHB1e8AYpp1wcOftP0026c=  ;
Message-ID: <20060125193037.23372.qmail@web50301.mail.yahoo.com>
Date: Wed, 25 Jan 2006 11:30:37 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: performance implications for an index with large number of documents.
To: java-user@lucene.apache.org
In-Reply-To: <9ab92af00601240839q489d068cw1a6d4acd93cd0127@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
Quick reactions:
- Do use -server option, it makes a difference, and I don't think there is much to test there (I've never run a daemon-like service without the -server option, and have seen the improvement in performance due to HotSpot with my own eyes)
- Optimizing every hour sounds like a bad idea.  Instead of re-optimizing so often and rewriting the whole index to disk (slow), consider changing your mergeFactor.

Otis

----- Original Message ----
From: Ori Schnaps <oschnaps@gmail.com>
To: java-user@lucene.apache.org
Sent: Tue 24 Jan 2006 11:39:11 AM EST
Subject: Re: performance implications for an index with large number of documents.

hi,

Thank you for all the quick and pertinent responses.

The index is being optimized every hour due to the number of updates. 
The JVM has a heap of 2gig and the machine has a total of 4. 
Currently the JVM is not configured with -server parameter and the
parallel garbage collection (we are testing that configuration).

The high ration of unique terms in the documents is mainly due to two
sets of unique identifiers.  The larger set does not need to be index
since that key is not utilize it in any query and as such we are going
to change that field to UnIndex from Keyword.

The queries are ad hoc, i.e. from users.  There is one primary field
that is used for the initially query.  The other fields are used as
filters on the data.

The initial query can return several thousand results.  Out of the
total hits we typically use the top 100 - 200.

As for the need for the aggressive updates, shrug, a business decision.

thanks much,
ori

On 1/24/06, Michael D. Curtin <mike@curtin.com> wrote:
> Hi Ori,
>
> Before taking drastic rehosting measures, and introducing the associated
> software complexity off splitting your application into pieces running
> on separate machines, I'd recommend looking at the way your document
> data is distributed and the way you're searching them.  Here are some
> questions that may help you find a less-complex solution:
>
> -   Is your high ratio of unique terms to documents due to a unique
> identifier in the documents?  If so, are you performing wildcard or
> range searches on that field?
>
> -   Are your queries "canned", i.e. hard-coded in form, or are they "ad
> hoc", coming from users?
>
> -   Do your queries refer to every field you've indexed?  On a similar
> note, does your application use every field you've indexed or stored in
> Lucene?
>
> -   How many documents do your queries hit typically?  How many of those
> hits do you typically use?
>
> -   How important is it that queries are run on up-to-the-second data?
> In other words, would the hits be pretty much as useful if the updates
> were batched up for a few runs per day, instead of continuous?
>
>
> One of the things I really like about Lucene is that one can quickly
> whip up an application and it basically works.  But, like most
> databases, small differences in organization can produce
> disproportionately large differences in performance when there are
> millions of rows/records/entries.  A little time spent examining data
> distribution and access patterns can go a long way.
>
> Good luck!
>
> --MDC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 19:49:15 2006
Return-Path: <java-user-return-18541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30046 invoked from network); 25 Jan 2006 19:49:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 19:49:15 -0000
Received: (qmail 35423 invoked by uid 500); 25 Jan 2006 19:49:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35395 invoked by uid 500); 25 Jan 2006 19:49:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35384 invoked by uid 99); 25 Jan 2006 19:49:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:49:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.203 as permitted sender)
Received: from [64.233.184.203] (HELO wproxy.gmail.com) (64.233.184.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:49:08 -0800
Received: by wproxy.gmail.com with SMTP id i21so181159wra
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 11:48:47 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mkWAo3jmeitOI4/RDBH9s3RLGlrjHDGz+cRdQZKt0zgzHvGDhC/OLBIXnoXNyVxdutWu5YkWAi1V/OwaAcrzDzaWzdT8KrdeSIvTpCmURR/MmfP7Jv+KyqNykhxrLixGpJxJTPY69Qv6GwFOAB8Eq6uIgKkwZZ4KyUl1VfNyyEI=
Received: by 10.54.92.8 with SMTP id p8mr1361341wrb;
        Wed, 25 Jan 2006 11:48:47 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Wed, 25 Jan 2006 11:48:47 -0800 (PST)
Message-ID: <e994873a0601251148y63ec6d97k48d532882061e204@mail.gmail.com>
Date: Wed, 25 Jan 2006 14:48:47 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <c68e39170601251107m22b74678w9083353cc2890fc0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_29365_32241792.1138218527234"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
	 <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
	 <c68e39170601251107m22b74678w9083353cc2890fc0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_29365_32241792.1138218527234
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

It's a 3GHz Intel box with Xeon processors, 64GB ram :)

Peter


On 1/25/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> Thanks Peter, that's useful info.
>
> Just out of curiosity, what kind of box is this?  what CPUs?
>
> -Yonik
>
> On 1/25/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > This is just  fyi - in my stress tests on a 8-cpu box (that's 8 real
> cpus),
> > the maximum throughput occurred with just 4 query threads. The query
> > throughput decreased with fewer than 4 or greater than 4 query threads.
> The
> > entire index was most likely in the file system cache, too. Periodic
> > snapshots of stack traces showed most threads blocked in the
> synchronization
> > in: FSIndexInput.readInternal(), when the thread count exceeded 4.
> >
> > Peter
> >
> >
> > On 11/22/05, Oren Shir <shoren@gmail.com> wrote:
> > >
> > > Hi,
> > >
> > > There are two sunchronization points: on the stream and on the reader=
.
> > > Using
> > > different FSDirectoriy and IndexReaders should solve this. I'll let
> you
> > > know
> > > once I code it. Right now I'm checking if making my Documents store
> less
> > > data will move the bottleneck to some other place.
> > >
> > > Thanks again,
> > > Oren Shir
> > >
> > > On 11/21/05, Doug Cutting <cutting@apache.org> wrote:
> > > >
> > > > Jay Booth wrote:
> > > > > I had a similar problem with threading, the problem turned out to
> be
> > > > that in
> > > > > the back end of the FSDirectory class I believe it was, there was
> a
> > > > > synchronized block on the actual RandomAccessFile resource when
> > > reading
> > > > a
> > > > > block of data from it... high-concurrency situations caused
> threads to
> > > > stack
> > > > > up in front of this synchronized block and our CPU time wound up
> being
> > > > spent
> > > > > thrashing between blocked threads instead of doing anything
> useful.
> > > >
> > > > This is correct. In Lucene, multiple streams per file are created b=
y
> > > > cloning, and all clones of an FSDirectory input stream share a
> > > > RandomAccessFile and must synchronize input from it. MmapDirectory
> does
> > > > not have this limitation. If your indexes are less than a few GB or
> you
> > > > are using 64-bit hardware, then MmapDirectory should work well for
> you.
> > > > Otherwise it would be simple to write an nio-based Directory that
> does
> > > > not use mmap that is also unsynchronized. Such a contribution would
> be
> > > > welcome.
> > > >
> > > > > Making multiple IndexSearchers and FSDirectories didn't help
> because
> > > in
> > > > the
> > > > > back end, lucene consults a singleton HashMap of some kind (don't
> > > > remember
> > > > > implementation) that maintained a single FSDirectory for any give=
n
> > > index
> > > > > being accessed from the JVM... multiple calls to
> > > > FSDirectory.getDirectory
> > > > > actually return the same FSDirectory object with synchronization
> at
> > > the
> > > > same
> > > > > point.
> > > >
> > > > This does not make sense to me. FSDirectory does keep a cache of
> > > > FSDirectory instances, but i/o should not be synchronized on these.
> One
> > > > should be able to open multiple input streams on the same file from
> an
> > > > FSDirectory. But this would not be a great solution, since file
> handle
> > > > limits would soon become a problem.
> > > >
> > > > Doug
> > > >
> > > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_29365_32241792.1138218527234--

From java-user-return-18542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 19:49:53 2006
Return-Path: <java-user-return-18542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30452 invoked from network); 25 Jan 2006 19:49:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 19:49:52 -0000
Received: (qmail 37381 invoked by uid 500); 25 Jan 2006 19:49:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37355 invoked by uid 500); 25 Jan 2006 19:49:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37344 invoked by uid 99); 25 Jan 2006 19:49:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:49:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:49:46 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8CCFC5B7C2; Wed, 25 Jan 2006 11:49:19 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7A33B7F403
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 11:49:19 -0800 (PST)
Date: Wed, 25 Jan 2006 11:49:19 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Help needed with BooleanQuery formation
In-Reply-To: <A9EF346005DE024EBA935918D3D63812025DADCA@SRV-VL-EX-01.visitlondon.com>
Message-ID: <Pine.LNX.4.58.0601251138540.16267@hal.rescomp.berkeley.edu>
References: <A9EF346005DE024EBA935918D3D63812025DADCA@SRV-VL-EX-01.visitlondon.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I want a query of the form:
:
: x AND ( a OR b OR c OR d)

what your code is currenlty doing is adding 5 term queries to a single
boolean query.

The structure you want is not a single boolean query, it's a boolean query
containing two mandatory clauses: the first being a term query, and the
second being a boolean query containing 4 optional clauses.

The fact that you needed parens to clearly express what you wanted is the
first tip off.

Another good way to udnerstand how to build a query progromatically like
this, is to try feeding your boolean expression to the query parser, and
then looking at the toString of the query it produces.

: The nearest I've managed to get is
	...
: But this results in a query something similar to:
:
: x AND a OR b OR c OR d

Technically, i don't think the query you've created in your java code can
be represented using simple AND OR expressions ... that's why i hate
writing queries out that way, because lucene queries aren't simple boolean
logic constructs, they have scores and relevancy, the best way to describe
what your java code does is...

   +x a b c d

...x is mandatory, all other terms are optional and increase the score.

what you want is...

   +x +(a b c d)

...x is mandatory, at least one from the list of a, b, c, or d are
mandatory as well, and if more then one match the score is increased
accordingly.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 19:52:10 2006
Return-Path: <java-user-return-18543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31382 invoked from network); 25 Jan 2006 19:52:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 19:52:10 -0000
Received: (qmail 41457 invoked by uid 500); 25 Jan 2006 19:51:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41420 invoked by uid 500); 25 Jan 2006 19:51:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41389 invoked by uid 99); 25 Jan 2006 19:51:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:51:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.206 as permitted sender)
Received: from [64.233.184.206] (HELO wproxy.gmail.com) (64.233.184.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 11:51:55 -0800
Received: by wproxy.gmail.com with SMTP id i21so181793wra
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 11:51:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=S+gz3BnaQDlwr0Z3CAdJ3A1jlWV+SQzQ6Gf1YktWzfvgnE3NmdSBYhpWLwDw4QczaCYLFsPEJ2mpx8+E2I/32SSanJf+0qbFjUlPY/y1SATffKPiHPntBC8T+hTrUXmo11LyoUJUA2qZJbILDhx2WMhiYDvz4hYVqLbBiRFwz1Q=
Received: by 10.54.123.3 with SMTP id v3mr1382204wrc;
        Wed, 25 Jan 2006 11:51:34 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Wed, 25 Jan 2006 11:51:34 -0800 (PST)
Message-ID: <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
Date: Wed, 25 Jan 2006 14:51:34 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <43D7CE1E.30100@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_29409_10021943.1138218694564"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
	 <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
	 <43D7CE1E.30100@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_29409_10021943.1138218694564
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The index is non-compound format and optimized. Yes, I did try
MMapDirectory, but the index is too big - 3.5 GB (1.3GB is term vectors)

Peter

On 1/25/06, Doug Cutting <cutting@apache.org> wrote:
>
> Peter Keegan wrote:
> > This is just  fyi - in my stress tests on a 8-cpu box (that's 8 real
> cpus),
> > the maximum throughput occurred with just 4 query threads. The query
> > throughput decreased with fewer than 4 or greater than 4 query threads.
> The
> > entire index was most likely in the file system cache, too. Periodic
> > snapshots of stack traces showed most threads blocked in the
> synchronization
> > in: FSIndexInput.readInternal(), when the thread count exceeded 4.
>
> Was this with a compound or non-compound format index?  The non-compound
> should fare slightly better, since there are more file handles per
> index.  Did you try using MMapDirectory?  This should have no i/o
> concurrency limits, but, on 32-bit systems, only works with indexes less
> than a few GB.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_29409_10021943.1138218694564--

From java-user-return-18544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 20:07:01 2006
Return-Path: <java-user-return-18544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37963 invoked from network); 25 Jan 2006 20:07:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 20:07:01 -0000
Received: (qmail 68255 invoked by uid 500); 25 Jan 2006 20:06:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68216 invoked by uid 500); 25 Jan 2006 20:06:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68205 invoked by uid 99); 25 Jan 2006 20:06:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:06:55 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:06:54 -0800
Received: by uproxy.gmail.com with SMTP id e2so389367ugf
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 12:06:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=qWL6q7lK4OTzAE3b9kbCqxBKhHKerKkgqsXaaYwsHbju4nChWlrbbOB4c4rjgvjcTYlnHcBRjCTmn8vvHAU8KAunRYmF/AjsRtz4Lg9oGXJ8wOW4ch81X82MWRIKiwu842lYB/Xg/hGivjq6/yjG8o59Nh2uPPRdzPFfXEJ5Ino=
Received: by 10.49.26.9 with SMTP id d9mr98747nfj;
        Wed, 25 Jan 2006 12:06:33 -0800 (PST)
Received: by 10.49.75.18 with HTTP; Wed, 25 Jan 2006 12:06:32 -0800 (PST)
Message-ID: <c68e39170601251206g19a9e1f0if1b14aaed50a980b@mail.gmail.com>
Date: Wed, 25 Jan 2006 15:06:33 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601251148y63ec6d97k48d532882061e204@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
	 <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
	 <c68e39170601251107m22b74678w9083353cc2890fc0@mail.gmail.com>
	 <e994873a0601251148y63ec6d97k48d532882061e204@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/25/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> It's a 3GHz Intel box with Xeon processors, 64GB ram :)

Nice!

Xeon processors are normally hyperthreaded.  On a linux box, if you
cat /proc/cpuinfo, you will see 8 processors for a 4 physical CPU
system.  Are you positive you have 8 physical Xeon processors?

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 20:08:21 2006
Return-Path: <java-user-return-18545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38423 invoked from network); 25 Jan 2006 20:08:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 20:08:21 -0000
Received: (qmail 70512 invoked by uid 500); 25 Jan 2006 20:08:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70491 invoked by uid 500); 25 Jan 2006 20:08:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70480 invoked by uid 99); 25 Jan 2006 20:08:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:08:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:08:14 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 384345B7C6; Wed, 25 Jan 2006 12:07:54 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3347E7F403
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 12:07:54 -0800 (PST)
Date: Wed, 25 Jan 2006 12:07:54 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: how to select top categories.
In-Reply-To: <4a6648f60601251057r235abb23p4df36b574d317990@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601251202480.16267@hal.rescomp.berkeley.edu>
References: <4a6648f60601251057r235abb23p4df36b574d317990@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


You will likely find this thread interesting...

http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Category-Listings-t266441.html

: 1) Do queries for each sub-category using the results of the first initial
: query and use the hits count to select the sub-categories to display, but I
: might have thousands of sub-categories and it would be too slow..

The key is not to repeat the query for every sub-cat with an added clause,
it's to do the query once using a HitCollector that generates a BitSet of
all matching results, and then intersect that with BitSets returned by
Filter's (or other HitCollectors) that you've used to get a list of *all*
results in each sub-cat.

why is this faster? you ask .. because only the initial query changes on
each user search -- the set of all documents in a sub-cat doesn't change
untill new documents are added or deleted, so they can be cached (either
manually, or using CachingWrappingFIlter) ... doing a few thousand BitSet
intersections doesn't take as much time as you think.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 20:20:38 2006
Return-Path: <java-user-return-18546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49428 invoked from network); 25 Jan 2006 20:20:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 20:20:38 -0000
Received: (qmail 91302 invoked by uid 500); 25 Jan 2006 20:20:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91281 invoked by uid 500); 25 Jan 2006 20:20:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91270 invoked by uid 99); 25 Jan 2006 20:20:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:20:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:20:31 -0800
Received: by wproxy.gmail.com with SMTP id i21so187967wra
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 12:20:10 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iPhDIRg3uucvJ6L+O3NLCAik7gUc1/tQJCBQgGrzk9GqiltDF9fnBLxY25eYRcj9VJUaNpNmMtBGqy0JeLtbV/OoqZyfrIgJhUfzUPHyN5Aty/W3z82uBYBDyWfS3dnngO6NAwbSvT77eSFB92nS8xSYiDZt5KM7+2mYDgpRnjA=
Received: by 10.54.73.13 with SMTP id v13mr1427749wra;
        Wed, 25 Jan 2006 12:20:10 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Wed, 25 Jan 2006 12:20:10 -0800 (PST)
Message-ID: <e994873a0601251220w3b5a0d50uefe3ea0ccd905443@mail.gmail.com>
Date: Wed, 25 Jan 2006 15:20:10 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <c68e39170601251206g19a9e1f0if1b14aaed50a980b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_29944_26732557.1138220410103"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <b7bee2520511220633p367f5623h5dac928a49e0110@mail.gmail.com>
	 <e994873a0601251050t59ce7c23o283a6c3d44dba892@mail.gmail.com>
	 <c68e39170601251107m22b74678w9083353cc2890fc0@mail.gmail.com>
	 <e994873a0601251148y63ec6d97k48d532882061e204@mail.gmail.com>
	 <c68e39170601251206g19a9e1f0if1b14aaed50a980b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_29944_26732557.1138220410103
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Yes, it's hyperthreaded (16 cpus show up in task manager - the box is
running 2003). I plan to turn off hyperthreading to see if it has any
effect.

Peter


On 1/25/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> On 1/25/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > It's a 3GHz Intel box with Xeon processors, 64GB ram :)
>
> Nice!
>
> Xeon processors are normally hyperthreaded.  On a linux box, if you
> cat /proc/cpuinfo, you will see 8 processors for a 4 physical CPU
> system.  Are you positive you have 8 physical Xeon processors?
>
> -Yonik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_29944_26732557.1138220410103--

From java-user-return-18547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 20:59:22 2006
Return-Path: <java-user-return-18547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65844 invoked from network); 25 Jan 2006 20:59:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 20:59:21 -0000
Received: (qmail 54244 invoked by uid 500); 25 Jan 2006 20:59:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54217 invoked by uid 500); 25 Jan 2006 20:59:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54206 invoked by uid 99); 25 Jan 2006 20:59:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:59:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of maustin75@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 12:59:14 -0800
Received: by zproxy.gmail.com with SMTP id i28so206667nzi
        for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 12:58:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=VfYPqmryv0nh7d89nW+3Ng1qtFNB2vvCxWBA0P7/1VUsTuI+Hdpg2dNbLdVOVZh8S3TeJIUizNBjVhAFeeQja5LwC+VL61imgvazGAmDQB9n0AfsSSxRf/Zvpu9nmLbfeSMRX6AbX4KshFvbcir0zyLtako+pDMGd3D8u3ZcZlA=
Received: by 10.65.196.18 with SMTP id y18mr745488qbp;
        Wed, 25 Jan 2006 12:58:47 -0800 (PST)
Received: by 10.64.76.20 with HTTP; Wed, 25 Jan 2006 12:58:46 -0800 (PST)
Message-ID: <4a6648f60601251258h138006c9ua8d5f34d583d613d@mail.gmail.com>
Date: Wed, 25 Jan 2006 14:58:46 -0600
From: Mike Austin <maustin75@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to select top categories.
In-Reply-To: <Pine.LNX.4.58.0601251202480.16267@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15085_29498003.1138222726743"
References: <4a6648f60601251057r235abb23p4df36b574d317990@mail.gmail.com>
	 <Pine.LNX.4.58.0601251202480.16267@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15085_29498003.1138222726743
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Chris.. thanks for you quick response.

:doing a few thousand BitSet intersections doesn't take as much time as you
think
Even if the BitSet is around 4-5 million? and I would have to quickly go
through about a thousand of these?

I guess I would have to decide what sub-cats to cache the bitsets for. But =
a
bitset of 5 million documents would be around 625k each (right?).. I would
need lots of RAM to do this for several thousand sub-cats. I read your link
and it would be the same for the mfgrs... How would you know what
manufacurers to display? I'm not sure how many mfgrs are in each category
for this site, but would you cash all manufacturers and intersect all with
the initial query in one page load? Seems like that would be alot.

So your saying that in a single page load I might be able to do one intitia=
l
query, and intersect thousands of bitsets in under a second with and an
index of around 5 million documents, assuming that the server/pc is decent
speed and enough memory? I still would have to cache thousands of 625k
bits.. Could I do this with files instead of RAM maybe?

Thanks,
Mike


On 1/25/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> You will likely find this thread interesting...
>
>
> http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Ca=
tegory-Listings-t266441.html
>
> : 1) Do queries for each sub-category using the results of the first
> initial
> : query and use the hits count to select the sub-categories to display,
> but I
> : might have thousands of sub-categories and it would be too slow..
>
> The key is not to repeat the query for every sub-cat with an added clause=
,
> it's to do the query once using a HitCollector that generates a BitSet of
> all matching results, and then intersect that with BitSets returned by
> Filter's (or other HitCollectors) that you've used to get a list of *all*
> results in each sub-cat.
>
> why is this faster? you ask .. because only the initial query changes on
> each user search -- the set of all documents in a sub-cat doesn't change
> untill new documents are added or deleted, so they can be cached (either
> manually, or using CachingWrappingFIlter) ... doing a few thousand BitSet
> intersections doesn't take as much time as you think.
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_15085_29498003.1138222726743--

From java-user-return-18548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Jan 25 21:25:28 2006
Return-Path: <java-user-return-18548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78946 invoked from network); 25 Jan 2006 21:25:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Jan 2006 21:25:28 -0000
Received: (qmail 88227 invoked by uid 500); 25 Jan 2006 21:25:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88207 invoked by uid 500); 25 Jan 2006 21:25:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88196 invoked by uid 99); 25 Jan 2006 21:25:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 13:25:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 13:25:21 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 27B955B784; Wed, 25 Jan 2006 13:24:58 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 23AC67F403
	for <java-user@lucene.apache.org>; Wed, 25 Jan 2006 13:24:58 -0800 (PST)
Date: Wed, 25 Jan 2006 13:24:58 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: how to select top categories.
In-Reply-To: <4a6648f60601251258h138006c9ua8d5f34d583d613d@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601251316150.17715@hal.rescomp.berkeley.edu>
References: <4a6648f60601251057r235abb23p4df36b574d317990@mail.gmail.com> 
 <Pine.LNX.4.58.0601251202480.16267@hal.rescomp.berkeley.edu>
 <4a6648f60601251258h138006c9ua8d5f34d583d613d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: for this site, but would you cash all manufacturers and intersect all with
: the initial query in one page load? Seems like that would be alot.

Yep it is a lot, but if you've got the RAM, it's not that time intensive.
At CNET, depending on what page you are looking at, i'm doing
anywhere from 100-1000 intersections.

: So your saying that in a single page load I might be able to do one intitial
: query, and intersect thousands of bitsets in under a second with and an
: index of around 5 million documents, assuming that the server/pc is decent

I can't predict exactly what your performance will be based on your
index size -- and i certainly can't make any promises about it being under
a second total time ... but you should try it, i think it's very feasible.

: speed and enough memory? I still would have to cache thousands of 625k
: bits.. Could I do this with files instead of RAM maybe?

i played with serializing BitSets to disk, it can be done .. but reading
the cached files has a definite added cost.  if you really don't have the
ram to store alll of the bitsets in memory then you're going to want to at
least use an in memory cache for some fixed number of commonly used
categories ... wether that cache falls back to reding from disk on miss,
or falls back to executing the category specific filter/query again
depends on your goals.

you should also keep in mind that if you goal is only to suggest *good*
matching categories and not neccessarily to provide a list of *all*
matching categories or hte *top* matching categories sorted by hits, then
you don't need to cache/intersect all of hte BitSets ... you can try the
biggest ones first, and ocne you've got "enough" "good" matches you can
stop and return what you have so far the the user.

quantifying "enough" and "good" depends (again) on your goals.


: On 1/25/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
: >
: >
: > You will likely find this thread interesting...
: >
: >
: > http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Category-Listings-t266441.html
: >
: > : 1) Do queries for each sub-category using the results of the first
: > initial
: > : query and use the hits count to select the sub-categories to display,
: > but I
: > : might have thousands of sub-categories and it would be too slow..
: >
: > The key is not to repeat the query for every sub-cat with an added clause,
: > it's to do the query once using a HitCollector that generates a BitSet of
: > all matching results, and then intersect that with BitSets returned by
: > Filter's (or other HitCollectors) that you've used to get a list of *all*
: > results in each sub-cat.
: >
: > why is this faster? you ask .. because only the initial query changes on
: > each user search -- the set of all documents in a sub-cat doesn't change
: > untill new documents are added or deleted, so they can be cached (either
: > manually, or using CachingWrappingFIlter) ... doing a few thousand BitSet
: > intersections doesn't take as much time as you think.
: >
: >
: >
: >
: > -Hoss
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 05:40:35 2006
Return-Path: <java-user-return-18549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82291 invoked from network); 26 Jan 2006 05:40:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 05:40:35 -0000
Received: (qmail 53220 invoked by uid 500); 26 Jan 2006 05:40:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53199 invoked by uid 500); 26 Jan 2006 05:40:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53188 invoked by uid 99); 26 Jan 2006 05:40:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 21:40:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.78.21.129] (HELO mis011-2.exch011.intermedia.net) (64.78.21.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 25 Jan 2006 21:40:28 -0800
Received: from ehost011-3.exch011.intermedia.net ([64.78.21.96]) by mis011-2.exch011.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 25 Jan 2006 21:40:07 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C6223A.F6BE395F"
Subject: RE: Keyword fields, Porter stemming, and QueryParser
Date: Wed, 25 Jan 2006 21:38:40 -0800
Message-ID: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC0F@ehost011-3.exch011.intermedia.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC0F@ehost011-3.exch011.intermedia.net>
Thread-Topic: Keyword fields, Porter stemming, and QueryParser
thread-index: AcYhS4jYC/LyGwkVRZOcAtJBQ1rY6AA7zon7
References: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC04@ehost011-3.exch011.intermedia.net> <901c03930601241705g3337e7bew7416a47b5eee1fe3@mail.gmail.com>
From: "Dmitry Goldenberg" <dmitry.goldenberg@weblayers.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 26 Jan 2006 05:40:07.0531 (UTC) FILETIME=[F7131BB0:01C6223A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6223A.F6BE395F
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Dave,
=20
Thanks for the pointer.  The Wrapper worked marvellously!  This was =
exactly the situation - wanting to treat the standard fields and keyword =
fields differently as far as stemming is concerned (no stemming for the =
latter).
=20
- Dmitry

________________________________

From: Dave Kor [mailto:davekor@gmail.com]
Sent: Tue 1/24/2006 5:05 PM
To: java-user@lucene.apache.org
Subject: Re: Keyword fields, Porter stemming, and QueryParser



If reindexing doesn't take too much time and effor, you can reindex
using the PerFieldAnalyzerWrapper to have different analyzers for each
field.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C6223A.F6BE395F
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C6223A.F6BE395F--

From java-user-return-18550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 08:00:39 2006
Return-Path: <java-user-return-18550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30497 invoked from network); 26 Jan 2006 08:00:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 08:00:38 -0000
Received: (qmail 34334 invoked by uid 500); 26 Jan 2006 08:00:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34308 invoked by uid 500); 26 Jan 2006 08:00:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34297 invoked by uid 99); 26 Jan 2006 08:00:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [194.109.24.26] (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:00:27 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0Q7xsRp089732
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 08:59:54 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
Date: Thu, 26 Jan 2006 08:59:54 +0100
User-Agent: KMail/1.8.2
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com> <43D7CE1E.30100@apache.org> <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
In-Reply-To: <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601260859.54335.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 25 January 2006 20:51, Peter Keegan wrote:
> The index is non-compound format and optimized. Yes, I did try
> MMapDirectory, but the index is too big - 3.5 GB (1.3GB is term vectors)
> 
> Peter
> 
You could also give this a try:

http://issues.apache.org/jira/browse/LUCENE-283

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 08:15:40 2006
Return-Path: <java-user-return-18551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37596 invoked from network); 26 Jan 2006 08:15:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 08:15:40 -0000
Received: (qmail 53332 invoked by uid 500); 26 Jan 2006 08:15:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53148 invoked by uid 500); 26 Jan 2006 08:15:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53131 invoked by uid 99); 26 Jan 2006 08:15:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:15:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:15:33 -0800
Received: by zproxy.gmail.com with SMTP id k1so320376nzf
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 00:15:12 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=rF14fB3aR4+HH34cgY4nbS2EmJEQqW0wZ9xO0ffRbv9atMmsk32YlIZL3n9e3HgwgNKkif6pidO0p65hbq35aVnD65bmFeds0/v3gcbRcNlVI1w8Pwj71gWtJf2lWdvF/zEj4+b/w4D759TtMa56PubOdzwuQCuoLxABku2+6/8=
Received: by 10.36.48.1 with SMTP id v1mr1277506nzv;
        Thu, 26 Jan 2006 00:15:12 -0800 (PST)
Received: by 10.36.37.14 with HTTP; Thu, 26 Jan 2006 00:15:12 -0800 (PST)
Message-ID: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com>
Date: Thu, 26 Jan 2006 16:15:12 +0800
From: Chun Wei Ho <cwho.work@gmail.com>
To: java-user@lucene.apache.org
Subject: Getting the document number (with IndexReader)
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am attempting to prune an index by getting each document in turn and
then checking/deleting it:

IndexReader ir =3D IndexReader.open(path);
for(int i=3D0;i<ir.numDocs();i++) {
=09Document doc =3D ir.document(i);
=09if(thisDocShouldBeDeleted(doc)) {
=09=09ir.delete(docNum); // <- I need the docNum for doc.
=09}
}

How do I get the docNum for IndexReader.delete() function in the above
case? Is there a API function I am missing? I am working with a merged
index over different segments so the docNum might not be in running
sequence with the counter i.

In general, is there a better way to do this sort of thing?

Thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 08:28:07 2006
Return-Path: <java-user-return-18552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48567 invoked from network); 26 Jan 2006 08:28:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 08:28:07 -0000
Received: (qmail 68035 invoked by uid 500); 26 Jan 2006 08:28:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67030 invoked by uid 500); 26 Jan 2006 08:28:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67019 invoked by uid 99); 26 Jan 2006 08:28:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:28:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.29] (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:28:00 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0Q8RdfS045040
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 09:27:39 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: how to select top categories.
Date: Thu, 26 Jan 2006 09:27:39 +0100
User-Agent: KMail/1.8.2
References: <4a6648f60601251057r235abb23p4df36b574d317990@mail.gmail.com> <4a6648f60601251258h138006c9ua8d5f34d583d613d@mail.gmail.com> <Pine.LNX.4.58.0601251316150.17715@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0601251316150.17715@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601260927.39134.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 25 January 2006 22:24, Chris Hostetter wrote:
> 
> : for this site, but would you cash all manufacturers and intersect all with
> : the initial query in one page load? Seems like that would be alot.
> 
> Yep it is a lot, but if you've got the RAM, it's not that time intensive.
> At CNET, depending on what page you are looking at, i'm doing
> anywhere from 100-1000 intersections.
> 
> : So your saying that in a single page load I might be able to do one 
intitial
> : query, and intersect thousands of bitsets in under a second with and an
> : index of around 5 million documents, assuming that the server/pc is decent
> 
> I can't predict exactly what your performance will be based on your
> index size -- and i certainly can't make any promises about it being under
> a second total time ... but you should try it, i think it's very feasible.
> 
> : speed and enough memory? I still would have to cache thousands of 625k
> : bits.. Could I do this with files instead of RAM maybe?
> 
> i played with serializing BitSets to disk, it can be done .. but reading
> the cached files has a definite added cost.  if you really don't have the
> ram to store alll of the bitsets in memory then you're going to want to at
> least use an in memory cache for some fixed number of commonly used
> categories ... wether that cache falls back to reding from disk on miss,
> or falls back to executing the category specific filter/query again
> depends on your goals.
> 

These more compact filters might be useful here:
http://issues.apache.org/jira/browse/LUCENE-328

They would probably take about two bytes per filtered document in this
case, both in RAM and on disk. Perhaps one won't even need the disk,
but adding some code to read/write such filters from a stream is easy.

I'd still prefer to give a score to each category based on the best
(say 100) document scores for the initial query, even though that would
need some more coding to keep track of the category scores.

These compact filters should work reasonably well as long as the
categories don't contain too many documents. For larger categories
these filters have the disadvantage that they still need to access every
document number for doing an intersection with the category, but BitSets
have this problem too.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 08:33:44 2006
Return-Path: <java-user-return-18553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50641 invoked from network); 26 Jan 2006 08:33:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 08:33:44 -0000
Received: (qmail 73051 invoked by uid 500); 26 Jan 2006 08:33:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73032 invoked by uid 500); 26 Jan 2006 08:33:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73021 invoked by uid 99); 26 Jan 2006 08:33:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:33:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.36] (HELO smtp-vbr16.xs4all.nl) (194.109.24.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:33:37 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr16.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0Q8XGU7046337
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 09:33:16 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Getting the document number (with IndexReader)
Date: Thu, 26 Jan 2006 09:33:16 +0100
User-Agent: KMail/1.8.2
References: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com>
In-Reply-To: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601260933.16214.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 26 January 2006 09:15, Chun Wei Ho wrote:
> I am attempting to prune an index by getting each document in turn and
> then checking/deleting it:
> 
> IndexReader ir = IndexReader.open(path);
> for(int i=0;i<ir.numDocs();i++) {
> 	Document doc = ir.document(i);
> 	if(thisDocShouldBeDeleted(doc)) {
> 		ir.delete(docNum); // <- I need the docNum for doc.
> 	}
> }
> 
> How do I get the docNum for IndexReader.delete() function in the above
> case? Is there a API function I am missing? I am working with a merged

The document number is the variable i in this case.

> index over different segments so the docNum might not be in running
> sequence with the counter i.
> 
> In general, is there a better way to do this sort of thing?

This code:

 	Document doc = ir.document(i);

normally retrieves all the stored fields of the document and that is
quite costly. In case you know that the document(s) to be deleted
match(es) a Term, it's better to use IndexReader.delete(Term).

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 08:44:05 2006
Return-Path: <java-user-return-18554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55702 invoked from network); 26 Jan 2006 08:44:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 08:44:04 -0000
Received: (qmail 81064 invoked by uid 500); 26 Jan 2006 08:43:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81044 invoked by uid 500); 26 Jan 2006 08:43:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81033 invoked by uid 99); 26 Jan 2006 08:43:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:43:58 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.184.196 as permitted sender)
Received: from [64.233.184.196] (HELO wproxy.gmail.com) (64.233.184.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:43:57 -0800
Received: by wproxy.gmail.com with SMTP id 58so374170wri
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 00:43:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=G/0qekX1lAQu4YNLQM5+krhzeUZTc3yGCFFHJAZarz5KuruFuMcGmBHk4Q/ffUVoOrgPJS5lKiGAE1fUALpd1K/APmMAmktQ8nsRNJ47l7YMVXEjR+mUxWngnCrs8a6kqnDiK88LFQA5q1VQnIXEqWsHzYGrMgJS8RD79qlqloE=
Received: by 10.54.80.8 with SMTP id d8mr1968998wrb;
        Thu, 26 Jan 2006 00:43:37 -0800 (PST)
Received: by 10.54.119.10 with HTTP; Thu, 26 Jan 2006 00:43:37 -0800 (PST)
Message-ID: <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
Date: Thu, 26 Jan 2006 16:43:37 +0800
From: Ray Tsang <saturnism@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <43820731.5000806@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

U3BlYWtpbmcgb2YgTmlvRlNEaXJlY3RvcnksIEkgdGhvdWdodCB0aGVyZSB3YXMgb25lIHBvc3Rl
ZCBhIHdoaWxlCmFnbywgaXMgdGhpcyBzb21ldGhpbmcgdGhhdCBjYW4gYmUgdXNlZD8KaHR0cDov
L2lzc3Vlcy5hcGFjaGUub3JnL2ppcmEvYnJvd3NlL0xVQ0VORS00MTQKCnJheSwKCk9uIDExLzIy
LzA1LCBEb3VnIEN1dHRpbmcgPGN1dHRpbmdAYXBhY2hlLm9yZz4gd3JvdGU6Cj4gSmF5IEJvb3Ro
IHdyb3RlOgo+ID4gSSBoYWQgYSBzaW1pbGFyIHByb2JsZW0gd2l0aCB0aHJlYWRpbmcsIHRoZSBw
cm9ibGVtIHR1cm5lZCBvdXQgdG8gYmUgdGhhdCBpbgo+ID4gdGhlIGJhY2sgZW5kIG9mIHRoZSBG
U0RpcmVjdG9yeSBjbGFzcyBJIGJlbGlldmUgaXQgd2FzLCB0aGVyZSB3YXMgYQo+ID4gc3luY2hy
b25pemVkIGJsb2NrIG9uIHRoZSBhY3R1YWwgUmFuZG9tQWNjZXNzRmlsZSByZXNvdXJjZSB3aGVu
IHJlYWRpbmcgYQo+ID4gYmxvY2sgb2YgZGF0YSBmcm9tIGl0Li4uIGhpZ2gtY29uY3VycmVuY3kg
c2l0dWF0aW9ucyBjYXVzZWQgdGhyZWFkcyB0byBzdGFjawo+ID4gdXAgaW4gZnJvbnQgb2YgdGhp
cyBzeW5jaHJvbml6ZWQgYmxvY2sgYW5kIG91ciBDUFUgdGltZSB3b3VuZCB1cCBiZWluZyBzcGVu
dAo+ID4gdGhyYXNoaW5nIGJldHdlZW4gYmxvY2tlZCB0aHJlYWRzIGluc3RlYWQgb2YgZG9pbmcg
YW55dGhpbmcgdXNlZnVsLgo+Cj4gVGhpcyBpcyBjb3JyZWN0LiAgSW4gTHVjZW5lLCBtdWx0aXBs
ZSBzdHJlYW1zIHBlciBmaWxlIGFyZSBjcmVhdGVkIGJ5Cj4gY2xvbmluZywgYW5kIGFsbCBjbG9u
ZXMgb2YgYW4gRlNEaXJlY3RvcnkgaW5wdXQgc3RyZWFtIHNoYXJlIGEKPiBSYW5kb21BY2Nlc3NG
aWxlIGFuZCBtdXN0IHN5bmNocm9uaXplIGlucHV0IGZyb20gaXQuICBNbWFwRGlyZWN0b3J5IGRv
ZXMKPiBub3QgaGF2ZSB0aGlzIGxpbWl0YXRpb24uICBJZiB5b3VyIGluZGV4ZXMgYXJlIGxlc3Mg
dGhhbiBhIGZldyBHQiBvciB5b3UKPiBhcmUgdXNpbmcgNjQtYml0IGhhcmR3YXJlLCB0aGVuIE1t
YXBEaXJlY3Rvcnkgc2hvdWxkIHdvcmsgd2VsbCBmb3IgeW91Lgo+ICAgT3RoZXJ3aXNlIGl0IHdv
dWxkIGJlIHNpbXBsZSB0byB3cml0ZSBhbiBuaW8tYmFzZWQgRGlyZWN0b3J5IHRoYXQgZG9lcwo+
IG5vdCB1c2UgbW1hcCB0aGF0IGlzIGFsc28gdW5zeW5jaHJvbml6ZWQuICBTdWNoIGEgY29udHJp
YnV0aW9uIHdvdWxkIGJlCj4gd2VsY29tZS4KPgo+ID4gTWFraW5nIG11bHRpcGxlIEluZGV4U2Vh
cmNoZXJzIGFuZCBGU0RpcmVjdG9yaWVzIGRpZG4ndCBoZWxwIGJlY2F1c2UgaW4gdGhlCj4gPiBi
YWNrIGVuZCwgbHVjZW5lIGNvbnN1bHRzIGEgc2luZ2xldG9uIEhhc2hNYXAgb2Ygc29tZSBraW5k
IChkb24ndCByZW1lbWJlcgo+ID4gaW1wbGVtZW50YXRpb24pIHRoYXQgbWFpbnRhaW5lZCBhIHNp
bmdsZSBGU0RpcmVjdG9yeSBmb3IgYW55IGdpdmVuIGluZGV4Cj4gPiBiZWluZyBhY2Nlc3NlZCBm
cm9tIHRoZSBKVk0uLi4gbXVsdGlwbGUgY2FsbHMgdG8gRlNEaXJlY3RvcnkuZ2V0RGlyZWN0b3J5
Cj4gPiBhY3R1YWxseSByZXR1cm4gdGhlIHNhbWUgRlNEaXJlY3Rvcnkgb2JqZWN0IHdpdGggc3lu
Y2hyb25pemF0aW9uIGF0IHRoZSBzYW1lCj4gPiBwb2ludC4KPgo+IFRoaXMgZG9lcyBub3QgbWFr
ZSBzZW5zZSB0byBtZS4gIEZTRGlyZWN0b3J5IGRvZXMga2VlcCBhIGNhY2hlIG9mCj4gRlNEaXJl
Y3RvcnkgaW5zdGFuY2VzLCBidXQgaS9vIHNob3VsZCBub3QgYmUgc3luY2hyb25pemVkIG9uIHRo
ZXNlLiAgT25lCj4gc2hvdWxkIGJlIGFibGUgdG8gb3BlbiBtdWx0aXBsZSBpbnB1dCBzdHJlYW1z
IG9uIHRoZSBzYW1lIGZpbGUgZnJvbSBhbgo+IEZTRGlyZWN0b3J5LiAgQnV0IHRoaXMgd291bGQg
bm90IGJlIGEgZ3JlYXQgc29sdXRpb24sIHNpbmNlIGZpbGUgaGFuZGxlCj4gbGltaXRzIHdvdWxk
IHNvb24gYmVjb21lIGEgcHJvYmxlbS4KPgo+IERvdWcKPgo+IC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+IFRvIHVu
c3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9y
Zwo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2Vu
ZS5hcGFjaGUub3JnCj4KPgo=


From java-user-return-18555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 08:47:59 2006
Return-Path: <java-user-return-18555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57506 invoked from network); 26 Jan 2006 08:47:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 08:47:59 -0000
Received: (qmail 87323 invoked by uid 500); 26 Jan 2006 08:47:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87298 invoked by uid 500); 26 Jan 2006 08:47:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87287 invoked by uid 99); 26 Jan 2006 08:47:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:47:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:47:52 -0800
Received: by zproxy.gmail.com with SMTP id k1so324564nzf
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 00:47:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=au0X05tMKlJ9Sz8CvASgLMNVdZEnLwv2cl0K+OUfUf8VAAQUC8OgI47kLizUmyAZi27tRwt2x+di1gAA2l5Kz8mhP+zMJ8d40rXL9G99STY20/jyVC4Ec6ya7F8vw1UglyftSJjViEYxWeWJfnNx1WXxSnyrKw2KyQJJExtae9w=
Received: by 10.36.86.11 with SMTP id j11mr1291219nzb;
        Thu, 26 Jan 2006 00:47:31 -0800 (PST)
Received: by 10.36.37.14 with HTTP; Thu, 26 Jan 2006 00:47:31 -0800 (PST)
Message-ID: <6c33f9950601260047l58f9134er85626c678222a93c@mail.gmail.com>
Date: Thu, 26 Jan 2006 16:47:31 +0800
From: Chun Wei Ho <cwho.work@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Getting the document number (with IndexReader)
In-Reply-To: <200601260933.16214.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com>
	 <200601260933.16214.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Thanks for the help, just a few more questions:

On 1/26/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> On Thursday 26 January 2006 09:15, Chun Wei Ho wrote:
> > I am attempting to prune an index by getting each document in turn and
> > then checking/deleting it:
> >
> > IndexReader ir =3D IndexReader.open(path);
> > for(int i=3D0;i<ir.numDocs();i++) {
> >       Document doc =3D ir.document(i);
> >       if(thisDocShouldBeDeleted(doc)) {
> >               ir.delete(docNum); // <- I need the docNum for doc.
> >       }
> > }
> >
> > How do I get the docNum for IndexReader.delete() function in the above
> > case? Is there a API function I am missing? I am working with a merged
>
> The document number is the variable i in this case.
If the document number is the variable i (enumerated from numDocs()),
what's the difference between numDocs() and maxDoc() in this case? I
was previously under the impression that the internal docNum might be
different to the counter.

> > index over different segments so the docNum might not be in running
> > sequence with the counter i.
> > In general, is there a better way to do this sort of thing?
>
> This code:
>
>         Document doc =3D ir.document(i);
>
> normally retrieves all the stored fields of the document and that is
> quite costly. In case you know that the document(s) to be deleted
> match(es) a Term, it's better to use IndexReader.delete(Term).

I'm doing something akin to a rangeQuery, where I delete documents
within a certain range (in addition to other criteria). Is it better
to do a query on the range, mark all the docNums getting them with
Hits.id(), and then retrieve docs and test for deletion according to
that?

Thanks for the help

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 08:56:50 2006
Return-Path: <java-user-return-18556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61658 invoked from network); 26 Jan 2006 08:56:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 08:56:49 -0000
Received: (qmail 95997 invoked by uid 500); 26 Jan 2006 08:56:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95970 invoked by uid 500); 26 Jan 2006 08:56:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95959 invoked by uid 99); 26 Jan 2006 08:56:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 00:56:44 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DATE_IN_FUTURE_06_12,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.35] (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 26 Jan 2006 00:56:43 -0800
Received: (qmail 84065 invoked from network); 26 Jan 2006 08:56:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.fr;
  h=Received:From:To:Subject:Date:Message-ID:MIME-Version:Content-Type:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE:Importance;
  b=kkC0ijCyKCKya8EWh/mqUdUn3w0ZE/5J+lvHtkXjXjounuy64NWeiU64n7fKJoTfsNehiRx1NlcHnE12oWJOyP7hB7UdC4Tc7wopSeMVAImJWLNeRaJZyDohgSFn/AKClVrEUoWOoPbquWQI8afjpKLoSBr93s+19hIigGUkWyI=  ;
Received: from unknown (HELO platoon) (arnaudbuffet@82.236.230.109 with login)
  by smtp004.mail.ukl.yahoo.com with SMTP; 26 Jan 2006 08:56:22 -0000
From: "arnaudbuffet" <arnaudbuffet@yahoo.fr>
To: <java-user@lucene.apache.org>
Subject: encoding
Date: Thu, 26 Jan 2006 09:56:21 -0800
Message-ID: <003601c622a1$d1507d70$1e00a8c0@platoon>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0037_01C6225E.C32D3D70"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0037_01C6225E.C32D3D70
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello,
 
I 've a problem with data i try to index with lucene. I browse a
directory and index text from different types of files throw parsers.
 
For text files, data could be in different languages so different
encoding. If data are in Turkish for exemple, all special characters and
accents are not recognized in my lucene index. Is there a way to resolve
problem? How do I work with the encoding ?
 
Thanks for your help

A.
 

------=_NextPart_000_0037_01C6225E.C32D3D70--


	

	
		
___________________________________________________________________________ 
Nouveau : tlphonez moins cher avec Yahoo! Messenger ! Dcouvez les tarifs exceptionnels pour appeler la France et l'international.
Tlchargez sur http://fr.messenger.yahoo.com

From java-user-return-18557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 11:02:02 2006
Return-Path: <java-user-return-18557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19020 invoked from network); 26 Jan 2006 11:02:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 11:01:59 -0000
Received: (qmail 69269 invoked by uid 500); 26 Jan 2006 11:01:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69138 invoked by uid 500); 26 Jan 2006 11:01:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69063 invoked by uid 99); 26 Jan 2006 11:01:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 03:01:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 03:01:41 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11/8.12.11) with ESMTP id k0QB1IFN023658
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 11:01:18 GMT
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11/8.12.11/Submit) with ESMTP id k0QB1H4Z023656
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 11:01:18 GMT
Received: from [10.11.108.231] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.0.171)
    via ESMTP; Thu, 26 Jan 2006 11:01:16 +0000 (GMT)
Date: Thu, 26 Jan 2006 11:01:16 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <43D8ABFC.8090400@scalix.com>
In-Reply-To: <003601c622a1$d1507d70$1e00a8c0@platoon>
References: <003601c622a1$d1507d70$1e00a8c0@platoon>
Subject: Re: encoding
x-scalix-Hops: 1
User-Agent: Mozilla Thunderbird 1.0.7-1.4.1 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8";
	format="flowed"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

arnaudbuffet wrote:

>For text files, data could be in different languages so different
>encoding. If data are in Turkish for exemple, all special characters and
>accents are not recognized in my lucene index. Is there a way to resolve
>problem? How do I work with the encoding ?
>  
>
I've been looking at a similar problem recently. There's 
org.apache.lucene.analysis.ISOLatin1AccentFilter on the svn trunk which 
may be quite close to what you want. I have a perl script here that I 
used to generate downgrading table for a C program. I can let you have 
the perl script as is, but if there's enough interest(*) I'll use it to 
generate, say, CompoundAsciiFilter since it converts compound characters 
like , ,  (ffi-ligature, in case it doesn't display) to a, ae and 
ffi. It's actually built from 
http://www.unicode.org/Public/4.1.0/ucd/UnicodeData.txt so it winds up 
having nearly 1200 entries. An earlier version converted all compound 
characters to their constient parts, but this version just converts 
characters that are made up entirely of ASCII and modifiers.

jch

(*) Any interest, actually. Might be enough for me to be interested.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 12:29:12 2006
Return-Path: <java-user-return-18558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65389 invoked from network); 26 Jan 2006 12:29:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 12:29:12 -0000
Received: (qmail 7481 invoked by uid 500); 26 Jan 2006 12:29:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7361 invoked by uid 500); 26 Jan 2006 12:29:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7350 invoked by uid 99); 26 Jan 2006 12:29:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 04:29:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.76] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 04:29:01 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C62274.08F8666A"
Subject: Range number queries
Date: Thu, 26 Jan 2006 12:28:38 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE585CBF@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Range number queries
Thread-Index: AcYidAibSWQfd8EjSQuUCuwp9HfTnA==
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C62274.08F8666A
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

For the recent questions about this here are a couple of methods for
encoding/decoding long values that will be sorted into order by a range
query

=20

    public static String encodeLong(long num) {

      String hex =3D Long.toHexString(num < 0 ? Long.MAX_VALUE -
(0xffffffffffffffffL ^ num) : num);

      hex =3D (num < 0 ? "N" : "P")+"0000000000000000".substring(0,
16-hex.length()) + hex;

      return hex;

    }

   =20

    public static long decodeLong(String hex) {

      long num =3D Long.parseLong(hex.substring(1,17), 16);

      return hex.charAt(0) =3D=3D 'N' ? (Long.MAX_VALUE - num) ^
0xffffffffffffffffL : num;

    }

   =20

=20

=20

Hope this helps

=20

Mike

=20

www.ardentia.com the home of NetSearch

=20


------_=_NextPart_001_01C62274.08F8666A--

From java-user-return-18559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 13:53:28 2006
Return-Path: <java-user-return-18559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12221 invoked from network); 26 Jan 2006 13:53:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 13:53:28 -0000
Received: (qmail 27103 invoked by uid 500); 26 Jan 2006 13:53:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26662 invoked by uid 500); 26 Jan 2006 13:53:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26627 invoked by uid 99); 26 Jan 2006 13:53:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 05:53:18 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.6 as permitted sender)
Received: from [64.12.137.6] (HELO imo-m25.mx.aol.com) (64.12.137.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 05:53:17 -0800
Received: from Msftblows@aol.com
	by imo-m25.mx.aol.com (mail_out_v38_r6.3.) id h.1d4.4ccbc740 (16109)
	 for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 08:52:54 -0500 (EST)
Received: from  FWM-M03 (fwm-m03.webmail.aol.com [64.12.168.67]) by air-id12.mx.aol.com (v108_r1_b1.2) with ESMTP id MAILINID121-3eed43d8d43522f; Thu, 26 Jan 2006 08:52:53 -0500
Date: Thu, 26 Jan 2006 08:52:53 -0500
From: msftblows@aol.com
Message-Id: <8C7F096F05D9279-1730-CAB6@FWM-M03.sysops.aol.com>
Received: from 141.154.108.178 by FWM-M03.sysops.aol.com (64.12.168.67) with HTTP (WebMailUI); Thu, 26 Jan 2006 08:52:53 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <066701c62137$a75cc2f0$ca03010a@theoldstore.propelsystems.com>
X-Mailer: AOL WebMail 15106
Subject: Re: Highlighter
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7F096F0566B6B_1730_C8E4_FWM-M03.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 64.12.168.67
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7F096F0566B6B_1730_C8E4_FWM-M03.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Yes, that is correct...you need to rewrite the query. I was actually the main developer for the 1.5 .NET port, so if you come across any issues, please email me at my hotmail address which I check more often than this one...
 
-Joe Langley
 
-----Original Message-----
From: Gwyn Carwardine <gwyn@carwardine.net>
To: java-user@lucene.apache.org
Sent: Tue, 24 Jan 2006 22:43:53 -0000
Subject: RE: Highlighter


Yes I think you're right. On reading the "lucene in action" chapted on
highlighting I found it squirreled in the middle of the text. I get the
feeling that whilst I have so far found query parser to be the primary
method of building queries that this is not ht eprimary method used by other
people. Otherwise I would have expected to see the first example in the book
use query parser. So what I'm not quite sure is how come the norm is using
the direct queries.

it helped, thanks

-Gwyn

-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp] 
Sent: 24 January 2006 22:23
To: java-user@lucene.apache.org
Subject: RE: Highlighter

I've never used .net port of Lucene and highlighter,
but I believe we have to call Query.rewrite()
to expand the query expression when using
phrasequery, wildcardquery, regexquery and fuzzyquery,
then pass it to highlighter.

hope this helps,

Koji


> -----Original Message-----
> From: Gwyn Carwardine [mailto:gwyn@carwardine.net]
> Sent: Wednesday, January 25, 2006 6:28 AM
> To: java-user@lucene.apache.org
> Subject: Highlighter
> 
> 
> I'm using the .net port of highlighter (1.5) and I notice it doesn't
> highlight range or prefix queries.. Is this consistent with the java
> version? Only I note my standard reference of www.lucenebook.com seems to
> support highlighting.. is this using that same highlighter 
> version (couldn't
> find any verison info on the lucene apache site)
> 
> TIA
> 
> -Gwyn
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------MailBlocks_8C7F096F0566B6B_1730_C8E4_FWM-M03.sysops.aol.com--

From java-user-return-18560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 14:02:16 2006
Return-Path: <java-user-return-18560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17238 invoked from network); 26 Jan 2006 14:02:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 14:02:15 -0000
Received: (qmail 41605 invoked by uid 500); 26 Jan 2006 14:02:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41585 invoked by uid 500); 26 Jan 2006 14:02:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41574 invoked by uid 99); 26 Jan 2006 14:02:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 06:02:09 -0800
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.1 as permitted sender)
Received: from [64.12.137.1] (HELO imo-m20.mx.aol.com) (64.12.137.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 06:02:09 -0800
Received: from Msftblows@aol.com
	by imo-m20.mx.aol.com (mail_out_v38_r6.3.) id h.294.469ee7a (15886)
	 for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 09:01:43 -0500 (EST)
Received: from  FWM-M03 (fwm-m03.webmail.aol.com [64.12.168.67]) by air-id08.mx.aol.com (v108_r1_b1.2) with ESMTP id MAILINID81-3e0e43d8d647288; Thu, 26 Jan 2006 09:01:43 -0500
Date: Thu, 26 Jan 2006 09:01:43 -0500
Message-Id: <8C7F0982C157871-1730-CB32@FWM-M03.sysops.aol.com>
From: msftblows@aol.com
References: <10361639FF4CA04ABB30F54683E4FB8505667726@exchange2.home.zooplus.de> <43CE0842.1070002@dfki.de> <8C1DE5FA-E2B1-42A2-A22C-D2D69D9039C6@ehatchersolutions.com>
Received: from 141.154.108.178 by FWM-M03.sysops.aol.com (64.12.168.67) with HTTP (WebMailUI); Thu, 26 Jan 2006 09:01:43 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <8C1DE5FA-E2B1-42A2-A22C-D2D69D9039C6@ehatchersolutions.com>
X-Mailer: AOL WebMail 15106
Subject: Re: SoundEx
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C7F0982C157871_1730_C94F_FWM-M03.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 64.12.168.67
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C7F0982C157871_1730_C94F_FWM-M03.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

You can also look at Phonetix which has many implementations of this... 
 
-----Original Message-----
From: Erik Hatcher <erik@ehatchersolutions.com>
To: java-user@lucene.apache.org
Sent: Wed, 18 Jan 2006 05:41:30 -0500
Subject: Re: SoundEx


On Jan 18, 2006, at 4:20 AM, Christian Reuschling wrote: 
> yes, look at the 'contributions' link at the lucene-homepage. 
> The 'Phonetix'-project provides an implementation for soudex, 
> metaphor and double-metaphor. Simply use their analyzer. I am 
> not sure what the behaviour is in the case of wildcards. Have 
> anyone an answer? 
 
You can always index the original term in the same position as an encoded (soundex, metaphone, etc) term, or into a different field. 
 
To be really clever, I suppose, you'd want to enumerate all terms that match the wildcard expression, then look up the ones that "sound like" those. 
 
  Erik 
 
> 
> regards 
> 
> Christian 
> 
> 
> Steven Pannell wrote: 
>> Hi, 
>> Does anyone know if there is a SoundEx analyzer implementation >> available for 
>> lucene??? 
>> thanks. 
>> Steve, 
>> --------------------------------------------------------------------- 
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
>> For additional commands, e-mail: java-user-help@lucene.apache.org 
> 
> --------------------------------------------------------------------- 
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
> For additional commands, e-mail: java-user-help@lucene.apache.org 
 
--------------------------------------------------------------------- 
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 
 

----------MailBlocks_8C7F0982C157871_1730_C94F_FWM-M03.sysops.aol.com--

From java-user-return-18561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 15:21:15 2006
Return-Path: <java-user-return-18561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69537 invoked from network); 26 Jan 2006 15:21:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 15:21:14 -0000
Received: (qmail 96021 invoked by uid 500); 26 Jan 2006 15:21:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96002 invoked by uid 500); 26 Jan 2006 15:21:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95991 invoked by uid 99); 26 Jan 2006 15:21:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:21:08 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:21:06 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 26 Jan 2006 16:20:44 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6228C.135B75FA"
Subject: Performance tips?
Date: Thu, 26 Jan 2006 16:20:44 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003446BA085@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance tips?
Thread-Index: AcYijBNJWH/222I8Sz6c8GLVsAy0EA==
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 26 Jan 2006 15:20:44.0664 (UTC) FILETIME=[139FBF80:01C6228C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6228C.135B75FA
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

Got more questions regarding Lucene and this time it's about performance
;-)

=20

We currently are using RAMDirectories to read our Indexes. This has now
become a problem since our index has grown to appx 5GB of RAM and the
machine we are running on only has 12GB of RAM and everytime we refresh
the RAMDirectories we of course keep the old Searchables so that there
is no service interruption.

=20

This means we consume 10GB of RAM from time to time. One solution is of
course to stop using RAM and read anything from disk but I can imagine
that the performance will decrease significantly. Is there any
workaround you can think of? Perhaps a hybrid between FSDirectory and
RAMDirectory. For example that only frequently searched documents are
cached and the others are read from disk?

=20

Well, I'd appreciate any ideas at all!
Thanks
/Daniel


------_=_NextPart_001_01C6228C.135B75FA--

From java-user-return-18562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 15:26:55 2006
Return-Path: <java-user-return-18562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72040 invoked from network); 26 Jan 2006 15:26:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 15:26:54 -0000
Received: (qmail 3566 invoked by uid 500); 26 Jan 2006 15:26:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3283 invoked by uid 500); 26 Jan 2006 15:26:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3272 invoked by uid 99); 26 Jan 2006 15:26:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:26:48 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DATE_IN_FUTURE_06_12
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.95] (HELO smtp006.mail.ukl.yahoo.com) (217.12.11.95)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 26 Jan 2006 07:26:47 -0800
Received: (qmail 12544 invoked from network); 26 Jan 2006 15:26:20 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.fr;
  h=Received:From:To:Cc:Subject:Date:Message-ID:MIME-Version:Content-Type:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE:In-Reply-To:Importance;
  b=DzGoHoEaigzAcatDEm8Nxo7IuVGM16V5kpi8tx76cQNrkKsL8kEzmdCQIT0Y+M/Y+BybjFyPVIx4JzE4z5r0oTXaMT20KSgiIvn2DitmmmZBgYSWXRQRbXXZ6y5MkKSO8w/kh0HO18Pi9XBFe9nkDNodX3a8nToeTKVHj6dgOpE=  ;
Received: from unknown (HELO platoon) (arnaudbuffet@82.236.230.109 with login)
  by smtp006.mail.ukl.yahoo.com with SMTP; 26 Jan 2006 15:26:20 -0000
From: "arnaudbuffet" <arnaudbuffet@yahoo.fr>
To: <java-user@lucene.apache.org>
Cc: <jch@scalix.com>
Subject: RE : encoding
Date: Thu, 26 Jan 2006 16:26:19 -0800
Message-ID: <003401c622d8$4bef6ba0$1e00a8c0@platoon>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0035_01C62295.3DCC2BA0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <43D8ABFC.8090400@scalix.com>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0035_01C62295.3DCC2BA0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Hello and thanks for your answer.

I do not find the ISOLatin1AccentFilter class in my lucene jar, but I =
find one on google attach to this mail, could you tell me if it is the =
good one?

I do not see anything in this class which can help me. This program will =
replace some accent characters but my problem is:

if I try to index a text file encoded in Western 1252 for exemple with =
the Turkish text "d=C3=BCzenledi=C4=9Fimiz kampanyam=C4=B1za" the lucene =
index will contain re encoded data with &#0;&#17;k&#0;&#0; ....

Thanks & regards

A.

-----Message d'origine-----
De : John Haxby [mailto:jch@scalix.com]=20
Envoy=C3=A9 : jeudi 26 janvier 2006 03:01
=C3=80 : java-user@lucene.apache.org
Objet : Re: encoding

arnaudbuffet wrote:

>For text files, data could be in different languages so different
>encoding. If data are in Turkish for exemple, all special characters =
and
>accents are not recognized in my lucene index. Is there a way to =
resolve
>problem? How do I work with the encoding ?
> =20
>
I've been looking at a similar problem recently. There's=20
org.apache.lucene.analysis.ISOLatin1AccentFilter on the svn trunk which=20
may be quite close to what you want. I have a perl script here that I=20
used to generate downgrading table for a C program. I can let you have=20
the perl script as is, but if there's enough interest(*) I'll use it to=20
generate, say, CompoundAsciiFilter since it converts compound characters =

like =C3=A1, =C3=A6, =EF=AC=83 (ffi-ligature, in case it doesn't =
display) to a, ae and=20
ffi. It's actually built from=20
http://www.unicode.org/Public/4.1.0/ucd/UnicodeData.txt so it winds up=20
having nearly 1200 entries. An earlier version converted all compound=20
characters to their constient parts, but this version just converts=20
characters that are made up entirely of ASCII and modifiers.

jch

(*) Any interest, actually. Might be enough for me to be interested.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


------=_NextPart_000_0035_01C62295.3DCC2BA0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPart_000_0035_01C62295.3DCC2BA0--


	

	
		
___________________________________________________________________________ 
Nouveau : tlphonez moins cher avec Yahoo! Messenger ! Dcouvez les tarifs exceptionnels pour appeler la France et l'international.
Tlchargez sur http://fr.messenger.yahoo.com

From java-user-return-18563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 15:49:45 2006
Return-Path: <java-user-return-18563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85654 invoked from network); 26 Jan 2006 15:49:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 15:49:45 -0000
Received: (qmail 43755 invoked by uid 500); 26 Jan 2006 15:49:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43727 invoked by uid 500); 26 Jan 2006 15:49:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43716 invoked by uid 99); 26 Jan 2006 15:49:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:49:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:49:38 -0800
Received: by wproxy.gmail.com with SMTP id i21so372714wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 07:49:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=srx2ZthmLqShl6N/4x4TLqRVorQ60pQiR57klrsbWF4jYx4NBZIuW7uPsvoNt2HIPO6bAbJwbuHP0y2a8x38tzogOobe04eYfZoobyQILz9RLhxv+VjIWN80Kzvou2ppED+i0qQqHozG9F1bl3O6mvxErcAeKv0GJBnx1EpHT3M=
Received: by 10.54.127.3 with SMTP id z3mr2654683wrc;
        Thu, 26 Jan 2006 07:49:17 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 07:49:17 -0800 (PST)
Message-ID: <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>
Date: Thu, 26 Jan 2006 10:49:17 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <200601260859.54335.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3809_17970802.1138290557327"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43D7CE1E.30100@apache.org>
	 <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
	 <200601260859.54335.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3809_17970802.1138290557327
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Paul,

I tried this but it ran out of memory trying to read the 500Mb .fdt file. I
tried various values for MAX_BBUF, but it still ran out of memory (I'm usin=
g
-Xmx1600M, which is the jvm's maximum value (v1.5))  I'll give
NioFSDirectory a try.

Thanks,
Peter


On 1/26/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
>
> On Wednesday 25 January 2006 20:51, Peter Keegan wrote:
> > The index is non-compound format and optimized. Yes, I did try
> > MMapDirectory, but the index is too big - 3.5 GB (1.3GB is term vectors=
)
> >
> > Peter
> >
> You could also give this a try:
>
> http://issues.apache.org/jira/browse/LUCENE-283
>
> Regards,
> Paul Elschot
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3809_17970802.1138290557327--

From java-user-return-18564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 15:56:43 2006
Return-Path: <java-user-return-18564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89074 invoked from network); 26 Jan 2006 15:56:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 15:56:43 -0000
Received: (qmail 54199 invoked by uid 500); 26 Jan 2006 15:56:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54174 invoked by uid 500); 26 Jan 2006 15:56:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54163 invoked by uid 99); 26 Jan 2006 15:56:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:56:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:56:35 -0800
Received: by wproxy.gmail.com with SMTP id i21so374331wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 07:56:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UhU3V42u0m+7JIrveOahpjjpjCkrTDw43SjcfXB3ASPfB8Wqsba1fhBFUAMXtwcgPnVTXoUoozjOY5dqSe3FuWhkdsrGdCsAS0x5nG1ZTSNwrnBKWmzOe0EwfaQPn6/DmdGW23CbfFczfHDJ3zPqfgvCR5R/r/qwe9B1b55WQUU=
Received: by 10.54.123.3 with SMTP id v3mr2653194wrc;
        Thu, 26 Jan 2006 07:56:14 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 07:56:14 -0800 (PST)
Message-ID: <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
Date: Thu, 26 Jan 2006 10:56:14 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3979_15483125.1138290974500"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3979_15483125.1138290974500
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Ray,

The throughput is worse with NioFSDIrectory than with the FSDIrectory
(patched and unpatched). The bottleneck still seems to be synchronization,
this time in NioFile.getChannel (7 of the 8 threads were blocked there
during one snapshot).  I tried this with 4 and 8 channels.

The throughput with the patched FSDirectory was about the same as before th=
e
patch.

Thanks,
Peter


On 1/26/06, Ray Tsang <saturnism@gmail.com> wrote:
>
> Speaking of NioFSDirectory, I thought there was one posted a while
> ago, is this something that can be used?
> http://issues.apache.org/jira/browse/LUCENE-414
>
> ray,
>
> On 11/22/05, Doug Cutting <cutting@apache.org> wrote:
> > Jay Booth wrote:
> > > I had a similar problem with threading, the problem turned out to be
> that in
> > > the back end of the FSDirectory class I believe it was, there was a
> > > synchronized block on the actual RandomAccessFile resource when
> reading a
> > > block of data from it... high-concurrency situations caused threads t=
o
> stack
> > > up in front of this synchronized block and our CPU time wound up bein=
g
> spent
> > > thrashing between blocked threads instead of doing anything useful.
> >
> > This is correct.  In Lucene, multiple streams per file are created by
> > cloning, and all clones of an FSDirectory input stream share a
> > RandomAccessFile and must synchronize input from it.  MmapDirectory doe=
s
> > not have this limitation.  If your indexes are less than a few GB or yo=
u
> > are using 64-bit hardware, then MmapDirectory should work well for you.
> >   Otherwise it would be simple to write an nio-based Directory that doe=
s
> > not use mmap that is also unsynchronized.  Such a contribution would be
> > welcome.
> >
> > > Making multiple IndexSearchers and FSDirectories didn't help because
> in the
> > > back end, lucene consults a singleton HashMap of some kind (don't
> remember
> > > implementation) that maintained a single FSDirectory for any given
> index
> > > being accessed from the JVM... multiple calls to
> FSDirectory.getDirectory
> > > actually return the same FSDirectory object with synchronization at
> the same
> > > point.
> >
> > This does not make sense to me.  FSDirectory does keep a cache of
> > FSDirectory instances, but i/o should not be synchronized on these.  On=
e
> > should be able to open multiple input streams on the same file from an
> > FSDirectory.  But this would not be a great solution, since file handle
> > limits would soon become a problem.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_3979_15483125.1138290974500--

From java-user-return-18565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 15:59:57 2006
Return-Path: <java-user-return-18565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90610 invoked from network); 26 Jan 2006 15:59:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 15:59:56 -0000
Received: (qmail 62430 invoked by uid 500); 26 Jan 2006 15:59:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62408 invoked by uid 500); 26 Jan 2006 15:59:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62397 invoked by uid 99); 26 Jan 2006 15:59:48 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.182.202 as permitted sender)
Received: from [64.233.182.202] (HELO nproxy.gmail.com) (64.233.182.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 07:59:48 -0800
Received: by nproxy.gmail.com with SMTP id l35so134765nfa
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 07:58:26 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=AuWvaXcGpds75wyLO+5lYdZs9oJCbcYJHd0m8nCiiPmNa9yOAgoG1FXLiMf/+H+k9IwrXzyzyABcFG9H1VTKESWqXVbkp5gC1GGj1Kt/0nhS8ryznOTQa1ztDIDpS4+8/PZKLsuk8TyQlsdXi8YA2sOw+oSD9YXRZeRdnHLV330=
Received: by 10.48.239.6 with SMTP id m6mr67426nfh;
        Thu, 26 Jan 2006 07:58:26 -0800 (PST)
Received: by 10.49.93.1 with HTTP; Thu, 26 Jan 2006 07:58:26 -0800 (PST)
Message-ID: <c68e39170601260758r5994e5cbt57f83d99a216309e@mail.gmail.com>
Date: Thu, 26 Jan 2006 10:58:26 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43D7CE1E.30100@apache.org>
	 <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
	 <200601260859.54335.paul.elschot@xs4all.nl>
	 <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hmmm, can you run the 64 bit version of Windows (and hence a 64 bit JVM?)
We're running with heap sizes up to 8GB (RH Linux 64 bit, Opterons,
Sun Java 1.5)

-Yonik

On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> Paul,
>
> I tried this but it ran out of memory trying to read the 500Mb .fdt file.=
 I
> tried various values for MAX_BBUF, but it still ran out of memory (I'm us=
ing
> -Xmx1600M, which is the jvm's maximum value (v1.5))  I'll give
> NioFSDirectory a try.
>
> Thanks,
> Peter
>
>
> On 1/26/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> >
> > On Wednesday 25 January 2006 20:51, Peter Keegan wrote:
> > > The index is non-compound format and optimized. Yes, I did try
> > > MMapDirectory, but the index is too big - 3.5 GB (1.3GB is term vecto=
rs)
> > >
> > > Peter
> > >
> > You could also give this a try:
> >
> > http://issues.apache.org/jira/browse/LUCENE-283
> >
> > Regards,
> > Paul Elschot
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 16:03:59 2006
Return-Path: <java-user-return-18566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93302 invoked from network); 26 Jan 2006 16:03:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 16:03:59 -0000
Received: (qmail 70030 invoked by uid 500); 26 Jan 2006 16:03:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70004 invoked by uid 500); 26 Jan 2006 16:03:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69993 invoked by uid 99); 26 Jan 2006 16:03:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 08:03:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 08:03:51 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C11CD13E201A; Thu, 26 Jan 2006 11:03:30 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id D7DB713E201A
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 11:03:27 -0500 (EST)
In-Reply-To: <003401c622d8$4bef6ba0$1e00a8c0@platoon>
References: <003401c622d8$4bef6ba0$1e00a8c0@platoon>
Mime-Version: 1.0 (Apple Message framework v746.2)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=UTF-8; delsp=yes; format=flowed
Message-Id: <5F466DF3-8C91-4B40-87DB-6D1EE70561FE@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: RE : encoding
Date: Thu, 26 Jan 2006 11:03:23 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Jan 26, 2006, at 7:26 PM, arnaudbuffet wrote:
> I do not find the ISOLatin1AccentFilter class in my lucene jar, but =20=

> I find one on google attach to this mail, could you tell me if it =20
> is the good one?

This used to be in contrib/analyzers but has been moved into the core =20=

(Subversion only for now):

	http://svn.apache.org/repos/asf/lucene/java/trunk/src/java/org/=20=

apache/lucene/analysis/

> I do not see anything in this class which can help me. This program =20=

> will replace some accent characters but my problem is:
>
> if I try to index a text file encoded in Western 1252 for exemple =20
> with the Turkish text "d=C3=BCzenledi=C4=9Fimiz kampanyam=C4=B1za" the =
lucene =20
> index will contain re encoded data with &#0;&#17;k&#0;&#0; ....

Reading encoding files is your applications responsibility.  You need =20=

to be sure to read the files in using the proper encoding.  Once read =20=

properly into Java all will be well as far as Lucene indexing the =20
characters.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 17:18:09 2006
Return-Path: <java-user-return-18567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44117 invoked from network); 26 Jan 2006 17:18:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 17:18:08 -0000
Received: (qmail 18964 invoked by uid 500); 26 Jan 2006 17:18:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18868 invoked by uid 500); 26 Jan 2006 17:18:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18835 invoked by uid 99); 26 Jan 2006 17:18:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 09:18:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 09:17:58 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11/8.12.11) with ESMTP id k0QHHaq5013487
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 17:17:37 GMT
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11/8.12.11/Submit) with ESMTP id k0QHHaua013483
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 17:17:36 GMT
Received: from [10.11.108.231] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.0.171)
    via ESMTP; Thu, 26 Jan 2006 17:17:36 +0000 (GMT)
Date: Thu, 26 Jan 2006 17:17:35 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <43D9042F.7060408@scalix.com>
In-Reply-To: <003401c622d8$4bef6ba0$1e00a8c0@platoon>
References: <003401c622d8$4bef6ba0$1e00a8c0@platoon>
Subject: Re: encoding
x-scalix-Hops: 1
User-Agent: Mozilla Thunderbird 1.0.7-1.4.1 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8";
	format="flowed"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

arnaudbuffet wrote:

>if I try to index a text file encoded in Western 1252 for exemple with the Turkish text "dzenlediimiz kampanyamza" the lucene index will contain re encoded data with &#0;&#17;k&#0;&#0; ....
>  
>
ISOLatin1AccentFilter.removeAccents() converts that string to
"duzenlediimiz kampanyamza" The g-breve and the dotless-i are
untouched. My AsciiDecomposeFilter.decompose() converts the string to
"duzenledigimiz kampanyamiza".

However, since you're seeing those rather odd entities, it looks as
though you're not actually indexing what you think you're indexing. As
Erik says, you need to make sure that you're reading files with the
proper encoding and removing accent and adding dots won't help.

jch



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 17:54:07 2006
Return-Path: <java-user-return-18568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62060 invoked from network); 26 Jan 2006 17:54:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 17:54:06 -0000
Received: (qmail 94342 invoked by uid 500); 26 Jan 2006 17:54:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94317 invoked by uid 500); 26 Jan 2006 17:54:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94306 invoked by uid 99); 26 Jan 2006 17:54:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 09:54:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 09:54:00 -0800
Received: by wproxy.gmail.com with SMTP id i21so403194wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 09:53:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=WiQ3pONMepMdJd8dBK1bihDNGgiEg1M3k5m8lxJluMR45mTHDZsdihiXnUEyEA/Gmchjjyf9xBK/rsf8o2hngfSaeueBwnXtAmxMTdIDmkfCtNFABfQJGRiYAxN9L/bC2DATI4Kky7rU0mPIdQcluXiqnl52JowlLK4h+AFFX3Q=
Received: by 10.54.73.13 with SMTP id v13mr2794907wra;
        Thu, 26 Jan 2006 09:53:39 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 09:53:39 -0800 (PST)
Message-ID: <e994873a0601260953w7dae2331i1686d0ddcb4d992e@mail.gmail.com>
Date: Thu, 26 Jan 2006 12:53:39 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <c68e39170601260758r5994e5cbt57f83d99a216309e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6051_7343721.1138298019743"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43D7CE1E.30100@apache.org>
	 <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
	 <200601260859.54335.paul.elschot@xs4all.nl>
	 <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>
	 <c68e39170601260758r5994e5cbt57f83d99a216309e@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6051_7343721.1138298019743
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'd love to try this, but I'm not aware of any 64-bit jvms for Windows on
Intel. If you know of any, please let me know. Linux may be an option, too.

btw, I'm getting a sustained rate of 135 queries/sec with 4 threads, which
is pretty impressive. Another way around the concurrency limit is to run
multiple jvms. The throughput of each is less, but the aggregate throughput
is higher.

Peter


On 1/26/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> Hmmm, can you run the 64 bit version of Windows (and hence a 64 bit JVM?)
> We're running with heap sizes up to 8GB (RH Linux 64 bit, Opterons,
> Sun Java 1.5)
>
> -Yonik
>
> On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > Paul,
> >
> > I tried this but it ran out of memory trying to read the 500Mb .fdt
> file. I
> > tried various values for MAX_BBUF, but it still ran out of memory (I'm
> using
> > -Xmx1600M, which is the jvm's maximum value (v1.5))  I'll give
> > NioFSDirectory a try.
> >
> > Thanks,
> > Peter
> >
> >
> > On 1/26/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > >
> > > On Wednesday 25 January 2006 20:51, Peter Keegan wrote:
> > > > The index is non-compound format and optimized. Yes, I did try
> > > > MMapDirectory, but the index is too big - 3.5 GB (1.3GB is term
> vectors)
> > > >
> > > > Peter
> > > >
> > > You could also give this a try:
> > >
> > > http://issues.apache.org/jira/browse/LUCENE-283
> > >
> > > Regards,
> > > Paul Elschot
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_6051_7343721.1138298019743--

From java-user-return-18569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 18:18:19 2006
Return-Path: <java-user-return-18569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73849 invoked from network); 26 Jan 2006 18:18:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 18:18:18 -0000
Received: (qmail 31161 invoked by uid 500); 26 Jan 2006 18:18:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30282 invoked by uid 500); 26 Jan 2006 18:18:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30267 invoked by uid 99); 26 Jan 2006 18:18:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:18:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.195 as permitted sender)
Received: from [64.233.182.195] (HELO nproxy.gmail.com) (64.233.182.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:18:11 -0800
Received: by nproxy.gmail.com with SMTP id l35so163913nfa
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 10:17:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Ev+Guvd5YAbmNRIVAMxiaBGAUIGsj8TDpP2d5ORl5+o7jesYZYJ8NBB/zInuzYkmesMhPBm1X/0ODGjqNpeShyQiNZiyYT1vyd/UaHQlk7RDMF/CpsiUZidoieXP4EAghmrPf1cIXkuULsGJ4UJMdGDcuvz2+uyBAxbS1PhYEZ0=
Received: by 10.49.26.9 with SMTP id d9mr82620nfj;
        Thu, 26 Jan 2006 10:17:16 -0800 (PST)
Received: by 10.49.93.1 with HTTP; Thu, 26 Jan 2006 10:17:16 -0800 (PST)
Message-ID: <c68e39170601261017w3eb8e80s3fc28c725669af19@mail.gmail.com>
Date: Thu, 26 Jan 2006 13:17:16 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601260953w7dae2331i1686d0ddcb4d992e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43D7CE1E.30100@apache.org>
	 <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
	 <200601260859.54335.paul.elschot@xs4all.nl>
	 <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>
	 <c68e39170601260758r5994e5cbt57f83d99a216309e@mail.gmail.com>
	 <e994873a0601260953w7dae2331i1686d0ddcb4d992e@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

BEA Jrockit supports both AMD64 and Intel's EM64T (basically renamed AMD64)
http://www.bea.com/framework.jsp?CNT=3Dindex.htm&FP=3D/content/products/jro=
ckit/

and Sun's Java 1.5 for "Windows AMD64 Platform"
They advertize AMD64, presumably because that's what there servers
use, but it should work on Intel's x86_64 (EM64T) also.  The release
notes have the following:
"With the release, J2SE support for Windows 64-bit has progressed from
release candidate to final release. This version runs on AMD64/EM64T
64-bit mode machines with Windows Server 2003 x64 Editions."

Of course, if the platform is up to you, I'd choose Linux :-)

-Yonik

On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> I'd love to try this, but I'm not aware of any 64-bit jvms for Windows on
> Intel. If you know of any, please let me know. Linux may be an option, to=
o.
>
> btw, I'm getting a sustained rate of 135 queries/sec with 4 threads, whic=
h
> is pretty impressive. Another way around the concurrency limit is to run
> multiple jvms. The throughput of each is less, but the aggregate throughp=
ut
> is higher.
>
> Peter
>
>
> On 1/26/06, Yonik Seeley <yseeley@gmail.com> wrote:
> >
> > Hmmm, can you run the 64 bit version of Windows (and hence a 64 bit JVM=
?)
> > We're running with heap sizes up to 8GB (RH Linux 64 bit, Opterons,
> > Sun Java 1.5)
> >
> > -Yonik
> >
> > On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > > Paul,
> > >
> > > I tried this but it ran out of memory trying to read the 500Mb .fdt
> > file. I
> > > tried various values for MAX_BBUF, but it still ran out of memory (I'=
m
> > using
> > > -Xmx1600M, which is the jvm's maximum value (v1.5))  I'll give
> > > NioFSDirectory a try.
> > >
> > > Thanks,
> > > Peter
> > >
> > >
> > > On 1/26/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > >
> > > > On Wednesday 25 January 2006 20:51, Peter Keegan wrote:
> > > > > The index is non-compound format and optimized. Yes, I did try
> > > > > MMapDirectory, but the index is too big - 3.5 GB (1.3GB is term
> > vectors)
> > > > >
> > > > > Peter
> > > > >
> > > > You could also give this a try:
> > > >
> > > > http://issues.apache.org/jira/browse/LUCENE-283
> > > >
> > > > Regards,
> > > > Paul Elschot
> > > >
> > > > -------------------------------------------------------------------=
--
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 18:45:17 2006
Return-Path: <java-user-return-18570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87592 invoked from network); 26 Jan 2006 18:45:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 18:45:17 -0000
Received: (qmail 68907 invoked by uid 500); 26 Jan 2006 18:45:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68880 invoked by uid 500); 26 Jan 2006 18:45:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68869 invoked by uid 99); 26 Jan 2006 18:45:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:45:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:45:10 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 33ABA5B7BC; Thu, 26 Jan 2006 10:44:37 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 305A57F403
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 10:44:37 -0800 (PST)
Date: Thu, 26 Jan 2006 10:44:37 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Getting the document number (with IndexReader)
In-Reply-To: <6c33f9950601260047l58f9134er85626c678222a93c@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601261038350.2508@hal.rescomp.berkeley.edu>
References: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com> 
 <200601260933.16214.paul.elschot@xs4all.nl>
 <6c33f9950601260047l58f9134er85626c678222a93c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > The document number is the variable i in this case.
: If the document number is the variable i (enumerated from numDocs()),
: what's the difference between numDocs() and maxDoc() in this case? I
: was previously under the impression that the internal docNum might be
: different to the counter.

Iterating between 1 and maxDoc-1 will give you the range of all possible
doc ids, but some of those docs may have already been deleted.  I believe
that is what you want to do. ... you can check if a doc is deleted using
IndexReader.isDeleted(i)

numDocs is implimented as maxDocs() - deletedDocs.count(), so i don't
think it ever makes sese to iterate up to numDocs.

: I'm doing something akin to a rangeQuery, where I delete documents
: within a certain range (in addition to other criteria). Is it better
: to do a query on the range, mark all the docNums getting them with
: Hits.id(), and then retrieve docs and test for deletion according to
: that?

Take a look at the way RangeFilter.bits() is implimented.  if you
cut/paste that code and replace the call to bits.set(termDocs.doc()); with
reader.delete(termDocs.doc()) I think you've have exactly what you want.

Or, since cutting/pasting code is "A Bad Thing" from a maintenence/bug
fixing standpoint, you could just call RangeFilter.bits(reader) yourself,
and then iterate of the set bits and call delete on each one.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 18:51:34 2006
Return-Path: <java-user-return-18571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91038 invoked from network); 26 Jan 2006 18:51:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 18:51:34 -0000
Received: (qmail 77576 invoked by uid 500); 26 Jan 2006 18:51:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77556 invoked by uid 500); 26 Jan 2006 18:51:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77545 invoked by uid 99); 26 Jan 2006 18:51:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:51:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.29] (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:51:25 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0QIp4Yh019505
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 19:51:04 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Getting the document number (with IndexReader)
Date: Thu, 26 Jan 2006 19:51:03 +0100
User-Agent: KMail/1.8.2
References: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com> <200601260933.16214.paul.elschot@xs4all.nl> <6c33f9950601260047l58f9134er85626c678222a93c@mail.gmail.com>
In-Reply-To: <6c33f9950601260047l58f9134er85626c678222a93c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601261951.03834.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 26 January 2006 09:47, Chun Wei Ho wrote:
> Hi,
> 
> Thanks for the help, just a few more questions:
> 
> On 1/26/06, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > On Thursday 26 January 2006 09:15, Chun Wei Ho wrote:
> > > I am attempting to prune an index by getting each document in turn and
> > > then checking/deleting it:
> > >
> > > IndexReader ir = IndexReader.open(path);
> > > for(int i=0;i<ir.numDocs();i++) {
> > >       Document doc = ir.document(i);
> > >       if(thisDocShouldBeDeleted(doc)) {
> > >               ir.delete(docNum); // <- I need the docNum for doc.
> > >       }
> > > }
> > >
> > > How do I get the docNum for IndexReader.delete() function in the above
> > > case? Is there a API function I am missing? I am working with a merged
> >
> > The document number is the variable i in this case.
> If the document number is the variable i (enumerated from numDocs()),
> what's the difference between numDocs() and maxDoc() in this case? I
> was previously under the impression that the internal docNum might be
> different to the counter.

Iirc, the difference between maxDoc() + 1 and numDocs() is the number of
deleted documents. Check the javadocs to be sure.

> 
> > > index over different segments so the docNum might not be in running
> > > sequence with the counter i.
> > > In general, is there a better way to do this sort of thing?
> >
> > This code:
> >
> >         Document doc = ir.document(i);
> >
> > normally retrieves all the stored fields of the document and that is
> > quite costly. In case you know that the document(s) to be deleted
> > match(es) a Term, it's better to use IndexReader.delete(Term).
> 
> I'm doing something akin to a rangeQuery, where I delete documents
> within a certain range (in addition to other criteria). Is it better
> to do a query on the range, mark all the docNums getting them with
> Hits.id(), and then retrieve docs and test for deletion according to
> that?

In that case it is faster to use the Terms generated inside the range query
and then use these on IndexReader.delete(Term).
To generate the terms have a look at the source code of the rewrite()
method of RangeQuery here:
http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/src/java/org/apache/lucene/search/

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 18:55:47 2006
Return-Path: <java-user-return-18572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93785 invoked from network); 26 Jan 2006 18:55:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 18:55:46 -0000
Received: (qmail 85521 invoked by uid 500); 26 Jan 2006 18:55:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85491 invoked by uid 500); 26 Jan 2006 18:55:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85480 invoked by uid 99); 26 Jan 2006 18:55:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:55:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.30] (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 10:55:39 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0QItHMq066643
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 19:55:17 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Getting the document number (with IndexReader)
Date: Thu, 26 Jan 2006 19:55:17 +0100
User-Agent: KMail/1.8.2
References: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com> <6c33f9950601260047l58f9134er85626c678222a93c@mail.gmail.com> <Pine.LNX.4.58.0601261038350.2508@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0601261038350.2508@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601261955.17197.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 26 January 2006 19:44, Chris Hostetter wrote:
> 
> : > The document number is the variable i in this case.
> : If the document number is the variable i (enumerated from numDocs()),
> : what's the difference between numDocs() and maxDoc() in this case? I
> : was previously under the impression that the internal docNum might be
> : different to the counter.
> 
> Iterating between 1 and maxDoc-1 will give you the range of all possible
> doc ids, but some of those docs may have already been deleted.  I believe
> that is what you want to do. ... you can check if a doc is deleted using
> IndexReader.isDeleted(i)
> 
> numDocs is implimented as maxDocs() - deletedDocs.count(), so i don't
> think it ever makes sese to iterate up to numDocs.
> 
> : I'm doing something akin to a rangeQuery, where I delete documents
> : within a certain range (in addition to other criteria). Is it better
> : to do a query on the range, mark all the docNums getting them with
> : Hits.id(), and then retrieve docs and test for deletion according to
> : that?
> 
> Take a look at the way RangeFilter.bits() is implimented.  if you
> cut/paste that code and replace the call to bits.set(termDocs.doc()); with
> reader.delete(termDocs.doc()) I think you've have exactly what you want.
> 
> Or, since cutting/pasting code is "A Bad Thing" from a maintenence/bug
> fixing standpoint, you could just call RangeFilter.bits(reader) yourself,
> and then iterate of the set bits and call delete on each one.

Perhaps an extra rewrite method with a term visitor argument?

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 19:53:51 2006
Return-Path: <java-user-return-18573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23989 invoked from network); 26 Jan 2006 19:53:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 19:53:51 -0000
Received: (qmail 90415 invoked by uid 500); 26 Jan 2006 19:53:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90382 invoked by uid 500); 26 Jan 2006 19:53:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90371 invoked by uid 99); 26 Jan 2006 19:53:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 11:53:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.72] (HELO smtpout.mac.com) (17.250.248.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 11:53:44 -0800
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (Xserve/8.12.11/smtpout15/MantshX 4.0) with ESMTP id k0QJrOiE026187
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 11:53:24 -0800 (PST)
Received: from [10.0.1.52] (adsl-84-226-105-241.adslplus.ch [84.226.105.241])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id k0QJrIUv026736
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 11:53:23 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <43D8ABFC.8090400@scalix.com>
References: <003601c622a1$d1507d70$1e00a8c0@platoon> <43D8ABFC.8090400@scalix.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Message-Id: <925bbacc4a5760cbfed4a433acd4207d@mac.com>
Content-Transfer-Encoding: quoted-printable
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: encoding
Date: Thu, 26 Jan 2006 20:53:14 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

On Jan 26, 2006, at 12:01, John Haxby wrote:

> I have a perl script here that I used to generate downgrading table=20
> for a C program. I can let you have the perl script as is, but if=20
> there's enough interest(*) I'll use it to generate, say,=20
> CompoundAsciiFilter since it converts compound characters like =C3=A1, =
=C3=A6, =EF=AC=83=20
> (ffi-ligature, in case it doesn't display) to a, ae and ffi. It's=20
> actually built from=20
> http://www.unicode.org/Public/4.1.0/ucd/UnicodeData.txt so it winds up=20=

> having nearly 1200 entries. An earlier version converted all compound=20=

> characters to their constient parts, but this version just converts=20
> characters that are made up entirely of ASCII and modifiers.

I would love to see this. I presently have a somewhat unwieldy=20
conversion table [1] that I would love to get ride of :))

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/

[1] http://dev.alt.textdrive.com/browser/lu/LUStringBasicLatin.txt





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 19:56:17 2006
Return-Path: <java-user-return-18574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25866 invoked from network); 26 Jan 2006 19:56:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 19:56:15 -0000
Received: (qmail 97075 invoked by uid 500); 26 Jan 2006 19:56:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96821 invoked by uid 500); 26 Jan 2006 19:56:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96810 invoked by uid 99); 26 Jan 2006 19:56:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 11:56:09 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 11:56:08 -0800
Received: from pimout1-ext.prodigy.net (pimout1-int.prodigy.net [207.115.5.65])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0QJtkap021654
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 14:55:46 -0500
X-ORBL: [69.228.232.128]
Received: from [192.168.168.15] (adsl-69-228-232-128.dsl.pltn13.pacbell.net [69.228.232.128])
	by pimout1-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0QJtYtc130170;
	Thu, 26 Jan 2006 14:55:39 -0500
Message-ID: <43D92935.1000809@apache.org>
Date: Thu, 26 Jan 2006 11:55:33 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <43820731.5000806@apache.org>	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com> <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
In-Reply-To: <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Keegan wrote:
> The throughput is worse with NioFSDIrectory than with the FSDIrectory
> (patched and unpatched). The bottleneck still seems to be synchronization,
> this time in NioFile.getChannel (7 of the 8 threads were blocked there
> during one snapshot).  I tried this with 4 and 8 channels.

Another thing to try might be to increase IndexOutputStream.BUFFER_SIZE, 
to say, 8192.  Note that you need to 'ant clean compile', since other 
files that reference this constant need to be recompiled.  Does that 
help any?

A 64-bit JVM with NioDirectory would really be optimal for this. 
Anything else either requires opening lots more file handles, or 
synchronizing on a few file handles, neither of which is attractive.  We 
could try to keep a pool of file handles for highly contended files, but 
that's tricky to implement.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 20:00:06 2006
Return-Path: <java-user-return-18575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27563 invoked from network); 26 Jan 2006 20:00:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 20:00:05 -0000
Received: (qmail 3077 invoked by uid 500); 26 Jan 2006 19:59:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3056 invoked by uid 500); 26 Jan 2006 19:59:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3045 invoked by uid 99); 26 Jan 2006 19:59:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 11:59:59 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 11:59:58 -0800
Received: from pimout1-ext.prodigy.net (pimout1-int.prodigy.net [207.115.5.65])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0QJxdap028116
	for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 14:59:40 -0500
X-ORBL: [69.228.232.128]
Received: from [192.168.168.15] (adsl-69-228-232-128.dsl.pltn13.pacbell.net [69.228.232.128])
	by pimout1-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0QJxa5v085070;
	Thu, 26 Jan 2006 14:59:37 -0500
Message-ID: <43D92A28.6050501@apache.org>
Date: Thu, 26 Jan 2006 11:59:36 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <43820731.5000806@apache.org>	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com> <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com> <43D92935.1000809@apache.org>
In-Reply-To: <43D92935.1000809@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> A 64-bit JVM with NioDirectory would really be optimal for this. 

Oops.  I meant MMapDirectory, not NioDirectory.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 21:21:18 2006
Return-Path: <java-user-return-18576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78943 invoked from network); 26 Jan 2006 21:21:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 21:21:17 -0000
Received: (qmail 50229 invoked by uid 500); 26 Jan 2006 21:21:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50202 invoked by uid 500); 26 Jan 2006 21:21:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50191 invoked by uid 99); 26 Jan 2006 21:21:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 13:21:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 13:21:11 -0800
Received: by wproxy.gmail.com with SMTP id i21so448160wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 13:20:50 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TffMNTNBfjnBQIt3uhIymj1VNo6C0R52UwJEYrFrxxUd1XKKVa8TLvSE9/rbMHdA858szg7tmmS6lbwNBYDr1oM6qXPoq2je+2CI/dgPsn83IM1wmKoq3mm0a7cPxGeFsxPI6OPptqyCoWmiGnEEIs808dP4y24rTHUsNWvAjsA=
Received: by 10.54.71.15 with SMTP id t15mr2980997wra;
        Thu, 26 Jan 2006 13:20:50 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 13:20:50 -0800 (PST)
Message-ID: <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
Date: Thu, 26 Jan 2006 16:20:50 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <43D92A28.6050501@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1917_16828953.1138310450285"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1917_16828953.1138310450285
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I tried the AMD64-bit JVM from Sun and with MMapDirectory and I'm now
getting 250 queries/sec and excellent cpu utilization (equal concurrency on
all cpus)!! Yonik, thanks for the pointer to the 64-bit jvm. I wasn't aware
of it.

Thanks all very much.
Peter


On 1/26/06, Doug Cutting <cutting@apache.org> wrote:
>
> Doug Cutting wrote:
> > A 64-bit JVM with NioDirectory would really be optimal for this.
>
> Oops.  I meant MMapDirectory, not NioDirectory.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1917_16828953.1138310450285--

From java-user-return-18577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 21:33:22 2006
Return-Path: <java-user-return-18577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87048 invoked from network); 26 Jan 2006 21:33:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 21:33:22 -0000
Received: (qmail 69792 invoked by uid 500); 26 Jan 2006 21:33:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69774 invoked by uid 500); 26 Jan 2006 21:33:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69763 invoked by uid 99); 26 Jan 2006 21:33:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 13:33:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.195 as permitted sender)
Received: from [64.233.184.195] (HELO wproxy.gmail.com) (64.233.184.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 13:33:14 -0800
Received: by wproxy.gmail.com with SMTP id i21so450781wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 13:32:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZiIDWrpsiFSRzqNXGkkMnkye1XtT9mIdLR8kZJyHm0JtTDfbGmVNwml04SHLNQssaR/+Q2guVF7PgxeKIotqCi3L/YYHVO//aHzC4OCFrUebHS9zExO2qs0nFn48r31eoCpcfsScO2el8n6Hytstb2iYvq+bsBr88szjB/B0RmY=
Received: by 10.54.115.13 with SMTP id n13mr2901968wrc;
        Thu, 26 Jan 2006 13:32:54 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 13:32:54 -0800 (PST)
Message-ID: <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
Date: Thu, 26 Jan 2006 16:32:54 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2174_14367181.1138311174256"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2174_14367181.1138311174256
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Correction: make that 285 qps :)

On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
>
> I tried the AMD64-bit JVM from Sun and with MMapDirectory and I'm now
> getting 250 queries/sec and excellent cpu utilization (equal concurrency =
on
> all cpus)!! Yonik, thanks for the pointer to the 64-bit jvm. I wasn't awa=
re
> of it.
>
> Thanks all very much.
> Peter
>
>
> On 1/26/06, Doug Cutting <cutting@apache.org> wrote:
> >
> > Doug Cutting wrote:
> > > A 64-bit JVM with NioDirectory would really be optimal for this.
> >
> > Oops.  I meant MMapDirectory, not NioDirectory.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_2174_14367181.1138311174256--

From java-user-return-18578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jan 26 21:42:44 2006
Return-Path: <java-user-return-18578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93696 invoked from network); 26 Jan 2006 21:42:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Jan 2006 21:42:44 -0000
Received: (qmail 85927 invoked by uid 500); 26 Jan 2006 21:42:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85907 invoked by uid 500); 26 Jan 2006 21:42:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85896 invoked by uid 99); 26 Jan 2006 21:42:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 13:42:38 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.204 as permitted sender)
Received: from [64.233.182.204] (HELO nproxy.gmail.com) (64.233.182.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 13:42:37 -0800
Received: by nproxy.gmail.com with SMTP id l35so202940nfa
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 13:42:16 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=KO+s1h2S9acqF5MDv2M48JYQfAe5m+6nTQll+JdcBoVDVD7RvnaGJQ5YghYdosA34JRTGfKh0p/QWRV90CIMmCW2fA4XUpgURbuHkvEJTFf6FlDCfOTWp5YXZs6dIOZxuyAXB4srNrb4Qzip5spidvpclsuJlKzZj8TJQxtAHUg=
Received: by 10.48.237.2 with SMTP id k2mr103922nfh;
        Thu, 26 Jan 2006 13:42:16 -0800 (PST)
Received: by 10.49.93.1 with HTTP; Thu, 26 Jan 2006 13:42:15 -0800 (PST)
Message-ID: <c68e39170601261342g212c8d69vee996e75f1450b9a@mail.gmail.com>
Date: Thu, 26 Jan 2006 16:42:15 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nice speedup!  The extra registers in 64 bit mode hay have helped a little =
too.

-Yonik

On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> Correction: make that 285 qps :)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 00:19:48 2006
Return-Path: <java-user-return-18579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98005 invoked from network); 27 Jan 2006 00:19:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 00:19:47 -0000
Received: (qmail 19456 invoked by uid 500); 27 Jan 2006 00:19:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19434 invoked by uid 500); 27 Jan 2006 00:19:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19423 invoked by uid 99); 27 Jan 2006 00:19:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 16:19:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.204 as permitted sender)
Received: from [64.233.184.204] (HELO wproxy.gmail.com) (64.233.184.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 16:19:39 -0800
Received: by wproxy.gmail.com with SMTP id i21so482678wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 16:19:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=WHGVrKD+ZFe+fWn8zzbeIdpHkaj37S8qBfBjcpQN07wwmPciwqZlsViac6kBmgeP13OZwupIe5keVsJ9mN/JNjJhiyFAHAAyYySXoi+GEUy7p7dk/IiiXpxdPNwQAqDULM2EHJ1OlLNpG7Qju/q8/2j10+hhgWy5jFXKZfQR6+Y=
Received: by 10.54.114.2 with SMTP id m2mr3099543wrc;
        Thu, 26 Jan 2006 16:19:19 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 16:19:19 -0800 (PST)
Message-ID: <e994873a0601261619r22873822je12df72271fd1421@mail.gmail.com>
Date: Thu, 26 Jan 2006 19:19:19 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <c68e39170601261342g212c8d69vee996e75f1450b9a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4248_15635023.1138321159030"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
	 <c68e39170601261342g212c8d69vee996e75f1450b9a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4248_15635023.1138321159030
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Dumb question: does the 64-bit compiler (javac) generate different code tha=
n
the 32-bit version, or is it just the jvm that matters? My reported speedup=
s
were soley from using the 64-bit jvm with jar files from the 32-bit
compiler.

Peter


On 1/26/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> Nice speedup!  The extra registers in 64 bit mode hay have helped a littl=
e
> too.
>
> -Yonik
>
> On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > Correction: make that 285 qps :)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_4248_15635023.1138321159030--

From java-user-return-18580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 00:35:03 2006
Return-Path: <java-user-return-18580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3336 invoked from network); 27 Jan 2006 00:35:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 00:35:03 -0000
Received: (qmail 35991 invoked by uid 500); 27 Jan 2006 00:34:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35970 invoked by uid 500); 27 Jan 2006 00:34:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35959 invoked by uid 99); 27 Jan 2006 00:34:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 16:34:57 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.197 as permitted sender)
Received: from [64.233.182.197] (HELO nproxy.gmail.com) (64.233.182.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 16:34:55 -0800
Received: by nproxy.gmail.com with SMTP id l35so230589nfa
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 16:34:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Y6XVSDDx5SaD5VK2SY57s7yOdW9bAj7CE0sYTI5PTHBz2D1tPGTmYL7EdmgwxIrUZlCS9eT1EjryftLia6R7yBW3AB1KTUwOC03J+ifMtFKwR5wAJIJIgGUAk8ytHFh7J3Tnwm+5mqG5vCcyqMlGAXQoFm/06s4cW7NyWAIxuq4=
Received: by 10.48.199.4 with SMTP id w4mr116341nff;
        Thu, 26 Jan 2006 16:34:33 -0800 (PST)
Received: by 10.49.93.1 with HTTP; Thu, 26 Jan 2006 16:34:33 -0800 (PST)
Message-ID: <c68e39170601261634h2105478fnc4ab7411770eafac@mail.gmail.com>
Date: Thu, 26 Jan 2006 19:34:33 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601261619r22873822je12df72271fd1421@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
	 <c68e39170601261342g212c8d69vee996e75f1450b9a@mail.gmail.com>
	 <e994873a0601261619r22873822je12df72271fd1421@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There is no difference in bytecode... the whole difference is just in
the underlying JVM.

-Yonik

On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> Dumb question: does the 64-bit compiler (javac) generate different code t=
han
> the 32-bit version, or is it just the jvm that matters? My reported speed=
ups
> were soley from using the 64-bit jvm with jar files from the 32-bit
> compiler.
>
> Peter

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 01:16:17 2006
Return-Path: <java-user-return-18581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21668 invoked from network); 27 Jan 2006 01:16:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 01:16:17 -0000
Received: (qmail 69507 invoked by uid 500); 27 Jan 2006 01:16:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68555 invoked by uid 500); 27 Jan 2006 01:16:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68537 invoked by uid 99); 27 Jan 2006 01:16:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 17:16:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 17:16:11 -0800
Received: by wproxy.gmail.com with SMTP id 58so549102wri
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 17:15:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PtyPrUD32Q1fRcEGghncmYxygHj81eFSB5AG5tQMvpJBvoPxo6QWiBg3UsJdUeEpzfwRZy5yZQDY8vhAhGOCuhSpK3WXAboLnrm3owD7q51y/fRh5UYvI4I8env+dL9HZtcN/TZX3aQqCB/P2nvJ4MW00Ob+/fY3/eFeWKinYls=
Received: by 10.54.150.11 with SMTP id x11mr1069594wrd;
        Thu, 26 Jan 2006 17:15:51 -0800 (PST)
Received: by 10.54.119.10 with HTTP; Thu, 26 Jan 2006 17:15:51 -0800 (PST)
Message-ID: <fb9748c90601261715k293dbf00o16566b2febcec224@mail.gmail.com>
Date: Fri, 27 Jan 2006 09:15:51 +0800
From: Ray Tsang <saturnism@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

UGV0ZXIsCgpXb3csIHRoZSBzcGVlZCB1cCBpbiBpbXByZXNzaXZlISBCdXQgbWF5IEkgYXNrIHdo
YXQgZGlkIHlvdSBkbyB0bwphY2hpZXZlIDEzNSBxdWVyaWVzL3NlYyBwcmlvciB0byB0aGUgSlZN
IHN3aWNoPwoKcmF5LAoKT24gMS8yNy8wNiwgUGV0ZXIgS2VlZ2FuIDxwZXRlcmxrZWVnYW5AZ21h
aWwuY29tPiB3cm90ZToKPiBDb3JyZWN0aW9uOiBtYWtlIHRoYXQgMjg1IHFwcyA6KQo+Cj4gT24g
MS8yNi8wNiwgUGV0ZXIgS2VlZ2FuIDxwZXRlcmxrZWVnYW5AZ21haWwuY29tPiB3cm90ZToKPiA+
Cj4gPiBJIHRyaWVkIHRoZSBBTUQ2NC1iaXQgSlZNIGZyb20gU3VuIGFuZCB3aXRoIE1NYXBEaXJl
Y3RvcnkgYW5kIEknbSBub3cKPiA+IGdldHRpbmcgMjUwIHF1ZXJpZXMvc2VjIGFuZCBleGNlbGxl
bnQgY3B1IHV0aWxpemF0aW9uIChlcXVhbCBjb25jdXJyZW5jeSBvbgo+ID4gYWxsIGNwdXMpISEg
WW9uaWssIHRoYW5rcyBmb3IgdGhlIHBvaW50ZXIgdG8gdGhlIDY0LWJpdCBqdm0uIEkgd2Fzbid0
IGF3YXJlCj4gPiBvZiBpdC4KPiA+Cj4gPiBUaGFua3MgYWxsIHZlcnkgbXVjaC4KPiA+IFBldGVy
Cj4gPgo+ID4KPiA+IE9uIDEvMjYvMDYsIERvdWcgQ3V0dGluZyA8Y3V0dGluZ0BhcGFjaGUub3Jn
PiB3cm90ZToKPiA+ID4KPiA+ID4gRG91ZyBDdXR0aW5nIHdyb3RlOgo+ID4gPiA+IEEgNjQtYml0
IEpWTSB3aXRoIE5pb0RpcmVjdG9yeSB3b3VsZCByZWFsbHkgYmUgb3B0aW1hbCBmb3IgdGhpcy4K
PiA+ID4KPiA+ID4gT29wcy4gIEkgbWVhbnQgTU1hcERpcmVjdG9yeSwgbm90IE5pb0RpcmVjdG9y
eS4KPiA+ID4KPiA+ID4gRG91Zwo+ID4gPgo+ID4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiA+ID4gVG8gdW5z
dWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3Jn
Cj4gPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1
Y2VuZS5hcGFjaGUub3JnCj4gPiA+Cj4gPiA+Cj4gPgo+Cj4K


From java-user-return-18582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 01:36:46 2006
Return-Path: <java-user-return-18582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29241 invoked from network); 27 Jan 2006 01:36:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 01:36:45 -0000
Received: (qmail 87070 invoked by uid 500); 27 Jan 2006 01:36:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87050 invoked by uid 500); 27 Jan 2006 01:36:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87039 invoked by uid 99); 27 Jan 2006 01:36:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 17:36:39 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 17:36:38 -0800
Received: by zproxy.gmail.com with SMTP id k1so545366nzf
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 17:36:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=fFqPXYLZggyxfLBn+3aN4AHp9OKwfVU/XoUuNAkYG4UZu24xer3gk86+QCjLlPd639FSto+rBy9h9ArbvNdFRU4KWQU8jeyEd20wjsWxOpdmXWY84gc0ZWTm7VGbLu9QodO+T1nTDGMQ8MbtNmg24GzmnpInF1vfftDbUPnGMFU=
Received: by 10.37.21.36 with SMTP id y36mr2018441nzi;
        Thu, 26 Jan 2006 17:36:17 -0800 (PST)
Received: by 10.36.37.14 with HTTP; Thu, 26 Jan 2006 17:36:17 -0800 (PST)
Message-ID: <6c33f9950601261736o27948c60g30486f3b76af4c9c@mail.gmail.com>
Date: Fri, 27 Jan 2006 09:36:17 +0800
From: Chun Wei Ho <cwho.work@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Getting the document number (with IndexReader)
In-Reply-To: <200601261955.17197.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com>
	 <6c33f9950601260047l58f9134er85626c678222a93c@mail.gmail.com>
	 <Pine.LNX.4.58.0601261038350.2508@hal.rescomp.berkeley.edu>
	 <200601261955.17197.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the info :) One last related question.

If I delete documents using a IndexReader(), can I assume that the
internal document numbers of other undeleted documents (obtained using
the same IndexReader instance) will not change until I call
IndexReader.close()?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 02:45:03 2006
Return-Path: <java-user-return-18583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60620 invoked from network); 27 Jan 2006 02:45:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 02:45:03 -0000
Received: (qmail 38273 invoked by uid 500); 27 Jan 2006 02:44:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38224 invoked by uid 500); 27 Jan 2006 02:44:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38213 invoked by uid 99); 27 Jan 2006 02:44:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 18:44:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 18:44:56 -0800
Received: by wproxy.gmail.com with SMTP id i21so506360wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 18:44:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rVfdAOSaXgJnzU8UBhwW9z67il2oAZnPJXTX8ggYSdj98GYJ5dAyRO23cQ9jP/qpWVZ08plFy1iOHktH4ECQ6v7HrX5fbDzBaN6C24hamPN/hnNdgOD4yHb65tQLaDbWLyS4dmIp/1GhkcTYBII9nAlw+5hzHI12ZQ7eDtOW8mc=
Received: by 10.54.153.5 with SMTP id a5mr3319056wre;
        Thu, 26 Jan 2006 18:44:36 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 18:44:36 -0800 (PST)
Message-ID: <e994873a0601261844t7e506406yc1391b766334e1f6@mail.gmail.com>
Date: Thu, 26 Jan 2006 21:44:36 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <fb9748c90601261715k293dbf00o16566b2febcec224@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4982_20806614.1138329876013"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
	 <fb9748c90601261715k293dbf00o16566b2febcec224@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4982_20806614.1138329876013
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Ray,

The short answer is that you can make Lucene blazingly fast by using advice
and design principles mentioned in this forum and of course reading 'Lucene
in Action'. For example, use a 'content' field for searching all fields (vs
mutli-field search), put all your stored data in one field, understand the
cost of numeric search and sorting. On the platform side, go multi-CPU and
of course 64-bit if possible :)

Also, I would venture to guess that a lot of search bottlenecks have nothin=
g
to do with Lucene, but rather in the infrastructure around it. For example,
how does your client interface to the search engine? My results use a plain
socket interface between client and server (one connection for queries,
another for results), using a simple query/results data format. Introducing
other web infrastructures invites degradation in performance, too.

I've a bit of experience with search engines, but I'm obviously still
learning thanks to this group.

Peter

On 1/26/06, Ray Tsang <saturnism@gmail.com> wrote:
>
> Peter,
>
> Wow, the speed up in impressive! But may I ask what did you do to
> achieve 135 queries/sec prior to the JVM swich?
>
> ray,
>
> On 1/27/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > Correction: make that 285 qps :)
> >
> > On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > >
> > > I tried the AMD64-bit JVM from Sun and with MMapDirectory and I'm now
> > > getting 250 queries/sec and excellent cpu utilization (equal
> concurrency on
> > > all cpus)!! Yonik, thanks for the pointer to the 64-bit jvm. I wasn't
> aware
> > > of it.
> > >
> > > Thanks all very much.
> > > Peter
> > >
> > >
> > > On 1/26/06, Doug Cutting <cutting@apache.org> wrote:
> > > >
> > > > Doug Cutting wrote:
> > > > > A 64-bit JVM with NioDirectory would really be optimal for this.
> > > >
> > > > Oops.  I meant MMapDirectory, not NioDirectory.
> > > >
> > > > Doug
> > > >
> > > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
> >
>

------=_Part_4982_20806614.1138329876013--

From java-user-return-18584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 03:10:50 2006
Return-Path: <java-user-return-18584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70092 invoked from network); 27 Jan 2006 03:10:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 03:10:50 -0000
Received: (qmail 51199 invoked by uid 500); 27 Jan 2006 03:10:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51167 invoked by uid 500); 27 Jan 2006 03:10:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51156 invoked by uid 99); 27 Jan 2006 03:10:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 19:10:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 19:10:44 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C622EF.113B8CA2"
Subject: problem updating a document: no segments file?
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Thu, 26 Jan 2006 21:07:13 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2928DA@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <F9E303076B72074AB76B2C8F78952B2928DA@bettylou.configureone.net>
Thread-Topic: problem updating a document: no segments file?
Thread-Index: AcYS2UEmpPn/WKMzTZKrJUyub2vfVwQFYQYf
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C622EF.113B8CA2
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,

I have a couple instances of lucene.  I just altered on implementation =
and now its not keeping a segments file.  while indexing occurs, there =
is a segment file.    but once its done, there isn't.    all the other =
indexes have one.     the problem comes when i try to update a document, =
it says "segments file not found" and that stops it.    this code was =
working fine on my development box, but now i go to production its not =
keeping that segments file.    and, it searches just fine.    i can =
reindex over and over, and it keeps disappearing.

any ideas?


------_=_NextPart_001_01C622EF.113B8CA2
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C622EF.113B8CA2--

From java-user-return-18585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 03:15:11 2006
Return-Path: <java-user-return-18585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72070 invoked from network); 27 Jan 2006 03:15:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 03:15:10 -0000
Received: (qmail 54124 invoked by uid 500); 27 Jan 2006 03:15:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54089 invoked by uid 500); 27 Jan 2006 03:15:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54074 invoked by uid 99); 27 Jan 2006 03:15:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 19:15:04 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 19:15:03 -0800
Received: by wproxy.gmail.com with SMTP id 58so567347wri
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 19:14:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=O9oP6algpv+fwJmA63NB24vxlKjzhW7SODVh4KA7Rp73vUzW/ORPrZuHhh82yuuMXEVT8+oeTpLKrpEZ6hCM+4KUnH3/zHI2a9qSUv+IBqfJxYsgAAhQ5WjFaXJhuCT8Wi2DKEQxca8zGICkKeN0NyfxwrJQo2fii8fOvVuyN8M=
Received: by 10.54.104.14 with SMTP id b14mr2974667wrc;
        Thu, 26 Jan 2006 19:14:43 -0800 (PST)
Received: by 10.54.119.10 with HTTP; Thu, 26 Jan 2006 19:14:43 -0800 (PST)
Message-ID: <fb9748c90601261914s1b1a7f1ble8cf38996823cbae@mail.gmail.com>
Date: Fri, 27 Jan 2006 11:14:43 +0800
From: Ray Tsang <saturnism@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0601261844t7e506406yc1391b766334e1f6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
	 <fb9748c90601261715k293dbf00o16566b2febcec224@mail.gmail.com>
	 <e994873a0601261844t7e506406yc1391b766334e1f6@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

UGF1bCwKClRoYW5rcyBmb3IgdGhlIGFkdmljZSEgQnV0IGZvciB0aGUgMTAwK3F1ZXJpZXMvc2Vj
IG9uIGEgMzItYml0CnBsYXRmcm9tLCBkaWQgeW91IGVuZCB1cCBhcHBseWluZyBvdGhlciBwYXRj
aGVzPyBvciB1c2UgZGlmZmVyZW50CkZTRGlyZWN0b3J5IGltcGxlbWVudGF0aW9ucz8KClRoYW5r
cyEKCnJheSwKCk9uIDEvMjcvMDYsIFBldGVyIEtlZWdhbiA8cGV0ZXJsa2VlZ2FuQGdtYWlsLmNv
bT4gd3JvdGU6Cj4gUmF5LAo+Cj4gVGhlIHNob3J0IGFuc3dlciBpcyB0aGF0IHlvdSBjYW4gbWFr
ZSBMdWNlbmUgYmxhemluZ2x5IGZhc3QgYnkgdXNpbmcgYWR2aWNlCj4gYW5kIGRlc2lnbiBwcmlu
Y2lwbGVzIG1lbnRpb25lZCBpbiB0aGlzIGZvcnVtIGFuZCBvZiBjb3Vyc2UgcmVhZGluZyAnTHVj
ZW5lCj4gaW4gQWN0aW9uJy4gRm9yIGV4YW1wbGUsIHVzZSBhICdjb250ZW50JyBmaWVsZCBmb3Ig
c2VhcmNoaW5nIGFsbCBmaWVsZHMgKHZzCj4gbXV0bGktZmllbGQgc2VhcmNoKSwgcHV0IGFsbCB5
b3VyIHN0b3JlZCBkYXRhIGluIG9uZSBmaWVsZCwgdW5kZXJzdGFuZCB0aGUKPiBjb3N0IG9mIG51
bWVyaWMgc2VhcmNoIGFuZCBzb3J0aW5nLiBPbiB0aGUgcGxhdGZvcm0gc2lkZSwgZ28gbXVsdGkt
Q1BVIGFuZAo+IG9mIGNvdXJzZSA2NC1iaXQgaWYgcG9zc2libGUgOikKPgo+IEFsc28sIEkgd291
bGQgdmVudHVyZSB0byBndWVzcyB0aGF0IGEgbG90IG9mIHNlYXJjaCBib3R0bGVuZWNrcyBoYXZl
IG5vdGhpbmcKPiB0byBkbyB3aXRoIEx1Y2VuZSwgYnV0IHJhdGhlciBpbiB0aGUgaW5mcmFzdHJ1
Y3R1cmUgYXJvdW5kIGl0LiBGb3IgZXhhbXBsZSwKPiBob3cgZG9lcyB5b3VyIGNsaWVudCBpbnRl
cmZhY2UgdG8gdGhlIHNlYXJjaCBlbmdpbmU/IE15IHJlc3VsdHMgdXNlIGEgcGxhaW4KPiBzb2Nr
ZXQgaW50ZXJmYWNlIGJldHdlZW4gY2xpZW50IGFuZCBzZXJ2ZXIgKG9uZSBjb25uZWN0aW9uIGZv
ciBxdWVyaWVzLAo+IGFub3RoZXIgZm9yIHJlc3VsdHMpLCB1c2luZyBhIHNpbXBsZSBxdWVyeS9y
ZXN1bHRzIGRhdGEgZm9ybWF0LiBJbnRyb2R1Y2luZwo+IG90aGVyIHdlYiBpbmZyYXN0cnVjdHVy
ZXMgaW52aXRlcyBkZWdyYWRhdGlvbiBpbiBwZXJmb3JtYW5jZSwgdG9vLgo+Cj4gSSd2ZSBhIGJp
dCBvZiBleHBlcmllbmNlIHdpdGggc2VhcmNoIGVuZ2luZXMsIGJ1dCBJJ20gb2J2aW91c2x5IHN0
aWxsCj4gbGVhcm5pbmcgdGhhbmtzIHRvIHRoaXMgZ3JvdXAuCj4KPiBQZXRlcgo+Cj4gT24gMS8y
Ni8wNiwgUmF5IFRzYW5nIDxzYXR1cm5pc21AZ21haWwuY29tPiB3cm90ZToKPiA+Cj4gPiBQZXRl
ciwKPiA+Cj4gPiBXb3csIHRoZSBzcGVlZCB1cCBpbiBpbXByZXNzaXZlISBCdXQgbWF5IEkgYXNr
IHdoYXQgZGlkIHlvdSBkbyB0bwo+ID4gYWNoaWV2ZSAxMzUgcXVlcmllcy9zZWMgcHJpb3IgdG8g
dGhlIEpWTSBzd2ljaD8KPiA+Cj4gPiByYXksCj4gPgo+ID4gT24gMS8yNy8wNiwgUGV0ZXIgS2Vl
Z2FuIDxwZXRlcmxrZWVnYW5AZ21haWwuY29tPiB3cm90ZToKPiA+ID4gQ29ycmVjdGlvbjogbWFr
ZSB0aGF0IDI4NSBxcHMgOikKPiA+ID4KPiA+ID4gT24gMS8yNi8wNiwgUGV0ZXIgS2VlZ2FuIDxw
ZXRlcmxrZWVnYW5AZ21haWwuY29tPiB3cm90ZToKPiA+ID4gPgo+ID4gPiA+IEkgdHJpZWQgdGhl
IEFNRDY0LWJpdCBKVk0gZnJvbSBTdW4gYW5kIHdpdGggTU1hcERpcmVjdG9yeSBhbmQgSSdtIG5v
dwo+ID4gPiA+IGdldHRpbmcgMjUwIHF1ZXJpZXMvc2VjIGFuZCBleGNlbGxlbnQgY3B1IHV0aWxp
emF0aW9uIChlcXVhbAo+ID4gY29uY3VycmVuY3kgb24KPiA+ID4gPiBhbGwgY3B1cykhISBZb25p
aywgdGhhbmtzIGZvciB0aGUgcG9pbnRlciB0byB0aGUgNjQtYml0IGp2bS4gSSB3YXNuJ3QKPiA+
IGF3YXJlCj4gPiA+ID4gb2YgaXQuCj4gPiA+ID4KPiA+ID4gPiBUaGFua3MgYWxsIHZlcnkgbXVj
aC4KPiA+ID4gPiBQZXRlcgo+ID4gPiA+Cj4gPiA+ID4KPiA+ID4gPiBPbiAxLzI2LzA2LCBEb3Vn
IEN1dHRpbmcgPGN1dHRpbmdAYXBhY2hlLm9yZz4gd3JvdGU6Cj4gPiA+ID4gPgo+ID4gPiA+ID4g
RG91ZyBDdXR0aW5nIHdyb3RlOgo+ID4gPiA+ID4gPiBBIDY0LWJpdCBKVk0gd2l0aCBOaW9EaXJl
Y3Rvcnkgd291bGQgcmVhbGx5IGJlIG9wdGltYWwgZm9yIHRoaXMuCj4gPiA+ID4gPgo+ID4gPiA+
ID4gT29wcy4gIEkgbWVhbnQgTU1hcERpcmVjdG9yeSwgbm90IE5pb0RpcmVjdG9yeS4KPiA+ID4g
PiA+Cj4gPiA+ID4gPiBEb3VnCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+IC0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+
ID4gPiA+ID4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1
Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWls
OiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPiA+ID4KPiA+ID4gPiA+Cj4g
PiA+ID4KPiA+ID4KPiA+ID4KPiA+Cj4KPgo=


From java-user-return-18586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 03:55:42 2006
Return-Path: <java-user-return-18586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92693 invoked from network); 27 Jan 2006 03:55:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 03:55:41 -0000
Received: (qmail 89416 invoked by uid 500); 27 Jan 2006 03:55:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89391 invoked by uid 500); 27 Jan 2006 03:55:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89380 invoked by uid 99); 27 Jan 2006 03:55:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 19:55:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.206 as permitted sender)
Received: from [64.233.184.206] (HELO wproxy.gmail.com) (64.233.184.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 19:55:28 -0800
Received: by wproxy.gmail.com with SMTP id i21so517114wra
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 19:55:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Y97HoLF4xH+XOXqqqpK5m2I8cYd1+O5WmttBFFQ+Tx9CkONE+CPy1EMHlU17xoIe2Ijz2rG6MfIZVOVL2MjgE+pLQ2Qk+zfKnIey0X6EO1NEdDPZHmTXayOvOivb5Ap4DjTP9Tmi0CNrjM/uUOiAmbm3BGkP567FXzg++M1Fuls=
Received: by 10.54.71.15 with SMTP id t15mr3369064wra;
        Thu, 26 Jan 2006 19:55:07 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Thu, 26 Jan 2006 19:55:07 -0800 (PST)
Message-ID: <e994873a0601261955g6c6308efp14f8a1f2de7296d@mail.gmail.com>
Date: Thu, 26 Jan 2006 22:55:07 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <fb9748c90601261914s1b1a7f1ble8cf38996823cbae@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5156_28201569.1138334107624"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <e994873a0601261332h615efb49x6415a911828933f5@mail.gmail.com>
	 <fb9748c90601261715k293dbf00o16566b2febcec224@mail.gmail.com>
	 <e994873a0601261844t7e506406yc1391b766334e1f6@mail.gmail.com>
	 <fb9748c90601261914s1b1a7f1ble8cf38996823cbae@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5156_28201569.1138334107624
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Ray,

The 135 qps rate was using the standard FSDirectory in 1.9.

Peter


On 1/26/06, Ray Tsang <saturnism@gmail.com> wrote:
>
> Paul,
>
> Thanks for the advice! But for the 100+queries/sec on a 32-bit
> platfrom, did you end up applying other patches? or use different
> FSDirectory implementations?
>
> Thanks!
>
> ray,
>
> On 1/27/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > Ray,
> >
> > The short answer is that you can make Lucene blazingly fast by using
> advice
> > and design principles mentioned in this forum and of course reading
> 'Lucene
> > in Action'. For example, use a 'content' field for searching all fields
> (vs
> > mutli-field search), put all your stored data in one field, understand
> the
> > cost of numeric search and sorting. On the platform side, go multi-CPU
> and
> > of course 64-bit if possible :)
> >
> > Also, I would venture to guess that a lot of search bottlenecks have
> nothing
> > to do with Lucene, but rather in the infrastructure around it. For
> example,
> > how does your client interface to the search engine? My results use a
> plain
> > socket interface between client and server (one connection for queries,
> > another for results), using a simple query/results data format.
> Introducing
> > other web infrastructures invites degradation in performance, too.
> >
> > I've a bit of experience with search engines, but I'm obviously still
> > learning thanks to this group.
> >
> > Peter
> >
> > On 1/26/06, Ray Tsang <saturnism@gmail.com> wrote:
> > >
> > > Peter,
> > >
> > > Wow, the speed up in impressive! But may I ask what did you do to
> > > achieve 135 queries/sec prior to the JVM swich?
> > >
> > > ray,
> > >
> > > On 1/27/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > > > Correction: make that 285 qps :)
> > > >
> > > > On 1/26/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > > > >
> > > > > I tried the AMD64-bit JVM from Sun and with MMapDirectory and I'm
> now
> > > > > getting 250 queries/sec and excellent cpu utilization (equal
> > > concurrency on
> > > > > all cpus)!! Yonik, thanks for the pointer to the 64-bit jvm. I
> wasn't
> > > aware
> > > > > of it.
> > > > >
> > > > > Thanks all very much.
> > > > > Peter
> > > > >
> > > > >
> > > > > On 1/26/06, Doug Cutting <cutting@apache.org> wrote:
> > > > > >
> > > > > > Doug Cutting wrote:
> > > > > > > A 64-bit JVM with NioDirectory would really be optimal for
> this.
> > > > > >
> > > > > > Oops.  I meant MMapDirectory, not NioDirectory.
> > > > > >
> > > > > > Doug
> > > > > >
> > > > > >
> > > ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > > > >
> > > > > >
> > > > >
> > > >
> > > >
> > >
> >
> >
>

------=_Part_5156_28201569.1138334107624--

From java-user-return-18587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 06:46:43 2006
Return-Path: <java-user-return-18587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57722 invoked from network); 27 Jan 2006 06:46:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 06:46:43 -0000
Received: (qmail 84783 invoked by uid 500); 27 Jan 2006 06:46:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84763 invoked by uid 500); 27 Jan 2006 06:46:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84752 invoked by uid 99); 27 Jan 2006 06:46:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 22:46:35 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 22:46:34 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 27 Jan 2006 07:46:12 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6230D.5C440B30"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: Re: Two strange things in Lucene
Date: Fri, 27 Jan 2006 07:46:11 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003446BA08E@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re: Two strange things in Lucene
Thread-Index: AcYjDVxG3HqInxiVSl6o/XOQ6KoLuA==
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 Jan 2006 06:46:12.0033 (UTC) FILETIME=[5C83DB10:01C6230D]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6230D.5C440B30
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

>> Since I didn't find anything in the log from log4j I did a "kill =20
>> -3" on
>> > the process and found two very interesting things:
>>=20
>> Almost all multisearcher threads were in this state:
>>=20
>> "MultiSearcher thread #1" daemon prio=3D10 tid=3D0x0000000001900960
>> nid=3D0x81442c waiting for monitor entry
>> [0xfffffd7d269ff000..0xfffffd7d269ffb50]
>>      at java.util.Vector.size(Vector.java:270)
>>      - waiting to lock <0xfffffd7f0114ea28> (a java.util.Vector)
>>      at
>> org.apache.lucene.search.BooleanQuery$BooleanWeight.<init>=20
>> (BooleanQuery.
>> java:95)
=20
> I don't know about this one, but guessing that it just happens to be =20
> a normal state of the system when you killed the process.  *shrugs*
=20
You probably missed the -3 parameter. This just dumps the state of the
virtual machine, it doesn't actually kill the JVM. Thus I believe that
this is not a normal state.
=20
>> And, additionally I found another stacktrace in the stdout-log which
I
>> find interesting:
>>=20
>> Exception in thread "MultiSearcher thread #1"
>> org.apache.lucene.search.BooleanQuery$TooManyClauses
=20
> This is a typical occurrence when using Query's that expand such as =20
> WildcardQuery, RangeQuery, FuzzyQuery, etc.  If users are doing =20
> queries like a* and there are over 1024 terms that start with "a" =20
> then you will, by default, blow up WildcardQuery's expansion into a =20
> BooleanQuery.  You can up that limit on BooleanQuery, or disallow =20
> those types of queries perhaps.
=20
Ok, I'll see what I can do.
=20
Thanks!

------_=_NextPart_001_01C6230D.5C440B30--

From java-user-return-18588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 07:16:38 2006
Return-Path: <java-user-return-18588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66849 invoked from network); 27 Jan 2006 07:16:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 07:16:38 -0000
Received: (qmail 16593 invoked by uid 500); 27 Jan 2006 07:16:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16562 invoked by uid 500); 27 Jan 2006 07:16:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16551 invoked by uid 99); 27 Jan 2006 07:16:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 23:16:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 23:16:31 -0800
Received: by xproxy.gmail.com with SMTP id i28so359253wxd
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 23:16:10 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=jDxxswrTysBdMSBWH+ny1Rv7aPa30ueXmdCr9hKZ53Z1yBLSiicLYI7Ty++WF4f7ma7IBMyydkSJQcdiJ4+kkHbjniQjk8C/vRZnZwJcfwAfokuaBYew94FGXInGCb/gImJFrLaaih4TYlClWQyutUMkcFUF5Z9ViN70R2FiMtc=
Received: by 10.70.42.18 with SMTP id p18mr3171430wxp;
        Thu, 26 Jan 2006 23:16:10 -0800 (PST)
Received: by 10.70.11.6 with HTTP; Thu, 26 Jan 2006 23:16:10 -0800 (PST)
Message-ID: <277d4c5d0601262316n539c53f3jcaa6f515e50369a4@mail.gmail.com>
Date: Fri, 27 Jan 2006 15:16:10 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: How does the lucene normalize the score?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34538_19512466.1138346170187"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_34538_19512466.1138346170187
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I want to know how the lucene normalizes the score. I see hits class has
this function to get each document's score. But i dont know how lucene
calculates the normalized score and in the "Lucene in action", it only said
normalized score of the nth top scoring docuemnts.
--
Regards

Jiang Xing

------=_Part_34538_19512466.1138346170187--

From java-user-return-18589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 07:50:30 2006
Return-Path: <java-user-return-18589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76795 invoked from network); 27 Jan 2006 07:50:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 07:50:30 -0000
Received: (qmail 49558 invoked by uid 500); 27 Jan 2006 07:50:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49527 invoked by uid 500); 27 Jan 2006 07:50:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49516 invoked by uid 99); 27 Jan 2006 07:50:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 23:50:25 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 66.249.92.196 as permitted sender)
Received: from [66.249.92.196] (HELO uproxy.gmail.com) (66.249.92.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Jan 2006 23:50:24 -0800
Received: by uproxy.gmail.com with SMTP id e2so478017ugf
        for <java-user@lucene.apache.org>; Thu, 26 Jan 2006 23:50:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DwpLatpD4wq5WNFUCBAYZWLNa3Feb2+T4crwzC8y0nOMn4AwlXQqDDwg3uODNPwvFC6UFzTx/d/iPOs99ufN/29xhBOhRUwxsfkyUHxKi9ceFNgBXjvX0bu5AGZO84rROUwULFt7WY6rOo+PcGQaiFnGyHvsUNLjFVyFxIOkML8=
Received: by 10.48.80.8 with SMTP id d8mr6148nfb;
        Thu, 26 Jan 2006 23:50:03 -0800 (PST)
Received: by 10.49.54.12 with HTTP; Thu, 26 Jan 2006 23:50:03 -0800 (PST)
Message-ID: <88c6a6720601262350t4ab47ab9h82015460721c9c54@mail.gmail.com>
Date: Fri, 27 Jan 2006 01:50:03 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Performance tips?
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003446BA085@EXHQ01.root.tradedoubler.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <AcYijBNJWH/222I8Sz6c8GLVsAy0EA==>
	 <4BA24A13BFC8B24EBD64FCA6525003446BA085@EXHQ01.root.tradedoubler.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I seem to say this a lot :), but, assuming your OS has a decent
filesystem cache, try reducing your JVM heapsize, using an FSDirectory
instead of RAMDirectory, and see if your filesystem cache does ok.  If
you have 12GB, then you should have enough RAM to hold both the old
and new indexes during the switchover.

-chris

On 1/26/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> Hi,
>
>
>
> Got more questions regarding Lucene and this time it's about performance
> ;-)
>
>
>
> We currently are using RAMDirectories to read our Indexes. This has now
> become a problem since our index has grown to appx 5GB of RAM and the
> machine we are running on only has 12GB of RAM and everytime we refresh
> the RAMDirectories we of course keep the old Searchables so that there
> is no service interruption.
>
>
>
> This means we consume 10GB of RAM from time to time. One solution is of
> course to stop using RAM and read anything from disk but I can imagine
> that the performance will decrease significantly. Is there any
> workaround you can think of? Perhaps a hybrid between FSDirectory and
> RAMDirectory. For example that only frequently searched documents are
> cached and the others are read from disk?
>
>
>
> Well, I'd appreciate any ideas at all!
> Thanks
> /Daniel
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 08:01:30 2006
Return-Path: <java-user-return-18590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80354 invoked from network); 27 Jan 2006 08:01:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 08:01:30 -0000
Received: (qmail 61727 invoked by uid 500); 27 Jan 2006 08:01:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60611 invoked by uid 500); 27 Jan 2006 08:01:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60600 invoked by uid 99); 27 Jan 2006 08:01:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 00:01:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 00:01:22 -0800
Received: by uproxy.gmail.com with SMTP id e2so481285ugf
        for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 00:01:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=mW5WgxzOnwJUFZ2QuqKfIJPfgQen1KVxY7uyzt0wUSoYuevr/rehH4F7O91+oq36Ls0W7kP3UkGl0c+wjiouBwVbzJNj1oLb/wZ+czCo/72QOIzdITKvRWK6YG30wVCXukBRPvEewxmGbYGrHIs2CyUbr1+ZLbPHtTK5MxULcvs=
Received: by 10.48.216.2 with SMTP id o2mr12218nfg;
        Fri, 27 Jan 2006 00:01:00 -0800 (PST)
Received: by 10.49.54.12 with HTTP; Fri, 27 Jan 2006 00:01:00 -0800 (PST)
Message-ID: <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
Date: Fri, 27 Jan 2006 02:01:00 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How does the lucene normalize the score?
In-Reply-To: <277d4c5d0601262316n539c53f3jcaa6f515e50369a4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <277d4c5d0601262316n539c53f3jcaa6f515e50369a4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It takes the highest scoring document, if greater than 1.0, and
divides every hit's score by this number, leaving them all <=3D 1.0.=20
Actually, I just looked at the code, and it actually does this by
taking 1/maxScore and then multiplying this by each score (equivalent
results in the end, maybe more efficient(?)).  See the method
getMoreDocs() in Hits.java (org.apache.lucene.search.Hits):

[...]
    float scoreNorm =3D 1.0f;

    if (length > 0 && topDocs.getMaxScore() > 1.0f) {
      scoreNorm =3D 1.0f / topDocs.getMaxScore();
    }

    int end =3D scoreDocs.length < length ? scoreDocs.length : length;
    for (int i =3D hitDocs.size(); i < end; i++) {
      hitDocs.addElement(new HitDoc(scoreDocs[i].score * scoreNorm,
                                    scoreDocs[i].doc));
    }



On 1/27/06, xing jiang <gingerons@gmail.com> wrote:
> Hi,
>
> I want to know how the lucene normalizes the score. I see hits class has
> this function to get each document's score. But i dont know how lucene
> calculates the normalized score and in the "Lucene in action", it only sa=
id
> normalized score of the nth top scoring docuemnts.
> --
> Regards
>
> Jiang Xing
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 08:08:50 2006
Return-Path: <java-user-return-18591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83264 invoked from network); 27 Jan 2006 08:08:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 08:08:50 -0000
Received: (qmail 69296 invoked by uid 500); 27 Jan 2006 08:08:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68569 invoked by uid 500); 27 Jan 2006 08:08:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68557 invoked by uid 99); 27 Jan 2006 08:08:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 00:08:43 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 00:08:43 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 27 Jan 2006 09:08:21 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Performance tips?
Date: Fri, 27 Jan 2006 09:08:21 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003446BA090@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance tips?
Thread-Index: AcYjFlhOB5HVwtV7SUWRKtSqPJot3AAAl0Lg
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 Jan 2006 08:08:21.0661 (UTC) FILETIME=[D6CD64D0:01C62318]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well,

We are sporting Solaris 10 on a Sun Fire-machine with four cores and
12GB of RAM and mirrored Ultra 320-disks. I guess I could try switching
to FSDirectory and hope for the best.

-----Original Message-----
From: Chris Lamprecht [mailto:clamprecht@gmail.com]=20
Sent: den 27 januari 2006 08:50
To: java-user@lucene.apache.org
Subject: Re: Performance tips?

I seem to say this a lot :), but, assuming your OS has a decent
filesystem cache, try reducing your JVM heapsize, using an FSDirectory
instead of RAMDirectory, and see if your filesystem cache does ok.  If
you have 12GB, then you should have enough RAM to hold both the old
and new indexes during the switchover.

-chris

On 1/26/06, Daniel Pfeifer <Daniel.Pfeifer@tradedoubler.com> wrote:
> Hi,
>
>
>
> Got more questions regarding Lucene and this time it's about
performance
> ;-)
>
>
>
> We currently are using RAMDirectories to read our Indexes. This has
now
> become a problem since our index has grown to appx 5GB of RAM and the
> machine we are running on only has 12GB of RAM and everytime we
refresh
> the RAMDirectories we of course keep the old Searchables so that there
> is no service interruption.
>
>
>
> This means we consume 10GB of RAM from time to time. One solution is
of
> course to stop using RAM and read anything from disk but I can imagine
> that the performance will decrease significantly. Is there any
> workaround you can think of? Perhaps a hybrid between FSDirectory and
> RAMDirectory. For example that only frequently searched documents are
> cached and the others are read from disk?
>
>
>
> Well, I'd appreciate any ideas at all!
> Thanks
> /Daniel
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 08:24:35 2006
Return-Path: <java-user-return-18592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93332 invoked from network); 27 Jan 2006 08:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 08:24:35 -0000
Received: (qmail 84931 invoked by uid 500); 27 Jan 2006 08:24:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84910 invoked by uid 500); 27 Jan 2006 08:24:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84899 invoked by uid 99); 27 Jan 2006 08:24:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 00:24:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.37] (HELO smtp-vbr17.xs4all.nl) (194.109.24.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 00:24:27 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr17.xs4all.nl (8.13.3/8.13.3) with ESMTP id k0R8O6nk042205
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 09:24:06 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Getting the document number (with IndexReader)
Date: Fri, 27 Jan 2006 09:24:05 +0100
User-Agent: KMail/1.8.2
References: <6c33f9950601260015g4f1612a4o1280ab7f59230ee4@mail.gmail.com> <200601261955.17197.paul.elschot@xs4all.nl> <6c33f9950601261736o27948c60g30486f3b76af4c9c@mail.gmail.com>
In-Reply-To: <6c33f9950601261736o27948c60g30486f3b76af4c9c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601270924.05729.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 27 January 2006 02:36, Chun Wei Ho wrote:
> Thanks for the info :) One last related question.
> 
> If I delete documents using a IndexReader(), can I assume that the
> internal document numbers of other undeleted documents (obtained using
> the same IndexReader instance) will not change until I call
> IndexReader.close()?

On the same IndexReader, yes.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 09:18:41 2006
Return-Path: <java-user-return-18593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19038 invoked from network); 27 Jan 2006 09:18:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 09:18:40 -0000
Received: (qmail 55841 invoked by uid 500); 27 Jan 2006 09:18:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55806 invoked by uid 500); 27 Jan 2006 09:18:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55795 invoked by uid 99); 27 Jan 2006 09:18:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 01:18:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 01:18:33 -0800
Received: by xproxy.gmail.com with SMTP id i28so370172wxd
        for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 01:18:13 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TzQRJHCuy8eKfx6YWo77zQ2k728L7qL6Fc2PLU9QNLTogbCCZsyBETRRjb2aJ3YE06M7Xy+YjaSrXtHKenjLMtqr4hPDhoPEjWowu5aW/abdL5VQVjoogy8nYLuLLuK08oI4gjiKoPKadNUp4HS/dq77B3eQ1w/PpZH18aJH52A=
Received: by 10.70.23.7 with SMTP id 7mr3275122wxw;
        Fri, 27 Jan 2006 01:18:12 -0800 (PST)
Received: by 10.70.11.6 with HTTP; Fri, 27 Jan 2006 01:18:12 -0800 (PST)
Message-ID: <277d4c5d0601270118p76dfbdd8x7ebba259baf7734b@mail.gmail.com>
Date: Fri, 27 Jan 2006 17:18:12 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How does the lucene normalize the score?
In-Reply-To: <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_35166_18076452.1138353492783"
References: <277d4c5d0601262316n539c53f3jcaa6f515e50369a4@mail.gmail.com>
	 <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_35166_18076452.1138353492783
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

hi,

thank you for your help.


On 1/27/06, Chris Lamprecht <clamprecht@gmail.com> wrote:
>
> It takes the highest scoring document, if greater than 1.0, and
> divides every hit's score by this number, leaving them all <=3D 1.0.
> Actually, I just looked at the code, and it actually does this by
> taking 1/maxScore and then multiplying this by each score (equivalent
> results in the end, maybe more efficient(?)).  See the method
> getMoreDocs() in Hits.java (org.apache.lucene.search.Hits):
>
> [...]
>    float scoreNorm =3D 1.0f;
>
>    if (length > 0 && topDocs.getMaxScore() > 1.0f) {
>      scoreNorm =3D 1.0f / topDocs.getMaxScore();
>    }
>
>    int end =3D scoreDocs.length < length ? scoreDocs.length : length;
>    for (int i =3D hitDocs.size(); i < end; i++) {
>      hitDocs.addElement(new HitDoc(scoreDocs[i].score * scoreNorm,
>                                    scoreDocs[i].doc));
>    }
>
>
>
> On 1/27/06, xing jiang <gingerons@gmail.com> wrote:
> > Hi,
> >
> > I want to know how the lucene normalizes the score. I see hits class ha=
s
> > this function to get each document's score. But i dont know how lucene
> > calculates the normalized score and in the "Lucene in action", it only
> said
> > normalized score of the nth top scoring docuemnts.
> > --
> > Regards
> >
> > Jiang Xing
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards

Jiang Xing

------=_Part_35166_18076452.1138353492783--

From java-user-return-18594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 10:43:42 2006
Return-Path: <java-user-return-18594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85541 invoked from network); 27 Jan 2006 10:43:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 10:43:42 -0000
Received: (qmail 57710 invoked by uid 500); 27 Jan 2006 10:43:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56757 invoked by uid 500); 27 Jan 2006 10:43:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56746 invoked by uid 99); 27 Jan 2006 10:43:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 02:43:37 -0800
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_NJABL_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 02:43:36 -0800
Received: from pimout4-ext.prodigy.net (pimout4-int.prodigy.net [207.115.4.203])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0RAh6rk008254
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 05:43:06 -0500
X-ORBL: [69.228.232.128]
Received: from [192.168.168.15] (adsl-69-228-232-128.dsl.pltn13.pacbell.net [69.228.232.128])
	by pimout4-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0RAh7vg131382;
	Fri, 27 Jan 2006 05:43:12 -0500
Message-ID: <43D9F93B.308@apache.org>
Date: Fri, 27 Jan 2006 02:43:07 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Performance tips?
References: <4BA24A13BFC8B24EBD64FCA6525003446BA090@EXHQ01.root.tradedoubler.com>
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003446BA090@EXHQ01.root.tradedoubler.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Pfeifer wrote:
> We are sporting Solaris 10 on a Sun Fire-machine with four cores and
> 12GB of RAM and mirrored Ultra 320-disks. I guess I could try switching
> to FSDirectory and hope for the best.

Or, since you're on a 64-bit platform, try MMapDirectory, which supports 
greater parallelism than FSDirectory.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 10:45:26 2006
Return-Path: <java-user-return-18595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87326 invoked from network); 27 Jan 2006 10:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 10:45:25 -0000
Received: (qmail 59092 invoked by uid 500); 27 Jan 2006 10:45:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58940 invoked by uid 500); 27 Jan 2006 10:45:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58923 invoked by uid 99); 27 Jan 2006 10:45:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 02:45:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 02:45:18 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11/8.12.11) with ESMTP id k0RAiupA001718
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 10:44:56 GMT
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11/8.12.11/Submit) with ESMTP id k0RAitdS001714
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 10:44:55 GMT
Received: from [10.11.108.22] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.0.171)
    via ESMTP; Fri, 27 Jan 2006 10:44:55 +0000 (GMT)
Date: Fri, 27 Jan 2006 10:44:48 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <43D9F9A0.9020800@scalix.com>
In-Reply-To: <925bbacc4a5760cbfed4a433acd4207d@mac.com>
References: <003601c622a1$d1507d70$1e00a8c0@platoon>
References: <43D8ABFC.8090400@scalix.com>
References: <925bbacc4a5760cbfed4a433acd4207d@mac.com>
Subject: Re: encoding
x-scalix-Hops: 1
User-Agent: Mozilla Thunderbird 1.0.7-1.4.1 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="------------010701030402060704050706"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------010701030402060704050706
Content-Type: text/plain;
	charset="UTF-8";
	format="flowed"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline

petite_abeille wrote:

> I would love to see this. I presently have a somewhat unwieldy 
> conversion table [1] that I would love to get ride of :))
> [snip]
> [1] http://dev.alt.textdrive.com/browser/lu/LUStringBasicLatin.txt

I've attached the perl script -- feed 
http://www.unicode.org/Public/4.1.0/ucd/UnicodeData.txt to it.   It's 
based on a slightly different principle to yours.   You seem to look for 
things like "mumble mumble LETTER X mumble" and take "X" as the base 
letter.   That means that, for example,  (a "d" with a hook) gets 
converted to "d".   My script, on the other hand, deals with things like 
"" (LATIN CAPITAL LETTER AE WITH MACRON) and converts it to AE.   There 
are some differences of opinion though, you have  mapped to "s" whereas 
I have "ss" ("stre" to "strasse" instead of "strase" seems right).  I 
think I'm also over-enthusiastic when it comes to mapping characters to 
spaces: I know that there are some arabic characters that get mapped to 
spaces.   For the purposes of converting to an ASCII approximation, 
though, I suspect a combination of your approach and mine would be 
best.   What do you think?

Of course, it's still unweildy -- the code uses a huge great switch 
statement.   It would be more aesthetically pleasing to have a class 
representing UnicodeData.txt and work out the mapping on the fly.   IBM 
have some Unicode stuff that deals with decomposition and uses a similar 
algorithm (I think) to the one I use.   The standard java.lang.Character 
has everything but the decompositions to implement what I do in perl in 
Java: generating a map of decompositions isn't difficult though.   
However, I doubt whether the reduction in code size would make it run 
faster and certainly looking at the name of the letter to determine the 
ASCII nearest equivalent is going to be slow.

jch


--------------010701030402060704050706
Content-Type: application/x-perl;
	name="mkswitch.pl"
Content-Disposition: inline;
	filename="mkswitch.pl"

#!/usr/bin/perl

#
# Find all the modifiers and all the characters that have a
# decomposition mapping.
#
# Note that
#       field[0] is the character point code
#       field[1] is the character name
#       field[2] is the general category and any category beginning
#                "M" is a modifier
#       field[5] is the space separated list of characters that can be
#                used to make this one
#
# We also ignore any character larger than 16 bits.  Also also
# mathematical symbols that combine with 0338 (ie fields[2] eq "Sm"
# and "COMBINING LONG SOLIDUS OVERLAY") as that is used to add a "not"
# to the symbol.
#

#
# In Unicode 4.1.0, the following are missing their decompositions.
# These decompositions may not be correct but they're good for the
# purposes of downgrading.  Note that the trade mark sign (U+2122)
# does decompose to "TM" but not having parentheses is confusing.
#
%missing = (
   "00A9" => "<compat> 0028 0043 0029",      # COPYRIGHT SIGN
   "00AE" => "<compat> 0028 0052 0029",      # REGISTERED SIGN
   "00C6" => "<compat> 0041 0045",           # LATIN CAPITAL LETTER AE
   "00D8" => "<compat> 004F 0338",           # LATIN CAPITAL LETTER O WITH STROKE
   "00DF" => "<compat> 0073 0073",           # LATIN SMALL LETTER SHARP S
   "00E6" => "<compat> 0061 0065",           # LATIN SMALL LETTER AE
   "00F8" => "<compat> 006F 0338",           # LATIN SMALL LETTER O WITH STROKE
   "0131" => "<compat> 0069",                # LATIN SMALL LETTER DOTLESS I
   "0152" => "<compat> 004F 0045",           # LATIN CAPITAL LIGATURE OE
   "0153" => "<compat> 006F 0065",           # LATIN SMALL LIGATURE OE
   "0237" => "<compat> 006A",                # LATIN SMALL LETTER DOTLESS J
   "025F" => "<compat> 006A",                # LATIN SMALL LETTER DOTLESS J WITH STROKE
   "0284" => "<compat> 006A",                # LATIN SMALL LETTER DOTLESS J WITH STROKE AND HOOK
   "2122" => "<compat> 0028 0054 004D 0029", # TRADE MARK SIGN
);

while (<>) {
  s/ *#.*//;
  next if /^$/;
  @fields = split(/;/);
  next if $fields[0] =~ /...../;
  next if $fields[2] =~ /S[om]/ && $fields[5] =~ /0338/;
  if ($fields[2] =~ /^M/) {
    $modifier{$fields[0]} = $fields[0];
  } else {
    $fields[5] = $missing{$fields[0]} if exists $missing{$fields[0]};
    $composite{$fields[0]} = $fields[5] if $fields[5] ne "";
    $names{$fields[0]} = $fields[1];
  }
}

#
# Now we've got all the composite characters and all the modifiers we
# can generate a table of full decompositions for all characters with
# the modifiers removed.
#
sub decompose {
  my ($base) = @_;
  if (exists $composite{$base}) {
    my ($char, $comp) = ("", "");
    my ($fraction, $circle, $square) = (0, 0);
    foreach $char (split(/ +/, $composite{$base})) {
      if ($char eq "<fraction>") {
	$fraction = 1;
      } elsif ($char eq "<circle>") {
	$circle = 1;
      } elsif ($char eq "<square>") {
	$square = 1;
      } elsif ($char !~ /<.*>/) {
	$comp .= " " . decompose($char) unless exists $modifier{$char};
      }
    }
    $comp =~ s/2044/002F/g if $fraction;
    $comp = "0028 " . $comp . " 0029" if $circle;
    $comp = "005B " . $comp . " 005D" if $square;
    $comp =~ s/^ *//;
    $comp =~ s/ +/ /g;
    return $comp;
  } else {
    return $base;
  }
}

sub ascii {
  my ($chars) = @_;
  my ($char, $str);
  $str = "";
  foreach $char (split(/ /, "0x" . join(" 0x", split(/ +/, $chars)))) {
    eval "\$char = $char"; # convert to an integer
    if ($char < 0x7f) {
      $str .= sprintf("%c", $char);
    } else {
      return "";
    }
  }
  return ($str eq "()") ? "" : $str;
}

foreach $char (sort keys %composite) {
  $x = $composite{$char};
  $x =~ s/<.*> *//;
  $y = decompose($char);
  next if $y eq "";
  $z = ascii($y);
  if ($z ne "") {
    $z =~ s/([\\\"])/\\$1/g;
    if (defined($map{$z})) {
      $map{$z} .= " " . $char;
    } else {
      $map{$z} = $char;
    }
  }
}

foreach $str (sort keys %map) {
  foreach $char (split(/ /, $map{$str})) {
    print "            case '\\u$char': /* $names{$char} */\n";
  }
  print "                output.append(\"$str\"); break;\n";
}


--------------010701030402060704050706
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------010701030402060704050706--

From java-user-return-18596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 12:37:50 2006
Return-Path: <java-user-return-18596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90591 invoked from network); 27 Jan 2006 12:37:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 12:37:49 -0000
Received: (qmail 83533 invoked by uid 500); 27 Jan 2006 12:37:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83510 invoked by uid 500); 27 Jan 2006 12:37:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83499 invoked by uid 99); 27 Jan 2006 12:37:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 04:37:41 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Daniel.Pfeifer@tradedoubler.com designates 212.247.9.195 as permitted sender)
Received: from [212.247.9.195] (HELO smtp.tradedoubler.com) (212.247.9.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 04:37:41 -0800
Received: from EXHQ01.root.tradedoubler.com ([192.168.11.57]) by smtp.tradedoubler.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 27 Jan 2006 13:37:04 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: [SPAM] - Re: Performance tips? - Sending mail server found on bl.spamcop.net
Date: Fri, 27 Jan 2006 13:37:04 +0100
Message-ID: <4BA24A13BFC8B24EBD64FCA6525003446BA099@EXHQ01.root.tradedoubler.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [SPAM] - Re: Performance tips? - Sending mail server found on bl.spamcop.net
Thread-Index: AcYjLoyiN1GVRpoBRXiNyULTu4j64AAD7nTQ
From: "Daniel Pfeifer" <Daniel.Pfeifer@tradedoubler.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 Jan 2006 12:37:04.0643 (UTC) FILETIME=[60D93530:01C6233E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are we both talking about Lucene? I am using Lucene 1.4.3 and can't find
a class called MapDirectory or MMapDirectory.

/Daniel

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]=20
Sent: den 27 januari 2006 11:43
To: java-user@lucene.apache.org
Subject: [SPAM] - Re: Performance tips? - Sending mail server found on
bl.spamcop.net

Daniel Pfeifer wrote:
> We are sporting Solaris 10 on a Sun Fire-machine with four cores and
> 12GB of RAM and mirrored Ultra 320-disks. I guess I could try
switching
> to FSDirectory and hope for the best.

Or, since you're on a 64-bit platform, try MMapDirectory, which supports

greater parallelism than FSDirectory.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 13:57:27 2006
Return-Path: <java-user-return-18597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82214 invoked from network); 27 Jan 2006 13:57:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 13:57:26 -0000
Received: (qmail 1243 invoked by uid 500); 27 Jan 2006 13:57:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1213 invoked by uid 500); 27 Jan 2006 13:57:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1134 invoked by uid 99); 27 Jan 2006 13:57:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 05:57:18 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [131.246.120.5] (HELO mailgate1.uni-kl.de) (131.246.120.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 05:57:17 -0800
Received: from dfki-2203.dfki.uni-kl.de (pc-210.dfki.uni-kl.de [131.246.241.70])
	by mailgate1.uni-kl.de (8.13.4/8.13.4/Debian-3) with ESMTP id k0RDuseh028585
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 14:56:54 +0100
Received: from serv-3100.kl.dfki.de (serv-3100.kl.dfki.de [192.168.31.180])
	by dfki-2203.dfki.uni-kl.de (8.11.7p1+Sun/8.11.4) with ESMTP id k0RDusS14503
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 14:56:54 +0100 (MET)
Received: from [192.168.31.173] (pc-3153 [192.168.31.173])
	by serv-3100.kl.dfki.de (8.12.10+Sun/8.12.10) with ESMTP id k0RDuqPw027516
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 14:56:52 +0100 (CET)
Message-ID: <43DA26E4.5000706@web.de>
Date: Fri, 27 Jan 2006 14:57:56 +0100
From: duiduder@web.de
User-Agent: Mozilla Thunderbird 1.0 (X11/20041207)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: How does the lucene normalize the score?
References: <277d4c5d0601262316n539c53f3jcaa6f515e50369a4@mail.gmail.com> <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
In-Reply-To: <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

..but this means, that the scores are not comparable across queries,
because a hit with the score '0.7' from one query mustn't be as 'good' as
a '0.7' from another query...and this is only the case, whether the original,
unnormalized top score value was less than 1.0.

Looks this really like a feasible way to normalize similarity values, especially
the distinction according to the top-score? Can someone really say, that a normalization
is meaningfull or not - related to the top score value?


I have made a further look, and it seems that the score-values inside the explanations
are not normalized?! We need normalized similarity values(e.g. in a range [0..1]), that
are comparable across queries. The situation now says that we have two score values:

1. an normalized one from the Hits-Class, without cross-query comparability
2. one unnormalized from IndexSearcher.explain(..), with cross-query comparability

I am a little  bit confused now..does this mean, that the default similarity implementation is
not adequate for such kind of problems?

best regards,

Chris



-- 
______________________________________________________________________

Christian Reuschling, Dipl.-Ing.(BA)
Software Engineer

Knowledge Management Department
German Research Center for Artificial Intelligence DFKI GmbH
Erwin-Schrdinger-Strae 57, D-67663 Kaiserslautern, Germany

Phone: +49.631.205-3441
mailto:reuschling@dfki.de  http://www.dfki.uni-kl.de/~reuschling/
______________________________________________________________________




Chris Lamprecht wrote:
> It takes the highest scoring document, if greater than 1.0, and
> divides every hit's score by this number, leaving them all <= 1.0. 
> Actually, I just looked at the code, and it actually does this by
> taking 1/maxScore and then multiplying this by each score (equivalent
> results in the end, maybe more efficient(?)).  See the method
> getMoreDocs() in Hits.java (org.apache.lucene.search.Hits):
> 
> [...]
>     float scoreNorm = 1.0f;
> 
>     if (length > 0 && topDocs.getMaxScore() > 1.0f) {
>       scoreNorm = 1.0f / topDocs.getMaxScore();
>     }
> 
>     int end = scoreDocs.length < length ? scoreDocs.length : length;
>     for (int i = hitDocs.size(); i < end; i++) {
>       hitDocs.addElement(new HitDoc(scoreDocs[i].score * scoreNorm,
>                                     scoreDocs[i].doc));
>     }
> 
> 
> 
> On 1/27/06, xing jiang <gingerons@gmail.com> wrote:
>>Hi,
>>
>>I want to know how the lucene normalizes the score. I see hits class has
>>this function to get each document's score. But i dont know how lucene
>>calculates the normalized score and in the "Lucene in action", it only said
>>normalized score of the nth top scoring docuemnts.
>>--
>>Regards
>>
>>Jiang Xing
>>
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 14:27:57 2006
Return-Path: <java-user-return-18598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10942 invoked from network); 27 Jan 2006 14:27:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 14:27:53 -0000
Received: (qmail 52274 invoked by uid 500); 27 Jan 2006 14:27:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52248 invoked by uid 500); 27 Jan 2006 14:27:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52236 invoked by uid 99); 27 Jan 2006 14:27:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 06:27:45 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 06:27:44 -0800
Received: by uproxy.gmail.com with SMTP id e2so624218ugf
        for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 06:27:23 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Tjd3xaM1dkicNeC9IGe9BBC7rsUx4uCY3zYo5+6ixUJOqam1XXqIlaZrsnqyUJttvbWRn2Ka2YD/qfsQftaKfY6tPZKHIeinYtpkM+OJ4Du+n/8v2Qzu6X4vq7lOOz6+ojiiWxn2OTeCQGz+6FtFRZBCtSk2vhoBMhBu9Rt9ZYc=
Received: by 10.49.80.10 with SMTP id h10mr86449nfl;
        Fri, 27 Jan 2006 06:27:22 -0800 (PST)
Received: by 10.49.93.1 with HTTP; Fri, 27 Jan 2006 06:27:21 -0800 (PST)
Message-ID: <c68e39170601270627w19543fe1m4270f39f08e3d3a5@mail.gmail.com>
Date: Fri, 27 Jan 2006 09:27:21 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How does the lucene normalize the score?
In-Reply-To: <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <277d4c5d0601262316n539c53f3jcaa6f515e50369a4@mail.gmail.com>
	 <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/27/06, Chris Lamprecht <clamprecht@gmail.com> wrote:
> Actually, I just looked at the code, and it actually does this by
> taking 1/maxScore and then multiplying this by each score (equivalent
> results in the end, maybe more efficient(?)).

Very much so... fdiv commonly takes 20 to 40 clock cycles, depending
on precision.  fmul commonly takes 3 clock cycles.   Same thing holds
with integer multiplication and division.

If one doesn't want normalized scores, they should use the expert
level search routines that return TopDocs or TopFieldDocs.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 15:55:12 2006
Return-Path: <java-user-return-18599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19845 invoked from network); 27 Jan 2006 15:55:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 15:55:12 -0000
Received: (qmail 15021 invoked by uid 500); 27 Jan 2006 15:55:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14997 invoked by uid 500); 27 Jan 2006 15:55:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14980 invoked by uid 99); 27 Jan 2006 15:55:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 07:55:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 07:55:03 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: problem updating a document: no segments file?
Date: Fri, 27 Jan 2006 09:53:38 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B29197E6F@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: problem updating a document: no segments file?
Thread-Index: AcYi7yZyympcWuFSQtKMG0CRnw0NxgAaazwg
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The lucene info is:
Manifest-Version: 1.0
Ant-Version: Apache Ant 1.6.1
Created-By: Apache Jakarta

Name: org/apache/lucene
Specification-Title: Lucene Search Engine
Specification-Version: 1.4.3
Specification-Vendor: Lucene
Implementation-Title: org.apache.lucene
Implementation-Version: build 2004-11-29 15:13:05
Implementation-Vemdpr: Lucene


Its still not keeping the segments file around.     Is that necessary?
It must be because the update is failing with "can't find segements
file" warning.    Can I grab the segments file while the indexing is
going on before it gets deleted?    Does the segments file change
through the indexing process?  =20


Here is a code snippet..     any problems here?     This works fine on
my box.   Its mostly database stuff..   but something is causing this
problem.  =20



    public static void index() throws Exception {

	    String newPath =3D getIndexLocation() + File.separator +
System.currentTimeMillis();

	  =20
	    IndexWriter writer =3D new IndexWriter(new File(newPath),
analyzer, true);
	    writer.setUseCompoundFile(false);

	    DBMgr dbm =3D new DBMgr();
	    DBMgr dbm2 =3D new DBMgr();
	    ResultSet rs =3D null, rs2=3Dnull;
       =20
	    Document doc=3Dnull;
        int cnt =3D 0;
        String lastID=3D"-1", thisID;
        String p;
        int CNT=3D0;
       =20
        String catTmp;//Cable Pathway[980455819]{0}|Bolts and
Installation[980455820]{1}|Carriage Bolts[980455821]{1}|

=09

	String priceBook;
	String priceTMP =3D "";
=09

        try {

		dbm.runUpdate("update co_item_cat_assc set ancestry =3D
dbo.makeCatTag2(category)");
		dbm.runUpdate("update co_category_products set ancestry
=3D dbo.makeCatTag2(category)");
		dbm.runUpdate("update co_category_products set
ndAncestry =3D dbo.makeCatTag2ND(category)");//for NEW Design
	=09
		rs2 =3D dbm2.runQuery("select priceBook from
co_cart_prefs");
	=09
		if (rs2.next()) {
			priceBook =3D rs2.getString("priceBook");
		} else {
			priceBook =3D "Sell_Price";
		}
	=09
			=09
			=09
	=09
		rs =3D dbm.runQuery("select i.smartpart_num as id,
i.cartable, i.item_num, i.keyword, i.description, i.shortdesc,
i.ecatlongdesc, c.description as cDesc, c.keywords as cKey, a.ancestry,
a.seq, i.price, i.image, i.ecatlink from co_item_master i,
co_item_cat_assc a, co_prod_cat c where i.salable_ind =3D 'Y' and
i.smartpart_num =3D a.item and c.category_id =3D a.category order by
item_num");
		while (rs.next()) {
			thisID =3D rs.getString("id");
	=09
			if (!thisID.equals(lastID)) {
				if (!lastID.equals("-1")) {
					writer.addDocument(doc);
				}
		=09
		=09
				doc =3D new Document();
			=09
				doc.add(Field.Keyword(CARTABLE,
rs.getString("cartable")));
			=09
				doc.add(Field.Keyword(IDENTITY,
thisID));
				doc.add(Field.Text(NAME,
rs.getString("item_num")));
				doc.add(Field.Text(KW,
StringFormat.processString(rs.getString("keyword"),
StringFormat.WEB_DISPLAY)));
				doc.add(Field.Text(STND_DESC,
StringFormat.processString(rs.getString("description"),
StringFormat.WEB_DISPLAY)));
				doc.add(Field.Text(SD,
StringFormat.processString(rs.getString("shortdesc"),
StringFormat.WEB_DISPLAY)));
				doc.add(Field.Text(LD,
StringFormat.processString(rs.getString("ecatlongdesc"),
StringFormat.WEB_DISPLAY)));
			=09
				doc.add(Field.Text(CATNAME,
StringFormat.processString(rs.getString("cDesc"))));
				doc.add(Field.Text(CATKEY,
StringFormat.processString(rs.getString("cKey"))));
				doc.add(Field.Text(CAT,
StringFormat.processString(rs.getString("ancestry"))));
	=09
			=09
			=09
				p =3D rs.getString("seq");
			=09
				try {
					doc.add(Field.Keyword(SEQ, p));
				} catch (Exception ep) {
					doc.add(Field.Keyword(SEQ,
"0"));
				}
			=09
			/*
				p =3D rs.getString("price");
				try {
					doc.add(Field.Keyword(PRICE, ""
+ Float.parseFloat(p)));
				} catch (Exception ep) {
					doc.add(Field.Keyword(PRICE,
"0"));
				}
				*/
				doc.add(Field.UnIndexed(PRODUCT, "0"));
				doc.add(Field.UnIndexed(IMAGE,
StringFormat.processString(rs.getString("image"))));
				doc.add(Field.UnIndexed(LINK,
StringFormat.processString(rs.getString("ecatlink"))));
			=09








	=09

				priceTMP =3D "";
	=09
				if (priceBook.equals("Price") ||
priceBook.equals("Cost") || priceBook.equals("Sell_Price")) {
				    rs2 =3D dbm2.runQuery("select " +
priceBook + " as blue from co_item_master where smartpart_num =3D '" +
thisID + "'");
				    if (rs2.next()) {
					priceTMP =3D
rs2.getString("blue");
				    }
	=09
				} else {
				    rs2 =3D dbm2.runQuery("select
pim.price from CO_PRICE_ITEM_MASTER pim, co_cart_prefs p, co_item_master
i where pim.smartpart_num =3D i.smartpart_num and i.smartpart_num =3D '" =
+
thisID + "' and convert(varchar, pim.price_book_id) =3D p.priceBook");
				    if (rs2.next()) {
					priceTMP =3D
rs2.getString("price");
				    }
				}
	=09
				try {
					doc.add(Field.Keyword(PRICE, ""
+ Float.parseFloat(priceTMP)));
				} catch (Exception e) {
					doc.add(Field.Keyword(PRICE,
"0"));
				}
			=09
	=09
	=09
	=09
	=09
	=09
			=09
		=09
			} else {
		=09
				doc.add(Field.Text(CATNAME,
StringFormat.processString(rs.getString("cDesc"))));
				doc.add(Field.Text(CATKEY,
StringFormat.processString(rs.getString("cKey"))));
				doc.add(Field.Text(CAT,
StringFormat.processString(rs.getString("ancestry"))));

		=09
				p =3D rs.getString("seq");
		=09
				try {
					doc.add(Field.Keyword(SEQ, p));
				} catch (Exception ep) {
					doc.add(Field.Keyword(SEQ,
"0"));
				}
			=09
			}
	=09
			lastID =3D thisID;
		}
		=09

		writer.addDocument(doc);
		lastID=3D"-1";

		rs =3D dbm.runQuery("select p.product_id, p.product_desc,
p.keyword, p.shortdesc, p.longdesc, c.description as cDesc, c.keywords
as cKey, cp.ancestry, cp.seq, p.product_img_file from co_prod p,
co_category_products cp, co_prod_cat c where p.saleable =3D 1 and
p.product_id =3D cp.product and cp.category =3D c.category_id order by
p.product_id");
		while (rs.next()) {
			thisID =3D rs.getString("product_id");
		=09
		=09
			if (!thisID.equals(lastID)) {
				if (!lastID.equals("-1")) {
					writer.addDocument(doc);
				}
		=09
		=09
				doc =3D new Document();
				doc.add(Field.Keyword(CARTABLE, "1"));
				doc.add(Field.Text(IDENTITY, thisID));
				doc.add(Field.Text(NAME,
StringFormat.processString(rs.getString("product_desc"))));
				doc.add(Field.Text(KW,
StringFormat.processString(rs.getString("keyword"))));
				doc.add(Field.Text(SD,
StringFormat.processString(rs.getString("shortdesc"))));
				doc.add(Field.Text(LD,
StringFormat.processString(rs.getString("longdesc"))));

				doc.add(Field.Text(CATNAME,
StringFormat.processString(rs.getString("cDesc"))));
				doc.add(Field.Text(CATKEY,
StringFormat.processString(rs.getString("cKey"))));
				doc.add(Field.Text(CAT,
StringFormat.processString(rs.getString("ancestry"))));
			=09
				p =3D rs.getString("seq");
			=09
				try {
					doc.add(Field.Keyword(SEQ, p));
				} catch (Exception ep) {
					doc.add(Field.Keyword(SEQ,
"0"));
				}
		=09
				doc.add(Field.Keyword(PRICE, "0"));
			=09
				doc.add(Field.UnIndexed(PRODUCT, "1"));
				doc.add(Field.UnIndexed(IMAGE,
StringFormat.processString(rs.getString("product_img_file"))));

			} else {
				doc.add(Field.Text(CATNAME,
StringFormat.processString(rs.getString("cDesc"))));
				doc.add(Field.Text(CATKEY,
StringFormat.processString(rs.getString("cKey"))));
				doc.add(Field.Text(CAT,
StringFormat.processString(rs.getString("ancestry"))));
							=09
				p =3D rs.getString("seq");
			=09
				try {
					doc.add(Field.Keyword(SEQ, p));
				} catch (Exception ep) {
					doc.add(Field.Keyword(SEQ,
"0"));
				}
		=09
			}
		=09
		=09
		=09
		=09
			lastID =3D thisID;
		}

		writer.addDocument(doc);


		dbm.runUpdate("update co_cart_prefs set indexUpdated =3D
getDate()");

                rs =3D dbm.runQuery("select indexUpdated, tablesUpdated
from co_cart_prefs ");
                if (rs.next()) {
                    setIndexUpdated(new
Date(DateFormat.string_Long(rs.getString("indexUpdated"))));
                    setTablesUpdated(new
Date(DateFormat.string_Long(rs.getString("tablesUpdated"))));
                }

		=09
        } catch (Exception e) {
            System.out.println("Indexer index err: " + e);
        } finally {
            try {
                rs.close();
            }
            catch (Exception e) {}
        }
		=09
		=09

        writer.optimize();
        writer.close();

	SearchSO.setSearcher(newPath);

	File[] subFiles;
	File[] subDirs =3D new File(getIndexLocation()).listFiles();

	for (int i=3D0;i<subDirs.length;i++) {
		if (subDirs[i].isDirectory()) {
			if (!newPath.equals(subDirs[i].getPath())) {
				subFiles =3D subDirs[i].listFiles();
				for (int j=3D0;j<subFiles.length;j++) {
					subFiles[j].delete();=09
				}
				subDirs[i].delete();
			}
		}
	}
		=09
=09
    }

















-----Original Message-----
From: John Powers [mailto:jpowers@configureone.com]=20
Sent: Thursday, January 26, 2006 9:07 PM
To: java-user@lucene.apache.org
Subject: problem updating a document: no segments file?

Hello,

I have a couple instances of lucene.  I just altered on implementation
and now its not keeping a segments file.  while indexing occurs, there
is a segment file.    but once its done, there isn't.    all the other
indexes have one.     the problem comes when i try to update a document,
it says "segments file not found" and that stops it.    this code was
working fine on my development box, but now i go to production its not
keeping that segments file.    and, it searches just fine.    i can
reindex over and over, and it keeps disappearing.

any ideas?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 16:09:59 2006
Return-Path: <java-user-return-18600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36677 invoked from network); 27 Jan 2006 16:09:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 16:09:57 -0000
Received: (qmail 58948 invoked by uid 500); 27 Jan 2006 16:09:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58920 invoked by uid 500); 27 Jan 2006 16:09:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58908 invoked by uid 99); 27 Jan 2006 16:09:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 08:09:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.44] (HELO mail.mi8.com) (63.240.6.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 08:09:49 -0800
Received: from 172.16.1.26 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D4)); Fri, 27 Jan 2006 11:09:19 -0500
X-Server-Uuid: C8FB4D43-1108-484A-A898-3CBCC7906230
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.163]) by
 D01HOST01.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Fri, 27 Jan
 2006 11:09:18 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: Help with indexing and query strategy
Date: Fri, 27 Jan 2006 11:09:17 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F7140304B197FD@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with indexing and query strategy
Thread-Index: AcYjV+hOdjVeNp5TShKZXZkUSEJHSw==
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 27 Jan 2006 16:09:18.0478 (UTC)
 FILETIME=[06CE3AE0:01C6235C]
X-WSS-ID: 6FC49A2512G23146962-03-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm having some trouble coming up with a good search strategy for =
geographical data. e.g., given:
=20
[1] city: London, United Kingdom
[2] city: London, Ontario, Canada
[3] city: Ontario, California, United States
[4] state: Ontario, Canada
[5] city: Vancouver, Washington, United States
[6] city: Vancouver, British Columbia, Canada
[7] city: Washington, DC, United States
[8] state: Washington, United States
=20
and also given the following synonyms:
=20
Ontario =3D ON
California =3D CA
Washington =3D WA
Canada =3D CA
United States =3D US =3D America =3D United States of America
United Kingdom =3D UK =3D Great Britain =3D England
=20
=66or the following queries, I want the listed number of hits '()' from =
matching '[]':
=20
i. Ontario (2) [3, 4]
ii. London (2) [1, 2]
iii. Ontario, Canada (1) [4]
iv. Ontario, California (1) [3]
v. Ontario, CA (2) [3, 4]
vi. Ontario, US (1) [3]
vii. Vancouver (2) [5, 6]
viii. Washington (2) [7, 8]
ix. Washington, DC (1) [7]
x. Vancouver, CA (1) [6]
xi. Vancouver, WA (1) [5]
=20
How do I index and store the input (assume that I know the mechanics so I'm=
 =
not looking for specific java syntax or how to generate synonyms during =
analysis) so that I get the desired results. My current attempt indexes =
strings like "London Ontario Canada", "London ON Canada", "London Ontario =
CA", "London ON CA" -- i.e. every combination of entity name and =
corresponding code -- in a content field and creates a type field containin=
g=
 "city" (or "state" or "country" as appropriate to identify the type of =
entity being indexed) and uses a phrase query with a slop of 1 which works =
really well except e.g. "Ontario CA" for which I'd like 2 hits, but given =
the above data gives 3 hits (from 2, 3 and 4, and the problem will only get=
 =
worse as I add more cities in Ontario since each results in a hit). The slo=
p=
 of 1 is required since not all countries customarily use states, and I nee=
d=
 to support the user optionally dropping the state as in the above example =
of "Ontario, CA" where we don't know if the user intended the "CA" to =
represent the state of California or the country of Canada, while "London, =
UK" would be unambiguous.
=20
The major problem as I see it is that at parse time I don't know if the use=
r=
 is searching for a city, state or country, and I don't want to force them =
to specify that.
=20
Does anyone have any good ideas to help me solve this problem=3F
=20
Thanks.
=20
Colin Young
=20

Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 18:57:16 2006
Return-Path: <java-user-return-18601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44362 invoked from network); 27 Jan 2006 18:57:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 18:57:15 -0000
Received: (qmail 33566 invoked by uid 500); 27 Jan 2006 18:57:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33542 invoked by uid 500); 27 Jan 2006 18:57:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33531 invoked by uid 99); 27 Jan 2006 18:57:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 10:57:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 10:57:07 -0800
Received: from pimout1-ext.prodigy.net (pimout1-int.prodigy.net [207.115.5.65])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k0RIumap017104
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 13:56:49 -0500
X-ORBL: [69.228.232.128]
Received: from [192.168.168.15] (adsl-69-228-232-128.dsl.pltn13.pacbell.net [69.228.232.128])
	by pimout1-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k0RIudae034170;
	Fri, 27 Jan 2006 13:56:43 -0500
Message-ID: <43DA6CE8.7090805@apache.org>
Date: Fri, 27 Jan 2006 10:56:40 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: [SPAM] - Re: Performance tips? - Sending mail server found on
 bl.spamcop.net
References: <4BA24A13BFC8B24EBD64FCA6525003446BA099@EXHQ01.root.tradedoubler.com>
In-Reply-To: <4BA24A13BFC8B24EBD64FCA6525003446BA099@EXHQ01.root.tradedoubler.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Pfeifer wrote:
> Are we both talking about Lucene? I am using Lucene 1.4.3 and can't find
> a class called MapDirectory or MMapDirectory.

It is post-1.4.

You can download a nightly build of the current trunk at:

http://cvs.apache.org/dist/lucene/java/nightly/

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 19:32:27 2006
Return-Path: <java-user-return-18602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83889 invoked from network); 27 Jan 2006 19:32:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 19:32:27 -0000
Received: (qmail 82245 invoked by uid 500); 27 Jan 2006 19:32:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82223 invoked by uid 500); 27 Jan 2006 19:32:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82212 invoked by uid 99); 27 Jan 2006 19:32:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 11:32:20 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 11:32:19 -0800
Received: by zproxy.gmail.com with SMTP id i11so622968nzh
        for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 11:31:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SMI5vgKKaBhdebhBcQ1btq7rimDCDTE7THTj20VgpKzXa0/yd831vCHvWrX3uKHBAziHPUl65qW7woJ+GCx3H+sCHfx+zcfD8zBuy1AWeYUakFiv2kzdJOx+aq+lLh34EPZKGLs6m9ye6ZYSNF1haiH8OA5fhNmRNbqtazI8l+Y=
Received: by 10.65.148.5 with SMTP id a5mr623218qbo;
        Fri, 27 Jan 2006 11:31:58 -0800 (PST)
Received: by 10.65.248.3 with HTTP; Fri, 27 Jan 2006 11:31:58 -0800 (PST)
Message-ID: <abe188f20601271131r3ba285e7o2b00fc125a4a1d07@mail.gmail.com>
Date: Fri, 27 Jan 2006 13:31:58 -0600
From: Rajesh Munavalli <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy
In-Reply-To: <3AF76382C31760418AF0FBFD84F7140304B197FD@MI8NYCMAIL07.Mi8.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5401_23271421.1138390318053"
References: <3AF76382C31760418AF0FBFD84F7140304B197FD@MI8NYCMAIL07.Mi8.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5401_23271421.1138390318053
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Colin,
        Even assuming you came up with a good way of indexing, the example
query "Ontario, CA" should yield 3 hits. All 2, 3 and 4 are valid
retrievals. Could you please justify which 2 hits you want and why?

Thanks,

Rajesh Munavalli

On 1/27/06, Colin Young <Colin.Young@tembizi.com> wrote:
>
> I'm having some trouble coming up with a good search strategy for
> geographical data. e.g., given:
>
> [1] city: London, United Kingdom
> [2] city: London, Ontario, Canada
> [3] city: Ontario, California, United States
> [4] state: Ontario, Canada
> [5] city: Vancouver, Washington, United States
> [6] city: Vancouver, British Columbia, Canada
> [7] city: Washington, DC, United States
> [8] state: Washington, United States
>
> and also given the following synonyms:
>
> Ontario =3D ON
> California =3D CA
> Washington =3D WA
> Canada =3D CA
> United States =3D US =3D America =3D United States of America
> United Kingdom =3D UK =3D Great Britain =3D England
>
> for the following queries, I want the listed number of hits '()' from
> matching '[]':
>
> i. Ontario (2) [3, 4]
> ii. London (2) [1, 2]
> iii. Ontario, Canada (1) [4]
> iv. Ontario, California (1) [3]
> v. Ontario, CA (2) [3, 4]
> vi. Ontario, US (1) [3]
> vii. Vancouver (2) [5, 6]
> viii. Washington (2) [7, 8]
> ix. Washington, DC (1) [7]
> x. Vancouver, CA (1) [6]
> xi. Vancouver, WA (1) [5]
>
> How do I index and store the input (assume that I know the mechanics so
> I'm not looking for specific java syntax or how to generate synonyms duri=
ng
> analysis) so that I get the desired results. My current attempt indexes
> strings like "London Ontario Canada", "London ON Canada", "London Ontario
> CA", "London ON CA" -- i.e. every combination of entity name and
> corresponding code -- in a content field and creates a type field contain=
ing
> "city" (or "state" or "country" as appropriate to identify the type of
> entity being indexed) and uses a phrase query with a slop of 1 which work=
s
> really well except e.g. "Ontario CA" for which I'd like 2 hits, but given
> the above data gives 3 hits (from 2, 3 and 4, and the problem will only g=
et
> worse as I add more cities in Ontario since each results in a hit). The s=
lop
> of 1 is required since not all countries customarily use states, and I ne=
ed
> to support the user optionally dropping the state as in the above example=
 of
> "Ontario, CA" where we don't know if the user intended the "CA" to repres=
ent
> the state of California or the country of Canada, while "London, UK" woul=
d
> be unambiguous.
>
> The major problem as I see it is that at parse time I don't know if the
> user is searching for a city, state or country, and I don't want to force
> them to specify that.
>
> Does anyone have any good ideas to help me solve this problem?
>
> Thanks.
>
> Colin Young
>
>
> Notice: This email message is for the sole use of the intended
> recipient(s) and may contain confidential and privileged information. Any
> unauthorized review, use, disclosure or distribution is prohibited. If yo=
u
> are not the intended recipient, please contact the sender by reply email =
and
> destroy all copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_5401_23271421.1138390318053--

From java-user-return-18603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 20:31:55 2006
Return-Path: <java-user-return-18603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51171 invoked from network); 27 Jan 2006 20:31:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 20:31:48 -0000
Received: (qmail 75415 invoked by uid 500); 27 Jan 2006 20:31:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75385 invoked by uid 500); 27 Jan 2006 20:31:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 78189 invoked by uid 99); 27 Jan 2006 19:28:35 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rajvm19@gmail.com designates 64.233.162.206 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding:from;
        b=mu3PjfCIOmYyM6Yuvx4gjbeE/VPSSYiFosCTCZ1Bsblyb5GSlMAhf1/n155W5D/YxUGHZvahZeXnErnfvytWBwVjp4YsHWVJDecsKe7/ErYz9BZJ9rSLBXSO5hqWe/3ajiD9TQsXv2jD5HBuOTSmUi2II5lYZsrMQOfWuqW0gZA=
Message-ID: <43DA7448.4070406@gmail.com>
Date: Fri, 27 Jan 2006 13:28:08 -0600
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy
References: <3AF76382C31760418AF0FBFD84F7140304B197FD@MI8NYCMAIL07.Mi8.com>
In-Reply-To: <3AF76382C31760418AF0FBFD84F7140304B197FD@MI8NYCMAIL07.Mi8.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
From: Rajesh Munavalli <rajvm19@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Colin,
         Even assuming you came up with a good way of indexing, the=20
example query "Ontario, CA" should yield 3 hits. All 2, 3 and 4 are=20
valid retrievals. Could you please justify which 2 hits you want and why?=


Thanks,

Rajesh Munavalli

Colin Young wrote:
> I'm having some trouble coming up with a good search strategy for geogr=
aphical data. e.g., given:
> =20
> [1] city: London, United Kingdom
> [2] city: London, Ontario, Canada
> [3] city: Ontario, California, United States
> [4] state: Ontario, Canada
> [5] city: Vancouver, Washington, United States
> [6] city: Vancouver, British Columbia, Canada
> [7] city: Washington, DC, United States
> [8] state: Washington, United States
> =20
> and also given the following synonyms:
> =20
> Ontario =3D ON
> California =3D CA
> Washington =3D WA
> Canada =3D CA
> United States =3D US =3D America =3D United States of America
> United Kingdom =3D UK =3D Great Britain =3D England
> =20
> for the following queries, I want the listed number of hits '()' from m=
atching '[]':
> =20
> i. Ontario (2) [3, 4]
> ii. London (2) [1, 2]
> iii. Ontario, Canada (1) [4]
> iv. Ontario, California (1) [3]
> v. Ontario, CA (2) [3, 4]
> vi. Ontario, US (1) [3]
> vii. Vancouver (2) [5, 6]
> viii. Washington (2) [7, 8]
> ix. Washington, DC (1) [7]
> x. Vancouver, CA (1) [6]
> xi. Vancouver, WA (1) [5]
> =20
> How do I index and store the input (assume that I know the mechanics so=
 I'm not looking for specific java syntax or how to generate synonyms dur=
ing analysis) so that I get the desired results. My current attempt index=
es strings like "London Ontario Canada", "London ON Canada", "London Onta=
rio CA", "London ON CA" -- i.e. every combination of entity name and corr=
esponding code -- in a content field and creates a type field containing =
"city" (or "state" or "country" as appropriate to identify the type of en=
tity being indexed) and uses a phrase query with a slop of 1 which works =
really well except e.g. "Ontario CA" for which I'd like 2 hits, but given=
 the above data gives 3 hits (from 2, 3 and 4, and the problem will only =
get worse as I add more cities in Ontario since each results in a hit). T=
he slop of 1 is required since not all countries customarily use states, =
and I need to support the user optionally dropping the state as in the ab=
ove example of "Ontario, CA" where we don't know if the user intended the=
 "CA" to represent the state of California or the country of Canada, whil=
e "London, UK" would be unambiguous.
> =20
> The major problem as I see it is that at parse time I don't know if the=
 user is searching for a city, state or country, and I don't want to forc=
e them to specify that.
> =20
> Does anyone have any good ideas to help me solve this problem?
> =20
> Thanks.
> =20
> Colin Young
> =20
>
> Notice: This email message is for the sole use of the intended recipien=
t(s) and may contain confidential and privileged information. Any unautho=
rized review, use, disclosure or distribution is prohibited. If you are n=
ot the intended recipient, please contact the sender by reply email and d=
estroy all copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  =20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 21:14:34 2006
Return-Path: <java-user-return-18604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4033 invoked from network); 27 Jan 2006 21:14:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 21:14:33 -0000
Received: (qmail 36784 invoked by uid 500); 27 Jan 2006 21:14:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36763 invoked by uid 500); 27 Jan 2006 21:14:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36752 invoked by uid 99); 27 Jan 2006 21:14:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 13:14:26 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.44] (HELO mail.mi8.com) (63.240.6.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 13:14:25 -0800
Received: from 172.16.1.110 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D4)); Fri, 27 Jan 2006 16:13:47 -0500
X-Server-Uuid: C8FB4D43-1108-484A-A898-3CBCC7906230
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.163]) by
 D01SMTP01.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Fri, 27 Jan
 2006 16:13:47 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Help with indexing and query strategy
Date: Fri, 27 Jan 2006 16:13:54 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F714030A4475EC@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with indexing and query strategy
Thread-Index: AcYjgMGhA9jAEF1QSe2ah/eTzxX+ZAAAl2ew
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 27 Jan 2006 21:13:47.0444 (UTC)
 FILETIME=[8FF53740:01C62386]
X-WSS-ID: 6FC4528112G23335814-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The reason I only want 2 hits is because [2] is more "specific" in my
domain -- I could also have Toronto, Ontario; Kingston, Ontario etc.
which would take the hits up to 5 now.

What I'm really after is finding a way to index and search that would
make [2] an invalid retrieval.

My latest attempt is like this (field name: value):

Type: city
Name: london ontario canada
Name: london on canada
Name: london ontario ca
Name: london on ca
Primary-name: london

So the new list of documents is something like this (<type>: <name
entries> {<primary-name>}):

[1] city: London, United Kingdom {london}
[2] city: London, Ontario, Canada {london}
[3] city: Ontario, California, United States {ontario}
[4] state: Ontario, Canada  {ontario}
[5] city: Vancouver, Washington, United States {vancouver}
[6] city: Vancouver, British Columbia, Canada {vancouver}
[7] city: Washington, DC, United States {washington}
[8] state: Washington, United States {washington}

I realize that I'm adding a lot of duplicate info -- I haven't got to
the refactoring stage yet, so I'm trying to keep my unit test setup very
explicit. The final analysis process will be pulling the geographic
entities from a database so I'll have all the synonyms, types (city,
state, country), etc. at that point and can write custom routines for
documents of each type (city, state, country).

The idea here is to filter the results so that only documents where the
primary-name appears in the user's query string come back. i.e. if the
user typed "Ontario, CA", so only [3, 4] are valid results now since [2]
has a primary-name of "london" which does not appear in the user's
query, while [3, 4] both have a primary-name of "ontario". Now I'm just
having some trouble creating a filter (I've managed so far to filter out
_everything_). I can't quite sort out how to do a (displaying my SQL
background here) "where <term> in <query string>". I'm including my
current search code at the end of this response.

Unfortunately I can't just assume the first term in the user's query is
the primary-name since it could be more than one word (e.g. for "St.
Louis du Ha Ha Quebec", "St. Louis du Ha Ha" is the primary-name).

Thanks

Colin

// sample call:
// Hits hits =3D GeographySearch.Search(searcher, "any", new String[]
{"Ontario", "CA"});

public static Hits Search(Searcher searcher, String typeToFind, String[]
queryString)
	throws IOException, ParseException
{
	TermQuery entityType =3D new TermQuery(new Term("class",
typeToFind));
	BooleanQuery filterQuery =3D new BooleanQuery();
		PhraseQuery query =3D new PhraseQuery();
	query.setSlop(1);

	for (int i =3D 0; i < queryString.length; i++)
	{
		query.add(new Term("name",
queryString[i].toLowerCase()));
		filterQuery.add(
			new TermQuery(new Term("primary-name",
queryString[i])),=20
			BooleanClause.Occur.SHOULD);
	}

	BooleanQuery geographyQuery =3D new BooleanQuery();
	if (typeToFind !=3D "any") geographyQuery.add(entityType,
BooleanClause.Occur.MUST);
	geographyQuery.add(query, BooleanClause.Occur.MUST);
	=09
	QueryFilter filter =3D new QueryFilter(filterQuery);
=09
	Hits hits =3D searcher.search(geographyQuery, filter);
	return hits;
}

-----Original Message-----
=46rom: Rajesh Munavalli [mailto:rajvm19@gmail.com]=20
Sent: 27 January, 2006 14:28
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy

Hi Colin,
         Even assuming you came up with a good way of indexing, the
example query "Ontario, CA" should yield 3 hits. All 2, 3 and 4 are
valid retrievals. Could you please justify which 2 hits you want and
why=3F

Thanks,

Rajesh Munavalli

Colin Young wrote:
> I'm having some trouble coming up with a good search strategy for
geographical data. e.g., given:
> =20
> [1] city: London, United Kingdom
> [2] city: London, Ontario, Canada
> [3] city: Ontario, California, United States [4] state: Ontario,=20
> Canada [5] city: Vancouver, Washington, United States [6] city:=20
> Vancouver, British Columbia, Canada [7] city: Washington, DC, United=20
> States [8] state: Washington, United States
> =20
> and also given the following synonyms:
> =20
> Ontario =3D ON
> California =3D CA
> Washington =3D WA
> Canada =3D CA
> United States =3D US =3D America =3D United States of America United =
Kingdom

> =3D UK =3D Great Britain =3D England
> =20
> for the following queries, I want the listed number of hits '()' from
matching '[]':
> =20
> i. Ontario (2) [3, 4]
> ii. London (2) [1, 2]
> iii. Ontario, Canada (1) [4]
> iv. Ontario, California (1) [3]
> v. Ontario, CA (2) [3, 4]
> vi. Ontario, US (1) [3]
> vii. Vancouver (2) [5, 6]
> viii. Washington (2) [7, 8]
> ix. Washington, DC (1) [7]
> x. Vancouver, CA (1) [6]
> xi. Vancouver, WA (1) [5]
> =20
> How do I index and store the input (assume that I know the mechanics
so I'm not looking for specific java syntax or how to generate synonyms
during analysis) so that I get the desired results. My current attempt
indexes strings like "London Ontario Canada", "London ON Canada",
"London Ontario CA", "London ON CA" -- i.e. every combination of entity
name and corresponding code -- in a content field and creates a type
=66ield containing "city" (or "state" or "country" as appropriate to
identify the type of entity being indexed) and uses a phrase query with
a slop of 1 which works really well except e.g. "Ontario CA" for which
I'd like 2 hits, but given the above data gives 3 hits (from 2, 3 and 4,
and the problem will only get worse as I add more cities in Ontario
since each results in a hit). The slop of 1 is required since not all
countries customarily use states, and I need to support the user
optionally dropping the state as in the above example of "Ontario, CA"
where we don't know if the user intended the "CA" to represent the state
of California or the country of Canada, while "London, UK" would be
unambiguous.
> =20
> The major problem as I see it is that at parse time I don't know if
the user is searching for a city, state or country, and I don't want to
=66orce them to specify that.
> =20
> Does anyone have any good ideas to help me solve this problem=3F
> =20
> Thanks.
> =20
> Colin Young
> =20
>
> Notice: This email message is for the sole use of the intended
recipient(s) and may contain confidential and privileged information.
Any unauthorized review, use, disclosure or distribution is prohibited.
If you are not the intended recipient, please contact the sender by
reply email and destroy all copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  =20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
=46or additional commands, e-mail: java-user-help@lucene.apache.org



Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 22:04:22 2006
Return-Path: <java-user-return-18605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58463 invoked from network); 27 Jan 2006 22:04:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 22:04:21 -0000
Received: (qmail 76129 invoked by uid 500); 27 Jan 2006 22:04:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76103 invoked by uid 500); 27 Jan 2006 22:04:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76092 invoked by uid 99); 27 Jan 2006 22:04:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 14:04:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 14:04:14 -0800
Received: by zproxy.gmail.com with SMTP id i11so647579nzh
        for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 14:03:53 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=OhHirQ9lL25tOtjlkgepUEiLWh60r5URrgPV5W7MbrICOm2/UzBpGb4xOcee6QpzHfCIFS1Pw62YBaVfov7QEzx6bKTFvpOOs5aQC2D1P2lTJOuEGFSCSrmV4Je7Pn2swL9gA96I5UKiUpzMUsu0NONWp1jhp6aIJ57tSvZN7EQ=
Received: by 10.65.103.3 with SMTP id f3mr742566qbm;
        Fri, 27 Jan 2006 14:03:52 -0800 (PST)
Received: by 10.65.248.3 with HTTP; Fri, 27 Jan 2006 14:03:52 -0800 (PST)
Message-ID: <abe188f20601271403y3856aca9tf040b25f61e4a8bf@mail.gmail.com>
Date: Fri, 27 Jan 2006 16:03:52 -0600
From: Rajesh Munavalli <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy
In-Reply-To: <3AF76382C31760418AF0FBFD84F714030A4475EC@MI8NYCMAIL07.Mi8.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7194_21386530.1138399432009"
References: <3AF76382C31760418AF0FBFD84F714030A4475EC@MI8NYCMAIL07.Mi8.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7194_21386530.1138399432009
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Few questions.
(1) Does each document contain only one geographical location?

(2) Given a document, how are you tokenizing it into city, state and
country? I am assuming "," as the delimiter here. Otherwise determining the
boundary for names like "St. Louis du Ha Ha" would be difficult.

(3) Are these delimiters true even at query time? Is it possible that user
might enter "ontario ca" and not "ontario, ca"?

(4) How do you deal with a unique example like "NY, NY"?
Example:
Doc1: NY, NY, USA
Doc2: NY, USA
Doc3: Albany, NY, USA

For query "NY, USA" you should be able to retrieve 1, 2 and 3 eventhough th=
e
primary information for Doc3 is "Albany".

--
Rajesh Munavalli

On 1/27/06, Colin Young <Colin.Young@tembizi.com> wrote:
>
> The reason I only want 2 hits is because [2] is more "specific" in my
> domain -- I could also have Toronto, Ontario; Kingston, Ontario etc.
> which would take the hits up to 5 now.
>
> What I'm really after is finding a way to index and search that would
> make [2] an invalid retrieval.
>
> My latest attempt is like this (field name: value):
>
> Type: city
> Name: london ontario canada
> Name: london on canada
> Name: london ontario ca
> Name: london on ca
> Primary-name: london
>
> So the new list of documents is something like this (<type>: <name
> entries> {<primary-name>}):
>
> [1] city: London, United Kingdom {london}
> [2] city: London, Ontario, Canada {london}
> [3] city: Ontario, California, United States {ontario}
> [4] state: Ontario, Canada  {ontario}
> [5] city: Vancouver, Washington, United States {vancouver}
> [6] city: Vancouver, British Columbia, Canada {vancouver}
> [7] city: Washington, DC, United States {washington}
> [8] state: Washington, United States {washington}
>
> I realize that I'm adding a lot of duplicate info -- I haven't got to
> the refactoring stage yet, so I'm trying to keep my unit test setup very
> explicit. The final analysis process will be pulling the geographic
> entities from a database so I'll have all the synonyms, types (city,
> state, country), etc. at that point and can write custom routines for
> documents of each type (city, state, country).
>
> The idea here is to filter the results so that only documents where the
> primary-name appears in the user's query string come back. i.e. if the
> user typed "Ontario, CA", so only [3, 4] are valid results now since [2]
> has a primary-name of "london" which does not appear in the user's
> query, while [3, 4] both have a primary-name of "ontario". Now I'm just
> having some trouble creating a filter (I've managed so far to filter out
> _everything_). I can't quite sort out how to do a (displaying my SQL
> background here) "where <term> in <query string>". I'm including my
> current search code at the end of this response.
>
> Unfortunately I can't just assume the first term in the user's query is
> the primary-name since it could be more than one word (e.g. for "St.
> Louis du Ha Ha Quebec", "St. Louis du Ha Ha" is the primary-name).
>
> Thanks
>
> Colin
>
> // sample call:
> // Hits hits =3D GeographySearch.Search(searcher, "any", new String[]
> {"Ontario", "CA"});
>
> public static Hits Search(Searcher searcher, String typeToFind, String[]
> queryString)
>         throws IOException, ParseException
> {
>         TermQuery entityType =3D new TermQuery(new Term("class",
> typeToFind));
>         BooleanQuery filterQuery =3D new BooleanQuery();
>                 PhraseQuery query =3D new PhraseQuery();
>         query.setSlop(1);
>
>         for (int i =3D 0; i < queryString.length; i++)
>         {
>                 query.add(new Term("name",
> queryString[i].toLowerCase()));
>                 filterQuery.add(
>                         new TermQuery(new Term("primary-name",
> queryString[i])),
>                         BooleanClause.Occur.SHOULD);
>         }
>
>         BooleanQuery geographyQuery =3D new BooleanQuery();
>         if (typeToFind !=3D "any") geographyQuery.add(entityType,
> BooleanClause.Occur.MUST);
>         geographyQuery.add(query, BooleanClause.Occur.MUST);
>
>         QueryFilter filter =3D new QueryFilter(filterQuery);
>
>         Hits hits =3D searcher.search(geographyQuery, filter);
>         return hits;
> }
>

------=_Part_7194_21386530.1138399432009--

From java-user-return-18606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 22:10:07 2006
Return-Path: <java-user-return-18606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66947 invoked from network); 27 Jan 2006 22:10:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 22:10:07 -0000
Received: (qmail 90533 invoked by uid 500); 27 Jan 2006 22:10:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90342 invoked by uid 500); 27 Jan 2006 22:10:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90331 invoked by uid 99); 27 Jan 2006 22:09:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 14:09:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.78.21.128] (HELO mis011-1.exch011.intermedia.net) (64.78.21.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 14:09:59 -0800
Received: from ehost011-3.exch011.intermedia.net ([64.78.21.96]) by mis011-1.exch011.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 27 Jan 2006 14:09:38 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6238E.5CAD4C05"
Subject: How to find "function()" - ?
Date: Fri, 27 Jan 2006 14:09:37 -0800
Message-ID: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC10@ehost011-3.exch011.intermedia.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to find "function()" - ?
thread-index: AcYjjlyovW2srbpFQTOHaL7hUTPHPQ==
From: "Dmitry Goldenberg" <dmitry.goldenberg@weblayers.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 Jan 2006 22:09:38.0255 (UTC) FILETIME=[5D3265F0:01C6238E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6238E.5CAD4C05
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
=20
I'm trying to figure out a way to locate tokens which include special =
characters.  The actual text in the file being indexed is something like =
"function() { statement1; statement2; }"
=20
The query I'm using is "function\()" since I want to locate precisely =
"function()" - the query succeeds but what it finds is actually =
"function", not "function()".  If I run the same query against "function =
{ statement1, statement2 } it still succeeds and I get "function" in =
best fragments.
=20
How can I enforce () to be included?
=20
Thanks,
- Dmitry

------_=_NextPart_001_01C6238E.5CAD4C05--

From java-user-return-18607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Jan 27 22:15:28 2006
Return-Path: <java-user-return-18607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72861 invoked from network); 27 Jan 2006 22:15:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Jan 2006 22:15:26 -0000
Received: (qmail 99626 invoked by uid 500); 27 Jan 2006 22:15:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99601 invoked by uid 500); 27 Jan 2006 22:15:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99590 invoked by uid 99); 27 Jan 2006 22:15:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 14:15:19 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.196 as permitted sender)
Received: from [205.158.62.196] (HELO ws6-1.us4.outblaze.com) (205.158.62.196)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 27 Jan 2006 14:15:19 -0800
Received: (qmail 16868 invoked from network); 27 Jan 2006 22:14:56 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@69.214.178.152)
  by ws6-1.us4.outblaze.com with SMTP; 27 Jan 2006 22:14:56 -0000
Message-ID: <43DA9B61.9090404@curtin.com>
Date: Fri, 27 Jan 2006 17:14:57 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How to find "function()" - ?
References: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC10@ehost011-3.exch011.intermedia.net>
In-Reply-To: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC10@ehost011-3.exch011.intermedia.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dmitry Goldenberg wrote:

> Hi,
>  
> I'm trying to figure out a way to locate tokens which include special characters.  The actual text in the file being indexed is something like "function() { statement1; statement2; }"
>  
> The query I'm using is "function\()" since I want to locate precisely "function()" - the query succeeds but what it finds is actually "function", not "function()".  If I run the same query against "function { statement1, statement2 } it still succeeds and I get "function" in best fragments.
>  
> How can I enforce () to be included?

I think you're going to have to write your own Analyzer subclass that 
keeps special characters in the terms.  Then, use that Analyzer during 
indexing.  The included Analyzers drop parentheses and the like.

If you're using Lucene's QueryParser, then use your new Analyzer there, 
too, and escape things like parentheses in the query text you submit to 
parse().

I think there's a discussion of custom Analyzers in the Lucene book, but 
I don't know where.  Maybe somebody else on this list knows???

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 01:00:48 2006
Return-Path: <java-user-return-18608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79005 invoked from network); 28 Jan 2006 01:00:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 01:00:48 -0000
Received: (qmail 41132 invoked by uid 500); 28 Jan 2006 01:00:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41074 invoked by uid 500); 28 Jan 2006 01:00:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41059 invoked by uid 99); 28 Jan 2006 01:00:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 17:00:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 17:00:41 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4ABF25B7C7; Fri, 27 Jan 2006 17:00:10 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 151A37F403
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 17:00:09 -0800 (PST)
Date: Fri, 27 Jan 2006 17:00:08 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: problem updating a document: no segments file?
In-Reply-To: <F9E303076B72074AB76B2C8F78952B29197E6F@bettylou.configureone.net>
Message-ID: <Pine.LNX.4.58.0601271655490.10697@hal.rescomp.berkeley.edu>
References: <F9E303076B72074AB76B2C8F78952B29197E6F@bettylou.configureone.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Its still not keeping the segments file around.     Is that necessary?

You seem to have some code at the end that (i'm guess) is supposed to
remove older copies of the index.  Are you sure that code does what you
think it does?  Have you tried commenting it out and seeing if that fixes
your problem?  There may be a bug in that code (I didn't read it that
closely) ...


: 	    String newPath = getIndexLocation() + File.separator +
: System.currentTimeMillis();
:
: 	    IndexWriter writer = new IndexWriter(new File(newPath),
: analyzer, true);

	...

:         writer.optimize();
:         writer.close();
:
: 	SearchSO.setSearcher(newPath);
:
: 	File[] subFiles;
: 	File[] subDirs = new File(getIndexLocation()).listFiles();
:
: 	for (int i=0;i<subDirs.length;i++) {
: 		if (subDirs[i].isDirectory()) {
: 			if (!newPath.equals(subDirs[i].getPath())) {
: 				subFiles = subDirs[i].listFiles();
: 				for (int j=0;j<subFiles.length;j++) {
: 					subFiles[j].delete();
: 				}
: 				subDirs[i].delete();
: 			}
: 		}
: 	}
:
:
:     }


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 03:50:31 2006
Return-Path: <java-user-return-18609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83403 invoked from network); 28 Jan 2006 03:50:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 03:50:30 -0000
Received: (qmail 29851 invoked by uid 500); 28 Jan 2006 03:50:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29824 invoked by uid 500); 28 Jan 2006 03:50:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29809 invoked by uid 99); 28 Jan 2006 03:50:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 19:50:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 19:50:24 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C623BD.C584E590"
Subject: RE: problem updating a document: no segments file?
Date: Fri, 27 Jan 2006 21:45:22 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2928E5@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <F9E303076B72074AB76B2C8F78952B2928E5@bettylou.configureone.net>
Thread-Topic: problem updating a document: no segments file?
Thread-Index: AcYjpiEKE8pzdyfRSMWSTh9yZ0oO3AAFyMVC
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C623BD.C584E590
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

this code works in a couple other boxes as is.    that deleting code =
removes the active index after this one builds in a different location.  =
 then the searcher is told to make this newest one the current and the =
old one is deleted.     it effects directories and their entire =
contents.  it wouldnt select just a segment file.     also, like i said, =
this runs fine on my laptop and g5.   and actually, this code was fine =
till recently on that box.  i modified a different method and updated =
the code to this server and now i have this problem.   =20

i noticed the segments file has some nonreadable stuff in there... i =
can't just make an empty one in the directory can i?   even if i do, i =
dont want to put a slopy work around like that in..   =20


-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu on behalf of Chris Hostetter
Sent: Fri 1/27/2006 7:00 PM
To: java-user@lucene.apache.org
Subject: RE: problem updating a document: no segments file?
=20

: Its still not keeping the segments file around.     Is that necessary?

You seem to have some code at the end that (i'm guess) is supposed to
remove older copies of the index.  Are you sure that code does what you
think it does?  Have you tried commenting it out and seeing if that =
fixes
your problem?  There may be a bug in that code (I didn't read it that
closely) ...


: 	    String newPath =3D getIndexLocation() + File.separator +
: System.currentTimeMillis();
:
: 	    IndexWriter writer =3D new IndexWriter(new File(newPath),
: analyzer, true);

	...

:         writer.optimize();
:         writer.close();
:
: 	SearchSO.setSearcher(newPath);
:
: 	File[] subFiles;
: 	File[] subDirs =3D new File(getIndexLocation()).listFiles();
:
: 	for (int i=3D0;i<subDirs.length;i++) {
: 		if (subDirs[i].isDirectory()) {
: 			if (!newPath.equals(subDirs[i].getPath())) {
: 				subFiles =3D subDirs[i].listFiles();
: 				for (int j=3D0;j<subFiles.length;j++) {
: 					subFiles[j].delete();
: 				}
: 				subDirs[i].delete();
: 			}
: 		}
: 	}
:
:
:     }


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




------_=_NextPart_001_01C623BD.C584E590
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C623BD.C584E590--

From java-user-return-18610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 04:13:51 2006
Return-Path: <java-user-return-18610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11256 invoked from network); 28 Jan 2006 04:13:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 04:13:50 -0000
Received: (qmail 39049 invoked by uid 500); 28 Jan 2006 04:13:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39023 invoked by uid 500); 28 Jan 2006 04:13:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39006 invoked by uid 99); 28 Jan 2006 04:13:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 20:13:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.44] (HELO mail.mi8.com) (63.240.6.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 20:13:45 -0800
Received: from 172.16.1.25 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D4)); Fri, 27 Jan 2006 23:13:19 -0500
X-Server-Uuid: C8FB4D43-1108-484A-A898-3CBCC7906230
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.163]) by
 D01HOST03.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Fri, 27 Jan
 2006 23:13:19 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Help with indexing and query strategy
Date: Fri, 27 Jan 2006 23:13:26 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F714030A4476CA@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with indexing and query strategy
Thread-Index: AcYjjeZzYgyUywlORlaR6aum6vi6iwAMkr+A
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 28 Jan 2006 04:13:19.0604 (UTC)
 FILETIME=[2BBC0340:01C623C1]
X-WSS-ID: 6FC430D512G23519561-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

1) Yes. One location per document.

2) Using the SimpleAnalyzer (for now). I have city, state and country as
separate fields, so I could tokenize each as a single token if that
would work better. I think that avoids the need for a delimiter at index
time.

3) I am not making any assumptions now at query time, but the goal is
that we should support commas and spaces (i.e. "London, Ontario, Canada"
or "London Ontario Canada" are equivalent). My unit tests are supplying
the query assuming it's been tokenized already (i.e. I'm sending in
String[] for the query terms).

4) We don't want to return Albany unless the user has Albany in the
query.

Thanks again for looking at this.

Colin

-----Original Message-----
=46rom: Rajesh Munavalli [mailto:findmath@gmail.com]=20
Sent: 27 January, 2006 17:04
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy

=46ew questions.
(1) Does each document contain only one geographical location=3F

(2) Given a document, how are you tokenizing it into city, state and
country=3F I am assuming "," as the delimiter here. Otherwise determining
the boundary for names like "St. Louis du Ha Ha" would be difficult.

(3) Are these delimiters true even at query time=3F Is it possible that
user might enter "ontario ca" and not "ontario, ca"=3F

(4) How do you deal with a unique example like "NY, NY"=3F
Example:
Doc1: NY, NY, USA
Doc2: NY, USA
Doc3: Albany, NY, USA

=46or query "NY, USA" you should be able to retrieve 1, 2 and 3 eventhough
the primary information for Doc3 is "Albany".

--
Rajesh Munavalli

On 1/27/06, Colin Young <Colin.Young@tembizi.com> wrote:
>
> The reason I only want 2 hits is because [2] is more "specific" in my=20
> domain -- I could also have Toronto, Ontario; Kingston, Ontario etc.
> which would take the hits up to 5 now.
>
> What I'm really after is finding a way to index and search that would=20
> make [2] an invalid retrieval.
>
> My latest attempt is like this (field name: value):
>
> Type: city
> Name: london ontario canada
> Name: london on canada
> Name: london ontario ca
> Name: london on ca
> Primary-name: london
>
> So the new list of documents is something like this (<type>: <name
> entries> {<primary-name>}):
>
> [1] city: London, United Kingdom {london} [2] city: London, Ontario,=20
> Canada {london} [3] city: Ontario, California, United States {ontario}

> [4] state: Ontario, Canada  {ontario} [5] city: Vancouver, Washington,

> United States {vancouver} [6] city: Vancouver, British Columbia,=20
> Canada {vancouver} [7] city: Washington, DC, United States=20
> {washington} [8] state: Washington, United States {washington}
>
> I realize that I'm adding a lot of duplicate info -- I haven't got to=20
> the refactoring stage yet, so I'm trying to keep my unit test setup=20
> very explicit. The final analysis process will be pulling the=20
> geographic entities from a database so I'll have all the synonyms,=20
> types (city, state, country), etc. at that point and can write custom=20
> routines for documents of each type (city, state, country).
>
> The idea here is to filter the results so that only documents where=20
> the primary-name appears in the user's query string come back. i.e. if

> the user typed "Ontario, CA", so only [3, 4] are valid results now=20
> since [2] has a primary-name of "london" which does not appear in the=20
> user's query, while [3, 4] both have a primary-name of "ontario". Now=20
> I'm just having some trouble creating a filter (I've managed so far to

> filter out _everything_). I can't quite sort out how to do a=20
> (displaying my SQL background here) "where <term> in <query string>".=20
> I'm including my current search code at the end of this response.
>
> Unfortunately I can't just assume the first term in the user's query=20
> is the primary-name since it could be more than one word (e.g. for
"St.
> Louis du Ha Ha Quebec", "St. Louis du Ha Ha" is the primary-name).
>
> Thanks
>
> Colin
>
> // sample call:
> // Hits hits =3D GeographySearch.Search(searcher, "any", new String[]=20
> {"Ontario", "CA"});
>
> public static Hits Search(Searcher searcher, String typeToFind,=20
> String[]
> queryString)
>         throws IOException, ParseException {
>         TermQuery entityType =3D new TermQuery(new Term("class",=20
> typeToFind));
>         BooleanQuery filterQuery =3D new BooleanQuery();
>                 PhraseQuery query =3D new PhraseQuery();
>         query.setSlop(1);
>
>         for (int i =3D 0; i < queryString.length; i++)
>         {
>                 query.add(new Term("name",=20
> queryString[i].toLowerCase()));
>                 filterQuery.add(
>                         new TermQuery(new Term("primary-name",=20
> queryString[i])),
>                         BooleanClause.Occur.SHOULD);
>         }
>
>         BooleanQuery geographyQuery =3D new BooleanQuery();
>         if (typeToFind !=3D "any") geographyQuery.add(entityType,=20
> BooleanClause.Occur.MUST);
>         geographyQuery.add(query, BooleanClause.Occur.MUST);
>
>         QueryFilter filter =3D new QueryFilter(filterQuery);
>
>         Hits hits =3D searcher.search(geographyQuery, filter);
>         return hits;
> }
>

Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 06:04:00 2006
Return-Path: <java-user-return-18611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46610 invoked from network); 28 Jan 2006 06:04:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 06:04:00 -0000
Received: (qmail 90575 invoked by uid 500); 28 Jan 2006 06:03:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89607 invoked by uid 500); 28 Jan 2006 06:03:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89596 invoked by uid 99); 28 Jan 2006 06:03:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 22:03:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 22:03:52 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8313B5B76E; Fri, 27 Jan 2006 22:03:23 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 786B77F403
	for <java-user@lucene.apache.org>; Fri, 27 Jan 2006 22:03:23 -0800 (PST)
Date: Fri, 27 Jan 2006 22:03:23 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: How does the lucene normalize the score?
In-Reply-To: <43DA26E4.5000706@web.de>
Message-ID: <Pine.LNX.4.58.0601272200250.19952@hal.rescomp.berkeley.edu>
References: <277d4c5d0601262316n539c53f3jcaa6f515e50369a4@mail.gmail.com>
 <88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com>
 <43DA26E4.5000706@web.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: ..but this means, that the scores are not comparable across queries,
: because a hit with the score '0.7' from one query mustn't be as 'good' as
: a '0.7' from another query...and this is only the case, whether the original,
: unnormalized top score value was less than 1.0.

Scores are not comparable between differnet queries, regardless of wether
the scores from one query are normalized or not.  This is mentioned in the
FAQ...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-912c1f237bb00259185353182948e5935f0c2f03



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 07:46:08 2006
Return-Path: <java-user-return-18612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68330 invoked from network); 28 Jan 2006 07:46:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 07:46:08 -0000
Received: (qmail 18863 invoked by uid 500); 28 Jan 2006 07:46:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17825 invoked by uid 500); 28 Jan 2006 07:45:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17814 invoked by uid 99); 28 Jan 2006 07:45:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 23:45:59 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 145.97.39.141 is neither permitted nor denied by domain of lithiana@livejournal.com)
Received: from [145.97.39.141] (HELO zedler.knams.wikimedia.org) (145.97.39.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Jan 2006 23:45:58 -0800
Received: from hyacinth.local (cpc3-oxfd1-6-1-cust228.oxfd.cable.ntl.com [82.21.193.228])
	by zedler.knams.wikimedia.org (Postfix) with ESMTP id CA82B6E57
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 07:45:35 +0000 (GMT)
Received: from hyacinth.local (localhost [127.0.0.1])
	by hyacinth.local (Postfix) with ESMTP id 85D8017CD6
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 07:45:34 +0000 (GMT)
Received: (from larne@localhost)
	by hyacinth.local (8.13.5+Sun/8.13.5/Submit) id k0S7jY9t156527
	for java-user@lucene.apache.org; Sat, 28 Jan 2006 07:45:34 GMT
X-Authentication-Warning: hyacinth.local: larne set sender to lithiana@livejournal.com using -f
From: kate <lithiana@livejournal.com>
Organization: Wikimedia Foundation Inc.
To: java-user@lucene.apache.org
Subject: index concurrency & result order
Date: Sat, 28 Jan 2006 07:45:27 +0000
User-Agent: KMail/1.9
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart2239652.ZM90aF4Py8";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <200601280745.33529.lithiana@livejournal.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--nextPart2239652.ZM90aF4Py8
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

hi list,

i'm trying to use Lucene (1.4.3) to replace an existing MySQL search system=
=2E =20
so far, this is working great, but i have a couple of questions.

firstly, when my index updater is (re)indexing a lot of documents at once, =
i=20
often get errors like=20
"FileNotFoundException: /usr/local/searchindex/index/index/_107ei.fnm (No=20
such file or directory)" from clients trying to search the index.  i'm=20
assuming this is because the reader is trying to read files while the=20
writer is changing them; but i was under the impression Lucene created=20
read/write locks to prevent this happening.  do i need to do something=20
special to make the locks work for reading as well?  or should i handle=20
this some other way? (the index is accessed as single writer/multiple=20
reader).

secondly, the existing MySQL-based search returns documents in alphabetical=
=20
order by title, instead of by relevance.  i'd like to replicate this=20
behaviour for the (few) people who prefer the existing system; however, i'm=
=20
not sure how to do it efficiently.  i see i can pass my own HitCollector to=
=20
search(), and then retrieve the document's title and sort by title myself. =
=20
however, HitCollector.collect() says "For good search performance,=20
implementations of this method should not call Searchable.doc(int) or=20
IndexReader.document(int) on every document number encountered."

so - is there another way to affect the order?  it certainly does seem=20
inefficient to retrieve the entire document, when i only need the title=20
field from it.

thanks,
k.

--nextPart2239652.ZM90aF4Py8
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (SunOS)

iD8DBQBD2yEdjtcbuM+X08MRAv2IAKCYw8TzopBMwASOoPjg+lAxchb34ACgkDn4
6mdvpG+GEq3T8e2j7QrNGxE=
=qRt5
-----END PGP SIGNATURE-----

--nextPart2239652.ZM90aF4Py8--

From java-user-return-18613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 08:02:53 2006
Return-Path: <java-user-return-18613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89654 invoked from network); 28 Jan 2006 08:02:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 08:02:52 -0000
Received: (qmail 22140 invoked by uid 500); 28 Jan 2006 08:02:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22115 invoked by uid 500); 28 Jan 2006 08:02:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22103 invoked by uid 99); 28 Jan 2006 08:02:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 00:02:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 00:02:46 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 08C025B78D; Sat, 28 Jan 2006 00:02:11 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id DD6EB7F403
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 00:02:11 -0800 (PST)
Date: Sat, 28 Jan 2006 00:02:11 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: index concurrency & result order
In-Reply-To: <200601280745.33529.lithiana@livejournal.com>
Message-ID: <Pine.LNX.4.58.0601272359190.20447@hal.rescomp.berkeley.edu>
References: <200601280745.33529.lithiana@livejournal.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: secondly, the existing MySQL-based search returns documents in alphabetical
: order by title, instead of by relevance.  i'd like to replicate this
: behaviour for the (few) people who prefer the existing system; however, i'm
: not sure how to do it efficiently.  i see i can pass my own HitCollector to

You don't need to use a HitCollector just to sort by a field, take a look
at the Search.search(Query,Sort) method instead.

Pay special attention to the javadocs for the Sort class.  You can only
sort of fields which are indexed in a specific way...

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searcher.html#search(org.apache.lucene.search.Query,
org.apache.lucene.search.Sort)

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Sort.html



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 08:27:14 2006
Return-Path: <java-user-return-18614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21672 invoked from network); 28 Jan 2006 08:27:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 08:27:14 -0000
Received: (qmail 28542 invoked by uid 500); 28 Jan 2006 08:27:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28517 invoked by uid 500); 28 Jan 2006 08:27:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28506 invoked by uid 99); 28 Jan 2006 08:27:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 00:27:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.227.76.129] (HELO www.intland.com) (212.227.76.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 00:27:08 -0800
Received: (qmail 9435 invoked from network); 28 Jan 2006 09:26:46 +0100
Received: from p54a0e641.dip.t-dialin.net (HELO lat) (84.160.230.65)
  by p15187949.pureserver.info with (RC4-MD5 encrypted) SMTP; 28 Jan 2006 09:26:46 +0100
From: "Zsolt" <zkoppanylist@intland.com>
To: <java-user@lucene.apache.org>
Subject: Chinese support 
Date: Sat, 28 Jan 2006 09:26:46 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcYj5JPACebolijsSrmvdolHpBul+A==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060128082709.00D5A10FB012@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

We use lucene without any problems even for German text bit with Chinese
text nothing is found. What is the best way to index and search Chinese
text?

Zsolt


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 08:38:23 2006
Return-Path: <java-user-return-18615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33498 invoked from network); 28 Jan 2006 08:38:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 08:38:23 -0000
Received: (qmail 31098 invoked by uid 500); 28 Jan 2006 08:38:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31071 invoked by uid 500); 28 Jan 2006 08:38:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31059 invoked by uid 99); 28 Jan 2006 08:38:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 00:38:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 00:38:16 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0F2A15B776; Sat, 28 Jan 2006 00:37:44 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 920707F403
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 00:37:44 -0800 (PST)
Date: Sat, 28 Jan 2006 00:37:43 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: problem updating a document: no segments file?
In-Reply-To: <F9E303076B72074AB76B2C8F78952B2928E5@bettylou.configureone.net>
Message-ID: <Pine.LNX.4.58.0601280013200.20447@hal.rescomp.berkeley.edu>
References: <F9E303076B72074AB76B2C8F78952B2928E5@bettylou.configureone.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: this code works in a couple other boxes as is.  that deleting code

Are those boxes running the same OS?  The same JVM?

: removes the active index after this one builds in a different location.
: then the searcher is told to make this newest one the current and the
: old one is deleted.  it effects directories and their entire contents.
: it wouldnt select just a segment file.  also, like i said, this runs

I'm not convinced.

If your getIndexDirectory() method is returning a string from a config
file (or something like that) and it includes a trailing seperator (in
addition to the seperator your code adds) then the index directory would
be created fine (if i remember right, extra seperates don't generate an
exception) but your string equality test would fail and you'd try to
delete the files in the directory you just created.

If your searcher has already opened some of the files, then (depending on
your OS) the delete code may not be able to delete them -- you're not
checking the return value from subFiles[j].delete() so you have no way of
knowing.  The segments file may be the only file getting deleted, because
it may be the only file your searcher doesn't have open at the moment the
delete code runs.  If i remember right IndexSearcher only opens the
segments file to get a list of all the individual segments, and then
immdeiately closes it, but keeps the rest of hte files open permenantly.

: fine on my laptop and g5.  and actually, this code was fine till
: recently on that box.  i modified a different method and updated the
: code to this server and now i have this problem.

what was the code that changed?



: : 	    String newPath = getIndexLocation() + File.separator +
: : System.currentTimeMillis();
: :
: : 	    IndexWriter writer = new IndexWriter(new File(newPath),
: : analyzer, true);
:
: 	...
:
: :         writer.optimize();
: :         writer.close();
: :
: : 	SearchSO.setSearcher(newPath);
: :
: : 	File[] subFiles;
: : 	File[] subDirs = new File(getIndexLocation()).listFiles();
: :
: : 	for (int i=0;i<subDirs.length;i++) {
: : 		if (subDirs[i].isDirectory()) {
: : 			if (!newPath.equals(subDirs[i].getPath())) {
: : 				subFiles = subDirs[i].listFiles();
: : 				for (int j=0;j<subFiles.length;j++) {
: : 					subFiles[j].delete();
: : 				}
: : 				subDirs[i].delete();
: : 			}
: : 		}
: : 	}
: :
: :
: :     }



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 10:19:58 2006
Return-Path: <java-user-return-18616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44228 invoked from network); 28 Jan 2006 10:19:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 10:19:57 -0000
Received: (qmail 75553 invoked by uid 500); 28 Jan 2006 10:19:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75518 invoked by uid 500); 28 Jan 2006 10:19:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75507 invoked by uid 99); 28 Jan 2006 10:19:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 02:19:52 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 145.97.39.141 is neither permitted nor denied by domain of lithiana@livejournal.com)
Received: from [145.97.39.141] (HELO zedler.knams.wikimedia.org) (145.97.39.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 02:19:51 -0800
Received: from hyacinth.local (cpc3-oxfd1-6-1-cust228.oxfd.cable.ntl.com [82.21.193.228])
	by zedler.knams.wikimedia.org (Postfix) with ESMTP id 06EC86E57
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 10:19:29 +0000 (GMT)
Received: from hyacinth.local (localhost [127.0.0.1])
	by hyacinth.local (Postfix) with ESMTP id 7BC8917CD6
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 10:19:28 +0000 (GMT)
Received: (from larne@localhost)
	by hyacinth.local (8.13.5+Sun/8.13.5/Submit) id k0SAJRf6157106
	for java-user@lucene.apache.org; Sat, 28 Jan 2006 10:19:27 GMT
X-Authentication-Warning: hyacinth.local: larne set sender to lithiana@livejournal.com using -f
From: kate <lithiana@livejournal.com>
Organization: Wikimedia Foundation Inc.
To: java-user@lucene.apache.org
Subject: Re: index concurrency & result order
Date: Sat, 28 Jan 2006 10:19:22 +0000
User-Agent: KMail/1.9
References: <200601280745.33529.lithiana@livejournal.com> <Pine.LNX.4.58.0601272359190.20447@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0601272359190.20447@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart3946838.A3P8tNhLvr";
  protocol="application/pgp-signature";
  micalg=pgp-sha1
Content-Transfer-Encoding: 7bit
Message-Id: <200601281019.27462.lithiana@livejournal.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--nextPart3946838.A3P8tNhLvr
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Chris Hostetter:
> You don't need to use a HitCollector just to sort by a field, take a
> look at the Search.search(Query,Sort) method instead.

thanks - this is exactly what i needed.

k.

--nextPart3946838.A3P8tNhLvr
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (SunOS)

iD8DBQBD20UvjtcbuM+X08MRAnROAJ0Wh8Lw49y+EKNtJkpJhom6mDUSfwCghEZe
5cQ/vgky+29q/osXZ4reITY=
=5AJn
-----END PGP SIGNATURE-----

--nextPart3946838.A3P8tNhLvr--

From java-user-return-18617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 16:20:08 2006
Return-Path: <java-user-return-18617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77363 invoked from network); 28 Jan 2006 16:20:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 16:20:08 -0000
Received: (qmail 82363 invoked by uid 500); 28 Jan 2006 16:20:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82335 invoked by uid 500); 28 Jan 2006 16:20:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82322 invoked by uid 99); 28 Jan 2006 16:20:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 08:20:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.86] (HELO smtpout.mac.com) (17.250.248.86)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 08:20:01 -0800
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/8.12.11/smtpout04/MantshX 4.0) with ESMTP id k0SGJfWN029477
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 08:19:41 -0800 (PST)
Received: from [10.0.1.52] (adsl-62-167-45-44.adslplus.ch [62.167.45.44])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id k0SGJbpR012501
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 08:19:40 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v623)
In-Reply-To: <43D9F9A0.9020800@scalix.com>
References: <003601c622a1$d1507d70$1e00a8c0@platoon> <43D9F9A0.9020800@scalix.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Message-Id: <c83741662949558a58be7a86757848d3@mac.com>
Content-Transfer-Encoding: quoted-printable
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: encoding
Date: Sat, 28 Jan 2006 17:19:34 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

On Jan 27, 2006, at 11:44, John Haxby wrote:

> I've attached the perl script -- feed=20
> http://www.unicode.org/Public/4.1.0/ucd/UnicodeData.txt to it.

Thanks! Works great!

>   It's based on a slightly different principle to yours.   You seem to=20=

> look for things like "mumble mumble LETTER X mumble" and take "X" as=20=

> the base letter.

Yes, here is the mumbling algorithm in its full glory: aLetter =3D=20
aLine:match( ".+%s(%u)%U.*" )

>   That means that, for example, =C9=96 (a "d" with a hook) gets =
converted=20
> to "d".   My script, on the other hand, deals with things like "=C7=A2"=20=

> (LATIN CAPITAL LETTER AE WITH MACRON) and converts it to AE.   There=20=

> are some differences of opinion though, you have =C3=9F mapped to "s"=20=

> whereas I have "ss" ("str=C3=9Fe" to "strasse" instead of "strase" =
seems=20
> right).  I think I'm also over-enthusiastic when it comes to mapping=20=

> characters to spaces: I know that there are some arabic characters=20
> that get mapped to spaces.   For the purposes of converting to an=20
> ASCII approximation, though, I suspect a combination of your approach=20=

> and mine would be best.   What do you think?

Overall, I much prefer your approach. Here is the updated Lua table=20
derived from your handy perl script:

http://dev.alt.textdrive.com/browser/lu/LUStringBasicLatin.txt

You also mentioned a full Unicode to ASCII=20
transliteration/transcription module of some sort. Is it something you=20=

would like to share as well? :))

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 16:39:20 2006
Return-Path: <java-user-return-18618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2336 invoked from network); 28 Jan 2006 16:39:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 16:39:19 -0000
Received: (qmail 98364 invoked by uid 500); 28 Jan 2006 16:39:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98334 invoked by uid 500); 28 Jan 2006 16:39:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98323 invoked by uid 99); 28 Jan 2006 16:39:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 08:39:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.72] (HELO smtpout.mac.com) (17.250.248.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 08:39:08 -0800
Received: from mac.com (smtpin02-en2 [10.13.10.147])
	by smtpout.mac.com (Xserve/8.12.11/smtpout15/MantshX 4.0) with ESMTP id k0SGclwX005380
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 08:38:47 -0800 (PST)
Received: from [131.111.248.102] (md403.quns.cam.ac.uk [131.111.248.102])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin02/MantshX 4.0) with ESMTP id k0SGcjFQ018170
	for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 08:38:47 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v746.2)
Content-Transfer-Encoding: 7bit
Message-Id: <AB769E94-1619-4F63-9984-B1A5B4956ED4@mac.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Michael Dodson <mgdodson@mac.com>
Subject: indexing URL's from parsed HTML
Date: Sat, 28 Jan 2006 16:38:46 +0000
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm new to Lucene and I'm trying to index an HTML file parsed with  
NekoHTML.

With text between HTML tags, its easy enough to have an overloaded  
getText() method which either recursively indexes all text, or which  
accepts the name of a tag (like "title") and only finds text between  
<title></title> tags.

Unfortunately I'm trying to index URL's, image names, and ALT text,  
all of which remain inside the tag and I can't figure out how to  
access that data.  I realize this is more of a NekoHTML question than  
a Lucene question, but I know Lucene is often used for indexing web  
content and was hoping someone on this list could help.

Cheers.
Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 17:00:35 2006
Return-Path: <java-user-return-18619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28629 invoked from network); 28 Jan 2006 17:00:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 17:00:35 -0000
Received: (qmail 9737 invoked by uid 500); 28 Jan 2006 17:00:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9714 invoked by uid 500); 28 Jan 2006 17:00:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9697 invoked by uid 99); 28 Jan 2006 17:00:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 09:00:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mta09-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 09:00:27 -0800
Received: from aamta12-winn.ispmail.ntl.com ([81.103.221.35])
          by mta09-winn.ispmail.ntl.com with ESMTP
          id <20060128170005.JIDV15755.mta09-winn.ispmail.ntl.com@aamta12-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Sat, 28 Jan 2006 17:00:05 +0000
Received: from jhi ([81.98.13.34]) by aamta12-winn.ispmail.ntl.com
          with SMTP
          id <20060128170005.VNLY12811.aamta12-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Sat, 28 Jan 2006 17:00:05 +0000
Message-ID: <005701c6242c$4d093d90$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
Subject: deleting duplicate documents from my index
Date: Sat, 28 Jan 2006 17:00:09 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0054_01C6242C.4BAF79F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0054_01C6242C.4BAF79F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi, im trying to delete duplicate documents from my index, the unique =
indentifier is the documents url (aka field "url").

my initial thought of how to acomplish this is to open the index via a =
reader and sort them by the documents url and then iterate through them =
looking for a match with the current document and the previous document, =
if it matches i would delete the current document etc.

what other methods that are not too taxing could i try?

how could i sort the documents via url internally? what classes should i =
be looking at to do this


Thanks,
_gk
------=_NextPart_000_0054_01C6242C.4BAF79F0--


From java-user-return-18620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 28 20:43:28 2006
Return-Path: <java-user-return-18620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92217 invoked from network); 28 Jan 2006 20:43:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Jan 2006 20:43:28 -0000
Received: (qmail 78861 invoked by uid 500); 28 Jan 2006 20:43:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78836 invoked by uid 500); 28 Jan 2006 20:43:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78825 invoked by uid 99); 28 Jan 2006 20:43:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 12:43:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alan@chandlerfamily.org.uk designates 195.188.213.62 as permitted sender)
Received: from [195.188.213.62] (HELO asmtp-out3.blueyonder.co.uk) (195.188.213.62)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 12:43:22 -0800
Received: from [82.44.22.127] (helo=home.chandlerfamily.org.uk)
	by asmtp-out3.blueyonder.co.uk with esmtp (Exim 4.52)
	id 1F2wuS-0006gj-Rm
	for java-user@lucene.apache.org; Sat, 28 Jan 2006 20:43:00 +0000
Received: from kanger.home ([192.168.0.21])
	by home.chandlerfamily.org.uk with esmtp (Exim 4.50)
	id 1F2wuS-0005Vm-HP
	for java-user@lucene.apache.org; Sat, 28 Jan 2006 20:43:00 +0000
From: Alan Chandler <alan@chandlerfamily.org.uk>
To: java-user@lucene.apache.org
Subject: Re: Searching Textile Documents
Date: Sat, 28 Jan 2006 20:43:05 +0000
User-Agent: KMail/1.9.1
References: <200511231930.23452.alan@chandlerfamily.org.uk> <200511232056.38279.alan@chandlerfamily.org.uk> <8AE20CB6-1297-49BB-9992-8C1737B9960E@ehatchersolutions.com>
In-Reply-To: <8AE20CB6-1297-49BB-9992-8C1737B9960E@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601282043.05688.alan@chandlerfamily.org.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 23 November 2005 22:50, Erik Hatcher wrote:
>
> Well, the smiley is because my own frankenstein blog is a servlet,
> some very simple abstraction layers, velocity templates, and
> Lucene... http://www.blogscene.org/erik - though I'm a very
> infrequent blogger.  The categories are picked up using TermEnum on
> the category field.  The blog entries are stored in the index, and of
> course indexed as well.  You can subscribe to a feed for a search.
> Once upon a time I had a lot of fun building it and exploring what
> Lucene could do in the blogging world.

Based in that little encouragement, I completed my blog based on lucene.  Its 
taken a bit longer that I had hoped because the need to develop another 
application came up in the middle that took about a month out of the process, 
but I am almost there - its in a releasable state - although there are a few 
rough edges to deal with.

I have to say a database based on lucene seems very small (the directory with 
most of the current articles in was about 150K bytes) and it seems to run 
very fast.

URL below is where its running

-- 
Alan Chandler
http://www.chandlerfamily.org.uk
Open Source. It's the difference between trust and antitrust.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 01:13:59 2006
Return-Path: <java-user-return-18621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98595 invoked from network); 29 Jan 2006 01:13:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 01:13:59 -0000
Received: (qmail 13384 invoked by uid 500); 29 Jan 2006 01:13:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13357 invoked by uid 500); 29 Jan 2006 01:13:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13345 invoked by uid 99); 29 Jan 2006 01:13:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 17:13:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.184.206 as permitted sender)
Received: from [64.233.184.206] (HELO wproxy.gmail.com) (64.233.184.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 17:13:53 -0800
Received: by wproxy.gmail.com with SMTP id 58so875998wri
        for <java-user@lucene.apache.org>; Sat, 28 Jan 2006 17:13:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=pWasaB6B3Bg7BG1DAyq4bM/c6RBbZBIb5ePqxNO+I6nTzxLVblHECA61C6bswKOMwBiJaxm9vPpGRxmKKM4XyjTbzPkLTpMHs6y1OAhaG1uFZq2Vc9o+IWW0gJpm+nC2xrb9x82tGMlxH7ik3r9f4php5BBzDod4WNCsE5TZ31g=
Received: by 10.54.132.8 with SMTP id f8mr4739wrd;
        Sat, 28 Jan 2006 17:13:03 -0800 (PST)
Received: by 10.54.119.10 with HTTP; Sat, 28 Jan 2006 17:13:32 -0800 (PST)
Message-ID: <fb9748c90601281713q5d2fa646uc79003185f55a2a7@mail.gmail.com>
Date: Sun, 29 Jan 2006 09:13:32 +0800
From: Ray Tsang <saturnism@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Chinese support
In-Reply-To: <20060128082709.00D5A10FB012@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <20060128082709.00D5A10FB012@asf.osuosl.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGkgWnNvbHQsCgp5b3UgY2FuIHRyeSB0byB1c2UgYSBDaGluZXNlIGFuYWx5emVyLgoKcmF5LAoK
T24gMS8yOC8wNiwgWnNvbHQgPHprb3BwYW55bGlzdEBpbnRsYW5kLmNvbT4gd3JvdGU6Cj4gSGks
Cj4KPiBXZSB1c2UgbHVjZW5lIHdpdGhvdXQgYW55IHByb2JsZW1zIGV2ZW4gZm9yIEdlcm1hbiB0
ZXh0IGJpdCB3aXRoIENoaW5lc2UKPiB0ZXh0IG5vdGhpbmcgaXMgZm91bmQuIFdoYXQgaXMgdGhl
IGJlc3Qgd2F5IHRvIGluZGV4IGFuZCBzZWFyY2ggQ2hpbmVzZQo+IHRleHQ/Cj4KPiBac29sdAo+
Cj4KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5z
dWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+Cj4K


From java-user-return-18622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 03:19:07 2006
Return-Path: <java-user-return-18622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33894 invoked from network); 29 Jan 2006 03:19:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 03:19:07 -0000
Received: (qmail 87551 invoked by uid 500); 29 Jan 2006 03:19:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87516 invoked by uid 500); 29 Jan 2006 03:19:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87505 invoked by uid 99); 29 Jan 2006 03:19:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 19:19:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 19:19:00 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C62482.8D4C1F84"
Subject: RE: problem updating a document: no segments file?
Date: Sat, 28 Jan 2006 21:13:35 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2928EA@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <F9E303076B72074AB76B2C8F78952B2928EA@bettylou.configureone.net>
Thread-Topic: problem updating a document: no segments file?
Thread-Index: AcYj5hAc0UMfiiCYRCK/Ymwdi7OXGgAm+4Ch
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C62482.8D4C1F84
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

i feel confident in the delete sequence.  i will run the things you ask =
for though.    this does work on my laptop.  =20

the code that changed was some update method that was used in the first =
release.   so before the only writes needed were done by this and it =
wholesale replaces.   whereas the new feature updates documents.   it =
worked fine in testing.   and i look at the product of this method in =
other environments and they all have segment files and update fine.      =
 i do appreciate your response though.  at least i have things to do to =
move this forward now.  i will print out all the paths that get touched =
by this delete block, and the results of ech delete().    its good to =
get rid of possibilities.

baring this being the problem..   what would cause lucene to delete its =
segment file?

--JN

: :                     if (!newPath.equals(subDirs[i].getPath())) {


part keeps it out of the new path.     no, the boxes have different =
windows operating systems.    probobly a slight difference in jvm.


-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu on behalf of Chris Hostetter
Sent: Sat 1/28/2006 2:37 AM
To: java-user@lucene.apache.org
Subject: RE: problem updating a document: no segments file?
=20

: this code works in a couple other boxes as is.  that deleting code

Are those boxes running the same OS?  The same JVM?

: removes the active index after this one builds in a different =
location.
: then the searcher is told to make this newest one the current and the
: old one is deleted.  it effects directories and their entire contents.
: it wouldnt select just a segment file.  also, like i said, this runs

I'm not convinced.

If your getIndexDirectory() method is returning a string from a config
file (or something like that) and it includes a trailing seperator (in
addition to the seperator your code adds) then the index directory would
be created fine (if i remember right, extra seperates don't generate an
exception) but your string equality test would fail and you'd try to
delete the files in the directory you just created.

If your searcher has already opened some of the files, then (depending =
on
your OS) the delete code may not be able to delete them -- you're not
checking the return value from subFiles[j].delete() so you have no way =
of
knowing.  The segments file may be the only file getting deleted, =
because
it may be the only file your searcher doesn't have open at the moment =
the
delete code runs.  If i remember right IndexSearcher only opens the
segments file to get a list of all the individual segments, and then
immdeiately closes it, but keeps the rest of hte files open permenantly.

: fine on my laptop and g5.  and actually, this code was fine till
: recently on that box.  i modified a different method and updated the
: code to this server and now i have this problem.

what was the code that changed?



: : 	    String newPath =3D getIndexLocation() + File.separator +
: : System.currentTimeMillis();
: :
: : 	    IndexWriter writer =3D new IndexWriter(new File(newPath),
: : analyzer, true);
:
: 	...
:
: :         writer.optimize();
: :         writer.close();
: :
: : 	SearchSO.setSearcher(newPath);
: :
: : 	File[] subFiles;
: : 	File[] subDirs =3D new File(getIndexLocation()).listFiles();
: :
: : 	for (int i=3D0;i<subDirs.length;i++) {
: : 		if (subDirs[i].isDirectory()) {
: : 			if (!newPath.equals(subDirs[i].getPath())) {
: : 				subFiles =3D subDirs[i].listFiles();
: : 				for (int j=3D0;j<subFiles.length;j++) {
: : 					subFiles[j].delete();
: : 				}
: : 				subDirs[i].delete();
: : 			}
: : 		}
: : 	}
: :
: :
: :     }



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




------_=_NextPart_001_01C62482.8D4C1F84
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C62482.8D4C1F84--

From java-user-return-18623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 07:19:09 2006
Return-Path: <java-user-return-18623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10015 invoked from network); 29 Jan 2006 07:19:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 07:19:09 -0000
Received: (qmail 48594 invoked by uid 500); 29 Jan 2006 07:19:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48568 invoked by uid 500); 29 Jan 2006 07:19:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48557 invoked by uid 99); 29 Jan 2006 07:19:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 23:19:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.227.76.129] (HELO www.intland.com) (212.227.76.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Jan 2006 23:19:02 -0800
Received: (qmail 6899 invoked from network); 29 Jan 2006 08:18:40 +0100
Received: from p54a0e641.dip.t-dialin.net (HELO lat) (84.160.230.65)
  by p15187949.pureserver.info with (RC4-MD5 encrypted) SMTP; 29 Jan 2006 08:18:40 +0100
From: "Zsolt" <zkoppanylist@intland.com>
To: <java-user@lucene.apache.org>
Subject: RE: Chinese support
Date: Sun, 29 Jan 2006 08:18:39 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcYkcU0YiQGKaYWERPWVn2yWPd4oaQAMuRzg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <fb9748c90601281713q5d2fa646uc79003185f55a2a7@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060129071903.60F3F10FB00D@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

And where can I find it?

Zsolt

>-----Original Message-----
>From: Ray Tsang [mailto:saturnism@gmail.com]
>Sent: Sunday, January 29, 2006 2:14 AM
>To: java-user@lucene.apache.org
>Subject: Re: Chinese support
>
>Hi Zsolt,
>
>you can try to use a Chinese analyzer.
>
>ray,
>
>On 1/28/06, Zsolt <zkoppanylist@intland.com> wrote:
>> Hi,
>>
>> We use lucene without any problems even for German text bit with Chinese
>> text nothing is found. What is the best way to index and search Chinese
>> text?
>>
>> Zsolt
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 09:26:29 2006
Return-Path: <java-user-return-18624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55190 invoked from network); 29 Jan 2006 09:26:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 09:26:29 -0000
Received: (qmail 82200 invoked by uid 500); 29 Jan 2006 09:26:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82173 invoked by uid 500); 29 Jan 2006 09:26:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82162 invoked by uid 99); 29 Jan 2006 09:26:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 01:26:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 01:26:24 -0800
Received: by wproxy.gmail.com with SMTP id 58so909031wri
        for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 01:26:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Mh2li1n1QD72GU376sUFjkbHLTHJaoIZ4BQpOU3p2AgqOgh8LA+MPLOvFr2R/BR/ppmmnuxuEJJ0S88W9V+3MRJAs2fdqwXey1HP253gOzlRVmENzUqVAFnNe3N2GcqyGNFR2E8qM1MSlAr63skQBBg/bESI5HCdv6/AUZYciA4=
Received: by 10.54.104.14 with SMTP id b14mr5496453wrc;
        Sun, 29 Jan 2006 01:26:03 -0800 (PST)
Received: by 10.54.119.10 with HTTP; Sun, 29 Jan 2006 01:26:03 -0800 (PST)
Message-ID: <fb9748c90601290126jab80570i9bca8166755badf@mail.gmail.com>
Date: Sun, 29 Jan 2006 17:26:03 +0800
From: Ray Tsang <saturnism@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Chinese support
In-Reply-To: <20060129071903.60F3F10FB00D@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <fb9748c90601281713q5d2fa646uc79003185f55a2a7@mail.gmail.com>
	 <20060129071903.60F3F10FB00D@asf.osuosl.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

WnNvbHQsCgpJdCdzIGluIHRoZSBsdWNlbmUgdHJ1bmsgdW5kZXIgdGhlIGNvbnRyaWIvIGRpcmVj
dG9yeSwgeW91IGNhbiBjaGVjawppdCBvdXQgZnJvbSB0aGUgcmVwb3NpdG9yeSwgdGFrZSBhIGxv
b2sgYXQKaHR0cDovL3N2bi5hcGFjaGUub3JnL3JlcG9zL2FzZi9sdWNlbmUvamF2YS90cnVuay9j
b250cmliL2FuYWx5emVycy9zcmMvamF2YS9vcmcvYXBhY2hlL2x1Y2VuZS9hbmFseXNpcy8KCnJh
eSwKCk9uIDEvMjkvMDYsIFpzb2x0IDx6a29wcGFueWxpc3RAaW50bGFuZC5jb20+IHdyb3RlOgo+
IEFuZCB3aGVyZSBjYW4gSSBmaW5kIGl0Pwo+Cj4gWnNvbHQKPgo+ID4tLS0tLU9yaWdpbmFsIE1l
c3NhZ2UtLS0tLQo+ID5Gcm9tOiBSYXkgVHNhbmcgW21haWx0bzpzYXR1cm5pc21AZ21haWwuY29t
XQo+ID5TZW50OiBTdW5kYXksIEphbnVhcnkgMjksIDIwMDYgMjoxNCBBTQo+ID5UbzogamF2YS11
c2VyQGx1Y2VuZS5hcGFjaGUub3JnCj4gPlN1YmplY3Q6IFJlOiBDaGluZXNlIHN1cHBvcnQKPiA+
Cj4gPkhpIFpzb2x0LAo+ID4KPiA+eW91IGNhbiB0cnkgdG8gdXNlIGEgQ2hpbmVzZSBhbmFseXpl
ci4KPiA+Cj4gPnJheSwKPiA+Cj4gPk9uIDEvMjgvMDYsIFpzb2x0IDx6a29wcGFueWxpc3RAaW50
bGFuZC5jb20+IHdyb3RlOgo+ID4+IEhpLAo+ID4+Cj4gPj4gV2UgdXNlIGx1Y2VuZSB3aXRob3V0
IGFueSBwcm9ibGVtcyBldmVuIGZvciBHZXJtYW4gdGV4dCBiaXQgd2l0aCBDaGluZXNlCj4gPj4g
dGV4dCBub3RoaW5nIGlzIGZvdW5kLiBXaGF0IGlzIHRoZSBiZXN0IHdheSB0byBpbmRleCBhbmQg
c2VhcmNoIENoaW5lc2UKPiA+PiB0ZXh0Pwo+ID4+Cj4gPj4gWnNvbHQKPiA+Pgo+ID4+Cj4gPj4g
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCj4gPj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vi
c2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gPj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUt
bWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPiA+Pgo+ID4+Cj4KPgo+IC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmli
ZUBsdWNlbmUuYXBhY2hlLm9yZwo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGph
dmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4KPgo=


From java-user-return-18625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 12:56:19 2006
Return-Path: <java-user-return-18625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82880 invoked from network); 29 Jan 2006 12:56:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 12:56:18 -0000
Received: (qmail 68778 invoked by uid 500); 29 Jan 2006 12:56:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68744 invoked by uid 500); 29 Jan 2006 12:56:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68733 invoked by uid 99); 29 Jan 2006 12:56:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 04:56:13 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.228] (HELO web60820.mail.yahoo.com) (209.73.178.228)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 29 Jan 2006 04:56:12 -0800
Received: (qmail 15227 invoked by uid 60001); 29 Jan 2006 12:55:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=a//lqCjv2yAWBd3nnpjlNawiHvNJXDCFXgCT2KgzmJv0uTUdwWBR/7xlSXWFompzOW+Lth14Q9P6jZgEUxEX0xC1QtXyJeASz921I/Z8lTpCT57l1wGw36//lz3teLGqvPgyHanvPTWENPcZ+WDRWmd/PZcRS54VbwEBbTbrZ3M=  ;
Message-ID: <20060129125551.15225.qmail@web60820.mail.yahoo.com>
Received: from [212.179.71.70] by web60820.mail.yahoo.com via HTTP; Sun, 29 Jan 2006 04:55:51 PST
Date: Sun, 29 Jan 2006 04:55:51 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: grouping results by fields
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1700661515-1138539351=:14937"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1700661515-1138539351=:14937
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hey,
   
  i have a bit of a complex problem,
  i need to group results recieved in a result set,
  for example:
   
  my result set returns 10,000 results
   
  there are about 10 fields in each result document
   
  i need to group the most frequent values appearing in each field.
   
  if 1 of my fields is named color: then i want the 20 most frequent colors in the 10,000 results,,, 
   
  blue - occurs 1302 times
  red  - occurs  200 times
   
  and so on....
   
  any ideas will be unbelievably appreciated,
   
  thanx

		
---------------------------------
 
 What are the most popular cars? Find out at Yahoo! Autos 
--0-1700661515-1138539351=:14937--

From java-user-return-18626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 15:50:03 2006
Return-Path: <java-user-return-18626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2261 invoked from network); 29 Jan 2006 15:50:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 15:50:03 -0000
Received: (qmail 65338 invoked by uid 500); 29 Jan 2006 15:49:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65318 invoked by uid 500); 29 Jan 2006 15:49:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65307 invoked by uid 99); 29 Jan 2006 15:49:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 07:49:55 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.86.89.70] (HELO smtpauth10.mail.atl.earthlink.net) (209.86.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 07:49:54 -0800
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=dk20050327; d=mindspring.com;
  b=a9hzcRthzWxpdCVABKIgci1aPVPMmjAe890a+qaxUXd7xwdq/rWzayEi0tKOub7+;
  h=From:To:Subject:Date:User-Agent:References:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-Disposition:Message-Id:X-Virus-Scanned:X-ELNK-Trace:X-Originating-IP;
Received: from [64.105.72.111] (helo=printserv.powershouse.bogus)
	by smtpauth10.mail.atl.earthlink.net with asmtp (Exim 4.34)
	id 1F3Eo1-0000jG-0v
	for java-user@lucene.apache.org; Sun, 29 Jan 2006 10:49:33 -0500
Received: from localhost (localhost [127.0.0.1])
	by printserv.powershouse.bogus (Postfix) with ESMTP id AE7D638608B7
	for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 10:46:30 -0500 (EST)
Received: from printserv.powershouse.bogus ([127.0.0.1])
 by localhost (printserv.example.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 06516-18 for <java-user@lucene.apache.org>;
 Sun, 29 Jan 2006 10:46:29 -0500 (EST)
Received: from nomad-ii.powershouse.bogus (nomad-ii.powershouse.bogus [192.168.3.153])
	by printserv.powershouse.bogus (Postfix) with ESMTP id E4F1D38608A2
	for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 10:46:28 -0500 (EST)
From: Jim Powers <rancor@mindspring.com>
To: java-user@lucene.apache.org
Subject: Re: grouping results by fields
Date: Sun, 29 Jan 2006 10:49:35 -0500
User-Agent: KMail/1.9
References: <20060129125551.15225.qmail@web60820.mail.yahoo.com>
In-Reply-To: <20060129125551.15225.qmail@web60820.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601291049.35736.rancor@mindspring.com>
X-Virus-Scanned: amavisd-new at powershouse.bogus
X-ELNK-Trace: 459208ffca03904e5e89bb4777695beb69025943178dce0b4127613290b5dfc5a0686e127eb91619350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 64.105.72.111
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We're doing something very similar.  Recently C|Net started using Lucene and 
there is a blog entry about how they implemented a "category" scheme that 
basically does what you want.

http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Category-Listings-t266441.html#a748420

The idea is to generate a bunch of bitsets where the ordinal bit number is 
based on the document number in the index.

First result set: perform your search.  Then generate a bitset called FRSBS 
(full result set bitset).

Next: foreach "word" you want to count generate a bitset (you do this by 
traversing the index directly for each word).  Call these bitsets WBS(n) 
(word bit set n.  n spans 1..m where m is the total number of words you want 
to count against)

Finally: to get a count per word bit-wise AND each WBS(n) with FRSBS and count 
up the 1s

Jim Powers

On Sunday 29 January 2006 07:55, zzzzz shalev wrote:
> hey,
>
>   i have a bit of a complex problem,
>   i need to group results recieved in a result set,
>   for example:
>
>   my result set returns 10,000 results
>
>   there are about 10 fields in each result document
>
>   i need to group the most frequent values appearing in each field.
>
>   if 1 of my fields is named color: then i want the 20 most frequent colors
> in the 10,000 results,,,
>
>   blue - occurs 1302 times
>   red  - occurs  200 times
>
>   and so on....
>
>   any ideas will be unbelievably appreciated,
>
>   thanx
>
>
> ---------------------------------
>
>  What are the most popular cars? Find out at Yahoo! Autos

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 18:18:12 2006
Return-Path: <java-user-return-18627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77254 invoked from network); 29 Jan 2006 18:18:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 18:18:12 -0000
Received: (qmail 55433 invoked by uid 500); 29 Jan 2006 18:18:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55408 invoked by uid 500); 29 Jan 2006 18:18:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55397 invoked by uid 99); 29 Jan 2006 18:18:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 10:18:07 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.136.174.113] (HELO smtp016.mail.yahoo.com) (216.136.174.113)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 29 Jan 2006 10:18:06 -0800
Received: (qmail 88876 invoked from network); 29 Jan 2006 18:17:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:Content-Type:Content-Transfer-Encoding;
  b=H6L3Md3IlymVJRF4fmKaYaAEXAmbO1BQ69VfJODznzfRB0BwnOaiACJMBbw1/y7zQ+qWzdQ4ajbbBYN1BbFagT5brNRXSy8n/JhGu2Iodz/XJ8inHR8XPamlP2lB9SDtXCc0JadZjwwyyRyQYqHVx48ytm+gPbCu2WcXfz/GmB4=  ;
Received: from unknown (HELO ?80.103.8.170?) (jairochan82@80.103.8.170 with plain)
  by smtp016.mail.yahoo.com with SMTP; 29 Jan 2006 18:17:44 -0000
Message-ID: <43DD06C6.8030808@yahoo.es>
Date: Sun, 29 Jan 2006 19:17:42 +0100
From: =?ISO-8859-1?Q?Jairo_S=E1nchez_Men=E9ndez?= <jairochan82@yahoo.es>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Searching over more than one Fields
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody,

Well I will explain you my problem:
I am indexing ".txt" files and basically I split each file in 
paragraphs, I mean, i create a Document for each file and within this 
Document I
add one Field named "px" for each paragraph (x) of the file.
My question is: after creating the index, now i want to do searches over 
the index, but what I want is searching a word over all paragraphs of 
all files, i.e.
searching the word in all Fields of all Documents.
I am using something like this, but doing so i can only put p1 or p2 or 
p3 ... in the Field parameter of the parse method, how can i search over 
all paragraphs??
Query query=QueryParser.parse(q, "   ", new WhitespaceAnalyzer());
Hits hits=is.search(query);

Thanks.

		
______________________________________________ 
LLama Gratis a cualquier PC del Mundo. 
Llamadas a fijos y mviles desde 1 cntimo por minuto. 
http://es.voice.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 19:09:13 2006
Return-Path: <java-user-return-18628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38639 invoked from network); 29 Jan 2006 19:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 19:09:13 -0000
Received: (qmail 77845 invoked by uid 500); 29 Jan 2006 19:09:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77817 invoked by uid 500); 29 Jan 2006 19:09:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77806 invoked by uid 99); 29 Jan 2006 19:09:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 11:09:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.199 as permitted sender)
Received: from [66.249.92.199] (HELO uproxy.gmail.com) (66.249.92.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 11:09:06 -0800
Received: by uproxy.gmail.com with SMTP id m3so542458uge
        for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 11:08:44 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=h3rI/mSGJeS7+aU3N/fXxL7aLWhDDftUr1D23DNYcj/FqePmOAn9nbn3K1nT3eExAGI6VbiyBVoAz7tiNLDGJ8/kIDX/I3uHV31YNeU4HP1+dLNtaZCwg9ilNUO+WB6QNOsgWxWYgmHK7xVwMD5BC9AZaYyhUy39T1X/sF9APDU=
Received: by 10.67.24.19 with SMTP id b19mr2317750ugj;
        Sun, 29 Jan 2006 11:08:44 -0800 (PST)
Received: by 10.66.216.20 with HTTP; Sun, 29 Jan 2006 11:08:43 -0800 (PST)
Message-ID: <50f433360601291108q3e6a8945o5c22d86253901381@mail.gmail.com>
Date: Sun, 29 Jan 2006 11:08:44 -0800
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: deleting duplicate documents from my index
In-Reply-To: <005701c6242c$4d093d90$b900a8c0@jhi>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11258_19500656.1138561724002"
References: <005701c6242c$4d093d90$b900a8c0@jhi>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11258_19500656.1138561724002
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

One way to do this (depending on your system and index size) is to remove
and add every url you find.  This would ensure that every document in the
index is unique.  No need to worry about sorting and iteration and doc_ids
and the like.

It rebuilds your entire index, but if you have a duplication issue that
needs to be addressed, it's worth it.

Hope this helps.

-- j

On 1/28/06, gekkokid <me@gekkokid.org.uk> wrote:
>
> Hi, im trying to delete duplicate documents from my index, the unique
> indentifier is the documents url (aka field "url").
>
> my initial thought of how to acomplish this is to open the index via a
> reader and sort them by the documents url and then iterate through them
> looking for a match with the current document and the previous document, =
if
> it matches i would delete the current document etc.
>
> what other methods that are not too taxing could i try?
>
> how could i sort the documents via url internally? what classes should i
> be looking at to do this
>
>
> Thanks,
> _gk
>

------=_Part_11258_19500656.1138561724002--

From java-user-return-18629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 20:22:01 2006
Return-Path: <java-user-return-18629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27192 invoked from network); 29 Jan 2006 20:22:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 20:22:01 -0000
Received: (qmail 27206 invoked by uid 500); 29 Jan 2006 20:21:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27181 invoked by uid 500); 29 Jan 2006 20:21:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27170 invoked by uid 99); 29 Jan 2006 20:21:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 12:21:55 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.222.0.30] (HELO smtpout.eastlink.ca) (24.222.0.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 12:21:55 -0800
Received: from ip03.eastlink.ca ([24.222.10.15])
 by mta01.eastlink.ca (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ITV00830F6VQN70@mta01.eastlink.ca> for
 java-user@lucene.apache.org; Sun, 29 Jan 2006 16:20:55 -0400 (AST)
Received: from blk-224-233-28.eastlink.ca (HELO snip) ([24.224.233.28])
 by ip03.eastlink.ca with SMTP; Sun, 29 Jan 2006 16:21:33 -0400
Date: Sun, 29 Jan 2006 16:19:41 -0400
From: Chris Brown <chris_b@orangepics.com>
Subject: Re: Searching over more than one Fields
To: java-user@lucene.apache.org
Message-id: <003901c62511$97f86cf0$0200a8c0@snip>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
Content-type: text/plain; format=flowed; charset=iso-8859-1; reply-type=response
Content-transfer-encoding: 8BIT
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
References: <43DD06C6.8030808@yahoo.es>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'd suggest creating the index a little differently. How about creating each 
paragraph as a document. Each document could have three fields: filename, 
paragraph number and content.

With an index like this you'd be able to easily search one field for the 
content, the hits could report which paragraph and file the content was 
found in, plus you could do paragraph specific searches if you like.

Chris Brown
OrangePics - Simple, Safe Photo Sharing
http://www.orangepics.com/

----- Original Message ----- 
From: "Jairo Snchez Menndez" <jairochan82@yahoo.es>
To: <java-user@lucene.apache.org>
Sent: Sunday, January 29, 2006 2:17 PM
Subject: Searching over more than one Fields


> Hi everybody,
>
> Well I will explain you my problem:
> I am indexing ".txt" files and basically I split each file in paragraphs, 
> I mean, i create a Document for each file and within this Document I
> add one Field named "px" for each paragraph (x) of the file.
> My question is: after creating the index, now i want to do searches over 
> the index, but what I want is searching a word over all paragraphs of all 
> files, i.e.
> searching the word in all Fields of all Documents.
> I am using something like this, but doing so i can only put p1 or p2 or p3 
> ... in the Field parameter of the parse method, how can i search over all 
> paragraphs??
> Query query=QueryParser.parse(q, "   ", new WhitespaceAnalyzer());
> Hits hits=is.search(query);
>
> Thanks.
>
>
> ______________________________________________ LLama Gratis a cualquier PC 
> del Mundo. Llamadas a fijos y mviles desde 1 cntimo por minuto. 
> http://es.voice.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 20:22:22 2006
Return-Path: <java-user-return-18630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27567 invoked from network); 29 Jan 2006 20:22:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 20:22:22 -0000
Received: (qmail 28459 invoked by uid 500); 29 Jan 2006 20:22:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28428 invoked by uid 500); 29 Jan 2006 20:22:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28417 invoked by uid 99); 29 Jan 2006 20:22:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 12:22:16 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 24.222.0.30 is neither permitted nor denied by domain of chris_b@orangepics.com)
Received: from [24.222.0.30] (HELO smtpout.eastlink.ca) (24.222.0.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 12:22:15 -0800
Received: from ip01.eastlink.ca ([24.222.10.5])
 by mta01.eastlink.ca (Sun Java System Messaging Server 6.2-4.03 (built Sep 22
 2005)) with ESMTP id <0ITV0083AF76QD70@mta01.eastlink.ca> for
 java-user@lucene.apache.org; Sun, 29 Jan 2006 16:21:06 -0400 (AST)
Received: from blk-224-233-28.eastlink.ca (HELO snip) ([24.224.233.28])
 by ip01.eastlink.ca with SMTP; Sun, 29 Jan 2006 16:21:45 -0400
Date: Sun, 29 Jan 2006 16:21:38 -0400
From: Chris Brown <chris_b@orangepics.com>
Subject: Re: Searching over more than one Fields
To: java-user@lucene.apache.org
Message-id: <003a01c62511$9e290d00$0200a8c0@snip>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
Content-type: text/plain; format=flowed; charset=iso-8859-1; reply-type=response
Content-transfer-encoding: 8BIT
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
References: <43DD06C6.8030808@yahoo.es>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'd suggest creating the index a little differently. How about creating each
paragraph as a document. Each document could have three fields: filename,
paragraph number and content.

With an index like this you'd be able to easily search one field for the
content, the hits could report which paragraph and file the content was
found in, plus you could do paragraph specific searches if you like.

Chris Brown
OrangePics - Simple, Safe Photo Sharing
http://www.orangepics.com/

----- Original Message ----- 
From: "Jairo Snchez Menndez" <jairochan82@yahoo.es>
To: <java-user@lucene.apache.org>
Sent: Sunday, January 29, 2006 2:17 PM
Subject: Searching over more than one Fields


> Hi everybody,
>
> Well I will explain you my problem:
> I am indexing ".txt" files and basically I split each file in paragraphs, 
> I mean, i create a Document for each file and within this Document I
> add one Field named "px" for each paragraph (x) of the file.
> My question is: after creating the index, now i want to do searches over 
> the index, but what I want is searching a word over all paragraphs of all 
> files, i.e.
> searching the word in all Fields of all Documents.
> I am using something like this, but doing so i can only put p1 or p2 or p3 
> ... in the Field parameter of the parse method, how can i search over all 
> paragraphs??
> Query query=QueryParser.parse(q, "   ", new WhitespaceAnalyzer());
> Hits hits=is.search(query);
>
> Thanks.
>
>
> ______________________________________________ LLama Gratis a cualquier PC 
> del Mundo. Llamadas a fijos y mviles desde 1 cntimo por minuto. 
> http://es.voice.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 29 21:31:01 2006
Return-Path: <java-user-return-18631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62916 invoked from network); 29 Jan 2006 21:31:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Jan 2006 21:31:01 -0000
Received: (qmail 87401 invoked by uid 500); 29 Jan 2006 21:30:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86410 invoked by uid 500); 29 Jan 2006 21:30:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86399 invoked by uid 99); 29 Jan 2006 21:30:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 13:30:56 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.195] (HELO web25810.mail.ukl.yahoo.com) (217.12.10.195)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 29 Jan 2006 13:30:54 -0800
Received: (qmail 96266 invoked by uid 60001); 29 Jan 2006 21:30:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=HsUH4AToq+lu6+Faent2yxK2JNM5GM4V06a7qig9xO1d7rnDLK0UMhicjV/hy7zpIzUSENuTzGCt+bA/iFaFlOOmE3pMdlef9e00TDdn9pWJdWOkePCYKY2PUPHUU19tI4AOYNvd5H3Gb4hON/IqPOsypOUkDjleC32AzvU2RwY=  ;
Message-ID: <20060129213032.96264.qmail@web25810.mail.ukl.yahoo.com>
Received: from [81.41.114.23] by web25810.mail.ukl.yahoo.com via HTTP; Sun, 29 Jan 2006 22:30:32 CET
Date: Sun, 29 Jan 2006 22:30:32 +0100 (CET)
From: =?iso-8859-1?q?Jairo=20S=E1nchez?= <jairochan82@yahoo.es>
Subject: Term
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1888320185-1138570232=:94656"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1888320185-1138570232=:94656
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I don't Know if anyone could help me with this issue:
   
  for the requirements of the application i'm doing i need to store the terms (i.e the words) inverted, i mean, for example i need the word "horse" to be stored as "esroh" because in my application i need to find all the words in the index  that end in an specific suffix. 
   
  Can anyone send me an idea for doing it?
  I thought in inverting the files before indexing it but it would increase the time complexity of the program.

		
---------------------------------

LLama Gratis a cualquier PC del Mundo.
Llamadas a fijos y mviles desde 1 cntimo por minuto.
http://es.voice.yahoo.com
--0-1888320185-1138570232=:94656--

From java-user-return-18632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 00:58:50 2006
Return-Path: <java-user-return-18632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25952 invoked from network); 30 Jan 2006 00:58:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 00:58:49 -0000
Received: (qmail 92241 invoked by uid 500); 30 Jan 2006 00:58:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92203 invoked by uid 500); 30 Jan 2006 00:58:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92191 invoked by uid 99); 30 Jan 2006 00:58:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 16:58:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 16:58:41 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 9FBC3B7BEF
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 11:58:20 +1100 (EST)
Message-ID: <43DD6723.8090201@nuix.com.au>
Date: Mon, 30 Jan 2006 12:08:51 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <43D7CE1E.30100@apache.org>	 <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>	 <200601260859.54335.paul.elschot@xs4all.nl>	 <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>	 <c68e39170601260758r5994e5cbt57f83d99a216309e@mail.gmail.com> <e994873a0601260953w7dae2331i1686d0ddcb4d992e@mail.gmail.com>
In-Reply-To: <e994873a0601260953w7dae2331i1686d0ddcb4d992e@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Keegan wrote:
> I'd love to try this, but I'm not aware of any 64-bit jvms for Windows on
> Intel. If you know of any, please let me know. Linux may be an option, too.
>   
Is this true about the 64-bit JVM not working on Intel?  I was under the 
impression that it supported the AMD64 instruction set, and that Intel's 
64-bit processors basically cloned AMD's instruction set.

I really hope this isn't the case, because it's going to be one hell of 
a caveat if we end up telling customers "yes, we support 64-bit AMD, but 
not 64-bit Intel."

Daniel

-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 01:02:59 2006
Return-Path: <java-user-return-18633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27020 invoked from network); 30 Jan 2006 01:02:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 01:02:59 -0000
Received: (qmail 97110 invoked by uid 500); 30 Jan 2006 01:02:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97074 invoked by uid 500); 30 Jan 2006 01:02:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97061 invoked by uid 99); 30 Jan 2006 01:02:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 17:02:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 17:02:54 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id D5B66B7BEF
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 12:02:34 +1100 (EST)
Message-ID: <43DD6821.8020302@nuix.com.au>
Date: Mon, 30 Jan 2006 12:13:05 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <43820731.5000806@apache.org>	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org> <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
In-Reply-To: <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Keegan wrote:
> I tried the AMD64-bit JVM from Sun and with MMapDirectory and I'm now
> getting 250 queries/sec and excellent cpu utilization (equal concurrency on
> all cpus)!! Yonik, thanks for the pointer to the 64-bit jvm. I wasn't aware
> of it.
>   
Wow.  That's fast.

Out of interest, does indexing time speed up much on 64-bit hardware?  
I'm particularly interested in this side of things because for our own 
application, any query response under half a second is good enough, but 
the indexing side could always be faster. :-)

Daniel

-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 01:08:33 2006
Return-Path: <java-user-return-18634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28307 invoked from network); 30 Jan 2006 01:08:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 01:08:32 -0000
Received: (qmail 344 invoked by uid 500); 30 Jan 2006 01:08:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 319 invoked by uid 500); 30 Jan 2006 01:08:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 308 invoked by uid 99); 30 Jan 2006 01:08:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 17:08:28 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.200 as permitted sender)
Received: from [66.249.92.200] (HELO uproxy.gmail.com) (66.249.92.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 17:08:25 -0800
Received: by uproxy.gmail.com with SMTP id s2so670594uge
        for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 17:08:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CBGG0vXIW3CCX8OsFx3tK+GHQ/3NfDGCF5UrKtHwjIGiYGIPv81BgPzeV1tEORbcpdCKrMtDatzXBWS90zbaqSqm6ikzQ76rqaPP08Sk13G+n30/Fn7OBEon0IuQSFGEmcbvIzmqu99aVFq97XOfS+IzmGxe2p2J2pXcORpYO0k=
Received: by 10.48.217.10 with SMTP id p10mr600885nfg;
        Sun, 29 Jan 2006 17:08:03 -0800 (PST)
Received: by 10.49.93.1 with HTTP; Sun, 29 Jan 2006 17:08:03 -0800 (PST)
Message-ID: <c68e39170601291708kbeff739ha8bced5db62ad29f@mail.gmail.com>
Date: Sun, 29 Jan 2006 20:08:03 -0500
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <43DD6723.8090201@nuix.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43D7CE1E.30100@apache.org>
	 <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>
	 <200601260859.54335.paul.elschot@xs4all.nl>
	 <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>
	 <c68e39170601260758r5994e5cbt57f83d99a216309e@mail.gmail.com>
	 <e994873a0601260953w7dae2331i1686d0ddcb4d992e@mail.gmail.com>
	 <43DD6723.8090201@nuix.com.au>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 1/29/06, Daniel Noll <daniel@nuix.com.au> wrote:
> Peter Keegan wrote:
> > I'd love to try this, but I'm not aware of any 64-bit jvms for Windows =
on
> > Intel. If you know of any, please let me know. Linux may be an option, =
too.
> >
> Is this true about the 64-bit JVM not working on Intel?

Go back and look at my response to the message you quoted :-)
The short answer is yes, it will work on Intel.

> I was under the
> impression that it supported the AMD64 instruction set, and that Intel's
> 64-bit processors basically cloned AMD's instruction set.

Pretty much, but it's never that simple (and wasn't for 32 bit mode either)
http://en.wikipedia.org/wiki/EM64T#Differences_between_AMD64_and_EM64T

Now that they have both been out a while, compilers generally produce
code that work on both. Tricky things like JVMs and esp kernels needed
explicit support.

> I really hope this isn't the case, because it's going to be one hell of
> a caveat if we end up telling customers "yes, we support 64-bit AMD, but
> not 64-bit Intel."

Support is a different issue.  It may work, but it may or may not be a
"supported" platform of the JVM vendor.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 01:17:12 2006
Return-Path: <java-user-return-18635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30602 invoked from network); 30 Jan 2006 01:17:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 01:17:12 -0000
Received: (qmail 8633 invoked by uid 500); 30 Jan 2006 01:17:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8608 invoked by uid 500); 30 Jan 2006 01:17:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8597 invoked by uid 99); 30 Jan 2006 01:17:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 17:17:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 17:17:07 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 9455CB7BEF
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 12:16:47 +1100 (EST)
Message-ID: <43DD6B76.9050808@nuix.com.au>
Date: Mon, 30 Jan 2006 12:27:18 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <43D7CE1E.30100@apache.org>	 <e994873a0601251151r71ccbd0bo9c81354c285e54ab@mail.gmail.com>	 <200601260859.54335.paul.elschot@xs4all.nl>	 <e994873a0601260749x42a2e86ew7850974a50482ad8@mail.gmail.com>	 <c68e39170601260758r5994e5cbt57f83d99a216309e@mail.gmail.com>	 <e994873a0601260953w7dae2331i1686d0ddcb4d992e@mail.gmail.com>	 <43DD6723.8090201@nuix.com.au> <c68e39170601291708kbeff739ha8bced5db62ad29f@mail.gmail.com>
In-Reply-To: <c68e39170601291708kbeff739ha8bced5db62ad29f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik Seeley wrote:
> On 1/29/06, Daniel Noll <daniel@nuix.com.au> wrote:
>   
>> Peter Keegan wrote:
>>     
>>> I'd love to try this, but I'm not aware of any 64-bit jvms for Windows on
>>> Intel. If you know of any, please let me know. Linux may be an option, too.
>>>
>>>       
>> Is this true about the 64-bit JVM not working on Intel?
>>     
>
> Go back and look at my response to the message you quoted :-)
> The short answer is yes, it will work on Intel.
>   
Ah.  Okay, sorry about that.  The only response I saw was the one about 
JRockit supporting it.
> Support is a different issue.  It may work, but it may or may not be a
> "supported" platform of the JVM vendor.
>   
True enough.  At the moment our most likely move is to support Sun's 
64-bit JVM on Windows, but not other vendors' JVMs (i.e., we'll support 
whatever JVMs we redistribute with our own app.)  Of course, this will 
only come once we claim to support 64-bit hardware... I'm sure there are 
many things still yet to be done there, such as making sure all our JNI 
libraries will compile properly for 64-bit Windows.

Daniel

-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 02:05:30 2006
Return-Path: <java-user-return-18636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41638 invoked from network); 30 Jan 2006 02:05:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 02:05:30 -0000
Received: (qmail 33506 invoked by uid 500); 30 Jan 2006 02:05:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33487 invoked by uid 500); 30 Jan 2006 02:05:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 26096 invoked by uid 99); 29 Jan 2006 20:20:54 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Date: Sun, 29 Jan 2006 16:20:28 -0400
From: Chris Brown <chris_b@redsky.ca>
Subject: Re: Searching over more than one Fields
To: java-user@lucene.apache.org
Message-id: <003601c62511$731f9840$0200a8c0@snip>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
Content-type: text/plain; format=flowed; charset=iso-8859-1; reply-type=response
Content-transfer-encoding: 8BIT
X-Priority: 3
X-MSMail-priority: Normal
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
References: <43DD06C6.8030808@yahoo.es>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'd suggest creating the index a little differently. How about creating each
paragraph as a document. Each document could have three fields: filename,
paragraph number and content.

With an index like this you'd be able to easily search one field for the
content, the hits could report which paragraph and file the content was
found in, plus you could do paragraph specific searches if you like.

Chris Brown
OrangePics - Simple, Safe Photo Sharing
http://www.orangepics.com/

----- Original Message ----- 
From: "Jairo Snchez Menndez" <jairochan82@yahoo.es>
To: <java-user@lucene.apache.org>
Sent: Sunday, January 29, 2006 2:17 PM
Subject: Searching over more than one Fields


> Hi everybody,
>
> Well I will explain you my problem:
> I am indexing ".txt" files and basically I split each file in paragraphs, 
> I mean, i create a Document for each file and within this Document I
> add one Field named "px" for each paragraph (x) of the file.
> My question is: after creating the index, now i want to do searches over 
> the index, but what I want is searching a word over all paragraphs of all 
> files, i.e.
> searching the word in all Fields of all Documents.
> I am using something like this, but doing so i can only put p1 or p2 or p3 
> ... in the Field parameter of the parse method, how can i search over all 
> paragraphs??
> Query query=QueryParser.parse(q, "   ", new WhitespaceAnalyzer());
> Hits hits=is.search(query);
>
> Thanks.
>
>
> ______________________________________________ LLama Gratis a cualquier PC 
> del Mundo. Llamadas a fijos y mviles desde 1 cntimo por minuto. 
> http://es.voice.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 04:26:23 2006
Return-Path: <java-user-return-18637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85169 invoked from network); 30 Jan 2006 04:26:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 04:26:23 -0000
Received: (qmail 6253 invoked by uid 500); 30 Jan 2006 04:26:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6228 invoked by uid 500); 30 Jan 2006 04:26:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6217 invoked by uid 99); 30 Jan 2006 04:26:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 20:26:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [67.50.205.81] (HELO mail.kinfolk.org) (67.50.205.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 20:26:17 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.kinfolk.org (Postfix) with ESMTP id 4A2C463790
	for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 21:27:40 -0700 (MST)
Received: from mail.kinfolk.org ([127.0.0.1])
 by localhost (mail2.kinfolk.org [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 17515-01-5 for <java-user@lucene.apache.org>;
 Sun, 29 Jan 2006 21:27:39 -0700 (MST)
Received: from casper (c-67-177-11-184.hsd1.ut.comcast.net [67.177.11.184])
	by mail.kinfolk.org (Postfix) with ESMTP id 300B4636B2
	for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 21:27:39 -0700 (MST)
From: "Samuel Edge" <sam@edges.org>
To: <java-user@lucene.apache.org>
Subject: Possible new use for term dictionary... (maybe)
Date: Sun, 29 Jan 2006 21:25:51 -0700
Message-ID: <004d01c62555$41023770$0b03a8c0@casper>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_004E_01C6251A.94A35F70"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYlVUCld9dW6nl7RCa+W8PwO5e0Bw==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_004E_01C6251A.94A35F70
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I would like to use Lucene's term dictionary as a randomly addressable,
lexically sorted repository.  A mouthful I know.... I want to be able to
access terms as if I had loaded all terms using IndexReader.terms(context);
iterating all terms and storing their text sequentially, in sorted order, in
a Vector collection.  But instead of using the vector loading approach, I
want to reference the index terms where they exist in the dictionary and
individually reference them by their position, (TermInfosReader.get(int
position)  leads me to believe this might be possible).  The primary need
for this arises where I have a virtual listbox and I have thousands upon
thousands of terms that I need to load into the lisbox.  A standard listbox
is usually populated by accepting literal strings items - this works but is
slow, slow, slow.  A virtual listbox allows me to define the existence of
1,000,000 items, but without pre-loading the items; when it is time to show
a slice of the1,000,000 items, a request is sent to me to return strings
items for a range of positions.

 

>From above, I have the following questions:  1) Does the dictionary truly
contain the terms in sorted order ?   2) Has this random/position term issue
already been solved?  3) is TermInfosReader the right approach? It's use
seems to involve internal, non-public APIs - any suggestions on its use ?
3) I am using the Lucene compound file format rather than multifile; I've
looked at  TermInfosReader and it appears to work with multfile indexes
only.  Is this true?

 

Your help is truly appreciated!

 

Regards, Sam.

 

 


------=_NextPart_000_004E_01C6251A.94A35F70--



From java-user-return-18638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 05:57:33 2006
Return-Path: <java-user-return-18638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12689 invoked from network); 30 Jan 2006 05:57:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 05:57:32 -0000
Received: (qmail 59258 invoked by uid 500); 30 Jan 2006 05:57:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59233 invoked by uid 500); 30 Jan 2006 05:57:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59222 invoked by uid 99); 30 Jan 2006 05:57:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 21:57:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 21:57:26 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C6A885B773; Sun, 29 Jan 2006 21:56:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id AE2837F403
	for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 21:56:53 -0800 (PST)
Date: Sun, 29 Jan 2006 21:56:53 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: deleting duplicate documents from my index
In-Reply-To: <005701c6242c$4d093d90$b900a8c0@jhi>
Message-ID: <Pine.LNX.4.58.0601292150510.2148@hal.rescomp.berkeley.edu>
References: <005701c6242c$4d093d90$b900a8c0@jhi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Hi, im trying to delete duplicate documents from my index, the unique
: indentifier is the documents url (aka field "url").
:
: my initial thought of how to acomplish this is to open the index via a
: reader and sort them by the documents url and then iterate through them
: looking for a match with the current document and the previous document,
: if it matches i would delete the current document etc.

Assuming your "url" filed is a keyword field (indexed, not-tokenized) then
take a look at IndexReader.termEnum ... if you start with new
Term("url","") and iterate untill the field is no longer url, you'll be
iterating over every url Term in your index.  for each one, check docFreq,
and if it's more then 1 you've got a dup.

Then look at IndexReader.termDocs for an easy way to find out which docs
share that url.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 06:17:14 2006
Return-Path: <java-user-return-18639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18240 invoked from network); 30 Jan 2006 06:17:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 06:17:14 -0000
Received: (qmail 73184 invoked by uid 500); 30 Jan 2006 06:17:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73167 invoked by uid 500); 30 Jan 2006 06:17:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73148 invoked by uid 99); 30 Jan 2006 06:17:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 22:17:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 22:17:03 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B7A215B773; Sun, 29 Jan 2006 22:16:42 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A5B517F403
	for <java-user@lucene.apache.org>; Sun, 29 Jan 2006 22:16:42 -0800 (PST)
Date: Sun, 29 Jan 2006 22:16:42 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Term
In-Reply-To: <20060129213032.96264.qmail@web25810.mail.ukl.yahoo.com>
Message-ID: <Pine.LNX.4.58.0601292207220.2148@hal.rescomp.berkeley.edu>
References: <20060129213032.96264.qmail@web25810.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: terms (i.e the words) inverted, i mean, for example i need the word
: "horse" to be stored as "esroh" because in my application i need to find
: all the words in the index that end in an specific suffix.

:   I thought in inverting the files before indexing it but it would
: increase the time complexity of the program.

Ouch.  Please don't do that.  It hurts my brain just to think about it.

This is the kind of problem TokenFilters were invented for.  you can write
one that reverses the tokenText in the token it's recieved on the
TokenStream.

you can index the text in two fields (forwards and backwords) or if you
want the reversed versions of the terms in the same field as the "forward"
versions, then your TokenFilter can echo the orriginal Token, and then
output your reversed versions with the same positionIncriment (to keep
phrases working) .. but if you don't want people looking for
"god" complaining about all the "dog" results they get, i would preface
all of your reversed tokens with some character that your tokenizer would
normally strip out -- and when you detect that the user is doing a suffiz
search, prepend it to the reversed string

ie:   new PrefixQuery(new Term(fieldName,"_esr"));


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 06:44:48 2006
Return-Path: <java-user-return-18640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29045 invoked from network); 30 Jan 2006 06:44:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 06:44:47 -0000
Received: (qmail 97644 invoked by uid 500); 30 Jan 2006 06:44:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96658 invoked by uid 500); 30 Jan 2006 06:44:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96647 invoked by uid 99); 30 Jan 2006 06:44:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 22:44:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Jan 2006 22:44:40 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C62568.72A02644"
Subject: RE: problem updating a document: no segments file?
Date: Mon, 30 Jan 2006 00:43:15 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B2928F3@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <F9E303076B72074AB76B2C8F78952B2928F3@bettylou.configureone.net>
Thread-Topic: problem updating a document: no segments file?
Thread-Index: AcYkgp2aZYvtiXGXSmyVnp4f7vazWAA5Rx6u
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C62568.72A02644
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

just for the archives in case anyone else runs into this..

i had my lucene implementations index to a different directory allowing =
the searcher to work over the previous one while the index built the new =
one.   then at the eend of building the new one, the indexing code would =
tell the searcher to use the new directory, and procede to delete any =
other directory it found in that area, representing any previous =
indexes.   this worked fine on osX for the g4 and g5 i was using.   on =
the server, running windows2003server, this didnt work.   the code i =
pasted for the delete was bad and it was deleting everything.  HOWEVEr, =
on the non-ms-server os's, the deleting couldnt get rid of the active =
files.   on the windows server os, it was able to delete "segments" and =
none of the others.   so it lies between the different os's various' =
ways of seeing: lock, busy, inactive files and what lucene is doing with =
the segment (and other really) files at that moment.   and all this was =
brought by dumb code that allowed the attempted deletion of the current =
index anyway.   it just made it to the staging server because the other =
os's didn't have this problem.    so, live and learn!




-----Original Message-----
From: John Powers [mailto:jpowers@configureone.com]
Sent: Sat 1/28/2006 9:13 PM
To: java-user@lucene.apache.org
Subject: RE: problem updating a document: no segments file?
=20
i feel confident in the delete sequence.  i will run the things you ask =
for though.    this does work on my laptop.  =20

the code that changed was some update method that was used in the first =
release.   so before the only writes needed were done by this and it =
wholesale replaces.   whereas the new feature updates documents.   it =
worked fine in testing.   and i look at the product of this method in =
other environments and they all have segment files and update fine.      =
 i do appreciate your response though.  at least i have things to do to =
move this forward now.  i will print out all the paths that get touched =
by this delete block, and the results of ech delete().    its good to =
get rid of possibilities.

baring this being the problem..   what would cause lucene to delete its =
segment file?

--JN

: :                     if (!newPath.equals(subDirs[i].getPath())) {


part keeps it out of the new path.     no, the boxes have different =
windows operating systems.    probobly a slight difference in jvm.


-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu on behalf of Chris Hostetter
Sent: Sat 1/28/2006 2:37 AM
To: java-user@lucene.apache.org
Subject: RE: problem updating a document: no segments file?
=20

: this code works in a couple other boxes as is.  that deleting code

Are those boxes running the same OS?  The same JVM?

: removes the active index after this one builds in a different =
location.
: then the searcher is told to make this newest one the current and the
: old one is deleted.  it effects directories and their entire contents.
: it wouldnt select just a segment file.  also, like i said, this runs

I'm not convinced.

If your getIndexDirectory() method is returning a string from a config
file (or something like that) and it includes a trailing seperator (in
addition to the seperator your code adds) then the index directory would
be created fine (if i remember right, extra seperates don't generate an
exception) but your string equality test would fail and you'd try to
delete the files in the directory you just created.

If your searcher has already opened some of the files, then (depending =
on
your OS) the delete code may not be able to delete them -- you're not
checking the return value from subFiles[j].delete() so you have no way =
of
knowing.  The segments file may be the only file getting deleted, =
because
it may be the only file your searcher doesn't have open at the moment =
the
delete code runs.  If i remember right IndexSearcher only opens the
segments file to get a list of all the individual segments, and then
immdeiately closes it, but keeps the rest of hte files open permenantly.

: fine on my laptop and g5.  and actually, this code was fine till
: recently on that box.  i modified a different method and updated the
: code to this server and now i have this problem.

what was the code that changed?



: : 	    String newPath =3D getIndexLocation() + File.separator +
: : System.currentTimeMillis();
: :
: : 	    IndexWriter writer =3D new IndexWriter(new File(newPath),
: : analyzer, true);
:
: 	...
:
: :         writer.optimize();
: :         writer.close();
: :
: : 	SearchSO.setSearcher(newPath);
: :
: : 	File[] subFiles;
: : 	File[] subDirs =3D new File(getIndexLocation()).listFiles();
: :
: : 	for (int i=3D0;i<subDirs.length;i++) {
: : 		if (subDirs[i].isDirectory()) {
: : 			if (!newPath.equals(subDirs[i].getPath())) {
: : 				subFiles =3D subDirs[i].listFiles();
: : 				for (int j=3D0;j<subFiles.length;j++) {
: : 					subFiles[j].delete();
: : 				}
: : 				subDirs[i].delete();
: : 			}
: : 		}
: : 	}
: :
: :
: :     }



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






------_=_NextPart_001_01C62568.72A02644
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C62568.72A02644--

From java-user-return-18641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 11:28:04 2006
Return-Path: <java-user-return-18641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45088 invoked from network); 30 Jan 2006 11:26:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 11:26:59 -0000
Received: (qmail 80141 invoked by uid 500); 30 Jan 2006 11:26:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80119 invoked by uid 500); 30 Jan 2006 11:26:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80108 invoked by uid 99); 30 Jan 2006 11:26:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 03:26:27 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 03:26:26 -0800
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id 2955E255EB7
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 11:26:02 +0000 (GMT)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: RE: Searching over more than one Fields
Date: Mon, 30 Jan 2006 11:22:52 -0000
Message-ID: <00dc01c6258f$8273b550$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcYlAFrJIqsKvnMTQWKspC+spYV6VwAjp8eQ
In-Reply-To: <43DD06C6.8030808@yahoo.es>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I was happy to take the hit of storing the text twice.

I have created an aggregate field called "CONTENTS" that has all the =
other
fields concatenated together.
I also created a list of the other fields (because they can vary from =
doc to
doc) in another field "FIELDLIST"

I search this field and for any hits I get I retrieve the list of fields
from FIELDLIST and then go through retrieving each field in the list. =
For
each field I can then put it through the highlighter and if there are =
any
results I must have had a hit in that field so I display it.

What I wanted to achieve was to be able to search all fields in the =
document
(using the aggregate field) but when retrieving actually be able to find =
the
particular fields that had matches. Your requirements may be different!

-Gwyn

-----Original Message-----
From: Jairo S=E1nchez Men=E9ndez [mailto:jairochan82@yahoo.es]=20
Sent: 29 January 2006 18:18
To: java-user@lucene.apache.org
Subject: Searching over more than one Fields

Hi everybody,

Well I will explain you my problem:
I am indexing ".txt" files and basically I split each file in=20
paragraphs, I mean, i create a Document for each file and within this=20
Document I
add one Field named "px" for each paragraph (x) of the file.
My question is: after creating the index, now i want to do searches over =

the index, but what I want is searching a word over all paragraphs of=20
all files, i.e.
searching the word in all Fields of all Documents.
I am using something like this, but doing so i can only put p1 or p2 or=20
p3 ... in the Field parameter of the parse method, how can i search over =

all paragraphs??
Query query=3DQueryParser.parse(q, "   ", new WhitespaceAnalyzer());
Hits hits=3Dis.search(query);

Thanks.

	=09
______________________________________________=20
LLama Gratis a cualquier PC del Mundo.=20
Llamadas a fijos y m=F3viles desde 1 c=E9ntimo por minuto.=20
http://es.voice.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 12:02:00 2006
Return-Path: <java-user-return-18642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61676 invoked from network); 30 Jan 2006 12:01:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 12:01:39 -0000
Received: (qmail 11782 invoked by uid 500); 30 Jan 2006 12:01:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11462 invoked by uid 500); 30 Jan 2006 12:01:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11451 invoked by uid 99); 30 Jan 2006 12:01:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 04:01:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mta09-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 04:01:23 -0800
Received: from aamta10-winn.ispmail.ntl.com ([81.103.221.35])
          by mta09-winn.ispmail.ntl.com with ESMTP
          id <20060130120101.OOIZ15755.mta09-winn.ispmail.ntl.com@aamta10-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Mon, 30 Jan 2006 12:01:01 +0000
Received: from jhi ([81.98.13.34]) by aamta10-winn.ispmail.ntl.com
          with SMTP
          id <20060130120100.SWOB21315.aamta10-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Mon, 30 Jan 2006 12:01:00 +0000
Message-ID: <006c01c62594$dca61fe0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <005701c6242c$4d093d90$b900a8c0@jhi> <Pine.LNX.4.58.0601292150510.2148@hal.rescomp.berkeley.edu>
Subject: Re: deleting duplicate documents from my index
Date: Mon, 30 Jan 2006 12:01:09 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi, thats exactly what i did :) works perfectly

thanks

_gk
----- Original Message ----- 
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: <java-user@lucene.apache.org>
Sent: Monday, January 30, 2006 5:56 AM
Subject: Re: deleting duplicate documents from my index


>
> : Hi, im trying to delete duplicate documents from my index, the unique
> : indentifier is the documents url (aka field "url").
> :
> : my initial thought of how to acomplish this is to open the index via a
> : reader and sort them by the documents url and then iterate through them
> : looking for a match with the current document and the previous document,
> : if it matches i would delete the current document etc.
>
> Assuming your "url" filed is a keyword field (indexed, not-tokenized) then
> take a look at IndexReader.termEnum ... if you start with new
> Term("url","") and iterate untill the field is no longer url, you'll be
> iterating over every url Term in your index.  for each one, check docFreq,
> and if it's more then 1 you've got a dup.
>
> Then look at IndexReader.termDocs for an easy way to find out which docs
> share that url.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 12:05:25 2006
Return-Path: <java-user-return-18643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63203 invoked from network); 30 Jan 2006 12:05:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 12:05:23 -0000
Received: (qmail 15620 invoked by uid 500); 30 Jan 2006 12:05:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14654 invoked by uid 500); 30 Jan 2006 12:05:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14643 invoked by uid 99); 30 Jan 2006 12:05:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 04:05:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.58.180.53] (HELO vps.elderlycare-help.co.uk) (207.58.180.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 04:05:11 -0800
Received: from cpc1-flee1-0-0-cust801.glfd.cable.ntl.com ([86.4.143.34] helo=leondell)
	by vps.elderlycare-help.co.uk with esmtpa (Exim 4.52)
	id 1F3Xm4-0003Y0-3q
	for java-user@lucene.apache.org; Mon, 30 Jan 2006 12:04:48 +0000
Message-ID: <007801c62595$5dd3e340$6500a8c0@leondell>
From: "Leon Chaddock" <leonchaddock@macranet.co.uk>
To: <java-user@lucene.apache.org>
Subject: Related searches
Date: Mon, 30 Jan 2006 12:04:41 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0075_01C62595.5A17ECB0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - vps.elderlycare-help.co.uk
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - macranet.co.uk
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0075_01C62595.5A17ECB0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
Does anyone know if it is possible to show related searches with lucene, =
for example if someone searched for "car insurance" you could bring back =
the results and related searches like these


Automobile Insurance
Car Insurance Quote
Car Insurance Quotes
Auto Insurance
Cheap Car Insurance
Car Insurance Company
Car Insurance Companies
Health Insurance
Car Insurance Rates
Car Insurance Rate
Car Insurance Rental
Insurance Quote
Online Car Insurance Quote
Home Insurance

Thanks

Leon
------=_NextPart_000_0075_01C62595.5A17ECB0--


From java-user-return-18644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 14:16:35 2006
Return-Path: <java-user-return-18644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37654 invoked from network); 30 Jan 2006 14:16:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 14:16:15 -0000
Received: (qmail 65116 invoked by uid 500); 30 Jan 2006 14:15:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65075 invoked by uid 500); 30 Jan 2006 14:15:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64997 invoked by uid 99); 30 Jan 2006 14:15:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:15:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:15:49 -0800
Received: by wproxy.gmail.com with SMTP id i21so1136227wra
        for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 06:15:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UYe33oJEehPb9221qGad+IAGmSXQtyGDvQHPzgEZ/NMtfJv/PJHH91GwE9lSwjR7RF3UuwCoUwoGuXEvL52K897bMegpxxH6DBPXka2FhxQiqxW+III51/XA8nDTPY2XClcPjmXazTMjku7m5KiEkNXdJACIfUXo/Wk/nsHX/+M=
Received: by 10.54.123.3 with SMTP id v3mr8056823wrc;
        Mon, 30 Jan 2006 06:15:27 -0800 (PST)
Received: by 10.54.114.9 with HTTP; Mon, 30 Jan 2006 06:15:27 -0800 (PST)
Message-ID: <e994873a0601300615p5f46dab6qfb4b4504bfb2bd7f@mail.gmail.com>
Date: Mon, 30 Jan 2006 09:15:27 -0500
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <43DD6821.8020302@nuix.com.au>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_385_32940221.1138630527431"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43820731.5000806@apache.org>
	 <fb9748c90601260043m3ed5e7fbh78ac7e23947a488f@mail.gmail.com>
	 <e994873a0601260756o58fb3b1ap3aa87df6de1ac0d7@mail.gmail.com>
	 <43D92935.1000809@apache.org> <43D92A28.6050501@apache.org>
	 <e994873a0601261320r753d864cwcb37b72e54539d09@mail.gmail.com>
	 <43DD6821.8020302@nuix.com.au>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_385_32940221.1138630527431
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I cranked up the dial on my query tester and was able to get the rate up to
325 qps. Unfortunately, the machine died shortly thereafter (memory errors
:-( ) Hopefully, it was just a coincidence. I haven't measured 64-bit
indexing speed, yet.

Peter

On 1/29/06, Daniel Noll <daniel@nuix.com.au> wrote:
>
> Peter Keegan wrote:
> > I tried the AMD64-bit JVM from Sun and with MMapDirectory and I'm now
> > getting 250 queries/sec and excellent cpu utilization (equal concurrenc=
y
> on
> > all cpus)!! Yonik, thanks for the pointer to the 64-bit jvm. I wasn't
> aware
> > of it.
> >
> Wow.  That's fast.
>
> Out of interest, does indexing time speed up much on 64-bit hardware?
> I'm particularly interested in this side of things because for our own
> application, any query response under half a second is good enough, but
> the indexing side could always be faster. :-)
>
> Daniel
>
> --
> Daniel Noll
>
> Nuix Australia Pty Ltd
> Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
> Phone: (02) 9280 0699
> Fax:   (02) 9212 6902
>
> This message is intended only for the named recipient. If you are not
> the intended recipient you are notified that disclosing, copying,
> distributing or taking any action in reliance on the contents of this
> message or attachment is strictly prohibited.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_385_32940221.1138630527431--

From java-user-return-18645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 14:17:28 2006
Return-Path: <java-user-return-18645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38322 invoked from network); 30 Jan 2006 14:17:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 14:17:26 -0000
Received: (qmail 67741 invoked by uid 500); 30 Jan 2006 14:17:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66918 invoked by uid 500); 30 Jan 2006 14:17:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66907 invoked by uid 99); 30 Jan 2006 14:17:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:17:19 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lordjebus@gmail.com designates 64.233.184.200 as permitted sender)
Received: from [64.233.184.200] (HELO wproxy.gmail.com) (64.233.184.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:17:18 -0800
Received: by wproxy.gmail.com with SMTP id i5so1182002wra
        for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 06:16:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=GNgRMZDQ3JK/06pmGsbSoKwhmcB2fX99H9h7uqfkEZH1sS/dTfDS5P8CnTR3XTG8HKCbbJs6XCeejarAtBTY9ertTSdDOin8tUxbT3QTfGKQst/6hAWNBmZLjga7Jm/ork289LIH/sL1CvDZwuNR/WUedq//+vSZr8EOoVKUfCk=
Received: by 10.65.197.1 with SMTP id z1mr1604192qbp;
        Mon, 30 Jan 2006 06:16:57 -0800 (PST)
Received: by 10.65.22.11 with HTTP; Mon, 30 Jan 2006 06:16:57 -0800 (PST)
Message-ID: <c76867810601300616t70f20545u5e7d4e8e866ea255@mail.gmail.com>
Date: Mon, 30 Jan 2006 09:16:57 -0500
From: Jebus <lordjebus@gmail.com>
To: java-user@lucene.apache.org
Subject: searching specific documents
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How do you search only certain documents. In the app I am writing
before I start searching with Lucene I know all the documents that I
want to search. For example I have documents A,B,C,X,Y,Z so before I
start the search I know that I only want to search docs C,X,Y due to
other non lucene criteria.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 14:44:25 2006
Return-Path: <java-user-return-18646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61282 invoked from network); 30 Jan 2006 14:44:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 14:44:25 -0000
Received: (qmail 20188 invoked by uid 500); 30 Jan 2006 14:44:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20068 invoked by uid 500); 30 Jan 2006 14:44:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19955 invoked by uid 99); 30 Jan 2006 14:44:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:44:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.75] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:44:06 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
Subject: RE: searching specific documents
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 30 Jan 2006 14:43:43 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE586146@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: searching specific documents
Thread-Index: AcYlp+RVS3aHbTHQRbWQs61U4yEj6wAA0hNw
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Use BitSets to intersect the two queries. First knock up a HitCollector
that generates a bit set for the document set you want to search
(A,B,C,X,Y,Z). Then do another query generating a bit set for the
criteria on (C,X,Y). Then just interest the two bits sets using the
"and" method.

Mike

www.ardentia.com the home of NetSearch
-----Original Message-----
From: Jebus [mailto:lordjebus@gmail.com]=20
Sent: 30 January 2006 14:17
To: java-user@lucene.apache.org
Subject: searching specific documents

How do you search only certain documents. In the app I am writing
before I start searching with Lucene I know all the documents that I
want to search. For example I have documents A,B,C,X,Y,Z so before I
start the search I know that I only want to search docs C,X,Y due to
other non lucene criteria.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 14:53:09 2006
Return-Path: <java-user-return-18647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65207 invoked from network); 30 Jan 2006 14:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 14:53:09 -0000
Received: (qmail 38813 invoked by uid 500); 30 Jan 2006 14:53:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38788 invoked by uid 500); 30 Jan 2006 14:53:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38777 invoked by uid 99); 30 Jan 2006 14:53:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:53:03 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.75] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:53:02 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
Subject: RE: Searching over more than one Fields
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 30 Jan 2006 14:52:38 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE586151@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching over more than one Fields
Thread-Index: AcYlAFrJIqsKvnMTQWKspC+spYV6VwAjp8eQAAc/e7A=
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There are a number of ways of doing this. One way I would suggest if =
simply to store the CONTENTS fields and prefix it with the field name. =
So instead of storing a single CONTENTS field for a document, store a =
CONTENTS field for each other field with the field name prefixing each =
field value. E.g.

If you have a document with 3 paragraphs instead of storing a single =
CONTENTS field with the append value of all three paragraphs store 3 =
contents fields the first with the value prefixed by "p1" the second by =
"p2" etc.

An alternative would be not to have a contents field and to write a =
query parser that decode a search for X to search for field1:X OR =
field2:X OR field3:X etc. then use explain to try and track down why it =
was a hit.

Mike

www.ardentia.com the home of NetSearch

-----Original Message-----
From: Gwyn Carwardine [mailto:gwyn@carwardine.net]=20
Sent: 30 January 2006 11:23
To: java-user@lucene.apache.org
Subject: RE: Searching over more than one Fields

I was happy to take the hit of storing the text twice.

I have created an aggregate field called "CONTENTS" that has all the =
other
fields concatenated together.
I also created a list of the other fields (because they can vary from =
doc to
doc) in another field "FIELDLIST"

I search this field and for any hits I get I retrieve the list of fields
from FIELDLIST and then go through retrieving each field in the list. =
For
each field I can then put it through the highlighter and if there are =
any
results I must have had a hit in that field so I display it.

What I wanted to achieve was to be able to search all fields in the =
document
(using the aggregate field) but when retrieving actually be able to find =
the
particular fields that had matches. Your requirements may be different!

-Gwyn

-----Original Message-----
From: Jairo S=E1nchez Men=E9ndez [mailto:jairochan82@yahoo.es]=20
Sent: 29 January 2006 18:18
To: java-user@lucene.apache.org
Subject: Searching over more than one Fields

Hi everybody,

Well I will explain you my problem:
I am indexing ".txt" files and basically I split each file in=20
paragraphs, I mean, i create a Document for each file and within this=20
Document I
add one Field named "px" for each paragraph (x) of the file.
My question is: after creating the index, now i want to do searches over =

the index, but what I want is searching a word over all paragraphs of=20
all files, i.e.
searching the word in all Fields of all Documents.
I am using something like this, but doing so i can only put p1 or p2 or=20
p3 ... in the Field parameter of the parse method, how can i search over =

all paragraphs??
Query query=3DQueryParser.parse(q, "   ", new WhitespaceAnalyzer());
Hits hits=3Dis.search(query);

Thanks.

	=09
______________________________________________=20
LLama Gratis a cualquier PC del Mundo.=20
Llamadas a fijos y m=F3viles desde 1 c=E9ntimo por minuto.=20
http://es.voice.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 14:58:59 2006
Return-Path: <java-user-return-18648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69755 invoked from network); 30 Jan 2006 14:58:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 14:58:57 -0000
Received: (qmail 54764 invoked by uid 500); 30 Jan 2006 14:58:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54372 invoked by uid 500); 30 Jan 2006 14:58:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54327 invoked by uid 99); 30 Jan 2006 14:58:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:58:30 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 143.127.12.110 is neither permitted nor denied by domain of Vikas_Khengare@symantec.com)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:58:28 -0800
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by gold.veritas.com with ESMTP; 30 Jan 2006 06:58:07 -0800
Received: from itpxchmb2.enterprise.veritas.com ([10.216.17.1]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 30 Jan 2006 06:23:08 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C625A8.AEBAB2E8"
Subject: Why do we use BitSet class ?
Date: Mon, 30 Jan 2006 19:53:04 +0530
Message-ID: <D17EC75396CC974E85E180CE6F7F045D034C4D15@itpxchmb2.enterprise.veritas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Why do we use BitSet class ?
Thread-Index: AcYlqTOzzbql42O8QqqXSqhMb/Ii0Q==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <lucene-dev@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>,
	<java-user@lucene.apache.org>,
	<java-dev@lucene.apache.org>,
	<general@lucene.apache.org>,
	<java-commits@lucene.apache.org>
X-OriginalArrivalTime: 30 Jan 2006 14:23:08.0030 (UTC) FILETIME=[B0F641E0:01C625A8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C625A8.AEBAB2E8
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Friends........
=20
    I am very New to Lucene World !!! As this world is interesting to me
So I want to go in deep level of it to realize the beauty of it.
So can you help me to realize that beauty ?
=20
    I have question=20
=20
1] Why do use BitSet Class ?
2] Is it required in Filtering / Sorting of results or to Index ?
3] What do you means by Inverted Index ?
4] Can we give limit to no. of hits returned by Searcher.
=20
Thanks.
=20
Best Regards
[ vikas_khengare@symantec.com ]

------_=_NextPart_001_01C625A8.AEBAB2E8--

From java-user-return-18649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 14:58:59 2006
Return-Path: <java-user-return-18649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69758 invoked from network); 30 Jan 2006 14:58:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 14:58:57 -0000
Received: (qmail 54957 invoked by uid 500); 30 Jan 2006 14:58:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54563 invoked by uid 500); 30 Jan 2006 14:58:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54353 invoked by uid 500); 30 Jan 2006 14:58:30 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 54269 invoked by uid 99); 30 Jan 2006 14:58:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:58:30 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 143.127.12.110 is neither permitted nor denied by domain of Vikas_Khengare@symantec.com)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 06:58:28 -0800
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by gold.veritas.com with ESMTP; 30 Jan 2006 06:58:07 -0800
Received: from itpxchmb2.enterprise.veritas.com ([10.216.17.1]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 30 Jan 2006 06:23:08 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C625A8.AEBAB2E8"
Subject: Why do we use BitSet class ?
Date: Mon, 30 Jan 2006 19:53:04 +0530
Message-ID: <D17EC75396CC974E85E180CE6F7F045D034C4D15@itpxchmb2.enterprise.veritas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Why do we use BitSet class ?
Thread-Index: AcYlqTOzzbql42O8QqqXSqhMb/Ii0Q==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <lucene-dev@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>,
	<java-user@lucene.apache.org>,
	<java-dev@lucene.apache.org>,
	<general@lucene.apache.org>,
	<java-commits@lucene.apache.org>
X-OriginalArrivalTime: 30 Jan 2006 14:23:08.0030 (UTC) FILETIME=[B0F641E0:01C625A8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C625A8.AEBAB2E8
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Friends........
=20
    I am very New to Lucene World !!! As this world is interesting to me
So I want to go in deep level of it to realize the beauty of it.
So can you help me to realize that beauty ?
=20
    I have question=20
=20
1] Why do use BitSet Class ?
2] Is it required in Filtering / Sorting of results or to Index ?
3] What do you means by Inverted Index ?
4] Can we give limit to no. of hits returned by Searcher.
=20
Thanks.
=20
Best Regards
[ vikas_khengare@symantec.com ]

------_=_NextPart_001_01C625A8.AEBAB2E8--

From java-user-return-18650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 15:06:24 2006
Return-Path: <java-user-return-18650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75823 invoked from network); 30 Jan 2006 15:06:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 15:06:24 -0000
Received: (qmail 84797 invoked by uid 500); 30 Jan 2006 15:06:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84751 invoked by uid 500); 30 Jan 2006 15:06:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84724 invoked by uid 99); 30 Jan 2006 15:06:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 07:06:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 07:06:02 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5878513E201A; Mon, 30 Jan 2006 10:05:41 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E92DB13E2005
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 10:05:38 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <D17EC75396CC974E85E180CE6F7F045D034C4D15@itpxchmb2.enterprise.veritas.com>
References: <D17EC75396CC974E85E180CE6F7F045D034C4D15@itpxchmb2.enterprise.veritas.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <52FBBFC9-6270-4A74-894B-1FD927C9CCF1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Why do we use BitSet class ?
Date: Mon, 30 Jan 2006 10:04:51 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Please do not cross-post your questions.  Your questions are best  
asked solely to java-user.

	Erik


On Jan 30, 2006, at 9:23 AM, Vikas Khengare wrote:

> Hi Friends........
>
>     I am very New to Lucene World !!! As this world is interesting  
> to me
> So I want to go in deep level of it to realize the beauty of it.
> So can you help me to realize that beauty ?
>
>     I have question
>
> 1] Why do use BitSet Class ?
> 2] Is it required in Filtering / Sorting of results or to Index ?
> 3] What do you means by Inverted Index ?
> 4] Can we give limit to no. of hits returned by Searcher.
>
> Thanks.
>
> Best Regards
> [ vikas_khengare@symantec.com ]


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 15:57:10 2006
Return-Path: <java-user-return-18651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4813 invoked from network); 30 Jan 2006 15:57:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 15:57:09 -0000
Received: (qmail 7227 invoked by uid 500); 30 Jan 2006 15:57:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7191 invoked by uid 500); 30 Jan 2006 15:57:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7180 invoked by uid 99); 30 Jan 2006 15:57:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 07:57:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.78.21.129] (HELO mis011-2.exch011.intermedia.net) (64.78.21.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 07:57:02 -0800
Received: from ehost011-3.exch011.intermedia.net ([64.78.21.96]) by mis011-2.exch011.intermedia.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 30 Jan 2006 07:56:42 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C625B5.C1E8673B"
Subject: RE: How to find "function()" - ?
Date: Mon, 30 Jan 2006 07:52:34 -0800
Message-ID: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC11@ehost011-3.exch011.intermedia.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC11@ehost011-3.exch011.intermedia.net>
Thread-Topic: How to find "function()" - ?
thread-index: AcYjjyoOiMKXLavHRGuaz7e4TWFBsACJgVPT
References: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC10@ehost011-3.exch011.intermedia.net> <43DA9B61.9090404@curtin.com>
From: "Dmitry Goldenberg" <dmitry.goldenberg@weblayers.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 30 Jan 2006 15:56:42.0226 (UTC) FILETIME=[C3489520:01C625B5]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C625B5.C1E8673B
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Michael,
=20
Yes, you're describing pretty much what I was thinking of but --
=20
a) if I index "function()" as "function()" rather than "function", does =
that mean that if I search for "function", then it won't be found? -- =
the problem is that in some cases, the user will want to find =
function(), and in some cases just function -- can I accommodate for =
both?
=20
b) I understand about QueryParser.escape at searching time; at indexing =
time though, do I still need to escape the indexed values, e.g. keyword =
values, and store them in the escaped fashion, e.g. function\() -- or is =
function() ok?
=20
Thanks,
- Dmitry

________________________________

From: Michael D. Curtin [mailto:mike@curtin.com]
Sent: Fri 1/27/2006 2:14 PM
To: java-user@lucene.apache.org
Subject: Re: How to find "function()" - ?



Dmitry Goldenberg wrote:

> Hi,
>=20
> I'm trying to figure out a way to locate tokens which include special =
characters.  The actual text in the file being indexed is something like =
"function() { statement1; statement2; }"
>=20
> The query I'm using is "function\()" since I want to locate precisely =
"function()" - the query succeeds but what it finds is actually =
"function", not "function()".  If I run the same query against "function =
{ statement1, statement2 } it still succeeds and I get "function" in =
best fragments.
>=20
> How can I enforce () to be included?

I think you're going to have to write your own Analyzer subclass that
keeps special characters in the terms.  Then, use that Analyzer during
indexing.  The included Analyzers drop parentheses and the like.

If you're using Lucene's QueryParser, then use your new Analyzer there,
too, and escape things like parentheses in the query text you submit to
parse().

I think there's a discussion of custom Analyzers in the Lucene book, but
I don't know where.  Maybe somebody else on this list knows???

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C625B5.C1E8673B
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C625B5.C1E8673B--

From java-user-return-18652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 16:59:49 2006
Return-Path: <java-user-return-18652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42863 invoked from network); 30 Jan 2006 16:59:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 16:59:49 -0000
Received: (qmail 38846 invoked by uid 500); 30 Jan 2006 16:59:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38784 invoked by uid 500); 30 Jan 2006 16:59:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38747 invoked by uid 99); 30 Jan 2006 16:59:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 08:59:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 30 Jan 2006 08:59:33 -0800
Received: (qmail 1024 invoked from network); 30 Jan 2006 16:00:35 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@69.214.178.152)
  by ws6-4.us4.outblaze.com with SMTP; 30 Jan 2006 16:00:34 -0000
Message-ID: <43DE3820.8040208@curtin.com>
Date: Mon, 30 Jan 2006 11:00:32 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How to find "function()" - ?
References: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC10@ehost011-3.exch011.intermedia.net> <43DA9B61.9090404@curtin.com> <FAB00A8DC59FAB42B13C2B3B0F687701E7CC11@ehost011-3.exch011.intermedia.net>
In-Reply-To: <FAB00A8DC59FAB42B13C2B3B0F687701E7CC11@ehost011-3.exch011.intermedia.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dmitry Goldenberg wrote:

> a) if I index "function()" as "function()" rather than "function", does that mean that if I search for "function", then it won't be found? -- the problem is that in some cases, the user will want to find function(), and in some cases just function -- can I accommodate for both?

The term "function" is different from the term "function()", so a 
literal search for one won't find the other.  Your Analyzer could emit 
two tokens for the input "function()":  "function" and "function()", at 
the same position (increment 0) if that's what you want.

> b) I understand about QueryParser.escape at searching time; at indexing time though, do I still need to escape the indexed values, e.g. keyword values, and store them in the escaped fashion, e.g. function\() -- or is function() ok?

Don't escape them at index time, only at search time.

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 17:15:43 2006
Return-Path: <java-user-return-18653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50750 invoked from network); 30 Jan 2006 17:15:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 17:15:42 -0000
Received: (qmail 75792 invoked by uid 500); 30 Jan 2006 17:15:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75770 invoked by uid 500); 30 Jan 2006 17:15:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75759 invoked by uid 99); 30 Jan 2006 17:15:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:15:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jdalton@globalspec.com designates 66.194.55.244 as permitted sender)
Received: from [66.194.55.244] (HELO mail2.globalspec.com) (66.194.55.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:15:34 -0800
Received: from gshqxc01.globalspec.net ([172.16.2.52]) by mail2.globalspec.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 30 Jan 2006 12:15:07 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Unable to optimize index: cannot delete deletable.new
Date: Mon, 30 Jan 2006 12:15:12 -0500
Message-ID: <EBA3EEF096B29542928098329E1D5FDE06C4D036@gshqxc01.globalspec.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Unable to optimize index: cannot delete deletable.new
Thread-Index: AcYkwl6oLG2VgPYSRGOOj8s/Wc+EfAA/Hvlw
From: "Dalton, Jeffery" <jdalton@globalspec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 30 Jan 2006 17:15:07.0847 (UTC) FILETIME=[B80D5D70:01C625C0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a periodic process that runs as a timer task that periodically
optimizes my search index.  However, I am having difficulties with this
process failing:
java.io.IOException: Cannot overwrite: C:\04950_04959\deleteable.new
	at
org.apache.lucene.store.FSDirectory.createOutput(FSDirectory.java:317)
	at
org.apache.lucene.index.IndexWriter.writeDeleteableFiles(IndexWriter.jav
a:789)
	at
org.apache.lucene.index.IndexWriter.deleteSegments(IndexWriter.java:741)
	at
org.apache.lucene.index.IndexWriter.access$2(IndexWriter.java:728)
	at
org.apache.lucene.index.IndexWriter$4.doBody(IndexWriter.java:699)
	at org.apache.lucene.store.Lock$With.run(Lock.java:109)
	at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:702)
	at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
	at
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:517)
	at
org.apache.lucene.index.IndexModifier.optimize(IndexModifier.java:328)

Why would there be difficulty deleting the deleatable.new file?  It just
seems a bit strange.  Why is this failing and what should I do to
recover?  It is as simple as simply trying again?  I have several
indices that haven't been optimized in three days, despite attempts to
optimize it ever few hours.

I am running on Win2003, web edition, under Java 1.4.2_08.

- Jeff

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 17:16:04 2006
Return-Path: <java-user-return-18654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50889 invoked from network); 30 Jan 2006 17:16:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 17:16:03 -0000
Received: (qmail 76936 invoked by uid 500); 30 Jan 2006 17:15:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76917 invoked by uid 500); 30 Jan 2006 17:15:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76903 invoked by uid 99); 30 Jan 2006 17:15:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:15:56 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.233] (HELO web60825.mail.yahoo.com) (209.73.178.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 30 Jan 2006 09:15:54 -0800
Received: (qmail 55358 invoked by uid 60001); 30 Jan 2006 17:15:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=sl/8VXVS06+Kj5n4kuVLrGZ8bJIRkWkYWOJS3rYV8BmAe/3Ut+C284C8Y2o2QCflgrPfYJfoQ3DEqYLApvc3Opcka46O4Xy+fGk64Zzsw5UMLLWW01D1jDrGIzRAQwhJ6Fzgkjjg91mGaowszomgzBnV7RoxkN8tMjq9WfLg1KY=  ;
Message-ID: <20060130171533.55356.qmail@web60825.mail.yahoo.com>
Received: from [212.179.71.70] by web60825.mail.yahoo.com via HTTP; Mon, 30 Jan 2006 09:15:33 PST
Date: Mon, 30 Jan 2006 09:15:33 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: Re: grouping results by fields
To: java-user@lucene.apache.org
In-Reply-To: <200601291049.35736.rancor@mindspring.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-876828663-1138641333=:54586"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-876828663-1138641333=:54586
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hey Jim,
  thanks alot for the quick reply! much appreciated
   
  i will look a little closer into what is done in C|Net , seems more cost efficient than what im currently doing ;)
   
  however i am not sure how scaleable the solution is
   
  if , for example, i recieved 20,000 results and i have 2000 different colors (a possible scenario in my case)
  

Jim Powers <rancor@mindspring.com> wrote:
  We're doing something very similar. Recently C|Net started using Lucene and 
there is a blog entry about how they implemented a "category" scheme that 
basically does what you want.

http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Category-Listings-t266441.html#a748420

The idea is to generate a bunch of bitsets where the ordinal bit number is 
based on the document number in the index.

First result set: perform your search. Then generate a bitset called FRSBS 
(full result set bitset).

Next: foreach "word" you want to count generate a bitset (you do this by 
traversing the index directly for each word). Call these bitsets WBS(n) 
(word bit set n. n spans 1..m where m is the total number of words you want 
to count against)

Finally: to get a count per word bit-wise AND each WBS(n) with FRSBS and count 
up the 1s

Jim Powers

On Sunday 29 January 2006 07:55, zzzzz shalev wrote:
> hey,
>
> i have a bit of a complex problem,
> i need to group results recieved in a result set,
> for example:
>
> my result set returns 10,000 results
>
> there are about 10 fields in each result document
>
> i need to group the most frequent values appearing in each field.
>
> if 1 of my fields is named color: then i want the 20 most frequent colors
> in the 10,000 results,,,
>
> blue - occurs 1302 times
> red - occurs 200 times
>
> and so on....
>
> any ideas will be unbelievably appreciated,
>
> thanx
>
>
> ---------------------------------
>
> What are the most popular cars? Find out at Yahoo! Autos

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

  


		
---------------------------------
Do you Yahoo!?
 With a free 1 GB, there's more in store with Yahoo! Mail.
--0-876828663-1138641333=:54586--

From java-user-return-18655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 17:25:19 2006
Return-Path: <java-user-return-18655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55713 invoked from network); 30 Jan 2006 17:25:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 17:25:19 -0000
Received: (qmail 93990 invoked by uid 500); 30 Jan 2006 17:25:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93962 invoked by uid 500); 30 Jan 2006 17:25:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93951 invoked by uid 99); 30 Jan 2006 17:25:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:25:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.75] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:25:12 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
Subject: RE: grouping results by fields
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 30 Jan 2006 17:24:49 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE5B0E2C@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: grouping results by fields
Thread-Index: AcYlwNnyBrn4NVIRTc+mzGy6bEuWRgAALkLQ
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A simple solution if you only have 20,000 docs is just to iterate
through the hits and count them up against each color etc, this could be
in a HitCollector. The balance here is performance vs memory usage, if
you have a lot of users I would go for a solution that was less
efficient but used a lot less memory.

Mike

www.ardentia.com the home of NetSearch

-----Original Message-----
From: zzzzz shalev [mailto:zzzzz_shalev@yahoo.com]=20
Sent: 30 January 2006 17:16
To: java-user@lucene.apache.org
Subject: Re: grouping results by fields

hey Jim,
  thanks alot for the quick reply! much appreciated
  =20
  i will look a little closer into what is done in C|Net , seems more
cost efficient than what im currently doing ;)
  =20
  however i am not sure how scaleable the solution is
  =20
  if , for example, i recieved 20,000 results and i have 2000 different
colors (a possible scenario in my case)
 =20

Jim Powers <rancor@mindspring.com> wrote:
  We're doing something very similar. Recently C|Net started using
Lucene and=20
there is a blog entry about how they implemented a "category" scheme
that=20
basically does what you want.

http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-C
ategory-Listings-t266441.html#a748420

The idea is to generate a bunch of bitsets where the ordinal bit number
is=20
based on the document number in the index.

First result set: perform your search. Then generate a bitset called
FRSBS=20
(full result set bitset).

Next: foreach "word" you want to count generate a bitset (you do this by

traversing the index directly for each word). Call these bitsets WBS(n)=20
(word bit set n. n spans 1..m where m is the total number of words you
want=20
to count against)

Finally: to get a count per word bit-wise AND each WBS(n) with FRSBS and
count=20
up the 1s

Jim Powers

On Sunday 29 January 2006 07:55, zzzzz shalev wrote:
> hey,
>
> i have a bit of a complex problem,
> i need to group results recieved in a result set,
> for example:
>
> my result set returns 10,000 results
>
> there are about 10 fields in each result document
>
> i need to group the most frequent values appearing in each field.
>
> if 1 of my fields is named color: then i want the 20 most frequent
colors
> in the 10,000 results,,,
>
> blue - occurs 1302 times
> red - occurs 200 times
>
> and so on....
>
> any ideas will be unbelievably appreciated,
>
> thanx
>
>
> ---------------------------------
>
> What are the most popular cars? Find out at Yahoo! Autos

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

 =20


	=09
---------------------------------
Do you Yahoo!?
 With a free 1 GB, there's more in store with Yahoo! Mail.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 17:31:10 2006
Return-Path: <java-user-return-18656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59345 invoked from network); 30 Jan 2006 17:31:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 17:31:10 -0000
Received: (qmail 13599 invoked by uid 500); 30 Jan 2006 17:31:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13579 invoked by uid 500); 30 Jan 2006 17:31:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13567 invoked by uid 99); 30 Jan 2006 17:31:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:31:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:31:02 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 914FF5B7B9; Mon, 30 Jan 2006 09:30:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 86DF37F403
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 09:30:32 -0800 (PST)
Date: Mon, 30 Jan 2006 09:30:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Why do we use BitSet class ?
In-Reply-To: <D17EC75396CC974E85E180CE6F7F045D034C4D15@itpxchmb2.enterprise.veritas.com>
Message-ID: <Pine.LNX.4.58.0601300922390.3329@hal.rescomp.berkeley.edu>
References: <D17EC75396CC974E85E180CE6F7F045D034C4D15@itpxchmb2.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: 1] Why do use BitSet Class ?
: 2] Is it required in Filtering / Sorting of results or to Index ?

BitSet is a usefull class for lots of things.  the only time (that i know
of) where it is part of the public lucene API is in the interaction
between a Filter and the IndexSearcher ... so unless you are writting your
own Filters, no it's not required that you use a BitSet.

: 3] What do you means by Inverted Index ?

That's a pretty broad question... start with googling for the expression
and see if the info you find helps you understand the concept.

: 4] Can we give limit to no. of hits returned by Searcher.

Searchers score documents in doc id order ... so you don't really want a
way to limit the searcher.  what you want is a way to only get the first N
results once hte searcher has scored them all and ordered them by score.
doesn't that is just a matter of stopping at N when you iterate over a
Hits object.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 17:45:49 2006
Return-Path: <java-user-return-18657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65753 invoked from network); 30 Jan 2006 17:45:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 17:45:47 -0000
Received: (qmail 40729 invoked by uid 500); 30 Jan 2006 17:45:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40675 invoked by uid 500); 30 Jan 2006 17:45:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40643 invoked by uid 99); 30 Jan 2006 17:45:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 09:45:32 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.34] (HELO web26012.mail.ukl.yahoo.com) (217.146.177.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 30 Jan 2006 09:45:32 -0800
Received: (qmail 81609 invoked by uid 60001); 30 Jan 2006 17:45:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=56wrGAOQsj6CSuNCqzDuhkLNVJ37R8wWw2vIB+lxCYh6y1znPJRQ4feuXWXIuV6wV0aia9xRYlMOCNv3+Uk+DELmOA6zmXpPVtle883TNIEUeT9ZhXY9yjodCW+VXxBUv/+l0DKTy0BfnXhp5zm5CpNsTjYjThWEBG8Oc50AeS4=  ;
Message-ID: <20060130174510.81607.qmail@web26012.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26012.mail.ukl.yahoo.com via HTTP; Mon, 30 Jan 2006 17:45:10 GMT
Date: Mon, 30 Jan 2006 17:45:10 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: grouping results by fields
To: java-user@lucene.apache.org
In-Reply-To: <0B1C92228C5C8D45AA7450F78B3FB9DE5B0E2C@staf-exm-01.ardentia.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> A simple solution if you only have 20,000 docs is
> just to iterate
> through the hits and count them up against each
> color etc,

The one thing to avoid is reader.document() calls in
such a tight loop. This is always a killer.

The best way I've found is to create one bitset for
all the matching docs then use TermEnum on the "group"
field(s) to find all the docids - then check each
docId against the "matches" bitset to accumulate
scores for each unique "group" field value:

        TermEnum te = reader.terms(new
Term(groupFieldName, ""));
        Term term = te.term();
        while (term!=null)
        {            
            if (term.field().equals(groupFieldName))
            {
                TermDocs termDocs =
reader.termDocs(term);
                GroupTotal groupTotal = null;

                boolean continueThisTerm = true;
                while ((continueThisTerm) &&
(termDocs.next()))
                {
                    int docID = termDocs.doc();
                    if (queryMmatchedDocs.get(docId))
                    {
                        if (groupTotal == null)
                        {
                            //look up the group key
and initialize
                            String termText =
term.text();
                            Object key = termText;
                            groupTotal = (GroupTotal)
totals.get(key);
                            if (groupTotal == null)
                            {
                                //no totals exist yet,
create new one.
                                groupTotal = new
GroupTotal((key);
                                totals.put(key,
groupTotal);
                            }
                        }
                       
groupTotal.addQueryMatchDoc(docID);
                    }
                }
            } else
            {
                break;
            }
           if(te.next())
           {
               term=te.term();
           }
           else
           {
               break;
           }
        }

Cheers
Mark



		
___________________________________________________________ 
Win a BlackBerry device from O2 with Yahoo!. Enter now. http://www.yahoo.co.uk/blackberry

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 18:01:11 2006
Return-Path: <java-user-return-18658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73576 invoked from network); 30 Jan 2006 18:01:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 18:01:10 -0000
Received: (qmail 80712 invoked by uid 500); 30 Jan 2006 18:00:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80692 invoked by uid 500); 30 Jan 2006 18:00:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80681 invoked by uid 99); 30 Jan 2006 18:00:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 10:00:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 10:00:44 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CA54B5B783; Mon, 30 Jan 2006 10:00:23 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id BE1487F403
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 10:00:23 -0800 (PST)
Date: Mon, 30 Jan 2006 10:00:23 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: grouping results by fields
In-Reply-To: <20060130174510.81607.qmail@web26012.mail.ukl.yahoo.com>
Message-ID: <Pine.LNX.4.58.0601300952340.3329@hal.rescomp.berkeley.edu>
References: <20060130174510.81607.qmail@web26012.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


An approach like mark is describing sould should be a lot more space
efficient then the BitSet intersection approach i described before, but
depending on how many groupings you want, i can immagine that it might be
slower some cases.

Unfortunately, it also only works if the grouping you wnat are tied
directly to field values (in my case, i need to support ranges, prefix
queries, and and boolean queries for each grouping item)

Along a similar line of thinking: if the fields you want to group by are
non-tokenized (ie: only one value per doc) then you can iterate of the set
bits from your orriginal search and looking the value for each matching
doc using the FieldCache.  not sure if that would be more space/time
efficient then looping over the TermEnum/TermDocs ... i guess it depends
on the average size of your results, the average size of your index, and
the average number of terms in the fields you want to group by.



: Date: Mon, 30 Jan 2006 17:45:10 +0000 (GMT)
: From: mark harwood <markharw00d@yahoo.co.uk>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: RE: grouping results by fields
:
: > A simple solution if you only have 20,000 docs is
: > just to iterate
: > through the hits and count them up against each
: > color etc,
:
: The one thing to avoid is reader.document() calls in
: such a tight loop. This is always a killer.
:
: The best way I've found is to create one bitset for
: all the matching docs then use TermEnum on the "group"
: field(s) to find all the docids - then check each
: docId against the "matches" bitset to accumulate
: scores for each unique "group" field value:
:
:         TermEnum te = reader.terms(new
: Term(groupFieldName, ""));
:         Term term = te.term();
:         while (term!=null)
:         {
:             if (term.field().equals(groupFieldName))
:             {
:                 TermDocs termDocs =
: reader.termDocs(term);
:                 GroupTotal groupTotal = null;
:
:                 boolean continueThisTerm = true;
:                 while ((continueThisTerm) &&
: (termDocs.next()))
:                 {
:                     int docID = termDocs.doc();
:                     if (queryMmatchedDocs.get(docId))
:                     {
:                         if (groupTotal == null)
:                         {
:                             //look up the group key
: and initialize
:                             String termText =
: term.text();
:                             Object key = termText;
:                             groupTotal = (GroupTotal)
: totals.get(key);
:                             if (groupTotal == null)
:                             {
:                                 //no totals exist yet,
: create new one.
:                                 groupTotal = new
: GroupTotal((key);
:                                 totals.put(key,
: groupTotal);
:                             }
:                         }
:
: groupTotal.addQueryMatchDoc(docID);
:                     }
:                 }
:             } else
:             {
:                 break;
:             }
:            if(te.next())
:            {
:                term=te.term();
:            }
:            else
:            {
:                break;
:            }
:         }
:
: Cheers
: Mark
:
:
:
:
: ___________________________________________________________
: Win a BlackBerry device from O2 with Yahoo!. Enter now. http://www.yahoo.co.uk/blackberry
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 18:16:02 2006
Return-Path: <java-user-return-18659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87060 invoked from network); 30 Jan 2006 18:16:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 18:16:02 -0000
Received: (qmail 1831 invoked by uid 500); 30 Jan 2006 18:15:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1806 invoked by uid 500); 30 Jan 2006 18:15:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1795 invoked by uid 99); 30 Jan 2006 18:15:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 10:15:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 10:15:55 -0800
Received: by zproxy.gmail.com with SMTP id s18so1103760nze
        for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 10:15:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=AuuvCfPacioGvF5Vu5lfDbcPy+XP9dGSImHifekYe+kRREZAYTU4bOwTzpZmI3eJqI2wOs9zj0FzHD1DE2VCSQYqAFYXUEvBlFtXgkBUHI+ZHklI1KwW2hlqDLX1cDhL2DhSzzKk70tcr0Bn6GraVFpTu+ejGQk2rjEMbj4rPu8=
Received: by 10.65.54.2 with SMTP id g2mr1626889qbk;
        Mon, 30 Jan 2006 10:15:33 -0800 (PST)
Received: by 10.65.248.3 with HTTP; Mon, 30 Jan 2006 10:15:33 -0800 (PST)
Message-ID: <abe188f20601301015r6b257352u97f88724f5e92fdd@mail.gmail.com>
Date: Mon, 30 Jan 2006 12:15:33 -0600
From: Rajesh Munavalli <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy
In-Reply-To: <3AF76382C31760418AF0FBFD84F714030A4476CA@MI8NYCMAIL07.Mi8.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5170_15877845.1138644933061"
References: <3AF76382C31760418AF0FBFD84F714030A4476CA@MI8NYCMAIL07.Mi8.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5170_15877845.1138644933061
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

For now, the best I could come up with is the following scheme

SAMPLE DOCUMENTS:
------------------------------------
Lets say there are four documents:

Doc1: st louis, missouri, usa
Doc2: st louis du ha ha, quebec, canada
Doc3: new york, NY, united states of america
Doc4: ny, usa

INDEX PHASE:
-----------------------
Index the documents as follows:
* Lucene index will have two fields
    - Primary: To hold the primary information
    - Secondary: To hold the secondary information

Doc: PRIMARY:<primary_info> SECONDARY:<secondary_info>

Doc1:    PRIMARY:    0 st louis
    SECONDARY:    0 missouri
            0 ms
            1 usa
            1 united states of america

Doc 2:    PRIMARY:    0 st louis du ha ha
    SECONDARY    0 quebec
            0 qb
            1 canada
            1 ca

Doc 3:    PRIMARY    0 new york
            0 nyc
    SECONDARY    0 ny
            0 new york
            1 united states of america
            1 usa

Doc 4:    PRIMARY    0 ny
    SECONDARY    0 usa
            0 united states of america


QUERY PHASE:
-------------------------
At the query time split the query of "n" words as follows

q1 q2 q3.....qn

(primary:"q1"^1 AND secondary:"q2 q3 ....qn"^SLOPE 1) OR (primary:"q1 q2"^2
AND secondary:"q3 q4....qn"^SLOPE 1) .........(primary:"q1 q2...qn-1"^n-1
secondary:"qn") OR (primary:"q1 q2...qn"^n)


SAMPLE QUERY:
---------------------------
Query1:
 "st louis du ha ha qb ca" (NOTE: not separated by any delimiters ",")

Expanded query:
------------------------
(primary:"st"^1 AND secondary:"louis du ha ha qb ca"^SLOPE 1) OR
(primary:"st louis"^2 AND secondary:"du ha ha qb ca"^SLOPE 1) OR
(primary:"st louis du"^3 AND secondary:"ha ha qb ca"^SLOPE 1) OR
(primary:"st louis du ha"^4 AND secondary:"ha qb ca"^SLOPE 1) OR
(primary:"st louis du ha ha"^5 AND secondary:"qb ca"^SLOPE 1) OR
(primary:"st louis du ha ha qb"^6 AND secondary:"ca") OR
(primary:"st louis du ha ha qb ca")

Result: This would retrieve Doc 2 only
NOTE:
----------
Eventhough the query matches "st louis" in Doc 1" the secondary information
does not match. Hence it wont be retrieved.


Query 2:
"ny united states of america"

Expanded query:
------------------------
(primary:"ny"^1 AND secondary:"united states of america"^SLOPE 1) OR
(primary:"ny united"^2 AND secondary:"states of america"^SLOPE 1) OR
(primary:ny "united states"^3 AND secondary:"of america"^SLOPE 1) OR
(primary:"ny united states of"^4 AND secondary:"america"^SLOPE 1) OR
(primary:"ny united states of america"^5)

Result: This would rertrieve Doc 4 only.

I hope this helps....:)

Good luck,

Rajesh Munavalli

On 1/27/06, Colin Young <Colin.Young@tembizi.com> wrote:
>
> 1) Yes. One location per document.
>
> 2) Using the SimpleAnalyzer (for now). I have city, state and country as
> separate fields, so I could tokenize each as a single token if that
> would work better. I think that avoids the need for a delimiter at index
> time.
>
> 3) I am not making any assumptions now at query time, but the goal is
> that we should support commas and spaces (i.e. "London, Ontario, Canada"
> or "London Ontario Canada" are equivalent). My unit tests are supplying
> the query assuming it's been tokenized already (i.e. I'm sending in
> String[] for the query terms).
>
> 4) We don't want to return Albany unless the user has Albany in the
> query.
>
> Thanks again for looking at this.
>
> Colin
>

------=_Part_5170_15877845.1138644933061--

From java-user-return-18660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 20:21:22 2006
Return-Path: <java-user-return-18660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55421 invoked from network); 30 Jan 2006 20:21:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 20:21:19 -0000
Received: (qmail 95417 invoked by uid 500); 30 Jan 2006 20:21:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95391 invoked by uid 500); 30 Jan 2006 20:21:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95377 invoked by uid 99); 30 Jan 2006 20:21:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 12:21:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.72] (HELO smtpout.mac.com) (17.250.248.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 12:21:04 -0800
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/8.12.11/smtpout15/MantshX 4.0) with ESMTP id k0UKKiMI028570
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 12:20:44 -0800 (PST)
Received: from [10.0.1.52] (adsl-84-226-128-60.adslplus.ch [84.226.128.60])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 4.0) with ESMTP id k0UKKeWf020253
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 12:20:43 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v623)
Content-Transfer-Encoding: 7bit
Message-Id: <8b257a9039955fe9e4dfe49e4336cdf1@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: java-user@lucene.apache.org
From: petite_abeille <petite_abeille@mac.com>
Subject: [OT] Unidecode?
Date: Mon, 30 Jan 2006 21:20:38 +0100
X-Mailer: Apple Mail (2.623)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Does anyone know of a Java port of Sean M. Burke's Unidecode?

http://interglacial.com/~sburke/tpj/as_html/tpj22.html
http://search.cpan.org/~sburke/Text-Unidecode-0.04/lib/Text/Unidecode.pm

TIA.

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 21:46:30 2006
Return-Path: <java-user-return-18661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 801 invoked from network); 30 Jan 2006 21:46:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 21:46:30 -0000
Received: (qmail 47709 invoked by uid 500); 30 Jan 2006 21:46:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47687 invoked by uid 500); 30 Jan 2006 21:46:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47675 invoked by uid 99); 30 Jan 2006 21:46:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 13:46:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 13:46:23 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: Number Searches vs Character
Date: Mon, 30 Jan 2006 13:51:15 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13105022717@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Number Searches vs Character
Thread-Index: AcYllXpENRIpGjQvTo6yDq9XO7x7KgAN8euA
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I am curious what would be the difference between searching for a number
verses a character.

I have a large index consisting of a few fields (So index would look
something like:  " 123123123 my description my catalog"
=09
Searching for 12* is much slower than searching for de*
I don't have any issues searching for 3 or more characters.. just 1 or 2
and the wildcard.
	Stored this way: doc.add(Field.Text("allindex", all,true));
	Using 1.4.3

Any reason why that would be and how I can help speed that up?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 21:59:08 2006
Return-Path: <java-user-return-18662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6468 invoked from network); 30 Jan 2006 21:59:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 21:59:07 -0000
Received: (qmail 73575 invoked by uid 500); 30 Jan 2006 21:59:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73546 invoked by uid 500); 30 Jan 2006 21:59:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73535 invoked by uid 99); 30 Jan 2006 21:59:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 13:59:01 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.229] (HELO web60821.mail.yahoo.com) (209.73.178.229)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 30 Jan 2006 13:59:00 -0800
Received: (qmail 66452 invoked by uid 60001); 30 Jan 2006 21:58:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=oMBwdIkSLANXAOYeiZPa7C1dlbqoKk+rHxYTXmYvdJAg/shFKSdFeBZXRjzFkK4WnCnGROeEW3SVuJr5Q7bKLcWVSh3+C8flND8Sh3THCrg2tecJ9blJ+TmELWOxM/wRT5/J9/cdKfGEvAcLV2aPlt9PlFEkGqW7H7Q5EMBVqr8=  ;
Message-ID: <20060130215839.66450.qmail@web60821.mail.yahoo.com>
Received: from [212.199.22.84] by web60821.mail.yahoo.com via HTTP; Mon, 30 Jan 2006 13:58:39 PST
Date: Mon, 30 Jan 2006 13:58:39 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: RE: grouping results by fields
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0601300952340.3329@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1074917660-1138658319=:64032"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1074917660-1138658319=:64032
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

thanks for the advice guys!
   
  currently , i am iterating through about 200-300 of the top docs and creating the groups (so, as of now, the groups are partial) , my response time HAS to be at most 500-600 milli (query + groupings) or my company will probably go with a commercial search engine such as FAST or something of the sort
   
  the data i must prove lucene can handle is up to 25 million 2-4Kb docs, i dont think it is feasable to creat groups on a result set consisting of a few thousand results in a 1/2 second, or am i wrong?
   
  i will try both solutions , and hope for the best
   
  in any case much much thanks!
  

Chris Hostetter <hossman_lucene@fucit.org> wrote:
  
An approach like mark is describing sould should be a lot more space
efficient then the BitSet intersection approach i described before, but
depending on how many groupings you want, i can immagine that it might be
slower some cases.

Unfortunately, it also only works if the grouping you wnat are tied
directly to field values (in my case, i need to support ranges, prefix
queries, and and boolean queries for each grouping item)

Along a similar line of thinking: if the fields you want to group by are
non-tokenized (ie: only one value per doc) then you can iterate of the set
bits from your orriginal search and looking the value for each matching
doc using the FieldCache. not sure if that would be more space/time
efficient then looping over the TermEnum/TermDocs ... i guess it depends
on the average size of your results, the average size of your index, and
the average number of terms in the fields you want to group by.



: Date: Mon, 30 Jan 2006 17:45:10 +0000 (GMT)
: From: mark harwood 
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: RE: grouping results by fields
:
: > A simple solution if you only have 20,000 docs is
: > just to iterate
: > through the hits and count them up against each
: > color etc,
:
: The one thing to avoid is reader.document() calls in
: such a tight loop. This is always a killer.
:
: The best way I've found is to create one bitset for
: all the matching docs then use TermEnum on the "group"
: field(s) to find all the docids - then check each
: docId against the "matches" bitset to accumulate
: scores for each unique "group" field value:
:
: TermEnum te = reader.terms(new
: Term(groupFieldName, ""));
: Term term = te.term();
: while (term!=null)
: {
: if (term.field().equals(groupFieldName))
: {
: TermDocs termDocs =
: reader.termDocs(term);
: GroupTotal groupTotal = null;
:
: boolean continueThisTerm = true;
: while ((continueThisTerm) &&
: (termDocs.next()))
: {
: int docID = termDocs.doc();
: if (queryMmatchedDocs.get(docId))
: {
: if (groupTotal == null)
: {
: //look up the group key
: and initialize
: String termText =
: term.text();
: Object key = termText;
: groupTotal = (GroupTotal)
: totals.get(key);
: if (groupTotal == null)
: {
: //no totals exist yet,
: create new one.
: groupTotal = new
: GroupTotal((key);
: totals.put(key,
: groupTotal);
: }
: }
:
: groupTotal.addQueryMatchDoc(docID);
: }
: }
: } else
: {
: break;
: }
: if(te.next())
: {
: term=te.term();
: }
: else
: {
: break;
: }
: }
:
: Cheers
: Mark
:
:
:
:
: ___________________________________________________________
: Win a BlackBerry device from O2 with Yahoo!. Enter now. http://www.yahoo.co.uk/blackberry
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

  


		
---------------------------------
Bring words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
--0-1074917660-1138658319=:64032--

From java-user-return-18663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 22:13:00 2006
Return-Path: <java-user-return-18663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14345 invoked from network); 30 Jan 2006 22:13:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 22:13:00 -0000
Received: (qmail 1033 invoked by uid 500); 30 Jan 2006 22:12:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1011 invoked by uid 500); 30 Jan 2006 22:12:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1000 invoked by uid 99); 30 Jan 2006 22:12:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 14:12:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 14:12:52 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 04BD75B783; Mon, 30 Jan 2006 14:12:24 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id EBE6A7F403
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 14:12:24 -0800 (PST)
Date: Mon, 30 Jan 2006 14:12:24 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: grouping results by fields
In-Reply-To: <20060130215839.66450.qmail@web60821.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0601301406030.17059@hal.rescomp.berkeley.edu>
References: <20060130215839.66450.qmail@web60821.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

:   currently , i am iterating through about 200-300 of the top docs and
: creating the groups (so, as of now, the groups are partial) , my
: response time HAS to be at most 500-600 milli (query + groupings) or my
: company will probably go with a commercial search engine such as FAST or
: something of the sort

if when you say you are "iterating through about 200-300" docs, you mean
you are using either the Hits.doc method, or the IndexReader.document
method on those 200-300 docs, then I am 99.9999% confident any of the
approaches described so far will be faster then what you are doing now.

:   the data i must prove lucene can handle is up to 25 million 2-4Kb
: docs, i dont think it is feasable to creat groups on a result set
: consisting of a few thousand results in a 1/2 second, or am i wrong?

With 25 million docs, caching BitSets for every group may not be feasible
(depending on how many grouping you have) but using either the TermEnum
iterating or FieldCache enumerating described recently it should be
possible.

if you expect the number of results from each search (a few thousand) to
be a small fraction of the total number of docs (25 million) then my money
is on the FieldCache approach because you'll only be iterating over the
matching docs (instead of over every doc and then testing to see if it's
in your results)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 22:24:27 2006
Return-Path: <java-user-return-18664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22489 invoked from network); 30 Jan 2006 22:24:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 22:24:27 -0000
Received: (qmail 25212 invoked by uid 500); 30 Jan 2006 22:24:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25192 invoked by uid 500); 30 Jan 2006 22:24:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25148 invoked by uid 99); 30 Jan 2006 22:24:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 14:24:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 14:24:19 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5B0EF5B7C6; Mon, 30 Jan 2006 14:23:57 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 550F47F403
	for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 14:23:57 -0800 (PST)
Date: Mon, 30 Jan 2006 14:23:57 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Number Searches vs Character
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13105022717@MAIL01.wescodist.com>
Message-ID: <Pine.LNX.4.58.0601301418560.17059@hal.rescomp.berkeley.edu>
References: <14FBF41EF1411B45B2EC4ADEAC53D13105022717@MAIL01.wescodist.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


PrefixQuery is implimented as a BooleanQuery using term expansion.  what
that means is that a prefix query on a common prefix is much more
expensive then a prefix query on a less common prefix.  not just in terms
of hte number of documents that match, but because of the number of terms
that match the prefix.

assuming "pq" is your PrefixQuery object, take a look at the output of
calling pq.rewrite(yourReader).toString() and compare the difference
between your 12* and your de* queries ... i'm guessing you'll find that
the 12* approach is a lot bigger.

if you poke arround you'll find mention of a ConstanctScoreRangeQuery ...
using the ideas from that, you can impliment a much faster version of
PrefixQuery that doesn't score documents based on term frequency ... which
may be ok depending on your needs.


: Date: Mon, 30 Jan 2006 13:51:15 -0500
: From: "Aigner, Thomas" <TAigner@WescoDist.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Number Searches vs Character
:
:
: I am curious what would be the difference between searching for a number
: verses a character.
:
: I have a large index consisting of a few fields (So index would look
: something like:  " 123123123 my description my catalog"
:
: Searching for 12* is much slower than searching for de*
: I don't have any issues searching for 3 or more characters.. just 1 or 2
: and the wildcard.
: 	Stored this way: doc.add(Field.Text("allindex", all,true));
: 	Using 1.4.3
:
: Any reason why that would be and how I can help speed that up?
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 23:19:08 2006
Return-Path: <java-user-return-18665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46092 invoked from network); 30 Jan 2006 23:19:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 23:19:07 -0000
Received: (qmail 11835 invoked by uid 500); 30 Jan 2006 23:19:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11810 invoked by uid 500); 30 Jan 2006 23:19:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11799 invoked by uid 99); 30 Jan 2006 23:19:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 15:19:02 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.233] (HELO web60825.mail.yahoo.com) (209.73.178.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 30 Jan 2006 15:19:02 -0800
Received: (qmail 87642 invoked by uid 60001); 30 Jan 2006 23:18:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Vro/oHXCW1yU63ZOsPo4ABuNHFgckQqmos2hPu339Fqc36R3pHG+JbwVrcEGd2ACL682LiEwNu0JoKi53+tfNTYLXGjEQXF/5SncfV2fcBHeSKCZh6JwzJ3mqKW/4fvUzQSnIkJCNlhgt85UImzu4wrMRIpMYMRlBoZbXb+roes=  ;
Message-ID: <20060130231840.87640.qmail@web60825.mail.yahoo.com>
Received: from [212.199.22.104] by web60825.mail.yahoo.com via HTTP; Mon, 30 Jan 2006 15:18:40 PST
Date: Mon, 30 Jan 2006 15:18:40 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: RE: grouping results by fields
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0601301406030.17059@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-448313563-1138663120=:81274"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-448313563-1138663120=:81274
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hey chris,
  i was using the hits.doc method while iterating,,,
  you've given me some hope!!!!!! i will look into the FieldCache
  

Chris Hostetter <hossman_lucene@fucit.org> wrote:
  : currently , i am iterating through about 200-300 of the top docs and
: creating the groups (so, as of now, the groups are partial) , my
: response time HAS to be at most 500-600 milli (query + groupings) or my
: company will probably go with a commercial search engine such as FAST or
: something of the sort

if when you say you are "iterating through about 200-300" docs, you mean
you are using either the Hits.doc method, or the IndexReader.document
method on those 200-300 docs, then I am 99.9999% confident any of the
approaches described so far will be faster then what you are doing now.

: the data i must prove lucene can handle is up to 25 million 2-4Kb
: docs, i dont think it is feasable to creat groups on a result set
: consisting of a few thousand results in a 1/2 second, or am i wrong?

With 25 million docs, caching BitSets for every group may not be feasible
(depending on how many grouping you have) but using either the TermEnum
iterating or FieldCache enumerating described recently it should be
possible.

if you expect the number of results from each search (a few thousand) to
be a small fraction of the total number of docs (25 million) then my money
is on the FieldCache approach because you'll only be iterating over the
matching docs (instead of over every doc and then testing to see if it's
in your results)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

  


		
---------------------------------
Do you Yahoo!?
 With a free 1 GB, there's more in store with Yahoo! Mail.
--0-448313563-1138663120=:81274--

From java-user-return-18666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Jan 30 23:38:00 2006
Return-Path: <java-user-return-18666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51890 invoked from network); 30 Jan 2006 23:37:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Jan 2006 23:37:59 -0000
Received: (qmail 31828 invoked by uid 500); 30 Jan 2006 23:37:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31801 invoked by uid 500); 30 Jan 2006 23:37:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31790 invoked by uid 99); 30 Jan 2006 23:37:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 15:37:54 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.206 as permitted sender)
Received: from [66.249.92.206] (HELO uproxy.gmail.com) (66.249.92.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 15:37:53 -0800
Received: by uproxy.gmail.com with SMTP id m3so75016uge
        for <java-user@lucene.apache.org>; Mon, 30 Jan 2006 15:37:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NayWBor2Lh5uf11BWuEhfhQczWjo6IImsbtlnLSG5m7F8f9nxldMXH0yjj0oIV0XbDCgdVMhmLns4gAYq0AngAU433dDEhrCcTHNUZ1YZG9yqU08w00Moa7HEvvv1TqEd5v/1Nw5+cQg7veiFFRYPLzgk15wvFWQhdI5C+Yd/AQ=
Received: by 10.67.21.16 with SMTP id y16mr1889065ugi;
        Mon, 30 Jan 2006 15:37:31 -0800 (PST)
Received: by 10.66.216.20 with HTTP; Mon, 30 Jan 2006 15:37:31 -0800 (PST)
Message-ID: <50f433360601301537y1cf07773rc63c262bb97faf29@mail.gmail.com>
Date: Mon, 30 Jan 2006 15:37:31 -0800
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy
In-Reply-To: <3AF76382C31760418AF0FBFD84F714030A4475EC@MI8NYCMAIL07.Mi8.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21043_4048748.1138664251627"
References: <3AF76382C31760418AF0FBFD84F714030A4475EC@MI8NYCMAIL07.Mi8.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_21043_4048748.1138664251627
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Have you considered evaluating doc-score thresholds for limiting your
results?  Since the perfect answers to these situations lie in the constant
tweaking and twiddling of analysis and tokenization, one way I've found to
help is to evaluate result scores.  In your "Ontario CA" example, limiting
results to two vs. three vs. four is not necessarily so important as gettin=
g
the first results accurate.

Without seeing your test code, I'm guessing that a search for "Ontario CA"
returns [3] and [4] ahead of any other results.  You could try looking at
the score for each returned hit, and based on some threshold (80-20 rule,
maybe) display what's returned.

Just a thought.

-- j

On 1/27/06, Colin Young <Colin.Young@tembizi.com> wrote:
>
> The reason I only want 2 hits is because [2] is more "specific" in my
> domain -- I could also have Toronto, Ontario; Kingston, Ontario etc.
> which would take the hits up to 5 now.
>
> What I'm really after is finding a way to index and search that would
> make [2] an invalid retrieval.
>
> My latest attempt is like this (field name: value):
>
> Type: city
> Name: london ontario canada
> Name: london on canada
> Name: london ontario ca
> Name: london on ca
> Primary-name: london
>
> So the new list of documents is something like this (<type>: <name
> entries> {<primary-name>}):
>
> [1] city: London, United Kingdom {london}
> [2] city: London, Ontario, Canada {london}
> [3] city: Ontario, California, United States {ontario}
> [4] state: Ontario, Canada  {ontario}
> [5] city: Vancouver, Washington, United States {vancouver}
> [6] city: Vancouver, British Columbia, Canada {vancouver}
> [7] city: Washington, DC, United States {washington}
> [8] state: Washington, United States {washington}
>
> I realize that I'm adding a lot of duplicate info -- I haven't got to
> the refactoring stage yet, so I'm trying to keep my unit test setup very
> explicit. The final analysis process will be pulling the geographic
> entities from a database so I'll have all the synonyms, types (city,
> state, country), etc. at that point and can write custom routines for
> documents of each type (city, state, country).
>
> The idea here is to filter the results so that only documents where the
> primary-name appears in the user's query string come back. i.e. if the
> user typed "Ontario, CA", so only [3, 4] are valid results now since [2]
> has a primary-name of "london" which does not appear in the user's
> query, while [3, 4] both have a primary-name of "ontario". Now I'm just
> having some trouble creating a filter (I've managed so far to filter out
> _everything_). I can't quite sort out how to do a (displaying my SQL
> background here) "where <term> in <query string>". I'm including my
> current search code at the end of this response.
>
> Unfortunately I can't just assume the first term in the user's query is
> the primary-name since it could be more than one word (e.g. for "St.
> Louis du Ha Ha Quebec", "St. Louis du Ha Ha" is the primary-name).
>
> Thanks
>
> Colin
>
> // sample call:
> // Hits hits =3D GeographySearch.Search(searcher, "any", new String[]
> {"Ontario", "CA"});
>
> public static Hits Search(Searcher searcher, String typeToFind, String[]
> queryString)
>         throws IOException, ParseException
> {
>         TermQuery entityType =3D new TermQuery(new Term("class",
> typeToFind));
>         BooleanQuery filterQuery =3D new BooleanQuery();
>                 PhraseQuery query =3D new PhraseQuery();
>         query.setSlop(1);
>
>         for (int i =3D 0; i < queryString.length; i++)
>         {
>                 query.add(new Term("name",
> queryString[i].toLowerCase()));
>                 filterQuery.add(
>                         new TermQuery(new Term("primary-name",
> queryString[i])),
>                         BooleanClause.Occur.SHOULD);
>         }
>
>         BooleanQuery geographyQuery =3D new BooleanQuery();
>         if (typeToFind !=3D "any") geographyQuery.add(entityType,
> BooleanClause.Occur.MUST);
>         geographyQuery.add(query, BooleanClause.Occur.MUST);
>
>         QueryFilter filter =3D new QueryFilter(filterQuery);
>
>         Hits hits =3D searcher.search(geographyQuery, filter);
>         return hits;
> }
>
> -----Original Message-----
> From: Rajesh Munavalli [mailto:rajvm19@gmail.com]
> Sent: 27 January, 2006 14:28
> To: java-user@lucene.apache.org
> Subject: Re: Help with indexing and query strategy
>
> Hi Colin,
>          Even assuming you came up with a good way of indexing, the
> example query "Ontario, CA" should yield 3 hits. All 2, 3 and 4 are
> valid retrievals. Could you please justify which 2 hits you want and
> why?
>
> Thanks,
>
> Rajesh Munavalli
>
> Colin Young wrote:
> > I'm having some trouble coming up with a good search strategy for
> geographical data. e.g., given:
> >
> > [1] city: London, United Kingdom
> > [2] city: London, Ontario, Canada
> > [3] city: Ontario, California, United States [4] state: Ontario,
> > Canada [5] city: Vancouver, Washington, United States [6] city:
> > Vancouver, British Columbia, Canada [7] city: Washington, DC, United
> > States [8] state: Washington, United States
> >
> > and also given the following synonyms:
> >
> > Ontario =3D ON
> > California =3D CA
> > Washington =3D WA
> > Canada =3D CA
> > United States =3D US =3D America =3D United States of America United Ki=
ngdom
>
> > =3D UK =3D Great Britain =3D England
> >
> > for the following queries, I want the listed number of hits '()' from
> matching '[]':
> >
> > i. Ontario (2) [3, 4]
> > ii. London (2) [1, 2]
> > iii. Ontario, Canada (1) [4]
> > iv. Ontario, California (1) [3]
> > v. Ontario, CA (2) [3, 4]
> > vi. Ontario, US (1) [3]
> > vii. Vancouver (2) [5, 6]
> > viii. Washington (2) [7, 8]
> > ix. Washington, DC (1) [7]
> > x. Vancouver, CA (1) [6]
> > xi. Vancouver, WA (1) [5]
> >
> > How do I index and store the input (assume that I know the mechanics
> so I'm not looking for specific java syntax or how to generate synonyms
> during analysis) so that I get the desired results. My current attempt
> indexes strings like "London Ontario Canada", "London ON Canada",
> "London Ontario CA", "London ON CA" -- i.e. every combination of entity
> name and corresponding code -- in a content field and creates a type
> field containing "city" (or "state" or "country" as appropriate to
> identify the type of entity being indexed) and uses a phrase query with
> a slop of 1 which works really well except e.g. "Ontario CA" for which
> I'd like 2 hits, but given the above data gives 3 hits (from 2, 3 and 4,
> and the problem will only get worse as I add more cities in Ontario
> since each results in a hit). The slop of 1 is required since not all
> countries customarily use states, and I need to support the user
> optionally dropping the state as in the above example of "Ontario, CA"
> where we don't know if the user intended the "CA" to represent the state
> of California or the country of Canada, while "London, UK" would be
> unambiguous.
> >
> > The major problem as I see it is that at parse time I don't know if
> the user is searching for a city, state or country, and I don't want to
> force them to specify that.
> >
> > Does anyone have any good ideas to help me solve this problem?
> >
> > Thanks.
> >
> > Colin Young
> >
> >
> > Notice: This email message is for the sole use of the intended
> recipient(s) and may contain confidential and privileged information.
> Any unauthorized review, use, disclosure or distribution is prohibited.
> If you are not the intended recipient, please contact the sender by
> reply email and destroy all copies of the original message.
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> Notice: This email message is for the sole use of the intended
> recipient(s) and may contain confidential and privileged information. Any
> unauthorized review, use, disclosure or distribution is prohibited. If yo=
u
> are not the intended recipient, please contact the sender by reply email =
and
> destroy all copies of the original message.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_21043_4048748.1138664251627--

From java-user-return-18667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 03:30:45 2006
Return-Path: <java-user-return-18667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45344 invoked from network); 31 Jan 2006 03:30:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 03:30:44 -0000
Received: (qmail 91017 invoked by uid 500); 31 Jan 2006 03:30:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90999 invoked by uid 500); 31 Jan 2006 03:30:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90988 invoked by uid 99); 31 Jan 2006 03:30:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 19:30:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.47] (HELO mail.Mi8.com) (63.240.6.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 19:30:37 -0800
Received: from 172.16.1.26 by mail.Mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D1)); Mon, 30 Jan 2006 22:30:13 -0500
X-Server-Uuid: 241911D6-425B-44B9-A073-E3FE0F8FC774
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.163]) by
 D01HOST01.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Mon, 30 Jan
 2006 22:30:13 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Help with indexing and query strategy
Date: Mon, 30 Jan 2006 22:30:14 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F714030A71769D@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with indexing and query strategy
Thread-Index: AcYlyfsO2fW8co7FRhKVEQ2zqZ6IZQASQlSg
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 31 Jan 2006 03:30:13.0160 (UTC)
 FILETIME=[A5553A80:01C62616]
X-WSS-ID: 6FC0064F32K1133841-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Actually, I arrived at a very similar solution for indexing as you did,
but I've been away from a connection, so I haven't been able to post it
here.

Essentially I'm adding the items as you suggest, but I've built a
synonym injector (actually I'm just using the one from "Lucene in
Action") to produce the synonyms, but as a result, I'm not tokenizing
(i.e. when I pass in "New York" it doesn't get broken into 2 tokens) --
essentially everything is stored in my database tokenized, so there
isn't any need to do it when indexing, and it allows me to create
synonyms for two-word items (e.g. "New York" also adds "NY").

I'll have to take a closer look at your suggestion for searching,
although I do have a working search. The only part that isn't working
yet is doing partial matches (e.g. "London NH" should be able to match
"Londonderry NH"). I've been playing with wildcard and prefix searches,
and neither seem to be working for me. I don't know if it's because I've
interfered with the tokenizing process, of if there's something else I'm
missing, but I'm pretty sure it's not the tokenizing since I'm seeing
the problem with single-word entries.

Thanks for your assistance. It's been very helpful in getting me this
=66ar.

Colin

-----Original Message-----
=46rom: Rajesh Munavalli [mailto:findmath@gmail.com]=20
Sent: 30 January, 2006 13:16
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy

=46or now, the best I could come up with is the following scheme

SAMPLE DOCUMENTS:
------------------------------------
Lets say there are four documents:

Doc1: st louis, missouri, usa
Doc2: st louis du ha ha, quebec, canada
Doc3: new york, NY, united states of america
Doc4: ny, usa

INDEX PHASE:
-----------------------
Index the documents as follows:
* Lucene index will have two fields
    - Primary: To hold the primary information
    - Secondary: To hold the secondary information

Doc: PRIMARY:<primary_info> SECONDARY:<secondary_info>

Doc1:    PRIMARY:    0 st louis
    SECONDARY:    0 missouri
            0 ms
            1 usa
            1 united states of america

Doc 2:    PRIMARY:    0 st louis du ha ha
    SECONDARY    0 quebec
            0 qb
            1 canada
            1 ca

Doc 3:    PRIMARY    0 new york
            0 nyc
    SECONDARY    0 ny
            0 new york
            1 united states of america
            1 usa

Doc 4:    PRIMARY    0 ny
    SECONDARY    0 usa
            0 united states of america


QUERY PHASE:
-------------------------
At the query time split the query of "n" words as follows

q1 q2 q3.....qn

(primary:"q1"^1 AND secondary:"q2 q3 ....qn"^SLOPE 1) OR (primary:"q1
q2"^2 AND secondary:"q3 q4....qn"^SLOPE 1) .........(primary:"q1
q2...qn-1"^n-1
secondary:"qn") OR (primary:"q1 q2...qn"^n)


SAMPLE QUERY:
---------------------------
Query1:
 "st louis du ha ha qb ca" (NOTE: not separated by any delimiters ",")

Expanded query:
------------------------
(primary:"st"^1 AND secondary:"louis du ha ha qb ca"^SLOPE 1) OR
(primary:"st louis"^2 AND secondary:"du ha ha qb ca"^SLOPE 1) OR
(primary:"st louis du"^3 AND secondary:"ha ha qb ca"^SLOPE 1) OR
(primary:"st louis du ha"^4 AND secondary:"ha qb ca"^SLOPE 1) OR
(primary:"st louis du ha ha"^5 AND secondary:"qb ca"^SLOPE 1) OR
(primary:"st louis du ha ha qb"^6 AND secondary:"ca") OR (primary:"st
louis du ha ha qb ca")

Result: This would retrieve Doc 2 only
NOTE:
----------
Eventhough the query matches "st louis" in Doc 1" the secondary
information does not match. Hence it wont be retrieved.


Query 2:
"ny united states of america"

Expanded query:
------------------------
(primary:"ny"^1 AND secondary:"united states of america"^SLOPE 1) OR
(primary:"ny united"^2 AND secondary:"states of america"^SLOPE 1) OR
(primary:ny "united states"^3 AND secondary:"of america"^SLOPE 1) OR
(primary:"ny united states of"^4 AND secondary:"america"^SLOPE 1) OR
(primary:"ny united states of america"^5)

Result: This would rertrieve Doc 4 only.

I hope this helps....:)

Good luck,

Rajesh Munavalli

On 1/27/06, Colin Young <Colin.Young@tembizi.com> wrote:
>
> 1) Yes. One location per document.
>
> 2) Using the SimpleAnalyzer (for now). I have city, state and country=20
> as separate fields, so I could tokenize each as a single token if that

> would work better. I think that avoids the need for a delimiter at=20
> index time.
>
> 3) I am not making any assumptions now at query time, but the goal is=20
> that we should support commas and spaces (i.e. "London, Ontario,
Canada"
> or "London Ontario Canada" are equivalent). My unit tests are=20
> supplying the query assuming it's been tokenized already (i.e. I'm=20
> sending in String[] for the query terms).
>
> 4) We don't want to return Albany unless the user has Albany in the=20
> query.
>
> Thanks again for looking at this.
>
> Colin
>

Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 03:51:48 2006
Return-Path: <java-user-return-18668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50391 invoked from network); 31 Jan 2006 03:51:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 03:51:48 -0000
Received: (qmail 15882 invoked by uid 500); 31 Jan 2006 03:51:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15857 invoked by uid 500); 31 Jan 2006 03:51:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15846 invoked by uid 99); 31 Jan 2006 03:51:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 19:51:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.6.44] (HELO mail.mi8.com) (63.240.6.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 19:51:42 -0800
Received: from 172.16.1.26 by mail.mi8.com with ESMTP (- Welcome to Mi8
 Corporation www.Mi8.com (D4)); Mon, 30 Jan 2006 22:51:13 -0500
X-Server-Uuid: C8FB4D43-1108-484A-A898-3CBCC7906230
Received: from MI8NYCMAIL07.Mi8.com ([172.16.1.163]) by
 D01HOST01.Mi8.com with Microsoft SMTPSVC(6.0.3790.1830); Mon, 30 Jan
 2006 22:51:12 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Help with indexing and query strategy
Date: Mon, 30 Jan 2006 22:51:14 -0500
Message-ID: <3AF76382C31760418AF0FBFD84F714030A7176A3@MI8NYCMAIL07.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help with indexing and query strategy
Thread-Index: AcYl9jco78km9uqzRd+olX1GagK5nwAIvtZw
From: "Colin Young" <Colin.Young@tembizi.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 31 Jan 2006 03:51:12.0957 (UTC)
 FILETIME=[943AFED0:01C62619]
X-WSS-ID: 6FC0013B20C1162244-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have thought about that. I couldn't figure out a way to make it work.
=46ortunately, I have managed to solve the problem (excepting prefix or
wildcard searches) which is very close to what Rajesh suggested (also
see my response to his response).

Thanks for taking a look.

Colin=20

-----Original Message-----
=46rom: Jeff Rodenburg [mailto:jeff.rodenburg@gmail.com]=20
Sent: 30 January, 2006 18:38
To: java-user@lucene.apache.org
Subject: Re: Help with indexing and query strategy

Have you considered evaluating doc-score thresholds for limiting your
results=3F  Since the perfect answers to these situations lie in the
constant tweaking and twiddling of analysis and tokenization, one way
I've found to help is to evaluate result scores.  In your "Ontario CA"
example, limiting results to two vs. three vs. four is not necessarily
so important as getting the first results accurate.

Without seeing your test code, I'm guessing that a search for "Ontario
CA"
returns [3] and [4] ahead of any other results.  You could try looking
at the score for each returned hit, and based on some threshold (80-20
rule,
maybe) display what's returned.

Just a thought.

-- j

Notice: This email message is for the sole use of the intended recipient(s)=
 =
and may contain confidential and privileged information. Any unauthorized =
review, use, disclosure or distribution is prohibited. If you are not the =
intended recipient, please contact the sender by reply email and destroy al=
l=
 copies of the original message.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 05:54:24 2006
Return-Path: <java-user-return-18669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92825 invoked from network); 31 Jan 2006 05:54:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 05:54:24 -0000
Received: (qmail 14742 invoked by uid 500); 31 Jan 2006 05:54:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14359 invoked by uid 500); 31 Jan 2006 05:54:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14347 invoked by uid 99); 31 Jan 2006 05:54:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Jan 2006 21:54:18 -0800
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_HAS_ULINE_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.179.226] (HELO web36112.mail.mud.yahoo.com) (66.163.179.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 30 Jan 2006 21:54:17 -0800
Received: (qmail 5800 invoked by uid 60001); 31 Jan 2006 05:53:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=6J3ytoH/AMRC2ZmxUloDEwtVemQpcnXxTTJ2WMkBSXHkTH7qnxnqjpaQf3cSwhVdKhYdqbrLPluGAlpVYf6TxYSDgTqMGDuV38s2PryD67PbAQ31PDZE8EWs5gV0c9b/M+wyJAky3nhvLnP7ch075iNETX6YFhiBjhFQ6S022mA=  ;
Message-ID: <20060131055356.5798.qmail@web36112.mail.mud.yahoo.com>
Received: from [203.197.47.185] by web36112.mail.mud.yahoo.com via HTTP; Mon, 30 Jan 2006 21:53:56 PST
Date: Mon, 30 Jan 2006 21:53:56 -0800 (PST)
From: revati joshi <revati_joshi83@yahoo.com>
Subject: Reindexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-602163774-1138686836=:2324"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-602163774-1138686836=:2324
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello Lucene members.
                                       i tried to do reindexing using Lifecycle interface of Hibernate
  ,but i'm stuck up with the implementation part of this interface.
  I wrote the code for it but i'm now stuck up with the concept of Hibernate.
  It uses methods lkie Onsave(),OnUpdate()... but where and when do i call this methods.Rather then calling these methods,when exactly these methods r invoked or where i'll hve to call the class implementing this methods?.
  How exactly reindexing will take place.?
  Plz suggest any solution to this problem.
  Thnkx for forwarding the Hibernate link.
  Thnkx for ur cooperation.
  Thanking you,
                                            with regards,
                                            Revati.

		
---------------------------------
Bring words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
--0-602163774-1138686836=:2324--

From java-user-return-18670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 08:58:07 2006
Return-Path: <java-user-return-18670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64776 invoked from network); 31 Jan 2006 08:58:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 08:58:07 -0000
Received: (qmail 81395 invoked by uid 500); 31 Jan 2006 08:57:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81289 invoked by uid 500); 31 Jan 2006 08:57:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81278 invoked by uid 99); 31 Jan 2006 08:57:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 00:57:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.187.175.75] (HELO staf-exm-01.ardentia.co.uk) (81.187.175.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 00:57:58 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
Subject: RE: grouping results by fields
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 31 Jan 2006 08:57:35 -0000
Message-ID: <0B1C92228C5C8D45AA7450F78B3FB9DE5B0E63@staf-exm-01.ardentia.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: grouping results by fields
Thread-Index: AcYl6lOfCjkwXvXkSy6GrCNacqmwxAAWcamw
From: "Mike Streeton" <mike.streeton@ardentia.co.uk>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

When using the TermEnum method won't the terms be analyzed i.e. split in
to single words and lowercase, will this be a problem if your grouping
name is 2+ words mixed case etc?

Mike



www.ardentia.com the home of NetSearch
-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: 30 January 2006 22:12
To: java-user@lucene.apache.org
Subject: RE: grouping results by fields

:   currently , i am iterating through about 200-300 of the top docs and
: creating the groups (so, as of now, the groups are partial) , my
: response time HAS to be at most 500-600 milli (query + groupings) or
my
: company will probably go with a commercial search engine such as FAST
or
: something of the sort

if when you say you are "iterating through about 200-300" docs, you mean
you are using either the Hits.doc method, or the IndexReader.document
method on those 200-300 docs, then I am 99.9999% confident any of the
approaches described so far will be faster then what you are doing now.

:   the data i must prove lucene can handle is up to 25 million 2-4Kb
: docs, i dont think it is feasable to creat groups on a result set
: consisting of a few thousand results in a 1/2 second, or am i wrong?

With 25 million docs, caching BitSets for every group may not be
feasible
(depending on how many grouping you have) but using either the TermEnum
iterating or FieldCache enumerating described recently it should be
possible.

if you expect the number of results from each search (a few thousand) to
be a small fraction of the total number of docs (25 million) then my
money
is on the FieldCache approach because you'll only be iterating over the
matching docs (instead of over every doc and then testing to see if it's
in your results)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 09:09:55 2006
Return-Path: <java-user-return-18671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70108 invoked from network); 31 Jan 2006 09:09:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 09:09:55 -0000
Received: (qmail 97289 invoked by uid 500); 31 Jan 2006 09:09:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97258 invoked by uid 500); 31 Jan 2006 09:09:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97242 invoked by uid 99); 31 Jan 2006 09:09:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 01:09:49 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [61.6.32.54] (HELO smtp4.jaring.my) (61.6.32.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 01:09:48 -0800
Received: from webmail2.jaring.my (l4-bkj-p2.jaring.my [61.6.32.8])
	by smtp4.jaring.my (8.13.4/8.13.1) with ESMTP id k0V99Hkp056914
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 17:09:22 +0800 (MYT)
	(envelope-from azlan95@myjaring.net)
Received: (from www@localhost)
	by webmail2.jaring.my (8.12.9p2/8.12.9/Submit) id k0V99CnW005300
	for java-user@lucene.apache.org; Tue, 31 Jan 2006 17:09:12 +0800 (MYT)
	(envelope-from azlan95@myjaring.net)
Received: from cgl-r3-b98.time.net.my (cgl-r3-b98.time.net.my [211.24.4.98]) 
	by webmail.jaring.my (IMP) with HTTP 
	for <my38184@mbox.jaring.my>; Tue, 31 Jan 2006 17:09:11 +0800
Message-ID: <1138698551.43df293803094@webmail.jaring.my>
Date: Tue, 31 Jan 2006 17:09:12 +0800
From: Azlan Abdul Latiff <azlan95@myjaring.net>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: indexing whole harddrive
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: JARING Webmail v1.2 (http://www.jaring.my)
X-Originating-IP: 211.24.4.98
X-Virus-Scanned: JARING E-Mail Virus Scanner v2.0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

how can I index the whole hard drive?  I tried using "c:/" but it didnt
work.

The results only return c:/ directory where as a I want it to index all
the sub folders as well as the the other directories.

Azlan


----------------------------------------------------------------
This e-mail has been sent via JARING webmail at http://www.jaring.my

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 09:26:30 2006
Return-Path: <java-user-return-18672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76982 invoked from network); 31 Jan 2006 09:26:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 09:26:30 -0000
Received: (qmail 14893 invoked by uid 500); 31 Jan 2006 09:26:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14867 invoked by uid 500); 31 Jan 2006 09:26:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14856 invoked by uid 99); 31 Jan 2006 09:26:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 01:26:23 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.213] (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 31 Jan 2006 01:26:21 -0800
Received: (qmail 5296 invoked by uid 60001); 31 Jan 2006 09:25:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=hFBtf3hY7TJtzWhgGocg6Fz3or9nAqthP5IBzEWWjaH8ujmnsut81VX4F/kms8qsnp1BkKt6t9S6uDVXx9OeR1YEFVvH8WOeVZRRSqOvc86Hxy1hVOiFak8r2GV0pt4JnpF7ZUSd+rwyqaN87KMPISt2Appa7CK36B7TBzyB6bs=  ;
Message-ID: <20060131092559.5294.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Tue, 31 Jan 2006 09:25:59 GMT
Date: Tue, 31 Jan 2006 09:25:59 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: grouping results by fields
To: java-user@lucene.apache.org
In-Reply-To: <0B1C92228C5C8D45AA7450F78B3FB9DE5B0E63@staf-exm-01.ardentia.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> When using the TermEnum method won't the terms be
> analyzed 

Typically this doesn't matter because "group fields"
tend to be things other than free-text eg
* Articles totalled by Year/Month 
* Products totalled by category code 
* Emails totalled by sender

If a group field's values aren't a standardized set of
values it wouldn't make sense to group on them eg
using a free-text field for colour would likely
produce group totals for "gray" and "grey". If the
colour field was a standardized list of codes,
typically entered by users from drop-down lists the
group totals would be  more sensible. Dates, email
accounts and category codes are all examples of
sensible group fields because there is no potential
for synonyms in the values (unlike the gray/grey
free-text issue).

In the simplified code I posted earlier I had removed
references to a useful "GroupKeyFactory" interface.
This allows a pluggable choice of implementation to
adjust TermEnum field values for grouping purposes eg
to take a yyyyMMdd date and turn it into a yyyyMM
group key if you want totals by year/month instead of
year/month/day

Cheers
Mark



	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 11:54:27 2006
Return-Path: <java-user-return-18673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42853 invoked from network); 31 Jan 2006 11:54:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 11:54:27 -0000
Received: (qmail 99803 invoked by uid 500); 31 Jan 2006 11:54:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99776 invoked by uid 500); 31 Jan 2006 11:54:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99764 invoked by uid 99); 31 Jan 2006 11:54:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 03:54:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.227.76.129] (HELO www.intland.com) (212.227.76.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 03:54:19 -0800
Received: (qmail 25244 invoked from network); 31 Jan 2006 12:53:56 +0100
Received: from p54a0d867.dip.t-dialin.net (HELO lat) (84.160.216.103)
  by p15187949.pureserver.info with (RC4-MD5 encrypted) SMTP; 31 Jan 2006 12:53:56 +0100
From: "Zsolt" <zkoppanylist@intland.com>
To: <java-user@lucene.apache.org>
Subject: RE: Chinese support
Date: Tue, 31 Jan 2006 12:53:54 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcYkthdJApDE14HZSnq6x3bh6+xoXQBpr5jQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <fb9748c90601290126jab80570i9bca8166755badf@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060131115420.EAAFD10FB003@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Actually I get the same result with CJKAnalyzer like with StandardAnalyzer.

Zsolt

>-----Original Message-----
>From: Ray Tsang [mailto:saturnism@gmail.com]
>Sent: Sunday, January 29, 2006 10:26 AM
>To: java-user@lucene.apache.org
>Subject: Re: Chinese support
>
>Zsolt,
>
>It's in the lucene trunk under the contrib/ directory, you can check
>it out from the repository, take a look at
>http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/analyzers/src/jav
>a/org/apache/lucene/analysis/
>
>ray,
>
>On 1/29/06, Zsolt <zkoppanylist@intland.com> wrote:
>> And where can I find it?
>>
>> Zsolt
>>
>> >-----Original Message-----
>> >From: Ray Tsang [mailto:saturnism@gmail.com]
>> >Sent: Sunday, January 29, 2006 2:14 AM
>> >To: java-user@lucene.apache.org
>> >Subject: Re: Chinese support
>> >
>> >Hi Zsolt,
>> >
>> >you can try to use a Chinese analyzer.
>> >
>> >ray,
>> >
>> >On 1/28/06, Zsolt <zkoppanylist@intland.com> wrote:
>> >> Hi,
>> >>
>> >> We use lucene without any problems even for German text bit with
>Chinese
>> >> text nothing is found. What is the best way to index and search
>Chinese
>> >> text?
>> >>
>> >> Zsolt
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 12:13:28 2006
Return-Path: <java-user-return-18674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50821 invoked from network); 31 Jan 2006 12:13:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 12:13:28 -0000
Received: (qmail 17888 invoked by uid 500); 31 Jan 2006 12:13:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17861 invoked by uid 500); 31 Jan 2006 12:13:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17850 invoked by uid 99); 31 Jan 2006 12:13:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 04:13:22 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 04:13:21 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id k0VCD0t01841
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 04:13:00 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id EAA10558
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 04:13:00 -0800 (PST)
Subject: Sorting
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OF1A9F743E.7536815B-ON88257107.00421847-85257107.00431A44@sybase.com>
From: Daniel.Clark@sybase.com
Date: Tue, 31 Jan 2006 07:12:57 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 01/31/2006
 04:13:00 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


My primary sort is by date and my secondary sort is by relevance score.
The Hits.getScore() method returns the score by 7 digits to the right of
the decimal point.  Therefore, If I round to only 2 decimal points in the
display, the underlying 7 point score will be different in the sort.

Example:   score = .7876546   Display score = 79%        The two scores
should be equal in sort.
            score = .7907536  Display score = 79%

How do I convert the score in the Hits.getScore() method to sort to the
rounded 2 decimal point float like the score displayed?

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 12:28:34 2006
Return-Path: <java-user-return-18675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58165 invoked from network); 31 Jan 2006 12:28:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 12:28:27 -0000
Received: (qmail 40340 invoked by uid 500); 31 Jan 2006 12:28:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40315 invoked by uid 500); 31 Jan 2006 12:28:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40303 invoked by uid 99); 31 Jan 2006 12:28:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 04:28:19 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.138.151.43] (HELO inergen.sybase.com) (192.138.151.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 04:28:18 -0800
Received: from smtp1.sybase.com (sybgate [10.22.97.84])
	by inergen.sybase.com  with ESMTP id k0VCRvt05112
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 04:27:57 -0800 (PST)
Received: from gwwest.sybase.com (localhost [127.0.0.1])
	by smtp1.sybase.com  with ESMTP id EAA13685
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 04:27:57 -0800 (PST)
In-Reply-To: <OF1A9F743E.7536815B-ON88257107.00421847-85257107.00431A44@sybase.com>
Subject: Re: Sorting
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5 September 26, 2003
Message-ID: <OFC647B74F.F8A64219-ON88257107.00445BF9-85257107.0044789F@sybase.com>
From: Daniel.Clark@sybase.com
Date: Tue, 31 Jan 2006 07:27:54 -0500
X-MIMETrack: Serialize by Router on gwwest/SYBASE(Release 6.5.4|March 27, 2005) at 01/31/2006
 04:27:57 AM
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Actually, the relevance is the primary sort, and the date is the secondary
sort.  Still the same sort problem.  Any help will be greatly appreciated.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


                                                                           
             Daniel.Clark@syba                                             
             se.com                                                        
                                                                        To 
             01/31/2006 07:12          java-user@lucene.apache.org         
             AM                                                         cc 
                                                                           
                                                                   Subject 
             Please respond to         Sorting                             
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           





My primary sort is by date and my secondary sort is by relevance score.
The Hits.getScore() method returns the score by 7 digits to the right of
the decimal point.  Therefore, If I round to only 2 decimal points in the
display, the underlying 7 point score will be different in the sort.

Example:   score = .7876546   Display score = 79%        The two scores
should be equal in sort.
            score = .7907536  Display score = 79%

How do I convert the score in the Hits.getScore() method to sort to the
rounded 2 decimal point float like the score displayed?

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Daniel Clark, Senior Consultant
Sybase Federal Professional Services
6550 Rock Spring Drive, Suite 800
Bethesda, MD  20817
Office - (301) 896-1103
Office Fax - (301) 896-1604
Mobile - (703) 403-0340
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 12:50:32 2006
Return-Path: <java-user-return-18676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68100 invoked from network); 31 Jan 2006 12:50:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 12:50:31 -0000
Received: (qmail 73808 invoked by uid 500); 31 Jan 2006 12:50:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72829 invoked by uid 500); 31 Jan 2006 12:50:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72817 invoked by uid 99); 31 Jan 2006 12:50:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 04:50:26 -0800
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.46.255.17] (HELO viefep16-int.chello.at) (213.46.255.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 04:50:25 -0800
Received: from genuine ([80.108.128.16]) by viefep16-int.chello.at
          (InterMail vM.6.01.04.04 201-2131-118-104-20050224) with ESMTP
          id <20060131125002.RWUW2804.viefep16-int.chello.at@genuine>
          for <java-user@lucene.apache.org>;
          Tue, 31 Jan 2006 13:50:02 +0100
Received: from [213.164.23.137] (helo=[10.15.10.15])
	by genuine with esmtpa (Exim 4.50)
	id 1F3uwG-0002zZ-V6
	for java-user@lucene.apache.org; Tue, 31 Jan 2006 13:48:54 +0100
Message-ID: <43DF5CEA.3090604@fischer.name>
Date: Tue, 31 Jan 2006 13:49:46 +0100
From: Markus Fischer <markus@fischer.name>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6) Gecko/20050317 Thunderbird/1.0.2 Mnenhy/0.7.2.0
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Stemming german words
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0
X-Spam-Level: /
X-Spam-Report: Spam detection software, running on the system "genuine", has
	identified this incoming email as possible spam.  The original message
	has been attached to this so you can view it (if it isn't spam) or label
	similar future email.  If you have any questions, see
	the administrator of that system for details.
	Content preview:  Hi, I'm currently using the GermanStemmer and it works
	well. However today I've found two words which get stemmed to the same
	stemm-word. "Suche" and "Sucht" both get stemmed to the same "such" it
	seems, however they've completely different meanings in german (Suche =
	the Search, Sucht => addicttion). [...] 
	Content analysis details:   (0.0 points, 5.0 required)
	pts rule name              description
	---- ---------------------- --------------------------------------------------
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm currently using the GermanStemmer and it works well. However today 
I've found two words which get stemmed to the same stemm-word.

"Suche" and "Sucht" both get stemmed to the same "such" it seems, 
however they've completely different meanings in german (Suche = the 
Search, Sucht => addicttion).

Is there a way to tune the stemmer or are there alternatives available 
or should I look for another stemmer for the german language?

thanks for any pointers,
- Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 13:44:33 2006
Return-Path: <java-user-return-18677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98908 invoked from network); 31 Jan 2006 13:44:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 13:44:32 -0000
Received: (qmail 60170 invoked by uid 500); 31 Jan 2006 13:44:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60139 invoked by uid 500); 31 Jan 2006 13:44:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60128 invoked by uid 99); 31 Jan 2006 13:44:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 05:44:17 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.192.192.42] (HELO ren.xcom.de) (62.192.192.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 05:44:16 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by ren.xcom.de (Postfix) with ESMTP id 0E1AA79C06E
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 14:42:32 +0100 (CET)
Received: from ren.xcom.de ([127.0.0.1])
 by localhost (ren.xcom.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 23820-04 for <java-user@lucene.apache.org>;
 Tue, 31 Jan 2006 14:42:30 +0100 (CET)
Received: from jmail1.xcom.de (jmail1.xcom.de [62.192.192.139])
	by ren.xcom.de (Postfix) with ESMTP id A6CA879C042
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 14:42:30 +0100 (CET)
Received: (from mail@localhost)
	by jmail1.xcom.de (8.12.10/8.12.10) id k0VDhpP1011356
	for java-user@lucene.apache.org; Tue, 31 Jan 2006 14:43:51 +0100
Received: from xgate1.xcom.de (virus [62.192.192.130])
 	by jmail1.xcom.de (8.12.10/8.12.10) with ESMTP id k0VDhpsG011352
 	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 14:43:51 +0100
In-Reply-To: <43DF5CEA.3090604@fischer.name>
Subject: Re: Stemming german words
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF7C91781C.71EA7852-ON80257107.0049F25E-80257107.004A69F6@xcom.de>
From: "Jonathan O'Connor" <Jonathan.O'Connor@xcom.de>
Date: Tue, 31 Jan 2006 13:32:47 +0000
X-MIMETrack: Serialize by Router on xgate1/SRV/XCOM(Release 6.5.4FP2|September 12, 2005) at
 31.01.2006 14:43:51
MIME-Version: 1.0
Content-Type: multipart/related;
 	Boundary="0__=0FBBFB94DFDA74CE8f9e8a93df938690918c0FBBFB94DFDA74CE"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0__=0FBBFB94DFDA74CE8f9e8a93df938690918c0FBBFB94DFDA74CE
Content-type: multipart/alternative; 
	Boundary="1__=0FBBFB94DFDA74CE8f9e8a93df938690918c0FBBFB94DFDA74CE"

--1__=0FBBFB94DFDA74CE8f9e8a93df938690918c0FBBFB94DFDA74CE
Content-type: text/plain; charset=ISO-8859-15
Content-transfer-encoding: base64


TWFya3VzLA0KQXMgSSdtIHN1cmUgeW91IGtub3csICJzdWNodCIgaXMgYWxzbyBhbiBpbmZsZWN0
aW9uIG9mICJzdWNoZW4iLCBlLmcuICJlcg0Kc3VjaHQgZXR3YXMiLiBTYWRseSwgeW91IG1heSBi
ZSBhYmxlIHRvIGZpeCB0aGlzIG9uZSBwcm9ibGVtLCBidXQgdGhlcmUNCndpbGwgYmUgaHVuZHJl
ZHMgb2Ygb3RoZXIgcHJvYmxlbXMgdG9vLiBTdGVtbWVycyBhcmUgbmV2ZXIgcGVyZmVjdC4gWW91
DQpqdXN0IGhhdmUgdG8gbGl2ZSB3aXRoIGl0Lg0KDQpNb3N0IHVzZXJzIHdvbid0IGhhdmUgYSBw
cm9ibGVtIHdpdGggdGhhdC4gSWYgdGhleSB3YW50IHdhbnQgdG8gc2VhcmNoIGZvcg0KYWRkaWN0
aW9uLCB0aGVuIHRoZXkgd2lsbCBwcm9iYWJseSBhZGQgImRydWciIG9yICJhbGNvaG9sIiwgZXRj
Li4uIHRvIHRoZQ0Kc2VhcmNoLg0KQ2lhbywNCkpvbmF0aGFuIE8nQ29ubm9yDQpYQ09NIER1Ymxp
bg0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgIE1hcmt1cyBGaXNjaGVyICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAg
ICAgPG1hcmt1c0BmaXNjaGVyLm4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICANCiAgICAgICAgICAgICBhbWU+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIFRvIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnICAgICAgICAgDQogICAgICAg
ICAgICAgMzEvMDEvMjAwNiAxMjo0OSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjYyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1YmplY3QgDQogICAg
ICAgICAgICAgUGxlYXNlIHJlc3BvbmQgdG8gICAgICAgICBTdGVtbWluZyBnZXJtYW4gd29yZHMg
ICAgICAgICAgICAgICANCiAgICAgICAgICAgICBqYXZhLXVzZXJAbHVjZW5lLiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGFwYWNo
ZS5vcmcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICANCg0KDQoNCg0KSGksDQoNCkknbSBjdXJyZW50bHkgdXNpbmcg
dGhlIEdlcm1hblN0ZW1tZXIgYW5kIGl0IHdvcmtzIHdlbGwuIEhvd2V2ZXIgdG9kYXkNCkkndmUg
Zm91bmQgdHdvIHdvcmRzIHdoaWNoIGdldCBzdGVtbWVkIHRvIHRoZSBzYW1lIHN0ZW1tLXdvcmQu
DQoNCiJTdWNoZSIgYW5kICJTdWNodCIgYm90aCBnZXQgc3RlbW1lZCB0byB0aGUgc2FtZSAic3Vj
aCIgaXQgc2VlbXMsDQpob3dldmVyIHRoZXkndmUgY29tcGxldGVseSBkaWZmZXJlbnQgbWVhbmlu
Z3MgaW4gZ2VybWFuIChTdWNoZSA9IHRoZQ0KU2VhcmNoLCBTdWNodCA9PiBhZGRpY3R0aW9uKS4N
Cg0KSXMgdGhlcmUgYSB3YXkgdG8gdHVuZSB0aGUgc3RlbW1lciBvciBhcmUgdGhlcmUgYWx0ZXJu
YXRpdmVzIGF2YWlsYWJsZQ0Kb3Igc2hvdWxkIEkgbG9vayBmb3IgYW5vdGhlciBzdGVtbWVyIGZv
ciB0aGUgZ2VybWFuIGxhbmd1YWdlPw0KDQp0aGFua3MgZm9yIGFueSBwb2ludGVycywNCi0gTWFy
a3VzDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVu
c3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQoNCg0KDQoNCioqKiBYQ09N
IEFHIExlZ2FsIERpc2NsYWltZXIgKioqDQoNCkRpZXNlIEUtTWFpbCBlaW5zY2hsaWVzc2xpY2gg
aWhyZXIgQW5oYWVuZ2UgaXN0IHZlcnRyYXVsaWNoIHVuZCBpc3QgYWxsZWluDQpm/HIgZGVuIEdl
YnJhdWNoIGR1cmNoIGRlbiB2b3JnZXNlaGVuZW4gRW1wZmFlbmdlciBiZXN0aW1tdC4gRHJpdHRl
biBpc3QNCmRhcyBMZXNlbiwgVmVydGVpbGVuIG9kZXIgV2VpdGVybGVpdGVuIGRpZXNlciBFLU1h
aWwgdW50ZXJzYWd0LiBXaXIgYml0dGVuLA0KZWluZSBmZWhsZ2VsZWl0ZXRlIEUtTWFpbCB1bnZl
cnp1ZWdsaWNoIHZvbGxzdGFlbmRpZyB6dSBsb2VzY2hlbiB1bmQgdW5zDQplaW5lIE5hY2hyaWNo
dCB6dWtvbW1lbiB6dSBsYXNzZW4uDQoNClRoaXMgZW1haWwgbWF5IGNvbnRhaW4gbWF0ZXJpYWwg
dGhhdCBpcyBjb25maWRlbnRpYWwgYW5kIGZvciB0aGUgc29sZSB1c2UNCm9mIHRoZSBpbnRlbmRl
ZCByZWNpcGllbnQuIEFueSByZXZpZXcsIGRpc3RyaWJ1dGlvbiBieSBvdGhlcnMgb3IgZm9yd2Fy
ZGluZw0Kd2l0aG91dCBleHByZXNzIHBlcm1pc3Npb24gaXMgc3RyaWN0bHkgcHJvaGliaXRlZC4g
SWYgeW91IGFyZSBub3QgdGhlDQppbnRlbmRlZCByZWNpcGllbnQsIHBsZWFzZSBjb250YWN0IHRo
ZSBzZW5kZXIgYW5kIGRlbGV0ZSBhbGwgY29waWVzLg0KDQpIYXVwdHNpdHo6IEJhaG5zdHJhc3Nl
IDMzLCBELTQ3ODc3IFdpbGxpY2gsIFVTdC1JZE5yLjogREUgODEyIDg4NSA2NjQNCktvbW11bmlr
YXRpb246IFRlbGVmb24gKzQ5IDIxNTQgOTIwOS03MCwgVGVsZWZheCArNDkgMjE1NCA5MjA5LTkw
MCwNCnd3dy54Y29tLmRlDQpIYW5kZWxzcmVnaXN0ZXI6IEFtdHNnZXJpY2h0IEtyZWZlbGQsIEhS
QiAxMDM0MA0KVm9yc3RhbmQ6IE1hdHRoaWFzIEFsYnJlY2h0LCBSZW5hdGUgQmVja2VyLUdyb3Bl
LCBNYXJjbyBNYXJ0eQ0KVm9yc2l0emVuZGVyIGRlcyBBdWZzaWNodHNyYXRlczogU3RlcGhhbiBT
dGV1ZXI=

--1__=0FBBFB94DFDA74CE8f9e8a93df938690918c0FBBFB94DFDA74CE
Content-type: text/html; charset=ISO-8859-15
Content-Disposition: inline
Content-transfer-encoding: base64

PGh0bWw+PGJvZHk+DQo8cD5NYXJrdXMsPGJyPg0KQXMgSSdtIHN1cmUgeW91IGtub3csICZxdW90
O3N1Y2h0JnF1b3Q7IGlzIGFsc28gYW4gaW5mbGVjdGlvbiBvZiAmcXVvdDtzdWNoZW4mcXVvdDss
IGUuZy4gJnF1b3Q7ZXIgc3VjaHQgZXR3YXMmcXVvdDsuIFNhZGx5LCB5b3UgbWF5IGJlIGFibGUg
dG8gZml4IHRoaXMgb25lIHByb2JsZW0sIGJ1dCB0aGVyZSB3aWxsIGJlIGh1bmRyZWRzIG9mIG90
aGVyIHByb2JsZW1zIHRvby4gU3RlbW1lcnMgYXJlIG5ldmVyIHBlcmZlY3QuIFlvdSBqdXN0IGhh
dmUgdG8gbGl2ZSB3aXRoIGl0Ljxicj4NCjxicj4NCk1vc3QgdXNlcnMgd29uJ3QgaGF2ZSBhIHBy
b2JsZW0gd2l0aCB0aGF0LiBJZiB0aGV5IHdhbnQgd2FudCB0byBzZWFyY2ggZm9yIGFkZGljdGlv
biwgdGhlbiB0aGV5IHdpbGwgcHJvYmFibHkgYWRkICZxdW90O2RydWcmcXVvdDsgb3IgJnF1b3Q7
YWxjb2hvbCZxdW90OywgZXRjLi4uIHRvIHRoZSBzZWFyY2guPGJyPg0KQ2lhbyw8YnI+DQpKb25h
dGhhbiBPJ0Nvbm5vcjxicj4NClhDT00gRHVibGluPGJyPg0KPGltZyBzcmM9ImNpZDoxMF9fPTBG
QkJGQjk0REZEQTc0Q0U4ZjllOGE5M2RmOTM4NjkwQHhjb20uZGUiIHdpZHRoPSIxNiIgaGVpZ2h0
PSIxNiIgYWx0PSJJbmFjdGl2ZSBoaWRlIGRldGFpbHMgZm9yIE1hcmt1cyBGaXNjaGVyICZsdDtt
YXJrdXNAZmlzY2hlci5uYW1lJmd0OyI+TWFya3VzIEZpc2NoZXIgJmx0O21hcmt1c0BmaXNjaGVy
Lm5hbWUmZ3Q7PGJyPg0KPGJyPg0KPGJyPg0KDQo8dGFibGUgd2lkdGg9IjEwMCUiIGJvcmRlcj0i
MCIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4NCjx0ciB2YWxpZ249InRvcCI+PHRk
IHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOnVybChjaWQ6MjBfXz0wRkJCRkI5NERGREE3NENFOGY5
ZThhOTNkZjkzODY5MEB4Y29tLmRlKTsgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgIiB3
aWR0aD0iNDAlIj4NCjx1bD4NCjx1bD4NCjx1bD4NCjx1bD48Yj48Zm9udCBzaXplPSIyIj5NYXJr
dXMgRmlzY2hlciAmbHQ7bWFya3VzQGZpc2NoZXIubmFtZSZndDs8L2ZvbnQ+PC9iPjxmb250IHNp
emU9IjIiPiA8L2ZvbnQ+DQo8cD48Zm9udCBzaXplPSIyIj4zMS8wMS8yMDA2IDEyOjQ5PC9mb250
Pg0KPHRhYmxlIGJvcmRlcj0iMSI+DQo8dHIgdmFsaWduPSJ0b3AiPjx0ZCB3aWR0aD0iMTY4IiBi
Z2NvbG9yPSIjRkZGRkZGIj48ZGl2IGFsaWduPSJjZW50ZXIiPjxmb250IHNpemU9IjIiPlBsZWFz
ZSByZXNwb25kIHRvPGJyPg0KamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPC9mb250PjwvZGl2
PjwvdGQ+PC90cj4NCjwvdGFibGU+DQo8L3VsPg0KPC91bD4NCjwvdWw+DQo8L3VsPg0KPC90ZD48
dGQgd2lkdGg9IjYwJSI+DQo8dGFibGUgd2lkdGg9IjEwMCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNp
bmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4NCjx0ciB2YWxpZ249InRvcCI+PHRkIHdpZHRoPSIxJSIg
dmFsaWduPSJtaWRkbGUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI5NERGREE3NENFOGY5ZThh
OTNkZjkzODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjU4IiBhbHQ9
IiI+PGJyPg0KPGRpdiBhbGlnbj0icmlnaHQiPjxmb250IHNpemU9IjIiPlRvPC9mb250PjwvZGl2
PjwvdGQ+PHRkIHdpZHRoPSIxMDAlIj48aW1nIHNyYz0iY2lkOjMwX189MEZCQkZCOTRERkRBNzRD
RThmOWU4YTkzZGY5Mzg2OTBAeGNvbS5kZSIgYm9yZGVyPSIwIiBoZWlnaHQ9IjEiIHdpZHRoPSIx
IiBhbHQ9IiI+PGJyPg0KPGZvbnQgc2l6ZT0iMiI+amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3Jn
PC9mb250PjwvdGQ+PC90cj4NCg0KPHRyIHZhbGlnbj0idG9wIj48dGQgd2lkdGg9IjElIiB2YWxp
Z249Im1pZGRsZSI+PGltZyBzcmM9ImNpZDozMF9fPTBGQkJGQjk0REZEQTc0Q0U4ZjllOGE5M2Rm
OTM4NjkwQHhjb20uZGUiIGJvcmRlcj0iMCIgaGVpZ2h0PSIxIiB3aWR0aD0iNTgiIGFsdD0iIj48
YnI+DQo8ZGl2IGFsaWduPSJyaWdodCI+PGZvbnQgc2l6ZT0iMiI+Y2M8L2ZvbnQ+PC9kaXY+PC90
ZD48dGQgd2lkdGg9IjEwMCUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI5NERGREE3NENFOGY5
ZThhOTNkZjkzODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjEiIGFs
dD0iIj48YnI+DQo8L3RkPjwvdHI+DQoNCjx0ciB2YWxpZ249InRvcCI+PHRkIHdpZHRoPSIxJSIg
dmFsaWduPSJtaWRkbGUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI5NERGREE3NENFOGY5ZThh
OTNkZjkzODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjU4IiBhbHQ9
IiI+PGJyPg0KPGRpdiBhbGlnbj0icmlnaHQiPjxmb250IHNpemU9IjIiPlN1YmplY3Q8L2ZvbnQ+
PC9kaXY+PC90ZD48dGQgd2lkdGg9IjEwMCUiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI5NERG
REE3NENFOGY5ZThhOTNkZjkzODY5MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lk
dGg9IjEiIGFsdD0iIj48YnI+DQo8Zm9udCBzaXplPSIyIj5TdGVtbWluZyBnZXJtYW4gd29yZHM8
L2ZvbnQ+PC90ZD48L3RyPg0KPC90YWJsZT4NCg0KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHNwYWNp
bmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4NCjx0ciB2YWxpZ249InRvcCI+PHRkIHdpZHRoPSI1OCI+
PGltZyBzcmM9ImNpZDozMF9fPTBGQkJGQjk0REZEQTc0Q0U4ZjllOGE5M2RmOTM4NjkwQHhjb20u
ZGUiIGJvcmRlcj0iMCIgaGVpZ2h0PSIxIiB3aWR0aD0iMSIgYWx0PSIiPjwvdGQ+PHRkIHdpZHRo
PSIzMzYiPjxpbWcgc3JjPSJjaWQ6MzBfXz0wRkJCRkI5NERGREE3NENFOGY5ZThhOTNkZjkzODY5
MEB4Y29tLmRlIiBib3JkZXI9IjAiIGhlaWdodD0iMSIgd2lkdGg9IjEiIGFsdD0iIj48L3RkPjwv
dHI+DQo8L3RhYmxlPg0KPC90ZD48L3RyPg0KPC90YWJsZT4NCjxicj4NCjx0dD5IaSw8YnI+DQo8
YnI+DQpJJ20gY3VycmVudGx5IHVzaW5nIHRoZSBHZXJtYW5TdGVtbWVyIGFuZCBpdCB3b3JrcyB3
ZWxsLiBIb3dldmVyIHRvZGF5IDxicj4NCkkndmUgZm91bmQgdHdvIHdvcmRzIHdoaWNoIGdldCBz
dGVtbWVkIHRvIHRoZSBzYW1lIHN0ZW1tLXdvcmQuPGJyPg0KPGJyPg0KJnF1b3Q7U3VjaGUmcXVv
dDsgYW5kICZxdW90O1N1Y2h0JnF1b3Q7IGJvdGggZ2V0IHN0ZW1tZWQgdG8gdGhlIHNhbWUgJnF1
b3Q7c3VjaCZxdW90OyBpdCBzZWVtcywgPGJyPg0KaG93ZXZlciB0aGV5J3ZlIGNvbXBsZXRlbHkg
ZGlmZmVyZW50IG1lYW5pbmdzIGluIGdlcm1hbiAoU3VjaGUgPSB0aGUgPGJyPg0KU2VhcmNoLCBT
dWNodCA9Jmd0OyBhZGRpY3R0aW9uKS48YnI+DQo8YnI+DQpJcyB0aGVyZSBhIHdheSB0byB0dW5l
IHRoZSBzdGVtbWVyIG9yIGFyZSB0aGVyZSBhbHRlcm5hdGl2ZXMgYXZhaWxhYmxlIDxicj4NCm9y
IHNob3VsZCBJIGxvb2sgZm9yIGFub3RoZXIgc3RlbW1lciBmb3IgdGhlIGdlcm1hbiBsYW5ndWFn
ZT88YnI+DQo8YnI+DQp0aGFua3MgZm9yIGFueSBwb2ludGVycyw8YnI+DQotIE1hcmt1czxicj4N
Cjxicj4NCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLTxicj4NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNl
ci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZzxicj4NCkZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnPGJyPg0KPGJyPg0K
PC90dD48YnI+DQo8YnI+DQo8YnI+DQo8YnI+DQoqKiogWENPTSBBRyBMZWdhbCBEaXNjbGFpbWVy
ICoqKjxicj4NCjxicj4NCkRpZXNlIEUtTWFpbCBlaW5zY2hsaWVzc2xpY2ggaWhyZXIgQW5oYWVu
Z2UgaXN0IHZlcnRyYXVsaWNoIHVuZCBpc3QgYWxsZWluIGb8ciBkZW4gR2VicmF1Y2ggZHVyY2gg
ZGVuIHZvcmdlc2VoZW5lbiBFbXBmYWVuZ2VyIGJlc3RpbW10LiBEcml0dGVuIGlzdCBkYXMgTGVz
ZW4sIFZlcnRlaWxlbiBvZGVyIFdlaXRlcmxlaXRlbiBkaWVzZXIgRS1NYWlsIHVudGVyc2FndC4g
V2lyIGJpdHRlbiwgZWluZSBmZWhsZ2VsZWl0ZXRlIEUtTWFpbCB1bnZlcnp1ZWdsaWNoIHZvbGxz
dGFlbmRpZyB6dSBsb2VzY2hlbiB1bmQgdW5zIGVpbmUgTmFjaHJpY2h0IHp1a29tbWVuIHp1IGxh
c3Nlbi48YnI+DQo8YnI+DQpUaGlzIGVtYWlsIG1heSBjb250YWluIG1hdGVyaWFsIHRoYXQgaXMg
Y29uZmlkZW50aWFsIGFuZCBmb3IgdGhlIHNvbGUgdXNlIG9mIHRoZSBpbnRlbmRlZCByZWNpcGll
bnQuIEFueSByZXZpZXcsIGRpc3RyaWJ1dGlvbiBieSBvdGhlcnMgb3IgZm9yd2FyZGluZyB3aXRo
b3V0IGV4cHJlc3MgcGVybWlzc2lvbiBpcyBzdHJpY3RseSBwcm9oaWJpdGVkLiBJZiB5b3UgYXJl
IG5vdCB0aGUgaW50ZW5kZWQgcmVjaXBpZW50LCBwbGVhc2UgY29udGFjdCB0aGUgc2VuZGVyIGFu
ZCBkZWxldGUgYWxsIGNvcGllcy48YnI+DQo8YnI+DQpIYXVwdHNpdHo6IEJhaG5zdHJhc3NlIDMz
LCBELTQ3ODc3IFdpbGxpY2gsIFVTdC1JZE5yLjogREUgODEyIDg4NSA2NjQ8YnI+DQpLb21tdW5p
a2F0aW9uOiBUZWxlZm9uICs0OSAyMTU0IDkyMDktNzAsIFRlbGVmYXggKzQ5IDIxNTQgOTIwOS05
MDAsIHd3dy54Y29tLmRlPGJyPg0KSGFuZGVsc3JlZ2lzdGVyOiBBbXRzZ2VyaWNodCBLcmVmZWxk
LCBIUkIgMTAzNDA8YnI+DQpWb3JzdGFuZDogTWF0dGhpYXMgQWxicmVjaHQsIFJlbmF0ZSBCZWNr
ZXItR3JvcGUsIE1hcmNvIE1hcnR5PGJyPg0KVm9yc2l0emVuZGVyIGRlcyBBdWZzaWNodHNyYXRl
czogU3RlcGhhbiBTdGV1ZXI8YnI+DQo8L2JvZHk+PC9odG1sPg==


--1__=0FBBFB94DFDA74CE8f9e8a93df938690918c0FBBFB94DFDA74CE--


--0__=0FBBFB94DFDA74CE8f9e8a93df938690918c0FBBFB94DFDA74CE--

From java-user-return-18678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 14:06:34 2006
Return-Path: <java-user-return-18678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11722 invoked from network); 31 Jan 2006 14:06:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 14:06:33 -0000
Received: (qmail 2479 invoked by uid 500); 31 Jan 2006 14:06:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2321 invoked by uid 500); 31 Jan 2006 14:06:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2310 invoked by uid 99); 31 Jan 2006 14:06:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 06:06:25 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 06:06:24 -0800
Received: by zproxy.gmail.com with SMTP id s18so1276531nze
        for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 06:06:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=AxG+QdMnZlxKOUkfZOmo+QiA08/9ITldWDn+zGuJw5JIjldI3rm8KDp8XNyk3maYJscGfz9r/wuiaRNlNEYz4hyohbJBIAEY3Udmm8t3ovHfYugBeQjU9EM9Vlz6EnxPpnX7/MM87o/EQ192ElBbuRxmJhlvjPJlu7CeKqFPcYA=
Received: by 10.65.147.5 with SMTP id z5mr620692qbn;
        Tue, 31 Jan 2006 06:06:04 -0800 (PST)
Received: by 10.65.248.3 with HTTP; Tue, 31 Jan 2006 06:06:04 -0800 (PST)
Message-ID: <abe188f20601310606u4ddbeb63ic494a2b586716532@mail.gmail.com>
Date: Tue, 31 Jan 2006 08:06:04 -0600
From: Rajesh Munavalli <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing whole harddrive
In-Reply-To: <1138698551.43df293803094@webmail.jaring.my>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20626_25756409.1138716364210"
References: <1138698551.43df293803094@webmail.jaring.my>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_20626_25756409.1138716364210
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

You have to recursively traverse the directories using something like...(in
Java)

void indexDocs(String file){
if (file.isDirectory()) { // if a directory
         String[] files =3D file.list(); // list its files
         for (int i =3D 0; i < files.length; i++) // recursively index them
            indexDocs(new File(file, files[i]));

      }
....
}

--
Rajesh Munavalli

On 1/31/06, Azlan Abdul Latiff <azlan95@myjaring.net> wrote:
>
> how can I index the whole hard drive?  I tried using "c:/" but it didnt
> work.
>
> The results only return c:/ directory where as a I want it to index all
> the sub folders as well as the the other directories.
>
> Azlan
>
>
> ----------------------------------------------------------------
> This e-mail has been sent via JARING webmail at http://www.jaring.my
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20626_25756409.1138716364210--

From java-user-return-18679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 18:35:51 2006
Return-Path: <java-user-return-18679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50380 invoked from network); 31 Jan 2006 18:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 18:35:49 -0000
Received: (qmail 67927 invoked by uid 500); 31 Jan 2006 18:34:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63756 invoked by uid 500); 31 Jan 2006 18:34:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63491 invoked by uid 99); 31 Jan 2006 18:34:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 10:34:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 10:03:25 -0800
Received: by xproxy.gmail.com with SMTP id i28so961715wxd
        for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 10:03:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ChNIAOQkMdFEUtqCQurH7OFj2UUNmWgyvnMlA06CqgZ/wEubUB9jb4vD+ZbWreCrnkDdMXP/H4tUdEWMRZrm6hl5dcUWZ9zIO71N2ykrdyH8xcgBYYPj2RdK0NugVZjGKvG0bauts7cXQE+DPimQJlE+JotCfqs4/FJhjlSkCAU=
Received: by 10.70.26.17 with SMTP id 17mr8800208wxz;
        Tue, 31 Jan 2006 10:03:04 -0800 (PST)
Received: by 10.70.11.6 with HTTP; Tue, 31 Jan 2006 10:03:04 -0800 (PST)
Message-ID: <277d4c5d0601311003wcf6aa3bw68f8a63634e51f1e@mail.gmail.com>
Date: Wed, 1 Feb 2006 02:03:04 +0800
From: xing jiang <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Related searches
In-Reply-To: <007801c62595$5dd3e340$6500a8c0@leondell>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_40177_2364036.1138730584058"
References: <007801c62595$5dd3e340$6500a8c0@leondell>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_40177_2364036.1138730584058
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I think you should build a type of domain specific dictionary first. You
should say, for instance, "automobile =3D car". This approach can satisfy y=
our
requirement.

On 1/30/06, Leon Chaddock <leonchaddock@macranet.co.uk> wrote:
>
> Hi,
> Does anyone know if it is possible to show related searches with lucene,
> for example if someone searched for "car insurance" you could bring back =
the
> results and related searches like these
>
>
> Automobile Insurance
> Car Insurance Quote
> Car Insurance Quotes
> Auto Insurance
> Cheap Car Insurance
> Car Insurance Company
> Car Insurance Companies
> Health Insurance
> Car Insurance Rates
> Car Insurance Rate
> Car Insurance Rental
> Insurance Quote
> Online Car Insurance Quote
> Home Insurance
>
> Thanks
>
> Leon
>



--
Regards

Jiang Xing

------=_Part_40177_2364036.1138730584058--

From java-user-return-18680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 18:35:51 2006
Return-Path: <java-user-return-18680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50402 invoked from network); 31 Jan 2006 18:35:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 18:35:50 -0000
Received: (qmail 67936 invoked by uid 500); 31 Jan 2006 18:34:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64707 invoked by uid 500); 31 Jan 2006 18:34:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63576 invoked by uid 99); 31 Jan 2006 18:34:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 10:34:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.96.178.21] (HELO ad1.ad.kbse.net) (194.96.178.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 10:14:13 -0800
Received: from [192.168.0.4] ([86.56.177.145]) by ad1.ad.kbse.net over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 31 Jan 2006 19:13:50 +0100
Message-ID: <43DFA90E.8020100@kbse.net>
Date: Tue, 31 Jan 2006 19:14:38 +0100
From: Stefan Gusenbauer <stefan.gusenbauer@kbse.net>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Stemming german words
References: <OF7C91781C.71EA7852-ON80257107.0049F25E-80257107.004A69F6@xcom.de>
In-Reply-To: <OF7C91781C.71EA7852-ON80257107.0049F25E-80257107.004A69F6@xcom.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 31 Jan 2006 18:13:50.0173 (UTC) FILETIME=[15EF68D0:01C62692]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jonathan O'Connor wrote:

> Markus,
> As I'm sure you know, "sucht" is also an inflection of "suchen", e.g. 
> "er sucht etwas". Sadly, you may be able to fix this one problem, but 
> there will be hundreds of other problems too. Stemmers are never 
> perfect. You just have to live with it.
>
> Most users won't have a problem with that. If they want want to search 
> for addiction, then they will probably add "drug" or "alcohol", etc... 
> to the search.
> Ciao,
> Jonathan O'Connor
> XCOM Dublin
> Inactive hide details for Markus Fischer <markus@fischer.name>Markus 
> Fischer <markus@fischer.name>
>
>
>                         *Markus Fischer <markus@fischer.name>*
>
>                         31/01/2006 12:49
>                         Please respond to
>                         java-user@lucene.apache.org
>
> 	
>
> To
> 	
> java-user@lucene.apache.org
>
> cc
> 	
>
> Subject
> 	
> Stemming german words
>
> 	
>
>
> Hi,
>
> I'm currently using the GermanStemmer and it works well. However today
> I've found two words which get stemmed to the same stemm-word.
>
> "Suche" and "Sucht" both get stemmed to the same "such" it seems,
> however they've completely different meanings in german (Suche = the
> Search, Sucht => addicttion).
>
> Is there a way to tune the stemmer or are there alternatives available
> or should I look for another stemmer for the german language?
>
> thanks for any pointers,
> - Markus
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> *** XCOM AG Legal Disclaimer ***
>
> Diese E-Mail einschliesslich ihrer Anhaenge ist vertraulich und ist 
> allein fr den Gebrauch durch den vorgesehenen Empfaenger bestimmt. 
> Dritten ist das Lesen, Verteilen oder Weiterleiten dieser E-Mail 
> untersagt. Wir bitten, eine fehlgeleitete E-Mail unverzueglich 
> vollstaendig zu loeschen und uns eine Nachricht zukommen zu lassen.
>
> This email may contain material that is confidential and for the sole 
> use of the intended recipient. Any review, distribution by others or 
> forwarding without express permission is strictly prohibited. If you 
> are not the intended recipient, please contact the sender and delete 
> all copies.
>
> Hauptsitz: Bahnstrasse 33, D-47877 Willich, USt-IdNr.: DE 812 885 664
> Kommunikation: Telefon +49 2154 9209-70, Telefax +49 2154 9209-900, 
> www.xcom.de
> Handelsregister: Amtsgericht Krefeld, HRB 10340
> Vorstand: Matthias Albrecht, Renate Becker-Grope, Marco Marty
> Vorsitzender des Aufsichtsrates: Stephan Steuer
>
You could try a POS-Tagger to check if the word is used as a noun and 
don't stem it therefore. But It would be interesting if a POS-Tagger can 
distinguish between "Sucht" as nound and "sucht" as verb. But you could 
give this a try.
stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 19:01:34 2006
Return-Path: <java-user-return-18681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66743 invoked from network); 31 Jan 2006 19:01:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 19:01:34 -0000
Received: (qmail 66500 invoked by uid 500); 31 Jan 2006 19:01:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66479 invoked by uid 500); 31 Jan 2006 19:01:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66468 invoked by uid 99); 31 Jan 2006 19:01:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 11:01:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 11:01:27 -0800
Received: by wproxy.gmail.com with SMTP id i6so205023wra
        for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 11:01:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=MT4/2bv3JQU44I3cnSDKywNpi2D8qhV6ZmBZ+VyPnh+uczZ4agg2+OIU8yFHjaPoHYKygQqu3wKgQdOB9omWXuMCaDHAHMA3UIKN9cz96krbg+ZLaYxstrW/VpU4Xx8zihqFM4mTDnYOOWjzcuQOwbO0Bb8pKg02dnHUmbYbrhc=
Received: by 10.65.150.19 with SMTP id c19mr1637717qbo;
        Tue, 31 Jan 2006 11:01:05 -0800 (PST)
Received: by 10.65.248.3 with HTTP; Tue, 31 Jan 2006 11:01:05 -0800 (PST)
Message-ID: <abe188f20601311101i16732e7fs905a60d39511bb7f@mail.gmail.com>
Date: Tue, 31 Jan 2006 13:01:05 -0600
From: Rajesh Munavalli <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Related searches
In-Reply-To: <007801c62595$5dd3e340$6500a8c0@leondell>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6145_19237102.1138734065763"
References: <007801c62595$5dd3e340$6500a8c0@leondell>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6145_19237102.1138734065763
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I would suggest you to look at papers on local/global document analysis. On=
e
of the approach is to get a set of terms which co-occur with the query term
say "insurance". From the initial query they select the top 'N' documents
and compute the co-occurrence of other terms (usually those having high TF)
with query terms. The intution is that words co-occurring are related.

      Google for "local global document analysis" and "word co-occurrence
similarity"

Rajesh Munavalli



On 1/30/06, Leon Chaddock <leonchaddock@macranet.co.uk> wrote:
>
> Hi,
> Does anyone know if it is possible to show related searches with lucene,
> for example if someone searched for "car insurance" you could bring back =
the
> results and related searches like these
>
>
> Automobile Insurance
> Car Insurance Quote
> Car Insurance Quotes
> Auto Insurance
> Cheap Car Insurance
> Car Insurance Company
> Car Insurance Companies
> Health Insurance
> Car Insurance Rates
> Car Insurance Rate
> Car Insurance Rental
> Insurance Quote
> Online Car Insurance Quote
> Home Insurance
>
> Thanks
>
> Leon
>

------=_Part_6145_19237102.1138734065763--

From java-user-return-18682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 21:08:33 2006
Return-Path: <java-user-return-18682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46829 invoked from network); 31 Jan 2006 21:08:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 21:08:33 -0000
Received: (qmail 97223 invoked by uid 500); 31 Jan 2006 21:08:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97204 invoked by uid 500); 31 Jan 2006 21:08:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97193 invoked by uid 99); 31 Jan 2006 21:08:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:08:26 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [63.117.187.3] (HELO us-exfe01.NA.CorpLAN.net) (63.117.187.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:08:24 -0800
Received: from usfl-exsw1.NA.CorpLAN.net ([10.140.4.141]) by us-exfe01.NA.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 31 Jan 2006 16:07:59 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C626AA.6A248D42"
Subject: maximum string length in index field
Date: Tue, 31 Jan 2006 16:07:57 -0500
Message-ID: <A040D0C1ED4F3243BA18A25F64C16F3DF7B316@usfl-exsw1.NA.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: maximum string length in index field
Thread-Index: AcYmqmkcl7RFxFwVR+uJ9Z1Dvm3ywg==
From: <Peter.Kipping@taylorandfrancis.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 31 Jan 2006 21:07:59.0575 (UTC) FILETIME=[6A439E70:01C626AA]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C626AA.6A248D42
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have some really long chemical names that I am storing in an index and
it looks like they are being split into two terms.  Is there a way to
increase the max term length?

Here is an example:

DTryptophanmethylLleucineethylLhprolinamidedeglycinamideluteinizing&nbsp
;hormonereleasing&nbsp;factor&nbsp;pig679010NN!#6-<h3>D<h0>-Tryptophan-7
-(<h1>N<h0>-methyl-<h3>L<h0>-leucine)-9-(<h1>N<h0>-ethyl-<h3>L<h0>-proli
namide)-10-deglycinamide-luteinizing&nbsp;hormone-releasing&nbsp;factor&
nbsp;(pig)
length of name: 298
Number of docs in index: 1

sort_name:DTryptophanmethylLleucineethylLhprolinamidedeglycinamidelutein
izing&nbsp;hormonereleasing&nbsp;factor&nbsp;pig679010NN!#6-<h3>D<h0>-Tr
yptophan-7-(<h1>N<h0>-methyl-<h3>L<h0>-leucine)-9-(<h1>N<h0>-ethyl-<h3>L
<h0>-prolinamide)-10-deglycinamide-luteinizing&nb   freq: 1

sort_name:sp;hormone-releasing&nbsp;factor&nbsp;(pig)   freq: 1

Total terms: 2   Total Occuracnes:2

I only put one name in the index using whitespace analyzer and making
sure there are no whitespaces.  However there are two terms in the
index.

Thanks,
Peter

------_=_NextPart_001_01C626AA.6A248D42--

From java-user-return-18683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 21:24:52 2006
Return-Path: <java-user-return-18683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58053 invoked from network); 31 Jan 2006 21:24:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 21:24:52 -0000
Received: (qmail 23744 invoked by uid 500); 31 Jan 2006 21:24:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23717 invoked by uid 500); 31 Jan 2006 21:24:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23698 invoked by uid 99); 31 Jan 2006 21:24:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:24:44 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:24:42 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Number Searches vs Character
Date: Tue, 31 Jan 2006 16:24:21 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13105022CFF@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Number Searches vs Character
Thread-Index: AcYl7HI/j7xW/phcRLeIWJBsWpKMKgAv+KSA
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the information Chris, but I don't see a reference to
ConstantScoreQuery or ConstanctScoreRangeQuery in the 1.4.3 Lucene jar.
Perhaps I'm not looking in the right place?

import org.apache.lucene.search.ConstantScoreQuery;
import org.apache.lucene.search.ConstantScoreRangeQuery;

Tom


-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: Monday, January 30, 2006 5:24 PM
To: java-user@lucene.apache.org
Subject: Re: Number Searches vs Character


PrefixQuery is implimented as a BooleanQuery using term expansion.  what
that means is that a prefix query on a common prefix is much more
expensive then a prefix query on a less common prefix.  not just in
terms
of hte number of documents that match, but because of the number of
terms
that match the prefix.

assuming "pq" is your PrefixQuery object, take a look at the output of
calling pq.rewrite(yourReader).toString() and compare the difference
between your 12* and your de* queries ... i'm guessing you'll find that
the 12* approach is a lot bigger.

if you poke arround you'll find mention of a ConstanctScoreRangeQuery
...
using the ideas from that, you can impliment a much faster version of
PrefixQuery that doesn't score documents based on term frequency ...
which
may be ok depending on your needs.


: Date: Mon, 30 Jan 2006 13:51:15 -0500
: From: "Aigner, Thomas" <TAigner@WescoDist.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Number Searches vs Character
:
:
: I am curious what would be the difference between searching for a
number
: verses a character.
:
: I have a large index consisting of a few fields (So index would look
: something like:  " 123123123 my description my catalog"
:
: Searching for 12* is much slower than searching for de*
: I don't have any issues searching for 3 or more characters.. just 1 or
2
: and the wildcard.
: 	Stored this way: doc.add(Field.Text("allindex", all,true));
: 	Using 1.4.3
:
: Any reason why that would be and how I can help speed that up?
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 21:29:19 2006
Return-Path: <java-user-return-18684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60009 invoked from network); 31 Jan 2006 21:29:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 21:29:19 -0000
Received: (qmail 28707 invoked by uid 500); 31 Jan 2006 21:29:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28686 invoked by uid 500); 31 Jan 2006 21:29:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28662 invoked by uid 99); 31 Jan 2006 21:29:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:29:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:29:11 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 078CC5B764; Tue, 31 Jan 2006 13:28:43 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D79917F403
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 13:28:43 -0800 (PST)
Date: Tue, 31 Jan 2006 13:28:43 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: Number Searches vs Character
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13105022CFF@MAIL01.wescodist.com>
Message-ID: <Pine.LNX.4.58.0601311327230.28760@hal.rescomp.berkeley.edu>
References: <14FBF41EF1411B45B2EC4ADEAC53D13105022CFF@MAIL01.wescodist.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Thanks for the information Chris, but I don't see a reference to
: ConstantScoreQuery or ConstanctScoreRangeQuery in the 1.4.3 Lucene jar.
: Perhaps I'm not looking in the right place?

they didn't make it into the 1.4.3 release ... i'm not even 100% sure they
have been commited to the trunk yet, but i know they are in jira (and some
googling should turn them up in past list discussions as well)

:
: import org.apache.lucene.search.ConstantScoreQuery;
: import org.apache.lucene.search.ConstantScoreRangeQuery;
:

: Tom
:
:
: -----Original Message-----
: From: hossman@hal.rescomp.berkeley.edu
: [mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
: Sent: Monday, January 30, 2006 5:24 PM
: To: java-user@lucene.apache.org
: Subject: Re: Number Searches vs Character
:
:
: PrefixQuery is implimented as a BooleanQuery using term expansion.  what
: that means is that a prefix query on a common prefix is much more
: expensive then a prefix query on a less common prefix.  not just in
: terms
: of hte number of documents that match, but because of the number of
: terms
: that match the prefix.
:
: assuming "pq" is your PrefixQuery object, take a look at the output of
: calling pq.rewrite(yourReader).toString() and compare the difference
: between your 12* and your de* queries ... i'm guessing you'll find that
: the 12* approach is a lot bigger.
:
: if you poke arround you'll find mention of a ConstanctScoreRangeQuery
: ...
: using the ideas from that, you can impliment a much faster version of
: PrefixQuery that doesn't score documents based on term frequency ...
: which
: may be ok depending on your needs.
:
:
: : Date: Mon, 30 Jan 2006 13:51:15 -0500
: : From: "Aigner, Thomas" <TAigner@WescoDist.com>
: : Reply-To: java-user@lucene.apache.org
: : To: java-user@lucene.apache.org
: : Subject: Number Searches vs Character
: :
: :
: : I am curious what would be the difference between searching for a
: number
: : verses a character.
: :
: : I have a large index consisting of a few fields (So index would look
: : something like:  " 123123123 my description my catalog"
: :
: : Searching for 12* is much slower than searching for de*
: : I don't have any issues searching for 3 or more characters.. just 1 or
: 2
: : and the wildcard.
: : 	Stored this way: doc.add(Field.Text("allindex", all,true));
: : 	Using 1.4.3
: :
: : Any reason why that would be and how I can help speed that up?
: :
: : ---------------------------------------------------------------------
: : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: : For additional commands, e-mail: java-user-help@lucene.apache.org
: :
:
:
:
: -Hoss
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 21:33:34 2006
Return-Path: <java-user-return-18685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63546 invoked from network); 31 Jan 2006 21:33:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 21:33:34 -0000
Received: (qmail 34885 invoked by uid 500); 31 Jan 2006 21:33:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34859 invoked by uid 500); 31 Jan 2006 21:33:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34847 invoked by uid 99); 31 Jan 2006 21:33:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:33:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.46.255.27] (HELO viefep19-int.chello.at) (213.46.255.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:33:28 -0800
Received: from genuine ([80.108.128.16]) by viefep19-int.chello.at
          (InterMail vM.6.01.04.04 201-2131-118-104-20050224) with ESMTP
          id <20060131213305.FVUY834.viefep19-int.chello.at@genuine>
          for <java-user@lucene.apache.org>;
          Tue, 31 Jan 2006 22:33:05 +0100
Received: from laptop.home ([192.168.1.50])
	by genuine with esmtpa (Exim 4.50)
	id 1F436N-0001HU-ET
	for java-user@lucene.apache.org; Tue, 31 Jan 2006 22:31:53 +0100
Message-ID: <43DFD78B.4060300@fischer.name>
Date: Tue, 31 Jan 2006 22:32:59 +0100
From: Markus Fischer <markus@fischer.name>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6) Gecko/20050317 Thunderbird/1.0.2 Mnenhy/0.7.2.0
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Stemming german words
References: <OF7C91781C.71EA7852-ON80257107.0049F25E-80257107.004A69F6@xcom.de>
In-Reply-To: <OF7C91781C.71EA7852-ON80257107.0049F25E-80257107.004A69F6@xcom.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Score: -27
X-Spam-Level: --
X-Spam-Report: Spam detection software, running on the system "genuine", has
	identified this incoming email as possible spam.  The original message
	has been attached to this so you can view it (if it isn't spam) or label
	similar future email.  If you have any questions, see
	the administrator of that system for details.
	Content preview:  Jonathan, what should I say, I'm feeling like an idiot
	now. Of course you're right. This actually solves the issue ;) thanks
	and sorry for wasting time, - Markus [...] 
	Content analysis details:   (-2.8 points, 5.0 required)
	pts rule name              description
	---- ---------------------- --------------------------------------------------
	-2.8 ALL_TRUSTED            Did not pass through any untrusted hosts
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jonathan,

what should I say, I'm feeling like an idiot now. Of course you're 
right. This actually solves the issue ;)

thanks and sorry for wasting time,
- Markus

Jonathan O'Connor wrote:
> Markus,
> As I'm sure you know, "sucht" is also an inflection of "suchen", e.g. 
> "er sucht etwas". Sadly, you may be able to fix this one problem, but 
> there will be hundreds of other problems too. Stemmers are never 
> perfect. You just have to live with it.
> 
> Most users won't have a problem with that. If they want want to search 
> for addiction, then they will probably add "drug" or "alcohol", etc... 
> to the search.
> Ciao,
> Jonathan O'Connor
> XCOM Dublin
> Inactive hide details for Markus Fischer <markus@fischer.name>Markus 
> Fischer <markus@fischer.name>
> 
> 
>                         *Markus Fischer <markus@fischer.name>*
> 
>                         31/01/2006 12:49
>                         Please respond to
>                         java-user@lucene.apache.org
> 
> 	
> 
> To
> 	
> java-user@lucene.apache.org
> 
> cc
> 	
> 
> Subject
> 	
> Stemming german words
> 
> 	
> 
> 
> Hi,
> 
> I'm currently using the GermanStemmer and it works well. However today
> I've found two words which get stemmed to the same stemm-word.
> 
> "Suche" and "Sucht" both get stemmed to the same "such" it seems,
> however they've completely different meanings in german (Suche = the
> Search, Sucht => addicttion).
> 
> Is there a way to tune the stemmer or are there alternatives available
> or should I look for another stemmer for the german language?
> 
> thanks for any pointers,
> - Markus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 
> 
> *** XCOM AG Legal Disclaimer ***
> 
> Diese E-Mail einschliesslich ihrer Anhaenge ist vertraulich und ist 
> allein fr den Gebrauch durch den vorgesehenen Empfaenger bestimmt. 
> Dritten ist das Lesen, Verteilen oder Weiterleiten dieser E-Mail 
> untersagt. Wir bitten, eine fehlgeleitete E-Mail unverzueglich 
> vollstaendig zu loeschen und uns eine Nachricht zukommen zu lassen.
> 
> This email may contain material that is confidential and for the sole 
> use of the intended recipient. Any review, distribution by others or 
> forwarding without express permission is strictly prohibited. If you are 
> not the intended recipient, please contact the sender and delete all copies.
> 
> Hauptsitz: Bahnstrasse 33, D-47877 Willich, USt-IdNr.: DE 812 885 664
> Kommunikation: Telefon +49 2154 9209-70, Telefax +49 2154 9209-900, 
> www.xcom.de
> Handelsregister: Amtsgericht Krefeld, HRB 10340
> Vorstand: Matthias Albrecht, Renate Becker-Grope, Marco Marty
> Vorsitzender des Aufsichtsrates: Stephan Steuer
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 21:54:26 2006
Return-Path: <java-user-return-18686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84831 invoked from network); 31 Jan 2006 21:54:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 21:54:26 -0000
Received: (qmail 69860 invoked by uid 500); 31 Jan 2006 21:54:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69618 invoked by uid 500); 31 Jan 2006 21:54:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69607 invoked by uid 99); 31 Jan 2006 21:54:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:54:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.137.212.28] (HELO basicbox6.server-home.net) (195.137.212.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 13:54:19 -0800
Received: from sleipnir2 (dslb-084-061-027-166.pools.arcor-ip.net [84.61.27.166])
	by basicbox6.server-home.net (Postfix) with ESMTP id C67E37187E2
	for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 22:53:51 +0100 (CET)
From: "Klaus" <klaus@vommond.de>
To: <java-user@lucene.apache.org>
Subject: AW: Related searches
Date: Tue, 31 Jan 2006 22:53:52 +0100
Message-ID: <001c01c626b0$d335b610$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2527
Thread-Index: AcYmlSBEpZDiwOafQmKRCMgnA1EfKgAGxX4w
In-Reply-To: <277d4c5d0601311003wcf6aa3bw68f8a63634e51f1e@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Leon,

have you tried the WorldNet ad-on? You can easily expand the query with
synonyms.

-----Urspr=FCngliche Nachricht-----
Von: xing jiang [mailto:gingerons@gmail.com]=20
Gesendet: Dienstag, 31. Januar 2006 19:03
An: java-user@lucene.apache.org
Betreff: Re: Related searches

I think you should build a type of domain specific dictionary first. You
should say, for instance, "automobile =3D car". This approach can =
satisfy your
requirement.

On 1/30/06, Leon Chaddock <leonchaddock@macranet.co.uk> wrote:
>
> Hi,
> Does anyone know if it is possible to show related searches with =
lucene,
> for example if someone searched for "car insurance" you could bring =
back
the
> results and related searches like these
>
>
> Automobile Insurance
> Car Insurance Quote
> Car Insurance Quotes
> Auto Insurance
> Cheap Car Insurance
> Car Insurance Company
> Car Insurance Companies
> Health Insurance
> Car Insurance Rates
> Car Insurance Rate
> Car Insurance Rental
> Insurance Quote
> Online Car Insurance Quote
> Home Insurance
>
> Thanks
>
> Leon
>



--
Regards

Jiang Xing


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 22:23:47 2006
Return-Path: <java-user-return-18687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 667 invoked from network); 31 Jan 2006 22:23:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 22:23:47 -0000
Received: (qmail 18476 invoked by uid 500); 31 Jan 2006 22:23:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18253 invoked by uid 500); 31 Jan 2006 22:23:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18242 invoked by uid 99); 31 Jan 2006 22:23:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 14:23:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO zproxy.gmail.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 14:23:40 -0800
Received: by zproxy.gmail.com with SMTP id 4so9911nzn
        for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 14:23:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mt4PBjbzTmRYEfqIsUELob3TFuK74Vx3jKRGyKwejdFIeIcYAcBBrrw2ziIg35ZN7hj59I5Y8hYUlF0gyLpYwdvAtoLNLpf5eFIQY1CQQZmxU20mmaNEumt621CdKnAs0lEIie7a7uJq4L+CBT/j5UT7c37rLWXkahbH6ExFZiU=
Received: by 10.65.103.3 with SMTP id f3mr2828925qbm;
        Tue, 31 Jan 2006 14:23:18 -0800 (PST)
Received: by 10.65.248.3 with HTTP; Tue, 31 Jan 2006 14:23:18 -0800 (PST)
Message-ID: <abe188f20601311423l2a13a2aco16e1e136997de1e3@mail.gmail.com>
Date: Tue, 31 Jan 2006 16:23:18 -0600
From: Rajesh Munavalli <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Related searches
In-Reply-To: <001c01c626b0$d335b610$6402a8c0@sleipnir2>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9615_11457229.1138746198826"
References: <277d4c5d0601311003wcf6aa3bw68f8a63634e51f1e@mail.gmail.com>
	 <001c01c626b0$d335b610$6402a8c0@sleipnir2>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9615_11457229.1138746198826
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

A word of caution in using synonyms alone
(1) Would not be able to suggest terms like "home", "cheap", "company",
which are not synonyms of either of the terms "car", "insurance"
(2) Would probably suggest terms like "machine" and "indemnity" (actual
synonyms for "car" and "insurance" retrieved from WordNet).

--
Rajesh Munavalli


On 1/31/06, Klaus <klaus@vommond.de> wrote:
>
> Hi Leon,
>
> have you tried the WorldNet ad-on? You can easily expand the query with
> synonyms.
>
> -----Urspr=FCngliche Nachricht-----
> Von: xing jiang [mailto:gingerons@gmail.com]
> Gesendet: Dienstag, 31. Januar 2006 19:03
> An: java-user@lucene.apache.org
> Betreff: Re: Related searches
>
> I think you should build a type of domain specific dictionary first. You
> should say, for instance, "automobile =3D car". This approach can satisfy
> your
> requirement.
>
> On 1/30/06, Leon Chaddock <leonchaddock@macranet.co.uk> wrote:
> >
> > Hi,
> > Does anyone know if it is possible to show related searches with lucene=
,
> > for example if someone searched for "car insurance" you could bring bac=
k
> the
> > results and related searches like these
> >
> >
> > Automobile Insurance
> > Car Insurance Quote
> > Car Insurance Quotes
> > Auto Insurance
> > Cheap Car Insurance
> > Car Insurance Company
> > Car Insurance Companies
> > Health Insurance
> > Car Insurance Rates
> > Car Insurance Rate
> > Car Insurance Rental
> > Insurance Quote
> > Online Car Insurance Quote
> > Home Insurance
> >
> > Thanks
> >
> > Leon
> >
>
>
>
> --
> Regards
>
> Jiang Xing
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9615_11457229.1138746198826--

From java-user-return-18688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Jan 31 23:46:05 2006
Return-Path: <java-user-return-18688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35343 invoked from network); 31 Jan 2006 23:46:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Jan 2006 23:46:04 -0000
Received: (qmail 42214 invoked by uid 500); 31 Jan 2006 23:45:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42192 invoked by uid 500); 31 Jan 2006 23:45:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42180 invoked by uid 99); 31 Jan 2006 23:45:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 15:45:58 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [61.6.32.55] (HELO smtp5.jaring.my) (61.6.32.55)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 15:45:54 -0800
Received: from webmail2.jaring.my (l4-bkj-p2.jaring.my [61.6.32.8])
	by smtp5.jaring.my (8.13.4/8.13.1) with ESMTP id k0VNjUqm075401
	for <java-user@lucene.apache.org>; Wed, 1 Feb 2006 07:45:31 +0800 (MYT)
	(envelope-from azlan95@myjaring.net)
Received: (from www@localhost)
	by webmail2.jaring.my (8.12.9p2/8.12.9/Submit) id k0VNjP2L058468
	for java-user@lucene.apache.org; Wed, 1 Feb 2006 07:45:25 +0800 (MYT)
	(envelope-from azlan95@myjaring.net)
Received: from cgl-r5-b17.time.net.my (cgl-r5-b17.time.net.my [211.24.8.17]) 
	by webmail.jaring.my (IMP) with HTTP 
	for <my38184@mbox.jaring.my>; Wed,  1 Feb 2006 07:45:25 +0800
Message-ID: <1138751125.43dff69525b83@webmail.jaring.my>
Date: Wed,  1 Feb 2006 07:45:25 +0800
From: Azlan Abdul Latiff <azlan95@myjaring.net>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Re: indexing whole harddrive
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: JARING Webmail v1.2 (http://www.jaring.my)
X-Originating-IP: 211.24.8.17
X-Virus-Scanned: JARING E-Mail Virus Scanner v2.0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi Rajesh,

thanks for the reply.  i'll go ahead with the new method as you suggest.


----- Original Message -----
From: "Rajesh Munavalli" <findmath@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Tuesday, January 31, 2006 10:06 PM
Subject: Re: indexing whole harddrive


You have to recursively traverse the directories using something
like...(in
Java)

void indexDocs(String file){
if (file.isDirectory()) { // if a directory
         String[] files = file.list(); // list its files
         for (int i = 0; i < files.length; i++) // recursively index them
            indexDocs(new File(file, files[i]));

      }
...
}

--
Rajesh Munavalli

On 1/31/06, Azlan Abdul Latiff <azlan95@myjaring.net> wrote:
>
> how can I index the whole hard drive?  I tried using "c:/" but it didnt
> work.
>
> The results only return c:/ directory where as a I want it to index all
> the sub folders as well as the the other directories.
>
> Azlan
>
>
> ----------------------------------------------------------------
> This e-mail has been sent via JARING webmail at http://www.jaring.my
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

----------------------------------------------------------------
This e-mail has been sent via JARING webmail at http://www.jaring.my

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 01 02:04:46 2006
Return-Path: <java-user-return-18689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86229 invoked from network); 1 Feb 2006 02:04:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Feb 2006 02:04:45 -0000
Received: (qmail 85108 invoked by uid 500); 1 Feb 2006 02:04:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84173 invoked by uid 500); 1 Feb 2006 02:04:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84162 invoked by uid 99); 1 Feb 2006 02:04:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 18:04:40 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,MIME_BOUND_NEXTPART,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of pradeep@danicorp.com designates 63.134.207.27 as permitted sender)
Received: from [63.134.207.27] (HELO GW6.webcontrolcenter.com) (63.134.207.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 18:04:39 -0800
Received: from mail25.webcontrolcenter.com [216.119.106.22] by GW6.webcontrolcenter.com with SMTP;
   Tue, 31 Jan 2006 19:03:57 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary=----_SmarterMail_NextPart_3348687423773777
Date: Tue, 31 Jan 2006 19:03:24 -0700
Subject: Greetings and my first question - Is it a good practise to store application configuration in Lucene
From: Pradeep Sharma <pradeep@danicorp.com>
Reply-To: pradeep@danicorp.com
To: <java-user@lucene.apache.org>
CC: 
Message-ID: <e97a509fb54c459aa9f81191c764d158@danicorp.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_SmarterMail_NextPart_3348687423773777
Content-Type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

=0D=0A=0D=0AI have just joined this user group, but I probably will be aski=
ng questions / contributing for a while now as I am starting to work on a p=
roduct which will use Lucene exclusively.=0D=0A=0D=0AStill in the designing=
 phase, and I see that we need to manage several user / application specifi=
c configurations and I am exploring the idea of storing the configuration i=
nformation also in the Index, may be create a separate index just for the c=
onfiguration, because each module of the application will have access to Lu=
cene classes.=0D=0A=0D=0AI know technically this can be done, but are there=
 any best practises which discourage this?=0D=0A=0D=0AThanks in advance.=0D=
=0A-Pradeep

------_SmarterMail_NextPart_3348687423773777--




From java-user-return-18690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 01 02:07:23 2006
Return-Path: <java-user-return-18690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87007 invoked from network); 1 Feb 2006 02:07:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Feb 2006 02:07:23 -0000
Received: (qmail 86720 invoked by uid 500); 1 Feb 2006 02:07:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85938 invoked by uid 500); 1 Feb 2006 02:07:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85927 invoked by uid 99); 1 Feb 2006 02:07:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 18:07:18 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.13 as permitted sender)
Received: from [219.125.112.13] (HELO nm05omta05d.dion.ne.jp) (219.125.112.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 31 Jan 2006 18:07:17 -0800
Received: from sekiguchi ([59.135.97.186])
	by nm05mta.dion.ne.jp
	id <20060201110655368.MAD9.81BAD78@nm05mta.dion.ne.jp>;
	Wed, 1 Feb 2006 11:06:55 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: maximum string length in index field
Date: Wed, 1 Feb 2006 11:06:52 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCMEFGCDAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <A040D0C1ED4F3243BA18A25F64C16F3DF7B316@usfl-exsw1.NA.CorpLAN.net>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter,

CharTokenizer may be the cause of the problem.
It is the parent Tokenizer of WhitespaceTokenizer
which is used by WhitespaceAnalyzer and it
has 255 bytes buffer.

How about using KeywordAnalyzer instead of WhitespaceAnalyzer?

Thanks,

Koji

> -----Original Message-----
> From: Peter.Kipping@taylorandfrancis.com 
> [mailto:Peter.Kipping@taylorandfrancis.com]
> Sent: Wednesday, February 01, 2006 6:08 AM
> To: java-user@lucene.apache.org
> Subject: maximum string length in index field
> 
> 
> I have some really long chemical names that I am storing in an index and
> it looks like they are being split into two terms.  Is there a way to
> increase the max term length?
> 
> Here is an example:
> 
> DTryptophanmethylLleucineethylLhprolinamidedeglycinamideluteinizing&nbsp
> ;hormonereleasing&nbsp;factor&nbsp;pig679010NN!#6-<h3>D<h0>-Tryptophan-7
> -(<h1>N<h0>-methyl-<h3>L<h0>-leucine)-9-(<h1>N<h0>-ethyl-<h3>L<h0>-proli
> namide)-10-deglycinamide-luteinizing&nbsp;hormone-releasing&nbsp;factor&
> nbsp;(pig)
> length of name: 298
> Number of docs in index: 1
> 
> sort_name:DTryptophanmethylLleucineethylLhprolinamidedeglycinamidelutein
> izing&nbsp;hormonereleasing&nbsp;factor&nbsp;pig679010NN!#6-<h3>D<h0>-Tr
> yptophan-7-(<h1>N<h0>-methyl-<h3>L<h0>-leucine)-9-(<h1>N<h0>-ethyl-<h3>L
> <h0>-prolinamide)-10-deglycinamide-luteinizing&nb   freq: 1
> 
> sort_name:sp;hormone-releasing&nbsp;factor&nbsp;(pig)   freq: 1
> 
> Total terms: 2   Total Occuracnes:2
> 
> I only put one name in the index using whitespace analyzer and making
> sure there are no whitespaces.  However there are two terms in the
> index.
> 
> Thanks,
> Peter
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 01 02:43:58 2006
Return-Path: <java-user-return-18691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4322 invoked from network); 1 Feb 2006 02:43:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Feb 2006 02:43:57 -0000
Received: (qmail 6842 invoked by uid 500); 1 Feb 2006 02:43:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6814 invoked by uid 500); 1 Feb 2006 02:43:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6803 invoked by uid 99); 1 Feb 2006 02:43:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 18:43:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 18:43:50 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2047AB7BF0
	for <java-user@lucene.apache.org>; Wed,  1 Feb 2006 13:43:29 +1100 (EST)
Message-ID: <43E022CE.6090808@nuix.com.au>
Date: Wed, 01 Feb 2006 13:54:06 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Greetings and my first question - Is it a good practise to store
 application configuration in Lucene
References: <e97a509fb54c459aa9f81191c764d158@danicorp.com>
In-Reply-To: <e97a509fb54c459aa9f81191c764d158@danicorp.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Pradeep Sharma wrote:
> Still in the designing phase, and I see that we need to manage several
 > user / application specific configurations and I am exploring the idea
 > of storing the configuration information also in the Index, may be
 > create a separate index just for the configuration, because each
 > module of the application will have access to Lucene classes.
> 
> I know technically this can be done, but are there any best practises
 > which discourage this?

This would make sense only if you're planning to do some kind of text 
search over the configuration.  Otherwise, you're better off just 
keeping configuration somewhere else.

Updating a text index when a configuration element changes is a less 
than pretty operation, whereas using the Preferences API is reasonably sane.

Daniel

-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 01 03:32:46 2006
Return-Path: <java-user-return-18692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21334 invoked from network); 1 Feb 2006 03:32:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Feb 2006 03:32:46 -0000
Received: (qmail 41559 invoked by uid 500); 1 Feb 2006 03:32:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40710 invoked by uid 500); 1 Feb 2006 03:32:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40699 invoked by uid 99); 1 Feb 2006 03:32:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 19:32:41 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO zproxy.gmail.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 19:32:40 -0800
Received: by zproxy.gmail.com with SMTP id k1so59095nzf
        for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 19:32:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=dNxo6OuT5YLtQ9o2pEhWDwH/GBzy3mr/v+0LtPtF2VcMZMksuCd9q/7gkMr30eyWhx5/ht21wYh7UVgrTWm+rnHaumPVBKIkWb5VEHirPl/XvudZhZt9V5184GDVQ8MQOloctZ8yixE61KlxHCBj60rxuqUskBHVhLtB7RTB56s=
Received: by 10.36.42.5 with SMTP id p5mr6335651nzp;
        Tue, 31 Jan 2006 19:32:19 -0800 (PST)
Received: by 10.36.37.14 with HTTP; Tue, 31 Jan 2006 19:32:19 -0800 (PST)
Message-ID: <6c33f9950601311932o307aaa94q2c6a2ffbca148122@mail.gmail.com>
Date: Wed, 1 Feb 2006 11:32:19 +0800
From: Chun Wei Ho <cwho.work@gmail.com>
To: java-user@lucene.apache.org
Subject: Distributed vs Merged Searching
In-Reply-To: <6c33f9950601311925n1c6c28e2o64f5be4b2c5e96b3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <6c33f9950601311925n1c6c28e2o64f5be4b2c5e96b3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am deploying a web application serving searches on a Lucene index,
and am deciding between distributing search between several machines
or single searching, and was hoping that someone could tell me from
their experiences:

+ Is there anything particular to watch out for if using distributed
searching instead of  searching one merged Lucene index?

+ What should be the size of the index that I am looking at before I
need to (or should be) turn to distributed searching to reduce
response/search time? I know it would depend a lot on hardware and request
frequency but I was wondering if anyone could post their hardware
info and index size as a reference of when/if they had to use
distributed search due to load issues.

Thanks :)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-18693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Feb 01 03:56:02 2006
Return-Path: <java-user-return-18693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31983 invoked from network); 1 Feb 2006 03:56:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Feb 2006 03:56:02 -0000
Received: (qmail 50063 invoked by uid 500); 1 Feb 2006 03:55:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50031 invoked by uid 500); 1 Feb 2006 03:55:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50020 invoked by uid 99); 1 Feb 2006 03:55:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 19:55:56 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hemantmjoshi@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Jan 2006 19:55:55 -0800
Received: by zproxy.gmail.com with SMTP id i11so55669nzh
        for <java-user@lucene.apache.org>; Tue, 31 Jan 2006 19:55:35 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EEEYgbr7wn8dKP0TUYpnV2jS/7rN9rwtMkYe4kqXitk5VoTLB1Z+UzsVlO8LhNz9VdDyKhTuQrE82zanfhAqxeL1z4rsQUuz6MRsBckAiz/Lvvpohl37Ysh1vtnNAZv4yNteWSXmXnlZgsMuXVjSQjXRveY1Tqh/AnjXDbnziU0=
Received: by 10.64.220.7 with SMTP id s7mr3016222qbg;
        Tue, 31 Jan 2006 19:55:34 -0800 (PST)
Received: by 10.65.211.13 with HTTP; Tue, 31 Jan 2006 19:55:34 -0800 (PST)
Message-ID: <6ef6bb4a0601311955q324aba97i1adc756743ef9a76@mail.gmail.com>
Date: Tue, 31 Jan 2006 21:55:34 -0600
From: Hemant Joshi <hemantmjoshi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Related searches
In-Reply-To: <abe188f20601311423l2a13a2aco16e1e136997de1e3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8987_21405715.1138766134864"
References: <277d4c5d0601311003wcf6aa3bw68f8a63634e51f1e@mail.gmail.com>
	 <001c01c626b0$d335b610$6402a8c0@sleipnir2>
	 <abe188f20601311423l2a13a2aco16e1e136997de1e3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8987_21405715.1138766134864
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Have you considered using bi-grams and tri-grams? It might be useful
indexing with NgramFilter and then searching for N-grams through the text.
You could also count the number of times a particular document consists of
"Car Insurance Rate" for term-frequency etc.
-Hemant

------=_Part_8987_21405715.1138766134864--

