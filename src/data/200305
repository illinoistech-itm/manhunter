From lucene-user-return-4351-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 07:06:00 2003
Return-Path: <lucene-user-return-4351-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77925 invoked from network); 1 May 2003 07:05:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 07:05:59 -0000
Received: (qmail 21412 invoked by uid 97); 1 May 2003 07:08:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21405 invoked from network); 1 May 2003 07:08:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 07:08:09 -0000
Received: (qmail 77703 invoked by uid 500); 1 May 2003 07:05:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77683 invoked from network); 1 May 2003 07:05:55 -0000
Received: from pmdfext.fao.org (168.202.2.15)
  by daedalus.apache.org with SMTP; 1 May 2003 07:05:55 -0000
Received: from PMDFINT ([168.202.2.12])
 by PMDFEXT.fao.org (PMDF V5.2-32 #41665) with ESMTP id
 <0HE7003HN53WXF@PMDFEXT.fao.org> for lucene-user@jakarta.apache.org; Thu,
 1 May 2003 09:07:09 +0200 (MET DST)
Received: from CONVERSION-DAEMON by PMDFINT.fao.org (PMDF V5.2-32 #41664)
 id <0HE700A01543UG@PMDFINT.fao.org>; Thu, 01 May 2003 09:07:16 +0200 (MET DST)
Received: from faoexch2.fao.org (faoexch2.fao.org [168.202.2.195])
 by PMDFINT.fao.org (PMDF V5.2-32 #41664)
 with ESMTP id <0HE7005PC542K0@PMDFINT.fao.org>; Thu,
 01 May 2003 09:07:14 +0200 (MET DST)
Received: by faoexch2.fao.org with Internet Mail Service (5.5.2650.21)
 id <KB94S7Z3>; Thu, 01 May 2003 09:05:55 +0200
Content-return: allowed
Date: Wed, 30 Apr 2003 18:28:46 +0200
From: "Hoad, Richard (AFIS)" <Richard.Hoad@fao.org>
Subject: RE: Range Query
To: "'amordo@infosciences.com'" <amordo@infosciences.com>,
 Lucene Users List <lucene-user@jakarta.apache.org>
Cc: "Lepri, Ennio (AFIS)" <Ennio.Lepri@fao.org>
Message-id: <11898960E237D411B53B0060B06BB44504A41006@afexch1.fao.org>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-type: text/plain; CHARSET=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We toString() and reparse queries like the following with no apparent
problems in version 1.2 but something undesirable could have crept into 1.3
RC-1.

+kot:"projects" +added:[19990101-null] +changed:[20030330-null]

The reason the date looks like jibberish (lo0ddiz2jml): We use a
org.apache.lucene.document.Field with the sortable string values you can see
in the above query string.

Richard and Ennio 

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: 29 April 2003 03:08
To: Lucene Users List
Subject: RE: Range Query


This sounds like a web application.  I'll assume this runs in a servlet
container. You could store the (Range)Query instance in the HttpSession as
well. 
This is more reliable than relying on toString(), in my opinion.

Otis


--- Aviran Mordo <amordo@infosciences.com> wrote:
> Well I use the toString() method to store the query in the result page
> in order to run the same query to get the next page.
> The reason that I use the toString method this way is because the
> query
> can be very complicated and consists of several Query objects
> (TermQuery, BooleanQuery, RangeQuery and plain ParsedQuery) combined
> together in one BooleanQuery. So this way I build the query object
> once
> according to the parameters that the user specified, and by using the
> toString() method I store the query string in the result page so when
> the user hit next page I can requery and get the next page, because
> at
> this point I don't have the original query parameters which can be a
> very long list of fields and values. Unless there is a better way of
> doing it?
> 
> As for your question what is lo0ddiz2jml. This is a DateField
> 
> Aviran.
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, April 28, 2003 11:02 AM
> To: Lucene Users List
> Subject: Re: Range Query
> 
> 
> Aviran,
> 
> Yes, it looks like there is a discrepency between QueryParser's Range 
> Query syntax and RangeQuery.toString() method. I can change the 
> latter, but who uses toString() for anything other than human-friendly
> print-outs?
> 
> What I wonder is why that Term, lo0ddiz2jml, oks like gibberish?
> 
> Otis
> 
> --- Aviran Mordo <amordo@infosciences.com> wrote:
> > Hi All,
> > I have submitted a bug report on this issue to bugzilla, but since
> I
> > haven't got any response to it I ask you guys
> >  
> > When the RangeQuery.toString() outputs. The result is something
> like
> > this: "PostDate:[0ddiz2jml-null]"
> > 
> > But the QueryParser does not handles the (-) sign (Throws and
> > exception), it expects the "TO" keyword. So in order for it to
> parse
> > the string.
> > 
> > The String has to be converted to "PostDate:[0ddiz2jml TO null]"
> > instead of "PostDate:[0ddiz2jml-null]"
> > 
> > Is this a BUG?
> > 
> > BTW: I use Lucene 1.3-RC1
> > 
> >  
> > 
> > Thanks,
> > 
> > Aviran Mordo
> > 
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo. http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo. http://search.yahoo.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4352-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 09:33:19 2003
Return-Path: <lucene-user-return-4352-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59331 invoked from network); 1 May 2003 09:33:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 09:33:18 -0000
Received: (qmail 22941 invoked by uid 97); 1 May 2003 09:35:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22934 invoked from network); 1 May 2003 09:35:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 09:35:30 -0000
Received: (qmail 59095 invoked by uid 500); 1 May 2003 09:33:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59080 invoked from network); 1 May 2003 09:33:12 -0000
Received: from unknown (HELO cytosine.atszone.com) (202.153.40.2)
  by daedalus.apache.org with SMTP; 1 May 2003 09:33:12 -0000
Received: from carcinoma (plasma [10.10.10.1])
	by cytosine.atszone.com (8.11.6/8.11.6) with ESMTP id h419XC906373
	for <lucene-user@jakarta.apache.org>; Thu, 1 May 2003 15:03:13 +0530
Message-ID: <004c01c30fc4$afe39480$160a0a0a@translogicsys.com>
Reply-To: "Sushma Sinha" <sushma@translogicsys.com>
From: "Sushma Sinha" <sushma@translogicsys.com>
To: <lucene-user@jakarta.apache.org>
Subject: Searching Date Fields
Date: Thu, 1 May 2003 15:03:11 +0530
Organization: TransLogic Systems
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0049_01C30FF2.C8258430"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0049_01C30FF2.C8258430
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Can someone help me on using date fields,=20
I need to peform searching on date fields. I am able to add date fields =
to index using=20
DateField.dateToString(messageDate) - where messageDate is a Date object =
, of format yyyy-MM-dd.
This does not show any error while indexing .(Assuming I am doing =
something wrong with the formats)

While reading the createdDate field value from the index (in String =
form), it shows up this column value in some format similar to this =
0debn3bk0.=20
And further I want to know in what format should i enter data to get =
query results as specifying a valid date for the=20
field while searching does not featch any results .=20

Any idea about what am I doing wrong?


- Sushma






------=_NextPart_000_0049_01C30FF2.C8258430--


From lucene-user-return-4353-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 09:47:11 2003
Return-Path: <lucene-user-return-4353-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70660 invoked from network); 1 May 2003 09:47:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 09:47:09 -0000
Received: (qmail 23073 invoked by uid 97); 1 May 2003 09:49:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23065 invoked from network); 1 May 2003 09:49:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 09:49:21 -0000
Received: (qmail 70401 invoked by uid 500); 1 May 2003 09:47:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70390 invoked from network); 1 May 2003 09:47:06 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 1 May 2003 09:47:06 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 4C73D10682A
	for <lucene-user@jakarta.apache.org>; Thu,  1 May 2003 19:50:19 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Searching Date Fields
Date: Thu, 1 May 2003 19:42:37 +1000
User-Agent: KMail/1.4.3
References: <004c01c30fc4$afe39480$160a0a0a@translogicsys.com>
In-Reply-To: <004c01c30fc4$afe39480$160a0a0a@translogicsys.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305011942.37894@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> While reading the createdDate field value from the index (in String form),
> it shows up this column value in some format similar to this 0debn3bk0. And

It's not jibberish, it's how Lucene indexes the date field. Internally Lucene 
works only with string, thus Lucene needs to convert any date values into a 
string value that can be compared properly, so 1st Jan 2000 will always be 
smaller than 2nd Jan 2000.

That at least how I understand Lucene to work, someone please correct me if 
I'm wrong.

victor

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4354-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 12:39:24 2003
Return-Path: <lucene-user-return-4354-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46850 invoked from network); 1 May 2003 12:39:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 12:39:24 -0000
Received: (qmail 27040 invoked by uid 97); 1 May 2003 12:41:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27033 invoked from network); 1 May 2003 12:41:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 12:41:23 -0000
Received: (qmail 46557 invoked by uid 500); 1 May 2003 12:39:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46546 invoked from network); 1 May 2003 12:39:21 -0000
Received: from idonserv.idoneast.ca (142.163.186.57)
  by daedalus.apache.org with SMTP; 1 May 2003 12:39:21 -0000
Subject: Velocity template
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C30FDE.B018B934"
Date: Thu, 1 May 2003 10:09:20 -0230
Message-ID: <18662745A94FB84D84548E700EEBF2830D25F0@idonserv.idoneast.ca>
X-MIMEOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Velocity template
Thread-Index: AcMP3q+7pTc77OZfRtitNsTr+0FF6g==
From: "Claude Favre" <cpfavre@idoneast.ca>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C30FDE.B018B934
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

I was looking at the archive and could not find any help on using lucene
with velocity vm template as opposed to jsp.

=20

I run the examples and the page that are return are jsp pages. I was
wondering if someone knew of a tutorial or sample on how to return the
search as a vm template.

=20

Thank you

=20

Claude

=20

Claude Favre =20
=20

=20

=20


------_=_NextPart_001_01C30FDE.B018B934--

From lucene-user-return-4355-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 12:53:53 2003
Return-Path: <lucene-user-return-4355-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66437 invoked from network); 1 May 2003 12:53:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 12:53:52 -0000
Received: (qmail 27302 invoked by uid 97); 1 May 2003 12:55:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27295 invoked from network); 1 May 2003 12:55:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 12:55:51 -0000
Received: (qmail 66137 invoked by uid 500); 1 May 2003 12:53:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66123 invoked from network); 1 May 2003 12:53:49 -0000
Received: from cosmos.phpwebhosting.com (66.33.60.222)
  by daedalus.apache.org with SMTP; 1 May 2003 12:53:49 -0000
Received: (qmail 30225 invoked by uid 508); 1 May 2003 12:53:45 -0000
Received: from unknown (HELO greenninja.com) (66.25.140.5)
  by cosmos.phpwebhosting.com with SMTP; 1 May 2003 12:53:45 -0000
Message-ID: <3EB118D8.2040503@greenninja.com>
Date: Thu, 01 May 2003 07:53:44 -0500
From: Jeff Linwood <jeff@greenninja.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Velocity template
References: <18662745A94FB84D84548E700EEBF2830D25F0@idonserv.idoneast.ca>
In-Reply-To: <18662745A94FB84D84548E700EEBF2830D25F0@idonserv.idoneast.ca>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

The demo is set up as a JSP application.  If you want to use Velocity 
with Lucene, it's actually very easy.

 From inside your application, when the user calls your Search action, 
use the search() method on IndexSearcher to get a Hits object.  The 
easiest (not necessarily the best performance, though) thing to do is to 
put that Hits object into a Velocity Context, and then loop through that 
Hits object in your Velocity template to get Documents. Read the Fields 
  off of your Document objects, and display them to the reader however 
it works for your app.

Hope this helps some,
Jeff Linwood

Claude Favre wrote:
> I was looking at the archive and could not find any help on using lucene
> with velocity vm template as opposed to jsp.
> 
>  
> 
> I run the examples and the page that are return are jsp pages. I was
> wondering if someone knew of a tutorial or sample on how to return the
> search as a vm template.
> 
>  
> 
> Thank you
> 
>  
> 
> Claude
> 
>  
> 
> Claude Favre  
>  
> 
>  
> 
>  
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4356-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 14:13:38 2003
Return-Path: <lucene-user-return-4356-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3612 invoked from network); 1 May 2003 14:13:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 14:13:38 -0000
Received: (qmail 29161 invoked by uid 97); 1 May 2003 14:15:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29154 invoked from network); 1 May 2003 14:15:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 14:15:36 -0000
Received: (qmail 3192 invoked by uid 500); 1 May 2003 14:13:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3181 invoked from network); 1 May 2003 14:13:33 -0000
Received: from precieuse.cirano.qc.ca (207.162.57.25)
  by daedalus.apache.org with SMTP; 1 May 2003 14:13:33 -0000
Received: from marthe.cirano.qc.ca (marthe.cirano.qc.ca [207.162.57.59])
	by precieuse.cirano.qc.ca (8.11.6/8.9.3) with ESMTP id h41EDSY27000;
	Thu, 1 May 2003 10:13:28 -0400
Received: from localhost (vauchers@localhost)
	by marthe.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id h41EDQ715427;
	Thu, 1 May 2003 10:13:26 -0400
Date: Thu, 1 May 2003 10:13:25 -0400 (EDT)
From: Stephane Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   Sushma Sinha <sushma@translogicsys.com>
Subject: Re: Searching Date Fields
In-Reply-To: <004c01c30fc4$afe39480$160a0a0a@translogicsys.com>
Message-ID: <Pine.LNX.4.44.0305011008150.13222-100000@marthe.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Use dateToString(Date date) one way and stringToTime(String s) the other.
You can check the validity of your Date object by printing it out using 
its toString() method. It's normal to see something like 0debn3bk0, its 
the internal representation of the date.

For searches, use the DateFilter.

On Thu, 1 May 2003, Sushma Sinha wrote:

> Can someone help me on using date fields, 
> I need to peform searching on date fields. I am able to add date fields to index using 
> DateField.dateToString(messageDate) - where messageDate is a Date object , of format yyyy-MM-dd.
> This does not show any error while indexing .(Assuming I am doing something wrong with the formats)
> 
> While reading the createdDate field value from the index (in String form), it shows up this column value in some format similar to this 0debn3bk0. 
> And further I want to know in what format should i enter data to get query results as specifying a valid date for the 
> field while searching does not featch any results . 
> 
> Any idea about what am I doing wrong?
> 
> 
> - Sushma
> 
> 
> 
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4357-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 14:28:38 2003
Return-Path: <lucene-user-return-4357-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40253 invoked from network); 1 May 2003 14:28:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 14:28:37 -0000
Received: (qmail 29686 invoked by uid 97); 1 May 2003 14:30:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29678 invoked from network); 1 May 2003 14:30:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 14:30:37 -0000
Received: (qmail 39791 invoked by uid 500); 1 May 2003 14:28:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39746 invoked from network); 1 May 2003 14:28:32 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 1 May 2003 14:28:32 -0000
Message-ID: <20030501142834.32130.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP; Thu, 01 May 2003 07:28:34 PDT
Date: Thu, 1 May 2003 07:28:34 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Range Query
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <11898960E237D411B53B0060B06BB44504A41006@afexch1.fao.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have changed RangeQuery's toString() in 1.3RC2 to use TO instead of
'-'.

Otis

--- "Hoad, Richard (AFIS)" <Richard.Hoad@fao.org> wrote:
> We toString() and reparse queries like the following with no apparent
> problems in version 1.2 but something undesirable could have crept
> into 1.3
> RC-1.
> 
> +kot:"projects" +added:[19990101-null] +changed:[20030330-null]
> 
> The reason the date looks like jibberish (lo0ddiz2jml): We use a
> org.apache.lucene.document.Field with the sortable string values you
> can see
> in the above query string.
> 
> Richard and Ennio 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: 29 April 2003 03:08
> To: Lucene Users List
> Subject: RE: Range Query
> 
> 
> This sounds like a web application.  I'll assume this runs in a
> servlet
> container. You could store the (Range)Query instance in the
> HttpSession as
> well. 
> This is more reliable than relying on toString(), in my opinion.
> 
> Otis
> 
> 
> --- Aviran Mordo <amordo@infosciences.com> wrote:
> > Well I use the toString() method to store the query in the result
> page
> > in order to run the same query to get the next page.
> > The reason that I use the toString method this way is because the
> > query
> > can be very complicated and consists of several Query objects
> > (TermQuery, BooleanQuery, RangeQuery and plain ParsedQuery)
> combined
> > together in one BooleanQuery. So this way I build the query object
> > once
> > according to the parameters that the user specified, and by using
> the
> > toString() method I store the query string in the result page so
> when
> > the user hit next page I can requery and get the next page, because
> > at
> > this point I don't have the original query parameters which can be
> a
> > very long list of fields and values. Unless there is a better way
> of
> > doing it?
> > 
> > As for your question what is lo0ddiz2jml. This is a DateField
> > 
> > Aviran.
> > 
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Sent: Monday, April 28, 2003 11:02 AM
> > To: Lucene Users List
> > Subject: Re: Range Query
> > 
> > 
> > Aviran,
> > 
> > Yes, it looks like there is a discrepency between QueryParser's
> Range 
> > Query syntax and RangeQuery.toString() method. I can change the 
> > latter, but who uses toString() for anything other than
> human-friendly
> > print-outs?
> > 
> > What I wonder is why that Term, lo0ddiz2jml, oks like gibberish?
> > 
> > Otis
> > 
> > --- Aviran Mordo <amordo@infosciences.com> wrote:
> > > Hi All,
> > > I have submitted a bug report on this issue to bugzilla, but
> since
> > I
> > > haven't got any response to it I ask you guys
> > >  
> > > When the RangeQuery.toString() outputs. The result is something
> > like
> > > this: "PostDate:[0ddiz2jml-null]"
> > > 
> > > But the QueryParser does not handles the (-) sign (Throws and
> > > exception), it expects the "TO" keyword. So in order for it to
> > parse
> > > the string.
> > > 
> > > The String has to be converted to "PostDate:[0ddiz2jml TO null]"
> > > instead of "PostDate:[0ddiz2jml-null]"
> > > 
> > > Is this a BUG?
> > > 
> > > BTW: I use Lucene 1.3-RC1
> > > 
> > >  
> > > 
> > > Thanks,
> > > 
> > > Aviran Mordo
> > > 
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4358-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 14:42:07 2003
Return-Path: <lucene-user-return-4358-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69619 invoked from network); 1 May 2003 14:42:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 14:42:06 -0000
Received: (qmail 52 invoked by uid 97); 1 May 2003 14:44:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 43 invoked from network); 1 May 2003 14:44:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 14:44:06 -0000
Received: (qmail 69333 invoked by uid 500); 1 May 2003 14:42:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69300 invoked from network); 1 May 2003 14:42:02 -0000
Received: from corp148mr2.mcgraw-hill.com (198.45.18.163)
  by daedalus.apache.org with SMTP; 1 May 2003 14:42:02 -0000
Received: by corp148mr2.mcgraw-hill.com (Switch-3.0.4/Switch-3.0.0) with SMTP id h41EfOMu025391
	for <lucene-user@jakarta.apache.org>; Thu, 1 May 2003 10:41:35 -0400 (EDT)
X-Lotus-FromDomain: FIS@MCGRAW-HILL
From: John_Chun@platts.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <85256D19.00502CAB.00@corpnj148ls01.mcgraw-hill.com>
Date: Thu, 1 May 2003 10:41:29 -0400
Subject: Re: Searching Date Fields
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N




Instead of using a DateFilter for queries, I have had very good luck in simply
using the internal representation of the dates in a range search.  For example:

     issue_date:[0debn3bk0 TO 0df]

Can anyone explain the advantages/disadvantages of doing date queries
in such a way over using a DateFilter?

thanks,
-John






Stephane Vaucher <vauchers@cirano.qc.ca> on 05/01/2003 10:13:25 AM


Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>
                                                              
                                                              
                                                              
 To:      Lucene Users List <lucene-user@jakarta.apache.org>, 
          Sushma Sinha <sushma@translogicsys.com>             
                                                              
 cc:      (bcc: John Chun/ST/FIS)                             
                                                              
                                                              
                                                              
 Subject: Re: Searching Date Fields                           
                                                              





Use dateToString(Date date) one way and stringToTime(String s) the other.
You can check the validity of your Date object by printing it out using
its toString() method. It's normal to see something like 0debn3bk0, its
the internal representation of the date.

For searches, use the DateFilter.

On Thu, 1 May 2003, Sushma Sinha wrote:

> Can someone help me on using date fields,
> I need to peform searching on date fields. I am able to add date fields to
index using
> DateField.dateToString(messageDate) - where messageDate is a Date object , of
format yyyy-MM-dd.
> This does not show any error while indexing .(Assuming I am doing something
wrong with the formats)
>
> While reading the createdDate field value from the index (in String form), it
shows up this column value in some format similar to this 0debn3bk0.
> And further I want to know in what format should i enter data to get query
results as specifying a valid date for the
> field while searching does not featch any results .
>
> Any idea about what am I doing wrong?
>
>
> - Sushma
>
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4359-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 01 15:12:10 2003
Return-Path: <lucene-user-return-4359-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23321 invoked from network); 1 May 2003 15:12:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 May 2003 15:12:09 -0000
Received: (qmail 1419 invoked by uid 97); 1 May 2003 15:14:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1412 invoked from network); 1 May 2003 15:14:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 1 May 2003 15:14:10 -0000
Received: (qmail 23036 invoked by uid 500); 1 May 2003 15:12:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23020 invoked from network); 1 May 2003 15:12:06 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 1 May 2003 15:12:06 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id J3QYSWPM; Thu, 1 May 2003 11:16:19 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Range Query
Date: Thu, 1 May 2003 11:12:30 -0400
Message-ID: <003301c30ff4$1b6dbf80$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <20030501142834.32130.qmail@web12707.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you very much.

Aviran

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Thursday, May 01, 2003 10:29 AM
To: Lucene Users List
Subject: RE: Range Query


I have changed RangeQuery's toString() in 1.3RC2 to use TO instead of
'-'.

Otis

--- "Hoad, Richard (AFIS)" <Richard.Hoad@fao.org> wrote:
> We toString() and reparse queries like the following with no apparent 
> problems in version 1.2 but something undesirable could have crept 
> into 1.3 RC-1.
> 
> +kot:"projects" +added:[19990101-null] +changed:[20030330-null]
> 
> The reason the date looks like jibberish (lo0ddiz2jml): We use a 
> org.apache.lucene.document.Field with the sortable string values you 
> can see in the above query string.
> 
> Richard and Ennio
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: 29 April 2003 03:08
> To: Lucene Users List
> Subject: RE: Range Query
> 
> 
> This sounds like a web application.  I'll assume this runs in a 
> servlet container. You could store the (Range)Query instance in the
> HttpSession as
> well. 
> This is more reliable than relying on toString(), in my opinion.
> 
> Otis
> 
> 
> --- Aviran Mordo <amordo@infosciences.com> wrote:
> > Well I use the toString() method to store the query in the result
> page
> > in order to run the same query to get the next page.
> > The reason that I use the toString method this way is because the 
> > query can be very complicated and consists of several Query objects
> > (TermQuery, BooleanQuery, RangeQuery and plain ParsedQuery)
> combined
> > together in one BooleanQuery. So this way I build the query object 
> > once according to the parameters that the user specified, and by 
> > using
> the
> > toString() method I store the query string in the result page so
> when
> > the user hit next page I can requery and get the next page, because 
> > at this point I don't have the original query parameters which can 
> > be
> a
> > very long list of fields and values. Unless there is a better way
> of
> > doing it?
> > 
> > As for your question what is lo0ddiz2jml. This is a DateField
> > 
> > Aviran.
> > 
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Sent: Monday, April 28, 2003 11:02 AM
> > To: Lucene Users List
> > Subject: Re: Range Query
> > 
> > 
> > Aviran,
> > 
> > Yes, it looks like there is a discrepency between QueryParser's
> Range
> > Query syntax and RangeQuery.toString() method. I can change the
> > latter, but who uses toString() for anything other than
> human-friendly
> > print-outs?
> > 
> > What I wonder is why that Term, lo0ddiz2jml, oks like gibberish?
> > 
> > Otis
> > 
> > --- Aviran Mordo <amordo@infosciences.com> wrote:
> > > Hi All,
> > > I have submitted a bug report on this issue to bugzilla, but
> since
> > I
> > > haven't got any response to it I ask you guys
> > >  
> > > When the RangeQuery.toString() outputs. The result is something
> > like
> > > this: "PostDate:[0ddiz2jml-null]"
> > > 
> > > But the QueryParser does not handles the (-) sign (Throws and 
> > > exception), it expects the "TO" keyword. So in order for it to
> > parse
> > > the string.
> > > 
> > > The String has to be converted to "PostDate:[0ddiz2jml TO null]" 
> > > instead of "PostDate:[0ddiz2jml-null]"
> > > 
> > > Is this a BUG?
> > > 
> > > BTW: I use Lucene 1.3-RC1
> > > 
> > >  
> > > 
> > > Thanks,
> > > 
> > > Aviran Mordo
> > > 
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo. http://search.yahoo.com
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo. http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4360-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 07:23:55 2003
Return-Path: <lucene-user-return-4360-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32774 invoked from network); 2 May 2003 07:23:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 07:23:54 -0000
Received: (qmail 23178 invoked by uid 97); 2 May 2003 07:26:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23171 invoked from network); 2 May 2003 07:26:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 07:26:04 -0000
Received: (qmail 32464 invoked by uid 500); 2 May 2003 07:23:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32373 invoked from network); 2 May 2003 07:23:44 -0000
Received: from mail.fin-rlp.de (212.7.174.99)
  by daedalus.apache.org with SMTP; 2 May 2003 07:23:44 -0000
Received: from fw_ofd ([192.168.200.200])
	by mail.fin-rlp.de (8.9.3/8.9.3) with SMTP id JAA28308
	for <lucene-user@jakarta.apache.org>; Fri, 2 May 2003 09:23:55 +0200
Received: from  ([10.8.3.242]) by fw_ofd; Fri, 02 May 2003 09:23:54 +0200 (MET DST)
Received: by OFDMXS01 with Internet Mail Service (5.5.2653.19)
	id <2Q30LSMZ>; Fri, 2 May 2003 09:23:55 +0200
Message-ID: <3C41B6C7D755D511BC5700005A98810C0347A18D@OFDMXS01>
From: "Borkenhagen, Michael (ofd-ko zdfin)"
	 <Michael.Borkenhagen@ofd-ko.fin-rlp.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: Using lucene with HSSF from Apache
Date: Fri, 2 May 2003 09:23:55 +0200 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You should have read the HSSF javadoc more thoroughly; I think that=B4s a
Question for POI users, but I=B4d like to help you anywy.
I=B4d extract the text form an Excel Sheet like this :


public Reader getText(File f) throws IOException {
 StringBuffer contentBuffer =3D new StringBuffer();
    HSSFWorkbook wb =3D new HSSFWorkbook(new FileInputStream(f));
    int numberOfSheets =3D wb.getNumberOfSheets();
    for (int i =3D 0; i < numberOfSheets; i++) {
      HSSFSheet sheet =3D wb.getSheetAt(i);
      int numberOfRows =3D sheet.getLastRowNum();
      for (int j =3D 0; j < numberOfRows; j++) {
        HSSFRow row =3D sheet.getRow(j);
        if (row !=3D null) {      // empty lines : null :(
          Iterator it =3D row.cellIterator();
          while (it.hasNext()) {
            HSSFCell cell =3D (HSSFCell)it.next();
            int type =3D cell.getCellType();
            if (type =3D=3D HSSFCell.CELL_TYPE_STRING) {
              contentBuffer.append(cell.getStringCellValue());
              contentBuffer.append(Konstanten.BLANK);
            }
          }
        }
      }
    }
    String contentAsStr =3D contentBuffer.toString();
    // create a tmp output stream with the size of the content.
    ByteArrayOutputStream out =3D new ByteArrayOutputStream();
    ivContents =3D contentAsStr.getBytes();
    return new InputStreamReader(new ByteArrayInputStream(ivContents));
}

Michael


-----Urspr=FCngliche Nachricht-----
Von: Shoba Ramachandran [mailto:shoba_duruvan@yahoo.com]
Gesendet: Mittwoch, 30. April 2003 18:10
An: lucene-user@jakarta.apache.org
Betreff: Using lucene with HSSF from Apache


Hi,

Has anyone tried to index xls and doc files?
I'm trying to do with HSSF from apache and using
lucene1.2

This code returns me binary and printing it out gives
junk chracters. File indexed like this returns nothing
upon search.=20

public static byte[] parse(File file) throws Exception
  {
    POIFSFileSystem fs =3D new POIFSFileSystem(new
FileInputStream(file));
HSSFWorkbook wb =3D new HSSFWorkbook(fs);
byte[] xlsInfo =3D wb.getBytes();
    System.out.println("xls content :  "+
xlsInfo.toString());
return xlsInfo;
  }

Thanks in advance for your help
Shoba


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4361-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 09:33:06 2003
Return-Path: <lucene-user-return-4361-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 428 invoked from network); 2 May 2003 09:33:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 09:33:03 -0000
Received: (qmail 25655 invoked by uid 97); 2 May 2003 09:35:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25648 invoked from network); 2 May 2003 09:35:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 09:35:17 -0000
Received: (qmail 183 invoked by uid 500); 2 May 2003 09:32:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 168 invoked from network); 2 May 2003 09:32:58 -0000
Received: from bureau8.utcc.utoronto.ca (128.100.132.18)
  by daedalus.apache.org with SMTP; 2 May 2003 09:32:58 -0000
Received: from iba-dip5.nat.okstate.edu ([139.78.10.53] HELO ca95035 ident: IDENT-NOT-QUERIED [port 19922]) by bureau8.utcc.utoronto.ca with SMTP id <918567-7830>; Fri, 2 May 2003 05:33:10 -0400
Message-ID: <009b01c3108d$d8753920$7500520a@ca95035>
From:	"Andy Nauli" <andy.nauli@utoronto.ca>
To:	<lucene-user@jakarta.apache.org>
Subject: lucene for statistical analysis
Date: Fri, 2 May 2003 04:33:10 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hello,

I am just starting looking at lucene for my project.

Before I proceed, I would like to know if it's a good idea to use lucene for
creating index and also performing statistical analysis on the index (e.g.
most frequent words, number of appearance of certain index token, etc.)

if lucene is not a good candidate, can anyone suggest an alternatives ?

thanks in advance
andy


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4362-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 10:02:20 2003
Return-Path: <lucene-user-return-4362-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27779 invoked from network); 2 May 2003 10:02:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 10:02:20 -0000
Received: (qmail 26187 invoked by uid 97); 2 May 2003 10:04:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26180 invoked from network); 2 May 2003 10:04:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 10:04:34 -0000
Received: (qmail 27554 invoked by uid 500); 2 May 2003 10:02:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27541 invoked from network); 2 May 2003 10:02:14 -0000
Received: from smtp2.clb.oleane.net (213.56.31.18)
  by daedalus.apache.org with SMTP; 2 May 2003 10:02:14 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp2.clb.oleane.net with ESMTP id h42A2Qat008520
	for <lucene-user@jakarta.apache.org>; Fri, 2 May 2003 12:02:27 +0200
Message-ID: <039801c31092$19769fa0$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <009b01c3108d$d8753920$7500520a@ca95035>
Subject: Re: lucene for statistical analysis
Date: Fri, 2 May 2003 12:03:35 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Creating an index for Lucene is indeed a good idea ;-)

It's very easy to retrieve informations about the most frequent Terms in the
index and the frequency of a given Term.
(e.g. using  IndexReader.termDocs(Term term))

But there's currently no method in the API to get the frequency of a
PhraseQuery. There was a discussion about that particular point a long time
ago (see
http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg00101.html).
This is also in the list of future improvments
http://nagoya.apache.org/bugzilla/show_bug.cgi?id=18932.

I implemented it, but in a old version of Lucene. Because of the
modifications made in the Scoring recently it has  to be redone. The problem
is that computing the frequency of a PhraseQuery takes a lot of time (in a
regular search as well).

If you don't need frequencies for PhraseQueries - Lucene is a good
solution.Otherwise changes must be done in Lucene.

I'll try to take a look at it soon and propose a patch to the core sources.


----- Original Message -----
From: "Andy Nauli" <andy.nauli@utoronto.ca>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, May 02, 2003 11:33 AM
Subject: lucene for statistical analysis


> hello,
>
> I am just starting looking at lucene for my project.
>
> Before I proceed, I would like to know if it's a good idea to use lucene
for
> creating index and also performing statistical analysis on the index (e.g.
> most frequent words, number of appearance of certain index token, etc.)
>
> if lucene is not a good candidate, can anyone suggest an alternatives ?
>
> thanks in advance
> andy
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4363-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 11:20:50 2003
Return-Path: <lucene-user-return-4363-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 79934 invoked from network); 2 May 2003 11:20:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 11:20:49 -0000
Received: (qmail 27750 invoked by uid 97); 2 May 2003 11:22:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27743 invoked from network); 2 May 2003 11:22:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 11:22:49 -0000
Received: (qmail 79666 invoked by uid 500); 2 May 2003 11:20:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79654 invoked from network); 2 May 2003 11:20:45 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 2 May 2003 11:20:45 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h42BMGd19436
	for <lucene-user@jakarta.apache.org>; Fri, 2 May 2003 16:52:17 +0530
Received: from ganesh (ws185.newgen.co.in [192.168.5.185])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h42BeoRr029084
	for <lucene-user@jakarta.apache.org>; Fri, 2 May 2003 17:10:51 +0530
Message-ID: <018001c3109c$e58ad750$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Query string
Date: Fri, 2 May 2003 16:50:53 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_017D_01C310CA.FE655D80"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_017D_01C310CA.FE655D80
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

 Hello,
 Im having two fields identifier and contents. Both are indexed.
 I have to search on both fields.
=20
1.  My search string is (Contents:searchtext) AND (identifier:10 OR =
identifier:60 OR identifier:100)=20
     But im not getting any results from the above query.=20
     If i do query.toString("Contents") then only +Contents:searchtext =
+() gets printed.
     If im using TermQuery for each term and if i combine using =
BooleanQuery then everythin works fine.
     I don't know where im wrong.

2.  which will be faster
     a. Executing a big query ex:(Contents:searchtext) AND =
(identifier:10 OR identifier:60 OR identifier:100 =
......................... )=20
     b. Searching Contents from Lucene and fitering the results with the =
identifier.

3. If i want the results sorted in identifier then what should i do??

please send me some suggestions.

regards
ganesh

=20

=20

------=_NextPart_000_017D_01C310CA.FE655D80--


From lucene-user-return-4364-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 11:49:15 2003
Return-Path: <lucene-user-return-4364-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16828 invoked from network); 2 May 2003 11:49:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 11:49:15 -0000
Received: (qmail 28342 invoked by uid 97); 2 May 2003 11:51:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28335 invoked from network); 2 May 2003 11:51:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 11:51:15 -0000
Received: (qmail 16547 invoked by uid 500); 2 May 2003 11:49:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16536 invoked from network); 2 May 2003 11:49:11 -0000
Received: from mousepad.xtramind.dfki.de (134.96.191.5)
  by daedalus.apache.org with SMTP; 2 May 2003 11:49:11 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id A7C787D85
	for <lucene-user@jakarta.apache.org>; Fri,  2 May 2003 13:49:10 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 7A32A7E00
	for <lucene-user@jakarta.apache.org>; Fri,  2 May 2003 13:48:59 +0200 (MEST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Query string
Date: Fri, 2 May 2003 13:48:59 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC01599B@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query string
Thread-Index: AcMQnOlB87oWVKgnSbGnRjm2et/zbwAAtMog
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

To 1: what analyzer are you using? Some analyzers filter out numbers;
the empty disjunction you get then can never be met by any document.

To 2.: Depends on how often you find 10, 60 or 100 in your documents
as identifier, and how often your searchtext occurs. In general:
using the big query should be much faster, as access to the identifier
will generate more file access operations (if there is any number
of result documents to speak of).

Regards,

Karsten

-----Urspr=FCngliche Nachricht-----
Von: mganesh [mailto:mganesh@newgen.co.in]
Gesendet: Freitag, 2. Mai 2003 13:21
An: Lucene Users List
Betreff: Query string


 Hello,
 Im having two fields identifier and contents. Both are indexed.
 I have to search on both fields.
=20
1.  My search string is (Contents:searchtext) AND (identifier:10 OR =
identifier:60 OR identifier:100)=20
     But im not getting any results from the above query.=20
     If i do query.toString("Contents") then only +Contents:searchtext =
+() gets printed.
     If im using TermQuery for each term and if i combine using =
BooleanQuery then everythin works fine.
     I don't know where im wrong.

2.  which will be faster
     a. Executing a big query ex:(Contents:searchtext) AND =
(identifier:10 OR identifier:60 OR identifier:100 =
......................... )=20
     b. Searching Contents from Lucene and fitering the results with the =
identifier.

3. If i want the results sorted in identifier then what should i do??

please send me some suggestions.

regards
ganesh

=20

=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4365-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 15:22:07 2003
Return-Path: <lucene-user-return-4365-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 21503 invoked from network); 2 May 2003 15:22:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 15:22:07 -0000
Received: (qmail 5632 invoked by uid 97); 2 May 2003 15:24:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5625 invoked from network); 2 May 2003 15:24:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 15:24:09 -0000
Received: (qmail 20624 invoked by uid 500); 2 May 2003 15:21:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20565 invoked from network); 2 May 2003 15:21:55 -0000
Received: from web40112.mail.yahoo.com (66.218.78.46)
  by daedalus.apache.org with SMTP; 2 May 2003 15:21:55 -0000
Message-ID: <20030502152158.6807.qmail@web40112.mail.yahoo.com>
Received: from [163.188.121.119] by web40112.mail.yahoo.com via HTTP; Fri, 02 May 2003 08:21:58 PDT
Date: Fri, 2 May 2003 08:21:58 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: Re: AW: Using lucene with HSSF from Apache
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3C41B6C7D755D511BC5700005A98810C0347A18D@OFDMXS01>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael,

Thanks for your reply.
This is what I finally did. Now my concern is if the
file is huge (say 15MB) and has many sheets and cells,
would the performance be bad by doing like this.

Thanks again very much
Shoba


--- "Borkenhagen, Michael (ofd-ko zdfin)"
<Michael.Borkenhagen@ofd-ko.fin-rlp.de> wrote:
> You should have read the HSSF javadoc more
> thoroughly; I think thats a
> Question for POI users, but Id like to help you
> anywy.
> Id extract the text form an Excel Sheet like this :
> 
> 
> public Reader getText(File f) throws IOException {
>  StringBuffer contentBuffer = new StringBuffer();
>     HSSFWorkbook wb = new HSSFWorkbook(new
> FileInputStream(f));
>     int numberOfSheets = wb.getNumberOfSheets();
>     for (int i = 0; i < numberOfSheets; i++) {
>       HSSFSheet sheet = wb.getSheetAt(i);
>       int numberOfRows = sheet.getLastRowNum();
>       for (int j = 0; j < numberOfRows; j++) {
>         HSSFRow row = sheet.getRow(j);
>         if (row != null) {      // empty lines :
> null :(
>           Iterator it = row.cellIterator();
>           while (it.hasNext()) {
>             HSSFCell cell = (HSSFCell)it.next();
>             int type = cell.getCellType();
>             if (type == HSSFCell.CELL_TYPE_STRING) {
>              
> contentBuffer.append(cell.getStringCellValue());
>              
> contentBuffer.append(Konstanten.BLANK);
>             }
>           }
>         }
>       }
>     }
>     String contentAsStr = contentBuffer.toString();
>     // create a tmp output stream with the size of
> the content.
>     ByteArrayOutputStream out = new
> ByteArrayOutputStream();
>     ivContents = contentAsStr.getBytes();
>     return new InputStreamReader(new
> ByteArrayInputStream(ivContents));
> }
> 
> Michael
> 
> 
> -----Ursprngliche Nachricht-----
> Von: Shoba Ramachandran
> [mailto:shoba_duruvan@yahoo.com]
> Gesendet: Mittwoch, 30. April 2003 18:10
> An: lucene-user@jakarta.apache.org
> Betreff: Using lucene with HSSF from Apache
> 
> 
> Hi,
> 
> Has anyone tried to index xls and doc files?
> I'm trying to do with HSSF from apache and using
> lucene1.2
> 
> This code returns me binary and printing it out
> gives
> junk chracters. File indexed like this returns
> nothing
> upon search. 
> 
> public static byte[] parse(File file) throws
> Exception
>   {
>     POIFSFileSystem fs = new POIFSFileSystem(new
> FileInputStream(file));
> HSSFWorkbook wb = new HSSFWorkbook(fs);
> byte[] xlsInfo = wb.getBytes();
>     System.out.println("xls content :  "+
> xlsInfo.toString());
> return xlsInfo;
>   }
> 
> Thanks in advance for your help
> Shoba
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4366-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 15:30:28 2003
Return-Path: <lucene-user-return-4366-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42798 invoked from network); 2 May 2003 15:30:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 15:30:28 -0000
Received: (qmail 5924 invoked by uid 97); 2 May 2003 15:32:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5917 invoked from network); 2 May 2003 15:32:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 15:32:31 -0000
Received: (qmail 41682 invoked by uid 500); 2 May 2003 15:30:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41637 invoked from network); 2 May 2003 15:30:13 -0000
Received: from web40105.mail.yahoo.com (66.218.78.39)
  by daedalus.apache.org with SMTP; 2 May 2003 15:30:13 -0000
Message-ID: <20030502153015.52329.qmail@web40105.mail.yahoo.com>
Received: from [163.188.121.119] by web40105.mail.yahoo.com via HTTP; Fri, 02 May 2003 08:30:15 PDT
Date: Fri, 2 May 2003 08:30:15 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: RE: Using lucene with HSSF from Apache
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A96545@bruex4.eu.levi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Michel,

Are you able to index and search xls and doc files
with just Lucene using SimpleAnalyzer????
There is no need for POI?
With Lucene, you are able to extract the xls content
as text?

Let me try as you explained.
Thanks very much for your reply.
Shoba

--- MMachado@LEVI.com wrote:
> Hi, 
> I did it, but I use only lucene. You need to create
> an IndexWriter with
> SimpleAnalyzer, an InputStream as new
> FileInputStream, create Document with
> two Fields: one contains the file path and one
> contains the file's content).
> That's all. 
> Michel
> 
> -----Original Message-----
> From: Shoba Ramachandran
> [mailto:shoba_duruvan@yahoo.com] 
> Sent: Wednesday, April 30, 2003 6:10 PM
> To: lucene-user@jakarta.apache.org
> Subject: Using lucene with HSSF from Apache
> 
> Hi,
> 
> Has anyone tried to index xls and doc files?
> I'm trying to do with HSSF from apache and using
> lucene1.2
> 
> This code returns me binary and printing it out
> gives
> junk chracters. File indexed like this returns
> nothing
> upon search. 
> 
> public static byte[] parse(File file) throws
> Exception
>   {
>     POIFSFileSystem fs = new POIFSFileSystem(new
> FileInputStream(file));
> HSSFWorkbook wb = new HSSFWorkbook(fs);
> byte[] xlsInfo = wb.getBytes();
>     System.out.println("xls content :  "+
> xlsInfo.toString());
> return xlsInfo;
>   }
> 
> Thanks in advance for your help
> Shoba
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4367-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 15:32:18 2003
Return-Path: <lucene-user-return-4367-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46666 invoked from network); 2 May 2003 15:32:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 15:32:17 -0000
Received: (qmail 5984 invoked by uid 97); 2 May 2003 15:34:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5977 invoked from network); 2 May 2003 15:34:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 15:34:20 -0000
Received: (qmail 46322 invoked by uid 500); 2 May 2003 15:32:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46262 invoked from network); 2 May 2003 15:32:13 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 2 May 2003 15:32:13 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id A885210682D
	for <lucene-user@jakarta.apache.org>; Sat,  3 May 2003 01:35:14 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: High number of files in the index
Date: Sat, 3 May 2003 01:27:15 +1000
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305030127.15302@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi list,

I'm experiencing a high number of files in the Lucene index, even after 
running optimize I still have over 600 files in my Lucene index. Now the 
scary thing is that's about the same number of document that I indexed.

This problem didn't happen before, the only change that I can think of is that 
I'm changing the documents being indexed. Previously all documents have the 
same fields, but now each document has a different set of field indexed. 

Is this the problem? Will this cause the high number of files in my index 
directory?

Please someone say no .. because otherwise I'm dead.


victor

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4368-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 15:40:58 2003
Return-Path: <lucene-user-return-4368-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63139 invoked from network); 2 May 2003 15:40:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 15:40:58 -0000
Received: (qmail 6297 invoked by uid 97); 2 May 2003 15:43:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6290 invoked from network); 2 May 2003 15:43:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 15:43:01 -0000
Received: (qmail 62847 invoked by uid 500); 2 May 2003 15:40:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62834 invoked from network); 2 May 2003 15:40:55 -0000
Received: from resva-xbh03.info.trw.com (158.114.112.189)
  by daedalus.apache.org with SMTP; 2 May 2003 15:40:55 -0000
Received: from resva-xbh03.info.trw.com ([158.114.112.189]) by resva-xbh03.info.trw.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 2 May 2003 11:40:57 -0400
Received: from resva-xbh01.info.trw.com ([158.114.112.164])
 by resva-xbh03.info.trw.com (SAVSMTP 3.0.0.44) with SMTP id M2003050211405700396
 for <lucene-user@jakarta.apache.org>; Fri, 02 May 2003 11:40:57 -0400
Received: from cleut-xbh01.info.trw.com ([158.114.164.109]) by resva-xbh01.info.trw.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 2 May 2003 11:40:57 -0400
Received: from cleut-xmb01.info.trw.com ([158.114.164.107]) by cleut-xbh01.info.trw.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 2 May 2003 09:40:56 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.0.6344.0
content-class: urn:content-classes:message
Subject: Index Path in WAR
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 2 May 2003 09:40:55 -0600
Message-ID: <B519E56A7A231C4286F099EF124CCB7F442E4D@cleut-xmb01>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Index Path in WAR
Thread-Index: AcMQwTiICMpVDcKDScW9yUPPKa+/yg==
From: <Jason.Cox@trw.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 02 May 2003 15:40:56.0333 (UTC) FILETIME=[38BFC3D0:01C310C1]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

List,

I'm having problems using an absolute path to the index directory when =
my web application is deployed in a WAR file.  The absolute path changes =
depending on the server.  Is there a way to either dynamically determine =
an absolute path to the index directory or to use relative pathing?

Thanks in advance,

Jason

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4369-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 15:41:32 2003
Return-Path: <lucene-user-return-4369-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63951 invoked from network); 2 May 2003 15:41:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 15:41:30 -0000
Received: (qmail 6315 invoked by uid 97); 2 May 2003 15:43:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6308 invoked from network); 2 May 2003 15:43:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 15:43:33 -0000
Received: (qmail 63666 invoked by uid 500); 2 May 2003 15:41:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63653 invoked from network); 2 May 2003 15:41:27 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 2 May 2003 15:41:27 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id J3QYSW7B; Fri, 2 May 2003 11:46:04 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: High number of files in the index
Date: Fri, 2 May 2003 11:41:56 -0400
Message-ID: <000301c310c1$628ff540$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <200305030127.15302@bah>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

AFAIK the number of files depends among other things on the number of
fields.
Aviran

-----Original Message-----
From: Victor Hadianto [mailto:victorh@nuix.com.au] 
Sent: Friday, May 02, 2003 11:27 AM
To: Lucene Users List
Subject: High number of files in the index


Hi list,

I'm experiencing a high number of files in the Lucene index, even after 
running optimize I still have over 600 files in my Lucene index. Now the

scary thing is that's about the same number of document that I indexed.

This problem didn't happen before, the only change that I can think of
is that 
I'm changing the documents being indexed. Previously all documents have
the 
same fields, but now each document has a different set of field indexed.


Is this the problem? Will this cause the high number of files in my
index 
directory?

Please someone say no .. because otherwise I'm dead.


victor

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4370-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 17:29:53 2003
Return-Path: <lucene-user-return-4370-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30349 invoked from network); 2 May 2003 17:29:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 17:29:52 -0000
Received: (qmail 10183 invoked by uid 97); 2 May 2003 17:31:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10176 invoked from network); 2 May 2003 17:31:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 17:31:56 -0000
Received: (qmail 29242 invoked by uid 500); 2 May 2003 17:29:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29155 invoked from network); 2 May 2003 17:29:40 -0000
Received: from bureau8.utcc.utoronto.ca (128.100.132.18)
  by daedalus.apache.org with SMTP; 2 May 2003 17:29:40 -0000
Received: from iba-dip5.nat.okstate.edu ([139.78.10.53] HELO fckgw ident: IDENT-NOT-QUERIED [port 1987]) by bureau8.utcc.utoronto.ca with SMTP id <918581-15245>; Fri, 2 May 2003 13:29:24 -0400
Message-ID: <00fb01c310d0$6067e750$7500520a@fckgw>
From:	"Andy Nauli" <andy.nauli@utoronto.ca>
To:	"Lucene Users List" <lucene-user@jakarta.apache.org>
References: <009b01c3108d$d8753920$7500520a@ca95035> <039801c31092$19769fa0$6a0010ac@teck>
Subject: Re: lucene for statistical analysis
Date: Fri, 2 May 2003 12:29:24 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Julien and Leo,

Based on your respond, I think Lucene should
provide what I need.

I don't think that I will need to store the statistical
data with the index, as long as I can compute them,
it will be fine...

Thanks again
Andy
----- Original Message ----- 
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 02, 2003 5:03 AM
Subject: Re: lucene for statistical analysis


> Creating an index for Lucene is indeed a good idea ;-)
>
> It's very easy to retrieve informations about the most frequent Terms in
the
> index and the frequency of a given Term.
> (e.g. using  IndexReader.termDocs(Term term))
>
> But there's currently no method in the API to get the frequency of a
> PhraseQuery. There was a discussion about that particular point a long
time
> ago (see
> http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg00101.html).
> This is also in the list of future improvments
> http://nagoya.apache.org/bugzilla/show_bug.cgi?id=18932.
>
> I implemented it, but in a old version of Lucene. Because of the
> modifications made in the Scoring recently it has  to be redone. The
problem
> is that computing the frequency of a PhraseQuery takes a lot of time (in a
> regular search as well).
>
> If you don't need frequencies for PhraseQueries - Lucene is a good
> solution.Otherwise changes must be done in Lucene.
>
> I'll try to take a look at it soon and propose a patch to the core
sources.
>
>
> ----- Original Message -----
> From: "Andy Nauli" <andy.nauli@utoronto.ca>
> To: <lucene-user@jakarta.apache.org>
> Sent: Friday, May 02, 2003 11:33 AM
> Subject: lucene for statistical analysis
>
>
> > hello,
> >
> > I am just starting looking at lucene for my project.
> >
> > Before I proceed, I would like to know if it's a good idea to use lucene
> for
> > creating index and also performing statistical analysis on the index
(e.g.
> > most frequent words, number of appearance of certain index token, etc.)
> >
> > if lucene is not a good candidate, can anyone suggest an alternatives ?
> >
> > thanks in advance
> > andy
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4371-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 02 21:30:19 2003
Return-Path: <lucene-user-return-4371-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65056 invoked from network); 2 May 2003 21:30:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 May 2003 21:30:19 -0000
Received: (qmail 19382 invoked by uid 97); 2 May 2003 21:32:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19375 invoked from network); 2 May 2003 21:32:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 2 May 2003 21:32:24 -0000
Received: (qmail 64647 invoked by uid 500); 2 May 2003 21:30:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64630 invoked from network); 2 May 2003 21:30:13 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 2 May 2003 21:30:13 -0000
Subject: OutOfMemoryError
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF50E67028.1BCC3F61-ON85256D1A.00756629@vwr.com>
From: Lucinda_Rockemore@vwr.com
Date: Fri, 2 May 2003 17:34:23 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/02/2003 05:34:24 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello:

I'm using lucene (lucene-1.3-dev1) and tomcat (4.1) for my company's
websites.

The largest number of documents contained in any index is approx. 800,000.
I'm getting OutOfMemoryErrors sporadically.  Some are definitely related to
wildcarded queries.  The memory assigned to my jvm(s)= -Xms768m -Xmx768m.

I found lucene-user group's msgNo 3956 which seems to sum up what I'm
seeing (portion pasted below).

from msgNo=3956:

From: Robert Wennstr?m <robert@agent25.se>
Subject: OutOfMemoryError with boolean queries
Date: Wed, 19 Mar 2003 19:14:06 +0100
Content-Type: text/plain;
      charset="windows-1252"


Sorry. I wasn't verbose enough.

I use the default memory settings. But my issue was the core structure of
Lucene
taking up (it seems to me) more memory than it would have to, if it had a
different approach.
Correct me if I'm wrong, but it seems to me that BooleanQuery stores all
hits
(as Bucket objects) from all terms in the query even if it is a simple
war* AND
wash* AND sad*. Instead of looking for wash* just in the war* hits (and
then
looking for sad* in the remaining hits) it makes three separate searches,
which
would be a waste of memory.

----- test output begins -----

Index size = 55000
Query: a*
Total memory before: 2031616
Searching for: a* (org.apache.lucene.search.PrefixQuery)
Total memory after: 55128064
53527 total matching documents (1984ms)
Query: e*
Total memory before: 55128064
Searching for: e* (org.apache.lucene.search.PrefixQuery)
Total memory after: 55128064
52456 total matching documents (984ms)
Query: a* AND e*
Total memory before: 55128064
Searching for: +a* +e* (org.apache.lucene.search.BooleanQuery)
Total memory after: 124882944
51267 total matching documents (2468ms)

----- test output ends -----

In my perfect world the memory allocation, when searching for  a* AND e*,
should
not increase at all after the both separate searches  a*  and  e*, cause it
would just allocate space for a*-hits, and ignoring e*-hits that has no
previous
hit.


My biggest index lies at 2,34 million documents during testing, but should
grow
with approximately 10000 docs/day in production.
With that figure I wish for the best possible memory handling.


At the moment we use a search engine that, given the right question (or
wrong),
consumes memory like a starving wolf and crashes the whole thing. The
search
engine should be able to play with about 1GB RAM on the machine.
I just don't want the same possibilities of a crash with Lucene too.


I want to know if the Lucene developers feel that there are things to
optimize
or if they have done everything like it should be from the start ?


thanks
/RW



Has there been any new input on this?  I have tested and can set my jvm
memory as high as 1.5G, but that doesn't seem to resolve the issue, only
delay the OutOfMemoryError.

Thanks for everything.

Lucinda R. Rockemore
VWR International . e-Business
e-mail: lucinda_rockemore@vwr.com
phone: 610 429 2731
fax: 610 429 5559






****************************************************************************************************************

The information contained in this e-mail message may be privileged,
confidential and protected from disclosure.
If you are not the intended recipient, any dissemination, distribution or
copying is strictly prohibited. If you think
that you have received this e-mail message in error please e-mail the
sender and delete the message. Thank you
*****************************************************************************************************************





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4372-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 03 09:44:18 2003
Return-Path: <lucene-user-return-4372-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5166 invoked from network); 3 May 2003 09:44:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 May 2003 09:44:17 -0000
Received: (qmail 3966 invoked by uid 97); 3 May 2003 09:46:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3959 invoked from network); 3 May 2003 09:46:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 May 2003 09:46:31 -0000
Received: (qmail 4863 invoked by uid 500); 3 May 2003 09:44:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4852 invoked from network); 3 May 2003 09:44:14 -0000
Received: from sentosa.post1.com (202.27.17.100)
  by daedalus.apache.org with SMTP; 3 May 2003 09:44:14 -0000
Received: (qmail 56859 invoked from network); 3 May 2003 09:55:41 -0000
Received: from mcns63.docsis216.scvmaxonline.com.sg (HELO cykoh) (202.156.216.63)
  by sentosa.post1.com with SMTP; 3 May 2003 09:55:41 -0000
From: "dunpanic" <dunpanic@mailhost.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: JavaCC
Date: Sat, 3 May 2003 17:41:26 +0800
Message-ID: <001201c31158$2ba7fe50$6501a8c0@cykoh>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <Pine.GSO.4.53.0304202305140.18980@fury.csh.rit.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

	I have downloaded lucene1.3rc1 and was attempting to build it.  The ant
build script told me that I will need JavaCC 2.0.  I followed the URL
provided in the echo message at webgain, but it no longer provides download
of JavaCC.  Subsequently I was able to download JavaCC 3.0 from
experimentalstuff, but the package name in JavaCC 3.0 is different from
JavaCC 2.0 and the ant javacc task cannot read from the JavaCC 3.0 packages.

	Can anyone pass me a copy of JavaCC2.0, or point me to anywhere I can
download it, or give me a pointer to how I can modify the ant javacc task to
look for the JavaCC3.0 packages instead?

	Thanks.

Choong Yong, Koh



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4373-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 03 16:22:29 2003
Return-Path: <lucene-user-return-4373-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11755 invoked from network); 3 May 2003 16:22:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 May 2003 16:22:28 -0000
Received: (qmail 9808 invoked by uid 97); 3 May 2003 16:24:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9800 invoked from network); 3 May 2003 16:24:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 May 2003 16:24:32 -0000
Received: (qmail 11442 invoked by uid 500); 3 May 2003 16:22:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11424 invoked from network); 3 May 2003 16:22:25 -0000
Received: from mx0.gmx.net (213.165.64.100)
  by daedalus.apache.org with SMTP; 3 May 2003 16:22:25 -0000
Received: (qmail 15340 invoked by uid 0); 3 May 2003 16:22:27 -0000
Date: Sat, 3 May 2003 18:22:27 +0200 (MEST)
From: prolog_tutor@gmx.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <001201c31158$2ba7fe50$6501a8c0@cykoh>
Subject: Re: JavaCC
X-Priority: 3 (Normal)
X-Authenticated-Sender: #0015699226@gmx.net
X-Authenticated-IP: [147.172.23.88]
Message-ID: <6399.1051978947@www56.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Choong Yong,

Just read the BUILD.txt --> Step 3 and create your own properties file as
stated or
modify the default.properties file at about line 60, so that the javacc.home
variable points
to the binaries.

HTH,
Ren

-- 
+++ GMX - Mail, Messaging & more  http://www.gmx.net +++
Bitte lcheln! Fotogalerie online mit GMX ohne eigene Homepage!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4374-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 03 16:36:13 2003
Return-Path: <lucene-user-return-4374-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20827 invoked from network); 3 May 2003 16:36:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 May 2003 16:36:13 -0000
Received: (qmail 9973 invoked by uid 97); 3 May 2003 16:38:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9966 invoked from network); 3 May 2003 16:38:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 3 May 2003 16:38:17 -0000
Received: (qmail 20564 invoked by uid 500); 3 May 2003 16:36:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20552 invoked from network); 3 May 2003 16:36:11 -0000
Received: from sentosa.post1.com (202.27.17.100)
  by daedalus.apache.org with SMTP; 3 May 2003 16:36:11 -0000
Received: (qmail 58943 invoked from network); 3 May 2003 16:47:36 -0000
Received: from mcns63.docsis216.scvmaxonline.com.sg (HELO cykoh) (202.156.216.63)
  by sentosa.post1.com with SMTP; 3 May 2003 16:47:36 -0000
From: "dunpanic" <dunpanic@mailhost.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: JavaCC
Date: Sun, 4 May 2003 00:33:18 +0800
Message-ID: <000a01c31191$b4a70280$6501a8c0@cykoh>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <6399.1051978947@www56.gmx.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, Ren,

	Thanks for the pointer, but I have tried that already.  The following is an
extract from my default.properties:

	# Home directory of JavaCC
	javacc.home = d:/javacc-3.0/bin
	javacc.zip.dir = ${javacc.home}/lib
	javacc.zip = ${javacc.zip.dir}/javacc.zip

	I have also made the following changes:
	- rename javacc.jar to javacc.zip (JavaCC 3.0 distributes as a .jar file)
	- made the following changes in the ant build.xml file
		    <available
      			property="javacc.present"
		            classname="org.netbeans.javacc.parser.Main"
	                  classpath="${javacc.zip}"
                 />
        This is because JavaCC from experimentalstuff.com is somehow
packaged under org.netbeans.javacc.*, and this enables me to skip the check
for javacc.present.

	However, I still get
		java.lang.NoClassDefFoundError: COM/sun/labs/javacc/Main
	at exactly the line where the javacc ant task is located.


	So the question is, is there a way I can tell ant's javacc task to look for
org.netbeans.javacc.parser.Main instead?  Otherwise, I have to continue to
hunt for the JavaCC version that is packaged as COM.sun.labs.javacc.Main.

Choong Yong,Koh


-----Original Message-----
From: prolog_tutor@gmx.de [mailto:prolog_tutor@gmx.de]
Sent: Sunday, May 04, 2003 12:22 AM
To: Lucene Users List
Subject: Re: JavaCC


Choong Yong,

Just read the BUILD.txt --> Step 3 and create your own properties file as
stated or
modify the default.properties file at about line 60, so that the javacc.home
variable points
to the binaries.

HTH,
Ren

--
+++ GMX - Mail, Messaging & more  http://www.gmx.net +++
Bitte lcheln! Fotogalerie online mit GMX ohne eigene Homepage!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4375-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sun May 04 05:22:36 2003
Return-Path: <lucene-user-return-4375-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73713 invoked from network); 4 May 2003 05:22:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 May 2003 05:22:35 -0000
Received: (qmail 22804 invoked by uid 97); 4 May 2003 05:24:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22797 invoked from network); 4 May 2003 05:24:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 4 May 2003 05:24:47 -0000
Received: (qmail 73395 invoked by uid 500); 4 May 2003 05:22:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73384 invoked from network); 4 May 2003 05:22:32 -0000
Received: from smtp21.singnet.com.sg (165.21.101.201)
  by daedalus.apache.org with SMTP; 4 May 2003 05:22:32 -0000
Received: from mycomputer (bb-203-125-44-150.singnet.com.sg [203.125.44.150])
	by smtp21.singnet.com.sg (8.12.9/8.12.9) with SMTP id h445MdVR012356
	for <lucene-user@jakarta.apache.org>; Sun, 4 May 2003 13:22:42 +0800
Message-Id: <200305040522.h445MdVR012356@smtp21.singnet.com.sg>
From: <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.6 (1006) - Licensed Version
Date: Sun, 4 May 2003 13:38:34 +0800
In-Reply-To: <20030502153015.52329.qmail@web40105.mail.yahoo.com>
Subject: RE: Using lucene with HSSF from Apache
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It's doable, because if you open any ms office document in your=
 text 
editor, you'll see that text is all there, surrounded with binary=
 
characters and other kinds of mumbo-jumbo. The biggest minus is=
 that 
you'll exceed the max number of terms in a hurry, even if you set=
 it 
to like a million, once you hit a reasonably large file (>5MB). 

What I do is filter out all the unreadable stuff using some regex=
 
filters. Only minus is that its somewhat slower coz of the line=
 by 
line processing, but I'm sure its _much_ faster than attempting=
 to 
add all those nonsense data.

HTH

On Fri, 2 May 2003 08:30:15 -0700 (PDT), Shoba Ramachandran=
 wrote:
>Hi Michel,
>
>Are you able to index and search xls and doc files
>with just Lucene using SimpleAnalyzer????
>There is no need for POI?
>With Lucene, you are able to extract the xls content
>as text?
>
>Let me try as you explained.
>Thanks very much for your reply.
>Shoba
>
>--- MMachado@LEVI.com wrote:
>>Hi,
>>I did it, but I use only lucene. You need to create
>>an IndexWriter with
>>SimpleAnalyzer, an InputStream as new
>>FileInputStream, create Document with
>>two Fields: one contains the file path and one
>>contains the file's content).
>>That's all.
>>Michel
>>
>>-----Original Message-----
>>From: Shoba Ramachandran
>>[mailto:shoba_duruvan@yahoo.com]
>>Sent: Wednesday, April 30, 2003 6:10 PM
>>To: lucene-user@jakarta.apache.org
>>Subject: Using lucene with HSSF from Apache
>>
>>Hi,
>>
>>Has anyone tried to index xls and doc files?
>>I'm trying to do with HSSF from apache and using
>>lucene1.2
>>
>>This code returns me binary and printing it out
>>gives
>>junk chracters. File indexed like this returns
>>nothing
>>upon search.
>>
>>public static byte[] parse(File file) throws
>>Exception
>>{
>>POIFSFileSystem fs =3D new POIFSFileSystem(new
>>FileInputStream(file));
>>HSSFWorkbook wb =3D new HSSFWorkbook(fs);
>>byte[] xlsInfo =3D wb.getBytes();
>>System.out.println("xls content :  "+
>>xlsInfo.toString());
>>return xlsInfo;
>>}
>>
>>Thanks in advance for your help
>>Shoba
>>
>>
>>__________________________________
>>Do you Yahoo!?
>>The New Yahoo! Search - Faster. Easier. Bingo.
>>http://search.yahoo.com
>>
>>
>----------------------------------------------------------------=
-----

>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>>
>----------------------------------------------------------------=
-----

>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>
>
>__________________________________
>Do you Yahoo!?
>The New Yahoo! Search - Faster. Easier. Bingo.
>http://search.yahoo.com
>
>----------------------------------------------------------------=
-----

>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4376-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 00:38:05 2003
Return-Path: <lucene-user-return-4376-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86043 invoked from network); 5 May 2003 00:38:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 00:38:04 -0000
Received: (qmail 17235 invoked by uid 97); 5 May 2003 00:40:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17228 invoked from network); 5 May 2003 00:40:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 00:40:13 -0000
Received: (qmail 85742 invoked by uid 500); 5 May 2003 00:38:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85731 invoked from network); 5 May 2003 00:38:01 -0000
Received: from web11703.mail.yahoo.com (216.136.172.69)
  by daedalus.apache.org with SMTP; 5 May 2003 00:38:01 -0000
Message-ID: <20030505003810.23833.qmail@web11703.mail.yahoo.com>
Received: from [192.128.134.68] by web11703.mail.yahoo.com via HTTP; Sun, 04 May 2003 17:38:10 PDT
Date: Sun, 4 May 2003 17:38:10 -0700 (PDT)
From: Kevin Moran <gridplan@yahoo.com>
Subject: Re: Index Path in WAR
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B519E56A7A231C4286F099EF124CCB7F442E4D@cleut-xmb01>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Jason,
    This may not be the best solution and may differ
from your situation if your index is read/write (mine
isn't).  But hey, it works for me.  How I got around
the problem was first to Jar up the index.  I Jarred
it up uncompressed for speed.  I then subclassed
Directory.  I called it JarDirectory.  I made
JarDirectory's constructor use
ClassLoader.getResource() to find the Jar and then
create a java.util.jar.JarFile from it.  The methods I
overrode in Directory (e.g., list(), fileExists(),
etc.) use the JarFile as appropriate.  After I
debugged that class all I had to do was create an
instance of JarDirectory and pass it to
IndexSearcher's constructor.  My searches then went
against the Jar file.  As long as the Jar is in the
classpath -- which you can bundle with your web app
and set a classpath to in your manifest file -- it
works.  That allows you to bundle the index with the
web app and avoid hard-coding a path to it.

HTH,
-kevin

P.S. Unfortunately, I can't provide the source to
JarDirectory as it is not mine to give.  But it didn't
take long to write and was less than 400 lines long. 
Maybe someone else on the mailing list can point you
to a better concrete example.

--- Jason.Cox@trw.com wrote:
> List,
> 
> I'm having problems using an absolute path to the
> index directory when my web application is deployed
> in a WAR file.  The absolute path changes depending
> on the server.  Is there a way to either dynamically
> determine an absolute path to the index directory or
> to use relative pathing?
> 
> Thanks in advance,
> 
> Jason
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4377-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 01:28:52 2003
Return-Path: <lucene-user-return-4377-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13371 invoked from network); 5 May 2003 01:28:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 01:28:51 -0000
Received: (qmail 17571 invoked by uid 97); 5 May 2003 01:31:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17564 invoked from network); 5 May 2003 01:31:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 01:31:00 -0000
Received: (qmail 13074 invoked by uid 500); 5 May 2003 01:28:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13063 invoked from network); 5 May 2003 01:28:48 -0000
Received: from unknown (HELO svntjt1-47.watercorporation.com.au) (159.52.65.47)
  by daedalus.apache.org with SMTP; 5 May 2003 01:28:48 -0000
Received: by svntjt1-47.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <23S74V80>; Mon, 5 May 2003 09:28:58 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00E3CDEC8@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Index Path in WAR
Date: Mon, 5 May 2003 09:28:58 +0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

I've written a simple WARDirectory which delegates to either a RAMDir or
FSDir. The WARDir is initialised by a listener (servlet 2.3/4? spec) and
either copies the index to the servlet temp directory or to RAM depending
upon a setting in the web.xml file.

I dont have the source with me but if you want, I'll bring it into work
tomorrow.

I did think about going the jardir route but had performance concerns about
lucene accessing a single jarfile.

Bye

Les



> -----Original Message-----
> From:	Kevin Moran [SMTP:gridplan@yahoo.com]
> Sent:	Monday, May 05, 2003 8:38 AM
> To:	Lucene Users List
> Subject:	Re: Index Path in WAR
> 
> Hi Jason,
>     This may not be the best solution and may differ
> from your situation if your index is read/write (mine
> isn't).  But hey, it works for me.  How I got around
> the problem was first to Jar up the index.  I Jarred
> it up uncompressed for speed.  I then subclassed
> Directory.  I called it JarDirectory.  I made
> JarDirectory's constructor use
> ClassLoader.getResource() to find the Jar and then
> create a java.util.jar.JarFile from it.  The methods I
> overrode in Directory (e.g., list(), fileExists(),
> etc.) use the JarFile as appropriate.  After I
> debugged that class all I had to do was create an
> instance of JarDirectory and pass it to
> IndexSearcher's constructor.  My searches then went
> against the Jar file.  As long as the Jar is in the
> classpath -- which you can bundle with your web app
> and set a classpath to in your manifest file -- it
> works.  That allows you to bundle the index with the
> web app and avoid hard-coding a path to it.
> 
> HTH,
> -kevin
> 
> P.S. Unfortunately, I can't provide the source to
> JarDirectory as it is not mine to give.  But it didn't
> take long to write and was less than 400 lines long. 
> Maybe someone else on the mailing list can point you
> to a better concrete example.
> 
> --- Jason.Cox@trw.com wrote:
> > List,
> > 
> > I'm having problems using an absolute path to the
> > index directory when my web application is deployed
> > in a WAR file.  The absolute path changes depending
> > on the server.  Is there a way to either dynamically
> > determine an absolute path to the index directory or
> > to use relative pathing?
> > 
> > Thanks in advance,
> > 
> > Jason
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4378-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 02:50:37 2003
Return-Path: <lucene-user-return-4378-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45707 invoked from network); 5 May 2003 02:50:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 02:50:37 -0000
Received: (qmail 18199 invoked by uid 97); 5 May 2003 02:52:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18192 invoked from network); 5 May 2003 02:52:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 02:52:46 -0000
Received: (qmail 45399 invoked by uid 500); 5 May 2003 02:50:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45384 invoked from network); 5 May 2003 02:50:33 -0000
Received: from web11707.mail.yahoo.com (216.136.172.73)
  by daedalus.apache.org with SMTP; 5 May 2003 02:50:33 -0000
Message-ID: <20030505025043.85314.qmail@web11707.mail.yahoo.com>
Received: from [172.200.178.109] by web11707.mail.yahoo.com via HTTP; Sun, 04 May 2003 19:50:43 PDT
Date: Sun, 4 May 2003 19:50:43 -0700 (PDT)
From: Kevin Moran <gridplan@yahoo.com>
Subject: RE: Index Path in WAR
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1DB01C48A0A9D311995A00508B62B9F00E3CDEC8@svntjt1-03.watercorporation.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Les,
    I haven't run any metrics on the JarDirectory
approach.  But, at least in my application, searches
are surprisingly fast as long as the Jar is
uncompressed.  If it's compressed, searches are
noticeably slower.  When I wrote that class I didn't
think I'd have concurrency issues because my users are
only ever searching, and not updating, the Jar.  But
maybe I'm missing something obvious.  If so, please
let me know.
    In any case, if you get a chance, I would like to
see your WARDirectory class.  That's an interesting
approach that I hadn't considered.

TIA,
-kevin

--- Leslie Hughes
<Leslie.Hughes@watercorporation.com.au> wrote:
> 
> Hi,
> 
> I've written a simple WARDirectory which delegates
> to either a RAMDir or
> FSDir. The WARDir is initialised by a listener
> (servlet 2.3/4? spec) and
> either copies the index to the servlet temp
> directory or to RAM depending
> upon a setting in the web.xml file.
> 
> I dont have the source with me but if you want, I'll
> bring it into work
> tomorrow.
> 
> I did think about going the jardir route but had
> performance concerns about
> lucene accessing a single jarfile.
> 
> Bye
> 
> Les
> 
> 
> 
> > -----Original Message-----
> > From:	Kevin Moran [SMTP:gridplan@yahoo.com]
> > Sent:	Monday, May 05, 2003 8:38 AM
> > To:	Lucene Users List
> > Subject:	Re: Index Path in WAR
> > 
> > Hi Jason,
> >     This may not be the best solution and may
> differ
> > from your situation if your index is read/write
> (mine
> > isn't).  But hey, it works for me.  How I got
> around
> > the problem was first to Jar up the index.  I
> Jarred
> > it up uncompressed for speed.  I then subclassed
> > Directory.  I called it JarDirectory.  I made
> > JarDirectory's constructor use
> > ClassLoader.getResource() to find the Jar and then
> > create a java.util.jar.JarFile from it.  The
> methods I
> > overrode in Directory (e.g., list(), fileExists(),
> > etc.) use the JarFile as appropriate.  After I
> > debugged that class all I had to do was create an
> > instance of JarDirectory and pass it to
> > IndexSearcher's constructor.  My searches then
> went
> > against the Jar file.  As long as the Jar is in
> the
> > classpath -- which you can bundle with your web
> app
> > and set a classpath to in your manifest file -- it
> > works.  That allows you to bundle the index with
> the
> > web app and avoid hard-coding a path to it.
> > 
> > HTH,
> > -kevin
> > 
> > P.S. Unfortunately, I can't provide the source to
> > JarDirectory as it is not mine to give.  But it
> didn't
> > take long to write and was less than 400 lines
> long. 
> > Maybe someone else on the mailing list can point
> you
> > to a better concrete example.
> > 
> > --- Jason.Cox@trw.com wrote:
> > > List,
> > > 
> > > I'm having problems using an absolute path to
> the
> > > index directory when my web application is
> deployed
> > > in a WAR file.  The absolute path changes
> depending
> > > on the server.  Is there a way to either
> dynamically
> > > determine an absolute path to the index
> directory or
> > > to use relative pathing?
> > > 
> > > Thanks in advance,
> > > 
> > > Jason
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4379-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 05:58:30 2003
Return-Path: <lucene-user-return-4379-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43964 invoked from network); 5 May 2003 05:58:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 05:58:30 -0000
Received: (qmail 20343 invoked by uid 97); 5 May 2003 06:00:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20336 invoked from network); 5 May 2003 06:00:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 06:00:42 -0000
Received: (qmail 43726 invoked by uid 500); 5 May 2003 05:58:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43713 invoked from network); 5 May 2003 05:58:26 -0000
Received: from unknown (HELO cytosine.atszone.com) (202.153.40.2)
  by daedalus.apache.org with SMTP; 5 May 2003 05:58:26 -0000
Received: from carcinoma (plasma [10.10.10.1])
	by cytosine.atszone.com (8.11.6/8.11.6) with ESMTP id h455wPF02559
	for <lucene-user@jakarta.apache.org>; Mon, 5 May 2003 11:28:25 +0530
Message-ID: <005001c312cb$57c8bbe0$160a0a0a@translogicsys.com>
Reply-To: "Sushma Sinha" <sushma@translogicsys.com>
From: "Sushma Sinha" <sushma@translogicsys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200305030127.15302@bah>
Subject: Re: High number of files in the index
Date: Mon, 5 May 2003 11:28:24 +0530
Organization: TransLogic Systems
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The most obvious reason seems to be the increase in number of fields.
 I guess lucene creates one file for each field in the index.
You can check by looking at the file names in the index, if you have N
number of files with the common prefix ,
but different suffix , those are all created for different fields.

And also , is the lucene performance affected by the no of files in the
index. I think u can look at the index size as a whole
And if it affects the performance, is there a way to merge the files and do
further optimization?.. as I have not much info about the additional files
created in the index.

- Sushma


----- Original Message -----
From: "Victor Hadianto" <victorh@nuix.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 02, 2003 8:57 PM
Subject: High number of files in the index


> Hi list,
>
> I'm experiencing a high number of files in the Lucene index, even after
> running optimize I still have over 600 files in my Lucene index. Now the
> scary thing is that's about the same number of document that I indexed.
>
> This problem didn't happen before, the only change that I can think of is
that
> I'm changing the documents being indexed. Previously all documents have
the
> same fields, but now each document has a different set of field indexed.
>
> Is this the problem? Will this cause the high number of files in my index
> directory?
>
> Please someone say no .. because otherwise I'm dead.
>
>
> victor
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4380-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 06:16:09 2003
Return-Path: <lucene-user-return-4380-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51838 invoked from network); 5 May 2003 06:16:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 06:16:09 -0000
Received: (qmail 20504 invoked by uid 97); 5 May 2003 06:18:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20497 invoked from network); 5 May 2003 06:18:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 06:18:21 -0000
Received: (qmail 51531 invoked by uid 500); 5 May 2003 06:16:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51520 invoked from network); 5 May 2003 06:16:06 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 5 May 2003 06:16:06 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 16BD310683C
	for <lucene-user@jakarta.apache.org>; Mon,  5 May 2003 16:19:09 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: High number of files in the index
Date: Mon, 5 May 2003 16:10:31 +1000
User-Agent: KMail/1.4.3
References: <200305030127.15302@bah> <005001c312cb$57c8bbe0$160a0a0a@translogicsys.com>
In-Reply-To: <005001c312cb$57c8bbe0$160a0a0a@translogicsys.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305051610.31421@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes this seems to be the problem. I had to rewrite the indexer and indexing it 
a smarter way. Now keeping the number of fields down and the number of files 
in the Lucene index to a more acceptable level again.

victor

On Mon, 5 May 2003 03:58 pm, Sushma Sinha wrote:
> The most obvious reason seems to be the increase in number of fields.
>  I guess lucene creates one file for each field in the index.
> You can check by looking at the file names in the index, if you have N
> number of files with the common prefix ,
> but different suffix , those are all created for different fields.
>
> And also , is the lucene performance affected by the no of files in the
> index. I think u can look at the index size as a whole
> And if it affects the performance, is there a way to merge the files and do
> further optimization?.. as I have not much info about the additional files
> created in the index.
>
> - Sushma
>
>
> ----- Original Message -----
> From: "Victor Hadianto" <victorh@nuix.com.au>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, May 02, 2003 8:57 PM
> Subject: High number of files in the index
>
> > Hi list,
> >
> > I'm experiencing a high number of files in the Lucene index, even after
> > running optimize I still have over 600 files in my Lucene index. Now the
> > scary thing is that's about the same number of document that I indexed.
> >
> > This problem didn't happen before, the only change that I can think of is
>
> that
>
> > I'm changing the documents being indexed. Previously all documents have
>
> the
>
> > same fields, but now each document has a different set of field indexed.
> >
> > Is this the problem? Will this cause the high number of files in my index
> > directory?
> >
> > Please someone say no .. because otherwise I'm dead.
> >
> >
> > victor
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

-- 
Victor Hadianto

NUIX Pty Ltd
Level 8, 143 York Street, Sydney 2000
Phone: (02) 9283 9010
Fax:   (02) 9283 9020

This message is intended only for the named recipient. If you are not the
intended recipient you are notified that disclosing, copying, distributing
or taking any action in reliance on the contents of this message or
attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4381-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 14:38:09 2003
Return-Path: <lucene-user-return-4381-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80693 invoked from network); 5 May 2003 14:38:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 14:38:09 -0000
Received: (qmail 2498 invoked by uid 97); 5 May 2003 14:40:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2491 invoked from network); 5 May 2003 14:40:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 14:40:11 -0000
Received: (qmail 80406 invoked by uid 500); 5 May 2003 14:38:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80365 invoked from network); 5 May 2003 14:38:03 -0000
Received: from web40110.mail.yahoo.com (66.218.78.44)
  by daedalus.apache.org with SMTP; 5 May 2003 14:38:03 -0000
Message-ID: <20030505143805.41121.qmail@web40110.mail.yahoo.com>
Received: from [163.188.121.119] by web40110.mail.yahoo.com via HTTP; Mon, 05 May 2003 07:38:05 PDT
Date: Mon, 5 May 2003 07:38:05 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: RE: Using lucene with HSSF from Apache
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200305040522.h445MdVR012356@smtp21.singnet.com.sg>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks very much HTH,
What would be the good number for max.no. of terms for
a very huge document say 20MB PDF file.

Thanks
Shoba

--- kelvin-lists@relevanz.com wrote:
> It's doable, because if you open any ms office
> document in your text
> editor, you'll see that text is all there,
> surrounded with binary
> characters and other kinds of mumbo-jumbo. The
> biggest minus is that
> you'll exceed the max number of terms in a hurry,
> even if you set it
> to like a million, once you hit a reasonably large
> file (>5MB).
> 
> What I do is filter out all the unreadable stuff
> using some regex
> filters. Only minus is that its somewhat slower coz
> of the line by
> line processing, but I'm sure its _much_ faster than
> attempting to
> add all those nonsense data.
> 
> HTH
> 
> On Fri, 2 May 2003 08:30:15 -0700 (PDT), Shoba
> Ramachandran wrote:
> >Hi Michel,
> >
> >Are you able to index and search xls and doc files
> >with just Lucene using SimpleAnalyzer????
> >There is no need for POI?
> >With Lucene, you are able to extract the xls
> content
> >as text?
> >
> >Let me try as you explained.
> >Thanks very much for your reply.
> >Shoba
> >
> >--- MMachado@LEVI.com wrote:
> >>Hi,
> >>I did it, but I use only lucene. You need to
> create
> >>an IndexWriter with
> >>SimpleAnalyzer, an InputStream as new
> >>FileInputStream, create Document with
> >>two Fields: one contains the file path and one
> >>contains the file's content).
> >>That's all.
> >>Michel
> >>
> >>-----Original Message-----
> >>From: Shoba Ramachandran
> >>[mailto:shoba_duruvan@yahoo.com]
> >>Sent: Wednesday, April 30, 2003 6:10 PM
> >>To: lucene-user@jakarta.apache.org
> >>Subject: Using lucene with HSSF from Apache
> >>
> >>Hi,
> >>
> >>Has anyone tried to index xls and doc files?
> >>I'm trying to do with HSSF from apache and using
> >>lucene1.2
> >>
> >>This code returns me binary and printing it out
> >>gives
> >>junk chracters. File indexed like this returns
> >>nothing
> >>upon search.
> >>
> >>public static byte[] parse(File file) throws
> >>Exception
> >>{
> >>POIFSFileSystem fs = new POIFSFileSystem(new
> >>FileInputStream(file));
> >>HSSFWorkbook wb = new HSSFWorkbook(fs);
> >>byte[] xlsInfo = wb.getBytes();
> >>System.out.println("xls content :  "+
> >>xlsInfo.toString());
> >>return xlsInfo;
> >>}
> >>
> >>Thanks in advance for your help
> >>Shoba
> >>
> >>
> >>__________________________________
> >>Do you Yahoo!?
> >>The New Yahoo! Search - Faster. Easier. Bingo.
> >>http://search.yahoo.com
> >>
> >>
>
>---------------------------------------------------------------------
> 
> >>To unsubscribe, e-mail:
> >>lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> >>lucene-user-help@jakarta.apache.org
> >>
> >>
>
>---------------------------------------------------------------------
> 
> >>To unsubscribe, e-mail:
> >>lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> >>lucene-user-help@jakarta.apache.org
> >>
> >
> >
> >__________________________________
> >Do you Yahoo!?
> >The New Yahoo! Search - Faster. Easier. Bingo.
> >http://search.yahoo.com
> >
>
>---------------------------------------------------------------------
> 
> >To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4382-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 15:42:24 2003
Return-Path: <lucene-user-return-4382-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1925 invoked from network); 5 May 2003 15:42:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 15:42:23 -0000
Received: (qmail 4723 invoked by uid 97); 5 May 2003 15:44:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4716 invoked from network); 5 May 2003 15:44:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 15:44:26 -0000
Received: (qmail 1650 invoked by uid 500); 5 May 2003 15:42:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1639 invoked from network); 5 May 2003 15:42:20 -0000
Received: from f47.sea2.hotmail.com (HELO hotmail.com) (207.68.165.47)
  by daedalus.apache.org with SMTP; 5 May 2003 15:42:20 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 5 May 2003 08:42:23 -0700
Received: from 63.71.19.253 by sea2fd.sea2.hotmail.msn.com with HTTP;
	Mon, 05 May 2003 15:42:23 GMT
X-Originating-IP: [63.71.19.253]
X-Originating-Email: [ecocozza@hotmail.com]
From: "eric cocozza" <ecocozza@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: returning a seperate rank multiple items within the same search
Date: Mon, 05 May 2003 11:42:23 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <Sea2-F47xOMXIhx8zIO0002311e@hotmail.com>
X-OriginalArrivalTime: 05 May 2003 15:42:23.0547 (UTC) FILETIME=[EBF8D0B0:01C3131C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have a requirement to display for a user ranked, combined results for a 
single query.

For example, if a user performed the search:
"french fries" AND "freedom fries"

I would like lucen's rating for "french fries" to be listed
seperatly i would like the rating for "freedom fries" listed
potentially, a combined score could be listed, but this could just be 
score("french fries") + score("freedom fries")

I can do this by submitting seperate querys, and then compiling the result 
myslef, but I'm curious if this is the most processor efficent way of 
operating.

Seeing as lucene is allready searching the index once, it would be great if 
I could just ask it to tally the points seperatly (avoiding a second scan).

And other ideas for handling this would be appreciated.

Thanks,

Eric

_________________________________________________________________
Help STOP SPAM with the new MSN 8 and get 2 months FREE*  
http://join.msn.com/?page=features/junkmail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4383-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 16:40:54 2003
Return-Path: <lucene-user-return-4383-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36463 invoked from network); 5 May 2003 16:40:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 16:40:53 -0000
Received: (qmail 6643 invoked by uid 97); 5 May 2003 16:42:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6636 invoked from network); 5 May 2003 16:42:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 16:42:57 -0000
Received: (qmail 36136 invoked by uid 500); 5 May 2003 16:40:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36102 invoked from network); 5 May 2003 16:40:49 -0000
Received: from mclean.mail.mindspring.net (207.69.200.57)
  by daedalus.apache.org with SMTP; 5 May 2003 16:40:49 -0000
Received: from h-66-167-237-119.mclnva23.covad.net ([66.167.237.119] helo=POWERPACK)
	by mclean.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19Cj1H-0002DO-00
	for lucene-user@jakarta.apache.org; Mon, 05 May 2003 12:40:51 -0400
Message-ID: <17ec01c31325$21cb86d0$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030505025043.85314.qmail@web11707.mail.yahoo.com>
Subject: Re: Index Path in WAR
Date: Mon, 5 May 2003 12:40:53 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kevin,

I'd sure like to get a look at JarDirectory source.  Maybe you could get
permission - that would be great.

Regards,

Terry

----- Original Message -----
From: "Kevin Moran" <gridplan@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Sunday, May 04, 2003 10:50 PM
Subject: RE: Index Path in WAR


> Hi Les,
>     I haven't run any metrics on the JarDirectory
> approach.  But, at least in my application, searches
> are surprisingly fast as long as the Jar is
> uncompressed.  If it's compressed, searches are
> noticeably slower.  When I wrote that class I didn't
> think I'd have concurrency issues because my users are
> only ever searching, and not updating, the Jar.  But
> maybe I'm missing something obvious.  If so, please
> let me know.
>     In any case, if you get a chance, I would like to
> see your WARDirectory class.  That's an interesting
> approach that I hadn't considered.
>
> TIA,
> -kevin
>
> --- Leslie Hughes
> <Leslie.Hughes@watercorporation.com.au> wrote:
> >
> > Hi,
> >
> > I've written a simple WARDirectory which delegates
> > to either a RAMDir or
> > FSDir. The WARDir is initialised by a listener
> > (servlet 2.3/4? spec) and
> > either copies the index to the servlet temp
> > directory or to RAM depending
> > upon a setting in the web.xml file.
> >
> > I dont have the source with me but if you want, I'll
> > bring it into work
> > tomorrow.
> >
> > I did think about going the jardir route but had
> > performance concerns about
> > lucene accessing a single jarfile.
> >
> > Bye
> >
> > Les
> >
> >
> >
> > > -----Original Message-----
> > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > Sent: Monday, May 05, 2003 8:38 AM
> > > To: Lucene Users List
> > > Subject: Re: Index Path in WAR
> > >
> > > Hi Jason,
> > >     This may not be the best solution and may
> > differ
> > > from your situation if your index is read/write
> > (mine
> > > isn't).  But hey, it works for me.  How I got
> > around
> > > the problem was first to Jar up the index.  I
> > Jarred
> > > it up uncompressed for speed.  I then subclassed
> > > Directory.  I called it JarDirectory.  I made
> > > JarDirectory's constructor use
> > > ClassLoader.getResource() to find the Jar and then
> > > create a java.util.jar.JarFile from it.  The
> > methods I
> > > overrode in Directory (e.g., list(), fileExists(),
> > > etc.) use the JarFile as appropriate.  After I
> > > debugged that class all I had to do was create an
> > > instance of JarDirectory and pass it to
> > > IndexSearcher's constructor.  My searches then
> > went
> > > against the Jar file.  As long as the Jar is in
> > the
> > > classpath -- which you can bundle with your web
> > app
> > > and set a classpath to in your manifest file -- it
> > > works.  That allows you to bundle the index with
> > the
> > > web app and avoid hard-coding a path to it.
> > >
> > > HTH,
> > > -kevin
> > >
> > > P.S. Unfortunately, I can't provide the source to
> > > JarDirectory as it is not mine to give.  But it
> > didn't
> > > take long to write and was less than 400 lines
> > long.
> > > Maybe someone else on the mailing list can point
> > you
> > > to a better concrete example.
> > >
> > > --- Jason.Cox@trw.com wrote:
> > > > List,
> > > >
> > > > I'm having problems using an absolute path to
> > the
> > > > index directory when my web application is
> > deployed
> > > > in a WAR file.  The absolute path changes
> > depending
> > > > on the server.  Is there a way to either
> > dynamically
> > > > determine an absolute path to the index
> > directory or
> > > > to use relative pathing?
> > > >
> > > > Thanks in advance,
> > > >
> > > > Jason
> > > >
> > > >
> > >
> >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > > lucene-user-help@jakarta.apache.org
> > > >
> > >
> > >
> > > __________________________________
> > > Do you Yahoo!?
> > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > http://search.yahoo.com
> > >
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4384-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 16:42:54 2003
Return-Path: <lucene-user-return-4384-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45198 invoked from network); 5 May 2003 16:42:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 16:42:53 -0000
Received: (qmail 6703 invoked by uid 97); 5 May 2003 16:44:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6696 invoked from network); 5 May 2003 16:44:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 16:44:57 -0000
Received: (qmail 43679 invoked by uid 500); 5 May 2003 16:42:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43618 invoked from network); 5 May 2003 16:42:35 -0000
Received: from mclean.mail.mindspring.net (207.69.200.57)
  by daedalus.apache.org with SMTP; 5 May 2003 16:42:35 -0000
Received: from h-66-167-237-119.mclnva23.covad.net ([66.167.237.119] helo=POWERPACK)
	by mclean.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19Cj30-0005H0-00
	for lucene-user@jakarta.apache.org; Mon, 05 May 2003 12:42:38 -0400
Message-ID: <17f401c31325$61760cb0$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200305030127.15302@bah> <005001c312cb$57c8bbe0$160a0a0a@translogicsys.com> <200305051610.31421@bah>
Subject: Re: High number of files in the index
Date: Mon, 5 May 2003 12:42:55 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Victor,

I believe it's not only the number of fields, but how many fields you select
to have their contents included in the index.  If you don't need the content
accessible via the index, that can make a big difference.

HTH,

Terry

----- Original Message -----
From: "Victor Hadianto" <victorh@nuix.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, May 05, 2003 2:10 AM
Subject: Re: High number of files in the index


> Yes this seems to be the problem. I had to rewrite the indexer and
indexing it
> a smarter way. Now keeping the number of fields down and the number of
files
> in the Lucene index to a more acceptable level again.
>
> victor
>
> On Mon, 5 May 2003 03:58 pm, Sushma Sinha wrote:
> > The most obvious reason seems to be the increase in number of fields.
> >  I guess lucene creates one file for each field in the index.
> > You can check by looking at the file names in the index, if you have N
> > number of files with the common prefix ,
> > but different suffix , those are all created for different fields.
> >
> > And also , is the lucene performance affected by the no of files in the
> > index. I think u can look at the index size as a whole
> > And if it affects the performance, is there a way to merge the files and
do
> > further optimization?.. as I have not much info about the additional
files
> > created in the index.
> >
> > - Sushma
> >
> >
> > ----- Original Message -----
> > From: "Victor Hadianto" <victorh@nuix.com.au>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Friday, May 02, 2003 8:57 PM
> > Subject: High number of files in the index
> >
> > > Hi list,
> > >
> > > I'm experiencing a high number of files in the Lucene index, even
after
> > > running optimize I still have over 600 files in my Lucene index. Now
the
> > > scary thing is that's about the same number of document that I
indexed.
> > >
> > > This problem didn't happen before, the only change that I can think of
is
> >
> > that
> >
> > > I'm changing the documents being indexed. Previously all documents
have
> >
> > the
> >
> > > same fields, but now each document has a different set of field
indexed.
> > >
> > > Is this the problem? Will this cause the high number of files in my
index
> > > directory?
> > >
> > > Please someone say no .. because otherwise I'm dead.
> > >
> > >
> > > victor
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> --
> Victor Hadianto
>
> NUIX Pty Ltd
> Level 8, 143 York Street, Sydney 2000
> Phone: (02) 9283 9010
> Fax:   (02) 9283 9020
>
> This message is intended only for the named recipient. If you are not the
> intended recipient you are notified that disclosing, copying, distributing
> or taking any action in reliance on the contents of this message or
> attachment is strictly prohibited.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4385-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 18:31:48 2003
Return-Path: <lucene-user-return-4385-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18202 invoked from network); 5 May 2003 18:31:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 18:31:48 -0000
Received: (qmail 10229 invoked by uid 97); 5 May 2003 18:33:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10222 invoked from network); 5 May 2003 18:33:53 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 18:33:53 -0000
Received: (qmail 16189 invoked by uid 500); 5 May 2003 18:31:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16139 invoked from network); 5 May 2003 18:31:24 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 5 May 2003 18:31:24 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id ADFAC367D8; Mon,  5 May 2003 18:28:36 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 60BAF367D2
	for <lucene-user@jakarta.apache.org>; Mon,  5 May 2003 18:28:35 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: IndexReader.lastModified();
Date: Mon, 5 May 2003 14:31:08 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDEECFCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <17f401c31325$61760cb0$0501a8c0@POWERPACK>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	I am experiencing a weird problem in Linux.  When I initially create the
index I store the date with the IndexReader.lastModified() call.  I then
have a Junit test that adds a document to the index, I then have a method
that checks if the index has changed and if it has I create a new
IndexSearcher.  The problem is the date the index was created and the most
recent call to IndexReader.lastModified()(after adding a document) are
returning the same value so when I query on the new document I just added it
is failing because according to the dates, the index has not changed so I
did not create a new IndexSearcher!!!

	Has anyone experience this before?  If so, is there a known fix?

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4386-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 18:36:45 2003
Return-Path: <lucene-user-return-4386-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22371 invoked from network); 5 May 2003 18:36:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 18:36:45 -0000
Received: (qmail 10362 invoked by uid 97); 5 May 2003 18:38:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10355 invoked from network); 5 May 2003 18:38:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 18:38:50 -0000
Received: (qmail 22106 invoked by uid 500); 5 May 2003 18:36:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22095 invoked from network); 5 May 2003 18:36:42 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 5 May 2003 18:36:42 -0000
Message-ID: <20030505183647.3468.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP; Mon, 05 May 2003 11:36:47 PDT
Date: Mon, 5 May 2003 11:36:47 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexReader.lastModified();
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDEECFCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't remember any more, but maybe lastModified() returns a new value
only after the IndexWriter is close()d.  You may be able to tell from
looking at the source.... or you should just try that and see.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
> 
> 	I am experiencing a weird problem in Linux.  When I initially create
> the
> index I store the date with the IndexReader.lastModified() call.  I
> then
> have a Junit test that adds a document to the index, I then have a
> method
> that checks if the index has changed and if it has I create a new
> IndexSearcher.  The problem is the date the index was created and the
> most
> recent call to IndexReader.lastModified()(after adding a document)
> are
> returning the same value so when I query on the new document I just
> added it
> is failing because according to the dates, the index has not changed
> so I
> did not create a new IndexSearcher!!!
> 
> 	Has anyone experience this before?  If so, is there a known fix?
> 
> Thanks,
> 
> Rob
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4387-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 18:42:24 2003
Return-Path: <lucene-user-return-4387-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33407 invoked from network); 5 May 2003 18:42:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 18:42:23 -0000
Received: (qmail 10466 invoked by uid 97); 5 May 2003 18:44:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10458 invoked from network); 5 May 2003 18:44:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 18:44:28 -0000
Received: (qmail 31614 invoked by uid 500); 5 May 2003 18:42:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31561 invoked from network); 5 May 2003 18:42:03 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 5 May 2003 18:42:03 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id C1EBF367DD; Mon,  5 May 2003 18:39:15 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 9EC19367D8
	for <lucene-user@jakarta.apache.org>; Mon,  5 May 2003 18:39:14 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: IndexReader.lastModified();
Date: Mon, 5 May 2003 14:41:47 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDMECFCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <20030505183647.3468.qmail@web12701.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

  /** Returns the time the index in the named directory was last modified.
*/
  public static long lastModified(File directory) throws IOException {
    return FSDirectory.fileModified(directory, "segments");
  }

  /** Returns the time the named file was last modified. */
  public final long fileModified(String name) throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

  /** Returns the time the named file was last modified. */
  public static final long fileModified(File directory, String name)
       throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

Could this be a problem in Linux where the files last mod date are not being
updated fast enough?

Thanks,

Rob Outar
OneSAF A&I -- SAIC
Software\Data Engineer
321-235-7660
outarr@saic.com <mailto:outarr@saic.com>


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, May 05, 2003 2:37 PM
To: Lucene Users List
Subject: Re: IndexReader.lastModified();


I don't remember any more, but maybe lastModified() returns a new value
only after the IndexWriter is close()d.  You may be able to tell from
looking at the source.... or you should just try that and see.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	I am experiencing a weird problem in Linux.  When I initially create
> the
> index I store the date with the IndexReader.lastModified() call.  I
> then
> have a Junit test that adds a document to the index, I then have a
> method
> that checks if the index has changed and if it has I create a new
> IndexSearcher.  The problem is the date the index was created and the
> most
> recent call to IndexReader.lastModified()(after adding a document)
> are
> returning the same value so when I query on the new document I just
> added it
> is failing because according to the dates, the index has not changed
> so I
> did not create a new IndexSearcher!!!
>
> 	Has anyone experience this before?  If so, is there a known fix?
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4388-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 19:08:59 2003
Return-Path: <lucene-user-return-4388-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72312 invoked from network); 5 May 2003 19:08:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 19:08:59 -0000
Received: (qmail 10959 invoked by uid 97); 5 May 2003 19:11:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10947 invoked from network); 5 May 2003 19:11:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 19:11:03 -0000
Received: (qmail 71925 invoked by uid 500); 5 May 2003 19:08:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71914 invoked from network); 5 May 2003 19:08:54 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 5 May 2003 19:08:54 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id E57DD367DD; Mon,  5 May 2003 19:06:06 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id CC7A9367D2
	for <lucene-user@jakarta.apache.org>; Mon,  5 May 2003 19:06:05 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: IndexReader.lastModified();
Date: Mon, 5 May 2003 15:08:58 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDCECGCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <MNEPJJAGGPICDNOCBIKDMECFCJAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My Linux admin told me that if a change to a file occurs in less than one
second Linux does not update the last mod date.  Has anyone else experienced
this? or is this even possible?  I have spent hours and hours debugging my
code and the date thing is the only thing I can see as causing my queries to
fail.


Thanks,

Rob


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Monday, May 05, 2003 2:42 PM
To: Lucene Users List
Subject: RE: IndexReader.lastModified();


  /** Returns the time the index in the named directory was last modified.
*/
  public static long lastModified(File directory) throws IOException {
    return FSDirectory.fileModified(directory, "segments");
  }

  /** Returns the time the named file was last modified. */
  public final long fileModified(String name) throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

  /** Returns the time the named file was last modified. */
  public static final long fileModified(File directory, String name)
       throws IOException {
    File file = new File(directory, name);
    return file.lastModified();
  }

Could this be a problem in Linux where the files last mod date are not being
updated fast enough?

Thanks,

Rob Outar
OneSAF A&I -- SAIC
Software\Data Engineer
321-235-7660
outarr@saic.com <mailto:outarr@saic.com>


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, May 05, 2003 2:37 PM
To: Lucene Users List
Subject: Re: IndexReader.lastModified();


I don't remember any more, but maybe lastModified() returns a new value
only after the IndexWriter is close()d.  You may be able to tell from
looking at the source.... or you should just try that and see.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> Hi all,
>
> 	I am experiencing a weird problem in Linux.  When I initially create
> the
> index I store the date with the IndexReader.lastModified() call.  I
> then
> have a Junit test that adds a document to the index, I then have a
> method
> that checks if the index has changed and if it has I create a new
> IndexSearcher.  The problem is the date the index was created and the
> most
> recent call to IndexReader.lastModified()(after adding a document)
> are
> returning the same value so when I query on the new document I just
> added it
> is failing because according to the dates, the index has not changed
> so I
> did not create a new IndexSearcher!!!
>
> 	Has anyone experience this before?  If so, is there a known fix?
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4389-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 19:52:29 2003
Return-Path: <lucene-user-return-4389-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31179 invoked from network); 5 May 2003 19:52:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 19:52:29 -0000
Received: (qmail 12051 invoked by uid 97); 5 May 2003 19:54:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12044 invoked from network); 5 May 2003 19:54:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 19:54:35 -0000
Received: (qmail 30915 invoked by uid 500); 5 May 2003 19:52:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30904 invoked from network); 5 May 2003 19:52:26 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 5 May 2003 19:52:26 -0000
Message-ID: <20030505195231.15786.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP; Mon, 05 May 2003 12:52:31 PDT
Date: Mon, 5 May 2003 12:52:31 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: IndexReader.lastModified();
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDCECGCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I wouldn't trust that < 1 second statement :)
Just put a sleep in your unit test and see.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> My Linux admin told me that if a change to a file occurs in less than
> one
> second Linux does not update the last mod date.  Has anyone else
> experienced
> this? or is this even possible?  I have spent hours and hours
> debugging my
> code and the date thing is the only thing I can see as causing my
> queries to
> fail.
> 
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Monday, May 05, 2003 2:42 PM
> To: Lucene Users List
> Subject: RE: IndexReader.lastModified();
> 
> 
>   /** Returns the time the index in the named directory was last
> modified.
> */
>   public static long lastModified(File directory) throws IOException
> {
>     return FSDirectory.fileModified(directory, "segments");
>   }
> 
>   /** Returns the time the named file was last modified. */
>   public final long fileModified(String name) throws IOException {
>     File file = new File(directory, name);
>     return file.lastModified();
>   }
> 
>   /** Returns the time the named file was last modified. */
>   public static final long fileModified(File directory, String name)
>        throws IOException {
>     File file = new File(directory, name);
>     return file.lastModified();
>   }
> 
> Could this be a problem in Linux where the files last mod date are
> not being
> updated fast enough?
> 
> Thanks,
> 
> Rob Outar
> OneSAF A&I -- SAIC
> Software\Data Engineer
> 321-235-7660
> outarr@saic.com <mailto:outarr@saic.com>
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, May 05, 2003 2:37 PM
> To: Lucene Users List
> Subject: Re: IndexReader.lastModified();
> 
> 
> I don't remember any more, but maybe lastModified() returns a new
> value
> only after the IndexWriter is close()d.  You may be able to tell from
> looking at the source.... or you should just try that and see.
> 
> Otis
> 
> 
> --- Rob Outar <routar@ideorlando.org> wrote:
> > Hi all,
> >
> > 	I am experiencing a weird problem in Linux.  When I initially
> create
> > the
> > index I store the date with the IndexReader.lastModified() call.  I
> > then
> > have a Junit test that adds a document to the index, I then have a
> > method
> > that checks if the index has changed and if it has I create a new
> > IndexSearcher.  The problem is the date the index was created and
> the
> > most
> > recent call to IndexReader.lastModified()(after adding a document)
> > are
> > returning the same value so when I query on the new document I just
> > added it
> > is failing because according to the dates, the index has not
> changed
> > so I
> > did not create a new IndexSearcher!!!
> >
> > 	Has anyone experience this before?  If so, is there a known fix?
> >
> > Thanks,
> >
> > Rob
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4390-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 19:58:57 2003
Return-Path: <lucene-user-return-4390-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42126 invoked from network); 5 May 2003 19:58:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 19:58:57 -0000
Received: (qmail 12256 invoked by uid 97); 5 May 2003 20:01:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12249 invoked from network); 5 May 2003 20:01:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 20:01:03 -0000
Received: (qmail 41849 invoked by uid 500); 5 May 2003 19:58:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41838 invoked from network); 5 May 2003 19:58:54 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 5 May 2003 19:58:54 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id B866F367EC; Mon,  5 May 2003 19:56:02 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 2D62F367E2
	for <lucene-user@jakarta.apache.org>; Mon,  5 May 2003 19:56:01 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: IndexReader.lastModified();
Date: Mon, 5 May 2003 15:58:51 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDKECGCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <20030505195231.15786.qmail@web12701.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

We looked it up on Goggle, ext2 file system does not update the last mod
date if the change to the file is under 1 second.  Also I don't remember
cause my brain hurts, when Linux returned the time it did not include ms,
but on Windows it did, all my queries on Windows worked because of this.

A sleep does not work, it is the modification time, of the file, not how
long the test takes.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, May 05, 2003 3:53 PM
To: Lucene Users List
Subject: RE: IndexReader.lastModified();


I wouldn't trust that < 1 second statement :)
Just put a sleep in your unit test and see.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> My Linux admin told me that if a change to a file occurs in less than
> one
> second Linux does not update the last mod date.  Has anyone else
> experienced
> this? or is this even possible?  I have spent hours and hours
> debugging my
> code and the date thing is the only thing I can see as causing my
> queries to
> fail.
>
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Rob Outar [mailto:routar@ideorlando.org]
> Sent: Monday, May 05, 2003 2:42 PM
> To: Lucene Users List
> Subject: RE: IndexReader.lastModified();
>
>
>   /** Returns the time the index in the named directory was last
> modified.
> */
>   public static long lastModified(File directory) throws IOException
> {
>     return FSDirectory.fileModified(directory, "segments");
>   }
>
>   /** Returns the time the named file was last modified. */
>   public final long fileModified(String name) throws IOException {
>     File file = new File(directory, name);
>     return file.lastModified();
>   }
>
>   /** Returns the time the named file was last modified. */
>   public static final long fileModified(File directory, String name)
>        throws IOException {
>     File file = new File(directory, name);
>     return file.lastModified();
>   }
>
> Could this be a problem in Linux where the files last mod date are
> not being
> updated fast enough?
>
> Thanks,
>
> Rob Outar
> OneSAF A&I -- SAIC
> Software\Data Engineer
> 321-235-7660
> outarr@saic.com <mailto:outarr@saic.com>
>
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, May 05, 2003 2:37 PM
> To: Lucene Users List
> Subject: Re: IndexReader.lastModified();
>
>
> I don't remember any more, but maybe lastModified() returns a new
> value
> only after the IndexWriter is close()d.  You may be able to tell from
> looking at the source.... or you should just try that and see.
>
> Otis
>
>
> --- Rob Outar <routar@ideorlando.org> wrote:
> > Hi all,
> >
> > 	I am experiencing a weird problem in Linux.  When I initially
> create
> > the
> > index I store the date with the IndexReader.lastModified() call.  I
> > then
> > have a Junit test that adds a document to the index, I then have a
> > method
> > that checks if the index has changed and if it has I create a new
> > IndexSearcher.  The problem is the date the index was created and
> the
> > most
> > recent call to IndexReader.lastModified()(after adding a document)
> > are
> > returning the same value so when I query on the new document I just
> > added it
> > is failing because according to the dates, the index has not
> changed
> > so I
> > did not create a new IndexSearcher!!!
> >
> > 	Has anyone experience this before?  If so, is there a known fix?
> >
> > Thanks,
> >
> > Rob
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4391-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 20:12:19 2003
Return-Path: <lucene-user-return-4391-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58744 invoked from network); 5 May 2003 20:12:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 20:12:18 -0000
Received: (qmail 12573 invoked by uid 97); 5 May 2003 20:14:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12566 invoked from network); 5 May 2003 20:14:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 20:14:24 -0000
Received: (qmail 58457 invoked by uid 500); 5 May 2003 20:12:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58446 invoked from network); 5 May 2003 20:12:15 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 5 May 2003 20:12:15 -0000
Message-ID: <20030505201220.88817.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP; Mon, 05 May 2003 13:12:20 PDT
Date: Mon, 5 May 2003 13:12:20 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: IndexReader.lastModified();
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDKECGCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Oh, I see what you mean.  You are talking about the delta between the
original time stamp, and the time stamp that you expect after you add a
document.  I thought you were saying that it takes the F/S at least a
second to update the time stamp, after the file has been modified.

In that case, this is a file system issue that Lucene can't do much
about.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> We looked it up on Goggle, ext2 file system does not update the last
> mod
> date if the change to the file is under 1 second.  Also I don't
> remember
> cause my brain hurts, when Linux returned the time it did not include
> ms,
> but on Windows it did, all my queries on Windows worked because of
> this.
> 
> A sleep does not work, it is the modification time, of the file, not
> how
> long the test takes.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, May 05, 2003 3:53 PM
> To: Lucene Users List
> Subject: RE: IndexReader.lastModified();
> 
> 
> I wouldn't trust that < 1 second statement :)
> Just put a sleep in your unit test and see.
> 
> Otis
> 
> --- Rob Outar <routar@ideorlando.org> wrote:
> > My Linux admin told me that if a change to a file occurs in less
> than
> > one
> > second Linux does not update the last mod date.  Has anyone else
> > experienced
> > this? or is this even possible?  I have spent hours and hours
> > debugging my
> > code and the date thing is the only thing I can see as causing my
> > queries to
> > fail.
> >
> >
> > Thanks,
> >
> > Rob
> >
> >
> > -----Original Message-----
> > From: Rob Outar [mailto:routar@ideorlando.org]
> > Sent: Monday, May 05, 2003 2:42 PM
> > To: Lucene Users List
> > Subject: RE: IndexReader.lastModified();
> >
> >
> >   /** Returns the time the index in the named directory was last
> > modified.
> > */
> >   public static long lastModified(File directory) throws
> IOException
> > {
> >     return FSDirectory.fileModified(directory, "segments");
> >   }
> >
> >   /** Returns the time the named file was last modified. */
> >   public final long fileModified(String name) throws IOException {
> >     File file = new File(directory, name);
> >     return file.lastModified();
> >   }
> >
> >   /** Returns the time the named file was last modified. */
> >   public static final long fileModified(File directory, String
> name)
> >        throws IOException {
> >     File file = new File(directory, name);
> >     return file.lastModified();
> >   }
> >
> > Could this be a problem in Linux where the files last mod date are
> > not being
> > updated fast enough?
> >
> > Thanks,
> >
> > Rob Outar
> > OneSAF A&I -- SAIC
> > Software\Data Engineer
> > 321-235-7660
> > outarr@saic.com <mailto:outarr@saic.com>
> >
> >
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Sent: Monday, May 05, 2003 2:37 PM
> > To: Lucene Users List
> > Subject: Re: IndexReader.lastModified();
> >
> >
> > I don't remember any more, but maybe lastModified() returns a new
> > value
> > only after the IndexWriter is close()d.  You may be able to tell
> from
> > looking at the source.... or you should just try that and see.
> >
> > Otis
> >
> >
> > --- Rob Outar <routar@ideorlando.org> wrote:
> > > Hi all,
> > >
> > > 	I am experiencing a weird problem in Linux.  When I initially
> > create
> > > the
> > > index I store the date with the IndexReader.lastModified() call. 
> I
> > > then
> > > have a Junit test that adds a document to the index, I then have
> a
> > > method
> > > that checks if the index has changed and if it has I create a new
> > > IndexSearcher.  The problem is the date the index was created and
> > the
> > > most
> > > recent call to IndexReader.lastModified()(after adding a
> document)
> > > are
> > > returning the same value so when I query on the new document I
> just
> > > added it
> > > is failing because according to the dates, the index has not
> > changed
> > > so I
> > > did not create a new IndexSearcher!!!
> > >
> > > 	Has anyone experience this before?  If so, is there a known fix?
> > >
> > > Thanks,
> > >
> > > Rob
> > >
> > >
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >
> >
> >
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4392-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 20:39:35 2003
Return-Path: <lucene-user-return-4392-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 913 invoked from network); 5 May 2003 20:39:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 20:39:35 -0000
Received: (qmail 13121 invoked by uid 97); 5 May 2003 20:41:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13114 invoked from network); 5 May 2003 20:41:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 20:41:41 -0000
Received: (qmail 573 invoked by uid 500); 5 May 2003 20:39:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 560 invoked from network); 5 May 2003 20:39:31 -0000
Received: from web11708.mail.yahoo.com (216.136.172.74)
  by daedalus.apache.org with SMTP; 5 May 2003 20:39:31 -0000
Message-ID: <20030505203937.24918.qmail@web11708.mail.yahoo.com>
Received: from [12.20.58.68] by web11708.mail.yahoo.com via HTTP; Mon, 05 May 2003 13:39:37 PDT
Date: Mon, 5 May 2003 13:39:37 -0700 (PDT)
From: Kevin Moran <gridplan@yahoo.com>
Subject: Re: Index Path in WAR
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <17ec01c31325$21cb86d0$0501a8c0@POWERPACK>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Terry,
    I tried to get permission but was turned down. 
Sorry about that.  About all I can offer in the short
term is either to describe in more detail what I did
or to re-write it on my own time and get back to you
later on.

Best,
-kevin

--- Terry Steichen <terry@net-frame.com> wrote:
> Kevin,
> 
> I'd sure like to get a look at JarDirectory source. 
> Maybe you could get
> permission - that would be great.
> 
> Regards,
> 
> Terry


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4393-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 05 21:13:49 2003
Return-Path: <lucene-user-return-4393-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48935 invoked from network); 5 May 2003 21:13:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 May 2003 21:13:49 -0000
Received: (qmail 14183 invoked by uid 97); 5 May 2003 21:15:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14176 invoked from network); 5 May 2003 21:15:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 5 May 2003 21:15:55 -0000
Received: (qmail 48699 invoked by uid 500); 5 May 2003 21:13:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48688 invoked from network); 5 May 2003 21:13:46 -0000
Received: from mclean.mail.mindspring.net (207.69.200.57)
  by daedalus.apache.org with SMTP; 5 May 2003 21:13:46 -0000
Received: from h-66-167-237-119.mclnva23.covad.net ([66.167.237.119] helo=POWERPACK)
	by mclean.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19CnHU-0005F9-00
	for lucene-user@jakarta.apache.org; Mon, 05 May 2003 17:13:52 -0400
Message-ID: <189901c3134b$458d29e0$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030505203937.24918.qmail@web11708.mail.yahoo.com>
Subject: Re: Index Path in WAR
Date: Mon, 5 May 2003 17:14:10 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kevin,

Thanks for trying.  I hate to ask you to do a lot of work, but I would sure
like to figure out how to do the JarDirectory.  I don't know if this is of
general interest to the list, so if no one else chimes in, why don't we take
this off-list.

Regards,

Terry

----- Original Message -----
From: "Kevin Moran" <gridplan@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, May 05, 2003 4:39 PM
Subject: Re: Index Path in WAR


> Hi Terry,
>     I tried to get permission but was turned down.
> Sorry about that.  About all I can offer in the short
> term is either to describe in more detail what I did
> or to re-write it on my own time and get back to you
> later on.
>
> Best,
> -kevin
>
> --- Terry Steichen <terry@net-frame.com> wrote:
> > Kevin,
> >
> > I'd sure like to get a look at JarDirectory source.
> > Maybe you could get
> > permission - that would be great.
> >
> > Regards,
> >
> > Terry
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4394-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 00:48:21 2003
Return-Path: <lucene-user-return-4394-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53671 invoked from network); 6 May 2003 00:48:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 00:48:20 -0000
Received: (qmail 18557 invoked by uid 97); 6 May 2003 00:50:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18550 invoked from network); 6 May 2003 00:50:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 00:50:29 -0000
Received: (qmail 53376 invoked by uid 500); 6 May 2003 00:48:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53363 invoked from network); 6 May 2003 00:48:17 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 6 May 2003 00:48:17 -0000
Received: from 192 (adsl-210-193-14-26.qala.com.sg [210.193.14.26])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h460mBf09264
	for <lucene-user@jakarta.apache.org>; Tue, 6 May 2003 08:48:13 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Tue, 6 May 2003 08:49:41 +0800
In-Reply-To: <20030505143805.41121.qmail@web40110.mail.yahoo.com>
Message-ID: <20035684941.334165@192>
Subject: RE: Using lucene with HSSF from Apache
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Perhaps others can be more helpful here. I haven't had difficulty=
 using a 
million terms, but perhaps its just my usage.

On Mon, 5 May 2003 07:38:05 -0700 (PDT), Shoba Ramachandran=
 said:
>Thanks very much HTH,
>What would be the good number for max.no. of terms for
>a very huge document say 20MB PDF file.
>
>Thanks
>Shoba
>
>--- kelvin-lists@relevanz.com wrote:
>>It's doable, because if you open any ms office
>>document in your text
>>editor, you'll see that text is all there,
>>surrounded with binary
>>characters and other kinds of mumbo-jumbo. The
>>biggest minus is that
>>you'll exceed the max number of terms in a hurry,
>>even if you set it
>>to like a million, once you hit a reasonably large
>>file (>5MB).
>>
>>What I do is filter out all the unreadable stuff
>>using some regex
>>filters. Only minus is that its somewhat slower coz
>>of the line by
>>line processing, but I'm sure its _much_ faster than
>>attempting to
>>add all those nonsense data.
>>
>>HTH
>>
>>On Fri, 2 May 2003 08:30:15 -0700 (PDT), Shoba
>>Ramachandran wrote:
>>>Hi Michel,
>>>
>>>Are you able to index and search xls and doc files
>>>with just Lucene using SimpleAnalyzer????
>>>There is no need for POI?
>>>With Lucene, you are able to extract the xls
>>content
>>>as text?
>>>
>>>Let me try as you explained.
>>>Thanks very much for your reply.
>>>Shoba
>>>
>>>--- MMachado@LEVI.com wrote:
>>>>Hi,
>>>>I did it, but I use only lucene. You need to
>>create
>>>>an IndexWriter with
>>>>SimpleAnalyzer, an InputStream as new
>>>>FileInputStream, create Document with
>>>>two Fields: one contains the file path and one
>>>>contains the file's content).
>>>>That's all.
>>>>Michel
>>>>
>>>>-----Original Message-----
>>>>From: Shoba Ramachandran
>>>>[mailto:shoba_duruvan@yahoo.com]
>>>>Sent: Wednesday, April 30, 2003 6:10 PM
>>>>To: lucene-user@jakarta.apache.org
>>>>Subject: Using lucene with HSSF from Apache
>>>>
>>>>Hi,
>>>>
>>>>Has anyone tried to index xls and doc files?
>>>>I'm trying to do with HSSF from apache and using
>>>>lucene1.2
>>>>
>>>>This code returns me binary and printing it out
>>>>gives
>>>>junk chracters. File indexed like this returns
>>>>nothing
>>>>upon search.
>>>>
>>>>public static byte[] parse(File file) throws
>>>>Exception
>>>>{
>>>>POIFSFileSystem fs =3D new POIFSFileSystem(new
>>>>FileInputStream(file));
>>>>HSSFWorkbook wb =3D new HSSFWorkbook(fs);
>>>>byte[] xlsInfo =3D wb.getBytes();
>>>>System.out.println("xls content :  "+
>>>>xlsInfo.toString());
>>>>return xlsInfo;
>>>>}
>>>>
>>>>Thanks in advance for your help
>>>>Shoba
>>>>
>>>>
>>>>__________________________________
>>>>Do you Yahoo!?
>>>>The New Yahoo! Search - Faster. Easier. Bingo.
>>>>http://search.yahoo.com
>>>>
>>>>
>>
>>---------------------------------------------------------------=
-----
>>-
>>
>>>>To unsubscribe, e-mail:
>>>>lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail:
>>>>lucene-user-help@jakarta.apache.org
>>>>
>>>>
>>
>>---------------------------------------------------------------=
-----
>>-
>>
>>>>To unsubscribe, e-mail:
>>>>lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail:
>>>>lucene-user-help@jakarta.apache.org
>>>>
>>>
>>>
>>>__________________________________
>>>Do you Yahoo!?
>>>The New Yahoo! Search - Faster. Easier. Bingo.
>>>http://search.yahoo.com
>>>
>>
>>---------------------------------------------------------------=
-----
>>-
>>
>>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>>
>>
>>
>>
>>
>>
>----------------------------------------------------------------=
-----
>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>
>
>__________________________________
>Do you Yahoo!?
>The New Yahoo! Search - Faster. Easier. Bingo.
>http://search.yahoo.com
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4395-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 02:35:34 2003
Return-Path: <lucene-user-return-4395-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45544 invoked from network); 6 May 2003 02:35:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 02:35:33 -0000
Received: (qmail 19611 invoked by uid 97); 6 May 2003 02:37:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19604 invoked from network); 6 May 2003 02:37:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 02:37:40 -0000
Received: (qmail 44968 invoked by uid 500); 6 May 2003 02:35:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44957 invoked from network); 6 May 2003 02:35:27 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 6 May 2003 02:35:27 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id A7A971069F3
	for <lucene-user@jakarta.apache.org>; Tue,  6 May 2003 12:38:25 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: High number of files in the index
Date: Tue, 6 May 2003 12:29:35 +1000
User-Agent: KMail/1.4.3
References: <200305030127.15302@bah> <200305051610.31421@bah> <17f401c31325$61760cb0$0501a8c0@POWERPACK>
In-Reply-To: <17f401c31325$61760cb0$0501a8c0@POWERPACK>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305061229.35426@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I believe it's not only the number of fields, but how many fields you
> select to have their contents included in the index.  If you don't need the
> content accessible via the index, that can make a big difference.

Hmm so are you saying even if I have a lot of fields as long as they are not 
stored in the index they are fine? That's strange because all my fields are 
indexed but not stored in the index. Or perhaps I misunderstood what you 
mean?

> Terry

victor

>
> ----- Original Message -----
> From: "Victor Hadianto" <victorh@nuix.com.au>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, May 05, 2003 2:10 AM
> Subject: Re: High number of files in the index
>
> > Yes this seems to be the problem. I had to rewrite the indexer and
>
> indexing it
>
> > a smarter way. Now keeping the number of fields down and the number of
>
> files
>
> > in the Lucene index to a more acceptable level again.
> >
> > victor
> >
> > On Mon, 5 May 2003 03:58 pm, Sushma Sinha wrote:
> > > The most obvious reason seems to be the increase in number of fields.
> > >  I guess lucene creates one file for each field in the index.
> > > You can check by looking at the file names in the index, if you have N
> > > number of files with the common prefix ,
> > > but different suffix , those are all created for different fields.
> > >
> > > And also , is the lucene performance affected by the no of files in the
> > > index. I think u can look at the index size as a whole
> > > And if it affects the performance, is there a way to merge the files
> > > and
>
> do
>
> > > further optimization?.. as I have not much info about the additional
>
> files
>
> > > created in the index.
> > >
> > > - Sushma
> > >
> > >
> > > ----- Original Message -----
> > > From: "Victor Hadianto" <victorh@nuix.com.au>
> > > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > > Sent: Friday, May 02, 2003 8:57 PM
> > > Subject: High number of files in the index
> > >
> > > > Hi list,
> > > >
> > > > I'm experiencing a high number of files in the Lucene index, even
>
> after
>
> > > > running optimize I still have over 600 files in my Lucene index. Now
>
> the
>
> > > > scary thing is that's about the same number of document that I
>
> indexed.
>
> > > > This problem didn't happen before, the only change that I can think
> > > > of
>
> is
>
> > > that
> > >
> > > > I'm changing the documents being indexed. Previously all documents
>
> have
>
> > > the
> > >
> > > > same fields, but now each document has a different set of field
>
> indexed.
>
> > > > Is this the problem? Will this cause the high number of files in my
>
> index
>
> > > > directory?
> > > >
> > > > Please someone say no .. because otherwise I'm dead.
> > > >
> > > >
> > > > victor
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > --
> > Victor Hadianto
> >
> > NUIX Pty Ltd
> > Level 8, 143 York Street, Sydney 2000
> > Phone: (02) 9283 9010
> > Fax:   (02) 9283 9020
> >
> > This message is intended only for the named recipient. If you are not the
> > intended recipient you are notified that disclosing, copying,
> > distributing or taking any action in reliance on the contents of this
> > message or attachment is strictly prohibited.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4396-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 05:13:40 2003
Return-Path: <lucene-user-return-4396-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46851 invoked from network); 6 May 2003 05:13:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 05:13:40 -0000
Received: (qmail 21217 invoked by uid 97); 6 May 2003 05:15:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21209 invoked from network); 6 May 2003 05:15:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 05:15:51 -0000
Received: (qmail 46539 invoked by uid 500); 6 May 2003 05:13:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46528 invoked from network); 6 May 2003 05:13:36 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 6 May 2003 05:13:36 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP; Mon, 5 May 2003 22:12:05 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <K25MBJVY>; Mon, 5 May 2003 22:13:46 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A9654F@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: Using lucene with HSSF from Apache
Date: Mon, 5 May 2003 22:12:21 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Shoba,
About your question,YES I am able to index doc and excel files and then I
can extract them with my search engine that give me a link to the file.
Michel

-----Original Message-----
From: Shoba Ramachandran [mailto:shoba_duruvan@yahoo.com] 
Sent: Monday, May 05, 2003 4:38 PM
To: Lucene Users List
Subject: RE: Using lucene with HSSF from Apache

Thanks very much HTH,
What would be the good number for max.no. of terms for
a very huge document say 20MB PDF file.

Thanks
Shoba

--- kelvin-lists@relevanz.com wrote:
> It's doable, because if you open any ms office
> document in your text
> editor, you'll see that text is all there,
> surrounded with binary
> characters and other kinds of mumbo-jumbo. The
> biggest minus is that
> you'll exceed the max number of terms in a hurry,
> even if you set it
> to like a million, once you hit a reasonably large
> file (>5MB).
> 
> What I do is filter out all the unreadable stuff
> using some regex
> filters. Only minus is that its somewhat slower coz
> of the line by
> line processing, but I'm sure its _much_ faster than
> attempting to
> add all those nonsense data.
> 
> HTH
> 
> On Fri, 2 May 2003 08:30:15 -0700 (PDT), Shoba
> Ramachandran wrote:
> >Hi Michel,
> >
> >Are you able to index and search xls and doc files
> >with just Lucene using SimpleAnalyzer????
> >There is no need for POI?
> >With Lucene, you are able to extract the xls
> content
> >as text?
> >
> >Let me try as you explained.
> >Thanks very much for your reply.
> >Shoba
> >
> >--- MMachado@LEVI.com wrote:
> >>Hi,
> >>I did it, but I use only lucene. You need to
> create
> >>an IndexWriter with
> >>SimpleAnalyzer, an InputStream as new
> >>FileInputStream, create Document with
> >>two Fields: one contains the file path and one
> >>contains the file's content).
> >>That's all.
> >>Michel
> >>
> >>-----Original Message-----
> >>From: Shoba Ramachandran
> >>[mailto:shoba_duruvan@yahoo.com]
> >>Sent: Wednesday, April 30, 2003 6:10 PM
> >>To: lucene-user@jakarta.apache.org
> >>Subject: Using lucene with HSSF from Apache
> >>
> >>Hi,
> >>
> >>Has anyone tried to index xls and doc files?
> >>I'm trying to do with HSSF from apache and using
> >>lucene1.2
> >>
> >>This code returns me binary and printing it out
> >>gives
> >>junk chracters. File indexed like this returns
> >>nothing
> >>upon search.
> >>
> >>public static byte[] parse(File file) throws
> >>Exception
> >>{
> >>POIFSFileSystem fs = new POIFSFileSystem(new
> >>FileInputStream(file));
> >>HSSFWorkbook wb = new HSSFWorkbook(fs);
> >>byte[] xlsInfo = wb.getBytes();
> >>System.out.println("xls content :  "+
> >>xlsInfo.toString());
> >>return xlsInfo;
> >>}
> >>
> >>Thanks in advance for your help
> >>Shoba
> >>
> >>
> >>__________________________________
> >>Do you Yahoo!?
> >>The New Yahoo! Search - Faster. Easier. Bingo.
> >>http://search.yahoo.com
> >>
> >>
>
>---------------------------------------------------------------------
> 
> >>To unsubscribe, e-mail:
> >>lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> >>lucene-user-help@jakarta.apache.org
> >>
> >>
>
>---------------------------------------------------------------------
> 
> >>To unsubscribe, e-mail:
> >>lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> >>lucene-user-help@jakarta.apache.org
> >>
> >
> >
> >__________________________________
> >Do you Yahoo!?
> >The New Yahoo! Search - Faster. Easier. Bingo.
> >http://search.yahoo.com
> >
>
>---------------------------------------------------------------------
> 
> >To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4397-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 07:11:26 2003
Return-Path: <lucene-user-return-4397-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36416 invoked from network); 6 May 2003 07:11:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 07:11:25 -0000
Received: (qmail 23528 invoked by uid 97); 6 May 2003 07:13:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23521 invoked from network); 6 May 2003 07:13:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 07:13:38 -0000
Received: (qmail 36150 invoked by uid 500); 6 May 2003 07:11:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36139 invoked from network); 6 May 2003 07:11:22 -0000
Received: from unknown (HELO mail.topix.dk) (213.150.56.212)
  by daedalus.apache.org with SMTP; 6 May 2003 07:11:22 -0000
Received: (qmail 14086 invoked from network); 6 May 2003 07:11:25 -0000
Received: from cpe.atm2-0-1071191.0x3ef3c602.arcnxx10.customer.tele.dk (HELO jalaptop) (62.243.198.2)
  by 213.150.56.212 with SMTP; 6 May 2003 07:11:25 -0000
Message-ID: <004401c3139e$b96e7410$1801a8c0@csiteoffice.csite.com>
From: "Jan Agermose" <jan@agermose.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030505203937.24918.qmail@web11708.mail.yahoo.com> <189901c3134b$458d29e0$0501a8c0@POWERPACK>
Subject: Re: Index Path in WAR
Date: Tue, 6 May 2003 09:11:26 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Having more Directory implementations would be nice...

----- Original Message ----- 
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, May 05, 2003 11:14 PM
Subject: Re: Index Path in WAR


> Kevin,
>
> Thanks for trying.  I hate to ask you to do a lot of work, but I would
sure
> like to figure out how to do the JarDirectory.  I don't know if this is of
> general interest to the list, so if no one else chimes in, why don't we
take
> this off-list.
>
> Regards,
>
> Terry
>
> ----- Original Message -----
> From: "Kevin Moran" <gridplan@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, May 05, 2003 4:39 PM
> Subject: Re: Index Path in WAR
>
>
> > Hi Terry,
> >     I tried to get permission but was turned down.
> > Sorry about that.  About all I can offer in the short
> > term is either to describe in more detail what I did
> > or to re-write it on my own time and get back to you
> > later on.
> >
> > Best,
> > -kevin
> >
> > --- Terry Steichen <terry@net-frame.com> wrote:
> > > Kevin,
> > >
> > > I'd sure like to get a look at JarDirectory source.
> > > Maybe you could get
> > > permission - that would be great.
> > >
> > > Regards,
> > >
> > > Terry
> >
> >
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4398-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 09:51:34 2003
Return-Path: <lucene-user-return-4398-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43259 invoked from network); 6 May 2003 09:51:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 09:51:33 -0000
Received: (qmail 27805 invoked by uid 97); 6 May 2003 09:53:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27797 invoked from network); 6 May 2003 09:53:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 09:53:47 -0000
Received: (qmail 42765 invoked by uid 500); 6 May 2003 09:51:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42695 invoked from network); 6 May 2003 09:51:27 -0000
Received: from pine.linde-va.de (145.225.75.243)
  by daedalus.apache.org with SMTP; 6 May 2003 09:51:27 -0000
Received: from elm.le.grp (unverified [145.225.75.181]) by pine.Linde-VA.de
 (Rockliffe SMTPRA 5.2.5) with SMTP id <B0002679647@pine.linde-va.de> for <lucene-user@jakarta.apache.org>;
 Tue, 6 May 2003 11:52:45 +0200
Subject: date field in german notation
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF4157C768.BD27C042-ONC1256D1E.003574F3@linde-le.com>
From: Test2.Schwab@Linde-LE.com
Date: Tue, 6 May 2003 10:51:37 +0100
X-MIMETrack: Serialize by Router on D1S13/Servers/MUC/VA/Linde-VA(Release 5.0.8 |June 18, 2001) at
 05/06/2003 11:51:39 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

I have indexed my table. The table has the column Date. It contains date
values in german fomat, like this 03.05.03 (day, month, year)
Indexing is ok. when I'm searching for dates (date:03.05.03) I recieve
nothing.
I've indexed this field as a keyword field.
When I print out the record, the date value looks like this 2003-03-18.
I've also searched for date:2003-03-18.

I still get no result.

What have I to do to solve this??

Any suggestions?

Arsineh


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4399-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 11:32:14 2003
Return-Path: <lucene-user-return-4399-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76841 invoked from network); 6 May 2003 11:32:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 11:32:13 -0000
Received: (qmail 158 invoked by uid 97); 6 May 2003 11:34:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 151 invoked from network); 6 May 2003 11:34:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 11:34:14 -0000
Received: (qmail 76591 invoked by uid 500); 6 May 2003 11:32:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76580 invoked from network); 6 May 2003 11:32:10 -0000
Received: from pine.linde-va.de (145.225.75.243)
  by daedalus.apache.org with SMTP; 6 May 2003 11:32:10 -0000
Received: from elm.le.grp (unverified [145.225.75.181]) by pine.Linde-VA.de
 (Rockliffe SMTPRA 5.2.5) with SMTP id <B0002680907@pine.linde-va.de> for <lucene-user@jakarta.apache.org>;
 Tue, 6 May 2003 13:33:16 +0200
Subject: Re: date field in german notation - it works!!
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF13A774DF.81C0AAAD-ONC1256D1E.003F3790@linde-le.com>
From: Test2.Schwab@Linde-LE.com
Date: Tue, 6 May 2003 12:32:08 +0100
X-MIMETrack: Serialize by Router on D1S13/Servers/MUC/VA/Linde-VA(Release 5.0.8 |June 18, 2001) at
 05/06/2003 01:32:10 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Sorry for the question!
All you have to do is do set the characters " "
like this: date:"2003-03-18"
thats all



                                                                                                                                  
                    Test2.Schwab@Li                                                                                               
                    nde-LE.com            To:     lucene-user@jakarta.apache.org                                                  
                                          cc:     (bcc: Test2 Schwab/MUC/VA/Linde-VA)                                             
                    06.05.03 10:51        Subject:     date field in german notation                                              
                    Please respond                                                                                                
                    to "Lucene                                                                                                    
                    Users List"                                                                                                   
                                                                                                                                  
                                                                                                                                  




Hello,

I have indexed my table. The table has the column Date. It contains date
values in german fomat, like this 03.05.03 (day, month, year)
Indexing is ok. when I'm searching for dates (date:03.05.03) I recieve
nothing.
I've indexed this field as a keyword field.
When I print out the record, the date value looks like this 2003-03-18.
I've also searched for date:2003-03-18.

I still get no result.

What have I to do to solve this??

Any suggestions?

Arsineh


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4400-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 11:42:31 2003
Return-Path: <lucene-user-return-4400-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 90055 invoked from network); 6 May 2003 11:42:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 11:42:30 -0000
Received: (qmail 371 invoked by uid 97); 6 May 2003 11:44:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 364 invoked from network); 6 May 2003 11:44:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 11:44:31 -0000
Received: (qmail 89733 invoked by uid 500); 6 May 2003 11:42:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89722 invoked from network); 6 May 2003 11:42:25 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 6 May 2003 11:42:25 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 9E6C5367CE; Tue,  6 May 2003 11:39:28 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 1B714367C4
	for <lucene-user@jakarta.apache.org>; Tue,  6 May 2003 11:39:27 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: IndexReader.lastModified();
Date: Tue, 6 May 2003 07:42:25 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDAECJCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <20030505201220.88817.qmail@web12702.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yeah it looks like I am going to have to handle it internally instead of
relying on IndexReader.lastModified(), oh well so much for
cross-platform-ism :-)


Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Monday, May 05, 2003 4:12 PM
To: Lucene Users List
Subject: RE: IndexReader.lastModified();


Oh, I see what you mean.  You are talking about the delta between the
original time stamp, and the time stamp that you expect after you add a
document.  I thought you were saying that it takes the F/S at least a
second to update the time stamp, after the file has been modified.

In that case, this is a file system issue that Lucene can't do much
about.

Otis

--- Rob Outar <routar@ideorlando.org> wrote:
> We looked it up on Goggle, ext2 file system does not update the last
> mod
> date if the change to the file is under 1 second.  Also I don't
> remember
> cause my brain hurts, when Linux returned the time it did not include
> ms,
> but on Windows it did, all my queries on Windows worked because of
> this.
>
> A sleep does not work, it is the modification time, of the file, not
> how
> long the test takes.
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, May 05, 2003 3:53 PM
> To: Lucene Users List
> Subject: RE: IndexReader.lastModified();
>
>
> I wouldn't trust that < 1 second statement :)
> Just put a sleep in your unit test and see.
>
> Otis
>
> --- Rob Outar <routar@ideorlando.org> wrote:
> > My Linux admin told me that if a change to a file occurs in less
> than
> > one
> > second Linux does not update the last mod date.  Has anyone else
> > experienced
> > this? or is this even possible?  I have spent hours and hours
> > debugging my
> > code and the date thing is the only thing I can see as causing my
> > queries to
> > fail.
> >
> >
> > Thanks,
> >
> > Rob
> >
> >
> > -----Original Message-----
> > From: Rob Outar [mailto:routar@ideorlando.org]
> > Sent: Monday, May 05, 2003 2:42 PM
> > To: Lucene Users List
> > Subject: RE: IndexReader.lastModified();
> >
> >
> >   /** Returns the time the index in the named directory was last
> > modified.
> > */
> >   public static long lastModified(File directory) throws
> IOException
> > {
> >     return FSDirectory.fileModified(directory, "segments");
> >   }
> >
> >   /** Returns the time the named file was last modified. */
> >   public final long fileModified(String name) throws IOException {
> >     File file = new File(directory, name);
> >     return file.lastModified();
> >   }
> >
> >   /** Returns the time the named file was last modified. */
> >   public static final long fileModified(File directory, String
> name)
> >        throws IOException {
> >     File file = new File(directory, name);
> >     return file.lastModified();
> >   }
> >
> > Could this be a problem in Linux where the files last mod date are
> > not being
> > updated fast enough?
> >
> > Thanks,
> >
> > Rob Outar
> > OneSAF A&I -- SAIC
> > Software\Data Engineer
> > 321-235-7660
> > outarr@saic.com <mailto:outarr@saic.com>
> >
> >
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Sent: Monday, May 05, 2003 2:37 PM
> > To: Lucene Users List
> > Subject: Re: IndexReader.lastModified();
> >
> >
> > I don't remember any more, but maybe lastModified() returns a new
> > value
> > only after the IndexWriter is close()d.  You may be able to tell
> from
> > looking at the source.... or you should just try that and see.
> >
> > Otis
> >
> >
> > --- Rob Outar <routar@ideorlando.org> wrote:
> > > Hi all,
> > >
> > > 	I am experiencing a weird problem in Linux.  When I initially
> > create
> > > the
> > > index I store the date with the IndexReader.lastModified() call.
> I
> > > then
> > > have a Junit test that adds a document to the index, I then have
> a
> > > method
> > > that checks if the index has changed and if it has I create a new
> > > IndexSearcher.  The problem is the date the index was created and
> > the
> > > most
> > > recent call to IndexReader.lastModified()(after adding a
> document)
> > > are
> > > returning the same value so when I query on the new document I
> just
> > > added it
> > > is failing because according to the dates, the index has not
> > changed
> > > so I
> > > did not create a new IndexSearcher!!!
> > >
> > > 	Has anyone experience this before?  If so, is there a known fix?
> > >
> > > Thanks,
> > >
> > > Rob
> > >
> > >
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >
> >
> >
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4401-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 12:20:17 2003
Return-Path: <lucene-user-return-4401-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54303 invoked from network); 6 May 2003 12:20:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 12:20:16 -0000
Received: (qmail 1736 invoked by uid 97); 6 May 2003 12:22:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1729 invoked from network); 6 May 2003 12:22:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 12:22:18 -0000
Received: (qmail 54008 invoked by uid 500); 6 May 2003 12:20:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53994 invoked from network); 6 May 2003 12:20:12 -0000
Received: from mclean.mail.mindspring.net (207.69.200.57)
  by daedalus.apache.org with SMTP; 6 May 2003 12:20:12 -0000
Received: from h-66-167-237-119.mclnva23.covad.net ([66.167.237.119] helo=POWERPACK)
	by mclean.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19D1QZ-0002FX-00
	for lucene-user@jakarta.apache.org; Tue, 06 May 2003 08:20:11 -0400
Message-ID: <194001c313c9$e36e8090$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200305030127.15302@bah> <200305051610.31421@bah> <17f401c31325$61760cb0$0501a8c0@POWERPACK> <200305061229.35426@bah>
Subject: Re: High number of files in the index
Date: Tue, 6 May 2003 08:20:31 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What I said (or meant to say) is that the size of the index depends on not
just the number of fields, but also on how many of the fields have their
contents stored in the index.  (If, as you state, you don't store any field
contents in the index, this is not an issue with you.)

Terry

----- Original Message -----
From: "Victor Hadianto" <victorh@nuix.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, May 05, 2003 10:29 PM
Subject: Re: High number of files in the index


> > I believe it's not only the number of fields, but how many fields you
> > select to have their contents included in the index.  If you don't need
the
> > content accessible via the index, that can make a big difference.
>
> Hmm so are you saying even if I have a lot of fields as long as they are
not
> stored in the index they are fine? That's strange because all my fields
are
> indexed but not stored in the index. Or perhaps I misunderstood what you
> mean?
>
> > Terry
>
> victor
>
> >
> > ----- Original Message -----
> > From: "Victor Hadianto" <victorh@nuix.com.au>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Monday, May 05, 2003 2:10 AM
> > Subject: Re: High number of files in the index
> >
> > > Yes this seems to be the problem. I had to rewrite the indexer and
> >
> > indexing it
> >
> > > a smarter way. Now keeping the number of fields down and the number of
> >
> > files
> >
> > > in the Lucene index to a more acceptable level again.
> > >
> > > victor
> > >
> > > On Mon, 5 May 2003 03:58 pm, Sushma Sinha wrote:
> > > > The most obvious reason seems to be the increase in number of
fields.
> > > >  I guess lucene creates one file for each field in the index.
> > > > You can check by looking at the file names in the index, if you have
N
> > > > number of files with the common prefix ,
> > > > but different suffix , those are all created for different fields.
> > > >
> > > > And also , is the lucene performance affected by the no of files in
the
> > > > index. I think u can look at the index size as a whole
> > > > And if it affects the performance, is there a way to merge the files
> > > > and
> >
> > do
> >
> > > > further optimization?.. as I have not much info about the additional
> >
> > files
> >
> > > > created in the index.
> > > >
> > > > - Sushma
> > > >
> > > >
> > > > ----- Original Message -----
> > > > From: "Victor Hadianto" <victorh@nuix.com.au>
> > > > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > > > Sent: Friday, May 02, 2003 8:57 PM
> > > > Subject: High number of files in the index
> > > >
> > > > > Hi list,
> > > > >
> > > > > I'm experiencing a high number of files in the Lucene index, even
> >
> > after
> >
> > > > > running optimize I still have over 600 files in my Lucene index.
Now
> >
> > the
> >
> > > > > scary thing is that's about the same number of document that I
> >
> > indexed.
> >
> > > > > This problem didn't happen before, the only change that I can
think
> > > > > of
> >
> > is
> >
> > > > that
> > > >
> > > > > I'm changing the documents being indexed. Previously all documents
> >
> > have
> >
> > > > the
> > > >
> > > > > same fields, but now each document has a different set of field
> >
> > indexed.
> >
> > > > > Is this the problem? Will this cause the high number of files in
my
> >
> > index
> >
> > > > > directory?
> > > > >
> > > > > Please someone say no .. because otherwise I'm dead.
> > > > >
> > > > >
> > > > > victor
> > > > >
> > > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > > --
> > > Victor Hadianto
> > >
> > > NUIX Pty Ltd
> > > Level 8, 143 York Street, Sydney 2000
> > > Phone: (02) 9283 9010
> > > Fax:   (02) 9283 9020
> > >
> > > This message is intended only for the named recipient. If you are not
the
> > > intended recipient you are notified that disclosing, copying,
> > > distributing or taking any action in reliance on the contents of this
> > > message or attachment is strictly prohibited.
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4402-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 13:02:32 2003
Return-Path: <lucene-user-return-4402-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37473 invoked from network); 6 May 2003 13:02:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 13:02:31 -0000
Received: (qmail 3080 invoked by uid 97); 6 May 2003 13:04:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3073 invoked from network); 6 May 2003 13:04:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 13:04:33 -0000
Received: (qmail 32692 invoked by uid 500); 6 May 2003 13:01:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32649 invoked from network); 6 May 2003 13:01:25 -0000
Received: from mzpi3.forethought.net (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 6 May 2003 13:01:25 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19D24U-0002Dc-2g
	for lucene-user@jakarta.apache.org; Tue, 06 May 2003 07:01:26 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: IndexReader.lastModified();
Date: Tue, 6 May 2003 07:06:14 -0600
User-Agent: KMail/1.4.3
References: <MNEPJJAGGPICDNOCBIKDAECJCJAA.routar@ideorlando.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDAECJCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305060706.14501.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday 06 May 2003 05:42, Rob Outar wrote:
> Yeah it looks like I am going to have to handle it internally instead of
> relying on IndexReader.lastModified(), oh well so much for
> cross-platform-ism :-)

[regarding ext2-fs 'feature' on Linux]

I think this 'feature' might be useful thing to document in a FAQ. Perhaps 
there should be a platform-dependancies FAQ (or sub-section). Wasn't there 
also some concern regarding Windows platform, where deleted status of a file
was not reliably accessed by Java (or something similar)?

Also, do you think ext3 has same problem? (or if it has, other new journaling 
file systems).

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4403-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 14:43:57 2003
Return-Path: <lucene-user-return-4403-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 726 invoked from network); 6 May 2003 14:43:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 14:43:56 -0000
Received: (qmail 6723 invoked by uid 97); 6 May 2003 14:45:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6716 invoked from network); 6 May 2003 14:45:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 14:45:58 -0000
Received: (qmail 413 invoked by uid 500); 6 May 2003 14:43:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 397 invoked from network); 6 May 2003 14:43:51 -0000
Received: from web40111.mail.yahoo.com (66.218.78.45)
  by daedalus.apache.org with SMTP; 6 May 2003 14:43:51 -0000
Message-ID: <20030506144353.8491.qmail@web40111.mail.yahoo.com>
Received: from [163.188.121.119] by web40111.mail.yahoo.com via HTTP; Tue, 06 May 2003 07:43:53 PDT
Date: Tue, 6 May 2003 07:43:53 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: RE: Using lucene with HSSF from Apache
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A9654F@bruex4.eu.levi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Michel,


--- MMachado@LEVI.com wrote:
> Hi Shoba,
> About your question,YES I am able to index doc and
> excel files and then I
> can extract them with my search engine that give me
> a link to the file.
> Michel
> 
> -----Original Message-----
> From: Shoba Ramachandran
> [mailto:shoba_duruvan@yahoo.com] 
> Sent: Monday, May 05, 2003 4:38 PM
> To: Lucene Users List
> Subject: RE: Using lucene with HSSF from Apache
> 
> Thanks very much HTH,
> What would be the good number for max.no. of terms
> for
> a very huge document say 20MB PDF file.
> 
> Thanks
> Shoba
> 
> --- kelvin-lists@relevanz.com wrote:
> > It's doable, because if you open any ms office
> > document in your text
> > editor, you'll see that text is all there,
> > surrounded with binary
> > characters and other kinds of mumbo-jumbo. The
> > biggest minus is that
> > you'll exceed the max number of terms in a hurry,
> > even if you set it
> > to like a million, once you hit a reasonably large
> > file (>5MB).
> > 
> > What I do is filter out all the unreadable stuff
> > using some regex
> > filters. Only minus is that its somewhat slower
> coz
> > of the line by
> > line processing, but I'm sure its _much_ faster
> than
> > attempting to
> > add all those nonsense data.
> > 
> > HTH
> > 
> > On Fri, 2 May 2003 08:30:15 -0700 (PDT), Shoba
> > Ramachandran wrote:
> > >Hi Michel,
> > >
> > >Are you able to index and search xls and doc
> files
> > >with just Lucene using SimpleAnalyzer????
> > >There is no need for POI?
> > >With Lucene, you are able to extract the xls
> > content
> > >as text?
> > >
> > >Let me try as you explained.
> > >Thanks very much for your reply.
> > >Shoba
> > >
> > >--- MMachado@LEVI.com wrote:
> > >>Hi,
> > >>I did it, but I use only lucene. You need to
> > create
> > >>an IndexWriter with
> > >>SimpleAnalyzer, an InputStream as new
> > >>FileInputStream, create Document with
> > >>two Fields: one contains the file path and one
> > >>contains the file's content).
> > >>That's all.
> > >>Michel
> > >>
> > >>-----Original Message-----
> > >>From: Shoba Ramachandran
> > >>[mailto:shoba_duruvan@yahoo.com]
> > >>Sent: Wednesday, April 30, 2003 6:10 PM
> > >>To: lucene-user@jakarta.apache.org
> > >>Subject: Using lucene with HSSF from Apache
> > >>
> > >>Hi,
> > >>
> > >>Has anyone tried to index xls and doc files?
> > >>I'm trying to do with HSSF from apache and using
> > >>lucene1.2
> > >>
> > >>This code returns me binary and printing it out
> > >>gives
> > >>junk chracters. File indexed like this returns
> > >>nothing
> > >>upon search.
> > >>
> > >>public static byte[] parse(File file) throws
> > >>Exception
> > >>{
> > >>POIFSFileSystem fs = new POIFSFileSystem(new
> > >>FileInputStream(file));
> > >>HSSFWorkbook wb = new HSSFWorkbook(fs);
> > >>byte[] xlsInfo = wb.getBytes();
> > >>System.out.println("xls content :  "+
> > >>xlsInfo.toString());
> > >>return xlsInfo;
> > >>}
> > >>
> > >>Thanks in advance for your help
> > >>Shoba
> > >>
> > >>
> > >>__________________________________
> > >>Do you Yahoo!?
> > >>The New Yahoo! Search - Faster. Easier. Bingo.
> > >>http://search.yahoo.com
> > >>
> > >>
> >
>
>---------------------------------------------------------------------
> > 
> > >>To unsubscribe, e-mail:
> > >>lucene-user-unsubscribe@jakarta.apache.org
> > >>For additional commands, e-mail:
> > >>lucene-user-help@jakarta.apache.org
> > >>
> > >>
> >
>
>---------------------------------------------------------------------
> > 
> > >>To unsubscribe, e-mail:
> > >>lucene-user-unsubscribe@jakarta.apache.org
> > >>For additional commands, e-mail:
> > >>lucene-user-help@jakarta.apache.org
> > >>
> > >
> > >
> > >__________________________________
> > >Do you Yahoo!?
> > >The New Yahoo! Search - Faster. Easier. Bingo.
> > >http://search.yahoo.com
> > >
> >
>
>---------------------------------------------------------------------
> > 
> > >To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > >For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >
> > 
> > 
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4404-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 15:41:58 2003
Return-Path: <lucene-user-return-4404-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36555 invoked from network); 6 May 2003 15:41:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 15:41:58 -0000
Received: (qmail 9104 invoked by uid 97); 6 May 2003 15:44:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9097 invoked from network); 6 May 2003 15:44:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 15:44:01 -0000
Received: (qmail 35637 invoked by uid 500); 6 May 2003 15:41:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35588 invoked from network); 6 May 2003 15:41:44 -0000
Received: from 149-99-32-11.dsl.tor1.sprint-canada.net (HELO mail2) (149.99.32.11)
  by daedalus.apache.org with SMTP; 6 May 2003 15:41:44 -0000
Received: from ATP2 (unverified [149.99.32.51]) by mail2
 (Rockliffe SMTPRA 4.2.2) with ESMTP id <B0005309042@mail2> for <lucene-user@jakarta.apache.org>;
 Tue, 6 May 2003 20:45:21 -0700
Message-ID: <10278389.1052235785984.JavaMail.Administrator@ATP2>
Date: Tue, 6 May 2003 08:43:05 -0700 (PDT)
From: blaplante <blaplante@netwebapps.com>
Reply-To: blaplante@netwebapps.com
To: lucene-user@jakarta.apache.org
Subject: Corrupt index problem
Mime-Version: 1.0
Content-Type: text/plain; charset=Cp1252
Content-Transfer-Encoding: quoted-printable
X-Mailer: E-mailanywhere V2.0 (Windows)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am not sure if I might be doing something wrong but the result of
searching the index produces a summary field that looks like the following.

%PDF-1.2 %=E2=E3=CF=D3 10 0 obj << /Length 11 0 R /Filter /FlateDecode >> s=
tream
H?=B5W=DBn=DCH=0E=FD=02=FFC=3D&?X=AE=AB.o=DB=F1e=E1
=BE?=DDN0?_=E4=EE=B2=AD?=BA=E5?=D4v=FC=F7K=D6M=A5N=CB3?=CC"=08=D0??=C5"yxx=
=F8y=BE'?HDJT?=C8=FCh?=12=FC=D3>?=BD?=13J=F2$?=F0=DF=F7{4=A1?s=F8=B9
=FB=F8[2=F8=FDB>=DC\=1E=CD=E6=C7G=E4=FA=E2d=FE}vuL=F0?

I am using:=20
lucene-1.2.jar
PDFBox-0.6.2.jar

I wrote a class that formulates a dynamic url and uses https to connect via
the web and retrieve an InputStream using a GET_METHOD. I am passing the
InputStream off the HTMLParser(InputStream stream) constructor and calling
parser.getReader() to store the content into the index and I am calling
parser.getSummary() to store the summary into the index. When I used the
demo that came with lucene and did a local index on my own machine the
HTMLParser(File file) constructor worked just fine. If anyone has idea's as
to what I might be doing wrong I would appreciate the heads up.

Thanks

Bryan LaPlante

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4405-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 15:58:10 2003
Return-Path: <lucene-user-return-4405-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72411 invoked from network); 6 May 2003 15:58:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 15:58:09 -0000
Received: (qmail 9638 invoked by uid 97); 6 May 2003 16:00:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9631 invoked from network); 6 May 2003 16:00:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 16:00:12 -0000
Received: (qmail 72138 invoked by uid 500); 6 May 2003 15:58:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72121 invoked from network); 6 May 2003 15:58:05 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 6 May 2003 15:58:05 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP
	id 04374107; Tue,  6 May 2003 11:58:08 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 9C0AC1250; Tue,  6 May 2003 11:58:07 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP
	id 6DD69115F; Tue,  6 May 2003 11:58:07 -0400 (EDT)
Date: Tue, 6 May 2003 11:58:07 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
	blaplante@netwebapps.com
Subject: Re: Corrupt index problem
In-Reply-To: <10278389.1052235785984.JavaMail.Administrator@ATP2>
Message-ID: <Pine.GSO.4.53.0305061147300.2859@fury.csh.rit.edu>
References: <10278389.1052235785984.JavaMail.Administrator@ATP2>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=Cp1252
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Are you using the org.pdfbox.searchengines.LucenePDFDocument class?  It
looks like you are using the HTMLParser to parse a PDF document which will
not work.  So in your indexer class you need to have something to this
effect

if( PDF Document )
{
    use LucenePDFDocument
}
else if( HTML Document )
{
    use HTMLParser
}

You can see a working example of this in the
org.pdfbox.searchengine.lucene.IndexFiles source file.

It would be nice if lucene had some sort Front class that implemented a
command pattern.  So you could feed it a URL or File it would determine
the mime type and it would call to a parser configured for that mimetype.
It seems silly that everybody has all of these if statements in all of
their indexers to switch on the contentType.  Maybe I will work on that
one of these days if there is some interest.

Ben


On Tue, 6 May 2003, blaplante wrote:

> I am not sure if I might be doing something wrong but the result of
> searching the index produces a summary field that looks like the followin=
g.
>
> %PDF-1.2 %=E2=E3=CF=D3 10 0 obj << /Length 11 0 R /Filter /FlateDecode >>=
 stream
> H?=B5W=DBn=DCH=0E=FD=02=FFC=3D&?X=AE=AB.o=DB=F1e=E1
> =BE?=DDN0?_=E4=EE=B2=AD?=BA=E5?=D4v=FC=F7K=D6M=A5N=CB3?=CC"=08=D0??=C5"yx=
x=F8y=BE'?HDJT?=C8=FCh?=12=FC=D3>?=BD?=13J=F2$?=F0=DF=F7{4=A1?s=F8=B9
> =FB=F8[2=F8=FDB>=DC\=1E=CD=E6=C7G=E4=FA=E2d=FE}vuL=F0?
>
> I am using:
> lucene-1.2.jar
> PDFBox-0.6.2.jar
>
> I wrote a class that formulates a dynamic url and uses https to connect v=
ia
> the web and retrieve an InputStream using a GET_METHOD. I am passing the
> InputStream off the HTMLParser(InputStream stream) constructor and callin=
g
> parser.getReader() to store the content into the index and I am calling
> parser.getSummary() to store the summary into the index. When I used the
> demo that came with lucene and did a local index on my own machine the
> HTMLParser(File file) constructor worked just fine. If anyone has idea's =
as
> to what I might be doing wrong I would appreciate the heads up.
>
> Thanks
>
> Bryan LaPlante
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4406-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 06 16:15:36 2003
Return-Path: <lucene-user-return-4406-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5698 invoked from network); 6 May 2003 16:15:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 May 2003 16:15:34 -0000
Received: (qmail 10470 invoked by uid 97); 6 May 2003 16:17:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10463 invoked from network); 6 May 2003 16:17:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 6 May 2003 16:17:38 -0000
Received: (qmail 3681 invoked by uid 500); 6 May 2003 16:15:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3615 invoked from network); 6 May 2003 16:15:09 -0000
Received: from 149-99-32-11.dsl.tor1.sprint-canada.net (HELO mail2) (149.99.32.11)
  by daedalus.apache.org with SMTP; 6 May 2003 16:15:09 -0000
Received: from atp (unverified [149.99.32.50]) by mail2
 (Rockliffe SMTPRA 4.2.2) with ESMTP id <B0005309705@mail2> for <lucene-user@jakarta.apache.org>;
 Tue, 6 May 2003 21:18:47 -0700
Message-ID: <1810905.1052238274140.JavaMail.Administrator@atp>
Date: Tue, 6 May 2003 09:24:34 -0700 (PDT)
From: blaplante <blaplante@netwebapps.com>
Reply-To: blaplante@netwebapps.com
To: lucene-user@jakarta.apache.org
Subject: Re: Re: Corrupt index problem
Mime-Version: 1.0
Content-Type: text/plain; charset=Cp1252
Content-Transfer-Encoding: quoted-printable
X-Mailer: E-mailanywhere V2.0 (Windows)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

yes I am using the org.pdfbox.searchengines.LucenePDFDocument class and I
did like the others and put in fork logic to call either HTMLParser or
LucenePDFDocument to index the InputStream. The strange thing is there are
about 8 pdf's in the site and they seem to be the only thing that gets
indexed. I am using eclipse and watching the debugger to make sure the
correct parser is getting called and I also watch the index grow durring th=
e
index stage and shrink when the optomize is called, yet when I put in searc=
h
criteria I get no results unless I put in a single alpha character [a-zA-Z]
and then the results I spoke of earlier. Once I get this working I would be
happy the share my code that crawls a site using https, it looks like that
one is missing from the sandbox.=20

>On Tue, 6 May 2003 11:58:07 -0400 (EDT) Ben Litchfield <ben@csh.rit.edu>
wrote.
>Are you using the org.pdfbox.searchengines.LucenePDFDocument class?  It

>looks like you are using the HTMLParser to parse a PDF document which will

>not work.  So in your indexer class you need to have something to this

>effect

>

>if( PDF Document )

>{

>    use LucenePDFDocument

>}

>else if( HTML Document )

>{

>    use HTMLParser

>}

>

>You can see a working example of this in the

>org.pdfbox.searchengine.lucene.IndexFiles source file.

>

>It would be nice if lucene had some sort Front class that implemented a

>command pattern.  So you could feed it a URL or File it would determine

>the mime type and it would call to a parser configured for that mimetype.

>It seems silly that everybody has all of these if statements in all of

>their indexers to switch on the contentType.  Maybe I will work on that

>one of these days if there is some interest.

>

>Ben

>

>

>On Tue, 6 May 2003, blaplante wrote:

>

>> I am not sure if I might be doing something wrong but the result of

>> searching the index produces a summary field that looks like the

>following.

>>

>> F-1.2 =CF=D3 10 0 obj << /Length 11 0 R /Filter /FlateDecode >> stream

>> H?=B5W=DBn=DCH=0E=FD=02=FFC=3D&?X=AE=AB.o=DB=F1e=E1

>>
=BE?=DDN0?_=E4=EE=B2=AD?=BA=E5?=D4v=FC=F7K=D6M=A5N=CB3?=CC"=08=D0??=C5"yxx=
=F8y=BE'?HDJT?=C8=FCh?=12=FC=D3>?=BD?=13J=F2$?=F0=DF=F7{4=A1?s=F8=B9

>> =FB=F8[2=F8=FDB>=DC\=1E=CD=E6=C7G=E4=FA=E2d=FE}vuL=F0?

>>

>> I am using:

>> lucene-1.2.jar

>> PDFBox-0.6.2.jar

>>

>> I wrote a class that formulates a dynamic url and uses https to connect

>via

>> the web and retrieve an InputStream using a GET_METHOD. I am passing the

>> InputStream off the HTMLParser(InputStream stream) constructor and
calling

>> parser.getReader() to store the content into the index and I am calling

>> parser.getSummary() to store the summary into the index. When I used the

>> demo that came with lucene and did a local index on my own machine the

>> HTMLParser(File file) constructor worked just fine. If anyone has idea's

>as

>> to what I might be doing wrong I would appreciate the heads up.

>>

>> Thanks

>>

>> Bryan LaPlante

>>

>> ---------------------------------------------------------------------

>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

>>

>

>---------------------------------------------------------------------

>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

>

>

>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4407-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 07 01:58:23 2003
Return-Path: <lucene-user-return-4407-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91692 invoked from network); 7 May 2003 01:58:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 May 2003 01:58:22 -0000
Received: (qmail 25560 invoked by uid 97); 7 May 2003 02:00:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25553 invoked from network); 7 May 2003 02:00:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 May 2003 02:00:32 -0000
Received: (qmail 91429 invoked by uid 500); 7 May 2003 01:58:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91415 invoked from network); 7 May 2003 01:58:19 -0000
Received: from unknown (HELO svntjt1-46.watercorporation.com.au) (159.52.65.24)
  by daedalus.apache.org with SMTP; 7 May 2003 01:58:19 -0000
Received: by SVNTJT1-46.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <2SWNMGJQ>; Wed, 7 May 2003 09:43:14 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00E3CDED6@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Index Path in WAR
Date: Wed, 7 May 2003 09:43:12 +0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C3143A.054F07F0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C3143A.054F07F0
Content-Type: text/plain;
	charset="iso-8859-1"


Here it is. Enjoy....


 <<WARDirectory.java>> 

> -----Original Message-----
> From:	Kevin Moran [SMTP:gridplan@yahoo.com]
> Sent:	Monday, May 05, 2003 10:51 AM
> To:	Lucene Users List
> Subject:	RE: Index Path in WAR
> 
> Hi Les,
>     I haven't run any metrics on the JarDirectory
> approach.  But, at least in my application, searches
> are surprisingly fast as long as the Jar is
> uncompressed.  If it's compressed, searches are
> noticeably slower.  When I wrote that class I didn't
> think I'd have concurrency issues because my users are
> only ever searching, and not updating, the Jar.  But
> maybe I'm missing something obvious.  If so, please
> let me know.
>     In any case, if you get a chance, I would like to
> see your WARDirectory class.  That's an interesting
> approach that I hadn't considered.
> 
> TIA,
> -kevin
> 
> --- Leslie Hughes
> <Leslie.Hughes@watercorporation.com.au> wrote:
> > 
> > Hi,
> > 
> > I've written a simple WARDirectory which delegates
> > to either a RAMDir or
> > FSDir. The WARDir is initialised by a listener
> > (servlet 2.3/4? spec) and
> > either copies the index to the servlet temp
> > directory or to RAM depending
> > upon a setting in the web.xml file.
> > 
> > I dont have the source with me but if you want, I'll
> > bring it into work
> > tomorrow.
> > 
> > I did think about going the jardir route but had
> > performance concerns about
> > lucene accessing a single jarfile.
> > 
> > Bye
> > 
> > Les
> > 
> > 
> > 
> > > -----Original Message-----
> > > From:	Kevin Moran [SMTP:gridplan@yahoo.com]
> > > Sent:	Monday, May 05, 2003 8:38 AM
> > > To:	Lucene Users List
> > > Subject:	Re: Index Path in WAR
> > > 
> > > Hi Jason,
> > >     This may not be the best solution and may
> > differ
> > > from your situation if your index is read/write
> > (mine
> > > isn't).  But hey, it works for me.  How I got
> > around
> > > the problem was first to Jar up the index.  I
> > Jarred
> > > it up uncompressed for speed.  I then subclassed
> > > Directory.  I called it JarDirectory.  I made
> > > JarDirectory's constructor use
> > > ClassLoader.getResource() to find the Jar and then
> > > create a java.util.jar.JarFile from it.  The
> > methods I
> > > overrode in Directory (e.g., list(), fileExists(),
> > > etc.) use the JarFile as appropriate.  After I
> > > debugged that class all I had to do was create an
> > > instance of JarDirectory and pass it to
> > > IndexSearcher's constructor.  My searches then
> > went
> > > against the Jar file.  As long as the Jar is in
> > the
> > > classpath -- which you can bundle with your web
> > app
> > > and set a classpath to in your manifest file -- it
> > > works.  That allows you to bundle the index with
> > the
> > > web app and avoid hard-coding a path to it.
> > > 
> > > HTH,
> > > -kevin
> > > 
> > > P.S. Unfortunately, I can't provide the source to
> > > JarDirectory as it is not mine to give.  But it
> > didn't
> > > take long to write and was less than 400 lines
> > long. 
> > > Maybe someone else on the mailing list can point
> > you
> > > to a better concrete example.
> > > 
> > > --- Jason.Cox@trw.com wrote:
> > > > List,
> > > > 
> > > > I'm having problems using an absolute path to
> > the
> > > > index directory when my web application is
> > deployed
> > > > in a WAR file.  The absolute path changes
> > depending
> > > > on the server.  Is there a way to either
> > dynamically
> > > > determine an absolute path to the index
> > directory or
> > > > to use relative pathing?
> > > > 
> > > > Thanks in advance,
> > > > 
> > > > Jason
> > > > 
> > > >
> > >
> >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > > lucene-user-help@jakarta.apache.org
> > > > 
> > > 
> > > 
> > > __________________________________
> > > Do you Yahoo!?
> > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > http://search.yahoo.com
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


------_=_NextPart_000_01C3143A.054F07F0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_000_01C3143A.054F07F0--

From lucene-user-return-4408-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 07 03:06:34 2003
Return-Path: <lucene-user-return-4408-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57147 invoked from network); 7 May 2003 03:06:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 May 2003 03:06:34 -0000
Received: (qmail 26599 invoked by uid 97); 7 May 2003 03:08:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26592 invoked from network); 7 May 2003 03:08:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 May 2003 03:08:44 -0000
Received: (qmail 56886 invoked by uid 500); 7 May 2003 03:06:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56875 invoked from network); 7 May 2003 03:06:31 -0000
Received: from bureau8.utcc.utoronto.ca (128.100.132.18)
  by daedalus.apache.org with SMTP; 7 May 2003 03:06:31 -0000
Received: from iba-dip5.nat.okstate.edu ([139.78.10.53] HELO ca95035 ident: IDENT-NOT-QUERIED [port 52347]) by bureau8.utcc.utoronto.ca with SMTP id <918570-19841>; Tue, 6 May 2003 23:06:36 -0400
Message-ID: <008501c31445$b29257e0$7500520a@ca95035>
From:	"Andy Nauli" <andy.nauli@utoronto.ca>
To:	<lucene-user@jakarta.apache.org>
Subject: PorterStemFilter + StopFilter + LowerCaseFilter
Date: Tue, 6 May 2003 22:06:47 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

How do I create my own Analyzer that implements
PorterStemFilter + StopFilter + LowerCaseFilter ?

Thank you
Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4409-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 07 05:01:28 2003
Return-Path: <lucene-user-return-4409-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28141 invoked from network); 7 May 2003 05:01:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 May 2003 05:01:28 -0000
Received: (qmail 27554 invoked by uid 97); 7 May 2003 05:03:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27547 invoked from network); 7 May 2003 05:03:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 May 2003 05:03:39 -0000
Received: (qmail 27859 invoked by uid 500); 7 May 2003 05:01:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27848 invoked from network); 7 May 2003 05:01:25 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 7 May 2003 05:01:25 -0000
Message-ID: <20030507050136.32620.qmail@web12704.mail.yahoo.com>
Received: from [24.90.65.225] by web12704.mail.yahoo.com via HTTP; Tue, 06 May 2003 22:01:36 PDT
Date: Tue, 6 May 2003 22:01:36 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: PorterStemFilter + StopFilter + LowerCaseFilter
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <008501c31445$b29257e0$7500520a@ca95035>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Copy and paste:
http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html

Otis

--- Andy Nauli <andy.nauli@utoronto.ca> wrote:
> Hello,
> 
> How do I create my own Analyzer that implements
> PorterStemFilter + StopFilter + LowerCaseFilter ?
> 
> Thank you
> Andy
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4410-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 07 05:29:02 2003
Return-Path: <lucene-user-return-4410-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55039 invoked from network); 7 May 2003 05:29:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 May 2003 05:29:01 -0000
Received: (qmail 27863 invoked by uid 97); 7 May 2003 05:31:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27856 invoked from network); 7 May 2003 05:31:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 May 2003 05:31:13 -0000
Received: (qmail 54760 invoked by uid 500); 7 May 2003 05:28:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54748 invoked from network); 7 May 2003 05:28:58 -0000
Received: from bureau8.utcc.utoronto.ca (128.100.132.18)
  by daedalus.apache.org with SMTP; 7 May 2003 05:28:58 -0000
Received: from iba-dip5.nat.okstate.edu ([139.78.10.53] HELO ca95035 ident: IDENT-NOT-QUERIED [port 57535]) by bureau8.utcc.utoronto.ca with SMTP id <918566-24448>; Wed, 7 May 2003 01:29:06 -0400
Message-ID: <000d01c31459$97cc2850$7500520a@ca95035>
From:	"Andy Nauli" <andy.nauli@utoronto.ca>
To:	"Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030507050136.32620.qmail@web12704.mail.yahoo.com>
Subject: Re: PorterStemFilter + StopFilter + LowerCaseFilter
Date: Wed, 7 May 2003 00:29:12 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

just what i needed
thanks..

andy
----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 07, 2003 12:01 AM
Subject: Re: PorterStemFilter + StopFilter + LowerCaseFilter


> Copy and paste:
> http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html
> 
> Otis
> 
> --- Andy Nauli <andy.nauli@utoronto.ca> wrote:
> > Hello,
> > 
> > How do I create my own Analyzer that implements
> > PorterStemFilter + StopFilter + LowerCaseFilter ?
> > 
> > Thank you
> > Andy
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4411-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 07 12:32:35 2003
Return-Path: <lucene-user-return-4411-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11209 invoked from network); 7 May 2003 12:32:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 May 2003 12:32:35 -0000
Received: (qmail 7556 invoked by uid 97); 7 May 2003 12:34:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7549 invoked from network); 7 May 2003 12:34:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 7 May 2003 12:34:36 -0000
Received: (qmail 10916 invoked by uid 500); 7 May 2003 12:32:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10895 invoked from network); 7 May 2003 12:32:31 -0000
Received: from mclean.mail.mindspring.net (207.69.200.57)
  by daedalus.apache.org with SMTP; 7 May 2003 12:32:31 -0000
Received: from h-66-167-237-119.mclnva23.covad.net ([66.167.237.119] helo=POWERPACK)
	by mclean.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19DO63-0003Oz-00
	for lucene-user@jakarta.apache.org; Wed, 07 May 2003 08:32:31 -0400
Message-ID: <1a5901c31494$baaf45b0$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1DB01C48A0A9D311995A00508B62B9F00E3CDED6@svntjt1-03.watercorporation.com.au>
Subject: Re: Index Path in WAR
Date: Wed, 7 May 2003 08:32:30 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Leslie,

Sorry but, at least for my e-mail, the attachment got stripped off.  Could
you send a copy embedded in the message itself?

TIA,

Terry Steichen

----- Original Message -----
From: "Leslie Hughes" <Leslie.Hughes@watercorporation.com.au>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Tuesday, May 06, 2003 9:43 PM
Subject: RE: Index Path in WAR


>
> Here it is. Enjoy....
>
>
>  <<WARDirectory.java>>
>
> > -----Original Message-----
> > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > Sent: Monday, May 05, 2003 10:51 AM
> > To: Lucene Users List
> > Subject: RE: Index Path in WAR
> >
> > Hi Les,
> >     I haven't run any metrics on the JarDirectory
> > approach.  But, at least in my application, searches
> > are surprisingly fast as long as the Jar is
> > uncompressed.  If it's compressed, searches are
> > noticeably slower.  When I wrote that class I didn't
> > think I'd have concurrency issues because my users are
> > only ever searching, and not updating, the Jar.  But
> > maybe I'm missing something obvious.  If so, please
> > let me know.
> >     In any case, if you get a chance, I would like to
> > see your WARDirectory class.  That's an interesting
> > approach that I hadn't considered.
> >
> > TIA,
> > -kevin
> >
> > --- Leslie Hughes
> > <Leslie.Hughes@watercorporation.com.au> wrote:
> > >
> > > Hi,
> > >
> > > I've written a simple WARDirectory which delegates
> > > to either a RAMDir or
> > > FSDir. The WARDir is initialised by a listener
> > > (servlet 2.3/4? spec) and
> > > either copies the index to the servlet temp
> > > directory or to RAM depending
> > > upon a setting in the web.xml file.
> > >
> > > I dont have the source with me but if you want, I'll
> > > bring it into work
> > > tomorrow.
> > >
> > > I did think about going the jardir route but had
> > > performance concerns about
> > > lucene accessing a single jarfile.
> > >
> > > Bye
> > >
> > > Les
> > >
> > >
> > >
> > > > -----Original Message-----
> > > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > > Sent: Monday, May 05, 2003 8:38 AM
> > > > To: Lucene Users List
> > > > Subject: Re: Index Path in WAR
> > > >
> > > > Hi Jason,
> > > >     This may not be the best solution and may
> > > differ
> > > > from your situation if your index is read/write
> > > (mine
> > > > isn't).  But hey, it works for me.  How I got
> > > around
> > > > the problem was first to Jar up the index.  I
> > > Jarred
> > > > it up uncompressed for speed.  I then subclassed
> > > > Directory.  I called it JarDirectory.  I made
> > > > JarDirectory's constructor use
> > > > ClassLoader.getResource() to find the Jar and then
> > > > create a java.util.jar.JarFile from it.  The
> > > methods I
> > > > overrode in Directory (e.g., list(), fileExists(),
> > > > etc.) use the JarFile as appropriate.  After I
> > > > debugged that class all I had to do was create an
> > > > instance of JarDirectory and pass it to
> > > > IndexSearcher's constructor.  My searches then
> > > went
> > > > against the Jar file.  As long as the Jar is in
> > > the
> > > > classpath -- which you can bundle with your web
> > > app
> > > > and set a classpath to in your manifest file -- it
> > > > works.  That allows you to bundle the index with
> > > the
> > > > web app and avoid hard-coding a path to it.
> > > >
> > > > HTH,
> > > > -kevin
> > > >
> > > > P.S. Unfortunately, I can't provide the source to
> > > > JarDirectory as it is not mine to give.  But it
> > > didn't
> > > > take long to write and was less than 400 lines
> > > long.
> > > > Maybe someone else on the mailing list can point
> > > you
> > > > to a better concrete example.
> > > >
> > > > --- Jason.Cox@trw.com wrote:
> > > > > List,
> > > > >
> > > > > I'm having problems using an absolute path to
> > > the
> > > > > index directory when my web application is
> > > deployed
> > > > > in a WAR file.  The absolute path changes
> > > depending
> > > > > on the server.  Is there a way to either
> > > dynamically
> > > > > determine an absolute path to the index
> > > directory or
> > > > > to use relative pathing?
> > > > >
> > > > > Thanks in advance,
> > > > >
> > > > > Jason
> > > > >
> > > > >
> > > >
> > >
> > ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail:
> > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
> > > > > lucene-user-help@jakarta.apache.org
> > > > >
> > > >
> > > >
> > > > __________________________________
> > > > Do you Yahoo!?
> > > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > > http://search.yahoo.com
> > > >
> > > >
> > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > >
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > >
> >
> >
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


----------------------------------------------------------------------------
----


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4412-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 02:00:49 2003
Return-Path: <lucene-user-return-4412-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36450 invoked from network); 8 May 2003 02:00:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 02:00:48 -0000
Received: (qmail 29075 invoked by uid 97); 8 May 2003 02:02:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29068 invoked from network); 8 May 2003 02:02:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 02:02:58 -0000
Received: (qmail 36145 invoked by uid 500); 8 May 2003 02:00:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36126 invoked from network); 8 May 2003 02:00:44 -0000
Received: from unknown (HELO svntjt1-47.watercorporation.com.au) (159.52.65.47)
  by daedalus.apache.org with SMTP; 8 May 2003 02:00:44 -0000
Received: by svntjt1-47.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <23S74054>; Thu, 8 May 2003 10:00:55 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00E3CDEE3@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Index Path in WAR
Date: Thu, 8 May 2003 10:00:54 +0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Curiouser and curiouser.....





import java.io.BufferedInputStream;

import java.io.File;
import java.io.IOException;
import java.util.Iterator;
import java.util.Set;

import javax.servlet.ServletContext;
import javax.servlet.ServletContextEvent;
import javax.servlet.ServletContextListener;

import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;
import org.apache.lucene.store.InputStream;
import org.apache.lucene.store.Lock;
import org.apache.lucene.store.OutputStream;
import org.apache.lucene.store.RAMDirectory;


/*
*  A delegating Directory that wraps either a RAMDirectory or
*  FSDirectory and allows an index to be distributed in a WAR.
*
*  An index is stored in the WAR under /WEB-INF (eg /WEB-INF/myindex)
*  and deployed into RAM or FS depending upon the context params below.
*
*  By registering this class in the web.xml
*  we will receive ServletContextEvents on web app initialisation.
*  The same could be achieved in an old skool style startup-servlet.
*
*  Add lines like
<web-app>

  <description>MySearchApp</description>

  <context-param>
	<param-name>org.apache.lucene.index</param-name>
	<param-value>myindex</param-value>
  </context-param>

  <context-param>
	<param-name>org.apache.lucene.index.UseRAMDirectory</param-name>
	<param-value>false</param-value>
  </context-param>

  <listener>
	<listener-class>WARDirectory</listener-class>
  </listener>

</web-app>


*
*  Once initialised, the directory can be accessed via the
*  org.apache.lucene.store.WARDirectory attribute. Eg in a jsp do
*
*  Directory dir =
(Directory)application.getAttribute("org.apache.lucene.store.WARDirectory");
*  Searcher searcher = new IndexSearcher(dir);
*  etc etc
*
*  Limitations:  Only tested in Tomcat > 4.1 (Servlet 2.4?)
*
*  ToDo: Change RAM/FSDirectory selection to allow passing of a classname
(eg org.foo.Mydirectory)
*        Needs changes for lucene > 1.2 ??

* @author <a href="mailto:lesliehughes100@yahoo.com">Les Hughes</a>
*/


public class WARDirectory extends Directory implements
ServletContextListener {

    protected Directory directory;
    protected ServletContext context;
    protected Set list;
    protected boolean useRam = false;
    String index;

    //Shame this method does not allow us to throw an exception.....Erm
bogus use of RuntimeException...

    public void contextInitialized(ServletContextEvent sce) {
        context = sce.getServletContext();

        if((index = context.getInitParameter("org.apache.lucene.index")) ==
null) {
         String msg = "Lucene 'org.apache.lucene.index' context-param
missing in web.xml";
         context.log(msg);
         throw new RuntimeException(msg);
        }

        useRam =
Boolean.valueOf(context.getInitParameter("org.apache.lucene.index.UseRAMDire
ctory")).booleanValue();

        context.log("Searching for index "+index);
        list = context.getResourcePaths("/WEB-INF/"+index);
        if(list == null || list.isEmpty()) {
             String msg = "Index /WEB-INF/"+index+" appears to be missing or
empty.";
             context.log(msg);
             throw new RuntimeException(msg);
        }

		//Now copy index from WAR into Directory
        try {

            if(useRam) {
                context.log("Creating a new RAMDirectory");
                directory = new RAMDirectory();
            } else {
                File temp =
(File)context.getAttribute("javax.servlet.context.tempdir");  //Sevlet Spec
P30
                String dirPath = temp.getPath() + "/"+ index;
                context.log("Creating a new FSDirectory at "+dirPath);
                directory = FSDirectory.getDirectory(dirPath, true);
            }

            //Add files from WAR to Dir...
            java.io.InputStream in;
            OutputStream out;

            int numBytes;
            byte[] buffer = new byte[4096]; //4k buffer
            String inresname, outresname;
            Iterator iter = list.iterator();

            while(iter.hasNext()) {
                inresname = (String)iter.next();
                outresname =
inresname.substring(inresname.lastIndexOf('/')+1);
                context.log("Reading "+inresname+" will create
"+index+"/"+outresname);
                in = new
BufferedInputStream(context.getResourceAsStream(inresname));

                out =  directory.createFile(outresname);

                numBytes = 0;
                while( (numBytes = in.read(buffer, 0 , buffer.length)) !=
-1) {
                    out.writeBytes(buffer, numBytes);
                }

                out.close();
                in.close();
            }

            //All done?

        }catch(IOException ioe) {
            //We fail fast if there was an exception on creating the
Directory.
            //Perhaps later we can re-try with an FSDirectory if it was an
outof memory issue?

            context.log("Problem creating WARDirectory "+ioe.getMessage());
            ioe.printStackTrace();
            throw new RuntimeException("Problem creating WARDirectory
"+ioe.getMessage());
        }

		//Finally put dir ref somewhere we can use it...
        context.setAttribute("org.apache.lucene.store.WARDirectory", this);
        context.log("WARDirectory done initialising.");
    }



////////////////////////////////////////////////////////////////////////////
/
//    Implement Directory's Interface.
////////////////////////////////////////////////////////////////////////////
/

    /* Called on app shutdown */
    public void contextDestroyed(ServletContextEvent sce){}

    /** Returns an array of strings, one for each file in the directory. */
    public String[] list() throws IOException, SecurityException{
        return directory.list();
    }

    /** Returns true if a file with the given name exists. */
    public boolean fileExists(String name) throws IOException,
SecurityException{
        return directory.fileExists(name);
    }

    /** Returns the time the named file was last modified. */
    public long fileModified(String name) throws IOException,
SecurityException{
        return directory.fileModified(name);
    }

    /** Returns the length of a file in the directory. */
    public long fileLength(String name) throws IOException,
SecurityException{
        return directory.fileLength(name);
    }

    /** Returns a stream reading an existing file. */
    public InputStream openFile(String name) throws IOException,
SecurityException{
        return directory.openFile(name);
    }

    /** Closes the store. */
    public void close() throws IOException, SecurityException {
       directory.close();
	}

    /** Removes an existing file in the directory. */
    public void deleteFile(String name) throws IOException,
SecurityException  {
        directory.deleteFile(name);
	}

    /** Renames an existing file in the directory.
        If a file already exists with the new name, then it is replaced.
        This replacement should be atomic. */
    public void renameFile(String from, String to) throws IOException,
SecurityException {
        directory.renameFile(from, to);
	}

    /** Creates a new, empty file in the directory with the given name.
        Returns a stream writing this file. */
    public OutputStream createFile(String name) throws IOException,
SecurityException {
        return directory.createFile(name);
	}

    /** Construct a {@link Lock}.
    * @param name the name of the lock file
    */
    public Lock makeLock(String name) {
        return directory.makeLock(name);
	}
}



> -----Original Message-----
> From:	Terry Steichen [SMTP:terry@net-frame.com]
> Sent:	Wednesday, May 07, 2003 8:33 PM
> To:	Lucene Users List
> Subject:	Re: Index Path in WAR
> 
> Leslie,
> 
> Sorry but, at least for my e-mail, the attachment got stripped off.  Could
> you send a copy embedded in the message itself?
> 
> TIA,
> 
> Terry Steichen
> 
> ----- Original Message -----
> From: "Leslie Hughes" <Leslie.Hughes@watercorporation.com.au>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Tuesday, May 06, 2003 9:43 PM
> Subject: RE: Index Path in WAR
> 
> 
> >
> > Here it is. Enjoy....
> >
> >
> >  <<WARDirectory.java>>
> >
> > > -----Original Message-----
> > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > Sent: Monday, May 05, 2003 10:51 AM
> > > To: Lucene Users List
> > > Subject: RE: Index Path in WAR
> > >
> > > Hi Les,
> > >     I haven't run any metrics on the JarDirectory
> > > approach.  But, at least in my application, searches
> > > are surprisingly fast as long as the Jar is
> > > uncompressed.  If it's compressed, searches are
> > > noticeably slower.  When I wrote that class I didn't
> > > think I'd have concurrency issues because my users are
> > > only ever searching, and not updating, the Jar.  But
> > > maybe I'm missing something obvious.  If so, please
> > > let me know.
> > >     In any case, if you get a chance, I would like to
> > > see your WARDirectory class.  That's an interesting
> > > approach that I hadn't considered.
> > >
> > > TIA,
> > > -kevin
> > >
> > > --- Leslie Hughes
> > > <Leslie.Hughes@watercorporation.com.au> wrote:
> > > >
> > > > Hi,
> > > >
> > > > I've written a simple WARDirectory which delegates
> > > > to either a RAMDir or
> > > > FSDir. The WARDir is initialised by a listener
> > > > (servlet 2.3/4? spec) and
> > > > either copies the index to the servlet temp
> > > > directory or to RAM depending
> > > > upon a setting in the web.xml file.
> > > >
> > > > I dont have the source with me but if you want, I'll
> > > > bring it into work
> > > > tomorrow.
> > > >
> > > > I did think about going the jardir route but had
> > > > performance concerns about
> > > > lucene accessing a single jarfile.
> > > >
> > > > Bye
> > > >
> > > > Les
> > > >
> > > >
> > > >
> > > > > -----Original Message-----
> > > > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > > > Sent: Monday, May 05, 2003 8:38 AM
> > > > > To: Lucene Users List
> > > > > Subject: Re: Index Path in WAR
> > > > >
> > > > > Hi Jason,
> > > > >     This may not be the best solution and may
> > > > differ
> > > > > from your situation if your index is read/write
> > > > (mine
> > > > > isn't).  But hey, it works for me.  How I got
> > > > around
> > > > > the problem was first to Jar up the index.  I
> > > > Jarred
> > > > > it up uncompressed for speed.  I then subclassed
> > > > > Directory.  I called it JarDirectory.  I made
> > > > > JarDirectory's constructor use
> > > > > ClassLoader.getResource() to find the Jar and then
> > > > > create a java.util.jar.JarFile from it.  The
> > > > methods I
> > > > > overrode in Directory (e.g., list(), fileExists(),
> > > > > etc.) use the JarFile as appropriate.  After I
> > > > > debugged that class all I had to do was create an
> > > > > instance of JarDirectory and pass it to
> > > > > IndexSearcher's constructor.  My searches then
> > > > went
> > > > > against the Jar file.  As long as the Jar is in
> > > > the
> > > > > classpath -- which you can bundle with your web
> > > > app
> > > > > and set a classpath to in your manifest file -- it
> > > > > works.  That allows you to bundle the index with
> > > > the
> > > > > web app and avoid hard-coding a path to it.
> > > > >
> > > > > HTH,
> > > > > -kevin
> > > > >
> > > > > P.S. Unfortunately, I can't provide the source to
> > > > > JarDirectory as it is not mine to give.  But it
> > > > didn't
> > > > > take long to write and was less than 400 lines
> > > > long.
> > > > > Maybe someone else on the mailing list can point
> > > > you
> > > > > to a better concrete example.
> > > > >
> > > > > --- Jason.Cox@trw.com wrote:
> > > > > > List,
> > > > > >
> > > > > > I'm having problems using an absolute path to
> > > > the
> > > > > > index directory when my web application is
> > > > deployed
> > > > > > in a WAR file.  The absolute path changes
> > > > depending
> > > > > > on the server.  Is there a way to either
> > > > dynamically
> > > > > > determine an absolute path to the index
> > > > directory or
> > > > > > to use relative pathing?
> > > > > >
> > > > > > Thanks in advance,
> > > > > >
> > > > > > Jason
> > > > > >
> > > > > >
> > > > >
> > > >
> > > ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail:
> > > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > > For additional commands, e-mail:
> > > > > > lucene-user-help@jakarta.apache.org
> > > > > >
> > > > >
> > > > >
> > > > > __________________________________
> > > > > Do you Yahoo!?
> > > > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > > > http://search.yahoo.com
> > > > >
> > > > >
> > > >
> > > ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail:
> > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
> > > > lucene-user-help@jakarta.apache.org
> > > >
> > > >
> > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > > lucene-user-help@jakarta.apache.org
> > > >
> > >
> > >
> > > __________________________________
> > > Do you Yahoo!?
> > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > http://search.yahoo.com
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> --------------------------------------------------------------------------
> --
> ----
> 
> 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4413-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 13:48:41 2003
Return-Path: <lucene-user-return-4413-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40893 invoked from network); 8 May 2003 13:48:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 13:48:41 -0000
Received: (qmail 17574 invoked by uid 97); 8 May 2003 13:50:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17567 invoked from network); 8 May 2003 13:50:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 13:50:41 -0000
Received: (qmail 40648 invoked by uid 500); 8 May 2003 13:48:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40637 invoked from network); 8 May 2003 13:48:35 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 8 May 2003 13:48:35 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id DB827367DA; Thu,  8 May 2003 13:45:25 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id B4A70367D8
	for <lucene-user@jakarta.apache.org>; Thu,  8 May 2003 13:45:24 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: No results returned from a wildcard query
Date: Thu, 8 May 2003 09:48:34 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDIEDLCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <1DB01C48A0A9D311995A00508B62B9F00E3CDEE3@svntjt1-03.watercorporation.com.au>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	I first ran this query:

		filename:"goodfileunique.xml" AND
directory:"/pair/unittestdatafiles/repository/validtest"

	and I got results back,I then ran this query:

		filename:"goodfileunique.xml" AND
directory:"/pair/unittestdatafiles/repository*"

	but I did not get back any results, the results should have been the same
as the first query.

	The code I use to query with is as follows:

		  public synchronized String[] queryIndex(String query) throws
ParseException,
  		 IOException {

      	  checkForIndexChange();
	        QueryParser p = new QueryParser("",
      	  new RepositoryIndexAnalyzer());
        	  this.query = p.parse(query);
        	  Hits hits = this.searcher.search(this.query);
       	  return buildReturnArray(hits);
    		}

	Am I handling wildcard queries incorrectly?  Any help would be appreciated.

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4414-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 16:19:53 2003
Return-Path: <lucene-user-return-4414-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12211 invoked from network); 8 May 2003 16:19:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 16:19:52 -0000
Received: (qmail 23760 invoked by uid 97); 8 May 2003 16:21:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23753 invoked from network); 8 May 2003 16:21:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 16:21:55 -0000
Received: (qmail 11955 invoked by uid 500); 8 May 2003 16:19:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11944 invoked from network); 8 May 2003 16:19:48 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 8 May 2003 16:19:48 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 2FE25367CF; Thu,  8 May 2003 16:16:20 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 039CA367C4
	for <lucene-user@jakarta.apache.org>; Thu,  8 May 2003 16:16:19 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: No results returned from a wildcard query
Date: Thu, 8 May 2003 12:19:29 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDGEDMCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <MNEPJJAGGPICDNOCBIKDIEDLCJAA.routar@ideorlando.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is anyone out there today :-)  I was reading that wildcard queries are case
sensitive and ignore the analyzer?  I tried changing the case of the query
to no avail, looks like the query parser converts it to lower case, so at
this point I am stuck, and once again any help would be greatly appreciated
as wild card searching is critical to my component.

Thanks,

Rob


-----Original Message-----
From: Rob Outar [mailto:routar@ideorlando.org]
Sent: Thursday, May 08, 2003 9:49 AM
To: Lucene Users List
Subject: No results returned from a wildcard query


Hi all,

	I first ran this query:

		filename:"goodfileunique.xml" AND
directory:"/pair/unittestdatafiles/repository/validtest"

	and I got results back,I then ran this query:

		filename:"goodfileunique.xml" AND
directory:"/pair/unittestdatafiles/repository*"

	but I did not get back any results, the results should have been the same
as the first query.

	The code I use to query with is as follows:

		  public synchronized String[] queryIndex(String query) throws
ParseException,
  		 IOException {

      	  checkForIndexChange();
	        QueryParser p = new QueryParser("",
      	  new RepositoryIndexAnalyzer());
        	  this.query = p.parse(query);
        	  Hits hits = this.searcher.search(this.query);
       	  return buildReturnArray(hits);
    		}

	Am I handling wildcard queries incorrectly?  Any help would be appreciated.

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4415-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 16:40:23 2003
Return-Path: <lucene-user-return-4415-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54444 invoked from network); 8 May 2003 16:40:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 16:40:22 -0000
Received: (qmail 24437 invoked by uid 97); 8 May 2003 16:42:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24430 invoked from network); 8 May 2003 16:42:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 16:42:26 -0000
Received: (qmail 54143 invoked by uid 500); 8 May 2003 16:40:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54100 invoked from network); 8 May 2003 16:40:18 -0000
Received: from h001.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.214)
  by daedalus.apache.org with SMTP; 8 May 2003 16:40:18 -0000
Received: (cpmta 16861 invoked from network); 8 May 2003 09:40:21 -0700
Received: from 66.171.41.184 (HELO medined01)
  by smtp.mtolive.com (209.228.34.214) with SMTP; 8 May 2003 09:40:21 -0700
X-Sent: 8 May 2003 16:40:21 GMT
Message-ID: <03ab01c31580$7d217e10$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <MNEPJJAGGPICDNOCBIKDGEDMCJAA.routar@ideorlando.org>
Subject: Re: No results returned from a wildcard query
Date: Thu, 8 May 2003 12:40:08 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Have you tried using the WildcardQuery() method instead of the QueryParser
as a test? I have an simple example of the WildcardQuery() is you need it.

david
http://www.codebits.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4416-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 16:53:24 2003
Return-Path: <lucene-user-return-4416-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87905 invoked from network); 8 May 2003 16:53:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 16:53:23 -0000
Received: (qmail 24886 invoked by uid 97); 8 May 2003 16:55:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24879 invoked from network); 8 May 2003 16:55:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 16:55:27 -0000
Received: (qmail 85117 invoked by uid 500); 8 May 2003 16:52:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85061 invoked from network); 8 May 2003 16:52:49 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 8 May 2003 16:52:49 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 4595A367E5; Thu,  8 May 2003 16:49:30 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 19F25367E4
	for <lucene-user@jakarta.apache.org>; Thu,  8 May 2003 16:49:27 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: No results returned from a wildcard query
Date: Thu, 8 May 2003 12:52:37 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDOEDMCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <03ab01c31580$7d217e10$6422a8c0@medined01>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Clients are allowed to enter free form queries, that is why I use Query
Parser because I have no idea what they will be entering, it could be
wildcard or it could not be, for me to know if it is a wildcard query I
would have to parse the string, and if they have 'ANDS', OR's, etc.. it
become even more difficult.

Thanks,

Rob


-----Original Message-----
From: David Medinets [mailto:medined@mtolive.com]
Sent: Thursday, May 08, 2003 12:40 PM
To: Lucene Users List
Subject: Re: No results returned from a wildcard query


Have you tried using the WildcardQuery() method instead of the QueryParser
as a test? I have an simple example of the WildcardQuery() is you need it.

david
http://www.codebits.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4417-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 18:08:49 2003
Return-Path: <lucene-user-return-4417-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53581 invoked from network); 8 May 2003 18:08:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 18:08:49 -0000
Received: (qmail 27443 invoked by uid 97); 8 May 2003 18:10:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27436 invoked from network); 8 May 2003 18:10:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 18:10:54 -0000
Received: (qmail 53282 invoked by uid 500); 8 May 2003 18:08:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53270 invoked from network); 8 May 2003 18:08:45 -0000
Received: from baahbgmail.fast.net (HELO airbus.MDT.COM) (206.245.135.131)
  by daedalus.apache.org with SMTP; 8 May 2003 18:08:45 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Subject: [DELETE] Exchange Whitelist Software Needs Me To Send Email To List (NT)
Date: Thu, 8 May 2003 14:09:09 -0400
Message-ID: <434B92F12CE7CB44999CA6ADB8DF4149512697@airbus.mdt.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [DELETE] Exchange Whitelist Software Needs Me To Send Email To List (NT)
Thread-Index: AcMVjN8ScjbyvrikSnW91SQNL3Lokw==
From: "Stone, Timothy" <tstone@cityofhbg.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N




Warmest Regards,
Tim

--
/**
 * Timothy Stone      . Sun Certified Java Programmer
 * Web Master         . tstone at cityofhbg dot com
 * City of Harrisburg . 717.255.7297
 * Pennsylvania USA   . 717.903.9162
 *
 * "Censorship always defeats its own purpose,
 *  for it creates in the end the kind of society=20
 *  that is incapable of exercising real discretion."
 *  --Henry Steele Commager, Historian
 */

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4418-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 18:22:14 2003
Return-Path: <lucene-user-return-4418-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72585 invoked from network); 8 May 2003 18:22:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 18:22:13 -0000
Received: (qmail 27848 invoked by uid 97); 8 May 2003 18:24:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27841 invoked from network); 8 May 2003 18:24:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 18:24:19 -0000
Received: (qmail 71503 invoked by uid 500); 8 May 2003 18:22:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71447 invoked from network); 8 May 2003 18:22:00 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 8 May 2003 18:22:00 -0000
Message-ID: <20030508182204.29473.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP; Thu, 08 May 2003 11:22:04 PDT
Date: Thu, 8 May 2003 11:22:04 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: No results returned from a wildcard query
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDOEDMCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What David is suggesting would at least allow you to figure out whether
the problem is with the QueryParser, or WildcardQuery itself, etc.

Look at unit tests for examples of WildcardQuery usage as well as
QueryParser usage.  Unit tests pass, which makes me think the error is
in your code.  You didn't mention the version of Lucene either.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> Clients are allowed to enter free form queries, that is why I use
> Query
> Parser because I have no idea what they will be entering, it could be
> wildcard or it could not be, for me to know if it is a wildcard query
> I
> would have to parse the string, and if they have 'ANDS', OR's, etc..
> it
> become even more difficult.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: David Medinets [mailto:medined@mtolive.com]
> Sent: Thursday, May 08, 2003 12:40 PM
> To: Lucene Users List
> Subject: Re: No results returned from a wildcard query
> 
> 
> Have you tried using the WildcardQuery() method instead of the
> QueryParser
> as a test? I have an simple example of the WildcardQuery() is you
> need it.
> 
> david
> http://www.codebits.com
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4419-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 08 18:40:52 2003
Return-Path: <lucene-user-return-4419-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7683 invoked from network); 8 May 2003 18:40:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 8 May 2003 18:40:50 -0000
Received: (qmail 28375 invoked by uid 97); 8 May 2003 18:42:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28366 invoked from network); 8 May 2003 18:42:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 8 May 2003 18:42:55 -0000
Received: (qmail 6859 invoked by uid 500); 8 May 2003 18:40:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6777 invoked from network); 8 May 2003 18:40:39 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 8 May 2003 18:40:39 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id BBA23367CF; Thu,  8 May 2003 18:37:11 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 9B5BA367C4
	for <lucene-user@jakarta.apache.org>; Thu,  8 May 2003 18:37:10 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: No results returned from a wildcard query
Date: Thu, 8 May 2003 14:40:21 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDEEDPCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <20030508182204.29473.qmail@web12701.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

After experimenting, if I take out the quotes, it works?  It looks like when
I had in the quotes it was trying to match that text exactly instead of
wildcarding the last portion.  I read something Otis posted a LONG time ago
that said if you have quotes around the value it become a phrase query
instead of a prefix query or vice versa, don't remember exactly but anyhow
after I took out the quotes it seems to work.

Thanks,

Rob


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Thursday, May 08, 2003 2:22 PM
To: Lucene Users List
Subject: RE: No results returned from a wildcard query


What David is suggesting would at least allow you to figure out whether
the problem is with the QueryParser, or WildcardQuery itself, etc.

Look at unit tests for examples of WildcardQuery usage as well as
QueryParser usage.  Unit tests pass, which makes me think the error is
in your code.  You didn't mention the version of Lucene either.

Otis


--- Rob Outar <routar@ideorlando.org> wrote:
> Clients are allowed to enter free form queries, that is why I use
> Query
> Parser because I have no idea what they will be entering, it could be
> wildcard or it could not be, for me to know if it is a wildcard query
> I
> would have to parse the string, and if they have 'ANDS', OR's, etc..
> it
> become even more difficult.
>
> Thanks,
>
> Rob
>
>
> -----Original Message-----
> From: David Medinets [mailto:medined@mtolive.com]
> Sent: Thursday, May 08, 2003 12:40 PM
> To: Lucene Users List
> Subject: Re: No results returned from a wildcard query
>
>
> Have you tried using the WildcardQuery() method instead of the
> QueryParser
> as a test? I have an simple example of the WildcardQuery() is you
> need it.
>
> david
> http://www.codebits.com
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4420-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 00:59:09 2003
Return-Path: <lucene-user-return-4420-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5845 invoked from network); 9 May 2003 00:59:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 00:59:09 -0000
Received: (qmail 10667 invoked by uid 97); 9 May 2003 01:01:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10660 invoked from network); 9 May 2003 01:01:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 01:01:20 -0000
Received: (qmail 5548 invoked by uid 500); 9 May 2003 00:59:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5536 invoked from network); 9 May 2003 00:59:06 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 9 May 2003 00:59:06 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2CC2B106A72
	for <lucene-user@jakarta.apache.org>; Fri,  9 May 2003 11:02:12 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: <lucene-user@jakarta.apache.org>
Subject: Merging indexes and removing duplicates.
Date: Fri, 9 May 2003 10:52:40 +1000
User-Agent: KMail/1.4.3
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305091052.40144@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

In our application we are indexing a massive amount of documents in parallel 
over 16 machines. Our problem is that we have duplicate documents in the 
input and the same document is indexed multiple times over the boxes.

During the merging to create one mega index I ended up with the same document 
duplicated in the index, thus when doing a search on a document it returns 
more than one result.

Is there a way during the merging to tell Lucene not to index a document 
(given a Lucene field) if it's already exist in the other index? Or do I have 
to remove the duplicate index myself?

regards,

victor




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4421-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 02:14:39 2003
Return-Path: <lucene-user-return-4421-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74611 invoked from network); 9 May 2003 02:14:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 02:14:38 -0000
Received: (qmail 11388 invoked by uid 97); 9 May 2003 02:16:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11381 invoked from network); 9 May 2003 02:16:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 02:16:50 -0000
Received: (qmail 74340 invoked by uid 500); 9 May 2003 02:14:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74328 invoked from network); 9 May 2003 02:14:35 -0000
Received: from h002.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.215)
  by daedalus.apache.org with SMTP; 9 May 2003 02:14:35 -0000
Received: (cpmta 366 invoked from network); 8 May 2003 19:14:44 -0700
Received: from 66.171.41.184 (HELO medined01)
  by smtp.mtolive.com (209.228.34.215) with SMTP; 8 May 2003 19:14:44 -0700
X-Sent: 9 May 2003 02:14:44 GMT
Message-ID: <05c101c315d0$ba51a6c0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200305091052.40144@bah>
Subject: Re: Merging indexes and removing duplicates.
Date: Thu, 8 May 2003 22:14:30 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Out of curiosity is their some unique identifier for each document? Even so,
it seems like you need a central database (of some type) to handle
determining if a given document is indexed. If Lucene does the check, won't
it need to ask 15 different machines for the 'IsIndexedAlready' answer?

I'd use a servlet as a facade to a static hashmap (a singleton, of course)
which would act as a clearinghouse. You'd need two servlets with access to
the same hashmap. The first servlet inserts the document into the hashmap
and the second servlet handles the query.

david
http://www.codebits.com
-- out of country from May 9th to May 18th.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4422-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 03:06:43 2003
Return-Path: <lucene-user-return-4422-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19899 invoked from network); 9 May 2003 03:06:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 03:06:42 -0000
Received: (qmail 12355 invoked by uid 97); 9 May 2003 03:08:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12348 invoked from network); 9 May 2003 03:08:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 03:08:54 -0000
Received: (qmail 17587 invoked by uid 500); 9 May 2003 03:06:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17526 invoked from network); 9 May 2003 03:06:16 -0000
Received: from mzpi4.forethought.net (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 9 May 2003 03:06:16 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 19DyDJ-0004Lf-Df
	for lucene-user@jakarta.apache.org; Thu, 08 May 2003 21:06:25 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: No results returned from a wildcard query
Date: Thu, 8 May 2003 21:12:07 -0600
User-Agent: KMail/1.4.3
References: <MNEPJJAGGPICDNOCBIKDGEDMCJAA.routar@ideorlando.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDGEDMCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305082112.07116.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday 08 May 2003 10:19, Rob Outar wrote:
> Is anyone out there today :-)  I was reading that wildcard queries are case
> sensitive and ignore the analyzer?  I tried changing the case of the query
> to no avail, looks like the query parser converts it to lower case, so at
> this point I am stuck, and once again any help would be greatly appreciated
> as wild card searching is critical to my component.

Whether wildcard/prefix queries are lowercased or not is a configurable 
option, defaulting to doing lowercasing automatically. You probably should 
turn it off (check out QueryParser.jj for exact method name).
And yes, wildcard queries do not go through analyzer, since there are 
potential problems from applying an analyzer. If you'd like to make them go 
through analyzer, making this change to QueryParser.jj would be easy to do. 
There was also some talk about allowing analyzer to use for wildcard queries 
to be configured, defaulting to 'none'.

Hope this helps,

-+ Tatu +-



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4423-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 03:13:07 2003
Return-Path: <lucene-user-return-4423-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23747 invoked from network); 9 May 2003 03:13:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 03:13:07 -0000
Received: (qmail 12416 invoked by uid 97); 9 May 2003 03:15:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12409 invoked from network); 9 May 2003 03:15:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 03:15:20 -0000
Received: (qmail 23471 invoked by uid 500); 9 May 2003 03:13:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23460 invoked from network); 9 May 2003 03:13:04 -0000
Received: from mzpi4.forethought.net (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 9 May 2003 03:13:04 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 19DyJu-0005Jn-Iy
	for lucene-user@jakarta.apache.org; Thu, 08 May 2003 21:13:14 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Merging indexes and removing duplicates.
Date: Thu, 8 May 2003 21:18:56 -0600
User-Agent: KMail/1.4.3
References: <200305091052.40144@bah> <05c101c315d0$ba51a6c0$6422a8c0@medined01>
In-Reply-To: <05c101c315d0$ba51a6c0$6422a8c0@medined01>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305082118.56501.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday 08 May 2003 20:14, David Medinets wrote:
> Out of curiosity is their some unique identifier for each document? Even
> so, it seems like you need a central database (of some type) to handle
> determining if a given document is indexed. If Lucene does the check, won't
> it need to ask 15 different machines for the 'IsIndexedAlready' answer?
> I'd use a servlet as a facade to a static hashmap (a singleton, of course)
> which would act as a clearinghouse. You'd need two servlets with access to
> the same hashmap. The first servlet inserts the document into the hashmap
> and the second servlet handles the query.

Another simple solution would be to just accept duplicates in index, but 
remove them from the results before returning result set.
This should work ok as long as there is a unique field to use for weeding out 
dups, and if number of duplicates is reasonably low.

Also, if originally work is split to workers by a single controller entity, 
that entity might be able to check for duplicates reasonably efficiently... 
but it sounded like sheer amount of documents to handle leads to huge number 
of ids to store, for checking duplicates.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4424-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 04:06:52 2003
Return-Path: <lucene-user-return-4424-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80218 invoked from network); 9 May 2003 04:06:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 04:06:51 -0000
Received: (qmail 13156 invoked by uid 97); 9 May 2003 04:09:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13149 invoked from network); 9 May 2003 04:09:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 04:09:03 -0000
Received: (qmail 79957 invoked by uid 500); 9 May 2003 04:06:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79946 invoked from network); 9 May 2003 04:06:47 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 9 May 2003 04:06:47 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 58A02106A72
	for <lucene-user@jakarta.apache.org>; Fri,  9 May 2003 14:09:53 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Merging indexes and removing duplicates.
Date: Fri, 9 May 2003 14:00:18 +1000
User-Agent: KMail/1.4.3
References: <200305091052.40144@bah> <05c101c315d0$ba51a6c0$6422a8c0@medined01> <200305082118.56501.tatu@hypermall.net>
In-Reply-To: <200305082118.56501.tatu@hypermall.net>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305091400.18982@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Another simple solution would be to just accept duplicates in index, but
> remove them from the results before returning result set.
> This should work ok as long as there is a unique field to use for weeding
> out dups, and if number of duplicates is reasonably low.

Yes we do have a unique field to identify the document, so I can check if 
there are two documents with the same id in the result set then they are 
duplicates and just return the unique documents. This may work.

The only issues here is when the number of "workers" increase the number of 
duplicates increase as well. Having said that, we probably won't have more 
than 16 workers anyway.

> Also, if originally work is split to workers by a single controller entity,
> that entity might be able to check for duplicates reasonably efficiently...
> but it sounded like sheer amount of documents to handle leads to huge
> number of ids to store, for checking duplicates.

Hmm unfortunately this won't work because of the nature of the system. Each 
worker doesn't know what the other are working and there is no single entity 
that control the distribution of works to the worker. To make thing 
complicated each worker can be doing different stage (not only doing Lucene 
indexing).

victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4425-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 06:59:41 2003
Return-Path: <lucene-user-return-4425-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20594 invoked from network); 9 May 2003 06:59:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 06:59:40 -0000
Received: (qmail 16024 invoked by uid 97); 9 May 2003 07:01:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16017 invoked from network); 9 May 2003 07:01:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 07:01:55 -0000
Received: (qmail 20305 invoked by uid 500); 9 May 2003 06:59:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20281 invoked from network); 9 May 2003 06:59:36 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 9 May 2003 06:59:36 -0000
Received: from morus.xipolis.net (unknown [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id A6CF119B721
	for <lucene-user@jakarta.apache.org>; Fri,  9 May 2003 08:59:46 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h4971qs23888;
	Fri, 9 May 2003 09:01:52 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16059.21088.431167.79786@morus.xipolis.net>
Date: Fri, 9 May 2003 09:01:52 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Merging indexes and removing duplicates.
In-Reply-To: <200305091400.18982@bah>
References: <200305091052.40144@bah>
	<05c101c315d0$ba51a6c0$6422a8c0@medined01>
	<200305082118.56501.tatu@hypermall.net>
	<200305091400.18982@bah>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Victor Hadianto writes:
> > Another simple solution would be to just accept duplicates in index, but
> > remove them from the results before returning result set.
> > This should work ok as long as there is a unique field to use for weeding
> > out dups, and if number of duplicates is reasonably low.
> 
> Yes we do have a unique field to identify the document, so I can check if 
> there are two documents with the same id in the result set then they are 
> duplicates and just return the unique documents. This may work.
> 
Well you could also go through the index after merging once and delete
all duplicates.
The API allowes you to loop over all values for a given field and all
documents for a given value. So I'd just loop over all values and delete
all but the first documents.
It's an extra step but it should be fast (especially since
deleting simply means mark as deleted here).
If you optimize the index as a last step, the deleted documents will
be removed from the index.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4426-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 07:58:38 2003
Return-Path: <lucene-user-return-4426-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97670 invoked from network); 9 May 2003 07:58:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 07:58:38 -0000
Received: (qmail 16934 invoked by uid 97); 9 May 2003 08:00:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16927 invoked from network); 9 May 2003 08:00:53 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 08:00:53 -0000
Received: (qmail 97404 invoked by uid 500); 9 May 2003 07:58:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97390 invoked from network); 9 May 2003 07:58:33 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 9 May 2003 07:58:33 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h497wiGb020780
	for <lucene-user@jakarta.apache.org>; Fri, 9 May 2003 09:58:44 +0200
Message-ID: <00fa01c31600$d373d260$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200305091052.40144@bah><05c101c315d0$ba51a6c0$6422a8c0@medined01><200305082118.56501.tatu@hypermall.net><200305091400.18982@bah> <16059.21088.431167.79786@morus.xipolis.net>
Subject: Re: Merging indexes and removing duplicates.
Date: Fri, 9 May 2003 09:58:49 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> The API allowes you to loop over all values for a given field and all
> documents for a given value. So I'd just loop over all values and
> delete all but the first documents.

Interesting strategy... I am currently doing the following:

1) Create temporary index with changed entries.
2) Remove changed entries from the main index, one by one.
3) Merge temporary index into main index.
4) Optimize.

But perhaps this is slower?


--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4427-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 11:24:52 2003
Return-Path: <lucene-user-return-4427-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94695 invoked from network); 9 May 2003 11:24:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 11:24:51 -0000
Received: (qmail 22268 invoked by uid 97); 9 May 2003 11:26:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22261 invoked from network); 9 May 2003 11:26:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 11:26:54 -0000
Received: (qmail 82471 invoked by uid 500); 9 May 2003 11:17:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82421 invoked from network); 9 May 2003 11:17:31 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 9 May 2003 11:17:31 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-7.13) id AEBE7B780088; Fri, 09 May 2003 06:19:26 -0500
Message-ID: <000901c3161c$91421bb0$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: <lucene-user@jakarta.apache.org>
Cc: <lucene-dev@jakarta.apache.org>
Subject: Search custom tag
Date: Fri, 9 May 2003 06:17:24 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Note: This E-mail was scanned for spam.
Organization: Humankind Systems, Inc.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Good morning all,

Hats off to the folks involved in this project, you guys and gals are the
true programmers. Writing a search engine is a dirty job and I am glad that
this community is available to me as I muttle through writing the version I
finally got working yesterday. I think I still enjoy business model
programming more than this stuff.

I have a question about how I can offer some of my code back to the
community. I have started writing a lucene-taglib for searching the index
created by what ever parser that you are using. Currently the tag looks like
this.

<JSP:Search id="rs" collection="/opt/lucene/index" criteria="${ query }"
startRow="${ startRow }" maxRows="${ maxRows }">

What ever you have decided to store in your index can be retrieved like so:

rs.getField("summary") or rs.getField("url")

The tag just finds any field in the result and lets you use the getField
method to retrieve it with in each loop of the result.

</JSP:Search>

My hope is to extend the tag with two more tags for adding multiple
collections and criteria to the result set. Where should I go to make this
code available to all of you who have been so helpful to me.



Bryan LaPlante





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4428-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 14:00:13 2003
Return-Path: <lucene-user-return-4428-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37748 invoked from network); 9 May 2003 14:00:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 14:00:13 -0000
Received: (qmail 28542 invoked by uid 97); 9 May 2003 14:02:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28535 invoked from network); 9 May 2003 14:02:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 14:02:17 -0000
Received: (qmail 37312 invoked by uid 500); 9 May 2003 14:00:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37187 invoked from network); 9 May 2003 14:00:06 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 9 May 2003 14:00:06 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id BEF17367D8; Fri,  9 May 2003 13:56:30 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 92171367CF
	for <lucene-user@jakarta.apache.org>; Fri,  9 May 2003 13:56:29 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: java.io.IOException: couldn't delete _5we.del
Date: Fri, 9 May 2003 09:59:45 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDAEEHCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <000901c3161c$91421bb0$d9321c41@vincent>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

	I keep randomly getting the above exception, although it does not seem to
corrupt the index, I would like to know what is causing it.  Has anyone seen
the above error, or knows why the above error is generated?  I also get
errors about renaming of index files.

	Let me know.

Thanks,

Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4429-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 14:07:13 2003
Return-Path: <lucene-user-return-4429-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61897 invoked from network); 9 May 2003 14:07:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 14:07:12 -0000
Received: (qmail 28749 invoked by uid 97); 9 May 2003 14:09:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28742 invoked from network); 9 May 2003 14:09:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 14:09:16 -0000
Received: (qmail 59610 invoked by uid 500); 9 May 2003 14:06:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59566 invoked from network); 9 May 2003 14:06:39 -0000
Received: from smtp10.atl.mindspring.net (207.69.200.246)
  by daedalus.apache.org with SMTP; 9 May 2003 14:06:39 -0000
Received: from h-66-167-237-119.mclnva23.covad.net ([66.167.237.119] helo=POWERPACK)
	by smtp10.atl.mindspring.net with smtp (Exim 3.33 #1)
	id 19E8WG-0004JG-00
	for lucene-user@jakarta.apache.org; Fri, 09 May 2003 10:06:40 -0400
Message-ID: <016901c31634$39ed0150$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <MNEPJJAGGPICDNOCBIKDAEEHCJAA.routar@ideorlando.org>
Subject: Re: java.io.IOException: couldn't delete _5we.del
Date: Fri, 9 May 2003 10:06:45 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Rob,

I suspect that your application isn't closing one of its readers (or
something related).  I occasionally have a similar problem, but it hasn't
gotten to the point of sufficient regularity to get me to focus on it.

Regards,

Terry

----- Original Message -----
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 09, 2003 9:59 AM
Subject: java.io.IOException: couldn't delete _5we.del


> Hi all,
>
> I keep randomly getting the above exception, although it does not seem to
> corrupt the index, I would like to know what is causing it.  Has anyone
seen
> the above error, or knows why the above error is generated?  I also get
> errors about renaming of index files.
>
> Let me know.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4430-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 14:09:41 2003
Return-Path: <lucene-user-return-4430-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67084 invoked from network); 9 May 2003 14:09:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 14:09:40 -0000
Received: (qmail 28833 invoked by uid 97); 9 May 2003 14:11:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28826 invoked from network); 9 May 2003 14:11:44 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 14:11:44 -0000
Received: (qmail 66789 invoked by uid 500); 9 May 2003 14:09:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66777 invoked from network); 9 May 2003 14:09:36 -0000
Received: from h003.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.216)
  by daedalus.apache.org with SMTP; 9 May 2003 14:09:36 -0000
Received: (cpmta 20492 invoked from network); 9 May 2003 07:09:37 -0700
Received: from 66.171.41.184 (HELO medined01)
  by smtp.mtolive.com (209.228.34.216) with SMTP; 9 May 2003 07:09:37 -0700
X-Sent: 9 May 2003 14:09:37 GMT
Message-ID: <061f01c31634$98d45ab0$6422a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Bryan LaPlante" <blaplante@netwebapps.com>
References: <000901c3161c$91421bb0$d9321c41@vincent>
Subject: Re: Search custom tag
Date: Fri, 9 May 2003 10:09:24 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I typically put all of my open-source code on my blog
(http://www.codebits.com) which is indexed by Google whenever I make an
entry. So that makes it relatively easy to find. The recursiveness of using
a search engine to find search engine code appeals to me.

I think there is also a lucene sandbox where your code can potentially be
stored.

david


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4431-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 16:38:59 2003
Return-Path: <lucene-user-return-4431-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36216 invoked from network); 9 May 2003 16:38:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 16:38:58 -0000
Received: (qmail 4829 invoked by uid 97); 9 May 2003 16:41:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4822 invoked from network); 9 May 2003 16:41:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 16:41:04 -0000
Received: (qmail 33417 invoked by uid 500); 9 May 2003 16:38:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33297 invoked from network); 9 May 2003 16:38:21 -0000
Received: from web13102.mail.yahoo.com (216.136.174.147)
  by daedalus.apache.org with SMTP; 9 May 2003 16:38:21 -0000
Message-ID: <20030509163824.33860.qmail@web13102.mail.yahoo.com>
Received: from [65.118.208.6] by web13102.mail.yahoo.com via HTTP; Fri, 09 May 2003 09:38:24 PDT
Date: Fri, 9 May 2003 09:38:24 -0700 (PDT)
From: david chan <david_tomcat@yahoo.com>
Subject: Lucene index on multi-node websphere?
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
 What's the best approach to deploy Lucene search
engine to multi-node (two nodes) Websphere application
server?
 The multi-node is for load balancing, so web user can
hit any of the app. server, them it needs index file
on both machine. 
 What's the best way to index my documents (not in
these multi-node machine). I guess web crawler
approach is good for this, but do I need to do that on
both node?
 
Thanks.
David

__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4432-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 09 23:49:22 2003
Return-Path: <lucene-user-return-4432-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71119 invoked from network); 9 May 2003 23:49:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 9 May 2003 23:49:22 -0000
Received: (qmail 24158 invoked by uid 97); 9 May 2003 23:51:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24151 invoked from network); 9 May 2003 23:51:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 9 May 2003 23:51:33 -0000
Received: (qmail 70811 invoked by uid 500); 9 May 2003 23:49:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70800 invoked from network); 9 May 2003 23:49:19 -0000
Received: from unknown (HELO frodo.hotu.com) (66.180.133.139)
  by daedalus.apache.org with SMTP; 9 May 2003 23:49:19 -0000
Received: from hotu.com (localhost.localdomain [127.0.0.1])
	by frodo.hotu.com (8.11.2/8.11.2) with ESMTP id h49No2k12247
	for <lucene-user@jakarta.apache.org>; Fri, 9 May 2003 13:50:03 -1000
Message-ID: <3EBC3EAA.8000209@hotu.com>
Date: Fri, 09 May 2003 13:50:02 -1000
From: newsham@hotu.com
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: query matching all documents
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Is there a query object which can match all documents?

As an example, suppose my search supports zero or more search criteria.  
Each criteria, if specified, is required to match the document.  If no 
criteria are specified, all documents should be returned.  Here's an 
example (NullQuery is an imaginary class which represents the query type 
I'm looking for):

BooleanQuery query = new BooleanQuery();
query.add(new NullQuery(), true, false);
if (criteria1exists) {
  query.add(..., true, false);
}
if (criteria2exists) {
  query.add(..., true, false);
}

Without line 2, if no criteria is specified, no documents will be 
returned.  Apparently, a boolean query with no boolean elements matches 
zero documents.  In my opinion, it would have made more sense for it to 
match all documents, since each boolean element represents a constraint, 
and no constraints implies all documents.  But for clarity, maybe there 
should be an AllQuery and a NoneQuery which match all documents and no 
documents respectively.

But back to reality, is there a way to achieve this with the existing 
query classes?  I'd prefer not to add a dummy field to search by, as 
this is not efficient.

Thanks,
Jim


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4433-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 07:43:24 2003
Return-Path: <lucene-user-return-4433-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38476 invoked from network); 12 May 2003 07:43:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 07:43:24 -0000
Received: (qmail 23941 invoked by uid 97); 12 May 2003 07:45:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23934 invoked from network); 12 May 2003 07:45:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 07:45:38 -0000
Received: (qmail 38109 invoked by uid 500); 12 May 2003 07:43:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38091 invoked from network); 12 May 2003 07:43:19 -0000
Received: from lyon.ever-team.com (HELO lyon.ever.fr) (213.244.7.194)
  by daedalus.apache.org with SMTP; 12 May 2003 07:43:19 -0000
Received: from LYON-01.ever-team.com (lyon-01.ever-team.com [192.168.1.6])
	by lyon.ever.fr (8.12.9/8.12.9) with ESMTP id h4C9dUjL018891
	for <lucene-user@jakarta.apache.org>; Mon, 12 May 2003 11:39:30 +0200
content-class: urn:content-classes:message
Subject: Highlighting, startOffset, endOffset
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 12 May 2003 09:43:03 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Message-ID: <1BE7364ABAF3A540AADA600B68C2C21977546C@lyon-01.ever-team.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Highlighting, startOffset, endOffset
Thread-Index: AcMYWh7JsCiJEoRCEdeVPwDATx90mw==
From: "Arpad KATONA" <a.katona@ever-team.com>
To: <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Lucene Users,

in order to highlighting terms in a text, i try to use Maik Schreiber's =
highlighting solution see "Term Highlighter" on :
http://jakarta.apache.org/lucene/docs/contributions.html .
It is based on the "startOffset" and "endOffset" functions of the =
"org.apache.lucene.analysis.Token" class, see the short code sample =
below.

org.apache.lucene.analysis.Token token;
TokenStream stream =3D analyzer.tokenStream(new StringReader(text));
while ((token =3D stream.next()) !=3D null) {
  int startOffset =3D token.startOffset();
  int endOffset =3D token.endOffset();
...
}

The problem is, that these functions "startOffset" and "endOffset" seem =
to return always 0, do you see why? In the mails archive there is only =
one mail that treats this thema :=20
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakarta=
.apache.org&msgId=3D489630
From: Tom Dunstan
Subject: Excerpts
Date: Tue, 1 Oct 2002 12:19:29 +0930

but the sender seems to have never got an answer to his mail...

Thank you im voraus

Arpad KATONA
a.katona@ever-team.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4434-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 12:29:50 2003
Return-Path: <lucene-user-return-4434-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46785 invoked from network); 12 May 2003 12:29:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 12:29:49 -0000
Received: (qmail 451 invoked by uid 97); 12 May 2003 12:31:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 444 invoked from network); 12 May 2003 12:31:53 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 12:31:53 -0000
Received: (qmail 46542 invoked by uid 500); 12 May 2003 12:29:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46529 invoked from network); 12 May 2003 12:29:46 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 12 May 2003 12:29:46 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 007A0367D2; Mon, 12 May 2003 12:25:50 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id A756F367C4
	for <lucene-user@jakarta.apache.org>; Mon, 12 May 2003 12:25:49 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: java.io.IOException: couldn't delete _5we.del
Date: Mon, 12 May 2003 08:29:25 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDKEEMCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <016901c31634$39ed0150$0501a8c0@POWERPACK>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think it may be a garbage collection problem only seems to happen when I
am adding/removing a lot of documents to/from the index.

Thanks,

Rob


-----Original Message-----
From: Terry Steichen [mailto:terry@net-frame.com]
Sent: Friday, May 09, 2003 10:07 AM
To: Lucene Users List
Subject: Re: java.io.IOException: couldn't delete _5we.del


Rob,

I suspect that your application isn't closing one of its readers (or
something related).  I occasionally have a similar problem, but it hasn't
gotten to the point of sufficient regularity to get me to focus on it.

Regards,

Terry

----- Original Message -----
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 09, 2003 9:59 AM
Subject: java.io.IOException: couldn't delete _5we.del


> Hi all,
>
> I keep randomly getting the above exception, although it does not seem to
> corrupt the index, I would like to know what is causing it.  Has anyone
seen
> the above error, or knows why the above error is generated?  I also get
> errors about renaming of index files.
>
> Let me know.
>
> Thanks,
>
> Rob
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4435-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 15:23:10 2003
Return-Path: <lucene-user-return-4435-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68679 invoked from network); 12 May 2003 15:23:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 15:23:09 -0000
Received: (qmail 6511 invoked by uid 97); 12 May 2003 15:25:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6504 invoked from network); 12 May 2003 15:25:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 15:25:15 -0000
Received: (qmail 68390 invoked by uid 500); 12 May 2003 15:23:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68373 invoked from network); 12 May 2003 15:23:06 -0000
Received: from slri8.mshri.on.ca (HELO EX.mshri.on.ca) (192.197.250.28)
  by daedalus.apache.org with SMTP; 12 May 2003 15:23:06 -0000
Received: from mshri.on.ca (38.112.98.19 [38.112.98.19]) by EX.mshri.on.ca with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KZFFW3K2; Mon, 12 May 2003 11:12:10 -0400
Message-ID: <3EBFBC56.4000906@mshri.on.ca>
Date: Mon, 12 May 2003 11:23:02 -0400
From: Jon Pipitone <jpipitone@mshri.on.ca>
Organization: Samuel Lunenfeld Research Institute
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: '-' character not interpreted correctly in field names
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

 > I believe that the tokenizer treats a dash as a token separator.
 > Hence, the only way, as I recall, to eliminate this behavior is
 > to modify QueryParser.jj so it doesn't do this.  However, doing
 > this can cause some other problems, like hyphenated words at a
 > line break and the like.

I've recently started using lucene and I'm running into the same issue 
with the query parser.  I'd like to use queries that contain dashes in 
the field name, but as far as I can tell it seems that the current query 
grammar treats field names as terms, and so, as Terry notes, a dash 
becomes a token seperator.

Terry suggests modifying the QueryParser.jj -- I would suspect by 
creating a seperate non-terminal for field names.

Has anyone done any work on this already?  Is modifying QueryParser.jj 
the best approach?

Thanks,
jp

> From: Terry Steichen <terry@net-frame.com>
> Subject: '-' character not interpreted correctly in field names
> Date: Mon, 3 Feb 2003 09:19:58 -0500
> Content-Type: text/plain;
> 	charset="iso-8859-1"
> 
> 
> I believe that the tokenizer treats a dash as a token separator.  Hence, the
> only way, as I recall, to eliminate this behavior is to modify
> QueryParser.jj so it doesn't do this.  However, doing this can cause some
> other problems, like hyphenated words at a line break and the like.
> 
> (Of course, if you do make such a change, you'll have to go back and reindex
> after such a change.)
> 
> I've run into this problem myself and I've 'punted' -  on certain fields,
> when I index, I replace the dash with an underscore.  This isn't a real good
> solution, and it does require me to keep remembering in which fields I have
> to do this substitution in the search.  But, for the moment it works.  I'll
> probably go back and make some kind of change later, when I have more time.
> 
> HTH,
> 
> Terry
> 
> ----- Original Message -----
> From: "hermit" <hermit@freestart.hu>
> To: <lucene-user@jakarta.apache.org>
> Sent: Monday, February 03, 2003 2:39 AM
> Subject: '-' character not interpreted correctly in field names
> 
> 
>> Hello!
>>
>> I have a problem, a big one. I have successfully indexed 600 MB of XML
>> data, but the search can't give any results if the field contains any
>> '-' characters .
>> For example: compound@cgx-code:[2 - 5] must match at least two results
>> based on my XML data but it gives nothing.
>>
>> Can you advice me a simple solution? Or is it a bug?
>>
>>     The Hermit



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4436-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 15:41:54 2003
Return-Path: <lucene-user-return-4436-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17452 invoked from network); 12 May 2003 15:41:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 15:41:53 -0000
Received: (qmail 7252 invoked by uid 97); 12 May 2003 15:43:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7245 invoked from network); 12 May 2003 15:43:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 15:43:59 -0000
Received: (qmail 16446 invoked by uid 500); 12 May 2003 15:41:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16397 invoked from network); 12 May 2003 15:41:39 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 12 May 2003 15:41:39 -0000
Message-ID: <20030512154141.13609.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP; Mon, 12 May 2003 08:41:41 PDT
Date: Mon, 12 May 2003 08:41:41 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: '-' character not interpreted correctly in field names
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3EBFBC56.4000906@mshri.on.ca>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can write a custom Analyzer that does not remove dashes from
tokens, and use it for both indexing and searching.

This is a frequent question and answer on this list.

Otis

--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> Hi all,
> 
>  > I believe that the tokenizer treats a dash as a token separator.
>  > Hence, the only way, as I recall, to eliminate this behavior is
>  > to modify QueryParser.jj so it doesn't do this.  However, doing
>  > this can cause some other problems, like hyphenated words at a
>  > line break and the like.
> 
> I've recently started using lucene and I'm running into the same
> issue 
> with the query parser.  I'd like to use queries that contain dashes
> in 
> the field name, but as far as I can tell it seems that the current
> query 
> grammar treats field names as terms, and so, as Terry notes, a dash 
> becomes a token seperator.
> 
> Terry suggests modifying the QueryParser.jj -- I would suspect by 
> creating a seperate non-terminal for field names.
> 
> Has anyone done any work on this already?  Is modifying
> QueryParser.jj 
> the best approach?
> 
> Thanks,
> jp
> 
> > From: Terry Steichen <terry@net-frame.com>
> > Subject: '-' character not interpreted correctly in field names
> > Date: Mon, 3 Feb 2003 09:19:58 -0500
> > Content-Type: text/plain;
> > 	charset="iso-8859-1"
> > 
> > 
> > I believe that the tokenizer treats a dash as a token separator. 
> Hence, the
> > only way, as I recall, to eliminate this behavior is to modify
> > QueryParser.jj so it doesn't do this.  However, doing this can
> cause some
> > other problems, like hyphenated words at a line break and the like.
> > 
> > (Of course, if you do make such a change, you'll have to go back
> and reindex
> > after such a change.)
> > 
> > I've run into this problem myself and I've 'punted' -  on certain
> fields,
> > when I index, I replace the dash with an underscore.  This isn't a
> real good
> > solution, and it does require me to keep remembering in which
> fields I have
> > to do this substitution in the search.  But, for the moment it
> works.  I'll
> > probably go back and make some kind of change later, when I have
> more time.
> > 
> > HTH,
> > 
> > Terry
> > 
> > ----- Original Message -----
> > From: "hermit" <hermit@freestart.hu>
> > To: <lucene-user@jakarta.apache.org>
> > Sent: Monday, February 03, 2003 2:39 AM
> > Subject: '-' character not interpreted correctly in field names
> > 
> > 
> >> Hello!
> >>
> >> I have a problem, a big one. I have successfully indexed 600 MB of
> XML
> >> data, but the search can't give any results if the field contains
> any
> >> '-' characters .
> >> For example: compound@cgx-code:[2 - 5] must match at least two
> results
> >> based on my XML data but it gives nothing.
> >>
> >> Can you advice me a simple solution? Or is it a bug?
> >>
> >>     The Hermit
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4437-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 15:45:54 2003
Return-Path: <lucene-user-return-4437-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29297 invoked from network); 12 May 2003 15:45:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 15:45:53 -0000
Received: (qmail 7382 invoked by uid 97); 12 May 2003 15:47:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7375 invoked from network); 12 May 2003 15:47:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 15:47:59 -0000
Received: (qmail 29003 invoked by uid 500); 12 May 2003 15:45:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28992 invoked from network); 12 May 2003 15:45:50 -0000
Received: from smtp10.atl.mindspring.net (207.69.200.246)
  by daedalus.apache.org with SMTP; 12 May 2003 15:45:50 -0000
Received: from h-66-167-237-95.mclnva23.covad.net ([66.167.237.95] helo=POWERPACK)
	by smtp10.atl.mindspring.net with smtp (Exim 3.33 #1)
	id 19FFUu-00049x-00
	for lucene-user@jakarta.apache.org; Mon, 12 May 2003 11:45:52 -0400
Message-ID: <03b101c3189d$99d2d890$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030512154141.13609.qmail@web12704.mail.yahoo.com>
Subject: Re: '-' character not interpreted correctly in field names
Date: Mon, 12 May 2003 11:46:06 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis,

Since this does indeed comes up so often, maybe we should include an example
of such an Analyzer with the basic package?

Regards,

Terry

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, May 12, 2003 11:41 AM
Subject: Re: '-' character not interpreted correctly in field names


> You can write a custom Analyzer that does not remove dashes from
> tokens, and use it for both indexing and searching.
>
> This is a frequent question and answer on this list.
>
> Otis
>
> --- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> > Hi all,
> >
> >  > I believe that the tokenizer treats a dash as a token separator.
> >  > Hence, the only way, as I recall, to eliminate this behavior is
> >  > to modify QueryParser.jj so it doesn't do this.  However, doing
> >  > this can cause some other problems, like hyphenated words at a
> >  > line break and the like.
> >
> > I've recently started using lucene and I'm running into the same
> > issue
> > with the query parser.  I'd like to use queries that contain dashes
> > in
> > the field name, but as far as I can tell it seems that the current
> > query
> > grammar treats field names as terms, and so, as Terry notes, a dash
> > becomes a token seperator.
> >
> > Terry suggests modifying the QueryParser.jj -- I would suspect by
> > creating a seperate non-terminal for field names.
> >
> > Has anyone done any work on this already?  Is modifying
> > QueryParser.jj
> > the best approach?
> >
> > Thanks,
> > jp
> >
> > > From: Terry Steichen <terry@net-frame.com>
> > > Subject: '-' character not interpreted correctly in field names
> > > Date: Mon, 3 Feb 2003 09:19:58 -0500
> > > Content-Type: text/plain;
> > > charset="iso-8859-1"
> > >
> > >
> > > I believe that the tokenizer treats a dash as a token separator.
> > Hence, the
> > > only way, as I recall, to eliminate this behavior is to modify
> > > QueryParser.jj so it doesn't do this.  However, doing this can
> > cause some
> > > other problems, like hyphenated words at a line break and the like.
> > >
> > > (Of course, if you do make such a change, you'll have to go back
> > and reindex
> > > after such a change.)
> > >
> > > I've run into this problem myself and I've 'punted' -  on certain
> > fields,
> > > when I index, I replace the dash with an underscore.  This isn't a
> > real good
> > > solution, and it does require me to keep remembering in which
> > fields I have
> > > to do this substitution in the search.  But, for the moment it
> > works.  I'll
> > > probably go back and make some kind of change later, when I have
> > more time.
> > >
> > > HTH,
> > >
> > > Terry
> > >
> > > ----- Original Message -----
> > > From: "hermit" <hermit@freestart.hu>
> > > To: <lucene-user@jakarta.apache.org>
> > > Sent: Monday, February 03, 2003 2:39 AM
> > > Subject: '-' character not interpreted correctly in field names
> > >
> > >
> > >> Hello!
> > >>
> > >> I have a problem, a big one. I have successfully indexed 600 MB of
> > XML
> > >> data, but the search can't give any results if the field contains
> > any
> > >> '-' characters .
> > >> For example: compound@cgx-code:[2 - 5] must match at least two
> > results
> > >> based on my XML data but it gives nothing.
> > >>
> > >> Can you advice me a simple solution? Or is it a bug?
> > >>
> > >>     The Hermit
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4438-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 15:49:11 2003
Return-Path: <lucene-user-return-4438-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35677 invoked from network); 12 May 2003 15:49:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 15:49:09 -0000
Received: (qmail 7480 invoked by uid 97); 12 May 2003 15:51:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7473 invoked from network); 12 May 2003 15:51:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 15:51:14 -0000
Received: (qmail 35378 invoked by uid 500); 12 May 2003 15:49:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35366 invoked from network); 12 May 2003 15:49:06 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 12 May 2003 15:49:06 -0000
Message-ID: <20030512154908.54418.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP; Mon, 12 May 2003 08:49:08 PDT
Date: Mon, 12 May 2003 08:49:08 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: '-' character not interpreted correctly in field names
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <03b101c3189d$99d2d890$0501a8c0@POWERPACK>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Nah, but we could include it in the FAQ or Lucene Sandbox.  If you have
something ready to go, please email.

Otis

--- Terry Steichen <terry@net-frame.com> wrote:
> Otis,
> 
> Since this does indeed comes up so often, maybe we should include an
> example
> of such an Analyzer with the basic package?
> 
> Regards,
> 
> Terry
> 
> ----- Original Message -----
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, May 12, 2003 11:41 AM
> Subject: Re: '-' character not interpreted correctly in field names
> 
> 
> > You can write a custom Analyzer that does not remove dashes from
> > tokens, and use it for both indexing and searching.
> >
> > This is a frequent question and answer on this list.
> >
> > Otis
> >
> > --- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
> > > Hi all,
> > >
> > >  > I believe that the tokenizer treats a dash as a token
> separator.
> > >  > Hence, the only way, as I recall, to eliminate this behavior
> is
> > >  > to modify QueryParser.jj so it doesn't do this.  However,
> doing
> > >  > this can cause some other problems, like hyphenated words at a
> > >  > line break and the like.
> > >
> > > I've recently started using lucene and I'm running into the same
> > > issue
> > > with the query parser.  I'd like to use queries that contain
> dashes
> > > in
> > > the field name, but as far as I can tell it seems that the
> current
> > > query
> > > grammar treats field names as terms, and so, as Terry notes, a
> dash
> > > becomes a token seperator.
> > >
> > > Terry suggests modifying the QueryParser.jj -- I would suspect by
> > > creating a seperate non-terminal for field names.
> > >
> > > Has anyone done any work on this already?  Is modifying
> > > QueryParser.jj
> > > the best approach?
> > >
> > > Thanks,
> > > jp
> > >
> > > > From: Terry Steichen <terry@net-frame.com>
> > > > Subject: '-' character not interpreted correctly in field names
> > > > Date: Mon, 3 Feb 2003 09:19:58 -0500
> > > > Content-Type: text/plain;
> > > > charset="iso-8859-1"
> > > >
> > > >
> > > > I believe that the tokenizer treats a dash as a token
> separator.
> > > Hence, the
> > > > only way, as I recall, to eliminate this behavior is to modify
> > > > QueryParser.jj so it doesn't do this.  However, doing this can
> > > cause some
> > > > other problems, like hyphenated words at a line break and the
> like.
> > > >
> > > > (Of course, if you do make such a change, you'll have to go
> back
> > > and reindex
> > > > after such a change.)
> > > >
> > > > I've run into this problem myself and I've 'punted' -  on
> certain
> > > fields,
> > > > when I index, I replace the dash with an underscore.  This
> isn't a
> > > real good
> > > > solution, and it does require me to keep remembering in which
> > > fields I have
> > > > to do this substitution in the search.  But, for the moment it
> > > works.  I'll
> > > > probably go back and make some kind of change later, when I
> have
> > > more time.
> > > >
> > > > HTH,
> > > >
> > > > Terry
> > > >
> > > > ----- Original Message -----
> > > > From: "hermit" <hermit@freestart.hu>
> > > > To: <lucene-user@jakarta.apache.org>
> > > > Sent: Monday, February 03, 2003 2:39 AM
> > > > Subject: '-' character not interpreted correctly in field names
> > > >
> > > >
> > > >> Hello!
> > > >>
> > > >> I have a problem, a big one. I have successfully indexed 600
> MB of
> > > XML
> > > >> data, but the search can't give any results if the field
> contains
> > > any
> > > >> '-' characters .
> > > >> For example: compound@cgx-code:[2 - 5] must match at least two
> > > results
> > > >> based on my XML data but it gives nothing.
> > > >>
> > > >> Can you advice me a simple solution? Or is it a bug?
> > > >>
> > > >>     The Hermit
> > >
> > >
> > >
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > >
> >
> >
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4439-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 18:59:11 2003
Return-Path: <lucene-user-return-4439-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96623 invoked from network); 12 May 2003 18:59:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 18:59:11 -0000
Received: (qmail 13482 invoked by uid 97); 12 May 2003 19:01:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13475 invoked from network); 12 May 2003 19:01:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 19:01:18 -0000
Received: (qmail 96174 invoked by uid 500); 12 May 2003 18:59:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96124 invoked from network); 12 May 2003 18:59:06 -0000
Received: from web40112.mail.yahoo.com (66.218.78.46)
  by daedalus.apache.org with SMTP; 12 May 2003 18:59:06 -0000
Message-ID: <20030512185911.34365.qmail@web40112.mail.yahoo.com>
Received: from [163.188.121.119] by web40112.mail.yahoo.com via HTTP; Mon, 12 May 2003 11:59:11 PDT
Date: Mon, 12 May 2003 11:59:11 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: Re: Highlighting, startOffset, endOffset
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1BE7364ABAF3A540AADA600B68C2C21977546C@lyon-01.ever-team.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm using this termhighlighter and never got any
problem. Could you be elaborate on how you are using
it.

-Shoba
--- Arpad KATONA <a.katona@ever-team.com> wrote:
> Hello Lucene Users,
> 
> in order to highlighting terms in a text, i try to
> use Maik Schreiber's highlighting solution see "Term
> Highlighter" on :
>
http://jakarta.apache.org/lucene/docs/contributions.html
> .
> It is based on the "startOffset" and "endOffset"
> functions of the "org.apache.lucene.analysis.Token"
> class, see the short code sample below.
> 
> org.apache.lucene.analysis.Token token;
> TokenStream stream = analyzer.tokenStream(new
> StringReader(text));
> while ((token = stream.next()) != null) {
>   int startOffset = token.startOffset();
>   int endOffset = token.endOffset();
> ...
> }
> 
> The problem is, that these functions "startOffset"
> and "endOffset" seem to return always 0, do you see
> why? In the mails archive there is only one mail
> that treats this thema : 
>
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=489630
> From: Tom Dunstan
> Subject: Excerpts
> Date: Tue, 1 Oct 2002 12:19:29 +0930
> 
> but the sender seems to have never got an answer to
> his mail...
> 
> Thank you im voraus
> 
> Arpad KATONA
> a.katona@ever-team.com
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4440-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 19:07:09 2003
Return-Path: <lucene-user-return-4440-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18576 invoked from network); 12 May 2003 19:07:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 19:07:09 -0000
Received: (qmail 13713 invoked by uid 97); 12 May 2003 19:09:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13706 invoked from network); 12 May 2003 19:09:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 19:09:16 -0000
Received: (qmail 16396 invoked by uid 500); 12 May 2003 19:06:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16354 invoked from network); 12 May 2003 19:06:41 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 12 May 2003 19:06:41 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP; Mon, 12 May 2003 12:04:57 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <KXHZJGX6>; Mon, 12 May 2003 12:06:45 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A96552@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: RE: Highlighting, startOffset, endOffset
Date: Mon, 12 May 2003 12:07:22 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If I use my search engine is possible to highlight the string in an excel
file and open it?
Michel

-----Original Message-----
From: Shoba Ramachandran [mailto:shoba_duruvan@yahoo.com] 
Sent: Monday, May 12, 2003 8:59 PM
To: Lucene Users List
Subject: Re: Highlighting, startOffset, endOffset

I'm using this termhighlighter and never got any
problem. Could you be elaborate on how you are using
it.

-Shoba
--- Arpad KATONA <a.katona@ever-team.com> wrote:
> Hello Lucene Users,
> 
> in order to highlighting terms in a text, i try to
> use Maik Schreiber's highlighting solution see "Term
> Highlighter" on :
>
http://jakarta.apache.org/lucene/docs/contributions.html
> .
> It is based on the "startOffset" and "endOffset"
> functions of the "org.apache.lucene.analysis.Token"
> class, see the short code sample below.
> 
> org.apache.lucene.analysis.Token token;
> TokenStream stream = analyzer.tokenStream(new
> StringReader(text));
> while ((token = stream.next()) != null) {
>   int startOffset = token.startOffset();
>   int endOffset = token.endOffset();
> ...
> }
> 
> The problem is, that these functions "startOffset"
> and "endOffset" seem to return always 0, do you see
> why? In the mails archive there is only one mail
> that treats this thema : 
>
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apac
he.org&msgId=489630
> From: Tom Dunstan
> Subject: Excerpts
> Date: Tue, 1 Oct 2002 12:19:29 +0930
> 
> but the sender seems to have never got an answer to
> his mail...
> 
> Thank you im voraus
> 
> Arpad KATONA
> a.katona@ever-team.com
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4441-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 20:03:12 2003
Return-Path: <lucene-user-return-4441-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30052 invoked from network); 12 May 2003 20:03:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 20:03:12 -0000
Received: (qmail 15362 invoked by uid 97); 12 May 2003 20:05:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15355 invoked from network); 12 May 2003 20:05:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 20:05:20 -0000
Received: (qmail 29753 invoked by uid 500); 12 May 2003 20:03:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29740 invoked from network); 12 May 2003 20:03:08 -0000
Received: from slri8.mshri.on.ca (HELO EX.mshri.on.ca) (192.197.250.28)
  by daedalus.apache.org with SMTP; 12 May 2003 20:03:08 -0000
Received: from mshri.on.ca (38.112.98.19 [38.112.98.19]) by EX.mshri.on.ca with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KZFFWSQD; Mon, 12 May 2003 15:52:15 -0400
Message-ID: <3EBFFDFC.20609@mshri.on.ca>
Date: Mon, 12 May 2003 16:03:08 -0400
From: Jon Pipitone <jpipitone@mshri.on.ca>
Organization: Samuel Lunenfeld Research Institute
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: '-' character not interpreted correctly in field names
References: <20030512154908.54418.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Otis, Terry,

 >>>You can write a custom Analyzer that does not remove dashes from
 >>>tokens, and use it for both indexing and searching.
 >>>
 >>>This is a frequent question and answer on this list.

Sorry for the noise, but I haven't been able to find a solution in the 
mailing list archives, or by writing my own analyzer:

	public class MyAnalyzer extends Analyzer {
	public TokenStream tokenStream(String fieldName, Reader reader) 		{
		return new CharTokenizer(reader) {
			protected boolean isTokenChar(char c) {
				return Character.isLetter(c) || c == '-';
			}
		};
	}
	}

I parse a query like this:

	String queryString = "foo-bar:foo";
	String queryResult =
		QueryParser.parse(queryString, "body", new MyAnalyzer())

With the output:
	body:foo -bar:foo

But I would expect the output:
	 foo-bar:foo

If I print out the tokens that MyAnalyzer produces I do get "foo-bar" 
and then "foo".

Any pointers on what I'm doing wrong?

jp



>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
>>>
>>>>Hi all,
>>>>
>>>> > I believe that the tokenizer treats a dash as a token
>>>
>>separator.
>>
>>>> > Hence, the only way, as I recall, to eliminate this behavior
>>>
>>is
>>
>>>> > to modify QueryParser.jj so it doesn't do this.  However,
>>>
>>doing
>>
>>>> > this can cause some other problems, like hyphenated words at a
>>>> > line break and the like.
>>>>
>>>>I've recently started using lucene and I'm running into the same
>>>>issue
>>>>with the query parser.  I'd like to use queries that contain
>>>
>>dashes
>>
>>>>in
>>>>the field name, but as far as I can tell it seems that the
>>>
>>current
>>
>>>>query
>>>>grammar treats field names as terms, and so, as Terry notes, a
>>>
>>dash
>>
>>>>becomes a token seperator.
>>>>
>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by
>>>>creating a seperate non-terminal for field names.
>>>>
>>>>Has anyone done any work on this already?  Is modifying
>>>>QueryParser.jj
>>>>the best approach?
>>>>
>>>>Thanks,
>>>>jp
>>>>
>>>>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4442-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 12 20:24:25 2003
Return-Path: <lucene-user-return-4442-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62470 invoked from network); 12 May 2003 20:24:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 May 2003 20:24:25 -0000
Received: (qmail 15990 invoked by uid 97); 12 May 2003 20:26:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15983 invoked from network); 12 May 2003 20:26:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 12 May 2003 20:26:33 -0000
Received: (qmail 62172 invoked by uid 500); 12 May 2003 20:24:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62158 invoked from network); 12 May 2003 20:24:21 -0000
Received: from merc62.na.sas.com (149.173.6.49)
  by daedalus.apache.org with SMTP; 12 May 2003 20:24:21 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.46 with InterScan Messaging Security Suite; Mon, 12 May 2003 16:20:15 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: '-' character not interpreted correctly in field names
Date: Mon, 12 May 2003 16:20:15 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5BDF@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: '-' character not interpreted correctly in field names
Thread-Index: AcMYwYjbk/lqr2C0QVi4AHnf+iaYPwAAbiJg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I just looked at the QueryParser.jj code, your field names never get =
processed by the analyzer. It does look like the query parser will honor =
escapes though. I haven't tried this, but try a query like =
"foo\-bar:foo" and have a look at the QueryParser.jj file for how it =
handles field names when parsing your query.

Eric

-----Original Message-----
From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]=20
Sent: Monday, May 12, 2003 4:03 PM
To: Lucene Users List
Subject: Re: '-' character not interpreted correctly in field names


Hi Otis, Terry,

 >>>You can write a custom Analyzer that does not remove dashes from  =
>>>tokens, and use it for both indexing and searching.  >>>  >>>This is =
a frequent question and answer on this list.

Sorry for the noise, but I haven't been able to find a solution in the=20
mailing list archives, or by writing my own analyzer:

	public class MyAnalyzer extends Analyzer {
	public TokenStream tokenStream(String fieldName, Reader reader) 		{
		return new CharTokenizer(reader) {
			protected boolean isTokenChar(char c) {
				return Character.isLetter(c) || c =3D=3D '-';
			}
		};
	}
	}

I parse a query like this:

	String queryString =3D "foo-bar:foo";
	String queryResult =3D
		QueryParser.parse(queryString, "body", new MyAnalyzer())

With the output:
	body:foo -bar:foo

But I would expect the output:
	 foo-bar:foo

If I print out the tokens that MyAnalyzer produces I do get "foo-bar"=20
and then "foo".

Any pointers on what I'm doing wrong?

jp



>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
>>>
>>>>Hi all,
>>>>
>>>> > I believe that the tokenizer treats a dash as a token
>>>
>>separator.
>>
>>>> > Hence, the only way, as I recall, to eliminate this behavior
>>>
>>is
>>
>>>> > to modify QueryParser.jj so it doesn't do this.  However,
>>>
>>doing
>>
>>>> > this can cause some other problems, like hyphenated words at a=20
>>>> > line break and the like.
>>>>
>>>>I've recently started using lucene and I'm running into the same=20
>>>>issue with the query parser.  I'd like to use queries that contain
>>>
>>dashes
>>
>>>>in
>>>>the field name, but as far as I can tell it seems that the
>>>
>>current
>>
>>>>query
>>>>grammar treats field names as terms, and so, as Terry notes, a
>>>
>>dash
>>
>>>>becomes a token seperator.
>>>>
>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by=20
>>>>creating a seperate non-terminal for field names.
>>>>
>>>>Has anyone done any work on this already?  Is modifying=20
>>>>QueryParser.jj the best approach?
>>>>
>>>>Thanks,
>>>>jp
>>>>
>>>>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4443-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 06:20:01 2003
Return-Path: <lucene-user-return-4443-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65553 invoked from network); 13 May 2003 06:20:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 06:20:01 -0000
Received: (qmail 27505 invoked by uid 97); 13 May 2003 06:22:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27498 invoked from network); 13 May 2003 06:22:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 06:22:15 -0000
Received: (qmail 65297 invoked by uid 500); 13 May 2003 06:19:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65284 invoked from network); 13 May 2003 06:19:56 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 13 May 2003 06:19:56 -0000
Received: from mshyd1.hyd.deshaw.com (mshyd1.hyd.deshaw.com [149.77.160.26])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h4D6K2j7029403
 for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 11:50:03 +0530 (IST)
Received: by mshyd1.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <K38JYZY9>; Tue, 13 May 2003 11:50:02 +0530
Message-ID: <7B4F465444F8D51184B500065B3817508A9AFC@mshyd1.hyd.deshaw.com>
From: "Biswas, Goutam_Kumar" <Goutam-Kumar-Biswas@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: '-' character not interpreted correctly in field names
Date: Tue, 13 May 2003 11:50:01 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>>>>but I haven't been able to find a solution in the 
>>>>mailing list archives, or by writing my own analyzer:

I just tried modifying your Analyzer code just a little bit and it worrked
for me. 

public class MyAnalyzer extends Analyzer {
	public TokenStream tokenStream(String fieldName, Reader reader)
{
		return new CharTokenizer(reader) {
			protected boolean isTokenChar(char c) {
				//return Character.isLetter(c) || c == '-';
                        return true;
			}
		};
	}
	}

So this analyzer won't throw away any characters whatsoever. Not sure that's
what you want though!

Thanks,
-Goutam



-----Original Message-----
From: Eric Isakson [mailto:Eric.Isakson@sas.com]
Sent: Tuesday, May 13, 2003 1:50 AM
To: Lucene Users List
Subject: RE: '-' character not interpreted correctly in field names


I just looked at the QueryParser.jj code, your field names never get
processed by the analyzer. It does look like the query parser will honor
escapes though. I haven't tried this, but try a query like "foo\-bar:foo"
and have a look at the QueryParser.jj file for how it handles field names
when parsing your query.

Eric

-----Original Message-----
From: Jon Pipitone [mailto:jpipitone@mshri.on.ca] 
Sent: Monday, May 12, 2003 4:03 PM
To: Lucene Users List
Subject: Re: '-' character not interpreted correctly in field names


Hi Otis, Terry,

 >>>You can write a custom Analyzer that does not remove dashes from
>>>tokens, and use it for both indexing and searching.  >>>  >>>This is a
frequent question and answer on this list.

Sorry for the noise, but I haven't been able to find a solution in the 
mailing list archives, or by writing my own analyzer:

	public class MyAnalyzer extends Analyzer {
	public TokenStream tokenStream(String fieldName, Reader reader)
{
		return new CharTokenizer(reader) {
			protected boolean isTokenChar(char c) {
				return Character.isLetter(c) || c == '-';
			}
		};
	}
	}

I parse a query like this:

	String queryString = "foo-bar:foo";
	String queryResult =
		QueryParser.parse(queryString, "body", new MyAnalyzer())

With the output:
	body:foo -bar:foo

But I would expect the output:
	 foo-bar:foo

If I print out the tokens that MyAnalyzer produces I do get "foo-bar" 
and then "foo".

Any pointers on what I'm doing wrong?

jp



>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
>>>
>>>>Hi all,
>>>>
>>>> > I believe that the tokenizer treats a dash as a token
>>>
>>separator.
>>
>>>> > Hence, the only way, as I recall, to eliminate this behavior
>>>
>>is
>>
>>>> > to modify QueryParser.jj so it doesn't do this.  However,
>>>
>>doing
>>
>>>> > this can cause some other problems, like hyphenated words at a 
>>>> > line break and the like.
>>>>
>>>>I've recently started using lucene and I'm running into the same 
>>>>issue with the query parser.  I'd like to use queries that contain
>>>
>>dashes
>>
>>>>in
>>>>the field name, but as far as I can tell it seems that the
>>>
>>current
>>
>>>>query
>>>>grammar treats field names as terms, and so, as Terry notes, a
>>>
>>dash
>>
>>>>becomes a token seperator.
>>>>
>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by 
>>>>creating a seperate non-terminal for field names.
>>>>
>>>>Has anyone done any work on this already?  Is modifying 
>>>>QueryParser.jj the best approach?
>>>>
>>>>Thanks,
>>>>jp
>>>>
>>>>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4444-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 07:35:42 2003
Return-Path: <lucene-user-return-4444-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34629 invoked from network); 13 May 2003 07:35:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 07:35:42 -0000
Received: (qmail 29360 invoked by uid 97); 13 May 2003 07:37:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29352 invoked from network); 13 May 2003 07:37:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 07:37:57 -0000
Received: (qmail 34395 invoked by uid 500); 13 May 2003 07:35:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34368 invoked from network); 13 May 2003 07:35:35 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 13 May 2003 07:35:35 -0000
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h4D7Zjj7005851
 for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 13:05:45 +0530 (IST)
Received: by mshyd2.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <J4JASG8Q>; Tue, 13 May 2003 13:05:45 +0530
Message-ID: <21559A0D4CF8D511B51100065B38178BA0E3BC@mshyd2.hyd.deshaw.com>
From: "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Searching on multiple default fields
Date: Tue, 13 May 2003 13:05:42 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am using Lucene 1.3. I want the 'default' search field to point to
multiple fields (actually, all available fields).
Is there API support to accomplish this ?

thanks for your help,
vikas.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4445-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 07:39:09 2003
Return-Path: <lucene-user-return-4445-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39586 invoked from network); 13 May 2003 07:39:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 07:39:09 -0000
Received: (qmail 29433 invoked by uid 97); 13 May 2003 07:41:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29426 invoked from network); 13 May 2003 07:41:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 07:41:24 -0000
Received: (qmail 39320 invoked by uid 500); 13 May 2003 07:39:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39302 invoked from network); 13 May 2003 07:39:05 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 13 May 2003 07:39:05 -0000
Received: from kelvin (adsl-210-193-14-56.qala.com.sg [210.193.14.56])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h4D7d5707583
	for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 15:39:05 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Tue, 13 May 2003 15:40:41 +0800
In-Reply-To: <21559A0D4CF8D511B51100065B38178BA0E3BC@mshyd2.hyd.deshaw.com>
Message-ID: <2003513154042.032910@kelvin>
Subject: Re: Searching on multiple default fields
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can use MultiFieldQueryParser to accomplish something to that=
 effect...

Kelvin

On Tue, 13 May 2003 13:05:42 +0530, Ramrakhiani, Vikas said:
>Hi,
>
>I am using Lucene 1.3. I want the 'default' search field to=
 point to
>multiple fields (actually, all available fields).
>Is there API support to accomplish this ?
>
>thanks for your help,
>vikas.
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4446-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 09:31:07 2003
Return-Path: <lucene-user-return-4446-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70328 invoked from network); 13 May 2003 09:31:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 09:31:06 -0000
Received: (qmail 1888 invoked by uid 97); 13 May 2003 09:33:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1881 invoked from network); 13 May 2003 09:33:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 09:33:23 -0000
Received: (qmail 70069 invoked by uid 500); 13 May 2003 09:31:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70055 invoked from network); 13 May 2003 09:31:03 -0000
Received: from lyon.ever-team.com (HELO lyon.ever.fr) (213.244.7.194)
  by daedalus.apache.org with SMTP; 13 May 2003 09:31:03 -0000
Received: from LYON-01.ever-team.com (lyon-01.ever-team.com [192.168.1.6])
	by lyon.ever.fr (8.12.9/8.12.9) with ESMTP id h4DBRBjL003278
	for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 13:27:11 +0200
content-class: urn:content-classes:message
Subject: RERE: Highlighting, startOffset, endOffset
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 13 May 2003 11:30:47 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Message-ID: <1BE7364ABAF3A540AADA600B68C2C219775470@lyon-01.ever-team.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Highlighting, startOffset, endOffset
Thread-Index: AcMYuIWM+JV/gqGJREq42QbDUq8iRgAaNv4Q
From: "Arpad KATONA" <a.katona@ever-team.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Shoba,

thank you for your reponse.

Imagine an "indexing server" that may receive from a client via a socket =
three types of command : insert, search and retrieve.

Receving an insert command e.g. "insert 123, d:/tempo/test.txt", the =
server reads the named file, extracts its content, creates a Lucene =
Document with three Lucene Fields KEY=3D123, DOCPATH=3Dd:/tempo/test.txt =
and CONTENT=3D<the content of the file> and adds the document to the =
index. KEY is stored and indexed, DOCPATH is juste stored and CONTENT is =
juste indexed. Let us suppose, this test.txt file contains the text : "i =
have to go to Sainte-Foy this afternoon but the urban transports are on =
strike just today in Lyon, they are protesting against the project of =
law on pensions and thus they are cassing me the nenette with their =
betises."

Receving a search command e.g. "search tra* AND pro*", the server =
constructs a Query object=20
  Analyzer azer =3D StandardAnalyzer();
  QueryParser qp =3D new QueryParser("CONTENT", azer);
  Query q =3D qp.parse("tra* AND pro*");
  m_LastQuery =3D q; //server memorises the last data query
etc, etc. The server responds to the client with an array of KEYs, in =
this exemple "123".

Receving a retrieve command e.g. "retrieve 123", the server constructs =
another Query "KEY:123", retrieves the DOCPATH from the obtained =
Document, re-reads the file and re-extracts its content (this is perhaps =
what Tom Dunstan calls in his mail "reparsing at runtime"?) and writes =
it to a String, let us suppose, a variable called sText contains the =
content of the found file, i.e. sText=3D"i have to go...". At this =
moment i would like to apply a tool in order to construct an "array of =
positions" indicating the positions and the lengths of the tokens of the =
last memorised data query. In this exemple the last memorised data query =
is "tra* AND pro*", the tokens of this query are "transports" and =
"protesting", the "array of positions" must be : "57,10;111,10", then =
the first 't' of 'transports' is the 57th character in the string "i =
have to go..." and the length of the word "transports" is 10 etc, etc.

So i call the function highlightTerms in =
de.iqcomputing.lucene.LuceneTools (Maik Schreiber's class, lightly =
modified) :
  ArrayList aop =3D new ArrayList();
  LuceneTools.highlightTerms(sText, m_LastQuery, azer, aop);

A schematised excerpt of his function :

public String highlightTerms(
  String p_sText, //"i have to go..."
  Query p_Query, //"tra* AND pro*"
  Analyzer p_Azer,
  ArrayList p_aop) //"array of pos"
{
...
  TokenStream stream =3D null;
  HashSet terms =3D new HashSet();
  org.apache.lucene.analysis.Token token;
  int startOffset, endOffset;

  getTerms(p_Query, terms, false);

  StringReader sr =3D new StringReader(p_sText);
  stream =3D analyzer.tokenStream(sr);
  while ((token =3D stream.next()) !=3D null) {
    startOffset =3D token.startOffset();
    endOffset =3D token.endOffset();
    if (terms.contains(token.termText())) {
      //add startOffset to p_aop
      //but it is always 0
    }
  }
...
}

The call to "getTerms" collects all the terms figuring in the Query =
(this is why many Lucene classes must be modified in order to access =
"private" informations within the classes), i.e. after the call to =
getTerms we have in the HashSet "terms" the two terms of the last Query =
: "transports" and "protesting". Then a TokenStream is created from =
p_sText etc etc. The problem is, startOffset is always 0 (zero) and, =
therefore, the "array of positions" will be completely wrong (contains =
only zeros). You say, you have never encountered a similar problem, do =
you see why it deconnes here and why it works correctly in your context? =
I would be grateful to anybody for any help, because we are here in the =
big Schlamassel whitout these highlighting feature...

Arpad KATONA
--
a.katona@ever-team.com

PS: sorry for the lamentable english, i hope it is comprehensible =
anyway...

-----Message d'origine-----
De : Shoba Ramachandran [mailto:shoba_duruvan@yahoo.com]
Envoy=E9 : lundi 12 mai 2003 20:59
=C0 : Lucene Users List
Objet : Re: Highlighting, startOffset, endOffset


I'm using this termhighlighter and never got any
problem. Could you be elaborate on how you are using
it.

-Shoba

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4447-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 10:09:06 2003
Return-Path: <lucene-user-return-4447-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18427 invoked from network); 13 May 2003 10:09:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 10:09:06 -0000
Received: (qmail 2610 invoked by uid 97); 13 May 2003 10:11:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2603 invoked from network); 13 May 2003 10:11:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 10:11:23 -0000
Received: (qmail 15905 invoked by uid 500); 13 May 2003 10:08:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15837 invoked from network); 13 May 2003 10:08:18 -0000
Received: from mail9.atl.registeredsite.com (64.224.219.83)
  by daedalus.apache.org with SMTP; 13 May 2003 10:08:18 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.16])
	by mail9.atl.registeredsite.com (8.12.8/8.12.6) with ESMTP id h4DA8VtV018465
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 06:08:31 -0400
Received: (qmail 65555 invoked by uid 89); 13 May 2003 10:08:22 -0000
Received: from unknown (HELO ehatchersolutions.com) (24.51.109.120)
  by 216.122.69.20 with SMTP; 13 May 2003 10:08:22 -0000
Date: Tue, 13 May 2003 06:08:32 -0400
Subject: Re: Searching on multiple default fields
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <2003513154042.032910@kelvin>
Message-Id: <DA2B6D85-852A-11D7-9989-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Or as is often seen with Lucene usage, all fields can be glued together 
into a "contents" field, which is then used as the default search field 
like this:

doc.add(Field.Text("title", title));
doc.add(Field.UnIndexed("body", body));
doc.add(Field.Keyword("category",category));

doc.add(Field.UnStored("contents", title +
                 " " + body +
                 " " + category));

This gives individual field access if desired, but by default any field 
is searchable by one aggregate one.  Note the space added between text 
on the "contents" field above!

	Erik

On Tuesday, May 13, 2003, at 03:40  AM, Kelvin Tan wrote:
> You can use MultiFieldQueryParser to accomplish something to that 
> effect...
>
> Kelvin
>
> On Tue, 13 May 2003 13:05:42 +0530, Ramrakhiani, Vikas said:
>> Hi,
>>
>> I am using Lucene 1.3. I want the 'default' search field to point to
>> multiple fields (actually, all available fields).
>> Is there API support to accomplish this ?
>>
>> thanks for your help,
>> vikas.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4448-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 15:16:13 2003
Return-Path: <lucene-user-return-4448-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16410 invoked from network); 13 May 2003 15:16:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 15:16:13 -0000
Received: (qmail 12657 invoked by uid 97); 13 May 2003 15:18:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12650 invoked from network); 13 May 2003 15:18:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 15:18:18 -0000
Received: (qmail 16143 invoked by uid 500); 13 May 2003 15:16:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16130 invoked from network); 13 May 2003 15:16:09 -0000
Received: from web40101.mail.yahoo.com (66.218.78.35)
  by daedalus.apache.org with SMTP; 13 May 2003 15:16:09 -0000
Message-ID: <20030513151612.64020.qmail@web40101.mail.yahoo.com>
Received: from [163.188.121.119] by web40101.mail.yahoo.com via HTTP; Tue, 13 May 2003 08:16:12 PDT
Date: Tue, 13 May 2003 08:16:12 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: Re: RERE: Highlighting, startOffset, endOffset
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1BE7364ABAF3A540AADA600B68C2C219775470@lyon-01.ever-team.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Arpad,

Tested your codes with this example. Seems to run
fine....


public static void main(String[] args)
  {

      String p_sText = "i have to " +
              "go to Sainte-Foy this afternoon but the
urban transports are on strike " +
              "just today in Lyon, they are protesting
against the project of law on " +
              "pensions and thus they are cassing me
the nenette with their betises.";


      TokenStream tokenStream = null;
      try
      {
        Analyzer analyzer = new StandardAnalyzer();
        Query query =
org.apache.lucene.queryParser.QueryParser.parse("pension
AND protest", "Contents", analyzer);
        System.out.println("Search String is :  " +
query.toString("contents"));
        ArrayList p_aop = new ArrayList();


        HashSet terms = new HashSet();
        org.apache.lucene.analysis.Token token;
        int startOffset, endOffset;

        getTerms(query, terms, false);

        //StringReader sr = new StringReader(p_sText);
        //stream = analyzer.tokenStream(sr);

        tokenStream = analyzer.tokenStream(p_sText,
new StringReader(p_sText));
        while((token = tokenStream.next()) != null) {
          startOffset = token.startOffset();
          endOffset = token.endOffset();
          if(terms.contains(token.termText())) {
            System.out.println("startOffset : " +
startOffset);
            System.out.println("endOffset : " +
endOffset);
          }
        }
      }
      catch(Exception e)
      {
        e.printStackTrace();
      }
  }


Ouput is:
Search String is :  +Contents:pension
+Contents:protest
startOffset : 110
endOffset : 120
startOffset : 151
endOffset : 159

-Shoba


--- Arpad KATONA <a.katona@ever-team.com> wrote:
> Hi Shoba,
> 
> thank you for your reponse.
> 
> Imagine an "indexing server" that may receive from a
> client via a socket three types of command : insert,
> search and retrieve.
> 
> Receving an insert command e.g. "insert 123,
> d:/tempo/test.txt", the server reads the named file,
> extracts its content, creates a Lucene Document with
> three Lucene Fields KEY=123,
> DOCPATH=d:/tempo/test.txt and CONTENT=<the content
> of the file> and adds the document to the index. KEY
> is stored and indexed, DOCPATH is juste stored and
> CONTENT is juste indexed. Let us suppose, this
> test.txt file contains the text : "i have to go to
> Sainte-Foy this afternoon but the urban transports
> are on strike just today in Lyon, they are
> protesting against the project of law on pensions
> and thus they are cassing me the nenette with their
> betises."
> 
> Receving a search command e.g. "search tra* AND
> pro*", the server constructs a Query object 
>   Analyzer azer = StandardAnalyzer();
>   QueryParser qp = new QueryParser("CONTENT", azer);
>   Query q = qp.parse("tra* AND pro*");
>   m_LastQuery = q; //server memorises the last data
> query
> etc, etc. The server responds to the client with an
> array of KEYs, in this exemple "123".
> 
> Receving a retrieve command e.g. "retrieve 123", the
> server constructs another Query "KEY:123", retrieves
> the DOCPATH from the obtained Document, re-reads the
> file and re-extracts its content (this is perhaps
> what Tom Dunstan calls in his mail "reparsing at
> runtime"?) and writes it to a String, let us
> suppose, a variable called sText contains the
> content of the found file, i.e. sText="i have to
> go...". At this moment i would like to apply a tool
> in order to construct an "array of positions"
> indicating the positions and the lengths of the
> tokens of the last memorised data query. In this
> exemple the last memorised data query is "tra* AND
> pro*", the tokens of this query are "transports" and
> "protesting", the "array of positions" must be :
> "57,10;111,10", then the first 't' of 'transports'
> is the 57th character in the string "i have to
> go..." and the length of the word "transports" is 10
> etc, etc.
> 
> So i call the function highlightTerms in
> de.iqcomputing.lucene.LuceneTools (Maik Schreiber's
> class, lightly modified) :
>   ArrayList aop = new ArrayList();
>   LuceneTools.highlightTerms(sText, m_LastQuery,
> azer, aop);
> 
> A schematised excerpt of his function :
> 
> public String highlightTerms(
>   String p_sText, //"i have to go..."
>   Query p_Query, //"tra* AND pro*"
>   Analyzer p_Azer,
>   ArrayList p_aop) //"array of pos"
> {
> ...
>   TokenStream stream = null;
>   HashSet terms = new HashSet();
>   org.apache.lucene.analysis.Token token;
>   int startOffset, endOffset;
> 
>   getTerms(p_Query, terms, false);
> 
>   StringReader sr = new StringReader(p_sText);
>   stream = analyzer.tokenStream(sr);
>   while ((token = stream.next()) != null) {
>     startOffset = token.startOffset();
>     endOffset = token.endOffset();
>     if (terms.contains(token.termText())) {
>       //add startOffset to p_aop
>       //but it is always 0
>     }
>   }
> ...
> }
> 
> The call to "getTerms" collects all the terms
> figuring in the Query (this is why many Lucene
> classes must be modified in order to access
> "private" informations within the classes), i.e.
> after the call to getTerms we have in the HashSet
> "terms" the two terms of the last Query :
> "transports" and "protesting". Then a TokenStream is
> created from p_sText etc etc. The problem is,
> startOffset is always 0 (zero) and, therefore, the
> "array of positions" will be completely wrong
> (contains only zeros). You say, you have never
> encountered a similar problem, do you see why it
> deconnes here and why it works correctly in your
> context? I would be grateful to anybody for any
> help, because we are here in the big Schlamassel
> whitout these highlighting feature...
> 
> Arpad KATONA
> --
> a.katona@ever-team.com
> 
> PS: sorry for the lamentable english, i hope it is
> comprehensible anyway...
> 
> -----Message d'origine-----
> De : Shoba Ramachandran
> [mailto:shoba_duruvan@yahoo.com]
> Envoy : lundi 12 mai 2003 20:59
>  : Lucene Users List
> Objet : Re: Highlighting, startOffset, endOffset
> 
> 
> I'm using this termhighlighter and never got any
> problem. Could you be elaborate on how you are using
> it.
> 
> -Shoba
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4449-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 15:24:36 2003
Return-Path: <lucene-user-return-4449-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46198 invoked from network); 13 May 2003 15:24:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 15:24:36 -0000
Received: (qmail 13164 invoked by uid 97); 13 May 2003 15:26:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13157 invoked from network); 13 May 2003 15:26:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 15:26:41 -0000
Received: (qmail 40334 invoked by uid 500); 13 May 2003 15:23:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40250 invoked from network); 13 May 2003 15:23:01 -0000
Received: from web40112.mail.yahoo.com (66.218.78.46)
  by daedalus.apache.org with SMTP; 13 May 2003 15:23:01 -0000
Message-ID: <20030513152303.82809.qmail@web40112.mail.yahoo.com>
Received: from [163.188.121.119] by web40112.mail.yahoo.com via HTTP; Tue, 13 May 2003 08:23:03 PDT
Date: Tue, 13 May 2003 08:23:03 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: RE: Highlighting, startOffset, endOffset
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E9EE029E3896D511A2AA0002A589953003A96552@bruex4.eu.levi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michel,

I used it to highlight the terms in the summary on my
search results.
I have not tried to open excel file with terms
hightlighted in its content.

Shoba
--- MMachado@LEVI.com wrote:
> If I use my search engine is possible to highlight
> the string in an excel
> file and open it?
> Michel
> 
> -----Original Message-----
> From: Shoba Ramachandran
> [mailto:shoba_duruvan@yahoo.com] 
> Sent: Monday, May 12, 2003 8:59 PM
> To: Lucene Users List
> Subject: Re: Highlighting, startOffset, endOffset
> 
> I'm using this termhighlighter and never got any
> problem. Could you be elaborate on how you are using
> it.
> 
> -Shoba
> --- Arpad KATONA <a.katona@ever-team.com> wrote:
> > Hello Lucene Users,
> > 
> > in order to highlighting terms in a text, i try to
> > use Maik Schreiber's highlighting solution see
> "Term
> > Highlighter" on :
> >
>
http://jakarta.apache.org/lucene/docs/contributions.html
> > .
> > It is based on the "startOffset" and "endOffset"
> > functions of the
> "org.apache.lucene.analysis.Token"
> > class, see the short code sample below.
> > 
> > org.apache.lucene.analysis.Token token;
> > TokenStream stream = analyzer.tokenStream(new
> > StringReader(text));
> > while ((token = stream.next()) != null) {
> >   int startOffset = token.startOffset();
> >   int endOffset = token.endOffset();
> > ...
> > }
> > 
> > The problem is, that these functions "startOffset"
> > and "endOffset" seem to return always 0, do you
> see
> > why? In the mails archive there is only one mail
> > that treats this thema : 
> >
>
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apac
> he.org&msgId=489630
> > From: Tom Dunstan
> > Subject: Excerpts
> > Date: Tue, 1 Oct 2002 12:19:29 +0930
> > 
> > but the sender seems to have never got an answer
> to
> > his mail...
> > 
> > Thank you im voraus
> > 
> > Arpad KATONA
> > a.katona@ever-team.com
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4450-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 15:56:57 2003
Return-Path: <lucene-user-return-4450-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32545 invoked from network); 13 May 2003 15:56:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 15:56:57 -0000
Received: (qmail 14327 invoked by uid 97); 13 May 2003 15:59:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14320 invoked from network); 13 May 2003 15:59:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 15:59:03 -0000
Received: (qmail 32277 invoked by uid 500); 13 May 2003 15:56:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32253 invoked from network); 13 May 2003 15:56:52 -0000
Received: from web13108.mail.yahoo.com (216.136.174.153)
  by daedalus.apache.org with SMTP; 13 May 2003 15:56:52 -0000
Message-ID: <20030513155655.21116.qmail@web13108.mail.yahoo.com>
Received: from [65.118.208.6] by web13108.mail.yahoo.com via HTTP; Tue, 13 May 2003 08:56:55 PDT
Date: Tue, 13 May 2003 08:56:55 -0700 (PDT)
From: david chan <david_tomcat@yahoo.com>
Subject: name search from Oracle to Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030513152303.82809.qmail@web40112.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
 I have a table with more than 1 million records, I
need to some search on these three fields: firstname,
lastname, nickname
 Now when I try to search these names from Oracle with
some keyword "like%", or function for "upper" to
ignore case compare, these kind of query become very
slow even these name fields are indexed. One reason is
because these function "like", "upper" not using the
index.
 I wonder it can be done better in Lucene, anyone can
give me some idea how name search (partial name
search, firstname search, lastname search, nickname
search, or combination search) can be done?
 I am thinking to dump this big oracle table to a
plain text file, then read in and index by using
Lucene. But now sure how to arrange these fields to
get a good/fast result.

Thanks.
David

__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4451-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 16:08:52 2003
Return-Path: <lucene-user-return-4451-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56404 invoked from network); 13 May 2003 16:08:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 16:08:52 -0000
Received: (qmail 14774 invoked by uid 97); 13 May 2003 16:10:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14767 invoked from network); 13 May 2003 16:10:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 16:10:58 -0000
Received: (qmail 56110 invoked by uid 500); 13 May 2003 16:08:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56095 invoked from network); 13 May 2003 16:08:47 -0000
Received: from tdsupport.ksc.nasa.gov (163.205.16.2)
  by daedalus.apache.org with SMTP; 13 May 2003 16:08:47 -0000
Received: from tdryan (tdryan.ksc.nasa.gov [163.205.143.13])
	by tdsupport.ksc.nasa.gov (8.11.6/8.11.6) with SMTP id h4DBDvv18827
	for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 07:13:58 -0400
Message-ID: <000701c3196a$712f2a10$0d8fcda3@tdryan>
Reply-To: "Ryan Ackley" <sackley@apache.org>
From: "Ryan Ackley" <sackley@cfl.rr.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030513155655.21116.qmail@web13108.mail.yahoo.com>
Subject: Re: name search from Oracle to Lucene
Date: Tue, 13 May 2003 12:12:24 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I would think that the keyword like is definitely using the index. One thing
that will slow down wildcard searches is the use of a wildcard in the
beginning of a string. like "%smith"  this is a very slow query that does
not use the index

----- Original Message ----- 
From: "david chan" <david_tomcat@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, May 13, 2003 11:56 AM
Subject: name search from Oracle to Lucene


> Hi,
>  I have a table with more than 1 million records, I
> need to some search on these three fields: firstname,
> lastname, nickname
>  Now when I try to search these names from Oracle with
> some keyword "like%", or function for "upper" to
> ignore case compare, these kind of query become very
> slow even these name fields are indexed. One reason is
> because these function "like", "upper" not using the
> index.
>  I wonder it can be done better in Lucene, anyone can
> give me some idea how name search (partial name
> search, firstname search, lastname search, nickname
> search, or combination search) can be done?
>  I am thinking to dump this big oracle table to a
> plain text file, then read in and index by using
> Lucene. But now sure how to arrange these fields to
> get a good/fast result.
>
> Thanks.
> David
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4452-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 16:09:01 2003
Return-Path: <lucene-user-return-4452-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57122 invoked from network); 13 May 2003 16:09:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 16:09:00 -0000
Received: (qmail 14787 invoked by uid 97); 13 May 2003 16:11:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14780 invoked from network); 13 May 2003 16:11:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 16:11:06 -0000
Received: (qmail 56417 invoked by uid 500); 13 May 2003 16:08:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56387 invoked from network); 13 May 2003 16:08:52 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 13 May 2003 16:08:52 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 72128371
	for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 12:08:54 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 3C7CE1257; Tue, 13 May 2003 12:08:54 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 1A7241250
	for <lucene-user@jakarta.apache.org>; Tue, 13 May 2003 12:08:54 -0400 (EDT)
Date: Tue, 13 May 2003 12:08:53 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: name search from Oracle to Lucene
In-Reply-To: <20030513155655.21116.qmail@web13108.mail.yahoo.com>
Message-ID: <Pine.GSO.4.53.0305131207260.1765@fury.csh.rit.edu>
References: <20030513155655.21116.qmail@web13108.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Not to veer you from lucene but have you tried Oracle's function based
indexes which can use an index for like and upper.

Examples are here
http://osi.oracle.com/~tkyte/article1/index.html

Ben



On Tue, 13 May 2003, david chan wrote:

> Hi,
>  I have a table with more than 1 million records, I
> need to some search on these three fields: firstname,
> lastname, nickname
>  Now when I try to search these names from Oracle with
> some keyword "like%", or function for "upper" to
> ignore case compare, these kind of query become very
> slow even these name fields are indexed. One reason is
> because these function "like", "upper" not using the
> index.
>  I wonder it can be done better in Lucene, anyone can
> give me some idea how name search (partial name
> search, firstname search, lastname search, nickname
> search, or combination search) can be done?
>  I am thinking to dump this big oracle table to a
> plain text file, then read in and index by using
> Lucene. But now sure how to arrange these fields to
> get a good/fast result.
>
> Thanks.
> David
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4453-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 16:13:27 2003
Return-Path: <lucene-user-return-4453-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67639 invoked from network); 13 May 2003 16:13:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 16:13:26 -0000
Received: (qmail 14975 invoked by uid 97); 13 May 2003 16:15:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14967 invoked from network); 13 May 2003 16:15:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 16:15:32 -0000
Received: (qmail 67371 invoked by uid 500); 13 May 2003 16:13:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67360 invoked from network); 13 May 2003 16:13:23 -0000
Received: from mail.musicnet.com (HELO mailrelay1.musicnet.com) (66.7.150.11)
  by daedalus.apache.org with SMTP; 13 May 2003 16:13:23 -0000
Received: (qmail 9172 invoked from network); 13 May 2003 16:17:22 -0000
Received: from unknown (HELO exchange.musicnet.com) (192.168.254.1)
  by 0 with SMTP; 13 May 2003 16:17:22 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: name search from Oracle to Lucene
Date: Tue, 13 May 2003 09:13:26 -0700
Message-ID: <AB1D57593C435D4C98079A126074BC10017EE828@EXCHANGE.musicnet.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: name search from Oracle to Lucene
Thread-Index: AcMZaExg9r3DiMsvTu+bsub1aNf87AAAVwwg
From: "Catalin Teodorescu" <cteodorescu@MusicNet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If you have a table with a column NAME and an index on this columns =
then:
1. select NAME from T where NAME like "a%" will USE the index
2. select NAME from T where NAME like "%a" will NOT USE the index
3. select NAME from T where NAME like "%a%" will NOT USE the index
4. select NAME from T where NAME like upper("a%") will NOT USE the index
   for this you have to create a function index with function being =
upper(name) (see oracle documentation)
   another alternative will be to have a different column NAME_UPPER and =
use this one for searches.

Now depending on your need (complex search criteria: partial matches, =
ANDs, ORs ... a straight index will not help).
Another alternative is to use Oracle Intermedia.

You can also try lucene. It is great.

We have such tables/searches and we are indexing them with lucene and =
the searches are very fast.
Basically we have an app doing the indexing and a lot of other servers =
doing the searches.

Catalin

-----Original Message-----
From: david chan [mailto:david_tomcat@yahoo.com]
Sent: Tuesday, May 13, 2003 08:57 AM
To: Lucene Users List
Subject: name search from Oracle to Lucene


Hi,
 I have a table with more than 1 million records, I
need to some search on these three fields: firstname,
lastname, nickname
 Now when I try to search these names from Oracle with
some keyword "like%", or function for "upper" to
ignore case compare, these kind of query become very
slow even these name fields are indexed. One reason is
because these function "like", "upper" not using the
index.
 I wonder it can be done better in Lucene, anyone can
give me some idea how name search (partial name
search, firstname search, lastname search, nickname
search, or combination search) can be done?
 I am thinking to dump this big oracle table to a
plain text file, then read in and index by using
Lucene. But now sure how to arrange these fields to
get a good/fast result.

Thanks.
David

__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4454-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 16:54:02 2003
Return-Path: <lucene-user-return-4454-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46112 invoked from network); 13 May 2003 16:54:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 16:54:02 -0000
Received: (qmail 16181 invoked by uid 97); 13 May 2003 16:56:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16174 invoked from network); 13 May 2003 16:56:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 16:56:08 -0000
Received: (qmail 42587 invoked by uid 500); 13 May 2003 16:53:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42525 invoked from network); 13 May 2003 16:53:13 -0000
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by daedalus.apache.org with SMTP; 13 May 2003 16:53:13 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
Subject: RE: name search from Oracle to Lucene
Date: Tue, 13 May 2003 12:57:56 -0400
Message-ID: <A0CFB0236E6D2C4B8AD04B52938BB39E24B805@germany.prod.thop-ny.triplehop.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: name search from Oracle to Lucene
Thread-Index: AcMZaPQYWA1emOp2SZiqs+KE0TmfiwAB4kW/
From: "Hui Ouyang" <hui@triplehop.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

THVjZW5lIGlzIG9uZSBzb2x1dGlvbi4gSm9pbiB0aGUgcmVzdWx0cyBmcm9tIE9yYWNsZSBTUUwg
cXVlcnkgYW5kIEx1Y2VuZSBtYXkgYmUgYW4gaXNzdWUoYXQgbGVhc3QgZnJvbSBwZXJmb3JtYW5j
ZSBwb2ludCB2aWV3KS4NCiBBbm90aGVyIHNvbHV0aW9uIGlzIE9yYWNsZSBpbnRlcm1lZGlhIGZ1
bGwgdGV4dCBlbmdpbmUgd2hpY2ggYWxsb3dzIHlvdSB0byBkbyBmdWxsIHRleHQgaW5kZXhpbmcg
b24gb25lIGNvbHVtbi4gDQogDQpSZWdhcmRzLA0KSHVpIE91eWFuZw0KDQoJLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0gDQoJRnJvbTogZGF2aWQgY2hhbiBbbWFpbHRvOmRhdmlkX3RvbWNhdEB5
YWhvby5jb21dIA0KCVNlbnQ6IFR1ZSA1LzEzLzIwMDMgMTE6NTYgQU0gDQoJVG86IEx1Y2VuZSBV
c2VycyBMaXN0IA0KCUNjOiANCglTdWJqZWN0OiBuYW1lIHNlYXJjaCBmcm9tIE9yYWNsZSB0byBM
dWNlbmUNCgkNCgkNCg0KCUhpLA0KCSBJIGhhdmUgYSB0YWJsZSB3aXRoIG1vcmUgdGhhbiAxIG1p
bGxpb24gcmVjb3JkcywgSQ0KCW5lZWQgdG8gc29tZSBzZWFyY2ggb24gdGhlc2UgdGhyZWUgZmll
bGRzOiBmaXJzdG5hbWUsDQoJbGFzdG5hbWUsIG5pY2tuYW1lDQoJIE5vdyB3aGVuIEkgdHJ5IHRv
IHNlYXJjaCB0aGVzZSBuYW1lcyBmcm9tIE9yYWNsZSB3aXRoDQoJc29tZSBrZXl3b3JkICJsaWtl
JSIsIG9yIGZ1bmN0aW9uIGZvciAidXBwZXIiIHRvDQoJaWdub3JlIGNhc2UgY29tcGFyZSwgdGhl
c2Uga2luZCBvZiBxdWVyeSBiZWNvbWUgdmVyeQ0KCXNsb3cgZXZlbiB0aGVzZSBuYW1lIGZpZWxk
cyBhcmUgaW5kZXhlZC4gT25lIHJlYXNvbiBpcw0KCWJlY2F1c2UgdGhlc2UgZnVuY3Rpb24gImxp
a2UiLCAidXBwZXIiIG5vdCB1c2luZyB0aGUNCglpbmRleC4NCgkgSSB3b25kZXIgaXQgY2FuIGJl
IGRvbmUgYmV0dGVyIGluIEx1Y2VuZSwgYW55b25lIGNhbg0KCWdpdmUgbWUgc29tZSBpZGVhIGhv
dyBuYW1lIHNlYXJjaCAocGFydGlhbCBuYW1lDQoJc2VhcmNoLCBmaXJzdG5hbWUgc2VhcmNoLCBs
YXN0bmFtZSBzZWFyY2gsIG5pY2tuYW1lDQoJc2VhcmNoLCBvciBjb21iaW5hdGlvbiBzZWFyY2gp
IGNhbiBiZSBkb25lPw0KCSBJIGFtIHRoaW5raW5nIHRvIGR1bXAgdGhpcyBiaWcgb3JhY2xlIHRh
YmxlIHRvIGENCglwbGFpbiB0ZXh0IGZpbGUsIHRoZW4gcmVhZCBpbiBhbmQgaW5kZXggYnkgdXNp
bmcNCglMdWNlbmUuIEJ1dCBub3cgc3VyZSBob3cgdG8gYXJyYW5nZSB0aGVzZSBmaWVsZHMgdG8N
CglnZXQgYSBnb29kL2Zhc3QgcmVzdWx0Lg0KCQ0KCVRoYW5rcy4NCglEYXZpZA0KCQ0KCV9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCglEbyB5b3UgWWFob28hPw0KCVRoZSBOZXcg
WWFob28hIFNlYXJjaCAtIEZhc3Rlci4gRWFzaWVyLiBCaW5nby4NCglodHRwOi8vc2VhcmNoLnlh
aG9vLmNvbQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2Vu
ZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlvbmFsIGNv
bW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3JnDQoJDQoJ
DQoNCg==


From lucene-user-return-4455-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 13 18:38:00 2003
Return-Path: <lucene-user-return-4455-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96643 invoked from network); 13 May 2003 18:38:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 May 2003 18:38:00 -0000
Received: (qmail 19656 invoked by uid 97); 13 May 2003 18:40:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19649 invoked from network); 13 May 2003 18:40:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 13 May 2003 18:40:07 -0000
Received: (qmail 90499 invoked by uid 500); 13 May 2003 18:36:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90419 invoked from network); 13 May 2003 18:36:28 -0000
Received: from web13102.mail.yahoo.com (216.136.174.147)
  by daedalus.apache.org with SMTP; 13 May 2003 18:36:28 -0000
Message-ID: <20030513183633.16271.qmail@web13102.mail.yahoo.com>
Received: from [65.118.208.6] by web13102.mail.yahoo.com via HTTP; Tue, 13 May 2003 11:36:33 PDT
Date: Tue, 13 May 2003 11:36:33 -0700 (PDT)
From: david chan <david_tomcat@yahoo.com>
Subject: Re: name search from Oracle to Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.GSO.4.53.0305131207260.1765@fury.csh.rit.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Function index will solve my problem easier.

Thanks.
David

--- Ben Litchfield <ben@csh.rit.edu> wrote:
> 
> Not to veer you from lucene but have you tried
> Oracle's function based
> indexes which can use an index for like and upper.
> 
> Examples are here
> http://osi.oracle.com/~tkyte/article1/index.html
> 
> Ben
> 
> 
> 
> On Tue, 13 May 2003, david chan wrote:
> 
> > Hi,
> >  I have a table with more than 1 million records,
> I
> > need to some search on these three fields:
> firstname,
> > lastname, nickname
> >  Now when I try to search these names from Oracle
> with
> > some keyword "like%", or function for "upper" to
> > ignore case compare, these kind of query become
> very
> > slow even these name fields are indexed. One
> reason is
> > because these function "like", "upper" not using
> the
> > index.
> >  I wonder it can be done better in Lucene, anyone
> can
> > give me some idea how name search (partial name
> > search, firstname search, lastname search,
> nickname
> > search, or combination search) can be done?
> >  I am thinking to dump this big oracle table to a
> > plain text file, then read in and index by using
> > Lucene. But now sure how to arrange these fields
> to
> > get a good/fast result.
> >
> > Thanks.
> > David
> >
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4456-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 00:13:38 2003
Return-Path: <lucene-user-return-4456-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97392 invoked from network); 14 May 2003 00:13:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 00:13:38 -0000
Received: (qmail 27710 invoked by uid 97); 14 May 2003 00:15:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27703 invoked from network); 14 May 2003 00:15:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 00:15:49 -0000
Received: (qmail 97122 invoked by uid 500); 14 May 2003 00:13:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97111 invoked from network); 14 May 2003 00:13:34 -0000
Received: from oe41.law9.hotmail.com (HELO hotmail.com) (64.4.8.98)
  by daedalus.apache.org with SMTP; 14 May 2003 00:13:34 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 13 May 2003 17:13:42 -0700
Received: from 61.140.189.111 by law9-oe41.adinternal.hotmail.com with DAV;
	Wed, 14 May 2003 00:13:42 +0000
X-Originating-IP: [61.140.189.111]
X-Originating-Email: [keelkerr@hotmail.com]
From: "kerr" <keelkerr@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030513155655.21116.qmail@web13108.mail.yahoo.com>
Subject: Try to use Lucene for database
Date: Wed, 14 May 2003 08:10:56 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Message-ID: <Law9-OE41USzbAUfKRf00009bad@hotmail.com>
X-OriginalArrivalTime: 14 May 2003 00:13:42.0786 (UTC) FILETIME=[AD872E20:01C319AD]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

aGkgYWxsLA0KcmVjZW50bHksIEkgdHJ5IHRvIHVzZSBsdWNlbmUgYXMgYSBmdWxsIHRleHQgc2Vh
cmNoIGVuZ2luZSBmb3IgZGVmaW5lZCBmaWVsZHMsIG1vc3RseSBhcmUgYmxvYiB0eXBlLCBpbiBk
YXRhYmFzZS4gQSB0YWJsZSwgbGlrZSAiY3JlYXRlIHRhYmxlIGluZGV4ZmllbGRzKCB0YWJsZW5h
bWUgdmFyY2hhcigyMCksICBrZXluYW1lICB2YXJjaGFyKDEwMCksIGZpZWxkICB2YXJjaGFyKDIw
KSk7IiAgdG8gZGVmaW5lIGFueSBmaWVsZCBJIHdhbnQgdG8gaW5kZXgsIHRoZW4gbG9vayBlYWNo
IGZpZWxkIGFzIGEgZmlsZS4gVGhlbiBpdCB3b3Jrcy4gQnV0IGNhbid0IGluY3JlbWVudGFsIHVw
ZGF0ZSwgYmVjYXVzZSB0aGUgY2hhbmdpbmcgb2YgZGF0YSBpbiBkYXRhYmFzZSBkb24ndCBoYXZl
IGEgbGFzdC1tb2RpZmllZCBzaWduLiBTbyBJIHRoaW5rIGl0J3MgdXNlbGVzcy4gQW55b25lIGhh
dmUgYmV0dGVyIHdheS4NClRoYW5rcy4NCiAgICAgS2Vycg==


From lucene-user-return-4457-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 00:51:51 2003
Return-Path: <lucene-user-return-4457-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26132 invoked from network); 14 May 2003 00:51:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 00:51:50 -0000
Received: (qmail 28022 invoked by uid 97); 14 May 2003 00:54:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28015 invoked from network); 14 May 2003 00:54:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 00:54:02 -0000
Received: (qmail 25832 invoked by uid 500); 14 May 2003 00:51:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25819 invoked from network); 14 May 2003 00:51:47 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 14 May 2003 00:51:47 -0000
Received: from kelvin (adsl-210-193-14-56.qala.com.sg [210.193.14.56])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h4E0pn711508
	for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 08:51:49 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Wed, 14 May 2003 08:53:26 +0800
In-Reply-To: <DA2B6D85-852A-11D7-9989-000393A564E6@ehatchersolutions.com>
Message-ID: <200351485326.993581@kelvin>
Subject: Re: Searching on multiple default fields
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I confess that I've never quite understood the use of=
 Field.UnStored. So the 
field is indexed but the original content is not saved? 

btw, an obvious drawback of this approach is when attempting to=
 index large 
files (>10MB for instance), because it means you'll actually be=
 indexing it 
twice. If use is just for normal fields, its great.

Kelvin

On Tue, 13 May 2003 06:08:32 -0400, Erik Hatcher said:
>Or as is often seen with Lucene usage, all fields can be glued
>together
>into a "contents" field, which is then used as the default=
 search
>field
>like this:
>
>doc.add(Field.Text("title", title));
>doc.add(Field.UnIndexed("body", body));
>doc.add(Field.Keyword("category",category));
>
>doc.add(Field.UnStored("contents", title +
>" " + body +
>" " + category));
>
>This gives individual field access if desired, but by default=
 any
>field
>is searchable by one aggregate one.  Note the space added=
 between
>text
>on the "contents" field above!
>
>    Erik
>
>On Tuesday, May 13, 2003, at 03:40  AM, Kelvin Tan wrote:
>>You can use MultiFieldQueryParser to accomplish something to=
 that
>>effect...
>>
>>Kelvin
>>
>>On Tue, 13 May 2003 13:05:42 +0530, Ramrakhiani, Vikas said:
>>>Hi,
>>>
>>>I am using Lucene 1.3. I want the 'default' search field to=
 point
>>>to
>>>multiple fields (actually, all available fields).
>>>Is there API support to accomplish this ?
>>>
>>>thanks for your help,
>>>vikas.
>>>
>>>--------------------------------------------------------------=
-----
>>>--
>>>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-
>>>help@jakarta.apache.org
>>
>>
>>
>>
>>
>>---------------------------------------------------------------=
-----
>>-
>>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-
>>help@jakarta.apache.org
>>
>
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4458-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 03:12:54 2003
Return-Path: <lucene-user-return-4458-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34330 invoked from network); 14 May 2003 03:12:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 03:12:54 -0000
Received: (qmail 2988 invoked by uid 97); 14 May 2003 03:15:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2980 invoked from network); 14 May 2003 03:15:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 03:15:07 -0000
Received: (qmail 34074 invoked by uid 500); 14 May 2003 03:12:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34061 invoked from network); 14 May 2003 03:12:51 -0000
Received: from mzpi4.forethought.net (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 14 May 2003 03:12:51 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 19FmhR-0000KK-0k
	for lucene-user@jakarta.apache.org; Tue, 13 May 2003 21:13:01 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Searching on multiple default fields
Date: Tue, 13 May 2003 21:20:25 -0600
User-Agent: KMail/1.4.3
References: <200351485326.993581@kelvin>
In-Reply-To: <200351485326.993581@kelvin>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305132120.25755.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday 13 May 2003 18:53, Kelvin Tan wrote:
> I confess that I've never quite understood the use of Field.UnStored. So
> the field is indexed but the original content is not saved?

Actually, that makes lots of sense in many cases. For example, original 
content is likely to be already stored in a database, to be accessed by 
non-search functionality, using normal SQL (etC) access. But searches are 
indexed using Lucene, because of its greater flexibility (OracleText, 
formerly known as Intermedia has similar features, but its proprietary... 
other DBs may have similar proprietary extensions). This way content won't be 
stored twice. Similarly, for web pages, pages are likely to already exist in 
the file system. Why store a duplicate in the index?

In fact I think more often than not storing content in Lucene index doesn't 
make much sense. As long as content is stored somewhere from where it can 
easily be accessed (using unique id or so), chances are that searches (not to 
mention indexing) are also faster when content is not stored, just indexed?

Just my 2 cents,

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4459-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 04:07:15 2003
Return-Path: <lucene-user-return-4459-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77574 invoked from network); 14 May 2003 04:07:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 04:07:15 -0000
Received: (qmail 6712 invoked by uid 97); 14 May 2003 04:09:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6705 invoked from network); 14 May 2003 04:09:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 04:09:28 -0000
Received: (qmail 77295 invoked by uid 500); 14 May 2003 04:07:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77284 invoked from network); 14 May 2003 04:07:12 -0000
Received: from mail8.atl.registeredsite.com (64.224.219.82)
  by daedalus.apache.org with SMTP; 14 May 2003 04:07:12 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.16])
	by mail8.atl.registeredsite.com (8.12.8/8.12.6) with ESMTP id h4E47LTw021004
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 00:07:21 -0400
Received: (qmail 73211 invoked by uid 89); 14 May 2003 04:07:14 -0000
Received: from unknown (HELO ehatchersolutions.com) (24.51.109.120)
  by 216.122.69.20 with SMTP; 14 May 2003 04:07:14 -0000
Date: Wed, 14 May 2003 00:07:22 -0400
Subject: Re: Searching on multiple default fields
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <200351485326.993581@kelvin>
Message-Id: <904058DF-85C1-11D7-9924-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tuesday, May 13, 2003, at 08:53  PM, Kelvin Tan wrote:
> I confess that I've never quite understood the use of Field.UnStored. 
> So the
> field is indexed but the original content is not saved?

In my code that I pulled that example from, I store data in another 
field ("body") but do not search on that field (since it is HTML 
content).  I modified the example slightly to paste in the e-mail, and 
I actually glue bodyText into the "contents" field.  bodyText is the 
text-only part of "body".  There is some duplication, agreed, but so 
far performance has not at all been an issue.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4460-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 08:44:08 2003
Return-Path: <lucene-user-return-4460-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74605 invoked from network); 14 May 2003 08:44:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 08:44:07 -0000
Received: (qmail 14219 invoked by uid 97); 14 May 2003 08:46:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14212 invoked from network); 14 May 2003 08:46:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 08:46:23 -0000
Received: (qmail 74325 invoked by uid 500); 14 May 2003 08:44:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74288 invoked from network); 14 May 2003 08:44:02 -0000
Received: from master.hyd.deshaw.com (149.77.160.1)
  by daedalus.apache.org with SMTP; 14 May 2003 08:44:02 -0000
Received: from mshyd2.hyd.deshaw.com (mshyd2.hyd.deshaw.com [149.77.160.27])
 by master.hyd.deshaw.com (8.12.7/8.9.3/2.0.kim) with ESMTP id h4E8iCj7018945
 for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 14:14:13 +0530 (IST)
Received: by mshyd2.hyd.deshaw.com with Internet Mail Service (5.5.2653.19)
	id <J4JASJQN>; Wed, 14 May 2003 14:14:12 +0530
Message-ID: <21559A0D4CF8D511B51100065B38178BA0E3C9@mshyd2.hyd.deshaw.com>
From: "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching on multiple default fields
Date: Wed, 14 May 2003 14:14:05 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I observed that when I use parse(QueryString, Fields[], Analyser) my
DEFALUT_BOOLEAN_OPERATOR  is changed to OR although I had set it to AND.

            MultiFieldQueryParser qp = 
                new MultiFieldQueryParser("content", myAnalyzer);  
            //QueryParser qp = 
            //new QueryParser("content", myAnalyzer);

            qp.setOperator(MultiFieldQueryParser.DEFAULT_OPERATOR_AND);
            System.out.println("Default operator is: " + qp.getOperator());

            String[] fields = getFieldList();
            System.out.println("fields: " + fields);
            
            query = qp.parse(queryString, fields, myAnalyzer);
            //query = qp.parse(queryString);

            System.out.println("The lucene query: " + query.toString(""));

Any reason for this ?

thanks for your help,
vikas.

-----Original Message-----
From: Kelvin Tan [mailto:kelvin-lists@relevanz.com]
Sent: Tuesday, May 13, 2003 1:11 PM
To: Lucene Users List
Subject: Re: Searching on multiple default fields


You can use MultiFieldQueryParser to accomplish something to that effect...

Kelvin

On Tue, 13 May 2003 13:05:42 +0530, Ramrakhiani, Vikas said:
>Hi,
>
>I am using Lucene 1.3. I want the 'default' search field to point to
>multiple fields (actually, all available fields).
>Is there API support to accomplish this ?
>
>thanks for your help,
>vikas.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4461-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 09:47:48 2003
Return-Path: <lucene-user-return-4461-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63090 invoked from network); 14 May 2003 09:47:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 09:47:48 -0000
Received: (qmail 15740 invoked by uid 97); 14 May 2003 09:50:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15733 invoked from network); 14 May 2003 09:50:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 09:50:04 -0000
Received: (qmail 62842 invoked by uid 500); 14 May 2003 09:47:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62818 invoked from network); 14 May 2003 09:47:43 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 14 May 2003 09:47:43 -0000
Received: from kelvin (adsl-210-193-14-56.qala.com.sg [210.193.14.56])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h4E9lQ716557
	for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 17:47:26 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Wed, 14 May 2003 17:48:51 +0800
In-Reply-To: <21559A0D4CF8D511B51100065B38178BA0E3C9@mshyd2.hyd.deshaw.com>
Message-ID: <2003514174851.986307@kelvin>
Subject: RE: Searching on multiple default fields
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

ack. THe DEFAULT_BOOLEAN_OPERATOR field is inherited from=
 QueryParser and isn't 
used by MultiFieldQueryParser at all. The javadocs of the parse=
 method in MFQP 
says...

     * Parses a query, searching on the fields specified.
     * Use this if you need to specify certain fields as=
 required,
     * and others as prohibited.
     * <p><pre>
     * Usage:
     * <code>
     * String[] fields =3D {"filename", "contents",=
 "description"};
     * int[] flags =3D {MultiFieldQueryParser.NORMAL FIELD,
     *                MultiFieldQueryParser.REQUIRED FIELD,
     *                MultiFieldQueryParser.PROHIBITED FIELD,};
     * parse(query, fields, flags, analyzer);
     * </code>
     * </pre>
     *<p>
     * The code above would construct a query:
     * <pre>
     * <code>
     * (filename:query) +(contents:query) -(description:query)
     * </code>
     * </pre>

HTH

Kelvin

On Wed, 14 May 2003 14:14:05 +0530, Ramrakhiani, Vikas said:
>I observed that when I use parse(QueryString, Fields[],=
 Analyser) my
>DEFALUT_BOOLEAN_OPERATOR  is changed to OR although I had set it=
 to
>AND.
>
>MultiFieldQueryParser qp =3D
>new MultiFieldQueryParser("content", myAnalyzer);  
>//QueryParser qp =3D
>//new QueryParser("content", myAnalyzer);
>
>qp.setOperator(MultiFieldQueryParser.DEFAULT_OPERATOR_AND);
>
>System.out.println("Default operator is: " +
>qp.getOperator());
>
>String[] fields =3D getFieldList();
>System.out.println("fields: " + fields);
>
>query =3D qp.parse(queryString, fields, myAnalyzer);
>//query =3D qp.parse(queryString);
>
>System.out.println("The lucene query: " +
>query.toString(""));
>
>Any reason for this ?
>
>thanks for your help,
>vikas.
>
>-----Original Message-----
>From: Kelvin Tan [mailto:kelvin-lists@relevanz.com]
>Sent: Tuesday, May 13, 2003 1:11 PM
>To: Lucene Users List
>Subject: Re: Searching on multiple default fields
>
>
>You can use MultiFieldQueryParser to accomplish something to=
 that
>effect...
>
>Kelvin
>
>On Tue, 13 May 2003 13:05:42 +0530, Ramrakhiani, Vikas said:
>>Hi,
>>
>>I am using Lucene 1.3. I want the 'default' search field to=
 point to
>>multiple fields (actually, all available fields).
>>Is there API support to accomplish this ?
>>
>>thanks for your help,
>>vikas.
>>
>>---------------------------------------------------------------=
-----
>>-
>>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org
>
>
>
>
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4462-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 09:51:19 2003
Return-Path: <lucene-user-return-4462-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75205 invoked from network); 14 May 2003 09:51:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 09:51:18 -0000
Received: (qmail 15839 invoked by uid 97); 14 May 2003 09:53:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15832 invoked from network); 14 May 2003 09:53:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 09:53:34 -0000
Received: (qmail 74929 invoked by uid 500); 14 May 2003 09:51:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74916 invoked from network); 14 May 2003 09:51:14 -0000
Received: from visor.qala.com.sg (210.193.2.43)
  by daedalus.apache.org with SMTP; 14 May 2003 09:51:14 -0000
Received: from kelvin (adsl-210-193-14-56.qala.com.sg [210.193.14.56])
	by visor.qala.com.sg (8.11.3/8.11.3) with SMTP id h4E9pP717229
	for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 17:51:25 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 2
From: Kelvin Tan <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Wed, 14 May 2003 17:52:49 +0800
In-Reply-To: <200305132120.25755.tatu@hypermall.net>
Message-ID: <2003514175250.249852@kelvin>
Subject: Re: Searching on multiple default fields
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



On Tue, 13 May 2003 21:20:25 -0600, Tatu Saloranta said:
>On Tuesday 13 May 2003 18:53, Kelvin Tan wrote:
>>I confess that I've never quite understood the use of
>>Field.UnStored. So
>>the field is indexed but the original content is not saved?
<snip>
>This way content
>won't be
>stored twice. Similarly, for web pages, pages are likely to=
 already
>exist in
>the file system. Why store a duplicate in the index?
>
>In fact I think more often than not storing content in Lucene=
 index
>doesn't
>make much sense. As long as content is stored somewhere from=
 where
>it can
>easily be accessed (using unique id or so), chances are that
>searches (not to
>mention indexing) are also faster when content is not stored,=
 just
>indexed?
>

That's a very good point. I wonder why it didn't occur to me=
 previously. I 
suppose there are instances when it is expensive to retrieve the=
 source 
(network overhead etc), but they are the exception rather than=
 the norm. 

Thanks for the insight.

Kelvin

>Just my 2 cents,
>
>-+ Tatu +-
>
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4463-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 11:15:53 2003
Return-Path: <lucene-user-return-4463-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14436 invoked from network); 14 May 2003 11:15:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 11:15:53 -0000
Received: (qmail 17600 invoked by uid 97); 14 May 2003 11:17:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17593 invoked from network); 14 May 2003 11:17:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 11:17:56 -0000
Received: (qmail 14169 invoked by uid 500); 14 May 2003 11:15:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14143 invoked from network); 14 May 2003 11:15:49 -0000
Received: from unknown (HELO newgen.co.in) (203.168.76.148)
  by daedalus.apache.org with SMTP; 14 May 2003 11:15:49 -0000
Received: from nhweb.newgen.co.in ([203.168.76.5])
	by newgen.co.in (8.11.6/8.11.6) with ESMTP id h4EBJfo29553
	for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 16:49:41 +0530
Received: from ganesh (ws185.newgen.co.in [192.168.5.185])
	by nhweb.newgen.co.in (8.12.3/8.12.3/Debian -4) with SMTP id h4EBbRHT018397
	for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 17:07:28 +0530
Message-ID: <00d101c31a0a$09856c80$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Hits Object
Date: Wed, 14 May 2003 16:44:49 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00CE_01C31A38.22B11FF0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00CE_01C31A38.22B11FF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hai all,
  I want to know the default sorting order provided by the Hits Object.
  Whether the results are sorted by rank or not???

regards
ganesh

------=_NextPart_000_00CE_01C31A38.22B11FF0--


From lucene-user-return-4464-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 12:34:03 2003
Return-Path: <lucene-user-return-4464-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55503 invoked from network); 14 May 2003 12:34:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 12:34:02 -0000
Received: (qmail 20166 invoked by uid 97); 14 May 2003 12:36:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20159 invoked from network); 14 May 2003 12:36:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 12:36:06 -0000
Received: (qmail 55021 invoked by uid 500); 14 May 2003 12:33:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54997 invoked from network); 14 May 2003 12:33:52 -0000
Received: from lyon.ever-team.com (HELO lyon.ever.fr) (213.244.7.194)
  by daedalus.apache.org with SMTP; 14 May 2003 12:33:52 -0000
Received: from LYON-01.ever-team.com (lyon-01.ever-team.com [192.168.1.6])
	by lyon.ever.fr (8.12.9/8.12.9) with ESMTP id h4EETijL027319
	for <lucene-user@jakarta.apache.org>; Wed, 14 May 2003 16:29:44 +0200
content-class: urn:content-classes:message
Subject: RERE: RERE: Highlighting, startOffset, endOffset
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Wed, 14 May 2003 14:33:20 +0200
Message-ID: <1BE7364ABAF3A540AADA600B68C2C219775472@lyon-01.ever-team.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: RERE: Highlighting, startOffset, endOffset
Thread-Index: AcMZYonBtaHvf3IYRd+78K3taSa25AAqqBEQ
From: "Arpad KATONA" <a.katona@ever-team.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Shoba,

do you know the medieval song :

Orientis partibus
adventavit asinus
etc...

i really deserve to be called an "asinus", it is hard to do but i must =
APOLOGIZE to all the Lucene-Users for my mistake, i remember tavarish =
Otis Gospodnetic's e-mail on Wed, 2 Apr 2003 08:34:30 -0800 (PST) as he =
wrote : "Funny how this is the outcome of 90% of the problems people =
have with software - their own mistakes"...

In fact, the code i sent to the list runs fine, as you say. We are using =
here some "FrenchAnalyzer" and in the code i had run here on my computer =
there was that FrenchAnalyzer in stead of the StandardAnalyzer. In order =
to avoid embarrassing questions about "what is that french-thing you use =
there?" (nevertheless, even embarrassing questions might be sometimes =
helpful) i replaced "french" by "standard" in the sample code without =
testing the behavior of that piece of prog with StandardAnalyzer.

The fault is in our french-specific filters, as i began to look at the =
java source files (a work of an ex-Collegue of us), i found that in same =
places the tokens are created in this way e.g. :
  Token tok =3D new Token(sTxt, 0, sTxt.length(), "word");
it is not surprising if Token.startOffset() returns then always zero...

Well, one more funny anecdote on the Lucene Users Mailig List.

Pax

Arpad KATONA
--
a.katona@ever-team.com

-----Message d'origine-----
De : Shoba Ramachandran [mailto:shoba_duruvan@yahoo.com]
Envoy=E9 : mardi 13 mai 2003 17:16
=C0 : Lucene Users List
Objet : Re: RERE: Highlighting, startOffset, endOffset

Hi Arpad,

Tested your codes with this example. Seems to run fine....

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4465-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 13:08:55 2003
Return-Path: <lucene-user-return-4465-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5694 invoked from network); 14 May 2003 13:08:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 13:08:54 -0000
Received: (qmail 20943 invoked by uid 97); 14 May 2003 13:10:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20935 invoked from network); 14 May 2003 13:10:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 13:10:57 -0000
Received: (qmail 5081 invoked by uid 500); 14 May 2003 13:08:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4964 invoked from network); 14 May 2003 13:08:45 -0000
Received: from unknown (HELO titeuf.verticali.com) (195.202.202.7)
  by daedalus.apache.org with SMTP; 14 May 2003 13:08:45 -0000
Received: (qmail 6395 invoked by uid 0); 14 May 2003 13:08:43 -0000
Received: from unknown (HELO labate) (192.168.1.96)
  by titeuf.verticali.com with SMTP; 14 May 2003 13:08:43 -0000
From: "Adriano Labate" <labate@verticali.com>
To: <lucene-user@jakarta.apache.org>
Subject: Indexing documents for several languages
Date: Wed, 14 May 2003 15:08:04 +0200
Message-ID: <001d01c31a19$dac2a600$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am new to Lucene, I know this is already discussed in the list,=20
but I haven't found a solution yet.

I have to index file documents in english, french, german, etc.

I know that the same analyzer used for indexing must be used for=20
the search. Ok, but how could I create an index that must use a=20
different analyzer for each different language document? Same=20
question for the search.

What the best practices? =20

Do I have to create one index per language?

Do I have to write a custom analyzer that dynamically detects the
Document language and apply the right stemming, stop word list, etc?

Thanks.
Adriano Labate

Vertical*i SA
Rue du Petit-Ch=EAne 38
1003 Lausanne, Switzerland

Phone +41 21 317 57 47
Fax   +41 21 317 57 44
Web   www.verticali.com




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4466-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 14:39:32 2003
Return-Path: <lucene-user-return-4466-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12164 invoked from network); 14 May 2003 14:39:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 14:39:32 -0000
Received: (qmail 24201 invoked by uid 97); 14 May 2003 14:41:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24194 invoked from network); 14 May 2003 14:41:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 14:41:37 -0000
Received: (qmail 11888 invoked by uid 500); 14 May 2003 14:39:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11875 invoked from network); 14 May 2003 14:39:25 -0000
Received: from web40102.mail.yahoo.com (66.218.78.36)
  by daedalus.apache.org with SMTP; 14 May 2003 14:39:25 -0000
Message-ID: <20030514143928.23598.qmail@web40102.mail.yahoo.com>
Received: from [163.188.121.119] by web40102.mail.yahoo.com via HTTP; Wed, 14 May 2003 07:39:28 PDT
Date: Wed, 14 May 2003 07:39:28 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: Re: Hits Object
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <00d101c31a0a$09856c80$b905a8c0@intel>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ganesh,

I think it is ordered by Score.

-shoba
--- mganesh <mganesh@newgen.co.in> wrote:
> Hai all,
>   I want to know the default sorting order provided
> by the Hits Object.
>   Whether the results are sorted by rank or not???
> 
> regards
> ganesh
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4467-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 17:58:35 2003
Return-Path: <lucene-user-return-4467-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83661 invoked from network); 14 May 2003 17:58:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 17:58:34 -0000
Received: (qmail 1627 invoked by uid 97); 14 May 2003 18:00:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1619 invoked from network); 14 May 2003 18:00:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 18:00:39 -0000
Received: (qmail 83213 invoked by uid 500); 14 May 2003 17:58:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83202 invoked from network); 14 May 2003 17:58:28 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 14 May 2003 17:58:28 -0000
Message-ID: <20030514175832.42191.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP; Wed, 14 May 2003 10:58:32 PDT
Date: Wed, 14 May 2003 10:58:32 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing documents for several languages
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <001d01c31a19$dac2a600$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


> What the best practices?  
> 
> Do I have to create one index per language?

That would be one option.

> Do I have to write a custom analyzer that dynamically detects the
> Document language and apply the right stemming, stop word list, etc?

This is more complex, but sounds more attractive to me.

One person had a language-recognition code that used a different
Analyzer depending on the language.  He has not contributed the code
yet, unfortunately.

Otis


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4468-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 18:25:53 2003
Return-Path: <lucene-user-return-4468-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41234 invoked from network); 14 May 2003 18:25:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 18:25:52 -0000
Received: (qmail 2311 invoked by uid 97); 14 May 2003 18:28:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2304 invoked from network); 14 May 2003 18:28:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 18:28:00 -0000
Received: (qmail 40762 invoked by uid 500); 14 May 2003 18:25:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40691 invoked from network); 14 May 2003 18:25:43 -0000
Received: from slri8.mshri.on.ca (HELO EX.mshri.on.ca) (192.197.250.28)
  by daedalus.apache.org with SMTP; 14 May 2003 18:25:43 -0000
Received: from mshri.on.ca (38.112.98.19 [38.112.98.19]) by EX.mshri.on.ca with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KZFFXJ09; Wed, 14 May 2003 14:14:44 -0400
Message-ID: <3EC28A20.4080005@mshri.on.ca>
Date: Wed, 14 May 2003 14:25:36 -0400
From: Jon Pipitone <jpipitone@mshri.on.ca>
Organization: Samuel Lunenfeld Research Institute
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: '-' character not interpreted correctly in field names
References: <187D6D956106D84E9D8B280F6458FE140F5BDF@merc12.na.sas.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Eric Isakson wrote:
> I just looked at the QueryParser.jj code, your field names 
 > never get processed by the analyzer. It does look like the
 > query parser will honor escapes though. I haven't tried
 > this, but try a query like "foo\-bar:foo" and have
> a look at the QueryParser.jj file for how it handles field
 > names when parsing your query.

Hrm.. that's what I had found too.  So, you're saying that, other than 
escaping dashes, I'd have to change QueryParser.. ?

I'm not too familiar just yet with JavaCC syntax, so reading through 
QueryParser is a little tough going.  Thanks Eric,

jp


> -----Original Message-----
> From: Jon Pipitone [mailto:jpipitone@mshri.on.ca] 
> Sent: Monday, May 12, 2003 4:03 PM
> To: Lucene Users List
> Subject: Re: '-' character not interpreted correctly in field names
> 
> 
> Hi Otis, Terry,
> 
>  >>>You can write a custom Analyzer that does not remove dashes from  >>>tokens, and use it for both indexing and searching.  >>>  >>>This is a frequent question and answer on this list.
> 
> Sorry for the noise, but I haven't been able to find a solution in the 
> mailing list archives, or by writing my own analyzer:
> 
> 	public class MyAnalyzer extends Analyzer {
> 	public TokenStream tokenStream(String fieldName, Reader reader) 		{
> 		return new CharTokenizer(reader) {
> 			protected boolean isTokenChar(char c) {
> 				return Character.isLetter(c) || c == '-';
> 			}
> 		};
> 	}
> 	}
> 
> I parse a query like this:
> 
> 	String queryString = "foo-bar:foo";
> 	String queryResult =
> 		QueryParser.parse(queryString, "body", new MyAnalyzer())
> 
> With the output:
> 	body:foo -bar:foo
> 
> But I would expect the output:
> 	 foo-bar:foo
> 
> If I print out the tokens that MyAnalyzer produces I do get "foo-bar" 
> and then "foo".
> 
> Any pointers on what I'm doing wrong?
> 
> jp
> 
> 
> 
> 
>>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
>>>>
>>>>
>>>>>Hi all,
>>>>>
>>>>>
>>>>>>I believe that the tokenizer treats a dash as a token
>>>>>
>>>separator.
>>>
>>>
>>>>>>Hence, the only way, as I recall, to eliminate this behavior
>>>>>
>>>is
>>>
>>>
>>>>>>to modify QueryParser.jj so it doesn't do this.  However,
>>>>>
>>>doing
>>>
>>>
>>>>>>this can cause some other problems, like hyphenated words at a 
>>>>>>line break and the like.
>>>>>
>>>>>I've recently started using lucene and I'm running into the same 
>>>>>issue with the query parser.  I'd like to use queries that contain
>>>>
>>>dashes
>>>
>>>
>>>>>in
>>>>>the field name, but as far as I can tell it seems that the
>>>>
>>>current
>>>
>>>
>>>>>query
>>>>>grammar treats field names as terms, and so, as Terry notes, a
>>>>
>>>dash
>>>
>>>
>>>>>becomes a token seperator.
>>>>>
>>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by 
>>>>>creating a seperate non-terminal for field names.
>>>>>
>>>>>Has anyone done any work on this already?  Is modifying 
>>>>>QueryParser.jj the best approach?
>>>>>
>>>>>Thanks,
>>>>>jp
>>>>>
>>>>>
>>>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4469-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 18:27:57 2003
Return-Path: <lucene-user-return-4469-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43254 invoked from network); 14 May 2003 18:27:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 18:27:56 -0000
Received: (qmail 2358 invoked by uid 97); 14 May 2003 18:30:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2351 invoked from network); 14 May 2003 18:30:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 18:30:03 -0000
Received: (qmail 42955 invoked by uid 500); 14 May 2003 18:27:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42930 invoked from network); 14 May 2003 18:27:52 -0000
Received: from slri8.mshri.on.ca (HELO EX.mshri.on.ca) (192.197.250.28)
  by daedalus.apache.org with SMTP; 14 May 2003 18:27:52 -0000
Received: from mshri.on.ca (38.112.98.19 [38.112.98.19]) by EX.mshri.on.ca with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KZFFXKAX; Wed, 14 May 2003 14:16:56 -0400
Message-ID: <3EC28AA5.9020906@mshri.on.ca>
Date: Wed, 14 May 2003 14:27:49 -0400
From: Jon Pipitone <jpipitone@mshri.on.ca>
Organization: Samuel Lunenfeld Research Institute
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: '-' character not interpreted correctly in field names
References: <7B4F465444F8D51184B500065B3817508A9AFC@mshyd1.hyd.deshaw.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Biswas, Goutam_Kumar wrote:
>>>>>but I haven't been able to find a solution in the 
>>>>>mailing list archives, or by writing my own analyzer:
>>>>
> 
> I just tried modifying your Analyzer code just a little bit and it worrked
> for me. 
> 
> public class MyAnalyzer extends Analyzer {
> 	public TokenStream tokenStream(String fieldName, Reader reader)
> {
> 		return new CharTokenizer(reader) {
> 			protected boolean isTokenChar(char c) {
> 				//return Character.isLetter(c) || c == '-';
>                         return true;
> 			}
> 		};
> 	}
> 	}
> 
> So this analyzer won't throw away any characters whatsoever. Not sure that's
> what you want though!

Goutam,

That's very strange!  I'm using Lucene 1.3rc1, and when I try parsing 
the query "foo-bar:foo" with your modifications, I still get "body:foo 
-bar:foo".

jp

> 
> -----Original Message-----
> From: Eric Isakson [mailto:Eric.Isakson@sas.com]
> Sent: Tuesday, May 13, 2003 1:50 AM
> To: Lucene Users List
> Subject: RE: '-' character not interpreted correctly in field names
> 
> 
> I just looked at the QueryParser.jj code, your field names never get
> processed by the analyzer. It does look like the query parser will honor
> escapes though. I haven't tried this, but try a query like "foo\-bar:foo"
> and have a look at the QueryParser.jj file for how it handles field names
> when parsing your query.
> 
> Eric
> 
> -----Original Message-----
> From: Jon Pipitone [mailto:jpipitone@mshri.on.ca] 
> Sent: Monday, May 12, 2003 4:03 PM
> To: Lucene Users List
> Subject: Re: '-' character not interpreted correctly in field names
> 
> 
> Hi Otis, Terry,
> 
>  >>>You can write a custom Analyzer that does not remove dashes from
> 
>>>>tokens, and use it for both indexing and searching.  >>>  >>>This is a
>>>
> frequent question and answer on this list.
> 
> Sorry for the noise, but I haven't been able to find a solution in the 
> mailing list archives, or by writing my own analyzer:
> 
> 	public class MyAnalyzer extends Analyzer {
> 	public TokenStream tokenStream(String fieldName, Reader reader)
> {
> 		return new CharTokenizer(reader) {
> 			protected boolean isTokenChar(char c) {
> 				return Character.isLetter(c) || c == '-';
> 			}
> 		};
> 	}
> 	}
> 
> I parse a query like this:
> 
> 	String queryString = "foo-bar:foo";
> 	String queryResult =
> 		QueryParser.parse(queryString, "body", new MyAnalyzer())
> 
> With the output:
> 	body:foo -bar:foo
> 
> But I would expect the output:
> 	 foo-bar:foo
> 
> If I print out the tokens that MyAnalyzer produces I do get "foo-bar" 
> and then "foo".
> 
> Any pointers on what I'm doing wrong?
> 
> jp
> 
> 
> 
> 
>>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
>>>>
>>>>
>>>>>Hi all,
>>>>>
>>>>>
>>>>>>I believe that the tokenizer treats a dash as a token
>>>>>
>>>separator.
>>>
>>>
>>>>>>Hence, the only way, as I recall, to eliminate this behavior
>>>>>
>>>is
>>>
>>>
>>>>>>to modify QueryParser.jj so it doesn't do this.  However,
>>>>>
>>>doing
>>>
>>>
>>>>>>this can cause some other problems, like hyphenated words at a 
>>>>>>line break and the like.
>>>>>
>>>>>I've recently started using lucene and I'm running into the same 
>>>>>issue with the query parser.  I'd like to use queries that contain
>>>>
>>>dashes
>>>
>>>
>>>>>in
>>>>>the field name, but as far as I can tell it seems that the
>>>>
>>>current
>>>
>>>
>>>>>query
>>>>>grammar treats field names as terms, and so, as Terry notes, a
>>>>
>>>dash
>>>
>>>
>>>>>becomes a token seperator.
>>>>>
>>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by 
>>>>>creating a seperate non-terminal for field names.
>>>>>
>>>>>Has anyone done any work on this already?  Is modifying 
>>>>>QueryParser.jj the best approach?
>>>>>
>>>>>Thanks,
>>>>>jp
>>>>>
>>>>>
>>>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4470-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 14 19:00:44 2003
Return-Path: <lucene-user-return-4470-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36670 invoked from network); 14 May 2003 19:00:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 May 2003 19:00:43 -0000
Received: (qmail 3416 invoked by uid 97); 14 May 2003 19:02:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3409 invoked from network); 14 May 2003 19:02:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 14 May 2003 19:02:50 -0000
Received: (qmail 28372 invoked by uid 500); 14 May 2003 18:58:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28308 invoked from network); 14 May 2003 18:58:45 -0000
Received: from merc61.na.sas.com (149.173.6.14)
  by daedalus.apache.org with SMTP; 14 May 2003 18:58:45 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.2 with InterScan Messaging Security Suite; Wed, 14 May 2003 14:54:50 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: '-' character not interpreted correctly in field names
Date: Wed, 14 May 2003 14:54:50 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE140F5BE6@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: '-' character not interpreted correctly in field names
Thread-Index: AcMaRk4UpQX+jGUdTQ2zx0u2m4mghwAASTYQ
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think the query parser changes would not be too bad, I've outlined a =
couple of relavant lines you should look at so you don't have to try and =
comprehend the productions for the entire QueryParser. I do not think I =
would like to have to maintain one of those myself though. Your other =
unmentioned alternative is to choose field names that match the <TERM> =
production of QueryParser.jj without escapes.

QueryParser.jj line 557:
    fieldToken=3D<TERM> <COLON> { field =3D fieldToken.image; }

and earlier...
 <#_ESCAPED_CHAR: "\\" [ "\\", "+", "-", "!", "(", ")", ":", "^",
                          "[", "]", "\"", "{", "}", "~", "*", "?" ] >
| <#_TERM_START_CHAR: ( ~[ " ", "\t", "+", "-", "!", "(", ")", ":", "^",
                           "[", "]", "\"", "{", "}", "~", "*", "?" ]
                       | <_ESCAPED_CHAR> ) >
| <#_TERM_CHAR: ( <_TERM_START_CHAR> | <_ESCAPED_CHAR> ) >

...

<TERM:      <_TERM_START_CHAR> (<_TERM_CHAR>)*  >

So the characters you need to avoid in your field names are the ones =
from _ESCAPED_CHAR,=20
[ "\\", "+", "-", "!", "(", ")", ":", "^", "[", "]", "\"", "{", "}", =
"~", "*", "?" ]

If you need to modify the parser, you will probably want to add a =
FIELDNAME token and other supporting productions that look really =
similar to these lines I've copied but modify the complement, ~[...], at =
the beginning of _FIELDNAME_START_CHAR (you would add this production) =
so it will match the "-" that you are using in your field names (and fix =
it to match any other characters you want to use in field names that it =
doesn't allow right now).

Eric

-----Original Message-----
From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]=20
Sent: Wednesday, May 14, 2003 2:26 PM
To: Lucene Users List
Subject: Re: '-' character not interpreted correctly in field names




Eric Isakson wrote:
> I just looked at the QueryParser.jj code, your field names
 > never get processed by the analyzer. It does look like the
 > query parser will honor escapes though. I haven't tried
 > this, but try a query like "foo\-bar:foo" and have
> a look at the QueryParser.jj file for how it handles field
 > names when parsing your query.

Hrm.. that's what I had found too.  So, you're saying that, other than=20
escaping dashes, I'd have to change QueryParser.. ?

I'm not too familiar just yet with JavaCC syntax, so reading through=20
QueryParser is a little tough going.  Thanks Eric,

jp


> -----Original Message-----
> From: Jon Pipitone [mailto:jpipitone@mshri.on.ca]
> Sent: Monday, May 12, 2003 4:03 PM
> To: Lucene Users List
> Subject: Re: '-' character not interpreted correctly in field names
>=20
>=20
> Hi Otis, Terry,
>=20
>  >>>You can write a custom Analyzer that does not remove dashes from =20
> >>>tokens, and use it for both indexing and searching.  >>>  >>>This=20
> is a frequent question and answer on this list.
>=20
> Sorry for the noise, but I haven't been able to find a solution in the
> mailing list archives, or by writing my own analyzer:
>=20
> 	public class MyAnalyzer extends Analyzer {
> 	public TokenStream tokenStream(String fieldName, Reader reader) 		{
> 		return new CharTokenizer(reader) {
> 			protected boolean isTokenChar(char c) {
> 				return Character.isLetter(c) || c =3D=3D '-';
> 			}
> 		};
> 	}
> 	}
>=20
> I parse a query like this:
>=20
> 	String queryString =3D "foo-bar:foo";
> 	String queryResult =3D
> 		QueryParser.parse(queryString, "body", new MyAnalyzer())
>=20
> With the output:
> 	body:foo -bar:foo
>=20
> But I would expect the output:
> 	 foo-bar:foo
>=20
> If I print out the tokens that MyAnalyzer produces I do get "foo-bar"
> and then "foo".
>=20
> Any pointers on what I'm doing wrong?
>=20
> jp
>=20
>=20
>=20
>=20
>>>>--- Jon Pipitone <jpipitone@mshri.on.ca> wrote:
>>>>
>>>>
>>>>>Hi all,
>>>>>
>>>>>
>>>>>>I believe that the tokenizer treats a dash as a token
>>>>>
>>>separator.
>>>
>>>
>>>>>>Hence, the only way, as I recall, to eliminate this behavior
>>>>>
>>>is
>>>
>>>
>>>>>>to modify QueryParser.jj so it doesn't do this.  However,
>>>>>
>>>doing
>>>
>>>
>>>>>>this can cause some other problems, like hyphenated words at a
>>>>>>line break and the like.
>>>>>
>>>>>I've recently started using lucene and I'm running into the same
>>>>>issue with the query parser.  I'd like to use queries that contain
>>>>
>>>dashes
>>>
>>>
>>>>>in
>>>>>the field name, but as far as I can tell it seems that the
>>>>
>>>current
>>>
>>>
>>>>>query
>>>>>grammar treats field names as terms, and so, as Terry notes, a
>>>>
>>>dash
>>>
>>>
>>>>>becomes a token seperator.
>>>>>
>>>>>Terry suggests modifying the QueryParser.jj -- I would suspect by
>>>>>creating a seperate non-terminal for field names.
>>>>>
>>>>>Has anyone done any work on this already?  Is modifying
>>>>>QueryParser.jj the best approach?
>>>>>
>>>>>Thanks,
>>>>>jp
>>>>>
>>>>>
>>>>
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4471-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 12:43:26 2003
Return-Path: <lucene-user-return-4471-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63836 invoked from network); 15 May 2003 12:43:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 12:43:26 -0000
Received: (qmail 27226 invoked by uid 97); 15 May 2003 12:45:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27219 invoked from network); 15 May 2003 12:45:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 12:45:32 -0000
Received: (qmail 63545 invoked by uid 500); 15 May 2003 12:43:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63531 invoked from network); 15 May 2003 12:43:22 -0000
Received: from contact.heuft.org (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 15 May 2003 12:43:22 -0000
Received: (qmail 30010 invoked from network); 15 May 2003 12:41:08 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 15 May 2003 12:41:08 -0000
Message-ID: <02b001c31adf$90139ee0$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: =?iso-8859-1?Q?German_zusammengesetzte_Hauptw=F6rter?=
Date: Thu, 15 May 2003 14:43:19 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_02AD_01C31AF0.536EA820"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_02AD_01C31AF0.536EA820
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,

i use the fellowing filters:

  public TokenStream tokenStream(String fieldName, Reader reader) {
        TokenStream result =3D new StandardTokenizer(reader);
        result =3D new StandardFilter(result);
        result =3D new LowerCaseFilter(result);
        result =3D new StopFilter(result, stopTable);
       =20
        return result;
    }

My querystring is=20

ausweis

and i want to find=20

Mitarbeiterausweis
Mitarbeiterausweishalter
Mitarbeiterausweisregelung

but i do not find any of the words.

What filters or special tokenizer do i need to find the above words?

Thanks in advance for your help

G=FCnter Kukies


------=_NextPart_000_02AD_01C31AF0.536EA820--


From lucene-user-return-4472-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 13:35:19 2003
Return-Path: <lucene-user-return-4472-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94503 invoked from network); 15 May 2003 13:35:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 13:35:18 -0000
Received: (qmail 28890 invoked by uid 97); 15 May 2003 13:37:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28883 invoked from network); 15 May 2003 13:37:25 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 13:37:25 -0000
Received: (qmail 94179 invoked by uid 500); 15 May 2003 13:35:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94165 invoked from network); 15 May 2003 13:35:14 -0000
Received: from web14602.mail.yahoo.com (216.136.224.82)
  by daedalus.apache.org with SMTP; 15 May 2003 13:35:14 -0000
Message-ID: <20030515133516.37158.qmail@web14602.mail.yahoo.com>
Received: from [194.78.205.247] by web14602.mail.yahoo.com via HTTP; Thu, 15 May 2003 06:35:16 PDT
Date: Thu, 15 May 2003 06:35:16 -0700 (PDT)
From: D-Fuse <mr_dfuse@yahoo.com>
Subject: loading a FSDirectory into a RAMDirectory and vice-versa
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-196140811-1053005716=:36901"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-196140811-1053005716=:36901
Content-Type: text/plain; charset=us-ascii

Hey,
is it possible to load a FSDirectory at the start of my program into a RAMDirectory and write it back to a FSDirectory when I'm closing down?


---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
--0-196140811-1053005716=:36901--

From lucene-user-return-4473-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 13:40:08 2003
Return-Path: <lucene-user-return-4473-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 426 invoked from network); 15 May 2003 13:40:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 13:40:06 -0000
Received: (qmail 29044 invoked by uid 97); 15 May 2003 13:42:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29037 invoked from network); 15 May 2003 13:42:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 13:42:13 -0000
Received: (qmail 103 invoked by uid 500); 15 May 2003 13:40:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99989 invoked from network); 15 May 2003 13:40:03 -0000
Received: from web14608.mail.yahoo.com (216.136.224.88)
  by daedalus.apache.org with SMTP; 15 May 2003 13:40:03 -0000
Message-ID: <20030515134005.97484.qmail@web14608.mail.yahoo.com>
Received: from [194.78.205.247] by web14608.mail.yahoo.com via HTTP; Thu, 15 May 2003 06:40:05 PDT
Date: Thu, 15 May 2003 06:40:05 -0700 (PDT)
From: D-Fuse <mr_dfuse@yahoo.com>
Subject: deleting a document with a term
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-551637449-1053006005=:95841"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-551637449-1053006005=:95841
Content-Type: text/plain; charset=us-ascii

Hey,
I succesfully made an index of the content of a database, the document is constructed as following:

Document doc = new Document();
doc.add(Field.Text("VOORNAAM", voornaam));
doc.add(Field.Text("FAMILIENAAM", familienaam));
doc.add(Field.UnIndexed("ID", Integer.toString(id)));
doc.add(Field.UnStored("FREETEXT", strfreetext));
indexWriter.addDocument(doc);

Searching goes good, but when I try to delete a document as following:

Term term = new Term("ID", Integer.toString(id));
int numberDeleted = indexReader.delete(term);

the document is never deleted, numberDeleted is always zero. I checked the ID and it exists. I also tried deleting the document by using the Field VOORNAAM since that is indexed, but that gives the same problem.

Am I doing something wrong?



---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
--0-551637449-1053006005=:95841--

From lucene-user-return-4474-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 13:42:04 2003
Return-Path: <lucene-user-return-4474-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3345 invoked from network); 15 May 2003 13:42:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 13:42:04 -0000
Received: (qmail 29111 invoked by uid 97); 15 May 2003 13:44:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29104 invoked from network); 15 May 2003 13:44:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 13:44:11 -0000
Received: (qmail 2901 invoked by uid 500); 15 May 2003 13:41:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2836 invoked from network); 15 May 2003 13:41:56 -0000
Received: from mail2.portalis.it (HELO portalis.it) (213.199.4.24)
  by daedalus.apache.org with SMTP; 15 May 2003 13:41:56 -0000
Received: from standardhn540z ([62.123.44.112]) by portalis.it  with Microsoft SMTPSVC(5.5.1877.197.19);
	 Thu, 15 May 2003 15:48:13 +0200
Message-ID: <00f501c31ae8$122475a0$6401a8c0@standardhn540z>
From: "Dario Dentale" <dario.dentale@portalis.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030416061737.66857.qmail@web12702.mail.yahoo.com>
Subject: Re: Unable to change default boolean operator to AND
Date: Thu, 15 May 2003 15:44:13 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I tryied in this way with lucene-1.3-rc1, but doesn't work: it use always OR
operator.
It is a bug or I'm wrong?

Thanx,
Dario

----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, April 16, 2003 8:17 AM
Subject: Re: Unable to change default boolean operator to AND


> qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>
> --- "Ramrakhiani, Vikas" <Vikas-Ramrakhiani@deshaw.com> wrote:
> > I was trying to implement default boolean operator AND in the demo
> > code
> > SearchFiles.java.
> > I did the following :-
> >
> >         QueryParser qp = new QueryParser("contents", analyzer);
> >         System.out.println("Value for AND operator is: " +
> >                            qp.DEFAULT_OPERATOR_AND);
> >         qp.setOperator(1);
> > Query query = qp.parse(line, "contents", analyzer);
> >         System.out.println("Query is " + query);
> > System.out.println("Searching for: " + query.toString("contents"));
> >         System.out.println("Operator is: " + qp.getOperator());
> >
> > But what I get is still the default OR opertor:
> >
> > Query: asd asd
> > Value for AND operator is: 1
> > Query is contents:asd contents:asd
> > Searching for: asd asd
> > Operator is: 1
> >
> > What am I doing wrong ?
> >
> > thanks for your help,
> > vikas.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> __________________________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo
> http://search.yahoo.com
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4475-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 13:42:14 2003
Return-Path: <lucene-user-return-4475-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4041 invoked from network); 15 May 2003 13:42:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 13:42:12 -0000
Received: (qmail 29124 invoked by uid 97); 15 May 2003 13:44:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29117 invoked from network); 15 May 2003 13:44:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 13:44:19 -0000
Received: (qmail 3454 invoked by uid 500); 15 May 2003 13:42:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3417 invoked from network); 15 May 2003 13:42:05 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 15 May 2003 13:42:05 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KLP5SDPX; Thu, 15 May 2003 09:46:35 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: loading a FSDirectory into a RAMDirectory and vice-versa
Date: Thu, 15 May 2003 09:42:12 -0400
Message-ID: <001b01c31ae7$cfac77e0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <20030515133516.37158.qmail@web14602.mail.yahoo.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes you can.
Here is an example
http://www.onjava.com/pub/a/onjava/2003/03/05/lucene.html?page=2

-----Original Message-----
From: D-Fuse [mailto:mr_dfuse@yahoo.com] 
Sent: Thursday, May 15, 2003 9:35 AM
To: lucene-user@jakarta.apache.org
Subject: loading a FSDirectory into a RAMDirectory and vice-versa


Hey,
is it possible to load a FSDirectory at the start of my program into a
RAMDirectory and write it back to a FSDirectory when I'm closing down?


---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4476-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 13:46:13 2003
Return-Path: <lucene-user-return-4476-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11898 invoked from network); 15 May 2003 13:46:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 13:46:13 -0000
Received: (qmail 29295 invoked by uid 97); 15 May 2003 13:48:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29288 invoked from network); 15 May 2003 13:48:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 13:48:20 -0000
Received: (qmail 11323 invoked by uid 500); 15 May 2003 13:46:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11269 invoked from network); 15 May 2003 13:46:05 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 15 May 2003 13:46:05 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id 7F927367D4; Thu, 15 May 2003 13:41:50 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id 74A4E367D4
	for <lucene-user@jakarta.apache.org>; Thu, 15 May 2003 13:41:48 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: deleting a document with a term
Date: Thu, 15 May 2003 09:45:46 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDEEIGCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <20030515134005.97484.qmail@web14608.mail.yahoo.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Could it be a case issue? Try converting to lowercase, when you query the
analyzer takes care of that for you.

Thanks,

Rob
-----Original Message-----
From: D-Fuse [mailto:mr_dfuse@yahoo.com]
Sent: Thursday, May 15, 2003 9:40 AM
To: lucene-user@jakarta.apache.org
Subject: deleting a document with a term


Hey,
I succesfully made an index of the content of a database, the document is
constructed as following:

Document doc = new Document();
doc.add(Field.Text("VOORNAAM", voornaam));
doc.add(Field.Text("FAMILIENAAM", familienaam));
doc.add(Field.UnIndexed("ID", Integer.toString(id)));
doc.add(Field.UnStored("FREETEXT", strfreetext));
indexWriter.addDocument(doc);

Searching goes good, but when I try to delete a document as following:

Term term = new Term("ID", Integer.toString(id));
int numberDeleted = indexReader.delete(term);

the document is never deleted, numberDeleted is always zero. I checked the
ID and it exists. I also tried deleting the document by using the Field
VOORNAAM since that is indexed, but that gives the same problem.

Am I doing something wrong?



---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4477-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 13:48:36 2003
Return-Path: <lucene-user-return-4477-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17095 invoked from network); 15 May 2003 13:48:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 13:48:36 -0000
Received: (qmail 29373 invoked by uid 97); 15 May 2003 13:50:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29366 invoked from network); 15 May 2003 13:50:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 13:50:42 -0000
Received: (qmail 14705 invoked by uid 500); 15 May 2003 13:48:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14623 invoked from network); 15 May 2003 13:48:02 -0000
Received: from web14606.mail.yahoo.com (216.136.224.86)
  by daedalus.apache.org with SMTP; 15 May 2003 13:48:02 -0000
Message-ID: <20030515134804.41173.qmail@web14606.mail.yahoo.com>
Received: from [194.78.205.247] by web14606.mail.yahoo.com via HTTP; Thu, 15 May 2003 06:48:04 PDT
Date: Thu, 15 May 2003 06:48:04 -0700 (PDT)
From: D-Fuse <mr_dfuse@yahoo.com>
Subject: RE: deleting a document with a term
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <MNEPJJAGGPICDNOCBIKDEEIGCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1801836983-1053006484=:41112"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1801836983-1053006484=:41112
Content-Type: text/plain; charset=us-ascii


The analyzer I use converts everything to lowercase, and ID is an int, so case shouldn't be an issue. When I tried looking for the term with VOORNAAM, I tried to lowercase it again (manually, not counting on the analyzer), same problem.

---------------------------------
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
--0-1801836983-1053006484=:41112--

From lucene-user-return-4478-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 14:42:04 2003
Return-Path: <lucene-user-return-4478-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77646 invoked from network); 15 May 2003 14:42:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 14:42:04 -0000
Received: (qmail 1395 invoked by uid 97); 15 May 2003 14:44:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1388 invoked from network); 15 May 2003 14:44:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 14:44:11 -0000
Received: (qmail 66815 invoked by uid 500); 15 May 2003 14:39:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66766 invoked from network); 15 May 2003 14:39:02 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 15 May 2003 14:39:02 -0000
Message-ID: <20030515143904.15079.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP; Thu, 15 May 2003 07:39:04 PDT
Date: Thu, 15 May 2003 07:39:04 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: deleting a document with a term
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030515134005.97484.qmail@web14608.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Maybe you are catching and 'eating' an exception somewhere?
Maybe you are not closing the index?
Make a simple test case, and I bet you'll find your problem.

Otis

--- D-Fuse <mr_dfuse@yahoo.com> wrote:
> Hey,
> I succesfully made an index of the content of a database, the
> document is constructed as following:
> 
> Document doc = new Document();
> doc.add(Field.Text("VOORNAAM", voornaam));
> doc.add(Field.Text("FAMILIENAAM", familienaam));
> doc.add(Field.UnIndexed("ID", Integer.toString(id)));
> doc.add(Field.UnStored("FREETEXT", strfreetext));
> indexWriter.addDocument(doc);
> 
> Searching goes good, but when I try to delete a document as
> following:
> 
> Term term = new Term("ID", Integer.toString(id));
> int numberDeleted = indexReader.delete(term);
> 
> the document is never deleted, numberDeleted is always zero. I
> checked the ID and it exists. I also tried deleting the document by
> using the Field VOORNAAM since that is indexed, but that gives the
> same problem.
> 
> Am I doing something wrong?
> 
> 
> 
> ---------------------------------
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4479-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 14:49:01 2003
Return-Path: <lucene-user-return-4479-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1790 invoked from network); 15 May 2003 14:49:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 14:49:01 -0000
Received: (qmail 1697 invoked by uid 97); 15 May 2003 14:51:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1690 invoked from network); 15 May 2003 14:51:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 14:51:08 -0000
Received: (qmail 93982 invoked by uid 500); 15 May 2003 14:46:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93951 invoked from network); 15 May 2003 14:46:50 -0000
Received: from web14610.mail.yahoo.com (216.136.224.242)
  by daedalus.apache.org with SMTP; 15 May 2003 14:46:50 -0000
Message-ID: <20030515144652.71326.qmail@web14610.mail.yahoo.com>
Received: from [194.78.205.247] by web14610.mail.yahoo.com via HTTP; Thu, 15 May 2003 07:46:52 PDT
Date: Thu, 15 May 2003 07:46:52 -0700 (PDT)
From: D-Fuse <mr_dfuse@yahoo.com>
Subject: Re: deleting a document with a term
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

No exceptions, but there is an IndexWriter and a
Reader open at the same time on the same indices dir.
Isn't that possible? It would be rather expensive if I
need to create a Reader and a Writer per element that
needs to be reindexed.

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:
> Date: Thu, 15 May 2003 07:39:04 -0700 (PDT)
> From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> Subject: Re: deleting a document with a term
> To: Lucene Users List
> <lucene-user@jakarta.apache.org>
> 
> Maybe you are catching and 'eating' an exception
> somewhere?
> Maybe you are not closing the index?
> Make a simple test case, and I bet you'll find your
> problem.
> 
> Otis
> 
> --- D-Fuse <mr_dfuse@yahoo.com> wrote:
> > Hey,
> > I succesfully made an index of the content of a
> database, the
> > document is constructed as following:
> > 
> > Document doc = new Document();
> > doc.add(Field.Text("VOORNAAM", voornaam));
> > doc.add(Field.Text("FAMILIENAAM", familienaam));
> > doc.add(Field.UnIndexed("ID",
> Integer.toString(id)));
> > doc.add(Field.UnStored("FREETEXT", strfreetext));
> > indexWriter.addDocument(doc);
> > 
> > Searching goes good, but when I try to delete a
> document as
> > following:
> > 
> > Term term = new Term("ID", Integer.toString(id));
> > int numberDeleted = indexReader.delete(term);
> > 
> > the document is never deleted, numberDeleted is
> always zero. I
> > checked the ID and it exists. I also tried
> deleting the document by
> > using the Field VOORNAAM since that is indexed,
> but that gives the
> > same problem.
> > 
> > Am I doing something wrong?
> > 
> > 
> > 
> > ---------------------------------
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4480-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 14:57:12 2003
Return-Path: <lucene-user-return-4480-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28397 invoked from network); 15 May 2003 14:57:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 14:57:12 -0000
Received: (qmail 1920 invoked by uid 97); 15 May 2003 14:59:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1912 invoked from network); 15 May 2003 14:59:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 14:59:18 -0000
Received: (qmail 17651 invoked by uid 500); 15 May 2003 14:53:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17610 invoked from network); 15 May 2003 14:53:57 -0000
Received: from bureau8.utcc.utoronto.ca (128.100.132.18)
  by daedalus.apache.org with SMTP; 15 May 2003 14:53:57 -0000
Received: from nauli.ue.okstate.edu ([139.78.133.1] HELO nauli ident: IDENT-NOT-QUERIED [port 1699]) by bureau8.utcc.utoronto.ca with SMTP id <25675-12709>; Thu, 15 May 2003 10:53:48 -0400
Message-ID: <00a301c31af1$c1940650$01854e8b@nauli>
From:	"Andy Nauli" <andy.nauli@utoronto.ca>
To:	<lucene-user@jakarta.apache.org>
Subject: computing document similarity
Date: Thu, 15 May 2003 09:53:33 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi lucene developer,

I am planning to use lucene for calculating documents similarity

here's my plan:

I have set of similar documents, and I will index these documents and
extract say top 20 most indexed keywords....

when new documents is available, I want to calculate their similarity using
these extracted keywords....

how feasible is this in lucene ?
what is the best way to do this? I have implemented the most frequent
keyword
extracting part, now what left is performing document similarity
calculation..

thanks
Andy


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4481-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 14:57:33 2003
Return-Path: <lucene-user-return-4481-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29533 invoked from network); 15 May 2003 14:57:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 14:57:32 -0000
Received: (qmail 1994 invoked by uid 97); 15 May 2003 14:59:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1987 invoked from network); 15 May 2003 14:59:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 14:59:39 -0000
Received: (qmail 19282 invoked by uid 500); 15 May 2003 14:54:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19261 invoked from network); 15 May 2003 14:54:27 -0000
Received: from mail.ideorlando.org (208.63.70.76)
  by daedalus.apache.org with SMTP; 15 May 2003 14:54:27 -0000
Received: by mail.ideorlando.org (Postfix, from userid 8)
	id ECE22367D6; Thu, 15 May 2003 14:50:12 +0000 (UTC)
X-Scanned-By: AMaViS
Received: from ROUTARDBW (unknown [208.62.52.106])
	by mail.ideorlando.org (Postfix) with SMTP id D6010367CE
	for <lucene-user@jakarta.apache.org>; Thu, 15 May 2003 14:50:11 +0000 (UTC)
From: "Rob Outar" <routar@ideorlando.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: deleting a document with a term
Date: Thu, 15 May 2003 10:54:10 -0400
Message-ID: <MNEPJJAGGPICDNOCBIKDOEIHCJAA.routar@ideorlando.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <20030515144652.71326.qmail@web14610.mail.yahoo.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Print out the term query and check it for correctness. I store file paths in
the index and I use them to delete files from the index using term queries.

Thanks,

Rob


-----Original Message-----
From: D-Fuse [mailto:mr_dfuse@yahoo.com]
Sent: Thursday, May 15, 2003 10:47 AM
To: lucene-user@jakarta.apache.org
Subject: Re: deleting a document with a term


No exceptions, but there is an IndexWriter and a
Reader open at the same time on the same indices dir.
Isn't that possible? It would be rather expensive if I
need to create a Reader and a Writer per element that
needs to be reindexed.

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:
> Date: Thu, 15 May 2003 07:39:04 -0700 (PDT)
> From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> Subject: Re: deleting a document with a term
> To: Lucene Users List
> <lucene-user@jakarta.apache.org>
>
> Maybe you are catching and 'eating' an exception
> somewhere?
> Maybe you are not closing the index?
> Make a simple test case, and I bet you'll find your
> problem.
>
> Otis
>
> --- D-Fuse <mr_dfuse@yahoo.com> wrote:
> > Hey,
> > I succesfully made an index of the content of a
> database, the
> > document is constructed as following:
> >
> > Document doc = new Document();
> > doc.add(Field.Text("VOORNAAM", voornaam));
> > doc.add(Field.Text("FAMILIENAAM", familienaam));
> > doc.add(Field.UnIndexed("ID",
> Integer.toString(id)));
> > doc.add(Field.UnStored("FREETEXT", strfreetext));
> > indexWriter.addDocument(doc);
> >
> > Searching goes good, but when I try to delete a
> document as
> > following:
> >
> > Term term = new Term("ID", Integer.toString(id));
> > int numberDeleted = indexReader.delete(term);
> >
> > the document is never deleted, numberDeleted is
> always zero. I
> > checked the ID and it exists. I also tried
> deleting the document by
> > using the Field VOORNAAM since that is indexed,
> but that gives the
> > same problem.
> >
> > Am I doing something wrong?
> >
> >
> >
> > ---------------------------------
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4482-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 15:04:45 2003
Return-Path: <lucene-user-return-4482-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52293 invoked from network); 15 May 2003 15:04:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 15:04:45 -0000
Received: (qmail 2532 invoked by uid 97); 15 May 2003 15:06:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2525 invoked from network); 15 May 2003 15:06:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 15:06:52 -0000
Received: (qmail 44325 invoked by uid 500); 15 May 2003 15:02:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44212 invoked from network); 15 May 2003 15:02:13 -0000
Received: from web14608.mail.yahoo.com (216.136.224.88)
  by daedalus.apache.org with SMTP; 15 May 2003 15:02:13 -0000
Message-ID: <20030515150214.15401.qmail@web14608.mail.yahoo.com>
Received: from [194.78.205.247] by web14608.mail.yahoo.com via HTTP; Thu, 15 May 2003 08:02:14 PDT
Date: Thu, 15 May 2003 08:02:14 -0700 (PDT)
From: D-Fuse <mr_dfuse@yahoo.com>
Subject: RE: deleting a document with a term
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

what do you mean with the term  query? The content of
the Term is correct, I checked that. I store primary
keys in the index and use them to retrieve the new
data to be indexed from a database if that record is
dirty.

--- Rob Outar <routar@ideorlando.org> wrote:
> From: "Rob Outar" <routar@ideorlando.org>
> To: "Lucene Users List"
> <lucene-user@jakarta.apache.org>
> Subject: RE: deleting a document with a term
> Date: Thu, 15 May 2003 10:54:10 -0400
> 
> Print out the term query and check it for
> correctness. I store file paths in
> the index and I use them to delete files from the
> index using term queries.
> 
> Thanks,
> 
> Rob
> 
> 
> -----Original Message-----
> From: D-Fuse [mailto:mr_dfuse@yahoo.com]
> Sent: Thursday, May 15, 2003 10:47 AM
> To: lucene-user@jakarta.apache.org
> Subject: Re: deleting a document with a term
> 
> 
> No exceptions, but there is an IndexWriter and a
> Reader open at the same time on the same indices
> dir.
> Isn't that possible? It would be rather expensive if
> I
> need to create a Reader and a Writer per element
> that
> needs to be reindexed.
> 
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> > Date: Thu, 15 May 2003 07:39:04 -0700 (PDT)
> > From: Otis Gospodnetic
> <otis_gospodnetic@yahoo.com>
> > Subject: Re: deleting a document with a term
> > To: Lucene Users List
> > <lucene-user@jakarta.apache.org>
> >
> > Maybe you are catching and 'eating' an exception
> > somewhere?
> > Maybe you are not closing the index?
> > Make a simple test case, and I bet you'll find
> your
> > problem.
> >
> > Otis
> >
> > --- D-Fuse <mr_dfuse@yahoo.com> wrote:
> > > Hey,
> > > I succesfully made an index of the content of a
> > database, the
> > > document is constructed as following:
> > >
> > > Document doc = new Document();
> > > doc.add(Field.Text("VOORNAAM", voornaam));
> > > doc.add(Field.Text("FAMILIENAAM", familienaam));
> > > doc.add(Field.UnIndexed("ID",
> > Integer.toString(id)));
> > > doc.add(Field.UnStored("FREETEXT",
> strfreetext));
> > > indexWriter.addDocument(doc);
> > >
> > > Searching goes good, but when I try to delete a
> > document as
> > > following:
> > >
> > > Term term = new Term("ID",
> Integer.toString(id));
> > > int numberDeleted = indexReader.delete(term);
> > >
> > > the document is never deleted, numberDeleted is
> > always zero. I
> > > checked the ID and it exists. I also tried
> > deleting the document by
> > > using the Field VOORNAAM since that is indexed,
> > but that gives the
> > > same problem.
> > >
> > > Am I doing something wrong?
> > >
> > >
> > >
> > > ---------------------------------
> > > Do you Yahoo!?
> > > The New Yahoo! Search - Faster. Easier. Bingo.
> >
> >
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4483-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 15:30:22 2003
Return-Path: <lucene-user-return-4483-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35453 invoked from network); 15 May 2003 15:30:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 15:30:22 -0000
Received: (qmail 3458 invoked by uid 97); 15 May 2003 15:32:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3451 invoked from network); 15 May 2003 15:32:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 15:32:29 -0000
Received: (qmail 35078 invoked by uid 500); 15 May 2003 15:30:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35004 invoked from network); 15 May 2003 15:30:08 -0000
Received: from nebula3.broadvision.com (139.56.4.14)
  by daedalus.apache.org with SMTP; 15 May 2003 15:30:08 -0000
Received: from triangulum.broadvision.com (triangulum.broadvision.com [199.35.176.7])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id h4FFU3a03517
	for <lucene-user@jakarta.apache.org>; Thu, 15 May 2003 08:30:03 -0700 (PDT)
Received: from bt-gw-01.broadvision.com (localhost [127.0.0.1])
	by triangulum.broadvision.com (8.8.8/8.8.8) with ESMTP id IAA14158
	for <lucene-user@jakarta.apache.org>; Thu, 15 May 2003 08:30:10 -0700 (PDT)
Received: by bt-gw-01.broadvision.com with Internet Mail Service (5.5.2653.19)
	id <K1STZ418>; Thu, 15 May 2003 11:28:29 -0400
Message-ID: <45C4368325C2D411898E00062938B3E8062EC692@uk-msg-01.broadvision.com>
From: "Song, Xuekai" <Xuekai.Song@broadvision.com>
To: lucene-user@jakarta.apache.org
Subject: Number Query
Date: Thu, 15 May 2003 11:28:06 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is it possible to search using a query like price:>15.00 or something
similar.  This does not seem possible to me since '<' and '>' are not query
operators.  Also, the index created for filed 'price' is String.  Is there
any workaround? 

Thanks in advance,

Kai

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4484-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 15 15:37:14 2003
Return-Path: <lucene-user-return-4484-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56570 invoked from network); 15 May 2003 15:37:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 15 May 2003 15:37:13 -0000
Received: (qmail 3804 invoked by uid 97); 15 May 2003 15:39:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3797 invoked from network); 15 May 2003 15:39:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 15 May 2003 15:39:21 -0000
Received: (qmail 51881 invoked by uid 500); 15 May 2003 15:35:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51837 invoked from network); 15 May 2003 15:35:50 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 15 May 2003 15:35:50 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KLP5SDSK; Thu, 15 May 2003 11:40:24 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Number Query
Date: Thu, 15 May 2003 11:35:59 -0400
Message-ID: <002f01c31af7$b52745c0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <45C4368325C2D411898E00062938B3E8062EC692@uk-msg-01.broadvision.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can use RangeQuery to do a range search. If you want to index
numbers you should put leading 0 (zero) in order for the range to work.
For instance: 15.00 should be indexed as 00000015.00

-----Original Message-----
From: Song, Xuekai [mailto:Xuekai.Song@broadvision.com] 
Sent: Thursday, May 15, 2003 11:28 AM
To: lucene-user@jakarta.apache.org
Subject: Number Query


Is it possible to search using a query like price:>15.00 or something
similar.  This does not seem possible to me since '<' and '>' are not
query operators.  Also, the index created for filed 'price' is String.
Is there any workaround? 

Thanks in advance,

Kai

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4485-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 08:09:25 2003
Return-Path: <lucene-user-return-4485-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28396 invoked from network); 16 May 2003 08:09:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 08:09:24 -0000
Received: (qmail 25672 invoked by uid 97); 16 May 2003 08:11:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25665 invoked from network); 16 May 2003 08:11:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 08:11:43 -0000
Received: (qmail 28000 invoked by uid 500); 16 May 2003 08:09:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27970 invoked from network); 16 May 2003 08:09:19 -0000
Received: from stq.urv.es (193.147.220.6)
  by daedalus.apache.org with SMTP; 16 May 2003 08:09:19 -0000
Received: from Simpple07 ([193.147.220.215]) by stq.urv.es
          (Netscape Messaging Server 3.6)  with SMTP id AAA74F8
          for <lucene-user@jakarta.apache.org>;
          Fri, 16 May 2003 09:17:15 -0100
From: "Xavier Guardiola" <xguardiola@stq.urv.es>
To: <lucene-user@jakarta.apache.org>
Subject: AND / OR mutiple term queris
Date: Fri, 16 May 2003 10:15:04 +0200
Message-ID: <EAEILFCMMGGPOLGCLCBAAECFCNAA.xguardiola@stq.urv.es>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2483.0001
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,
I've got a question regarding how Lucene priorizes complex --like "yoggy
drop the honey pot"-- query results.
I wanted lucene to show first those results having ALL terms. By default
lucene doesn't do this, so I transform all user queries to + AND ("+yoggy
AND +drop AND +the AND +honey AND +pot"). It works nicely. However now I
face the need to show AFTER the ALL-terms-results those results where SOME
of the terms do appear. Is there a way of doing that easily?
Thanks!


--    Today's fortune:
I never cheated an honest man, only rascals.  They wanted something for
nothing.  I gave them nothing for something.
                -- Joseph "Yellow Kid" Weil


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4486-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 09:59:31 2003
Return-Path: <lucene-user-return-4486-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68523 invoked from network); 16 May 2003 09:59:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 09:59:30 -0000
Received: (qmail 28834 invoked by uid 97); 16 May 2003 10:01:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28827 invoked from network); 16 May 2003 10:01:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 10:01:50 -0000
Received: (qmail 67825 invoked by uid 500); 16 May 2003 09:59:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67760 invoked from network); 16 May 2003 09:59:22 -0000
Received: from pine.linde-va.de (145.225.75.243)
  by daedalus.apache.org with SMTP; 16 May 2003 09:59:22 -0000
Received: from elm.le.grp (unverified [145.225.75.181]) by pine.Linde-VA.de
 (Rockliffe SMTPRA 5.2.5) with SMTP id <B0002769235@pine.linde-va.de> for <lucene-user@jakarta.apache.org>;
 Fri, 16 May 2003 12:00:51 +0200
Subject: Re: German zusammengesetzte =?iso-8859-1?Q?Hauptw=F6rter?=
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF92D8A2F0.14E3770F-ONC1256D28.003649BD@linde-le.com>
From: Test2.Schwab@Linde-LE.com
Date: Fri, 16 May 2003 10:59:33 +0100
X-MIMETrack: Serialize by Router on D1S13/Servers/MUC/VA/Linde-VA(Release 5.0.8 |June 18, 2001) at
 05/16/2003 11:59:33 AM
MIME-Version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


G=FCnter,

As far I am informed, you can not search with bothside wildcards like
*ausweis*.
You can search for ausweis*. However I think, you won't get the results=
 you
are searching for, because your words have a leftside term.
If you have words like
 Ausweisinhaber
Ausweiskontrolle
you can search with ausweis*

Regards,
Arsineh
=



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4487-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 10:02:01 2003
Return-Path: <lucene-user-return-4487-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75696 invoked from network); 16 May 2003 10:01:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 10:01:59 -0000
Received: (qmail 28938 invoked by uid 97); 16 May 2003 10:04:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28930 invoked from network); 16 May 2003 10:04:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 10:04:19 -0000
Received: (qmail 72783 invoked by uid 500); 16 May 2003 10:01:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72732 invoked from network); 16 May 2003 10:01:18 -0000
Received: from pine.linde-va.de (145.225.75.243)
  by daedalus.apache.org with SMTP; 16 May 2003 10:01:18 -0000
Received: from elm.le.grp (unverified [145.225.75.181]) by pine.Linde-VA.de
 (Rockliffe SMTPRA 5.2.5) with SMTP id <B0002769261@pine.linde-va.de> for <lucene-user@jakarta.apache.org>;
 Fri, 16 May 2003 12:02:48 +0200
Subject: Re: German zusammengesetzte =?iso-8859-1?Q?Hauptw=F6rter?=
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF9EDB34ED.0C7C0E60-ONC1256D28.0037024A@linde-le.com>
From: Test2.Schwab@Linde-LE.com
Date: Fri, 16 May 2003 11:01:30 +0100
X-MIMETrack: Serialize by Router on D1S13/Servers/MUC/VA/Linde-VA(Release 5.0.8 |June 18, 2001) at
 05/16/2003 12:01:31 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


search with mitarbeiterausweis*
and you get the results!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4488-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 10:18:58 2003
Return-Path: <lucene-user-return-4488-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93480 invoked from network); 16 May 2003 10:18:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 10:18:56 -0000
Received: (qmail 29138 invoked by uid 97); 16 May 2003 10:21:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29131 invoked from network); 16 May 2003 10:21:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 10:21:15 -0000
Received: (qmail 93226 invoked by uid 500); 16 May 2003 10:18:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93214 invoked from network); 16 May 2003 10:18:52 -0000
Received: from contact.heuft.org (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 16 May 2003 10:18:52 -0000
Received: (qmail 3765 invoked from network); 16 May 2003 10:16:48 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 16 May 2003 10:16:48 -0000
Message-ID: <00f801c31b94$913623a0$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OF92D8A2F0.14E3770F-ONC1256D28.003649BD@linde-le.com>
Subject: =?iso-8859-1?Q?Re:_German_zusammengesetzte_Hauptw=F6rter?=
Date: Fri, 16 May 2003 12:18:58 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ok, I know that wildcards are not allowed at the beginning of words,
so what can I do to handle every searchword in the kind of:

String aktTerm = [indexed word in the lucene index];
int pos;
boolean searchword_in_index = false;

pos = aktTerm.indexOf(searchword);
searchword_in_index = pos>=0;

If I can build my own IndexSearcher to act like above I do not need the *
anymore.
Maybe the developers now how to integrate such a behavior without changing
the original lucene source and give me some hints.

Thanks for your help

Gnter Kukies

----- Original Message -----
From: <Test2.Schwab@Linde-LE.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 16, 2003 11:59 AM
Subject: Re: German zusammengesetzte Hauptwrter



Gnter,

As far I am informed, you can not search with bothside wildcards like
*ausweis*.
You can search for ausweis*. However I think, you won't get the results you
are searching for, because your words have a leftside term.
If you have words like
 Ausweisinhaber
Ausweiskontrolle
you can search with ausweis*

Regards,
Arsineh



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4489-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 14:51:10 2003
Return-Path: <lucene-user-return-4489-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98939 invoked from network); 16 May 2003 14:51:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 14:51:09 -0000
Received: (qmail 7075 invoked by uid 97); 16 May 2003 14:53:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7068 invoked from network); 16 May 2003 14:53:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 14:53:17 -0000
Received: (qmail 98587 invoked by uid 500); 16 May 2003 14:51:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98505 invoked from network); 16 May 2003 14:51:04 -0000
Received: from web12706.mail.yahoo.com (216.136.173.243)
  by daedalus.apache.org with SMTP; 16 May 2003 14:51:04 -0000
Message-ID: <20030516145106.41348.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP; Fri, 16 May 2003 07:51:06 PDT
Date: Fri, 16 May 2003 07:51:06 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: AND / OR mutiple term queris
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <EAEILFCMMGGPOLGCLCBAAECFCNAA.xguardiola@stq.urv.es>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The better the match, the closer the result to the beginning of the
Hits, so the document that has all the terms should be listed before
those documents that are matched only partially.

Note that you do not need to use both AND and + in your query string.

Otis

--- Xavier Guardiola <xguardiola@stq.urv.es> wrote:
> Hi all,
> I've got a question regarding how Lucene priorizes complex --like
> "yoggy
> drop the honey pot"-- query results.
> I wanted lucene to show first those results having ALL terms. By
> default
> lucene doesn't do this, so I transform all user queries to + AND
> ("+yoggy
> AND +drop AND +the AND +honey AND +pot"). It works nicely. However
> now I
> face the need to show AFTER the ALL-terms-results those results where
> SOME
> of the terms do appear. Is there a way of doing that easily?
> Thanks!
> 
> 
> --    Today's fortune:
> I never cheated an honest man, only rascals.  They wanted something
> for
> nothing.  I gave them nothing for something.
>                 -- Joseph "Yellow Kid" Weil
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4490-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 15:09:09 2003
Return-Path: <lucene-user-return-4490-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38696 invoked from network); 16 May 2003 15:09:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 15:09:08 -0000
Received: (qmail 8056 invoked by uid 97); 16 May 2003 15:11:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8049 invoked from network); 16 May 2003 15:11:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 15:11:16 -0000
Received: (qmail 35025 invoked by uid 500); 16 May 2003 15:08:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34964 invoked from network); 16 May 2003 15:08:20 -0000
Received: from stq.urv.es (193.147.220.6)
  by daedalus.apache.org with SMTP; 16 May 2003 15:08:20 -0000
Received: from Simpple07 ([193.147.220.215]) by stq.urv.es
          (Netscape Messaging Server 3.6)  with SMTP id AAA11B7
          for <lucene-user@jakarta.apache.org>;
          Fri, 16 May 2003 16:16:07 -0100
From: "Xavier Guardiola" <xguardiola@stq.urv.es>
To: <lucene-user@jakarta.apache.org>
Subject: Re: AND / OR mutiple term queris
Date: Fri, 16 May 2003 17:13:56 +0200
Message-ID: <EAEILFCMMGGPOLGCLCBACECKCNAA.xguardiola@stq.urv.es>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2483.0001
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes that's what it should be, but I forgot to mention that I assign
different weights to different fields as well as different weights to
different documents. So I may end up with a doc not having all the terms but
the highest score.
That's why I don't see a trivial way of getting the results in the desired
order (first those with all terms and then the rest)...

Xavi.

>The better the match, the closer the result to the beginning of the
>Hits, so the document that has all the terms should be listed before
>those documents that are matched only partially.
>
>Note that you do not need to use both AND and + in your query string.
>
>Otis

>>--- Xavier Guardiola <xguardiola@stq.urv.es> wrote:
>> Hi all,
>> I've got a question regarding how Lucene priorizes complex --like
>> "yoggy
>> drop the honey pot"-- query results.
>> I wanted lucene to show first those results having ALL terms. By
>> default
>> lucene doesn't do this, so I transform all user queries to + AND
>> ("+yoggy
>> AND +drop AND +the AND +honey AND +pot"). It works nicely. However
>> now I
>> face the need to show AFTER the ALL-terms-results those results where
>> SOME
>> of the terms do appear. Is there a way of doing that easily?
>> Thanks!


--    Today's fortune:
I never cheated an honest man, only rascals.  They wanted something for
nothing.  I gave them nothing for something.
                -- Joseph "Yellow Kid" Weil


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4491-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 15:13:42 2003
Return-Path: <lucene-user-return-4491-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58955 invoked from network); 16 May 2003 15:13:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 15:13:42 -0000
Received: (qmail 8228 invoked by uid 97); 16 May 2003 15:15:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8221 invoked from network); 16 May 2003 15:15:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 15:15:50 -0000
Received: (qmail 48860 invoked by uid 500); 16 May 2003 15:11:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48784 invoked from network); 16 May 2003 15:11:26 -0000
Received: from lilly.ping.de (62.72.90.2)
  by daedalus.apache.org with SMTP; 16 May 2003 15:11:26 -0000
Received: (qmail 28710 invoked from network); 16 May 2003 15:11:25 -0000
Received: (ofmipd 195.138.43.115); 16 May 2003 15:11:03 -0000
Date: 16 May 2003 17:12:54 +0200
Message-ID: <001501c31bbd$a09e1770$a501a8c0@computer2>
From: "Andreas Kuckartz" <A.Kuckartz@ping.de>
To: lucene-user@jakarta.apache.org
Subject: Lucene not used on xml.apache.org
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Instead of Lucene xml.apache.org uses Google. What are the reasons for not
using Lucene ?

Andreas


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4492-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 15:32:07 2003
Return-Path: <lucene-user-return-4492-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4380 invoked from network); 16 May 2003 15:32:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 15:32:07 -0000
Received: (qmail 9149 invoked by uid 97); 16 May 2003 15:34:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9142 invoked from network); 16 May 2003 15:34:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 15:34:14 -0000
Received: (qmail 3421 invoked by uid 500); 16 May 2003 15:31:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3387 invoked from network); 16 May 2003 15:31:55 -0000
Received: from web40111.mail.yahoo.com (66.218.78.45)
  by daedalus.apache.org with SMTP; 16 May 2003 15:31:55 -0000
Message-ID: <20030516153157.87057.qmail@web40111.mail.yahoo.com>
Received: from [163.188.121.119] by web40111.mail.yahoo.com via HTTP; Fri, 16 May 2003 08:31:57 PDT
Date: Fri, 16 May 2003 08:31:57 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: Indexing encrypted PDF documents using PDFBox-0.6.1
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <001501c31bbd$a09e1770$a501a8c0@computer2>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Has anybody successfully indexed encrypted pdf
documents?

I get NullPointerException at

decryptor.decryptDocument( "" );

Thanks
Shoba

Code:
--------
public static Document pdfDocument(Document document,
File file) throws Exception
    {
        PDDocument pdDocument = null;
        try
        {
            PDFParser parser = new PDFParser(new
FileInputStream(file));
            parser.parse();

            pdDocument = parser.getPDDocument();
            System.out.println("pdDocument :  " +
pdDocument);

            if( pdDocument.isEncrypted() )
            {
                DecryptDocument decryptor = new
DecryptDocument( pdDocument );
                System.out.println("decryptor :  " +
decryptor);
                //Just try using the default password
and move on
                decryptor.decryptDocument( "" );
            }

            //create a tmp output stream with the size
of the content.
            ByteArrayOutputStream out = new
ByteArrayOutputStream();
            OutputStreamWriter writer = new
OutputStreamWriter( out );
            PDFTextStripper stripper = new
PDFTextStripper();
            stripper.writeText(
pdDocument.getDocument(), writer );
            writer.close();

            byte[] contents = out.toByteArray();
            out.close();
            InputStreamReader input = new
InputStreamReader( new ByteArrayInputStream( contents
) );

            // Add the tag-stripped contents as a
Reader-valued Text field so it will
            // get tokenized and indexed.
            document.add(Field.Text("Contents", input
));

            int summarySize = Math.min(
contents.length, 200 );
            // Add the summary as an UnIndexed field,
so that it is stored and returned
            // with hit documents for display.
            //System.out.println(" ************** PDF
summary : " + new String( contents, 0, summarySize ));
            document.add(Field.UnIndexed("Summary",
new String( contents, 0, summarySize ) ) );

            //add the properties
            //addProperties(document, pdDocument);
        }
        catch( CryptographyException e )
        {
            throw new IOException("Error decrypting
document(" + file.getPath() + "): " + e.getMessage());
        }
        catch( InvalidPasswordException e )
        {
            //they didn't suppply a password and the
default of "" was wrong.
            throw new IOException("The document(" +
file.getPath() + ") is encrypted and will not be
indexed.");
        }
        finally
        {
            if(pdDocument!=null) pdDocument.close();
        }
        return document;
    }

__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4493-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 15:32:18 2003
Return-Path: <lucene-user-return-4493-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5200 invoked from network); 16 May 2003 15:32:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 15:32:17 -0000
Received: (qmail 9164 invoked by uid 97); 16 May 2003 15:34:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9152 invoked from network); 16 May 2003 15:34:25 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 15:34:25 -0000
Received: (qmail 4328 invoked by uid 500); 16 May 2003 15:32:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4288 invoked from network); 16 May 2003 15:32:05 -0000
Received: from mousepad.xtramind.dfki.de (134.96.191.5)
  by daedalus.apache.org with SMTP; 16 May 2003 15:32:05 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id E963F7CF7
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 17:32:06 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id CC21B7CF0
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 17:32:04 +0200 (MEST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: =?iso-8859-1?Q?AW=3A_German_zusammengesetzte_Hauptw=F6rter?=
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Fri, 16 May 2003 17:32:04 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC0159A9@omicron.xtramind.dfki.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: =?iso-8859-1?Q?German_zusammengesetzte_Hauptw=F6rter?=
Thread-Index: AcMbkfpEIwciHQ71QhWDpY1T7tIS0gAK70aQ
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

without any sophisticated linguistic techniques (German word=20
decomposition is not a simple topic), there are some other options=20
as well:

(1) Use of an analyzer that stores each word both in the normal
direction and backwards at the same token position. Ie., the word
ausweis will be indexed both as 'ausweis' and 'siewsua'. Then, for=20
every word you find in a query (without bolean operations) that
has a * at the beginning, simply reverse the word and add the *
to the end. Thus, *ausweis will find, for instance, siewsualanosrep;
that is personalausweis backwards. However, highlighting could be
trickier than usual. Another drawback: the number of tokens in the=20
index doubles.

(2) Use a term enumerator. The WildcardTermEnum gives a good
example of how you can iterate over all terms of an index
and find matching terms for any kind of similarity operation.
Thus, you could take your search word and return every word
where the search word occurs in. On a larger index with lots of=20
tokens, this operation could be expensive with a naive
implementation, but worth a try.=20

Regards,

Karsten


-----Urspr=FCngliche Nachricht-----
Von: Test2.Schwab@Linde-LE.com [mailto:Test2.Schwab@Linde-LE.com]
Gesendet: Freitag, 16. Mai 2003 12:00
An: Lucene Users List
Betreff: Re: German zusammengesetzte Hauptw=F6rter



G=FCnter,

As far I am informed, you can not search with bothside wildcards like
*ausweis*.
You can search for ausweis*. However I think, you won't get the results =
you
are searching for, because your words have a leftside term.
If you have words like
 Ausweisinhaber
Ausweiskontrolle
you can search with ausweis*

Regards,
Arsineh



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4494-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 15:33:49 2003
Return-Path: <lucene-user-return-4494-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10616 invoked from network); 16 May 2003 15:33:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 15:33:49 -0000
Received: (qmail 9237 invoked by uid 97); 16 May 2003 15:35:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9230 invoked from network); 16 May 2003 15:35:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 15:35:57 -0000
Received: (qmail 10298 invoked by uid 500); 16 May 2003 15:33:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10271 invoked from network); 16 May 2003 15:33:44 -0000
Received: from web12705.mail.yahoo.com (216.136.173.242)
  by daedalus.apache.org with SMTP; 16 May 2003 15:33:44 -0000
Message-ID: <20030516153346.60206.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP; Fri, 16 May 2003 08:33:46 PDT
Date: Fri, 16 May 2003 08:33:46 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene not used on xml.apache.org
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <001501c31bbd$a09e1770$a501a8c0@computer2>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am not sure, but you also have to keep in mind that Lucene is not a
web crawler, and Google is, so by using Google xml.apache.org people
don't have to do any work: they don't need to write a crawler that
crawls the site or the file system, they don't have to schedule
anything, etc.

But they should use Lucene, you are right :)
They don't know what they are missing...

Otis


--- Andreas Kuckartz <A.Kuckartz@ping.de> wrote:
> Instead of Lucene xml.apache.org uses Google. What are the reasons
> for not
> using Lucene ?
> 
> Andreas
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4495-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 15:54:05 2003
Return-Path: <lucene-user-return-4495-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51770 invoked from network); 16 May 2003 15:54:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 15:54:05 -0000
Received: (qmail 9762 invoked by uid 97); 16 May 2003 15:56:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9755 invoked from network); 16 May 2003 15:56:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 15:56:13 -0000
Received: (qmail 49488 invoked by uid 500); 16 May 2003 15:53:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49463 invoked from network); 16 May 2003 15:53:27 -0000
Received: from smtp-out1.iol.cz (194.228.2.86)
  by daedalus.apache.org with SMTP; 16 May 2003 15:53:27 -0000
Received: from fw.shark (unknown [160.218.199.157])
	by smtp-out1.iol.cz (Internet on Line ESMTP server) with ESMTP id C6E2616877E
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 17:54:32 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.5/8.12.5) with ESMTP id h4GFreGM026098
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 17:53:42 +0200
Message-ID: <3EC50983.3010200@seznam.cz>
Date: Fri, 16 May 2003 17:53:39 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene not used on xml.apache.org
References: <20030516153346.60206.qmail@web12705.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>
>
>But they should use Lucene, you are right :)
>They don't know what they are missing...
>  
>
Do you mean the hit lists, which often list low rank pages (i.e. JavaDoc 
APIs) before solid project pages? ;-)

Unfortunately, Lucene does not implement any mechanism that would be 
able to eliminate this behaviour IMHO.

-g-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4496-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 16:00:12 2003
Return-Path: <lucene-user-return-4496-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65721 invoked from network); 16 May 2003 16:00:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 16:00:12 -0000
Received: (qmail 9965 invoked by uid 97); 16 May 2003 16:02:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9957 invoked from network); 16 May 2003 16:02:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 16:02:20 -0000
Received: (qmail 65001 invoked by uid 500); 16 May 2003 15:59:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64954 invoked from network); 16 May 2003 15:59:59 -0000
Received: from merc62.na.sas.com (149.173.6.49)
  by daedalus.apache.org with SMTP; 16 May 2003 15:59:59 -0000
Received: from merc12.na.sas.com ([10.19.11.9]) by 10.19.11.46 with InterScan Messaging Security Suite; Fri, 16 May 2003 12:00:00 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6410.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene not used on xml.apache.org
Date: Fri, 16 May 2003 11:59:59 -0400
Message-ID: <187D6D956106D84E9D8B280F6458FE14018D9AA6@merc12.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene not used on xml.apache.org
Thread-Index: AcMbw2SRm80glinSQOKLWD4MrRe3VgAAGIKg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What is wrong with Document.setBoost(float)
/** Sets a boost factor for hits on any field of this document.  This =
value
 * will be multiplied into the score of all hits on this document.
 */

If you know you are indexing a certain kind of page and your application =
using Lucene wants to lower the importance of those pages, set this to =
some low number like .2 when you are adding them to the index.

Eric

-----Original Message-----
From: Leo Galambos [mailto:Leo.G@seznam.cz]=20
Sent: Friday, May 16, 2003 11:54 AM
To: Lucene Users List
Subject: Re: Lucene not used on xml.apache.org


>
>
>But they should use Lucene, you are right :)
>They don't know what they are missing...
> =20
>
Do you mean the hit lists, which often list low rank pages (i.e. JavaDoc =

APIs) before solid project pages? ;-)

Unfortunately, Lucene does not implement any mechanism that would be=20
able to eliminate this behaviour IMHO.

-g-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4497-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 16:45:56 2003
Return-Path: <lucene-user-return-4497-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70694 invoked from network); 16 May 2003 16:45:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 16:45:55 -0000
Received: (qmail 11469 invoked by uid 97); 16 May 2003 16:48:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11462 invoked from network); 16 May 2003 16:48:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 16:48:04 -0000
Received: (qmail 67720 invoked by uid 500); 16 May 2003 16:45:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67671 invoked from network); 16 May 2003 16:45:15 -0000
Received: from smtp-out2.iol.cz (194.228.2.87)
  by daedalus.apache.org with SMTP; 16 May 2003 16:45:15 -0000
Received: from fw.shark (unknown [160.218.199.157])
	by smtp-out2.iol.cz (Internet on Line ESMTP server) with ESMTP id D0DEF348B3
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 18:46:19 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.5/8.12.5) with ESMTP id h4GGjUGM026206
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 18:45:31 +0200
Message-ID: <3EC515A9.5020408@seznam.cz>
Date: Fri, 16 May 2003 18:45:29 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene not used on xml.apache.org
References: <187D6D956106D84E9D8B280F6458FE14018D9AA6@merc12.na.sas.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am not sure about your solution. The function destroys the 
normalization of the document vector, I guess, and it may have a 
negative impact on the IR system. The function is a hack (from IR point 
of view) with many drawbacks, i.e.:

1) is "0.2" an ideal choice? what about 0.6, 0.1, or 0.25? What's better?
2) a man must analyze the pages, it costs money and time
3) how will you assign those values to FAQ, API, documentation, mail 
archives etc.? and what about HUB (central) pages?

It may be, that the function is designed for users who solve classic 
relation DB problems in Lucene (although I do not know why). On the 
other hand, it is not "manageable" for full-text system, I guess.

-g-

Eric Isakson wrote:

>What is wrong with Document.setBoost(float)
>/** Sets a boost factor for hits on any field of this document.  This value
> * will be multiplied into the score of all hits on this document.
> */
>
>If you know you are indexing a certain kind of page and your application using Lucene wants to lower the importance of those pages, set this to some low number like .2 when you are adding them to the index.
>
>Eric
>
>-----Original Message-----
>From: Leo Galambos [mailto:Leo.G@seznam.cz] 
>Sent: Friday, May 16, 2003 11:54 AM
>To: Lucene Users List
>Subject: Re: Lucene not used on xml.apache.org
>
>
>  
>
>>But they should use Lucene, you are right :)
>>They don't know what they are missing...
>> 
>>
>>    
>>
>Do you mean the hit lists, which often list low rank pages (i.e. JavaDoc 
>APIs) before solid project pages? ;-)
>
>Unfortunately, Lucene does not implement any mechanism that would be 
>able to eliminate this behaviour IMHO.
>
>-g-
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4498-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 16:46:14 2003
Return-Path: <lucene-user-return-4498-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71921 invoked from network); 16 May 2003 16:46:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 16:46:14 -0000
Received: (qmail 11482 invoked by uid 97); 16 May 2003 16:48:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11475 invoked from network); 16 May 2003 16:48:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 16:48:23 -0000
Received: (qmail 71671 invoked by uid 500); 16 May 2003 16:46:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71654 invoked from network); 16 May 2003 16:46:10 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 16 May 2003 16:46:10 -0000
Message-ID: <20030516164613.12783.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP; Fri, 16 May 2003 09:46:13 PDT
Date: Fri, 16 May 2003 09:46:13 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Lucene not used on xml.apache.org
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <187D6D956106D84E9D8B280F6458FE14018D9AA6@merc12.na.sas.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think Leo keeps thinking that about Lucene as a text indexing tool
for the web, when in fact it is a generic indexing tool.

Otis

--- Eric Isakson <Eric.Isakson@sas.com> wrote:
> What is wrong with Document.setBoost(float)
> /** Sets a boost factor for hits on any field of this document.  This
> value
>  * will be multiplied into the score of all hits on this document.
>  */
> 
> If you know you are indexing a certain kind of page and your
> application using Lucene wants to lower the importance of those
> pages, set this to some low number like .2 when you are adding them
> to the index.
> 
> Eric
> 
> -----Original Message-----
> From: Leo Galambos [mailto:Leo.G@seznam.cz] 
> Sent: Friday, May 16, 2003 11:54 AM
> To: Lucene Users List
> Subject: Re: Lucene not used on xml.apache.org
> 
> 
> >
> >
> >But they should use Lucene, you are right :)
> >They don't know what they are missing...
> >  
> >
> Do you mean the hit lists, which often list low rank pages (i.e.
> JavaDoc 
> APIs) before solid project pages? ;-)
> 
> Unfortunately, Lucene does not implement any mechanism that would be 
> able to eliminate this behaviour IMHO.
> 
> -g-
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4499-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 16 21:41:45 2003
Return-Path: <lucene-user-return-4499-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56329 invoked from network); 16 May 2003 21:41:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 May 2003 21:41:44 -0000
Received: (qmail 22507 invoked by uid 97); 16 May 2003 21:43:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22500 invoked from network); 16 May 2003 21:43:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 16 May 2003 21:43:52 -0000
Received: (qmail 55675 invoked by uid 500); 16 May 2003 21:41:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55663 invoked from network); 16 May 2003 21:41:37 -0000
Received: from sccrmhc01.attbi.com (204.127.202.61)
  by daedalus.apache.org with SMTP; 16 May 2003 21:41:37 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by attbi.com (sccrmhc01) with SMTP
          id <2003051621414300100fqtkse>; Fri, 16 May 2003 21:41:43 +0000
Message-ID: <3EC55B19.70705@lucene.com>
Date: Fri, 16 May 2003 14:41:45 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030313
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AND / OR mutiple term queris
References: <EAEILFCMMGGPOLGCLCBACECKCNAA.xguardiola@stq.urv.es>
In-Reply-To: <EAEILFCMMGGPOLGCLCBACECKCNAA.xguardiola@stq.urv.es>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Xavier Guardiola wrote:
> Yes that's what it should be, but I forgot to mention that I assign
> different weights to different fields as well as different weights to
> different documents. So I may end up with a doc not having all the terms but
> the highest score.
> That's why I don't see a trivial way of getting the results in the desired
> order (first those with all terms and then the rest)...

Try overriding Similarity.coord(int,int).

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#coord(int,%20int)

You might use something like:

   private static double POWER = 3.0;

   public float coord(int overlap, int maxOverlap) {
     int missing = maxOverlap - overlap; // # of query terms missing
     return (float)Math.pow(1.0 / (missing + 1), POWER);
   }

Thus, a hit missing one query term would have its score multiplied by 
1/8, hits missing two terms would get 1/27th the score, and so on. 
Adjust POWER to suit.  With high-enough POWER you can pretty much 
guarantee that all documents with any missing terms are ranked below any 
with all query terms.

Tell me how it goes,

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4500-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 17 00:35:52 2003
Return-Path: <lucene-user-return-4500-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35174 invoked from network); 17 May 2003 00:35:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 May 2003 00:35:51 -0000
Received: (qmail 2209 invoked by uid 97); 17 May 2003 00:38:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2202 invoked from network); 17 May 2003 00:38:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 May 2003 00:38:04 -0000
Received: (qmail 32951 invoked by uid 500); 17 May 2003 00:35:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32879 invoked from network); 17 May 2003 00:35:28 -0000
Received: from blacksheep.csh.rit.edu (129.21.60.6)
  by daedalus.apache.org with SMTP; 17 May 2003 00:35:28 -0000
Received: from fury.csh.rit.edu (fury.csh.rit.edu [2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id BB55D3A3
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 20:35:35 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 4F80C1259; Fri, 16 May 2003 20:35:35 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 1F44811B5
	for <lucene-user@jakarta.apache.org>; Fri, 16 May 2003 20:35:35 -0400 (EDT)
Date: Fri, 16 May 2003 20:35:34 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing encrypted PDF documents using PDFBox-0.6.1
In-Reply-To: <20030516153157.87057.qmail@web40111.mail.yahoo.com>
Message-ID: <Pine.GSO.4.53.0305162034160.59@fury.csh.rit.edu>
References: <20030516153157.87057.qmail@web40111.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


This seems to be more of a PDFBox issue than a lucene issue.  Please post
the stacktrace on the PDFBox mailing list.  Also 0.6.2 is available which
fixed some bugs.

http://www.sourceforge.net/projects/pdfbox
http://www.pdfbox.org

Ben


On Fri, 16 May 2003, Shoba Ramachandran wrote:

> Hi,
>
> Has anybody successfully indexed encrypted pdf
> documents?
>
> I get NullPointerException at
>
> decryptor.decryptDocument( "" );
>
> Thanks
> Shoba
>
> Code:
> --------
> public static Document pdfDocument(Document document,
> File file) throws Exception
>     {
>         PDDocument pdDocument = null;
>         try
>         {
>             PDFParser parser = new PDFParser(new
> FileInputStream(file));
>             parser.parse();
>
>             pdDocument = parser.getPDDocument();
>             System.out.println("pdDocument :  " +
> pdDocument);
>
>             if( pdDocument.isEncrypted() )
>             {
>                 DecryptDocument decryptor = new
> DecryptDocument( pdDocument );
>                 System.out.println("decryptor :  " +
> decryptor);
>                 //Just try using the default password
> and move on
>                 decryptor.decryptDocument( "" );
>             }
>
>             //create a tmp output stream with the size
> of the content.
>             ByteArrayOutputStream out = new
> ByteArrayOutputStream();
>             OutputStreamWriter writer = new
> OutputStreamWriter( out );
>             PDFTextStripper stripper = new
> PDFTextStripper();
>             stripper.writeText(
> pdDocument.getDocument(), writer );
>             writer.close();
>
>             byte[] contents = out.toByteArray();
>             out.close();
>             InputStreamReader input = new
> InputStreamReader( new ByteArrayInputStream( contents
> ) );
>
>             // Add the tag-stripped contents as a
> Reader-valued Text field so it will
>             // get tokenized and indexed.
>             document.add(Field.Text("Contents", input
> ));
>
>             int summarySize = Math.min(
> contents.length, 200 );
>             // Add the summary as an UnIndexed field,
> so that it is stored and returned
>             // with hit documents for display.
>             //System.out.println(" ************** PDF
> summary : " + new String( contents, 0, summarySize ));
>             document.add(Field.UnIndexed("Summary",
> new String( contents, 0, summarySize ) ) );
>
>             //add the properties
>             //addProperties(document, pdDocument);
>         }
>         catch( CryptographyException e )
>         {
>             throw new IOException("Error decrypting
> document(" + file.getPath() + "): " + e.getMessage());
>         }
>         catch( InvalidPasswordException e )
>         {
>             //they didn't suppply a password and the
> default of "" was wrong.
>             throw new IOException("The document(" +
> file.getPath() + ") is encrypted and will not be
> indexed.");
>         }
>         finally
>         {
>             if(pdDocument!=null) pdDocument.close();
>         }
>         return document;
>     }
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4501-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 17 01:04:02 2003
Return-Path: <lucene-user-return-4501-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49088 invoked from network); 17 May 2003 01:04:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 May 2003 01:04:02 -0000
Received: (qmail 2362 invoked by uid 97); 17 May 2003 01:06:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2355 invoked from network); 17 May 2003 01:06:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 May 2003 01:06:16 -0000
Received: (qmail 48784 invoked by uid 500); 17 May 2003 01:04:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48773 invoked from network); 17 May 2003 01:03:59 -0000
Received: from smtp-out2.iol.cz (194.228.2.87)
  by daedalus.apache.org with SMTP; 17 May 2003 01:03:59 -0000
Received: from fw.shark (unknown [160.218.199.157])
	by smtp-out2.iol.cz (Internet on Line ESMTP server) with ESMTP id DC9FB36964
	for <lucene-user@jakarta.apache.org>; Sat, 17 May 2003 03:05:05 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.5/8.12.5) with ESMTP id h4H14EGM027184
	for <lucene-user@jakarta.apache.org>; Sat, 17 May 2003 03:04:16 +0200
Message-ID: <3EC58A93.7000807@seznam.cz>
Date: Sat, 17 May 2003 03:04:19 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene not used on xml.apache.org -> pagerank
References: <20030516164613.12783.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

When a tool X is used for xml.apache.org (it is a web site, isn't it?), 
then the tool X must be evaluated as a web tool. This fact has no 
relevance to me, I think. ;-)

You talk about "generic tool", thus I start to read LuceneAPI. I guess, 
you cannot implement dozen features effectively, for instance, the 
pagerank that is discussed by us now.

Option 1: You could use setBoost, then the issue is modification of 
these values - pagerank is not a constant value.

Option 2: You could modify Similarity object, and upload the pagerank 
values from a separate DB. The issue is the handle you need to get the 
value. UID is volatile, so you must use other metadata values - it costs 
time. If you puzzle it out with UID directly (I do not see how), you 
have another issue in Merger, because it is hard-coded, thus you lost 
the joint between UID and other DB here.

Option 3: You could recalculate the pagerank to 1-10 values, and each 
value would establish a separate index. The issue is related to O/S. a) 
you compute hit lists concurrently, then Lucene needs a lot of file 
handles, and it may open DoS. b) you calculate the similarity 
sequentially, then you lost time during .tii/.tis lookup (you have to 
process 10x more barrels).

I may miss something, that's true, but I do not think, that the label 
"generic" automatically means "universal". That is the point.

-g-

Otis Gospodnetic wrote:

>I think Leo keeps thinking that about Lucene as a text indexing tool
>for the web, when in fact it is a generic indexing tool.
>
>Otis
>
>--- Eric Isakson <Eric.Isakson@sas.com> wrote:
>  
>
>>What is wrong with Document.setBoost(float)
>>/** Sets a boost factor for hits on any field of this document.  This
>>value
>> * will be multiplied into the score of all hits on this document.
>> */
>>
>>If you know you are indexing a certain kind of page and your
>>application using Lucene wants to lower the importance of those
>>pages, set this to some low number like .2 when you are adding them
>>to the index.
>>
>>Eric
>>
>>-----Original Message-----
>>From: Leo Galambos [mailto:Leo.G@seznam.cz] 
>>Sent: Friday, May 16, 2003 11:54 AM
>>To: Lucene Users List
>>Subject: Re: Lucene not used on xml.apache.org
>>
>>
>>    
>>
>>>But they should use Lucene, you are right :)
>>>They don't know what they are missing...
>>> 
>>>
>>>      
>>>
>>Do you mean the hit lists, which often list low rank pages (i.e.
>>JavaDoc 
>>APIs) before solid project pages? ;-)
>>
>>Unfortunately, Lucene does not implement any mechanism that would be 
>>able to eliminate this behaviour IMHO.
>>
>>-g-
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>__________________________________
>Do you Yahoo!?
>The New Yahoo! Search - Faster. Easier. Bingo.
>http://search.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4502-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 17 09:14:42 2003
Return-Path: <lucene-user-return-4502-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8171 invoked from network); 17 May 2003 09:14:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 May 2003 09:14:41 -0000
Received: (qmail 8337 invoked by uid 97); 17 May 2003 09:17:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8330 invoked from network); 17 May 2003 09:17:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 17 May 2003 09:17:00 -0000
Received: (qmail 7875 invoked by uid 500); 17 May 2003 09:14:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7825 invoked from network); 17 May 2003 09:14:33 -0000
Received: from unknown (HELO hostorg.contata.co.in) (203.196.139.82)
  by daedalus.apache.org with SMTP; 17 May 2003 09:14:33 -0000
Received: from developer (developer.contata.co.in [193.168.0.1])
	by hostorg.contata.co.in (8.12.5/8.12.5) with SMTP id h4H9V8p5003042
	for <lucene-user@jakarta.apache.org>; Sat, 17 May 2003 15:01:08 +0530
Message-ID: <002001c31c54$ce6fa640$0100a8c1@contatan.com>
From: "Subhrajyoti Moitra" <subhrajyotim@contata.co.in>
To: "lucene mailing list" <lucene-user@jakarta.apache.org>
Subject: multi field wildcard boolean query
Date: Sat, 17 May 2003 14:45:06 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001D_01C31C82.E8140C20"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001D_01C31C82.E8140C20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
I have a jsp which has five text box. The user puts in some text in 1 or =
more text boxes.
I want to conduct a multi field wildcard search.
Eg:

for textBox1 the user enters "hello"
for textBox2 the user enters "ar*"
for textBox3 the user enters "jav?"
for textBox4 the user enters "apa*"

now i want to conduct a search

field1: hello field2:ar* field3:jav? field4:apa*

so in verbose mode- i want all results which has field1 as "hello" (this =
is complete term) AND field2 as anything starting with "ar" AND ... so =
on.

How do i do this??

What if the user instead of a single term, inputs a phrase like "cool =
dude"?

Please help me.

thanks in advance.
subhro.
------=_NextPart_000_001D_01C31C82.E8140C20--



From lucene-user-return-4503-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sun May 18 19:50:46 2003
Return-Path: <lucene-user-return-4503-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7426 invoked from network); 18 May 2003 19:50:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 18 May 2003 19:50:46 -0000
Received: (qmail 20053 invoked by uid 97); 18 May 2003 19:52:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20046 invoked from network); 18 May 2003 19:52:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 18 May 2003 19:52:57 -0000
Received: (qmail 7156 invoked by uid 500); 18 May 2003 19:50:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7143 invoked from network); 18 May 2003 19:50:43 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 18 May 2003 19:50:43 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-8.00) id A34E1180008E; Sun, 18 May 2003 14:47:26 -0500
Message-ID: <001801c31d76$caecaa40$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: <lucene-user@jakarta.apache.org>
Subject: JSP:Search tag problem
Date: Sun, 18 May 2003 14:50:53 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ok,
I found a problem with the getFields() method of the search tag in the
jakarta-lucene-sandbox/contributions/taglib/result.jsp.

If no results are produced by your criteria and you call the getFields()
method to retrieve the table headers for you result set the getFields()
method returns null instead of an empty Set. I keep getting mixed results
while trying to fix this. In the mean time just try catch that method call
if you need to use it.

I did manage to add a new tag which I am currently testing. The Collection
tag takes a directory path and adds it to the list of indexes to include in
the resulting search, (MultiSearcher). I will submit it for review when I
have tested a little more.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4504-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 02:32:28 2003
Return-Path: <lucene-user-return-4504-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62088 invoked from network); 19 May 2003 02:32:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 02:32:27 -0000
Received: (qmail 25753 invoked by uid 97); 19 May 2003 02:34:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25746 invoked from network); 19 May 2003 02:34:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 02:34:42 -0000
Received: (qmail 61776 invoked by uid 500); 19 May 2003 02:32:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61745 invoked from network); 19 May 2003 02:32:22 -0000
Received: from unknown (HELO svntjt1-46.watercorporation.com.au) (159.52.65.24)
  by daedalus.apache.org with SMTP; 19 May 2003 02:32:22 -0000
Received: by svntjt1-46.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <L1TRG018>; Mon, 19 May 2003 10:17:22 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00F9752A4@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Lucene not used on xml.apache.org -> pagerank
Date: Mon, 19 May 2003 10:17:19 +0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Erm, isnt "PageRank" trademarked by Google and covered by a patent (6285999)
?? So we wouldn't want to implement it and infringe would we ? ;-)




> -----Original Message-----
> From:	Leo Galambos [SMTP:Leo.G@seznam.cz]
> Sent:	Saturday, May 17, 2003 9:04 AM
> To:	Lucene Users List
> Subject:	Re: Lucene not used on xml.apache.org -> pagerank
> 
> When a tool X is used for xml.apache.org (it is a web site, isn't it?), 
> then the tool X must be evaluated as a web tool. This fact has no 
> relevance to me, I think. ;-)
> 
> You talk about "generic tool", thus I start to read LuceneAPI. I guess, 
> you cannot implement dozen features effectively, for instance, the 
> pagerank that is discussed by us now.
> 
> Option 1: You could use setBoost, then the issue is modification of 
> these values - pagerank is not a constant value.
> 
> Option 2: You could modify Similarity object, and upload the pagerank 
> values from a separate DB. The issue is the handle you need to get the 
> value. UID is volatile, so you must use other metadata values - it costs 
> time. If you puzzle it out with UID directly (I do not see how), you 
> have another issue in Merger, because it is hard-coded, thus you lost 
> the joint between UID and other DB here.
> 
> Option 3: You could recalculate the pagerank to 1-10 values, and each 
> value would establish a separate index. The issue is related to O/S. a) 
> you compute hit lists concurrently, then Lucene needs a lot of file 
> handles, and it may open DoS. b) you calculate the similarity 
> sequentially, then you lost time during .tii/.tis lookup (you have to 
> process 10x more barrels).
> 
> I may miss something, that's true, but I do not think, that the label 
> "generic" automatically means "universal". That is the point.
> 
> -g-
> 
> Otis Gospodnetic wrote:
> 
> >I think Leo keeps thinking that about Lucene as a text indexing tool
> >for the web, when in fact it is a generic indexing tool.
> >
> >Otis
> >
> >--- Eric Isakson <Eric.Isakson@sas.com> wrote:
> >  
> >
> >>What is wrong with Document.setBoost(float)
> >>/** Sets a boost factor for hits on any field of this document.  This
> >>value
> >> * will be multiplied into the score of all hits on this document.
> >> */
> >>
> >>If you know you are indexing a certain kind of page and your
> >>application using Lucene wants to lower the importance of those
> >>pages, set this to some low number like .2 when you are adding them
> >>to the index.
> >>
> >>Eric
> >>
> >>-----Original Message-----
> >>From: Leo Galambos [mailto:Leo.G@seznam.cz] 
> >>Sent: Friday, May 16, 2003 11:54 AM
> >>To: Lucene Users List
> >>Subject: Re: Lucene not used on xml.apache.org
> >>
> >>
> >>    
> >>
> >>>But they should use Lucene, you are right :)
> >>>They don't know what they are missing...
> >>> 
> >>>
> >>>      
> >>>
> >>Do you mean the hit lists, which often list low rank pages (i.e.
> >>JavaDoc 
> >>APIs) before solid project pages? ;-)
> >>
> >>Unfortunately, Lucene does not implement any mechanism that would be 
> >>able to eliminate this behaviour IMHO.
> >>
> >>-g-
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >
> >__________________________________
> >Do you Yahoo!?
> >The New Yahoo! Search - Faster. Easier. Bingo.
> >http://search.yahoo.com
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >  
> >
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4505-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 10:07:29 2003
Return-Path: <lucene-user-return-4505-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10350 invoked from network); 19 May 2003 10:07:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 10:07:28 -0000
Received: (qmail 3328 invoked by uid 97); 19 May 2003 10:09:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3321 invoked from network); 19 May 2003 10:09:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 10:09:47 -0000
Received: (qmail 10101 invoked by uid 500); 19 May 2003 10:07:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10079 invoked from network); 19 May 2003 10:07:22 -0000
Received: from contact.heuft.org (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 19 May 2003 10:07:22 -0000
Received: (qmail 3072 invoked from network); 19 May 2003 10:05:13 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 19 May 2003 10:05:13 -0000
Message-ID: <014c01c31dee$72e5f180$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3B48940F2D7712428BD31A041A367DDC0159A9@omicron.xtramind.dfki.de>
Subject: =?iso-8859-1?Q?Re:_German_zusammengesetzte_Hauptw=F6rter?=
Date: Mon, 19 May 2003 12:07:25 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

this is my naive TermEnumerator:


import java.io.IOException;

import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.Term;
import org.apache.lucene.search.*;

/**
 * Subclass of FilteredTermEnum for enumerating all terms that match the
 * specified filter term (word snip in a term).
 * like ausweis in Mitarbeiterausweishalter
 * <p>
 * Term enumerations are always ordered by Term.compareTo().  Each term in
 * the enumeration is greater than all that precede it.
 */
public class SingleWordTermEnum extends FilteredTermEnum {
    Term searchTerm;
    String field = "";
    String text = "";

    boolean fieldMatch = false;
    boolean endEnum = false;

    /** Creates new SingleWordTermEnum */
    public SingleWordTermEnum(IndexReader reader, Term term) throws
IOException {
        super(reader, term);
        searchTerm = term;
        field = searchTerm.field();
        text = searchTerm.text();
        setEnum(reader.terms(new Term(searchTerm.field(), text)));
    }

    protected final boolean termCompare(Term term)
        if (field == term.field()) {
            String searchText = term.text();
            return (searchText.indexOf(text)>=0);
        }
        endEnum = true;
        return false;
    }

    public final float difference() {
        return 1.0f;
    }

    public final boolean endEnum() {
        return endEnum;
    }

    public void close() throws IOException {
        super.close();
        searchTerm = null;
        field = null;
        text = null;
    }
}


Gnter

----- Original Message -----
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 16, 2003 5:32 PM
Subject: AW: German zusammengesetzte Hauptwrter



Hi,

without any sophisticated linguistic techniques (German word
decomposition is not a simple topic), there are some other options
as well:

(1) Use of an analyzer that stores each word both in the normal
direction and backwards at the same token position. Ie., the word
ausweis will be indexed both as 'ausweis' and 'siewsua'. Then, for
every word you find in a query (without bolean operations) that
has a * at the beginning, simply reverse the word and add the *
to the end. Thus, *ausweis will find, for instance, siewsualanosrep;
that is personalausweis backwards. However, highlighting could be
trickier than usual. Another drawback: the number of tokens in the
index doubles.

(2) Use a term enumerator. The WildcardTermEnum gives a good
example of how you can iterate over all terms of an index
and find matching terms for any kind of similarity operation.
Thus, you could take your search word and return every word
where the search word occurs in. On a larger index with lots of
tokens, this operation could be expensive with a naive
implementation, but worth a try.

Regards,

Karsten


-----Ursprngliche Nachricht-----
Von: Test2.Schwab@Linde-LE.com [mailto:Test2.Schwab@Linde-LE.com]
Gesendet: Freitag, 16. Mai 2003 12:00
An: Lucene Users List
Betreff: Re: German zusammengesetzte Hauptwrter



Gnter,

As far I am informed, you can not search with bothside wildcards like
*ausweis*.
You can search for ausweis*. However I think, you won't get the results you
are searching for, because your words have a leftside term.
If you have words like
 Ausweisinhaber
Ausweiskontrolle
you can search with ausweis*

Regards,
Arsineh



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4506-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 12:21:22 2003
Return-Path: <lucene-user-return-4506-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72844 invoked from network); 19 May 2003 12:21:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 12:21:21 -0000
Received: (qmail 7299 invoked by uid 97); 19 May 2003 12:23:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7292 invoked from network); 19 May 2003 12:23:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 12:23:28 -0000
Received: (qmail 72563 invoked by uid 500); 19 May 2003 12:21:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72540 invoked from network); 19 May 2003 12:21:18 -0000
Received: from smtp-out4.iol.cz (194.228.2.92)
  by daedalus.apache.org with SMTP; 19 May 2003 12:21:18 -0000
Received: from fw.shark (gprs3149.eurotel.cz [160.218.194.149])
	by smtp-out4.iol.cz (Internet on Line ESMP server) with ESMTP id 612C52FFAB
	for <lucene-user@jakarta.apache.org>; Mon, 19 May 2003 14:22:19 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.5/8.12.5) with ESMTP id h4JCLRGM009089
	for <lucene-user@jakarta.apache.org>; Mon, 19 May 2003 14:21:32 +0200
Message-ID: <3EC8CC59.7050409@seznam.cz>
Date: Mon, 19 May 2003 14:21:45 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene not used on xml.apache.org -> pagerank
References: <1DB01C48A0A9D311995A00508B62B9F00F9752A4@svntjt1-03.watercorporation.com.au>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If you cannot use pagerank[tm][r][c], we'd talk about Kleinberg's or 
Bayesian alg., SALSA, PHITS, etc. And if you cannot utilize them (due to 
patents and laws), put up in another country, where freedom is not an 
empty word. ;-)

BTW: How would you like to handle semantic data structures? It is not 
only about web, but also about XML, mail archives, news, etc.

-g-

Leslie Hughes wrote:

>Erm, isnt "PageRank" trademarked by Google and covered by a patent (6285999)
>?? So we wouldn't want to implement it and infringe would we ? ;-)
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4507-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 14:50:38 2003
Return-Path: <lucene-user-return-4507-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93728 invoked from network); 19 May 2003 14:50:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 14:50:38 -0000
Received: (qmail 11100 invoked by uid 97); 19 May 2003 14:52:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11092 invoked from network); 19 May 2003 14:52:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 14:52:45 -0000
Received: (qmail 93463 invoked by uid 500); 19 May 2003 14:50:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93452 invoked from network); 19 May 2003 14:50:32 -0000
Received: from contact.heuft.org (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 19 May 2003 14:50:32 -0000
Received: (qmail 6014 invoked from network); 19 May 2003 14:48:09 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 19 May 2003 14:48:09 -0000
Message-ID: <01e101c31e15$f9b48650$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: List of queries from the queryparser
Date: Mon, 19 May 2003 16:50:19 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01DE_01C31E26.BAFED800"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01DE_01C31E26.BAFED800
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

is it possible to get a list of subqueries(array of query-objects) after =
a queraparser has done parsing?

Thanks for your help

G=FCnter

------=_NextPart_000_01DE_01C31E26.BAFED800--


From lucene-user-return-4508-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 14:59:39 2003
Return-Path: <lucene-user-return-4508-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20570 invoked from network); 19 May 2003 14:59:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 14:59:37 -0000
Received: (qmail 11741 invoked by uid 97); 19 May 2003 15:01:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11734 invoked from network); 19 May 2003 15:01:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 15:01:45 -0000
Received: (qmail 17987 invoked by uid 500); 19 May 2003 14:59:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17925 invoked from network); 19 May 2003 14:59:05 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 19 May 2003 14:59:05 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KLP5S1TW; Mon, 19 May 2003 11:03:09 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: multi field wildcard boolean query
Date: Mon, 19 May 2003 10:59:25 -0400
Message-ID: <006701c31e17$43192bb0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
In-Reply-To: <002001c31c54$ce6fa640$0100a8c1@contatan.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can use the BooleanQuery to join all the queries.
For instance use the QueryParser to parse ease input box query to a
Query Object
Then Use the BooleanQuery to join all the Query objects in to one AND
Query

Aviran

-----Original Message-----
From: Subhrajyoti Moitra [mailto:subhrajyotim@contata.co.in] 
Sent: Saturday, May 17, 2003 5:15 AM
To: lucene mailing list
Subject: multi field wildcard boolean query


Hi,
I have a jsp which has five text box. The user puts in some text in 1 or
more text boxes. I want to conduct a multi field wildcard search.
Eg:

for textBox1 the user enters "hello"
for textBox2 the user enters "ar*"
for textBox3 the user enters "jav?"
for textBox4 the user enters "apa*"

now i want to conduct a search

field1: hello field2:ar* field3:jav? field4:apa*

so in verbose mode- i want all results which has field1 as "hello" (this
is complete term) AND field2 as anything starting with "ar" AND ... so
on.

How do i do this??

What if the user instead of a single term, inputs a phrase like "cool
dude"?

Please help me.

thanks in advance.
subhro.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4509-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 15:33:27 2003
Return-Path: <lucene-user-return-4509-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16622 invoked from network); 19 May 2003 15:33:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 15:33:27 -0000
Received: (qmail 12849 invoked by uid 97); 19 May 2003 15:35:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 12842 invoked from network); 19 May 2003 15:35:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 15:35:35 -0000
Received: (qmail 16350 invoked by uid 500); 19 May 2003 15:33:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16339 invoked from network); 19 May 2003 15:33:23 -0000
Received: from helium-v1.priv.quicknet.nl (HELO smtp-out.quicknet.nl) (213.73.255.38)
  by daedalus.apache.org with SMTP; 19 May 2003 15:33:23 -0000
Received: from whale (qn-213-73-169-162.quicknet.nl [213.73.169.162])
 by xenon.priv.quicknet.nl
 (iPlanet Messaging Server 5.2 HotFix 1.07 (built Nov 25 2002))
 with SMTP id <0HF500B324ITOM@xenon.priv.quicknet.nl> for
 lucene-user@jakarta.apache.org; Mon, 19 May 2003 17:33:25 +0200 (MEST)
Date: Mon, 19 May 2003 17:38:27 +0200
From: maurits van wijland <m.vanwijland@quicknet.nl>
Subject: Re: Lucene not used on xml.apache.org -> pagerank
To: Lucene Users List <lucene-user@jakarta.apache.org>, Leo.G@seznam.cz
Message-id: <166301c31e1c$ede2b0c0$0200a8c0@whale>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References:
 <1DB01C48A0A9D311995A00508B62B9F00F9752A4@svntjt1-03.watercorporation.com.au>
 <3EC8CC59.7050409@seznam.cz>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hail Leo,

I am with you...I guess that putting up another country is somewhat
difficult! But
then a pagerank [tm][r][c] alternative algorithm are available...and this
method would
be a nice additional feature to Lucene.

Kind regards,

Maurits


----- Original Message -----
From: "Leo Galambos" <Leo.G@seznam.cz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, May 19, 2003 2:21 PM
Subject: Re: Lucene not used on xml.apache.org -> pagerank


> If you cannot use pagerank[tm][r][c], we'd talk about Kleinberg's or
> Bayesian alg., SALSA, PHITS, etc. And if you cannot utilize them (due to
> patents and laws), put up in another country, where freedom is not an
> empty word. ;-)
>
> BTW: How would you like to handle semantic data structures? It is not
> only about web, but also about XML, mail archives, news, etc.
>
> -g-
>
> Leslie Hughes wrote:
>
> >Erm, isnt "PageRank" trademarked by Google and covered by a patent
(6285999)
> >?? So we wouldn't want to implement it and infringe would we ? ;-)
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4510-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 16:46:08 2003
Return-Path: <lucene-user-return-4510-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70727 invoked from network); 19 May 2003 16:46:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 16:46:07 -0000
Received: (qmail 15382 invoked by uid 97); 19 May 2003 16:48:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15372 invoked from network); 19 May 2003 16:48:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 16:48:15 -0000
Received: (qmail 70397 invoked by uid 500); 19 May 2003 16:46:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70386 invoked from network); 19 May 2003 16:46:03 -0000
Received: from sccrmhc02.attbi.com (204.127.202.62)
  by daedalus.apache.org with SMTP; 19 May 2003 16:46:03 -0000
Received: from lucene.com (12-210-200-74.client.attbi.com[12.210.200.74])
          by attbi.com (sccrmhc02) with SMTP
          id <2003051916460600200heb1ke>; Mon, 19 May 2003 16:46:06 +0000
Message-ID: <3EC90A4D.2010700@lucene.com>
Date: Mon, 19 May 2003 09:46:05 -0700
From: Doug Cutting <cutting@lucene.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030313
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: List of queries from the queryparser
References: <01e101c31e15$f9b48650$1a0011ac@TFEW02>
In-Reply-To: <01e101c31e15$f9b48650$1a0011ac@TFEW02>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Gnter Kukies wrote:
> is it possible to get a list of subqueries(array of query-objects) after a queraparser has done parsing?

You could try something like:

   BooleanClause[] subQueries;
   if (query instanceof BooleanQuery) {
     subQueries = ((BooleanQuery)query).getClauses();
   } else {
     subQueries =
       new BooleanClause[1] { new BooleanClause(query, true, false) }
   }

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4511-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 16:56:07 2003
Return-Path: <lucene-user-return-4511-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1409 invoked from network); 19 May 2003 16:56:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 16:56:07 -0000
Received: (qmail 15728 invoked by uid 97); 19 May 2003 16:58:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15721 invoked from network); 19 May 2003 16:58:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 16:58:16 -0000
Received: (qmail 1104 invoked by uid 500); 19 May 2003 16:56:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1093 invoked from network); 19 May 2003 16:56:03 -0000
Received: from ai.uwf.edu (65.212.118.136)
  by daedalus.apache.org with SMTP; 19 May 2003 16:56:03 -0000
Received: from [65.212.118.129] (account teskridge HELO 10.0.100.2)
  by ai.uwf.edu (CommuniGate Pro SMTP 4.1b1)
  with ESMTP id 1043496 for lucene-user@jakarta.apache.org; Mon, 19 May 2003 11:57:32 -0500
From: Tom Eskridge <teskridge@ai.uwf.edu>
Organization: IHMC - University of West Florida
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Scoring optional query terms
Date: Mon, 19 May 2003 11:56:03 -0500
User-Agent: KMail/1.5.1
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200305191156.04426.teskridge@ai.uwf.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

All,

 I've got a query of the form "A or B or ( C or D or E )" where the results 
must contain the terms A or B, but should be rated higher if they contain 
C,D, or E as well.  

Is there a good way to do this?
-- 

Cheers,

Tom


Tom Eskridge
Institute for Human and Machine Cognition
University of West Florida
40 S. Alcaniz St
Pensacola, FL 32501
ph: 850-202-4454
fx: 850-202-4440

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4512-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 19 17:43:05 2003
Return-Path: <lucene-user-return-4512-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97556 invoked from network); 19 May 2003 17:43:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 May 2003 17:43:04 -0000
Received: (qmail 17112 invoked by uid 97); 19 May 2003 17:45:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17105 invoked from network); 19 May 2003 17:45:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 19 May 2003 17:45:14 -0000
Received: (qmail 94995 invoked by uid 500); 19 May 2003 17:42:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94922 invoked from network); 19 May 2003 17:42:33 -0000
Received: from smtpzilla5.xs4all.nl (194.109.127.141)
  by daedalus.apache.org with SMTP; 19 May 2003 17:42:33 -0000
Received: from as800 (a80-127-241-214.dial.xs4all.nl [80.127.241.214])
	by smtpzilla5.xs4all.nl (8.12.9/8.12.9) with ESMTP id h4JHgZEJ055938
	for <lucene-user@jakarta.apache.org>; Mon, 19 May 2003 19:42:35 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Scoring optional query terms
Date: Mon, 19 May 2003 19:36:18 -0700
User-Agent: KMail/1.4.3
References: <200305191156.04426.teskridge@ai.uwf.edu>
In-Reply-To: <200305191156.04426.teskridge@ai.uwf.edu>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200305191936.18605.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Tom,

On Monday 19 May 2003 09:56, Tom Eskridge wrote:
> All,
>
>  I've got a query of the form "A or B or ( C or D or E )" where the res=
ults
> must contain the terms A or B, but should be rated higher if they conta=
in
> C,D, or E as well.
>
> Is there a good way to do this?

The query

+(A B) C D E

does what you need.

Regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4513-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 06:15:52 2003
Return-Path: <lucene-user-return-4513-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8594 invoked from network); 20 May 2003 06:15:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 06:15:51 -0000
Received: (qmail 3558 invoked by uid 97); 20 May 2003 06:18:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3551 invoked from network); 20 May 2003 06:18:09 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 06:18:09 -0000
Received: (qmail 8333 invoked by uid 500); 20 May 2003 06:15:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8322 invoked from network); 20 May 2003 06:15:48 -0000
Received: from contact.heuft.org (HELO mail.heuft.org) (217.6.251.69)
  by daedalus.apache.org with SMTP; 20 May 2003 06:15:48 -0000
Received: (qmail 4466 invoked from network); 20 May 2003 06:13:33 -0000
Received: from unknown (HELO TFEW02) (172.17.0.26)
  by 0 with SMTP; 20 May 2003 06:13:33 -0000
Message-ID: <006401c31e97$40132f80$1a0011ac@TFEW02>
From: =?iso-8859-1?Q?G=FCnter_Kukies?= <guenter.kukies@heuft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <01e101c31e15$f9b48650$1a0011ac@TFEW02> <3EC90A4D.2010700@lucene.com>
Subject: Re: List of queries from the queryparser
Date: Tue, 20 May 2003 08:15:45 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That is exactly what I was looking for.

Thanks for your help

Gnter

----- Original Message -----
From: "Doug Cutting" <cutting@lucene.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, May 19, 2003 6:46 PM
Subject: Re: List of queries from the queryparser


> Gnter Kukies wrote:
> > is it possible to get a list of subqueries(array of query-objects) after
a queraparser has done parsing?
>
> You could try something like:
>
>    BooleanClause[] subQueries;
>    if (query instanceof BooleanQuery) {
>      subQueries = ((BooleanQuery)query).getClauses();
>    } else {
>      subQueries =
>        new BooleanClause[1] { new BooleanClause(query, true, false) }
>    }
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4514-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 06:37:04 2003
Return-Path: <lucene-user-return-4514-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27606 invoked from network); 20 May 2003 06:37:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 06:37:04 -0000
Received: (qmail 3837 invoked by uid 97); 20 May 2003 06:39:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3830 invoked from network); 20 May 2003 06:39:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 06:39:21 -0000
Received: (qmail 27267 invoked by uid 500); 20 May 2003 06:37:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27238 invoked from network); 20 May 2003 06:36:59 -0000
Received: from unknown (HELO hostorg.contata.co.in) (203.196.139.82)
  by daedalus.apache.org with SMTP; 20 May 2003 06:36:59 -0000
Received: from developer (developer.contata.co.in [193.168.0.1])
	by hostorg.contata.co.in (8.12.5/8.12.5) with SMTP id h4K6s4p5031280
	for <lucene-user@jakarta.apache.org>; Tue, 20 May 2003 12:24:04 +0530
Message-ID: <002001c31e9a$373fa2a0$0100a8c1@contatan.com>
From: "Subhrajyoti Moitra" <subhrajyotim@contata.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <006701c31e17$43192bb0$6a00a8c0@Aviran>
Subject: Re: multi field wildcard boolean query
Date: Tue, 20 May 2003 12:06:59 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

great.. it worked.. 

thanks a lot... 

----- Original Message ----- 
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Monday, May 19, 2003 8:29 PM
Subject: RE: multi field wildcard boolean query


> You can use the BooleanQuery to join all the queries.
> For instance use the QueryParser to parse ease input box query to a
> Query Object
> Then Use the BooleanQuery to join all the Query objects in to one AND
> Query
> 
> Aviran
> 
> -----Original Message-----
> From: Subhrajyoti Moitra [mailto:subhrajyotim@contata.co.in] 
> Sent: Saturday, May 17, 2003 5:15 AM
> To: lucene mailing list
> Subject: multi field wildcard boolean query
> 
> 
> Hi,
> I have a jsp which has five text box. The user puts in some text in 1 or
> more text boxes. I want to conduct a multi field wildcard search.
> Eg:
> 
> for textBox1 the user enters "hello"
> for textBox2 the user enters "ar*"
> for textBox3 the user enters "jav?"
> for textBox4 the user enters "apa*"
> 
> now i want to conduct a search
> 
> field1: hello field2:ar* field3:jav? field4:apa*
> 
> so in verbose mode- i want all results which has field1 as "hello" (this
> is complete term) AND field2 as anything starting with "ar" AND ... so
> on.
> 
> How do i do this??
> 
> What if the user instead of a single term, inputs a phrase like "cool
> dude"?
> 
> Please help me.
> 
> thanks in advance.
> subhro.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4515-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 06:41:14 2003
Return-Path: <lucene-user-return-4515-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32262 invoked from network); 20 May 2003 06:41:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 06:41:13 -0000
Received: (qmail 3893 invoked by uid 97); 20 May 2003 06:43:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3885 invoked from network); 20 May 2003 06:43:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 06:43:30 -0000
Received: (qmail 32011 invoked by uid 500); 20 May 2003 06:41:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31998 invoked from network); 20 May 2003 06:41:09 -0000
Received: from veil.qala.com.sg (210.193.2.44)
  by daedalus.apache.org with SMTP; 20 May 2003 06:41:09 -0000
Received: from kelvin (adsl-210-193-14-241.qala.com.sg [210.193.14.241])
	by veil.qala.com.sg (8.11.3/8.11.3) with SMTP id h4K6f6v06344
	for <lucene-user@jakarta.apache.org>; Tue, 20 May 2003 14:41:06 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 1
From: Kelvin Tan <kelvin-lists@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 2.64 (1120) - Licensed Version
Date: Tue, 20 May 2003 14:42:52 +0800
In-Reply-To: <002001c31e9a$373fa2a0$0100a8c1@contatan.com>
Message-ID: <2003520144252.387801@kelvin>
Subject: Re: multi field wildcard boolean query
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You might also like to use the Javascript Query Constructor in=
 Sandbox to ease 
client-side query construction...

Kelvin

On Tue, 20 May 2003 12:06:59 +0530, Subhrajyoti Moitra said:
>great.. it worked..
>
>thanks a lot...
>
>----- Original Message -----
>From: "Aviran Mordo" <amordo@infosciences.com>
>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>Sent: Monday, May 19, 2003 8:29 PM
>Subject: RE: multi field wildcard boolean query
>
>
>>You can use the BooleanQuery to join all the queries.
>>For instance use the QueryParser to parse ease input box query=
 to a
>>Query Object
>>Then Use the BooleanQuery to join all the Query objects in to=
 one
>>AND
>>Query
>>
>>Aviran
>>
>>-----Original Message-----
>>From: Subhrajyoti Moitra [mailto:subhrajyotim@contata.co.in]
>>Sent: Saturday, May 17, 2003 5:15 AM
>>To: lucene mailing list
>>Subject: multi field wildcard boolean query
>>
>>
>>Hi,
>>I have a jsp which has five text box. The user puts in some=
 text in
>>1 or
>>more text boxes. I want to conduct a multi field wildcard=
 search.
>>Eg:
>>
>>for textBox1 the user enters "hello"
>>for textBox2 the user enters "ar*"
>>for textBox3 the user enters "jav?"
>>for textBox4 the user enters "apa*"
>>
>>now i want to conduct a search
>>
>>field1: hello field2:ar* field3:jav? field4:apa*
>>
>>so in verbose mode- i want all results which has field1 as=
 "hello"
>>(this
>>is complete term) AND field2 as anything starting with "ar" AND=
 ...
>>so
>>on.
>>
>>How do i do this??
>>
>>What if the user instead of a single term, inputs a phrase=
 like
>>"cool
>>dude"?
>>
>>Please help me.
>>
>>thanks in advance.
>>subhro.
>>
>>
>>
>>---------------------------------------------------------------=
-----
>>-
>>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-
>>help@jakarta.apache.org
>
>
>----------------------------------------------------------------=
-----
>To unsubscribe, e-mail:=
 lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=
 lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4516-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 10:24:02 2003
Return-Path: <lucene-user-return-4516-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35546 invoked from network); 20 May 2003 10:24:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 10:24:01 -0000
Received: (qmail 9749 invoked by uid 97); 20 May 2003 10:26:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9742 invoked from network); 20 May 2003 10:26:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 10:26:21 -0000
Received: (qmail 33550 invoked by uid 500); 20 May 2003 10:23:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33498 invoked from network); 20 May 2003 10:23:37 -0000
Received: from law8-oe50.law8.hotmail.com (HELO hotmail.com) (216.33.240.22)
  by daedalus.apache.org with SMTP; 20 May 2003 10:23:37 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 20 May 2003 03:23:51 -0700
Received: from 211.99.139.41 by oe50.law8.hotmail.com with DAV;
	Tue, 20 May 2003 10:23:51 +0000
X-Originating-IP: [211.99.139.41]
X-Originating-Email: [chedong@hotmail.com]
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <01e101c31e15$f9b48650$1a0011ac@TFEW02> <3EC90A4D.2010700@lucene.com>
Subject: New  Web Site: powered by lucene
Date: Tue, 20 May 2003 18:23:52 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Law8-OE50JfKHmj9n1x00006015@hotmail.com>
X-OriginalArrivalTime: 20 May 2003 10:23:51.0569 (UTC) FILETIME=[E88AA810:01C31EB9]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

aHR0cDovL3NlYXJjaC5zb3VmdW4uY29tDQoNClNvdUZ1biBpcyBhIG1ham9yIHJlYWwgZXN0YXRl
IHdlYiBzaXRlIG9mIENoaW5hOg0Kc2VhcmNoLnNvdWZ1bi5jb20gdXNlcyBMdWNlbmUgMS4zIHJj
MSB3aXRoIENKS1Rva2VuaXplci4gDQoNCnRoZSB3aG9sZSBhcHBsaWNhdGlvbiB3aWxsIHJlbGVh
c2UgYXQgaHR0cDovL3dlYmx1Y2VuZS5zb3VyY2Vmb3JnZS5uZXQgbmV4dCB3ZWVrLg0KdGhlIG1h
aW4gZmVhdHVyZSBpbmNsdWRpbmc6DQoxICBzYXggYmFzZWQgeG1sIGRhdGEgc291cmNlIGluZGV4
ZXIgDQoyICBnb29nbGUgbGlrZSB4bWwgcmVzdWx0IHByb3RvY29sDQoNClJlZ2FyZHMNCg0KQ2hl
LCBEb25nDQpodHRwOi8vd3d3LmNoZWRvbmcuY29t


From lucene-user-return-4517-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 14:53:46 2003
Return-Path: <lucene-user-return-4517-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40930 invoked from network); 20 May 2003 14:53:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 14:53:46 -0000
Received: (qmail 19444 invoked by uid 97); 20 May 2003 14:55:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 19437 invoked from network); 20 May 2003 14:55:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 14:55:54 -0000
Received: (qmail 38405 invoked by uid 500); 20 May 2003 14:53:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38364 invoked from network); 20 May 2003 14:53:06 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 20 May 2003 14:53:06 -0000
Message-ID: <20030520145308.13923.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP; Tue, 20 May 2003 07:53:08 PDT
Date: Tue, 20 May 2003 07:53:08 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: New  Web Site: powered by lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Law8-OE50JfKHmj9n1x00006015@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Che,

--- Che Dong <chedong@hotmail.com> wrote:
> http://search.soufun.com
> 
> SouFun is a major real estate web site of China:
> search.soufun.com uses Lucene 1.3 rc1 with CJKTokenizer. 

I'll add it.

> the whole application will release at
> http://weblucene.sourceforge.net next week.
> the main feature including:
> 1  sax based xml data source indexer 
> 2  google like xml result protocol

I'm not sure what 1 is exactly (we'll see on weblucene.sf.net soon),
but you may want to keep an eye on IBM developerWorks where a new
Lucene article will be published soon.  It shows how to index XML with
the help of Digester, which is quite a bit simpler than using SAX 2.0
API to parse XML.

Otis


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4518-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 15:25:47 2003
Return-Path: <lucene-user-return-4518-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17157 invoked from network); 20 May 2003 15:25:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 15:25:46 -0000
Received: (qmail 21073 invoked by uid 97); 20 May 2003 15:27:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21066 invoked from network); 20 May 2003 15:27:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 15:27:54 -0000
Received: (qmail 16871 invoked by uid 500); 20 May 2003 15:25:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16856 invoked from network); 20 May 2003 15:25:41 -0000
Received: from mail2.cos.com (198.76.172.218)
  by daedalus.apache.org with SMTP; 20 May 2003 15:25:41 -0000
Received: from ntmailer.cos.com (ntmailer [192.168.0.32])
	by mail2.cos.com (Postfix) with ESMTP id BDC6A222F22
	for <lucene-user@jakarta.apache.org>; Tue, 20 May 2003 11:25:43 -0400 (EDT)
Received: by ntmailer.cos.com with Internet Mail Service (5.5.2653.19)
	id <J9TGP285>; Tue, 20 May 2003 11:27:35 -0400
Received: from cos.com (barry.cos.com [10.10.1.51]) by ntmailer.cos.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id J9TGP28Z; Tue, 20 May 2003 11:27:33 -0400
From: Michael Barry <mbarry@cos.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <3ECA48F5.7020007@cos.com>
Date: Tue, 20 May 2003 11:25:41 -0400
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4b) Gecko/20030515 Thunderbird/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
Subject: New  Web Site: powered by lucene
References: <01e101c31e15$f9b48650$1a0011ac@TFEW02> <3EC90A4D.2010700@lucene.com> <Law8-OE50JfKHmj9n1x00006015@hotmail.com>
In-Reply-To: <Law8-OE50JfKHmj9n1x00006015@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

http://www.eeecooks.com

EEECooks is recipe site that uses lucene for its searching. Not only
can you search by ingredients but also by the number of ingredients
(for those who can't handle preparing foods with lots of ingredients),
by prep time, and by category (breakfast, lunch, dinner, etc).

Check it out ... it's not only a neat use of lucene (especially for
those who may think lucene is "too much" for their small site) but
there's also some great recipe's there.

The "powered by" logo appears on the search results.

Mike Barry
(posted for the sites' author and coder - Chris Strom).

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4519-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 15:30:51 2003
Return-Path: <lucene-user-return-4519-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31193 invoked from network); 20 May 2003 15:30:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 15:30:50 -0000
Received: (qmail 21409 invoked by uid 97); 20 May 2003 15:32:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21402 invoked from network); 20 May 2003 15:32:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 15:32:59 -0000
Received: (qmail 30883 invoked by uid 500); 20 May 2003 15:30:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30864 invoked from network); 20 May 2003 15:30:46 -0000
Received: from web12706.mail.yahoo.com (216.136.173.243)
  by daedalus.apache.org with SMTP; 20 May 2003 15:30:46 -0000
Message-ID: <20030520153049.15043.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP; Tue, 20 May 2003 08:30:49 PDT
Date: Tue, 20 May 2003 08:30:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: New  Web Site: powered by lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3ECA48F5.7020007@cos.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My girlfriend will like this one ;)

Thanks,
Otis

--- Michael Barry <mbarry@cos.com> wrote:
> http://www.eeecooks.com
> 
> EEECooks is recipe site that uses lucene for its searching. Not only
> can you search by ingredients but also by the number of ingredients
> (for those who can't handle preparing foods with lots of
> ingredients),
> by prep time, and by category (breakfast, lunch, dinner, etc).
> 
> Check it out ... it's not only a neat use of lucene (especially for
> those who may think lucene is "too much" for their small site) but
> there's also some great recipe's there.
> 
> The "powered by" logo appears on the search results.
> 
> Mike Barry
> (posted for the sites' author and coder - Chris Strom).
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4520-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 15:51:58 2003
Return-Path: <lucene-user-return-4520-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 81460 invoked from network); 20 May 2003 15:51:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 15:51:57 -0000
Received: (qmail 22137 invoked by uid 97); 20 May 2003 15:54:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22130 invoked from network); 20 May 2003 15:54:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 15:54:06 -0000
Received: (qmail 77563 invoked by uid 500); 20 May 2003 15:51:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77487 invoked from network); 20 May 2003 15:51:01 -0000
Received: from mailout.scrippsnetworks.com (HELO kwnt02.scrippsnetworks.com) (207.203.254.108)
  by daedalus.apache.org with SMTP; 20 May 2003 15:51:01 -0000
Received: by kwnt02 with Internet Mail Service (5.5.2653.19)
	id <LHFWA9KL>; Tue, 20 May 2003 11:48:45 -0400
Message-ID: <3EE9EC1A0F3FA640B5F99FF3B7C915FDA868A1@snkxs001.scrippsnetworks.com>
From: "Sharma, Kamlesh" <KSharma@scrippsnetworks.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: New  Web Site: powered by lucene
Date: Tue, 20 May 2003 11:49:33 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Looks great. I have made search for *chicken and recived results. Does
current lucene version supports *checken query?

Thanks in advance
Kam

-----Original Message-----
From: Michael Barry [mailto:mbarry@cos.com]
Sent: Tuesday, May 20, 2003 11:26 AM
To: Lucene Users List
Subject: New Web Site: powered by lucene


http://www.eeecooks.com

EEECooks is recipe site that uses lucene for its searching. Not only
can you search by ingredients but also by the number of ingredients
(for those who can't handle preparing foods with lots of ingredients),
by prep time, and by category (breakfast, lunch, dinner, etc).

Check it out ... it's not only a neat use of lucene (especially for
those who may think lucene is "too much" for their small site) but
there's also some great recipe's there.

The "powered by" logo appears on the search results.

Mike Barry
(posted for the sites' author and coder - Chris Strom).

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4521-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 15:53:29 2003
Return-Path: <lucene-user-return-4521-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85795 invoked from network); 20 May 2003 15:53:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 15:53:29 -0000
Received: (qmail 22237 invoked by uid 97); 20 May 2003 15:55:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22230 invoked from network); 20 May 2003 15:55:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 15:55:37 -0000
Received: (qmail 84949 invoked by uid 500); 20 May 2003 15:53:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84853 invoked from network); 20 May 2003 15:53:18 -0000
Received: from f111.sea1.hotmail.com (HELO hotmail.com) (207.68.163.111)
  by daedalus.apache.org with SMTP; 20 May 2003 15:53:18 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 20 May 2003 08:53:21 -0700
Received: from 211.99.139.41 by sea1fd.sea1.hotmail.msn.com with HTTP;
	Tue, 20 May 2003 15:53:21 GMT
X-Originating-IP: [211.99.139.41]
X-Originating-Email: [lvkrnewer@hotmail.com]
From: "Kerang Lv" <lvkrnewer@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: New Web Site: powered by lucene
Date: Tue, 20 May 2003 23:53:21 +0800
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <Sea1-F111qUMFNuYf2b00021f4a@hotmail.com>
X-OriginalArrivalTime: 20 May 2003 15:53:21.0708 (UTC) FILETIME=[F07676C0:01C31EE7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis:
  Sorry Otis or some body else, the  search result of 'hgg:efs~ hd~ uuir*~' 
might make you disappointment, it's due to my careless--im just fixing a 
little budg in the application.
  in addition, the search.soufun.com is the web site for a little 
company(soufun.com ) which can search just the content of  the company as 
yet. but it's solution can used as a universal one, at lease i think so, for 
many moderate company, and we will make it better!

>From: Otis Gospodnetic Reply-To: "Lucene Users List" To: Lucene Users List 
>Subject: Re: New Web Site: powered by lucene Date: Tue, 20 May 2003 
>07:53:08 -0700 (PDT)
>
>Hello Che,
>
>--- Che Dong wrote: > http://search.soufun.com > > SouFun is a major real 
>estate web site of China: > search.soufun.com uses Lucene 1.3 rc1 with 
>CJKTokenizer.
>
>I'll add it.
>
> > the whole application will release at > http://weblucene.sourceforge.net 
>next week. > the main feature including: > 1 sax based xml data source 
>indexer > 2 google like xml result protocol
>
>I'm not sure what 1 is exactly (we'll see on weblucene.sf.net soon), but 
>you may want to keep an eye on IBM developerWorks where a new Lucene 
>article will be published soon. It shows how to index XML with the help of 
>Digester, which is quite a bit simpler than using SAX 2.0 API to parse XML.
>
>Otis
>
>
>__________________________________ Do you Yahoo!? The New Yahoo! Search - 
>Faster. Easier. Bingo. http://search.yahoo.com
>
>--------------------------------------------------------------------- To 
>unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org For 
>additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Add photos to your e-mail with MSN 8. Get 2 months FREE*. 
http://join.msn.com/?page=features/featuredemail


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4522-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 19:07:19 2003
Return-Path: <lucene-user-return-4522-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12754 invoked from network); 20 May 2003 19:07:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 19:07:18 -0000
Received: (qmail 28492 invoked by uid 97); 20 May 2003 19:09:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28484 invoked from network); 20 May 2003 19:09:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 19:09:29 -0000
Received: (qmail 11521 invoked by uid 500); 20 May 2003 19:06:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11467 invoked from network); 20 May 2003 19:06:57 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 20 May 2003 19:06:57 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP; Tue, 20 May 2003 12:05:06 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <LFVHJZ4P>; Tue, 20 May 2003 12:07:01 -0700
Message-ID: <E9EE029E3896D511A2AA0002A5899530054AA4DC@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: Lucene i like it!!!
Date: Tue, 20 May 2003 12:09:19 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi guys,

I am new in Lucene but i like  a lot. I am trying to develop a search
engine. 
I have two problems:
First
I did a program for indexing files, here the code:

public void indexFile(String filename) throws Exception {
		IndexWriter writer;
		writer = new IndexWriter(path, new SimpleAnalyzer(), false);

		InputStream is = new FileInputStream(filename);

		  
		Document doc = new Document();
		doc.add(Field.UnIndexed("path", filename));
		doc.add(Field.Text("body", (Reader) new
InputStreamReader(is)));

		writer.addDocument(doc);
		is.close();
		writer.close();

	}

when I do a search I receive severals links and the first is the link that I
need. The others link appear because the query have some letter or number
that match with the name of content of the file??? I don't know. I need a
help.

Second
I did a program for indexing a directory recursivily (my English is very
poor, I hope that you understand), here the code:

public void indexDirectory(String dir) throws Exception {

		File file = new File(dir);

		if (file.isDirectory()) {
			File[] f = file.listFiles();
			for (int x = 0; x < f.length; x++) {
				if (f[x].isDirectory()) {
					System.out.println("DIRECTORY:" +
f[x].getName());
					// search recursive in directory
	
indexDirectory(f[x].getAbsolutePath());
				} else {

					System.out.println("  FILE: " +
f[x].getName());
					indexFile(f[x].getAbsolutePath());
				}
			}

		} else {
			System.out.println("  FILE: " + file.getName());
			indexFile(file.getAbsolutePath());
		}

	}
When I do a search after to do an indexing of a directory with files only I
have the FIRST problem. But when I do a search after to do an indexing of a
directory with subdirectories and this subdirectories with others
subdirectories and this others subdirectories with files, is  not possible
to find the file that I want. What happens, there is an error in my code???
Some help I will appreciate.

Regards,
Michel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4523-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 19:13:39 2003
Return-Path: <lucene-user-return-4523-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32994 invoked from network); 20 May 2003 19:13:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 19:13:38 -0000
Received: (qmail 28795 invoked by uid 97); 20 May 2003 19:15:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28788 invoked from network); 20 May 2003 19:15:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 19:15:49 -0000
Received: (qmail 32732 invoked by uid 500); 20 May 2003 19:13:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32716 invoked from network); 20 May 2003 19:13:33 -0000
Received: from web12703.mail.yahoo.com (216.136.173.240)
  by daedalus.apache.org with SMTP; 20 May 2003 19:13:33 -0000
Message-ID: <20030520191337.13572.qmail@web12703.mail.yahoo.com>
Received: from [216.194.17.194] by web12703.mail.yahoo.com via HTTP; Tue, 20 May 2003 12:13:37 PDT
Date: Tue, 20 May 2003 12:13:37 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene i like it!!!
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E9EE029E3896D511A2AA0002A5899530054AA4DC@bruex4.eu.levi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I believe Lucene comes with some demos that do just this.  I suggest
you look at those.  I think IndexDemo is the name of one of the demo
classes.

Otis

--- MMachado@LEVI.com wrote:
> 
> Hi guys,
> 
> I am new in Lucene but i like  a lot. I am trying to develop a search
> engine. 
> I have two problems:
> First
> I did a program for indexing files, here the code:
> 
> public void indexFile(String filename) throws Exception {
> 		IndexWriter writer;
> 		writer = new IndexWriter(path, new SimpleAnalyzer(), false);
> 
> 		InputStream is = new FileInputStream(filename);
> 
> 		  
> 		Document doc = new Document();
> 		doc.add(Field.UnIndexed("path", filename));
> 		doc.add(Field.Text("body", (Reader) new
> InputStreamReader(is)));
> 
> 		writer.addDocument(doc);
> 		is.close();
> 		writer.close();
> 
> 	}
> 
> when I do a search I receive severals links and the first is the link
> that I
> need. The others link appear because the query have some letter or
> number
> that match with the name of content of the file??? I don't know. I
> need a
> help.
> 
> Second
> I did a program for indexing a directory recursivily (my English is
> very
> poor, I hope that you understand), here the code:
> 
> public void indexDirectory(String dir) throws Exception {
> 
> 		File file = new File(dir);
> 
> 		if (file.isDirectory()) {
> 			File[] f = file.listFiles();
> 			for (int x = 0; x < f.length; x++) {
> 				if (f[x].isDirectory()) {
> 					System.out.println("DIRECTORY:" +
> f[x].getName());
> 					// search recursive in directory
> 	
> indexDirectory(f[x].getAbsolutePath());
> 				} else {
> 
> 					System.out.println("  FILE: " +
> f[x].getName());
> 					indexFile(f[x].getAbsolutePath());
> 				}
> 			}
> 
> 		} else {
> 			System.out.println("  FILE: " + file.getName());
> 			indexFile(file.getAbsolutePath());
> 		}
> 
> 	}
> When I do a search after to do an indexing of a directory with files
> only I
> have the FIRST problem. But when I do a search after to do an
> indexing of a
> directory with subdirectories and this subdirectories with others
> subdirectories and this others subdirectories with files, is  not
> possible
> to find the file that I want. What happens, there is an error in my
> code???
> Some help I will appreciate.
> 
> Regards,
> Michel
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4524-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 20 20:42:08 2003
Return-Path: <lucene-user-return-4524-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25129 invoked from network); 20 May 2003 20:42:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 May 2003 20:42:07 -0000
Received: (qmail 1552 invoked by uid 97); 20 May 2003 20:44:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1545 invoked from network); 20 May 2003 20:44:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 20 May 2003 20:44:19 -0000
Received: (qmail 24846 invoked by uid 500); 20 May 2003 20:42:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24835 invoked from network); 20 May 2003 20:42:03 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 20 May 2003 20:42:03 -0000
Subject: OutOfMemoryError
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF40FAF5EC.73372B41-ON85256D2C.007138B8@vwr.com>
From: Lucinda_Rockemore@vwr.com
Date: Tue, 20 May 2003 16:46:18 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/20/2003 04:46:19 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello:

I'm using lucene (lucene-1.3).

I refresh indexes by completely destroying the old index and creating a new
one (as opposed to adding and removing documents from an existing index).
Each index is optimized at the end of the build. The largest index I have
is about 650M and contains about 800,000 documents.

>From what I've read so far, there is no way to further optimize an index
that is created from scratch (and optimized), but just to confirm: Are
there additional optimization techniques that could be used in this
situation?  Is there any benefit to reducing the size of a single 650M
index by creating multiple, smaller indexes (multisearcher penalties)?

Thanks.

Lucinda R. Rockemore
VWR International . e-Business
e-mail: lucinda_rockemore@vwr.com
phone: 610 429 2731
fax: 610 429 5559






****************************************************************************************************************

The information contained in this e-mail message may be privileged,
confidential and protected from disclosure.
If you are not the intended recipient, any dissemination, distribution or
copying is strictly prohibited. If you think
that you have received this e-mail message in error please e-mail the
sender and delete the message. Thank you
*****************************************************************************************************************





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4525-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 08:40:57 2003
Return-Path: <lucene-user-return-4525-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43831 invoked from network); 21 May 2003 08:40:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 08:40:57 -0000
Received: (qmail 17972 invoked by uid 97); 21 May 2003 08:43:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17965 invoked from network); 21 May 2003 08:43:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 08:43:16 -0000
Received: (qmail 43618 invoked by uid 500); 21 May 2003 08:40:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43596 invoked from network); 21 May 2003 08:40:53 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 21 May 2003 08:40:53 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4L8f2Hc013046
	for <lucene-user@jakarta.apache.org>; Wed, 21 May 2003 10:41:02 +0200
Message-ID: <005501c31f74$c2e300b0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OF40FAF5EC.73372B41-ON85256D2C.007138B8@vwr.com>
Subject: Re: OutOfMemoryError
Date: Wed, 21 May 2003 10:41:24 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Is there any benefit to reducing the size of a single 650M
> index by creating multiple, smaller indexes (multisearcher penalties)?

Don't think there would be any benefit in spliting your index, unless
queries are usually restricted to one part of the index. We have a
similarly sized index that it is so fast, sometimes the query results
appear even before the user hits the submit button :-) The only thing
which can be slow is retrieving stored fields for lots of documents.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4526-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 11:12:31 2003
Return-Path: <lucene-user-return-4526-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17530 invoked from network); 21 May 2003 11:12:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 11:12:30 -0000
Received: (qmail 22639 invoked by uid 97); 21 May 2003 11:14:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22631 invoked from network); 21 May 2003 11:14:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 11:14:36 -0000
Received: (qmail 17197 invoked by uid 500); 21 May 2003 11:12:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17182 invoked from network); 21 May 2003 11:12:26 -0000
Received: from unknown (HELO nh.newgen.co.in) (203.168.76.5)
  by daedalus.apache.org with SMTP; 21 May 2003 11:12:26 -0000
Received: from ganesh ([192.168.5.185])
	by nh.newgen.co.in (8.11.6/8.11.6) with SMTP id h4LBXmv21308
	for <lucene-user@jakarta.apache.org>; Wed, 21 May 2003 11:33:49 GMT
Message-ID: <012601c31f89$9e60f200$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <2003520144252.387801@kelvin>
Subject: Search Query
Date: Wed, 21 May 2003 16:40:03 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,
  I have to search on Indexed documents using Multipe Search Criteria.
  
 My search condition is 
       contents:Query1 AND query2
But Im not getting any results from the above query.

But  contents:Query1 AND contents:Query2  works fine for me.

I want to know whether the condition1 will work or not??

regards
ganesh

 
   
 
  


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4527-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 11:14:39 2003
Return-Path: <lucene-user-return-4527-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20604 invoked from network); 21 May 2003 11:14:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 11:14:39 -0000
Received: (qmail 22737 invoked by uid 97); 21 May 2003 11:16:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22730 invoked from network); 21 May 2003 11:16:45 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 11:16:45 -0000
Received: (qmail 20225 invoked by uid 500); 21 May 2003 11:14:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20188 invoked from network); 21 May 2003 11:14:35 -0000
Received: from web14603.mail.yahoo.com (216.136.224.83)
  by daedalus.apache.org with SMTP; 21 May 2003 11:14:35 -0000
Message-ID: <20030521111433.32965.qmail@web14603.mail.yahoo.com>
Received: from [194.78.205.247] by web14603.mail.yahoo.com via HTTP; Wed, 21 May 2003 04:14:33 PDT
Date: Wed, 21 May 2003 04:14:33 -0700 (PDT)
From: D-Fuse <mr_dfuse@yahoo.com>
Subject: Re: Search Query
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <012601c31f89$9e60f200$b905a8c0@intel>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If you don't define a fieldname to search in for the
second part of the query, it will take the default
fieldname, which you specified in the constructor of
your query. It is probably not set to contents: in
your program.

__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4528-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 13:33:14 2003
Return-Path: <lucene-user-return-4528-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1162 invoked from network); 21 May 2003 13:33:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 13:33:13 -0000
Received: (qmail 28441 invoked by uid 97); 21 May 2003 13:35:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28434 invoked from network); 21 May 2003 13:35:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 13:35:20 -0000
Received: (qmail 89735 invoked by uid 500); 21 May 2003 13:29:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89690 invoked from network); 21 May 2003 13:29:35 -0000
Received: from host09.ipowerweb.com (12.129.206.109)
  by daedalus.apache.org with SMTP; 21 May 2003 13:29:35 -0000
Received: from tricon-bh.tricon-yum.com ([4.18.68.2] helo=dougandalli.com)
	by host09.ipowerweb.com with asmtp (Exim 3.36 #1)
	id 19ITem-0000X2-00
	for lucene-user@jakarta.apache.org; Wed, 21 May 2003 06:29:24 -0700
Date: Wed, 21 May 2003 08:29:19 -0500
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: IndexReader.delete problem
From: Doug Kirk <doug@dougandalli.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <39DA5AAA-8B90-11D7-A844-000A95A04B3E@dougandalli.com>
X-Mailer: Apple Mail (2.552)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host09.ipowerweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [0 0]
X-AntiAbuse: Sender Address Domain - dougandalli.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Using 1.3-RC1, I've got an index where a keyword field contains the 
primary key value of a database row (an int), and when a user updates 
the data for the row, I delete the document from the index and then add 
it back.

My problem: The search index now only recognizes the document just 
updated; it seems as if every other document was deleted from the index.

I'm using IndexReader.delete(term), where term prints out as: 
Term<Event.PKID:153>, which looks okay to me. The field name is 
"Event.PKID", which is in Torque-generated "table.field" format.

As a temporary workaround, I recreate the entire index every time 
somebody submits a change.

Is this a Lucene bug, or could I be doing something wrong here?

Thanks!
-Doug.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4529-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 13:59:12 2003
Return-Path: <lucene-user-return-4529-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 99600 invoked from network); 21 May 2003 13:59:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 13:59:12 -0000
Received: (qmail 29532 invoked by uid 97); 21 May 2003 14:01:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29525 invoked from network); 21 May 2003 14:01:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 14:01:19 -0000
Received: (qmail 88138 invoked by uid 500); 21 May 2003 13:56:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87993 invoked from network); 21 May 2003 13:56:11 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 21 May 2003 13:56:11 -0000
Received: (qmail 10280 invoked from network); 21 May 2003 13:55:24 -0000
Received: from unknown (HELO ?172.16.1.39?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 21 May 2003 13:55:24 -0000
Subject: Reusing an IndexWriter ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1053525314.9062.19.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 21 May 2003 10:55:15 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello
	I just started using Lucene, and I'm writing a simple program (swing
interface) that adds files to an index (I'm not searching that index
yet).
	In my main frame, I click a button, a FileChooser appears and I add the
contents of the chosen file to this index... now, after adding this
document, do I have to close my IndexWriter object ?

	I just added a file and that's what I found on my index dir:

total 4
-rw-r--r--    1 guigouz  users           8 May 21 10:49 segments
-rw-r--r--    1 guigouz  users           0 May 21 10:49 write.lock

	Isn't there some method to writeout the index without closing the
IndexWriter ?

thanks in advance

gui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4530-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 14:09:48 2003
Return-Path: <lucene-user-return-4530-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40609 invoked from network); 21 May 2003 14:09:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 14:09:47 -0000
Received: (qmail 85 invoked by uid 97); 21 May 2003 14:11:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 78 invoked from network); 21 May 2003 14:11:55 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 14:11:55 -0000
Received: (qmail 23689 invoked by uid 500); 21 May 2003 14:05:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23558 invoked from network); 21 May 2003 14:05:20 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 21 May 2003 14:05:20 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4LE5GHc027734
	for <lucene-user@jakarta.apache.org>; Wed, 21 May 2003 16:05:16 +0200
Message-ID: <000901c31fa2$0dfea0e0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <39DA5AAA-8B90-11D7-A844-000A95A04B3E@dougandalli.com>
Subject: Re: IndexReader.delete problem
Date: Wed, 21 May 2003 16:05:37 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Is this a Lucene bug, or could I be doing something wrong here?

You did use doc.add(Field.Keyword("id", "xyz")) for adding the key
field, to prevent it from being tokenized?

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4531-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 14:18:47 2003
Return-Path: <lucene-user-return-4531-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71815 invoked from network); 21 May 2003 14:18:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 14:18:46 -0000
Received: (qmail 444 invoked by uid 97); 21 May 2003 14:20:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 437 invoked from network); 21 May 2003 14:20:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 14:20:54 -0000
Received: (qmail 63827 invoked by uid 500); 21 May 2003 14:16:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63776 invoked from network); 21 May 2003 14:16:53 -0000
Received: from host09.ipowerweb.com (12.129.206.109)
  by daedalus.apache.org with SMTP; 21 May 2003 14:16:53 -0000
Received: from tricon-bh.tricon-yum.com ([4.18.68.2] helo=dougandalli.com)
	by host09.ipowerweb.com with asmtp (Exim 3.36 #1)
	id 19IUOj-0006IT-00
	for lucene-user@jakarta.apache.org; Wed, 21 May 2003 07:16:54 -0700
Date: Wed, 21 May 2003 09:16:50 -0500
Subject: Re: IndexReader.delete problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Doug Kirk <doug@dougandalli.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000901c31fa2$0dfea0e0$c300000a@caliente>
Message-Id: <DD5B9970-8B96-11D7-A844-000A95A04B3E@dougandalli.com>
X-Mailer: Apple Mail (2.552)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host09.ipowerweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [0 0]
X-AntiAbuse: Sender Address Domain - dougandalli.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, it was added with doc.add(Field.Keyword("Event.PKID", "153"));


On Wednesday, May 21, 2003, at 09:05 AM, Eric Jain wrote:

>> Is this a Lucene bug, or could I be doing something wrong here?
>
> You did use doc.add(Field.Keyword("id", "xyz")) for adding the key
> field, to prevent it from being tokenized?
>
> --
> Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4532-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 14:26:40 2003
Return-Path: <lucene-user-return-4532-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 961 invoked from network); 21 May 2003 14:26:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 14:26:39 -0000
Received: (qmail 876 invoked by uid 97); 21 May 2003 14:28:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 868 invoked from network); 21 May 2003 14:28:47 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 14:28:47 -0000
Received: (qmail 97282 invoked by uid 500); 21 May 2003 14:25:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97238 invoked from network); 21 May 2003 14:25:13 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 21 May 2003 14:25:13 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4LEPAHc028696
	for <lucene-user@jakarta.apache.org>; Wed, 21 May 2003 16:25:10 +0200
Message-ID: <002901c31fa4$d5f3fb20$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000901c31fa2$0dfea0e0$c300000a@caliente> <DD5B9970-8B96-11D7-A844-000A95A04B3E@dougandalli.com>
Subject: Re: IndexReader.delete problem
Date: Wed, 21 May 2003 16:25:31 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Yes, it was added with doc.add(Field.Keyword("Event.PKID", "153"));

If you only delete the old document, but do not attempt to do anything
else, does this still reset the index?

Perhaps you are using 'new IndexWriter(path, analyzer, true)' rather
than 'new IndexWriter(path, analyzer, false)'?

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4533-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 14:34:55 2003
Return-Path: <lucene-user-return-4533-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11878 invoked from network); 21 May 2003 14:34:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 14:34:54 -0000
Received: (qmail 1211 invoked by uid 97); 21 May 2003 14:37:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1204 invoked from network); 21 May 2003 14:37:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 14:37:01 -0000
Received: (qmail 11143 invoked by uid 500); 21 May 2003 14:34:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11108 invoked from network); 21 May 2003 14:34:43 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 21 May 2003 14:34:43 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KLP5SFLS; Wed, 21 May 2003 10:38:27 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Reusing an IndexWriter ?
Date: Wed, 21 May 2003 10:35:04 -0400
Message-ID: <001301c31fa6$31233910$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <1053525314.9062.19.camel@gui>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can keep the IndexWriter open until you quit the indexing
application. Then you'll need to close it.

Aviran

-----Original Message-----
From: Guilherme Barile [mailto:gui@prosoma.com.br] 
Sent: Wednesday, May 21, 2003 9:55 AM
To: Lucene
Subject: Reusing an IndexWriter ?


Hello
	I just started using Lucene, and I'm writing a simple program
(swing
interface) that adds files to an index (I'm not searching that index
yet).
	In my main frame, I click a button, a FileChooser appears and I
add the contents of the chosen file to this index... now, after adding
this document, do I have to close my IndexWriter object ?

	I just added a file and that's what I found on my index dir:

total 4
-rw-r--r--    1 guigouz  users           8 May 21 10:49 segments
-rw-r--r--    1 guigouz  users           0 May 21 10:49 write.lock

	Isn't there some method to writeout the index without closing
the IndexWriter ?

thanks in advance

gui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4534-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:21:05 2003
Return-Path: <lucene-user-return-4534-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51406 invoked from network); 21 May 2003 15:21:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:21:05 -0000
Received: (qmail 3702 invoked by uid 97); 21 May 2003 15:23:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3695 invoked from network); 21 May 2003 15:23:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:23:13 -0000
Received: (qmail 50510 invoked by uid 500); 21 May 2003 15:20:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50358 invoked from network); 21 May 2003 15:20:48 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 21 May 2003 15:20:48 -0000
Received: (qmail 819 invoked from network); 21 May 2003 15:20:17 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 21 May 2003 15:20:17 -0000
Subject: RE: Reusing an IndexWriter ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <001301c31fa6$31233910$6a00a8c0@Aviran>
References: <001301c31fa6$31233910$6a00a8c0@Aviran>
Content-Type: text/plain
Organization: 
Message-Id: <1053530407.9062.27.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 21 May 2003 12:20:08 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Probably, but not the way I'm using it.
I created a Container class that wraps lucene methods, I call it using
myindex = new Container(File); where File is the directory where the
index resides.

On Container's constructor, I create a writer and a reader, but I guess
I'll have to open a reader every time I search and a writer every time I
write to it, am I right ?

thanks again

gui

On Wed, 2003-05-21 at 11:35, Aviran Mordo wrote:
> You can keep the IndexWriter open until you quit the indexing
> application. Then you'll need to close it.
> 
> Aviran
> 
> -----Original Message-----
> From: Guilherme Barile [mailto:gui@prosoma.com.br] 
> Sent: Wednesday, May 21, 2003 9:55 AM
> To: Lucene
> Subject: Reusing an IndexWriter ?
> 
> 
> Hello
> 	I just started using Lucene, and I'm writing a simple program
> (swing
> interface) that adds files to an index (I'm not searching that index
> yet).
> 	In my main frame, I click a button, a FileChooser appears and I
> add the contents of the chosen file to this index... now, after adding
> this document, do I have to close my IndexWriter object ?
> 
> 	I just added a file and that's what I found on my index dir:
> 
> total 4
> -rw-r--r--    1 guigouz  users           8 May 21 10:49 segments
> -rw-r--r--    1 guigouz  users           0 May 21 10:49 write.lock
> 
> 	Isn't there some method to writeout the index without closing
> the IndexWriter ?
> 
> thanks in advance
> 
> gui
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4535-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:31:55 2003
Return-Path: <lucene-user-return-4535-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82162 invoked from network); 21 May 2003 15:31:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:31:54 -0000
Received: (qmail 4158 invoked by uid 97); 21 May 2003 15:34:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4151 invoked from network); 21 May 2003 15:34:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:34:03 -0000
Received: (qmail 73613 invoked by uid 500); 21 May 2003 15:28:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73568 invoked from network); 21 May 2003 15:28:38 -0000
Received: from web12706.mail.yahoo.com (216.136.173.243)
  by daedalus.apache.org with SMTP; 21 May 2003 15:28:38 -0000
Message-ID: <20030521152840.47613.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP; Wed, 21 May 2003 08:28:40 PDT
Date: Wed, 21 May 2003 08:28:40 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexReader.delete problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <39DA5AAA-8B90-11D7-A844-000A95A04B3E@dougandalli.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This would be a pretty big bug :)
You must be doing something wrong, like creating a new instance of
IndexWriter with the third argument being true or some such.

Otis

--- Doug Kirk <doug@dougandalli.com> wrote:
> Using 1.3-RC1, I've got an index where a keyword field contains the 
> primary key value of a database row (an int), and when a user updates
> 
> the data for the row, I delete the document from the index and then
> add 
> it back.
> 
> My problem: The search index now only recognizes the document just 
> updated; it seems as if every other document was deleted from the
> index.
> 
> I'm using IndexReader.delete(term), where term prints out as: 
> Term<Event.PKID:153>, which looks okay to me. The field name is 
> "Event.PKID", which is in Torque-generated "table.field" format.
> 
> As a temporary workaround, I recreate the entire index every time 
> somebody submits a change.
> 
> Is this a Lucene bug, or could I be doing something wrong here?
> 
> Thanks!
> -Doug.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4536-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:41:08 2003
Return-Path: <lucene-user-return-4536-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13069 invoked from network); 21 May 2003 15:41:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:41:08 -0000
Received: (qmail 4678 invoked by uid 97); 21 May 2003 15:43:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4670 invoked from network); 21 May 2003 15:43:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:43:16 -0000
Received: (qmail 97654 invoked by uid 500); 21 May 2003 15:37:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97583 invoked from network); 21 May 2003 15:37:00 -0000
Received: from out004pub.verizon.net (HELO out004.verizon.net) (206.46.170.142)
  by daedalus.apache.org with SMTP; 21 May 2003 15:37:00 -0000
Received: from s0023819896 ([141.149.17.243]) by out004.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20030521153703.GCCC28930.out004.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Wed, 21 May 2003 10:37:03 -0500
Message-ID: <005d01c31fae$d1b5f7c0$6401a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: <lucene-user@jakarta.apache.org>
Subject: Indexer not fully indexing documents
Date: Wed, 21 May 2003 11:36:59 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_005A_01C31F8D.4A3C6E30"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-Authentication-Info: Submitted using SMTP AUTH at out004.verizon.net from [141.149.17.243] at Wed, 21 May 2003 10:37:02 -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_005A_01C31F8D.4A3C6E30
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have just downloaded the Lucene 1.2 distribution. =20

After running through the demo, I decided to index (using IndexFiles =
that is used to load the demo documents) about 100 XML files that I have =
available - most of which range in size from 0.6 to 3 megabytes.  I =
thought the indexer would treat these files as very large text files (no =
fields) and essentially index all of the "words" in the document. =20

After the indexing operation, I used the SearchFiles demo to query the =
database and noted what appears to be a problem with the way the =
indexing occurred.  In particular, I tried to query on simple phrases =
(or unique words) that appeared near the end of some of these XML files =
and got zero results.  I.E., it would appear that only terms which =
occurred at relatively speaking the "beginning" of these files got =
indexed.  (Not really sure what relative beginning means in terms of =
size).

Is this a limit based on the classes I am using - or some kind of =
product limit based on document size?

Thanks to anyone who can help!

Joe


------=_NextPart_000_005A_01C31F8D.4A3C6E30--



From lucene-user-return-4537-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:44:02 2003
Return-Path: <lucene-user-return-4537-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23310 invoked from network); 21 May 2003 15:44:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:44:02 -0000
Received: (qmail 4812 invoked by uid 97); 21 May 2003 15:46:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4804 invoked from network); 21 May 2003 15:46:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:46:10 -0000
Received: (qmail 16711 invoked by uid 500); 21 May 2003 15:42:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16679 invoked from network); 21 May 2003 15:42:10 -0000
Received: from host09.ipowerweb.com (12.129.206.109)
  by daedalus.apache.org with SMTP; 21 May 2003 15:42:10 -0000
Received: from tricon-bh.tricon-yum.com ([4.18.68.2] helo=dougandalli.com)
	by host09.ipowerweb.com with asmtp (Exim 3.36 #1)
	id 19IVjE-0004se-00
	for lucene-user@jakarta.apache.org; Wed, 21 May 2003 08:42:08 -0700
Date: Wed, 21 May 2003 10:42:03 -0500
Subject: Re: IndexReader.delete problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Doug Kirk <doug@dougandalli.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <002901c31fa4$d5f3fb20$c300000a@caliente>
Message-Id: <C525DD54-8BA2-11D7-A844-000A95A04B3E@dougandalli.com>
X-Mailer: Apple Mail (2.552)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host09.ipowerweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [0 0]
X-AntiAbuse: Sender Address Domain - dougandalli.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Perhaps you are using 'new IndexWriter(path, analyzer, true)' rather
> than 'new IndexWriter(path, analyzer, false)'?

Yes, that is what was happening.  (Big Thanks!)

Here's a new problem, though: after changing the above to 'new 
IndexWriter(fsdirectory, analyzer, false)', my updated document no 
longer shows up in searches. No exception is being thrown during the 
entire updateObject() process.

The logic is:

void updateObject(Object bean)  throws IOException, IndexException {
     deleteObject(bean);
     insertObject(bean);
}

void insertObject(Object bean)  throws IOException, IndexException {
     IndexWriter writer = null;
     try {
         writer = getIndexWriter(false);    // false == create; uses 
previously cached FSDirectory and StandardAnalyzer
         Document doc = createDocument(bean);      //  subclass impl
         writer.addDocument(doc);
     }
     catch (IOException & IndexException & Exception) { ... }      //  
shortened for brevity
     finally {
          if (writer != null) writer.close();
     }
}

void deleteObject(Object bean) throws IOException, IndexException
{
     IndexReader reader = null;
     try {
         reader = getIndexReader();    //  returns 
IndexReader.open(cached FSDirectory)
         reader.delete(getPrimaryTerm(bean));    //  subclass impl
     }
     catch (IOException & IndexException & Exception) { ... }     // 
shortened for brevity
     finally {
         if (reader != null) {
             try {
                 reader.close();
             }
             catch (IOException ignored) {
             }
         }
     }
}


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4538-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:45:41 2003
Return-Path: <lucene-user-return-4538-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29276 invoked from network); 21 May 2003 15:45:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:45:41 -0000
Received: (qmail 4872 invoked by uid 97); 21 May 2003 15:47:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4865 invoked from network); 21 May 2003 15:47:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:47:49 -0000
Received: (qmail 22753 invoked by uid 500); 21 May 2003 15:43:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22707 invoked from network); 21 May 2003 15:43:52 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 21 May 2003 15:43:52 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KLP5SFMQ; Wed, 21 May 2003 11:47:43 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Reusing an IndexWriter ?
Date: Wed, 21 May 2003 11:44:25 -0400
Message-ID: <001701c31faf$de239e80$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <1053530407.9062.27.camel@gui>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can create one instance of Container in your main application and
reuse it. Just don't forget to add a close method to it (Container) so
you can close the writer after you are done doing all the work.

Aviran

-----Original Message-----
From: Guilherme Barile [mailto:gui@prosoma.com.br] 
Sent: Wednesday, May 21, 2003 11:20 AM
To: Lucene Users List
Subject: RE: Reusing an IndexWriter ?


Probably, but not the way I'm using it.
I created a Container class that wraps lucene methods, I call it using
myindex = new Container(File); where File is the directory where the
index resides.

On Container's constructor, I create a writer and a reader, but I guess
I'll have to open a reader every time I search and a writer every time I
write to it, am I right ?

thanks again

gui

On Wed, 2003-05-21 at 11:35, Aviran Mordo wrote:
> You can keep the IndexWriter open until you quit the indexing 
> application. Then you'll need to close it.
> 
> Aviran
> 
> -----Original Message-----
> From: Guilherme Barile [mailto:gui@prosoma.com.br]
> Sent: Wednesday, May 21, 2003 9:55 AM
> To: Lucene
> Subject: Reusing an IndexWriter ?
> 
> 
> Hello
> 	I just started using Lucene, and I'm writing a simple program
(swing
> interface) that adds files to an index (I'm not searching that index
> yet).
> 	In my main frame, I click a button, a FileChooser appears and I
> add the contents of the chosen file to this index... now, after adding
> this document, do I have to close my IndexWriter object ?
> 
> 	I just added a file and that's what I found on my index dir:
> 
> total 4
> -rw-r--r--    1 guigouz  users           8 May 21 10:49 segments
> -rw-r--r--    1 guigouz  users           0 May 21 10:49 write.lock
> 
> 	Isn't there some method to writeout the index without closing
the 
> IndexWriter ?
> 
> thanks in advance
> 
> gui
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4539-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:55:54 2003
Return-Path: <lucene-user-return-4539-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63652 invoked from network); 21 May 2003 15:55:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:55:53 -0000
Received: (qmail 5341 invoked by uid 97); 21 May 2003 15:58:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5333 invoked from network); 21 May 2003 15:58:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:58:02 -0000
Received: (qmail 63357 invoked by uid 500); 21 May 2003 15:55:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63342 invoked from network); 21 May 2003 15:55:47 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 21 May 2003 15:55:47 -0000
Message-ID: <20030521155549.71780.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP; Wed, 21 May 2003 08:55:49 PDT
Date: Wed, 21 May 2003 08:55:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexReader.delete problem
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <C525DD54-8BA2-11D7-A844-000A95A04B3E@dougandalli.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

In your search code detect that the index changed and get a new
IndexSearcher.

Otis

--- Doug Kirk <doug@dougandalli.com> wrote:
> > Perhaps you are using 'new IndexWriter(path, analyzer, true)'
> rather
> > than 'new IndexWriter(path, analyzer, false)'?
> 
> Yes, that is what was happening.  (Big Thanks!)
> 
> Here's a new problem, though: after changing the above to 'new 
> IndexWriter(fsdirectory, analyzer, false)', my updated document no 
> longer shows up in searches. No exception is being thrown during the 
> entire updateObject() process.
> 
> The logic is:
> 
> void updateObject(Object bean)  throws IOException, IndexException {
>      deleteObject(bean);
>      insertObject(bean);
> }
> 
> void insertObject(Object bean)  throws IOException, IndexException {
>      IndexWriter writer = null;
>      try {
>          writer = getIndexWriter(false);    // false == create; uses 
> previously cached FSDirectory and StandardAnalyzer
>          Document doc = createDocument(bean);      //  subclass impl
>          writer.addDocument(doc);
>      }
>      catch (IOException & IndexException & Exception) { ... }      //
>  
> shortened for brevity
>      finally {
>           if (writer != null) writer.close();
>      }
> }
> 
> void deleteObject(Object bean) throws IOException, IndexException
> {
>      IndexReader reader = null;
>      try {
>          reader = getIndexReader();    //  returns 
> IndexReader.open(cached FSDirectory)
>          reader.delete(getPrimaryTerm(bean));    //  subclass impl
>      }
>      catch (IOException & IndexException & Exception) { ... }     // 
> shortened for brevity
>      finally {
>          if (reader != null) {
>              try {
>                  reader.close();
>              }
>              catch (IOException ignored) {
>              }
>          }
>      }
> }
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4540-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:56:21 2003
Return-Path: <lucene-user-return-4540-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65179 invoked from network); 21 May 2003 15:56:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:56:19 -0000
Received: (qmail 5377 invoked by uid 97); 21 May 2003 15:58:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5369 invoked from network); 21 May 2003 15:58:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:58:28 -0000
Received: (qmail 64360 invoked by uid 500); 21 May 2003 15:56:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64326 invoked from network); 21 May 2003 15:56:06 -0000
Received: from ns1.empolis.com (62.52.175.194)
  by daedalus.apache.org with SMTP; 21 May 2003 15:56:06 -0000
Received: from empdegu04.de.empolis.com (220.ip-net00.empolis.com [145.228.99.220])
	by ns1.empolis.com (8.11.6+Sun/8.11.3/NS1) with ESMTP id h4LFu8S19664
	for <lucene-user@jakarta.apache.org>; Wed, 21 May 2003 17:56:08 +0200 (MEST)
Received: by empdegu04.de.empolis.com with Internet Mail Service (5.5.2656.59)
	id <JBXSD4SX>; Wed, 21 May 2003 17:57:04 +0200
Message-ID: <3FBFE0B523AD8049BF872A710EF9B32253927E@empdegu04.de.empolis.com>
From: "Materna, Wolf-Dietrich (empolis B)"
	 <Wolf-Dietrich.Materna@empolis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: Indexer not fully indexing documents
Date: Wed, 21 May 2003 17:57:03 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,
[Joe Paulsen [joseph.paulsen@verizon.net]]:
> I have just downloaded the Lucene 1.2 distribution. =20
>=20
> After running through the demo, I decided to index (using=20
> IndexFiles that is used to load the demo documents) about 100=20
> XML files that I have available - most of which range in size=20
> from 0.6 to 3 megabytes.  I thought the indexer would treat=20
> these files as very large text files (no fields) and=20
> essentially index all of the "words" in the document. =20
>
> After the indexing operation, I used the SearchFiles demo to=20
> query the database and noted what appears to be a problem=20
> with the way the indexing occurred.  In particular, I tried=20
> to query on simple phrases (or unique words) that appeared=20
> near the end of some of these XML files and got zero results.=20
>  I.E., it would appear that only terms which occurred at=20
> relatively speaking the "beginning" of these files got=20
> indexed.  (Not really sure what relative beginning means in=20
> terms of size).
>=20
> Is this a limit based on the classes I am using - or some=20
> kind of product limit based on document size?
Check out: <http://jakarta.apache.org/lucene/docs/api/index.html> -
class org.apache.lucene.index.IndexWriter - description of =
maxFieldLength:
"    The maximum number of terms that will be indexed for a single =
field in
a document.=20
This limits the amount of memory required for indexing, so that =
collections
with very=20
large files will not crash the indexing process by running out of =
memory.
By default, no more than 10,000 terms will be indexed for a field. "

You have to increase this limit for your IndexWriter object before =
adding
any
document in your program. That means you have to reindex your documents
after=20
changing you code.
Regards,
	Wolf-Dietrich

--=20
Wolf-Dietrich Materna
Development
=20
empolis GmbH -  arvato knowledge management=20
Kekul=E9str. 7=20
12489 Berlin, Germany
=20
phone :  +49-30-6780-6510
fax :    +49-30-6780-6549
=20
<<mailto:Wolf-Dietrich.Materna@empolis.com>> <<http://www.empolis.com>>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4541-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 15:57:33 2003
Return-Path: <lucene-user-return-4541-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68544 invoked from network); 21 May 2003 15:57:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 15:57:32 -0000
Received: (qmail 5435 invoked by uid 97); 21 May 2003 15:59:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5428 invoked from network); 21 May 2003 15:59:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 15:59:41 -0000
Received: (qmail 68286 invoked by uid 500); 21 May 2003 15:57:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68273 invoked from network); 21 May 2003 15:57:29 -0000
Received: from web12706.mail.yahoo.com (216.136.173.243)
  by daedalus.apache.org with SMTP; 21 May 2003 15:57:29 -0000
Message-ID: <20030521155732.53516.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP; Wed, 21 May 2003 08:57:32 PDT
Date: Wed, 21 May 2003 08:57:32 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexer not fully indexing documents
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <005d01c31fae$d1b5f7c0$6401a8c0@s0023819896>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, look at one of the (static?) IndexWriter fields in the javadoc.

Otis

--- Joe Paulsen <joseph.paulsen@verizon.net> wrote:
> I have just downloaded the Lucene 1.2 distribution.  
> 
> After running through the demo, I decided to index (using IndexFiles
> that is used to load the demo documents) about 100 XML files that I
> have available - most of which range in size from 0.6 to 3 megabytes.
>  I thought the indexer would treat these files as very large text
> files (no fields) and essentially index all of the "words" in the
> document.  
> 
> After the indexing operation, I used the SearchFiles demo to query
> the database and noted what appears to be a problem with the way the
> indexing occurred.  In particular, I tried to query on simple phrases
> (or unique words) that appeared near the end of some of these XML
> files and got zero results.  I.E., it would appear that only terms
> which occurred at relatively speaking the "beginning" of these files
> got indexed.  (Not really sure what relative beginning means in terms
> of size).
> 
> Is this a limit based on the classes I am using - or some kind of
> product limit based on document size?
> 
> Thanks to anyone who can help!
> 
> Joe
> 
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4542-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 16:04:22 2003
Return-Path: <lucene-user-return-4542-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92498 invoked from network); 21 May 2003 16:04:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 16:04:20 -0000
Received: (qmail 5791 invoked by uid 97); 21 May 2003 16:06:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5784 invoked from network); 21 May 2003 16:06:29 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 16:06:29 -0000
Received: (qmail 88022 invoked by uid 500); 21 May 2003 16:02:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87982 invoked from network); 21 May 2003 16:02:51 -0000
Received: from host09.ipowerweb.com (12.129.206.109)
  by daedalus.apache.org with SMTP; 21 May 2003 16:02:51 -0000
Received: from tricon-bh.tricon-yum.com ([4.18.68.2] helo=dougandalli.com)
	by host09.ipowerweb.com with asmtp (Exim 3.36 #1)
	id 19IW3I-0002OY-00
	for lucene-user@jakarta.apache.org; Wed, 21 May 2003 09:02:52 -0700
Date: Wed, 21 May 2003 11:02:49 -0500
Subject: Re: IndexReader.delete problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Doug Kirk <doug@dougandalli.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030521155549.71780.qmail@web12704.mail.yahoo.com>
Message-Id: <AB818976-8BA5-11D7-A844-000A95A04B3E@dougandalli.com>
X-Mailer: Apple Mail (2.552)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host09.ipowerweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [0 0]
X-AntiAbuse: Sender Address Domain - dougandalli.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I always use a new IndexSearcher. I'm sure I've done something stupid 
here, though.


On Wednesday, May 21, 2003, at 10:55 AM, Otis Gospodnetic wrote:

> In your search code detect that the index changed and get a new
> IndexSearcher.
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4543-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 16:55:34 2003
Return-Path: <lucene-user-return-4543-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 6232 invoked from network); 21 May 2003 16:55:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 16:55:33 -0000
Received: (qmail 7770 invoked by uid 97); 21 May 2003 16:57:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7763 invoked from network); 21 May 2003 16:57:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 16:57:42 -0000
Received: (qmail 5868 invoked by uid 500); 21 May 2003 16:55:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5849 invoked from network); 21 May 2003 16:55:29 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 21 May 2003 16:55:29 -0000
Received: (qmail 23114 invoked from network); 21 May 2003 16:55:00 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 21 May 2003 16:55:00 -0000
Subject: RE: Reusing an IndexWriter ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <001701c31faf$de239e80$6a00a8c0@Aviran>
References: <001701c31faf$de239e80$6a00a8c0@Aviran>
Content-Type: text/plain
Organization: 
Message-Id: <1053536088.9062.37.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 21 May 2003 13:54:49 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

But if I start both an IndexReader and an IndexWriter on the program
startup, and add documents to the index without closing it, the reader
wouldn't be able to search it, will it ?

Can anyone show me the "safe way" do to it ?

thanks

On Wed, 2003-05-21 at 12:44, Aviran Mordo wrote:
> You can create one instance of Container in your main application and
> reuse it. Just don't forget to add a close method to it (Container) so
> you can close the writer after you are done doing all the work.
> 
> Aviran
> 
> -----Original Message-----
> From: Guilherme Barile [mailto:gui@prosoma.com.br] 
> Sent: Wednesday, May 21, 2003 11:20 AM
> To: Lucene Users List
> Subject: RE: Reusing an IndexWriter ?
> 
> 
> Probably, but not the way I'm using it.
> I created a Container class that wraps lucene methods, I call it using
> myindex = new Container(File); where File is the directory where the
> index resides.
> 
> On Container's constructor, I create a writer and a reader, but I guess
> I'll have to open a reader every time I search and a writer every time I
> write to it, am I right ?
> 
> thanks again
> 
> gui
> 
> On Wed, 2003-05-21 at 11:35, Aviran Mordo wrote:
> > You can keep the IndexWriter open until you quit the indexing 
> > application. Then you'll need to close it.
> > 
> > Aviran
> > 
> > -----Original Message-----
> > From: Guilherme Barile [mailto:gui@prosoma.com.br]
> > Sent: Wednesday, May 21, 2003 9:55 AM
> > To: Lucene
> > Subject: Reusing an IndexWriter ?
> > 
> > 
> > Hello
> > 	I just started using Lucene, and I'm writing a simple program
> (swing
> > interface) that adds files to an index (I'm not searching that index
> > yet).
> > 	In my main frame, I click a button, a FileChooser appears and I
> > add the contents of the chosen file to this index... now, after adding
> > this document, do I have to close my IndexWriter object ?
> > 
> > 	I just added a file and that's what I found on my index dir:
> > 
> > total 4
> > -rw-r--r--    1 guigouz  users           8 May 21 10:49 segments
> > -rw-r--r--    1 guigouz  users           0 May 21 10:49 write.lock
> > 
> > 	Isn't there some method to writeout the index without closing
> the 
> > IndexWriter ?
> > 
> > thanks in advance
> > 
> > gui
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4544-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 18:53:18 2003
Return-Path: <lucene-user-return-4544-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33471 invoked from network); 21 May 2003 18:53:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 18:53:17 -0000
Received: (qmail 11846 invoked by uid 97); 21 May 2003 18:55:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11839 invoked from network); 21 May 2003 18:55:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 18:55:28 -0000
Received: (qmail 32595 invoked by uid 500); 21 May 2003 18:53:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32511 invoked from network); 21 May 2003 18:53:06 -0000
Received: from out004pub.verizon.net (HELO out004.verizon.net) (206.46.170.142)
  by daedalus.apache.org with SMTP; 21 May 2003 18:53:06 -0000
Received: from s0023819896 ([141.149.17.243]) by out004.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20030521185310.HQFZ28930.out004.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Wed, 21 May 2003 13:53:10 -0500
Message-ID: <002001c31fca$37c09a50$6401a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030521155732.53516.qmail@web12706.mail.yahoo.com>
Subject: Re: Indexer not fully indexing documents
Date: Wed, 21 May 2003 14:53:06 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-Authentication-Info: Submitted using SMTP AUTH at out004.verizon.net from [141.149.17.243] at Wed, 21 May 2003 13:53:08 -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks - sorry  I hadn't read enough documentation yet to avoid the
question.

Joe

----- Original Message -----
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 21, 2003 11:57 AM
Subject: Re: Indexer not fully indexing documents


> Yes, look at one of the (static?) IndexWriter fields in the javadoc.
>
> Otis
>
> --- Joe Paulsen <joseph.paulsen@verizon.net> wrote:
> > I have just downloaded the Lucene 1.2 distribution.
> >
> > After running through the demo, I decided to index (using IndexFiles
> > that is used to load the demo documents) about 100 XML files that I
> > have available - most of which range in size from 0.6 to 3 megabytes.
> >  I thought the indexer would treat these files as very large text
> > files (no fields) and essentially index all of the "words" in the
> > document.
> >
> > After the indexing operation, I used the SearchFiles demo to query
> > the database and noted what appears to be a problem with the way the
> > indexing occurred.  In particular, I tried to query on simple phrases
> > (or unique words) that appeared near the end of some of these XML
> > files and got zero results.  I.E., it would appear that only terms
> > which occurred at relatively speaking the "beginning" of these files
> > got indexed.  (Not really sure what relative beginning means in terms
> > of size).
> >
> > Is this a limit based on the classes I am using - or some kind of
> > product limit based on document size?
> >
> > Thanks to anyone who can help!
> >
> > Joe
> >
> >
>
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4545-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 18:56:17 2003
Return-Path: <lucene-user-return-4545-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36617 invoked from network); 21 May 2003 18:56:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 18:56:16 -0000
Received: (qmail 11902 invoked by uid 97); 21 May 2003 18:58:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11895 invoked from network); 21 May 2003 18:58:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 18:58:27 -0000
Received: (qmail 36353 invoked by uid 500); 21 May 2003 18:56:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36340 invoked from network); 21 May 2003 18:56:14 -0000
Received: from pop016pub.verizon.net (HELO pop016.verizon.net) (206.46.170.173)
  by daedalus.apache.org with SMTP; 21 May 2003 18:56:14 -0000
Received: from s0023819896 ([141.149.17.243]) by pop016.verizon.net
          (InterMail vM.5.01.05.33 201-253-122-126-133-20030313) with ESMTP
          id <20030521185618.IBDW3199.pop016.verizon.net@s0023819896>
          for <lucene-user@jakarta.apache.org>;
          Wed, 21 May 2003 13:56:18 -0500
Message-ID: <002f01c31fca$a84ded40$6401a8c0@s0023819896>
From: "Joe Paulsen" <joseph.paulsen@verizon.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3FBFE0B523AD8049BF872A710EF9B32253927E@empdegu04.de.empolis.com>
Subject: Re: Indexer not fully indexing documents
Date: Wed, 21 May 2003 14:56:15 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2727.1300
X-Authentication-Info: Submitted using SMTP AUTH at pop016.verizon.net from [141.149.17.243] at Wed, 21 May 2003 13:56:17 -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks - this really helps - sorry I hadn't read more documentation before
submitting the question.
----- Original Message -----
From: "Materna, Wolf-Dietrich (empolis B)"
<Wolf-Dietrich.Materna@empolis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 21, 2003 11:57 AM
Subject: AW: Indexer not fully indexing documents


Hello,
[Joe Paulsen [joseph.paulsen@verizon.net]]:
> I have just downloaded the Lucene 1.2 distribution.
>
> After running through the demo, I decided to index (using
> IndexFiles that is used to load the demo documents) about 100
> XML files that I have available - most of which range in size
> from 0.6 to 3 megabytes.  I thought the indexer would treat
> these files as very large text files (no fields) and
> essentially index all of the "words" in the document.
>
> After the indexing operation, I used the SearchFiles demo to
> query the database and noted what appears to be a problem
> with the way the indexing occurred.  In particular, I tried
> to query on simple phrases (or unique words) that appeared
> near the end of some of these XML files and got zero results.
>  I.E., it would appear that only terms which occurred at
> relatively speaking the "beginning" of these files got
> indexed.  (Not really sure what relative beginning means in
> terms of size).
>
> Is this a limit based on the classes I am using - or some
> kind of product limit based on document size?
Check out: <http://jakarta.apache.org/lucene/docs/api/index.html> -
class org.apache.lucene.index.IndexWriter - description of maxFieldLength:
"    The maximum number of terms that will be indexed for a single field in
a document.
This limits the amount of memory required for indexing, so that collections
with very
large files will not crash the indexing process by running out of memory.
By default, no more than 10,000 terms will be indexed for a field. "

You have to increase this limit for your IndexWriter object before adding
any
document in your program. That means you have to reindex your documents
after
changing you code.
Regards,
Wolf-Dietrich

--
Wolf-Dietrich Materna
Development

empolis GmbH -  arvato knowledge management
Kekulstr. 7
12489 Berlin, Germany

phone :  +49-30-6780-6510
fax :    +49-30-6780-6549

<<mailto:Wolf-Dietrich.Materna@empolis.com>> <<http://www.empolis.com>>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4546-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 19:23:03 2003
Return-Path: <lucene-user-return-4546-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 756 invoked from network); 21 May 2003 19:23:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 19:23:02 -0000
Received: (qmail 13027 invoked by uid 97); 21 May 2003 19:25:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13020 invoked from network); 21 May 2003 19:25:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 19:25:13 -0000
Received: (qmail 358 invoked by uid 500); 21 May 2003 19:22:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 327 invoked from network); 21 May 2003 19:22:56 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 21 May 2003 19:22:56 -0000
Message-ID: <20030521192301.91422.qmail@web12701.mail.yahoo.com>
Received: from [216.194.17.194] by web12701.mail.yahoo.com via HTTP; Wed, 21 May 2003 12:23:01 PDT
Date: Wed, 21 May 2003 12:23:01 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Reusing an IndexWriter ?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1053536088.9062.37.camel@gui>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


--- Guilherme Barile <gui@prosoma.com.br> wrote:
> But if I start both an IndexReader and an IndexWriter on the program
> startup, and add documents to the index without closing it, the
> reader
> wouldn't be able to search it, will it ?

Correct.

> Can anyone show me the "safe way" do to it ?

Close the InderWriter when you are done indexing, and re-open
IndexReader/Searcher when you detect that the index changed in order to
'see' new documents.

Otis


> thanks
> 
> On Wed, 2003-05-21 at 12:44, Aviran Mordo wrote:
> > You can create one instance of Container in your main application
> and
> > reuse it. Just don't forget to add a close method to it (Container)
> so
> > you can close the writer after you are done doing all the work.
> > 
> > Aviran
> > 
> > -----Original Message-----
> > From: Guilherme Barile [mailto:gui@prosoma.com.br] 
> > Sent: Wednesday, May 21, 2003 11:20 AM
> > To: Lucene Users List
> > Subject: RE: Reusing an IndexWriter ?
> > 
> > 
> > Probably, but not the way I'm using it.
> > I created a Container class that wraps lucene methods, I call it
> using
> > myindex = new Container(File); where File is the directory where
> the
> > index resides.
> > 
> > On Container's constructor, I create a writer and a reader, but I
> guess
> > I'll have to open a reader every time I search and a writer every
> time I
> > write to it, am I right ?
> > 
> > thanks again
> > 
> > gui
> > 
> > On Wed, 2003-05-21 at 11:35, Aviran Mordo wrote:
> > > You can keep the IndexWriter open until you quit the indexing 
> > > application. Then you'll need to close it.
> > > 
> > > Aviran
> > > 
> > > -----Original Message-----
> > > From: Guilherme Barile [mailto:gui@prosoma.com.br]
> > > Sent: Wednesday, May 21, 2003 9:55 AM
> > > To: Lucene
> > > Subject: Reusing an IndexWriter ?
> > > 
> > > 
> > > Hello
> > > 	I just started using Lucene, and I'm writing a simple program
> > (swing
> > > interface) that adds files to an index (I'm not searching that
> index
> > > yet).
> > > 	In my main frame, I click a button, a FileChooser appears and I
> > > add the contents of the chosen file to this index... now, after
> adding
> > > this document, do I have to close my IndexWriter object ?
> > > 
> > > 	I just added a file and that's what I found on my index dir:
> > > 
> > > total 4
> > > -rw-r--r--    1 guigouz  users           8 May 21 10:49 segments
> > > -rw-r--r--    1 guigouz  users           0 May 21 10:49
> write.lock
> > > 
> > > 	Isn't there some method to writeout the index without closing
> > the 
> > > IndexWriter ?
> > > 
> > > thanks in advance
> > > 
> > > gui
> > > 
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4547-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 19:56:21 2003
Return-Path: <lucene-user-return-4547-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76981 invoked from network); 21 May 2003 19:56:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 19:56:20 -0000
Received: (qmail 14420 invoked by uid 97); 21 May 2003 19:58:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14413 invoked from network); 21 May 2003 19:58:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 19:58:31 -0000
Received: (qmail 74284 invoked by uid 500); 21 May 2003 19:55:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74206 invoked from network); 21 May 2003 19:55:50 -0000
Received: from unknown (HELO frodo.hotu.com) (66.180.133.139)
  by daedalus.apache.org with SMTP; 21 May 2003 19:55:50 -0000
Received: from hotu.com (localhost.localdomain [127.0.0.1])
	by frodo.hotu.com (8.11.2/8.11.2) with ESMTP id h4LJuek27750
	for <lucene-user@jakarta.apache.org>; Wed, 21 May 2003 09:56:41 -1000
Message-ID: <3ECBD9F8.60901@hotu.com>
Date: Wed, 21 May 2003 09:56:40 -1000
From: newsham@hotu.com
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: query matching all documents
References: <3EBC3EAA.8000209@hotu.com>
In-Reply-To: <3EBC3EAA.8000209@hotu.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Since this question has gone unanswered, should I assume that such a 
query is not possible with the existing Lucene version?

newsham@hotu.com wrote:

>
> Is there a query object which can match all documents?
>
> As an example, suppose my search supports zero or more search 
> criteria.  Each criteria, if specified, is required to match the 
> document.  If no criteria are specified, all documents should be 
> returned.  Here's an example (NullQuery is an imaginary class which 
> represents the query type I'm looking for):
>
> BooleanQuery query = new BooleanQuery();
> query.add(new NullQuery(), true, false);
> if (criteria1exists) {
>  query.add(..., true, false);
> }
> if (criteria2exists) {
>  query.add(..., true, false);
> }
>
> Without line 2, if no criteria is specified, no documents will be 
> returned.  Apparently, a boolean query with no boolean elements 
> matches zero documents.  In my opinion, it would have made more sense 
> for it to match all documents, since each boolean element represents a 
> constraint, and no constraints implies all documents.  But for 
> clarity, maybe there should be an AllQuery and a NoneQuery which match 
> all documents and no documents respectively.
>
> But back to reality, is there a way to achieve this with the existing 
> query classes?  I'd prefer not to add a dummy field to search by, as 
> this is not efficient.
>
> Thanks,
> Jim
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4548-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 20:14:25 2003
Return-Path: <lucene-user-return-4548-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14888 invoked from network); 21 May 2003 20:14:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 20:14:24 -0000
Received: (qmail 15126 invoked by uid 97); 21 May 2003 20:16:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15119 invoked from network); 21 May 2003 20:16:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 20:16:36 -0000
Received: (qmail 14175 invoked by uid 500); 21 May 2003 20:14:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14054 invoked from network); 21 May 2003 20:14:16 -0000
Received: from h003.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.216)
  by daedalus.apache.org with SMTP; 21 May 2003 20:14:16 -0000
Received: (cpmta 15380 invoked from network); 21 May 2003 13:14:20 -0700
Received: from 66.171.39.132 (HELO medined01)
  by smtp.mtolive.com (209.228.34.216) with SMTP; 21 May 2003 13:14:20 -0700
X-Sent: 21 May 2003 20:14:20 GMT
Message-ID: <057901c31fd5$d91960c0$6822a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>
Subject: Re: query matching all documents
Date: Wed, 21 May 2003 16:16:21 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

----- Original Message -----
From: <newsham@hotu.com>
> > Is there a query object which can match all documents?
> > I'd prefer not to add a dummy field to search by, as
> > this is not efficient.

Why is the dummy field not efficient? I use something like a keyword of 'ZZ'
and a value of 'A' so that the disk space used is minimal.

David Medinets
http://www.codebits.com
Need some R&D done? Let me know I'm looking for interesting projects.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4549-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 20:14:32 2003
Return-Path: <lucene-user-return-4549-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15538 invoked from network); 21 May 2003 20:14:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 20:14:31 -0000
Received: (qmail 15136 invoked by uid 97); 21 May 2003 20:16:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15129 invoked from network); 21 May 2003 20:16:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 20:16:43 -0000
Received: (qmail 14684 invoked by uid 500); 21 May 2003 20:14:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14632 invoked from network); 21 May 2003 20:14:22 -0000
Received: from etapestry-colo-32-2.onecall.net (HELO darth?bobo.etapestry.com) (216.37.32.2)
  by daedalus.apache.org with SMTP; 21 May 2003 20:14:22 -0000
Received: from etapestry.com (192.168.1.103 [192.168.1.103]) by darth_bobo.etapestry.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id L2MCPLCD; Wed, 21 May 2003 15:14:25 -0500
Message-ID: <3ECBDE1B.2060504@etapestry.com>
Date: Wed, 21 May 2003 15:14:19 -0500
From: Scott Ganyo <scott.ganyo@etapestry.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030313
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: query matching all documents
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>
In-Reply-To: <3ECBD9F8.60901@hotu.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes.  You must use a dummy field.

(Isn't this in the FAQ?)

newsham@hotu.com wrote:

> Since this question has gone unanswered, should I assume that such a 
> query is not possible with the existing Lucene version?
>
> newsham@hotu.com wrote:
>
>>
>> Is there a query object which can match all documents?
>>
>> As an example, suppose my search supports zero or more search 
>> criteria.  Each criteria, if specified, is required to match the 
>> document.  If no criteria are specified, all documents should be 
>> returned.  Here's an example (NullQuery is an imaginary class which 
>> represents the query type I'm looking for):
>>
>> BooleanQuery query = new BooleanQuery();
>> query.add(new NullQuery(), true, false);
>> if (criteria1exists) {
>>  query.add(..., true, false);
>> }
>> if (criteria2exists) {
>>  query.add(..., true, false);
>> }
>>
>> Without line 2, if no criteria is specified, no documents will be 
>> returned.  Apparently, a boolean query with no boolean elements 
>> matches zero documents.  In my opinion, it would have made more sense 
>> for it to match all documents, since each boolean element represents 
>> a constraint, and no constraints implies all documents.  But for 
>> clarity, maybe there should be an AllQuery and a NoneQuery which 
>> match all documents and no documents respectively.
>>
>> But back to reality, is there a way to achieve this with the existing 
>> query classes?  I'd prefer not to add a dummy field to search by, as 
>> this is not efficient.
>>
>> Thanks,
>> Jim
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


-- 
If the world should blow itself up, the last audible voice would be that of an expert saying it can't be done. - Peter Ustinov



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4550-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 20:26:05 2003
Return-Path: <lucene-user-return-4550-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28277 invoked from network); 21 May 2003 20:26:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 20:26:04 -0000
Received: (qmail 15435 invoked by uid 97); 21 May 2003 20:28:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15428 invoked from network); 21 May 2003 20:28:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 20:28:16 -0000
Received: (qmail 28002 invoked by uid 500); 21 May 2003 20:26:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27982 invoked from network); 21 May 2003 20:26:00 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 21 May 2003 20:26:00 -0000
Received: (qmail 9455 invoked from network); 21 May 2003 20:25:26 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 21 May 2003 20:25:26 -0000
Subject: RE: Reusing an IndexWriter ?
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030521192301.91422.qmail@web12701.mail.yahoo.com>
References: <20030521192301.91422.qmail@web12701.mail.yahoo.com>
Content-Type: text/plain
Organization: 
Message-Id: <1053548712.9062.57.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 21 May 2003 17:25:13 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I just finished changing my main class (which wraps lucene methods). Now
I close my indexwriter every time I finish indexing, I also open/close
my IndexReader and Searcher every time I search. Seem to be working. 
As a curiosity, how would lucene work in a multi-user environment ?
(multiple users indexing information at the same time on the same index)
Did anyone ever wrote an IndexWriter connection pooler ?

Thanks a lot (again)

gui

On Wed, 2003-05-21 at 16:23, Otis Gospodnetic wrote:
> --- Guilherme Barile <gui@prosoma.com.br> wrote:
> > But if I start both an IndexReader and an IndexWriter on the program
> > startup, and add documents to the index without closing it, the
> > reader
> > wouldn't be able to search it, will it ?
> 
> Correct.
> 
> > Can anyone show me the "safe way" do to it ?
> 
> Close the InderWriter when you are done indexing, and re-open
> IndexReader/Searcher when you detect that the index changed in order to
> 'see' new documents.
> 
> Otis
> 
> 
> > thanks
> > 
> > On Wed, 2003-05-21 at 12:44, Aviran Mordo wrote:
> > > You can create one instance of Container in your main application
> > and
> > > reuse it. Just don't forget to add a close method to it (Container)
> > so
> > > you can close the writer after you are done doing all the work.
> > > 
> > > Aviran
> > > 
> > > -----Original Message-----
> > > From: Guilherme Barile [mailto:gui@prosoma.com.br] 
> > > Sent: Wednesday, May 21, 2003 11:20 AM
> > > To: Lucene Users List
> > > Subject: RE: Reusing an IndexWriter ?
> > > 
> > > 
> > > Probably, but not the way I'm using it.
> > > I created a Container class that wraps lucene methods, I call it
> > using
> > > myindex = new Container(File); where File is the directory where
> > the
> > > index resides.
> > > 
> > > On Container's constructor, I create a writer and a reader, but I
> > guess
> > > I'll have to open a reader every time I search and a writer every
> > time I
> > > write to it, am I right ?
> > > 
> > > thanks again
> > > 
> > > gui
> > > 
> > > On Wed, 2003-05-21 at 11:35, Aviran Mordo wrote:
> > > > You can keep the IndexWriter open until you quit the indexing 
> > > > application. Then you'll need to close it.
> > > > 
> > > > Aviran
> > > > 
> > > > -----Original Message-----
> > > > From: Guilherme Barile [mailto:gui@prosoma.com.br]
> > > > Sent: Wednesday, May 21, 2003 9:55 AM
> > > > To: Lucene
> > > > Subject: Reusing an IndexWriter ?
> > > > 
> > > > 
> > > > Hello
> > > > 	I just started using Lucene, and I'm writing a simple program
> > > (swing
> > > > interface) that adds files to an index (I'm not searching that
> > index
> > > > yet).
> > > > 	In my main frame, I click a button, a FileChooser appears and I
> > > > add the contents of the chosen file to this index... now, after
> > adding
> > > > this document, do I have to close my IndexWriter object ?
> > > > 
> > > > 	I just added a file and that's what I found on my index dir:
> > > > 
> > > > total 4
> > > > -rw-r--r--    1 guigouz  users           8 May 21 10:49 segments
> > > > -rw-r--r--    1 guigouz  users           0 May 21 10:49
> > write.lock
> > > > 
> > > > 	Isn't there some method to writeout the index without closing
> > > the 
> > > > IndexWriter ?
> > > > 
> > > > thanks in advance
> > > > 
> > > > gui
> > > > 
> > > > 
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > > 
> > > > 
> > > > 
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > > 
> > > 
> > > 
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > > 
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4551-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 20:31:07 2003
Return-Path: <lucene-user-return-4551-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43131 invoked from network); 21 May 2003 20:31:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 20:31:06 -0000
Received: (qmail 15638 invoked by uid 97); 21 May 2003 20:33:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15631 invoked from network); 21 May 2003 20:33:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 20:33:18 -0000
Received: (qmail 42594 invoked by uid 500); 21 May 2003 20:31:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42535 invoked from network); 21 May 2003 20:31:00 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 21 May 2003 20:31:00 -0000
Received: (qmail 10803 invoked from network); 21 May 2003 20:30:35 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 21 May 2003 20:30:35 -0000
Subject: Re: query matching all documents
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <057901c31fd5$d91960c0$6822a8c0@medined01>
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>
	 <057901c31fd5$d91960c0$6822a8c0@medined01>
Content-Type: text/plain
Organization: 
Message-Id: <1053549022.9061.63.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 21 May 2003 17:30:22 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If you're trying to get all documents, why not

IndexReader reader = IndexReader.open(this.indexDir);
Document doc;
	
for (int i = 0; i < reader.maxDoc(); i++) {
	try {
		doc = reader.document(i);
		System.out.println(i + " " + doc.get("source"));
	}
	catch (Exception e) {
		System.out.println("Error getting doc " + i);
	}
}

this is just a simple example (i'm a newbie, but using this to list all
documents on a certain index)
you could add another loop inside the for so you could get all the
fields in a document (in this case I'm only getting the field named
"source") there are methods on the indexreader object for that.

see ya

gui

On Wed, 2003-05-21 at 17:16, David Medinets wrote:
> ----- Original Message -----
> From: <newsham@hotu.com>
> > > Is there a query object which can match all documents?
> > > I'd prefer not to add a dummy field to search by, as
> > > this is not efficient.
> 
> Why is the dummy field not efficient? I use something like a keyword of 'ZZ'
> and a value of 'A' so that the disk space used is minimal.
> 
> David Medinets
> http://www.codebits.com
> Need some R&D done? Let me know I'm looking for interesting projects.
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4552-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 20:39:24 2003
Return-Path: <lucene-user-return-4552-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57401 invoked from network); 21 May 2003 20:39:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 20:39:23 -0000
Received: (qmail 15869 invoked by uid 97); 21 May 2003 20:41:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15862 invoked from network); 21 May 2003 20:41:35 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 20:41:34 -0000
Received: (qmail 56757 invoked by uid 500); 21 May 2003 20:39:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56736 invoked from network); 21 May 2003 20:39:13 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 21 May 2003 20:39:13 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-8.00) id A32B9DA0094; Wed, 21 May 2003 15:35:55 -0500
Message-ID: <001301c31fd9$11676960$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: <lucene-dev@jakarta.apache.org>
Cc: <lucene-user@jakarta.apache.org>
Subject: help debugging
Date: Wed, 21 May 2003 15:39:25 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am have a tough time locating the source of my problem. If anyone is
interested in using the taglib for lucene and would care to interact with me
on this, a second pair of eyes would be greatly appreciated.

Using the latest version of the Search tag in
jakarta-lucene-sandbox/contributions/taglib/WEB-INF/classes/com/netwebapps/t
aglib/search/SearchTag.java, it has only one difference compared to the code
that I am running.

Just before the doSearch() method is about to exit I put in this if/try
block:

if(searcher != null){

    try {

        searcher.close();

    } catch (IOException e) {

        if(throwOnException){

            throw new JspException("A problem occurred trying to close the
searcher : " + e);

        }

    }

}



all of the try/catch blocks in doSearch() do not run by default if there is
a problem unless you use the throwOnException attribute in the search tag
and set it to true. Here is where the weird part comes in.

If I turn debugging off by using the throwOnException attribute as described
above and I submit a query that does return results everything works fine,
until I run a query that is capable of crashing lucene's Searcher.search()
method (an empty string will do it) and at that point my abort code
refreshes the state of the variables to be handed to the page and tells any
future methods that tag processing should be stopped. So far the tag is
working just as I would expect. Now unless I change the value of
throwOnException and allow the tag to crash the page, every query run from
that point forward will not return a result but rather show 0 hitCount.

I have gone over the code a million time and I can not see where this could
be happening. If anyone is interested in taking a look at the tag and see if
anything is glaringly obvious, I would appreciate the heads up.

Bryan LaPlante





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4553-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 20:48:04 2003
Return-Path: <lucene-user-return-4553-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76349 invoked from network); 21 May 2003 20:48:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 20:48:03 -0000
Received: (qmail 16197 invoked by uid 97); 21 May 2003 20:50:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16190 invoked from network); 21 May 2003 20:50:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 20:50:15 -0000
Received: (qmail 75485 invoked by uid 500); 21 May 2003 20:47:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75438 invoked from network); 21 May 2003 20:47:52 -0000
Received: from web40111.mail.yahoo.com (66.218.78.45)
  by daedalus.apache.org with SMTP; 21 May 2003 20:47:52 -0000
Message-ID: <20030521204758.13537.qmail@web40111.mail.yahoo.com>
Received: from [163.188.121.119] by web40111.mail.yahoo.com via HTTP; Wed, 21 May 2003 13:47:58 PDT
Date: Wed, 21 May 2003 13:47:58 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: not fetching all results that has same file name
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Bryan LaPlante <blaplante@netwebapps.com>
In-Reply-To: <001301c31fd9$11676960$d9321c41@vincent>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have indexed these documents using lucene
test.doc
test.xls
test.htm
test.txt

When I search "DocName:test", it returns only the
first one test.doc.
But if I say "DocName:text Type:txt", it returns
text.txt.

So why not just "DocName:test" return all the 4 files?

Thanks for your help
Shoba

__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4554-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 20:52:13 2003
Return-Path: <lucene-user-return-4554-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91857 invoked from network); 21 May 2003 20:52:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 20:52:12 -0000
Received: (qmail 16347 invoked by uid 97); 21 May 2003 20:54:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16340 invoked from network); 21 May 2003 20:54:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 20:54:23 -0000
Received: (qmail 91136 invoked by uid 500); 21 May 2003 20:52:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91062 invoked from network); 21 May 2003 20:52:03 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 21 May 2003 20:52:03 -0000
Message-ID: <20030521205209.56022.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP; Wed, 21 May 2003 13:52:09 PDT
Date: Wed, 21 May 2003 13:52:09 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Reusing an IndexWriter ?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1053548712.9062.57.camel@gui>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Only 1 IndexWriter can write to the index at the time.
It should be easy to seralize index modifications by using
'synchronize' keyword with a method that wraps addDocument calls.

Otis

--- Guilherme Barile <gui@prosoma.com.br> wrote:
> I just finished changing my main class (which wraps lucene methods).
> Now
> I close my indexwriter every time I finish indexing, I also
> open/close
> my IndexReader and Searcher every time I search. Seem to be working. 
> As a curiosity, how would lucene work in a multi-user environment ?
> (multiple users indexing information at the same time on the same
> index)
> Did anyone ever wrote an IndexWriter connection pooler ?
> 
> Thanks a lot (again)
> 
> gui
> 
> On Wed, 2003-05-21 at 16:23, Otis Gospodnetic wrote:
> > --- Guilherme Barile <gui@prosoma.com.br> wrote:
> > > But if I start both an IndexReader and an IndexWriter on the
> program
> > > startup, and add documents to the index without closing it, the
> > > reader
> > > wouldn't be able to search it, will it ?
> > 
> > Correct.
> > 
> > > Can anyone show me the "safe way" do to it ?
> > 
> > Close the InderWriter when you are done indexing, and re-open
> > IndexReader/Searcher when you detect that the index changed in
> order to
> > 'see' new documents.
> > 
> > Otis
> > 
> > 
> > > thanks
> > > 
> > > On Wed, 2003-05-21 at 12:44, Aviran Mordo wrote:
> > > > You can create one instance of Container in your main
> application
> > > and
> > > > reuse it. Just don't forget to add a close method to it
> (Container)
> > > so
> > > > you can close the writer after you are done doing all the work.
> > > > 
> > > > Aviran
> > > > 
> > > > -----Original Message-----
> > > > From: Guilherme Barile [mailto:gui@prosoma.com.br] 
> > > > Sent: Wednesday, May 21, 2003 11:20 AM
> > > > To: Lucene Users List
> > > > Subject: RE: Reusing an IndexWriter ?
> > > > 
> > > > 
> > > > Probably, but not the way I'm using it.
> > > > I created a Container class that wraps lucene methods, I call
> it
> > > using
> > > > myindex = new Container(File); where File is the directory
> where
> > > the
> > > > index resides.
> > > > 
> > > > On Container's constructor, I create a writer and a reader, but
> I
> > > guess
> > > > I'll have to open a reader every time I search and a writer
> every
> > > time I
> > > > write to it, am I right ?
> > > > 
> > > > thanks again
> > > > 
> > > > gui
> > > > 
> > > > On Wed, 2003-05-21 at 11:35, Aviran Mordo wrote:
> > > > > You can keep the IndexWriter open until you quit the indexing
> 
> > > > > application. Then you'll need to close it.
> > > > > 
> > > > > Aviran
> > > > > 
> > > > > -----Original Message-----
> > > > > From: Guilherme Barile [mailto:gui@prosoma.com.br]
> > > > > Sent: Wednesday, May 21, 2003 9:55 AM
> > > > > To: Lucene
> > > > > Subject: Reusing an IndexWriter ?
> > > > > 
> > > > > 
> > > > > Hello
> > > > > 	I just started using Lucene, and I'm writing a simple
> program
> > > > (swing
> > > > > interface) that adds files to an index (I'm not searching
> that
> > > index
> > > > > yet).
> > > > > 	In my main frame, I click a button, a FileChooser appears
> and I
> > > > > add the contents of the chosen file to this index... now,
> after
> > > adding
> > > > > this document, do I have to close my IndexWriter object ?
> > > > > 
> > > > > 	I just added a file and that's what I found on my index dir:
> > > > > 
> > > > > total 4
> > > > > -rw-r--r--    1 guigouz  users           8 May 21 10:49
> segments
> > > > > -rw-r--r--    1 guigouz  users           0 May 21 10:49
> > > write.lock
> > > > > 
> > > > > 	Isn't there some method to writeout the index without
> closing
> > > > the 
> > > > > IndexWriter ?
> > > > > 
> > > > > thanks in advance
> > > > > 
> > > > > gui
> > > > > 
> > > > > 
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > > > 
> > > > > 
> > > > > 
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > > > 
> > > > 
> > > > 
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > > 
> > > > 
> > > > 
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > > 
> > > 
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4555-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 21 21:38:11 2003
Return-Path: <lucene-user-return-4555-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64855 invoked from network); 21 May 2003 21:38:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 May 2003 21:38:11 -0000
Received: (qmail 17825 invoked by uid 97); 21 May 2003 21:40:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17818 invoked from network); 21 May 2003 21:40:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 21 May 2003 21:40:23 -0000
Received: (qmail 64569 invoked by uid 500); 21 May 2003 21:38:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64558 invoked from network); 21 May 2003 21:38:08 -0000
Received: from web12702.mail.yahoo.com (216.136.173.239)
  by daedalus.apache.org with SMTP; 21 May 2003 21:38:08 -0000
Message-ID: <20030521213814.63215.qmail@web12702.mail.yahoo.com>
Received: from [216.194.17.194] by web12702.mail.yahoo.com via HTTP; Wed, 21 May 2003 14:38:14 PDT
Date: Wed, 21 May 2003 14:38:14 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Fwd: cvs commit: jakarta-lucene/docs resources.html
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Has anyone tried this?  Its home page states: CLucene is faster than
lucene as it is written in a C++.

Otis

--- otis@apache.org wrote:
>   Log:
>   - Added CLucene.
> href="http://sourceforge.net/projects/clucene/">CLucene</a>


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4556-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 06:28:52 2003
Return-Path: <lucene-user-return-4556-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35079 invoked from network); 22 May 2003 06:28:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 06:28:52 -0000
Received: (qmail 25824 invoked by uid 97); 22 May 2003 06:31:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25817 invoked from network); 22 May 2003 06:31:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 06:31:12 -0000
Received: (qmail 34823 invoked by uid 500); 22 May 2003 06:28:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34812 invoked from network); 22 May 2003 06:28:49 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 22 May 2003 06:28:49 -0000
Received: from morus.xipolis.net (unknown [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id 3307D19B719
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 08:28:59 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h4M6VW602148;
	Thu, 22 May 2003 08:31:32 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16076.28355.783178.513304@morus.xipolis.net>
Date: Thu, 22 May 2003 08:31:31 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: query matching all documents
In-Reply-To: <1053549022.9061.63.camel@gui>
References: <3EBC3EAA.8000209@hotu.com>
	<3ECBD9F8.60901@hotu.com>
	<057901c31fd5$d91960c0$6822a8c0@medined01>
	<1053549022.9061.63.camel@gui>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Guilherme Barile writes:
> If you're trying to get all documents, why not
> 
> IndexReader reader = IndexReader.open(this.indexDir);
> Document doc;
> 	
> for (int i = 0; i < reader.maxDoc(); i++) {
> 	try {
> 		doc = reader.document(i);
> 		System.out.println(i + " " + doc.get("source"));
> 	}
> 	catch (Exception e) {
> 		System.out.println("Error getting doc " + i);
> 	}
> }
> 
I guess there should be some extra check to take care of deleted
documents, that aren't removed from the index yet.

greetings
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4557-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 07:05:33 2003
Return-Path: <lucene-user-return-4557-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75601 invoked from network); 22 May 2003 07:05:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 07:05:32 -0000
Received: (qmail 26867 invoked by uid 97); 22 May 2003 07:07:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26860 invoked from network); 22 May 2003 07:07:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 07:07:52 -0000
Received: (qmail 75322 invoked by uid 500); 22 May 2003 07:05:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75309 invoked from network); 22 May 2003 07:05:29 -0000
Received: from mail2.portalis.it (HELO portalis.it) (213.199.4.24)
  by daedalus.apache.org with SMTP; 22 May 2003 07:05:29 -0000
Received: from standardhn540z ([62.123.62.15]) by portalis.it  with Microsoft SMTPSVC(5.5.1877.197.19);
	 Thu, 22 May 2003 09:12:05 +0200
Message-ID: <000d01c32030$ca2e5920$6401a8c0@standardhn540z>
From: "Dario Dentale" <dario.dentale@portalis.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20030521213814.63215.qmail@web12702.mail.yahoo.com>
Subject: Re: cvs commit: jakarta-lucene/docs resources.html
Date: Thu, 22 May 2003 09:07:21 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Which is the difference of speed between Lucene and CLucene?

Thanx,
Dario
----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 21, 2003 11:38 PM
Subject: Fwd: cvs commit: jakarta-lucene/docs resources.html


> Has anyone tried this?  Its home page states: CLucene is faster than
> lucene as it is written in a C++.
> 
> Otis
> 
> --- otis@apache.org wrote:
> >   Log:
> >   - Added CLucene.
> > href="http://sourceforge.net/projects/clucene/">CLucene</a>
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4558-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 07:16:02 2003
Return-Path: <lucene-user-return-4558-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89953 invoked from network); 22 May 2003 07:16:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 07:16:01 -0000
Received: (qmail 27063 invoked by uid 97); 22 May 2003 07:18:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27056 invoked from network); 22 May 2003 07:18:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 07:18:21 -0000
Received: (qmail 89679 invoked by uid 500); 22 May 2003 07:15:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89667 invoked from network); 22 May 2003 07:15:58 -0000
Received: from unknown (HELO svntjt1-47.watercorporation.com.au) (159.52.65.47)
  by daedalus.apache.org with SMTP; 22 May 2003 07:15:58 -0000
Received: by svntjt1-47.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <L1TJ2ZJM>; Thu, 22 May 2003 15:16:13 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00F9752D9@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Lucene & EJBs
Date: Thu, 22 May 2003 15:16:10 +0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All,

I have a couple of questions regarding using Lucene in an EJB environment.
There seems to be a number of probs wrt the ejb spec and lucene. The spec
says that EJBs shouldn't (amoungst other things)

-access the filesystem
-use thread synchronisation or manage threads. 

So I guess that that means that lucene's indexes (FS ones anyway) and that
using synchronisation to serialise access to an Indexwriter are out of the
question. I think we've all probably ignored the former bit of the spec :-)
so no worries there. But it's the synchronisation of index updates with
recreating of readers, and the problem with EJB calls timing out whilst the
index is rebuilt that bothers me the most.

So, any ideas? I thought about an external daemon or maybe a startup class
that coordinates updates and writes with a simple 'flushReader' method on my
search EJB - what do you think?


Bye

Les



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4559-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 08:17:42 2003
Return-Path: <lucene-user-return-4559-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56935 invoked from network); 22 May 2003 08:17:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 08:17:40 -0000
Received: (qmail 28308 invoked by uid 97); 22 May 2003 08:20:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28301 invoked from network); 22 May 2003 08:20:01 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 08:20:01 -0000
Received: (qmail 56691 invoked by uid 500); 22 May 2003 08:17:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56672 invoked from network); 22 May 2003 08:17:37 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 22 May 2003 08:17:37 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4M8HDHc026937;
	Thu, 22 May 2003 10:17:14 +0200
Message-ID: <006301c3203a$9d3eb3b0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Leslie Hughes" <Leslie.Hughes@watercorporation.com.au>
References: <1DB01C48A0A9D311995A00508B62B9F00F9752D9@svntjt1-03.watercorporation.com.au>
Subject: Re: Lucene & EJBs
Date: Thu, 22 May 2003 10:17:41 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> So, any ideas? I thought about an external daemon or maybe a startup
> class that coordinates updates and writes with a simple 'flushReader'
> method on my search EJB - what do you think?

I guess the most standard compliant solution would be to write a JCA
wrapper, see http://java.sun.com/j2ee/connector/.

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4560-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 12:21:06 2003
Return-Path: <lucene-user-return-4560-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55830 invoked from network); 22 May 2003 12:21:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 12:21:06 -0000
Received: (qmail 4320 invoked by uid 97); 22 May 2003 12:23:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4313 invoked from network); 22 May 2003 12:23:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 12:23:15 -0000
Received: (qmail 55564 invoked by uid 500); 22 May 2003 12:21:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55552 invoked from network); 22 May 2003 12:21:03 -0000
Received: from na1.levi.com (155.57.254.1)
  by daedalus.apache.org with SMTP; 22 May 2003 12:21:03 -0000
Received: from sfoexvwall.na.levi.com by na1.levi.com
          via smtpd (for daedalus.apache.org [208.185.179.12]) with SMTP; Thu, 22 May 2003 05:19:06 -0700
Received: by sfoexims.na.levi.com with Internet Mail Service (5.5.2656.59)
	id <LL50VDWY>; Thu, 22 May 2003 05:21:03 -0700
Message-ID: <E9EE029E3896D511A2AA0002A589953003A96568@bruex4.eu.levi.com>
From: MMachado@LEVI.com
To: lucene-user@jakarta.apache.org
Subject: Great Lucene!!!
Date: Thu, 22 May 2003 05:18:36 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C3205C.4514D8A0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C3205C.4514D8A0
Content-Type: text/plain

Hi, me again, but I don't find something that could help me in the Lucene's
examples. Also I verified that the all files were indexed. Can somebody help
me, Thanks

Michel

 

 

from: Machado, Michel 

Sent: Tuesday, May 20, 2003 9:09 PM

To: 'Lucene Users List'

Subject: Lucene i like it!!!

 

 

Hi guys,

 

I am new in Lucene but i like  a lot. I am trying to develop a search
engine. 

I have two problems:

First

I did a program for indexing files, here the code:

 

public void indexFile(String filename) throws Exception {

            IndexWriter writer;

            writer = new IndexWriter(path, new SimpleAnalyzer(), false);

 

            InputStream is = new FileInputStream(filename);

 

              

            Document doc = new Document();

            doc.add(Field.UnIndexed("path", filename));

            doc.add(Field.Text("body", (Reader) new InputStreamReader(is)));

 

            writer.addDocument(doc);

            is.close();

            writer.close();

 

      }

 

when I do a search I receive severals links and the first is the link that I
need. The others link appear because the query have some letter or number
that match with the name of content of the file??? I don't know. I need a
help.

 

Second

I did a program for indexing a directory recursivily (my English is very
poor, I hope that you understand), here the code:

 

public void indexDirectory(String dir) throws Exception {

 

            File file = new File(dir);

 

            if (file.isDirectory()) {

                  File[] f = file.listFiles();

                  for (int x = 0; x < f.length; x++) {

                        if (f[x].isDirectory()) {

                              System.out.println("DIRECTORY:" +

f[x].getName());

                              // search recursive in directory

      

indexDirectory(f[x].getAbsolutePath());

                        } else {

 

                              System.out.println("  FILE: " +

f[x].getName());

                              indexFile(f[x].getAbsolutePath());

                        }

                  }

 

            } else {

                  System.out.println("  FILE: " + file.getName());

                  indexFile(file.getAbsolutePath());

            }

 

      }

When I do a search after to do an indexing of a directory with files only I
have the FIRST problem. But when I do a search after to do an indexing of a
directory with subdirectories and this subdirectories with others
subdirectories and this others subdirectories with files, is  not possible
to find the file that I want. What happens, there is an error in my code???
Some help I will appreciate.

 

Regards,

Michel

 


------_=_NextPart_001_01C3205C.4514D8A0--

From lucene-user-return-4561-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 13:12:16 2003
Return-Path: <lucene-user-return-4561-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78740 invoked from network); 22 May 2003 13:12:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 13:12:15 -0000
Received: (qmail 5527 invoked by uid 97); 22 May 2003 13:14:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5520 invoked from network); 22 May 2003 13:14:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 13:14:24 -0000
Received: (qmail 78494 invoked by uid 500); 22 May 2003 13:12:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78450 invoked from network); 22 May 2003 13:12:10 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 22 May 2003 13:12:10 -0000
Received: (qmail 3602 invoked from network); 22 May 2003 13:11:27 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 22 May 2003 13:11:27 -0000
Subject: Re: query matching all documents
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16076.28355.783178.513304@morus.xipolis.net>
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>
	 <057901c31fd5$d91960c0$6822a8c0@medined01> <1053549022.9061.63.camel@gui>
	 <16076.28355.783178.513304@morus.xipolis.net>
Content-Type: text/plain
Organization: 
Message-Id: <1053609076.15657.0.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 22 May 2003 10:11:17 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

As I said, I'm still getting started (didn't implement deleting
documents yet). Any tips on checking this ?

On Thu, 2003-05-22 at 03:31, Morus Walter wrote:
> Guilherme Barile writes:
> > If you're trying to get all documents, why not
> > 
> > IndexReader reader = IndexReader.open(this.indexDir);
> > Document doc;
> > 	
> > for (int i = 0; i < reader.maxDoc(); i++) {
> > 	try {
> > 		doc = reader.document(i);
> > 		System.out.println(i + " " + doc.get("source"));
> > 	}
> > 	catch (Exception e) {
> > 		System.out.println("Error getting doc " + i);
> > 	}
> > }
> > 
> I guess there should be some extra check to take care of deleted
> documents, that aren't removed from the index yet.
> 
> greetings
> 	Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4562-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 13:28:32 2003
Return-Path: <lucene-user-return-4562-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30060 invoked from network); 22 May 2003 13:28:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 13:28:31 -0000
Received: (qmail 6084 invoked by uid 97); 22 May 2003 13:30:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6077 invoked from network); 22 May 2003 13:30:40 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 13:30:40 -0000
Received: (qmail 28627 invoked by uid 500); 22 May 2003 13:28:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28590 invoked from network); 22 May 2003 13:28:04 -0000
Received: from mail.xipolis.net (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by daedalus.apache.org with SMTP; 22 May 2003 13:28:04 -0000
Received: from morus.xipolis.net (unknown [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id A84A819B719
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 15:28:05 +0200 (CEST)
Received: (from morus@localhost)
	by morus.xipolis.net (8.11.6/8.11.6/SuSE Linux 0.5) id h4MDUdD13110;
	Thu, 22 May 2003 15:30:39 +0200
From: Morus Walter <morus.walter@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16076.53503.186627.863957@morus.xipolis.net>
Date: Thu, 22 May 2003 15:30:39 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: query matching all documents
In-Reply-To: <1053609076.15657.0.camel@gui>
References: <3EBC3EAA.8000209@hotu.com>
	<3ECBD9F8.60901@hotu.com>
	<057901c31fd5$d91960c0$6822a8c0@medined01>
	<1053549022.9061.63.camel@gui>
	<16076.28355.783178.513304@morus.xipolis.net>
	<1053609076.15657.0.camel@gui>
X-Mailer: VM 6.95 under 21.4 (patch 4) "Artificial Intelligence" XEmacs Lucid
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Guilherme Barile writes:
> As I said, I'm still getting started (didn't implement deleting
> documents yet). Any tips on checking this ?
> 
IndexReader has a isDeleted(doc-number) method...

If you make sure all indices are optimized after deleting, it should
be ok to skip the test.

greetings
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4563-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 13:33:16 2003
Return-Path: <lucene-user-return-4563-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45023 invoked from network); 22 May 2003 13:33:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 13:33:15 -0000
Received: (qmail 6233 invoked by uid 97); 22 May 2003 13:35:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6226 invoked from network); 22 May 2003 13:35:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 13:35:24 -0000
Received: (qmail 40743 invoked by uid 500); 22 May 2003 13:32:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40693 invoked from network); 22 May 2003 13:31:59 -0000
Received: from mail.uunet.kelkoo.net (HELO mail.kelkoo.net) (194.98.147.102)
  by daedalus.apache.org with SMTP; 22 May 2003 13:31:59 -0000
Received: from kelkoo.net (IDENT:SyQkrmBkfAb2ymX73IG/H5RD1UuIW/S3@alix.kelkoo-gre.net [192.168.1.9])
	(authenticated bits=0)
	by mail.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id h4MDVx9l015129
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 15:31:59 +0200
Message-ID: <3ECCD155.4010800@kelkoo.net>
Date: Thu, 22 May 2003 15:32:05 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: French/France, fr-FR, French, f
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: query matching all documents
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>	 <057901c31fd5$d91960c0$6822a8c0@medined01> <1053549022.9061.63.camel@gui>	 <16076.28355.783178.513304@morus.xipolis.net> <1053609076.15657.0.camel@gui>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used without encryption ! STARTTLS has NOT been called !
X-RBL-Status: SMTP Relay 192.168.1.9 is friendly, and thus accepted without further checking.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.9 is known and friendly.]
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You don't really need to take care of the deleted docs. When you'll try 
to get a deleted doc (reader.document(i) on a deleted doc), a 
IllegalArgumentException will thrown with the message 'attempt to access 
a deleted document'. Just catch this exception.

Also, I suggest you to use 'numDocs()' instead of 'maxDoc()' to get the 
real number of documnets in the index.

Franck

Guilherme Barile wrote:
> As I said, I'm still getting started (didn't implement deleting
> documents yet). Any tips on checking this ?
> 
> On Thu, 2003-05-22 at 03:31, Morus Walter wrote:
> 
>>Guilherme Barile writes:
>>
>>>If you're trying to get all documents, why not
>>>
>>>IndexReader reader = IndexReader.open(this.indexDir);
>>>Document doc;
>>>	
>>>for (int i = 0; i < reader.maxDoc(); i++) {
>>>	try {
>>>		doc = reader.document(i);
>>>		System.out.println(i + " " + doc.get("source"));
>>>	}
>>>	catch (Exception e) {
>>>		System.out.println("Error getting doc " + i);
>>>	}
>>>}
>>>
>>
>>I guess there should be some extra check to take care of deleted
>>documents, that aren't removed from the index yet.
>>
>>greetings
>>	Morus
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4564-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 13:41:07 2003
Return-Path: <lucene-user-return-4564-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76213 invoked from network); 22 May 2003 13:41:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 13:41:06 -0000
Received: (qmail 6454 invoked by uid 97); 22 May 2003 13:43:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6447 invoked from network); 22 May 2003 13:43:15 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 13:43:15 -0000
Received: (qmail 71185 invoked by uid 500); 22 May 2003 13:39:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71103 invoked from network); 22 May 2003 13:39:42 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 22 May 2003 13:39:42 -0000
Received: (qmail 11224 invoked from network); 22 May 2003 13:39:07 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 22 May 2003 13:39:07 -0000
Subject: Re: query matching all documents
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16076.53503.186627.863957@morus.xipolis.net>
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>
	 <057901c31fd5$d91960c0$6822a8c0@medined01> <1053549022.9061.63.camel@gui>
	 <16076.28355.783178.513304@morus.xipolis.net>
	 <1053609076.15657.0.camel@gui>
	 <16076.53503.186627.863957@morus.xipolis.net>
Content-Type: text/plain
Organization: 
Message-Id: <1053610736.15656.6.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 22 May 2003 10:38:57 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry to bother, but how would it work ?
I already have a wrapper class (as I'm creating an index with predefined
fields), I'll implement the delete() function soon.
So, after deleting, I must optimize the index ? so this way the doc
numbers will always be a sequence ? Or maybe the safer way would be to
add if(!reader.isDeleted(doc-number)) in my listing loop ?

thanks

gui

On Thu, 2003-05-22 at 10:30, Morus Walter wrote:
> Guilherme Barile writes:
> > As I said, I'm still getting started (didn't implement deleting
> > documents yet). Any tips on checking this ?
> > 
> IndexReader has a isDeleted(doc-number) method...
> 
> If you make sure all indices are optimized after deleting, it should
> be ok to skip the test.
> 
> greetings
> 	Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4565-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 13:46:14 2003
Return-Path: <lucene-user-return-4565-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92128 invoked from network); 22 May 2003 13:46:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 13:46:11 -0000
Received: (qmail 6668 invoked by uid 97); 22 May 2003 13:48:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6660 invoked from network); 22 May 2003 13:48:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 13:48:21 -0000
Received: (qmail 91871 invoked by uid 500); 22 May 2003 13:46:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91816 invoked from network); 22 May 2003 13:46:06 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 22 May 2003 13:46:06 -0000
Received: (qmail 13132 invoked from network); 22 May 2003 13:45:34 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 22 May 2003 13:45:34 -0000
Subject: Re: query matching all documents
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3ECCD155.4010800@kelkoo.net>
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>
	 <057901c31fd5$d91960c0$6822a8c0@medined01> <1053549022.9061.63.camel@gui>
	 <16076.28355.783178.513304@morus.xipolis.net>
	 <1053609076.15657.0.camel@gui>  <3ECCD155.4010800@kelkoo.net>
Content-Type: text/plain
Organization: 
Message-Id: <1053611122.15657.11.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 22 May 2003 10:45:24 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What I didn't figure out is, if I have some index like:
[0] doc1.txt
[1] doc2.doc
[2] doc3.xls
[3] doc4.nfo
[4] doc4.pdf

and then I delete doc2.doc (document #1 in lucene). Will the other
documents numbers change ? or there will be a gap in my index ?
Let's list it again with doc2.doc deleted (supposing the gap will be
there)

[0] doc1.txt
[1] << DELETED >>
[2] doc3.xls
[3] doc4.nfo
[4] doc4.pdf

this way (i think) numDocs() will return 4, but maxDocs() would return
5. Using numDocs() would make me lose a document, at least in the way I
implemented it. Any tips ?

gui


On Thu, 2003-05-22 at 10:32, Brisbart Franck wrote:
> You don't really need to take care of the deleted docs. When you'll try 
> to get a deleted doc (reader.document(i) on a deleted doc), a 
> IllegalArgumentException will thrown with the message 'attempt to access 
> a deleted document'. Just catch this exception.
> 
> Also, I suggest you to use 'numDocs()' instead of 'maxDoc()' to get the 
> real number of documnets in the index.
> 
> Franck
> 
> Guilherme Barile wrote:
> > As I said, I'm still getting started (didn't implement deleting
> > documents yet). Any tips on checking this ?
> > 
> > On Thu, 2003-05-22 at 03:31, Morus Walter wrote:
> > 
> >>Guilherme Barile writes:
> >>
> >>>If you're trying to get all documents, why not
> >>>
> >>>IndexReader reader = IndexReader.open(this.indexDir);
> >>>Document doc;
> >>>	
> >>>for (int i = 0; i < reader.maxDoc(); i++) {
> >>>	try {
> >>>		doc = reader.document(i);
> >>>		System.out.println(i + " " + doc.get("source"));
> >>>	}
> >>>	catch (Exception e) {
> >>>		System.out.println("Error getting doc " + i);
> >>>	}
> >>>}
> >>>
> >>
> >>I guess there should be some extra check to take care of deleted
> >>documents, that aren't removed from the index yet.
> >>
> >>greetings
> >>	Morus
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> > 
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4566-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 14:04:46 2003
Return-Path: <lucene-user-return-4566-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37923 invoked from network); 22 May 2003 14:04:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 14:04:44 -0000
Received: (qmail 7260 invoked by uid 97); 22 May 2003 14:06:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7253 invoked from network); 22 May 2003 14:06:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 14:06:54 -0000
Received: (qmail 37657 invoked by uid 500); 22 May 2003 14:04:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37646 invoked from network); 22 May 2003 14:04:40 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 22 May 2003 14:04:40 -0000
Received: (qmail 18401 invoked from network); 22 May 2003 14:04:08 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 22 May 2003 14:04:08 -0000
Subject: Re: Lucene & EJBs
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <006301c3203a$9d3eb3b0$c300000a@caliente>
References:
	 <1DB01C48A0A9D311995A00508B62B9F00F9752D9@svntjt1-03.watercorporation.com.au>
	 <006301c3203a$9d3eb3b0$c300000a@caliente>
Content-Type: text/plain
Organization: 
Message-Id: <1053612237.15657.13.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 22 May 2003 11:03:58 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I guess writing a connector would be the best way to do it, as an Index
can only be acessed by one user at a time.
Anyone wanna do it ?

On Thu, 2003-05-22 at 05:17, Eric Jain wrote:
> > So, any ideas? I thought about an external daemon or maybe a startup
> > class that coordinates updates and writes with a simple 'flushReader'
> > method on my search EJB - what do you think?
> 
> I guess the most standard compliant solution would be to write a JCA
> wrapper, see http://java.sun.com/j2ee/connector/.
> 
> --
> Eric Jain
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4567-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 14:23:06 2003
Return-Path: <lucene-user-return-4567-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96698 invoked from network); 22 May 2003 14:23:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 14:23:05 -0000
Received: (qmail 8031 invoked by uid 97); 22 May 2003 14:25:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8024 invoked from network); 22 May 2003 14:25:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 14:25:12 -0000
Received: (qmail 93026 invoked by uid 500); 22 May 2003 14:21:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92975 invoked from network); 22 May 2003 14:21:56 -0000
Received: from inswsod02.gs.com (207.17.37.11)
  by daedalus.apache.org with SMTP; 22 May 2003 14:21:56 -0000
Received: from insvs8501.inz.gs.com (unknown [204.4.188.78])
	by inswsod02.gs.com (Postfix) with ESMTP id 4BC921DB6E
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 10:21:05 -0400 (EDT)
Received: from gsnmp02es.ny.fw.gs.com by insvs8501.inz.gs.com with ESMTP for lucene-user@jakarta.apache.org; Thu, 22 May 2003 10:21:05 -0400
Received: by gsnmp02es.ny.fw.gs.com with Internet Mail Service (5.5.2655.55)
	id <K2STSBLD>; Thu, 22 May 2003 10:21:19 -0400
Message-Id: <79542328270D5F4BB8E29BED159D783B03264926@gsnmp02es.ny.fw.gs.com>
From: "Lichtner, Guglielmo" <Guglielmo.Lichtner@gs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Lucene & EJBs
Date: Thu, 22 May 2003 10:21:18 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


What do you mean, one-user-at-a-time?

I don't think either Lucene or JCA has that limitation.

-----Original Message-----
From: Guilherme Barile [mailto:gui@prosoma.com.br]
Sent: Thursday, May 22, 2003 10:04 AM
To: Lucene Users List
Subject: Re: Lucene & EJBs


I guess writing a connector would be the best way to do it, as an Index
can only be acessed by one user at a time.
Anyone wanna do it ?

On Thu, 2003-05-22 at 05:17, Eric Jain wrote:
> > So, any ideas? I thought about an external daemon or maybe a startup
> > class that coordinates updates and writes with a simple 'flushReader'
> > method on my search EJB - what do you think?
> 
> I guess the most standard compliant solution would be to write a JCA
> wrapper, see http://java.sun.com/j2ee/connector/.
> 
> --
> Eric Jain
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4568-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 14:36:30 2003
Return-Path: <lucene-user-return-4568-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20738 invoked from network); 22 May 2003 14:36:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 14:36:30 -0000
Received: (qmail 8406 invoked by uid 97); 22 May 2003 14:38:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8398 invoked from network); 22 May 2003 14:38:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 14:38:39 -0000
Received: (qmail 19222 invoked by uid 500); 22 May 2003 14:36:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19094 invoked from network); 22 May 2003 14:36:05 -0000
Received: from mail.colt.kelkoo.net (HELO mail.kelkoo.net) (62.23.206.102)
  by daedalus.apache.org with SMTP; 22 May 2003 14:36:05 -0000
Received: from kelkoo.net (IDENT:Wvz35G8HmWqvu50fNNqCr5Sr3dG897d4@alix.kelkoo-gre.net [192.168.1.9])
	(authenticated bits=0)
	by mail.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id h4MEa29l024587
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 16:36:02 +0200
Message-ID: <3ECCE059.3020504@kelkoo.net>
Date: Thu, 22 May 2003 16:36:09 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: French/France, fr-FR, French, f
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: query matching all documents
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>	 <057901c31fd5$d91960c0$6822a8c0@medined01> <1053549022.9061.63.camel@gui>	 <16076.28355.783178.513304@morus.xipolis.net>	 <1053609076.15657.0.camel@gui>  <3ECCD155.4010800@kelkoo.net> <1053611122.15657.11.camel@gui>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used without encryption ! STARTTLS has NOT been called !
X-RBL-Status: SMTP Relay 192.168.1.9 is friendly, and thus accepted without further checking.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.9 is known and friendly.]
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You're right.
When you delete a document, the document is marked as 'deleted'. And the 
documents numbers are still the same until an optimize is done.

So, after deleting documents, if you want to list them:
- either you do a loop from 0 to maxDoc() and you treat the deleted docs 
(with the same IndexReader)
- or you do an 'optimize' and with a brand new IndexReader you do your 
loop from 0 to numDocs() (without any deleted docs to treat).

franck

Guilherme Barile wrote:
> What I didn't figure out is, if I have some index like:
> [0] doc1.txt
> [1] doc2.doc
> [2] doc3.xls
> [3] doc4.nfo
> [4] doc4.pdf
> 
> and then I delete doc2.doc (document #1 in lucene). Will the other
> documents numbers change ? or there will be a gap in my index ?
> Let's list it again with doc2.doc deleted (supposing the gap will be
> there)
> 
> [0] doc1.txt
> [1] << DELETED >>
> [2] doc3.xls
> [3] doc4.nfo
> [4] doc4.pdf
> 
> this way (i think) numDocs() will return 4, but maxDocs() would return
> 5. Using numDocs() would make me lose a document, at least in the way I
> implemented it. Any tips ?
> 
> gui
> 
> 
> On Thu, 2003-05-22 at 10:32, Brisbart Franck wrote:
> 
>>You don't really need to take care of the deleted docs. When you'll try 
>>to get a deleted doc (reader.document(i) on a deleted doc), a 
>>IllegalArgumentException will thrown with the message 'attempt to access 
>>a deleted document'. Just catch this exception.
>>
>>Also, I suggest you to use 'numDocs()' instead of 'maxDoc()' to get the 
>>real number of documnets in the index.
>>
>>Franck
>>
>>Guilherme Barile wrote:
>>
>>>As I said, I'm still getting started (didn't implement deleting
>>>documents yet). Any tips on checking this ?
>>>
>>>On Thu, 2003-05-22 at 03:31, Morus Walter wrote:
>>>
>>>
>>>>Guilherme Barile writes:
>>>>
>>>>
>>>>>If you're trying to get all documents, why not
>>>>>
>>>>>IndexReader reader = IndexReader.open(this.indexDir);
>>>>>Document doc;
>>>>>	
>>>>>for (int i = 0; i < reader.maxDoc(); i++) {
>>>>>	try {
>>>>>		doc = reader.document(i);
>>>>>		System.out.println(i + " " + doc.get("source"));
>>>>>	}
>>>>>	catch (Exception e) {
>>>>>		System.out.println("Error getting doc " + i);
>>>>>	}
>>>>>}
>>>>>
>>>>
>>>>I guess there should be some extra check to take care of deleted
>>>>documents, that aren't removed from the index yet.
>>>>
>>>>greetings
>>>>	Morus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4569-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 14:38:24 2003
Return-Path: <lucene-user-return-4569-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23330 invoked from network); 22 May 2003 14:38:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 14:38:23 -0000
Received: (qmail 8465 invoked by uid 97); 22 May 2003 14:40:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8458 invoked from network); 22 May 2003 14:40:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 14:40:33 -0000
Received: (qmail 23075 invoked by uid 500); 22 May 2003 14:38:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23060 invoked from network); 22 May 2003 14:38:20 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 22 May 2003 14:38:20 -0000
Received: (qmail 28270 invoked from network); 22 May 2003 14:37:47 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 22 May 2003 14:37:47 -0000
Subject: RE: Lucene & EJBs
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <79542328270D5F4BB8E29BED159D783B03264926@gsnmp02es.ny.fw.gs.com>
References:
	 <79542328270D5F4BB8E29BED159D783B03264926@gsnmp02es.ny.fw.gs.com>
Content-Type: text/plain
Organization: 
Message-Id: <1053614256.15657.15.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 22 May 2003 11:37:36 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

When you're writing to an index, it's locked.

On Thu, 2003-05-22 at 11:21, Lichtner, Guglielmo wrote:
> What do you mean, one-user-at-a-time?
> 
> I don't think either Lucene or JCA has that limitation.
> 
> -----Original Message-----
> From: Guilherme Barile [mailto:gui@prosoma.com.br]
> Sent: Thursday, May 22, 2003 10:04 AM
> To: Lucene Users List
> Subject: Re: Lucene & EJBs
> 
> 
> I guess writing a connector would be the best way to do it, as an Index
> can only be acessed by one user at a time.
> Anyone wanna do it ?
> 
> On Thu, 2003-05-22 at 05:17, Eric Jain wrote:
> > > So, any ideas? I thought about an external daemon or maybe a startup
> > > class that coordinates updates and writes with a simple 'flushReader'
> > > method on my search EJB - what do you think?
> > 
> > I guess the most standard compliant solution would be to write a JCA
> > wrapper, see http://java.sun.com/j2ee/connector/.
> > 
> > --
> > Eric Jain
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4570-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 14:39:33 2003
Return-Path: <lucene-user-return-4570-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24594 invoked from network); 22 May 2003 14:39:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 14:39:32 -0000
Received: (qmail 8498 invoked by uid 97); 22 May 2003 14:41:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8491 invoked from network); 22 May 2003 14:41:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 14:41:41 -0000
Received: (qmail 24267 invoked by uid 500); 22 May 2003 14:39:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24254 invoked from network); 22 May 2003 14:39:27 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 22 May 2003 14:39:27 -0000
Received: (qmail 28633 invoked from network); 22 May 2003 14:38:57 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 22 May 2003 14:38:57 -0000
Subject: Re: query matching all documents
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3ECCE059.3020504@kelkoo.net>
References: <3EBC3EAA.8000209@hotu.com> <3ECBD9F8.60901@hotu.com>
	 <057901c31fd5$d91960c0$6822a8c0@medined01> <1053549022.9061.63.camel@gui>
	 <16076.28355.783178.513304@morus.xipolis.net>
	 <1053609076.15657.0.camel@gui>  <3ECCD155.4010800@kelkoo.net>
	 <1053611122.15657.11.camel@gui>  <3ECCE059.3020504@kelkoo.net>
Content-Type: text/plain
Organization: 
Message-Id: <1053614326.5496.17.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 22 May 2003 11:38:46 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What are the performance concerns of doing an optimization after every
delete ?

On Thu, 2003-05-22 at 11:36, Brisbart Franck wrote:
> You're right.
> When you delete a document, the document is marked as 'deleted'. And the 
> documents numbers are still the same until an optimize is done.
> 
> So, after deleting documents, if you want to list them:
> - either you do a loop from 0 to maxDoc() and you treat the deleted docs 
> (with the same IndexReader)
> - or you do an 'optimize' and with a brand new IndexReader you do your 
> loop from 0 to numDocs() (without any deleted docs to treat).
> 
> franck
> 
> Guilherme Barile wrote:
> > What I didn't figure out is, if I have some index like:
> > [0] doc1.txt
> > [1] doc2.doc
> > [2] doc3.xls
> > [3] doc4.nfo
> > [4] doc4.pdf
> > 
> > and then I delete doc2.doc (document #1 in lucene). Will the other
> > documents numbers change ? or there will be a gap in my index ?
> > Let's list it again with doc2.doc deleted (supposing the gap will be
> > there)
> > 
> > [0] doc1.txt
> > [1] << DELETED >>
> > [2] doc3.xls
> > [3] doc4.nfo
> > [4] doc4.pdf
> > 
> > this way (i think) numDocs() will return 4, but maxDocs() would return
> > 5. Using numDocs() would make me lose a document, at least in the way I
> > implemented it. Any tips ?
> > 
> > gui
> > 
> > 
> > On Thu, 2003-05-22 at 10:32, Brisbart Franck wrote:
> > 
> >>You don't really need to take care of the deleted docs. When you'll try 
> >>to get a deleted doc (reader.document(i) on a deleted doc), a 
> >>IllegalArgumentException will thrown with the message 'attempt to access 
> >>a deleted document'. Just catch this exception.
> >>
> >>Also, I suggest you to use 'numDocs()' instead of 'maxDoc()' to get the 
> >>real number of documnets in the index.
> >>
> >>Franck
> >>
> >>Guilherme Barile wrote:
> >>
> >>>As I said, I'm still getting started (didn't implement deleting
> >>>documents yet). Any tips on checking this ?
> >>>
> >>>On Thu, 2003-05-22 at 03:31, Morus Walter wrote:
> >>>
> >>>
> >>>>Guilherme Barile writes:
> >>>>
> >>>>
> >>>>>If you're trying to get all documents, why not
> >>>>>
> >>>>>IndexReader reader = IndexReader.open(this.indexDir);
> >>>>>Document doc;
> >>>>>	
> >>>>>for (int i = 0; i < reader.maxDoc(); i++) {
> >>>>>	try {
> >>>>>		doc = reader.document(i);
> >>>>>		System.out.println(i + " " + doc.get("source"));
> >>>>>	}
> >>>>>	catch (Exception e) {
> >>>>>		System.out.println("Error getting doc " + i);
> >>>>>	}
> >>>>>}
> >>>>>
> >>>>
> >>>>I guess there should be some extra check to take care of deleted
> >>>>documents, that aren't removed from the index yet.
> >>>>
> >>>>greetings
> >>>>	Morus
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4571-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 14:52:40 2003
Return-Path: <lucene-user-return-4571-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59362 invoked from network); 22 May 2003 14:52:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 14:52:40 -0000
Received: (qmail 9026 invoked by uid 97); 22 May 2003 14:54:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9019 invoked from network); 22 May 2003 14:54:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 14:54:50 -0000
Received: (qmail 53932 invoked by uid 500); 22 May 2003 14:51:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53866 invoked from network); 22 May 2003 14:51:10 -0000
Received: from stats.logient.net (207.107.228.251)
  by daedalus.apache.org with SMTP; 22 May 2003 14:51:10 -0000
Received: from [192.168.0.12] (unknown [192.168.10.78])
	by stats.logient.net (Postfix) with ESMTP id F14E4F34B8
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 10:51:10 -0400 (EDT)
Subject: IndexReader.delete(int docNum)
From: =?ISO-8859-1?Q?Marie-H=E9l=E8ne?= Forget <mhforget@logient.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1053614957.1083.9.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4 
Date: 22 May 2003 10:49:17 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am trying to write a delete method using delete(int docNum) from the
IndexReader class. The problem is that I don't know how to get the
docNum parameter. Can you please help me.

My idea was to perform a search and to delete the documents found. Is
that possible or is there another way around ?

PS: I tried to use delete(Term term), but it did not work. The document
was not deleted.

Thanks for your help:)

MHF


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4572-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 15:07:52 2003
Return-Path: <lucene-user-return-4572-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1471 invoked from network); 22 May 2003 15:07:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 15:07:51 -0000
Received: (qmail 10014 invoked by uid 97); 22 May 2003 15:10:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10007 invoked from network); 22 May 2003 15:10:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 15:10:02 -0000
Received: (qmail 99065 invoked by uid 500); 22 May 2003 15:07:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98970 invoked from network); 22 May 2003 15:07:11 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 22 May 2003 15:07:11 -0000
Received: (qmail 4174 invoked from network); 22 May 2003 15:06:40 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 22 May 2003 15:06:40 -0000
Subject: Re: IndexReader.delete(int docNum)
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1053614957.1083.9.camel@localhost.localdomain>
References: <1053614957.1083.9.camel@localhost.localdomain>
Content-Type: text/plain; charset=ISO-8859-1
Organization: 
Message-Id: <1053615988.15657.24.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 22 May 2003 12:06:29 -0300
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You could list all documents like

IndexReader reader = IndexReader.open(this.indexDir);
Document doc;
Vector v;        
for (int i = 0; i < reader.maxDoc(); i++) {
        try {
                doc = reader.document(i);
                v.add(doc.get("somefield"));
        }
        catch (Exception e) {
                System.out.println("Error getting doc " + i);
        }
}

This way the Vector v would contain all documents, and their index in v
would be the same as their index in lucene (I'm using this vector to
populate a JList).
Read the messages about "query matching all documents", we discussed
many stuff about this there.

see ya

gui

On Thu, 2003-05-22 at 11:49, Marie-Hlne Forget wrote:
> Hi,
> 
> I am trying to write a delete method using delete(int docNum) from the
> IndexReader class. The problem is that I don't know how to get the
> docNum parameter. Can you please help me.
> 
> My idea was to perform a search and to delete the documents found. Is
> that possible or is there another way around ?
> 
> PS: I tried to use delete(Term term), but it did not work. The document
> was not deleted.
> 
> Thanks for your help:)
> 
> MHF
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4573-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 15:17:00 2003
Return-Path: <lucene-user-return-4573-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16900 invoked from network); 22 May 2003 15:17:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 15:17:00 -0000
Received: (qmail 10221 invoked by uid 97); 22 May 2003 15:19:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10214 invoked from network); 22 May 2003 15:19:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 15:19:10 -0000
Received: (qmail 16638 invoked by uid 500); 22 May 2003 15:16:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16627 invoked from network); 22 May 2003 15:16:57 -0000
Received: from inswsod02.gs.com (207.17.37.11)
  by daedalus.apache.org with SMTP; 22 May 2003 15:16:57 -0000
Received: from insvs8501.inz.gs.com (unknown [204.4.188.78])
	by inswsod02.gs.com (Postfix) with ESMTP id AABE41DC09
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 11:16:45 -0400 (EDT)
Received: from gsnmp02es.ny.fw.gs.com by insvs8501.inz.gs.com with ESMTP for lucene-user@jakarta.apache.org; Thu, 22 May 2003 11:16:45 -0400
Received: by gsnmp02es.ny.fw.gs.com with Internet Mail Service (5.5.2655.55)
	id <K2STSBYJ>; Thu, 22 May 2003 11:17:00 -0400
Message-Id: <79542328270D5F4BB8E29BED159D783B03264929@gsnmp02es.ny.fw.gs.com>
From: "Lichtner, Guglielmo" <Guglielmo.Lichtner@gs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Lucene & EJBs
Date: Thu, 22 May 2003 11:16:59 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


So is a database row, but the database still supports concurrent
transactions.

-----Original Message-----
From: Guilherme Barile [mailto:gui@prosoma.com.br]
Sent: Thursday, May 22, 2003 10:38 AM
To: Lucene Users List
Subject: RE: Lucene & EJBs


When you're writing to an index, it's locked.

On Thu, 2003-05-22 at 11:21, Lichtner, Guglielmo wrote:
> What do you mean, one-user-at-a-time?
> 
> I don't think either Lucene or JCA has that limitation.
> 
> -----Original Message-----
> From: Guilherme Barile [mailto:gui@prosoma.com.br]
> Sent: Thursday, May 22, 2003 10:04 AM
> To: Lucene Users List
> Subject: Re: Lucene & EJBs
> 
> 
> I guess writing a connector would be the best way to do it, as an Index
> can only be acessed by one user at a time.
> Anyone wanna do it ?
> 
> On Thu, 2003-05-22 at 05:17, Eric Jain wrote:
> > > So, any ideas? I thought about an external daemon or maybe a startup
> > > class that coordinates updates and writes with a simple 'flushReader'
> > > method on my search EJB - what do you think?
> > 
> > I guess the most standard compliant solution would be to write a JCA
> > wrapper, see http://java.sun.com/j2ee/connector/.
> > 
> > --
> > Eric Jain
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4574-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 15:22:13 2003
Return-Path: <lucene-user-return-4574-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30444 invoked from network); 22 May 2003 15:22:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 15:22:12 -0000
Received: (qmail 10365 invoked by uid 97); 22 May 2003 15:24:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10358 invoked from network); 22 May 2003 15:24:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 15:24:22 -0000
Received: (qmail 30126 invoked by uid 500); 22 May 2003 15:22:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30102 invoked from network); 22 May 2003 15:22:08 -0000
Received: from smtp3.clb.oleane.net (213.56.31.19)
  by daedalus.apache.org with SMTP; 22 May 2003 15:22:08 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp3.clb.oleane.net with ESMTP id h4MFM8Z1030135
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 17:22:08 +0200
Message-ID: <00af01c32076$23ff9cd0$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1053614957.1083.9.camel@localhost.localdomain> <1053615988.15657.24.camel@gui>
Subject: Re: IndexReader.delete(int docNum)
Date: Thu, 22 May 2003 17:23:44 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Marie Hlne

in the Hits object the following method gives you the id of the n Document
retrieved

 /** Returns the id for the nth document in this set. */
  public final int id(int n) throws IOException {
    return hitDoc(n).id;
  }
you can do your search and delete the docs using thid id number




----- Original Message -----
From: "Guilherme Barile" <gui@prosoma.com.br>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 22, 2003 5:06 PM
Subject: Re: IndexReader.delete(int docNum)


> You could list all documents like
>
> IndexReader reader = IndexReader.open(this.indexDir);
> Document doc;
> Vector v;
> for (int i = 0; i < reader.maxDoc(); i++) {
>         try {
>                 doc = reader.document(i);
>                 v.add(doc.get("somefield"));
>         }
>         catch (Exception e) {
>                 System.out.println("Error getting doc " + i);
>         }
> }
>
> This way the Vector v would contain all documents, and their index in v
> would be the same as their index in lucene (I'm using this vector to
> populate a JList).
> Read the messages about "query matching all documents", we discussed
> many stuff about this there.
>
> see ya
>
> gui
>
> On Thu, 2003-05-22 at 11:49, Marie-Hlne Forget wrote:
> > Hi,
> >
> > I am trying to write a delete method using delete(int docNum) from the
> > IndexReader class. The problem is that I don't know how to get the
> > docNum parameter. Can you please help me.
> >
> > My idea was to perform a search and to delete the documents found. Is
> > that possible or is there another way around ?
> >
> > PS: I tried to use delete(Term term), but it did not work. The document
> > was not deleted.
> >
> > Thanks for your help:)
> >
> > MHF
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4575-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 15:33:21 2003
Return-Path: <lucene-user-return-4575-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66716 invoked from network); 22 May 2003 15:33:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 15:33:21 -0000
Received: (qmail 10895 invoked by uid 97); 22 May 2003 15:35:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10888 invoked from network); 22 May 2003 15:35:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 15:35:32 -0000
Received: (qmail 66450 invoked by uid 500); 22 May 2003 15:33:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66437 invoked from network); 22 May 2003 15:33:17 -0000
Received: from ns1.empolis.com (62.52.175.194)
  by daedalus.apache.org with SMTP; 22 May 2003 15:33:17 -0000
Received: from empdegu04.de.empolis.com (220.ip-net00.empolis.com [145.228.99.220])
	by ns1.empolis.com (8.11.6+Sun/8.11.3/NS1) with ESMTP id h4MFXIS24461
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 17:33:19 +0200 (MEST)
Received: by empdegu04.de.empolis.com with Internet Mail Service (5.5.2656.59)
	id <JBXSD48V>; Thu, 22 May 2003 17:34:14 +0200
Message-ID: <3FBFE0B523AD8049BF872A710EF9B322539283@empdegu04.de.empolis.com>
From: "Materna, Wolf-Dietrich (empolis B)"
	 <Wolf-Dietrich.Materna@empolis.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: query matching all documents
Date: Thu, 22 May 2003 17:34:13 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,
> On Thu, 2003-05-22 at 11:36, Brisbart Franck wrote:
> > You're right.
> > When you delete a document, the document is marked as=20
> > 'deleted'. And the=20
> > documents numbers are still the same until an optimize is done.
> >=20
> > So, after deleting documents, if you want to list them:
> > - either you do a loop from 0 to maxDoc() and you treat the=20
> > deleted docs=20
> > (with the same IndexReader)
> > - or you do an 'optimize' and with a brand new IndexReader=20
> > you do your=20
> > loop from 0 to numDocs() (without any deleted docs to treat).

> Guilherme Barile wrote:
> What are the performance concerns of doing an optimization after =
every
> delete ?
This is very slow in most cases. Imagine: lucene has to copy all =
documents
after the deleted one to a new segment (=3D partial index). All data =
are
stored
on hard disk, so this requires a lot of times for larger indexes.

Looping  0 to maxDoc() and use IndexReader.isDeleted(int docID) to =
check,
if the document is deleted, is a better solution.
Regards,
	Wolf-Dietrich

--=20
Wolf-Dietrich Materna
Development
=20
empolis GmbH -  arvato knowledge management=20
Kekul=E9str. 7=20
12489 Berlin, Germany
=20
phone :  +49-30-6780-6510
fax :    +49-30-6780-6549
=20
<<mailto:Wolf-Dietrich.Materna@empolis.com>> <<http://www.empolis.com>>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4576-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 15:33:49 2003
Return-Path: <lucene-user-return-4576-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67656 invoked from network); 22 May 2003 15:33:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 15:33:48 -0000
Received: (qmail 10918 invoked by uid 97); 22 May 2003 15:35:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10911 invoked from network); 22 May 2003 15:35:57 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 15:35:57 -0000
Received: (qmail 67342 invoked by uid 500); 22 May 2003 15:33:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67331 invoked from network); 22 May 2003 15:33:44 -0000
Received: from web12704.mail.yahoo.com (216.136.173.241)
  by daedalus.apache.org with SMTP; 22 May 2003 15:33:44 -0000
Message-ID: <20030522153347.78674.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP; Thu, 22 May 2003 08:33:47 PDT
Date: Thu, 22 May 2003 08:33:47 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: cvs commit: jakarta-lucene/docs resources.html
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <000d01c32030$ca2e5920$6401a8c0@standardhn540z>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think you'll have to ask CLucene developers.
I'd love to see a comparison.

Otis

--- Dario Dentale <dario.dentale@portalis.it> wrote:
> Which is the difference of speed between Lucene and CLucene?
> 
> Thanx,
> Dario
> ----- Original Message ----- 
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Wednesday, May 21, 2003 11:38 PM
> Subject: Fwd: cvs commit: jakarta-lucene/docs resources.html
> 
> 
> > Has anyone tried this?  Its home page states: CLucene is faster
> than
> > lucene as it is written in a C++.
> > 
> > Otis
> > 
> > --- otis@apache.org wrote:
> > >   Log:
> > >   - Added CLucene.
> > > href="http://sourceforge.net/projects/clucene/">CLucene</a>
> > 
> > 
> > __________________________________
> > Do you Yahoo!?
> > The New Yahoo! Search - Faster. Easier. Bingo.
> > http://search.yahoo.com
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4577-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 15:48:57 2003
Return-Path: <lucene-user-return-4577-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13439 invoked from network); 22 May 2003 15:48:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 15:48:57 -0000
Received: (qmail 11622 invoked by uid 97); 22 May 2003 15:51:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11615 invoked from network); 22 May 2003 15:51:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 15:51:07 -0000
Received: (qmail 6751 invoked by uid 500); 22 May 2003 15:47:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6681 invoked from network); 22 May 2003 15:47:07 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 22 May 2003 15:47:07 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4MFl3Hc014060
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 17:47:03 +0200
Message-ID: <005501c32079$74268900$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <79542328270D5F4BB8E29BED159D783B03264926@gsnmp02es.ny.fw.gs.com> <1053614256.15657.15.camel@gui>
Subject: Re: Lucene & EJBs
Date: Thu, 22 May 2003 17:47:30 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> When you're writing to an index, it's locked.

Read vs. write locks...

Anyways, having a JCA wrapper does not necessarily imply that the
resource must support transactions; nevertheless having such support for
Lucene would be very useful, though it is a lot of work, and to be
honest, things also work as is.

On the other hand not being able to use Lucene on an application server
without walking over some specifications may be a show stopper for some
projects, but then again I'm not part of the marketing team :-)


--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4578-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 17:34:35 2003
Return-Path: <lucene-user-return-4578-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52260 invoked from network); 22 May 2003 17:34:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 17:34:34 -0000
Received: (qmail 16104 invoked by uid 97); 22 May 2003 17:36:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16097 invoked from network); 22 May 2003 17:36:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 17:36:46 -0000
Received: (qmail 36762 invoked by uid 500); 22 May 2003 17:30:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36713 invoked from network); 22 May 2003 17:30:55 -0000
Received: from host09.ipowerweb.com (12.129.206.109)
  by daedalus.apache.org with SMTP; 22 May 2003 17:30:55 -0000
Received: from tricon-bh.tricon-yum.com ([4.18.68.2] helo=dougandalli.com)
	by host09.ipowerweb.com with asmtp (Exim 3.36 #1)
	id 19Itu6-0007bv-00
	for lucene-user@jakarta.apache.org; Thu, 22 May 2003 10:30:58 -0700
Date: Thu, 22 May 2003 12:30:56 -0500
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Why would a searcher not find an added document?
From: Doug Kirk <doug@dougandalli.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <25411AED-8C7B-11D7-BB56-000A95A04B3E@dougandalli.com>
X-Mailer: Apple Mail (2.552)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host09.ipowerweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [0 0]
X-AntiAbuse: Sender Address Domain - dougandalli.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

After deleting a document from the index, and then adding a document to 
the index (same doc with updated info), it seems that the IndexSearcher 
doesn't find the updated document.

Whether I specify no limiting criteria (to find all docs), or specific 
criteria to find just the doc I'm interested in, the new doc is never 
found. I'm not caching anything, so each time a search is done a new 
IndexSearcher is created. Additionally, when I delete I use a new 
IndexReader, and to add I use a new IndexWriter.

I'm using 1.3-RC1, but the same issue occurs on 1.2.

What the heck could I be doing wrong??

P.S.  I know that the document is in the index, because I wrote a Swing 
Lucene browser that lets me view the index and its docs using a 
TreePane and an EditorPane (which I'd be happy to contribute if 
somebody would like it).


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4579-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 20:42:41 2003
Return-Path: <lucene-user-return-4579-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62756 invoked from network); 22 May 2003 20:42:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 20:42:40 -0000
Received: (qmail 21683 invoked by uid 97); 22 May 2003 20:44:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 21676 invoked from network); 22 May 2003 20:44:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 20:44:54 -0000
Received: (qmail 61906 invoked by uid 500); 22 May 2003 20:42:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61863 invoked from network); 22 May 2003 20:42:30 -0000
Received: from web12706.mail.yahoo.com (216.136.173.243)
  by daedalus.apache.org with SMTP; 22 May 2003 20:42:30 -0000
Message-ID: <20030522204236.37098.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP; Thu, 22 May 2003 13:42:36 PDT
Date: Thu, 22 May 2003 13:42:36 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Why would a searcher not find an added document?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <25411AED-8C7B-11D7-BB56-000A95A04B3E@dougandalli.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug,

Close IndexWriter and open a new IndexReader/Searcher.
For some people lots of people asked this same question this week :)

Regarding the Swing app, yes, that would be nice to see, and if you
want to contribute it, we can put it in Lucene Sandbox.

Thanks,
Otis


--- Doug Kirk <doug@dougandalli.com> wrote:
> After deleting a document from the index, and then adding a document
> to 
> the index (same doc with updated info), it seems that the
> IndexSearcher 
> doesn't find the updated document.
> 
> Whether I specify no limiting criteria (to find all docs), or
> specific 
> criteria to find just the doc I'm interested in, the new doc is never
> 
> found. I'm not caching anything, so each time a search is done a new 
> IndexSearcher is created. Additionally, when I delete I use a new 
> IndexReader, and to add I use a new IndexWriter.
> 
> I'm using 1.3-RC1, but the same issue occurs on 1.2.
> 
> What the heck could I be doing wrong??
> 
> P.S.  I know that the document is in the index, because I wrote a
> Swing 
> Lucene browser that lets me view the index and its docs using a 
> TreePane and an EditorPane (which I'd be happy to contribute if 
> somebody would like it).
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4580-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 21:29:40 2003
Return-Path: <lucene-user-return-4580-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48925 invoked from network); 22 May 2003 21:29:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 21:29:39 -0000
Received: (qmail 23556 invoked by uid 97); 22 May 2003 21:31:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23549 invoked from network); 22 May 2003 21:31:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 21:31:53 -0000
Received: (qmail 48043 invoked by uid 500); 22 May 2003 21:29:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47892 invoked from network); 22 May 2003 21:29:23 -0000
Received: from host09.ipowerweb.com (12.129.206.109)
  by daedalus.apache.org with SMTP; 22 May 2003 21:29:23 -0000
Received: from adsl-64-216-239-30.dsl.rcsntx.swbell.net ([64.216.239.30] helo=dougandalli.com)
	by host09.ipowerweb.com with asmtp (Exim 3.36 #1)
	id 19Ixcu-0002Wx-00
	for lucene-user@jakarta.apache.org; Thu, 22 May 2003 14:29:28 -0700
Date: Thu, 22 May 2003 16:29:25 -0500
Subject: Re: Why would a searcher not find an added document?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Doug Kirk <doug@dougandalli.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030522204236.37098.qmail@web12706.mail.yahoo.com>
Message-Id: <76497913-8C9C-11D7-BC28-000A95A04B3E@dougandalli.com>
X-Mailer: Apple Mail (2.552)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host09.ipowerweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [0 0]
X-AntiAbuse: Sender Address Domain - dougandalli.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Doug,
>
> Close IndexWriter and open a new IndexReader/Searcher.
> For some people lots of people asked this same question this week :)

Yes, I'm already doing that and still the document isn't found!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4581-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 22:52:16 2003
Return-Path: <lucene-user-return-4581-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36164 invoked from network); 22 May 2003 22:52:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 22:52:16 -0000
Received: (qmail 25557 invoked by uid 97); 22 May 2003 22:54:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25550 invoked from network); 22 May 2003 22:54:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 22:54:31 -0000
Received: (qmail 35665 invoked by uid 500); 22 May 2003 22:52:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35601 invoked from network); 22 May 2003 22:52:10 -0000
Received: from unknown (HELO frodo.hotu.com) (66.180.133.139)
  by daedalus.apache.org with SMTP; 22 May 2003 22:52:10 -0000
Received: from hotu.com (localhost.localdomain [127.0.0.1])
	by frodo.hotu.com (8.11.2/8.11.2) with ESMTP id h4MMr2k31990
	for <lucene-user@jakarta.apache.org>; Thu, 22 May 2003 12:53:03 -1000
Message-ID: <3ECD54CE.6080307@hotu.com>
Date: Thu, 22 May 2003 12:53:02 -1000
From: newsham@hotu.com
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why would a searcher not find an added document?
References: <76497913-8C9C-11D7-BC28-000A95A04B3E@dougandalli.com>
In-Reply-To: <76497913-8C9C-11D7-BC28-000A95A04B3E@dougandalli.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Kirk wrote:

>> Doug,
>>
>> Close IndexWriter and open a new IndexReader/Searcher.
>> For some people lots of people asked this same question this week :)
>
>
> Yes, I'm already doing that and still the document isn't found!


Also make sure that you use the same analyzer during indexing and 
searching.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4582-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 22 23:01:36 2003
Return-Path: <lucene-user-return-4582-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45903 invoked from network); 22 May 2003 23:01:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 22 May 2003 23:01:36 -0000
Received: (qmail 25684 invoked by uid 97); 22 May 2003 23:03:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25677 invoked from network); 22 May 2003 23:03:51 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 22 May 2003 23:03:51 -0000
Received: (qmail 45636 invoked by uid 500); 22 May 2003 23:01:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45625 invoked from network); 22 May 2003 23:01:32 -0000
Received: from host09.ipowerweb.com (12.129.206.109)
  by daedalus.apache.org with SMTP; 22 May 2003 23:01:32 -0000
Received: from adsl-64-216-239-30.dsl.rcsntx.swbell.net ([64.216.239.30] helo=dougandalli.com)
	by host09.ipowerweb.com with asmtp (Exim 3.36 #1)
	id 19Iz47-0002Bj-00
	for lucene-user@jakarta.apache.org; Thu, 22 May 2003 16:01:39 -0700
Date: Thu, 22 May 2003 18:01:36 -0500
Subject: Re: Why would a searcher not find an added document?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Doug Kirk <doug@dougandalli.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3ECD54CE.6080307@hotu.com>
Message-Id: <56A47C1E-8CA9-11D7-BC28-000A95A04B3E@dougandalli.com>
X-Mailer: Apple Mail (2.552)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - host09.ipowerweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [0 0]
X-AntiAbuse: Sender Address Domain - dougandalli.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Also make sure that you use the same analyzer during indexing and 
> searching.

I use the same analyzer class (StandardAnalyzer), but a new instance 
for each search, and each document addition. Is that causing a problem?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4583-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 23 02:20:08 2003
Return-Path: <lucene-user-return-4583-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41167 invoked from network); 23 May 2003 02:20:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 May 2003 02:20:07 -0000
Received: (qmail 29926 invoked by uid 97); 23 May 2003 02:22:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29919 invoked from network); 23 May 2003 02:22:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 May 2003 02:22:24 -0000
Received: (qmail 40855 invoked by uid 500); 23 May 2003 02:20:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40834 invoked from network); 23 May 2003 02:20:03 -0000
Received: from unknown (HELO svntjt1-46.watercorporation.com.au) (159.52.65.24)
  by daedalus.apache.org with SMTP; 23 May 2003 02:20:03 -0000
Received: by svntjt1-46.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <L1TR2JN5>; Fri, 23 May 2003 10:04:56 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00F9752DD@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>, 
	"'lucene-dev@jakarta.apache.org'" <lucene-dev@jakarta.apache.org>
Subject: RE: Lucene & EJBs
Date: Fri, 23 May 2003 10:04:55 +0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


An impl of a refereshing reader is discussed here but since it spawns
threads is no good for EJB land....

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apach
e.org&msgNo=3394

Read vs write locks - From my understanding, only one writer can write but
many readers can read whilst the writing is taking place. COuld be wrong on
this of course :-)

Anyway, it's not the reading that's the problem, its the writing. A Searcher
EJB is pretty trival inc. a "refreshYourReaders()" to make changes to the
index visible. Managing the update notification and reindexing in the writer
is the problem.

So, how would a JCA wrapper help things? Aren't we're just talking about a
mechanism to access an external service. In which case, lucene wouldn't be
integrated "inside" the EJB application, it would have to be an external
"server" process?  I'd have thought if this were the case, then a simple
socket/RMI solution would be easier to implement?

Final question - can you expand on your "things work as-is" comment?

Les

(P.S. Sorry about the x-posting, thought lucene-dev might have some input on
this as well.)



> -----Original Message-----
> From:	Eric Jain [SMTP:Eric.Jain@isb-sib.ch]
> Sent:	Thursday, May 22, 2003 11:48 PM
> To:	Lucene Users List
> Subject:	Re: Lucene & EJBs
> 
> > When you're writing to an index, it's locked.
> 
> Read vs. write locks...
> 
> Anyways, having a JCA wrapper does not necessarily imply that the
> resource must support transactions; nevertheless having such support for
> Lucene would be very useful, though it is a lot of work, and to be
> honest, things also work as is.
> 
> On the other hand not being able to use Lucene on an application server
> without walking over some specifications may be a show stopper for some
> projects, but then again I'm not part of the marketing team :-)
> 
> 
> --
> Eric Jain
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4584-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 23 03:38:31 2003
Return-Path: <lucene-user-return-4584-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4188 invoked from network); 23 May 2003 03:38:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 May 2003 03:38:30 -0000
Received: (qmail 1192 invoked by uid 97); 23 May 2003 03:40:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1185 invoked from network); 23 May 2003 03:40:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 May 2003 03:40:48 -0000
Received: (qmail 3889 invoked by uid 500); 23 May 2003 03:38:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3876 invoked from network); 23 May 2003 03:38:28 -0000
Received: from web12701.mail.yahoo.com (216.136.173.238)
  by daedalus.apache.org with SMTP; 23 May 2003 03:38:28 -0000
Message-ID: <20030523033838.80033.qmail@web12701.mail.yahoo.com>
Received: from [24.90.65.225] by web12701.mail.yahoo.com via HTTP; Thu, 22 May 2003 20:38:38 PDT
Date: Thu, 22 May 2003 20:38:38 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Why would a searcher not find an added document?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <56A47C1E-8CA9-11D7-BC28-000A95A04B3E@dougandalli.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hm, it's ahrd to help without seeing any of the code.
I suggest you create a small 'add a document, search the index' test
case that demonstrates the problem.
My guess is that you'll figure out what you are doing wrong while
writing this class :)

Otis

--- Doug Kirk <doug@dougandalli.com> wrote:
> > Also make sure that you use the same analyzer during indexing and 
> > searching.
> 
> I use the same analyzer class (StandardAnalyzer), but a new instance 
> for each search, and each document addition. Is that causing a
> problem?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4585-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 23 04:35:45 2003
Return-Path: <lucene-user-return-4585-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40537 invoked from network); 23 May 2003 04:35:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 May 2003 04:35:44 -0000
Received: (qmail 1908 invoked by uid 97); 23 May 2003 04:38:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1901 invoked from network); 23 May 2003 04:38:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 May 2003 04:38:03 -0000
Received: (qmail 40289 invoked by uid 500); 23 May 2003 04:35:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40278 invoked from network); 23 May 2003 04:35:42 -0000
Received: from mzpi4.forethought.net (HELO mz2.forethought.net) (216.241.36.13)
  by daedalus.apache.org with SMTP; 23 May 2003 04:35:42 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz2.forethought.net with esmtp (Exim 4.14)
	id 19J4HY-0004Pd-It
	for lucene-user@jakarta.apache.org; Thu, 22 May 2003 22:35:52 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: query matching all documents
Date: Thu, 22 May 2003 22:41:28 -0600
User-Agent: KMail/1.4.3
References: <3EBC3EAA.8000209@hotu.com> <1053609076.15657.0.camel@gui> <3ECCD155.4010800@kelkoo.net>
In-Reply-To: <3ECCD155.4010800@kelkoo.net>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305222241.28612.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday 22 May 2003 07:32, Brisbart Franck wrote:
> You don't really need to take care of the deleted docs. When you'll try
> to get a deleted doc (reader.document(i) on a deleted doc), a
> IllegalArgumentException will thrown with the message 'attempt to access
> a deleted document'. Just catch this exception.

Although technically speaking that would work, in general it's almost always 
better to check for a condition that can occur  instead of waiting for an 
exception to occur. For example, if there is a chance that a reference may 
well be null, it's better to check for null than to do try-catch for 
NullPointerException; if no null is expected, no specific catch block is 
needed (it may make sense to have catch-all construct for robustness, but not 
for specific one).

Exceptions are to be used only for exceptional things, and for iterating over 
non-optimized index, finding a deleted doc is nothing too exceptional? If 
index is assumed to be optimal, and no deleted docs should be there, then it 
may be reasonable to use try-catch "just in case".

There's a significant overhead for just creating the exception object (JVM 
needs to unwind the whole call stack, and that's seldom optimized by VMs... 
because they optimize non-exception cases etc. etc.), and when iterating over 
all docs, this overhead may make traversing significantly slower if there are 
multiple deleted docs.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4586-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 23 08:41:38 2003
Return-Path: <lucene-user-return-4586-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9372 invoked from network); 23 May 2003 08:41:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 May 2003 08:41:37 -0000
Received: (qmail 13764 invoked by uid 97); 23 May 2003 08:43:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13757 invoked from network); 23 May 2003 08:43:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 May 2003 08:43:58 -0000
Received: (qmail 8833 invoked by uid 500); 23 May 2003 08:41:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8749 invoked from network); 23 May 2003 08:41:31 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 23 May 2003 08:41:31 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4N8fdHc005905
	for <lucene-user@jakarta.apache.org>; Fri, 23 May 2003 10:41:40 +0200
Message-ID: <009701c32107$33e095f0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1DB01C48A0A9D311995A00508B62B9F00F9752DD@svntjt1-03.watercorporation.com.au>
Subject: Re: Lucene & EJBs
Date: Fri, 23 May 2003 10:42:09 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Managing the update notification and
> reindexing in the writer is the problem.

My current solution is to have all updates done through a JMX MBean.
This MBean is also responsible for (re)binding an IndexReader to JNDI at
startup and after updating.

A JCA wrapper would allow things such as whether or not the current
operation is being executed in a transaction to be passed on to such a
Lucene MBean - certainly useful if you intend to modify the index from
an EJB. Of course you would still have to implement the rollback
function yourself...


--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4587-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 23 21:02:16 2003
Return-Path: <lucene-user-return-4587-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52601 invoked from network); 23 May 2003 21:02:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 May 2003 21:02:16 -0000
Received: (qmail 11305 invoked by uid 97); 23 May 2003 21:04:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11298 invoked from network); 23 May 2003 21:04:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 23 May 2003 21:04:30 -0000
Received: (qmail 52367 invoked by uid 500); 23 May 2003 21:02:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52347 invoked from network); 23 May 2003 21:02:12 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 23 May 2003 21:02:12 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-8.00) id AB8448A0098; Fri, 23 May 2003 15:58:44 -0500
Message-ID: <003b01c3216e$977e45a0$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: <lucene-user@jakarta.apache.org>
Subject: Using MultiSearcher
Date: Fri, 23 May 2003 16:02:16 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
I am have a problem using MultiSearcher and I want to ask if I am using it
properly. Every other run of my jsp page throws an exception on the
msearcher.search(query); line of code, otherwise it runs ok.

the error:
javax.servlet.ServletException: msearcher.search(query):
java.io.IOException: Bad file descriptor

the code:
/**
* There is a method that creates the IndexSearcher[] called idx,
* try/catch blocks have been removed for clarity.
* idx looks like {new
IndexSearcher(IndexReader.open("opt/lucene/index")),new
IndexSearcher(IndexReader.open("search/lucene/index"))}
*/
msearcher = new MultiSearcher(idx);
analyzer = new StopAnalyzer();
query = QueryParser.parse(criteria, "contents", analyzer);
hits = msearcher.search(query);


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4588-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 24 08:22:12 2003
Return-Path: <lucene-user-return-4588-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41636 invoked from network); 24 May 2003 08:22:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 May 2003 08:22:12 -0000
Received: (qmail 3222 invoked by uid 97); 24 May 2003 08:24:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3214 invoked from network); 24 May 2003 08:24:32 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 May 2003 08:24:32 -0000
Received: (qmail 41341 invoked by uid 500); 24 May 2003 08:22:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41330 invoked from network); 24 May 2003 08:22:08 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 24 May 2003 08:22:08 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-8.00) id AAEE98F0096; Sat, 24 May 2003 03:18:54 -0500
Message-ID: <000901c321cd$9bc224b0$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Bryan LaPlante" <blaplante@netwebapps.com>
References: <003b01c3216e$977e45a0$d9321c41@vincent>
Subject: Re: Using MultiSearcher
Date: Sat, 24 May 2003 03:22:25 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ok I found my problem, it was the ArrayList() I used to hold all of the
string values for each index to be searched prior to creating an
IndexSearcher[] array to be passed to the MultiSearcher.

In researching this problem I have uncovered a more serious problem
concerning tag pooling in Tomcat where a tag handler class gets reused for
many instances of the tag in a jsp page.

Tag pooling is designed to enhance performance by reusing the same instance
of a tag handler class for multiple tags on the page. The problem is that
the values passed to these tags is also cached with the instance in the tag
pool. If you try to change the value and reuse the tag it will not pass the
new value unless the jsp page is changed in some way or Tomcat is restarted.

The administrative answer to this problem is to turn off tag pooling for all
jsp pages and not take advantage of the tag pooling. I intend to join the
Tomcat discussion and discuss this issue. It has been my experience that
other platforms such as JRun do not have this particular problem and still
achieve tag pooling, so there must be a solution that will not require an
admin to loose this benefit when using custom tags.

To change the tag pooling behavior in Tomcat do the following:


----------------------------------------------------------------------------
----

  a.. From: Bill Barker
  b.. Subject: Re: HELP:Tagpool sharing problems
  c.. Date: Mon, 28 Apr 2003 22:20:20 -0700

----------------------------------------------------------------------------
----

In $CATALINA_HOME/conf/web.xml, locate the <servlet-name>jsp</servlet-name>
servlet, and add:
  <init-param>
    <param-name>enablePooling</param-name>
    <param-value>false</param-value>
  </init-param>

This will turn off tag-pooling.  You'll also need to clear out
$CATALINA_HOME/work so that the JSP pages get re-compiled.

If you just want it turned off for one context, then you can place the
definition of the jsp servlet in your own web.xml.

If you are using:
  <servlet>
    <servlet-name>myJspPage</servlet-name>
    <jsp-page>myJspPage.jsp</jsp-page>
  </servlet>
then you also need to add the enablePooling init-param to your servlet's
definition.

----- Original Message -----
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, May 23, 2003 4:02 PM
Subject: Using MultiSearcher


> Hi,
> I am have a problem using MultiSearcher and I want to ask if I am using it
> properly. Every other run of my jsp page throws an exception on the
> msearcher.search(query); line of code, otherwise it runs ok.
>
> the error:
> javax.servlet.ServletException: msearcher.search(query):
> java.io.IOException: Bad file descriptor
>
> the code:
> /**
> * There is a method that creates the IndexSearcher[] called idx,
> * try/catch blocks have been removed for clarity.
> * idx looks like {new
> IndexSearcher(IndexReader.open("opt/lucene/index")),new
> IndexSearcher(IndexReader.open("search/lucene/index"))}
> */
> msearcher = new MultiSearcher(idx);
> analyzer = new StopAnalyzer();
> query = QueryParser.parse(criteria, "contents", analyzer);
> hits = msearcher.search(query);
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4589-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 24 15:21:01 2003
Return-Path: <lucene-user-return-4589-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67839 invoked from network); 24 May 2003 15:21:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 May 2003 15:21:00 -0000
Received: (qmail 9635 invoked by uid 97); 24 May 2003 15:23:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 9628 invoked from network); 24 May 2003 15:23:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 May 2003 15:23:11 -0000
Received: (qmail 67561 invoked by uid 500); 24 May 2003 15:20:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67550 invoked from network); 24 May 2003 15:20:57 -0000
Received: from web12707.mail.yahoo.com (216.136.173.244)
  by daedalus.apache.org with SMTP; 24 May 2003 15:20:57 -0000
Message-ID: <20030524152100.28075.qmail@web12707.mail.yahoo.com>
Received: from [24.90.65.225] by web12707.mail.yahoo.com via HTTP; Sat, 24 May 2003 08:21:00 PDT
Date: Sat, 24 May 2003 08:21:00 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Index Path in WAR
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1DB01C48A0A9D311995A00508B62B9F00E3CDEE3@svntjt1-03.watercorporation.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This is nice, but it doesn't compile, for it doesn't implement
Directory's abstract touchFile method.

Otis

--- Leslie Hughes <Leslie.Hughes@watercorporation.com.au> wrote:
> 
> Curiouser and curiouser.....
> 
> 
> 
> 
> 
> import java.io.BufferedInputStream;
> 
> import java.io.File;
> import java.io.IOException;
> import java.util.Iterator;
> import java.util.Set;
> 
> import javax.servlet.ServletContext;
> import javax.servlet.ServletContextEvent;
> import javax.servlet.ServletContextListener;
> 
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.FSDirectory;
> import org.apache.lucene.store.InputStream;
> import org.apache.lucene.store.Lock;
> import org.apache.lucene.store.OutputStream;
> import org.apache.lucene.store.RAMDirectory;
> 
> 
> /*
> *  A delegating Directory that wraps either a RAMDirectory or
> *  FSDirectory and allows an index to be distributed in a WAR.
> *
> *  An index is stored in the WAR under /WEB-INF (eg /WEB-INF/myindex)
> *  and deployed into RAM or FS depending upon the context params
> below.
> *
> *  By registering this class in the web.xml
> *  we will receive ServletContextEvents on web app initialisation.
> *  The same could be achieved in an old skool style startup-servlet.
> *
> *  Add lines like
> <web-app>
> 
>   <description>MySearchApp</description>
> 
>   <context-param>
> 	<param-name>org.apache.lucene.index</param-name>
> 	<param-value>myindex</param-value>
>   </context-param>
> 
>   <context-param>
> 	<param-name>org.apache.lucene.index.UseRAMDirectory</param-name>
> 	<param-value>false</param-value>
>   </context-param>
> 
>   <listener>
> 	<listener-class>WARDirectory</listener-class>
>   </listener>
> 
> </web-app>
> 
> 
> *
> *  Once initialised, the directory can be accessed via the
> *  org.apache.lucene.store.WARDirectory attribute. Eg in a jsp do
> *
> *  Directory dir =
>
(Directory)application.getAttribute("org.apache.lucene.store.WARDirectory");
> *  Searcher searcher = new IndexSearcher(dir);
> *  etc etc
> *
> *  Limitations:  Only tested in Tomcat > 4.1 (Servlet 2.4?)
> *
> *  ToDo: Change RAM/FSDirectory selection to allow passing of a
> classname
> (eg org.foo.Mydirectory)
> *        Needs changes for lucene > 1.2 ??
> 
> * @author <a href="mailto:lesliehughes100@yahoo.com">Les Hughes</a>
> */
> 
> 
> public class WARDirectory extends Directory implements
> ServletContextListener {
> 
>     protected Directory directory;
>     protected ServletContext context;
>     protected Set list;
>     protected boolean useRam = false;
>     String index;
> 
>     //Shame this method does not allow us to throw an
> exception.....Erm
> bogus use of RuntimeException...
> 
>     public void contextInitialized(ServletContextEvent sce) {
>         context = sce.getServletContext();
> 
>         if((index =
> context.getInitParameter("org.apache.lucene.index")) ==
> null) {
>          String msg = "Lucene 'org.apache.lucene.index' context-param
> missing in web.xml";
>          context.log(msg);
>          throw new RuntimeException(msg);
>         }
> 
>         useRam =
>
Boolean.valueOf(context.getInitParameter("org.apache.lucene.index.UseRAMDire
> ctory")).booleanValue();
> 
>         context.log("Searching for index "+index);
>         list = context.getResourcePaths("/WEB-INF/"+index);
>         if(list == null || list.isEmpty()) {
>              String msg = "Index /WEB-INF/"+index+" appears to be
> missing or
> empty.";
>              context.log(msg);
>              throw new RuntimeException(msg);
>         }
> 
> 		//Now copy index from WAR into Directory
>         try {
> 
>             if(useRam) {
>                 context.log("Creating a new RAMDirectory");
>                 directory = new RAMDirectory();
>             } else {
>                 File temp =
> (File)context.getAttribute("javax.servlet.context.tempdir"); 
> //Sevlet Spec
> P30
>                 String dirPath = temp.getPath() + "/"+ index;
>                 context.log("Creating a new FSDirectory at
> "+dirPath);
>                 directory = FSDirectory.getDirectory(dirPath, true);
>             }
> 
>             //Add files from WAR to Dir...
>             java.io.InputStream in;
>             OutputStream out;
> 
>             int numBytes;
>             byte[] buffer = new byte[4096]; //4k buffer
>             String inresname, outresname;
>             Iterator iter = list.iterator();
> 
>             while(iter.hasNext()) {
>                 inresname = (String)iter.next();
>                 outresname =
> inresname.substring(inresname.lastIndexOf('/')+1);
>                 context.log("Reading "+inresname+" will create
> "+index+"/"+outresname);
>                 in = new
> BufferedInputStream(context.getResourceAsStream(inresname));
> 
>                 out =  directory.createFile(outresname);
> 
>                 numBytes = 0;
>                 while( (numBytes = in.read(buffer, 0 ,
> buffer.length)) !=
> -1) {
>                     out.writeBytes(buffer, numBytes);
>                 }
> 
>                 out.close();
>                 in.close();
>             }
> 
>             //All done?
> 
>         }catch(IOException ioe) {
>             //We fail fast if there was an exception on creating the
> Directory.
>             //Perhaps later we can re-try with an FSDirectory if it
> was an
> outof memory issue?
> 
>             context.log("Problem creating WARDirectory
> "+ioe.getMessage());
>             ioe.printStackTrace();
>             throw new RuntimeException("Problem creating WARDirectory
> "+ioe.getMessage());
>         }
> 
> 		//Finally put dir ref somewhere we can use it...
>         context.setAttribute("org.apache.lucene.store.WARDirectory",
> this);
>         context.log("WARDirectory done initialising.");
>     }
> 
> 
> 
>
////////////////////////////////////////////////////////////////////////////
> /
> //    Implement Directory's Interface.
>
////////////////////////////////////////////////////////////////////////////
> /
> 
>     /* Called on app shutdown */
>     public void contextDestroyed(ServletContextEvent sce){}
> 
>     /** Returns an array of strings, one for each file in the
> directory. */
>     public String[] list() throws IOException, SecurityException{
>         return directory.list();
>     }
> 
>     /** Returns true if a file with the given name exists. */
>     public boolean fileExists(String name) throws IOException,
> SecurityException{
>         return directory.fileExists(name);
>     }
> 
>     /** Returns the time the named file was last modified. */
>     public long fileModified(String name) throws IOException,
> SecurityException{
>         return directory.fileModified(name);
>     }
> 
>     /** Returns the length of a file in the directory. */
>     public long fileLength(String name) throws IOException,
> SecurityException{
>         return directory.fileLength(name);
>     }
> 
>     /** Returns a stream reading an existing file. */
>     public InputStream openFile(String name) throws IOException,
> SecurityException{
>         return directory.openFile(name);
>     }
> 
>     /** Closes the store. */
>     public void close() throws IOException, SecurityException {
>        directory.close();
> 	}
> 
>     /** Removes an existing file in the directory. */
>     public void deleteFile(String name) throws IOException,
> SecurityException  {
>         directory.deleteFile(name);
> 	}
> 
>     /** Renames an existing file in the directory.
>         If a file already exists with the new name, then it is
> replaced.
>         This replacement should be atomic. */
>     public void renameFile(String from, String to) throws
> IOException,
> SecurityException {
>         directory.renameFile(from, to);
> 	}
> 
>     /** Creates a new, empty file in the directory with the given
> name.
>         Returns a stream writing this file. */
>     public OutputStream createFile(String name) throws IOException,
> SecurityException {
>         return directory.createFile(name);
> 	}
> 
>     /** Construct a {@link Lock}.
>     * @param name the name of the lock file
>     */
>     public Lock makeLock(String name) {
>         return directory.makeLock(name);
> 	}
> }
> 
> 
> 
> > -----Original Message-----
> > From:	Terry Steichen [SMTP:terry@net-frame.com]
> > Sent:	Wednesday, May 07, 2003 8:33 PM
> > To:	Lucene Users List
> > Subject:	Re: Index Path in WAR
> > 
> > Leslie,
> > 
> > Sorry but, at least for my e-mail, the attachment got stripped off.
>  Could
> > you send a copy embedded in the message itself?
> > 
> > TIA,
> > 
> > Terry Steichen
> > 
> > ----- Original Message -----
> > From: "Leslie Hughes" <Leslie.Hughes@watercorporation.com.au>
> > To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> > Sent: Tuesday, May 06, 2003 9:43 PM
> > Subject: RE: Index Path in WAR
> > 
> > 
> > >
> > > Here it is. Enjoy....
> > >
> > >
> > >  <<WARDirectory.java>>
> > >
> > > > -----Original Message-----
> > > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > > Sent: Monday, May 05, 2003 10:51 AM
> > > > To: Lucene Users List
> > > > Subject: RE: Index Path in WAR
> > > >
> > > > Hi Les,
> > > >     I haven't run any metrics on the JarDirectory
> > > > approach.  But, at least in my application, searches
> > > > are surprisingly fast as long as the Jar is
> > > > uncompressed.  If it's compressed, searches are
> > > > noticeably slower.  When I wrote that class I didn't
> > > > think I'd have concurrency issues because my users are
> > > > only ever searching, and not updating, the Jar.  But
> > > > maybe I'm missing something obvious.  If so, please
> > > > let me know.
> > > >     In any case, if you get a chance, I would like to
> > > > see your WARDirectory class.  That's an interesting
> > > > approach that I hadn't considered.
> > > >
> > > > TIA,
> > > > -kevin
> > > >
> > > > --- Leslie Hughes
> > > > <Leslie.Hughes@watercorporation.com.au> wrote:
> > > > >
> > > > > Hi,
> > > > >
> > > > > I've written a simple WARDirectory which delegates
> > > > > to either a RAMDir or
> > > > > FSDir. The WARDir is initialised by a listener
> > > > > (servlet 2.3/4? spec) and
> > > > > either copies the index to the servlet temp
> > > > > directory or to RAM depending
> > > > > upon a setting in the web.xml file.
> > > > >
> > > > > I dont have the source with me but if you want, I'll
> > > > > bring it into work
> > > > > tomorrow.
> > > > >
> > > > > I did think about going the jardir route but had
> > > > > performance concerns about
> > > > > lucene accessing a single jarfile.
> > > > >
> > > > > Bye
> > > > >
> > > > > Les
> > > > >
> > > > >
> > > > >
> > > > > > -----Original Message-----
> > > > > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > > > > Sent: Monday, May 05, 2003 8:38 AM
> > > > > > To: Lucene Users List
> > > > > > Subject: Re: Index Path in WAR
> > > > > >
> > > > > > Hi Jason,
> > > > > >     This may not be the best solution and may
> > > > > differ
> > > > > > from your situation if your index is read/write
> > > > > (mine
> > > > > > isn't).  But hey, it works for me.  How I got
> > > > > around
> > > > > > the problem was first to Jar up the index.  I
> > > > > Jarred
> > > > > > it up uncompressed for speed.  I then subclassed
> > > > > > Directory.  I called it JarDirectory.  I made
> > > > > > JarDirectory's constructor use
> > > > > > ClassLoader.getResource() to find the Jar and then
> > > > > > create a java.util.jar.JarFile from it.  The
> > > > > methods I
> > > > > > overrode in Directory (e.g., list(), fileExists(),
> > > > > > etc.) use the JarFile as appropriate.  After I
> > > > > > debugged that class all I had to do was create an
> > > > > > instance of JarDirectory and pass it to
> > > > > > IndexSearcher's constructor.  My searches then
> > > > > went
> > > > > > against the Jar file.  As long as the Jar is in
> > > > > the
> > > > > > classpath -- which you can bundle with your web
> > > > > app
> > > > > > and set a classpath to in your manifest file -- it
> > > > > > works.  That allows you to bundle the index with
> > > > > the
> > > > > > web app and avoid hard-coding a path to it.
> > > > > >
> > > > > > HTH,
> > > > > > -kevin
> > > > > >
> > > > > > P.S. Unfortunately, I can't provide the source to
> > > > > > JarDirectory as it is not mine to give.  But it
> > > > > didn't
> > > > > > take long to write and was less than 400 lines
> > > > > long.
> > > > > > Maybe someone else on the mailing list can point
> > > > > you
> > > > > > to a better concrete example.
> > > > > >
> > > > > > --- Jason.Cox@trw.com wrote:
> > > > > > > List,
> > > > > > >
> > > > > > > I'm having problems using an absolute path to
> > > > > the
> > > > > > > index directory when my web application is
> > > > > deployed
> > > > > > > in a WAR file.  The absolute path changes
> > > > > depending
> > > > > > > on the server.  Is there a way to either
> > > > > dynamically
> > > > > > > determine an absolute path to the index
> > > > > directory or
> > > > > > > to use relative pathing?
> > > > > > >
> > > > > > > Thanks in advance,
> > > > > > >
> > > > > > > Jason
> > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > > >
> ---------------------------------------------------------------------
> > > > > > > To unsubscribe, e-mail:
> > > > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > > > For additional commands, e-mail:
> > > > > > > lucene-user-help@jakarta.apache.org
> > > > > > >
> > > > > >
> > > > > >
> > > > > > __________________________________
> > > > > > Do you Yahoo!?
> > > > > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > > > > http://search.yahoo.com
> > > > > >
> > > > > >
> > > > >
> > > >
> ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail:
> > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > > For additional commands, e-mail:
> > > > > lucene-user-help@jakarta.apache.org
> > > > >
> > > > >
> > > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail:
> > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
> > > > > lucene-user-help@jakarta.apache.org
> > > > >
> > > >
> > > >
> > > > __________________________________
> > > > Do you Yahoo!?
> > > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > > http://search.yahoo.com
> > > >
> > > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > >
> > >
> > 
> > 
> >
>
--------------------------------------------------------------------------
> > --
> > ----
> > 
> > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
The New Yahoo! Search - Faster. Easier. Bingo.
http://search.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4590-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 24 19:41:58 2003
Return-Path: <lucene-user-return-4590-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23894 invoked from network); 24 May 2003 19:41:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 May 2003 19:41:57 -0000
Received: (qmail 14006 invoked by uid 97); 24 May 2003 19:44:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13999 invoked from network); 24 May 2003 19:44:11 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 24 May 2003 19:44:11 -0000
Received: (qmail 23618 invoked by uid 500); 24 May 2003 19:41:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23607 invoked from network); 24 May 2003 19:41:54 -0000
Received: from oe45.law9.hotmail.com (HELO hotmail.com) (64.4.8.17)
  by daedalus.apache.org with SMTP; 24 May 2003 19:41:54 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sat, 24 May 2003 12:42:00 -0700
Received: from 24.232.12.63 by oe45.law9.hotmail.com with DAV;
	Sat, 24 May 2003 19:42:00 +0000
X-Originating-IP: [24.232.12.63]
X-Originating-Email: [edgarpoce@hotmail.com]
From: "Edgar Poce" <edgarpoce@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1DB01C48A0A9D311995A00508B62B9F00F9752DD@svntjt1-03.watercorporation.com.au> <009701c32107$33e095f0$c300000a@caliente>
Subject: Re: Lucene & EJBs
Date: Sat, 24 May 2003 16:40:28 -0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <Law9-OE45dfUmtue5tk0001ace4@hotmail.com>
X-OriginalArrivalTime: 24 May 2003 19:42:00.0473 (UTC) FILETIME=[8B22E090:01C3222C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am using Lucene in an EJB environment but I didn't test it thoroughly. I
am new in both technologies, so it wouldn't be strange I made a wrong
approach.

Stateless Session Bean: IndexWriter
Stateless Session Bean: IndexReader
EntityBean: IndexInformation

IndexInformation has the location for accessing the index based on a key.
IndexReader makes the queries with the location set in IndexInformation.
IndexWriter writes a new index in a different location ([indexKey]+[time]),
it doesn't overwrite the old one, so there is no lock problem. When it
finishes the index, it sets a new location in IndexInformation and new
queries are made against the new Index. IndexWriter also waits x time  and
tries to delete the old index (just in case it is in use by an IndexReader
started before the completion of the new index).

I guess it is wrong beacuse It accesses the filesystem but It could be
solved with a jdbc storage.

Please let me know if it is obvious it will stop working soon.

Edgar

----- Original Message ----- 
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 23, 2003 5:42 AM
Subject: Re: Lucene & EJBs


> > Managing the update notification and
> > reindexing in the writer is the problem.
>
> My current solution is to have all updates done through a JMX MBean.
> This MBean is also responsible for (re)binding an IndexReader to JNDI at
> startup and after updating.
>
> A JCA wrapper would allow things such as whether or not the current
> operation is being executed in a transaction to be passed on to such a
> Lucene MBean - certainly useful if you intend to modify the index from
> an EJB. Of course you would still have to implement the rollback
> function yourself...
>
>
> --
> Eric Jain
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4591-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sun May 25 14:07:44 2003
Return-Path: <lucene-user-return-4591-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67516 invoked from network); 25 May 2003 14:07:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 25 May 2003 14:07:44 -0000
Received: (qmail 1078 invoked by uid 97); 25 May 2003 14:09:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1071 invoked from network); 25 May 2003 14:09:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 25 May 2003 14:09:54 -0000
Received: (qmail 67203 invoked by uid 500); 25 May 2003 14:07:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67188 invoked from network); 25 May 2003 14:07:41 -0000
Received: from insws8501.gs.com (204.4.182.10)
  by daedalus.apache.org with SMTP; 25 May 2003 14:07:41 -0000
Received: from insvs8501.inz.gs.com (unknown [204.4.188.78])
	by insws8501.gs.com (Postfix) with ESMTP id D3FED1CF4A
	for <lucene-user@jakarta.apache.org>; Sun, 25 May 2003 10:07:42 -0400 (EDT)
Received: from gsnmp02es.ny.fw.gs.com by insvs8501.inz.gs.com with ESMTP for lucene-user@jakarta.apache.org; Sun, 25 May 2003 10:07:42 -0400
Received: by gsnmp02es.ny.fw.gs.com with Internet Mail Service (5.5.2655.55)
	id <K2STS2JX>; Sun, 25 May 2003 10:07:57 -0400
Message-Id: <79542328270D5F4BB8E29BED159D783B03264933@gsnmp02es.ny.fw.gs.com>
From: "Lichtner, Guglielmo" <Guglielmo.Lichtner@gs.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Lucene & EJBs
Date: Sun, 25 May 2003 10:07:49 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="windows-1252"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


I think I missed the reason why it is now necessary to retrofit Lucene
into an EJB model. EJB is designed for certain uses. What are you planning
to use this for?

-----Original Message-----
From: Edgar Poce [mailto:edgarpoce@hotmail.com]
Sent: Saturday, May 24, 2003 3:40 PM
To: Lucene Users List
Subject: Re: Lucene & EJBs


I am using Lucene in an EJB environment but I didn't test it thoroughly. I
am new in both technologies, so it wouldn't be strange I made a wrong
approach.

Stateless Session Bean: IndexWriter
Stateless Session Bean: IndexReader
EntityBean: IndexInformation

IndexInformation has the location for accessing the index based on a key.
IndexReader makes the queries with the location set in IndexInformation.
IndexWriter writes a new index in a different location ([indexKey]+[time]),
it doesn't overwrite the old one, so there is no lock problem. When it
finishes the index, it sets a new location in IndexInformation and new
queries are made against the new Index. IndexWriter also waits x time  and
tries to delete the old index (just in case it is in use by an IndexReader
started before the completion of the new index).

I guess it is wrong beacuse It accesses the filesystem but It could be
solved with a jdbc storage.

Please let me know if it is obvious it will stop working soon.

Edgar

----- Original Message ----- 
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 23, 2003 5:42 AM
Subject: Re: Lucene & EJBs


> > Managing the update notification and
> > reindexing in the writer is the problem.
>
> My current solution is to have all updates done through a JMX MBean.
> This MBean is also responsible for (re)binding an IndexReader to JNDI at
> startup and after updating.
>
> A JCA wrapper would allow things such as whether or not the current
> operation is being executed in a transaction to be passed on to such a
> Lucene MBean - certainly useful if you intend to modify the index from
> an EJB. Of course you would still have to implement the rollback
> function yourself...
>
>
> --
> Eric Jain
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4592-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 26 01:50:13 2003
Return-Path: <lucene-user-return-4592-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89084 invoked from network); 26 May 2003 01:50:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 May 2003 01:50:13 -0000
Received: (qmail 18977 invoked by uid 97); 26 May 2003 01:52:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18970 invoked from network); 26 May 2003 01:52:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 26 May 2003 01:52:30 -0000
Received: (qmail 88784 invoked by uid 500); 26 May 2003 01:50:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88771 invoked from network); 26 May 2003 01:50:08 -0000
Received: from unknown (HELO svntjt1-47.watercorporation.com.au) (159.52.65.47)
  by daedalus.apache.org with SMTP; 26 May 2003 01:50:08 -0000
Received: by svntjt1-47.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <LPA2ZYPX>; Mon, 26 May 2003 09:34:50 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00F9752E2@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Index Path in WAR
Date: Mon, 26 May 2003 09:34:42 +0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Works for me :-)

touchFile must be a new(ish) addition to the API (this was built against an
oldish copy of lucene I had knocking about at home). Just add the touchFIle
method and delegate to the directory.touchFile.



> -----Original Message-----
> From:	Otis Gospodnetic [SMTP:otis_gospodnetic@yahoo.com]
> Sent:	Saturday, May 24, 2003 11:21 PM
> To:	Lucene Users List
> Subject:	RE: Index Path in WAR
> 
> This is nice, but it doesn't compile, for it doesn't implement
> Directory's abstract touchFile method.
> 
> Otis
> 
> --- Leslie Hughes <Leslie.Hughes@watercorporation.com.au> wrote:
> > 
> > Curiouser and curiouser.....
> > 
> > 
> > 
> > 
> > 
> > import java.io.BufferedInputStream;
> > 
> > import java.io.File;
> > import java.io.IOException;
> > import java.util.Iterator;
> > import java.util.Set;
> > 
> > import javax.servlet.ServletContext;
> > import javax.servlet.ServletContextEvent;
> > import javax.servlet.ServletContextListener;
> > 
> > import org.apache.lucene.store.Directory;
> > import org.apache.lucene.store.FSDirectory;
> > import org.apache.lucene.store.InputStream;
> > import org.apache.lucene.store.Lock;
> > import org.apache.lucene.store.OutputStream;
> > import org.apache.lucene.store.RAMDirectory;
> > 
> > 
> > /*
> > *  A delegating Directory that wraps either a RAMDirectory or
> > *  FSDirectory and allows an index to be distributed in a WAR.
> > *
> > *  An index is stored in the WAR under /WEB-INF (eg /WEB-INF/myindex)
> > *  and deployed into RAM or FS depending upon the context params
> > below.
> > *
> > *  By registering this class in the web.xml
> > *  we will receive ServletContextEvents on web app initialisation.
> > *  The same could be achieved in an old skool style startup-servlet.
> > *
> > *  Add lines like
> > <web-app>
> > 
> >   <description>MySearchApp</description>
> > 
> >   <context-param>
> > 	<param-name>org.apache.lucene.index</param-name>
> > 	<param-value>myindex</param-value>
> >   </context-param>
> > 
> >   <context-param>
> > 	<param-name>org.apache.lucene.index.UseRAMDirectory</param-name>
> > 	<param-value>false</param-value>
> >   </context-param>
> > 
> >   <listener>
> > 	<listener-class>WARDirectory</listener-class>
> >   </listener>
> > 
> > </web-app>
> > 
> > 
> > *
> > *  Once initialised, the directory can be accessed via the
> > *  org.apache.lucene.store.WARDirectory attribute. Eg in a jsp do
> > *
> > *  Directory dir =
> >
> (Directory)application.getAttribute("org.apache.lucene.store.WARDirectory"
> );
> > *  Searcher searcher = new IndexSearcher(dir);
> > *  etc etc
> > *
> > *  Limitations:  Only tested in Tomcat > 4.1 (Servlet 2.4?)
> > *
> > *  ToDo: Change RAM/FSDirectory selection to allow passing of a
> > classname
> > (eg org.foo.Mydirectory)
> > *        Needs changes for lucene > 1.2 ??
> > 
> > * @author <a href="mailto:lesliehughes100@yahoo.com">Les Hughes</a>
> > */
> > 
> > 
> > public class WARDirectory extends Directory implements
> > ServletContextListener {
> > 
> >     protected Directory directory;
> >     protected ServletContext context;
> >     protected Set list;
> >     protected boolean useRam = false;
> >     String index;
> > 
> >     //Shame this method does not allow us to throw an
> > exception.....Erm
> > bogus use of RuntimeException...
> > 
> >     public void contextInitialized(ServletContextEvent sce) {
> >         context = sce.getServletContext();
> > 
> >         if((index =
> > context.getInitParameter("org.apache.lucene.index")) ==
> > null) {
> >          String msg = "Lucene 'org.apache.lucene.index' context-param
> > missing in web.xml";
> >          context.log(msg);
> >          throw new RuntimeException(msg);
> >         }
> > 
> >         useRam =
> >
> Boolean.valueOf(context.getInitParameter("org.apache.lucene.index.UseRAMDi
> re
> > ctory")).booleanValue();
> > 
> >         context.log("Searching for index "+index);
> >         list = context.getResourcePaths("/WEB-INF/"+index);
> >         if(list == null || list.isEmpty()) {
> >              String msg = "Index /WEB-INF/"+index+" appears to be
> > missing or
> > empty.";
> >              context.log(msg);
> >              throw new RuntimeException(msg);
> >         }
> > 
> > 		//Now copy index from WAR into Directory
> >         try {
> > 
> >             if(useRam) {
> >                 context.log("Creating a new RAMDirectory");
> >                 directory = new RAMDirectory();
> >             } else {
> >                 File temp =
> > (File)context.getAttribute("javax.servlet.context.tempdir"); 
> > //Sevlet Spec
> > P30
> >                 String dirPath = temp.getPath() + "/"+ index;
> >                 context.log("Creating a new FSDirectory at
> > "+dirPath);
> >                 directory = FSDirectory.getDirectory(dirPath, true);
> >             }
> > 
> >             //Add files from WAR to Dir...
> >             java.io.InputStream in;
> >             OutputStream out;
> > 
> >             int numBytes;
> >             byte[] buffer = new byte[4096]; //4k buffer
> >             String inresname, outresname;
> >             Iterator iter = list.iterator();
> > 
> >             while(iter.hasNext()) {
> >                 inresname = (String)iter.next();
> >                 outresname =
> > inresname.substring(inresname.lastIndexOf('/')+1);
> >                 context.log("Reading "+inresname+" will create
> > "+index+"/"+outresname);
> >                 in = new
> > BufferedInputStream(context.getResourceAsStream(inresname));
> > 
> >                 out =  directory.createFile(outresname);
> > 
> >                 numBytes = 0;
> >                 while( (numBytes = in.read(buffer, 0 ,
> > buffer.length)) !=
> > -1) {
> >                     out.writeBytes(buffer, numBytes);
> >                 }
> > 
> >                 out.close();
> >                 in.close();
> >             }
> > 
> >             //All done?
> > 
> >         }catch(IOException ioe) {
> >             //We fail fast if there was an exception on creating the
> > Directory.
> >             //Perhaps later we can re-try with an FSDirectory if it
> > was an
> > outof memory issue?
> > 
> >             context.log("Problem creating WARDirectory
> > "+ioe.getMessage());
> >             ioe.printStackTrace();
> >             throw new RuntimeException("Problem creating WARDirectory
> > "+ioe.getMessage());
> >         }
> > 
> > 		//Finally put dir ref somewhere we can use it...
> >         context.setAttribute("org.apache.lucene.store.WARDirectory",
> > this);
> >         context.log("WARDirectory done initialising.");
> >     }
> > 
> > 
> > 
> >
> //////////////////////////////////////////////////////////////////////////
> //
> > /
> > //    Implement Directory's Interface.
> >
> //////////////////////////////////////////////////////////////////////////
> //
> > /
> > 
> >     /* Called on app shutdown */
> >     public void contextDestroyed(ServletContextEvent sce){}
> > 
> >     /** Returns an array of strings, one for each file in the
> > directory. */
> >     public String[] list() throws IOException, SecurityException{
> >         return directory.list();
> >     }
> > 
> >     /** Returns true if a file with the given name exists. */
> >     public boolean fileExists(String name) throws IOException,
> > SecurityException{
> >         return directory.fileExists(name);
> >     }
> > 
> >     /** Returns the time the named file was last modified. */
> >     public long fileModified(String name) throws IOException,
> > SecurityException{
> >         return directory.fileModified(name);
> >     }
> > 
> >     /** Returns the length of a file in the directory. */
> >     public long fileLength(String name) throws IOException,
> > SecurityException{
> >         return directory.fileLength(name);
> >     }
> > 
> >     /** Returns a stream reading an existing file. */
> >     public InputStream openFile(String name) throws IOException,
> > SecurityException{
> >         return directory.openFile(name);
> >     }
> > 
> >     /** Closes the store. */
> >     public void close() throws IOException, SecurityException {
> >        directory.close();
> > 	}
> > 
> >     /** Removes an existing file in the directory. */
> >     public void deleteFile(String name) throws IOException,
> > SecurityException  {
> >         directory.deleteFile(name);
> > 	}
> > 
> >     /** Renames an existing file in the directory.
> >         If a file already exists with the new name, then it is
> > replaced.
> >         This replacement should be atomic. */
> >     public void renameFile(String from, String to) throws
> > IOException,
> > SecurityException {
> >         directory.renameFile(from, to);
> > 	}
> > 
> >     /** Creates a new, empty file in the directory with the given
> > name.
> >         Returns a stream writing this file. */
> >     public OutputStream createFile(String name) throws IOException,
> > SecurityException {
> >         return directory.createFile(name);
> > 	}
> > 
> >     /** Construct a {@link Lock}.
> >     * @param name the name of the lock file
> >     */
> >     public Lock makeLock(String name) {
> >         return directory.makeLock(name);
> > 	}
> > }
> > 
> > 
> > 
> > > -----Original Message-----
> > > From:	Terry Steichen [SMTP:terry@net-frame.com]
> > > Sent:	Wednesday, May 07, 2003 8:33 PM
> > > To:	Lucene Users List
> > > Subject:	Re: Index Path in WAR
> > > 
> > > Leslie,
> > > 
> > > Sorry but, at least for my e-mail, the attachment got stripped off.
> >  Could
> > > you send a copy embedded in the message itself?
> > > 
> > > TIA,
> > > 
> > > Terry Steichen
> > > 
> > > ----- Original Message -----
> > > From: "Leslie Hughes" <Leslie.Hughes@watercorporation.com.au>
> > > To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> > > Sent: Tuesday, May 06, 2003 9:43 PM
> > > Subject: RE: Index Path in WAR
> > > 
> > > 
> > > >
> > > > Here it is. Enjoy....
> > > >
> > > >
> > > >  <<WARDirectory.java>>
> > > >
> > > > > -----Original Message-----
> > > > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > > > Sent: Monday, May 05, 2003 10:51 AM
> > > > > To: Lucene Users List
> > > > > Subject: RE: Index Path in WAR
> > > > >
> > > > > Hi Les,
> > > > >     I haven't run any metrics on the JarDirectory
> > > > > approach.  But, at least in my application, searches
> > > > > are surprisingly fast as long as the Jar is
> > > > > uncompressed.  If it's compressed, searches are
> > > > > noticeably slower.  When I wrote that class I didn't
> > > > > think I'd have concurrency issues because my users are
> > > > > only ever searching, and not updating, the Jar.  But
> > > > > maybe I'm missing something obvious.  If so, please
> > > > > let me know.
> > > > >     In any case, if you get a chance, I would like to
> > > > > see your WARDirectory class.  That's an interesting
> > > > > approach that I hadn't considered.
> > > > >
> > > > > TIA,
> > > > > -kevin
> > > > >
> > > > > --- Leslie Hughes
> > > > > <Leslie.Hughes@watercorporation.com.au> wrote:
> > > > > >
> > > > > > Hi,
> > > > > >
> > > > > > I've written a simple WARDirectory which delegates
> > > > > > to either a RAMDir or
> > > > > > FSDir. The WARDir is initialised by a listener
> > > > > > (servlet 2.3/4? spec) and
> > > > > > either copies the index to the servlet temp
> > > > > > directory or to RAM depending
> > > > > > upon a setting in the web.xml file.
> > > > > >
> > > > > > I dont have the source with me but if you want, I'll
> > > > > > bring it into work
> > > > > > tomorrow.
> > > > > >
> > > > > > I did think about going the jardir route but had
> > > > > > performance concerns about
> > > > > > lucene accessing a single jarfile.
> > > > > >
> > > > > > Bye
> > > > > >
> > > > > > Les
> > > > > >
> > > > > >
> > > > > >
> > > > > > > -----Original Message-----
> > > > > > > From: Kevin Moran [SMTP:gridplan@yahoo.com]
> > > > > > > Sent: Monday, May 05, 2003 8:38 AM
> > > > > > > To: Lucene Users List
> > > > > > > Subject: Re: Index Path in WAR
> > > > > > >
> > > > > > > Hi Jason,
> > > > > > >     This may not be the best solution and may
> > > > > > differ
> > > > > > > from your situation if your index is read/write
> > > > > > (mine
> > > > > > > isn't).  But hey, it works for me.  How I got
> > > > > > around
> > > > > > > the problem was first to Jar up the index.  I
> > > > > > Jarred
> > > > > > > it up uncompressed for speed.  I then subclassed
> > > > > > > Directory.  I called it JarDirectory.  I made
> > > > > > > JarDirectory's constructor use
> > > > > > > ClassLoader.getResource() to find the Jar and then
> > > > > > > create a java.util.jar.JarFile from it.  The
> > > > > > methods I
> > > > > > > overrode in Directory (e.g., list(), fileExists(),
> > > > > > > etc.) use the JarFile as appropriate.  After I
> > > > > > > debugged that class all I had to do was create an
> > > > > > > instance of JarDirectory and pass it to
> > > > > > > IndexSearcher's constructor.  My searches then
> > > > > > went
> > > > > > > against the Jar file.  As long as the Jar is in
> > > > > > the
> > > > > > > classpath -- which you can bundle with your web
> > > > > > app
> > > > > > > and set a classpath to in your manifest file -- it
> > > > > > > works.  That allows you to bundle the index with
> > > > > > the
> > > > > > > web app and avoid hard-coding a path to it.
> > > > > > >
> > > > > > > HTH,
> > > > > > > -kevin
> > > > > > >
> > > > > > > P.S. Unfortunately, I can't provide the source to
> > > > > > > JarDirectory as it is not mine to give.  But it
> > > > > > didn't
> > > > > > > take long to write and was less than 400 lines
> > > > > > long.
> > > > > > > Maybe someone else on the mailing list can point
> > > > > > you
> > > > > > > to a better concrete example.
> > > > > > >
> > > > > > > --- Jason.Cox@trw.com wrote:
> > > > > > > > List,
> > > > > > > >
> > > > > > > > I'm having problems using an absolute path to
> > > > > > the
> > > > > > > > index directory when my web application is
> > > > > > deployed
> > > > > > > > in a WAR file.  The absolute path changes
> > > > > > depending
> > > > > > > > on the server.  Is there a way to either
> > > > > > dynamically
> > > > > > > > determine an absolute path to the index
> > > > > > directory or
> > > > > > > > to use relative pathing?
> > > > > > > >
> > > > > > > > Thanks in advance,
> > > > > > > >
> > > > > > > > Jason
> > > > > > > >
> > > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > ---------------------------------------------------------------------
> > > > > > > > To unsubscribe, e-mail:
> > > > > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > > > > For additional commands, e-mail:
> > > > > > > > lucene-user-help@jakarta.apache.org
> > > > > > > >
> > > > > > >
> > > > > > >
> > > > > > > __________________________________
> > > > > > > Do you Yahoo!?
> > > > > > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > > > > > http://search.yahoo.com
> > > > > > >
> > > > > > >
> > > > > >
> > > > >
> > ---------------------------------------------------------------------
> > > > > > > To unsubscribe, e-mail:
> > > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > > > For additional commands, e-mail:
> > > > > > lucene-user-help@jakarta.apache.org
> > > > > >
> > > > > >
> > > > >
> > ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail:
> > > > > > lucene-user-unsubscribe@jakarta.apache.org
> > > > > > For additional commands, e-mail:
> > > > > > lucene-user-help@jakarta.apache.org
> > > > > >
> > > > >
> > > > >
> > > > > __________________________________
> > > > > Do you Yahoo!?
> > > > > The New Yahoo! Search - Faster. Easier. Bingo.
> > > > > http://search.yahoo.com
> > > > >
> > > > >
> > ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > >
> > > >
> > > 
> > > 
> > >
> >
> --------------------------------------------------------------------------
> > > --
> > > ----
> > > 
> > > 
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4593-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 26 13:38:13 2003
Return-Path: <lucene-user-return-4593-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4010 invoked from network); 26 May 2003 13:38:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 May 2003 13:38:13 -0000
Received: (qmail 6636 invoked by uid 97); 26 May 2003 13:40:23 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6626 invoked from network); 26 May 2003 13:40:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 26 May 2003 13:40:23 -0000
Received: (qmail 3706 invoked by uid 500); 26 May 2003 13:38:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3687 invoked from network); 26 May 2003 13:38:07 -0000
Received: from unknown (HELO chameleon.infoage.com.br) (200.187.133.40)
  by daedalus.apache.org with SMTP; 26 May 2003 13:38:07 -0000
Received: (qmail 19571 invoked from network); 26 May 2003 13:37:17 -0000
Received: from unknown (HELO ?172.16.1.42?) (200.187.133.34)
  by chameleon.infoage.com.br with SMTP; 26 May 2003 13:37:17 -0000
Subject: RE: Lucene & EJBs
From: Guilherme Barile <gui@prosoma.com.br>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <79542328270D5F4BB8E29BED159D783B03264933@gsnmp02es.ny.fw.gs.com>
References:
	 <79542328270D5F4BB8E29BED159D783B03264933@gsnmp02es.ny.fw.gs.com>
Content-Type: text/plain
Organization: 
Message-Id: <1053956236.603.5.camel@gui>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.3 
Date: 26 May 2003 10:37:16 -0300
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You could use lucene as an alternative to realtinal databases (for
documents).
I have something in mind that could run on a j2ee server, with
distributed objects and all that stuff.

gui

On Sun, 2003-05-25 at 11:07, Lichtner, Guglielmo wrote:
> I think I missed the reason why it is now necessary to retrofit Lucene
> into an EJB model. EJB is designed for certain uses. What are you planning
> to use this for?
> 
> -----Original Message-----
> From: Edgar Poce [mailto:edgarpoce@hotmail.com]
> Sent: Saturday, May 24, 2003 3:40 PM
> To: Lucene Users List
> Subject: Re: Lucene & EJBs
> 
> 
> I am using Lucene in an EJB environment but I didn't test it thoroughly. I
> am new in both technologies, so it wouldn't be strange I made a wrong
> approach.
> 
> Stateless Session Bean: IndexWriter
> Stateless Session Bean: IndexReader
> EntityBean: IndexInformation
> 
> IndexInformation has the location for accessing the index based on a key.
> IndexReader makes the queries with the location set in IndexInformation.
> IndexWriter writes a new index in a different location ([indexKey]+[time]),
> it doesn't overwrite the old one, so there is no lock problem. When it
> finishes the index, it sets a new location in IndexInformation and new
> queries are made against the new Index. IndexWriter also waits x time  and
> tries to delete the old index (just in case it is in use by an IndexReader
> started before the completion of the new index).
> 
> I guess it is wrong beacuse It accesses the filesystem but It could be
> solved with a jdbc storage.
> 
> Please let me know if it is obvious it will stop working soon.
> 
> Edgar
> 
> ----- Original Message ----- 
> From: "Eric Jain" <Eric.Jain@isb-sib.ch>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, May 23, 2003 5:42 AM
> Subject: Re: Lucene & EJBs
> 
> 
> > > Managing the update notification and
> > > reindexing in the writer is the problem.
> >
> > My current solution is to have all updates done through a JMX MBean.
> > This MBean is also responsible for (re)binding an IndexReader to JNDI at
> > startup and after updating.
> >
> > A JCA wrapper would allow things such as whether or not the current
> > operation is being executed in a transaction to be passed on to such a
> > Lucene MBean - certainly useful if you intend to modify the index from
> > an EJB. Of course you would still have to implement the rollback
> > function yourself...
> >
> >
> > --
> > Eric Jain
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4594-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Mon May 26 19:11:51 2003
Return-Path: <lucene-user-return-4594-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56128 invoked from network); 26 May 2003 19:11:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 May 2003 19:11:49 -0000
Received: (qmail 14674 invoked by uid 97); 26 May 2003 19:14:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14667 invoked from network); 26 May 2003 19:14:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 26 May 2003 19:14:02 -0000
Received: (qmail 55477 invoked by uid 500); 26 May 2003 19:11:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55455 invoked from network); 26 May 2003 19:11:42 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 26 May 2003 19:11:42 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-8.00) id A62511090098; Mon, 26 May 2003 14:08:21 -0500
Message-ID: <000501c323ba$ac3c0650$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: <lucene-dev@jakarta.apache.org>
Cc: <lucene-user@jakarta.apache.org>
Subject: QueryParser question
Date: Mon, 26 May 2003 14:11:55 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi folks,

I am putting the finishing touches on the lucene-taglib and getting pretty
excited. I have the Search tag working with multi-index searching with your
choice of Analyzer's using any list of stop words or file of stop words as
provided by Gerhard Schwarz's WordlistLoader class and choice of fields to
search on including the ability to change the default field contents in the
QueryParser.parse method.

My question is do all of the currently available analyzer types work with
both QueryParser and MultiFieldQueryParser such as WhitespaceAnalyzer.

As soon as I get the docs up to snuff I will be submitting two new tags.
The Column tag will extract all of the columnNames from a search and allow
you to choose to runOnce="true|false" defaults to false. You can wrap it
around another new tag.

The Field tag takes the name of a column to retrieve from the search and
outputs the value for that iteration of the loop.

Thanks in advance for your help.

Bryan LaPlante
Network Web Application
http://www.netwebapps.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4595-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 06:16:55 2003
Return-Path: <lucene-user-return-4595-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52958 invoked from network); 27 May 2003 06:16:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 06:16:54 -0000
Received: (qmail 24056 invoked by uid 97); 27 May 2003 06:19:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24049 invoked from network); 27 May 2003 06:19:14 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 06:19:14 -0000
Received: (qmail 52668 invoked by uid 500); 27 May 2003 06:16:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52657 invoked from network); 27 May 2003 06:16:49 -0000
Received: from unknown (HELO nh.newgen.co.in) (203.168.76.5)
  by daedalus.apache.org with SMTP; 27 May 2003 06:16:49 -0000
Received: from ganesh ([192.168.5.185])
	by nh.newgen.co.in (8.11.6/8.11.6) with SMTP id h4R6dFN19687
	for <lucene-user@jakarta.apache.org>; Tue, 27 May 2003 06:39:16 GMT
Message-ID: <007401c32417$460e83f0$b905a8c0@intel>
From: "mganesh" <mganesh@newgen.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References:  <79542328270D5F4BB8E29BED159D783B03264933@gsnmp02es.ny.fw.gs.com> <1053956236.603.5.camel@gui>
Subject: Field value 
Date: Tue, 27 May 2003 11:44:46 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,
  Im having 4 fields, among them only one is indexed and the remaining
fields are stored in lucene. Now i want to change the value of one field.

Is there any way to change the value of the stored field?
OR
I have to delete the complete record and recreate it with the new value.

Pls help me out.

regards
ganesh



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4596-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 10:18:13 2003
Return-Path: <lucene-user-return-4596-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65572 invoked from network); 27 May 2003 10:18:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 10:18:12 -0000
Received: (qmail 29146 invoked by uid 97); 27 May 2003 10:20:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29139 invoked from network); 27 May 2003 10:20:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 10:20:34 -0000
Received: (qmail 65295 invoked by uid 500); 27 May 2003 10:18:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65284 invoked from network); 27 May 2003 10:18:06 -0000
Received: from h003.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.216)
  by daedalus.apache.org with SMTP; 27 May 2003 10:18:06 -0000
Received: (cpmta 15349 invoked from network); 27 May 2003 03:18:20 -0700
Received: from 66.171.37.231 (HELO medined01)
  by smtp.mtolive.com (209.228.34.216) with SMTP; 27 May 2003 03:18:20 -0700
X-Sent: 27 May 2003 10:18:20 GMT
Message-ID: <002201c32439$4a983250$6822a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References:  <79542328270D5F4BB8E29BED159D783B03264933@gsnmp02es.ny.fw.gs.com> <1053956236.603.5.camel@gui> <007401c32417$460e83f0$b905a8c0@intel>
Subject: Re: Field value 
Date: Tue, 27 May 2003 06:18:17 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

----- Original Message ----- 
From: "mganesh" <mganesh@newgen.co.in>
> Is there any way to change the value of the stored field?

delete the document and re-add it to the index.

David Medinets
http://www.codebits.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4597-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 13:59:29 2003
Return-Path: <lucene-user-return-4597-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29889 invoked from network); 27 May 2003 13:59:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 13:59:28 -0000
Received: (qmail 4893 invoked by uid 97); 27 May 2003 14:01:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4886 invoked from network); 27 May 2003 14:01:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 14:01:38 -0000
Received: (qmail 15316 invoked by uid 500); 27 May 2003 13:54:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15239 invoked from network); 27 May 2003 13:54:44 -0000
Received: from mzpi3.forethought.net (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 27 May 2003 13:54:44 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19Keub-0006Ir-Sw
	for lucene-user@jakarta.apache.org; Tue, 27 May 2003 07:54:46 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene & EJBs
Date: Tue, 27 May 2003 08:00:39 -0600
User-Agent: KMail/1.4.3
References: <79542328270D5F4BB8E29BED159D783B03264933@gsnmp02es.ny.fw.gs.com> <1053956236.603.5.camel@gui>
In-Reply-To: <1053956236.603.5.camel@gui>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305270800.39919.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday 26 May 2003 07:37, Guilherme Barile wrote:
> You could use lucene as an alternative to realtinal databases (for
> documents).
> I have something in mind that could run on a j2ee server, with
> distributed objects and all that stuff.

I think question kind of still stands, since J2EE does not really mean (just) 
EJB, but complete set of APIs, from servlets and JSPs to JNDI and EJB.
I was also bit curious about EJB aspect; perhaps implementation would be 
needed to more easily access Lucene functionality from app that is based on 
EJB? On the other hand, if system is nicely modularized and perhaps 
distributed, that wouldn't be a requirement? (ie. it's possible to make 
things co-exist).

On the other hand, having dummy implementation of JDBC-driver for Lucene might 
be interesting... (related to your first point of using Lucene as replacement 
for RDBs) after all, Lucene's (user visible) data model should map quite 
easily to a table, and implementing metadata methods should be trivial from
that.
Not sure how easy it'd be to map queries, but for certain subset that might be 
possible too. :-)

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4598-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:17:48 2003
Return-Path: <lucene-user-return-4598-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34775 invoked from network); 27 May 2003 18:17:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:17:47 -0000
Received: (qmail 14111 invoked by uid 97); 27 May 2003 18:20:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14104 invoked from network); 27 May 2003 18:20:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 18:20:00 -0000
Received: (qmail 34533 invoked by uid 500); 27 May 2003 18:17:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34517 invoked from network); 27 May 2003 18:17:44 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 27 May 2003 18:17:44 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.100.48]) by mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org; Tue, 27 May 2003 13:17:30 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <LGQQRBN3>; Tue, 27 May 2003 13:17:29 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4CD3@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Finding out which field caused the hit?
Date: Tue, 27 May 2003 13:17:24 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is there a (better) way that I can use to figure out which field in a document caused the document to be returned from a query?  Currently, after I do a search across all of my fields and documents, I am researching on each document that had a hit, on each field individually, and keeping track of the scores..  The highest scoring field is the one that I credit with returning the document. 

This is fine for a small index, with a small number of fields, but it definitely doesn't seem like the correct way to go about getting this information.

Any suggestions would be appreciated, 

Thanks, 

Dan




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4599-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:22:24 2003
Return-Path: <lucene-user-return-4599-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44452 invoked from network); 27 May 2003 18:22:24 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:22:24 -0000
Received: (qmail 14260 invoked by uid 97); 27 May 2003 18:24:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14253 invoked from network); 27 May 2003 18:24:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 18:24:36 -0000
Received: (qmail 43924 invoked by uid 500); 27 May 2003 18:22:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43888 invoked from network); 27 May 2003 18:22:17 -0000
Received: from unknown (HELO krayton.imanage.com) (66.54.186.39)
  by daedalus.apache.org with SMTP; 27 May 2003 18:22:17 -0000
content-class: urn:content-classes:message
Subject: Not able to search soufun.com site
Date: Tue, 27 May 2003 13:21:57 -0500
Message-ID: <7AFD8C59F5C4A044A7AC48D356469D1619B97C@krayton.imanage.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Thread-Topic: Not able to search soufun.com site
Thread-Index: AcMkfNuiZmLY/rV4Q7uIy3ULqXgrWQ==
From: "Randy Darling" <rdarling@imanage.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



We are not able to search the Chinese real estate site =
http://search.soufun.com

The search comes back with question marks in the "submit query" text =
field.
It does not seem to understand the query.

We are able to search other Chinese sites, such as www.sohu.com, but =
soufun.com
does not seem to understand our Chinese characters?

Any ideas?

Thanks,
Randy




-----Original Message-----
From: Che Dong [mailto:chedong@hotmail.com]
Sent: Tuesday, May 20, 2003 5:24 AM
To: Lucene Users List
Subject: New Web Site: powered by lucene


http://search.soufun.com

SouFun is a major real estate web site of China:
search.soufun.com uses Lucene 1.3 rc1 with CJKTokenizer.=20

the whole application will release at http://weblucene.sourceforge.net =
next week.
the main feature including:
1  sax based xml data source indexer=20
2  google like xml result protocol

Regards

Che, Dong
http://www.chedong.com




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4600-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:30:36 2003
Return-Path: <lucene-user-return-4600-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63367 invoked from network); 27 May 2003 18:30:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:30:35 -0000
Received: (qmail 14465 invoked by uid 97); 27 May 2003 18:32:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14457 invoked from network); 27 May 2003 18:32:48 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 18:32:48 -0000
Received: (qmail 63036 invoked by uid 500); 27 May 2003 18:30:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63021 invoked from network); 27 May 2003 18:30:32 -0000
Received: from gamera.mt.sri.com (206.127.76.125)
  by daedalus.apache.org with SMTP; 27 May 2003 18:30:32 -0000
Received: from denali.mt.sri.com (denali.mt.sri.com [206.127.76.99])
	by gamera.mt.sri.com (8.12.9/8.12.8) with ESMTP id h4RIUaBp007939
	for <lucene-user@jakarta.apache.org>; Tue, 27 May 2003 12:30:36 -0600 (MDT)
Message-Id: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com>
X-Sender: albright@gamera.mt.sri.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Tue, 27 May 2003 12:33:14 -0600
To: lucene-user@jakarta.apache.org
From: Cory Albright <albright@mt.sri.com>
Subject: too many hits - OutOfMemoryError
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi -
	I have created an index of 1.8 million documents, each document containing 
5-10 fields.  When I run a search, that I know has a small number of hits, 
it works great.  However, if I run a search that I know will hit most of 
the documents, I get  an OutOfMemoryError.    I am using the basic search call:

	Hits hits = searcher.search(myQuery);

	Is there a better way to handle this problem?  Without knowing the number 
hits that a given query will return, how do I prevent against this problem?

Thank you,

Cory Albright


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4601-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:37:37 2003
Return-Path: <lucene-user-return-4601-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77469 invoked from network); 27 May 2003 18:37:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:37:36 -0000
Received: (qmail 14760 invoked by uid 97); 27 May 2003 18:39:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14753 invoked from network); 27 May 2003 18:39:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 18:39:49 -0000
Received: (qmail 77237 invoked by uid 500); 27 May 2003 18:37:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77225 invoked from network); 27 May 2003 18:37:33 -0000
Received: from h003.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.216)
  by daedalus.apache.org with SMTP; 27 May 2003 18:37:33 -0000
Received: (cpmta 26395 invoked from network); 27 May 2003 11:37:37 -0700
Received: from 66.171.37.231 (HELO medined01)
  by smtp.mtolive.com (209.228.34.216) with SMTP; 27 May 2003 11:37:37 -0700
X-Sent: 27 May 2003 18:37:37 GMT
Message-ID: <015f01c3247f$0a5672b0$6822a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
Date: Tue, 27 May 2003 14:37:34 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Out of curiosity, how much free RAM does the computer normally have? And
have you tried increasing the amount available to the JVM?

David Medinets
http://www.codebits.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4602-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:40:48 2003
Return-Path: <lucene-user-return-4602-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85883 invoked from network); 27 May 2003 18:40:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:40:47 -0000
Received: (qmail 14922 invoked by uid 97); 27 May 2003 18:43:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14915 invoked from network); 27 May 2003 18:43:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 18:43:00 -0000
Received: (qmail 85605 invoked by uid 500); 27 May 2003 18:40:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85594 invoked from network); 27 May 2003 18:40:45 -0000
Received: from gamera.mt.sri.com (206.127.76.125)
  by daedalus.apache.org with SMTP; 27 May 2003 18:40:45 -0000
Received: from denali.mt.sri.com (denali.mt.sri.com [206.127.76.99])
	by gamera.mt.sri.com (8.12.9/8.12.8) with ESMTP id h4RIemBp007986
	for <lucene-user@jakarta.apache.org>; Tue, 27 May 2003 12:40:49 -0600 (MDT)
Message-Id: <5.2.1.1.0.20030527124112.02474d10@gamera.mt.sri.com>
X-Sender: albright@gamera.mt.sri.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Tue, 27 May 2003 12:43:26 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Cory Albright <albright@mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
In-Reply-To: <015f01c3247f$0a5672b0$6822a8c0@medined01>
References: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The computer is a 1.7Ghz P4 with 1.25GB Ram.  I tried the jvm 
arg:  -Xmx700M  (as I had a little over 700MB free).

Cory Albright

At 02:37 PM 5/27/2003 -0400, you wrote:
>Out of curiosity, how much free RAM does the computer normally have? And
>have you tried increasing the amount available to the JVM?
>
>David Medinets
>http://www.codebits.com
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4603-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:54:22 2003
Return-Path: <lucene-user-return-4603-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14688 invoked from network); 27 May 2003 18:54:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:54:22 -0000
Received: (qmail 15399 invoked by uid 97); 27 May 2003 18:56:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15391 invoked from network); 27 May 2003 18:56:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 18:56:34 -0000
Received: (qmail 12031 invoked by uid 500); 27 May 2003 18:53:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11978 invoked from network); 27 May 2003 18:53:46 -0000
Received: from unknown (HELO krayton.imanage.com) (66.54.186.39)
  by daedalus.apache.org with SMTP; 27 May 2003 18:53:46 -0000
content-class: urn:content-classes:message
Subject: RE: New  Web Site: powered by lucene
Date: Tue, 27 May 2003 12:56:51 -0500
Message-ID: <7AFD8C59F5C4A044A7AC48D356469D1619AAD4@krayton.imanage.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Thread-Topic: New  Web Site: powered by lucene
Thread-Index: AcMeufciociSeVabQIqVqDr5Yw9eTwFvl1AA
From: "Randy Darling" <rdarling@imanage.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Not able to search the site http://search.soufun.com

The search comes back with question marks in the "submit query" text =
field.
It does not seem to understand the query.

We are able to search other Chinese sites, but this
one does not seem to understand our Chinese characters?

Any ideas?

Thanks,
Randy


-----Original Message-----
From: Che Dong [mailto:chedong@hotmail.com]
Sent: Tuesday, May 20, 2003 5:24 AM
To: Lucene Users List
Subject: New Web Site: powered by lucene


http://search.soufun.com

SouFun is a major real estate web site of China:
search.soufun.com uses Lucene 1.3 rc1 with CJKTokenizer.=20

the whole application will release at http://weblucene.sourceforge.net =
next week.
the main feature including:
1  sax based xml data source indexer=20
2  google like xml result protocol

Regards

Che, Dong
http://www.chedong.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4604-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:56:32 2003
Return-Path: <lucene-user-return-4604-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23869 invoked from network); 27 May 2003 18:56:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:56:30 -0000
Received: (qmail 15524 invoked by uid 97); 27 May 2003 18:58:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15517 invoked from network); 27 May 2003 18:58:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 18:58:43 -0000
Received: (qmail 22443 invoked by uid 500); 27 May 2003 18:56:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22405 invoked from network); 27 May 2003 18:56:11 -0000
Received: from s149v112.servlets.net (209.221.149.112)
  by daedalus.apache.org with SMTP; 27 May 2003 18:56:11 -0000
Received: from jivesoftware.com (249-127.customer.cloud9.net [168.100.249.127])
	(authenticated)
	by s149v112.servlets.net (8.11.6/8.11.6) with ESMTP id h4RIuFE16619
	for <lucene-user@jakarta.apache.org>; Tue, 27 May 2003 11:56:15 -0700
Message-ID: <3ED3B54A.2090405@jivesoftware.com>
Date: Tue, 27 May 2003 14:58:18 -0400
From: Matt Tucker <matt@jivesoftware.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Finding out which field caused the hit?
References: <818623B5FD23D51193200002B32C076106FE4CD3@excsrv44.mayo.edu>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4CD3@excsrv44.mayo.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Dan,

I don't have an answer to this question, unfortunately, but just wanted 
to say that we'd really love to see a better API for this too. :)

Regards,
Matt

Armbrust, Daniel C. wrote:

> Is there a (better) way that I can use to figure out which field in a document caused the document to be returned from a query?  Currently, after I do a search across all of my fields and documents, I am researching on each document that had a hit, on each field individually, and keeping track of the scores..  The highest scoring field is the one that I credit with returning the document. 
> 
> This is fine for a small index, with a small number of fields, but it definitely doesn't seem like the correct way to go about getting this information.
> 
> Any suggestions would be appreciated, 
> 
> Thanks, 
> 
> Dan
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4605-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 18:58:54 2003
Return-Path: <lucene-user-return-4605-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28202 invoked from network); 27 May 2003 18:58:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 18:58:53 -0000
Received: (qmail 15580 invoked by uid 97); 27 May 2003 19:01:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15573 invoked from network); 27 May 2003 19:01:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 19:01:06 -0000
Received: (qmail 27945 invoked by uid 500); 27 May 2003 18:58:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27929 invoked from network); 27 May 2003 18:58:50 -0000
Received: from smtpzilla2.xs4all.nl (194.109.127.138)
  by daedalus.apache.org with SMTP; 27 May 2003 18:58:50 -0000
Received: from as800 (a80-127-238-77.dial.xs4all.nl [80.127.238.77])
	by smtpzilla2.xs4all.nl (8.12.9/8.12.9) with ESMTP id h4RIwqpO079875;
	Tue, 27 May 2003 20:58:53 +0200 (CEST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Ype Kingma <ykingma@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
Subject: Re: Finding out which field caused the hit?
Date: Tue, 27 May 2003 20:51:27 -0700
User-Agent: KMail/1.4.3
References: <818623B5FD23D51193200002B32C076106FE4CD3@excsrv44.mayo.edu>
In-Reply-To: <818623B5FD23D51193200002B32C076106FE4CD3@excsrv44.mayo.edu>
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
Message-Id: <200305272051.28062.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Daniel,

On Tuesday 27 May 2003 11:17, Armbrust, Daniel C. wrote:
> Is there a (better) way that I can use to figure out which field in a
> document caused the document to be returned from a query?  Currently, a=
fter
> I do a search across all of my fields and documents, I am researching o=
n
> each document that had a hit, on each field individually, and keeping t=
rack
> of the scores..  The highest scoring field is the one that I credit wit=
h
> returning the document.
>
> This is fine for a small index, with a small number of fields, but it
> definitely doesn't seem like the correct way to go about getting this
> information.
>
> Any suggestions would be appreciated,

To save the researching on previous hits you have two options.

You could make a separate index for each field, query all indexes
with a MultiSearcher, and suppress repeated documents from
other indexes with lower scores.
You could also do use a single database, but with
a separate query for each subfield.
Either way the results can be collected in a single document
collector object, keeping only the best hits. You'll
have to keep a larger number of best hits first and later drop
the lower scoring ones for the same source document
in case you need to retrieve a stored field from each=20
hit to determine the original source document.

I have a very similar situation with some databases
containing titles and abstracts, some abstracts only,
some full text with or without abstract.

The nice thing about the default ranking mechanism
is that it works out pretty well: short titles can
score rather high, then normally abstracts,
followed by full text. This is close to the
separate index for each field I suggested above.

The alternative to repeat the query with different
fields in a single index could actually be bit better
because you need have to retrieve the stored field(s)
for each document only once. However, it's not
as flexible.

Kind regards,
Ype Kingma


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4606-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Tue May 27 19:43:03 2003
Return-Path: <lucene-user-return-4606-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55344 invoked from network); 27 May 2003 19:43:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 May 2003 19:43:02 -0000
Received: (qmail 17057 invoked by uid 97); 27 May 2003 19:45:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17050 invoked from network); 27 May 2003 19:45:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 27 May 2003 19:45:16 -0000
Received: (qmail 54685 invoked by uid 500); 27 May 2003 19:42:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54547 invoked from network); 27 May 2003 19:42:54 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 27 May 2003 19:42:54 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4RJgwHc008650
	for <lucene-user@jakarta.apache.org>; Tue, 27 May 2003 21:42:58 +0200
Message-ID: <002b01c32488$44a1c330$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
Date: Tue, 27 May 2003 21:43:38 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Hits hits = searcher.search(myQuery);

BitSet results = new BitSet();

searcher.search(myQuery, new HitCollector()
{
  public void collect(int doc, float score)
  {
    if (score > THRESHOLD)
      results.set(doc);
  }
});

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4607-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 00:32:10 2003
Return-Path: <lucene-user-return-4607-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1510 invoked from network); 28 May 2003 00:32:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 00:32:10 -0000
Received: (qmail 24742 invoked by uid 97); 28 May 2003 00:34:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24735 invoked from network); 28 May 2003 00:34:27 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 00:34:27 -0000
Received: (qmail 1200 invoked by uid 500); 28 May 2003 00:32:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1180 invoked from network); 28 May 2003 00:32:07 -0000
Received: from main.gmane.org (80.91.224.249)
  by daedalus.apache.org with SMTP; 28 May 2003 00:32:07 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 19KopU-0007ID-00
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 02:30:08 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
Received: from news by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 19Kojv-0006mz-00
	for <gmane-comp-jakarta-lucene-user@m.gmane.org>; Wed, 28 May 2003 02:24:23 +0200
From: "David Weitzman" <daveweit@optonline.net>
Subject: Sort results by date alone?
Date: Tue, 27 May 2003 20:26:04 -0400
Lines: 10
Message-ID: <bb0vjn$pfj$1@main.gmane.org>
X-Complaints-To: usenet@main.gmane.org
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: news <news@main.gmane.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think it's possible, but I'm not sure how Scorers work.  I just want to
place the most recent hits at the front and the oldest ones at the back
(where "date" is a field in the documents).  Is there a simple way to do
this?

Thanks,

David Weitzman




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4608-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 06:52:00 2003
Return-Path: <lucene-user-return-4608-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13794 invoked from network); 28 May 2003 06:52:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 06:52:00 -0000
Received: (qmail 421 invoked by uid 97); 28 May 2003 06:54:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 414 invoked from network); 28 May 2003 06:54:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 06:54:20 -0000
Received: (qmail 13513 invoked by uid 500); 28 May 2003 06:51:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13501 invoked from network); 28 May 2003 06:51:57 -0000
Received: from soniaext.snt.ro (HELO sonia.snt.ro) (193.230.128.207)
  by daedalus.apache.org with SMTP; 28 May 2003 06:51:57 -0000
Received: by SONIA with Internet Mail Service (5.5.2653.19)
	id <K79M0WYZ>; Wed, 28 May 2003 09:49:55 +0300
Message-ID: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA>
From: Andrei Melis <Andrei.Melis@snt.ro>
To: lucene-user@jakarta.apache.org
Subject: Wildcard workaround
Date: Wed, 28 May 2003 09:49:52 +0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C324E5.57636BB0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C324E5.57636BB0
Content-Type: text/plain;
	charset="iso-8859-1"

Hello all,
 
As far as I have understood, lucene does not allow search queries starting
with wildcards.
I have a file database indexed by content and also by filename. It would be
nice if the user could perform a usual search like "*.ext".
 
Anybody tried a workaround for this issue ? ( this is needed only for the
name of the file, for the rest of the terms the rules are fine with me)
 
I assume that this will produce a decrease of search speed... is this
correct ?
 
 
10q,
Andrei

------_=_NextPart_001_01C324E5.57636BB0--

From lucene-user-return-4609-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 07:10:23 2003
Return-Path: <lucene-user-return-4609-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37198 invoked from network); 28 May 2003 07:10:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 07:10:23 -0000
Received: (qmail 1339 invoked by uid 97); 28 May 2003 07:12:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1332 invoked from network); 28 May 2003 07:12:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 07:12:43 -0000
Received: (qmail 36335 invoked by uid 500); 28 May 2003 07:10:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35966 invoked from network); 28 May 2003 07:10:01 -0000
Received: from unknown (HELO hostorg.contata.co.in) (203.196.139.82)
  by daedalus.apache.org with SMTP; 28 May 2003 07:10:01 -0000
Received: from developer (developer.contata.co.in [193.168.0.1])
	by hostorg.contata.co.in (8.12.5/8.12.5) with SMTP id h4S7HDb7029609
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 12:47:14 +0530
Message-ID: <002e01c324e8$2ca06e70$0100a8c1@contatan.com>
From: "Subhrajyoti Moitra" <subhrajyotim@contata.co.in>
To: "lucene mailing list" <lucene-user@jakarta.apache.org>
Subject: wild card search problem
Date: Wed, 28 May 2003 12:40:07 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002B_01C32516.45411FF0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002B_01C32516.45411FF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi list,
I am having a weird problem.
I have a PDF document. Using PDFBox library i get the contents of the =
PDF file as a String.
This string gets indexed using the StandardAnalyser.
This document contain both "java" and "Java".=20
When I examin the index that has been created, it shows "java" ONLY not =
"Java".

Now i am doing a wild card search on it.
Eg: ja*
I get the right result (which is the above document).
But when i search for "Ja*", i get nothing.

shouldnt this also throw the above document as a result??

probably i am missing out something.

Please help...=20

thanks in advance

subhro
------=_NextPart_000_002B_01C32516.45411FF0--



From lucene-user-return-4610-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 07:20:15 2003
Return-Path: <lucene-user-return-4610-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48736 invoked from network); 28 May 2003 07:20:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 07:20:15 -0000
Received: (qmail 1586 invoked by uid 97); 28 May 2003 07:22:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1579 invoked from network); 28 May 2003 07:22:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 07:22:36 -0000
Received: (qmail 48457 invoked by uid 500); 28 May 2003 07:20:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48377 invoked from network); 28 May 2003 07:19:59 -0000
Received: from soniaext.snt.ro (HELO sonia.snt.ro) (193.230.128.207)
  by daedalus.apache.org with SMTP; 28 May 2003 07:19:59 -0000
Received: by SONIA with Internet Mail Service (5.5.2653.19)
	id <K79M0W6B>; Wed, 28 May 2003 10:15:47 +0300
Message-ID: <336674949053D511BF4D00A0C9B3D3649EAF3B@SONIA>
From: Andrei Melis <Andrei.Melis@snt.ro>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: wild card search problem
Date: Wed, 28 May 2003 10:15:41 +0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C324E8.F2352E50"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C324E8.F2352E50
Content-Type: text/plain;
	charset="iso-8859-1"

There were a few threads in the mailing list concerning this issue. You
should check the archive.
I think the problem is that the wildcard search is case-sensitive. Try to
lowercase the entire
query before passing it into the query parser.

Andrei

-----Original Message-----
From: Subhrajyoti Moitra [mailto:subhrajyotim@contata.co.in] 
Sent: Wednesday, May 28, 2003 10:10 AM
To: lucene mailing list
Subject: wild card search problem


Hi list,
I am having a weird problem.
I have a PDF document. Using PDFBox library i get the contents of the PDF
file as a String. This string gets indexed using the StandardAnalyser. This
document contain both "java" and "Java". 
When I examin the index that has been created, it shows "java" ONLY not
"Java".

Now i am doing a wild card search on it.
Eg: ja*
I get the right result (which is the above document).
But when i search for "Ja*", i get nothing.

shouldnt this also throw the above document as a result??

probably i am missing out something.

Please help... 

thanks in advance

subhro

------_=_NextPart_001_01C324E8.F2352E50--

From lucene-user-return-4611-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 07:25:54 2003
Return-Path: <lucene-user-return-4611-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58840 invoked from network); 28 May 2003 07:25:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 07:25:53 -0000
Received: (qmail 1703 invoked by uid 97); 28 May 2003 07:28:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1696 invoked from network); 28 May 2003 07:28:13 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 07:28:13 -0000
Received: (qmail 55640 invoked by uid 500); 28 May 2003 07:24:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55577 invoked from network); 28 May 2003 07:24:23 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 28 May 2003 07:24:23 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id AD60EB7343
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 17:24:24 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Wildcard workaround
Date: Wed, 28 May 2003 17:13:21 +1000
User-Agent: KMail/1.4.3
References: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA>
In-Reply-To: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305281713.21058@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I have a file database indexed by content and also by filename. It would be
> nice if the user could perform a usual search like "*.ext".
>
> Anybody tried a workaround for this issue ? ( this is needed only for the
> name of the file, for the rest of the terms the rules are fine with me)

You can index all the extension in a special field and search this field when 
users search for extensions. This way either you have to parse *.ext to ext 
or create a special text box to enter the extention users want to search.

-- 
Victor Hadianto


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4612-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 07:27:38 2003
Return-Path: <lucene-user-return-4612-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62016 invoked from network); 28 May 2003 07:27:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 07:27:38 -0000
Received: (qmail 1761 invoked by uid 97); 28 May 2003 07:29:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1754 invoked from network); 28 May 2003 07:29:56 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 07:29:56 -0000
Received: (qmail 61724 invoked by uid 500); 28 May 2003 07:27:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61708 invoked from network); 28 May 2003 07:27:29 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 28 May 2003 07:27:29 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 3979AB7343
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 17:27:32 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: wild card search problem
Date: Wed, 28 May 2003 17:16:28 +1000
User-Agent: KMail/1.4.3
References: <002e01c324e8$2ca06e70$0100a8c1@contatan.com>
In-Reply-To: <002e01c324e8$2ca06e70$0100a8c1@contatan.com>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305281716.28004@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> This document contain both "java" and "Java".
> When I examin the index that has been created, it shows "java" ONLY not
> "Java".

Yes, that's because StandardAnalyser contains a LowerCaseFilter that will 
change all your token into lower case characters.

> subhro
Victor Hadianto


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4613-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 08:49:10 2003
Return-Path: <lucene-user-return-4613-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85878 invoked from network); 28 May 2003 08:49:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 08:49:09 -0000
Received: (qmail 3479 invoked by uid 97); 28 May 2003 08:51:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 3472 invoked from network); 28 May 2003 08:51:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 08:51:30 -0000
Received: (qmail 83686 invoked by uid 500); 28 May 2003 08:48:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83623 invoked from network); 28 May 2003 08:48:39 -0000
Received: from unknown (HELO svntjt1-47.watercorporation.com.au) (159.52.65.47)
  by daedalus.apache.org with SMTP; 28 May 2003 08:48:39 -0000
Received: by svntjt1-47.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <LPA25HNQ>; Wed, 28 May 2003 16:48:57 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00F9752F1@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: PhraseQuery question
Date: Wed, 28 May 2003 16:48:54 +0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

I'm playing with PhraseQuery on an index of address data. If I do

     PhraseQuery pq = new PhraseQuery();
      pq.add(new Term("SUBURB_NAME","PERTH GPO"));
      log.debug("Searching for: " + pq.toString());
      Hits hits = searcher.search(pq);

I get no hits and debug info of 
Searching for: SUBURB_NAME:"PERTH GPO"

If I do
     PhraseQuery pq = new PhraseQuery();
     pq.add(new Term("SUBURB_NAME","PERTH"));
     pq.add(new Term("SUBURB_NAME","GPO"));
     log.debug("Searching for: " + pq.toString());
     Hits hits = searcher.search(pq);

I get the same debug query string
Searching for: SUBURB_NAME:"PERTH GPO"

but this time I get a bunch of hits back.

I'm using a real simple analyzer for the indexer:-

public final TokenStream tokenStream(String fieldName, Reader reader) {
    return new WhitespaceTokenizer(reader);
}

What's going on?


Bye
Les



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4614-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 10:48:25 2003
Return-Path: <lucene-user-return-4614-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29639 invoked from network); 28 May 2003 10:48:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 10:48:25 -0000
Received: (qmail 6477 invoked by uid 97); 28 May 2003 10:50:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6470 invoked from network); 28 May 2003 10:50:33 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 10:50:33 -0000
Received: (qmail 29309 invoked by uid 500); 28 May 2003 10:48:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29230 invoked from network); 28 May 2003 10:48:20 -0000
Received: from cmailm5.svr.pol.co.uk (195.92.193.21)
  by daedalus.apache.org with SMTP; 28 May 2003 10:48:20 -0000
Received: from modem-2318.wolf.dialup.pol.co.uk ([81.76.137.14] helo=joseph)
	by cmailm5.svr.pol.co.uk with smtp (Exim 4.14)
	id 19KyTi-0007mu-TG
	for lucene-user@jakarta.apache.org; Wed, 28 May 2003 11:48:19 +0100
Message-ID: <038701c32506$9cedd690$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Parsers
Date: Wed, 28 May 2003 11:48:02 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0384_01C3250E.FE71DA30"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0384_01C3250E.FE71DA30
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,

I have a rather nice html parser that I got from SourceForge.  Does =
anyone know of any good parsers for pdf and Microsoft Office Suite =
(.doc, .ppt, .xls, etc), any help would be much appreciated.

Pete Lewis
------=_NextPart_000_0384_01C3250E.FE71DA30--


From lucene-user-return-4615-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 11:04:50 2003
Return-Path: <lucene-user-return-4615-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 47052 invoked from network); 28 May 2003 11:04:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 11:04:50 -0000
Received: (qmail 6806 invoked by uid 97); 28 May 2003 11:06:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6799 invoked from network); 28 May 2003 11:06:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 11:06:58 -0000
Received: (qmail 46778 invoked by uid 500); 28 May 2003 11:04:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46694 invoked from network); 28 May 2003 11:04:37 -0000
Received: from soniaext.snt.ro (HELO sonia.snt.ro) (193.230.128.207)
  by daedalus.apache.org with SMTP; 28 May 2003 11:04:37 -0000
Received: by SONIA with Internet Mail Service (5.5.2653.19)
	id <K79M0XGW>; Wed, 28 May 2003 14:02:15 +0300
Message-ID: <336674949053D511BF4D00A0C9B3D3649EB099@SONIA>
From: Andrei Melis <Andrei.Melis@snt.ro>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Parsers
Date: Wed, 28 May 2003 14:02:12 +0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32508.9742CF50"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32508.9742CF50
Content-Type: text/plain;
	charset="iso-8859-1"

Hi Pete,

For pdf try PageMark - http://www.etymon.com ( I'm not sure if it's free,
but there is some downloadable source code)
For Excel try JexcelApi - http://www.andykhan.com or Jakarta POI -
http://jakarta.apache.org/poi/


Andrei
-----Original Message-----
From: Pete Lewis [mailto:pete@uptima.co.uk] 
Sent: Wednesday, May 28, 2003 1:48 PM
To: Lucene Users List
Subject: Parsers


Hi all,

I have a rather nice html parser that I got from SourceForge.  Does anyone
know of any good parsers for pdf and Microsoft Office Suite (.doc, .ppt,
.xls, etc), any help would be much appreciated.

Pete Lewis

------_=_NextPart_001_01C32508.9742CF50--

From lucene-user-return-4616-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 11:43:41 2003
Return-Path: <lucene-user-return-4616-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 90627 invoked from network); 28 May 2003 11:43:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 11:43:40 -0000
Received: (qmail 8142 invoked by uid 97); 28 May 2003 11:45:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8135 invoked from network); 28 May 2003 11:45:49 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 11:45:49 -0000
Received: (qmail 90376 invoked by uid 500); 28 May 2003 11:43:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90365 invoked from network); 28 May 2003 11:43:37 -0000
Received: from h004.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.217)
  by daedalus.apache.org with SMTP; 28 May 2003 11:43:37 -0000
Received: (cpmta 24130 invoked from network); 28 May 2003 04:43:37 -0700
Received: from 66.171.37.231 (HELO medined01)
  by smtp.mtolive.com (209.228.34.217) with SMTP; 28 May 2003 04:43:37 -0700
X-Sent: 28 May 2003 11:43:37 GMT
Message-ID: <01e101c3250e$5ece8af0$6822a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA>
Subject: Re: Wildcard workaround
Date: Wed, 28 May 2003 07:43:33 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

----- Original Message -----
From: "Andrei Melis" <Andrei.Melis@snt.ro>
> As far as I have understood, lucene does not allow search queries
> starting with wildcards. I have a file database indexed by content
> and also by filename. It would be nice if the user could perform a
> usual search like "*.ext".

Does anyone know if Oracle patented the technique that they use for *ext
searching in the Oracle Text product. If not, I'm sure the technique can be
borrowed.

On the other hand, the slow technique of comparing each term to *.ext can
certainly be implemented with a minimum of effort, I think.

David Medinets
http://www.codebits.com




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4617-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 12:03:32 2003
Return-Path: <lucene-user-return-4617-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 12159 invoked from network); 28 May 2003 12:03:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 12:03:31 -0000
Received: (qmail 8915 invoked by uid 97); 28 May 2003 12:05:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8908 invoked from network); 28 May 2003 12:05:39 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 12:05:39 -0000
Received: (qmail 11047 invoked by uid 500); 28 May 2003 12:03:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10863 invoked from network); 28 May 2003 12:03:16 -0000
Received: from unknown (HELO titeuf.verticali.com) (195.202.202.7)
  by daedalus.apache.org with SMTP; 28 May 2003 12:03:16 -0000
Received: (qmail 27379 invoked by uid 0); 28 May 2003 12:03:10 -0000
Received: from unknown (HELO labate) (192.168.1.96)
  by titeuf.verticali.com with SMTP; 28 May 2003 12:03:10 -0000
From: "Adriano Labate" <labate@verticali.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : Parsers
Date: Wed, 28 May 2003 14:03:27 +0200
Message-ID: <000c01c32511$260f3b30$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <038701c32506$9cedd690$0200a8c0@joseph>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The www.textmining.org text extractors work very well for Word and pdf
documents.=20
They use both PDFBox and POI.

For Excel, using POI directly is very easy. Tell me if you want to see
code samples.

I'm looking myself for a Powerpoint text extractor, if you know one...

Adriano Labate


-----Message d'origine-----
De : Pete Lewis [mailto:pete@uptima.co.uk]=20
Envoy=E9 : mercredi, 28 mai 2003 12:48
=C0 : Lucene Users List
Objet : Parsers


Hi all,

I have a rather nice html parser that I got from SourceForge.  Does
anyone know of any good parsers for pdf and Microsoft Office Suite
(.doc, .ppt, .xls, etc), any help would be much appreciated.

Pete Lewis




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4618-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 13:02:03 2003
Return-Path: <lucene-user-return-4618-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7404 invoked from network); 28 May 2003 13:02:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 13:02:01 -0000
Received: (qmail 10485 invoked by uid 97); 28 May 2003 13:04:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10478 invoked from network); 28 May 2003 13:04:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 13:04:12 -0000
Received: (qmail 6752 invoked by uid 500); 28 May 2003 13:01:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6675 invoked from network); 28 May 2003 13:01:52 -0000
Received: from cmailm3.svr.pol.co.uk (195.92.193.19)
  by daedalus.apache.org with SMTP; 28 May 2003 13:01:52 -0000
Received: from modem-793.lemur.dialup.pol.co.uk ([217.135.131.25] helo=joseph)
	by cmailm3.svr.pol.co.uk with smtp (Exim 4.14)
	id 19L0Yy-0007IZ-8R
	for lucene-user@jakarta.apache.org; Wed, 28 May 2003 14:01:52 +0100
Message-ID: <03ea01c32519$453c5da0$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000c01c32511$260f3b30$6001a8c0@labate>
Subject: Re: Parsers
Date: Wed, 28 May 2003 14:01:35 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Adriano

Thanks.  Code samples would be nice :)

Will come back if I find something for .ppt.

Pete

----- Original Message -----
From: "Adriano Labate" <labate@verticali.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 28, 2003 1:03 PM
Subject: RE : Parsers


The www.textmining.org text extractors work very well for Word and pdf
documents.
They use both PDFBox and POI.

For Excel, using POI directly is very easy. Tell me if you want to see
code samples.

I'm looking myself for a Powerpoint text extractor, if you know one...

Adriano Labate


-----Message d'origine-----
De : Pete Lewis [mailto:pete@uptima.co.uk]
Envoy : mercredi, 28 mai 2003 12:48
 : Lucene Users List
Objet : Parsers


Hi all,

I have a rather nice html parser that I got from SourceForge.  Does
anyone know of any good parsers for pdf and Microsoft Office Suite
(.doc, .ppt, .xls, etc), any help would be much appreciated.

Pete Lewis




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4619-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 13:25:36 2003
Return-Path: <lucene-user-return-4619-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54894 invoked from network); 28 May 2003 13:25:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 13:25:34 -0000
Received: (qmail 11190 invoked by uid 97); 28 May 2003 13:27:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11183 invoked from network); 28 May 2003 13:27:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 13:27:46 -0000
Received: (qmail 54666 invoked by uid 500); 28 May 2003 13:25:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54601 invoked from network); 28 May 2003 13:25:28 -0000
Received: from unknown (HELO titeuf.verticali.com) (195.202.202.7)
  by daedalus.apache.org with SMTP; 28 May 2003 13:25:28 -0000
Received: (qmail 30379 invoked by uid 0); 28 May 2003 13:25:23 -0000
Received: from unknown (HELO labate) (192.168.1.96)
  by titeuf.verticali.com with SMTP; 28 May 2003 13:25:23 -0000
From: "Adriano Labate" <labate@verticali.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE : Parsers
Date: Wed, 28 May 2003 15:25:38 +0200
Message-ID: <000501c3251c$a14c9ad0$6001a8c0@labate>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <03ea01c32519$453c5da0$0200a8c0@joseph>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Pete,

Here's some samples.

For Word using Textmining:
	String textContent =3D new
WordExtractor().extractText(inputStream);

For PDF using Textmining:
	String textContent =3D new
PDFExtractor().extractText(inputStream);

For Excel using POI:
(From
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakart
a.apache.org&msgId=3D698633)

    /**
     * Extract text from an Microsoft Excel input stream.
     * @param inputStream
     * @return The raw text obtained by concatenating all text cells
from top to bottom, left to right.
     * @throws IOException
     */
    private static String extractExcelContent(InputStream inputStream)
throws IOException {
        HSSFWorkbook wb =3D new HSSFWorkbook(inputStream);
        int nbSheets =3D wb.getNumberOfSheets();
        StringBuffer content =3D new StringBuffer(1024);

        for (int i =3D 0; i < nbSheets; i++) {
            HSSFSheet sheet =3D wb.getSheetAt(i);
            int nbRows =3D sheet.getLastRowNum();

            for (int j =3D 0; j < nbRows; j++) {
                HSSFRow row =3D sheet.getRow(j);
                if (row =3D=3D null)    // empty row
                    continue;

                boolean isLineFound =3D false;
                Iterator it =3D row.cellIterator();
                while (it.hasNext()) {
                    HSSFCell cell =3D (HSSFCell)it.next();
                    int type =3D cell.getCellType();

                    if (type =3D=3D HSSFCell.CELL_TYPE_STRING) {
                        content.append(cell.getStringCellValue());
                        content.append(" ");
                        isLineFound =3D true;
                    }
                }

                if (isLineFound)
                    content.append("\n");       // separate lines/raws
            }
        }

        return content.toString();
    }

Adriano


-----Message d'origine-----
De : Pete Lewis [mailto:pete@uptima.co.uk]=20
Envoy=E9 : mercredi, 28 mai 2003 15:02
=C0 : Lucene Users List
Objet : Re: Parsers


Hi Adriano

Thanks.  Code samples would be nice :)

Will come back if I find something for .ppt.

Pete

----- Original Message -----
From: "Adriano Labate" <labate@verticali.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 28, 2003 1:03 PM
Subject: RE : Parsers


The www.textmining.org text extractors work very well for Word and pdf
documents. They use both PDFBox and POI.

For Excel, using POI directly is very easy. Tell me if you want to see
code samples.

I'm looking myself for a Powerpoint text extractor, if you know one...

Adriano Labate


-----Message d'origine-----
De : Pete Lewis [mailto:pete@uptima.co.uk]
Envoy=E9 : mercredi, 28 mai 2003 12:48
=C0 : Lucene Users List
Objet : Parsers


Hi all,

I have a rather nice html parser that I got from SourceForge.  Does
anyone know of any good parsers for pdf and Microsoft Office Suite
(.doc, .ppt, .xls, etc), any help would be much appreciated.

Pete Lewis




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4620-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 13:42:43 2003
Return-Path: <lucene-user-return-4620-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87795 invoked from network); 28 May 2003 13:42:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 13:42:42 -0000
Received: (qmail 11708 invoked by uid 97); 28 May 2003 13:44:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 11701 invoked from network); 28 May 2003 13:44:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 13:44:52 -0000
Received: (qmail 87429 invoked by uid 500); 28 May 2003 13:42:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87418 invoked from network); 28 May 2003 13:42:35 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 28 May 2003 13:42:35 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KLP5SHXG; Wed, 28 May 2003 09:47:04 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sort results by date alone?
Date: Wed, 28 May 2003 09:43:35 -0400
Message-ID: <008401c3251f$287cfe80$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <bb0vjn$pfj$1@main.gmane.org>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think I saw a solution for this in the past. Try to search the mailing
list.
Anyway you can always use the SearchBean which is in lucene sandbox to
sort by any field.

-----Original Message-----
From: news [mailto:news@main.gmane.org] On Behalf Of David Weitzman
Sent: Tuesday, May 27, 2003 8:26 PM
To: lucene-user@jakarta.apache.org
Subject: Sort results by date alone?


I think it's possible, but I'm not sure how Scorers work.  I just want
to place the most recent hits at the front and the oldest ones at the
back (where "date" is a field in the documents).  Is there a simple way
to do this?

Thanks,

David Weitzman




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4621-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 14:34:25 2003
Return-Path: <lucene-user-return-4621-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44875 invoked from network); 28 May 2003 14:34:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 14:34:25 -0000
Received: (qmail 13626 invoked by uid 97); 28 May 2003 14:36:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13619 invoked from network); 28 May 2003 14:36:37 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 14:36:37 -0000
Received: (qmail 41000 invoked by uid 500); 28 May 2003 14:33:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40935 invoked from network); 28 May 2003 14:33:20 -0000
Received: from mailer.syr.edu (128.230.18.29)
  by daedalus.apache.org with SMTP; 28 May 2003 14:33:20 -0000
Received: from syr.edu (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.05384F20@mailer.syr.edu>; Wed, 28 May 2003 10:33:22 -0400
Message-ID: <3ED4C8C4.4030606@syr.edu>
Date: Wed, 28 May 2003 10:33:40 -0400
From: Steve Rowe <sarowe@syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Wildcard workaround
References: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Andrei,

If this sort of thing is important enough, you could implement a 
customized analyzer which would reverse all terms and store them in a 
separate field (in addition to the a non-reversed field).  This will 
double your index size, of course.

Then, when searching, suffix query terms (those beginning with '*') 
could be reversed and wildcard-searched on the reverse-term field.

Hope it helps,
Steve Rowe

Andrei Melis wrote:
> Hello all,
>  
> As far as I have understood, lucene does not allow search queries starting
> with wildcards.
> I have a file database indexed by content and also by filename. It would be
> nice if the user could perform a usual search like "*.ext".
>  
> Anybody tried a workaround for this issue ? ( this is needed only for the
> name of the file, for the rest of the terms the rules are fine with me)
>  
> I assume that this will produce a decrease of search speed... is this
> correct ?
>  
>  
> 10q,
> Andrei
> 


-- 
Steve Rowe
Software Engineer
Center for Natural Language Processing
School of Information Studies
Syracuse University
www.cnlp.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4622-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 14:53:51 2003
Return-Path: <lucene-user-return-4622-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94332 invoked from network); 28 May 2003 14:53:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 14:53:49 -0000
Received: (qmail 14147 invoked by uid 97); 28 May 2003 14:56:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14140 invoked from network); 28 May 2003 14:56:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 14:56:02 -0000
Received: (qmail 94062 invoked by uid 500); 28 May 2003 14:53:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94044 invoked from network); 28 May 2003 14:53:46 -0000
Received: from gamera.mt.sri.com (206.127.76.125)
  by daedalus.apache.org with SMTP; 28 May 2003 14:53:46 -0000
Received: from denali.mt.sri.com (denali.mt.sri.com [206.127.76.99])
	by gamera.mt.sri.com (8.12.9/8.12.8) with ESMTP id h4SErmBp013410
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 08:53:48 -0600 (MDT)
Message-Id: <5.2.1.1.0.20030528081747.02313c88@gamera.mt.sri.com>
X-Sender: albright@gamera.mt.sri.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Wed, 28 May 2003 08:56:23 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Cory Albright <albright@mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
In-Reply-To: <002b01c32488$44a1c330$c300000a@caliente>
References: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the info, but unfortunately it still is getting an OutOfMemoryError,
Here's my code:

--------------------------------------------------
final BitSet bits = new BitSet();
HitCollector hc = new HitCollector() {
      public void collect(int doc, float score){
          System.out.println("collect");
          if (score > THRESHOLD) {
              bits.set(doc);
          }
      }
};
mSearcher.search(query, hc);
System.out.println("          results ("+bits.cardinality()+"):\n");
-----------------------------------------------------

When I search with a low-hit query, "collect" is printed many times.
When I search with a query I know will hit most of the 1.8 million records, 
the "collect" print
does not even print, it eats up the 700+MB I allocated and then throws an 
OutOfMemoryError.  Did
I do something wrong?

Thanks for you help,

Cory









At 09:43 PM 5/27/2003 +0200, you wrote:
> > Hits hits = searcher.search(myQuery);
>
>BitSet results = new BitSet();
>
>searcher.search(myQuery, new HitCollector()
>{
>   public void collect(int doc, float score)
>   {
>     if (score > THRESHOLD)
>       results.set(doc);
>   }
>});
>
>--
>Eric Jain
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4623-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 14:54:39 2003
Return-Path: <lucene-user-return-4623-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96278 invoked from network); 28 May 2003 14:54:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 14:54:38 -0000
Received: (qmail 14179 invoked by uid 97); 28 May 2003 14:56:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14172 invoked from network); 28 May 2003 14:56:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 14:56:50 -0000
Received: (qmail 95950 invoked by uid 500); 28 May 2003 14:54:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95863 invoked from network); 28 May 2003 14:54:32 -0000
Received: from rack3.sundayta.com (HELO pluto.sundayta.net) (213.239.45.132)
  by daedalus.apache.org with SMTP; 28 May 2003 14:54:32 -0000
Received: from [217.206.34.202] (helo=sundayta.com)
	by pluto.sundayta.net with esmtp (Exim 3.35 #1 (Debian))
	id 19L2JK-0005gu-00
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 15:53:50 +0100
Message-ID: <3ED4CDC4.6000008@sundayta.com>
Date: Wed, 28 May 2003 15:55:00 +0100
From: David Warnock <david@sundayta.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Wildcard workaround
References: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA>
In-Reply-To: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Andrei,

> I have a file database indexed by content and also by filename. It would be
> nice if the user could perform a usual search like "*.ext".
>  
> Anybody tried a workaround for this issue ? ( this is needed only for the
> name of the file, for the rest of the terms the rules are fine with me)

If the term begins with * then could you expand it into a set of 36 
terms eg a*.ext b*.ext ... z*.ext 0*.ext

No idea how this would compare to the other alternatives for speed. But 
it would be simple to code and would not increase index size.

Of course if filenames can use unicode character sets then you have a 
problem. At that point you would need to do a check of what all the 
first characters are to know what terms to use (ie only create a tewrm 
for each character that is used as the 1st character of a filename).

HTH

Dave
-- 
David Warnock, Sundayta Ltd. http://www.sundayta.com
iDocSys for Document Management. VisibleResults for Fundraising.
Development and Hosting of Web Applications and Sites.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4624-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 15:12:22 2003
Return-Path: <lucene-user-return-4624-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34378 invoked from network); 28 May 2003 15:12:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 15:12:21 -0000
Received: (qmail 15123 invoked by uid 97); 28 May 2003 15:14:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15116 invoked from network); 28 May 2003 15:14:34 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 15:14:34 -0000
Received: (qmail 34093 invoked by uid 500); 28 May 2003 15:12:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34075 invoked from network); 28 May 2003 15:12:17 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 28 May 2003 15:12:17 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4SFCIHc019442
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 17:12:18 +0200
Message-ID: <000e01c3252b$a4476670$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com> <5.2.1.1.0.20030528081747.02313c88@gamera.mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
Date: Wed, 28 May 2003 17:13:06 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> When I search with a query I know will hit most of the 1.8 million
> records, the "collect" print
> does not even print, it eats up the 700+MB I allocated and then
> throws an OutOfMemoryError.

Are you using wildcard queries?

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4625-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 15:13:35 2003
Return-Path: <lucene-user-return-4625-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37014 invoked from network); 28 May 2003 15:13:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 15:13:34 -0000
Received: (qmail 15201 invoked by uid 97); 28 May 2003 15:15:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15193 invoked from network); 28 May 2003 15:15:46 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 15:15:46 -0000
Received: (qmail 36706 invoked by uid 500); 28 May 2003 15:13:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36684 invoked from network); 28 May 2003 15:13:28 -0000
Received: from gamera.mt.sri.com (206.127.76.125)
  by daedalus.apache.org with SMTP; 28 May 2003 15:13:28 -0000
Received: from denali.mt.sri.com (denali.mt.sri.com [206.127.76.99])
	by gamera.mt.sri.com (8.12.9/8.12.8) with ESMTP id h4SFDUBp013495
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 09:13:30 -0600 (MDT)
Message-Id: <5.2.1.1.0.20030528091542.02313b18@gamera.mt.sri.com>
X-Sender: albright@gamera.mt.sri.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Wed, 28 May 2003 09:16:06 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Cory Albright <albright@mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
In-Reply-To: <000e01c3252b$a4476670$c300000a@caliente>
References: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com>
 <5.2.1.1.0.20030528081747.02313c88@gamera.mt.sri.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes. Is that the problem?

At 05:13 PM 5/28/2003 +0200, you wrote:
> > When I search with a query I know will hit most of the 1.8 million
> > records, the "collect" print
> > does not even print, it eats up the 700+MB I allocated and then
> > throws an OutOfMemoryError.
>
>Are you using wildcard queries?
>
>--
>Eric Jain
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4626-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 15:22:09 2003
Return-Path: <lucene-user-return-4626-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46389 invoked from network); 28 May 2003 15:22:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 15:22:08 -0000
Received: (qmail 15458 invoked by uid 97); 28 May 2003 15:24:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15451 invoked from network); 28 May 2003 15:24:21 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 15:24:21 -0000
Received: (qmail 46114 invoked by uid 500); 28 May 2003 15:22:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46094 invoked from network); 28 May 2003 15:22:05 -0000
Received: from unknown (HELO isc?mail.infosciences.com) (141.156.69.115)
  by daedalus.apache.org with SMTP; 28 May 2003 15:22:05 -0000
Received: from Aviran (141.156.69.109 [141.156.69.109]) by isc_mail.infosciences.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id KLP5SH9P; Wed, 28 May 2003 11:26:36 -0400
From: "Aviran Mordo" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Wildcard workaround
Date: Wed, 28 May 2003 11:23:06 -0400
Message-ID: <009501c3252d$0fd37c20$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <3ED4CDC4.6000008@sundayta.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can also index the file names with a leading character. For instance
index "file1.exe" will be indexed as "_file1.exe" and always add the
leading character to the search term.
So if the user input is "*.exe" your query should be "_*.exe" and if the
user input "fi*" you'll change it to "_fi*"

Aviran

-----Original Message-----
From: David Warnock [mailto:david@sundayta.com] 
Sent: Wednesday, May 28, 2003 10:55 AM
To: Lucene Users List
Subject: Re: Wildcard workaround


Andrei,

> I have a file database indexed by content and also by filename. It 
> would be nice if the user could perform a usual search like "*.ext".
>  
> Anybody tried a workaround for this issue ? ( this is needed only for 
> the name of the file, for the rest of the terms the rules are fine 
> with me)

If the term begins with * then could you expand it into a set of 36 
terms eg a*.ext b*.ext ... z*.ext 0*.ext

No idea how this would compare to the other alternatives for speed. But 
it would be simple to code and would not increase index size.

Of course if filenames can use unicode character sets then you have a 
problem. At that point you would need to do a check of what all the 
first characters are to know what terms to use (ie only create a tewrm 
for each character that is used as the 1st character of a filename).

HTH

Dave
-- 
David Warnock, Sundayta Ltd. http://www.sundayta.com
iDocSys for Document Management. VisibleResults for Fundraising.
Development and Hosting of Web Applications and Sites.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4627-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 15:40:13 2003
Return-Path: <lucene-user-return-4627-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88217 invoked from network); 28 May 2003 15:40:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 15:40:10 -0000
Received: (qmail 16168 invoked by uid 97); 28 May 2003 15:42:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16161 invoked from network); 28 May 2003 15:42:24 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 15:42:24 -0000
Received: (qmail 87902 invoked by uid 500); 28 May 2003 15:40:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87879 invoked from network); 28 May 2003 15:40:06 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 28 May 2003 15:40:06 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4SFe4Hc020859
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 17:40:05 +0200
Message-ID: <000e01c3252f$8568bbb0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <5.2.1.1.0.20030527122745.0246e278@gamera.mt.sri.com> <5.2.1.1.0.20030528081747.02313c88@gamera.mt.sri.com> <5.2.1.1.0.20030528091542.02313b18@gamera.mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
Date: Wed, 28 May 2003 17:40:52 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Yes. Is that the problem?

I believe a term with a wildcard is expanded into all possible terms in
memory before searching for it, so if the term is 'a*', and you have a
million different terms starting with 'a' occuring in your documents,
it's quite possible to run out of memory.

Does anyone know if there is a setting that limits the number of terms
for wildcard queries?

--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4628-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 15:46:05 2003
Return-Path: <lucene-user-return-4628-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 706 invoked from network); 28 May 2003 15:46:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 15:46:05 -0000
Received: (qmail 16426 invoked by uid 97); 28 May 2003 15:48:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16419 invoked from network); 28 May 2003 15:48:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 15:48:18 -0000
Received: (qmail 387 invoked by uid 500); 28 May 2003 15:46:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99791 invoked from network); 28 May 2003 15:45:53 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 28 May 2003 15:45:53 -0000
Subject: Re: too many hits - OutOfMemoryError
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF8A43A859.F6022196-ON85256D34.00567DC7@vwr.com>
From: David_Birthwell@VWR.COM
Date: Wed, 28 May 2003 11:50:07 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/28/2003 11:50:08 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Cory,

When performing wildcard queries, the bulk of the memory is used during
wildcard term expansion.  The memory requirement is proportional to the
number of matching terms, not the number of hits.

You should make sure you are using the latest Lucene.  There was a fix in
1.3 to reduce the memory requirements of all all queries.

But, wildcard queries that expand to many terms are allways going to be
memory intensive in Lucene.  We ran into this problem and decided to put a
check on the number of expanded terms and abort the query if the number got
too high.  If you're ambitious, you could modify the Lucene source to
serialize the query process for queries with a large number of terms, but
that would be a bit of work.  If you absolutely require these huge wildcard
queries, then you may have to look into it, though.

Non-wildcard queries that return a large result set should not be a memory
problem, though.

Dave




                                                                                                    
                      Cory Albright                                                                 
                      <albright@mt.sri.        To:       "Lucene Users List"                        
                      com>                      <lucene-user@jakarta.apache.org>                    
                                               cc:                                                  
                      05/28/03 11:16 AM        Subject:  Re: too many hits - OutOfMemoryError       
                      Please respond to                                                             
                      "Lucene Users                                                                 
                      List"                                                                         
                                                                                                    
                                                                                                    




Yes. Is that the problem?

At 05:13 PM 5/28/2003 +0200, you wrote:
> > When I search with a query I know will hit most of the 1.8 million
> > records, the "collect" print
> > does not even print, it eats up the 700+MB I allocated and then
> > throws an OutOfMemoryError.
>
>Are you using wildcard queries?
>
>--
>Eric Jain
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4629-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 15:58:27 2003
Return-Path: <lucene-user-return-4629-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29874 invoked from network); 28 May 2003 15:58:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 15:58:25 -0000
Received: (qmail 16809 invoked by uid 97); 28 May 2003 16:00:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16802 invoked from network); 28 May 2003 16:00:38 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 16:00:38 -0000
Received: (qmail 29588 invoked by uid 500); 28 May 2003 15:58:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29557 invoked from network); 28 May 2003 15:58:21 -0000
Received: from rack3.sundayta.com (HELO pluto.sundayta.net) (213.239.45.132)
  by daedalus.apache.org with SMTP; 28 May 2003 15:58:21 -0000
Received: from [217.206.34.202] (helo=sundayta.com)
	by pluto.sundayta.net with esmtp (Exim 3.35 #1 (Debian))
	id 19L3J3-0006Dp-00
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 16:57:37 +0100
Message-ID: <3ED4DCBA.60104@sundayta.com>
Date: Wed, 28 May 2003 16:58:50 +0100
From: David Warnock <david@sundayta.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Wildcard workaround
References: <009501c3252d$0fd37c20$6a00a8c0@Aviran>
In-Reply-To: <009501c3252d$0fd37c20$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Aviran,

> You can also index the file names with a leading character. For instance
> index "file1.exe" will be indexed as "_file1.exe" and always add the
> leading character to the search term.
> So if the user input is "*.exe" your query should be "_*.exe" and if the
> user input "fi*" you'll change it to "_fi*"

Now that is a much neater solution than mine. Does this cause problems 
with unbalanced indexes or anything as all terms begin with the same 
character?

Dave
-- 
David Warnock, Sundayta Ltd. http://www.sundayta.com
iDocSys for Document Management. VisibleResults for Fundraising.
Development and Hosting of Web Applications and Sites.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4630-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 16:13:56 2003
Return-Path: <lucene-user-return-4630-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55668 invoked from network); 28 May 2003 16:13:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 16:13:55 -0000
Received: (qmail 17234 invoked by uid 97); 28 May 2003 16:16:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17227 invoked from network); 28 May 2003 16:16:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 16:16:08 -0000
Received: (qmail 55395 invoked by uid 500); 28 May 2003 16:13:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55382 invoked from network); 28 May 2003 16:13:51 -0000
Received: from gamera.mt.sri.com (206.127.76.125)
  by daedalus.apache.org with SMTP; 28 May 2003 16:13:51 -0000
Received: from denali.mt.sri.com (denali.mt.sri.com [206.127.76.99])
	by gamera.mt.sri.com (8.12.9/8.12.8) with ESMTP id h4SGDsBp013738
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 10:13:54 -0600 (MDT)
Message-Id: <5.2.1.1.0.20030528101539.023b6868@gamera.mt.sri.com>
X-Sender: albright@gamera.mt.sri.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Wed, 28 May 2003 10:16:30 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Cory Albright <albright@mt.sri.com>
Subject: Re: too many hits - OutOfMemoryError
In-Reply-To: <OF8A43A859.F6022196-ON85256D34.00567DC7@vwr.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the help!  Yes, it works fine without a wildcard search, which
I believe at this point will be ok for our app.

Thanks again,

Cory

At 11:50 AM 5/28/2003 -0400, you wrote:

>Cory,
>
>When performing wildcard queries, the bulk of the memory is used during
>wildcard term expansion.  The memory requirement is proportional to the
>number of matching terms, not the number of hits.
>
>You should make sure you are using the latest Lucene.  There was a fix in
>1.3 to reduce the memory requirements of all all queries.
>
>But, wildcard queries that expand to many terms are allways going to be
>memory intensive in Lucene.  We ran into this problem and decided to put a
>check on the number of expanded terms and abort the query if the number got
>too high.  If you're ambitious, you could modify the Lucene source to
>serialize the query process for queries with a large number of terms, but
>that would be a bit of work.  If you absolutely require these huge wildcard
>queries, then you may have to look into it, though.
>
>Non-wildcard queries that return a large result set should not be a memory
>problem, though.
>
>Dave
>
>
>
>
> 
>
>                       Cory 
> Albright
>                       <albright@mt.sri.        To:       "Lucene Users 
> List"
>                       com> 
> <lucene-user@jakarta.apache.org>
>                                                cc: 
>
>                       05/28/03 11:16 AM        Subject:  Re: too many 
> hits - OutOfMemoryError
>                       Please respond 
> to
>                       "Lucene 
> Users
>                       List" 
>
> 
>
> 
>
>
>
>
>
>Yes. Is that the problem?
>
>At 05:13 PM 5/28/2003 +0200, you wrote:
> > > When I search with a query I know will hit most of the 1.8 million
> > > records, the "collect" print
> > > does not even print, it eats up the 700+MB I allocated and then
> > > throws an OutOfMemoryError.
> >
> >Are you using wildcard queries?
> >
> >--
> >Eric Jain
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4631-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 16:22:18 2003
Return-Path: <lucene-user-return-4631-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69558 invoked from network); 28 May 2003 16:22:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 16:22:17 -0000
Received: (qmail 17466 invoked by uid 97); 28 May 2003 16:24:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 17458 invoked from network); 28 May 2003 16:24:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 16:24:30 -0000
Received: (qmail 67971 invoked by uid 500); 28 May 2003 16:21:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67939 invoked from network); 28 May 2003 16:21:56 -0000
Received: from expasy-f.unige.ch (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by daedalus.apache.org with SMTP; 28 May 2003 16:21:56 -0000
Received: from caliente (router.isb-sib.ch [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.8p1/8.12.3) with ESMTP id h4SGLsHc022258
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 18:21:54 +0200
Message-ID: <001501c32535$5d685980$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OF8A43A859.F6022196-ON85256D34.00567DC7@vwr.com>
Subject: Re: too many hits - OutOfMemoryError
Date: Wed, 28 May 2003 18:22:42 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> We ran into this problem and decided to put a check
> on the number of expanded terms and abort the query
> if the number got too high.

Is it possible to perform this check without having to modify Lucene's
source code?


--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4632-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 17:00:57 2003
Return-Path: <lucene-user-return-4632-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 47799 invoked from network); 28 May 2003 17:00:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 17:00:56 -0000
Received: (qmail 18308 invoked by uid 97); 28 May 2003 17:03:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18301 invoked from network); 28 May 2003 17:03:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 17:03:10 -0000
Received: (qmail 16587 invoked by uid 500); 28 May 2003 16:47:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16554 invoked from network); 28 May 2003 16:47:08 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 28 May 2003 16:47:08 -0000
Subject: Re: too many hits - OutOfMemoryError
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF460CBE1C.2492DD37-ON85256D34.005C7310@vwr.com>
From: David_Birthwell@VWR.COM
Date: Wed, 28 May 2003 12:51:08 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/28/2003 12:51:24 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Unfortunately, no.
The modifications are not very extreme, though.
If you're interested in seeing our approach, let me know.

DaveB




                                                                                                    
                      "Eric Jain"                                                                   
                      <Eric.Jain@isb-si        To:       "Lucene Users List"                        
                      b.ch>                     <lucene-user@jakarta.apache.org>                    
                                               cc:                                                  
                      05/28/03 12:22 PM        Subject:  Re: too many hits - OutOfMemoryError       
                      Please respond to                                                             
                      "Lucene Users                                                                 
                      List"                                                                         
                                                                                                    
                                                                                                    




> We ran into this problem and decided to put a check
> on the number of expanded terms and abort the query
> if the number got too high.

Is it possible to perform this check without having to modify Lucene's
source code?


--
Eric Jain


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4633-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 18:00:51 2003
Return-Path: <lucene-user-return-4633-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91308 invoked from network); 28 May 2003 18:00:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 18:00:50 -0000
Received: (qmail 20117 invoked by uid 97); 28 May 2003 18:03:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20110 invoked from network); 28 May 2003 18:03:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 18:03:03 -0000
Received: (qmail 90775 invoked by uid 500); 28 May 2003 18:00:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90692 invoked from network); 28 May 2003 18:00:42 -0000
Received: from mail12.atl.registeredsite.com (64.224.219.86)
  by daedalus.apache.org with SMTP; 28 May 2003 18:00:42 -0000
Received: from netmail.mail.registeredsite.com ([216.122.69.17])
	by mail12.atl.registeredsite.com (8.12.8/8.12.6) with ESMTP id h4SH0oqe014936
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Wed, 28 May 2003 13:00:56 -0400
Received: (qmail 85521 invoked by uid 89); 28 May 2003 18:01:37 -0000
Received: from unknown (HELO ehatchersolutions.com) (128.143.103.27)
  by netmail.registeredsite.com with SMTP; 28 May 2003 18:01:37 -0000
Date: Wed, 28 May 2003 14:00:35 -0400
Subject: Re: Wildcard workaround
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Erik Hatcher <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3ED4DCBA.60104@sundayta.com>
Message-Id: <48445F0C-9136-11D7-B239-000393A564E6@ehatchersolutions.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The problem with that solution is the same as what the other thread 
about OutOfMemory is discussing with wildcard queries.

Just prefixing something with a fixed query to 'hack' a wildcard query 
could lead to performance/memory issues.

I recommend indexing the file extension (or mime type) as a separate 
field.

	Erik


On Wednesday, May 28, 2003, at 11:58  AM, David Warnock wrote:

> Aviran,
>
>> You can also index the file names with a leading character. For 
>> instance
>> index "file1.exe" will be indexed as "_file1.exe" and always add the
>> leading character to the search term.
>> So if the user input is "*.exe" your query should be "_*.exe" and if 
>> the
>> user input "fi*" you'll change it to "_fi*"
>
> Now that is a much neater solution than mine. Does this cause problems 
> with unbalanced indexes or anything as all terms begin with the same 
> character?
>
> Dave
> -- 
> David Warnock, Sundayta Ltd. http://www.sundayta.com
> iDocSys for Document Management. VisibleResults for Fundraising.
> Development and Hosting of Web Applications and Sites.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4634-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 20:29:05 2003
Return-Path: <lucene-user-return-4634-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18274 invoked from network); 28 May 2003 20:29:04 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 20:29:04 -0000
Received: (qmail 23833 invoked by uid 97); 28 May 2003 20:31:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23826 invoked from network); 28 May 2003 20:31:16 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 20:31:16 -0000
Received: (qmail 17776 invoked by uid 500); 28 May 2003 20:28:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17765 invoked from network); 28 May 2003 20:28:57 -0000
Received: from web40112.mail.yahoo.com (66.218.78.46)
  by daedalus.apache.org with SMTP; 28 May 2003 20:28:57 -0000
Message-ID: <20030528202903.22552.qmail@web40112.mail.yahoo.com>
Received: from [163.188.121.119] by web40112.mail.yahoo.com via HTTP; Wed, 28 May 2003 13:29:03 PDT
Date: Wed, 28 May 2003 13:29:03 -0700 (PDT)
From: Shoba Ramachandran <shoba_duruvan@yahoo.com>
Subject: Re: not fetching all results that has same file name
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20030521204758.13537.qmail@web40111.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Does anyone have this problem???

Thanks
Shoba
--- Shoba Ramachandran <shoba_duruvan@yahoo.com>
wrote:
> Hi,
> 
> I have indexed these documents using lucene
> test.doc
> test.xls
> test.htm
> test.txt
> 
> When I search "DocName:test", it returns only the
> first one test.doc.
> But if I say "DocName:text Type:txt", it returns
> text.txt.
> 
> So why not just "DocName:test" return all the 4
> files?
> 
> Thanks for your help
> Shoba
> 
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________
Do you Yahoo!?
Yahoo! Calendar - Free online calendar with sync to Outlook(TM).
http://calendar.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4635-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 20:54:37 2003
Return-Path: <lucene-user-return-4635-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58095 invoked from network); 28 May 2003 20:54:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 20:54:37 -0000
Received: (qmail 24289 invoked by uid 97); 28 May 2003 20:56:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24282 invoked from network); 28 May 2003 20:56:53 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 20:56:53 -0000
Received: (qmail 57837 invoked by uid 500); 28 May 2003 20:54:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57823 invoked from network); 28 May 2003 20:54:33 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 28 May 2003 20:54:33 -0000
Subject: Re: not fetching all results that has same file name
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF8F65BA94.89C4B84B-ON85256D34.007315D1@vwr.com>
From: David_Birthwell@VWR.COM
Date: Wed, 28 May 2003 16:58:48 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/28/2003 04:58:51 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


It all depends on how you are indexing these documents.

What gets put in the DocName field?  What gets put in the Type field?
Are you using third party code to perform the indexing?

DaveB




                                                                                                    
                      Shoba                                                                         
                      Ramachandran             To:       Lucene Users List                          
                      <shoba_duruvan@ya         <lucene-user@jakarta.apache.org>                    
                      hoo.com>                 cc:                                                  
                                               Subject:  Re: not fetching all results that has same 
                      05/28/03 04:29 PM         file name                                           
                      Please respond to                                                             
                      "Lucene Users                                                                 
                      List"                                                                         
                                                                                                    
                                                                                                    




Does anyone have this problem???

Thanks
Shoba
--- Shoba Ramachandran <shoba_duruvan@yahoo.com>
wrote:
> Hi,
>
> I have indexed these documents using lucene
> test.doc
> test.xls
> test.htm
> test.txt
>
> When I search "DocName:test", it returns only the
> first one test.doc.
> But if I say "DocName:text Type:txt", it returns
> text.txt.
>
> So why not just "DocName:test" return all the 4
> files?
>
> Thanks for your help
> Shoba
>
> __________________________________
> Do you Yahoo!?
> The New Yahoo! Search - Faster. Easier. Bingo.
> http://search.yahoo.com
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
>


__________________________________
Do you Yahoo!?
Yahoo! Calendar - Free online calendar with sync to Outlook(TM).
http://calendar.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4636-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Wed May 28 23:12:33 2003
Return-Path: <lucene-user-return-4636-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80759 invoked from network); 28 May 2003 23:12:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 May 2003 23:12:33 -0000
Received: (qmail 27995 invoked by uid 97); 28 May 2003 23:14:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27988 invoked from network); 28 May 2003 23:14:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 28 May 2003 23:14:50 -0000
Received: (qmail 80506 invoked by uid 500); 28 May 2003 23:12:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80491 invoked from network); 28 May 2003 23:12:29 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 28 May 2003 23:12:29 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 177B2B734F
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 09:12:23 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: RE : Parsers
Date: Thu, 29 May 2003 09:01:09 +1000
User-Agent: KMail/1.4.3
References: <000c01c32511$260f3b30$6001a8c0@labate>
In-Reply-To: <000c01c32511$260f3b30$6001a8c0@labate>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305290901.09873@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> The www.textmining.org text extractors work very well for Word and pdf
> documents.
> They use both PDFBox and POI.
>
> For Excel, using POI directly is very easy. Tell me if you want to see
> code samples.
>
> I'm looking myself for a Powerpoint text extractor, if you know one...

Another solution is to use Microsoft Office itself. You can setup a server 
that serve request to convert Microsoft Office doc. There are many ways of 
doing this, for example using Python to directly call Office then put your 
python script in a webserver.

Or you can set a .Net conversion server and you can call this .Net service 
using a Web Service, and many other interesting technique.

victor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4637-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 04:08:10 2003
Return-Path: <lucene-user-return-4637-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72381 invoked from network); 29 May 2003 04:08:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 04:08:10 -0000
Received: (qmail 2044 invoked by uid 97); 29 May 2003 04:10:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 2037 invoked from network); 29 May 2003 04:10:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 04:10:31 -0000
Received: (qmail 72120 invoked by uid 500); 29 May 2003 04:08:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72090 invoked from network); 29 May 2003 04:08:04 -0000
Received: from unknown (HELO dsl.ephotocorp.com) (61.11.16.19)
  by daedalus.apache.org with SMTP; 29 May 2003 04:08:04 -0000
Received: from jade ([192.168.100.37])
          by dsl.ephotocorp.com (Lotus Domino Release 5.0.8)
          with SMTP id 2003052909381032:1600 ;
          Thu, 29 May 2003 09:38:10 +0530 
Message-ID: <002401c32598$32f4b320$2564a8c0@jade>
From: "Harpreet S Walia" <harpreet@sansuisoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OF460CBE1C.2492DD37-ON85256D34.005C7310@vwr.com>
Subject: Re: too many hits - OutOfMemoryError
Date: Thu, 29 May 2003 09:40:04 +0530
MIME-Version: 1.0
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-MIMETrack: Itemize by SMTP Server on SansuiLAN1/sspl(Release 5.0.8 |June 18, 2001) at
 05/29/2003 09:38:10 AM,
	Serialize by Router on SansuiLAN1/sspl(Release 5.0.8 |June 18, 2001) at 05/29/2003
 09:38:16 AM,
	Serialize complete at 05/29/2003 09:38:16 AM
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I have been following this discussion and as i am anticipating such a
problem when my index size grows , i would like to hear your approach on
limiting the query expansion.

Regards,
Harpreet

----- Original Message -----
From: <David_Birthwell@VWR.COM>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 28, 2003 10:21 PM
Subject: Re: too many hits - OutOfMemoryError


>
> Unfortunately, no.
> The modifications are not very extreme, though.
> If you're interested in seeing our approach, let me know.
>
> DaveB
>
>
>
>
>
>                       "Eric Jain"
>                       <Eric.Jain@isb-si        To:       "Lucene Users
List"
>                       b.ch>
<lucene-user@jakarta.apache.org>
>                                                cc:
>                       05/28/03 12:22 PM        Subject:  Re: too many
hits - OutOfMemoryError
>                       Please respond to
>                       "Lucene Users
>                       List"
>
>
>
>
>
>
> > We ran into this problem and decided to put a check
> > on the number of expanded terms and abort the query
> > if the number got too high.
>
> Is it possible to perform this check without having to modify Lucene's
> source code?
>
>
> --
> Eric Jain
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4638-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 08:05:54 2003
Return-Path: <lucene-user-return-4638-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 6800 invoked from network); 29 May 2003 08:05:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 08:05:54 -0000
Received: (qmail 5464 invoked by uid 97); 29 May 2003 08:08:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5457 invoked from network); 29 May 2003 08:08:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 08:08:17 -0000
Received: (qmail 5989 invoked by uid 500); 29 May 2003 08:05:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5871 invoked from network); 29 May 2003 08:05:44 -0000
Received: from cmailm3.svr.pol.co.uk (195.92.193.19)
  by daedalus.apache.org with SMTP; 29 May 2003 08:05:44 -0000
Received: from modem-3768.llama.dialup.pol.co.uk ([217.135.190.184] helo=joseph)
	by cmailm3.svr.pol.co.uk with smtp (Exim 4.14)
	id 19LIQ7-0000DV-Ef
	for lucene-user@jakarta.apache.org; Thu, 29 May 2003 09:05:55 +0100
Message-ID: <050101c325b9$17989940$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah>
Subject: Re: RE : Parsers
Date: Thu, 29 May 2003 09:05:38 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Victor

Thanks.

In the past I have used the Inso OutsideIn filters and found them very good;
however I'd like to come up with a pure Java solution, so if there is a Java
equivalent to the Inso filters I be grateful for any details.  Failing that,
I thought that I'd go for individual parsers initially using the file
extensions to select the correct parser but in the future adding a file type
recogniser for files without extensions.  Hence my request for anyone
knowing of good parsers particularly for the most common formats.

That being said, has anyone come across a Powerpoint parser?

Pete

----- Original Message -----
From: "Victor Hadianto" <victorh@nuix.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 29, 2003 12:01 AM
Subject: Re: RE : Parsers


> > The www.textmining.org text extractors work very well for Word and pdf
> > documents.
> > They use both PDFBox and POI.
> >
> > For Excel, using POI directly is very easy. Tell me if you want to see
> > code samples.
> >
> > I'm looking myself for a Powerpoint text extractor, if you know one...
>
> Another solution is to use Microsoft Office itself. You can setup a server
> that serve request to convert Microsoft Office doc. There are many ways of
> doing this, for example using Python to directly call Office then put your
> python script in a webserver.
>
> Or you can set a .Net conversion server and you can call this .Net service
> using a Web Service, and many other interesting technique.
>
> victor
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4639-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 08:08:19 2003
Return-Path: <lucene-user-return-4639-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8962 invoked from network); 29 May 2003 08:08:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 08:08:18 -0000
Received: (qmail 5506 invoked by uid 97); 29 May 2003 08:10:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5499 invoked from network); 29 May 2003 08:10:42 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 08:10:42 -0000
Received: (qmail 8702 invoked by uid 500); 29 May 2003 08:08:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8691 invoked from network); 29 May 2003 08:08:16 -0000
Received: from unknown (HELO mail.ampiro.com) (80.252.165.66)
  by daedalus.apache.org with SMTP; 29 May 2003 08:08:16 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail.ampiro.com (Postfix) with ESMTP id B82AA5D41
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 10:42:27 +0200 (CEST)
Message-ID: <3ED5BEEB.4060108@getopt.org>
Date: Thu, 29 May 2003 10:03:55 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RE : Parsers
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah>
In-Reply-To: <200305290901.09873@bah>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Victor Hadianto wrote:
>>The www.textmining.org text extractors work very well for Word and pdf
>>documents.
>>They use both PDFBox and POI.
>>
>>For Excel, using POI directly is very easy. Tell me if you want to see
>>code samples.
>>
>>I'm looking myself for a Powerpoint text extractor, if you know one...
> 
> 
> Another solution is to use Microsoft Office itself. You can setup a server 
> that serve request to convert Microsoft Office doc. There are many ways of 
> doing this, for example using Python to directly call Office then put your 
> python script in a webserver.
> 
> Or you can set a .Net conversion server and you can call this .Net service 
> using a Web Service, and many other interesting technique.

I'm using successfully a combination of Office automation via Jawin 
(free Java/COM bridge) to convert PPT files. You need to learn a bit 
about the pseudo-object model of PowerPoint to properly convert various 
objects, but this information can be found at msdn.microsoft.com.

Obviously I'd love to learn about an alternative, because then I could 
free my clients from dependance on Office... I already use POI to 
convert XLS and DOC files, and it works _very_ well.


-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4640-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 08:27:45 2003
Return-Path: <lucene-user-return-4640-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 31703 invoked from network); 29 May 2003 08:27:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 08:27:42 -0000
Received: (qmail 5774 invoked by uid 97); 29 May 2003 08:30:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5767 invoked from network); 29 May 2003 08:30:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 08:30:05 -0000
Received: (qmail 31276 invoked by uid 500); 29 May 2003 08:27:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31164 invoked from network); 29 May 2003 08:27:29 -0000
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by daedalus.apache.org with SMTP; 29 May 2003 08:27:29 -0000
Received: from host86.syd.nuix.com.au (host86.syd.nuix.com.au [192.168.222.86])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id D67FDB734F
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 18:27:31 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: Victor Hadianto <victorh@nuix.com.au>
Organization: NUIX Pty. Ltd.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: RE : Parsers
Date: Thu, 29 May 2003 18:16:13 +1000
User-Agent: KMail/1.4.3
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah> <3ED5BEEB.4060108@getopt.org>
In-Reply-To: <3ED5BEEB.4060108@getopt.org>
Massage-Id: <13921192.1322@nuix.com.au>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305291816.13432@bah>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I'm using successfully a combination of Office automation via Jawin
> (free Java/COM bridge) to convert PPT files. You need to learn a bit
> about the pseudo-object model of PowerPoint to properly convert various
> objects, but this information can be found at msdn.microsoft.com.

Hmm this is really a nice idea, I've never heard of Jawin until now. 

wes



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4641-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 08:37:00 2003
Return-Path: <lucene-user-return-4641-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42045 invoked from network); 29 May 2003 08:36:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 08:36:59 -0000
Received: (qmail 5878 invoked by uid 97); 29 May 2003 08:39:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5871 invoked from network); 29 May 2003 08:39:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 08:39:22 -0000
Received: (qmail 39524 invoked by uid 500); 29 May 2003 08:36:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39485 invoked from network); 29 May 2003 08:36:16 -0000
Received: from rack3.sundayta.com (HELO pluto.sundayta.net) (213.239.45.132)
  by daedalus.apache.org with SMTP; 29 May 2003 08:36:16 -0000
Received: from [217.206.34.202] (helo=sundayta.com)
	by pluto.sundayta.net with esmtp (Exim 3.35 #1 (Debian))
	id 19LIsq-0004OJ-00
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 09:35:36 +0100
Message-ID: <3ED5C6A1.8070205@sundayta.com>
Date: Thu, 29 May 2003 09:36:49 +0100
From: David Warnock <david@sundayta.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RE : Parsers
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah> <3ED5BEEB.4060108@getopt.org>
In-Reply-To: <3ED5BEEB.4060108@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Andrzej,

Another solution for all MS Office formats is to use openoffice.org the 
latest betas have a powerful Java SDK. So for example you could script a 
central copy to open MS Docs and save as html for parsing in lucene. Or 
you could save in Openoffice.org formats (which are zipped xml) and 
throw those at lucene.

Dave
>> Another solution is to use Microsoft Office itself. You can setup a 
>> server that serve request to convert Microsoft Office doc. There are 
>> many ways of doing this, for example using Python to directly call 
>> Office then put your python script in a webserver.


-- 
David Warnock, Sundayta Ltd. http://www.sundayta.com
iDocSys for Document Management. VisibleResults for Fundraising.
Development and Hosting of Web Applications and Sites.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4642-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 08:49:27 2003
Return-Path: <lucene-user-return-4642-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49973 invoked from network); 29 May 2003 08:49:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 08:49:26 -0000
Received: (qmail 5971 invoked by uid 97); 29 May 2003 08:51:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 5963 invoked from network); 29 May 2003 08:51:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 08:51:50 -0000
Received: (qmail 49707 invoked by uid 500); 29 May 2003 08:49:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49696 invoked from network); 29 May 2003 08:49:23 -0000
Received: from unknown (HELO mail.ampiro.com) (80.252.165.66)
  by daedalus.apache.org with SMTP; 29 May 2003 08:49:23 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail.ampiro.com (Postfix) with ESMTP id DBF625D48
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 11:23:35 +0200 (CEST)
Message-ID: <3ED5C88C.6070503@getopt.org>
Date: Thu, 29 May 2003 10:45:00 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RE : Parsers
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah> <3ED5BEEB.4060108@getopt.org> <200305291816.13432@bah>
In-Reply-To: <200305291816.13432@bah>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Victor Hadianto wrote:
>>I'm using successfully a combination of Office automation via Jawin
>>(free Java/COM bridge) to convert PPT files. You need to learn a bit
>>about the pseudo-object model of PowerPoint to properly convert various
>>objects, but this information can be found at msdn.microsoft.com.
> 
> 
> Hmm this is really a nice idea, I've never heard of Jawin until now. 
> 
>

I highly recommend it - it works pretty well, it's stable, mature, and 
most of all free :-) Sure, it has a well-known range of problems, e.g. 
with calls to functions that require structs, but as it happens most of 
the automation interfaces don't use them. I've been using it for 
Java-Windows integration on various occasions, solving such "taboo" 
problems like reading/creating Windows shortcuts, file conversion, 
reading Outlook mail etc.

It works also with DLL's, although this is a bit more involved... It 
uses an extensible marshaller/de-marshaller, so if you know COM pretty 
well you can extend it to handle any conceivable parameter types.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4643-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 08:56:00 2003
Return-Path: <lucene-user-return-4643-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53234 invoked from network); 29 May 2003 08:56:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 08:56:00 -0000
Received: (qmail 6067 invoked by uid 97); 29 May 2003 08:58:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6060 invoked from network); 29 May 2003 08:58:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 08:58:23 -0000
Received: (qmail 52979 invoked by uid 500); 29 May 2003 08:55:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52957 invoked from network); 29 May 2003 08:55:56 -0000
Received: from unknown (HELO mail.ampiro.com) (80.252.165.66)
  by daedalus.apache.org with SMTP; 29 May 2003 08:55:56 -0000
Received: from getopt.org (75-mo3-2.acn.waw.pl [62.121.105.75])
	by mail.ampiro.com (Postfix) with ESMTP id 926CA5D48
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 11:30:09 +0200 (CEST)
Message-ID: <3ED5CA15.4040706@getopt.org>
Date: Thu, 29 May 2003 10:51:33 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RE : Parsers
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah> <3ED5BEEB.4060108@getopt.org> <3ED5C6A1.8070205@sundayta.com>
In-Reply-To: <3ED5C6A1.8070205@sundayta.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

David Warnock wrote:
> Andrzej,
> 
> Another solution for all MS Office formats is to use openoffice.org the 
> latest betas have a powerful Java SDK. So for example you could script a 
> central copy to open MS Docs and save as html for parsing in lucene. Or 
> you could save in Openoffice.org formats (which are zipped xml) and 
> throw those at lucene.
> 
> Dave
> 
>>> Another solution is to use Microsoft Office itself. You can setup a 
>>> server that serve request to convert Microsoft Office doc. There are 
>>> many ways of doing this, for example using Python to directly call 
>>> Office then put your python script in a webserver.
> 
> 
> 

Yes, I checked this solution in the past, but (unless something changed 
drastically) OpenOffice converters and Java integration are coupled 
tightly with the whole suite, so basically you have to install the whole 
suite (50MB?) just to be able to use the converters. In my case (a 
desktop utility) that would be an overkill... However, for server-based 
converters this could make a lot of sense - but then I believe you can 
work directly with the internal OO object model instead of xml files.

And I agree that their Java SDK has almost everything you may want, even 
a nice document bean that allows you to work with a document editor in 
JComponent.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4644-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 09:23:39 2003
Return-Path: <lucene-user-return-4644-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82121 invoked from network); 29 May 2003 09:23:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 09:23:38 -0000
Received: (qmail 6890 invoked by uid 97); 29 May 2003 09:26:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 6883 invoked from network); 29 May 2003 09:26:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 09:26:02 -0000
Received: (qmail 81856 invoked by uid 500); 29 May 2003 09:23:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81835 invoked from network); 29 May 2003 09:23:35 -0000
Received: from c125.h203149201.is.net.tw (HELO mail.intumit.com) (203.149.201.125)
  by daedalus.apache.org with SMTP; 29 May 2003 09:23:35 -0000
Received: (from root@localhost)
	by mail.intumit.com (8.11.2/8.11.2) id h4T9NEO13492
	for lucene-user@jakarta.apache.org; Thu, 29 May 2003 17:23:14 +0800
Received: from intumit.com ([192.168.10.86])
	(authenticated)
	by mail.intumit.com (8.11.2/8.11.2) with ESMTP id h4T9NDL13486
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 17:23:13 +0800
Date: Sun, 11 May 2003 17:30:18 +0800
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: cost of opening IndexSearcher
From: Herman Chen <hchen@intumit.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <2DF67680-8393-11D7-8DBD-000A95771902@intumit.com>
X-Mailer: Apple Mail (2.552)
X-Virus-Scanned: by AMaViS 0.3.12pre6
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Is the cost of opening an IndexSearcher proportional to anything, e.g. 
physical index size, number of segments?  Thanks.

--
Herman


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4645-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 09:52:38 2003
Return-Path: <lucene-user-return-4645-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5462 invoked from network); 29 May 2003 09:52:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 09:52:38 -0000
Received: (qmail 7307 invoked by uid 97); 29 May 2003 09:55:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7300 invoked from network); 29 May 2003 09:55:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 09:55:02 -0000
Received: (qmail 5205 invoked by uid 500); 29 May 2003 09:52:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5162 invoked from network); 29 May 2003 09:52:34 -0000
Received: from mx1.mail.ru (194.67.23.21)
  by daedalus.apache.org with SMTP; 29 May 2003 09:52:34 -0000
Received: from [195.222.189.152] (port=2070 helo=VL.msk.evp)
	by mx1.mail.ru with esmtp 
	id 19LK5X-0000UU-00
	for lucene-user@jakarta.apache.org; Thu, 29 May 2003 13:52:47 +0400
Date: Thu, 29 May 2003 13:52:47 +0400
From: Vladimir Loukine <vloukine@mail.ru>
X-Mailer: The Bat! (v1.62q) Personal
Reply-To: Vladimir Loukine <vloukine@mail.ru>
X-Priority: 3 (Normal)
Message-ID: <888018570.20030529135247@mail.ru>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: cost of opening IndexSearcher
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam: Not detected
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Herman,

While opening IndexReader, Lucene reads all .tii files of the index and
all files that contains field norms (.f1, .f2 etc.) So cost of opening is proportional to the sum
of sizes of those files.

> Hello,

> Is the cost of opening an IndexSearcher proportional to anything, e.g. 
> physical index size, number of segments?  Thanks.

> --
> Herman

-- 
Vladimir                            mailto:vloukine@mail.ru


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4646-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 11:02:03 2003
Return-Path: <lucene-user-return-4646-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73148 invoked from network); 29 May 2003 11:02:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 11:02:02 -0000
Received: (qmail 8499 invoked by uid 97); 29 May 2003 11:04:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8492 invoked from network); 29 May 2003 11:04:12 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 11:04:12 -0000
Received: (qmail 72849 invoked by uid 500); 29 May 2003 11:01:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72838 invoked from network); 29 May 2003 11:01:59 -0000
Received: from rack3.sundayta.com (HELO pluto.sundayta.net) (213.239.45.132)
  by daedalus.apache.org with SMTP; 29 May 2003 11:01:59 -0000
Received: from [217.206.34.202] (helo=sundayta.com)
	by pluto.sundayta.net with esmtp (Exim 3.35 #1 (Debian))
	id 19LL9g-0005Qt-00
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 12:01:08 +0100
Message-ID: <3ED5E8BD.2040607@sundayta.com>
Date: Thu, 29 May 2003 12:02:21 +0100
From: David Warnock <david@sundayta.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RE : Parsers
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah> <3ED5BEEB.4060108@getopt.org> <3ED5C6A1.8070205@sundayta.com> <3ED5CA15.4040706@getopt.org>
In-Reply-To: <3ED5CA15.4040706@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Andrzej,

> Yes, I checked this solution in the past, but (unless something changed 
> drastically) OpenOffice converters and Java integration are coupled 
> tightly with the whole suite, so basically you have to install the whole 
> suite (50MB?) just to be able to use the converters. In my case (a 
> desktop utility) that would be an overkill... However, for server-based 
> converters this could make a lot of sense - but then I believe you can 
> work directly with the internal OO object model instead of xml files.

Sorry, I am so deeply into server mode these days I don't remember about 
desktop uses.

Dave
-- 
David Warnock, Sundayta Ltd. http://www.sundayta.com
iDocSys for Document Management. VisibleResults for Fundraising.
Development and Hosting of Web Applications and Sites.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4647-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 14:14:33 2003
Return-Path: <lucene-user-return-4647-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96556 invoked from network); 29 May 2003 14:14:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 14:14:31 -0000
Received: (qmail 13800 invoked by uid 97); 29 May 2003 14:16:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13793 invoked from network); 29 May 2003 14:16:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 14:16:43 -0000
Received: (qmail 93693 invoked by uid 500); 29 May 2003 14:13:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93630 invoked from network); 29 May 2003 14:13:56 -0000
Received: from cmailm3.svr.pol.co.uk (195.92.193.19)
  by daedalus.apache.org with SMTP; 29 May 2003 14:13:56 -0000
Received: from modem-3346.lemur.dialup.pol.co.uk ([217.135.141.18] helo=joseph)
	by cmailm3.svr.pol.co.uk with smtp (Exim 4.14)
	id 19LOAG-0004kN-Vq
	for lucene-user@jakarta.apache.org; Thu, 29 May 2003 15:13:57 +0100
Message-ID: <114f01c325ec$81287e10$0200a8c0@joseph>
From: "Pete Lewis" <pete@uptima.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000c01c32511$260f3b30$6001a8c0@labate> <200305290901.09873@bah> <3ED5BEEB.4060108@getopt.org> <200305291816.13432@bah> <3ED5C88C.6070503@getopt.org>
Subject: Re: RE : Parsers
Date: Thu, 29 May 2003 15:13:40 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi guys

Thanks, Jawin looks really nice :) 

Pete
----- Original Message ----- 
From: "Andrzej Bialecki" <ab@getopt.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 29, 2003 9:45 AM
Subject: Re: RE : Parsers


> Victor Hadianto wrote:
> >>I'm using successfully a combination of Office automation via Jawin
> >>(free Java/COM bridge) to convert PPT files. You need to learn a bit
> >>about the pseudo-object model of PowerPoint to properly convert various
> >>objects, but this information can be found at msdn.microsoft.com.
> > 
> > 
> > Hmm this is really a nice idea, I've never heard of Jawin until now. 
> > 
> >
> 
> I highly recommend it - it works pretty well, it's stable, mature, and 
> most of all free :-) Sure, it has a well-known range of problems, e.g. 
> with calls to functions that require structs, but as it happens most of 
> the automation interfaces don't use them. I've been using it for 
> Java-Windows integration on various occasions, solving such "taboo" 
> problems like reading/creating Windows shortcuts, file conversion, 
> reading Outlook mail etc.
> 
> It works also with DLL's, although this is a bit more involved... It 
> uses an extensible marshaller/de-marshaller, so if you know COM pretty 
> well you can extend it to handle any conceivable parameter types.
> 
> -- 
> Best regards,
> Andrzej Bialecki
> 
> -------------------------------------------------
> Software Architect, System Integration Specialist
> CEN/ISSS EC Workshop, ECIMF project chair
> EU FP6 E-Commerce Expert/Evaluator
> -------------------------------------------------
> FreeBSD developer (http://www.freebsd.org)
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4648-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 19:44:49 2003
Return-Path: <lucene-user-return-4648-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11129 invoked from network); 29 May 2003 19:44:48 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 19:44:48 -0000
Received: (qmail 24055 invoked by uid 97); 29 May 2003 19:47:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24048 invoked from network); 29 May 2003 19:47:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 19:47:04 -0000
Received: (qmail 9300 invoked by uid 500); 29 May 2003 19:44:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9237 invoked from network); 29 May 2003 19:44:24 -0000
Received: from mhro1.mayo.edu (129.176.212.21)
  by daedalus.apache.org with SMTP; 29 May 2003 19:44:24 -0000
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.100.48]) by mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org; Thu, 29 May 2003 14:44:21 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <LGQQ0YGC>; Thu, 29 May 2003 14:44:20 -0500
Message-Id: <818623B5FD23D51193200002B32C076106FE4CDC@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Document scoring
Date: Thu, 29 May 2003 14:44:13 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've noticed an oddity in scoring....

If I do my search like this:

searcher.search(query, filter, new HitCollector()
{
	public void collect(int doc, float score)
	{
		tempHits.add(new LuceneHits(doc, score));
	}
});


I get different scores for the resulting documents than I do if I do my search like this:

hits = searcher.search(query, filter);

Both methods return the same number of hits.  I can live with them returning different scores, I'm just curious as to why it happens.

Furthermore, the first method returns several scores that are greater than 1.0.  Isn't this supposed to be impossible?  The FAQ states that scores range from 0 to 1.

Thanks, 

Dan






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4649-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 20:31:14 2003
Return-Path: <lucene-user-return-4649-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85312 invoked from network); 29 May 2003 20:31:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 20:31:14 -0000
Received: (qmail 25134 invoked by uid 97); 29 May 2003 20:33:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25127 invoked from network); 29 May 2003 20:33:30 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 20:33:30 -0000
Received: (qmail 85041 invoked by uid 500); 29 May 2003 20:31:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85026 invoked from network); 29 May 2003 20:31:10 -0000
Received: from unknown (HELO ottmail02.zivex.net) (216.208.243.182)
  by daedalus.apache.org with SMTP; 29 May 2003 20:31:10 -0000
Received: from z0002msx1.ZivexOTT.local ([10.1.3.14]) by ottmail02.zivex.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 29 May 2003 16:31:09 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Find Documents 'Similar' to Another
Date: Thu, 29 May 2003 16:31:08 -0400
Message-ID: <48859464BF3EA547BD7FB010C9DD3A00016412A5@z0002msx1.zivexott.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Find Documents 'Similar' to Another
Thread-Index: AcMmIXZ9ZQ37hT/kTdOyA5XNATeDSQ==
From: "Wirthlin, Rick - Workstream" <Rick.Wirthlin@WorkStreamInc.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 29 May 2003 20:31:09.0478 (UTC) FILETIME=[3CF21460:01C32621]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi folks,

I have a requirement to find documents similar to another.  Can that be =
accomplished using a PhraseQuery, or some other way?

Thanks,
Rick

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4650-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 20:40:52 2003
Return-Path: <lucene-user-return-4650-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96268 invoked from network); 29 May 2003 20:40:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 20:40:52 -0000
Received: (qmail 25609 invoked by uid 97); 29 May 2003 20:43:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25602 invoked from network); 29 May 2003 20:43:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 20:43:08 -0000
Received: (qmail 95967 invoked by uid 500); 29 May 2003 20:40:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95953 invoked from network); 29 May 2003 20:40:47 -0000
Received: from s149v112.servlets.net (209.221.149.112)
  by daedalus.apache.org with SMTP; 29 May 2003 20:40:47 -0000
Received: from jivesoftware.com (Omega1@CPE00045ade8fc4-CM008037bbf5fd.cpe.net.cable.rogers.com [24.153.2.131])
	(authenticated)
	by s149v112.servlets.net (8.11.6/8.11.6) with ESMTP id h4TKepE05370
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 13:40:51 -0700
Message-ID: <3ED67053.5020606@jivesoftware.com>
Date: Thu, 29 May 2003 16:40:51 -0400
From: Bruce Ritchie <bruce@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Find Documents 'Similar' to Another
References: <48859464BF3EA547BD7FB010C9DD3A00016412A5@z0002msx1.zivexott.local>
In-Reply-To: <48859464BF3EA547BD7FB010C9DD3A00016412A5@z0002msx1.zivexott.local>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms010308010303000906000905"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------ms010308010303000906000905
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Wirthlin, Rick - Workstream wrote:

> I have a requirement to find documents similar to another.  Can that be accomplished using a PhraseQuery, or some other way?

One option I'm looking at to get this functionality is the InfoWrangler product 
(www.infowrangler.com) as it does this and seems to be at least partially based upon lucene. If 
other people know of other (available) options I'd love to hear of them as well.


Regards,

Bruce Ritchie

--------------ms010308010303000906000905
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJWDCC
AwowggJzoAMCAQICAwht7zANBgkqhkiG9w0BAQQFADCBkjELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUx
HTAbBgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVl
bWFpbCBSU0EgMjAwMC44LjMwMB4XDTAyMTAwNzIwNTMyOFoXDTAzMTAwNzIwNTMyOFowSDEf
MB0GA1UEAxMWVGhhd3RlIEZyZWVtYWlsIE1lbWJlcjElMCMGCSqGSIb3DQEJARYWYnJ1Y2VA
aml2ZXNvZnR3YXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN1qo82c
agU3foe/NdBpl0qE2gtfjKV21zQM6NjXgfi4saTNwMvPJCpoU4KXCQZC+sPOll23eo0dtugN
q/70apl32G7TwckV24aL0MYbWZhr8s75k6OTfGS57w8J2T60Zi7BDEEUv8vjUG/eRYV8pSK1
3Acix+FPhN8sW+NFF0Hfe9z7brpJ/7BTsiHcEXwdqlR/XjPgcNpCbQ/QQJkf3Zmx3XYBfn7T
3fyhSm4uhPNkz941HTblz6+VBB/ICubucm+Pz5gSpHYGBm+J8jnimVMQEX1LL/wInN7vwutu
sIMLoQ8C1YAQMUCnITEA38kg5ZHBwD0I/odURGXdKCjAdlECAwEAAaMzMDEwIQYDVR0RBBow
GIEWYnJ1Y2VAaml2ZXNvZnR3YXJlLmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBBAUA
A4GBAA+U/df/1mU5jG7Ksuc2wX+V/oUt6telqLGQNn/BdKJlsUTDFHvs2QUeaeWwmbNsbXiC
JSowxA4lrUZaLdj8NZcjhdZhFqJpU/ksyem45qRYYHVMnWpoII7dSUmLQWntM70497rSUUD2
CSwJ4JfceLLDO0PKOzlCR+gmbYFTJzrdMIIDCjCCAnOgAwIBAgIDCG3vMA0GCSqGSIb3DQEB
BAUAMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlD
YXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2Vydmlj
ZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzAwHhcNMDIxMDA3
MjA1MzI4WhcNMDMxMDA3MjA1MzI4WjBIMR8wHQYDVQQDExZUaGF3dGUgRnJlZW1haWwgTWVt
YmVyMSUwIwYJKoZIhvcNAQkBFhZicnVjZUBqaXZlc29mdHdhcmUuY29tMIIBIjANBgkqhkiG
9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3WqjzZxqBTd+h7810GmXSoTaC1+MpXbXNAzo2NeB+Lix
pM3Ay88kKmhTgpcJBkL6w86WXbd6jR226A2r/vRqmXfYbtPByRXbhovQxhtZmGvyzvmTo5N8
ZLnvDwnZPrRmLsEMQRS/y+NQb95FhXylIrXcByLH4U+E3yxb40UXQd973Ptuukn/sFOyIdwR
fB2qVH9eM+Bw2kJtD9BAmR/dmbHddgF+ftPd/KFKbi6E82TP3jUdNuXPr5UEH8gK5u5yb4/P
mBKkdgYGb4nyOeKZUxARfUsv/Aic3u/C626wgwuhDwLVgBAxQKchMQDfySDlkcHAPQj+h1RE
Zd0oKMB2UQIDAQABozMwMTAhBgNVHREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAD5T91//WZTmMbsqy5zbBf5X+hS3q16Wo
sZA2f8F0omWxRMMUe+zZBR5p5bCZs2xteIIlKjDEDiWtRlot2Pw1lyOF1mEWomlT+SzJ6bjm
pFhgdUydamggjt1JSYtBae0zvTj3utJRQPYJLAngl9x4ssM7Q8o7OUJH6CZtgVMnOt0wggM4
MIICoaADAgECAhBmRXK3zHT1z2N2RYTQLpEBMA0GCSqGSIb3DQEBBAUAMIHRMQswCQYDVQQG
EwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNV
BAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNlcnZpY2Vz
IERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgQ0ExKzApBgkq
hkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5jb20wHhcNMDAwODMwMDAwMDAw
WhcNMDQwODI3MjM1OTU5WjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDeMzKmY8cJJUU+0m54J2eBxdqIGYKX
DuNEKYpjNSptcDz63K737nRvMLwzkH/5NHGgo22Y8cNPomXbDfpL8dbdYaX5hc1VmjUanZJ1
qCeu2HL5ugL217CR3hzpq+AYA6h8Q0JQUYeDPPA5tJtUihOH/7ObnUlmAC0JieyUa+mhaQID
AQABo04wTDApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMS0yOTcwEgYD
VR0TAQH/BAgwBgEB/wIBADALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQEEBQADgYEAMbFLR135
AXHl9VNsXXnWPZjAJhNigSKnEvgilegbSbcnewQ5uvzm8iTrkfq97A0qOPdQVahs9w2tTBu8
A/S166JHn2yiDFiNMUIJEWywGmnRKxKyQF1q+XnQ6i4l3Yrk/NsNH50C81rbyjz2ROomaYd/
SJ7OpZ/nhNjJYmKtBcYxggPVMIID0QIBATCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgT
DFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAb
BgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFp
bCBSU0EgMjAwMC44LjMwAgMIbe8wCQYFKw4DAhoFAKCCAg8wGAYJKoZIhvcNAQkDMQsGCSqG
SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDMwNTI5MjA0MDUxWjAjBgkqhkiG9w0BCQQxFgQU
Kxs2IUIVpWW8fhqQ9YmWvzgEzygwUgYJKoZIhvcNAQkPMUUwQzAKBggqhkiG9w0DBzAOBggq
hkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwDQYIKoZIhvcNAwICASgwgasG
CSsGAQQBgjcQBDGBnTCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwAgMIbe8wga0GCyqGSIb3DQEJEAILMYGdoIGaMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UE
CBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEd
MBsGA1UECxMUQ2VydGlmaWNhdGUgU2VydmljZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVt
YWlsIFJTQSAyMDAwLjguMzACAwht7zANBgkqhkiG9w0BAQEFAASCAQBZtHBydLqdtXG38hZC
7QbjRdYX/Xz59Dq+E8tigKauzXWbcffAFmF+sB1gqfa9IwtKGtAmvY25Hag3WrwXD5bgBQZc
OWizrrj7tVy5DhAdpo4T4LTJx4/24vQOIkDgY2M/8EG754sSOBKt2SQQtfmHth4M9DleWmxB
ik+9qcMBzXVgvXbNz6HTH1VVrotIK88WLaWI0YEa9xy04WwQX+GJej6OHXn2xHUbTyYpCuvA
w+fTazMHqJI5w7nRFg6j3A51lNwF2ekHCu7Vjiv7QoNQeix1TtMKvLzCFpTl+9+Ty1RBMZm+
K5bKM+hitWk2FlIzQ50B4DVLOYqEhe+dvwGPAAAAAAAA
--------------ms010308010303000906000905--


From lucene-user-return-4651-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 20:48:50 2003
Return-Path: <lucene-user-return-4651-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2904 invoked from network); 29 May 2003 20:48:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 20:48:50 -0000
Received: (qmail 25848 invoked by uid 97); 29 May 2003 20:51:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25841 invoked from network); 29 May 2003 20:51:06 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 20:51:06 -0000
Received: (qmail 2610 invoked by uid 500); 29 May 2003 20:48:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2597 invoked from network); 29 May 2003 20:48:46 -0000
Received: from adsl-64-167-251-235.dsl.snfc21.pacbell.net (HELO mail.biz360.com) (64.167.251.235)
  by daedalus.apache.org with SMTP; 29 May 2003 20:48:46 -0000
Received: (qmail 27348 invoked from network); 29 May 2003 20:48:52 -0000
Received: from unknown (HELO exch-svr1.ICEBOXER.local) (10.215.0.3)
  by 10.215.0.190 with SMTP; 29 May 2003 20:48:52 -0000
Received: by exch-svr1.iceboxer.local with Internet Mail Service (5.5.2653.19)
	id <LMF21V3Y>; Thu, 29 May 2003 13:48:52 -0700
Message-ID: <EBDD06C70E5B514ABFEB18E14F94C45706F75F@exch-svr1.iceboxer.local>
From: John Cwikla <Cwikla@Biz360.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Find Documents 'Similar' to Another
Date: Thu, 29 May 2003 13:48:48 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Depends what "similar" means.

If by similar, you mean they contain alot of the same words/phrases, then
you can probably use
a query (although the number you can have is limited to 32 or 64 I think)
and get documents
using lucene.

If by similar you are trying to determine if the text in some documents is
byte/byte the same
except for some small deviations, you are probably interested in using a
nilsima signature.

If you have some words/phrases that give you are starting point of documents
to check for similiarity,
you could use Lucene first, and then nilsima second.

If you are talking about conceptual similarity, you probably have a big
research project on your
hands. 

-----Original Message-----
From: Bruce Ritchie [mailto:bruce@jivesoftware.com]
Sent: Thursday, May 29, 2003 1:41 PM
To: Lucene Users List
Subject: Re: Find Documents 'Similar' to Another


Wirthlin, Rick - Workstream wrote:

> I have a requirement to find documents similar to another.  Can that be
accomplished using a PhraseQuery, or some other way?

One option I'm looking at to get this functionality is the InfoWrangler
product 
(www.infowrangler.com) as it does this and seems to be at least partially
based upon lucene. If 
other people know of other (available) options I'd love to hear of them as
well.


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4652-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 20:51:28 2003
Return-Path: <lucene-user-return-4652-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8314 invoked from network); 29 May 2003 20:51:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 20:51:27 -0000
Received: (qmail 25930 invoked by uid 97); 29 May 2003 20:53:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25923 invoked from network); 29 May 2003 20:53:43 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 20:53:43 -0000
Received: (qmail 8064 invoked by uid 500); 29 May 2003 20:51:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8053 invoked from network); 29 May 2003 20:51:24 -0000
Received: from adsl-64-167-251-235.dsl.snfc21.pacbell.net (HELO mail.biz360.com) (64.167.251.235)
  by daedalus.apache.org with SMTP; 29 May 2003 20:51:24 -0000
Received: (qmail 27381 invoked from network); 29 May 2003 20:51:30 -0000
Received: from unknown (HELO exch-svr1.ICEBOXER.local) (10.215.0.3)
  by 10.215.0.190 with SMTP; 29 May 2003 20:51:30 -0000
Received: by exch-svr1.iceboxer.local with Internet Mail Service (5.5.2653.19)
	id <LMF21V39>; Thu, 29 May 2003 13:51:30 -0700
Message-ID: <EBDD06C70E5B514ABFEB18E14F94C45706F760@exch-svr1.iceboxer.local>
From: John Cwikla <Cwikla@Biz360.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Find Documents 'Similar' to Another
Date: Thu, 29 May 2003 13:51:26 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Oh, one more option would be to use ngrams and support vector machines,
which
may be more in touch with what you want, if by similar you mean conceptually
"in the same category" using training sets, etc...


-----Original Message-----
From: John Cwikla [mailto:Cwikla@Biz360.com]
Sent: Thursday, May 29, 2003 1:49 PM
To: 'Lucene Users List'
Subject: RE: Find Documents 'Similar' to Another



Depends what "similar" means.

If by similar, you mean they contain alot of the same words/phrases, then
you can probably use
a query (although the number you can have is limited to 32 or 64 I think)
and get documents
using lucene.

If by similar you are trying to determine if the text in some documents is
byte/byte the same
except for some small deviations, you are probably interested in using a
nilsima signature.

If you have some words/phrases that give you are starting point of documents
to check for similiarity,
you could use Lucene first, and then nilsima second.

If you are talking about conceptual similarity, you probably have a big
research project on your
hands. 

-----Original Message-----
From: Bruce Ritchie [mailto:bruce@jivesoftware.com]
Sent: Thursday, May 29, 2003 1:41 PM
To: Lucene Users List
Subject: Re: Find Documents 'Similar' to Another


Wirthlin, Rick - Workstream wrote:

> I have a requirement to find documents similar to another.  Can that be
accomplished using a PhraseQuery, or some other way?

One option I'm looking at to get this functionality is the InfoWrangler
product 
(www.infowrangler.com) as it does this and seems to be at least partially
based upon lucene. If 
other people know of other (available) options I'd love to hear of them as
well.


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4653-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 21:15:48 2003
Return-Path: <lucene-user-return-4653-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 62419 invoked from network); 29 May 2003 21:15:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 21:15:47 -0000
Received: (qmail 26988 invoked by uid 97); 29 May 2003 21:18:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26981 invoked from network); 29 May 2003 21:18:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 21:18:04 -0000
Received: (qmail 61219 invoked by uid 500); 29 May 2003 21:15:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61195 invoked from network); 29 May 2003 21:15:31 -0000
Received: from h004.c011.snv.cp.net (HELO c011.snv.cp.net) (209.228.34.217)
  by daedalus.apache.org with SMTP; 29 May 2003 21:15:31 -0000
Received: (cpmta 10516 invoked from network); 29 May 2003 14:15:37 -0700
Received: from 66.171.37.231 (HELO medined01)
  by smtp.mtolive.com (209.228.34.217) with SMTP; 29 May 2003 14:15:37 -0700
X-Sent: 29 May 2003 21:15:37 GMT
Message-ID: <010801c32627$71292dd0$6822a8c0@medined01>
From: "David Medinets" <medined@mtolive.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <48859464BF3EA547BD7FB010C9DD3A00016412A5@z0002msx1.zivexott.local> <3ED67053.5020606@jivesoftware.com>
Subject: Re: Find Documents 'Similar' to Another
Date: Thu, 29 May 2003 17:15:33 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

----- Original Message -----
From: "Bruce Ritchie" <bruce@jivesoftware.com>
> > I have a requirement to find documents similar to another.  Can that be
accomplished using a PhraseQuery, or some other way?
>
> One option I'm looking at to get this functionality is the InfoWrangler
product
> (www.infowrangler.com)

I see the following on their website...

Q. What does it cost to integrate InfoWrangler with my application?
A. If you are a developer and want to give users of your application the
benefit of InfoWrangler then you can download the SDK for free and
integrate it with your application at no cost. There is no license fee to
you the developer to integrate with InfoWrangler.

Q. Who pays for InfoWrangler?
A. InfoWrangler is paid for by the end user. This allows developers the
opportunity to try our technology in their own products, before distributing
them to clients.

But I don't understand. Do you have any insight into the product pricing?

David Medinets
http://www.codebits.com




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4654-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 21:35:04 2003
Return-Path: <lucene-user-return-4654-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97861 invoked from network); 29 May 2003 21:35:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 21:35:03 -0000
Received: (qmail 27407 invoked by uid 97); 29 May 2003 21:37:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 27400 invoked from network); 29 May 2003 21:37:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 21:37:20 -0000
Received: (qmail 97570 invoked by uid 500); 29 May 2003 21:34:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97520 invoked from network); 29 May 2003 21:34:57 -0000
Received: from s149v112.servlets.net (209.221.149.112)
  by daedalus.apache.org with SMTP; 29 May 2003 21:34:57 -0000
Received: from jivesoftware.com (Omega1@CPE00045ade8fc4-CM008037bbf5fd.cpe.net.cable.rogers.com [24.153.2.131])
	(authenticated)
	by s149v112.servlets.net (8.11.6/8.11.6) with ESMTP id h4TLZ2E07187
	for <lucene-user@jakarta.apache.org>; Thu, 29 May 2003 14:35:02 -0700
Message-ID: <3ED67D09.7050903@jivesoftware.com>
Date: Thu, 29 May 2003 17:35:05 -0400
From: Bruce Ritchie <bruce@jivesoftware.com>
Organization: Jive Software
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Find Documents 'Similar' to Another
References: <48859464BF3EA547BD7FB010C9DD3A00016412A5@z0002msx1.zivexott.local> <3ED67053.5020606@jivesoftware.com> <010801c32627$71292dd0$6822a8c0@medined01>
In-Reply-To: <010801c32627$71292dd0$6822a8c0@medined01>
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms040800040007020403080909"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------------ms040800040007020403080909
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

David Medinets wrote:

> But I don't understand. Do you have any insight into the product pricing?

No, but I'm sure to find out as I get further along in my testing. I would suggest contacting them 
directly for an answer to that question.


Regards,

Bruce Ritchie

--------------ms040800040007020403080909
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJWDCC
AwowggJzoAMCAQICAwht7zANBgkqhkiG9w0BAQQFADCBkjELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUx
HTAbBgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVl
bWFpbCBSU0EgMjAwMC44LjMwMB4XDTAyMTAwNzIwNTMyOFoXDTAzMTAwNzIwNTMyOFowSDEf
MB0GA1UEAxMWVGhhd3RlIEZyZWVtYWlsIE1lbWJlcjElMCMGCSqGSIb3DQEJARYWYnJ1Y2VA
aml2ZXNvZnR3YXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN1qo82c
agU3foe/NdBpl0qE2gtfjKV21zQM6NjXgfi4saTNwMvPJCpoU4KXCQZC+sPOll23eo0dtugN
q/70apl32G7TwckV24aL0MYbWZhr8s75k6OTfGS57w8J2T60Zi7BDEEUv8vjUG/eRYV8pSK1
3Acix+FPhN8sW+NFF0Hfe9z7brpJ/7BTsiHcEXwdqlR/XjPgcNpCbQ/QQJkf3Zmx3XYBfn7T
3fyhSm4uhPNkz941HTblz6+VBB/ICubucm+Pz5gSpHYGBm+J8jnimVMQEX1LL/wInN7vwutu
sIMLoQ8C1YAQMUCnITEA38kg5ZHBwD0I/odURGXdKCjAdlECAwEAAaMzMDEwIQYDVR0RBBow
GIEWYnJ1Y2VAaml2ZXNvZnR3YXJlLmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBBAUA
A4GBAA+U/df/1mU5jG7Ksuc2wX+V/oUt6telqLGQNn/BdKJlsUTDFHvs2QUeaeWwmbNsbXiC
JSowxA4lrUZaLdj8NZcjhdZhFqJpU/ksyem45qRYYHVMnWpoII7dSUmLQWntM70497rSUUD2
CSwJ4JfceLLDO0PKOzlCR+gmbYFTJzrdMIIDCjCCAnOgAwIBAgIDCG3vMA0GCSqGSIb3DQEB
BAUAMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlD
YXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUQ2VydGlmaWNhdGUgU2Vydmlj
ZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVtYWlsIFJTQSAyMDAwLjguMzAwHhcNMDIxMDA3
MjA1MzI4WhcNMDMxMDA3MjA1MzI4WjBIMR8wHQYDVQQDExZUaGF3dGUgRnJlZW1haWwgTWVt
YmVyMSUwIwYJKoZIhvcNAQkBFhZicnVjZUBqaXZlc29mdHdhcmUuY29tMIIBIjANBgkqhkiG
9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3WqjzZxqBTd+h7810GmXSoTaC1+MpXbXNAzo2NeB+Lix
pM3Ay88kKmhTgpcJBkL6w86WXbd6jR226A2r/vRqmXfYbtPByRXbhovQxhtZmGvyzvmTo5N8
ZLnvDwnZPrRmLsEMQRS/y+NQb95FhXylIrXcByLH4U+E3yxb40UXQd973Ptuukn/sFOyIdwR
fB2qVH9eM+Bw2kJtD9BAmR/dmbHddgF+ftPd/KFKbi6E82TP3jUdNuXPr5UEH8gK5u5yb4/P
mBKkdgYGb4nyOeKZUxARfUsv/Aic3u/C626wgwuhDwLVgBAxQKchMQDfySDlkcHAPQj+h1RE
Zd0oKMB2UQIDAQABozMwMTAhBgNVHREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAD5T91//WZTmMbsqy5zbBf5X+hS3q16Wo
sZA2f8F0omWxRMMUe+zZBR5p5bCZs2xteIIlKjDEDiWtRlot2Pw1lyOF1mEWomlT+SzJ6bjm
pFhgdUydamggjt1JSYtBae0zvTj3utJRQPYJLAngl9x4ssM7Q8o7OUJH6CZtgVMnOt0wggM4
MIICoaADAgECAhBmRXK3zHT1z2N2RYTQLpEBMA0GCSqGSIb3DQEBBAUAMIHRMQswCQYDVQQG
EwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNV
BAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNlcnZpY2Vz
IERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29uYWwgRnJlZW1haWwgQ0ExKzApBgkq
hkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5jb20wHhcNMDAwODMwMDAwMDAw
WhcNMDQwODI3MjM1OTU5WjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDeMzKmY8cJJUU+0m54J2eBxdqIGYKX
DuNEKYpjNSptcDz63K737nRvMLwzkH/5NHGgo22Y8cNPomXbDfpL8dbdYaX5hc1VmjUanZJ1
qCeu2HL5ugL217CR3hzpq+AYA6h8Q0JQUYeDPPA5tJtUihOH/7ObnUlmAC0JieyUa+mhaQID
AQABo04wTDApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMS0yOTcwEgYD
VR0TAQH/BAgwBgEB/wIBADALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQEEBQADgYEAMbFLR135
AXHl9VNsXXnWPZjAJhNigSKnEvgilegbSbcnewQ5uvzm8iTrkfq97A0qOPdQVahs9w2tTBu8
A/S166JHn2yiDFiNMUIJEWywGmnRKxKyQF1q+XnQ6i4l3Yrk/NsNH50C81rbyjz2ROomaYd/
SJ7OpZ/nhNjJYmKtBcYxggPVMIID0QIBATCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgT
DFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAb
BgNVBAsTFENlcnRpZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFp
bCBSU0EgMjAwMC44LjMwAgMIbe8wCQYFKw4DAhoFAKCCAg8wGAYJKoZIhvcNAQkDMQsGCSqG
SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDMwNTI5MjEzNTA1WjAjBgkqhkiG9w0BCQQxFgQU
f5y5kOHJ0Q8fRMKx5x286Hja/NYwUgYJKoZIhvcNAQkPMUUwQzAKBggqhkiG9w0DBzAOBggq
hkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwDQYIKoZIhvcNAwICASgwgasG
CSsGAQQBgjcQBDGBnTCBmjCBkjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2Fw
ZTESMBAGA1UEBxMJQ2FwZSBUb3duMQ8wDQYDVQQKEwZUaGF3dGUxHTAbBgNVBAsTFENlcnRp
ZmljYXRlIFNlcnZpY2VzMSgwJgYDVQQDEx9QZXJzb25hbCBGcmVlbWFpbCBSU0EgMjAwMC44
LjMwAgMIbe8wga0GCyqGSIb3DQEJEAILMYGdoIGaMIGSMQswCQYDVQQGEwJaQTEVMBMGA1UE
CBMMV2VzdGVybiBDYXBlMRIwEAYDVQQHEwlDYXBlIFRvd24xDzANBgNVBAoTBlRoYXd0ZTEd
MBsGA1UECxMUQ2VydGlmaWNhdGUgU2VydmljZXMxKDAmBgNVBAMTH1BlcnNvbmFsIEZyZWVt
YWlsIFJTQSAyMDAwLjguMzACAwht7zANBgkqhkiG9w0BAQEFAASCAQAu0kM9REnsgEKqA6Yv
ZEn3y9wUiXVylXx0IaxcrK5nrYQIL/61sR9OxbX6JSuKZ2pMcSZ7lOqkp2cWkvVROhq4pAJ7
Sx8/v+O+TeBYH1FOBzHpReAiyIZ551Rm7oo/F9hEpxUOJ8g+qBvpXhR1e4A5Xkb1FOW6ZwDC
intimaS0C4tNT3Szygxhqof4dOAoFQMnw0PhUsybpr8FhmwoQt+LcgLO3T0qYkNW10wZOSWO
n+RPI5LgUXRpT3RU/YKH+2HGQXh4zMWLTc9dZnQE+/neUlS9aZOHIbMVJkTEf+8fNQOFo4SW
kmiBGcSQoXGl0jIH4C65lD6riFbuP/joLwRWAAAAAAAA
--------------ms040800040007020403080909--


From lucene-user-return-4655-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Thu May 29 23:00:43 2003
Return-Path: <lucene-user-return-4655-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38670 invoked from network); 29 May 2003 23:00:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 May 2003 23:00:43 -0000
Received: (qmail 29499 invoked by uid 97); 29 May 2003 23:03:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 29492 invoked from network); 29 May 2003 23:02:59 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 29 May 2003 23:02:59 -0000
Received: (qmail 37096 invoked by uid 500); 29 May 2003 23:00:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37007 invoked from network); 29 May 2003 23:00:22 -0000
Received: from unknown (HELO extern1.cit.de) (62.153.167.234)
  by daedalus.apache.org with SMTP; 29 May 2003 23:00:22 -0000
Subject: Ralf Zimmermann/CIT/DE ist =?iso-8859-1?Q?au=DFer_Haus=2E?=
From: Ralf.Zimmermann@cit.de
To: lucene-user@jakarta.apache.org
Message-ID: <OFE6C2B36A.75FA9D05-ONC1256D35.007E6212-C1256D35.007E621B@cit.de>
Date: Fri, 30 May 2003 01:00:26 +0200
X-MIMETrack: Serialize by Router on CITEXTERN01/CITEXTERN/DE(Release 5.0.11  |July 24, 2002) at
 05/30/2003 01:28:35 AM
MIME-Version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ich werde ab  29.05.2003 nicht im B=FCro sein. Ich kehre zur=FCck am
11.06.2003.

Ich werde Ihre Nachricht nach meiner R=FCckkehr beantworten.
=



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4656-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 00:51:09 2003
Return-Path: <lucene-user-return-4656-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89851 invoked from network); 30 May 2003 00:51:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 00:51:07 -0000
Received: (qmail 1281 invoked by uid 97); 30 May 2003 00:53:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 1274 invoked from network); 30 May 2003 00:53:26 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 00:53:26 -0000
Received: (qmail 89562 invoked by uid 500); 30 May 2003 00:51:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89551 invoked from network); 30 May 2003 00:51:04 -0000
Received: from mzpi3.forethought.net (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 30 May 2003 00:51:04 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19LY6y-0004pd-Ll
	for lucene-user@jakarta.apache.org; Thu, 29 May 2003 18:51:12 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Wildcard workaround
Date: Thu, 29 May 2003 18:57:57 -0600
User-Agent: KMail/1.4.3
References: <336674949053D511BF4D00A0C9B3D3649EAF0D@SONIA> <01e101c3250e$5ece8af0$6822a8c0@medined01>
In-Reply-To: <01e101c3250e$5ece8af0$6822a8c0@medined01>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305291857.57430.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Wednesday 28 May 2003 05:43, David Medinets wrote:
> ----- Original Message -----
> From: "Andrei Melis" <Andrei.Melis@snt.ro>
>
> > As far as I have understood, lucene does not allow search queries
> > starting with wildcards. I have a file database indexed by content
> > and also by filename. It would be nice if the user could perform a
> > usual search like "*.ext".
>
> Does anyone know if Oracle patented the technique that they use for *ext
> searching in the Oracle Text product. If not, I'm sure the technique can be
> borrowed.
>
> On the other hand, the slow technique of comparing each term to *.ext can
> certainly be implemented with a minimum of effort, I think.

[apologies if somebody else already pointed this out... I missed some mails to 
the list from yesterday]

One of the most interesting solutions somebody posted earlier, was to use
2 indexes; one for 'normal' searches, with normal analyzer etc, and second
one that uses reversed words; ie. analyzer reverses words tokenized by
standard analyzer. This second index would then allow for searches
to do prefix match, in this case query would be something like

reverse_field:txe.*

This would work efficiently, although pretty much double the size of index for 
content that has to be prefix-searchable. Still, this solution somehow 
appeals to my hacker side. :-)

In this specific case, though, what others have suggested (add file prefix as 
separate field to search on), is probably more practical.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4657-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 05:24:43 2003
Return-Path: <lucene-user-return-4657-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35883 invoked from network); 30 May 2003 05:24:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 05:24:43 -0000
Received: (qmail 4566 invoked by uid 97); 30 May 2003 05:27:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 4559 invoked from network); 30 May 2003 05:27:04 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 05:27:04 -0000
Received: (qmail 35634 invoked by uid 500); 30 May 2003 05:24:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35622 invoked from network); 30 May 2003 05:24:39 -0000
Received: from unknown (HELO svntjt1-47.watercorporation.com.au) (159.52.65.47)
  by daedalus.apache.org with SMTP; 30 May 2003 05:24:39 -0000
Received: by svntjt1-47.watercorporation.com.au with Internet Mail Service (5.5.2653.19)
	id <L61YNPFP>; Fri, 30 May 2003 13:09:43 +0800
Message-ID: <1DB01C48A0A9D311995A00508B62B9F00F9752FD@svntjt1-03.watercorporation.com.au>
From: Leslie Hughes <Leslie.Hughes@watercorporation.com.au>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Lowercasing wildcards - why?
Date: Fri, 30 May 2003 13:09:32 +0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I was just wondering what the rationale is behind lowercasing wildcard
queries produced by QueryParser? It's just that my data is all upper case
and my analyser doesn't lowercase so it seems a bit odd that I have to call
setLowercaseWildcardTerms(false). Couldn't queryparser leave the terms
unnormalised or better still pass them through the analyser?

I'm sure there's a good reason for it though.....


Les



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4658-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 08:18:46 2003
Return-Path: <lucene-user-return-4658-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87854 invoked from network); 30 May 2003 08:18:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 08:18:45 -0000
Received: (qmail 7511 invoked by uid 97); 30 May 2003 08:21:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 7504 invoked from network); 30 May 2003 08:21:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 08:21:08 -0000
Received: (qmail 87567 invoked by uid 500); 30 May 2003 08:18:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87553 invoked from network); 30 May 2003 08:18:41 -0000
Received: from bastille.unicaen.fr (195.221.176.43)
  by daedalus.apache.org with SMTP; 30 May 2003 08:18:41 -0000
Received: from evalingui.unicaen.fr (evalingui.unicaen.fr [193.55.121.63])
	by bastille.unicaen.fr (Switch-3.1.0/Switch-3.1.0) with ESMTP id h4U8IsNf007272
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 10:18:54 +0200
Received: from rantanplan.info.unicaen.fr (localhost.localdomain [127.0.0.1])
	by evalingui.unicaen.fr (Switch-3.1.0/Switch-3.0.0) with SMTP id h4U8ImM0023924
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 10:18:48 +0200
Received: (qmail 16002 invoked by uid 1001); 30 May 2003 08:18:49 -0000
Message-ID: <20030530081849.16001.qmail@rantanplan.info.unicaen.fr>
From: "mjoets" <mjoets@etu.info.unicaen.fr>
To: lucene-user@jakarta.apache.org
Subject: hit researchs inside texts 
Date: Fri, 30 May 2003 10:18:49 +0200
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Here is my problem:
I'm currently working on a free search engine on books;
The point is that the files are very big: a book takes about 300ko 

So when you make a query on a word it doesnt takes sense to have only the 
name of the document, but it would be more useful to get a short context: 
sentence, paragraph, 10 words before & 10 after... 

Do you know if one has an example of program that show the position of the 
words found in a text? I mean, a better solution than having to parse the 
text again. 

text:
it is raining. The cat is slepping. 

query: cat 

answer: cat, 5th word OR
   cat, 2d word of the 2d phrase AND a fonction that returns "the cat is 
raining" when we ask for the 2d phrase. 

If those functions are not main in Lucene they could be quite useful for 
research in large texts. 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4659-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 09:13:28 2003
Return-Path: <lucene-user-return-4659-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39430 invoked from network); 30 May 2003 09:13:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 09:13:28 -0000
Received: (qmail 8901 invoked by uid 97); 30 May 2003 09:15:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 8894 invoked from network); 30 May 2003 09:15:52 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 09:15:52 -0000
Received: (qmail 39145 invoked by uid 500); 30 May 2003 09:13:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39133 invoked from network); 30 May 2003 09:13:25 -0000
Received: from mail2.portalis.it (HELO portalis.it) (213.199.4.24)
  by daedalus.apache.org with SMTP; 30 May 2003 09:13:25 -0000
Received: from standardhn540z ([62.123.44.77]) by portalis.it  with Microsoft SMTPSVC(5.5.1877.197.19);
	 Fri, 30 May 2003 11:20:04 +0200
Message-ID: <004501c3268b$fbc9c580$6401a8c0@standardhn540z>
From: "Dario Dentale" <dario.dentale@portalis.it>
To: <lucene-user@jakarta.apache.org>
Subject: Search for similar terms
Date: Fri, 30 May 2003 11:15:15 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
anybody knows which is the best way to implements in Lucene a fuctionality
(that Google has) like this:

Search text-> notebok

Answer-> Did you mean: notebook ?

Thanks,
Dario


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4660-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 10:44:10 2003
Return-Path: <lucene-user-return-4660-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39698 invoked from network); 30 May 2003 10:44:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 10:44:10 -0000
Received: (qmail 10300 invoked by uid 97); 30 May 2003 10:46:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 10293 invoked from network); 30 May 2003 10:46:20 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 10:46:20 -0000
Received: (qmail 39388 invoked by uid 500); 30 May 2003 10:44:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39377 invoked from network); 30 May 2003 10:44:06 -0000
Received: from mta.micromuse.com (194.131.185.92)
  by daedalus.apache.org with SMTP; 30 May 2003 10:44:06 -0000
Received: from micromuse.com ([192.168.139.153])
	(authenticated (0 bits))
	by mta.micromuse.com (Switch-2.2.6/Switch-2.2.6) with ESMTP id h4UAi4d12117
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 11:44:04 +0100
Message-ID: <3ED735E8.7070209@micromuse.com>
Date: Fri, 30 May 2003 11:43:52 +0100
From: David Spencer <David.Spencer@micromuse.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Find Documents 'Similar' to Another
References: <EBDD06C70E5B514ABFEB18E14F94C45706F75F@exch-svr1.iceboxer.local>
In-Reply-To: <EBDD06C70E5B514ABFEB18E14F94C45706F75F@exch-svr1.iceboxer.local>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

John Cwikla wrote:

>Depends what "similar" means.
>
>If by similar, you mean they contain alot of the same words/phrases, then
>you can probably use
>a query (although the number you can have is limited to 32 or 64 I think)
>and get documents
>using lucene.
>

I have a demo site that does this.
I thought I posted a mention of this a week ago in a different thread 
but it seems that
my mailer ate the outgoing msg so I don't think this is a dup....

Anyway, the site is:

http://www.hostmon.com/rfc/index.jsp

I index all RFCs w/ Lucene.

When you're viewing an RFC at a URL like this:

http://www.hostmon.com/rfc/get.jsp?id=1823&s=LDAP%20Security

if you click on 'show similar' then you go to a URL like this:

http://www.hostmon.com/rfc/related.jsp?id=1823&s=LDAP%20Security

the implementation takes the source RFC, forms a query with all words in 
it, and then
passes this large query to lucene. The display lists docs that are 
'similar' to the
source doc, and the little blue bar graph is bigger for more similar docs.

The nature of what's going on is that the more 2 documents have words in 
common, and the
more they have rare words in common, the more similar they are.

Similarity is not by concept, and even alternate spellings throw off 
this simple technique.

Site warning: linux JVM just crashed so I upgraded to 1.4.2b which is 
hopefully more stable.


>If by similar you are trying to determine if the text in some documents is
>byte/byte the same
>except for some small deviations, you are probably interested in using a
>nilsima signature.
>
>If you have some words/phrases that give you are starting point of documents
>to check for similiarity,
>you could use Lucene first, and then nilsima second.
>
>If you are talking about conceptual similarity, you probably have a big
>research project on your
>hands. 
>
>-----Original Message-----
>From: Bruce Ritchie [mailto:bruce@jivesoftware.com]
>Sent: Thursday, May 29, 2003 1:41 PM
>To: Lucene Users List
>Subject: Re: Find Documents 'Similar' to Another
>
>
>Wirthlin, Rick - Workstream wrote:
>
>  
>
>>I have a requirement to find documents similar to another.  Can that be
>>    
>>
>accomplished using a PhraseQuery, or some other way?
>
>One option I'm looking at to get this functionality is the InfoWrangler
>product 
>(www.infowrangler.com) as it does this and seems to be at least partially
>based upon lucene. If 
>other people know of other (available) options I'd love to hear of them as
>well.
>
>
>Regards,
>
>Bruce Ritchie
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4661-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 13:44:30 2003
Return-Path: <lucene-user-return-4661-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45496 invoked from network); 30 May 2003 13:44:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 13:44:30 -0000
Received: (qmail 15592 invoked by uid 97); 30 May 2003 13:46:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15585 invoked from network); 30 May 2003 13:46:41 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 13:46:41 -0000
Received: (qmail 45223 invoked by uid 500); 30 May 2003 13:44:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45212 invoked from network); 30 May 2003 13:44:26 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 30 May 2003 13:44:26 -0000
Subject: Re: Lowercasing wildcards - why?
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF793C5C5F.C018DADC-ON85256D36.004B65AD@vwr.com>
From: David_Birthwell@VWR.COM
Date: Fri, 30 May 2003 09:48:42 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/30/2003 09:48:38 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi Les,

We ended up modifying the QueryParser to pass prefix and suffix queries
through the Analyzer.  For us, it was about stemming.  If you decide to use
an analyzer that incorporated stemming, there are cases where wildcard
queries will not return the expected results.

Example:  "searcher" will probably get stemmed to "search".  A search on
"searche*" should hit the term "searcher", but, it won't, all instances of
"searcher" having been stemmed to "search" at index time.  Our solution was
to remove the trailing wildcard and send "searche" to the analyzer, then
tack the wildcard character back on there and create the PrefixQuery object
with the new search string "search*".

DaveB




                                                                                                                 
                      Leslie Hughes                                                                              
                      <Leslie.Hughes@watercorporat        To:       "'lucene-user@jakarta.apache.org'"           
                      ion.com.au>                          <lucene-user@jakarta.apache.org>                      
                                                          cc:                                                    
                      05/30/03 01:09 AM                   Subject:  Lowercasing wildcards - why?                 
                      Please respond to "Lucene                                                                  
                      Users List"                                                                                
                                                                                                                 
                                                                                                                 




Hi,

I was just wondering what the rationale is behind lowercasing wildcard
queries produced by QueryParser? It's just that my data is all upper case
and my analyser doesn't lowercase so it seems a bit odd that I have to call
setLowercaseWildcardTerms(false). Couldn't queryparser leave the terms
unnormalised or better still pass them through the analyser?

I'm sure there's a good reason for it though.....


Les



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4662-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 13:46:58 2003
Return-Path: <lucene-user-return-4662-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52830 invoked from network); 30 May 2003 13:46:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 13:46:58 -0000
Received: (qmail 15698 invoked by uid 97); 30 May 2003 13:49:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 15691 invoked from network); 30 May 2003 13:49:10 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 13:49:10 -0000
Received: (qmail 52600 invoked by uid 500); 30 May 2003 13:46:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52587 invoked from network); 30 May 2003 13:46:55 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 30 May 2003 13:46:55 -0000
Subject: Re: Search for similar terms
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OFCEB1DFCD.19EAB220-ON85256D36.004C0522@vwr.com>
From: David_Birthwell@VWR.COM
Date: Fri, 30 May 2003 09:51:11 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/30/2003 09:51:07 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Perform the lucene search.  If you get no or few hits, send the query term
to a spell checker, like ispell.  Echo the alternative spelling(s) to the
user.

DaveB




                                                                                                      
                      "Dario Dentale"                                                                 
                      <dario.dentale@po        To:       <lucene-user@jakarta.apache.org>             
                      rtalis.it>               cc:                                                    
                                               Subject:  Search for similar terms                     
                      05/30/03 05:15 AM                                                               
                      Please respond to                                                               
                      "Lucene Users                                                                   
                      List"                                                                           
                                                                                                      
                                                                                                      




Hi,
anybody knows which is the best way to implements in Lucene a fuctionality
(that Google has) like this:

Search text-> notebok

Answer-> Did you mean: notebook ?

Thanks,
Dario


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4663-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 14:26:50 2003
Return-Path: <lucene-user-return-4663-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37557 invoked from network); 30 May 2003 14:26:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 14:26:50 -0000
Received: (qmail 16890 invoked by uid 97); 30 May 2003 14:29:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16883 invoked from network); 30 May 2003 14:29:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 14:29:02 -0000
Received: (qmail 27333 invoked by uid 500); 30 May 2003 14:24:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27290 invoked from network); 30 May 2003 14:24:21 -0000
Received: from smtp-out4.iol.cz (194.228.2.92)
  by daedalus.apache.org with SMTP; 30 May 2003 14:24:21 -0000
Received: from fw.shark (gprs7-31.eurotel.cz [160.218.192.31])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id A0C70304BF
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 16:24:21 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h4UEP1Ed028979
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 16:25:04 +0200
Message-ID: <3ED769CC.6040600@seznam.cz>
Date: Fri, 30 May 2003 16:25:16 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search for similar terms
References: <004501c3268b$fbc9c580$6401a8c0@standardhn540z>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You need DASG+Lev over the dictionary. The boundary could be the highest 
idf of the terms. It was solved by prof. Melichar, you can find the 
construction of the automaton in his papers.

-g-

Dario Dentale wrote:

>Hi,
>anybody knows which is the best way to implements in Lucene a fuctionality
>(that Google has) like this:
>
>Search text-> notebok
>
>Answer-> Did you mean: notebook ?
>
>Thanks,
>Dario
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4664-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 14:27:10 2003
Return-Path: <lucene-user-return-4664-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38599 invoked from network); 30 May 2003 14:27:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 14:27:09 -0000
Received: (qmail 16912 invoked by uid 97); 30 May 2003 14:29:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16905 invoked from network); 30 May 2003 14:29:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 14:29:19 -0000
Received: (qmail 31454 invoked by uid 500); 30 May 2003 14:25:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31391 invoked from network); 30 May 2003 14:25:16 -0000
Received: from smtp-out4.iol.cz (194.228.2.92)
  by daedalus.apache.org with SMTP; 30 May 2003 14:25:16 -0000
Received: from fw.shark (gprs7-31.eurotel.cz [160.218.192.31])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id 00F7C30662
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 16:25:15 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h4UEPvEd028983
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 16:25:58 +0200
Message-ID: <3ED76A04.5080500@seznam.cz>
Date: Fri, 30 May 2003 16:26:12 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lowercasing wildcards - why?
References: <OF793C5C5F.C018DADC-ON85256D36.004B65AD@vwr.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm sorry, I did not read the complete thread. Do you mean - analyzer == 
stemmer? Does it really work? If I was a stemmer, I would let "searche" 
intact. ;-)

-g-

David_Birthwell@VWR.COM wrote:

>Hi Les,
>
>We ended up modifying the QueryParser to pass prefix and suffix queries
>through the Analyzer.  For us, it was about stemming.  If you decide to use
>an analyzer that incorporated stemming, there are cases where wildcard
>queries will not return the expected results.
>
>Example:  "searcher" will probably get stemmed to "search".  A search on
>"searche*" should hit the term "searcher", but, it won't, all instances of
>"searcher" having been stemmed to "search" at index time.  Our solution was
>to remove the trailing wildcard and send "searche" to the analyzer, then
>tack the wildcard character back on there and create the PrefixQuery object
>with the new search string "search*".
>
>DaveB
>
>
>
>
>                                                                                                                 
>                      Leslie Hughes                                                                              
>                      <Leslie.Hughes@watercorporat        To:       "'lucene-user@jakarta.apache.org'"           
>                      ion.com.au>                          <lucene-user@jakarta.apache.org>                      
>                                                          cc:                                                    
>                      05/30/03 01:09 AM                   Subject:  Lowercasing wildcards - why?                 
>                      Please respond to "Lucene                                                                  
>                      Users List"                                                                                
>                                                                                                                 
>                                                                                                                 
>
>
>
>
>Hi,
>
>I was just wondering what the rationale is behind lowercasing wildcard
>queries produced by QueryParser? It's just that my data is all upper case
>and my analyser doesn't lowercase so it seems a bit odd that I have to call
>setLowercaseWildcardTerms(false). Couldn't queryparser leave the terms
>unnormalised or better still pass them through the analyser?
>
>I'm sure there's a good reason for it though.....
>
>
>Les
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4665-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 15:20:41 2003
Return-Path: <lucene-user-return-4665-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48864 invoked from network); 30 May 2003 15:20:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 15:20:41 -0000
Received: (qmail 18703 invoked by uid 97); 30 May 2003 15:22:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18696 invoked from network); 30 May 2003 15:22:54 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 15:22:54 -0000
Received: (qmail 48593 invoked by uid 500); 30 May 2003 15:20:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48553 invoked from network); 30 May 2003 15:20:31 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 30 May 2003 15:20:31 -0000
Subject: Re: Lowercasing wildcards - why?
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OF1B77E5A3.4FA55299-ON85256D36.005456D7@vwr.com>
From: David_Birthwell@VWR.COM
Date: Fri, 30 May 2003 11:24:47 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/30/2003 11:24:44 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Your analyzers can optionally incorporate stemming, along with the other
things that analyzers do (lowercasing, etc...).  The stemming algorithms
are all different.  This "searcher" example was made up, but, there are
instances where stemming at index time and not stemming wildcard searches
will result in lost hits.  Specifically, we encountered this situation
using the optional Snoball analyzers (which work great, by the way).

DaveB




                                                                                                      
                      Leo Galambos                                                                    
                      <Leo.G@seznam.cz>        To:       Lucene Users List                            
                                                <lucene-user@jakarta.apache.org>                      
                      05/30/03 10:26 AM        cc:                                                    
                      Please respond to        Subject:  Re: Lowercasing wildcards - why?             
                      "Lucene Users                                                                   
                      List"                                                                           
                                                                                                      
                                                                                                      




I'm sorry, I did not read the complete thread. Do you mean - analyzer ==
stemmer? Does it really work? If I was a stemmer, I would let "searche"
intact. ;-)

-g-

David_Birthwell@VWR.COM wrote:

>Hi Les,
>
>We ended up modifying the QueryParser to pass prefix and suffix queries
>through the Analyzer.  For us, it was about stemming.  If you decide to
use
>an analyzer that incorporated stemming, there are cases where wildcard
>queries will not return the expected results.
>
>Example:  "searcher" will probably get stemmed to "search".  A search on
>"searche*" should hit the term "searcher", but, it won't, all instances of
>"searcher" having been stemmed to "search" at index time.  Our solution
was
>to remove the trailing wildcard and send "searche" to the analyzer, then
>tack the wildcard character back on there and create the PrefixQuery
object
>with the new search string "search*".
>
>DaveB
>
>
>
>
>

>                      Leslie Hughes

>                      <Leslie.Hughes@watercorporat        To:
"'lucene-user@jakarta.apache.org'"
>                      ion.com.au>
<lucene-user@jakarta.apache.org>
>                                                          cc:

>                      05/30/03 01:09 AM                   Subject:
Lowercasing wildcards - why?
>                      Please respond to "Lucene

>                      Users List"

>

>

>
>
>
>
>Hi,
>
>I was just wondering what the rationale is behind lowercasing wildcard
>queries produced by QueryParser? It's just that my data is all upper case
>and my analyser doesn't lowercase so it seems a bit odd that I have to
call
>setLowercaseWildcardTerms(false). Couldn't queryparser leave the terms
>unnormalised or better still pass them through the analyser?
>
>I'm sure there's a good reason for it though.....
>
>
>Les
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4666-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 15:54:46 2003
Return-Path: <lucene-user-return-4666-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27624 invoked from network); 30 May 2003 15:54:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 15:54:44 -0000
Received: (qmail 20183 invoked by uid 97); 30 May 2003 15:56:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20176 invoked from network); 30 May 2003 15:56:58 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 15:56:58 -0000
Received: (qmail 27361 invoked by uid 500); 30 May 2003 15:54:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27350 invoked from network); 30 May 2003 15:54:41 -0000
Received: from smtp-out4.iol.cz (194.228.2.92)
  by daedalus.apache.org with SMTP; 30 May 2003 15:54:41 -0000
Received: from fw.shark (gprs7-31.eurotel.cz [160.218.192.31])
	by smtp-out4.iol.cz (Internet on Line ESMTP server) with ESMTP id 6CEC6305B2
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 17:54:37 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h4UFtGEd029160
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 17:55:20 +0200
Message-ID: <3ED77EF3.2020504@seznam.cz>
Date: Fri, 30 May 2003 17:55:31 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lowercasing wildcards - why?
References: <OF1B77E5A3.4FA55299-ON85256D36.005456D7@vwr.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ah, I got it. THX. In the good old days, the wildcards were used as a 
fix for missing stemming module. I am not sure if you can combine these 
two opposite approaches successfully. I see the following drawbacks of 
your solution.

Example:
built* (->built) could be changed to build* (no built, but ->builder, 
building, etc.), and precision will go down drastically.

You probably use a stemmer with one important bug (a.k.a. feature) - 
overstemming, so here is another example:
political* (->political, politically) is transformed to polic* 
(->policer, policy, policies, policement etc.) by Porter alg., and the 
precision is again affected drastically

-g-

David_Birthwell@VWR.COM wrote:

>Your analyzers can optionally incorporate stemming, along with the other
>things that analyzers do (lowercasing, etc...).  The stemming algorithms
>are all different.  This "searcher" example was made up, but, there are
>instances where stemming at index time and not stemming wildcard searches
>will result in lost hits.  Specifically, we encountered this situation
>using the optional Snoball analyzers (which work great, by the way).
>
>DaveB
>
>
>
>
>                                                                                                      
>                      Leo Galambos                                                                    
>                      <Leo.G@seznam.cz>        To:       Lucene Users List                            
>                                                <lucene-user@jakarta.apache.org>                      
>                      05/30/03 10:26 AM        cc:                                                    
>                      Please respond to        Subject:  Re: Lowercasing wildcards - why?             
>                      "Lucene Users                                                                   
>                      List"                                                                           
>                                                                                                      
>                                                                                                      
>
>
>
>
>I'm sorry, I did not read the complete thread. Do you mean - analyzer ==
>stemmer? Does it really work? If I was a stemmer, I would let "searche"
>intact. ;-)
>
>-g-
>
>David_Birthwell@VWR.COM wrote:
>
>  
>
>>Hi Les,
>>
>>We ended up modifying the QueryParser to pass prefix and suffix queries
>>through the Analyzer.  For us, it was about stemming.  If you decide to
>>    
>>
>use
>  
>
>>an analyzer that incorporated stemming, there are cases where wildcard
>>queries will not return the expected results.
>>
>>Example:  "searcher" will probably get stemmed to "search".  A search on
>>"searche*" should hit the term "searcher", but, it won't, all instances of
>>"searcher" having been stemmed to "search" at index time.  Our solution
>>    
>>
>was
>  
>
>>to remove the trailing wildcard and send "searche" to the analyzer, then
>>tack the wildcard character back on there and create the PrefixQuery
>>    
>>
>object
>  
>
>>with the new search string "search*".
>>
>>DaveB
>>
>>
>>
>>
>>
>>    
>>
>
>  
>
>>                     Leslie Hughes
>>    
>>
>
>  
>
>>                     <Leslie.Hughes@watercorporat        To:
>>    
>>
>"'lucene-user@jakarta.apache.org'"
>  
>
>>                     ion.com.au>
>>    
>>
><lucene-user@jakarta.apache.org>
>  
>
>>                                                         cc:
>>    
>>
>
>  
>
>>                     05/30/03 01:09 AM                   Subject:
>>    
>>
>Lowercasing wildcards - why?
>  
>
>>                     Please respond to "Lucene
>>    
>>
>
>  
>
>>                     Users List"
>>    
>>
>
>  
>
>
>  
>
>
>  
>
>>
>>
>>Hi,
>>
>>I was just wondering what the rationale is behind lowercasing wildcard
>>queries produced by QueryParser? It's just that my data is all upper case
>>and my analyser doesn't lowercase so it seems a bit odd that I have to
>>    
>>
>call
>  
>
>>setLowercaseWildcardTerms(false). Couldn't queryparser leave the terms
>>unnormalised or better still pass them through the analyser?
>>
>>I'm sure there's a good reason for it though.....
>>
>>
>>Les
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>    
>>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4667-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 16:02:15 2003
Return-Path: <lucene-user-return-4667-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38657 invoked from network); 30 May 2003 16:02:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 16:02:15 -0000
Received: (qmail 20320 invoked by uid 97); 30 May 2003 16:04:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 20313 invoked from network); 30 May 2003 16:04:28 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 16:04:28 -0000
Received: (qmail 38414 invoked by uid 500); 30 May 2003 16:02:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38403 invoked from network); 30 May 2003 16:02:11 -0000
Received: from pc76int1.vwrsp.com (HELO wcmail.vwr.com) (66.54.172.100)
  by daedalus.apache.org with SMTP; 30 May 2003 16:02:11 -0000
Subject: Re: Lowercasing wildcards - why?
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.8  June 18, 2001
Message-ID: <OFAEE53E41.D36EC2B2-ON85256D36.00583AC0@vwr.com>
From: David_Birthwell@VWR.COM
Date: Fri, 30 May 2003 12:06:23 -0400
X-MIMETrack: Serialize by Router on PAWCHMAIL01/VWRI(Release 5.0.11  |July 24, 2002) at
 05/30/2003 12:06:25 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


True enough.  We're supporting search of a product database, so, for us, it
made sense to increase coverage and accept the loss of precision.  Our
solution is definitely not globally applicable.

DaveB




                                                                                                           
                      Leo Galambos                                                                         
                      <Leo.G@seznam.cz>        To:       Lucene Users List                                 
                                                <lucene-user@jakarta.apache.org>                           
                      05/30/03 11:55 AM        cc:                                                         
                      Please respond to        Subject:  Re: Lowercasing wildcards - why?                  
                      "Lucene Users                                                                        
                      List"                                                                                
                                                                                                           
                                                                                                           




Ah, I got it. THX. In the good old days, the wildcards were used as a
fix for missing stemming module. I am not sure if you can combine these
two opposite approaches successfully. I see the following drawbacks of
your solution.

Example:
built* (->built) could be changed to build* (no built, but ->builder,
building, etc.), and precision will go down drastically.

You probably use a stemmer with one important bug (a.k.a. feature) -
overstemming, so here is another example:
political* (->political, politically) is transformed to polic*
(->policer, policy, policies, policement etc.) by Porter alg., and the
precision is again affected drastically

-g-

David_Birthwell@VWR.COM wrote:

>Your analyzers can optionally incorporate stemming, along with the other
>things that analyzers do (lowercasing, etc...).  The stemming algorithms
>are all different.  This "searcher" example was made up, but, there are
>instances where stemming at index time and not stemming wildcard searches
>will result in lost hits.  Specifically, we encountered this situation
>using the optional Snoball analyzers (which work great, by the way).
>
>DaveB
>
>
>
>
>

>                      Leo Galambos

>                      <Leo.G@seznam.cz>        To:       Lucene Users List

>
<lucene-user@jakarta.apache.org>
>                      05/30/03 10:26 AM        cc:

>                      Please respond to        Subject:  Re: Lowercasing
wildcards - why?
>                      "Lucene Users

>                      List"

>

>

>
>
>
>
>I'm sorry, I did not read the complete thread. Do you mean - analyzer ==
>stemmer? Does it really work? If I was a stemmer, I would let "searche"
>intact. ;-)
>
>-g-
>
>David_Birthwell@VWR.COM wrote:
>
>
>
>>Hi Les,
>>
>>We ended up modifying the QueryParser to pass prefix and suffix queries
>>through the Analyzer.  For us, it was about stemming.  If you decide to
>>
>>
>use
>
>
>>an analyzer that incorporated stemming, there are cases where wildcard
>>queries will not return the expected results.
>>
>>Example:  "searcher" will probably get stemmed to "search".  A search on
>>"searche*" should hit the term "searcher", but, it won't, all instances
of
>>"searcher" having been stemmed to "search" at index time.  Our solution
>>
>>
>was
>
>
>>to remove the trailing wildcard and send "searche" to the analyzer, then
>>tack the wildcard character back on there and create the PrefixQuery
>>
>>
>object
>
>
>>with the new search string "search*".
>>
>>DaveB
>>
>>
>>
>>
>>
>>
>>
>
>
>
>>                     Leslie Hughes
>>
>>
>
>
>
>>                     <Leslie.Hughes@watercorporat        To:
>>
>>
>"'lucene-user@jakarta.apache.org'"
>
>
>>                     ion.com.au>
>>
>>
><lucene-user@jakarta.apache.org>
>
>
>>                                                         cc:
>>
>>
>
>
>
>>                     05/30/03 01:09 AM                   Subject:
>>
>>
>Lowercasing wildcards - why?
>
>
>>                     Please respond to "Lucene
>>
>>
>
>
>
>>                     Users List"
>>
>>
>
>
>
>
>
>
>
>
>
>>
>>
>>Hi,
>>
>>I was just wondering what the rationale is behind lowercasing wildcard
>>queries produced by QueryParser? It's just that my data is all upper case
>>and my analyser doesn't lowercase so it seems a bit odd that I have to
>>
>>
>call
>
>
>>setLowercaseWildcardTerms(false). Couldn't queryparser leave the terms
>>unnormalised or better still pass them through the analyser?
>>
>>I'm sure there's a good reason for it though.....
>>
>>
>>Les
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>
>>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4668-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 17:03:47 2003
Return-Path: <lucene-user-return-4668-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74105 invoked from network); 30 May 2003 17:03:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 17:03:45 -0000
Received: (qmail 22031 invoked by uid 97); 30 May 2003 17:06:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22024 invoked from network); 30 May 2003 17:06:00 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 17:06:00 -0000
Received: (qmail 73854 invoked by uid 500); 30 May 2003 17:03:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73843 invoked from network); 30 May 2003 17:03:42 -0000
Received: from mail2.portalis.it (HELO portalis.it) (213.199.4.24)
  by daedalus.apache.org with SMTP; 30 May 2003 17:03:42 -0000
Received: from standardhn540z ([62.123.44.77]) by portalis.it  with Microsoft SMTPSVC(5.5.1877.197.19);
	 Fri, 30 May 2003 19:10:17 +0200
Message-ID: <003501c326cd$ac3bb090$6401a8c0@standardhn540z>
From: "Dario Dentale" <dario.dentale@portalis.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OFCEB1DFCD.19EAB220-ON85256D36.004C0522@vwr.com>
Subject: Re: Search for similar terms
Date: Fri, 30 May 2003 19:05:21 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks, for the answer.

I was searching for a solution not based on a dictionary, but on the list of
terms (with relative frequency) contained in the Lucene index.

In this way (I think) I can obtain more significant results,
I can use this method on multiple languages (without relative dictionary and
without know which laguage is used in the query string)
and especially on out-of-dictionary terms (i.e.: in a e-commerce site you
can find "Nikon coolpix" that are not in a dictionary).

I was searching for some algorithm that can calculate the similarity
coefficient between two terms and multiplying it
to the frequency in the indexed documents can obtain a score.

Do you think that this is a wrong way?

Regards,
Dario

----- Original Message ----- 
From: <David_Birthwell@VWR.COM>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 30, 2003 3:51 PM
Subject: Re: Search for similar terms


>
> Perform the lucene search.  If you get no or few hits, send the query term
> to a spell checker, like ispell.  Echo the alternative spelling(s) to the
> user.
>
> DaveB
>
>
>
>
>
>                       "Dario Dentale"
>                       <dario.dentale@po        To:
<lucene-user@jakarta.apache.org>
>                       rtalis.it>               cc:
>                                                Subject:  Search for
similar terms
>                       05/30/03 05:15 AM
>                       Please respond to
>                       "Lucene Users
>                       List"
>
>
>
>
>
>
> Hi,
> anybody knows which is the best way to implements in Lucene a fuctionality
> (that Google has) like this:
>
> Search text-> notebok
>
> Answer-> Did you mean: notebook ?
>
> Thanks,
> Dario
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4669-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 17:07:56 2003
Return-Path: <lucene-user-return-4669-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82415 invoked from network); 30 May 2003 17:07:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 17:07:54 -0000
Received: (qmail 22156 invoked by uid 97); 30 May 2003 17:10:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22149 invoked from network); 30 May 2003 17:10:08 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 17:10:08 -0000
Received: (qmail 79745 invoked by uid 500); 30 May 2003 17:07:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79695 invoked from network); 30 May 2003 17:07:19 -0000
Received: from mail2.portalis.it (HELO portalis.it) (213.199.4.24)
  by daedalus.apache.org with SMTP; 30 May 2003 17:07:19 -0000
Received: from standardhn540z ([62.123.44.77]) by portalis.it  with Microsoft SMTPSVC(5.5.1877.197.19);
	 Fri, 30 May 2003 19:13:58 +0200
Message-ID: <003e01c326ce$2fcd0670$6401a8c0@standardhn540z>
From: "Dario Dentale" <dario.dentale@portalis.it>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004501c3268b$fbc9c580$6401a8c0@standardhn540z> <3ED769CC.6040600@seznam.cz>
Subject: Re: Search for similar terms
Date: Fri, 30 May 2003 19:09:06 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
can you suffer me a link with an overview document of this method?
I couldn't find.

Thanks,
Dario


----- Original Message ----- 
From: "Leo Galambos" <Leo.G@seznam.cz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 30, 2003 4:25 PM
Subject: Re: Search for similar terms


> You need DASG+Lev over the dictionary. The boundary could be the highest
> idf of the terms. It was solved by prof. Melichar, you can find the
> construction of the automaton in his papers.
>
> -g-
>
> Dario Dentale wrote:
>
> >Hi,
> >anybody knows which is the best way to implements in Lucene a
fuctionality
> >(that Google has) like this:
> >
> >Search text-> notebok
> >
> >Answer-> Did you mean: notebook ?
> >
> >Thanks,
> >Dario
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4670-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 17:16:17 2003
Return-Path: <lucene-user-return-4670-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1932 invoked from network); 30 May 2003 17:16:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 17:16:16 -0000
Received: (qmail 22407 invoked by uid 97); 30 May 2003 17:18:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 22400 invoked from network); 30 May 2003 17:18:31 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 17:18:31 -0000
Received: (qmail 1685 invoked by uid 500); 30 May 2003 17:16:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1671 invoked from network); 30 May 2003 17:16:13 -0000
Received: from smtp-out3.iol.cz (194.228.2.91)
  by daedalus.apache.org with SMTP; 30 May 2003 17:16:13 -0000
Received: from fw.shark (gprs7-31.eurotel.cz [160.218.192.31])
	by smtp-out3.iol.cz (Internet on Line ESMP server) with ESMTP id 52C2335AC9
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 19:16:13 +0200 (CEST)
Received: from seznam.cz (0-3.shark [192.168.0.3])
	by fw.shark (8.12.8/8.12.5) with ESMTP id h4UHGhEd029364
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 19:16:44 +0200
Message-ID: <3ED79209.3070702@seznam.cz>
Date: Fri, 30 May 2003 19:16:57 +0200
From: Leo Galambos <Leo.G@seznam.cz>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20021003
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search for similar terms
References: <004501c3268b$fbc9c580$6401a8c0@standardhn540z> <3ED769CC.6040600@seznam.cz> <003e01c326ce$2fcd0670$6401a8c0@standardhn540z>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

http://cs.felk.cvut.cz/psc/members.html
http://cs.felk.cvut.cz/psc/event/1998/p13.html

or contact prof. Melichar for more details:
http://webis.felk.cvut.cz/people/melichar.html

-g-

Dario Dentale wrote:

>Hi,
>can you suffer me a link with an overview document of this method?
>I couldn't find.
>
>Thanks,
>Dario
>
>
>----- Original Message ----- 
>From: "Leo Galambos" <Leo.G@seznam.cz>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Friday, May 30, 2003 4:25 PM
>Subject: Re: Search for similar terms
>
>
>  
>
>>You need DASG+Lev over the dictionary. The boundary could be the highest
>>idf of the terms. It was solved by prof. Melichar, you can find the
>>construction of the automaton in his papers.
>>
>>-g-
>>
>>Dario Dentale wrote:
>>
>>    
>>
>>>Hi,
>>>anybody knows which is the best way to implements in Lucene a
>>>      
>>>
>fuctionality
>  
>
>>>(that Google has) like this:
>>>
>>>Search text-> notebok
>>>
>>>Answer-> Did you mean: notebook ?
>>>
>>>Thanks,
>>>Dario
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>
>>>
>>>      
>>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4671-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 19:06:52 2003
Return-Path: <lucene-user-return-4671-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27209 invoked from network); 30 May 2003 19:06:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 19:06:52 -0000
Received: (qmail 28274 invoked by uid 97); 30 May 2003 19:09:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 28266 invoked from network); 30 May 2003 19:09:07 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 19:09:07 -0000
Received: (qmail 25955 invoked by uid 500); 30 May 2003 19:06:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25390 invoked from network); 30 May 2003 19:06:32 -0000
Received: from mousepad.xtramind.dfki.de (134.96.191.5)
  by daedalus.apache.org with SMTP; 30 May 2003 19:06:32 -0000
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 334627CF0
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 21:06:36 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id BA3C87CEE
	for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 21:06:33 +0200 (MEST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Search for similar terms
Date: Fri, 30 May 2003 21:06:33 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC0159C9@lrrr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search for similar terms
Thread-Index: AcMmzXo9dbyc+1ebS86W6GRH0fyPjQACxaVw
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,

please have a look at the FuzzyTermEnum class in Lucene.
There is an impressive implementation of Levenshtein distance=20
there that you can use; simply set the fuzzy distance higher=20
than 0.5 (0.75 seems to work fine) and modify the=20
termCompare method such that the last term produced is always
the one which you consider the best, i.e., which has the smallest
edit distance but the highest idf.=20

You can greatly speed up the computation by making sure in your
termCompare method that you only compare terms by Levenshtein that
have at least a common prefix of a few characters, say 3 or 4.=20
Thus, it will repair "notebok" into "notebook", but not "nitebook"=20
into "notebook". Most spelling errors seem to appear at the end of=20
a word, so the restriction is not unreasonable.=20

I use a similar method for auto-expanding dubious terms on large=20
indexes (> 1Gig), and the performance is still quite good.

Regards,

Karsten





-----Urspr=FCngliche Nachricht-----
Von: Dario Dentale [mailto:dario.dentale@portalis.it]
Gesendet: Freitag, 30. Mai 2003 19:05
An: Lucene Users List
Betreff: Re: Search for similar terms


Thanks, for the answer.

I was searching for a solution not based on a dictionary, but on the =
list of
terms (with relative frequency) contained in the Lucene index.

In this way (I think) I can obtain more significant results,
I can use this method on multiple languages (without relative dictionary =
and
without know which laguage is used in the query string)
and especially on out-of-dictionary terms (i.e.: in a e-commerce site =
you
can find "Nikon coolpix" that are not in a dictionary).

I was searching for some algorithm that can calculate the similarity
coefficient between two terms and multiplying it
to the frequency in the indexed documents can obtain a score.

Do you think that this is a wrong way?

Regards,
Dario

----- Original Message -----=20
From: <David_Birthwell@VWR.COM>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, May 30, 2003 3:51 PM
Subject: Re: Search for similar terms


>
> Perform the lucene search.  If you get no or few hits, send the query =
term
> to a spell checker, like ispell.  Echo the alternative spelling(s) to =
the
> user.
>
> DaveB
>
>
>
>
>
>                       "Dario Dentale"
>                       <dario.dentale@po        To:
<lucene-user@jakarta.apache.org>
>                       rtalis.it>               cc:
>                                                Subject:  Search for
similar terms
>                       05/30/03 05:15 AM
>                       Please respond to
>                       "Lucene Users
>                       List"
>
>
>
>
>
>
> Hi,
> anybody knows which is the best way to implements in Lucene a =
fuctionality
> (that Google has) like this:
>
> Search text-> notebok
>
> Answer-> Did you mean: notebook ?
>
> Thanks,
> Dario
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4672-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Fri May 30 23:50:45 2003
Return-Path: <lucene-user-return-4672-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1410 invoked from network); 30 May 2003 23:50:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 May 2003 23:50:44 -0000
Received: (qmail 13284 invoked by uid 97); 30 May 2003 23:53:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 13277 invoked from network); 30 May 2003 23:53:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 30 May 2003 23:53:03 -0000
Received: (qmail 1160 invoked by uid 500); 30 May 2003 23:50:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1133 invoked from network); 30 May 2003 23:50:41 -0000
Received: from fulldegree.com (192.220.91.253)
  by daedalus.apache.org with SMTP; 30 May 2003 23:50:41 -0000
Received: from fddell8000 (adsl-64-169-189-2.dsl.snfc21.pacbell.net [64.169.189.2]) by fulldegree.com (8.12.9) id h4UNolWn068471 for <lucene-user@jakarta.apache.org>; Fri, 30 May 2003 17:50:48 -0600 (MDT)
From: "Lixin Meng" <lixin@fulldegree.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: search item with '-' in it
Date: Fri, 30 May 2003 16:45:16 -0700
Message-ID: <GCECJJGGHMPDKKNIJCNOOEOHCAAA.lixin@fulldegree.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3B48940F2D7712428BD31A041A367DDC0159C9@lrrr>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have a field, 'PartNumber', that has '-' in its value (e.g.
SG-XRRH-C1M0-A).

After indexing, I can perform certain queries. However, I feel confused to
explain the behavior.

- if searching for
	PartNumber:"SG"
  it will return multiple hits. I assume the anaylzer might take out '-'.

- if searching for
	PartNumber:"XRRH"
  it will return no hit. So, the above assumption doesn't hold itself. :)

- if searching for
	PartNumber:"SG-XRRH-C1M0-A"
  it will return one hit

- if searching for
      PartNumber:"sg-xrrh-c1m0-a*"
  it will return one hit. So far so good

- if searching for
      PartNumber:sg-xrrh-c1m0-a*
  it will return multiple hits which even include things like
"SG-XSWBRO...". Why?

- if searching for
      PartNumber:"sg-xrrh-c1m0*"
  no hit. Why?

Any comments?

Regards,
Lixin

P.S. I used following filters

    result = new StandardFilter(result);
    result = new LowerCaseFilter(result);
    result = new StopFilter(result, m_StopWordTable);
    result = new PorterStemFilter(result);


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4673-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 01:12:01 2003
Return-Path: <lucene-user-return-4673-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80785 invoked from network); 31 May 2003 01:12:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 01:12:00 -0000
Received: (qmail 14921 invoked by uid 97); 31 May 2003 01:14:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 14913 invoked from network); 31 May 2003 01:14:19 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 01:14:19 -0000
Received: (qmail 80498 invoked by uid 500); 31 May 2003 01:11:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80467 invoked from network); 31 May 2003 01:11:57 -0000
Received: from mzpi3.forethought.net (HELO mz1.forethought.net) (216.241.36.12)
  by daedalus.apache.org with SMTP; 31 May 2003 01:11:57 -0000
Received: from j72.denver.dsl.forethought.net ([216.241.38.72] helo=www.doomdark.org)
	by mz1.forethought.net with esmtp (Exim 4.14)
	id 19Luuk-0007Km-9v
	for lucene-user@jakarta.apache.org; Fri, 30 May 2003 19:12:06 -0600
Content-Type: text/plain;
  charset="iso-8859-1"
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lowercasing wildcards - why?
Date: Fri, 30 May 2003 19:19:11 -0600
User-Agent: KMail/1.4.3
References: <OF1B77E5A3.4FA55299-ON85256D36.005456D7@vwr.com> <3ED77EF3.2020504@seznam.cz>
In-Reply-To: <3ED77EF3.2020504@seznam.cz>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200305301919.11841.tatu@hypermall.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Friday 30 May 2003 09:55, Leo Galambos wrote:
> Ah, I got it. THX. In the good old days, the wildcards were used as a
> fix for missing stemming module. I am not sure if you can combine these
> two opposite approaches successfully. I see the following drawbacks of
> your solution.
>
> Example:
> built* (->built) could be changed to build* (no built, but ->builder,
> building, etc.), and precision will go down drastically.
>
> You probably use a stemmer with one important bug (a.k.a. feature) -
> overstemming, so here is another example:
> political* (->political, politically) is transformed to polic*
> (->policer, policy, policies, policement etc.) by Porter alg., and the
> precision is again affected drastically

Yes, this is the exact problem that was brought up last time this was 
discussed. It may not be a very common problem (most of the time stemming a 
wildcard part probably works ok, somebody had tried that), but still a 
potential one. And that's why default lower casing was added, as it solved 
one of FAQs. It is much more common that analyzer used for non-wildcard query 
does lower casing, than not, and thus default setting (which leads to having
to turn feature off by some users) seems to make sense.

More general problem then is that there's no real way to stem "foo?ar", or any 
non-prefix wildcard query, but that could be figured out by QueryParser if 
necessary.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4674-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 03:27:02 2003
Return-Path: <lucene-user-return-4674-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41891 invoked from network); 31 May 2003 03:27:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 03:27:02 -0000
Received: (qmail 16414 invoked by uid 97); 31 May 2003 03:29:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 16407 invoked from network); 31 May 2003 03:29:22 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 03:29:22 -0000
Received: (qmail 40934 invoked by uid 500); 31 May 2003 03:26:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40871 invoked from network); 31 May 2003 03:26:51 -0000
Received: from mail201.mail.bellsouth.net (HELO imf37bis.bellsouth.net) (205.152.58.141)
  by daedalus.apache.org with SMTP; 31 May 2003 03:26:51 -0000
Received: from anthonyeden.com ([68.17.217.223]) by imf37bis.bellsouth.net
          (InterMail vM.5.01.04.25 201-253-122-122-125-20020815) with ESMTP
          id <20030531032915.ENTC16187.imf37bis.bellsouth.net@anthonyeden.com>
          for <lucene-user@jakarta.apache.org>;
          Fri, 30 May 2003 23:29:15 -0400
Message-ID: <3ED82120.6000701@anthonyeden.com>
Date: Fri, 30 May 2003 23:27:28 -0400
From: Anthony Eden <me@anthonyeden.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: DBDirectory
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I found some references to an SQLDirectory class in the mailing list 
archives but I was unable to actually locate the package anywhere in the 
CVS (I looked in both the primary and the sandbox) nor could I find it 
in Google.

Anyhow, I have written my own implementation of a database-backed 
directory and would be happy to donate it if there is interest.  It 
needs some cleanup work (i.e. rename package, add flexible table naming, 
etc.) which I can do or I can submit it as is.

Hopefully one of the committers will point me in the right direction for 
contributing this if there is interest.  If individuals are interested 
please drop me an email and I will put it up on the web for download.

Sincerely,
Anthony Eden


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4675-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 07:31:56 2003
Return-Path: <lucene-user-return-4675-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39346 invoked from network); 31 May 2003 07:31:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 07:31:56 -0000
Received: (qmail 18940 invoked by uid 97); 31 May 2003 07:34:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 18932 invoked from network); 31 May 2003 07:34:18 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 07:34:18 -0000
Received: (qmail 38982 invoked by uid 500); 31 May 2003 07:31:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38969 invoked from network); 31 May 2003 07:31:52 -0000
Received: from nebula3.broadvision.com (139.56.4.14)
  by daedalus.apache.org with SMTP; 31 May 2003 07:31:52 -0000
Received: from triangulum.broadvision.com (triangulum.broadvision.com [199.35.176.7])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id h4V7Vtv07705
	for <lucene-user@jakarta.apache.org>; Sat, 31 May 2003 00:31:55 -0700 (PDT)
Received: from bt-gw-01.broadvision.com (localhost [127.0.0.1])
	by triangulum.broadvision.com (8.8.8/8.8.8) with ESMTP id AAA03351
	for <lucene-user@jakarta.apache.org>; Sat, 31 May 2003 00:32:04 -0700 (PDT)
Received: by bt-gw-01.broadvision.com with Internet Mail Service (5.5.2653.19)
	id <K1ST5M3V>; Sat, 31 May 2003 03:30:27 -0400
Message-ID: <9B2863AE99F3D311903C0006293842620B5D0916@rw-msg-02.broadvision.com>
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: API to perform full-text search
Date: Sat, 31 May 2003 03:27:32 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Which API do I use to perform full-text search? The APIs in Javadoc also
refer to a field name. In my case, I would like to do a search (e.g. "bob")
across all documents, irrespective of the field name.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4676-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 14:37:50 2003
Return-Path: <lucene-user-return-4676-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16106 invoked from network); 31 May 2003 14:37:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 14:37:49 -0000
Received: (qmail 23891 invoked by uid 97); 31 May 2003 14:40:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 23884 invoked from network); 31 May 2003 14:40:02 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 14:40:02 -0000
Received: (qmail 15792 invoked by uid 500); 31 May 2003 14:37:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15781 invoked from network); 31 May 2003 14:37:46 -0000
Received: from nebula3.broadvision.com (139.56.4.14)
  by daedalus.apache.org with SMTP; 31 May 2003 14:37:46 -0000
Received: from triangulum.broadvision.com (triangulum.broadvision.com [199.35.176.7])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id h4VEbdv14875
	for <lucene-user@jakarta.apache.org>; Sat, 31 May 2003 07:37:39 -0700 (PDT)
Received: from bt-gw-01.broadvision.com (localhost [127.0.0.1])
	by triangulum.broadvision.com (8.8.8/8.8.8) with ESMTP id HAA06055
	for <lucene-user@jakarta.apache.org>; Sat, 31 May 2003 07:37:48 -0700 (PDT)
Received: by bt-gw-01.broadvision.com with Internet Mail Service (5.5.2653.19)
	id <K1ST5MS8>; Sat, 31 May 2003 10:36:11 -0400
Message-ID: <9B2863AE99F3D311903C0006293842620B5D0917@rw-msg-02.broadvision.com>
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: searching data indexed from database??
Date: Sat, 31 May 2003 10:33:11 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have an indexer that reads data from database and indexes the data.
  foreach(db_row) {
      Document doc = new Document();
      doc.add(Field.Text("Product", productName);
      doc.add(Field.Text("Description", productDesc);
...
      writer.addDocument(doc);
  }


Once indexed, I would like to do a search that spans across multiple fields.
i.e. the user may enter "lawnmower" and it should perform a search across
all the indexed fields. Also, how do I pass user queries like  "lawnmower
-grass" to the query API?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4677-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 15:06:38 2003
Return-Path: <lucene-user-return-4677-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45111 invoked from network); 31 May 2003 15:06:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 15:06:37 -0000
Received: (qmail 24941 invoked by uid 97); 31 May 2003 15:08:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 24934 invoked from network); 31 May 2003 15:08:50 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 15:08:50 -0000
Received: (qmail 44819 invoked by uid 500); 31 May 2003 15:06:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44808 invoked from network); 31 May 2003 15:06:34 -0000
Received: from granger.mail.mindspring.net (207.69.200.148)
  by daedalus.apache.org with SMTP; 31 May 2003 15:06:34 -0000
Received: from h-66-167-39-155.mclnva23.covad.net ([66.167.39.155] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19M7wK-0007Fv-00
	for lucene-user@jakarta.apache.org; Sat, 31 May 2003 11:06:36 -0400
Message-ID: <063e01c32786$42c40770$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <9B2863AE99F3D311903C0006293842620B5D0917@rw-msg-02.broadvision.com>
Subject: Re: searching data indexed from database??
Date: Sat, 31 May 2003 11:06:49 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Shiv,

Searching in Lucene is field-based.  Thus you must specify the field to be
searched - the only 'exception' is that one field is defined as default.  If
you want to search across multiple fields, I believe you must create a
concatenation of the individual fields into a single one during the indexing
process (eg. productName+" "+productDesc), and then use that as the basis of
your subsequent searches.

HTH,

Terry

----- Original Message -----
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: <lucene-user@jakarta.apache.org>
Sent: Saturday, May 31, 2003 10:33 AM
Subject: searching data indexed from database??


> I have an indexer that reads data from database and indexes the data.
>   foreach(db_row) {
>       Document doc = new Document();
>       doc.add(Field.Text("Product", productName);
>       doc.add(Field.Text("Description", productDesc);
> ...
>       writer.addDocument(doc);
>   }
>
>
> Once indexed, I would like to do a search that spans across multiple
fields.
> i.e. the user may enter "lawnmower" and it should perform a search across
> all the indexed fields. Also, how do I pass user queries like  "lawnmower
> -grass" to the query API?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4678-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 15:35:51 2003
Return-Path: <lucene-user-return-4678-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70519 invoked from network); 31 May 2003 15:35:50 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 15:35:50 -0000
Received: (qmail 25371 invoked by uid 97); 31 May 2003 15:38:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25364 invoked from network); 31 May 2003 15:38:03 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 15:38:03 -0000
Received: (qmail 70233 invoked by uid 500); 31 May 2003 15:35:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70206 invoked from network); 31 May 2003 15:35:47 -0000
Received: from nebula3.broadvision.com (139.56.4.14)
  by daedalus.apache.org with SMTP; 31 May 2003 15:35:47 -0000
Received: from triangulum.broadvision.com (triangulum.broadvision.com [199.35.176.7])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id h4VFZev15748;
	Sat, 31 May 2003 08:35:40 -0700 (PDT)
Received: from bt-gw-01.broadvision.com (localhost [127.0.0.1])
	by triangulum.broadvision.com (8.8.8/8.8.8) with ESMTP id IAA06342;
	Sat, 31 May 2003 08:35:49 -0700 (PDT)
Received: by bt-gw-01.broadvision.com with Internet Mail Service (5.5.2653.19)
	id <K1ST5MTQ>; Sat, 31 May 2003 11:34:12 -0400
Message-ID: <9B2863AE99F3D311903C0006293842620B5D0918@rw-msg-02.broadvision.com>
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: "'Terry Steichen '" <terry@net-frame.com>,
   "'Lucene Users List '"
	 <lucene-user@jakarta.apache.org>
Subject: RE: searching data indexed from database??
Date: Sat, 31 May 2003 11:31:10 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks. That's what I suspected and was hoping that wasn't the case. Won't
this lead to duplication of data during indexing -- one piece under the
specific field ("Product") and the same one (along with others) under the
default field ("contents")?

-----Original Message-----
From: Terry Steichen
To: Lucene Users List
Sent: 5/31/03 8:06 AM
Subject: Re: searching data indexed from database??

Shiv,

Searching in Lucene is field-based.  Thus you must specify the field to
be
searched - the only 'exception' is that one field is defined as default.
If
you want to search across multiple fields, I believe you must create a
concatenation of the individual fields into a single one during the
indexing
process (eg. productName+" "+productDesc), and then use that as the
basis of
your subsequent searches.

HTH,

Terry

----- Original Message -----
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: <lucene-user@jakarta.apache.org>
Sent: Saturday, May 31, 2003 10:33 AM
Subject: searching data indexed from database??


> I have an indexer that reads data from database and indexes the data.
>   foreach(db_row) {
>       Document doc = new Document();
>       doc.add(Field.Text("Product", productName);
>       doc.add(Field.Text("Description", productDesc);
> ...
>       writer.addDocument(doc);
>   }
>
>
> Once indexed, I would like to do a search that spans across multiple
fields.
> i.e. the user may enter "lawnmower" and it should perform a search
across
> all the indexed fields. Also, how do I pass user queries like
"lawnmower
> -grass" to the query API?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4679-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 16:18:12 2003
Return-Path: <lucene-user-return-4679-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19275 invoked from network); 31 May 2003 16:18:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 16:18:10 -0000
Received: (qmail 25989 invoked by uid 97); 31 May 2003 16:20:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 25981 invoked from network); 31 May 2003 16:20:23 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 16:20:23 -0000
Received: (qmail 18703 invoked by uid 500); 31 May 2003 16:18:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18650 invoked from network); 31 May 2003 16:18:04 -0000
Received: from granger.mail.mindspring.net (207.69.200.148)
  by daedalus.apache.org with SMTP; 31 May 2003 16:18:04 -0000
Received: from h-66-167-39-155.mclnva23.covad.net ([66.167.39.155] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 19M93W-0007u0-00
	for lucene-user@jakarta.apache.org; Sat, 31 May 2003 12:18:06 -0400
Message-ID: <065f01c32790$3ffd3ac0$0501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "'Lucene Users List '" <lucene-user@jakarta.apache.org>
References: <9B2863AE99F3D311903C0006293842620B5D0918@rw-msg-02.broadvision.com>
Subject: Re: searching data indexed from database??
Date: Sat, 31 May 2003 12:18:17 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Well, if you don't store the data in the index it probably isn't too bad.
Alternatively, if you don't need to do any field-specific searching, then
you *only* index the combined field (and *not* the individual ones).  Then
there's no additional impact.

Regards,

Terry

----- Original Message -----
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: "'Terry Steichen '" <terry@net-frame.com>; "'Lucene Users List '"
<lucene-user@jakarta.apache.org>
Sent: Saturday, May 31, 2003 11:31 AM
Subject: RE: searching data indexed from database??


> Thanks. That's what I suspected and was hoping that wasn't the case. Won't
> this lead to duplication of data during indexing -- one piece under the
> specific field ("Product") and the same one (along with others) under the
> default field ("contents")?
>
> -----Original Message-----
> From: Terry Steichen
> To: Lucene Users List
> Sent: 5/31/03 8:06 AM
> Subject: Re: searching data indexed from database??
>
> Shiv,
>
> Searching in Lucene is field-based.  Thus you must specify the field to
> be
> searched - the only 'exception' is that one field is defined as default.
> If
> you want to search across multiple fields, I believe you must create a
> concatenation of the individual fields into a single one during the
> indexing
> process (eg. productName+" "+productDesc), and then use that as the
> basis of
> your subsequent searches.
>
> HTH,
>
> Terry
>
> ----- Original Message -----
> From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Saturday, May 31, 2003 10:33 AM
> Subject: searching data indexed from database??
>
>
> > I have an indexer that reads data from database and indexes the data.
> >   foreach(db_row) {
> >       Document doc = new Document();
> >       doc.add(Field.Text("Product", productName);
> >       doc.add(Field.Text("Description", productDesc);
> > ...
> >       writer.addDocument(doc);
> >   }
> >
> >
> > Once indexed, I would like to do a search that spans across multiple
> fields.
> > i.e. the user may enter "lawnmower" and it should perform a search
> across
> > all the indexed fields. Also, how do I pass user queries like
> "lawnmower
> > -grass" to the query API?
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4680-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 16:32:52 2003
Return-Path: <lucene-user-return-4680-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42048 invoked from network); 31 May 2003 16:32:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 16:32:52 -0000
Received: (qmail 26257 invoked by uid 97); 31 May 2003 16:35:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26249 invoked from network); 31 May 2003 16:35:05 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 16:35:05 -0000
Received: (qmail 41668 invoked by uid 500); 31 May 2003 16:32:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41566 invoked from network); 31 May 2003 16:32:46 -0000
Received: from nebula3.broadvision.com (139.56.4.14)
  by daedalus.apache.org with SMTP; 31 May 2003 16:32:46 -0000
Received: from triangulum.broadvision.com (triangulum.broadvision.com [199.35.176.7])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id h4VGWev16580;
	Sat, 31 May 2003 09:32:40 -0700 (PDT)
Received: from bt-gw-01.broadvision.com (localhost [127.0.0.1])
	by triangulum.broadvision.com (8.8.8/8.8.8) with ESMTP id JAA06635;
	Sat, 31 May 2003 09:32:49 -0700 (PDT)
Received: by bt-gw-01.broadvision.com with Internet Mail Service (5.5.2653.19)
	id <K1ST5MTZ>; Sat, 31 May 2003 12:31:12 -0400
Message-ID: <9B2863AE99F3D311903C0006293842620B5D0919@rw-msg-02.broadvision.com>
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: "'Terry Steichen '" <terry@net-frame.com>,
   "''Lucene Users List ' '"
	 <lucene-user@jakarta.apache.org>
Subject: RE: searching data indexed from database??
Date: Sat, 31 May 2003 12:28:13 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The user could either do a field search (on a specific field) or a full-text
search (that defaults to the default field "contents"). Is there a way to
optimize the storage in this case? 

-----Original Message-----
From: Terry Steichen
To: 'Lucene Users List '
Sent: 5/31/03 9:18 AM
Subject: Re: searching data indexed from database??

Well, if you don't store the data in the index it probably isn't too
bad.
Alternatively, if you don't need to do any field-specific searching,
then
you *only* index the combined field (and *not* the individual ones).
Then
there's no additional impact.

Regards,

Terry

----- Original Message -----
From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
To: "'Terry Steichen '" <terry@net-frame.com>; "'Lucene Users List '"
<lucene-user@jakarta.apache.org>
Sent: Saturday, May 31, 2003 11:31 AM
Subject: RE: searching data indexed from database??


> Thanks. That's what I suspected and was hoping that wasn't the case.
Won't
> this lead to duplication of data during indexing -- one piece under
the
> specific field ("Product") and the same one (along with others) under
the
> default field ("contents")?
>
> -----Original Message-----
> From: Terry Steichen
> To: Lucene Users List
> Sent: 5/31/03 8:06 AM
> Subject: Re: searching data indexed from database??
>
> Shiv,
>
> Searching in Lucene is field-based.  Thus you must specify the field
to
> be
> searched - the only 'exception' is that one field is defined as
default.
> If
> you want to search across multiple fields, I believe you must create a
> concatenation of the individual fields into a single one during the
> indexing
> process (eg. productName+" "+productDesc), and then use that as the
> basis of
> your subsequent searches.
>
> HTH,
>
> Terry
>
> ----- Original Message -----
> From: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
> To: <lucene-user@jakarta.apache.org>
> Sent: Saturday, May 31, 2003 10:33 AM
> Subject: searching data indexed from database??
>
>
> > I have an indexer that reads data from database and indexes the
data.
> >   foreach(db_row) {
> >       Document doc = new Document();
> >       doc.add(Field.Text("Product", productName);
> >       doc.add(Field.Text("Description", productDesc);
> > ...
> >       writer.addDocument(doc);
> >   }
> >
> >
> > Once indexed, I would like to do a search that spans across multiple
> fields.
> > i.e. the user may enter "lawnmower" and it should perform a search
> across
> > all the indexed fields. Also, how do I pass user queries like
> "lawnmower
> > -grass" to the query API?
> >
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4681-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 16:49:22 2003
Return-Path: <lucene-user-return-4681-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60745 invoked from network); 31 May 2003 16:49:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 16:49:22 -0000
Received: (qmail 26614 invoked by uid 97); 31 May 2003 16:51:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26607 invoked from network); 31 May 2003 16:51:36 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 16:51:36 -0000
Received: (qmail 60466 invoked by uid 500); 31 May 2003 16:49:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60455 invoked from network); 31 May 2003 16:49:20 -0000
Received: from mail211.mail.bellsouth.net (HELO imf47bis.bellsouth.net) (205.152.58.151)
  by daedalus.apache.org with SMTP; 31 May 2003 16:49:19 -0000
Received: from anthonyeden.com ([68.17.217.223]) by imf47bis.bellsouth.net
          (InterMail vM.5.01.04.25 201-253-122-122-125-20020815) with ESMTP
          id <20030531165136.KFLZ24915.imf47bis.bellsouth.net@anthonyeden.com>
          for <lucene-user@jakarta.apache.org>;
          Sat, 31 May 2003 12:51:36 -0400
Message-ID: <3ED8DD2E.9090804@anthonyeden.com>
Date: Sat, 31 May 2003 12:49:50 -0400
From: Anthony Eden <me@anthonyeden.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: searching data indexed from database??
References: <9B2863AE99F3D311903C0006293842620B5D0917@rw-msg-02.broadvision.com>
In-Reply-To: <9B2863AE99F3D311903C0006293842620B5D0917@rw-msg-02.broadvision.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Take a look at org.apache.lucene.queryParse.MultiFieldQueryParser.  It 
allows you to past a list of field names to search on rather than just a 
single field name.

Regarding your second question, the query you specified works fine in 
1.3 RC 1 although I am not familiar enough with 1.2 to know whether it 
was supported there or not.

Sincerely,
Anthony Eden

Venkatraman, Shiv wrote:

>I have an indexer that reads data from database and indexes the data.
>  foreach(db_row) {
>      Document doc = new Document();
>      doc.add(Field.Text("Product", productName);
>      doc.add(Field.Text("Description", productDesc);
>...
>      writer.addDocument(doc);
>  }
>
>
>Once indexed, I would like to do a search that spans across multiple fields.
>i.e. the user may enter "lawnmower" and it should perform a search across
>all the indexed fields. Also, how do I pass user queries like  "lawnmower
>-grass" to the query API?
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-4682-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org Sat May 31 17:14:03 2003
Return-Path: <lucene-user-return-4682-qmlist-jakarta-archive-lucene-user=nagoya.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86866 invoked from network); 31 May 2003 17:14:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 31 May 2003 17:14:02 -0000
Received: (qmail 26927 invoked by uid 97); 31 May 2003 17:16:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@nagoya.betaversion.org
Received: (qmail 26920 invoked from network); 31 May 2003 17:16:17 -0000
Received: from daedalus.apache.org (HELO apache.org) (208.185.179.12)
  by nagoya.betaversion.org with SMTP; 31 May 2003 17:16:16 -0000
Received: (qmail 86592 invoked by uid 500); 31 May 2003 17:14:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86580 invoked from network); 31 May 2003 17:13:59 -0000
Received: from mail.hksi.net (HELO netwebapps.com) (204.118.40.43)
  by daedalus.apache.org with SMTP; 31 May 2003 17:13:59 -0000
Received: from vincent [65.28.50.217] by netwebapps.com with ESMTP
  (SMTPD32-8.00) id A20B1EA80094; Sat, 31 May 2003 12:10:35 -0500
Message-ID: <002f01c32798$094efe70$d9321c41@vincent>
Reply-To: "Bryan LaPlante" <blaplante@netwebapps.com>
From: "Bryan LaPlante" <blaplante@netwebapps.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <9B2863AE99F3D311903C0006293842620B5D0917@rw-msg-02.broadvision.com> <3ED8DD2E.9090804@anthonyeden.com>
Subject: Re: searching data indexed from database??
Date: Sat, 31 May 2003 12:14:03 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes it is supported in 1.2 I used it in my search tag.
http://cvs.apache.org/viewcvs/jakarta-lucene-sandbox/contributions/taglib/WE
B-INF/classes/com/netwebapps/taglib/search/SearchTag.java

Relevant lines of code are
line 439, 461, 469,275


----- Original Message -----
From: "Anthony Eden" <me@anthonyeden.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, May 31, 2003 11:49 AM
Subject: Re: searching data indexed from database??


> Take a look at org.apache.lucene.queryParse.MultiFieldQueryParser.  It
> allows you to past a list of field names to search on rather than just a
> single field name.
>
> Regarding your second question, the query you specified works fine in
> 1.3 RC 1 although I am not familiar enough with 1.2 to know whether it
> was supported there or not.
>
> Sincerely,
> Anthony Eden
>
> Venkatraman, Shiv wrote:
>
> >I have an indexer that reads data from database and indexes the data.
> >  foreach(db_row) {
> >      Document doc = new Document();
> >      doc.add(Field.Text("Product", productName);
> >      doc.add(Field.Text("Description", productDesc);
> >...
> >      writer.addDocument(doc);
> >  }
> >
> >
> >Once indexed, I would like to do a search that spans across multiple
fields.
> >i.e. the user may enter "lawnmower" and it should perform a search across
> >all the indexed fields. Also, how do I pass user queries like  "lawnmower
> >-grass" to the query API?
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


