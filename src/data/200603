From java-user-return-19231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 09:30:48 2006
Return-Path: <java-user-return-19231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39676 invoked from network); 1 Mar 2006 09:30:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 09:30:47 -0000
Received: (qmail 32637 invoked by uid 500); 1 Mar 2006 09:31:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32609 invoked by uid 500); 1 Mar 2006 09:31:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32598 invoked by uid 99); 1 Mar 2006 09:31:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 01:31:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 01:31:25 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k219Ux67028896
	for <java-user@lucene.apache.org>; Wed, 1 Mar 2006 10:30:59 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.1.1/271]); Wed, 01 Mar 2006 10:30:02 +0100
Message-ID: <4405699A.1020109@isb-sib.ch>
Date: Wed, 01 Mar 2006 10:30:02 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Indexing performance with Lucene 1.9
References: <44042BCD.1050608@isb-sib.ch> <20060228162346.13790.qmail@web50308.mail.yahoo.com> <440485D3.3050700@isb-sib.ch>
In-Reply-To: <440485D3.3050700@isb-sib.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Eric Jain wrote:
> I'll rerun the indexing 
> procedure with the old version overnight, just to be sure.

Just to confirm: There no longer seems to be any difference in indexing 
performance between the nightly build and 1.4.3.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 13:17:20 2006
Return-Path: <java-user-return-19232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51105 invoked from network); 1 Mar 2006 13:17:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 13:17:20 -0000
Received: (qmail 48642 invoked by uid 500); 1 Mar 2006 13:18:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48613 invoked by uid 500); 1 Mar 2006 13:18:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48602 invoked by uid 99); 1 Mar 2006 13:18:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 05:18:00 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.199 as permitted sender)
Received: from [64.233.182.199] (HELO nproxy.gmail.com) (64.233.182.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 05:17:59 -0800
Received: by nproxy.gmail.com with SMTP id a4so73648nfc
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 05:17:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=HkEajRCYwUdRnsV/BDneLCE2feCEbzQIUo8jLbk03riCDMoA20hQFPTIur8hjmaRNttYDW7hruzRaYaXXG42aXEtHvIGyQnkZhGUmHepc0nfBCT1kYyCanjZ13xatmiMzjMUqgAJSaX+P4gvbNMzq3m5uJJmX7Y6WmJZSvJ4GX4=
Received: by 10.49.20.3 with SMTP id x3mr89153nfi;
        Wed, 01 Mar 2006 05:17:37 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Wed, 1 Mar 2006 05:17:37 -0800 (PST)
Message-ID: <c68e39170603010517m69ae1403ub788e883b463448a@mail.gmail.com>
Date: Wed, 1 Mar 2006 08:17:37 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Solr, the Lucene based Search Server
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Solr is a new open-source search server that's based on Lucene, and
has XML/HTTP interfaces for updating and querying, declarative
specification of analyzers and field types via a schema, extensive
caching, replication, and a web admin interface.

It's already in production use at CNET, and has recently been accepted
into the Apache Incubator.

For more information, see Solr's home page at
   http://incubator.apache.org/solr/
and the wiki at
   http://wiki.apache.org/solr/

To join the user mailing list, send an email to
   solr-user-subscribe@lucene.apache.org
and if you want to help out with development,
   solr-dev-subscribe@lucene.apache.org

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 14:20:03 2006
Return-Path: <java-user-return-19233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89653 invoked from network); 1 Mar 2006 14:20:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 14:20:02 -0000
Received: (qmail 44111 invoked by uid 500); 1 Mar 2006 14:20:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44088 invoked by uid 500); 1 Mar 2006 14:20:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44077 invoked by uid 99); 1 Mar 2006 14:20:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 06:20:43 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 06:20:42 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k21EKD67007822
	for <java-user@lucene.apache.org>; Wed, 1 Mar 2006 15:20:13 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.1.1/271]); Wed, 01 Mar 2006 15:19:16 +0100
Message-ID: <4405AD64.6060407@isb-sib.ch>
Date: Wed, 01 Mar 2006 15:19:16 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Solr, the Lucene based Search Server
References: <c68e39170603010517m69ae1403ub788e883b463448a@mail.gmail.com>
In-Reply-To: <c68e39170603010517m69ae1403ub788e883b463448a@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik Seeley wrote:
> Solr is a new open-source search server that's based on Lucene, and
> has XML/HTTP interfaces for updating and querying, declarative
> specification of analyzers and field types via a schema, extensive
> caching, replication, and a web admin interface.

Just had a look, quite impressive.

I noticed that you have a WordDelimiterFilter; any chance that this will be 
contributed back to Lucene? This class is really useful! (In fact I was 
just trying to write something similar myself...)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 14:37:17 2006
Return-Path: <java-user-return-19234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5974 invoked from network); 1 Mar 2006 14:37:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 14:37:16 -0000
Received: (qmail 74390 invoked by uid 500); 1 Mar 2006 14:29:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74367 invoked by uid 500); 1 Mar 2006 14:29:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74355 invoked by uid 99); 1 Mar 2006 14:29:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 06:29:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.207 as permitted sender)
Received: from [64.233.182.207] (HELO nproxy.gmail.com) (64.233.182.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 06:29:58 -0800
Received: by nproxy.gmail.com with SMTP id y25so100077nfb
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 06:29:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=aB9yX37O67hal+GMwNcOd+owgB31mxAt6Hd53+Ah5AlYy+RVhck5dpmZ+NfwGj3omR2I+zvdsQrZ/c9W1MeZZ4thW7ajVdtV4ENCKOPu6aSGVQ/+BjYonnUNsmrel/4sIF8sB1hwlI/5Qk/bq7lVAJJQRzEOKY0dxyxHRfhWR9I=
Received: by 10.49.15.1 with SMTP id s1mr124642nfi;
        Wed, 01 Mar 2006 06:29:36 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Wed, 1 Mar 2006 06:29:36 -0800 (PST)
Message-ID: <c68e39170603010629kac9e052w7994dcb50a3de8b0@mail.gmail.com>
Date: Wed, 1 Mar 2006 09:29:36 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Solr, the Lucene based Search Server
In-Reply-To: <4405AD64.6060407@isb-sib.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <c68e39170603010517m69ae1403ub788e883b463448a@mail.gmail.com>
	 <4405AD64.6060407@isb-sib.ch>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/1/06, Eric Jain <Eric.Jain@isb-sib.ch> wrote:
> I noticed that you have a WordDelimiterFilter; any chance that this will =
be
> contributed back to Lucene? This class is really useful! (In fact I was
> just trying to write something similar myself...)

Definitely.  Solr uses Java5, so it would need to be backported.

People may also be interested in the SynonymFilter Solr uses, as it
can handle multi-word synonyms.  I kept that one at a Java 1.4
language level with the intent on contributing it to Lucene.
See the bottom of
http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters for an
example synonym config file.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 14:43:28 2006
Return-Path: <java-user-return-19235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12446 invoked from network); 1 Mar 2006 14:43:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 14:43:27 -0000
Received: (qmail 11712 invoked by uid 500); 1 Mar 2006 14:44:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11689 invoked by uid 500); 1 Mar 2006 14:44:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11678 invoked by uid 99); 1 Mar 2006 14:44:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 06:44:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.207 as permitted sender)
Received: from [64.233.182.207] (HELO nproxy.gmail.com) (64.233.182.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 06:44:08 -0800
Received: by nproxy.gmail.com with SMTP id n28so103016nfc
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 06:43:46 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=LEb8JJ56g9IwsPSC+/ZHx6eCVOAP39r2vaGgbFm7rwhRkjDQL5Ub/15IfBnquFxPSSclzALi/qQ3dOKZwyKzYNF7PgHQRY185/YeOT+qRIL2ClXigjZDf5HJ0XGLQaMLyeAuB0w4ogoS5z5MEnH9a7E329xosZzIaQbScaiA3u4=
Received: by 10.49.7.20 with SMTP id k20mr130893nfi;
        Wed, 01 Mar 2006 06:43:46 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Wed, 1 Mar 2006 06:43:46 -0800 (PST)
Message-ID: <c68e39170603010643g2dc59679j36af29c782f4f9b8@mail.gmail.com>
Date: Wed, 1 Mar 2006 09:43:46 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Efficiently updating indexed documents
In-Reply-To: <OFB36E7EAB.3D8CD49B-ONC2257123.002DB3D8-C2257123.003071CF@il.ibm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <OFB36E7EAB.3D8CD49B-ONC2257123.002DB3D8-C2257123.003071CF@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Nadav,

This is exactly the approach Solr uses by default, and it works fine.

see doDeletions() on DirectUpdateHandler2
http://svn.apache.org/viewcvs.cgi/incubator/solr/trunk/src/java/org/apache/=
solr/update/DirectUpdateHandler2.java?rev=3D372455&view=3Dmarkup

We keep a Map of id->num_to_save that is updated as documents are
added or deleted.
If a docoument is added, num_to_save is set to 1 (delete all but the
last docid later).
If a document is deleted, num_to_save is set to 0.
There is even an option to add a document w/o overwriting the old one,
and in this case, num_to_save is incremented.

-Yonik

On 2/28/06, Nadav Har'El <NYH@il.ibm.com> wrote:
>
> A few days ago someone on this list asked how to efficiently "update"
> documents in the index, i.e.,
> delete the old version of the document (found by some unique id field)  a=
nd
> add the new version.
> The problem was that opening and closing the IndexReader and IndexWriter
> after each document
> was inefficient (using IndexModifier doesn't help here, because it does t=
he
> same under the scenes).
> I was also interested in doing the same thing myself.
>
> People suggested doing the deletes immediately and buffering the document
> additions
> in memory for later. This is doable, but  I wanted to avoid buffering the
> new documents (potentially
> large) in memory myself (let Lucene do whatever buffering it wishes in
> IndexWriter). I also did not
> like the idea that in some periods of time, searches will not return the
> updated file, because the old
> version was already deleted and the new version was not yet indexed.
>
> I therefore came up with the following solution, which I'll be happy to
> hear comments about
> (especially if you think this solution is broken in some way or my
> assumptions are wrong).
>
> The idea is basically this: when I want to replace a document, I immediat=
ly
> add (with
> IndexWriter.addDocument) the new document to the open IndexWriter. I also
> save the
> document;s unique id term to a vector "idsReplaced", of terms we will dea=
l
> with later:
>
>     private Vector idsReplaced =3D new Vector();
>     public void replaceDocument(Document document, String idfield, Analyz=
er
> analyzer) throws IOException {
>       indexwriter.addDocument(document, analyzer);
>       idsReplaced.add(new Term(idfield,document.get(idfield)));
>     }
>
> Now, when I want to flush the index, I close the IndexWriter to make sure
> all the new documents
> were added, and then for each id in the idsReplaced vector, I remove all
> but the last document
> with this id. The trick here is that IndexReader.termDocs(term) returns t=
he
> matching documents
> ordered by internal document number, and documents added later get a high=
er
> number
> (I hope this is actually true... It seems like that in my experiments), s=
o
> we can delete all but the
> last matching document for the same id. The code looks something like thi=
s:
>
>     // call this after doing indexwriter.close();
>     private void doDelete() throws IOException {
>       if(idsReplaced.isEmpty())
>             return;
>       IndexReader ir =3D IndexReader.open(indexDir);
>       for(Iterator i =3D idsReplaced.iterator(); i.hasNext();){
>             Term term =3D (Term) i.next();
>             TermDocs docs =3D ir.termDocs(term);
>             int doctodelete =3D -1;
>             while(docs.next()){
>                   if(doctodelete>0)
>                         ir.deleteDocument(doctodelete);
>                   doctodelete=3Ddocs.doc();
>             }
>       }
>       idsReplaced.clear();
>       ir.close();
>     }
>
> I did not test this idea too much, but in some initial experiments I trie=
d,
> it seems
> to work.
>
> --
> Nadav Har'El
> nyh@il.ibm.com
> +972-4-829-6326
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 17:02:58 2006
Return-Path: <java-user-return-19236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95410 invoked from network); 1 Mar 2006 17:02:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 17:02:58 -0000
Received: (qmail 28399 invoked by uid 500); 1 Mar 2006 17:03:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28372 invoked by uid 500); 1 Mar 2006 17:03:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28361 invoked by uid 99); 1 Mar 2006 17:03:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 09:03:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.198 as permitted sender)
Received: from [66.249.92.198] (HELO uproxy.gmail.com) (66.249.92.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 09:03:38 -0800
Received: by uproxy.gmail.com with SMTP id s2so83462uge
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 09:03:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=A+JSYmSmSFHkkceMu1QoYg62KFVPgYNcicW+JwPoFWY+aAK03oufkzF8mmyt5vnEdTOSu/lDI+wKM0ZEr4auefyW+WpeZamV4kKJX/9Hf/4S7RbRMDyvRq/HDJ/HkNI4kojilVM5ehjDhkRnrTPA2z2WOmILwUeyWL0a2eH1D7I=
Received: by 10.67.95.9 with SMTP id x9mr239526ugl;
        Wed, 01 Mar 2006 09:03:17 -0800 (PST)
Received: by 10.67.15.15 with HTTP; Wed, 1 Mar 2006 09:03:17 -0800 (PST)
Message-ID: <50f433360603010903t558ca392i47ae4001b30a2616@mail.gmail.com>
Date: Wed, 1 Mar 2006 09:03:17 -0800
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Hacking proximity search: looking for feedback
In-Reply-To: <Pine.LNX.4.58.0602281402190.11439@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_321_29522527.1141232597181"
References: <50f433360602281210t437b53cbp369d0d306c1e0bbe@mail.gmail.com>
	 <Pine.LNX.4.58.0602281227380.5837@hal.rescomp.berkeley.edu>
	 <50f433360602281340u40a987cew346f95d7d180785@mail.gmail.com>
	 <Pine.LNX.4.58.0602281402190.11439@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_321_29522527.1141232597181
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks to everyone on the replies.  I'm going to try several of these
approaches and with equivalent data sets and run some side-by-side tests.

No timeframes guarantees here, but I'll report back with the different
approaches and the test results.

cheers,
-- j


On 2/28/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : Very good points, I hadn't considered the term frequency of the digits
> : affecting scoring.  As an aside, can that aspect of the score be ignore=
d
> for
> : these fields?
>
> The easiest way is to use a boost that is so low it's insignificant, or
> you could subclass TermQuery and override getSimilarity to return a
> DelegateSimilarity which wraps the real instance and returns constant
> values for things like tf() and idf() ... but i'm 95% sure that using a
> RangeFilter (or a ConstantScoreRangeQuery) is going to be faster then all
> of those TermQueries no matter what.
>
> : I need to spend more time with FunctionQuery, I haven't given it the
> : attention it deserves.
>
> i would start by trying out an apples to apples comparison of your curren=
t
> approach with one where your index only has one indexed field each for
> long/lat that uses ConstantScoreRangeQuery to do the boxing.  Compare bot=
h
> the size of the resulting indexes, the memory footprint while open, and
> the time spent executing comparable queries.  You should probably compare
> queries that involve both large boxes and small boxes, and depending on
> hte usage pattern you expect consider caching your Filters if you expect
> many boxes to be reused frequently.
>
> once you've found the "best" way to do your boxing ... then look into
> using FunctionQueries to influence your scores based on distance fro mthe
> center of hte box.
>
> :
> : Great feedback, thanks for the notes.
> :
> : -- jeff
> :
> : On 2/28/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> : >
> : >
> : > : Geo definition:
> : > : Boxing around a center point.  It's not critical to do a radius
> search
> : > with
> : > : a given circle.  A boxed approach allows for taller or wider frames
> of
> : > : reference, which are applicable for our use.
> : >
> : > if you are just loking to confine your results to a box then i think
> : > RangeFiltering on both the X and Y axis will be more efficient then
> the
> : > individual term queries you are producing.
> : >
> : > It will have the added bonus of not artificially affecting the scores
> of
> : > hte documents based on how often a particular digit apears in a
> particular
> : > position of hte latitue accross your corpus.
> : >
> : > Once you've filtered down to a particular bounding box, you might
> consider
> : > going back to the function query approach to score documents inside
> that
> : > box based on their actual distance from the center point.  I don't
> recall
> : > at the moment but i believe FunctionQuery's Scorer supports skipTo in
> such
> : > a way that it won't bother computing the function for a document that
> has
> : > been skiped (ie: when containing in a BooleanQuery with another claus=
e
> : > that has already prohibited it, or when executed in the context of a
> : > Filter)
> : >
> : >
> : >
> : > -Hoss
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_321_29522527.1141232597181--

From java-user-return-19237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 18:03:46 2006
Return-Path: <java-user-return-19237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25565 invoked from network); 1 Mar 2006 18:03:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 18:03:46 -0000
Received: (qmail 59916 invoked by uid 500); 1 Mar 2006 18:04:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59889 invoked by uid 500); 1 Mar 2006 18:04:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59878 invoked by uid 99); 1 Mar 2006 18:04:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 10:04:26 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of skallu1@umbc.edu designates 130.85.34.14 as permitted sender)
Received: from [130.85.34.14] (HELO mailserver-ng.cs.umbc.edu) (130.85.34.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 10:04:25 -0800
Received: from [127.0.0.1] (dcanet-gw.leapworks.com [216.158.57.50])
	(authenticated bits=0)
	by mailserver-ng.cs.umbc.edu (8.13.5/8.13.5) with ESMTP id k21I40f2024103
	for <java-user@lucene.apache.org>; Wed, 1 Mar 2006 13:04:04 -0500 (EST)
Message-ID: <4405E213.6050305@umbc.edu>
Date: Wed, 01 Mar 2006 13:04:03 -0500
From: Srikanth Kallurkar <skallu1@umbc.edu>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Term Vector
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

Can a vector of terms be contructed in Lucene. A term vector for a 
document, for example, would contain the indexed terms of that document. 
Also, is it possible to get a handle to the actual term-document matrix.

Thanks in advance,

Srikanth


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 18:20:41 2006
Return-Path: <java-user-return-19238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32735 invoked from network); 1 Mar 2006 18:20:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 18:20:41 -0000
Received: (qmail 84725 invoked by uid 500); 1 Mar 2006 18:21:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84692 invoked by uid 500); 1 Mar 2006 18:21:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84681 invoked by uid 99); 1 Mar 2006 18:21:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 10:21:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 10:21:19 -0800
Received: by wproxy.gmail.com with SMTP id i4so446005wra
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 10:20:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QRaU50dIpMqZr9CG/j57KDo0T3S6uIFa1AUpbl9asihZchtnbGG7EvSPO2742xHxVGrsyED213n1Chimr4aUHUiMarPvPEgWrwj683m+5uLHmE8zNBvvBl1p+RXQ7ZHhiYehUbeCmK1H5kb5moCxL/qvqYINvjxAGO58VTON3us=
Received: by 10.65.211.10 with SMTP id n10mr257669qbq;
        Wed, 01 Mar 2006 10:20:58 -0800 (PST)
Received: by 10.65.244.16 with HTTP; Wed, 1 Mar 2006 10:20:58 -0800 (PST)
Message-ID: <abe188f20603011020o2a811c7buf8ca3887ce899720@mail.gmail.com>
Date: Wed, 1 Mar 2006 12:20:58 -0600
From: "Rajesh Munavalli" <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Term Vector
In-Reply-To: <4405E213.6050305@umbc.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2590_19500527.1141237258730"
References: <4405E213.6050305@umbc.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2590_19500527.1141237258730
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This has been discussed previously. Here are the links

http://www.gossamer-threads.com/lists/lucene/java-user/9189#9189

http://www.gossamer-threads.com/lists/lucene/java-user/32362#32362

Hope that helps,

Rajesh Munavalli

On 3/1/06, Srikanth Kallurkar <skallu1@umbc.edu> wrote:
>
> Hi all,
>
> Can a vector of terms be contructed in Lucene. A term vector for a
> document, for example, would contain the indexed terms of that document.
> Also, is it possible to get a handle to the actual term-document matrix.
>
> Thanks in advance,
>
> Srikanth
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_2590_19500527.1141237258730--

From java-user-return-19239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 18:59:45 2006
Return-Path: <java-user-return-19239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49613 invoked from network); 1 Mar 2006 18:59:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 18:59:45 -0000
Received: (qmail 45112 invoked by uid 500); 1 Mar 2006 19:00:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45086 invoked by uid 500); 1 Mar 2006 19:00:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45074 invoked by uid 99); 1 Mar 2006 19:00:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 11:00:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Seeta.Somagani@xplana.com designates 65.61.155.233 as permitted sender)
Received: from [65.61.155.233] (HELO server1.takeexit33.com) (65.61.155.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 01 Mar 2006 11:00:25 -0800
Received: (qmail 1272 invoked from network); 1 Mar 2006 19:00:04 -0000
Received: from w082.z209031132.bos-ma.dsl.cnc.net (HELO xplana.com) (209.31.132.82)
  by seddiki.com with SMTP; 1 Mar 2006 19:00:04 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C63D61.39D75AF9"
Subject: Offsets
Date: Wed, 1 Mar 2006 13:52:01 -0500
Message-ID: <666F5DC00A92964896146F60A828D32B839E24@MASSAVE.xplana.priv>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Offsets
Thread-Index: AcY9YTmH7rMLoC9dQ8WQzSl1V9BiZA==
From: "Seeta Somagani" <Seeta.Somagani@xplana.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C63D61.39D75AF9
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Is there a way to get the startOffset and endOffset if I know the
termPosition in the field?


------_=_NextPart_001_01C63D61.39D75AF9--

From java-user-return-19240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 19:27:12 2006
Return-Path: <java-user-return-19240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63282 invoked from network); 1 Mar 2006 19:27:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 19:27:11 -0000
Received: (qmail 97477 invoked by uid 500); 1 Mar 2006 19:27:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97453 invoked by uid 500); 1 Mar 2006 19:27:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97442 invoked by uid 99); 1 Mar 2006 19:27:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 11:27:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 11:27:52 -0800
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k21JR7bk026824
	for <java-user@lucene.apache.org>; Wed, 1 Mar 2006 14:27:07 -0500
X-ORBL: [69.228.231.148]
Received: from [192.168.168.15] (adsl-69-228-231-148.dsl.pltn13.pacbell.net [69.228.231.148])
	by pimout7-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k21JRULv133916;
	Wed, 1 Mar 2006 14:27:30 -0500
Message-ID: <4405F5A1.1040606@apache.org>
Date: Wed, 01 Mar 2006 11:27:29 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Hacking proximity search: looking for feedback
References: <50f433360602281210t437b53cbp369d0d306c1e0bbe@mail.gmail.com>	 <2911FD5311EEF04EABA7B8DAC518C1F607CFA887@uwamail.unitedway.org> <50f433360602281332j57d97c5cq77ab07e8fd57443d@mail.gmail.com>
In-Reply-To: <50f433360602281332j57d97c5cq77ab07e8fd57443d@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jeff Rodenburg wrote:
> Following on the Range Query approach, how is performance?  I found the
> range approach (albeit with the exact values) to be slower than the
> parsed-string approach I posited.

Note that Hoss suggested RangeFilter, not RangeQuery.  Or perhaps 
ConstantScoreRangeQuery, which is implemented in terms of RangeFilter. 
But RangeQuery will be slower than either RangeFilter or 
ConstantScoreRangeQuery.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 19:44:33 2006
Return-Path: <java-user-return-19241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71748 invoked from network); 1 Mar 2006 19:44:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 19:44:33 -0000
Received: (qmail 31880 invoked by uid 500); 1 Mar 2006 19:45:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31859 invoked by uid 500); 1 Mar 2006 19:45:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31848 invoked by uid 99); 1 Mar 2006 19:45:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 11:45:14 -0800
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (asf.osuosl.org: transitioning domain of opichals@seznam.cz does not designate 216.82.250.51 as permitted sender)
Received: from [216.82.250.51] (HELO mail108.messagelabs.com) (216.82.250.51)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 01 Mar 2006 11:45:13 -0800
X-VirusChecked: Checked
X-Env-Sender: opichals@seznam.cz
X-Msg-Ref: server-8.tower-108.messagelabs.com!1141242292!26470597!1
X-StarScan-Version: 5.5.9.1; banners=.,-,-
X-Originating-IP: [207.190.225.101]
Received: (qmail 24091 invoked from network); 1 Mar 2006 19:44:52 -0000
Received: from relayus.systinet.com (HELO relayus.systinet.com) (207.190.225.101)
  by server-8.tower-108.messagelabs.com with SMTP; 1 Mar 2006 19:44:52 -0000
Received: from relayus.systinet.com (localhost.localdomain [127.0.0.1])
	by relayus.systinet.com (8.11.6/8.11.6) with SMTP id k21JioU07273
	for <java-user@lucene.apache.org>; Wed, 1 Mar 2006 14:44:50 -0500
Received: (qmail 7268 invoked by uid 514); 1 Mar 2006 19:44:49 -0000
Received: from 10.0.20.4 by relayus (envelope-from <opichals@seznam.cz>, uid 501) with qmail-scanner-1.25 
 (avp: 4.0.3.0. spamassassin: 2.60.  
 Clear:RC:1(10.0.20.4):. 
 Processed in 0.124441 secs); 01 Mar 2006 19:44:49 -0000
Received: from mailus.in.systinet.com (10.0.20.4)
  by relayus.systinet.com with SMTP; 1 Mar 2006 19:44:49 -0000
Received: (qmail 18959 invoked from network); 1 Mar 2006 14:44:49 -0500
Received: from unknown (HELO opichal) (207.190.225.102)
  by mailus.in.systinet.com with SMTP; 1 Mar 2006 14:44:49 -0500
From: "Standa Opichal" <opichals@seznam.cz>
To: <java-user@lucene.apache.org>
Subject: field search problems
Date: Wed, 1 Mar 2006 14:44:45 -0500
Message-ID: <000601c63d68$9784e540$8797fea9@in.systinet.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-Mimeole: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcY9aJcHqXdJg7ZKTjS6ZU19YmxNJA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I have just downloaded the 1.9 release. Put the provided .war file to my
Tomcat install
and successfully created the index which I am able to query. All that in few
minutes.
I must say this is great achievement from user point of view.

However as I have read the tutorial and attempted to use the field search I
cannot
make it return relevant hits. This is also true no matter what client I use
(tomcat
deployed .war file or the demo command line)

Please see the outputs below and advice what am I doing wrong.

Best Regards

Standa


lucene-1.9-final>java -cp
lucene-demos-1.9-final.jar;lucene-core-1.9-final.jar
org.apache.lucene.demo.IndexFiles src
Indexing to directory 'index'...
adding src\demo\org\apache\lucene\demo\DeleteFiles.java
adding src\demo\org\apache\lucene\demo\FileDocument.java
adding src\demo\org\apache\lucene\demo\html\Entities.java
adding src\demo\org\apache\lucene\demo\html\HTMLParser.java
adding src\demo\org\apache\lucene\demo\html\HTMLParser.jj
adding src\demo\org\apache\lucene\demo\html\HTMLParserConstants.java
adding src\demo\org\apache\lucene\demo\html\HTMLParserTokenManager.java
adding src\demo\org\apache\lucene\demo\html\ParseException.java
adding src\demo\org\apache\lucene\demo\html\ParserThread.java
adding src\demo\org\apache\lucene\demo\html\SimpleCharStream.java
adding src\demo\org\apache\lucene\demo\html\Tags.java
adding src\demo\org\apache\lucene\demo\html\Test.java
adding src\demo\org\apache\lucene\demo\html\Token.java
adding src\demo\org\apache\lucene\demo\html\TokenMgrError.java
adding src\demo\org\apache\lucene\demo\HTMLDocument.java
adding src\demo\org\apache\lucene\demo\IndexFiles.java
adding src\demo\org\apache\lucene\demo\IndexHTML.java
adding src\demo\org\apache\lucene\demo\SearchFiles.java
adding src\jsp\configuration.jsp
adding src\jsp\footer.jsp
adding src\jsp\header.jsp
adding src\jsp\index.jsp
adding src\jsp\README.txt
adding src\jsp\results.jsp
adding src\jsp\WEB-INF\web.xml
Optimizing...
1111 total milliseconds

lucene-1.9-final>java -cp
lucene-demos-1.9-final.jar;lucene-core-1.9-final.jar
org.apache.lucene.demo.SearchFiles
Query: path:jsp
Searching for: path:jsp
0 total matching documents
Query: HTML path:jsp
Searching for: html path:jsp
5 total matching documents
1. src\jsp\footer.jsp
2. src\jsp\header.jsp
3. src\demo\org\apache\lucene\demo\IndexHTML.java
4. src\demo\org\apache\lucene\demo\HTMLDocument.java
5. src\jsp\results.jsp
Query: HTML path:"-jsp"
Searching for: html path:jsp
5 total matching documents
1. src\jsp\footer.jsp
2. src\jsp\header.jsp
3. src\demo\org\apache\lucene\demo\IndexHTML.java
4. src\demo\org\apache\lucene\demo\HTMLDocument.java
5. src\jsp\results.jsp
Query:


______________________________________________________________________
This email has been scanned by the MessageLabs Email Security System.
For more information please visit http://www.messagelabs.com/email 
______________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 19:53:43 2006
Return-Path: <java-user-return-19242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76528 invoked from network); 1 Mar 2006 19:53:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 19:53:42 -0000
Received: (qmail 43385 invoked by uid 500); 1 Mar 2006 19:54:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43342 invoked by uid 500); 1 Mar 2006 19:54:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43327 invoked by uid 99); 1 Mar 2006 19:54:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 11:54:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.32] (HELO ylpvm01.prodigy.net) (207.115.57.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 11:54:13 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm01.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k21JroO8006486
	for <java-user@lucene.apache.org>; Wed, 1 Mar 2006 14:53:51 -0500
X-ORBL: [69.228.231.148]
Received: from [192.168.168.15] (adsl-69-228-231-148.dsl.pltn13.pacbell.net [69.228.231.148])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k21JroGA063966;
	Wed, 1 Mar 2006 14:53:50 -0500
Message-ID: <4405FBCE.9090506@apache.org>
Date: Wed, 01 Mar 2006 11:53:50 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Lucene 1.9-final release available
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Release 1.9-final of Lucene is now available from:

http://www.apache.org/dyn/closer.cgi/lucene/java/

This release has many improvements since release 1.4.3, including new
features, performance improvements, bug fixes, etc.  For details, see:

http://svn.apache.org/viewcvs.cgi/*checkout*/lucene/java/tags/lucene_1_9_final/CHANGES.txt

1.9 will be the last 1.x release. It is both back-compatible with 1.4.3
and forward-compatible with the upcoming 2.0 release. Many methods and
classes in 1.4.3 have been deprecated in 1.9 and will be removed in 2.0. 
  Applications must compile against 1.9 without deprecation warnings
before they are compatible with 2.0.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 20:04:33 2006
Return-Path: <java-user-return-19243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81156 invoked from network); 1 Mar 2006 20:04:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 20:04:33 -0000
Received: (qmail 59339 invoked by uid 500); 1 Mar 2006 20:05:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59311 invoked by uid 500); 1 Mar 2006 20:05:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59300 invoked by uid 99); 1 Mar 2006 20:05:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 12:05:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.238.156.229] (HELO franken.ws) (212.238.156.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 12:05:11 -0800
Received: from [127.0.0.1] ([192.168.1.4]) by franken.ws with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 1 Mar 2006 21:06:06 +0100
Message-ID: <4405FE5F.7010100@zilverline.org>
Date: Wed, 01 Mar 2006 21:04:47 +0100
From: info <info@zilverline.org>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene 1.9-final release available
References: <4405FBCE.9090506@apache.org>
In-Reply-To: <4405FBCE.9090506@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 01 Mar 2006 20:06:06.0218 (UTC) FILETIME=[92E90EA0:01C63D6B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Great work, team,

Will the jars be available as well via maven 
(http://www.ibiblio.org/maven/lucene/jars/)? It would be great if the 
core as well as all the contrib jars would.

Michael Franken

Doug Cutting wrote:
> Release 1.9-final of Lucene is now available from:
>
> http://www.apache.org/dyn/closer.cgi/lucene/java/
>
> This release has many improvements since release 1.4.3, including new
> features, performance improvements, bug fixes, etc.  For details, see:
>
> http://svn.apache.org/viewcvs.cgi/*checkout*/lucene/java/tags/lucene_1_9_final/CHANGES.txt 
>
>
> 1.9 will be the last 1.x release. It is both back-compatible with 1.4.3
> and forward-compatible with the upcoming 2.0 release. Many methods and
> classes in 1.4.3 have been deprecated in 1.9 and will be removed in 
> 2.0.  Applications must compile against 1.9 without deprecation warnings
> before they are compatible with 2.0.
>
> Doug
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 20:38:12 2006
Return-Path: <java-user-return-19244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1268 invoked from network); 1 Mar 2006 20:38:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 20:38:10 -0000
Received: (qmail 17511 invoked by uid 500); 1 Mar 2006 20:38:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17193 invoked by uid 500); 1 Mar 2006 20:38:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17181 invoked by uid 99); 1 Mar 2006 20:38:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 12:38:52 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of samurujackson@googlemail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 12:38:51 -0800
Received: by zproxy.gmail.com with SMTP id n1so244430nzf
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 12:38:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gxpitY76qpPTGNNy5e6EmuimumkfKWvBrrHDnOi8ZM437w9ZAwP7FW3CanTY/nyXGWPIFKWwrQHja4OYsXpfFnjzaJof08yB97Elj+LLMKzVYzmDdv/68cID82l8xr997HJWPVDULCoHJ0gASm4/nGgr0lCZRJWLYC5lS+EqiFk=
Received: by 10.65.193.17 with SMTP id v17mr306645qbp;
        Wed, 01 Mar 2006 12:38:30 -0800 (PST)
Received: by 10.65.235.20 with HTTP; Wed, 1 Mar 2006 12:38:30 -0800 (PST)
Message-ID: <fed285090603011238w489bbf23ra4b89701ec0282c9@mail.gmail.com>
Date: Wed, 1 Mar 2006 21:38:30 +0100
From: "Samuru Jackson" <samurujackson@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: Get list with found words for a hit?
In-Reply-To: <OFAA2E2660.EF522D87-ONC2257122.004084F0-C2257122.0041A231@il.ibm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <fed285090602270350r306d57eci5a3949d807d6a5ea@mail.gmail.com>
	 <OFAA2E2660.EF522D87-ONC2257122.004084F0-C2257122.0041A231@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

> For the purpose of highlighting, you don't necessarily need to know in
> advance
> which word matched: you can just highlight any occurance of either Paris =
or
> London - wherever you find them - in the original text.

As I just discovered that Highlighter is not what I need in my
project. It would take too long to explain what kind of results I'm
presenting but it won't work out with Highlighter.

Is there a way to retrieve only the search "words" the user entered in BNF =
form?
Query  ::=3D ( Clause )*
Clause ::=3D ["+", "-"] [<TERM> ":"] ( <TERM> | "(" Query ")" )

For example the user entered: +Paris -London

I want to get a List that contains only {Paris, London}

Is there any method or class that can do that for me?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 21:33:10 2006
Return-Path: <java-user-return-19245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26019 invoked from network); 1 Mar 2006 21:33:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 21:33:10 -0000
Received: (qmail 95855 invoked by uid 500); 1 Mar 2006 21:33:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95821 invoked by uid 500); 1 Mar 2006 21:33:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95810 invoked by uid 99); 1 Mar 2006 21:33:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 13:33:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 13:33:51 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AF2285B774; Wed,  1 Mar 2006 13:33:30 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id AA6037F403
	for <java-user@lucene.apache.org>; Wed,  1 Mar 2006 13:33:30 -0800 (PST)
Date: Wed, 1 Mar 2006 13:33:30 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Get list with found words for a hit?
In-Reply-To: <fed285090603011238w489bbf23ra4b89701ec0282c9@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603011327441.28180@hal.rescomp.berkeley.edu>
References: <fed285090602270350r306d57eci5a3949d807d6a5ea@mail.gmail.com> 
 <OFAA2E2660.EF522D87-ONC2257122.004084F0-C2257122.0041A231@il.ibm.com>
 <fed285090603011238w489bbf23ra4b89701ec0282c9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Is there a way to retrieve only the search "words" the user entered in BNF form?
: Query  ::= ( Clause )*
: Clause ::= ["+", "-"] [<TERM> ":"] ( <TERM> | "(" Query ")" )
:
: For example the user entered: +Paris -London
:
: I want to get a List that contains only {Paris, London}

your use of "TERM" is a little vauge.  assuming for grammer is designed to
be a subset of the QueryParser syntax, then a field name is a term, as is
the tokens you are searching in each field correct?  if your input is
"+Paris: -content:London" you want the list {Paris, content, London} ?

Something you might want to look at is the Query.extractTerms(Set) method.
it should definitely work if all you are ever dealing with is simple
Boolean and Term Queries.  Some of the more exotic query types won't work
however.

(Bear in mind it extracts "Terms" in the org.apache.lucene.index.Term sense)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 22:54:11 2006
Return-Path: <java-user-return-19246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69644 invoked from network); 1 Mar 2006 22:54:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 22:54:09 -0000
Received: (qmail 58634 invoked by uid 500); 1 Mar 2006 22:54:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58611 invoked by uid 500); 1 Mar 2006 22:54:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58600 invoked by uid 99); 1 Mar 2006 22:54:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 14:54:48 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 84.95.2.1 is neither permitted nor denied by domain of eyal.junk@gmail.com)
Received: from [84.95.2.1] (HELO mtaout1.012.net.il) (84.95.2.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 14:54:47 -0800
Received: from srv1 ([87.69.27.244])
 by i_mtaout1.012.net.il (HyperSendmail v2004.12)
 with ESMTP id <0IVH002XA12PSL51@i_mtaout1.012.net.il> for
 java-user@lucene.apache.org; Thu, 02 Mar 2006 00:56:49 +0200 (IST)
Date: Thu, 02 Mar 2006 00:54:11 +0200
From: Eyal <eyal.junk@gmail.com>
Subject: RE: Adding line count to a document
In-reply-to: <000001c63cf8$b1bc9540$8700a8c0@srv1>
To: java-user@lucene.apache.org
Message-id: <000001c63d83$0e4a5380$8700a8c0@srv1>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
X-Mailer: Microsoft Office Outlook 11
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-index: AcY8Ogq0t3Kz6XuMSWqaTSVuoN5IQQBR1fng
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think my questions wasn't clear..

Let's say I'm doing something like that (c# code, but that's not the
issue..)

TextReader reader=new StreamReader("C:\FileToIndex.txt"); 
Int lineCount=CountLines("C:\FileToIndex.txt"); //This ones reads the entire
file and count the number of lines

Document doc=new Document();
doc.add(Field.Text("body"),reader);
doc.add(Field.Keyword("lineCount"),lineCount);

In the above example, I'm reading the entire file twice. This could be a
100Mb file. 

Now, Let's say I have a class LineCountingTextReader that counts the lines
as the file is being read. If I do the following
doc.add(Field.Text("body"),lcReader);
Then only after I call IndexWriter.AddDocument I will actually have the line
count (since only then the file will be read entirely). 
I don't want to read the entire file into memory and use it for both line
counting and analyzing since it may be a very big file. So I'm wondering
what other are doing? 
This is also a problem when you need to get several pieces of information
from 1 file to different fields (i.e. analyze an html file and also get the
links from it and add them to other a different field).

Thanks in advance,
Eyal 
 

> -----Original Message-----
> From: Eyal Post [mailto:eyal.junk@gmail.com] 
> Sent: Wednesday, March 01, 2006 8:24 AM
> To: java-user@lucene.apache.org
> Subject: Adding line count to a document
> 
> I'd like to add a line count field to my indexed document. 
> The obvious way is to read my file twice, once to tokenize it 
> and add it's content to a field in the document and once to 
> count the number of lines in it and add it to another field. 
> Any idea how can I optimize this and read the file once? 
> 
> Regards,
> Eyal 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 23:23:32 2006
Return-Path: <java-user-return-19247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84864 invoked from network); 1 Mar 2006 23:23:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 23:23:32 -0000
Received: (qmail 96917 invoked by uid 500); 1 Mar 2006 23:24:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96883 invoked by uid 500); 1 Mar 2006 23:24:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96871 invoked by uid 99); 1 Mar 2006 23:24:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 15:24:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Lawrence@theladders.com designates 67.151.144.115 as permitted sender)
Received: from [67.151.144.115] (HELO hermes.laddersoffice.com) (67.151.144.115)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 15:24:13 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C63D87.335DE503"
Subject: javadoc lookup
Date: Wed, 1 Mar 2006 18:23:51 -0500
Message-ID: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: javadoc lookup
Thread-Index: AcY9hzCpG54CifTkTuaAx6vSBK/otA==
From: "Larry Ogrodnek" <Lawrence@theladders.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C63D87.335DE503
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hey, I put together a little ajax / lucene javadoc lookup site that I
just wanted to share....  I've found it pretty useful to be able to just
type a few letters instead of navigating through the standard javadoc
frames...

=20

http://jdk.representqueens.com:9090/s/jdk/

http://jdk.representqueens.com:9090/s/lucene/

=20

=20

thanks,

l

=20

=20


------_=_NextPart_001_01C63D87.335DE503--

From java-user-return-19248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 23:26:03 2006
Return-Path: <java-user-return-19248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85592 invoked from network); 1 Mar 2006 23:26:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 23:26:03 -0000
Received: (qmail 98768 invoked by uid 500); 1 Mar 2006 23:26:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98743 invoked by uid 500); 1 Mar 2006 23:26:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98731 invoked by uid 99); 1 Mar 2006 23:26:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 15:26:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 15:26:44 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id E73005B8055
	for <java-user@lucene.apache.org>; Thu,  2 Mar 2006 10:26:22 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id D137853403A
	for <java-user@lucene.apache.org>; Thu,  2 Mar 2006 10:26:22 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 12860-01-89 for <java-user@lucene.apache.org>;
 Thu,  2 Mar 2006 10:26:20 +1100 (EST)
Received: from [192.168.0.242] (unknown [192.168.0.242])
	by page.mel.office.aconex.com (Postfix) with ESMTP id DF1AE534039
	for <java-user@lucene.apache.org>; Thu,  2 Mar 2006 10:26:20 +1100 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
References: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <67856FFF-6113-4A54-929D-AB539A075BBD@aconex.com>
Content-Transfer-Encoding: 7bit
From: Paul Smith <psmith@aconex.com>
Subject: Re: javadoc lookup
Date: Thu, 2 Mar 2006 10:26:20 +1100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That is neat... nice work.

On 02/03/2006, at 10:23 AM, Larry Ogrodnek wrote:

> Hey, I put together a little ajax / lucene javadoc lookup site that I
> just wanted to share....  I've found it pretty useful to be able to  
> just
> type a few letters instead of navigating through the standard javadoc
> frames...
>
>
>
> http://jdk.representqueens.com:9090/s/jdk/
>
> http://jdk.representqueens.com:9090/s/lucene/
>
>
>
>
>
> thanks,
>
> l
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 01 23:49:36 2006
Return-Path: <java-user-return-19249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96250 invoked from network); 1 Mar 2006 23:49:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Mar 2006 23:49:35 -0000
Received: (qmail 32201 invoked by uid 500); 1 Mar 2006 23:50:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32168 invoked by uid 500); 1 Mar 2006 23:50:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32157 invoked by uid 99); 1 Mar 2006 23:50:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 15:50:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.206 as permitted sender)
Received: from [66.249.92.206] (HELO uproxy.gmail.com) (66.249.92.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 15:50:17 -0800
Received: by uproxy.gmail.com with SMTP id u40so126907ugc
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 15:49:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=eF3PwHbhSJO/r9zXIqoIUeSZ6X79Imusxbsca7RB/ml3RE+069yo6QQ73nrFwA+ruotp9jIUf/T9fZlspBngdiQFQa2IrITwiOMXJVX5qoE0uUFb2YwNRqVX3kAMLL0AF1TEuqd82LkA4avRypYmrDj2qCiBq9oeZwl51c0MGEk=
Received: by 10.66.164.4 with SMTP id m4mr149254uge;
        Wed, 01 Mar 2006 15:49:56 -0800 (PST)
Received: by 10.67.15.15 with HTTP; Wed, 1 Mar 2006 15:49:56 -0800 (PST)
Message-ID: <50f433360603011549ke02d25bsfcabfaf6e32968cb@mail.gmail.com>
Date: Wed, 1 Mar 2006 15:49:56 -0800
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Hacking proximity search: looking for feedback
In-Reply-To: <4405F5A1.1040606@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3515_22043439.1141256996201"
References: <50f433360602281210t437b53cbp369d0d306c1e0bbe@mail.gmail.com>
	 <2911FD5311EEF04EABA7B8DAC518C1F607CFA887@uwamail.unitedway.org>
	 <50f433360602281332j57d97c5cq77ab07e8fd57443d@mail.gmail.com>
	 <4405F5A1.1040606@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3515_22043439.1141256996201
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Very good note, I missed that.  I need the development environment in front
of me to remember all the different class names correctly.  ;-)

-- j


On 3/1/06, Doug Cutting <cutting@apache.org> wrote:
>
> Jeff Rodenburg wrote:
> > Following on the Range Query approach, how is performance?  I found the
> > range approach (albeit with the exact values) to be slower than the
> > parsed-string approach I posited.
>
> Note that Hoss suggested RangeFilter, not RangeQuery.  Or perhaps
> ConstantScoreRangeQuery, which is implemented in terms of RangeFilter.
> But RangeQuery will be slower than either RangeFilter or
> ConstantScoreRangeQuery.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3515_22043439.1141256996201--

From java-user-return-19250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 00:15:48 2006
Return-Path: <java-user-return-19250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4455 invoked from network); 2 Mar 2006 00:15:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 00:15:48 -0000
Received: (qmail 64566 invoked by uid 500); 2 Mar 2006 00:16:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64364 invoked by uid 500); 2 Mar 2006 00:16:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64353 invoked by uid 99); 2 Mar 2006 00:16:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 16:16:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 16:16:28 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2E48633D10B; Wed,  1 Mar 2006 19:16:08 -0500 (EST)
Received: from [192.168.127.72] (12-5-50-10.bnsi.net [12.5.50.10])
	by ehatchersolutions.com (Postfix) with ESMTP id 450B733C01F
	for <java-user@lucene.apache.org>; Wed,  1 Mar 2006 19:16:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
References: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4D759C95-293C-4912-9D94-EFF7DC498323@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: javadoc lookup
Date: Wed, 1 Mar 2006 19:16:03 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00,WEIRD_PORT 
	autolearn=no version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nice!   I'm curious, what do you have cooking on the server-side?    
Having Lucene showing terms from an index of javadocs would allow for  
partial matches such that QueryParser pops ups if someone types  
"parser" (provided the text was tokenized at case shifts).

	Erik

On Mar 1, 2006, at 6:23 PM, Larry Ogrodnek wrote:

> Hey, I put together a little ajax / lucene javadoc lookup site that I
> just wanted to share....  I've found it pretty useful to be able to  
> just
> type a few letters instead of navigating through the standard javadoc
> frames...
>
>
>
> http://jdk.representqueens.com:9090/s/jdk/
>
> http://jdk.representqueens.com:9090/s/lucene/
>
>
>
>
>
> thanks,
>
> l
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 02:52:16 2006
Return-Path: <java-user-return-19251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71587 invoked from network); 2 Mar 2006 02:52:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 02:52:16 -0000
Received: (qmail 19356 invoked by uid 500); 2 Mar 2006 02:52:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19326 invoked by uid 500); 2 Mar 2006 02:52:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19315 invoked by uid 99); 2 Mar 2006 02:52:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 18:52:57 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sogwhitester@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 18:52:56 -0800
Received: by zproxy.gmail.com with SMTP id l8so312258nzf
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 18:52:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:from:to:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
        b=JJ72+Z6UxL6Z2/81bt2ParcDeAzDAn7yNWt3RFLPo34L5DPK3ktB5lOfcBiMZAfsm5U6/8JnREgmBPv4JMxCDJk/mpw2FJIfVr1f0z6UmGTMmUWEOBqHNSxQ3I9dN2D4l2NxTKi2OebifNRBQK2qutFzL5tEhzmtUk0h9GVVT7U=
Received: by 10.35.84.12 with SMTP id m12mr1612693pyl;
        Wed, 01 Mar 2006 18:52:35 -0800 (PST)
Received: from baihui ( [218.247.170.164])
        by mx.gmail.com with ESMTP id b52sm284080pyb.2006.03.01.18.52.34;
        Wed, 01 Mar 2006 18:52:35 -0800 (PST)
Message-ID: <00a401c63da4$5934ef10$1f00a8c0@baihui>
From: "sog" <sogwhitester@gmail.com>
To: <java-user@lucene.apache.org>
Subject: sentences and paragraph search requirement
Date: Thu, 2 Mar 2006 10:52:27 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="gb2312";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.1830
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I am implement a search engine, I do some special search requirement:


      Grammatical Connectors /s Search terms in the same sentence:
      design /s defect
      
     /p Search terms in the same paragraph:
      hearsay /p utterance
      
     +s The first term preceding the second within the same sentence:
      palsgraf +s island
      
     +p The first term preceding the second within the same paragraph:
      ti(mikkelson +p mikkelson)
      
      Note: When you want to specify that the same term appears at least 
twice in a sentence or paragraph, use the +s or +p connector. For example, 
the query ti(mikkelson +p mikkelson) retrieves documents in which the name 
Mikkelson occurs twice in the title field.



I am not sure lucene support this kind of search expression, How can I ?


thx

sog




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 03:27:28 2006
Return-Path: <java-user-return-19252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81806 invoked from network); 2 Mar 2006 03:27:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 03:27:28 -0000
Received: (qmail 37660 invoked by uid 500); 2 Mar 2006 03:28:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37638 invoked by uid 500); 2 Mar 2006 03:28:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37627 invoked by uid 99); 2 Mar 2006 03:28:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 19:28:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.205 as permitted sender)
Received: from [64.233.182.205] (HELO nproxy.gmail.com) (64.233.182.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 19:28:08 -0800
Received: by nproxy.gmail.com with SMTP id o60so219176nfa
        for <java-user@lucene.apache.org>; Wed, 01 Mar 2006 19:27:47 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Ta6mSPGixC0OB6GmGHMmMg9gMR8ezazo7/Iiuoopg2dWyApQXvxZaPUZCPKzeSD1rza1J6PwBz5fMHkQ1RwLVCUZXbpRvK5jivkansBwnGwno7Cy+LN8Fg4SViQtyObjMu882+nQ/PTdTLXbZJEScmN0FPEuN/a5rZbnGW7OIKc=
Received: by 10.48.49.2 with SMTP id w2mr442498nfw;
        Wed, 01 Mar 2006 19:27:47 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Wed, 1 Mar 2006 19:27:47 -0800 (PST)
Message-ID: <c68e39170603011927o1d21cdc7vde53c62e13ff882d@mail.gmail.com>
Date: Wed, 1 Mar 2006 22:27:47 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: javadoc lookup
In-Reply-To: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nice indeed.
I use IntelliJ for such things when I have it open, but when I don't I
have to click through the SVN repository (I'm normally looking for
source, not javadoc).

Could you add a link to the source as well?

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 03:50:05 2006
Return-Path: <java-user-return-19253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92875 invoked from network); 2 Mar 2006 03:50:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 03:50:05 -0000
Received: (qmail 56095 invoked by uid 500); 2 Mar 2006 03:50:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56072 invoked by uid 500); 2 Mar 2006 03:50:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56060 invoked by uid 99); 2 Mar 2006 03:50:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 19:50:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 19:50:46 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 7FC82B735C
	for <java-user@lucene.apache.org>; Thu,  2 Mar 2006 14:50:20 +1100 (EST)
Message-ID: <44066B84.4090008@nuix.com.au>
Date: Thu, 02 Mar 2006 14:50:28 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: javadoc lookup
References: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
In-Reply-To: <B117CDDF09DCE34A992927EE3581CA4C024A0A1B@hermes.laddersoffice.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Larry Ogrodnek wrote:
> Hey, I put together a little ajax / lucene javadoc lookup site that I
> just wanted to share....  I've found it pretty useful to be able to just
> type a few letters instead of navigating through the standard javadoc
> frames...
> 
>  
> 
> http://jdk.representqueens.com:9090/s/jdk/
> 
> http://jdk.representqueens.com:9090/s/lucene/

I'm sure I'm not the only one behind a firewall which blocks port 9090. 
  Is there a demo on a more standard port?

Daniel


-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 04:37:50 2006
Return-Path: <java-user-return-19254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7164 invoked from network); 2 Mar 2006 04:37:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 04:37:49 -0000
Received: (qmail 88227 invoked by uid 500); 2 Mar 2006 04:38:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88190 invoked by uid 500); 2 Mar 2006 04:38:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88179 invoked by uid 99); 2 Mar 2006 04:38:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 20:38:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.18.90.100] (HELO chnmail.satyam.com) (210.18.90.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 20:38:30 -0800
X-eSCM-MailFrom: <Haritha_Parvatham@satyam.com>
Received: from Unknown (172.18.73.12)
	by chnescm01 (172.18.76.22);
	Thu, 02 March 2006 10:08:44 +0530
Received: from disclaimerchn.corp.satyam.ad (chn.satyam.com [172.18.73.8])
	by che2.satyam.com (8.12.8/8.12.8) with ESMTP id k224SnTT012982
	for <java-user@lucene.apache.org>; Thu, 2 Mar 2006 09:58:55 +0530
Received: from ccrmsg003.corp.satyam.ad ([172.18.73.7]) by disclaimerchn.corp.satyam.ad with Microsoft SMTPSVC(6.0.3790.211); Thu, 2 Mar 2006 10:06:52 +0530
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C63DB2.EE4A1810"
Subject: How to intergrate lucene with my web application
Importance: normal
Priority: normal
Date: Thu, 2 Mar 2006 10:06:53 +0530
Message-ID: <F448FF49D11EA4459D957805E93C3A6902521861@ccrmsg003.corp.satyam.ad>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to intergrate lucene with my web application
Thread-Index: AcY9su6yaY3kVMN0TRCoInzrbtukGg==
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 02 Mar 2006 04:36:52.0462 (UTC) FILETIME=[ED7EC8E0:01C63DB2]
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on che2.satyam.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C63DB2.EE4A1810
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
=20
Thanks to all,
I have sucessfully installed lucene 1.4.3 & able to run it.
Now ,I would like to intergrate lucene with my web application.Please
guide me the steps for doing intergration.
=20
Iam using snowball stemmer for my application Since i want lucene to
support multilingualism.
But i don't know how to plugin snowball in lucene.
I have downloaded snowball stemmer source code.
=20
Thanks


DISCLAIMER:
This email (including any attachments) is intended for the sole use of =
the intended recipient/s and may contain material that is CONFIDENTIAL =
AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or =
copying or distribution or forwarding of any or all of the contents in =
this message is STRICTLY PROHIBITED. If you are not the intended =
recipient, please contact the sender by email and delete all copies; =
your cooperation in this regard is appreciated.

------_=_NextPart_001_01C63DB2.EE4A1810--


From java-user-return-19255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 06:19:47 2006
Return-Path: <java-user-return-19255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47553 invoked from network); 2 Mar 2006 06:19:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 06:19:47 -0000
Received: (qmail 71075 invoked by uid 500); 2 Mar 2006 06:20:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71046 invoked by uid 500); 2 Mar 2006 06:20:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71035 invoked by uid 99); 2 Mar 2006 06:20:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 22:20:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mta09-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 22:20:27 -0800
Received: from aamta11-winn.ispmail.ntl.com ([81.103.221.35])
          by mta09-winn.ispmail.ntl.com with ESMTP
          id <20060302062005.DDNH23947.mta09-winn.ispmail.ntl.com@aamta11-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>; Thu, 2 Mar 2006 06:20:05 +0000
Received: from jhi ([81.98.13.34]) by aamta11-winn.ispmail.ntl.com
          with SMTP
          id <20060302062005.SNVJ1217.aamta11-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>; Thu, 2 Mar 2006 06:20:05 +0000
Message-ID: <002501c63dc1$5c130290$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <F448FF49D11EA4459D957805E93C3A6902521861@ccrmsg003.corp.satyam.ad>
Subject: Re: How to intergrate lucene with my web application
Date: Thu, 2 Mar 2006 06:20:05 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi, i would download the 1.9 version as your starting fresh (unless you need 
the 1.4.3 version for some reason), what is your web application? and what 
should lucene be doing when intergrated with your web app?

there is a simple example in the binary 1.9 download, /src/jsp, look at 
"results.jsp", its a basic example of a search page (but i guess your need a 
Context class to hold the IndexSearcher for every instance/execution of 
lucene in your web app) that should demostrate an idea of how it works

I would recommend Lucene In Action, http://lucenebook.com

regards,

_gk

----- Original Message ----- 
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 02, 2006 4:36 AM
Subject: How to intergrate lucene with my web application


Hi,

Thanks to all,
I have sucessfully installed lucene 1.4.3 & able to run it.
Now ,I would like to intergrate lucene with my web application.Please
guide me the steps for doing intergration.

Iam using snowball stemmer for my application Since i want lucene to
support multilingualism.
But i don't know how to plugin snowball in lucene.
I have downloaded snowball stemmer source code.

Thanks


DISCLAIMER:
This email (including any attachments) is intended for the sole use of the 
intended recipient/s and may contain material that is CONFIDENTIAL AND 
PRIVATE COMPANY INFORMATION. Any review or reliance by others or copying or 
distribution or forwarding of any or all of the contents in this message is 
STRICTLY PROHIBITED. If you are not the intended recipient, please contact 
the sender by email and delete all copies; your cooperation in this regard 
is appreciated.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 06:31:17 2006
Return-Path: <java-user-return-19256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51715 invoked from network); 2 Mar 2006 06:31:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 06:31:16 -0000
Received: (qmail 79078 invoked by uid 500); 2 Mar 2006 06:31:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79049 invoked by uid 500); 2 Mar 2006 06:31:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79036 invoked by uid 99); 2 Mar 2006 06:31:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 22:31:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.18.90.100] (HELO chnmail.satyam.com) (210.18.90.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 22:31:56 -0800
X-eSCM-MailFrom: <Haritha_Parvatham@satyam.com>
Received: from Unknown (172.18.73.12)
	by chnescm01 (172.18.76.22);
	Thu, 02 March 2006 12:01:55 +0530
Received: from disclaimerchn.corp.satyam.ad (chn.satyam.com [172.18.73.8])
	by che2.satyam.com (8.12.8/8.12.8) with ESMTP id k226M2TR027680
	for <java-user@lucene.apache.org>; Thu, 2 Mar 2006 11:52:03 +0530
Received: from ccrmsg003.corp.satyam.ad ([172.18.73.7]) by disclaimerchn.corp.satyam.ad with Microsoft SMTPSVC(6.0.3790.211); Thu, 2 Mar 2006 11:59:59 +0530
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Importance: normal
Priority: normal
Subject: RE: How to intergrate lucene with my web application
Date: Thu, 2 Mar 2006 11:59:57 +0530
Message-ID: <F448FF49D11EA4459D957805E93C3A6902521863@ccrmsg003.corp.satyam.ad>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to intergrate lucene with my web application
Thread-Index: AcY9weR86611lp5XQzO2Yk5Q9FqmXAAAD30g
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 02 Mar 2006 06:29:59.0802 (UTC) FILETIME=[BB10ADA0:01C63DC2]
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on che2.satyam.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 Hi,
Actually,I have created front-end design page in html.From the front-end
I want to search the text.
So how I will intergrate lucene with my frontend page.How I will store
my own text in lucene.I believe in lucene it contains default java docs
text in index file.How I will replace it with my new doc/text.
Pls guide me

-----Original Message-----
From: gekkokid [mailto:me@gekkokid.org.uk]=20
Sent: Thursday, March 02, 2006 11:50 AM
To: java-user@lucene.apache.org
Subject: Re: How to intergrate lucene with my web application

hi, i would download the 1.9 version as your starting fresh (unless you
need the 1.4.3 version for some reason), what is your web application?
and what should lucene be doing when intergrated with your web app?

there is a simple example in the binary 1.9 download, /src/jsp, look at
"results.jsp", its a basic example of a search page (but i guess your
need a Context class to hold the IndexSearcher for every
instance/execution of lucene in your web app) that should demostrate an
idea of how it works

I would recommend Lucene In Action, http://lucenebook.com

regards,

_gk

----- Original Message -----
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 02, 2006 4:36 AM
Subject: How to intergrate lucene with my web application


Hi,

Thanks to all,
I have sucessfully installed lucene 1.4.3 & able to run it.
Now ,I would like to intergrate lucene with my web application.Please
guide me the steps for doing intergration.

Iam using snowball stemmer for my application Since i want lucene to
support multilingualism.
But i don't know how to plugin snowball in lucene.
I have downloaded snowball stemmer source code.

Thanks


DISCLAIMER:
This email (including any attachments) is intended for the sole use of
the=20
intended recipient/s and may contain material that is CONFIDENTIAL AND=20
PRIVATE COMPANY INFORMATION. Any review or reliance by others or copying
or=20
distribution or forwarding of any or all of the contents in this message
is=20
STRICTLY PROHIBITED. If you are not the intended recipient, please
contact=20
the sender by email and delete all copies; your cooperation in this
regard=20
is appreciated.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




DISCLAIMER:
This email (including any attachments) is intended for the sole use of =
the intended recipient/s and may contain material that is CONFIDENTIAL =
AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or =
copying or distribution or forwarding of any or all of the contents in =
this message is STRICTLY PROHIBITED. If you are not the intended =
recipient, please contact the sender by email and delete all copies; =
your cooperation in this regard is appreciated.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 07:44:14 2006
Return-Path: <java-user-return-19257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83432 invoked from network); 2 Mar 2006 07:44:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 07:44:12 -0000
Received: (qmail 36754 invoked by uid 500); 2 Mar 2006 07:44:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36724 invoked by uid 500); 2 Mar 2006 07:44:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36713 invoked by uid 99); 2 Mar 2006 07:44:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 23:44:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Mar 2006 23:44:52 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A46235B770; Wed,  1 Mar 2006 23:44:19 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A00CD7F403
	for <java-user@lucene.apache.org>; Wed,  1 Mar 2006 23:44:19 -0800 (PST)
Date: Wed, 1 Mar 2006 23:44:19 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: sentences and paragraph search requirement
In-Reply-To: <00a401c63da4$5934ef10$1f00a8c0@baihui>
Message-ID: <Pine.LNX.4.58.0603012336110.17915@hal.rescomp.berkeley.edu>
References: <00a401c63da4$5934ef10$1f00a8c0@baihui>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


:       Grammatical Connectors /s Search terms in the same sentence:

:      /p Search terms in the same paragraph:

:      +s The first term preceding the second within the same sentence:

:      +p The first term preceding the second within the same paragraph:

: I am not sure lucene support this kind of search expression, How can I ?

As discussed in the past, if you inject artificial tokens denoting
the start/end of sentences and paragraphs, then you can use SpanQueries to
accomplish this.  Search the list archives for "lucene span sentence" for
several of the past discussions.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 11:33:34 2006
Return-Path: <java-user-return-19258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90755 invoked from network); 2 Mar 2006 11:33:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 11:33:33 -0000
Received: (qmail 60416 invoked by uid 500); 2 Mar 2006 11:34:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60395 invoked by uid 500); 2 Mar 2006 11:34:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60384 invoked by uid 99); 2 Mar 2006 11:34:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 03:34:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [151.38.19.57] (HELO focuseek.com) (151.38.19.57)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 03:34:13 -0800
Received: from [192.168.0.18] (adsl-70-19.38-151.net24.it [151.38.19.70])
	by focuseek.com (Postfix) with ESMTP id CEEF267EF7C8
	for <java-user@lucene.apache.org>; Thu,  2 Mar 2006 12:33:39 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v746.2)
Content-Transfer-Encoding: 7bit
Message-Id: <D74C1802-EBF5-4096-AD24-ACEB6180EDCF@focuseek.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Michele Bini <michele@focuseek.com>
Subject: Compressed fields and gcj-build lucene: does it work?
Date: Thu, 2 Mar 2006 12:33:27 +0100
X-Mailer: Apple Mail (2.746.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I'm trying to use compressed fields with a gcj build of yesterday  
trunk lucene sources, but it crashes with a java exception. The same  
crash also occurred with a checkout made on October, 8th.The relevant  
backtrace for the exception is:

java.lang.ArrayIndexOutOfBoundsException
    at java.lang.System.arraycopy(java.lang.Object, int,  
java.lang.Object, int, int) (../lib/libgcj.so.6.0.0)
    at java.io.ByteArrayOutputStream.write(byte[], int, int) (../lib/ 
libgcj.so.6.0.0)
    at org.apache.lucene.index.FieldsReader.uncompress(byte[])  
(Unknown Source)
    at org.apache.lucene.index.FieldsReader.doc(int) (Unknown Source)
    at org.apache.lucene.index.SegmentReader.document(int) (Unknown  
Source)
    at org.apache.lucene.index.SegmentMerger.mergeFields() (Unknown  
Source)
    at org.apache.lucene.index.SegmentMerger.merge() (Unknown Source)
    at org.apache.lucene.index.IndexWriter.mergeSegments(int, int)  
(Unknown Source)
    at org.apache.lucene.index.IndexWriter.mergeSegments(int)  
(Unknown Source)
    at org.apache.lucene.index.IndexWriter.maybeMergeSegments()  
(Unknown Source)
    at org.apache.lucene.index.IndexWriter.addDocument 
(org.apache.lucene.document.Document,  
org.apache.lucene.analysis.Analyzer) (Unknown Source)
    at org.apache.lucene.index.IndexWriter.addDocument 
(org.apache.lucene.document.Document) (Unknown Source)

This happens on linux (redhat 9) with gcj 4.0.2.

I saw http://issues.apache.org/jira/browse/LUCENE-480 but I don't  
think it applies here as I'm building the index from scratch and my  
hardware doesn't look faulty :) Obviously the same code, but with non- 
compressed stored fields, works.

Is somebody using compressed fields with gcj-build lucene? Can  
somebody advice?

Thank you in advance,
Michele Bini


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 11:49:50 2006
Return-Path: <java-user-return-19259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 920 invoked from network); 2 Mar 2006 11:49:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 11:49:38 -0000
Received: (qmail 82604 invoked by uid 500); 2 Mar 2006 11:50:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82277 invoked by uid 500); 2 Mar 2006 11:50:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82266 invoked by uid 99); 2 Mar 2006 11:50:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 03:50:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 03:50:08 -0800
Received: from phys-bohemia2-2 ([129.157.72.190])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id k22Bnluf005687
	for <java-user@lucene.apache.org>; Thu, 2 Mar 2006 04:49:47 -0700 (MST)
Received: from conversion-daemon.bohemia2-mail1.czech.sun.com by
 bohemia2-mail1.czech.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IVI00K0105CDW@bohemia2-mail1.czech.sun.com>
 (original mail from Petr.Hrebejk@Sun.COM) for java-user@lucene.apache.org;
 Thu, 02 Mar 2006 12:49:46 +0100 (CET)
Received: from [129.157.75.15] (d-eprg05-75-15.Czech.Sun.COM [129.157.75.15])
 by bohemia2-mail1.czech.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTPA id <0IVI004XW0UYLW@bohemia2-mail1.czech.sun.com> for
 java-user@lucene.apache.org; Thu, 02 Mar 2006 12:49:46 +0100 (CET)
Date: Thu, 02 Mar 2006 12:48:20 +0100
From: Petr Hrebejk <Petr.Hrebejk@Sun.COM>
Subject: Storing byte arrays into an index
To: java-user@lucene.apache.org
Message-id: <4406DB84.9080601@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=UTF-8; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (X11/20050716)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,



I'm trying to use following call:

doc.add(new Field("contents", array, Field.Store.YES ) );

When array.length > 1024, then I get following exception:

[java]     at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:88)
      [java]     at 
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:284)
      [java]     at 
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:186)
      [java]     at 
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
      [java]     at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:681)
      [java]     at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
      [java]     at 
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:646)
      [java]     at 
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:453)
      [java]     at 
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:436)
      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:66)
      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
      [java]     at org.netbeans.luceneindexer.Indexer.index(Indexer.java:34)
      [java]     at org.netbeans.luceneindexer.Main.main(Main.java:51)


Setting writer.setMaxMergeDocs( 5 ); makes the index creation pass. However 
attempts to read the index throws:

Exception in thread "main" java.lang.NullPointerException
         at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:88)
         at org.apache.lucene.index.SegmentReader.document(SegmentReader.java:284)
         at org.netbeans.luceneindexer.Search.main(Search.java:107)


The program is basically the lucene demo changed to store content of a binary 
file without indexing it.

I'm not sure if I'm doing something wrong or if I should file a bug against lucene.

I'm using Lucene 1.9 final.

Thanks for reply
Hrebejk


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 16:23:53 2006
Return-Path: <java-user-return-19260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75725 invoked from network); 2 Mar 2006 16:23:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 16:23:52 -0000
Received: (qmail 91684 invoked by uid 500); 2 Mar 2006 16:24:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91660 invoked by uid 500); 2 Mar 2006 16:24:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91649 invoked by uid 99); 2 Mar 2006 16:24:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 08:24:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.1.185.11] (HELO smtp.tssg.org) (193.1.185.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 08:24:30 -0800
Received: from CiansLaptop (unknown [10.37.2.223])
	by smtp.tssg.org (Postfix) with ESMTP id ADA9563D32
	for <java-user@lucene.apache.org>; Thu,  2 Mar 2006 16:24:08 +0000 (GMT)
From: "Cian O'Maidin" <CianOMaidin@CelsusSolutions.com>
To: <java-user@lucene.apache.org>
Subject: Ignoring XML tags when creating an index with Lucene
Date: Thu, 2 Mar 2006 16:24:23 -0000
Organization: Celsus Solutions Ltd.
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001F_01C63E15.C4404720"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcY+FcOSWydi9PgWSyCQC/koroKfdA==
Message-Id: <20060302162408.ADA9563D32@smtp.tssg.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001F_01C63E15.C4404720
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi ,

            I am currently trying to Full-Text-Search Enable an =
application
server that deals solely in one type of XML document.(Of my design)

Currently I=92m sending bitmap files embedded in an <IMAGE> tag in the =
XML,
the bitmaps are encoded using Base64.=20

=20

I want to exclude these from the index that Lucene creates as they are
seriously bulking up the size of the index.

=20

Can you suggest anything please?

=20

Cian

=20

Cian =D3 Maid=EDn,

Managing Director,

Celsus Solutions Ltd,

Innovation and Research Centre,

Carriganore,

Waterford, Ireland.=20

=20

Phone: +353-86-3863812

Fax:     +353-51-302901

Email:  Cian@CelsusSolutions.com

=20

=20

CELSUS SOLUTIONS     =20

Innovation for Mobile Professionals

www.CelsusSolutions.com

=20


------=_NextPart_000_001F_01C63E15.C4404720--


From java-user-return-19261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 17:04:27 2006
Return-Path: <java-user-return-19261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 637 invoked from network); 2 Mar 2006 17:04:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 17:04:27 -0000
Received: (qmail 99096 invoked by uid 500); 2 Mar 2006 17:05:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98757 invoked by uid 500); 2 Mar 2006 17:05:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98746 invoked by uid 99); 2 Mar 2006 17:05:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 09:05:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Lawrence@theladders.com designates 67.151.144.115 as permitted sender)
Received: from [67.151.144.115] (HELO hermes.laddersoffice.com) (67.151.144.115)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 09:05:07 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: javadoc lookup
Date: Thu, 2 Mar 2006 12:04:46 -0500
Message-ID: <B117CDDF09DCE34A992927EE3581CA4C024A0A21@hermes.laddersoffice.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: javadoc lookup
Thread-Index: AcY9jo+YprTPl8O/T+Sw10Sswuq9JgAiM13g
From: "Larry Ogrodnek" <Lawrence@theladders.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for checking it out!  My implementation is pretty simple.

Building the index, I only look at <META NAME=3D"keywords" ...> elements
from the generated HTML, which conveniently contains all class/interface
names, as well as methods and constants.  The last two I'm currently
indexing, but not yet searching, mostly because it adds a lot to the
results, and I couldn't quite convince myself that I'd really use a
method lookup (but, if you do break on case shifts, it might be more
useful).

Each document contains the classname, the fqcn, and package name.  So I
just construct a BooleanQuery across all three with the user's input
(appending *), then sort the results by the shortest match.

I do like the idea of breaking on case, this would be especially great
for finding interface implementations (searching for readers and
writers, e.g.).

-l


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Wednesday, March 01, 2006 7:16 PM
To: java-user@lucene.apache.org
Subject: Re: javadoc lookup

Nice!   I'm curious, what do you have cooking on the server-side?   =20
Having Lucene showing terms from an index of javadocs would allow for =20
partial matches such that QueryParser pops ups if someone types =20
"parser" (provided the text was tokenized at case shifts).

	Erik

On Mar 1, 2006, at 6:23 PM, Larry Ogrodnek wrote:

> Hey, I put together a little ajax / lucene javadoc lookup site that I
> just wanted to share....  I've found it pretty useful to be able to =20
> just
> type a few letters instead of navigating through the standard javadoc
> frames...
>
>
>
> http://jdk.representqueens.com:9090/s/jdk/
>
> http://jdk.representqueens.com:9090/s/lucene/
>
>
>
>
>
> thanks,
>
> l
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 17:16:57 2006
Return-Path: <java-user-return-19262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10234 invoked from network); 2 Mar 2006 17:16:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 17:16:57 -0000
Received: (qmail 34209 invoked by uid 500); 2 Mar 2006 17:17:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34187 invoked by uid 500); 2 Mar 2006 17:17:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34176 invoked by uid 99); 2 Mar 2006 17:17:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 09:17:38 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.197 as permitted sender)
Received: from [64.233.182.197] (HELO nproxy.gmail.com) (64.233.182.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 09:17:37 -0800
Received: by nproxy.gmail.com with SMTP id x37so329778nfc
        for <java-user@lucene.apache.org>; Thu, 02 Mar 2006 09:17:16 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=UpYkEFFj5TiungSk4mfaLL09sU+9izLSBqsp6Wi72vELUaQbznSlbAdxQLBT5EsQVu1SUHAIan+xw1rb9xdowAabxejk5qlLBHugZDRk11oNC6/vPWoJLxzooa2mpFuMRhdrcsCENiF7O2/v6z50UyZODx6H2nBW0vWh/QiafZg=
Received: by 10.48.226.12 with SMTP id y12mr763749nfg;
        Thu, 02 Mar 2006 09:17:16 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 2 Mar 2006 09:17:15 -0800 (PST)
Message-ID: <c68e39170603020917y7c171746gb131ba1e8b87d066@mail.gmail.com>
Date: Thu, 2 Mar 2006 12:17:15 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: javadoc lookup
In-Reply-To: <B117CDDF09DCE34A992927EE3581CA4C024A0A21@hermes.laddersoffice.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <B117CDDF09DCE34A992927EE3581CA4C024A0A21@hermes.laddersoffice.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/2/06, Larry Ogrodnek <Lawrence@theladders.com> wrote:
> I do like the idea of breaking on case, this would be especially great
> for finding interface implementations (searching for readers and
> writers, e.g.).

WordDelimiterFilter does this, but it's not in core lucene yet...
you'd have to get it from Solr.

If you set the indexing analyzer to generate and catenate word parts,
and set the query analyzer to only generate word parts, then
something indexed as "IndexWriter" would be matched by both
"indexwriter" or "writer" (or "index writer" for that matter, but that's
not necessary for what you are doing).

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 17:56:25 2006
Return-Path: <java-user-return-19263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34539 invoked from network); 2 Mar 2006 17:56:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 17:56:25 -0000
Received: (qmail 16561 invoked by uid 500); 2 Mar 2006 17:57:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16459 invoked by uid 500); 2 Mar 2006 17:57:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16448 invoked by uid 99); 2 Mar 2006 17:57:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 09:57:06 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 09:57:05 -0800
Received: from northgate.starhub.net.sg ([203.117.1.53])
  by leda.starhub.net.sg with ESMTP; 03 Mar 2006 01:56:44 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by northgate.starhub.net.sg (8.12.5/8.12.5) with ESMTP id k22HuisZ006207
	for <java-user@lucene.apache.org>; Fri, 3 Mar 2006 01:56:44 +0800 (SST)
Message-ID: <440731D5.1050101@gmail.com>
Date: Fri, 03 Mar 2006 01:56:37 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Help interpreting explanation
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I'm not sure how to interpret the result of the toString method of 
Explanation.  I'm trying to see the values of each component of the 
Default Similarity formula for a particular query and a doc.  Given 
below is a sample of my Explanation output. Many thanks if anyone could 
help explain some of the values or direct me to a place that does so.

Explanation = 0.683103 = product of:
   1.7077575 = sum of:
     0.184242 = weight(Contents:x in 78), product of:
       0.13565542 = queryWeight(Contents:x), product of:
         2.509232 = idf(docFreq=85)
         0.054062527 = queryNorm
       1.3581617 = fieldWeight(Contents:x in 78), product of:
         1.7320508 = tf(termFreq(Contents:x)=3)
         2.509232 = idf(docFreq=85)
         0.3125 = fieldNorm(field=Contents, doc=78)
     0.184242 = weight(Contents:x in 78), product of:
       0.13565542 = queryWeight(Contents:x), product of:
         2.509232 = idf(docFreq=85)
         0.054062527 = queryNorm
       1.3581617 = fieldWeight(Contents:x in 78), product of:
         1.7320508 = tf(termFreq(Contents:x)=3)
         2.509232 = idf(docFreq=85)
         0.3125 = fieldNorm(field=Contents, doc=78)
     0.26218253 = weight(Contents:y in 78), product of:
       0.16182467 = queryWeight(Contents:y), product of:
         2.9932873 = idf(docFreq=52)
         0.054062527 = queryNorm
       1.6201642 = fieldWeight(Contents:y in 78), product of:
         1.7320508 = tf(termFreq(Contents:y)=3)
         2.9932873 = idf(docFreq=52)
         0.3125 = fieldNorm(field=Contents, doc=78)

--
Eugene

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 18:02:08 2006
Return-Path: <java-user-return-19264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37574 invoked from network); 2 Mar 2006 18:02:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 18:02:07 -0000
Received: (qmail 24646 invoked by uid 500); 2 Mar 2006 18:02:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24614 invoked by uid 500); 2 Mar 2006 18:02:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24587 invoked by uid 99); 2 Mar 2006 18:02:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 10:02:49 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of vsood2@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 10:02:47 -0800
Received: by zproxy.gmail.com with SMTP id q3so497778nzb
        for <java-user@lucene.apache.org>; Thu, 02 Mar 2006 10:02:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=KfaWGVitjN9tNvf+INlryKsQvYzrZYW81z9dJ+5LB6+CqENcNE3wK4YmtunpJjq9ZyRwYgxMVlfxEJFmiNwF1iXT2OAPETYvkCHmU2ZXI56pJ/XRzKNV0ls3wIzoyGlcCzYMmEoWsi2xKiYbqsJiDbDKx1JIp6XPb3BQYcdJgn4=
Received: by 10.64.233.2 with SMTP id f2mr819412qbh;
        Thu, 02 Mar 2006 10:02:26 -0800 (PST)
Received: by 10.64.243.2 with HTTP; Thu, 2 Mar 2006 10:02:26 -0800 (PST)
Message-ID: <800d6e9c0603021002g72d30729v1bb503a7b5d09ade@mail.gmail.com>
Date: Thu, 2 Mar 2006 13:02:26 -0500
From: "varun sood" <vsood2@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Ignoring XML tags when creating an index with Lucene
In-Reply-To: <20060302162408.ADA9563D32@smtp.tssg.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9997_9167566.1141322546463"
References: <20060302162408.ADA9563D32@smtp.tssg.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9997_9167566.1141322546463
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
 You can use SAX2 / DOM parser to parse XML document before submiting it to
IndexWriter (Luncene) and select only those tags which you want to index.
Its fairly easy to implement XML parser.

Hope this helps.
Varun
**
On 3/2/06, Cian O'Maidin <CianOMaidin@celsussolutions.com> wrote:
>
> Hi ,
>
>             I am currently trying to Full-Text-Search Enable an
> application
> server that deals solely in one type of XML document.(Of my design)
>
> Currently I'm sending bitmap files embedded in an <IMAGE> tag in the XML,
> the bitmaps are encoded using Base64.
>
>
>
> I want to exclude these from the index that Lucene creates as they are
> seriously bulking up the size of the index.
>
>
>
> Can you suggest anything please?
>
>
>
> Cian
>
>
>
> Cian =D3 Maid=EDn,
>
> Managing Director,
>
> Celsus Solutions Ltd,
>
> Innovation and Research Centre,
>
> Carriganore,
>
> Waterford, Ireland.
>
>
>
> Phone: +353-86-3863812
>
> Fax:     +353-51-302901
>
> Email:  Cian@CelsusSolutions.com
>
>
>
>
>
> CELSUS SOLUTIONS
>
> Innovation for Mobile Professionals
>
> www.CelsusSolutions.com
>
>
>
>
>

------=_Part_9997_9167566.1141322546463--

From java-user-return-19265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 18:27:41 2006
Return-Path: <java-user-return-19265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51155 invoked from network); 2 Mar 2006 18:27:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 18:27:41 -0000
Received: (qmail 68383 invoked by uid 500); 2 Mar 2006 18:28:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68341 invoked by uid 500); 2 Mar 2006 18:28:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68169 invoked by uid 99); 2 Mar 2006 18:28:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 10:28:12 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.195 as permitted sender)
Received: from [64.233.182.195] (HELO nproxy.gmail.com) (64.233.182.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 10:28:10 -0800
Received: by nproxy.gmail.com with SMTP id a25so342839nfc
        for <java-user@lucene.apache.org>; Thu, 02 Mar 2006 10:27:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rTednyb+wR9wJyNc9Pbap8OPeF1jpUJy5Z5UOvN5AoVXLbp+vIyTyzw00KDj0thjuoKQzZIl15xpg3KjTR2oOAhmnWn6yZY/W1WbVNtlgjU8t+m4hziT9QDrrMmQwlsCqLQAWrsmtPlwPvzcFV6/+18eoO5N4lufPyWP/YgaaoQ=
Received: by 10.48.248.3 with SMTP id v3mr781834nfh;
        Thu, 02 Mar 2006 10:27:49 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 2 Mar 2006 10:27:49 -0800 (PST)
Message-ID: <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
Date: Thu, 2 Mar 2006 13:27:49 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <440731D5.1050101@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <440731D5.1050101@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think Lucene in Action does a good job of it.
There is also a formula given in the javadoc for DefaultSimilarity
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Similarity.=
html

See my comments below (inline)

On 3/2/06, Eugene <echothis@gmail.com> wrote:
> Hi All,
>
> I'm not sure how to interpret the result of the toString method of
> Explanation.  I'm trying to see the values of each component of the
> Default Similarity formula for a particular query and a doc.  Given
> below is a sample of my Explanation output. Many thanks if anyone could
> help explain some of the values or direct me to a place that does so.
>
> Explanation =3D 0.683103 =3D product of:
>    1.7077575 =3D sum of:
>      0.184242 =3D weight(Contents:x in 78), product of:
>        0.13565542 =3D queryWeight(Contents:x), product of:
the queryWeight is query-specific... it will have the same value
for all documents matching the query.
>          2.509232 =3D idf(docFreq=3D85)
inverse document frequency... term "x" appears in 85 documents.
>          0.054062527 =3D queryNorm
queryNorm is a normalization factor... 1/sqrt(sum of all query weights squa=
red)

If you had a boost, it would also be multiplied into the queryWeight
at this point.
>        1.3581617 =3D fieldWeight(Contents:x in 78), product of:
fieldWeight components are document specific.
>          1.7320508 =3D tf(termFreq(Contents:x)=3D3)
"x" appears 3 times in the field for this document
>          2.509232 =3D idf(docFreq=3D85)
same as the previous idf factor - 85 documents contain "x"
>          0.3125 =3D fieldNorm(field=3DContents, doc=3D78)
the norm is calculated at index time... it's the length normalization
factor (1/sqrt(num tokens in this field)) multipled by any on the
field or document.

>      0.184242 =3D weight(Contents:x in 78), product of:
>        0.13565542 =3D queryWeight(Contents:x), product of:
>          2.509232 =3D idf(docFreq=3D85)
>          0.054062527 =3D queryNorm
>        1.3581617 =3D fieldWeight(Contents:x in 78), product of:
>          1.7320508 =3D tf(termFreq(Contents:x)=3D3)
>          2.509232 =3D idf(docFreq=3D85)
>          0.3125 =3D fieldNorm(field=3DContents, doc=3D78)
>      0.26218253 =3D weight(Contents:y in 78), product of:
>        0.16182467 =3D queryWeight(Contents:y), product of:
>          2.9932873 =3D idf(docFreq=3D52)
>          0.054062527 =3D queryNorm
>        1.6201642 =3D fieldWeight(Contents:y in 78), product of:
>          1.7320508 =3D tf(termFreq(Contents:y)=3D3)
>          2.9932873 =3D idf(docFreq=3D52)
>          0.3125 =3D fieldNorm(field=3DContents, doc=3D78)


-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 19:28:41 2006
Return-Path: <java-user-return-19266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81616 invoked from network); 2 Mar 2006 19:28:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 19:28:41 -0000
Received: (qmail 60132 invoked by uid 500); 2 Mar 2006 19:29:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60100 invoked by uid 500); 2 Mar 2006 19:29:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60089 invoked by uid 99); 2 Mar 2006 19:29:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 11:29:22 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 11:29:20 -0800
Received: (qmail 9824 invoked from network); 2 Mar 2006 19:28:58 -0000
Received: from unknown (HELO p5496d3b5.dip.t-dialin.net) ([pbs]695637@[84.150.211.181])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 2 Mar 2006 19:28:58 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Storing byte arrays into an index
Date: Thu, 2 Mar 2006 20:28:59 +0100
User-Agent: KMail/1.8.2
References: <4406DB84.9080601@sun.com>
In-Reply-To: <4406DB84.9080601@sun.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603022028.59378@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 02 M=C3=A4rz 2006 12:48, Petr Hrebejk wrote:

> I'm trying to use following call:
>
> doc.add(new Field("contents", array, Field.Store.YES ) );
>
> When array.length > 1024, then I get following exception:

Could you post a small, self-contained example? I cannot reproduce the=20
problem here.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 19:48:57 2006
Return-Path: <java-user-return-19267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91280 invoked from network); 2 Mar 2006 19:48:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 19:48:56 -0000
Received: (qmail 5097 invoked by uid 500); 2 Mar 2006 19:49:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4756 invoked by uid 500); 2 Mar 2006 19:49:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4745 invoked by uid 99); 2 Mar 2006 19:49:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 11:49:37 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.199 as permitted sender)
Received: from [64.233.182.199] (HELO nproxy.gmail.com) (64.233.182.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 11:49:37 -0800
Received: by nproxy.gmail.com with SMTP id y25so356850nfb
        for <java-user@lucene.apache.org>; Thu, 02 Mar 2006 11:49:15 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=bis/cg9pOKqkBTtJM4dHWFA0x5j/Q+gJYg0sEli/BAX/CoK+YUEUmDFTsyjLbacIinChzZ9YD6sl5SS1aetVaBT9XgLoiSMHhxnnBe1zcuxtR9tWGSlRCRSQKwl698dD9MHneKMmSm/QCEb60NCnIm0RQQf20Bxxsn+P91Nc7is=
Received: by 10.48.246.20 with SMTP id t20mr218030nfh;
        Thu, 02 Mar 2006 11:49:15 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 2 Mar 2006 11:49:15 -0800 (PST)
Message-ID: <c68e39170603021149k2284a456s5cf6f0e616d09237@mail.gmail.com>
Date: Thu, 2 Mar 2006 14:49:15 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Storing byte arrays into an index
In-Reply-To: <4406DB84.9080601@sun.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4406DB84.9080601@sun.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Methinks it's due to http://issues.apache.org/jira/browse/LUCENE-511
It will be fixed shortly.

If you know how to build Lucene, it would be helpful if you could try
the patch yourself.

-Yonik

On 3/2/06, Petr Hrebejk <Petr.Hrebejk@sun.com> wrote:
> Hi,
>
>
>
> I'm trying to use following call:
>
> doc.add(new Field("contents", array, Field.Store.YES ) );
>
> When array.length > 1024, then I get following exception:
>
> [java]     at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:=
88)
>       [java]     at
> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:284)
>       [java]     at
> org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:186)
>       [java]     at
> org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
>       [java]     at
> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:681)
>       [java]     at
> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
>       [java]     at
> org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:6=
46)
>       [java]     at
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:453)
>       [java]     at
> org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:436)
>       [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.=
java:66)
>       [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.=
java:60)
>       [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.=
java:60)
>       [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.=
java:60)
>       [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.=
java:60)
>       [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.=
java:60)
>       [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.=
java:60)
>       [java]     at org.netbeans.luceneindexer.Indexer.index(Indexer.java=
:34)
>       [java]     at org.netbeans.luceneindexer.Main.main(Main.java:51)
>
>
> Setting writer.setMaxMergeDocs( 5 ); makes the index creation pass. Howev=
er
> attempts to read the index throws:
>
> Exception in thread "main" java.lang.NullPointerException
>          at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:88=
)
>          at org.apache.lucene.index.SegmentReader.document(SegmentReader.=
java:284)
>          at org.netbeans.luceneindexer.Search.main(Search.java:107)
>
>
> The program is basically the lucene demo changed to store content of a bi=
nary
> file without indexing it.
>
> I'm not sure if I'm doing something wrong or if I should file a bug again=
st lucene.
>
> I'm using Lucene 1.9 final.
>
> Thanks for reply
> Hrebejk
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 21:14:01 2006
Return-Path: <java-user-return-19268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34439 invoked from network); 2 Mar 2006 21:14:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 21:14:01 -0000
Received: (qmail 32465 invoked by uid 500); 2 Mar 2006 21:14:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32147 invoked by uid 500); 2 Mar 2006 21:14:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32136 invoked by uid 99); 2 Mar 2006 21:14:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 13:14:42 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddenboer@apple.com designates 17.254.13.23 as permitted sender)
Received: from [17.254.13.23] (HELO mail-out4.apple.com) (17.254.13.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 13:14:41 -0800
Received: from relay8.apple.com (relay8.apple.com [17.128.113.38])
	by mail-out4.apple.com (8.12.11/8.12.11) with ESMTP id k22LEL2I027766
	for <java-user@lucene.apache.org>; Thu, 2 Mar 2006 13:14:21 -0800 (PST)
Received: from [17.216.24.193] (silentbob.apple.com [17.216.24.193])
	by relay8.apple.com (Apple SCV relay) with ESMTP id 6ED8C4A9
	for <java-user@lucene.apache.org>; Thu,  2 Mar 2006 13:14:21 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v746.2)
Content-Transfer-Encoding: quoted-printable
Message-Id: <BBA13A1C-7647-4743-80B8-8CB685501852@apple.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: David denBoer <ddenboer@apple.com>
Subject: Accented characters problem
Date: Thu, 2 Mar 2006 13:14:20 -0800
X-Mailer: Apple Mail (2.746.2)
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

We are havign a small problem searching for text with accents in the =20
query. Our index has a word like 'agr=E9=E9', and when we search for it, =
=20
we get no results.

The query parses (using Snowball) to :
'name:"agr\213 \213"'

Using the ISOLatin filter, we get :
'name:agra'

neither gets any results.

When I perform the search using Luke, I get the expected results.

Is there something I am not doing right? I swear this worked with =20
Lucene 1.4.3 and is not working anymore, but it has been a while...

Thanks,
David.
 =20=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 02 21:19:53 2006
Return-Path: <java-user-return-19269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37718 invoked from network); 2 Mar 2006 21:19:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Mar 2006 21:19:53 -0000
Received: (qmail 40078 invoked by uid 500); 2 Mar 2006 21:20:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40049 invoked by uid 500); 2 Mar 2006 21:20:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40038 invoked by uid 99); 2 Mar 2006 21:20:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 13:20:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Seeta.Somagani@xplana.com designates 65.61.155.233 as permitted sender)
Received: from [65.61.155.233] (HELO server1.takeexit33.com) (65.61.155.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 02 Mar 2006 13:20:33 -0800
Received: (qmail 22141 invoked from network); 2 Mar 2006 21:20:12 -0000
Received: from w082.z209031132.bos-ma.dsl.cnc.net (HELO xplana.com) (209.31.132.82)
  by bwysb.com with SMTP; 2 Mar 2006 21:20:12 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Accented characters problem
Date: Thu, 2 Mar 2006 16:18:49 -0500
Message-ID: <666F5DC00A92964896146F60A828D32B839F43@MASSAVE.xplana.priv>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Accented characters problem
Thread-Index: AcY+PlX40W6CcsQERCyBV9vGIuCp7QAAD8ng
From: "Seeta Somagani" <Seeta.Somagani@xplana.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

When I had this problem, I found out that the characters that I'm =
entering were in UTF-8 format and java converts numbers to a cp1252 =
encoding. I took care of this using xml.getBytes("UTF-8") for writing =
and similarly   new String(buffer,0,bytes_read,"UTF8") for reading. This =
solved my problem.

seeta

-----Original Message-----
From: David denBoer [mailto:ddenboer@apple.com]=20
Sent: Thursday, March 02, 2006 4:14 PM
To: java-user@lucene.apache.org
Subject: Accented characters problem

Hi all,

We are havign a small problem searching for text with accents in the =20
query. Our index has a word like 'agr=E9=E9', and when we search for it, =
=20
we get no results.

The query parses (using Snowball) to :
'name:"agr\213 \213"'

Using the ISOLatin filter, we get :
'name:agra'

neither gets any results.

When I perform the search using Luke, I get the expected results.

Is there something I am not doing right? I swear this worked with =20
Lucene 1.4.3 and is not working anymore, but it has been a while...

Thanks,
David.
 =20
---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 02:35:51 2006
Return-Path: <java-user-return-19270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60865 invoked from network); 3 Mar 2006 02:35:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 02:35:50 -0000
Received: (qmail 89694 invoked by uid 500); 3 Mar 2006 02:36:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89178 invoked by uid 500); 3 Mar 2006 02:36:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89166 invoked by uid 99); 3 Mar 2006 02:36:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 18:36:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of echothis@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 18:36:29 -0800
Received: by zproxy.gmail.com with SMTP id q3so598672nzb
        for <java-user@lucene.apache.org>; Thu, 02 Mar 2006 18:36:09 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=KliVLHaxyeEKod1nDuZ++KJC8nejGMnbnWs9KxvmDEWhvzL8nuWhyKaXmBUWYjkZa3QlfryHEPajjaJO8Ymoeuand+FyRx/u5uGP6qxjqQav4ANoBbfHiH5VKbHumSdeZhiI7ixinxW/hWSnJ1YOK0UYPFpkzs6xa0Owe1g+JWk=
Received: by 10.35.113.12 with SMTP id q12mr333861pym;
        Thu, 02 Mar 2006 18:36:08 -0800 (PST)
Received: by 10.35.82.6 with HTTP; Thu, 2 Mar 2006 18:36:08 -0800 (PST)
Message-ID: <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>
Date: Fri, 3 Mar 2006 10:36:08 +0800
From: "Eugene Ezekiel" <echothis@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5780_21842476.1141353368842"
References: <440731D5.1050101@gmail.com>
	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5780_21842476.1141353368842
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks Yonik for the reply. I got just a couple more questions,

1) Why does the explanantion print so  many times?

2) Since my query is made up of multiple terms how do I know what term "x"
is referring to?




On 3/3/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> I think Lucene in Action does a good job of it.
> There is also a formula given in the javadoc for DefaultSimilarity
>
> http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Similarit=
y.html
>
> See my comments below (inline)
>
> On 3/2/06, Eugene <echothis@gmail.com> wrote:
> > Hi All,
> >
> > I'm not sure how to interpret the result of the toString method of
> > Explanation.  I'm trying to see the values of each component of the
> > Default Similarity formula for a particular query and a doc.  Given
> > below is a sample of my Explanation output. Many thanks if anyone could
> > help explain some of the values or direct me to a place that does so.
> >
> > Explanation =3D 0.683103 =3D product of:
> >    1.7077575 =3D sum of:
> >      0.184242 =3D weight(Contents:x in 78), product of:
> >        0.13565542 =3D queryWeight(Contents:x), product of:
> the queryWeight is query-specific... it will have the same value
> for all documents matching the query.
> >          2.509232 =3D idf(docFreq=3D85)
> inverse document frequency... term "x" appears in 85 documents.
> >          0.054062527 =3D queryNorm
> queryNorm is a normalization factor... 1/sqrt(sum of all query weights
> squared)
>
> If you had a boost, it would also be multiplied into the queryWeight
> at this point.
> >        1.3581617 =3D fieldWeight(Contents:x in 78), product of:
> fieldWeight components are document specific.
> >          1.7320508 =3D tf(termFreq(Contents:x)=3D3)
> "x" appears 3 times in the field for this document
> >          2.509232 =3D idf(docFreq=3D85)
> same as the previous idf factor - 85 documents contain "x"
> >          0.3125 =3D fieldNorm(field=3DContents, doc=3D78)
> the norm is calculated at index time... it's the length normalization
> factor (1/sqrt(num tokens in this field)) multipled by any on the
> field or document.
>
> >      0.184242 =3D weight(Contents:x in 78), product of:
> >        0.13565542 =3D queryWeight(Contents:x), product of:
> >          2.509232 =3D idf(docFreq=3D85)
> >          0.054062527 =3D queryNorm
> >        1.3581617 =3D fieldWeight(Contents:x in 78), product of:
> >          1.7320508 =3D tf(termFreq(Contents:x)=3D3)
> >          2.509232 =3D idf(docFreq=3D85)
> >          0.3125 =3D fieldNorm(field=3DContents, doc=3D78)
> >      0.26218253 =3D weight(Contents:y in 78), product of:
> >        0.16182467 =3D queryWeight(Contents:y), product of:
> >          2.9932873 =3D idf(docFreq=3D52)
> >          0.054062527 =3D queryNorm
> >        1.6201642 =3D fieldWeight(Contents:y in 78), product of:
> >          1.7320508 =3D tf(termFreq(Contents:y)=3D3)
> >          2.9932873 =3D idf(docFreq=3D52)
> >          0.3125 =3D fieldNorm(field=3DContents, doc=3D78)
>
>
> -Yonik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Regards,
Eugene

------=_Part_5780_21842476.1141353368842--

From java-user-return-19271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 04:26:27 2006
Return-Path: <java-user-return-19271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98775 invoked from network); 3 Mar 2006 04:26:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 04:26:27 -0000
Received: (qmail 80890 invoked by uid 500); 3 Mar 2006 04:27:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80114 invoked by uid 500); 3 Mar 2006 04:27:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80102 invoked by uid 99); 3 Mar 2006 04:27:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 20:27:08 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.193 as permitted sender)
Received: from [64.233.182.193] (HELO nproxy.gmail.com) (64.233.182.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Mar 2006 20:27:07 -0800
Received: by nproxy.gmail.com with SMTP id l35so419655nfa
        for <java-user@lucene.apache.org>; Thu, 02 Mar 2006 20:26:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=FGvnKC+SeiGsacATejK6hwahtznk+HYABrDsjpPneY0Bmr+3Q0OfQo5vCujUmLOEOaB0JcAF3kJiowkCWxhX9Uc0ZcG3vPAw84mwjRj7MDyhYcYM60eP46+aNH3cc1Wd8vm4YhRtEKcMh6DIntjRe+Fb1WBxw8HQ9UmZsfcliPM=
Received: by 10.48.3.15 with SMTP id 15mr1007661nfc;
        Thu, 02 Mar 2006 20:26:45 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 2 Mar 2006 20:26:45 -0800 (PST)
Message-ID: <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>
Date: Thu, 2 Mar 2006 23:26:45 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <440731D5.1050101@gmail.com>
	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
	 <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/2/06, Eugene Ezekiel <echothis@gmail.com> wrote:
> Thanks Yonik for the reply. I got just a couple more questions,
>
> 1) Why does the explanantion print so  many times?

Because it was a compound query with multiple parts to it.  It's one explan=
ation
with multiple parts.

>From the explain output, I would guess the original query was something lik=
e
x x y or Contents:x Contents:x Contents:y

> 2) Since my query is made up of multiple terms how do I know what term "x=
"
> is referring to?

It's actually a literal "x".

For example, in my index, if I search for
solr search lucene when the default field is text, then I get the
following explain:

1.1132671 =3D sum of:
  0.27831677 =3D weight(text:solr in 84), product of:
    0.57735026 =3D queryWeight(text:solr), product of:
      3.85647 =3D idf(docFreq=3D4)
      0.14970951 =3D queryNorm
    0.48205876 =3D fieldWeight(text:solr in 84), product of:
      1.0 =3D tf(termFreq(text:solr)=3D1)
      3.85647 =3D idf(docFreq=3D4)
      0.125 =3D fieldNorm(field=3Dtext, doc=3D84)
  0.55663353 =3D weight(text:search in 84), product of:
    0.57735026 =3D queryWeight(text:search), product of:
      3.85647 =3D idf(docFreq=3D4)
      0.14970951 =3D queryNorm
    0.9641175 =3D fieldWeight(text:search in 84), product of:
      2.0 =3D tf(termFreq(text:search)=3D4)
      3.85647 =3D idf(docFreq=3D4)
      0.125 =3D fieldNorm(field=3Dtext, doc=3D84)
  0.27831677 =3D weight(text:lucen in 84), product of:
    0.57735026 =3D queryWeight(text:lucen), product of:
      3.85647 =3D idf(docFreq=3D4)
      0.14970951 =3D queryNorm
    0.48205876 =3D fieldWeight(text:lucen in 84), product of:
      1.0 =3D tf(termFreq(text:lucen)=3D1)
      3.85647 =3D idf(docFreq=3D4)
      0.125 =3D fieldNorm(field=3Dtext, doc=3D84)

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 10:47:44 2006
Return-Path: <java-user-return-19272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59482 invoked from network); 3 Mar 2006 10:47:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 10:47:44 -0000
Received: (qmail 37775 invoked by uid 500); 3 Mar 2006 10:48:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37744 invoked by uid 500); 3 Mar 2006 10:48:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37733 invoked by uid 99); 3 Mar 2006 10:48:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 02:48:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 02:48:24 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 3 Mar 2006 02:32:28 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: :using different analyzers for indexing and searching:
Date: Fri, 3 Mar 2006 16:21:53 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0009_01C63EDE.9C217CE0"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
thread-index: AcY+sHumc3csrew1TaqRCVGVsa9o4w==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-ID: <KINGtamg6dfEm58zJZj0000293b@King.Siti.com>
X-OriginalArrivalTime: 03 Mar 2006 10:32:29.0125 (UTC) FILETIME=[C58CEF50:01C63EAD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0009_01C63EDE.9C217CE0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi ,

 

I am using Standard Analyzer with stop words when I am trying to index my
documents.. but when I want to support wildcard functionality it is not
working with Standard Analyzer since it ignores the Punctuation character
where * and ? are also part of Punctuations . So I want to use another
analyzer for searcher. If I do like this will I get my required result or
not.. Most importantly I would like to know is this a  good practice to have
two different analyzers for two operations or same analyzer..  

 

 

 

Thanks

 

Ravi Kumar Jaladanki


------=_NextPart_000_0009_01C63EDE.9C217CE0--


From java-user-return-19273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 13:51:10 2006
Return-Path: <java-user-return-19273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52616 invoked from network); 3 Mar 2006 13:51:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 13:51:10 -0000
Received: (qmail 7346 invoked by uid 500); 3 Mar 2006 13:51:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7321 invoked by uid 500); 3 Mar 2006 13:51:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7303 invoked by uid 99); 3 Mar 2006 13:51:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 05:51:50 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 05:51:48 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FFAgn-0001il-KC
	for java-user@lucene.apache.org; Fri, 03 Mar 2006 16:51:25 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: search problem
Date: Fri, 3 Mar 2006 16:51:05 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcY8mzX8fcGOph73QJeonXF23SyjzgCLhkXQ
In-Reply-To: <Pine.LNX.4.58.0602281110020.4463@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060303135150.380CF10FB00B@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


2) assuming what you want is not all brands and all prices, but just the
prices and brands of the documents in you results, then i would strongly
recommend doing your search twice -- once do get the Hits object you need
and once using a HitCollector.  Within the HitCollector, use FieldCaches
to lookup the values of the fields you want.  this requires that those
fields are indexed and not tokenized, but it should be *much* faster then
your current approach.

Where can I see the example using HitCollector ?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 15:00:53 2006
Return-Path: <java-user-return-19274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99037 invoked from network); 3 Mar 2006 15:00:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 15:00:53 -0000
Received: (qmail 49773 invoked by uid 500); 3 Mar 2006 15:01:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49741 invoked by uid 500); 3 Mar 2006 15:01:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49730 invoked by uid 99); 3 Mar 2006 15:01:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 07:01:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 07:01:31 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FFBlm-0005Dk-Jj
	for java-user@lucene.apache.org; Fri, 03 Mar 2006 16:00:38 +0100
Received: from c-24-20-199-223.hsd1.or.comcast.net ([24.20.199.223])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 03 Mar 2006 16:00:38 +0100
Received: from dobleerre by c-24-20-199-223.hsd1.or.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 03 Mar 2006 16:00:38 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Raul Raja Martinez <dobleerre@estudiowebs.com>
Subject:  Search on many indexes at once
Date:  Fri, 03 Mar 2006 07:00:05 -0800
Lines: 10
Message-ID: <du9llm$b99$1@sea.gmane.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c-24-20-199-223.hsd1.or.comcast.net
User-Agent: Thunderbird 1.5 (Macintosh/20051201)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is it possible to search many indexes in one query and get back the Hits 
ordered by relevance?

Can someone point me out to some document or place that explains this?

any help is appreciated.

Thanks.

Raul.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 15:17:58 2006
Return-Path: <java-user-return-19275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8762 invoked from network); 3 Mar 2006 15:17:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 15:17:58 -0000
Received: (qmail 78509 invoked by uid 500); 3 Mar 2006 15:18:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78317 invoked by uid 500); 3 Mar 2006 15:18:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78306 invoked by uid 99); 3 Mar 2006 15:18:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 07:18:39 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of findmath@gmail.com designates 64.233.184.204 as permitted sender)
Received: from [64.233.184.204] (HELO wproxy.gmail.com) (64.233.184.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 07:18:38 -0800
Received: by wproxy.gmail.com with SMTP id i4so905907wra
        for <java-user@lucene.apache.org>; Fri, 03 Mar 2006 07:18:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=O90Vta3h1SHwbBzHgbcCh8Y/MlQk2CCLRkVppo0c3xQ5QHSbhrf7iaYEoBw35Yhid8rSfNn2mrD24znxE+Vk7BcIPDmVNDF/z0juxUzlol/RkCMpyiz2buTsXjiPmZiA3NoRcYwXZXnj2w8vqDVUs7o/0QF0u6w/Hxfjf7NFWMg=
Received: by 10.65.182.17 with SMTP id j17mr1472857qbp;
        Fri, 03 Mar 2006 07:18:17 -0800 (PST)
Received: by 10.65.244.16 with HTTP; Fri, 3 Mar 2006 07:18:17 -0800 (PST)
Message-ID: <abe188f20603030718t3b72975dn32d8551c3e269217@mail.gmail.com>
Date: Fri, 3 Mar 2006 09:18:17 -0600
From: "Rajesh Munavalli" <findmath@gmail.com>
To: java-user@lucene.apache.org
Subject: Query filter and span query
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14115_27835394.1141399097510"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14115_27835394.1141399097510
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I am not sure if a Query Filter would reduce the retrieval time in the
following scenario. The idea is to retrieve top N documents where the query
terms appear near one another within a document.

Let

A =3D Total number of query terms

B =3D Subset of A where

Number of Query terms(B) << Number of Query terms(A)

C =3D Pairs of terms in B

But I make sure that the pair selection results in, the Number of term
pairs(C) =3D Number of query terms(B)

I need to retrieve the documents by formulating the query as

BooleanQuery(TermQuery(A) OR SpanNearQuery(C))

Option 1: BooleanQuery(TermQuery(A) OR SpanNearQuery(C))

Option 2:

Step1: BooleanQuery(TermQuery(A))

Step2: Use a query filter top N documents. The number of documents N is muc=
h
less compared to the entire document collection.

Step3: SpanNearQuery(C) on those top N documents
Since Span queries are slower. Considering the fact that the number of
documents N would be much less than the total number of documents in the
index, is it better to query them on reduced number of N documents as in
Option 2?

Thanks,

Rajesh Munavalli

------=_Part_14115_27835394.1141399097510--

From java-user-return-19276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 15:47:22 2006
Return-Path: <java-user-return-19276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24216 invoked from network); 3 Mar 2006 15:47:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 15:47:22 -0000
Received: (qmail 25075 invoked by uid 500); 3 Mar 2006 15:48:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25052 invoked by uid 500); 3 Mar 2006 15:48:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25041 invoked by uid 99); 3 Mar 2006 15:48:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 07:48:03 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 07:48:02 -0800
Received: from imx2.starhub.net.sg ([203.116.254.42])
  by leda.starhub.net.sg with ESMTP; 03 Mar 2006 23:47:38 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx2.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k23Fixwf012655
	for <java-user@lucene.apache.org>; Fri, 3 Mar 2006 23:44:59 +0800
Message-ID: <440864B4.1020105@gmail.com>
Date: Fri, 03 Mar 2006 23:45:56 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>	 <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com> <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>
In-Reply-To: <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Yonik,

Thanks a lot, I think i understand how explanation works better now.

But, there's something weird I noticed. I've a query like:
"problem formulation each possible x probability p x y find x p x y 
maximized how compute p x y"

The weird thing is that literals like "problem", "formulation" and other 
words don't show up in explanation only "p" "x" and "y" do show up. And 
I get returned a hit score of 1.0 when the explanation output is 1.3260187:

Explanation = 1.3260187 = product of:
   2.410943 = sum of:
.....

So, basically 2 simple questions:

1) How do I make all the literals in my query show up in explanation?

2) How does Lucene convert an Explanation score of 1.3260187 to 1.0?

Thanks.

--
Eugene

Yonik Seeley wrote:
> On 3/2/06, Eugene Ezekiel <echothis@gmail.com> wrote:
>> Thanks Yonik for the reply. I got just a couple more questions,
>>
>> 1) Why does the explanantion print so  many times?
> 
> Because it was a compound query with multiple parts to it.  It's one explanation
> with multiple parts.
> 
>>>From the explain output, I would guess the original query was something like
> x x y or Contents:x Contents:x Contents:y
> 
>> 2) Since my query is made up of multiple terms how do I know what term "x"
>> is referring to?
> 
> It's actually a literal "x".
> 
> For example, in my index, if I search for
> solr search lucene when the default field is text, then I get the
> following explain:
> 
> 1.1132671 = sum of:
>   0.27831677 = weight(text:solr in 84), product of:
>     0.57735026 = queryWeight(text:solr), product of:
>       3.85647 = idf(docFreq=4)
>       0.14970951 = queryNorm
>     0.48205876 = fieldWeight(text:solr in 84), product of:
>       1.0 = tf(termFreq(text:solr)=1)
>       3.85647 = idf(docFreq=4)
>       0.125 = fieldNorm(field=text, doc=84)
>   0.55663353 = weight(text:search in 84), product of:
>     0.57735026 = queryWeight(text:search), product of:
>       3.85647 = idf(docFreq=4)
>       0.14970951 = queryNorm
>     0.9641175 = fieldWeight(text:search in 84), product of:
>       2.0 = tf(termFreq(text:search)=4)
>       3.85647 = idf(docFreq=4)
>       0.125 = fieldNorm(field=text, doc=84)
>   0.27831677 = weight(text:lucen in 84), product of:
>     0.57735026 = queryWeight(text:lucen), product of:
>       3.85647 = idf(docFreq=4)
>       0.14970951 = queryNorm
>     0.48205876 = fieldWeight(text:lucen in 84), product of:
>       1.0 = tf(termFreq(text:lucen)=1)
>       3.85647 = idf(docFreq=4)
>       0.125 = fieldNorm(field=text, doc=84)
> 
> -Yonik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 15:59:42 2006
Return-Path: <java-user-return-19277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31034 invoked from network); 3 Mar 2006 15:59:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 15:59:42 -0000
Received: (qmail 49363 invoked by uid 500); 3 Mar 2006 16:00:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49330 invoked by uid 500); 3 Mar 2006 16:00:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49319 invoked by uid 99); 3 Mar 2006 16:00:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:00:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.207 as permitted sender)
Received: from [64.233.182.207] (HELO nproxy.gmail.com) (64.233.182.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:00:23 -0800
Received: by nproxy.gmail.com with SMTP id l23so513182nfc
        for <java-user@lucene.apache.org>; Fri, 03 Mar 2006 08:00:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=q8JUcWC+wiYXeE8hKYl8p2bnRtoSLPhVmY46PiJpIIhn6WdeRdwWvn1ocmSEWUcfVj9srOcnmzIGjFImoZvlwDLBLleaD0S2+f0o6JHSrpMZ5PB0S28StxNEu9ncbVOaRs0y+JT0TJ5AOkEMJiybTSJ5Cx7bskX6dkoPl0m3xII=
Received: by 10.49.43.10 with SMTP id v10mr820598nfj;
        Fri, 03 Mar 2006 08:00:01 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Fri, 3 Mar 2006 08:00:01 -0800 (PST)
Message-ID: <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
Date: Fri, 3 Mar 2006 11:00:01 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <440864B4.1020105@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <440731D5.1050101@gmail.com>
	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
	 <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>
	 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>
	 <440864B4.1020105@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/3/06, Eugene <echothis@gmail.com> wrote:
> Hi Yonik,
>
> Thanks a lot, I think i understand how explanation works better now.
>
> But, there's something weird I noticed. I've a query like:
> "problem formulation each possible x probability p x y find x p x y
> maximized how compute p x y"
>
> The weird thing is that literals like "problem", "formulation" and other
> words don't show up in explanation only "p" "x" and "y" do show up. And
> I get returned a hit score of 1.0 when the explanation output is 1.326018=
7:
>
> Explanation =3D 1.3260187 =3D product of:
>    2.410943 =3D sum of:
> .....
>
> So, basically 2 simple questions:
>
> 1) How do I make all the literals in my query show up in explanation?

Only the literals that match that particular document will show up in
the explain for that document.  So the explain that you showed before
either belonged to a document that only matched "x" and "y" from all
the terms in your query, or you have an analyzer problem that is
causing more terms not to match (try using the same analyzer to query
that you used to index the document)

> 2) How does Lucene convert an Explanation score of 1.3260187 to 1.0?

The Hits class normalizes scores by dividing all scores by the highest
score, if that highest score is above 1.0.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 16:14:06 2006
Return-Path: <java-user-return-19278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42654 invoked from network); 3 Mar 2006 16:14:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 16:14:04 -0000
Received: (qmail 86792 invoked by uid 500); 3 Mar 2006 16:14:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86764 invoked by uid 500); 3 Mar 2006 16:14:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86746 invoked by uid 99); 3 Mar 2006 16:14:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:14:45 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:14:44 -0800
Received: from imx2.starhub.net.sg ([203.116.254.42])
  by leda.starhub.net.sg with ESMTP; 04 Mar 2006 00:14:22 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx2.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k23GDGwf026634
	for <java-user@lucene.apache.org>; Sat, 4 Mar 2006 00:13:16 +0800
Message-ID: <44086B56.4040509@gmail.com>
Date: Sat, 04 Mar 2006 00:14:14 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>	 <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>	 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>	 <440864B4.1020105@gmail.com> <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
In-Reply-To: <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

You mentioned:
"The Hits class normalizes scores by dividing all scores by the highest
score, if that highest score is above 1.0."

Can you explain what highest score are we talking about? I think there's 
only one score for a query and doc right?

Thanks
Yonik Seeley wrote:
> On 3/3/06, Eugene <echothis@gmail.com> wrote:
>> Hi Yonik,
>>
>> Thanks a lot, I think i understand how explanation works better now.
>>
>> But, there's something weird I noticed. I've a query like:
>> "problem formulation each possible x probability p x y find x p x y
>> maximized how compute p x y"
>>
>> The weird thing is that literals like "problem", "formulation" and other
>> words don't show up in explanation only "p" "x" and "y" do show up. And
>> I get returned a hit score of 1.0 when the explanation output is 1.3260187:
>>
>> Explanation = 1.3260187 = product of:
>>    2.410943 = sum of:
>> .....
>>
>> So, basically 2 simple questions:
>>
>> 1) How do I make all the literals in my query show up in explanation?
> 
> Only the literals that match that particular document will show up in
> the explain for that document.  So the explain that you showed before
> either belonged to a document that only matched "x" and "y" from all
> the terms in your query, or you have an analyzer problem that is
> causing more terms not to match (try using the same analyzer to query
> that you used to index the document)
> 
>> 2) How does Lucene convert an Explanation score of 1.3260187 to 1.0?
> 
> The Hits class normalizes scores by dividing all scores by the highest
> score, if that highest score is above 1.0.
> 
> -Yonik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 16:34:27 2006
Return-Path: <java-user-return-19279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59008 invoked from network); 3 Mar 2006 16:34:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 16:34:22 -0000
Received: (qmail 42217 invoked by uid 500); 3 Mar 2006 16:35:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42195 invoked by uid 500); 3 Mar 2006 16:35:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42183 invoked by uid 99); 3 Mar 2006 16:35:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:35:02 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:35:01 -0800
Received: from northgate.starhub.net.sg ([203.117.1.53])
  by leda.starhub.net.sg with ESMTP; 04 Mar 2006 00:34:30 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by northgate.starhub.net.sg (8.12.5/8.12.5) with ESMTP id k23GYTVb013693
	for <java-user@lucene.apache.org>; Sat, 4 Mar 2006 00:34:30 +0800 (SST)
Message-ID: <4408700F.8010502@gmail.com>
Date: Sat, 04 Mar 2006 00:34:23 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>	 <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>	 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>	 <440864B4.1020105@gmail.com> <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com> <44086B56.4040509@gmail.com>
In-Reply-To: <44086B56.4040509@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok, i figured out the normalization it was actually on an earlier post 
here: 
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200601.mbox/%3C88c6a6720601270001k760740b4h3606b5e7fdb904c3@mail.gmail.com%3E

Just one more question: Any way in which i can disable this normalization?

Thanks for all the help so far.

--
Eugene

Eugene wrote:
> Hi,
> 
> You mentioned:
> "The Hits class normalizes scores by dividing all scores by the highest
> score, if that highest score is above 1.0."
> 
> Can you explain what highest score are we talking about? I think there's 
> only one score for a query and doc right?
> 
> Thanks
> Yonik Seeley wrote:
>> On 3/3/06, Eugene <echothis@gmail.com> wrote:
>>> Hi Yonik,
>>>
>>> Thanks a lot, I think i understand how explanation works better now.
>>>
>>> But, there's something weird I noticed. I've a query like:
>>> "problem formulation each possible x probability p x y find x p x y
>>> maximized how compute p x y"
>>>
>>> The weird thing is that literals like "problem", "formulation" and other
>>> words don't show up in explanation only "p" "x" and "y" do show up. And
>>> I get returned a hit score of 1.0 when the explanation output is 
>>> 1.3260187:
>>>
>>> Explanation = 1.3260187 = product of:
>>>    2.410943 = sum of:
>>> .....
>>>
>>> So, basically 2 simple questions:
>>>
>>> 1) How do I make all the literals in my query show up in explanation?
>>
>> Only the literals that match that particular document will show up in
>> the explain for that document.  So the explain that you showed before
>> either belonged to a document that only matched "x" and "y" from all
>> the terms in your query, or you have an analyzer problem that is
>> causing more terms not to match (try using the same analyzer to query
>> that you used to index the document)
>>
>>> 2) How does Lucene convert an Explanation score of 1.3260187 to 1.0?
>>
>> The Hits class normalizes scores by dividing all scores by the highest
>> score, if that highest score is above 1.0.
>>
>> -Yonik
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 16:46:50 2006
Return-Path: <java-user-return-19280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73870 invoked from network); 3 Mar 2006 16:46:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 16:46:50 -0000
Received: (qmail 72469 invoked by uid 500); 3 Mar 2006 16:47:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72446 invoked by uid 500); 3 Mar 2006 16:47:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72435 invoked by uid 99); 3 Mar 2006 16:47:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:47:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.192 as permitted sender)
Received: from [64.233.182.192] (HELO nproxy.gmail.com) (64.233.182.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 08:47:29 -0800
Received: by nproxy.gmail.com with SMTP id l37so514377nfc
        for <java-user@lucene.apache.org>; Fri, 03 Mar 2006 08:47:07 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=S5vEfYGZi9g/MbjeZvjKIuF25otsBNimuV+pT8oQltGKHiVcvAbV//eFB0y81zHUvz9sF19pkueC/maAMxDCol8Gow27oH/p01Lbdcxscv/2q9XRU35NjFAO7je8g/1IJ9i5dmR3kIL22MTKLHqFMVADFf0ivA7Xm9qNwur6Hgc=
Received: by 10.48.142.9 with SMTP id p9mr1194893nfd;
        Fri, 03 Mar 2006 08:47:07 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Fri, 3 Mar 2006 08:47:07 -0800 (PST)
Message-ID: <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com>
Date: Fri, 3 Mar 2006 11:47:07 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <4408700F.8010502@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <440731D5.1050101@gmail.com>
	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
	 <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>
	 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>
	 <440864B4.1020105@gmail.com>
	 <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
	 <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/3/06, Eugene <echothis@gmail.com> wrote:
> Just one more question: Any way in which i can disable this normalization=
?

We disabled this normalization for in Lucene 1.9 for the "expert"
level search methods on IndexSearcher.  Use the search methods that
don't return Hits.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 17:46:15 2006
Return-Path: <java-user-return-19281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24348 invoked from network); 3 Mar 2006 17:46:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 17:46:15 -0000
Received: (qmail 10339 invoked by uid 500); 3 Mar 2006 17:46:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10319 invoked by uid 500); 3 Mar 2006 17:46:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10303 invoked by uid 99); 3 Mar 2006 17:46:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 09:46:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.207 as permitted sender)
Received: from [66.249.92.207] (HELO uproxy.gmail.com) (66.249.92.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 09:46:55 -0800
Received: by uproxy.gmail.com with SMTP id j3so344594ugf
        for <java-user@lucene.apache.org>; Fri, 03 Mar 2006 09:46:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=HS6FXJSum0LwBWt5vTKFsQVniWE/D3npyYT5ZQyQ6SjS+DgJV8zwbCHB0OjDwrPV60+ohHiss59683kQJPk5WrJ+9ZK9zMICpFKMH/7/qnwZnEJ34xXCPX6B+5umKnzoa96xnKrpshX3jFL/CEGpvp4CkhCmIZsoLEZddFJpeVA=
Received: by 10.66.245.7 with SMTP id s7mr1279782ugh;
        Fri, 03 Mar 2006 09:46:33 -0800 (PST)
Received: by 10.67.15.15 with HTTP; Fri, 3 Mar 2006 09:46:33 -0800 (PST)
Message-ID: <50f433360603030946x76e995b3ha4dd9edfe1beadb3@mail.gmail.com>
Date: Fri, 3 Mar 2006 09:46:33 -0800
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Search on many indexes at once
In-Reply-To: <du9llm$b99$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17292_33550676.1141407993740"
References: <du9llm$b99$1@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17292_33550676.1141407993740
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Raul -

You'll want to look at the MultiSearcher and ParallelMultiSearcher classes
for this.

On 3/3/06, Raul Raja Martinez <dobleerre@estudiowebs.com> wrote:
>
> Is it possible to search many indexes in one query and get back the Hits
> ordered by relevance?
>
> Can someone point me out to some document or place that explains this?
>
> any help is appreciated.
>
> Thanks.
>
> Raul.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_17292_33550676.1141407993740--

From java-user-return-19282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 17:49:53 2006
Return-Path: <java-user-return-19282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26856 invoked from network); 3 Mar 2006 17:49:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 17:49:52 -0000
Received: (qmail 17237 invoked by uid 500); 3 Mar 2006 17:50:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17208 invoked by uid 500); 3 Mar 2006 17:50:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17197 invoked by uid 99); 3 Mar 2006 17:50:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 09:50:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 09:50:30 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 323C15B771; Fri,  3 Mar 2006 09:50:03 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 294F27F403
	for <java-user@lucene.apache.org>; Fri,  3 Mar 2006 09:50:03 -0800 (PST)
Date: Fri, 3 Mar 2006 09:50:03 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: :using different analyzers for indexing and searching:
In-Reply-To: <KINGtamg6dfEm58zJZj0000293b@King.Siti.com>
Message-ID: <Pine.LNX.4.58.0603030947240.3032@hal.rescomp.berkeley.edu>
References: <KINGtamg6dfEm58zJZj0000293b@King.Siti.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I am using Standard Analyzer with stop words when I am trying to index my
: documents.. but when I want to support wildcard functionality it is not
: working with Standard Analyzer since it ignores the Punctuation character
: where * and ? are also part of Punctuations . So I want to use another
: analyzer for searcher. If I do like this will I get my required result or
: not.. Most importantly I would like to know is this a  good practice to have
: two different analyzers for two operations or same analyzer..

There are certainly legitimate cases where it makes sense to have
differnet analyzers at index/query time -- the best example being a
synonym filter -- but i don't think this is one of those cases.

when using Prefix and WIldCard queries, there isn't really any safe way to
analyze the text -- partly because of mid-token wildcards, but also
because how do you go about doing things like stemming a "prefix" if you
don't know what the full token is?

this is why the default QueryParser doesn't analyze tokens when it sees
that they are being used for either WildCard or Prefix queries.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 17:58:09 2006
Return-Path: <java-user-return-19283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32679 invoked from network); 3 Mar 2006 17:58:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 17:58:09 -0000
Received: (qmail 30349 invoked by uid 500); 3 Mar 2006 17:58:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30324 invoked by uid 500); 3 Mar 2006 17:58:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30313 invoked by uid 99); 3 Mar 2006 17:58:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 09:58:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 09:58:49 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 743975B763; Fri,  3 Mar 2006 09:58:29 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 59FA37F403
	for <java-user@lucene.apache.org>; Fri,  3 Mar 2006 09:58:29 -0800 (PST)
Date: Fri, 3 Mar 2006 09:58:29 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: search problem
In-Reply-To: <20060303135150.380CF10FB00B@asf.osuosl.org>
Message-ID: <Pine.LNX.4.58.0603030951370.3032@hal.rescomp.berkeley.edu>
References: <20060303135150.380CF10FB00B@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Where can I see the example using HitCollector ?

if you mean examples of writing a HitCollector, then the javadocs for the
HitCollector class are a good place to start.  As is the source code for
TopDocCollector and and TopFieldDocCollector.

If you mean an example of using a HitCollector when you search...

     Searcher s = ...;
     Query q = ...;
     MyHitCollectorSubClass h = ...;
     s.search(q, h);
     // now pull whatever data out of h that you want.

LIA Chapter 6.2 ha a lot of good info on HitCollectors as well.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 19:05:54 2006
Return-Path: <java-user-return-19284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72953 invoked from network); 3 Mar 2006 19:05:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 19:05:54 -0000
Received: (qmail 42339 invoked by uid 500); 3 Mar 2006 19:06:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42305 invoked by uid 500); 3 Mar 2006 19:06:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42293 invoked by uid 99); 3 Mar 2006 19:06:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 11:06:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 11:06:36 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 791D05B763; Fri,  3 Mar 2006 11:06:12 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 75DB67F403
	for <java-user@lucene.apache.org>; Fri,  3 Mar 2006 11:06:12 -0800 (PST)
Date: Fri, 3 Mar 2006 11:06:12 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Search on many indexes at once
In-Reply-To: <du9llm$b99$1@sea.gmane.org>
Message-ID: <Pine.LNX.4.58.0603031104560.5730@hal.rescomp.berkeley.edu>
References: <du9llm$b99$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Is it possible to search many indexes in one query and get back the Hits
: ordered by relevance?
:
: Can someone point me out to some document or place that explains this?

I've never used it, but the javadocs for MultiSearcher seem pretty
straight forward.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 20:37:06 2006
Return-Path: <java-user-return-19285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23203 invoked from network); 3 Mar 2006 20:37:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 20:37:05 -0000
Received: (qmail 72994 invoked by uid 500); 3 Mar 2006 20:37:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72744 invoked by uid 500); 3 Mar 2006 20:37:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72733 invoked by uid 99); 3 Mar 2006 20:37:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 12:37:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.220] (HELO nemausa.cc.emory.edu) (170.140.8.220)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 12:37:46 -0800
Received: from localhost (localhost [127.0.0.1])
	by nemausa.cc.emory.edu (8.13.4/8.13.4) with ESMTP id k23KbM9r010066
	for <java-user@lucene.apache.org>; Fri, 3 Mar 2006 15:37:24 -0500 (EST)
Received: from metascholar3.library.emory.edu(metascholar3.library.emory.edu
	 [170.140.210.99]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Fri, 03 Mar 200615:37:22 -0500
Message-ID: <20060303153722.rl8rmg58g044gs8o@webmail.service.emory.edu>
Date: Fri, 03 Mar 2006 15:37:22 -0500
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: "filtering" using RangeFilter class
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-imss-version: 2.038
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I am trying to filter my search using RangeFilter class but i get 
BooleanQuery TooManyClauses exception.

Exception in thread "main" 
org.apache.lucene.search.BooleanQuery$TooManyClauses

at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:100)
at org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:92)
at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:171)
at org.apache.lucene.search.Query.weight(Query.java:91)
.....
.....

Snapshot of my code is as follows

rangeFilter = new RangeQuery(new Term(metadata, lowerVal), new 
Term(metadata, upperVal), true);
QueryFilter orgFilter = new QueryFilter(rangeFilter);
Query query = QueryParser.parse(userQuery, "contents", new 
StandardAnalyzer());
hits = is.search(query, orgFilter);

Any pointers and help will be greatly appreciated.

Best regards,
Urvashi




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 20:48:03 2006
Return-Path: <java-user-return-19286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27759 invoked from network); 3 Mar 2006 20:48:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 20:48:03 -0000
Received: (qmail 97258 invoked by uid 500); 3 Mar 2006 20:48:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97084 invoked by uid 500); 3 Mar 2006 20:48:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97073 invoked by uid 99); 3 Mar 2006 20:48:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 12:48:44 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Seeta.Somagani@xplana.com designates 65.61.155.233 as permitted sender)
Received: from [65.61.155.233] (HELO server1.takeexit33.com) (65.61.155.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 03 Mar 2006 12:48:44 -0800
Received: (qmail 22362 invoked from network); 3 Mar 2006 20:48:21 -0000
Received: from w082.z209031132.bos-ma.dsl.cnc.net (HELO xplana.com) (209.31.132.82)
  by algsm.com with SMTP; 3 Mar 2006 20:48:21 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: "filtering" using RangeFilter class
Date: Fri, 3 Mar 2006 15:41:06 -0500
Message-ID: <666F5DC00A92964896146F60A828D32B83A00A@MASSAVE.xplana.priv>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: "filtering" using RangeFilter class
Thread-Index: AcY/Alej/HbbzDUqQKOsO3QfUBU6HAAAD0ig
From: "Seeta Somagani" <Seeta.Somagani@xplana.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That would most likely be the result of your range query expanding to
more than BooleanQuery.getMaxClauseCount(); Use
BooleanQuery.setMaxClauseCount(int) to set it to a higher range

-----Original Message-----
From: Urvashi Gadi [mailto:ugadi@emory.edu]=20
Sent: Friday, March 03, 2006 3:37 PM
To: java-user@lucene.apache.org
Subject: "filtering" using RangeFilter class

Hi All,

I am trying to filter my search using RangeFilter class but i get=20
BooleanQuery TooManyClauses exception.

Exception in thread "main"=20
org.apache.lucene.search.BooleanQuery$TooManyClauses

at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:109)
at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:100)
at org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:92)
at
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:171)
at org.apache.lucene.search.Query.weight(Query.java:91)
.....
.....

Snapshot of my code is as follows

rangeFilter =3D new RangeQuery(new Term(metadata, lowerVal), new=20
Term(metadata, upperVal), true);
QueryFilter orgFilter =3D new QueryFilter(rangeFilter);
Query query =3D QueryParser.parse(userQuery, "contents", new=20
StandardAnalyzer());
hits =3D is.search(query, orgFilter);

Any pointers and help will be greatly appreciated.

Best regards,
Urvashi




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 21:38:22 2006
Return-Path: <java-user-return-19287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54323 invoked from network); 3 Mar 2006 21:38:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 21:38:21 -0000
Received: (qmail 69277 invoked by uid 500); 3 Mar 2006 21:38:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69251 invoked by uid 500); 3 Mar 2006 21:38:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69240 invoked by uid 99); 3 Mar 2006 21:38:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 13:38:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 13:38:57 -0800
Received: from pimout6-ext.prodigy.net (pimout6-int.prodigy.net [207.115.4.22])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k23LcXbL021244
	for <java-user@lucene.apache.org>; Fri, 3 Mar 2006 16:38:33 -0500
X-ORBL: [69.228.231.148]
Received: from [192.168.168.15] (adsl-69-228-231-148.dsl.pltn13.pacbell.net [69.228.231.148])
	by pimout6-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k23LcSkj169164;
	Fri, 3 Mar 2006 16:38:32 -0500
Message-ID: <4408B753.1080803@apache.org>
Date: Fri, 03 Mar 2006 13:38:27 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Lucene 1.9.1 release available
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Release 1.9.1 of Lucene is now available from:

http://www.apache.org/dyn/closer.cgi/lucene/java/

This fixes a serious bug in 1.9-final.  It is strongly recommended that
all 1.9-final users upgrade to 1.9.1.  For details see:

http://svn.apache.org/repos/asf/lucene/java/tags/lucene_1_9_1/CHANGES.txt

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 03 21:57:39 2006
Return-Path: <java-user-return-19288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64077 invoked from network); 3 Mar 2006 21:57:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Mar 2006 21:57:39 -0000
Received: (qmail 99405 invoked by uid 500); 3 Mar 2006 21:58:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99377 invoked by uid 500); 3 Mar 2006 21:58:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99366 invoked by uid 99); 3 Mar 2006 21:58:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 13:58:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 13:58:19 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 257715B763; Fri,  3 Mar 2006 13:57:50 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 183DB7F403
	for <java-user@lucene.apache.org>; Fri,  3 Mar 2006 13:57:50 -0800 (PST)
Date: Fri, 3 Mar 2006 13:57:50 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: "filtering" using RangeFilter class
In-Reply-To: <20060303153722.rl8rmg58g044gs8o@webmail.service.emory.edu>
Message-ID: <Pine.LNX.4.58.0603031352580.13053@hal.rescomp.berkeley.edu>
References: <20060303153722.rl8rmg58g044gs8o@webmail.service.emory.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I am trying to filter my search using RangeFilter class but i get
: BooleanQuery TooManyClauses exception.

You aren't useing a RangeFilter, you are using a RangeQuery ... they are
very different beasts.  RangeQuery works fine for small ranges, or when
you want the term frequencies of the terms in the range to affect the
scores -- but RangeFilter is what you want to use when you don't want the
scores to vary based on the matching term, or when you are dealing with a
very large range of values.

Wrapping a RangeQuery in a QueryFilter doesn't change the internal
behavior, just the way you use it.

: rangeFilter = new RangeQuery(new Term(metadata, lowerVal), new Term(metadata, upperVal), true);
: QueryFilter orgFilter = new QueryFilter(rangeFilter);
: Query query = QueryParser.parse(userQuery, "contents", new StandardAnalyzer());
: hits = is.search(query, orgFilter);

try this instead...

  hits = is.search(query, new RangeFilter(metadata,lowerVal,upperVal,true,true));




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 01:23:54 2006
Return-Path: <java-user-return-19289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57661 invoked from network); 4 Mar 2006 01:23:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 01:23:53 -0000
Received: (qmail 32999 invoked by uid 500); 4 Mar 2006 01:24:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32962 invoked by uid 500); 4 Mar 2006 01:24:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32951 invoked by uid 99); 4 Mar 2006 01:24:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 17:24:35 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 17:24:34 -0800
Received: from imx2.starhub.net.sg ([203.116.254.42])
  by leda.starhub.net.sg with ESMTP; 04 Mar 2006 09:24:12 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx2.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k241N5wf026296
	for <java-user@lucene.apache.org>; Sat, 4 Mar 2006 09:23:05 +0800
Message-ID: <4408EC35.7020909@gmail.com>
Date: Sat, 04 Mar 2006 09:24:05 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>	 <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>	 <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>	 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>	 <440864B4.1020105@gmail.com>	 <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>	 <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com> <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com>
In-Reply-To: <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I was looking at the new 1.9 api and can't seem to find this expert mode 
of searching.
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Weight,%20org.apache.lucene.search.Filter,%20org.apache.lucene.search.HitCollector)

Can you tell where i can find it?

thanks.

--
Eugene
Yonik Seeley wrote:
> On 3/3/06, Eugene <echothis@gmail.com> wrote:
>> Just one more question: Any way in which i can disable this normalization?
> 
> We disabled this normalization for in Lucene 1.9 for the "expert"
> level search methods on IndexSearcher.  Use the search methods that
> don't return Hits.
> 
> -Yonik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 01:30:23 2006
Return-Path: <java-user-return-19290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60053 invoked from network); 4 Mar 2006 01:30:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 01:30:23 -0000
Received: (qmail 37357 invoked by uid 500); 4 Mar 2006 01:31:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37324 invoked by uid 500); 4 Mar 2006 01:31:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37313 invoked by uid 99); 4 Mar 2006 01:31:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 17:31:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 17:31:04 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9422E5B766; Fri,  3 Mar 2006 17:30:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8D0887F403
	for <java-user@lucene.apache.org>; Fri,  3 Mar 2006 17:30:32 -0800 (PST)
Date: Fri, 3 Mar 2006 17:30:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <4408EC35.7020909@gmail.com>
Message-ID: <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu>
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com> 
 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com> 
 <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com>
 <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com>
 <4408EC35.7020909@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I was looking at the new 1.9 api and can't seem to find this expert mode
: of searching.

yonik's refering to all of the methods in the Searcher class that have
"Expert" in their (javadoc) description.

: http://lucene.apache.org/java/docs/api/org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Weight,%20org.apache.lucene.search.Filter,%20org.apache.lucene.search.HitCollector)

...that method isn't labeled "expert" but it also uses raw scores
(HitCollector's have allways recieved the raw scores)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 02:42:31 2006
Return-Path: <java-user-return-19291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97282 invoked from network); 4 Mar 2006 02:42:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 02:42:31 -0000
Received: (qmail 83789 invoked by uid 500); 4 Mar 2006 02:43:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83765 invoked by uid 500); 4 Mar 2006 02:43:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83754 invoked by uid 99); 4 Mar 2006 02:43:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 18:43:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 18:43:12 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FFMjC-0005PZ-67
	for java-user@lucene.apache.org; Sat, 04 Mar 2006 03:42:42 +0100
Received: from c-24-20-199-223.hsd1.or.comcast.net ([24.20.199.223])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 04 Mar 2006 03:42:42 +0100
Received: from dobleerre by c-24-20-199-223.hsd1.or.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 04 Mar 2006 03:42:42 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Raul Raja Martinez <dobleerre@estudiowebs.com>
Subject:  Re: Search on many indexes at once
Date:  Fri, 03 Mar 2006 18:42:10 -0800
Lines: 33
Message-ID: <duauq2$tr8$1@sea.gmane.org>
References:  <du9llm$b99$1@sea.gmane.org> <50f433360603030946x76e995b3ha4dd9edfe1beadb3@mail.gmail.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c-24-20-199-223.hsd1.or.comcast.net
User-Agent: Thunderbird 1.5 (Macintosh/20051201)
In-Reply-To: <50f433360603030946x76e995b3ha4dd9edfe1beadb3@mail.gmail.com>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks I found some info in Lucene in action about Multisearcher and I 
got this working, I just need to know how to get from a resulting hit 
which index the hit belongs to. I have News, Channels, Categories and 
Images as different Indexes and I need to link to one page or another 
based on whether a hit belong to an index or not.

Any ideas?

Jeff Rodenburg wrote:
> Raul -
> 
> You'll want to look at the MultiSearcher and ParallelMultiSearcher classes
> for this.
> 
> On 3/3/06, Raul Raja Martinez <dobleerre@estudiowebs.com> wrote:
>> Is it possible to search many indexes in one query and get back the Hits
>> ordered by relevance?
>>
>> Can someone point me out to some document or place that explains this?
>>
>> any help is appreciated.
>>
>> Thanks.
>>
>> Raul.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 03:08:40 2006
Return-Path: <java-user-return-19292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6819 invoked from network); 4 Mar 2006 03:08:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 03:08:40 -0000
Received: (qmail 152 invoked by uid 500); 4 Mar 2006 03:09:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 119 invoked by uid 500); 4 Mar 2006 03:09:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 108 invoked by uid 99); 4 Mar 2006 03:09:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 19:09:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 19:09:22 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6C8785B76E; Fri,  3 Mar 2006 19:08:59 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 629517F403
	for <java-user@lucene.apache.org>; Fri,  3 Mar 2006 19:08:59 -0800 (PST)
Date: Fri, 3 Mar 2006 19:08:59 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Search on many indexes at once
In-Reply-To: <duauq2$tr8$1@sea.gmane.org>
Message-ID: <Pine.LNX.4.58.0603031908300.25846@hal.rescomp.berkeley.edu>
References: <du9llm$b99$1@sea.gmane.org> <50f433360603030946x76e995b3ha4dd9edfe1beadb3@mail.gmail.com>
 <duauq2$tr8$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: got this working, I just need to know how to get from a resulting hit
: which index the hit belongs to. I have News, Channels, Categories and
: Images as different Indexes and I need to link to one page or another
: based on whether a hit belong to an index or not.

take a look at subSearcher and subDoc.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 03:42:30 2006
Return-Path: <java-user-return-19293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15041 invoked from network); 4 Mar 2006 03:42:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 03:42:30 -0000
Received: (qmail 17719 invoked by uid 500); 4 Mar 2006 03:43:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17696 invoked by uid 500); 4 Mar 2006 03:43:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17685 invoked by uid 99); 4 Mar 2006 03:43:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 19:43:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 19:43:11 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FFNfM-0005ix-ER
	for java-user@lucene.apache.org; Sat, 04 Mar 2006 04:42:48 +0100
Received: from c-24-20-199-223.hsd1.or.comcast.net ([24.20.199.223])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 04 Mar 2006 04:42:48 +0100
Received: from dobleerre by c-24-20-199-223.hsd1.or.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 04 Mar 2006 04:42:48 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Raul Raja Martinez <dobleerre@estudiowebs.com>
Subject:  Re: Search on many indexes at once
Date:  Fri, 03 Mar 2006 19:42:39 -0800
Lines: 40
Message-ID: <dub2bf$7ei$1@sea.gmane.org>
References:  <du9llm$b99$1@sea.gmane.org> <50f433360603030946x76e995b3ha4dd9edfe1beadb3@mail.gmail.com> <duauq2$tr8$1@sea.gmane.org> <Pine.LNX.4.58.0603031908300.25846@hal.rescomp.berkeley.edu>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c-24-20-199-223.hsd1.or.comcast.net
User-Agent: Thunderbird 1.5 (Macintosh/20051201)
In-Reply-To: <Pine.LNX.4.58.0603031908300.25846@hal.rescomp.berkeley.edu>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris, thanks for the quick response,

It looks like I don't have access to the searcher.subSearcher or subDoc, 
since I get just a Hits object. Is it possible to know the Index folder 
based on a hit?

I'm on a SearchResults component that takes a Hits object as parameter 
and the search is actually performed by other component.

This is the method that performs the search:

public Hits searchMultipleIndexes(String query, IndexSearcher...searchers) {

  MultiSearcher searcher = new MultiSearcher(searchers);

  Query q = QueryParser.parse(query, "title", new StandardAnalyzer());

  return searcher.search(q);

}

and later a iterate over the hits and I need to know if they belong to 
Categories, News etc... which all are different indexes.

any help appreciated.

thanks.

Raul

Chris Hostetter wrote:
> : got this working, I just need to know how to get from a resulting hit
> : which index the hit belongs to. I have News, Channels, Categories and
> : Images as different Indexes and I need to link to one page or another
> : based on whether a hit belong to an index or not.
> 
> take a look at subSearcher and subDoc.
> 
> 
> -Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 04:02:20 2006
Return-Path: <java-user-return-19294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20017 invoked from network); 4 Mar 2006 04:02:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 04:02:20 -0000
Received: (qmail 26766 invoked by uid 500); 4 Mar 2006 04:03:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26735 invoked by uid 500); 4 Mar 2006 04:03:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26724 invoked by uid 99); 4 Mar 2006 04:03:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 20:03:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 20:03:01 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 988085B766; Fri,  3 Mar 2006 20:02:40 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8D09E7F403
	for <java-user@lucene.apache.org>; Fri,  3 Mar 2006 20:02:40 -0800 (PST)
Date: Fri, 3 Mar 2006 20:02:40 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Search on many indexes at once
In-Reply-To: <dub2bf$7ei$1@sea.gmane.org>
Message-ID: <Pine.LNX.4.58.0603031952200.27107@hal.rescomp.berkeley.edu>
References: <du9llm$b99$1@sea.gmane.org> <50f433360603030946x76e995b3ha4dd9edfe1beadb3@mail.gmail.com>
 <duauq2$tr8$1@sea.gmane.org> <Pine.LNX.4.58.0603031908300.25846@hal.rescomp.berkeley.edu>
 <dub2bf$7ei$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: It looks like I don't have access to the searcher.subSearcher or subDoc,
: since I get just a Hits object. Is it possible to know the Index folder
: based on a hit?

As i understand it (like i said: i've never used these methods) the doc id
returned by Hits.id() is what you pass to subSearcher to find out which
index it came from.

: I'm on a SearchResults component that takes a Hits object as parameter
: and the search is actually performed by other component.

It sounds like the API you are working with abstracts away the
MultiSearcher so you don't have access to it once you get the Hits object.
I think that makes it just about impossible to get the info you want.

I guess you either need to add a "doctype" field to all of the indexes, or
deduce the doctype based on what fields are in each doc, or change the API
you are using to give you access to the info you need.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 04:30:24 2006
Return-Path: <java-user-return-19295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27136 invoked from network); 4 Mar 2006 04:30:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 04:30:23 -0000
Received: (qmail 44850 invoked by uid 500); 4 Mar 2006 04:31:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44818 invoked by uid 500); 4 Mar 2006 04:31:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44807 invoked by uid 99); 4 Mar 2006 04:31:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 20:31:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Mar 2006 20:31:04 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FFOPg-00037n-Ss
	for java-user@lucene.apache.org; Sat, 04 Mar 2006 05:30:40 +0100
Received: from c-24-20-199-223.hsd1.or.comcast.net ([24.20.199.223])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 04 Mar 2006 05:30:40 +0100
Received: from dobleerre by c-24-20-199-223.hsd1.or.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Sat, 04 Mar 2006 05:30:40 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Raul Raja Martinez <dobleerre@estudiowebs.com>
Subject:  Re: Search on many indexes at once
Date:  Fri, 03 Mar 2006 20:30:32 -0800
Lines: 31
Message-ID: <dub559$dpg$1@sea.gmane.org>
References:  <du9llm$b99$1@sea.gmane.org> <50f433360603030946x76e995b3ha4dd9edfe1beadb3@mail.gmail.com> <duauq2$tr8$1@sea.gmane.org> <Pine.LNX.4.58.0603031908300.25846@hal.rescomp.berkeley.edu> <dub2bf$7ei$1@sea.gmane.org> <Pine.LNX.4.58.0603031952200.27107@hal.rescomp.berkeley.edu>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c-24-20-199-223.hsd1.or.comcast.net
User-Agent: Thunderbird 1.5 (Macintosh/20051201)
In-Reply-To: <Pine.LNX.4.58.0603031952200.27107@hal.rescomp.berkeley.edu>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Chris I'll provably try passing the MultiSearcher instance as a 
parameter so that I can use subDoc and so.
It makes sense though to have a getIndex() method inside hit or document
that returns some information about where that hit or document belongs 
to. Do you think that is reasonable to file a JIRA petition for this, 
I'm new to Lucene and I don't know what are the policies around these 
matters.


Chris Hostetter wrote:
> : It looks like I don't have access to the searcher.subSearcher or subDoc,
> : since I get just a Hits object. Is it possible to know the Index folder
> : based on a hit?
> 
> As i understand it (like i said: i've never used these methods) the doc id
> returned by Hits.id() is what you pass to subSearcher to find out which
> index it came from.
> 
> : I'm on a SearchResults component that takes a Hits object as parameter
> : and the search is actually performed by other component.
> 
> It sounds like the API you are working with abstracts away the
> MultiSearcher so you don't have access to it once you get the Hits object.
> I think that makes it just about impossible to get the info you want.
> 
> I guess you either need to add a "doctype" field to all of the indexes, or
> deduce the doctype based on what fields are in each doc, or change the API
> you are using to give you access to the info you need.
> 
> 
> -Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 04 13:52:19 2006
Return-Path: <java-user-return-19296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79485 invoked from network); 4 Mar 2006 13:52:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Mar 2006 13:52:19 -0000
Received: (qmail 77813 invoked by uid 500); 4 Mar 2006 13:53:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77759 invoked by uid 500); 4 Mar 2006 13:52:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77748 invoked by uid 99); 4 Mar 2006 13:52:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Mar 2006 05:52:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Mar 2006 05:52:58 -0800
Received: from phys-bohemia2-2 ([129.157.72.190])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id k24DqbQj014631
	for <java-user@lucene.apache.org>; Sat, 4 Mar 2006 06:52:38 -0700 (MST)
Received: from conversion-daemon.bohemia2-mail1.czech.sun.com by
 bohemia2-mail1.czech.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IVL00B01VJUI2@bohemia2-mail1.czech.sun.com>
 (original mail from Petr.Hrebejk@Sun.COM) for java-user@lucene.apache.org;
 Sat, 04 Mar 2006 14:52:36 +0100 (CET)
Received: from [129.150.112.65]
 (vpn-129-150-112-65.Holland.Sun.COM [129.150.112.65])
 by bohemia2-mail1.czech.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTPA id <0IVL0056DVVKHQ@bohemia2-mail1.czech.sun.com> for
 java-user@lucene.apache.org; Sat, 04 Mar 2006 14:52:36 +0100 (CET)
Date: Sat, 04 Mar 2006 14:50:59 +0100
From: Petr Hrebejk <Petr.Hrebejk@Sun.COM>
Subject: Re: Storing byte arrays into an index
In-reply-to: <c68e39170603021149k2284a456s5cf6f0e616d09237@mail.gmail.com>
To: java-user@lucene.apache.org
Message-id: <44099B43.2020903@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=UTF-8; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.6 (X11/20050716)
References: <4406DB84.9080601@sun.com>
 <c68e39170603021149k2284a456s5cf6f0e616d09237@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Yes the proposed patch in the LUCENE-511 bug fixes the problem.

Thanks for the reply.

Hrebejk

Yonik Seeley wrote:
> Methinks it's due to http://issues.apache.org/jira/browse/LUCENE-511
> It will be fixed shortly.
> 
> If you know how to build Lucene, it would be helpful if you could try
> the patch yourself.
> 
> -Yonik
> 
> On 3/2/06, Petr Hrebejk <Petr.Hrebejk@sun.com> wrote:
> 
>>Hi,
>>
>>
>>
>>I'm trying to use following call:
>>
>>doc.add(new Field("contents", array, Field.Store.YES ) );
>>
>>When array.length > 1024, then I get following exception:
>>
>>[java]     at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:88)
>>      [java]     at
>>org.apache.lucene.index.SegmentReader.document(SegmentReader.java:284)
>>      [java]     at
>>org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:186)
>>      [java]     at
>>org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
>>      [java]     at
>>org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:681)
>>      [java]     at
>>org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
>>      [java]     at
>>org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:646)
>>      [java]     at
>>org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:453)
>>      [java]     at
>>org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:436)
>>      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:66)
>>      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
>>      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
>>      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
>>      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
>>      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
>>      [java]     at org.netbeans.luceneindexer.Indexer.indexDocs(Indexer.java:60)
>>      [java]     at org.netbeans.luceneindexer.Indexer.index(Indexer.java:34)
>>      [java]     at org.netbeans.luceneindexer.Main.main(Main.java:51)
>>
>>
>>Setting writer.setMaxMergeDocs( 5 ); makes the index creation pass. However
>>attempts to read the index throws:
>>
>>Exception in thread "main" java.lang.NullPointerException
>>         at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:88)
>>         at org.apache.lucene.index.SegmentReader.document(SegmentReader.java:284)
>>         at org.netbeans.luceneindexer.Search.main(Search.java:107)
>>
>>
>>The program is basically the lucene demo changed to store content of a binary
>>file without indexing it.
>>
>>I'm not sure if I'm doing something wrong or if I should file a bug against lucene.
>>
>>I'm using Lucene 1.9 final.
>>
>>Thanks for reply
>>Hrebejk
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 05 18:04:05 2006
Return-Path: <java-user-return-19297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41761 invoked from network); 5 Mar 2006 18:04:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Mar 2006 18:04:05 -0000
Received: (qmail 12726 invoked by uid 500); 5 Mar 2006 18:04:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12698 invoked by uid 500); 5 Mar 2006 18:04:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12687 invoked by uid 99); 5 Mar 2006 18:04:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 10:04:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 10:04:46 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k25I4867008215
	for <java-user@lucene.apache.org>; Sun, 5 Mar 2006 19:04:08 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.1.2/274]); Sun, 05 Mar 2006 19:03:10 +0100
Message-ID: <440B27DE.9020307@isb-sib.ch>
Date: Sun, 05 Mar 2006 19:03:10 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: MultiPhraseQuery
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I need to write a function that copies a MultiPhraseQuery and changes the 
field the query applies to. Unfortunately the API allows access to neither 
the contained terms nor the field! The other query classes I have so far 
dealt with all seem to allow access to the contained query terms...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 05 18:33:35 2006
Return-Path: <java-user-return-19298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48565 invoked from network); 5 Mar 2006 18:33:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Mar 2006 18:33:35 -0000
Received: (qmail 27786 invoked by uid 500); 5 Mar 2006 18:34:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27751 invoked by uid 500); 5 Mar 2006 18:34:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27739 invoked by uid 99); 5 Mar 2006 18:34:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 10:34:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 10:34:16 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k25IXo67015466
	for <java-user@lucene.apache.org>; Sun, 5 Mar 2006 19:33:50 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.1.2/274]); Sun, 05 Mar 2006 19:32:52 +0100
Message-ID: <440B2ED3.7000803@isb-sib.ch>
Date: Sun, 05 Mar 2006 19:32:51 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: QueryParser dropping constraints?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've noticed that while the QueryParser (both the default QueryParser and 
the PrecedenceQueryParser) refuse to parse

   foo bar) baz

they both seem to interpret

   foo bar( baz

as

   foo bar

Bug or feature?

In any case, would be great if there was a "strict" mode, and a more 
lenient mode where incorrect syntax is ignored (as far as possible).

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 05 18:44:19 2006
Return-Path: <java-user-return-19299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52258 invoked from network); 5 Mar 2006 18:44:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Mar 2006 18:44:19 -0000
Received: (qmail 38352 invoked by uid 500); 5 Mar 2006 18:45:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38327 invoked by uid 500); 5 Mar 2006 18:45:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38316 invoked by uid 99); 5 Mar 2006 18:45:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 10:45:00 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 10:45:00 -0800
Received: from northgate.starhub.net.sg ([203.117.1.53])
  by leda.starhub.net.sg with ESMTP; 06 Mar 2006 02:44:34 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by northgate.starhub.net.sg (8.12.5/8.12.5) with ESMTP id k25IiVlE007354
	for <java-user@lucene.apache.org>; Mon, 6 Mar 2006 02:44:32 +0800 (SST)
Message-ID: <440B3188.20904@gmail.com>
Date: Mon, 06 Mar 2006 02:44:24 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>  <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>  <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com> <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com> <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I was wondering if anyone has any idea how i can start to implement my 
own similarity. I wanna use the cosine similarity measure instead. I was 
looking through the past forums posts and saw that quite a few people 
have also discussed this, but no real method of doing it was mentioned.

Any good links on extending the similarity class? A lot of posts 
discusses David Spencer's "More Like This" but i can;t find this anywhere.

Thanks.

Chris Hostetter wrote:
> : I was looking at the new 1.9 api and can't seem to find this expert mode
> : of searching.
> 
> yonik's refering to all of the methods in the Searcher class that have
> "Expert" in their (javadoc) description.
> 
> : http://lucene.apache.org/java/docs/api/org/apache/lucene/search/IndexSearcher.html#search(org.apache.lucene.search.Weight,%20org.apache.lucene.search.Filter,%20org.apache.lucene.search.HitCollector)
> 
> ...that method isn't labeled "expert" but it also uses raw scores
> (HitCollector's have allways recieved the raw scores)
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 05 19:25:14 2006
Return-Path: <java-user-return-19300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64675 invoked from network); 5 Mar 2006 19:25:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Mar 2006 19:25:13 -0000
Received: (qmail 63978 invoked by uid 500); 5 Mar 2006 19:25:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63952 invoked by uid 500); 5 Mar 2006 19:25:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63941 invoked by uid 99); 5 Mar 2006 19:25:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 11:25:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 11:25:54 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k25JPR67026254
	for <java-user@lucene.apache.org>; Sun, 5 Mar 2006 20:25:27 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.1.2/274]); Sun, 05 Mar 2006 20:24:29 +0100
Message-ID: <440B3AED.6010407@isb-sib.ch>
Date: Sun, 05 Mar 2006 20:24:29 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>  <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>  <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com> <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com> <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu> <440B3188.20904@gmail.com>
In-Reply-To: <440B3188.20904@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Eugene wrote:
> Any good links on extending the similarity class? A lot of posts 
> discusses David Spencer's "More Like This" but i can;t find this anywhere.

The "More Like This" code can be found here:

http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/similarity/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 05 22:18:33 2006
Return-Path: <java-user-return-19301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30185 invoked from network); 5 Mar 2006 22:18:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Mar 2006 22:18:33 -0000
Received: (qmail 74958 invoked by uid 500); 5 Mar 2006 22:19:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74922 invoked by uid 500); 5 Mar 2006 22:19:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74911 invoked by uid 99); 5 Mar 2006 22:19:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 14:19:14 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.225] (HELO web60817.mail.yahoo.com) (209.73.178.225)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 05 Mar 2006 14:19:14 -0800
Received: (qmail 5367 invoked by uid 60001); 5 Mar 2006 22:18:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=kqRsqlC/Db+p9HXVxioS9odklj4QLuTbcsgMZ4iDcJviKmdfmwyaegxwn927DhUAT1CDm6ZHodaZHsWvzpPqEJGc9rC7MDSjO1t4useh1GW5clRec460BZT3njng1ruzWu0HogGGe/ViYUnPzum03WZlvUrR6PXVyi/X8HhCfGw=  ;
Message-ID: <20060305221852.5365.qmail@web60817.mail.yahoo.com>
Received: from [212.199.22.82] by web60817.mail.yahoo.com via HTTP; Sun, 05 Mar 2006 14:18:52 PST
Date: Sun, 5 Mar 2006 14:18:52 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: carrot2 vs. vivisimo
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2000018343-1141597132=:5341"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-2000018343-1141597132=:5341
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hey all,
   
  my team has been working for the last couple of days on integrating carrot2 into our project as a sort of src (search result clustering) solution.
   
  i was rather impressed with the results, until i checked out vivisimo's demo and saw a bit of a difference quality wise,
   
  has anyone thoroughly compared the two? algorithm wise and quality wise?
   
   
   
  (i believe nutch uses carrot2, so that definitely gives it credibility in my book...)
   
  thanks in advance,,,,

		
---------------------------------
Brings words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
--0-2000018343-1141597132=:5341--

From java-user-return-19302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 05 22:41:49 2006
Return-Path: <java-user-return-19302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37932 invoked from network); 5 Mar 2006 22:41:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Mar 2006 22:41:49 -0000
Received: (qmail 97119 invoked by uid 500); 5 Mar 2006 22:42:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97088 invoked by uid 500); 5 Mar 2006 22:42:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97077 invoked by uid 99); 5 Mar 2006 22:42:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 14:42:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 14:42:30 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2251F5B76C; Sun,  5 Mar 2006 14:42:03 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1A5C57F403
	for <java-user@lucene.apache.org>; Sun,  5 Mar 2006 14:42:03 -0800 (PST)
Date: Sun, 5 Mar 2006 14:42:03 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Solr, the Lucene based Search Server
In-Reply-To: <c68e39170603010517m69ae1403ub788e883b463448a@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603051424110.16018@hal.rescomp.berkeley.edu>
References: <c68e39170603010517m69ae1403ub788e883b463448a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Solr is a new open-source search server that's based on Lucene, and
: has XML/HTTP interfaces for updating and querying, declarative
: specification of analyzers and field types via a schema, extensive
: caching, replication, and a web admin interface.

FYI, last year when I anounced that CNET was using Lucene, some people
expressed interest (off list) in knowing more about the mechanism used to
manage updates to the index, and cache the individual Filters associated
with each of the options...

http://www.nabble.com/Announcement%3A-Lucene-powering-CNET.com-Product-Category-Listings-p748420.html

Solr is that mechanism.

The pages use a custom Solr plugin to determine all of the individual
Queries to execute based on the category, but Solr's built in Filter
caching and DocSet methods are what make it possible to efficiently
compute all of the Attribute Filter counts. (in Solr a DocSet is an
abstraction representing all documents that match a Query or Filter,
without any scoring or sorting -- like a BitSet returned by a Filter,
except that Solr can optimize small sets into a smaller representation)

: For more information, see Solr's home page at
:    http://incubator.apache.org/solr/



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 05:47:48 2006
Return-Path: <java-user-return-19303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63690 invoked from network); 6 Mar 2006 05:47:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 05:47:48 -0000
Received: (qmail 43509 invoked by uid 500); 6 Mar 2006 05:48:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43452 invoked by uid 500); 6 Mar 2006 05:48:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43441 invoked by uid 99); 6 Mar 2006 05:48:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 21:48:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.18.90.100] (HELO chnmail.satyam.com) (210.18.90.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 21:48:28 -0800
X-eSCM-MailFrom: <Haritha_Parvatham@satyam.com>
Received: from che2.satyam.com (172.18.73.12)
	by chnescm01 (172.18.76.22);
	Mon, 06 March 2006 11:18:28 +0530
Received: from disclaimerchn.corp.satyam.ad (chn.satyam.com [172.18.73.8])
	by che2.satyam.com (8.12.8/8.12.8) with ESMTP id k265jUTR005547
	for <java-user@lucene.apache.org>; Mon, 6 Mar 2006 11:15:30 +0530
Received: from ccrmsg003.corp.satyam.ad ([172.18.73.7]) by disclaimerchn.corp.satyam.ad with Microsoft SMTPSVC(6.0.3790.211); Mon, 6 Mar 2006 11:16:36 +0530
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C640E1.51497113"
Subject: How to intergrate snowball in lucene
Importance: normal
Priority: normal
Date: Mon, 6 Mar 2006 11:16:30 +0530
Message-ID: <F448FF49D11EA4459D957805E93C3A6902521881@ccrmsg003.corp.satyam.ad>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to intergrate snowball in lucene
Thread-Index: AcZA4VOhndCtQS+wRHOpMIc4qARH3w==
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 06 Mar 2006 05:46:36.0237 (UTC) FILETIME=[54DF2FD0:01C640E1]
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on che2.satyam.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C640E1.51497113
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
Can anyone giude me  to intergrate snowball in lucene.
I have downloaded snowball srcs.But some files are written in 'c'
language.I have compiled it .
Pls tell me how i add snowball in lucene for multilingual support.


DISCLAIMER:
This email (including any attachments) is intended for the sole use of =
the intended recipient/s and may contain material that is CONFIDENTIAL =
AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or =
copying or distribution or forwarding of any or all of the contents in =
this message is STRICTLY PROHIBITED. If you are not the intended =
recipient, please contact the sender by email and delete all copies; =
your cooperation in this regard is appreciated.

------_=_NextPart_001_01C640E1.51497113--


From java-user-return-19304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 05:56:11 2006
Return-Path: <java-user-return-19304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68059 invoked from network); 6 Mar 2006 05:56:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 05:56:10 -0000
Received: (qmail 47299 invoked by uid 500); 6 Mar 2006 05:56:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47273 invoked by uid 500); 6 Mar 2006 05:56:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47262 invoked by uid 99); 6 Mar 2006 05:56:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 21:56:52 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 21:56:51 -0800
Received: from imx1.starhub.net.sg ([203.117.3.9])
  by leda.starhub.net.sg with ESMTP; 06 Mar 2006 13:54:25 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx1.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k265rV50020528
	for <java-user@lucene.apache.org>; Mon, 6 Mar 2006 13:53:32 +0800
Message-ID: <440BCE8A.4090904@gmail.com>
Date: Mon, 06 Mar 2006 13:54:18 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>  <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>  <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com> <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com> <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu> <440B3188.20904@gmail.com> <440B3AED.6010407@isb-sib.ch>
In-Reply-To: <440B3AED.6010407@isb-sib.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, for posting the "more like this" code.  I just began coding my 
cosine similarity and need some help.  Can anyone tell me in which file 
are the methods of the DefaultSimilarity methods called?

For example, looking at the tf method i see that it takes in a float for 
freq instead of int. So i'm curious to see how this method is invoked.

Thanks.

--
Eugene
Eric Jain wrote:
> Eugene wrote:
>> Any good links on extending the similarity class? A lot of posts 
>> discusses David Spencer's "More Like This" but i can;t find this 
>> anywhere.
> 
> The "More Like This" code can be found here:
> 
> http://svn.apache.org/viewcvs.cgi/lucene/java/trunk/contrib/similarity/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 06:01:28 2006
Return-Path: <java-user-return-19305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70397 invoked from network); 6 Mar 2006 06:01:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 06:01:27 -0000
Received: (qmail 51482 invoked by uid 500); 6 Mar 2006 06:02:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51452 invoked by uid 500); 6 Mar 2006 06:02:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51441 invoked by uid 99); 6 Mar 2006 06:02:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 22:02:09 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_FAKE_HELO_DOTCOM,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of prasenjitm@aol.com designates 152.163.225.130 as permitted sender)
Received: from [152.163.225.130] (HELO omr-r02.mail.aol.com) (152.163.225.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 22:02:08 -0800
Received: from aol.com (10.146.145.194)
  by omr-r02.mail.aol.com with ESMTP; 06 Mar 2006 01:01:47 -0500
Message-ID: <440BD048.4060806@aol.com>
Date: Mon, 06 Mar 2006 11:31:44 +0530
From: Prasenjit Mukherjee <prasenjitm@aol.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Distributed Lucene.. 
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I already have an implementation of a distributed crawler farm, where 
crawler instances are runnign on different boxes. I want to come up with 
a distributed indexing scheme using lucene and take advantage of the 
distributed nature of my crawlers' distributed nature. Here is what I am 
thinking.

Crawlers will analyze and tokenize the content for every URLs(aka 
Documents) and create the following data for every url document:
<url-id,  <field1, <term-f1-t1,term-f1-t2,term-f1-t3 etc.>>   <field-2, 
<term-f2-t1,term-f2-t2,term-f2-t3, >>  ...... >

And then based on some partitioning function the carwlers can send a 
subset of tokens(aka terms)  to the indexing server. The partitioning 
function can be as simple as based on the starting character of the 
terms.  Lets say if we have 5 indexers, we will distribute the indexing 
data in the following manner :

Indexer1 - a-e
Indexer2 - f-j
Indexer3 - k-o
Indexer4 - p-t
Indexer5 - u-z

Does it make any sense ? Also would like to know if there are other ways 
to distribute lucene's indexing/searching  ?

thanks,
prasen

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 06:16:18 2006
Return-Path: <java-user-return-19306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74003 invoked from network); 6 Mar 2006 06:16:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 06:16:18 -0000
Received: (qmail 62597 invoked by uid 500); 6 Mar 2006 06:17:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62557 invoked by uid 500); 6 Mar 2006 06:17:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62546 invoked by uid 99); 6 Mar 2006 06:17:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 22:17:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Mar 2006 22:16:59 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8D8D15B766; Sun,  5 Mar 2006 22:16:30 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8068F7F403
	for <java-user@lucene.apache.org>; Sun,  5 Mar 2006 22:16:30 -0800 (PST)
Date: Sun, 5 Mar 2006 22:16:30 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <440BCE8A.4090904@gmail.com>
Message-ID: <Pine.LNX.4.58.0603052208300.32061@hal.rescomp.berkeley.edu>
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com> 
 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com> 
 <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com>
 <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com>
 <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu>
 <440B3188.20904@gmail.com> <440B3AED.6010407@isb-sib.ch> <440BCE8A.4090904@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: cosine similarity and need some help.  Can anyone tell me in which file
: are the methods of the DefaultSimilarity methods called?

Most of the Similarity methods are called by the various Scorers.   A good
IDE will tell you where they are called (or you could just grep the
source, that's what I do)

: For example, looking at the tf method i see that it takes in a float for
: freq instead of int. So i'm curious to see how this method is invoked.

I commented on this recently (and no one contested my explanation)...

http://www.nabble.com/Similarity-Usage%3A-tf%28int%29-vs-tf%28float%29-p2981283.html


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 10:21:52 2006
Return-Path: <java-user-return-19307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95048 invoked from network); 6 Mar 2006 10:21:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 10:21:51 -0000
Received: (qmail 14942 invoked by uid 500); 6 Mar 2006 10:22:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14501 invoked by uid 500); 6 Mar 2006 10:22:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14490 invoked by uid 99); 6 Mar 2006 10:22:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 02:22:32 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 02:22:31 -0800
Received: by zproxy.gmail.com with SMTP id n29so1477888nzf
        for <java-user@lucene.apache.org>; Mon, 06 Mar 2006 02:22:11 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Dk1uLoxfL5nn0IA3hA8+1duoWl2cIe3WNG3hNVxItU24UFAozQ7ZOzR1AqEK2nUQ85aurxAd71xB1ntL4TUaJTCFhsVJ7+oMBoJA9ZEPicLyiCqN9QM5cbcVQKw7MABajYhQraCfhcTM5fq/jwCwzo7xIwygI9ot9f9YizWBsSA=
Received: by 10.65.43.11 with SMTP id v11mr2436696qbj;
        Mon, 06 Mar 2006 02:22:10 -0800 (PST)
Received: by 10.65.242.13 with HTTP; Mon, 6 Mar 2006 02:22:10 -0800 (PST)
Message-ID: <4f9b23800603060222k7b27bc60k@mail.gmail.com>
Date: Mon, 6 Mar 2006 10:22:10 +0000
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to intergrate snowball in lucene
In-Reply-To: <F448FF49D11EA4459D957805E93C3A6902521881@ccrmsg003.corp.satyam.ad>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <F448FF49D11EA4459D957805E93C3A6902521881@ccrmsg003.corp.satyam.ad>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

You should download the snowball contribution which is in the
SubVersion repository:

http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/snowball

This can be built using ANT.

Patrick

On 06/03/06, Haritha_Parvatham <Haritha_Parvatham@satyam.com> wrote:
> Hi,
> Can anyone giude me  to intergrate snowball in lucene.
> I have downloaded snowball srcs.But some files are written in 'c'
> language.I have compiled it .
> Pls tell me how i add snowball in lucene for multilingual support.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 10:50:40 2006
Return-Path: <java-user-return-19308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6455 invoked from network); 6 Mar 2006 10:50:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 10:50:39 -0000
Received: (qmail 42993 invoked by uid 500); 6 Mar 2006 10:51:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41965 invoked by uid 500); 6 Mar 2006 10:51:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41954 invoked by uid 99); 6 Mar 2006 10:51:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 02:51:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [196.204.163.100] (HELO SEXGW3K-H2010.local.bibalex.dom) (196.204.163.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 02:51:20 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6410B.D716D478"
Subject: Exact Search
Date: Mon, 6 Mar 2006 12:50:53 +0200
Message-ID: <AAA84820D5874F46B68C394C41FBBB221D9ADC@SEXGW3K-H2010.local.bibalex.dom>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exact Search
Thread-Index: AcZBC9cDYMjfHPgET8ed8qhAomvwlg==
From: "Waleed Tayea" <Waleed.Tayea@bibalex.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6410B.D716D478
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Dear All.

How can I perform an exact search on an index constructed with a
morphological analyzer.=20

=20

Thanks in advance

Waleed,



=20


------_=_NextPart_001_01C6410B.D716D478--

From java-user-return-19309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 11:06:13 2006
Return-Path: <java-user-return-19309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12891 invoked from network); 6 Mar 2006 11:06:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 11:06:12 -0000
Received: (qmail 58248 invoked by uid 500); 6 Mar 2006 11:06:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58090 invoked by uid 500); 6 Mar 2006 11:06:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57866 invoked by uid 99); 6 Mar 2006 11:06:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:06:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.29] (HELO libra.cs.put.poznan.pl) (150.254.30.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:06:48 -0800
Received: from localhost (unknown [127.0.0.1])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 4EDF4108;
	Mon,  6 Mar 2006 11:01:30 +0000 (UTC)
Received: from libra.cs.put.poznan.pl ([127.0.0.1])
 by localhost (libra.cs.put.poznan.pl [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 18183-14; Mon,  6 Mar 2006 12:01:26 +0100 (CET)
Received: from [150.254.130.25] (idss-dw-2.cs.put.poznan.pl [150.254.130.25])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 4D425103;
	Mon,  6 Mar 2006 12:01:26 +0100 (CET)
Message-ID: <440C17B0.6000101@cs.put.poznan.pl>
Date: Mon, 06 Mar 2006 12:06:24 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: carrot2 vs. vivisimo
References: <20060305221852.5365.qmail@web60817.mail.yahoo.com>
In-Reply-To: <20060305221852.5365.qmail@web60817.mail.yahoo.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at cs.put.poznan.pl
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hello,

> my team has been working for the last couple of days on integrating
> carrot2 into our project as a sort of src (search result clustering)
> solution.

Great to hear this; is there a public URL or something?

> i was rather impressed with the results, until i checked out
> vivisimo's demo and saw a bit of a difference quality wise,

Well, we're not exactly a multi-million company, so quality might not be 
identical, you know ;)

> has anyone thoroughly compared the two? algorithm wise and quality

Undoable. Vivivismo is a commercial company, noone knows what they're 
using. Quality is hard to define either as clustering is usually 
ambiguous. Carrot2 also has a commercial spin off and the commercial 
algorithm is faster and gives slightly better results, so you might want 
to check out that option -- www.carrotsearch.com

We're also tuning the open source algorithms and installations. Let us 
know if you need it (it's a consulting service and we charge for that).

Dawid
www.carrot2.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 11:31:01 2006
Return-Path: <java-user-return-19310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23207 invoked from network); 6 Mar 2006 11:31:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 11:31:00 -0000
Received: (qmail 87746 invoked by uid 500); 6 Mar 2006 11:31:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87667 invoked by uid 500); 6 Mar 2006 11:31:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87655 invoked by uid 99); 6 Mar 2006 11:31:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:31:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:31:42 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5F06733D8C7; Mon,  6 Mar 2006 06:31:21 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 5C75B33D8C5
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 06:31:20 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <AAA84820D5874F46B68C394C41FBBB221D9ADC@SEXGW3K-H2010.local.bibalex.dom>
References: <AAA84820D5874F46B68C394C41FBBB221D9ADC@SEXGW3K-H2010.local.bibalex.dom>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <22D0E52D-D588-45DF-8AA0-B208B702CEB5@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Exact Search
Date: Mon, 6 Mar 2006 06:31:23 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Could you please provide an example of some sample text, the terms  
that are emitted by the analyzer, and a query you'd like to work?

	Erik


On Mar 6, 2006, at 5:50 AM, Waleed Tayea wrote:

> Dear All.
>
> How can I perform an exact search on an index constructed with a
> morphological analyzer.
>
>
>
> Thanks in advance
>
> Waleed,
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 11:32:35 2006
Return-Path: <java-user-return-19311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24076 invoked from network); 6 Mar 2006 11:32:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 11:32:19 -0000
Received: (qmail 91516 invoked by uid 500); 6 Mar 2006 11:32:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91136 invoked by uid 500); 6 Mar 2006 11:32:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91125 invoked by uid 99); 6 Mar 2006 11:32:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:32:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.18.90.100] (HELO chnmail.satyam.com) (210.18.90.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:32:39 -0800
X-eSCM-MailFrom: <Haritha_Parvatham@satyam.com>
Received: from che2.satyam.com (172.18.73.12)
	by chnescm01 (172.18.76.22);
	Mon, 06 March 2006 17:02:48 +0530
Received: from disclaimerchn.corp.satyam.ad (chn.satyam.com [172.18.73.8])
	by che2.satyam.com (8.12.8/8.12.8) with ESMTP id k26BTnTR005874
	for <java-user@lucene.apache.org>; Mon, 6 Mar 2006 16:59:49 +0530
Received: from ccrmsg003.corp.satyam.ad ([172.18.73.7]) by disclaimerchn.corp.satyam.ad with Microsoft SMTPSVC(6.0.3790.211); Mon, 6 Mar 2006 17:01:10 +0530
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Importance: normal
Priority: normal
Subject: RE: How to intergrate snowball in lucene
Date: Mon, 6 Mar 2006 17:00:50 +0530
Message-ID: <F448FF49D11EA4459D957805E93C3A690252188A@ccrmsg003.corp.satyam.ad>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to intergrate snowball in lucene
Thread-Index: AcZBB+L8SAQ7+PrhSZSjnsxGUeC4hQACP2vw
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 06 Mar 2006 11:31:10.0369 (UTC) FILETIME=[779D6110:01C64111]
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on che2.satyam.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi kimber,
Thanks for  replying my query.I have downloaded the snowball.After
building it ,What is the next step.How to inplement snowball in
lucene.pls reply
Thanks=20
haritha=20

-----Original Message-----
From: Patrick Kimber [mailto:mailing.patrick.kimber@gmail.com]=20
Sent: Monday, March 06, 2006 3:52 PM
To: java-user@lucene.apache.org
Subject: Re: How to intergrate snowball in lucene

Hi

You should download the snowball contribution which is in the SubVersion
repository:

http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/snowball

This can be built using ANT.

Patrick

On 06/03/06, Haritha_Parvatham <Haritha_Parvatham@satyam.com> wrote:
> Hi,
> Can anyone giude me  to intergrate snowball in lucene.
> I have downloaded snowball srcs.But some files are written in 'c'
> language.I have compiled it .
> Pls tell me how i add snowball in lucene for multilingual support.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




DISCLAIMER:
This email (including any attachments) is intended for the sole use of =
the intended recipient/s and may contain material that is CONFIDENTIAL =
AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or =
copying or distribution or forwarding of any or all of the contents in =
this message is STRICTLY PROHIBITED. If you are not the intended =
recipient, please contact the sender by email and delete all copies; =
your cooperation in this regard is appreciated.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 11:40:57 2006
Return-Path: <java-user-return-19312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27163 invoked from network); 6 Mar 2006 11:40:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 11:40:55 -0000
Received: (qmail 94836 invoked by uid 500); 6 Mar 2006 11:41:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94811 invoked by uid 500); 6 Mar 2006 11:41:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94800 invoked by uid 99); 6 Mar 2006 11:41:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:41:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:41:36 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 46FED33D8C7; Mon,  6 Mar 2006 06:41:16 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 5C7EC33D8C5
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 06:41:15 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <F448FF49D11EA4459D957805E93C3A690252188A@ccrmsg003.corp.satyam.ad>
References: <F448FF49D11EA4459D957805E93C3A690252188A@ccrmsg003.corp.satyam.ad>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FFFAA9B5-F507-40D9-A5D7-D28F26CCCB17@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to intergrate snowball in lucene
Date: Mon, 6 Mar 2006 06:41:19 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 6, 2006, at 6:30 AM, Haritha_Parvatham wrote:
> Hi kimber,
> Thanks for  replying my query.I have downloaded the snowball.After
> building it ,What is the next step.How to inplement snowball in
> lucene.pls reply

Simply use the SnowballAnalyzer that is part of the JAR file that got  
built.  It sounds like you're after more basic instructions than  
that, such as how to put that JAR on your classpath and how to use  
Lucene at a basic level.  Have a look at the articles that have been  
written about Lucene, the (free) codebase to "Lucene in Action" or  
the book itself, or any number of the test cases that exist within  
the Lucene's codebase.

I hope that helps.  Come back with more specific questions and we'd  
be glad to help further.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 11:55:43 2006
Return-Path: <java-user-return-19313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33126 invoked from network); 6 Mar 2006 11:55:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 11:55:41 -0000
Received: (qmail 11979 invoked by uid 500); 6 Mar 2006 11:56:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11568 invoked by uid 500); 6 Mar 2006 11:56:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11557 invoked by uid 99); 6 Mar 2006 11:56:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:56:17 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:56:16 -0800
Received: from imx2.starhub.net.sg ([203.116.254.42])
  by leda.starhub.net.sg with ESMTP; 06 Mar 2006 19:55:54 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx2.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k26Bsewf031596
	for <java-user@lucene.apache.org>; Mon, 6 Mar 2006 19:54:40 +0800
Message-ID: <440C2342.4000809@gmail.com>
Date: Mon, 06 Mar 2006 19:55:46 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>  <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>  <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com> <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com> <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu> <440B3188.20904@gmail.com> <440B3AED.6010407@isb-sib.ch> <440BCE8A.4090904@gmail.com> <Pine.LNX.4.58.0603052208300.32061@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0603052208300.32061@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Since i'm using a boolean OR query i figured it must be related to the 
BooleanScorer (though there's a more complicated BooleanScorer2 which 
I'm not sure when it's use).

Looking at the BooleanScorer code it's probably a little over my head as 
I'm still a beginner to Lucene.

But, I would appreciate if someone could point me to the method where 
the searcher iterates over all query terms and outputs the score. I grep 
  both the Searcher classes and the BooleanScorer classes but can't find it.

Also, I would like to know whether will the sloppyFreq "kick in" if I'm 
just using a Boolean OR query or is this only for phrase queries? And 
how do I disable this so that it'll always be 1.0 without overwriting 
the method?

Thanks for all the help so far.

Chris Hostetter wrote:
> : cosine similarity and need some help.  Can anyone tell me in which file
> : are the methods of the DefaultSimilarity methods called?
> 
> Most of the Similarity methods are called by the various Scorers.   A good
> IDE will tell you where they are called (or you could just grep the
> source, that's what I do)
> 
> : For example, looking at the tf method i see that it takes in a float for
> : freq instead of int. So i'm curious to see how this method is invoked.
> 
> I commented on this recently (and no one contested my explanation)...
> 
> http://www.nabble.com/Similarity-Usage%3A-tf%28int%29-vs-tf%28float%29-p2981283.html
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 11:56:29 2006
Return-Path: <java-user-return-19314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33399 invoked from network); 6 Mar 2006 11:56:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 11:56:26 -0000
Received: (qmail 13156 invoked by uid 500); 6 Mar 2006 11:56:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12977 invoked by uid 500); 6 Mar 2006 11:56:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12966 invoked by uid 99); 6 Mar 2006 11:56:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:56:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [196.204.163.100] (HELO SEXGW3K-H2010.local.bibalex.dom) (196.204.163.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 03:56:54 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64114.FF6E8F8B"
Subject: RE: Exact Search
Date: Mon, 6 Mar 2006 13:56:26 +0200
Message-ID: <AAA84820D5874F46B68C394C41FBBB221D9ADD@SEXGW3K-H2010.local.bibalex.dom>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exact Search
Thread-Index: AcZBEZO4bdLMR3PZR7W50Ioh8ssWIwAAi/kw
From: "Waleed Tayea" <Waleed.Tayea@bibalex.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64114.FF6E8F8B
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


I'm working on Arabic text, so the example might not be understandable.
What I mean is that with the morphologial analysis the tokens are
reduced to their lexems. And those lexems are the terms that are stored
in the index. So when I perform an extact search and get a result, I
will not be able to know wheather the original text exactly matches my
query or not.

Thanks.
Waleed,

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Monday, March 06, 2006 1:31 PM
To: java-user@lucene.apache.org
Subject: Re: Exact Search

Could you please provide an example of some sample text, the terms =20
that are emitted by the analyzer, and a query you'd like to work?

	Erik


On Mar 6, 2006, at 5:50 AM, Waleed Tayea wrote:

> Dear All.
>
> How can I perform an exact search on an index constructed with a
> morphological analyzer.
>
>
>
> Thanks in advance
>
> Waleed,
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


------_=_NextPart_001_01C64114.FF6E8F8B--

From java-user-return-19315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 13:06:50 2006
Return-Path: <java-user-return-19315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72666 invoked from network); 6 Mar 2006 13:06:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 13:06:47 -0000
Received: (qmail 5100 invoked by uid 500); 6 Mar 2006 13:07:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5068 invoked by uid 500); 6 Mar 2006 13:07:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5057 invoked by uid 99); 6 Mar 2006 13:07:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 05:07:26 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.207.140] (HELO web32209.mail.mud.yahoo.com) (68.142.207.140)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 06 Mar 2006 05:07:25 -0800
Received: (qmail 15201 invoked by uid 60001); 6 Mar 2006 13:07:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=mVDFMpq+khS8YtA9qH+sjq/ZeXQXDTVFYJWms4tPRKwoBjNj5p8QAUfq6b+BOZ7O+ybhdB0nFr+TpajRC26wiCsEA3XRS7UdxUTAj50/2aFcm2U/JfE61GvhxASk7N1noQJ2yuGvUM4S2sT28tFN+U1DijCHMm6gXuh28fEYtS0=  ;
Message-ID: <20060306130704.15199.qmail@web32209.mail.mud.yahoo.com>
Received: from [12.21.236.10] by web32209.mail.mud.yahoo.com via HTTP; Mon, 06 Mar 2006 05:07:04 PST
Date: Mon, 6 Mar 2006 05:07:04 -0800 (PST)
From: Brian <okmred@yahoo.com>
Subject: File Name Search
To: java-user@lucene.apache.org
In-Reply-To: <22D0E52D-D588-45DF-8AA0-B208B702CEB5@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Quick Question,
     Is it possible to create an index & search based
on file names?

Thanks,
B

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 13:27:36 2006
Return-Path: <java-user-return-19316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90863 invoked from network); 6 Mar 2006 13:27:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 13:27:35 -0000
Received: (qmail 31241 invoked by uid 500); 6 Mar 2006 13:28:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31209 invoked by uid 500); 6 Mar 2006 13:28:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31198 invoked by uid 99); 6 Mar 2006 13:28:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 05:28:17 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of samurujackson@googlemail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 05:28:16 -0800
Received: by wproxy.gmail.com with SMTP id i5so1361385wra
        for <java-user@lucene.apache.org>; Mon, 06 Mar 2006 05:27:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DP0lPNYr4ivaLFg9G0vN7sQmWFb54hgq+1gyKlWXw1UYgSjdIrOyTCaIFnxiXZlenh7W1ky0oNBKFuNrFuzjOzUO5mB1qnAD2VtMUfQxq/2OX3gCdhIswop+bn6JSjpF86h5gVTEv2zupY3J77lln5QLJWscEchdvMbvI80QaxM=
Received: by 10.64.184.5 with SMTP id h5mr2522851qbf;
        Mon, 06 Mar 2006 05:27:54 -0800 (PST)
Received: by 10.65.235.6 with HTTP; Mon, 6 Mar 2006 05:27:54 -0800 (PST)
Message-ID: <fed285090603060527l3f701a5cw1388178c30eab63f@mail.gmail.com>
Date: Mon, 6 Mar 2006 14:27:54 +0100
From: "Samuru Jackson" <samurujackson@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: Distributed Lucene..
In-Reply-To: <440BD048.4060806@aol.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <440BD048.4060806@aol.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Does it make any sense ? Also would like to know if there are other ways
> to distribute lucene's indexing/searching  ?

I'm interested in such a distributed architecture too.

What I have got in mind is some kind of lucene index cluster where you
have got several machines having subindexes in memory. So if you have
got a a searchquery the machines should perfom fast because the index
is in memory and no hard disk access is performed.

Is there anything like this available?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 14:19:47 2006
Return-Path: <java-user-return-19317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22389 invoked from network); 6 Mar 2006 14:19:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 14:19:46 -0000
Received: (qmail 88274 invoked by uid 500); 6 Mar 2006 14:20:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87867 invoked by uid 500); 6 Mar 2006 14:20:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87856 invoked by uid 99); 6 Mar 2006 14:20:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:20:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:20:23 -0800
Subject: Search for synonyms - implemenetation for review
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 6 Mar 2006 16:20:00 +0200
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D39203D@xmail.me.corp.entopia.com>
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search for synonyms - implemenetation for review
Thread-Index: AcZBKQ2iFVnm5mlfR+yrwFsHoSuHTw==
From: "Andrew Schetinin" <aschetinin@entopia.com>
To: <java-user@lucene.apache.org>
Cc: "Ziv Gome" <zgome@entopia.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear all,
=20
Me and my college, Mr. Ziv Gome, would like to present here an
implementation of synonyms search that we use in our server.
Probably it will be interesting for those who worked on synonyms, or
going to implement synonyms search.
We hope that this mail will raise interesting ideas and will result in
useful results :-)

And I would like to mention that it was Ziv who inspired this research
and development.
He did most of the analytical work and basically invented this entire
idea.=20
=20
1. Background

There is an interesting discussion about synonyms in Lucene mailing list

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg11594.html
which suggests expanding the search query with additional clauses for
synonyms penalized using boost factor.
If we understood correctly, this is employed in the "WordNet" project
for English synonyms.=20
When we started working with synonyms, we implemented exactly that at
first, just without the boost (or, better to say, penalty) factor.
Mr. Erik Hatcher in his book refers to synonyms in a different way -
injecting them at indexing time - we did not quite liked that because it
does not allow searching without synonyms, and we wanted
enabling/disabling this feature from UI..=20

2. First synonyms search implementation and related problems

As I said, at the beginning we simply expanded the query with the
additional term queries for all synonyms.=20
For example, looking for=20
	car AND tire
Would result in=20
	(car OR auto OR automobile OR motorcar) AND (tire OR tyre)
At first we did not even penalized the synonyms with the boost factor.
The results were very surprising :-)

As those who read about Lucene scoring implementation know, there is an
IDF factor which is used by Lucene for normalization of different terms
(inversed document frequency for a term).
The formula for this factor is=20
	IDF =3D log( numDocs / (docFreq + 1) ) + 1
where numDocs is the total number of documents in the index, and docFreq
is the count of documents containing the given term.
As it is possible to see, the term not contained in the index at all
gets the highest IDF value, and the term contained in every single
document gets the lowest IDF value.
The basic idea (as far as I got it) is that a very common term does not
weight much (words like "program"), while a rare term may be very
meaningful (words like... say, "Lucene" :-) )
At the search time Lucene engine summarizes squares of IDF for all
terms, and normalizes all term queries back basing on the square root of
this sum (somewhat simplified explanation).
Basically, each term gets its weight like
	termWeigth =3D IDF * boost
	sumOfSquaredWeights =3D 1 / SQRT( SUM( termWeight[i] *
termWeight[i] ) )=20
	weight[i] =3D IDF * ( termWeigth  / sumOfSquaredWeights )
Another important thing that will be discussed here is term frequency in
the document (based on the count of term appearances in the document),
which is calculated in Lucene as:
	tf =3D sqrt( freq )
Refer to the book I mentioned earlier, or Lucene on-line documentation
for more information.=20

Now, that means, that looking for a single words "tire" without synonyms
will normalize this word with normalization factor 1.0
Let's suppose that its synonym "tyre" does not appear in the index, and
we search for both -  (tire OR tyre)
Surprisingly, now the result scores is much-much lower - only because of
the normalization factor that divides the query weight between two
words.
It is good for boolean operators (which we used here, so Lucene
mathematics is perfectly okay), but it does not goes well logically.

Unfortunately, a penalty factor would not help much, only somewhat lower
the effect.

3. Some ideas we had and the new, hopefully better, implementation=20

We started thinking what to do about that (one could say that we would
need to think ahead before implementation :-) and he would be right).
First, we decided that a penalty of 0.8 should be applied to the
synonyms, as they are not exactly the word the user specified in the
search string.
But the penalty is not enough to correct the situation.

Then we thought that the synonym is basically another occurrence of the
searched word, and we thought that if only the query is normalized using
IDFs of the searched words and not synonyms, the situation would look
better.
This would require two things:=20

First, we need to take only the IDF of the original word for
normalization, like in the query:
	(car OR auto OR automobile OR motorcar) AND (tire OR tyre)
Lucene implementation would SUM squared weights of all words and
synonyms, while we need to take only two original words (car AND tire),
and normalize all the synonyms using normalization factors of the
original words.
The idea is that this would give to the synonyms the weight of the
original word, which is what seems to be more natural if we think of the
synonyms like another occurrences of the original word.
This causes the result document score to do not change when we search
for the word with/without synonyms, and the synonyms do not appear in
the document -exactly what we wanted.
This is not hard to do using a variation of DisjunctionQuery, originally
invented by Chuck Williams and found in the Lucene users' list (please
correct me if I'm wrong).

Second, we need to calculate term frequency as something like (say, for
the (tire OR tyre) case )
	tf =3D sqrt( freq[tire] + 0.8 * freq[tyre] )
The idea is that if the word "tire" appeared 10 appearances of the
synonym "tyre" in a document will be counted like 8 appearances of the
original word "tire", and it will be multiplied on the normalized weight
of the original word "tire".
Note that this 0.8 normalization cannot be applied as the regular query
boost in Lucene, because the original query boost is used in the query
normalization and it compensates itself in a case of a single word, and
we do not need such behavior.
The problem with that is that the tf() function is calculated for each
frequency at the scoring time, and while we may square it back in the
parent scorer to get the original frequence and sum it, it will happen
for each single document returned in the result, which is unnecessary
additional work. Because of that we simply use a custom Similarity class
which returns the unaffected frequency value from tf() function, and a
special SynonymScorer which accumulates the frequences, and then
calculates tf() of their sum.

Additionally, we get a new problem - if we apply IDF of the original
word to the synonym, it would not work good in cases when the original
word is rare and the synonym is frequent. The documents found because of
synonyms may get unreasonable high scores because of high term frequency
of the synonym and high weight of the rare original word. Therefore we
need a compensation factor like the following
	tf =3D sqrt( freq[tire] + 0.8 * freq[tyre] * idfFactor )
where
	idfFactor =3D (IDF[synonym] * IDF[synonym]) / (IDF[word] *
IDF[word])
Note that we take relation of IDF squares here, From our experience,
relation of squares behave better here than simple relation of IDFs.

Now, this is something hard to do, as the term frequency calculation
occurs at the scoring time, long after the normalization, and cannot be
affected without changing TermQuery and TermScorer classes, and we did
not like the idea of touching them. What we did was playing with the
normalization factor at the time of query normalization in such a way
that the resulting synonym TermQuery's weight will incorporate the
necessary boosts which will be applied to tf() function result at the
time of scoring in exactly the same manner like if tf() function would
know about these factors.
Assuming we know that tf() function is a simple square root, we apply
the square root to both the synonym boost and the IDF squares relation.

Please take a look on the source code provided at the end of this mail.
It contains the necessary comments.
It was dififcult to extract a small subset of classes, because there are
many other dependancies and things unrelated to synonyms.
I cut a lot of code and change package naming (replaced all our packages
by org.apache.lucene.search for simplification) and only checked that it
compiles afterwards.=20
Feel free to to reuse the sources, just don't blame us if something
brokes in result :-)
	SynonymsQuery and SynonymsWeight classes - the central point of
the algorithm
	SynonymScorer - the scorer which implements the trick with tf()
function
	SynonymSimilarity - also for the trick with tf() function
It may look somewhat complicated, but in fact it is quite simple.=20

4. Conclusion

Synonyms search is difficult to do right, and there is hardly a perfect
implementation which would work correctly for all cases.=20
There are some pitfalls which were not mentioned in this e-mail at all,
like synonyms which are context-specific, or synonyms with weak relation
to the original word.
In practice, it's hardly possible to handle all the cases properly,
partly because a regular synonyms dictionary is a simple string map, and
it does not try to categorize or weight the synonyms.

We think that we got a relatively good solution for the synonyms search.
We like the search results we get now after implementing this idea.

We're looking forward to hear your opinions and other ideas.
I will be happy to answer your questions, either in this mailing list or
at my other email aschetinin_gmail_com (replace underscores).
=20
Thank you for your time and consideration,
=20
Andrew Schetinin

Appendix A. Sources

------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------

/*
 * Copyright (c) 2006 Entopia Ltd. All Rights Reserved.
 */
package org.apache.lucene.search;

import org.apache.lucene.search.*;
import org.apache.lucene.search.synonyms.SynonymScorer;
import org.apache.lucene.search.synonyms.SynonymSimilarity;
import org.apache.lucene.index.IndexReader;

import java.util.ArrayList;
import java.io.IOException;

/**
 * This query is purposed for working with synonyms of one word.
 * The general idea is:
 * 1. The query is normalized by the original word weight only, not
taking into account its synonyms.
 * 2. Weights of the synonyms are scaled (normalized) using normlization
factor of the original word,
 *    also applying some penalty (since synonyms incure uncertancy into
the search), and applying
 *    additional normalization that takes into account weight relation
between the original word
 *    and the synonym (an attempt to bring them to the same scale).
 * 3. When calculating the final score for full text search, we try to
interpret synonyms just like
 *    additional appearences of the original word, somewhat penalized
because synonyms incure
 *    uncertancy into searches. This is what the algorithm does, and
thus it requires a special
 *    scorer SynonymScorer and special similarity
AggregatableLuceneSimilarity.
 * Most important functions are: SynonymsWeight#sumOfSquaredWeights()
and SynonymsWeight#normalize().
 * Other important functions are: SynonymsWeight#scorer() and
SynonymsWeight#explain().
 * @author <a href=3D"mailto:aschetinin_entopia_com">Andrew S.</a>
 * @version $Revision: 1.2 $
 * Created by aschetinin on date Feb 5, 2006 and time 11:25:17 AM
 * Modified by: $Author: zivg $
 * Last updated on: $Date: 2006/02/21 10:41:45 $
 */
public class SynonymsQuery extends Query {

  /** List of QueryInfo objects - the subqueries with all related
information. */
  private ArrayList queries =3D new ArrayList();

  /**
   * Add a custom subquery with specified parameters.
   * This function is intended for using with special fields like
keywords or searchable.
   * @param query the disjunct added
   * @param boost Boost implied to this query scores. Not accounted
during normalization, but only applied to final scores
   * @param synonym Specifies if this query is a synonym or a word
itself
   */
  public void add( Query query, float boost, boolean synonym ) {
    queries.add( new QueryInfo( query, boost, synonym ) );
  }

  /** Returns count of sub-queries */
  public int getSubQueryCount() {
    return queries.size();
  }

  /**
   * The Weight for DisjunctionQuery's, used to normalize, score and
explain these queries
   * This class requires two passes in order to properly calculate
weights of its subqueries.
   * On the first pass, it normalizes the keyword field subquery.
   * On the second pass, it normalizes the content field subquery (this
ensures that
   * the ratios in parent queries are normalized to content field).
   */
  private class SynonymsWeight implements Weight {

    /** The searcher with which we are associated. */
    private Searcher searcher;

    /** The Weight's for our subqueries, in 1-1 correspondence with
disjuncts */
    private Weight[] weights;

    /** Sum of squared weights of the original word queries */
    private float sumWordWeights;

    /** Squared weights of the sub-queries */
    private float[] squareWeights;

    /** Count of original word queries */
    private int wordCount;

    /** Count of synonym queries */
    private int synonymCount;

    /** Construct the Weight for this Query searched by searcher.
        Recursively construct subquery weights. */
    public SynonymsWeight( Searcher searcher ) {
      this.searcher =3D searcher;
      weights =3D new Weight[queries.size()];
      for( int i =3D 0; i < queries.size(); i++ )
        weights[i] =3D ((QueryInfo) queries.get( i
)).getQuery().createWeight( searcher );
      squareWeights =3D new float[queries.size()];
    }

    /** Return our associated DisjunctionQuery */
    public Query getQuery() {
      return SynonymsQuery.this;
    }

    /** Return our boost */
    public float getValue() {
      return getBoost();
    }

    /** Compute the sub of squared weights of us applied to our
subqueries.  Used for normalization. */
    public float sumOfSquaredWeights() throws IOException {
      sumWordWeights =3D 0;
      wordCount =3D 0;
      synonymCount =3D 0;
      for( int i =3D 0; i < queries.size(); i++ ) {
        QueryInfo qi =3D (QueryInfo) queries.get( i );
        squareWeights[i] =3D weights[i].sumOfSquaredWeights();
        if( qi.getSynonym() ) {
          synonymCount++;
        } else {
          wordCount++;
          sumWordWeights +=3D weights[i].sumOfSquaredWeights();
        }
      }
      // We ignore IDFs of the synonyms and only use IDF of the original
word for normalization
      return sumWordWeights * getBoost() * getBoost();
    }

    /** Apply the computed normalization factor to our subqueries */
    public void normalize( float norm ) {
      norm *=3D getBoost();  // Incorporate the query boost (usually 1)
      for( int i =3D 0; i < queries.size(); i++ ) {
        QueryInfo qi =3D (QueryInfo) queries.get( i );
        // This is the synonym boost which has to affect the frequency
of synonyms.
        // For full text query:
        // Since tf() =3D sqrt( freq ), we have to take sqrt of the =
boost
here in order to get the desired effect.
        // sqrt( boost ) * tf() =3D sqrt( boost ) * sqrt( freq ) =3D =
sqrt(
boost * freq )
        float qnorm =3D (float) Math.sqrt( qi.getBoost() ) * norm;
        // For synonyms we have to perform two operations:
        if( qi.getSynonym() && (sumWordWeights !=3D 0.0f) &&
(squareWeights[i] !=3D 0.0f) ) {
          // First we multiply the normalization by the relation of
squared weights of the original word and the synonym.
          // This removes the effect of the synonym's IDF and replaces
it with the word IDF when calculating the score.
          // The normalization factor is multiplied by square of IDF,
and this is what we do here -
          // divide on the synonym IDF in order to remove its effect,
and multiply on the original word IDF
          // to add its effect instead of IDF of the synonym.
          qnorm *=3D (sumWordWeights / squareWeights[i]);
          // Second we apply the relation between IDFs of the synonym
and the orignial word to the term frequency.
          // Since tf() =3D sqrt( freq ), we have to take sqrt of the
relation here in order to get the desired effect,
          // exactly like with the boost earlier.
          qnorm *=3D (float) Math.sqrt( squareWeights[i] / =
sumWordWeights
);
          // P.S. For full text search these two equations may be easily
turned to one with square root,
          // but I decided to leave them unoptimized for the sake of
explainability.
        }
        weights[i].normalize( qnorm );
      }
    }

    /** Create the scorer used to score our associated DisjunctionQuery
*/
    public Scorer scorer( IndexReader reader ) throws IOException {
      Similarity sim =3D SynonymSimilarity.getInstance();
      SynonymScorer result =3D new SynonymScorer( sim );
      for( int i =3D 0; i < weights.length; i++ ) {
        Weight w =3D weights[i];
        Scorer subScorer =3D w.scorer( reader );
        if( subScorer =3D=3D null )
          return null;
        result.add( subScorer );
      }
      return result;
    }

    /** Explain the score we computed for doc */
    public Explanation explain( IndexReader reader, int doc ) throws
IOException {
      SynonymSimilarity similarity =3D SynonymSimilarity.getInstance();
      Explanation result =3D new Explanation();
      float max =3D 0.0f, sum =3D 0.0f;
      result.setDescription( " TF( sum( deTF(weight) )) of:" );
      int numSubQueries =3D weights.length, numSubQueriesHit =3D 0;
      for( int i =3D 0; i < weights.length; i++ ) {
        Explanation e =3D weights[i].explain( reader, doc );
        if( e.getValue() > 0 ) {
          QueryInfo qi =3D (QueryInfo) queries.get( i );
          if( qi.getSynonym() && (sumWordWeights !=3D 0.0f) &&
(squareWeights[i] !=3D 0.0f) ) {
            Explanation boostExpl =3D new Explanation( 0, "synonym
penalty, product of:" );
            float boost =3D qi.getBoost();
            if( qi.getBoost() !=3D 1 )
              boostExpl.addDetail( new Explanation( qi.getBoost(),
"configuration penalty" ) );
            if( squareWeights[i] !=3D 0.0f ) {
              boostExpl.addDetail( new Explanation( sumWordWeights /
squareWeights[i],
                  "IDF normalization: origWeigth^2=3D" + sumWordWeights =
+
" / synonymWeight^2=3D" + squareWeights[i] ) );
              boost *=3D (sumWordWeights / squareWeights[i]);
            }
            if( sumWordWeights !=3D 0.0f ) {
              boostExpl.addDetail( new Explanation( (float) Math.sqrt(
squareWeights[i] / sumWordWeights ),
                  "TF normalization: sqrt( synonymWeight^2=3D" +
squareWeights[i] + " / origWeigth^2=3D" + sumWordWeights + " )" ) );
              boost *=3D (float) Math.sqrt( squareWeights[i] /
sumWordWeights );
            }
            boostExpl.setValue( boost );
            e.addDetail( boostExpl );
          } else if( qi.getBoost() !=3D 1 ) { // should never happen =
since
the original word should always have 1.0 boost
            e.addDetail( new Explanation( qi.getBoost(), "field boost" )
);
          }
          numSubQueriesHit++;
          result.addDetail( e );
          float value =3D e.getValue();
          sum +=3D similarity.detf( value );
          max =3D Math.max( max, value );
        }
      }
      sum =3D similarity.tf( sum );
      result.setValue( sum );
      return result;
    }

  }  // end of DisjunctionWeight inner class

  /** Create the Weight used to score us */
  protected Weight createWeight( Searcher searcher ) {
    return new SynonymsWeight( searcher ); // ordered
  }

  /**
   * Optimize our representation and our subqueries representations
   * @param reader the IndexReader we query
   * @return an optimized copy of us (which may not be a copy if there
   *         is nothing to optimize)
   */
  public Query rewrite( IndexReader reader ) throws IOException {
    // this query can only be eliminated if it has one subquery without
any modifiers
    if( queries.size() =3D=3D 1 ) {
      QueryInfo qi =3D (QueryInfo) queries.get( 0 );
      if( qi.getBoost() =3D=3D 1 ) { // if they are default
        Query result =3D qi.getQuery().rewrite( reader );
        if( getBoost() !=3D 1.0f ) {
          if( result =3D=3D qi.getQuery() )
            result =3D (Query) result.clone();
          result.setBoost( getBoost() * result.getBoost() );
        }
        return result;
      }
    }
    // otherwise try optimizing the clauses
    SynonymsQuery clone =3D null;
    for( int i =3D 0; i < queries.size(); i++ ) {
      QueryInfo clause =3D (QueryInfo) queries.get( i );
      Query rewrite =3D clause.getQuery().rewrite( reader );
      if( rewrite !=3D clause.getQuery() ) {
        if( clone =3D=3D null )
          clone =3D (SynonymsQuery) this.clone();
        clone.queries.set( i, new QueryInfo( rewrite, clause.getBoost(),
clause.getSynonym() ) );
      }
    }
    if( clone !=3D null )
      return clone;
    else
      return this;
  }

  /* Create a shallow copy of us -- used in rewriting if necessary
   * @return a copy of us (but reuse, don't copy, our subqueries) */
  public Object clone() {
    SynonymsQuery clone =3D (SynonymsQuery) super.clone();
    clone.queries =3D (ArrayList) this.queries.clone();
    return clone;
  }

  /**
   * Prettyprint us.
   * @param field the field to which we are applied
   * @return a string that shows what we do, of the form "(disjunct1 |
   *         disjunct2 | ... | disjunctn)^boost"
   */
  public String toString( String field ) {
    StringBuffer buffer =3D new StringBuffer();
    buffer.append( "sum(" );
    for( int i =3D 0; i < queries.size(); i++ ) {
      QueryInfo qi =3D (QueryInfo) queries.get( i );
      Query subquery =3D qi.getQuery();
      //if( subquery instanceof TermQuery )       // wrap sub-bools in
parens
        buffer.append( subquery.toString( field ) );
      //else
      //  buffer.append( '(' ).append( subquery.toString( field )
).append( ')' );
      if( qi.getBoost() !=3D 1 )
        buffer.append( '*' ).append( qi.getBoost() );
      if( i !=3D queries.size() - 1 )
        buffer.append( ' ' );
    }
    buffer.append( ')' );
    if( getBoost() !=3D 1.0f ) {
      buffer.append( '^' ).append( getBoost() );
    }
    return buffer.toString();
  }

  /**
   * Return true iff we represent the same query as o
   * @param o another object
   * @return true iff o is a DisjunctionQuery with the same boost
   *         and the same subqueries, in the same order, as us
   */
  public boolean equals( Object o ) {
    if( !(o instanceof SynonymsQuery) )
      return false;
    SynonymsQuery other =3D (SynonymsQuery) o;
    if( this.queries.size() !=3D other.queries.size() )
      return false;
    for( int i =3D 0; i < this.queries.size(); ++i ) {
      if( !this.queries.get( i ).equals( other.queries.get( i ) ) )
        return false;
    }
    return (this.getBoost() =3D=3D other.getBoost());
  }

  /**
   * Compute a hash code for hashing us
   * @return the hash code
   */
  public int hashCode() {
    return Float.floatToIntBits( getBoost() ) ^ queries.hashCode();
  }

  /** Class containing the information about the specific sub-query */
  private static final class QueryInfo {
    /** Query object */
    private Query query =3D null;
    /** Boost implied to this query scores. Not accounted during
normalization, but only applied to final scores */
    private float boost =3D 0;
    /** Specifies if this query is a synonym or a word itself */
    private boolean synonym =3D false;
    /** Default constructor */
    public QueryInfo( Query query ) {
      this.query =3D query;
    }
    /** Constructor with all parameters */
    public QueryInfo( Query query, float boost, boolean synonym ) {
      this.query =3D query;
      this.boost =3D boost;
      this.synonym =3D synonym;
    }
    /** Returns the stored query object */
    public Query getQuery() {
      return query;
    }
    /** Returns if this query is a synonym or a word itself */
    public boolean getSynonym() {
      return synonym;
    }
    /** Returns the boost for this query */
    public float getBoost() {
      return boost;
    }
    /**
     * Return true iff we represent the same query as o
     * @param o another object
     * @return true iff o is a DisjunctionQuery with the same boost
     *         and the same subqueries, in the same order, as us
     */
    public boolean equals( Object o ) {
      if( !(o instanceof QueryInfo) )
        return false;
      QueryInfo other =3D (QueryInfo) o;
      return this.query.equals( other.query ) && (this.boost =3D=3D
other.boost)
          && (this.synonym =3D=3D other.synonym);
    }
  }

}
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------

/*
 * Copyright (c) 2006 Entopia Ltd. All Rights Reserved.
 */
package org.apache.lucene.search.synonyms;

import org.apache.lucene.search.Similarity;
import org.apache.lucene.search.Scorer;
import org.apache.lucene.search.Explanation;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Comparator;
import java.util.Arrays;

/**
 * Special scorer for SynonymsQuery query used in full text searches.
 * This scorer does a trick when summarizing the scores of its
sub-scorers:
 * it applies an opposite function from similarity's tf() function to
get the frequency value back,
 * and then summarizes the values, and re-applies similarity's tf()
function to the sum.
 * This way the scorer makes the sum of scores from several words
behaving like it was one word
 * occuring N times, where N is the sum of occurences of all searched
words.
 * @author <a href=3D"mailto:aschetinin@entopia.com">Andrew S.</a>
 * @version $Revision: 1.2 $
 * Created by aschetinin on date Feb 5, 2006 and time 11:25:17 AM
 * Modified by: $Author: zivg $
 * Last updated on: $Date: 2006/02/21 10:41:45 $
 */
public class SynonymScorer extends Scorer {

  private static final SynonymSimilarity similarity =3D
SynonymSimilarity.getInstance();

  /**
   * Creates a new instance of SynonymScorer
   * @param similarity -- not used since our definition involves neither
coord nor terms directly
   */
  public SynonymScorer( Similarity similarity ) {
    super( similarity );
  }

  protected float computeScore(float sum, float max, int coord) {
    return sum;
  }

  /** Look at the class explanation */
  protected float oldScore() throws IOException {
    float max =3D ((Scorer) subScorers.get(0)).score();
    float sum =3D similarity.detf( max );
    int numSubQueriesHit =3D 1;
    for (int i =3D 1, doc =3D ((Scorer) subScorers.get(0)).doc(); i <
        subScorers.size() && ((Scorer) subScorers.get(i)).doc() =3D=3D =
doc;
i++) {
      float sub =3D ((Scorer) subScorers.get(i)).score();
      sum +=3D similarity.detf( sub );
      max =3D Math.max( max, sub );
      numSubQueriesHit++;
    }
    sum =3D similarity.dotf( sum );
    return computeScore( sum, max, numSubQueriesHit );
  }

  /* The scorers for subqueries that have remaining docs, kept sorted
  by number of next doc. */
  protected ArrayList<Scorer> subScorers =3D new ArrayList<Scorer>();

  private boolean more =3D false;          // True iff there is a next
document
  private boolean firstTime =3D true;      // True iff next() has not =
yet
been called

  /* Fixed instance of the comparator to reuse */
  private static MaxDisjunctionClauseComparator subScorerComparator =3D
      new MaxDisjunctionClauseComparator();

  private float currentDocScore =3D -1F;

  /* Comparator to sort subScorers according to the document number of
  next document */
  private static class MaxDisjunctionClauseComparator implements
      Comparator /*<Scorer>*/ {

    /* Scorers have all been positioned at their next document
  already */
    public int compare(Object /*Scorer*/ s1, Object /*Scorer*/ s2) {
      if (!(s1 instanceof Scorer && s2 instanceof Scorer)) {
        return -1;
      } else {
        return ((Scorer) s1).doc() - ((Scorer) s2).doc();
      }
    }

    /* Compatible equality */
    public boolean equals(Scorer s1, Scorer s2) {
      return s1.doc() =3D=3D s2.doc();
    }
  }

  /**
   * Add the scorer for a subquery
   *
   * @param scorer the scorer of a subquery of our associated
   *               DisjunctionQuery
   */
  public void add(Scorer scorer) throws IOException {
    if (scorer.next()) {       // Initialize and retain only if it
produces docs
      subScorers.add(scorer);
      more =3D true;
    }
  }

  /**
   * Generate the next document matching our associated
   * DisjunctionQuery.
   *
   * @return true iff there is a next document
   */
  public boolean next() throws IOException {
    boolean retVal =3D oldNext();
    if (retVal)
      currentDocScore =3D oldScore();
    return retVal;
  }

  private boolean oldNext() throws IOException {
    if (!more) return false;
    if (firstTime) {
      init();
      return true;   // more would have been false if no subScorers had
any docs
    }
    // Increment all generators that generated the last doc and
incrementally re-sort.
    int lastdoc =3D subScorers.get( 0 ).doc();
    do {
      if( subScorers.get( 0 ).next() ) {
        Scorer s =3D subScorers.get( 0 );
        int snextdoc =3D s.doc(), i =3D 1;
        for( ; i < subScorers.size() && snextdoc > subScorers.get( i
).doc(); i++ )
          subScorers.set(i - 1, subScorers.get(i));
        if (i !=3D 1) subScorers.set(i - 1, s);
      } else {
        subScorers.remove(0);
        if (subScorers.isEmpty()) return (more =3D false);
      }
    } while( subScorers.get( 0 ).doc() =3D=3D lastdoc );
    return true;
  }

  /* First time initialization.  Sort subScorers. */
  private void init() {
    sortSubScorers();
    firstTime =3D false;
  }

  /* Sort subScorers in order of document number of next document to
   be generated */
  private void sortSubScorers() {
    Scorer[] sorted =3D subScorers.toArray( new =
Scorer[subScorers.size()]
);
    Arrays.sort(sorted, subScorerComparator);
    for (int i =3D 0; i < sorted.length; i++)
      subScorers.set( i, sorted[i] );
  }

  /**
   * Determine the current document number.  Initially invalid, until
   * {@link #next()} is called the first time.
   *
   * @return the document number of the currently generated document
   */
  public int doc() {
    return subScorers.get( 0 ).doc();
  }

  /**
   * Determine the current document score.  Initially invalid, until
   * {@link #next()} is called the first time.
   *
   * @return the score of the current generated document
   */
  public float score() throws IOException {
    return currentDocScore;
  }

  /**
   * Advance to the first document whose number is greater than or
   * equal to target.
   *
   * @param target the minimum number of the next desired document
   * @return true iff there is a document to be generated whose number
   *         is at least target
   */
  public boolean skipTo(int target) throws IOException {
    do {
      if (!next())
        return false;
    } while (target > doc());
    return true;
    // the following, original implementation, erroneously approves docs
that
    // match on only one subquery
    /*
       int i=3D0;
       while (i<subScorers.size()) {
           if (((Scorer)subScorers.get(i)).skipTo(target)) i++;
           else subScorers.remove(i);
       }
       if (i =3D=3D 0) return false;
       sortSubScorers();
       return true;
    */
  }

  /**
   * Explain a score that we computed.  UNSUPPORTED -- see
   * explanation capability in DisjunctionQuery.
   *
   * @param doc the number of a document we scored
   * @return the Explanation for our score
   */
  public Explanation explain(int doc) throws IOException {
    throw new UnsupportedOperationException();
  }


}


------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------

/*
 * Copyright (c) 2006 Entopia Ltd. All Rights Reserved.
 */
package org.apache.lucene.search.synonyms;

import org.apache.lucene.search.DefaultSimilarity;

/**
 * Special type of similarity used for synonym scoring in full text
search.
 * It returns the term frequency without applying Lucene tf() function
(square root).
 * The tf() function is applied later by the scorer, after summarizing
all synonym scores.
 * @author <a href=3D"mailto:aschetinin@entopia.com">Andrew S.</a>
 * @version $Revision: 1.2 $
 * Created by aschetinin on date Feb 5, 2006 and time 11:25:17 AM
 * Modified by: $Author: zivg $
 * Last updated on: $Date: 2006/02/21 10:41:45 $
 */
public class SynonymSimilarity extends DefaultSimilarity {

  SynonymSimilarity() {
  }

  private static final SynonymSimilarity _instance =3D new
SynonymSimilarity();

  public static SynonymSimilarity getInstance() {
    return _instance;
  }

  /**
   * do the backward computation to what we did in tf()
   */
  public float detf( float tf ) {
    return tf * tf;
  }

  /**
   * we want unaltered term frequence value
   */
  public float tf( float freq ) {
    return freq;
  }

  /**
   * the original Lucene tf() function
   */
  public float dotf( float freq ) {
    return (float) Math.sqrt( freq );
  }

}

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 14:37:04 2006
Return-Path: <java-user-return-19318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39984 invoked from network); 6 Mar 2006 14:37:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 14:37:02 -0000
Received: (qmail 15146 invoked by uid 500); 6 Mar 2006 14:37:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15091 invoked by uid 500); 6 Mar 2006 14:37:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15022 invoked by uid 99); 6 Mar 2006 14:37:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:37:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:37:42 -0800
Subject: RE: Distributed Lucene..
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 6 Mar 2006 16:37:19 +0200
Content-class: urn:content-classes:message
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D392040@xmail.me.corp.entopia.com>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Distributed Lucene..
Thread-Index: AcZBIeXgKfeVYoQrTiW/H1vGcUMfZgACD+Ng
From: "Andrew Schetinin" <aschetinin@entopia.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

We are implementing a distributed searcher and indexer based on Lucene.
I cannot share its code but I may provide hints basing on our
experience.

What we did basically is having several machines indexing documents and
creating small Lucene indexes.=20
We hacked :-) IndexWriter of Lucene to start all segment names with a
prefix unique for each small index part.
Then, when adding it to the actual index, we simply copy the new segment
to the folder with the other segments, and add it in such a way so that
the optimize() function cannot be called.
This way adding a new segment is very unintrusive for the searcher.
Optimization is scheduled to happen at night.

The index is divided into parts located on different physical machines,
and here is where complexity begins.
We do not try normalizing term weights across the machines, assuming
that with large data quantities they will be more or less evenly
distributed.=20
But the problem exist, and probably in the future we will think how to
handle it.
The documents are distributed across the machines randomally, and
merging the results becames a little head pain :-)

Best Regards,

Andrew Schetinin


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 14:45:51 2006
Return-Path: <java-user-return-19319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44822 invoked from network); 6 Mar 2006 14:45:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 14:45:50 -0000
Received: (qmail 28274 invoked by uid 500); 6 Mar 2006 14:46:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28254 invoked by uid 500); 6 Mar 2006 14:46:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28243 invoked by uid 99); 6 Mar 2006 14:46:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:46:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:46:29 -0800
Received: from [192.168.0.86] (unknown [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id 9B319D7C31
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 16:45:20 +0200 (EET)
Message-ID: <440C4AF6.60302@i-hypergrid.com>
Date: Mon, 06 Mar 2006 16:45:10 +0200
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: File Name Search
References: <20060306130704.15199.qmail@web32209.mail.mud.yahoo.com>
In-Reply-To: <20060306130704.15199.qmail@web32209.mail.mud.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------060502020205090304080808"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------060502020205090304080808
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Yes. It possible.
I've developed such search for our LAN shared files.

I'm using technique of rotating filenames to improve wildcard queries 
performance.
details :
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200506.mbox/%3cD3188A0C-B427-4286-9D1C-AE5E98BFBE84@ehatchersolutions.com%3e

Other improvements:
WildCardQuery is rewritten into ConstantScoreQuery.
Also I've increased IndexWriter.termInterval from 128(default) to 2000. 
Before this change memory consumption was too high.

Now index has about 10M docs and size about 4Gb (primarily because of 
storing full path to file) and runs fine with -Xms100M memory limit.
It has simple web interface implemented with HTTPD 
<http://elonen.iki.fi/code/nanohttpd/> java HTTP server.

File list is refreshed every 3 days for every workstation.

For assessing network files I'm using JCIFS (jcifs.samba.org)

Questions?

Brian wrote:
> Quick Question,
>      Is it possible to create an index & search based
> on file names?
>
> Thanks,
> B
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 
regards,
Volodymyr Bychkoviak


--------------060502020205090304080808--

From java-user-return-19320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 14:47:25 2006
Return-Path: <java-user-return-19320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45487 invoked from network); 6 Mar 2006 14:46:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 14:46:55 -0000
Received: (qmail 31749 invoked by uid 500); 6 Mar 2006 14:47:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31726 invoked by uid 500); 6 Mar 2006 14:47:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31715 invoked by uid 99); 6 Mar 2006 14:47:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:47:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 06:47:28 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C902933CFDF; Mon,  6 Mar 2006 09:47:07 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 6B57D33CFDC
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 09:47:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20060306130704.15199.qmail@web32209.mail.mud.yahoo.com>
References: <20060306130704.15199.qmail@web32209.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <82CA2826-58F3-4248-BE5A-ECAB6837C40C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: File Name Search
Date: Mon, 6 Mar 2006 09:47:07 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 6, 2006, at 8:07 AM, Brian wrote:
> Quick Question,
>      Is it possible to create an index & search based
> on file names?

Of course.   One option is to simply make filename another field.   
The question is, should it be an exact match on filename for  
querying?  Or should the filename get tokenized such that a user  
could query on "filename" and find "filename.txt", and so on?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:00:42 2006
Return-Path: <java-user-return-19321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53015 invoked from network); 6 Mar 2006 15:00:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:00:36 -0000
Received: (qmail 56277 invoked by uid 500); 6 Mar 2006 15:00:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56227 invoked by uid 500); 6 Mar 2006 15:00:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56183 invoked by uid 99); 6 Mar 2006 15:00:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:00:59 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.207.141] (HELO web32210.mail.mud.yahoo.com) (68.142.207.141)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 06 Mar 2006 07:00:58 -0800
Received: (qmail 88463 invoked by uid 60001); 6 Mar 2006 15:00:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=bhvKN8q6JCBbPOJEzefTAlxO6vd76vIg9XIsweE//5expluynCZpTlmrTPPZkr5tk09N0TXtu958pJHA6zglRsuyXZazvpTWC/6fBEV+DWnjUKxYqKKuXq8Y34JU9Yfap8BXn+ZOeTjxbkaeR5pDqUgV9x5ViVFofS1GZ+gFW/I=  ;
Message-ID: <20060306150028.88461.qmail@web32210.mail.mud.yahoo.com>
Received: from [12.21.236.10] by web32210.mail.mud.yahoo.com via HTTP; Mon, 06 Mar 2006 07:00:28 PST
Date: Mon, 6 Mar 2006 07:00:28 -0800 (PST)
From: Brian <okmred@yahoo.com>
Subject: Re: File Name Search
To: java-user@lucene.apache.org
In-Reply-To: <82CA2826-58F3-4248-BE5A-ECAB6837C40C@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Cool,
   Basically I have soming similar to:
name_division.date_order_code

So I'm guessing I need to tokenize.

Thanks, B

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> On Mar 6, 2006, at 8:07 AM, Brian wrote:
> > Quick Question,
> >      Is it possible to create an index & search
> based
> > on file names?
> 
> Of course.   One option is to simply make filename
> another field.   
> The question is, should it be an exact match on
> filename for  
> querying?  Or should the filename get tokenized such
> that a user  
> could query on "filename" and find "filename.txt",
> and so on?
> 
> 	Erik
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:03:00 2006
Return-Path: <java-user-return-19322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54204 invoked from network); 6 Mar 2006 15:02:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:02:25 -0000
Received: (qmail 59947 invoked by uid 500); 6 Mar 2006 15:02:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59920 invoked by uid 500); 6 Mar 2006 15:02:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59909 invoked by uid 99); 6 Mar 2006 15:02:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:02:48 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.207.135] (HELO web32204.mail.mud.yahoo.com) (68.142.207.135)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 06 Mar 2006 07:02:47 -0800
Received: (qmail 40859 invoked by uid 60001); 6 Mar 2006 15:02:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=c4EFGhBCywb6V0qeakapXW3wR8iqiSKPRk9M0/+ztcMwhOdRuPWeo1XsZxXTzV0sgAQ0+KYPr7SsTIe/qpaZ0c8bO6GiJdOty24JCNTkHtSkDXLXlzbQQ3XvmP6W8u2tuVS4NP2RMHs3yAGfm5cCVWgZmsYCqSPTBpMlj0xxu28=  ;
Message-ID: <20060306150226.40857.qmail@web32204.mail.mud.yahoo.com>
Received: from [12.21.236.10] by web32204.mail.mud.yahoo.com via HTTP; Mon, 06 Mar 2006 07:02:26 PST
Date: Mon, 6 Mar 2006 07:02:26 -0800 (PST)
From: Brian <okmred@yahoo.com>
Subject: Re: File Name Search
To: java-user@lucene.apache.org
In-Reply-To: <440C4AF6.60302@i-hypergrid.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

GREAT!!
I don't have any questions today, I just wanted to
make sure it was possible first. I'll be starting this
in a few days (when I get an Okie Dokie...)
Then I'm sure I'll have some questions.
Thanks for the link and the reply.
V/R
B

--- Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
wrote:

> Yes. It possible.
> I've developed such search for our LAN shared files.
> 
> I'm using technique of rotating filenames to improve
> wildcard queries 
> performance.
> details :
>
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200506.mbox/%3cD3188A0C-B427-4286-9D1C-AE5E98BFBE84@ehatchersolutions.com%3e
> 
> Other improvements:
> WildCardQuery is rewritten into ConstantScoreQuery.
> Also I've increased IndexWriter.termInterval from
> 128(default) to 2000. 
> Before this change memory consumption was too high.
> 
> Now index has about 10M docs and size about 4Gb
> (primarily because of 
> storing full path to file) and runs fine with
> -Xms100M memory limit.
> It has simple web interface implemented with HTTPD 
> <http://elonen.iki.fi/code/nanohttpd/> java HTTP
> server.
> 
> File list is refreshed every 3 days for every
> workstation.
> 
> For assessing network files I'm using JCIFS
> (jcifs.samba.org)
> 
> Questions?
> 
> Brian wrote:
> > Quick Question,
> >      Is it possible to create an index & search
> based
> > on file names?
> >
> > Thanks,
> > B
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam
> protection around 
> > http://mail.yahoo.com 
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> >   
> 
> -- 
> regards,
> Volodymyr Bychkoviak
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:03:20 2006
Return-Path: <java-user-return-19323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54608 invoked from network); 6 Mar 2006 15:03:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:03:09 -0000
Received: (qmail 61976 invoked by uid 500); 6 Mar 2006 15:03:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61939 invoked by uid 500); 6 Mar 2006 15:03:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61928 invoked by uid 99); 6 Mar 2006 15:03:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:03:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:03:43 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 869A733D10D; Mon,  6 Mar 2006 10:03:23 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 9C68233D10D
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 10:03:22 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <AAA84820D5874F46B68C394C41FBBB221D9ADD@SEXGW3K-H2010.local.bibalex.dom>
References: <AAA84820D5874F46B68C394C41FBBB221D9ADD@SEXGW3K-H2010.local.bibalex.dom>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <62855E58-5F41-464B-AB51-23FA957EB664@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Exact Search
Date: Mon, 6 Mar 2006 10:03:28 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Index the original with only basic tokenization into another field,  
or index the originals into the same field with a zero position  
increment to allow for accurate phrase querying.   I personally would  
put the original words into the same field and the same position,  
along with the lexed tokens.

	Erik


On Mar 6, 2006, at 6:56 AM, Waleed Tayea wrote:

>
> I'm working on Arabic text, so the example might not be  
> understandable.
> What I mean is that with the morphologial analysis the tokens are
> reduced to their lexems. And those lexems are the terms that are  
> stored
> in the index. So when I perform an extact search and get a result, I
> will not be able to know wheather the original text exactly matches my
> query or not.
>
> Thanks.
> Waleed,
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Monday, March 06, 2006 1:31 PM
> To: java-user@lucene.apache.org
> Subject: Re: Exact Search
>
> Could you please provide an example of some sample text, the terms
> that are emitted by the analyzer, and a query you'd like to work?
>
> 	Erik
>
>
> On Mar 6, 2006, at 5:50 AM, Waleed Tayea wrote:
>
>> Dear All.
>>
>> How can I perform an exact search on an index constructed with a
>> morphological analyzer.
>>
>>
>>
>> Thanks in advance
>>
>> Waleed,
>>
>>
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:04:58 2006
Return-Path: <java-user-return-19324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55600 invoked from network); 6 Mar 2006 15:04:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:04:57 -0000
Received: (qmail 64742 invoked by uid 500); 6 Mar 2006 15:05:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64212 invoked by uid 500); 6 Mar 2006 15:05:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64197 invoked by uid 99); 6 Mar 2006 15:05:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:05:39 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:05:38 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T76dcb6f25e88ad3ee414b8@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Mon, 6 Mar 2006 16:05:18 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6412F.5FF07769"
Subject: Multisearch
Date: Mon, 6 Mar 2006 16:05:15 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07D26@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multisearch
thread-index: AcZBL1+ASwOcnkOJTRS5A5AdFO1asQ==
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6412F.5FF07769
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I made a multi search into my Lucene index. It's work properly but I
would like to know if it's possible to know in witch index de document
belong to.

=20


------_=_NextPart_001_01C6412F.5FF07769--

From java-user-return-19325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:05:09 2006
Return-Path: <java-user-return-19325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55765 invoked from network); 6 Mar 2006 15:05:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:05:09 -0000
Received: (qmail 65445 invoked by uid 500); 6 Mar 2006 15:05:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65415 invoked by uid 500); 6 Mar 2006 15:05:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65404 invoked by uid 99); 6 Mar 2006 15:05:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:05:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of samurujackson@googlemail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:05:49 -0800
Received: by zproxy.gmail.com with SMTP id r28so1259518nza
        for <java-user@lucene.apache.org>; Mon, 06 Mar 2006 07:05:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=sYbqcr5joaRwBCpX7I70oc80q5NYAXGMsinQL9DLDrWWhRqd+QMpPjc/OsRHe3GepYDUKSDTy3g9VFE9Kp1PGW7dsCRrB0w8JZHPjjiC/EIbxDm4s95P0TKrK+aPvDG6+al1V/93cSTlULUbr92KpUEp18vYZtrFOiLdhJy8JHk=
Received: by 10.64.179.7 with SMTP id b7mr2585602qbf;
        Mon, 06 Mar 2006 07:05:27 -0800 (PST)
Received: by 10.65.235.6 with HTTP; Mon, 6 Mar 2006 07:05:27 -0800 (PST)
Message-ID: <fed285090603060705i3ad408b0j94473b62df9b8bbe@mail.gmail.com>
Date: Mon, 6 Mar 2006 16:05:27 +0100
From: "Samuru Jackson" <samurujackson@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: Distributed Lucene..
In-Reply-To: <39B0FB508E5D7540ACA5AD57225E150D392040@xmail.me.corp.entopia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <39B0FB508E5D7540ACA5AD57225E150D392040@xmail.me.corp.entopia.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Do you plan to release some kind of a commerical product including an API?

I ask because I'm evaluating different technologies for a prototype
which is part of my diploma thesis.

The problem is that I have to deal with real huge data amounts and one
machine is simply not enough to handle those amounts of data.

Lucene seems to be a good choice but it won't scale up for real big
data amounts. So I thought about expanding the indexes over several
machines in junks so that it fits into the memory of those machines.

One machine should collect the results and calculate some kind of
score out of the delivered hits from the machines.

As I'm not familiar with the concrete mechanisms of Lucene this is
just a naive thought, but I think that such a clustering mechanism
could become a killer app.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:18:19 2006
Return-Path: <java-user-return-19326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62912 invoked from network); 6 Mar 2006 15:18:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:18:16 -0000
Received: (qmail 94552 invoked by uid 500); 6 Mar 2006 15:18:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94244 invoked by uid 500); 6 Mar 2006 15:18:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94130 invoked by uid 99); 6 Mar 2006 15:18:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:18:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:18:52 -0800
Subject: RE: Distributed Lucene..
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 6 Mar 2006 17:18:29 +0200
Content-class: urn:content-classes:message
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D392043@xmail.me.corp.entopia.com>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Distributed Lucene..
Thread-Index: AcZBL4WSIuby8eEGRzeJFH5jn5aIAQAAGwWQ
From: "Andrew Schetinin" <aschetinin@entopia.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Samuru,

No, it is a part of a bigger project (quite small part), and nobody is
going to sell parts of it, at least for less than $X00,000 :-)

Best Regards,

Andrew Schetinin


-----Original Message-----
From: Samuru Jackson [mailto:samurujackson@googlemail.com]=20
Sent: Monday, March 06, 2006 5:05 PM
To: java-user@lucene.apache.org
Subject: Re: Distributed Lucene..

Do you plan to release some kind of a commerical product including an
API?

I ask because I'm evaluating different technologies for a prototype
which is part of my diploma thesis.

The problem is that I have to deal with real huge data amounts and one
machine is simply not enough to handle those amounts of data.

Lucene seems to be a good choice but it won't scale up for real big data
amounts. So I thought about expanding the indexes over several machines
in junks so that it fits into the memory of those machines.

One machine should collect the results and calculate some kind of score
out of the delivered hits from the machines.

As I'm not familiar with the concrete mechanisms of Lucene this is just
a naive thought, but I think that such a clustering mechanism could
become a killer app.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:21:32 2006
Return-Path: <java-user-return-19327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64609 invoked from network); 6 Mar 2006 15:21:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:21:32 -0000
Received: (qmail 349 invoked by uid 500); 6 Mar 2006 15:22:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99867 invoked by uid 500); 6 Mar 2006 15:22:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99855 invoked by uid 99); 6 Mar 2006 15:22:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:22:13 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.36] (HELO web26014.mail.ukl.yahoo.com) (217.146.177.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 06 Mar 2006 07:22:13 -0800
Received: (qmail 69100 invoked by uid 60001); 6 Mar 2006 15:21:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=o/QrqMGlkRmffIzpF3gewLzv3DCsifWJmeEYUxzcha0gmQa6voKCNi337YsCXPlt/iP/XFUQ8knsyH5yuvMumxx6j1Ur1N3qLQGsaM5C0Wcr4ORLNaSx1sUfgVMFcG9YVIFwUJ6wv8h+m9ywVFre6k/Os3uemMDVeymn2t8b+2c=  ;
Message-ID: <20060306152151.69098.qmail@web26014.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26014.mail.ukl.yahoo.com via HTTP; Mon, 06 Mar 2006 15:21:51 GMT
Date: Mon, 6 Mar 2006 15:21:51 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Search for synonyms - implemenetation for review
To: java-user@lucene.apache.org
In-Reply-To: <39B0FB508E5D7540ACA5AD57225E150D39203D@xmail.me.corp.entopia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sounds like you've been tackling a number of the
issues I was concerned with "fuzzy" searching. It's
essentially the same problem - the user types one word
and the engine searches for several variants.

The FuzzyLikeThisQuery class in the "queries" module
of the contrib area in SVN contains similar code. It
addresses idf and coord issues introduced with fuzzy
variants. 

It's probably worth considering having one
implementation for generically scoring variants
whether they are produced by fuzzy algorithms or
synonyms or any other means. In either case there
could be a "cost" factor associated with variants
which could be based on the fuzzy edit distance from
the root term or synonym "relatedness" to the root
term.

I'll have a look at your implementation with this in
mind when I have a bit more time.

Cheers,
Mark



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:24:54 2006
Return-Path: <java-user-return-19328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66397 invoked from network); 6 Mar 2006 15:24:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:24:53 -0000
Received: (qmail 10061 invoked by uid 500); 6 Mar 2006 15:25:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9918 invoked by uid 500); 6 Mar 2006 15:25:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9907 invoked by uid 99); 6 Mar 2006 15:25:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:25:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:25:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 247B633D10F; Mon,  6 Mar 2006 10:25:12 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 5B75233D10D
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 10:25:09 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A42A07D26@EPLUXSEX01.ep.parl.union.eu>
References: <AD97D5F23B201C448EAB13B4F6DA6A42A07D26@EPLUXSEX01.ep.parl.union.eu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DAD99289-5143-43DC-93BD-6327C9F21733@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multisearch
Date: Mon, 6 Mar 2006 10:25:15 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 6, 2006, at 10:05 AM, WATHELET Thomas wrote:
> I made a multi search into my Lucene index. It's work properly but I
> would like to know if it's possible to know in witch index de document
> belong to.

This just came up the other day as well, and was covered in the  
past.  Here's the thread with the answer:

	<http://www.nabble.com/Determine-the-index-of-a-hit-after-using- 
MultiSearcher-t638218.html#a1706027>

And here are the relevant snippets:

        MultiSearcher searcher = (MultiSearcher) context.getAttribute 
("searcher");
        IndexReader[] readers = (IndexReader[]) context.getAttribute 
("readers");

        Hits hits = searcher.search(query);


// later while iterating through Hits...

       int indexIndex = searcher.subSearcher(hits.id(position));


Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 15:29:46 2006
Return-Path: <java-user-return-19329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68598 invoked from network); 6 Mar 2006 15:29:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 15:29:45 -0000
Received: (qmail 18922 invoked by uid 500); 6 Mar 2006 15:30:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18900 invoked by uid 500); 6 Mar 2006 15:30:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18889 invoked by uid 99); 6 Mar 2006 15:30:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:30:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 07:30:26 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6B1B333D2CD; Mon,  6 Mar 2006 10:30:05 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id ED9F033CFEA
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 10:30:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20060306150028.88461.qmail@web32210.mail.mud.yahoo.com>
References: <20060306150028.88461.qmail@web32210.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <20255DF3-516F-42C9-9EE8-4594B66EBF1E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: File Name Search
Date: Mon, 6 Mar 2006 10:30:09 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If and how you tokenize is entirely dependent on how the queries need  
to work.  Lucene index design really is driven from querying needs  
backwards.

	Erik


On Mar 6, 2006, at 10:00 AM, Brian wrote:

> Cool,
>    Basically I have soming similar to:
> name_division.date_order_code
>
> So I'm guessing I need to tokenize.
>
> Thanks, B
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>> On Mar 6, 2006, at 8:07 AM, Brian wrote:
>>> Quick Question,
>>>      Is it possible to create an index & search
>> based
>>> on file names?
>>
>> Of course.   One option is to simply make filename
>> another field.
>> The question is, should it be an exact match on
>> filename for
>> querying?  Or should the filename get tokenized such
>> that a user
>> could query on "filename" and find "filename.txt",
>> and so on?
>>
>> 	Erik
>>
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail:
>> java-user-help@lucene.apache.org
>>
>>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 16:27:02 2006
Return-Path: <java-user-return-19330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5017 invoked from network); 6 Mar 2006 16:27:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 16:27:01 -0000
Received: (qmail 53031 invoked by uid 500); 6 Mar 2006 16:27:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52998 invoked by uid 500); 6 Mar 2006 16:27:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52987 invoked by uid 99); 6 Mar 2006 16:27:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 08:27:42 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 08:27:41 -0800
Received: from imx2.starhub.net.sg ([203.116.254.42])
  by leda.starhub.net.sg with ESMTP; 07 Mar 2006 00:27:18 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx2.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k26GQ4wf003990
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 00:26:04 +0800
Message-ID: <440C62DF.6040701@gmail.com>
Date: Tue, 07 Mar 2006 00:27:11 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Help on Similarity
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I tried implementing my own Similarity and setting it in 
IndexWriter.setSimilarity(new CosSimilarity()).

But, there's something weird, it doesn't seem to call the methods in my 
Similarity. For example, when I set the idf to return 0.0f the 
Similarity still gives me a score > 0.0f.

How do I correctly set the Similarity? I'm quite new to this, some links 
to implementing Similarity will also be useful.

Thanks.

--
Eugene

Here's the code for my CosSimilarity:

import org.apache.lucene.search.Similarity;

public class CosSimilarity extends Similarity
{
   public float lengthNorm(String fieldName, int numTerms) {
     return 1.0f;
   }

   public float queryNorm(float sumOfSquaredWeights) {
     return (float)(1.0 / Math.sqrt(sumOfSquaredWeights));
   }

   public float tf(float freq) {
     return (float)(1 + Math.log(1 + freq));
   }

   public float sloppyFreq(int distance) {
     return 1.0f / (distance + 1);
   }

   public float idf(int docFreq, int numDocs) {
float f = (float)(Math.log((double)numDocs/(double)(docFreq+1) + 1.0));
     System.out.println("CosSimilarity.idf>" + f);
     return 0.0f;
   }

   public float coord(int overlap, int maxOverlap) {
     return overlap / (float)maxOverlap;
   }

}

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 16:43:59 2006
Return-Path: <java-user-return-19331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13867 invoked from network); 6 Mar 2006 16:43:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 16:43:50 -0000
Received: (qmail 82966 invoked by uid 500); 6 Mar 2006 16:44:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82937 invoked by uid 500); 6 Mar 2006 16:44:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82926 invoked by uid 99); 6 Mar 2006 16:44:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 08:44:27 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 08:44:25 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T76dd1161fb88ad3ee414b8@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Mon, 6 Mar 2006 17:44:04 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Multisearch
Date: Mon, 6 Mar 2006 17:44:02 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A421BF388@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multisearch
thread-index: AcZBMji2dRCYUswmSbKoyvruoA2bIQACu3rA
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks a lot.=20

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: 06 March 2006 16:25
To: java-user@lucene.apache.org
Subject: Re: Multisearch

On Mar 6, 2006, at 10:05 AM, WATHELET Thomas wrote:
> I made a multi search into my Lucene index. It's work properly but I
> would like to know if it's possible to know in witch index de document
> belong to.

This just came up the other day as well, and was covered in the =20
past.  Here's the thread with the answer:

	<http://www.nabble.com/Determine-the-index-of-a-hit-after-using-

MultiSearcher-t638218.html#a1706027>

And here are the relevant snippets:

        MultiSearcher searcher =3D (MultiSearcher) context.getAttribute=20
("searcher");
        IndexReader[] readers =3D (IndexReader[]) context.getAttribute=20
("readers");

        Hits hits =3D searcher.search(query);


// later while iterating through Hits...

       int indexIndex =3D searcher.subSearcher(hits.id(position));


Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 16:49:49 2006
Return-Path: <java-user-return-19332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19229 invoked from network); 6 Mar 2006 16:49:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 16:49:49 -0000
Received: (qmail 96523 invoked by uid 500); 6 Mar 2006 16:50:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96292 invoked by uid 500); 6 Mar 2006 16:50:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96281 invoked by uid 99); 6 Mar 2006 16:50:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 08:50:29 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 08:50:28 -0800
Received: from imx2.starhub.net.sg ([203.116.254.42])
  by leda.starhub.net.sg with ESMTP; 07 Mar 2006 00:50:06 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx2.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k26Gmqwf010135
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 00:48:52 +0800
Message-ID: <440C6837.80603@gmail.com>
Date: Tue, 07 Mar 2006 00:49:59 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help on Similarity
References: <440C62DF.6040701@gmail.com>
In-Reply-To: <440C62DF.6040701@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

With respect to the earlier post there seems to be a bug in lucene 1.9.1

I tried using the similarity below and changed idf to:
  public float idf(int docFreq, int numDocs) {
  float f = (float)(Math.log((double)numDocs/(double)(docFreq+1) + 1.0));
      return f;
    }

Now, when I print the explanantion for the top doc id, it includes every 
term in the query twice with a raw score of 11.50651, when some terms 
don't even appear in any docs. And the max raw score of the top doc is 
only 4.12327.

Anyone encounter this before?

Thanks

Eugene wrote:
> Hi,
> 
> I tried implementing my own Similarity and setting it in 
> IndexWriter.setSimilarity(new CosSimilarity()).
> 
> But, there's something weird, it doesn't seem to call the methods in my 
> Similarity. For example, when I set the idf to return 0.0f the 
> Similarity still gives me a score > 0.0f.
> 
> How do I correctly set the Similarity? I'm quite new to this, some links 
> to implementing Similarity will also be useful.
> 
> Thanks.
> 
> -- 
> Eugene
> 
> Here's the code for my CosSimilarity:
> 
> import org.apache.lucene.search.Similarity;
> 
> public class CosSimilarity extends Similarity
> {
>   public float lengthNorm(String fieldName, int numTerms) {
>     return 1.0f;
>   }
> 
>   public float queryNorm(float sumOfSquaredWeights) {
>     return (float)(1.0 / Math.sqrt(sumOfSquaredWeights));
>   }
> 
>   public float tf(float freq) {
>     return (float)(1 + Math.log(1 + freq));
>   }
> 
>   public float sloppyFreq(int distance) {
>     return 1.0f / (distance + 1);
>   }
> 
>   public float idf(int docFreq, int numDocs) {
> float f = (float)(Math.log((double)numDocs/(double)(docFreq+1) + 1.0));
>     System.out.println("CosSimilarity.idf>" + f);
>     return 0.0f;
>   }
> 
>   public float coord(int overlap, int maxOverlap) {
>     return overlap / (float)maxOverlap;
>   }
> 
> }
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 18:08:44 2006
Return-Path: <java-user-return-19333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66965 invoked from network); 6 Mar 2006 18:08:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 18:08:43 -0000
Received: (qmail 71421 invoked by uid 500); 6 Mar 2006 18:09:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70914 invoked by uid 500); 6 Mar 2006 18:09:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70903 invoked by uid 99); 6 Mar 2006 18:09:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 10:09:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 10:09:23 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k26I8vR8024163
 for <java-user@lucene.apache.org>; Mon, 6 Mar 2006 23:38:58 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: Using NOT queries inside parentheses
Date: Mon, 6 Mar 2006 23:38:49 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D183@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Using NOT queries inside parentheses
Thread-Index: AcZBSQR+vX4TpasOS8uJDsBLpy7f5A==
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

The following query does not work as expected for me:
"alwaysTrueField:true (-name:john)"
neither does this:
"alwaysTrueField:true +(-name:john)"

It returns zero results, despite there being many documents without name
john. (alwaysTrueField is, needless to say, true for all documents).

This query works just as expected:
"alwaysTrueField:true -name:john"

i.e. it returns all those documents except those with name john.

Does lucene run a sub-query for each part of the query inside
parentheses, which is why the NOT query that is alone doesn't work? I am
using the following template for converting user queries into lucene
queries "alwaysTrueField:true +(<user query with a few modifications>)".
I need to put extra parentheses in order to retain the correctness of
the query.=20

Any suggestions on how to work around this (buggy?) behaviour?

Many thanks,
Venu

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 18:19:13 2006
Return-Path: <java-user-return-19334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72934 invoked from network); 6 Mar 2006 18:19:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 18:19:12 -0000
Received: (qmail 89162 invoked by uid 500); 6 Mar 2006 18:19:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89077 invoked by uid 500); 6 Mar 2006 18:19:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 38802 invoked by uid 99); 6 Mar 2006 17:00:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
From: "Rami Hansenne" <rami.hansenne@actonomy.com>
To: <java-user@lucene.apache.org>
Subject: RE: Search for synonyms - implemenetation for review
Date: Mon, 6 Mar 2006 17:59:32 +0100
Message-ID: <002501c6413f$56ef3460$06fea8c0@hawking>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <39B0FB508E5D7540ACA5AD57225E150D39203D@xmail.me.corp.entopia.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I've been working on a project where Lucene queries were expanded with
synonyms/related concepts and used a DisjunctionMaxQuery with lower
boost factors for the synonym subqueries. This solved part of the
problem, but still a number of annoying side effects remained. I've
experimented a little with your implementation on my data sets and the
results look very promising. Hope this code makes it to the sandbox. I
also like Mark's idea of a common implementation for all kinds of query
expansion (synonyms, related terms, fuzzy variations,...).

Best regards,

Rami


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 18:41:38 2006
Return-Path: <java-user-return-19335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85548 invoked from network); 6 Mar 2006 18:41:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 18:41:37 -0000
Received: (qmail 46798 invoked by uid 500); 6 Mar 2006 18:42:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46777 invoked by uid 500); 6 Mar 2006 18:42:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46766 invoked by uid 99); 6 Mar 2006 18:42:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 10:42:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 10:42:16 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 738405B77A; Mon,  6 Mar 2006 10:41:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6FE077F403
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 10:41:47 -0800 (PST)
Date: Mon, 6 Mar 2006 10:41:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <440C2342.4000809@gmail.com>
Message-ID: <Pine.LNX.4.58.0603061023460.3179@hal.rescomp.berkeley.edu>
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com> 
 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com> 
 <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com>
 <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com>
 <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu>
 <440B3188.20904@gmail.com> <440B3AED.6010407@isb-sib.ch> <440BCE8A.4090904@gmail.com>
 <Pine.LNX.4.58.0603052208300.32061@hal.rescomp.berkeley.edu>
 <440C2342.4000809@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Since i'm using a boolean OR query i figured it must be related to the
: BooleanScorer (though there's a more complicated BooleanScorer2 which
: I'm not sure when it's use).

There's actually three possible scorers used: ConjunctionScorer can be
used if all of the clauses are required.  Most of the behavior is driven
based on wether or not BooleanQuery.setUseScorer14(true) -- by default it
is false, which means BooleanScorer2 is used.

: But, I would appreciate if someone could point me to the method where
: the searcher iterates over all query terms and outputs the score. I grep
:   both the Searcher classes and the BooleanScorer classes but can't find it.

the searcher doesn't really iterate over query terms, it knows about one
and only one Weight, and it asks that Weight instance to give it a Scorer
for the current index, and then it asks that Scorer to iterate over the
documents and tell it which ones match (using the score(HitCollector)
method).  Internally, the Scorer iterates over the matching documents
using the to next(), doc()" and score() methods.

When you are searching for a single Term, the Scorer involved is
TermScorer; when you are seraching for many terms, the Scorer involved is
(usually) a BooleanScorer2.   BooleanScorers are complicated because they
are juggling a lot of things at once keeping track of which of the Scorers it
contains has the lowest "next" doc, but if you look at TermWeight and
TermScorer you'll get a pretty good idea of how the various similarity
methods are used.

: Also, I would like to know whether will the sloppyFreq "kick in" if I'm
: just using a Boolean OR query or is this only for phrase queries? And
: how do I disable this so that it'll always be 1.0 without overwriting
: the method?

as it says in the javadocs "amount of a sloppy phrase match..." ... only
for phrase queries (or phrase like queries, ie: SpanNear)

In general, the only way to change the implimentation of a Similarity
method used for all queries is to write your own Similarity class, and use
the Similarity.setDefault or Searcher.setSimilarity methods to "register"
it.

If you really only one type of query (or one instance of a query object)
to get a different similarity, you can override the getSimiliarty() method
in the Query class in question, and use the SimilarityDelegator to wrap
the default, and only change the methods you want to change.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 18:46:04 2006
Return-Path: <java-user-return-19336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87775 invoked from network); 6 Mar 2006 18:46:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 18:46:03 -0000
Received: (qmail 53314 invoked by uid 500); 6 Mar 2006 18:46:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53292 invoked by uid 500); 6 Mar 2006 18:46:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53281 invoked by uid 99); 6 Mar 2006 18:46:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 10:46:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 10:46:40 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1F1DB5B77B; Mon,  6 Mar 2006 10:46:20 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 11EF17F403
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 10:46:20 -0800 (PST)
Date: Mon, 6 Mar 2006 10:46:20 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Help on Similarity
In-Reply-To: <440C62DF.6040701@gmail.com>
Message-ID: <Pine.LNX.4.58.0603061043570.3179@hal.rescomp.berkeley.edu>
References: <440C62DF.6040701@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I tried implementing my own Similarity and setting it in
: IndexWriter.setSimilarity(new CosSimilarity()).

that only changes the Similarity used by the IndexWriter when writing out
hte index files (which is really only used to get the lengthNorm)

if you wnat to change the Similarity used at query time, you need to use
Searcher.setSimilarity(Similarity).  or to change it globally for
everything, call Similiarity.setDefault(Similarity) before constructing
any Writers/Readers/Searchers.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 19:03:31 2006
Return-Path: <java-user-return-19337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97640 invoked from network); 6 Mar 2006 19:03:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 19:03:30 -0000
Received: (qmail 87733 invoked by uid 500); 6 Mar 2006 19:04:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87706 invoked by uid 500); 6 Mar 2006 19:04:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87695 invoked by uid 99); 6 Mar 2006 19:04:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 11:04:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 11:04:10 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E57825B77A; Mon,  6 Mar 2006 11:03:49 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CFD217F403
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 11:03:49 -0800 (PST)
Date: Mon, 6 Mar 2006 11:03:49 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Using NOT queries inside parentheses
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083107D183@mshydpub1.hyd.deshaw.com>
Message-ID: <Pine.LNX.4.58.0603061052080.3179@hal.rescomp.berkeley.edu>
References: <E817F096B8D59B4E9D1E437917B1083107D183@mshydpub1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: The following query does not work as expected for me:
: "alwaysTrueField:true (-name:john)"
: neither does this:
: "alwaysTrueField:true +(-name:john)"

: Does lucene run a sub-query for each part of the query inside
: parentheses, which is why the NOT query that is alone doesn't work? I am

Basically yes, the parens force the creation of a BooleanQuery, which is
invalid since it only contains prohited clauses.

: Any suggestions on how to work around this (buggy?) behaviour?

I use the following (1.4.3) method to deal with situations like this...

    /**
     * tests a BooleanQuery to see if it is directly usable, meaning it
     * has at least one clause that is not prohibited.
     *
     * @param bq a BooleanQuery to test
     * @returns false if bq null or contains all prohibited items, else true
     */
    public static boolean usableBooleanQuery(BooleanQuery bq) {
        if (null == bq) {
            return false;
        }

        /* if we find *1* clause that's not prohibited, return true */
        BooleanClause[] clauses = bq.getClauses();
        for (int c = 0; clauses != null && c < clauses.length; c++) {
            if (! clauses[c].prohibited) {
                return true;
            }
        }
        return false;
    }

It can be used something like this...

   Query at = new TermQuery(new Term("alwaysTrueField","true));
   Query user = queryParser.parse(userInput);
   if (user instanceof BooleanQuery) {
      BooleanQuery bq = (BooleanQuery)user;
      if (! usableBooleanQuery(bq)) {
         bq.add(at, true, false); /* add 'always true' clause directly */
         return bq;
      }
   }
   /* if we made it here, wrape both clauses.
   BooleanQuery q = new BooleanQuery();
   q.add(at, true, false);
   q.add(user, true, false);
   return q;


(i think that's right, the specific cases where i use it are more
complicated so i can't cut/paste ... but i'm pretty sure the logic is
correct in that example, you should write some unit tests to be sure
before you do something like this.)

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 19:06:21 2006
Return-Path: <java-user-return-19338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99187 invoked from network); 6 Mar 2006 19:06:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 19:06:18 -0000
Received: (qmail 95744 invoked by uid 500); 6 Mar 2006 19:06:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95724 invoked by uid 500); 6 Mar 2006 19:06:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95713 invoked by uid 99); 6 Mar 2006 19:06:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 11:06:59 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 11:06:58 -0800
Received: from imx2.starhub.net.sg ([203.116.254.42])
  by leda.starhub.net.sg with ESMTP; 07 Mar 2006 03:06:36 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx2.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k26J5Lwf017626
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 03:05:21 +0800
Message-ID: <440C8834.9000403@gmail.com>
Date: Tue, 07 Mar 2006 03:06:28 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: sumOfSquaredWeights for lengthNorm
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I would like to override the Similarity class lengthNorm(String 
fieldName, int numTerms) so that it behaves similar to queryNorm(float 
sumOfSquaredWeights).  So the method signature becomes lengthNorm(String 
fieldName, float sumOfSquaredWeights) where sumOfSquaredWeights = sum of 
the squares of doc term weights.

Looking at the way sumOfSquaredWeights was used in 
org.apache.lucene.search.Query weight method, I would like to have a 
weight method in org.apache.lucene.document.Field (or may be in 
org.apache.lucene.document.Document) which returns the weight based on 
the terms in the Field. Can anyone tell me how to start?

Thanks.

--
Eugene

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 21:32:02 2006
Return-Path: <java-user-return-19339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84259 invoked from network); 6 Mar 2006 21:32:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 21:32:01 -0000
Received: (qmail 15034 invoked by uid 500); 6 Mar 2006 21:31:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15001 invoked by uid 500); 6 Mar 2006 21:31:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14990 invoked by uid 99); 6 Mar 2006 21:31:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:31:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:31:54 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 16DC35B777; Mon,  6 Mar 2006 13:31:29 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 12C947F403
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 13:31:29 -0800 (PST)
Date: Mon, 6 Mar 2006 13:31:29 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: sumOfSquaredWeights for lengthNorm
In-Reply-To: <440C8834.9000403@gmail.com>
Message-ID: <Pine.LNX.4.58.0603061325180.15160@hal.rescomp.berkeley.edu>
References: <440C8834.9000403@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I would like to override the Similarity class lengthNorm(String
: fieldName, int numTerms) so that it behaves similar to queryNorm(float
: sumOfSquaredWeights).  So the method signature becomes lengthNorm(String
: fieldName, float sumOfSquaredWeights) where sumOfSquaredWeights = sum of
: the squares of doc term weights.
:
: Looking at the way sumOfSquaredWeights was used in
: org.apache.lucene.search.Query weight method, I would like to have a
: weight method in org.apache.lucene.document.Field (or may be in
: org.apache.lucene.document.Document) which returns the weight based on
: the terms in the Field. Can anyone tell me how to start?

can you explain more what you mean by "doc term weights" ?

It seems like what you are interested in doing is changing the way norm
value of a doc/field is determined so that it's determined not just by the
number of terms in the field, but also by the "weight" or some terms --
i'm not sure if you mean the terms being queried on, or the terms stored
in the field for the document

Two concepts that already exist (and may be useful to you) are:

1) the "boosts" associated with Fields and Documents at indexing time,
which are combined with the lengthNorm at index time to determine a single
"norm"  value for the doc/field pair.

2) the idf of the terms being queried on, which is multiplied by the field
norm as part of the query time scoring (you can see it in the
fieldWeight in a score Explanation)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 21:43:27 2006
Return-Path: <java-user-return-19340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88728 invoked from network); 6 Mar 2006 21:43:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 21:43:26 -0000
Received: (qmail 34032 invoked by uid 500); 6 Mar 2006 21:43:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33765 invoked by uid 500); 6 Mar 2006 21:43:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33754 invoked by uid 99); 6 Mar 2006 21:43:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:43:21 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:43:20 -0800
Received: (qmail 25174 invoked from network); 6 Mar 2006 21:42:57 -0000
Received: from unknown (HELO p5496d660.dip.t-dialin.net) ([pbs]695637@[84.150.214.96])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 6 Mar 2006 21:42:57 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: MultiPhraseQuery
Date: Mon, 6 Mar 2006 22:43:18 +0100
User-Agent: KMail/1.8.2
References: <440B27DE.9020307@isb-sib.ch>
In-Reply-To: <440B27DE.9020307@isb-sib.ch>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603062243.18571@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sonntag 05 M=C3=A4rz 2006 19:03, Eric Jain wrote:

> I need to write a function that copies a MultiPhraseQuery and changes
> the field the query applies to. Unfortunately the API allows access to
> neither the contained terms nor the field! The other query classes I
> have so far dealt with all seem to allow access to the contained query
> terms...

Please try to add this to MultiPhraseQuery and let us know if it helps:

  public List getTerms() {
    return termArrays;
  }

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 21:47:00 2006
Return-Path: <java-user-return-19341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90563 invoked from network); 6 Mar 2006 21:47:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 21:47:00 -0000
Received: (qmail 39688 invoked by uid 500); 6 Mar 2006 21:46:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39641 invoked by uid 500); 6 Mar 2006 21:46:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39629 invoked by uid 99); 6 Mar 2006 21:46:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:46:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:46:54 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3162733CFDF; Mon,  6 Mar 2006 16:46:32 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 5CC2033C04C
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 16:46:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <200603062243.18571@danielnaber.de>
References: <440B27DE.9020307@isb-sib.ch> <200603062243.18571@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <2248165C-2B53-4FDD-B9F9-10F6AFEF5888@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: MultiPhraseQuery
Date: Mon, 6 Mar 2006 16:46:29 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 6, 2006, at 4:43 PM, Daniel Naber wrote:
> On Sonntag 05 M=E4rz 2006 19:03, Eric Jain wrote:
>
>> I need to write a function that copies a MultiPhraseQuery and changes
>> the field the query applies to. Unfortunately the API allows =20
>> access to
>> neither the contained terms nor the field! The other query classes I
>> have so far dealt with all seem to allow access to the contained =20
>> query
>> terms...
>
> Please try to add this to MultiPhraseQuery and let us know if it =20
> helps:
>
>   public List getTerms() {
>     return termArrays;
>   }

It would probably be better for an immutable List to be returned =20
rather than the internal mutable one, just to avoid a case of the =20
termArrays from being modified from outside.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 21:58:29 2006
Return-Path: <java-user-return-19342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95732 invoked from network); 6 Mar 2006 21:58:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 21:58:29 -0000
Received: (qmail 66896 invoked by uid 500); 6 Mar 2006 21:58:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66872 invoked by uid 500); 6 Mar 2006 21:58:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66861 invoked by uid 99); 6 Mar 2006 21:58:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:58:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jdalton@globalspec.com designates 66.194.55.244 as permitted sender)
Received: from [66.194.55.244] (HELO mail2.globalspec.com) (66.194.55.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 13:58:21 -0800
Received: from gshqxc01.globalspec.net ([172.16.2.52]) by mail2.globalspec.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 6 Mar 2006 16:57:56 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Lucene Merge Algorithm, max number of segments
Date: Mon, 6 Mar 2006 16:57:59 -0500
Message-ID: <EBA3EEF096B29542928098329E1D5FDE073886C2@gshqxc01.globalspec.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Merge Algorithm, max number of segments
Thread-Index: AcZBaQir21WCMWW3S4y64XlQDonmeQ==
From: "Dalton, Jeffery" <jdalton@globalspec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 06 Mar 2006 21:57:56.0218 (UTC) FILETIME=[06728DA0:01C64169]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am just going to wax philosophical for a minute.  I am trying to
understand lucene's merging algorithm in depth. =20

Let's say I create an index of 25M web pages on a single machine.  While
creating this index I am doing both search and indexing / re-indexing at
the same time, a bit like Technorati
(http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg12709.htm
l), and so I assume a merge factor of 2, as Doug references in the
Technorati post.  According to the algorithm described in Doug's pisa
talk: http://lucene.sourceforge.net/talks/pisa/ the average number of
indices when I get near 25M docs is:=20
2 * log2(25,000,000) / 2 =3D 24.6 indices.

According to the FAQ, http://wiki.apache.org/jakarta-lucene/LuceneFAQ,
there is no way to set a hard limit on the number of indices.  It seems
to me that it might be nice to be able to impose a hard limit on the
number of segments, in this case, perhaps 5 or 10 indices. =20

Does anyone have any experience with this?  Has anyone tried imposing a
hard limit? =20

Thanks,

- Jeff



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 06 22:10:58 2006
Return-Path: <java-user-return-19343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2572 invoked from network); 6 Mar 2006 22:10:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Mar 2006 22:10:57 -0000
Received: (qmail 86513 invoked by uid 500); 6 Mar 2006 22:10:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86436 invoked by uid 500); 6 Mar 2006 22:10:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85790 invoked by uid 99); 6 Mar 2006 22:10:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 14:10:48 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 14:10:48 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FGNu6-0002Ql-5J
	for java-user@lucene.apache.org; Mon, 06 Mar 2006 23:10:10 +0100
Received: from c-24-20-199-223.hsd1.or.comcast.net ([24.20.199.223])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 06 Mar 2006 23:10:10 +0100
Received: from dobleerre by c-24-20-199-223.hsd1.or.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 06 Mar 2006 23:10:10 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Raul Raja Martinez <dobleerre@estudiowebs.com>
Subject:  Re: Multisearch
Date:  Mon, 06 Mar 2006 14:09:22 -0800
Lines: 33
Message-ID: <duibui$o0u$1@sea.gmane.org>
References:  <AD97D5F23B201C448EAB13B4F6DA6A42A07D26@EPLUXSEX01.ep.parl.union.eu> <DAD99289-5143-43DC-93BD-6327C9F21733@ehatchersolutions.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c-24-20-199-223.hsd1.or.comcast.net
User-Agent: Thunderbird 1.5 (Macintosh/20051201)
In-Reply-To: <DAD99289-5143-43DC-93BD-6327C9F21733@ehatchersolutions.com>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Wouldn't it make sense to have a Hit know where he came from
such as hit.getIndex() instead of having to invoke subSearcher or subDoc?

Just a thought

Erik Hatcher wrote:
> On Mar 6, 2006, at 10:05 AM, WATHELET Thomas wrote:
>> I made a multi search into my Lucene index. It's work properly but I
>> would like to know if it's possible to know in witch index de document
>> belong to.
> 
> This just came up the other day as well, and was covered in the past.  
> Here's the thread with the answer:
> 
>     <http://www.nabble.com/Determine-the-index-of-a-hit-after-using-MultiSearcher-t638218.html#a1706027> 
> 
> 
> And here are the relevant snippets:
> 
>        MultiSearcher searcher = (MultiSearcher) 
> context.getAttribute("searcher");
>        IndexReader[] readers = (IndexReader[]) 
> context.getAttribute("readers");
> 
>        Hits hits = searcher.search(query);
> 
> 
> // later while iterating through Hits...
> 
>       int indexIndex = searcher.subSearcher(hits.id(position));
> 
> 
> Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 00:22:25 2006
Return-Path: <java-user-return-19344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67011 invoked from network); 7 Mar 2006 00:22:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 00:22:25 -0000
Received: (qmail 48462 invoked by uid 500); 7 Mar 2006 00:22:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48431 invoked by uid 500); 7 Mar 2006 00:22:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48420 invoked by uid 99); 7 Mar 2006 00:22:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 16:22:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 16:22:18 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 6DFF4B762B
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 11:21:52 +1100 (EST)
Message-ID: <440CD238.8080802@nuix.com.au>
Date: Tue, 07 Mar 2006 11:22:16 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Using NOT queries inside parentheses
References: <E817F096B8D59B4E9D1E437917B1083107D183@mshydpub1.hyd.deshaw.com>
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083107D183@mshydpub1.hyd.deshaw.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Satuluri, Venu_Madhav wrote:
> Hi,
> 
> The following query does not work as expected for me:
> "alwaysTrueField:true (-name:john)"
> neither does this:
> "alwaysTrueField:true +(-name:john)"
> 
> It returns zero results, despite there being many documents without name
> john. (alwaysTrueField is, needless to say, true for all documents).

If you want this to work, the most elegant way I've found is to override 
the getBooleanQuery(Vector) method in QueryParser and insert a 
MatchAllDocsQuery into the boolean query if every clause is prohibited.

Daniel


-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 00:27:16 2006
Return-Path: <java-user-return-19345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68008 invoked from network); 7 Mar 2006 00:27:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 00:27:16 -0000
Received: (qmail 50980 invoked by uid 500); 7 Mar 2006 00:27:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50957 invoked by uid 500); 7 Mar 2006 00:27:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50946 invoked by uid 99); 7 Mar 2006 00:27:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 16:27:11 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.48.143] (HELO dev.nannet.co.kr) (221.146.48.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 16:27:10 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id k270Qa5m003918
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 09:26:36 +0900
Message-ID: <001c01c6417d$b83471c0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
Subject: BooleanQuery$TooManyClauses with 1.9.1 when Number RangeQuery
Date: Tue, 7 Mar 2006 09:26:03 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gDQpJIHVwZ2FkZSB0byAxLjkuMSBhbmQgcmVpbmRleGluZyANCkkgdXNlZCBOdW1iZXJU
b29sIHdoZW4gSSBpbmRleCB0aGUgbnVtYmVyLg0KDQphZnRlciB1cGdyYWRlIEkgZ290IGZvbGxv
d2luZyBlcnJvciB3aGVuIG51bWJlciByYW5nZSBxdWVyeS4NCndpdGggcXVlcnkgDQoNCjIwMDYt
MDMtMDcgMDk6MDg6MDMsMjE2IFtUUC1Qcm9jZXNzb3IzXSBERUJVRyBjb20ubmFubmV0LmpldHRp
Z2VyLnV0aWwud29yZC5KZXRUaWdlckFkYXB0ZXIgLSBRdWVyeWFmdGVyPStwcm50aWQ6NTYgKygr
KCthdHRpZDoxMTMgK1swMDAwMDAwMDAwMDAwMSBUTyAwMDAwMDAwMDAwbGZsc10pKQ0KDQpDYXVz
ZWQgYnk6IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5Cb29sZWFuUXVlcnkkVG9vTWFueUNsYXVz
ZXMNCiBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guQm9vbGVhblF1ZXJ5LmFkZChCb29sZWFu
UXVlcnkuamF2YToxODQpDQogYXQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkJvb2xlYW5RdWVy
eS5hZGQoQm9vbGVhblF1ZXJ5LmphdmE6MTc1KQ0KIGF0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJj
aC5SYW5nZVF1ZXJ5LnJld3JpdGUoUmFuZ2VRdWVyeS5qYXZhOjk0KQ0KIGF0IG9yZy5hcGFjaGUu
bHVjZW5lLnNlYXJjaC5Cb29sZWFuUXVlcnkucmV3cml0ZShCb29sZWFuUXVlcnkuamF2YTozOTYp
DQogYXQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkJvb2xlYW5RdWVyeS5yZXdyaXRlKEJvb2xl
YW5RdWVyeS5qYXZhOjM4MSkNCiBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guQm9vbGVhblF1
ZXJ5LnJld3JpdGUoQm9vbGVhblF1ZXJ5LmphdmE6Mzk2KQ0KIGF0IG9yZy5hcGFjaGUubHVjZW5l
LnNlYXJjaC5JbmRleFNlYXJjaGVyLnJld3JpdGUoSW5kZXhTZWFyY2hlci5qYXZhOjEzNykNCiBh
dCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guTXVsdGlTZWFyY2hlci5yZXdyaXRlKE11bHRpU2Vh
cmNoZXIuamF2YToyNjYpDQogYXQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLlBhcmFsbGVsTXVs
dGlTZWFyY2hlci5yZXdyaXRlKFBhcmFsbGVsTXVsdGlTZWFyY2hlci5qYXZhOjE4NikNCiBhdCBv
cmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guTXVsdGlTZWFyY2hlci5jcmVhdGVXZWlnaHQoTXVsdGlT
ZWFyY2hlci5qYXZhOjI5MykNCiBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guU2VhcmNoZXIu
c2VhcmNoKFNlYXJjaGVyLmphdmE6MTE2KQ0KIGF0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5T
ZWFyY2hlci5zZWFyY2goU2VhcmNoZXIuamF2YTo5NSkNCiBhdCBjb20ubmFubmV0LmZ1bGNydW0u
bHVjZW5lLkJhc2VMdWNlbmVTZWFyY2hTZXJ2aWNlLnNlYXJjaChCYXNlTHVjZW5lU2VhcmNoU2Vy
dmljZS5qYXZhOjE0MCkNCg0KQW0gSSBzb21ldGhpbmcgd3JvbmcgaGVyZSA/Pw0KDQpUaGFua3Mu
DQoNCllvdW5naG8NCg0KDQoNCg==




From java-user-return-19346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 04:55:00 2006
Return-Path: <java-user-return-19346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72788 invoked from network); 7 Mar 2006 04:55:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 04:55:00 -0000
Received: (qmail 96414 invoked by uid 500); 7 Mar 2006 04:54:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96380 invoked by uid 500); 7 Mar 2006 04:54:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96369 invoked by uid 99); 7 Mar 2006 04:54:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 20:54:55 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 20:54:54 -0800
Received: from northgate.starhub.net.sg ([203.117.1.53])
  by leda.starhub.net.sg with ESMTP; 07 Mar 2006 12:54:31 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by northgate.starhub.net.sg (8.12.5/8.12.5) with ESMTP id k274sV1U030175
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 12:54:31 +0800 (SST)
Message-ID: <440D1200.1050402@gmail.com>
Date: Tue, 07 Mar 2006 12:54:24 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com>  <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com>  <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com> <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com> <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu> <440B3188.20904@gmail.com> <440B3AED.6010407@isb-sib.ch> <440BCE8A.4090904@gmail.com> <Pine.LNX.4.58.0603052208300.32061@hal.rescomp.berkeley.edu> <440C2342.4000809@gmail.com> <Pine.LNX.4.58.0603061023460.3179@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0603061023460.3179@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Chris for your clear explanations, it seems there are a lot info 
on using Lucene but info for the internal workings of Lucene is hard to 
come by.

I got some more questions which I'll ask in-line.


Chris Hostetter wrote:
> : Since i'm using a boolean OR query i figured it must be related to the
> : BooleanScorer (though there's a more complicated BooleanScorer2 which
> : I'm not sure when it's use).
> 
> There's actually three possible scorers used: ConjunctionScorer can be
> used if all of the clauses are required.  Most of the behavior is driven
> based on wether or not BooleanQuery.setUseScorer14(true) -- by default it
> is false, which means BooleanScorer2 is used.

1) I'm using the default QueryParser to parse and return a query so it's 
a Boolean-OR query. So does this mean it uses the DisjunctionSumScorer 
or something?

2) Just wondering looking at the API for BooleanQuery i saw this: "Using 
setMinimumNumberShouldMatch will force the use of BooleanWeight2, 
regardless of wether setUseScorer14(true) has been called."
What is the method setUseScorer14 about?

--
Eugene

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 05:02:21 2006
Return-Path: <java-user-return-19347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74721 invoked from network); 7 Mar 2006 05:02:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 05:02:21 -0000
Received: (qmail 3263 invoked by uid 500); 7 Mar 2006 05:02:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3226 invoked by uid 500); 7 Mar 2006 05:02:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3215 invoked by uid 99); 7 Mar 2006 05:02:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 21:02:16 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_FAKE_HELO_DOTCOM,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of prasenjitm@aol.com designates 152.163.225.129 as permitted sender)
Received: from [152.163.225.129] (HELO omr-r01.mail.aol.com) (152.163.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 21:02:15 -0800
Received: from aol.com (10.146.145.194)
  by omr-r01.mail.aol.com with ESMTP; 07 Mar 2006 00:01:53 -0500
Message-ID: <440D13BF.8010506@aol.com>
Date: Tue, 07 Mar 2006 10:31:51 +0530
From: Prasenjit Mukherjee <prasenjitm@aol.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Distributed Lucene..
References: <440BD048.4060806@aol.com> <fed285090603060527l3f701a5cw1388178c30eab63f@mail.gmail.com>
In-Reply-To: <fed285090603060527l3f701a5cw1388178c30eab63f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think nutch has a distributed lucene implementation. I could have used 
nutch straightaway, but I have a different crawler, and also dont want 
to use NDFS(which is used by nutch) . What I have proposed earlier is 
basically based on mapReduce paradigm, which is used by nutch as well.

It would be nice to get some articles specifically detailing out  the 
distributed architecture used in nutch.

prasen

Samuru Jackson wrote:

>>Does it make any sense ? Also would like to know if there are other ways
>>to distribute lucene's indexing/searching  ?
>>    
>>
>
>I'm interested in such a distributed architecture too.
>
>What I have got in mind is some kind of lucene index cluster where you
>have got several machines having subindexes in memory. So if you have
>got a a searchquery the machines should perfom fast because the index
>is in memory and no hard disk access is performed.
>
>Is there anything like this available?
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 05:07:38 2006
Return-Path: <java-user-return-19348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77037 invoked from network); 7 Mar 2006 05:07:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 05:07:38 -0000
Received: (qmail 12989 invoked by uid 500); 7 Mar 2006 05:07:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12623 invoked by uid 500); 7 Mar 2006 05:07:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12609 invoked by uid 99); 7 Mar 2006 05:07:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 21:07:33 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.117.3.11 is neither permitted nor denied by domain of echothis@gmail.com)
Received: from [203.117.3.11] (HELO leda.starhub.net.sg) (203.117.3.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 21:07:31 -0800
Received: from imx1.starhub.net.sg ([203.117.3.9])
  by leda.starhub.net.sg with ESMTP; 07 Mar 2006 13:07:06 +0800
X-SBRS: 4.2
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
Received: from [192.168.1.20] (cm158.gamma249.maxonline.com.sg [202.156.249.158])
	by imx1.starhub.net.sg (8.12.10/8.12.10) with ESMTP id k2756A50031336
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 13:06:10 +0800
Message-ID: <440D14F3.8030502@gmail.com>
Date: Tue, 07 Mar 2006 13:06:59 +0800
From: Eugene <echothis@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: sumOfSquaredWeights for lengthNorm
References: <440C8834.9000403@gmail.com> <Pine.LNX.4.58.0603061325180.15160@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0603061325180.15160@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

My comments in-line.

Chris Hostetter wrote:
> : I would like to override the Similarity class lengthNorm(String
> : fieldName, int numTerms) so that it behaves similar to queryNorm(float
> : sumOfSquaredWeights).  So the method signature becomes lengthNorm(String
> : fieldName, float sumOfSquaredWeights) where sumOfSquaredWeights = sum of
> : the squares of doc term weights.
> :
> : Looking at the way sumOfSquaredWeights was used in
> : org.apache.lucene.search.Query weight method, I would like to have a
> : weight method in org.apache.lucene.document.Field (or may be in
> : org.apache.lucene.document.Document) which returns the weight based on
> : the terms in the Field. Can anyone tell me how to start?
> 
> can you explain more what you mean by "doc term weights" ?

> It seems like what you are interested in doing is changing the way norm
> value of a doc/field is determined so that it's determined not just by the
> number of terms in the field, but also by the "weight" or some terms --
> i'm not sure if you mean the terms being queried on, or the terms stored
> in the field for the document

Yes, you got the idea, i mean the terms in the field. I think term 
weights of the query are already factored in in queryNorm. I want to 
normalize based on the field's terms' weights too.

> Two concepts that already exist (and may be useful to you) are:
> 
> 1) the "boosts" associated with Fields and Documents at indexing time,
> which are combined with the lengthNorm at index time to determine a single
> "norm"  value for the doc/field pair.

I don;t think this is what I want because the lengthNorm is still using 
the # of terms.

> 2) the idf of the terms being queried on, which is multiplied by the field
> norm as part of the query time scoring (you can see it in the
> fieldWeight in a score Explanation)

Yes, I noticed this, but this is not what I want because its using "idf 
of the terms being queried". What I want fieldWeight to be is to use the
1/ sqrt(sumOfSquaredWeights),  where  sumOfSquaredWeights = tf^2 over 
all terms in the field.


3) I got another issue with the explanation, which seems to be a bug. 
Below, I;ve given a printout of the explanation.  There's something 
strange when I use my own Similarity it prints out all query terms 
despite some them not appearing in the doc (See for "formulation" the 
docFreq = 0  but it appears in the explanation).

Also the scores don;t tally. I printed out the raw score for doc 21 
using the HitCollector and it returns 1.4241531. I printout explanation 
the score is 2.731636. Shouldn't this be the same since both aren't 
normalized scores?

------  Explanation --------
doc id:21      score = 1.4241531

Explanation = 2.731636 = sum of:
......
   0.30496213 = weight(Contents:formulation in 21), product of:
     0.40874794 = queryWeight(Contents:formulation), product of:
       5.9687076 = idf(docFreq=0)
       0.06848182 = queryNorm
     0.74608845 = fieldWeight(Contents:formulation in 21), product of:
       1.0 = tf(termFreq(Contents:formulation)=0)
       5.9687076 = idf(docFreq=0)
       0.125 = fieldNorm(field=Contents, doc=21)
......
------ End of Explanation --------


Thanks.

--
Eugene

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 06:50:12 2006
Return-Path: <java-user-return-19349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15288 invoked from network); 7 Mar 2006 06:50:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 06:50:12 -0000
Received: (qmail 12948 invoked by uid 500); 7 Mar 2006 06:50:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12658 invoked by uid 500); 7 Mar 2006 06:50:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12646 invoked by uid 99); 7 Mar 2006 06:50:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 22:50:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 22:50:05 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5496E5B76C; Mon,  6 Mar 2006 22:49:37 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4B0CC7F403
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 22:49:37 -0800 (PST)
Date: Mon, 6 Mar 2006 22:49:37 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: BooleanQuery$TooManyClauses with 1.9.1 when Number RangeQuery
In-Reply-To: <001c01c6417d$b83471c0$0201a8c0@local>
Message-ID: <Pine.LNX.4.58.0603062245560.3153@hal.rescomp.berkeley.edu>
References: <001c01c6417d$b83471c0$0201a8c0@local>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I upgade to 1.9.1 and reindexing
: I used NumberTool when I index the number.
:
: after upgrade I got following error when number range query.
: with query

The possibility of a TooManyClauses exception has always existed with
RangeQuery and numbers, even when using NumberTool.  Even if you never saw
it before, and you are still querying on the exact same range as before,
adding new docs with values in that range can trigger the exception.

Consider using a RangeFilter instead, or the ConstantScoreRangeQuery which
doesn't have this limitation.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 07:02:06 2006
Return-Path: <java-user-return-19350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19903 invoked from network); 7 Mar 2006 07:02:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 07:02:06 -0000
Received: (qmail 27941 invoked by uid 500); 7 Mar 2006 07:01:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27852 invoked by uid 500); 7 Mar 2006 07:01:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27823 invoked by uid 99); 7 Mar 2006 07:01:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 23:01:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 23:01:53 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EA2C95B76C; Mon,  6 Mar 2006 23:01:31 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E3CB97F403
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 23:01:31 -0800 (PST)
Date: Mon, 6 Mar 2006 23:01:31 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Help interpreting explanation
In-Reply-To: <440D1200.1050402@gmail.com>
Message-ID: <Pine.LNX.4.58.0603062251170.3153@hal.rescomp.berkeley.edu>
References: <440731D5.1050101@gmail.com>  <c68e39170603021027o1f016a3ds4ddeab4272d4ee87@mail.gmail.com>
  <5a2e14740603021836m2a700055x2a7462160ddfda9@mail.gmail.com> 
 <c68e39170603022026n6874231qd8423552f6560dd@mail.gmail.com> 
 <440864B4.1020105@gmail.com>  <c68e39170603030800l16dd3d65i7679ce97f3215d38@mail.gmail.com>
  <44086B56.4040509@gmail.com> <4408700F.8010502@gmail.com>
 <c68e39170603030847q8a63c60nbdd06c9a415b9c2a@mail.gmail.com>
 <4408EC35.7020909@gmail.com> <Pine.LNX.4.58.0603031728220.22243@hal.rescomp.berkeley.edu>
 <440B3188.20904@gmail.com> <440B3AED.6010407@isb-sib.ch> <440BCE8A.4090904@gmail.com>
 <Pine.LNX.4.58.0603052208300.32061@hal.rescomp.berkeley.edu>
 <440C2342.4000809@gmail.com> <Pine.LNX.4.58.0603061023460.3179@hal.rescomp.berkeley.edu>
 <440D1200.1050402@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: on using Lucene but info for the internal workings of Lucene is hard to
: come by.

As with many OS code bases: the code is the documentation.

: 1) I'm using the default QueryParser to parse and return a query so it's
: a Boolean-OR query. So does this mean it uses the DisjunctionSumScorer
: or something?

I honestly don't understand all the ways the different Scorers are used
for BooleanQueries.  The thing to keep in mind is that they are all
optimizations that get choosen based on wether some/all clauses are
required, wether any clauses are prohibited, etc...  If you understand
what the basic BooleanScorer does, then you understand what all of the
other Scorers do -- they just go about it in slightly different ways.

: 2) Just wondering looking at the API for BooleanQuery i saw this: "Using
: setMinimumNumberShouldMatch will force the use of BooleanWeight2,
: regardless of wether setUseScorer14(true) has been called."
: What is the method setUseScorer14 about?

Hmmm... i guess it's not really documented is it?  setUseScorer14(true) is
just a way to force the old lucene 1.4.x style Boolean Scoring.  I don't
really know why that code was left in, or why you might want to use it.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 07:18:32 2006
Return-Path: <java-user-return-19351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27255 invoked from network); 7 Mar 2006 07:18:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 07:18:31 -0000
Received: (qmail 50436 invoked by uid 500); 7 Mar 2006 07:18:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50053 invoked by uid 500); 7 Mar 2006 07:18:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50042 invoked by uid 99); 7 Mar 2006 07:18:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 23:18:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 23:18:24 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6A8755B76C; Mon,  6 Mar 2006 23:18:04 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 67D777F403
	for <java-user@lucene.apache.org>; Mon,  6 Mar 2006 23:18:04 -0800 (PST)
Date: Mon, 6 Mar 2006 23:18:04 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: sumOfSquaredWeights for lengthNorm
In-Reply-To: <440D14F3.8030502@gmail.com>
Message-ID: <Pine.LNX.4.58.0603062303030.3153@hal.rescomp.berkeley.edu>
References: <440C8834.9000403@gmail.com> <Pine.LNX.4.58.0603061325180.15160@hal.rescomp.berkeley.edu>
 <440D14F3.8030502@gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > 1) the "boosts" associated with Fields and Documents at indexing time,
: > which are combined with the lengthNorm at index time to determine a single
: > "norm"  value for the doc/field pair.
:
: I don;t think this is what I want because the lengthNorm is still using
: the # of terms.

You can override the lengthNorm function to return "1.0" for all fields
regardless of length, and then then the norm will consist soley of hte
boost.

: Yes, I noticed this, but this is not what I want because its using "idf
: of the terms being queried". What I want fieldWeight to be is to use the
: 1/ sqrt(sumOfSquaredWeights),  where  sumOfSquaredWeights = tf^2 over
: all terms in the field.

Ah, but when you are building your index, how can lucene know what the tf
for all of the terms in the field are? ... you still have more documents
to add that can affect the tf.

if you know what the frequencies are when you add the document, then you
can square that and use it as the field boost and you should have what you
want

: 3) I got another issue with the explanation, which seems to be a bug.
: Below, I;ve given a printout of the explanation.  There's something
: strange when I use my own Similarity it prints out all query terms
: despite some them not appearing in the doc (See for "formulation" the
: docFreq = 0  but it appears in the explanation).

It looks like your tf function is returning non-zero values when the input
is 0, which is going to give you real weird behavior -- including saying
that certain docs match a clause even when they don't.

Even if you want a tf to return a constant values, you have to keep in
mind the "non-matching" case and reutrn 0 when the input is 0.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 07:35:45 2006
Return-Path: <java-user-return-19352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34953 invoked from network); 7 Mar 2006 07:35:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 07:35:44 -0000
Received: (qmail 72732 invoked by uid 500); 7 Mar 2006 07:35:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72519 invoked by uid 500); 7 Mar 2006 07:35:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72508 invoked by uid 99); 7 Mar 2006 07:35:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 23:35:36 -0800
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Mar 2006 23:35:36 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k277Z967010943
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 08:35:09 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.2.0/275]); Tue, 07 Mar 2006 08:35:08 +0100
Message-ID: <440D37AC.7040202@isb-sib.ch>
Date: Tue, 07 Mar 2006 08:35:08 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: MultiPhraseQuery
References: <440B27DE.9020307@isb-sib.ch> <200603062243.18571@danielnaber.de>
In-Reply-To: <200603062243.18571@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Naber wrote:
> Please try to add this to MultiPhraseQuery and let us know if it helps:
> 
>   public List getTerms() {
>     return termArrays;
>   }

That is indeed all I need (the list wouldn't have to be mutable though). 
Any chance this could be committed?

Incidentally, would be helpful if the PrecedenceQueryParser instantiated 
MultiPhraseQueries via a call to an (overridable) getMultiPhraseQuery method.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 08:20:07 2006
Return-Path: <java-user-return-19353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55860 invoked from network); 7 Mar 2006 08:20:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 08:20:07 -0000
Received: (qmail 30633 invoked by uid 500); 7 Mar 2006 08:20:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30003 invoked by uid 500); 7 Mar 2006 08:20:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29992 invoked by uid 99); 7 Mar 2006 08:20:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 00:20:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 00:19:59 -0800
Received: from orbitsoft.ipt ([192.168.0.150] helo=orbitsoft.orbitscripts)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FGXPt-00043o-4o
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 11:19:37 +0300
Subject: sub search
Date: Tue, 7 Mar 2006 11:19:17 +0300
Message-ID: <41D8E340E5045F4ABA553E4524E3D3792DFE48@orbitsoft.orbitscripts>
X-MS-Has-Attach: 
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C641BF.EE758138"
X-MS-TNEF-Correlator: 
Thread-Topic: sub search
Thread-Index: AcZBv9Pxvn48GZvZQaK3nsxzxkV3Ng==
Content-class: urn:content-classes:message
From: "Anton Potehin" <anton@orbita1.ru>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C641BF.EE758138
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable

Is it possible to make search among results of previous search?

=9A

=20

For example: I made search:=20

=20

Searcher searcher =3D...

=20

Query query =3D ...

=20

Hits hits =3D ....

=20

hits =3D Searcher.search(query);

=20

=9A

=20

After it I want to not make a new search, I want to make search among =
found results...=9A=20


------_=_NextPart_001_01C641BF.EE758138--

From java-user-return-19354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 09:41:43 2006
Return-Path: <java-user-return-19354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98918 invoked from network); 7 Mar 2006 09:41:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 09:41:37 -0000
Received: (qmail 22191 invoked by uid 500); 7 Mar 2006 09:41:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22131 invoked by uid 500); 7 Mar 2006 09:41:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22067 invoked by uid 99); 7 Mar 2006 09:41:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 01:41:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.184.196 as permitted sender)
Received: from [64.233.184.196] (HELO wproxy.gmail.com) (64.233.184.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 01:41:18 -0800
Received: by wproxy.gmail.com with SMTP id 71so1353268wri
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 01:40:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iofLT7DcdiUlJVvXJQ0FZAlvOJ7rL8MsocXAMx0hw7E01DyRZth0L599YvtW0jncQzzXOjvn4maT4kgVZzZ3scRYeYx1KcKmSC20jUUBbmOxfpiPHnELXT8/3Dmd7I7otuNeK8FVxLVQLva5uPbrA2avm7mLiyoH1roH1T9JGaU=
Received: by 10.64.179.7 with SMTP id b7mr3110335qbf;
        Tue, 07 Mar 2006 01:40:22 -0800 (PST)
Received: by 10.65.216.2 with HTTP; Tue, 7 Mar 2006 01:40:22 -0800 (PST)
Message-ID: <4f2c7c9b0603070140o59e33575y@mail.gmail.com>
Date: Tue, 7 Mar 2006 17:40:22 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: sub search
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792DFE48@orbitsoft.orbitscripts>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3035_22049538.1141724422757"
References: <41D8E340E5045F4ABA553E4524E3D3792DFE48@orbitsoft.orbitscripts>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3035_22049538.1141724422757
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

2006/3/7, Anton Potehin <anton@orbita1.ru>:
>
> Is it possible to make search among results of previous search?
>
>
>
>
>
> For example: I made search:
>
>
>
> Searcher searcher =3D...
>
>
>
> Query query =3D ...
>
>
>
> Hits hits =3D ....
>
>
>
> hits =3D Searcher.search(query);
>
>
>
>
>
>
>
> After it I want to not make a new search, I want to make search among
> found results...
>
> You can use like this

  TermQuery termQuery =3D new TermQuery(....
 Filter  queryFilter =3D new QueryFilter(temQuery);
hits =3D Searcher.search(query,queryFilter);

------=_Part_3035_22049538.1141724422757--

From java-user-return-19355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 09:42:43 2006
Return-Path: <java-user-return-19355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99667 invoked from network); 7 Mar 2006 09:42:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 09:42:35 -0000
Received: (qmail 24062 invoked by uid 500); 7 Mar 2006 09:42:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23883 invoked by uid 500); 7 Mar 2006 09:42:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23872 invoked by uid 99); 7 Mar 2006 09:42:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 01:42:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 01:41:52 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k279f8u04825
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 03:41:09 -0600
Message-ID: <440D5534.5000402@getopt.org>
Date: Tue, 07 Mar 2006 10:41:08 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Distributed Lucene..
References: <440BD048.4060806@aol.com> <fed285090603060527l3f701a5cw1388178c30eab63f@mail.gmail.com> <440D13BF.8010506@aol.com>
In-Reply-To: <440D13BF.8010506@aol.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Prasenjit Mukherjee wrote:
> I think nutch has a distributed lucene implementation. I could have 
> used nutch straightaway, but I have a different crawler, and also dont 
> want to use NDFS(which is used by nutch) . What I have proposed 
> earlier is basically based on mapReduce paradigm, which is used by 
> nutch as well.
>
> It would be nice to get some articles specifically detailing out  the 
> distributed architecture used in nutch.
>

A few comments:

* you can use your own crawler, and then only write some glue code to 
convert the output of that crawler to the format that Nutch uses.

* Nutch can be run in a so called "local" mode, without using NDFS

* the core map-reduce and I/O functionality has been split to its own 
project, Hadoop, where the development is taking place at a furious rate 
;-) This code is completely independent of Nutch or Lucene. You can 
implement your own data processing using this framework.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 10:10:27 2006
Return-Path: <java-user-return-19356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13361 invoked from network); 7 Mar 2006 10:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 10:10:26 -0000
Received: (qmail 51226 invoked by uid 500); 7 Mar 2006 10:10:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51199 invoked by uid 500); 7 Mar 2006 10:10:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51179 invoked by uid 99); 7 Mar 2006 10:10:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 02:10:19 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 02:10:12 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FGZ7v-0004WN-UX
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 13:09:11 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: sub search
Date: Tue, 7 Mar 2006 13:08:50 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcZBy1BrIfe9Eq1hQIKPZsp99ploKAAA7n7w
In-Reply-To: <4f2c7c9b0603070140o59e33575y@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060307101019.6D44910FB006@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As far as I understood that will make new search throughout the index. But
what the difference between that and search described below:

TermQuery termQuery = new TermQuery(....
BooleanQuery bq = ..
bq.add(termQuery,true,false); 
bq.add(query,true,false);
hits = Searcher.search(bq,queryFilter);



-----Original Message-----
From: hu andy [mailto:andyhugb@gmail.com] 
Sent: Tuesday, March 07, 2006 12:40 PM
To: java-user@lucene.apache.org
Subject: Re: sub search
Importance: High

2006/3/7, Anton Potehin <anton@orbita1.ru>:
>
> Is it possible to make search among results of previous search?
> For example: I made search:
> Searcher searcher =...
> Query query = ...
> Hits hits = ....
> hits = Searcher.search(query);
> After it I want to not make a new search, I want to make search among
> found results...
>
> You can use like this

  TermQuery termQuery = new TermQuery(....
 Filter  queryFilter = new QueryFilter(temQuery);
hits = Searcher.search(query,queryFilter);



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 10:36:58 2006
Return-Path: <java-user-return-19357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24605 invoked from network); 7 Mar 2006 10:36:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 10:36:57 -0000
Received: (qmail 79014 invoked by uid 500); 7 Mar 2006 10:36:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78732 invoked by uid 500); 7 Mar 2006 10:36:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78721 invoked by uid 99); 7 Mar 2006 10:36:52 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [210.18.90.100] (HELO chnmail.satyam.com) (210.18.90.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 02:36:50 -0800
X-eSCM-MailFrom: <Haritha_Parvatham@satyam.com>
Received: from che2.satyam.com (172.18.73.12)
	by chnescm01 (172.18.76.22);
	Tue, 07 March 2006 16:06:35 +0530
Received: from disclaimerchn.corp.satyam.ad (chn.satyam.com [172.18.73.8])
	by che2.satyam.com (8.12.8/8.12.8) with ESMTP id k27AXXTR019312
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 16:03:33 +0530
Received: from ccrmsg003.corp.satyam.ad ([172.18.73.7]) by disclaimerchn.corp.satyam.ad with Microsoft SMTPSVC(6.0.3790.211); Tue, 7 Mar 2006 16:04:37 +0530
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C641D2.BA905185"
Subject: about lucene 1.9
Importance: normal
Priority: normal
Date: Tue, 7 Mar 2006 16:04:35 +0530
Message-ID: <F448FF49D11EA4459D957805E93C3A6902521890@ccrmsg003.corp.satyam.ad>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: about lucene 1.9
Thread-Index: AcZB0rRQHuMssZTyRLu76jMLzDMAZg==
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 07 Mar 2006 10:34:37.0737 (UTC) FILETIME=[BBDC9190:01C641D2]
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on che2.satyam.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C641D2.BA905185
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
I have downloaded the latest release lucene 1.9.I have deployed in
tomcat.
When i search from the front end.It gives me the message.Please tell me
how to use lucene 1.9 .

Welcome to the Lucene Template application. (This is the header)=20

Document	 Summary=09
null <http://localhost:8080/luceneweb/null> 	 null=09
null <http://localhost:8080/luceneweb/null> 	 null=09
null <http://localhost:8080/luceneweb/null> 	 null             =20
=20
	=09
	=09
<http://localhost:8080/luceneweb/null> 	=09
=20


DISCLAIMER:
This email (including any attachments) is intended for the sole use of =
the intended recipient/s and may contain material that is CONFIDENTIAL =
AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or =
copying or distribution or forwarding of any or all of the contents in =
this message is STRICTLY PROHIBITED. If you are not the intended =
recipient, please contact the sender by email and delete all copies; =
your cooperation in this regard is appreciated.

------_=_NextPart_001_01C641D2.BA905185--


From java-user-return-19358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 10:56:10 2006
Return-Path: <java-user-return-19358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31916 invoked from network); 7 Mar 2006 10:56:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 10:56:10 -0000
Received: (qmail 6871 invoked by uid 500); 7 Mar 2006 10:56:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6637 invoked by uid 500); 7 Mar 2006 10:56:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6626 invoked by uid 99); 7 Mar 2006 10:56:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [130.159.196.96] (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 02:56:03 -0800
Received: from [130.159.185.52] (ws-murat.cis.strath.ac.uk [130.159.185.52])
	by smtphost.cis.strath.ac.uk (8.13.4/8.13.3/Debian-6) with ESMTP id k27AtRcb007930
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 10:55:29 GMT
Message-ID: <440D669F.5090309@cis.strath.ac.uk>
Date: Tue, 07 Mar 2006 10:55:27 +0000
From: Murat Yakici <Murat.Yakici@cis.strath.ac.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Writing terms/freq pairs directly to the inverted file
References: <F448FF49D11EA4459D957805E93C3A6902521890@ccrmsg003.corp.satyam.ad>
In-Reply-To: <F448FF49D11EA4459D957805E93C3A6902521890@ccrmsg003.corp.satyam.ad>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=0.061, required 6, autolearn=disabled, AWL 0.06)
X-CIS-MailScanner-From: murat@cis.strath.ac.uk
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I would like to by-pass the IndexWriter and directly write the terms and 
their frequencies to the index (and may proximity info later on). I 
might have missed any discussion if previously. As far as I know, the 
high level API in Lucene only allows you to add documents (which are 
populated by terms) to the index through IndexWriter. These are resolved 
to low-level method calls and written to the index. However, I'm getting 
the following information (term frequency pairs) to be push to the 
index: t1->f1, t2->f2, t3->f3 and so on. In other words, a functionality 
equivalent to IndexReader's termEnum, termDocs for IndexWriter (for 
directly pushing the terms to a document which already exists in the 
index ).


Is there a way to use the low-level API (FieldInfos,TermVectorWriter 
etc.) securely without breaking the integrity of the index?

Which classes I should be looking at specificaly?

Regards
Murat

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 12:01:33 2006
Return-Path: <java-user-return-19359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62042 invoked from network); 7 Mar 2006 12:01:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 12:01:33 -0000
Received: (qmail 87984 invoked by uid 500); 7 Mar 2006 12:01:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87948 invoked by uid 500); 7 Mar 2006 12:01:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87934 invoked by uid 99); 7 Mar 2006 12:01:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:01:26 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3703D33D105; Tue,  7 Mar 2006 06:57:42 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id E562233CFF1
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 06:57:40 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <440D37AC.7040202@isb-sib.ch>
References: <440B27DE.9020307@isb-sib.ch> <200603062243.18571@danielnaber.de> <440D37AC.7040202@isb-sib.ch>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <33F0E497-1CA6-40CF-B12B-DCCB3B80C771@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: MultiPhraseQuery
Date: Tue, 7 Mar 2006 06:57:36 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 7, 2006, at 2:35 AM, Eric Jain wrote:
> Daniel Naber wrote:
>> Please try to add this to MultiPhraseQuery and let us know if it  
>> helps:
>>   public List getTerms() {
>>     return termArrays;
>>   }
>
> That is indeed all I need (the list wouldn't have to be mutable  
> though). Any chance this could be committed?
>
> Incidentally, would be helpful if the PrecedenceQueryParser  
> instantiated MultiPhraseQueries via a call to an (overridable)  
> getMultiPhraseQuery method.

Since PQP is my doing, if you supply a patch for both of the above  
from svn trunk, add it to a new JIRA issue, I'd be happy to apply it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 12:05:43 2006
Return-Path: <java-user-return-19360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64176 invoked from network); 7 Mar 2006 12:05:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 12:05:43 -0000
Received: (qmail 97452 invoked by uid 500); 7 Mar 2006 12:05:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97064 invoked by uid 500); 7 Mar 2006 12:05:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97053 invoked by uid 99); 7 Mar 2006 12:05:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:05:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO zproxy.gmail.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:05:30 -0800
Received: by zproxy.gmail.com with SMTP id 9so1481499nzo
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 04:03:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fgzialhMkOP8AKDHMyBA9DkUzcw4oSBn4q9cTa8tUwa2+2ZZiTFwnG4XR9BvaKqcwlg+hZC+Mgayx6sENtifovjnNeU54N37dd7Cz+fj4yW6EWmtNqRL70sPCa6tg1X3M7QNRl3+MnF+zbDKSCTU/lsiJMUxwSi8G2ZjHJucvLI=
Received: by 10.65.186.17 with SMTP id n17mr3180799qbp;
        Tue, 07 Mar 2006 04:03:29 -0800 (PST)
Received: by 10.65.216.2 with HTTP; Tue, 7 Mar 2006 04:03:29 -0800 (PST)
Message-ID: <4f2c7c9b0603070403r7578f633y@mail.gmail.com>
Date: Tue, 7 Mar 2006 20:03:29 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: sub search
In-Reply-To: <20060307101019.6D44910FB006@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4448_33546547.1141733009819"
References: <4f2c7c9b0603070140o59e33575y@mail.gmail.com>
	 <20060307101019.6D44910FB006@asf.osuosl.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4448_33546547.1141733009819
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

It uses cache mechanism. The detail is described in the book Lucene in
Action. Maybe you can test it to decide which is faster

2006/3/7, anton@orbita1.ru <anton@orbita1.ru>:
>
> As far as I understood that will make new search throughout the index. Bu=
t
> what the difference between that and search described below:
>
> TermQuery termQuery =3D new TermQuery(....
> BooleanQuery bq =3D ..
> bq.add(termQuery,true,false);
> bq.add(query,true,false);
> hits =3D Searcher.search(bq,queryFilter);
>
>
>
> -----Original Message-----
> From: hu andy [mailto:andyhugb@gmail.com]
> Sent: Tuesday, March 07, 2006 12:40 PM
> To: java-user@lucene.apache.org
> Subject: Re: sub search
> Importance: High
>
> 2006/3/7, Anton Potehin <anton@orbita1.ru>:
> >
> > Is it possible to make search among results of previous search?
> > For example: I made search:
> > Searcher searcher =3D...
> > Query query =3D ...
> > Hits hits =3D ....
> > hits =3D Searcher.search(query);
> > After it I want to not make a new search, I want to make search among
> > found results...
> >
> > You can use like this
>
> TermQuery termQuery =3D new TermQuery(....
> Filter  queryFilter =3D new QueryFilter(temQuery);
> hits =3D Searcher.search(query,queryFilter);
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_4448_33546547.1141733009819--

From java-user-return-19361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 12:17:44 2006
Return-Path: <java-user-return-19361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68904 invoked from network); 7 Mar 2006 12:17:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 12:17:44 -0000
Received: (qmail 11975 invoked by uid 500); 7 Mar 2006 12:17:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11949 invoked by uid 500); 7 Mar 2006 12:17:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11929 invoked by uid 99); 7 Mar 2006 12:17:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [80.237.132.8] (HELO wp001.webpack.hosteurope.de) (80.237.132.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:17:37 -0800
Received: by wp001.webpack.hosteurope.de running Exim 4.43 using esmtpa
	from dcsigate.dcsi.de ([62.54.117.250] helo=[192.168.1.226])
	id 1FGb3n-0001zh-Oz; Tue, 07 Mar 2006 13:13:03 +0100
Message-ID: <440D7863.3000708@thopap.de>
Date: Tue, 07 Mar 2006 13:11:15 +0100
From: Thomas Papke <tp@thopap.de>
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Question
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

anyone implement the "Google Suggest" Feature using Lucene? The Frontend 
is clear - but i need a very fast way to retrieve matching terms. For 
example: The user typed "Ab" and i want to give him a list of 10 
possible words in term "name" starting with "Ab*". So i don't need the 
hole document and i need this information realy fast.

Thx,
Thomas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 12:34:19 2006
Return-Path: <java-user-return-19362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82723 invoked from network); 7 Mar 2006 12:34:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 12:34:19 -0000
Received: (qmail 34358 invoked by uid 500); 7 Mar 2006 12:34:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34335 invoked by uid 500); 7 Mar 2006 12:34:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34318 invoked by uid 99); 7 Mar 2006 12:34:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:34:13 -0800
Received: from home-pool7-2.com2com.ru ([195.98.167.2] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1FGbMu-0008F6-MC
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 06:32:49 -0600
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: Question
Date: Tue, 7 Mar 2006 15:39:55 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <440D7863.3000708@thopap.de>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcZB4R79653lhdPtQzaQifliYId47gAAoWLQ
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Thomas Papke [mailto:tp@thopap.de] 

> anyone implement the "Google Suggest" Feature using Lucene? 
> The Frontend is clear - but i need a very fast way to 
> retrieve matching terms. For
> example: The user typed "Ab" and i want to give him a list of 
> 10 possible words in term "name" starting with "Ab*". So i 
> don't need the hole document and i need this information realy fast.

It was implemented by David Spencer. See
http://searchmorph.com/experiments.php.
Unfortunately online demo is unavailable now :(

Pasha Bizhan



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 12:50:13 2006
Return-Path: <java-user-return-19363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90305 invoked from network); 7 Mar 2006 12:50:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 12:50:12 -0000
Received: (qmail 63596 invoked by uid 500); 7 Mar 2006 12:50:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63260 invoked by uid 500); 7 Mar 2006 12:50:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63248 invoked by uid 99); 7 Mar 2006 12:50:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from [81.103.221.48] (HELO mta08-winn.ispmail.ntl.com) (81.103.221.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:50:06 -0800
Received: from aamtaout02-winn.ispmail.ntl.com ([81.103.221.35])
          by mta08-winn.ispmail.ntl.com with ESMTP
          id <20060307124539.HJUC29066.mta08-winn.ispmail.ntl.com@aamtaout02-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 12:45:39 +0000
Received: from jhi ([81.98.13.34]) by aamtaout02-winn.ispmail.ntl.com
          with SMTP
          id <20060307124539.PUXX1347.aamtaout02-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 12:45:39 +0000
Message-ID: <001601c641e5$0c14e510$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <440D7863.3000708@thopap.de>
Subject: Re: Question
Date: Tue, 7 Mar 2006 12:45:37 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="ISO-8859-15";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

would lucene even have to be accessed? couldnt you save the queries when 
submitted and search that via a sql database?

_gk
----- Original Message ----- 
From: "Thomas Papke" <tp@thopap.de>
To: <java-user@lucene.apache.org>
Sent: Tuesday, March 07, 2006 12:11 PM
Subject: Question


> Hello,
>
> anyone implement the "Google Suggest" Feature using Lucene? The Frontend 
> is clear - but i need a very fast way to retrieve matching terms. For 
> example: The user typed "Ab" and i want to give him a list of 10 possible 
> words in term "name" starting with "Ab*". So i don't need the hole 
> document and i need this information realy fast.
>
> Thx,
> Thomas
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 12:53:04 2006
Return-Path: <java-user-return-19364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91864 invoked from network); 7 Mar 2006 12:53:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 12:53:04 -0000
Received: (qmail 67904 invoked by uid 500); 7 Mar 2006 12:53:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67319 invoked by uid 500); 7 Mar 2006 12:52:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67308 invoked by uid 99); 7 Mar 2006 12:52:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [207.58.180.53] (HELO vps.elderlycare-help.co.uk) (207.58.180.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:52:58 -0800
Received: from cpc1-flee1-0-0-cust801.glfd.cable.ntl.com ([86.4.143.34] helo=leondell)
	by vps.elderlycare-help.co.uk with esmtpa (Exim 4.52)
	id 1FGbcc-0008JR-R2
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 12:49:03 +0000
Message-ID: <009401c641e5$82eb4210$6500a8c0@leondell>
From: "Leon Chaddock" <leonchaddock@macranet.co.uk>
To: <java-user@lucene.apache.org>
Subject: Re: Question
Date: Tue, 7 Mar 2006 12:48:52 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - vps.elderlycare-help.co.uk
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - macranet.co.uk
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am very interested in this aswell, as I wish to display related searches 
for users.
Does anyone know if this work is open source and is there an api available?
Thanks

Leon

----- Original Message ----- 
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Sent: Tuesday, March 07, 2006 12:39 PM
Subject: RE: Question


> Hi,
>
>> From: Thomas Papke [mailto:tp@thopap.de]
>
>> anyone implement the "Google Suggest" Feature using Lucene?
>> The Frontend is clear - but i need a very fast way to
>> retrieve matching terms. For
>> example: The user typed "Ab" and i want to give him a list of
>> 10 possible words in term "name" starting with "Ab*". So i
>> don't need the hole document and i need this information realy fast.
>
> It was implemented by David Spencer. See
> http://searchmorph.com/experiments.php.
> Unfortunately online demo is unavailable now :(
>
> Pasha Bizhan
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> -- 
> No virus found in this incoming message.
> Checked by AVG Free Edition.
> Version: 7.1.375 / Virus Database: 268.2.0/275 - Release Date: 06/03/2006
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 12:59:04 2006
Return-Path: <java-user-return-19365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95330 invoked from network); 7 Mar 2006 12:59:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 12:59:03 -0000
Received: (qmail 78448 invoked by uid 500); 7 Mar 2006 12:58:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78151 invoked by uid 500); 7 Mar 2006 12:58:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78139 invoked by uid 99); 7 Mar 2006 12:58:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:58:57 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 04:58:49 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T76e168a1c788ad3ee414b8@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Tue, 7 Mar 2006 13:57:51 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C641E6.BCB896EE"
Subject: Lucene version 1.9
Date: Tue, 7 Mar 2006 13:57:49 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A421BF38B@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene version 1.9
thread-index: AcZB5ryijvgDCKfvS+qZYFZv1v4+7w==
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C641E6.BCB896EE
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I've created an index with the Lucene version 1.9 and when I try to open
this index I have always this error mesage:
java.lang.ArrayIndexOutOfBoundsException.
if I use an index built with the lucene version 1.4.3 it's working.
Wath's wrong?

------_=_NextPart_001_01C641E6.BCB896EE--

From java-user-return-19366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 13:11:23 2006
Return-Path: <java-user-return-19366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4805 invoked from network); 7 Mar 2006 13:11:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 13:11:22 -0000
Received: (qmail 97178 invoked by uid 500); 7 Mar 2006 13:11:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97155 invoked by uid 500); 7 Mar 2006 13:11:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97144 invoked by uid 99); 7 Mar 2006 13:11:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 05:11:16 -0800
Received: from home-pool7-2.com2com.ru ([195.98.167.2] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1FGbwt-0003Ra-71
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 07:09:59 -0600
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: Question
Date: Tue, 7 Mar 2006 16:17:16 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <009401c641e5$82eb4210$6500a8c0@leondell>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcZB5g80ABaOTxNcSbauglnwU044CgAApz9w
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Leon Chaddock [mailto:leonchaddock@macranet.co.uk] 
 
> I am very interested in this aswell, as I wish to display 
> related searches for users.

What does "related" mean?

> Does anyone know if this work is open source and is there an 
> api available?

Ask David or use web.archive:
http://web.archive.org/web/20050306065912/http://www.searchmorph.com/weblog/
index.php?id=26

Pasha Bizhan



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 13:18:06 2006
Return-Path: <java-user-return-19367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8152 invoked from network); 7 Mar 2006 13:18:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 13:18:06 -0000
Received: (qmail 13729 invoked by uid 500); 7 Mar 2006 13:18:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13700 invoked by uid 500); 7 Mar 2006 13:18:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13688 invoked by uid 99); 7 Mar 2006 13:18:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.195 as permitted sender)
Received: from [66.249.92.195] (HELO uproxy.gmail.com) (66.249.92.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 05:18:00 -0800
Received: by uproxy.gmail.com with SMTP id o2so696587uge
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 05:16:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Coy1Ru2JRryEf58Ucqjs4zSDCFMAAqxBWib70ww/irCEqFJApq64DYs8GtxkdJrXDJ540Pi/yZYLH6Gj7JnNRJfuv8YT5bGOv9dZMnUvkCytZKwU7KlpIWRQGjEIO9jbZ/lr6VNLiHUyXz8QX5H750K48XU1+Sdoj+wRQKPercc=
Received: by 10.66.255.6 with SMTP id c6mr1984285ugi;
        Tue, 07 Mar 2006 05:16:39 -0800 (PST)
Received: by 10.66.219.18 with HTTP; Tue, 7 Mar 2006 05:16:39 -0800 (PST)
Message-ID: <50f433360603070516k267da532y6ca8740fa9f88fe5@mail.gmail.com>
Date: Tue, 7 Mar 2006 05:16:39 -0800
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question
In-Reply-To: <440D7863.3000708@thopap.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1453_19620581.1141737399241"
References: <440D7863.3000708@thopap.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1453_19620581.1141737399241
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

We've done this, and it's not that complex.  (Sorry, client won't allow me
to release the code.)
It's AJAX on the front end, so that background call is simply executing a
search against an index that consists of the aggregated search terms.  We d=
o
wildcard queries to get the results we want.  For us, the search term
represents the whole document.

Pretty straightforward.

-- j

On 3/7/06, Thomas Papke <tp@thopap.de> wrote:
>
> Hello,
>
> anyone implement the "Google Suggest" Feature using Lucene? The Frontend
> is clear - but i need a very fast way to retrieve matching terms. For
> example: The user typed "Ab" and i want to give him a list of 10
> possible words in term "name" starting with "Ab*". So i don't need the
> hole document and i need this information realy fast.
>
> Thx,
> Thomas
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1453_19620581.1141737399241--

From java-user-return-19368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 13:31:15 2006
Return-Path: <java-user-return-19368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15571 invoked from network); 7 Mar 2006 13:31:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 13:31:15 -0000
Received: (qmail 43359 invoked by uid 500); 7 Mar 2006 13:31:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43339 invoked by uid 500); 7 Mar 2006 13:31:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43328 invoked by uid 99); 7 Mar 2006 13:31:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 05:31:10 -0800
Received: from orbitsoft.ipt ([192.168.0.150] helo=orbitsoft.orbitscripts)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FGcDc-0005Ke-U7
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 16:27:16 +0300
Subject: Get only count 
Date: Tue, 7 Mar 2006 16:27:01 +0300
Message-ID: <41D8E340E5045F4ABA553E4524E3D3792DFEE7@orbitsoft.orbitscripts>
X-MS-Has-Attach: 
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C641EA.E95D5B00"
X-MS-TNEF-Correlator: 
Thread-Topic: Get only count 
Thread-Index: AcZB6tFmX/ZD4d3jRL6LLvtIPnqkoA==
Content-class: urn:content-classes:message
From: "Anton Potehin" <anton@orbita1.ru>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C641EA.E95D5B00
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Now I create new search for get number of results. For example:

IndexSearcher is =3D ...

Query q =3D ...=20

numberOfResults =3D Is.search(q).length();

=20

Can I accelerate this example ? And how ?

=20


------_=_NextPart_001_01C641EA.E95D5B00--

From java-user-return-19369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 13:52:52 2006
Return-Path: <java-user-return-19369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30898 invoked from network); 7 Mar 2006 13:52:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 13:52:52 -0000
Received: (qmail 5333 invoked by uid 500); 7 Mar 2006 13:52:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5092 invoked by uid 500); 7 Mar 2006 13:52:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 60851 invoked by uid 99); 7 Mar 2006 13:37:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Content-class: urn:content-classes:message
Subject: RE: Search for synonyms - implemenetation for review
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 7 Mar 2006 15:36:16 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D392089@xmail.me.corp.entopia.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search for synonyms - implemenetation for review
Thread-Index: AcZBKQ2iFVnm5mlfR+yrwFsHoSuHTwAokBdw
From: "Ziv Gome" <zgome@entopia.com>
To: "Andrew Schetinin" <aschetinin@entopia.com>,
	<java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I have few more remarks to Andrew's already thorough mail... I fear
though Andrew gave me too much credit, for a cooperative, brain-storming
work we both did.

1. How are the results? We have not conducted a real research on the
results we got, in terms of recall and precision measurements, but we
definitely got much better results. In terms of precision - there was a
significant drop in non-relevant docs popping up, which is the main
problem with any query expansion, and specifically to synonym expansion.
Recall is harder to evaluate, but I don't see how we could loose
documents with synonyms, such documents could only be pushed down.

2. An addition to Andrew's explanation on idfFactor:=20
Andrew sais:=20
>> factor like the following
>>	tf =3D sqrt( freq[tire] + 0.8 * freq[tyre] * idfFactor )
>> where
>>	idfFactor =3D (IDF[synonym] * IDF[synonym]) / (IDF[word] *
IDF[word])

	a) Note that in the code there is no squaring, since the
returned value from sumOfSqaures is already squared.
	b) We used the squared ratio since the IDF is taken squared in
Lucene calculation (TermQuery: lines 45-55): first, in constructing
queryWeight, second in "value =3D queryWeight * idf". Therefore, if we
wish to cancel the synonym IDF affect, we wish the IDF factor to take
the square of the IDF's ratio (or equivalently the ratio of the
sumOfSquares return values as we do in the code). This part is done in
order to treat the queryNorm-queryWeight side of the calculation. This
is explained in the code, but was not elaborated in Andrew's mail.
	c) We additionally multiply at this stage with the inverse ratio
(not squared). This is done in order to treat the tf() side of the
calculation. The idea is to normalize the frequency of the synonym using
idfs. I'll try to explain this using the following example: say the user
searched for the term "car" which has "automobile" and "auto" as
synonyms, and say the synonym deboost factor is 0.9, we aim to get the
following tf result for it:=20
tf(car + syn) =3D tf (freq[car] + 0.9*(idf[auto]/*idf[car])*freq[auto] +
0.9*(idf[automobile]/idf[car])freq[automobile])
Let's see why this is needed: say car is a rare term (high idf), but
auto is very common (low idf), we wish to put those terms on the same
ground, i.e. an occurrence of the common term counts less than the
occurrence of the rare term. In addition, remember that now the synonyms
are normalized (relative to the other original terms in the query)
according to the original term (car in this case), and so it would be
"unfair" to bring in a common word in the back door - being a synonym of
a rare term. True, the idf comparison is not perfectly suitable for
evaluating in-document occurrences, but this was the best we came up
with. Hope this explanation helps. This is also explained, with fewer
details in the code.
	d) As mentioned in the code - items b and c above have some
cancellation, but we feel it is easier to understand it this way.
 =20


3. The trick of normalizing the IDF according to the root term (the term
the user actually entered) also helps in solving a different problem:
the problem of searching in two fields and combining the results. The
DisjunctionQuery tries to solve it, and is doing a good job unless the
fields are of very different size, and the IDFs behave very differently.
One such case could be looking in a document's content and in its title.
We figured it would be better, in this case, to treat only the IDF given
by the "main" field (in the above example - the document content) in the
sumOfSquaredWeights calculation, in order to balance the different
terms. Later on, during the normalize(f) call, our query will pass on
down an adjusted norm to the "secondary" field TermQuery, where the
adjustment is basically the IDF ratios:
IDF-main-field(term)/IDF-secondary-field(term). This way the
summation/max (however you wish to accumulate the term over different
fields) is performed on equivalent-basis scores.

Thank you for reading all this...
Ziv Gome.


-----Original Message-----
From: Andrew Schetinin=20
Sent: Monday, March 06, 2006 4:20 PM
To: java-user@lucene.apache.org
Cc: Ziv Gome
Subject: Search for synonyms - implemenetation for review

Dear all,
=20
Me and my college, Mr. Ziv Gome, would like to present here an
implementation of synonyms search that we use in our server.
Probably it will be interesting for those who worked on synonyms, or
going to implement synonyms search.
We hope that this mail will raise interesting ideas and will result in
useful results :-)

And I would like to mention that it was Ziv who inspired this research
and development.
He did most of the analytical work and basically invented this entire
idea.=20
=20
1. Background

There is an interesting discussion about synonyms in Lucene mailing list

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg11594.html
which suggests expanding the search query with additional clauses for
synonyms penalized using boost factor.
If we understood correctly, this is employed in the "WordNet" project
for English synonyms.=20
When we started working with synonyms, we implemented exactly that at
first, just without the boost (or, better to say, penalty) factor.
Mr. Erik Hatcher in his book refers to synonyms in a different way -
injecting them at indexing time - we did not quite liked that because it
does not allow searching without synonyms, and we wanted
enabling/disabling this feature from UI..=20

2. First synonyms search implementation and related problems

As I said, at the beginning we simply expanded the query with the
additional term queries for all synonyms.=20
For example, looking for=20
	car AND tire
Would result in=20
	(car OR auto OR automobile OR motorcar) AND (tire OR tyre)
At first we did not even penalized the synonyms with the boost factor.
The results were very surprising :-)

As those who read about Lucene scoring implementation know, there is an
IDF factor which is used by Lucene for normalization of different terms
(inversed document frequency for a term).
The formula for this factor is=20
	IDF =3D log( numDocs / (docFreq + 1) ) + 1
where numDocs is the total number of documents in the index, and docFreq
is the count of documents containing the given term.
As it is possible to see, the term not contained in the index at all
gets the highest IDF value, and the term contained in every single
document gets the lowest IDF value.
The basic idea (as far as I got it) is that a very common term does not
weight much (words like "program"), while a rare term may be very
meaningful (words like... say, "Lucene" :-) )
At the search time Lucene engine summarizes squares of IDF for all
terms, and normalizes all term queries back basing on the square root of
this sum (somewhat simplified explanation).
Basically, each term gets its weight like
	termWeigth =3D IDF * boost
	sumOfSquaredWeights =3D 1 / SQRT( SUM( termWeight[i] *
termWeight[i] ) )=20
	weight[i] =3D IDF * ( termWeigth  / sumOfSquaredWeights )
Another important thing that will be discussed here is term frequency in
the document (based on the count of term appearances in the document),
which is calculated in Lucene as:
	tf =3D sqrt( freq )
Refer to the book I mentioned earlier, or Lucene on-line documentation
for more information.=20

Now, that means, that looking for a single words "tire" without synonyms
will normalize this word with normalization factor 1.0
Let's suppose that its synonym "tyre" does not appear in the index, and
we search for both -  (tire OR tyre)
Surprisingly, now the result scores is much-much lower - only because of
the normalization factor that divides the query weight between two
words.
It is good for boolean operators (which we used here, so Lucene
mathematics is perfectly okay), but it does not goes well logically.

Unfortunately, a penalty factor would not help much, only somewhat lower
the effect.

3. Some ideas we had and the new, hopefully better, implementation=20

We started thinking what to do about that (one could say that we would
need to think ahead before implementation :-) and he would be right).
First, we decided that a penalty of 0.8 should be applied to the
synonyms, as they are not exactly the word the user specified in the
search string.
But the penalty is not enough to correct the situation.

Then we thought that the synonym is basically another occurrence of the
searched word, and we thought that if only the query is normalized using
IDFs of the searched words and not synonyms, the situation would look
better.
This would require two things:=20

First, we need to take only the IDF of the original word for
normalization, like in the query:
	(car OR auto OR automobile OR motorcar) AND (tire OR tyre)
Lucene implementation would SUM squared weights of all words and
synonyms, while we need to take only two original words (car AND tire),
and normalize all the synonyms using normalization factors of the
original words.
The idea is that this would give to the synonyms the weight of the
original word, which is what seems to be more natural if we think of the
synonyms like another occurrences of the original word.
This causes the result document score to do not change when we search
for the word with/without synonyms, and the synonyms do not appear in
the document -exactly what we wanted.
This is not hard to do using a variation of DisjunctionQuery, originally
invented by Chuck Williams and found in the Lucene users' list (please
correct me if I'm wrong).

Second, we need to calculate term frequency as something like (say, for
the (tire OR tyre) case )
	tf =3D sqrt( freq[tire] + 0.8 * freq[tyre] )
The idea is that if the word "tire" appeared 10 appearances of the
synonym "tyre" in a document will be counted like 8 appearances of the
original word "tire", and it will be multiplied on the normalized weight
of the original word "tire".
Note that this 0.8 normalization cannot be applied as the regular query
boost in Lucene, because the original query boost is used in the query
normalization and it compensates itself in a case of a single word, and
we do not need such behavior.
The problem with that is that the tf() function is calculated for each
frequency at the scoring time, and while we may square it back in the
parent scorer to get the original frequence and sum it, it will happen
for each single document returned in the result, which is unnecessary
additional work. Because of that we simply use a custom Similarity class
which returns the unaffected frequency value from tf() function, and a
special SynonymScorer which accumulates the frequences, and then
calculates tf() of their sum.

Additionally, we get a new problem - if we apply IDF of the original
word to the synonym, it would not work good in cases when the original
word is rare and the synonym is frequent. The documents found because of
synonyms may get unreasonable high scores because of high term frequency
of the synonym and high weight of the rare original word. Therefore we
need a compensation factor like the following
	tf =3D sqrt( freq[tire] + 0.8 * freq[tyre] * idfFactor )
where
	idfFactor =3D (IDF[synonym] * IDF[synonym]) / (IDF[word] *
IDF[word])
Note that we take relation of IDF squares here, From our experience,
relation of squares behave better here than simple relation of IDFs.

Now, this is something hard to do, as the term frequency calculation
occurs at the scoring time, long after the normalization, and cannot be
affected without changing TermQuery and TermScorer classes, and we did
not like the idea of touching them. What we did was playing with the
normalization factor at the time of query normalization in such a way
that the resulting synonym TermQuery's weight will incorporate the
necessary boosts which will be applied to tf() function result at the
time of scoring in exactly the same manner like if tf() function would
know about these factors.
Assuming we know that tf() function is a simple square root, we apply
the square root to both the synonym boost and the IDF squares relation.

Please take a look on the source code provided at the end of this mail.
It contains the necessary comments.
It was dififcult to extract a small subset of classes, because there are
many other dependancies and things unrelated to synonyms.
I cut a lot of code and change package naming (replaced all our packages
by org.apache.lucene.search for simplification) and only checked that it
compiles afterwards.=20
Feel free to to reuse the sources, just don't blame us if something
brokes in result :-)
	SynonymsQuery and SynonymsWeight classes - the central point of
the algorithm
	SynonymScorer - the scorer which implements the trick with tf()
function
	SynonymSimilarity - also for the trick with tf() function
It may look somewhat complicated, but in fact it is quite simple.=20

4. Conclusion

Synonyms search is difficult to do right, and there is hardly a perfect
implementation which would work correctly for all cases.=20
There are some pitfalls which were not mentioned in this e-mail at all,
like synonyms which are context-specific, or synonyms with weak relation
to the original word.
In practice, it's hardly possible to handle all the cases properly,
partly because a regular synonyms dictionary is a simple string map, and
it does not try to categorize or weight the synonyms.

We think that we got a relatively good solution for the synonyms search.
We like the search results we get now after implementing this idea.

We're looking forward to hear your opinions and other ideas.
I will be happy to answer your questions, either in this mailing list or
at my other email aschetinin_gmail_com (replace underscores).
=20
Thank you for your time and consideration,
=20
Andrew Schetinin

Appendix A. Sources

------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------

/*
 * Copyright (c) 2006 Entopia Ltd. All Rights Reserved.
 */
package org.apache.lucene.search;

import org.apache.lucene.search.*;
import org.apache.lucene.search.synonyms.SynonymScorer;
import org.apache.lucene.search.synonyms.SynonymSimilarity;
import org.apache.lucene.index.IndexReader;

import java.util.ArrayList;
import java.io.IOException;

/**
 * This query is purposed for working with synonyms of one word.
 * The general idea is:
 * 1. The query is normalized by the original word weight only, not
taking into account its synonyms.
 * 2. Weights of the synonyms are scaled (normalized) using normlization
factor of the original word,
 *    also applying some penalty (since synonyms incure uncertancy into
the search), and applying
 *    additional normalization that takes into account weight relation
between the original word
 *    and the synonym (an attempt to bring them to the same scale).
 * 3. When calculating the final score for full text search, we try to
interpret synonyms just like
 *    additional appearences of the original word, somewhat penalized
because synonyms incure
 *    uncertancy into searches. This is what the algorithm does, and
thus it requires a special
 *    scorer SynonymScorer and special similarity
AggregatableLuceneSimilarity.
 * Most important functions are: SynonymsWeight#sumOfSquaredWeights()
and SynonymsWeight#normalize().
 * Other important functions are: SynonymsWeight#scorer() and
SynonymsWeight#explain().
 * @author <a href=3D"mailto:aschetinin_entopia_com">Andrew S.</a>
 * @version $Revision: 1.2 $
 * Created by aschetinin on date Feb 5, 2006 and time 11:25:17 AM
 * Modified by: $Author: zivg $
 * Last updated on: $Date: 2006/02/21 10:41:45 $
 */
public class SynonymsQuery extends Query {

  /** List of QueryInfo objects - the subqueries with all related
information. */
  private ArrayList queries =3D new ArrayList();

  /**
   * Add a custom subquery with specified parameters.
   * This function is intended for using with special fields like
keywords or searchable.
   * @param query the disjunct added
   * @param boost Boost implied to this query scores. Not accounted
during normalization, but only applied to final scores
   * @param synonym Specifies if this query is a synonym or a word
itself
   */
  public void add( Query query, float boost, boolean synonym ) {
    queries.add( new QueryInfo( query, boost, synonym ) );
  }

  /** Returns count of sub-queries */
  public int getSubQueryCount() {
    return queries.size();
  }

  /**
   * The Weight for DisjunctionQuery's, used to normalize, score and
explain these queries
   * This class requires two passes in order to properly calculate
weights of its subqueries.
   * On the first pass, it normalizes the keyword field subquery.
   * On the second pass, it normalizes the content field subquery (this
ensures that
   * the ratios in parent queries are normalized to content field).
   */
  private class SynonymsWeight implements Weight {

    /** The searcher with which we are associated. */
    private Searcher searcher;

    /** The Weight's for our subqueries, in 1-1 correspondence with
disjuncts */
    private Weight[] weights;

    /** Sum of squared weights of the original word queries */
    private float sumWordWeights;

    /** Squared weights of the sub-queries */
    private float[] squareWeights;

    /** Count of original word queries */
    private int wordCount;

    /** Count of synonym queries */
    private int synonymCount;

    /** Construct the Weight for this Query searched by searcher.
        Recursively construct subquery weights. */
    public SynonymsWeight( Searcher searcher ) {
      this.searcher =3D searcher;
      weights =3D new Weight[queries.size()];
      for( int i =3D 0; i < queries.size(); i++ )
        weights[i] =3D ((QueryInfo) queries.get( i
)).getQuery().createWeight( searcher );
      squareWeights =3D new float[queries.size()];
    }

    /** Return our associated DisjunctionQuery */
    public Query getQuery() {
      return SynonymsQuery.this;
    }

    /** Return our boost */
    public float getValue() {
      return getBoost();
    }

    /** Compute the sub of squared weights of us applied to our
subqueries.  Used for normalization. */
    public float sumOfSquaredWeights() throws IOException {
      sumWordWeights =3D 0;
      wordCount =3D 0;
      synonymCount =3D 0;
      for( int i =3D 0; i < queries.size(); i++ ) {
        QueryInfo qi =3D (QueryInfo) queries.get( i );
        squareWeights[i] =3D weights[i].sumOfSquaredWeights();
        if( qi.getSynonym() ) {
          synonymCount++;
        } else {
          wordCount++;
          sumWordWeights +=3D weights[i].sumOfSquaredWeights();
        }
      }
      // We ignore IDFs of the synonyms and only use IDF of the original
word for normalization
      return sumWordWeights * getBoost() * getBoost();
    }

    /** Apply the computed normalization factor to our subqueries */
    public void normalize( float norm ) {
      norm *=3D getBoost();  // Incorporate the query boost (usually 1)
      for( int i =3D 0; i < queries.size(); i++ ) {
        QueryInfo qi =3D (QueryInfo) queries.get( i );
        // This is the synonym boost which has to affect the frequency
of synonyms.
        // For full text query:
        // Since tf() =3D sqrt( freq ), we have to take sqrt of the =
boost
here in order to get the desired effect.
        // sqrt( boost ) * tf() =3D sqrt( boost ) * sqrt( freq ) =3D =
sqrt(
boost * freq )
        float qnorm =3D (float) Math.sqrt( qi.getBoost() ) * norm;
        // For synonyms we have to perform two operations:
        if( qi.getSynonym() && (sumWordWeights !=3D 0.0f) &&
(squareWeights[i] !=3D 0.0f) ) {
          // First we multiply the normalization by the relation of
squared weights of the original word and the synonym.
          // This removes the effect of the synonym's IDF and replaces
it with the word IDF when calculating the score.
          // The normalization factor is multiplied by square of IDF,
and this is what we do here -
          // divide on the synonym IDF in order to remove its effect,
and multiply on the original word IDF
          // to add its effect instead of IDF of the synonym.
          qnorm *=3D (sumWordWeights / squareWeights[i]);
          // Second we apply the relation between IDFs of the synonym
and the orignial word to the term frequency.
          // Since tf() =3D sqrt( freq ), we have to take sqrt of the
relation here in order to get the desired effect,
          // exactly like with the boost earlier.
          qnorm *=3D (float) Math.sqrt( squareWeights[i] / =
sumWordWeights
);
          // P.S. For full text search these two equations may be easily
turned to one with square root,
          // but I decided to leave them unoptimized for the sake of
explainability.
        }
        weights[i].normalize( qnorm );
      }
    }

    /** Create the scorer used to score our associated DisjunctionQuery
*/
    public Scorer scorer( IndexReader reader ) throws IOException {
      Similarity sim =3D SynonymSimilarity.getInstance();
      SynonymScorer result =3D new SynonymScorer( sim );
      for( int i =3D 0; i < weights.length; i++ ) {
        Weight w =3D weights[i];
        Scorer subScorer =3D w.scorer( reader );
        if( subScorer =3D=3D null )
          return null;
        result.add( subScorer );
      }
      return result;
    }

    /** Explain the score we computed for doc */
    public Explanation explain( IndexReader reader, int doc ) throws
IOException {
      SynonymSimilarity similarity =3D SynonymSimilarity.getInstance();
      Explanation result =3D new Explanation();
      float max =3D 0.0f, sum =3D 0.0f;
      result.setDescription( " TF( sum( deTF(weight) )) of:" );
      int numSubQueries =3D weights.length, numSubQueriesHit =3D 0;
      for( int i =3D 0; i < weights.length; i++ ) {
        Explanation e =3D weights[i].explain( reader, doc );
        if( e.getValue() > 0 ) {
          QueryInfo qi =3D (QueryInfo) queries.get( i );
          if( qi.getSynonym() && (sumWordWeights !=3D 0.0f) &&
(squareWeights[i] !=3D 0.0f) ) {
            Explanation boostExpl =3D new Explanation( 0, "synonym
penalty, product of:" );
            float boost =3D qi.getBoost();
            if( qi.getBoost() !=3D 1 )
              boostExpl.addDetail( new Explanation( qi.getBoost(),
"configuration penalty" ) );
            if( squareWeights[i] !=3D 0.0f ) {
              boostExpl.addDetail( new Explanation( sumWordWeights /
squareWeights[i],
                  "IDF normalization: origWeigth^2=3D" + sumWordWeights =
+
" / synonymWeight^2=3D" + squareWeights[i] ) );
              boost *=3D (sumWordWeights / squareWeights[i]);
            }
            if( sumWordWeights !=3D 0.0f ) {
              boostExpl.addDetail( new Explanation( (float) Math.sqrt(
squareWeights[i] / sumWordWeights ),
                  "TF normalization: sqrt( synonymWeight^2=3D" +
squareWeights[i] + " / origWeigth^2=3D" + sumWordWeights + " )" ) );
              boost *=3D (float) Math.sqrt( squareWeights[i] /
sumWordWeights );
            }
            boostExpl.setValue( boost );
            e.addDetail( boostExpl );
          } else if( qi.getBoost() !=3D 1 ) { // should never happen =
since
the original word should always have 1.0 boost
            e.addDetail( new Explanation( qi.getBoost(), "field boost" )
);
          }
          numSubQueriesHit++;
          result.addDetail( e );
          float value =3D e.getValue();
          sum +=3D similarity.detf( value );
          max =3D Math.max( max, value );
        }
      }
      sum =3D similarity.tf( sum );
      result.setValue( sum );
      return result;
    }

  }  // end of DisjunctionWeight inner class

  /** Create the Weight used to score us */
  protected Weight createWeight( Searcher searcher ) {
    return new SynonymsWeight( searcher ); // ordered
  }

  /**
   * Optimize our representation and our subqueries representations
   * @param reader the IndexReader we query
   * @return an optimized copy of us (which may not be a copy if there
   *         is nothing to optimize)
   */
  public Query rewrite( IndexReader reader ) throws IOException {
    // this query can only be eliminated if it has one subquery without
any modifiers
    if( queries.size() =3D=3D 1 ) {
      QueryInfo qi =3D (QueryInfo) queries.get( 0 );
      if( qi.getBoost() =3D=3D 1 ) { // if they are default
        Query result =3D qi.getQuery().rewrite( reader );
        if( getBoost() !=3D 1.0f ) {
          if( result =3D=3D qi.getQuery() )
            result =3D (Query) result.clone();
          result.setBoost( getBoost() * result.getBoost() );
        }
        return result;
      }
    }
    // otherwise try optimizing the clauses
    SynonymsQuery clone =3D null;
    for( int i =3D 0; i < queries.size(); i++ ) {
      QueryInfo clause =3D (QueryInfo) queries.get( i );
      Query rewrite =3D clause.getQuery().rewrite( reader );
      if( rewrite !=3D clause.getQuery() ) {
        if( clone =3D=3D null )
          clone =3D (SynonymsQuery) this.clone();
        clone.queries.set( i, new QueryInfo( rewrite, clause.getBoost(),
clause.getSynonym() ) );
      }
    }
    if( clone !=3D null )
      return clone;
    else
      return this;
  }

  /* Create a shallow copy of us -- used in rewriting if necessary
   * @return a copy of us (but reuse, don't copy, our subqueries) */
  public Object clone() {
    SynonymsQuery clone =3D (SynonymsQuery) super.clone();
    clone.queries =3D (ArrayList) this.queries.clone();
    return clone;
  }

  /**
   * Prettyprint us.
   * @param field the field to which we are applied
   * @return a string that shows what we do, of the form "(disjunct1 |
   *         disjunct2 | ... | disjunctn)^boost"
   */
  public String toString( String field ) {
    StringBuffer buffer =3D new StringBuffer();
    buffer.append( "sum(" );
    for( int i =3D 0; i < queries.size(); i++ ) {
      QueryInfo qi =3D (QueryInfo) queries.get( i );
      Query subquery =3D qi.getQuery();
      //if( subquery instanceof TermQuery )       // wrap sub-bools in
parens
        buffer.append( subquery.toString( field ) );
      //else
      //  buffer.append( '(' ).append( subquery.toString( field )
).append( ')' );
      if( qi.getBoost() !=3D 1 )
        buffer.append( '*' ).append( qi.getBoost() );
      if( i !=3D queries.size() - 1 )
        buffer.append( ' ' );
    }
    buffer.append( ')' );
    if( getBoost() !=3D 1.0f ) {
      buffer.append( '^' ).append( getBoost() );
    }
    return buffer.toString();
  }

  /**
   * Return true iff we represent the same query as o
   * @param o another object
   * @return true iff o is a DisjunctionQuery with the same boost
   *         and the same subqueries, in the same order, as us
   */
  public boolean equals( Object o ) {
    if( !(o instanceof SynonymsQuery) )
      return false;
    SynonymsQuery other =3D (SynonymsQuery) o;
    if( this.queries.size() !=3D other.queries.size() )
      return false;
    for( int i =3D 0; i < this.queries.size(); ++i ) {
      if( !this.queries.get( i ).equals( other.queries.get( i ) ) )
        return false;
    }
    return (this.getBoost() =3D=3D other.getBoost());
  }

  /**
   * Compute a hash code for hashing us
   * @return the hash code
   */
  public int hashCode() {
    return Float.floatToIntBits( getBoost() ) ^ queries.hashCode();
  }

  /** Class containing the information about the specific sub-query */
  private static final class QueryInfo {
    /** Query object */
    private Query query =3D null;
    /** Boost implied to this query scores. Not accounted during
normalization, but only applied to final scores */
    private float boost =3D 0;
    /** Specifies if this query is a synonym or a word itself */
    private boolean synonym =3D false;
    /** Default constructor */
    public QueryInfo( Query query ) {
      this.query =3D query;
    }
    /** Constructor with all parameters */
    public QueryInfo( Query query, float boost, boolean synonym ) {
      this.query =3D query;
      this.boost =3D boost;
      this.synonym =3D synonym;
    }
    /** Returns the stored query object */
    public Query getQuery() {
      return query;
    }
    /** Returns if this query is a synonym or a word itself */
    public boolean getSynonym() {
      return synonym;
    }
    /** Returns the boost for this query */
    public float getBoost() {
      return boost;
    }
    /**
     * Return true iff we represent the same query as o
     * @param o another object
     * @return true iff o is a DisjunctionQuery with the same boost
     *         and the same subqueries, in the same order, as us
     */
    public boolean equals( Object o ) {
      if( !(o instanceof QueryInfo) )
        return false;
      QueryInfo other =3D (QueryInfo) o;
      return this.query.equals( other.query ) && (this.boost =3D=3D
other.boost)
          && (this.synonym =3D=3D other.synonym);
    }
  }

}
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------

/*
 * Copyright (c) 2006 Entopia Ltd. All Rights Reserved.
 */
package org.apache.lucene.search.synonyms;

import org.apache.lucene.search.Similarity;
import org.apache.lucene.search.Scorer;
import org.apache.lucene.search.Explanation;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Comparator;
import java.util.Arrays;

/**
 * Special scorer for SynonymsQuery query used in full text searches.
 * This scorer does a trick when summarizing the scores of its
sub-scorers:
 * it applies an opposite function from similarity's tf() function to
get the frequency value back,
 * and then summarizes the values, and re-applies similarity's tf()
function to the sum.
 * This way the scorer makes the sum of scores from several words
behaving like it was one word
 * occuring N times, where N is the sum of occurences of all searched
words.
 * @author <a href=3D"mailto:aschetinin@entopia.com">Andrew S.</a>
 * @version $Revision: 1.2 $
 * Created by aschetinin on date Feb 5, 2006 and time 11:25:17 AM
 * Modified by: $Author: zivg $
 * Last updated on: $Date: 2006/02/21 10:41:45 $
 */
public class SynonymScorer extends Scorer {

  private static final SynonymSimilarity similarity =3D
SynonymSimilarity.getInstance();

  /**
   * Creates a new instance of SynonymScorer
   * @param similarity -- not used since our definition involves neither
coord nor terms directly
   */
  public SynonymScorer( Similarity similarity ) {
    super( similarity );
  }

  protected float computeScore(float sum, float max, int coord) {
    return sum;
  }

  /** Look at the class explanation */
  protected float oldScore() throws IOException {
    float max =3D ((Scorer) subScorers.get(0)).score();
    float sum =3D similarity.detf( max );
    int numSubQueriesHit =3D 1;
    for (int i =3D 1, doc =3D ((Scorer) subScorers.get(0)).doc(); i <
        subScorers.size() && ((Scorer) subScorers.get(i)).doc() =3D=3D =
doc;
i++) {
      float sub =3D ((Scorer) subScorers.get(i)).score();
      sum +=3D similarity.detf( sub );
      max =3D Math.max( max, sub );
      numSubQueriesHit++;
    }
    sum =3D similarity.dotf( sum );
    return computeScore( sum, max, numSubQueriesHit );
  }

  /* The scorers for subqueries that have remaining docs, kept sorted
  by number of next doc. */
  protected ArrayList<Scorer> subScorers =3D new ArrayList<Scorer>();

  private boolean more =3D false;          // True iff there is a next
document
  private boolean firstTime =3D true;      // True iff next() has not =
yet
been called

  /* Fixed instance of the comparator to reuse */
  private static MaxDisjunctionClauseComparator subScorerComparator =3D
      new MaxDisjunctionClauseComparator();

  private float currentDocScore =3D -1F;

  /* Comparator to sort subScorers according to the document number of
  next document */
  private static class MaxDisjunctionClauseComparator implements
      Comparator /*<Scorer>*/ {

    /* Scorers have all been positioned at their next document
  already */
    public int compare(Object /*Scorer*/ s1, Object /*Scorer*/ s2) {
      if (!(s1 instanceof Scorer && s2 instanceof Scorer)) {
        return -1;
      } else {
        return ((Scorer) s1).doc() - ((Scorer) s2).doc();
      }
    }

    /* Compatible equality */
    public boolean equals(Scorer s1, Scorer s2) {
      return s1.doc() =3D=3D s2.doc();
    }
  }

  /**
   * Add the scorer for a subquery
   *
   * @param scorer the scorer of a subquery of our associated
   *               DisjunctionQuery
   */
  public void add(Scorer scorer) throws IOException {
    if (scorer.next()) {       // Initialize and retain only if it
produces docs
      subScorers.add(scorer);
      more =3D true;
    }
  }

  /**
   * Generate the next document matching our associated
   * DisjunctionQuery.
   *
   * @return true iff there is a next document
   */
  public boolean next() throws IOException {
    boolean retVal =3D oldNext();
    if (retVal)
      currentDocScore =3D oldScore();
    return retVal;
  }

  private boolean oldNext() throws IOException {
    if (!more) return false;
    if (firstTime) {
      init();
      return true;   // more would have been false if no subScorers had
any docs
    }
    // Increment all generators that generated the last doc and
incrementally re-sort.
    int lastdoc =3D subScorers.get( 0 ).doc();
    do {
      if( subScorers.get( 0 ).next() ) {
        Scorer s =3D subScorers.get( 0 );
        int snextdoc =3D s.doc(), i =3D 1;
        for( ; i < subScorers.size() && snextdoc > subScorers.get( i
).doc(); i++ )
          subScorers.set(i - 1, subScorers.get(i));
        if (i !=3D 1) subScorers.set(i - 1, s);
      } else {
        subScorers.remove(0);
        if (subScorers.isEmpty()) return (more =3D false);
      }
    } while( subScorers.get( 0 ).doc() =3D=3D lastdoc );
    return true;
  }

  /* First time initialization.  Sort subScorers. */
  private void init() {
    sortSubScorers();
    firstTime =3D false;
  }

  /* Sort subScorers in order of document number of next document to
   be generated */
  private void sortSubScorers() {
    Scorer[] sorted =3D subScorers.toArray( new =
Scorer[subScorers.size()]
);
    Arrays.sort(sorted, subScorerComparator);
    for (int i =3D 0; i < sorted.length; i++)
      subScorers.set( i, sorted[i] );
  }

  /**
   * Determine the current document number.  Initially invalid, until
   * {@link #next()} is called the first time.
   *
   * @return the document number of the currently generated document
   */
  public int doc() {
    return subScorers.get( 0 ).doc();
  }

  /**
   * Determine the current document score.  Initially invalid, until
   * {@link #next()} is called the first time.
   *
   * @return the score of the current generated document
   */
  public float score() throws IOException {
    return currentDocScore;
  }

  /**
   * Advance to the first document whose number is greater than or
   * equal to target.
   *
   * @param target the minimum number of the next desired document
   * @return true iff there is a document to be generated whose number
   *         is at least target
   */
  public boolean skipTo(int target) throws IOException {
    do {
      if (!next())
        return false;
    } while (target > doc());
    return true;
    // the following, original implementation, erroneously approves docs
that
    // match on only one subquery
    /*
       int i=3D0;
       while (i<subScorers.size()) {
           if (((Scorer)subScorers.get(i)).skipTo(target)) i++;
           else subScorers.remove(i);
       }
       if (i =3D=3D 0) return false;
       sortSubScorers();
       return true;
    */
  }

  /**
   * Explain a score that we computed.  UNSUPPORTED -- see
   * explanation capability in DisjunctionQuery.
   *
   * @param doc the number of a document we scored
   * @return the Explanation for our score
   */
  public Explanation explain(int doc) throws IOException {
    throw new UnsupportedOperationException();
  }


}


------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------
------------------------------------------------------------------------
----------------------------------------------------

/*
 * Copyright (c) 2006 Entopia Ltd. All Rights Reserved.
 */
package org.apache.lucene.search.synonyms;

import org.apache.lucene.search.DefaultSimilarity;

/**
 * Special type of similarity used for synonym scoring in full text
search.
 * It returns the term frequency without applying Lucene tf() function
(square root).
 * The tf() function is applied later by the scorer, after summarizing
all synonym scores.
 * @author <a href=3D"mailto:aschetinin@entopia.com">Andrew S.</a>
 * @version $Revision: 1.2 $
 * Created by aschetinin on date Feb 5, 2006 and time 11:25:17 AM
 * Modified by: $Author: zivg $
 * Last updated on: $Date: 2006/02/21 10:41:45 $
 */
public class SynonymSimilarity extends DefaultSimilarity {

  SynonymSimilarity() {
  }

  private static final SynonymSimilarity _instance =3D new
SynonymSimilarity();

  public static SynonymSimilarity getInstance() {
    return _instance;
  }

  /**
   * do the backward computation to what we did in tf()
   */
  public float detf( float tf ) {
    return tf * tf;
  }

  /**
   * we want unaltered term frequence value
   */
  public float tf( float freq ) {
    return freq;
  }

  /**
   * the original Lucene tf() function
   */
  public float dotf( float freq ) {
    return (float) Math.sqrt( freq );
  }

}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 14:09:23 2006
Return-Path: <java-user-return-19370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40972 invoked from network); 7 Mar 2006 14:09:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 14:09:15 -0000
Received: (qmail 32111 invoked by uid 500); 7 Mar 2006 14:09:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32087 invoked by uid 500); 7 Mar 2006 14:09:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32076 invoked by uid 99); 7 Mar 2006 14:09:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 06:09:09 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0DD2833C06E; Tue,  7 Mar 2006 09:05:19 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E1F0433CA76
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 09:05:15 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <4f2c7c9b0603070403r7578f633y@mail.gmail.com>
References: <4f2c7c9b0603070140o59e33575y@mail.gmail.com> <20060307101019.6D44910FB006@asf.osuosl.org> <4f2c7c9b0603070403r7578f633y@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <90AC44AC-9344-42DA-BB8B-C632971A0E2A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sub search
Date: Tue, 7 Mar 2006 09:05:13 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 7, 2006, at 7:03 AM, hu andy wrote:
> It uses cache mechanism. The detail is described in the book Lucene in
> Action. Maybe you can test it to decide which is faster

Major caveat here is that the caching QueryFilter employs really only  
works if you use the same instance of QueryFilter for successive  
searches using the same IndexReader (via IndexSearcher) instance.  If  
you're simply using a previous query to AND the current query and the  
previous query is not something that will be reused later, the  
BooleanQuery AND option is what I recommend.

	Erik


>
> 2006/3/7, anton@orbita1.ru <anton@orbita1.ru>:
>>
>> As far as I understood that will make new search throughout the  
>> index. But
>> what the difference between that and search described below:
>>
>> TermQuery termQuery = new TermQuery(....
>> BooleanQuery bq = ..
>> bq.add(termQuery,true,false);
>> bq.add(query,true,false);
>> hits = Searcher.search(bq,queryFilter);
>>
>>
>>
>> -----Original Message-----
>> From: hu andy [mailto:andyhugb@gmail.com]
>> Sent: Tuesday, March 07, 2006 12:40 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: sub search
>> Importance: High
>>
>> 2006/3/7, Anton Potehin <anton@orbita1.ru>:
>>>
>>> Is it possible to make search among results of previous search?
>>> For example: I made search:
>>> Searcher searcher =...
>>> Query query = ...
>>> Hits hits = ....
>>> hits = Searcher.search(query);
>>> After it I want to not make a new search, I want to make search  
>>> among
>>> found results...
>>>
>>> You can use like this
>>
>> TermQuery termQuery = new TermQuery(....
>> Filter  queryFilter = new QueryFilter(temQuery);
>> hits = Searcher.search(query,queryFilter);
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 14:11:09 2006
Return-Path: <java-user-return-19371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41855 invoked from network); 7 Mar 2006 14:10:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 14:10:29 -0000
Received: (qmail 35429 invoked by uid 500); 7 Mar 2006 14:10:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35224 invoked by uid 500); 7 Mar 2006 14:10:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35213 invoked by uid 99); 7 Mar 2006 14:10:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 06:10:13 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k27E8U67003539
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 15:08:30 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.2.0/275]); Tue, 07 Mar 2006 15:08:29 +0100
Message-ID: <440D93DD.6000100@isb-sib.ch>
Date: Tue, 07 Mar 2006 15:08:29 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Get only count
References: <41D8E340E5045F4ABA553E4524E3D3792DFEE7@orbitsoft.orbitscripts>
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792DFEE7@orbitsoft.orbitscripts>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Anton Potehin wrote:
> Now I create new search for get number of results. For example:
> 
> IndexSearcher is = ...
> 
> Query q = ... 
> 
> numberOfResults = Is.search(q).length();
> 
> Can I accelerate this example ? And how ?

Perhaps something like:

class CountingHitCollector
   implements HitCollector
{
   public int count;

   public void collect(int doc, float score)
   {
     if (score > 0.0f)
       ++count;
   }
}

...

CountingHitCollector c = new CountingHitCollector();
searcher.search(query, c);
int hits = c.count;


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 14:35:30 2006
Return-Path: <java-user-return-19372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59158 invoked from network); 7 Mar 2006 14:35:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 14:35:29 -0000
Received: (qmail 85031 invoked by uid 500); 7 Mar 2006 14:35:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85010 invoked by uid 500); 7 Mar 2006 14:35:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84999 invoked by uid 99); 7 Mar 2006 14:35:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 06:35:23 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k27EXe67010353
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 15:33:40 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.2.0/275]); Tue, 07 Mar 2006 15:33:39 +0100
Message-ID: <440D99C3.2050907@isb-sib.ch>
Date: Tue, 07 Mar 2006 15:33:39 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: sub search
References: <41D8E340E5045F4ABA553E4524E3D3792DFE48@orbitsoft.orbitscripts>
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792DFE48@orbitsoft.orbitscripts>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Anton Potehin wrote:
> After it I want to not make a new search, 
 > I want to make search among found results...

Perhaps something like this would work:

final BitSet results = toBitSet(Hits);
searcher.search(newQuery, new Filter() {
   public BitSet bits(IndexReader reader) {
     return results;
   }
});


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 14:36:47 2006
Return-Path: <java-user-return-19373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60075 invoked from network); 7 Mar 2006 14:36:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 14:36:46 -0000
Received: (qmail 88386 invoked by uid 500); 7 Mar 2006 14:36:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88093 invoked by uid 500); 7 Mar 2006 14:36:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88082 invoked by uid 99); 7 Mar 2006 14:36:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [130.159.196.96] (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 06:36:38 -0800
Received: from [130.159.185.52] (ws-murat.cis.strath.ac.uk [130.159.185.52])
	by smtphost.cis.strath.ac.uk (8.13.4/8.13.3/Debian-6) with ESMTP id k27EZcrI010231
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 14:35:38 GMT
Message-ID: <440D9A3A.1000107@cis.strath.ac.uk>
Date: Tue, 07 Mar 2006 14:35:38 +0000
From: Murat Yakici <Murat.Yakici@cis.strath.ac.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Unreported IOException received for SpanTermQuery class
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=0.061, required 6, autolearn=disabled, AWL 0.06)
X-CIS-MailScanner-From: murat@cis.strath.ac.uk
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I was building the Lucene 1.9.1 source code. I have received the 
following error msg:

"Unreported exceptions: java.io.IOException must be caught or declared 
to be thrown. " in class SpanOrQuery, line number 154.

Any ideas how to resolve it?

Regards,
Murat

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:17:10 2006
Return-Path: <java-user-return-19374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90088 invoked from network); 7 Mar 2006 15:17:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:17:09 -0000
Received: (qmail 7350 invoked by uid 500); 7 Mar 2006 15:17:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7324 invoked by uid 500); 7 Mar 2006 15:17:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7308 invoked by uid 99); 7 Mar 2006 15:17:02 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:17:00 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FGdsQ-0005ko-5V
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 18:13:30 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: Get only count
Date: Tue, 7 Mar 2006 18:13:14 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcZB8N102Bacv87RTrK99F/p56zbgAACGOBA
In-Reply-To: <440D93DD.6000100@isb-sib.ch>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

While you added "if (score > 0.0f)". Javadoc contain lines
"HitCollector.collect(int,float) is called for every non-zero scoring".

-----Original Message-----
From: Eric Jain [mailto:Eric.Jain@isb-sib.ch] 
Sent: Tuesday, March 07, 2006 5:08 PM
To: java-user@lucene.apache.org
Subject: Re: Get only count
Importance: High

Anton Potehin wrote:
> Now I create new search for get number of results. For example:
> 
> IndexSearcher is = ...
> 
> Query q = ... 
> 
> numberOfResults = Is.search(q).length();
> 
> Can I accelerate this example ? And how ?

Perhaps something like:

class CountingHitCollector
   implements HitCollector
{
   public int count;

   public void collect(int doc, float score)
   {
     if (score > 0.0f)
       ++count;
   }
}

...

CountingHitCollector c = new CountingHitCollector();
searcher.search(query, c);
int hits = c.count;


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:17:27 2006
Return-Path: <java-user-return-19375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90248 invoked from network); 7 Mar 2006 15:17:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:17:27 -0000
Received: (qmail 8944 invoked by uid 500); 7 Mar 2006 15:17:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8908 invoked by uid 500); 7 Mar 2006 15:17:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8897 invoked by uid 99); 7 Mar 2006 15:17:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:17:18 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.3/8.13.3) with ESMTP id k27FGQVQ074239
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 16:16:27 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Lucene version 1.9
Date: Tue, 7 Mar 2006 16:16:25 +0100
User-Agent: KMail/1.8.2
References: <AD97D5F23B201C448EAB13B4F6DA6A421BF38B@EPLUXSEX01.ep.parl.union.eu>
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A421BF38B@EPLUXSEX01.ep.parl.union.eu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603071616.26097.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thomas,

On Tuesday 07 March 2006 13:57, WATHELET Thomas wrote:
> I've created an index with the Lucene version 1.9 and when I try to open
> this index I have always this error mesage:
> java.lang.ArrayIndexOutOfBoundsException.
> if I use an index built with the lucene version 1.4.3 it's working.
> Wath's wrong?

Iirc this was fixed in 1.9.1:
http://lucene.apache.org/java/docs/index.html

Regards,
Paul Elschot
 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:21:52 2006
Return-Path: <java-user-return-19376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93109 invoked from network); 7 Mar 2006 15:21:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:21:52 -0000
Received: (qmail 21711 invoked by uid 500); 7 Mar 2006 15:21:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21666 invoked by uid 500); 7 Mar 2006 15:21:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21640 invoked by uid 99); 7 Mar 2006 15:21:44 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of yseeley@gmail.com designates 64.233.182.196 as permitted sender)
Received: from [64.233.182.196] (HELO nproxy.gmail.com) (64.233.182.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:21:44 -0800
Received: by nproxy.gmail.com with SMTP id y25so1119527nfb
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 07:20:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=BDmMaSYtEQmwzaRcLANMpnc2vPEQldtz9vcc2tJGnHUZMqyI/tXWBKh2HQIFsdmIliPuKjNHWVlnDmwZjYTsseBFggopwheiKk9e9Ifmu77cmTifQOixOn/jYfob0ZCuD6SCLG8lbejUw5FxrDkQVwVHEZCxSlTz1yymstAY+PQ=
Received: by 10.48.248.3 with SMTP id v3mr3029335nfh;
        Tue, 07 Mar 2006 07:20:22 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Tue, 7 Mar 2006 07:20:22 -0800 (PST)
Message-ID: <c68e39170603070720o6fdd8679r199b4d74ca6db0d1@mail.gmail.com>
Date: Tue, 7 Mar 2006 10:20:22 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Get only count
In-Reply-To: <440da3f0.47e0948c.026f.ffffb13fSMTPIN_ADDED@mx.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <440D93DD.6000100@isb-sib.ch>
	 <440da3f0.47e0948c.026f.ffffb13fSMTPIN_ADDED@mx.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> While you added "if (score > 0.0f)". Javadoc contain lines
> "HitCollector.collect(int,float) is called for every non-zero scoring".

That should probably read "is called for every matching document".

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:30:11 2006
Return-Path: <java-user-return-19377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98937 invoked from network); 7 Mar 2006 15:30:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:30:10 -0000
Received: (qmail 38263 invoked by uid 500); 7 Mar 2006 15:30:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38242 invoked by uid 500); 7 Mar 2006 15:30:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38231 invoked by uid 99); 7 Mar 2006 15:30:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [194.109.24.29] (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:30:04 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.13.3/8.13.3) with ESMTP id k27FTBY0082460
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 16:29:12 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Unreported IOException received for SpanTermQuery class
Date: Tue, 7 Mar 2006 16:29:10 +0100
User-Agent: KMail/1.8.2
References: <440D9A3A.1000107@cis.strath.ac.uk>
In-Reply-To: <440D9A3A.1000107@cis.strath.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603071629.10224.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 07 March 2006 15:35, Murat Yakici wrote:
> Hi,
> I was building the Lucene 1.9.1 source code. I have received the 
> following error msg:
> 
> "Unreported exceptions: java.io.IOException must be caught or declared 
> to be thrown. " in class SpanOrQuery, line number 154.
> 
> Any ideas how to resolve it?

Which compiler do you use?
My guess would be gcj.
The indicated line is in an initialisation block for an anonymous
inline subclass, and gcj's support for such constructs was not
complete the last time I tried.

Regards,
Paul Elschot.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:30:22 2006
Return-Path: <java-user-return-19378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99142 invoked from network); 7 Mar 2006 15:30:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:30:21 -0000
Received: (qmail 39698 invoked by uid 500); 7 Mar 2006 15:30:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39675 invoked by uid 500); 7 Mar 2006 15:30:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39664 invoked by uid 99); 7 Mar 2006 15:30:15 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:30:15 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FGe8I-0005nf-1j
	for java-user@lucene.apache.org; Tue, 07 Mar 2006 18:29:54 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: Get only count
Date: Tue, 7 Mar 2006 18:29:38 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcZB+tp+Nqf51ImqRcOWwU7SUWKtvQAAMRow
In-Reply-To: <c68e39170603070720o6fdd8679r199b4d74ca6db0d1@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Can have matching document score equals zero ? 
-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com] 
Sent: Tuesday, March 07, 2006 6:20 PM
To: java-user@lucene.apache.org
Subject: Re: Get only count
Importance: High

On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> While you added "if (score > 0.0f)". Javadoc contain lines
> "HitCollector.collect(int,float) is called for every non-zero scoring".

That should probably read "is called for every matching document".

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:34:31 2006
Return-Path: <java-user-return-19379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1789 invoked from network); 7 Mar 2006 15:34:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:34:31 -0000
Received: (qmail 48306 invoked by uid 500); 7 Mar 2006 15:34:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48281 invoked by uid 500); 7 Mar 2006 15:34:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48270 invoked by uid 99); 7 Mar 2006 15:34:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of lucenenator@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:34:25 -0800
Received: by xproxy.gmail.com with SMTP id s19so992008wxc
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 07:33:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=jqezqEvWwTRis7jzUi7NLGtJDGBvv4fFHryZOG2TVXGbZomOd1JiYZK5tUoBiiDYHVKY5h768ucg9mZ5bkR0OLkVcub5Xxq/NLtb/Ag5DDY2tzxneeMHl1uI3jjEDQK7hzoVUYcIlhNd2H5KSH3EHsZprbHs6TMxXCtmwzXOEq0=
Received: by 10.70.96.8 with SMTP id t8mr5873347wxb;
        Tue, 07 Mar 2006 07:33:04 -0800 (PST)
Received: by 10.70.129.3 with HTTP; Tue, 7 Mar 2006 07:33:04 -0800 (PST)
Message-ID: <8d3f78d30603070733i3af7f0ccn4435d529083bb02a@mail.gmail.com>
Date: Tue, 7 Mar 2006 09:33:04 -0600
From: "Apache Lucene" <lucenenator@gmail.com>
To: java-user@lucene.apache.org
Subject: indexing problems
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7365_32261224.1141745584645"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7365_32261224.1141745584645
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
       I am using Lucene 1.9.1 to index the files. The index writer created
the following files
(1) segment file "segments"
(2) deletable file "deletable"
(3) compound file "cfs"

None of the other files like term info, frequency..etc were created. Is
there something obvious, I am doing wrong?

thanks,
lucenator

------=_Part_7365_32261224.1141745584645--

From java-user-return-19380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:35:34 2006
Return-Path: <java-user-return-19380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2619 invoked from network); 7 Mar 2006 15:35:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:35:28 -0000
Received: (qmail 50766 invoked by uid 500); 7 Mar 2006 15:35:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50732 invoked by uid 500); 7 Mar 2006 15:35:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50715 invoked by uid 99); 7 Mar 2006 15:35:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [130.159.196.96] (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:35:18 -0800
Received: from [130.159.185.52] (ws-murat.cis.strath.ac.uk [130.159.185.52])
	by smtphost.cis.strath.ac.uk (8.13.4/8.13.3/Debian-6) with ESMTP id k27FYrpl018561
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 15:34:53 GMT
Message-ID: <440DA81D.3070604@cis.strath.ac.uk>
Date: Tue, 07 Mar 2006 15:34:53 +0000
From: Murat Yakici <Murat.Yakici@cis.strath.ac.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Unreported IOException received for SpanTermQuery class
References: <440D9A3A.1000107@cis.strath.ac.uk> <200603071629.10224.paul.elschot@xs4all.nl>
In-Reply-To: <200603071629.10224.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=0.061, required 6, autolearn=disabled, AWL 0.06)
X-CIS-MailScanner-From: murat@cis.strath.ac.uk
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The compiler is Sun Java 1.4.2_08.

Paul Elschot wrote:

> On Tuesday 07 March 2006 15:35, Murat Yakici wrote:
> 
>>Hi,
>>I was building the Lucene 1.9.1 source code. I have received the 
>>following error msg:
>>
>>"Unreported exceptions: java.io.IOException must be caught or declared 
>>to be thrown. " in class SpanOrQuery, line number 154.
>>
>>Any ideas how to resolve it?
> 
> 
> Which compiler do you use?
> My guess would be gcj.
> The indicated line is in an initialisation block for an anonymous
> inline subclass, and gcj's support for such constructs was not
> complete the last time I tried.
> 
> Regards,
> Paul Elschot.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:37:44 2006
Return-Path: <java-user-return-19381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4936 invoked from network); 7 Mar 2006 15:37:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:37:44 -0000
Received: (qmail 55904 invoked by uid 500); 7 Mar 2006 15:37:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55601 invoked by uid 500); 7 Mar 2006 15:37:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55590 invoked by uid 99); 7 Mar 2006 15:37:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:37:38 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.197 as permitted sender)
Received: from [64.233.182.197] (HELO nproxy.gmail.com) (64.233.182.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:37:35 -0800
Received: by nproxy.gmail.com with SMTP id y25so1122851nfb
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 07:37:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=o0yDVlH14fvwurSCGByz99uD67wFwNgcgxa7RIfCCi9GNxmnpFUz4ELCdey/FSMeOIuMyIXCgZOGzKb/LIvaDLnSwIkKE3kRjuBf/o2+gei1ZdDlyZvrNAQCxAOrymelQGmkdYxVtg2UUmlX/mXgNSYw3vv3fH4VB7uNoZB2Gpk=
Received: by 10.48.142.1 with SMTP id p1mr3042324nfd;
        Tue, 07 Mar 2006 07:37:13 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Tue, 7 Mar 2006 07:37:13 -0800 (PST)
Message-ID: <c68e39170603070737m5d8d0d0ak4e4a9b456f030caa@mail.gmail.com>
Date: Tue, 7 Mar 2006 10:37:13 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing problems
In-Reply-To: <8d3f78d30603070733i3af7f0ccn4435d529083bb02a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8d3f78d30603070733i3af7f0ccn4435d529083bb02a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You are using the compound file format (the default since 1.4) and the
.cfs file contains all those individual parts.

-Yonik

On 3/7/06, Apache Lucene <lucenenator@gmail.com> wrote:
> Hi,
>        I am using Lucene 1.9.1 to index the files. The index writer creat=
ed
> the following files
> (1) segment file "segments"
> (2) deletable file "deletable"
> (3) compound file "cfs"
>
> None of the other files like term info, frequency..etc were created. Is
> there something obvious, I am doing wrong?
>
> thanks,
> lucenator
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:41:35 2006
Return-Path: <java-user-return-19382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10053 invoked from network); 7 Mar 2006 15:41:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:41:34 -0000
Received: (qmail 68901 invoked by uid 500); 7 Mar 2006 15:41:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68846 invoked by uid 500); 7 Mar 2006 15:41:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68785 invoked by uid 99); 7 Mar 2006 15:41:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:41:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.194 as permitted sender)
Received: from [64.233.182.194] (HELO nproxy.gmail.com) (64.233.182.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:41:30 -0800
Received: by nproxy.gmail.com with SMTP id o60so1125142nfa
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 07:41:09 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Rc9djZgVBkxAcI1joPA5I29UWaBba8fYlNK5as23VmyfsXq7M3X+R/g4D1SQmA9tpAKhH/PJFnzHXTowWuHadg1eZlGSTyXIUUtHEO/tFIFEWkknkcpDYT+gOGURAxt0QQYsxwPAVQNHcA9cCJ4GUBKenraTVND/7VDGelPbEZo=
Received: by 10.49.42.13 with SMTP id u13mr3037610nfj;
        Tue, 07 Mar 2006 07:34:33 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Tue, 7 Mar 2006 07:34:33 -0800 (PST)
Message-ID: <c68e39170603070734w1b6f2bbal375c230b226ba95a@mail.gmail.com>
Date: Tue, 7 Mar 2006 10:34:33 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Get only count
In-Reply-To: <440da709.7b481250.4810.3765SMTPIN_ADDED@mx.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <c68e39170603070720o6fdd8679r199b4d74ca6db0d1@mail.gmail.com>
	 <440da709.7b481250.4810.3765SMTPIN_ADDED@mx.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> Can have matching document score equals zero ?

Yes.  Scorers don't generally use "score" to determine if a document
matched the query.
Scores <=3D 0.0f are currently screened out at the top level search
functions, but not when you use a HitCollector yourself.

-Yonik


> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Tuesday, March 07, 2006 6:20 PM
> To: java-user@lucene.apache.org
> Subject: Re: Get only count
> Importance: High
>
> On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> > While you added "if (score > 0.0f)". Javadoc contain lines
> > "HitCollector.collect(int,float) is called for every non-zero scoring".
>
> That should probably read "is called for every matching document".
>
> -Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:42:15 2006
Return-Path: <java-user-return-19383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10906 invoked from network); 7 Mar 2006 15:42:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:42:11 -0000
Received: (qmail 72175 invoked by uid 500); 7 Mar 2006 15:42:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72107 invoked by uid 500); 7 Mar 2006 15:42:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72086 invoked by uid 99); 7 Mar 2006 15:42:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:42:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenenator@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO xproxy.gmail.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:42:01 -0800
Received: by xproxy.gmail.com with SMTP id s17so999332wxc
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 07:41:41 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qAszJzgG9PBgIVdTI3vWVymlg1KcIDYKn8UE92y9pl2aHzMq6h7a2HyhQcZn3Tcsy/j5OZ4avLrIYMc1y2+2uM1O6IQCTAYPRuihRYnZ4cUx6kmj/4JN3xSbL1ow+IlVvSNjyT/auBhO0z9PFGfD8VNXaVj/0uXY4JOoGbBJ1z0=
Received: by 10.70.63.1 with SMTP id l1mr9109086wxa;
        Tue, 07 Mar 2006 07:41:40 -0800 (PST)
Received: by 10.70.129.3 with HTTP; Tue, 7 Mar 2006 07:41:40 -0800 (PST)
Message-ID: <8d3f78d30603070741l528ab78dq9ffdfe20665a664@mail.gmail.com>
Date: Tue, 7 Mar 2006 09:41:40 -0600
From: "Apache Lucene" <lucenenator@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing problems
In-Reply-To: <c68e39170603070737m5d8d0d0ak4e4a9b456f030caa@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7557_22157348.1141746100917"
References: <8d3f78d30603070733i3af7f0ccn4435d529083bb02a@mail.gmail.com>
	 <c68e39170603070737m5d8d0d0ak4e4a9b456f030caa@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7557_22157348.1141746100917
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Is it advisable to use compound file format? or should I revert it back to
simple file format? How do I revert it back?

thanks,

lucenenator


On 3/7/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> You are using the compound file format (the default since 1.4) and the
> .cfs file contains all those individual parts.
>
> -Yonik
>
> On 3/7/06, Apache Lucene <lucenenator@gmail.com> wrote:
> > Hi,
> >        I am using Lucene 1.9.1 to index the files. The index writer
> created
> > the following files
> > (1) segment file "segments"
> > (2) deletable file "deletable"
> > (3) compound file "cfs"
> >
> > None of the other files like term info, frequency..etc were created. Is
> > there something obvious, I am doing wrong?
> >
> > thanks,
> > lucenator
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_7557_22157348.1141746100917--

From java-user-return-19384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:52:23 2006
Return-Path: <java-user-return-19384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21345 invoked from network); 7 Mar 2006 15:52:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:52:16 -0000
Received: (qmail 16898 invoked by uid 500); 7 Mar 2006 15:52:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16877 invoked by uid 500); 7 Mar 2006 15:52:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16866 invoked by uid 99); 7 Mar 2006 15:52:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:52:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.30] (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:52:08 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.13.3/8.13.3) with ESMTP id k27FpiWE085877
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 16:51:44 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Unreported IOException received for SpanTermQuery class
Date: Tue, 7 Mar 2006 16:50:34 +0100
User-Agent: KMail/1.8.2
References: <440D9A3A.1000107@cis.strath.ac.uk> <200603071629.10224.paul.elschot@xs4all.nl> <440DA81D.3070604@cis.strath.ac.uk>
In-Reply-To: <440DA81D.3070604@cis.strath.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603071650.34237.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 07 March 2006 16:34, Murat Yakici wrote:
> The compiler is Sun Java 1.4.2_08.

I'm using sun javac 1.5.0_01 and this compiles the current trunk without
any problems, so I cannot reproduce the error msg.
The common-build.xml file uses source and target 1.4 for javac,
(in the compile macro) and I can't think of anything else that might
cause the error msg.

Btw, this message title mentions SpanTermQuery but below it sais
SpanOrQuery.

Regards,
Paul Elschot

 
> Paul Elschot wrote:
> 
> > On Tuesday 07 March 2006 15:35, Murat Yakici wrote:
> > 
> >>Hi,
> >>I was building the Lucene 1.9.1 source code. I have received the 
> >>following error msg:
> >>
> >>"Unreported exceptions: java.io.IOException must be caught or declared 
> >>to be thrown. " in class SpanOrQuery, line number 154.
> >>
> >>Any ideas how to resolve it?
> > 
> > 
> > Which compiler do you use?
> > My guess would be gcj.
> > The indicated line is in an initialisation block for an anonymous
> > inline subclass, and gcj's support for such constructs was not
> > complete the last time I tried.
> > 
> > Regards,
> > Paul Elschot.
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 15:55:25 2006
Return-Path: <java-user-return-19385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23889 invoked from network); 7 Mar 2006 15:55:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 15:55:24 -0000
Received: (qmail 25818 invoked by uid 500); 7 Mar 2006 15:55:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25786 invoked by uid 500); 7 Mar 2006 15:55:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25775 invoked by uid 99); 7 Mar 2006 15:55:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:55:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:55:17 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E853A33CF1B; Tue,  7 Mar 2006 10:54:56 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 36E1233CF1B
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 10:54:55 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <8d3f78d30603070741l528ab78dq9ffdfe20665a664@mail.gmail.com>
References: <8d3f78d30603070733i3af7f0ccn4435d529083bb02a@mail.gmail.com> <c68e39170603070737m5d8d0d0ak4e4a9b456f030caa@mail.gmail.com> <8d3f78d30603070741l528ab78dq9ffdfe20665a664@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2564BF49-55F4-422D-A8A0-C065F7A7EE58@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: indexing problems
Date: Tue, 7 Mar 2006 10:54:50 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 7, 2006, at 10:41 AM, Apache Lucene wrote:

> Is it advisable to use compound file format? or should I revert it  
> back to
> simple file format? How do I revert it back?

There is a setter on IndexWriter to set it back if you like.   The  
compound format avoids the issues that cropped up a lot in the past  
with greatly segmented indexes eating up all available file handles.

How you set it really depends.  Try both and see.

> lucenenator

haha!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 16:00:26 2006
Return-Path: <java-user-return-19386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27040 invoked from network); 7 Mar 2006 16:00:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 16:00:00 -0000
Received: (qmail 38640 invoked by uid 500); 7 Mar 2006 15:59:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38618 invoked by uid 500); 7 Mar 2006 15:59:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38607 invoked by uid 99); 7 Mar 2006 15:59:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:59:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.159.196.96] (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 07:59:13 -0800
Received: from [130.159.185.52] (ws-murat.cis.strath.ac.uk [130.159.185.52])
	by smtphost.cis.strath.ac.uk (8.13.4/8.13.3/Debian-6) with ESMTP id k27FwnT5022124
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 15:58:49 GMT
Message-ID: <440DADB9.9080207@cis.strath.ac.uk>
Date: Tue, 07 Mar 2006 15:58:49 +0000
From: Murat Yakici <Murat.Yakici@cis.strath.ac.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Unreported IOException received for SpanTermQuery class
References: <440D9A3A.1000107@cis.strath.ac.uk> <200603071629.10224.paul.elschot@xs4all.nl> <440DA81D.3070604@cis.strath.ac.uk> <200603071650.34237.paul.elschot@xs4all.nl>
In-Reply-To: <200603071650.34237.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=0.06, required 6, autolearn=disabled, AWL 0.06)
X-CIS-MailScanner-From: murat@cis.strath.ac.uk
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yeah, I know, sorry for that.
The reason is, first I tried to solve the problem by wrapping the line 
with a try-catch block. Then, the next build gave the same error for 
SpanTermQuery and some other classes.

I will try to compile that on 1.5.0_01.

Thanks,
Murat

Paul Elschot wrote:

> On Tuesday 07 March 2006 16:34, Murat Yakici wrote:
> 
>>The compiler is Sun Java 1.4.2_08.
> 
> 
> I'm using sun javac 1.5.0_01 and this compiles the current trunk without
> any problems, so I cannot reproduce the error msg.
> The common-build.xml file uses source and target 1.4 for javac,
> (in the compile macro) and I can't think of anything else that might
> cause the error msg.
> 
> Btw, this message title mentions SpanTermQuery but below it sais
> SpanOrQuery.
> 
> Regards,
> Paul Elschot
> 
>  
> 
>>Paul Elschot wrote:
>>
>>
>>>On Tuesday 07 March 2006 15:35, Murat Yakici wrote:
>>>
>>>
>>>>Hi,
>>>>I was building the Lucene 1.9.1 source code. I have received the 
>>>>following error msg:
>>>>
>>>>"Unreported exceptions: java.io.IOException must be caught or declared 
>>>>to be thrown. " in class SpanOrQuery, line number 154.
>>>>
>>>>Any ideas how to resolve it?
>>>
>>>
>>>Which compiler do you use?
>>>My guess would be gcj.
>>>The indicated line is in an initialisation block for an anonymous
>>>inline subclass, and gcj's support for such constructs was not
>>>complete the last time I tried.
>>>
>>>Regards,
>>>Paul Elschot.
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 16:08:09 2006
Return-Path: <java-user-return-19387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34330 invoked from network); 7 Mar 2006 16:08:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 16:08:08 -0000
Received: (qmail 58152 invoked by uid 500); 7 Mar 2006 16:08:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58036 invoked by uid 500); 7 Mar 2006 16:08:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58025 invoked by uid 99); 7 Mar 2006 16:08:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:08:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:08:00 -0800
Received: from [193.178.208.6] (helo=[43.207.33.107])
	by mrelayeu.kundenserver.de (node=mrelayeu0) with ESMTP (Nemesis),
	id 0MKwh2-1FGeil2uml-0008D2; Tue, 07 Mar 2006 17:07:35 +0100
Message-ID: <440DAFC6.8080402@webdynamite.com>
Date: Tue, 07 Mar 2006 17:07:34 +0100
From: Rainer Dollinger <dollinger@webdynamite.com>
Reply-To:  java-user@lucene.apache.org
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Classification / Change Scoring during search
X-Enigmail-Version: 0.93.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:967192a2a2a2199bdce51f05cb79d10d
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I want to use Lucene to get similar documents based on a Boolean Query
(similar metadata with OR clauses) and ratings of the user for already
searched documents.

I intend to implement a Naive Bayes classifier to categorize documents
into liked/disliked classes and would do this by using a HitCollector class.

class ClassifyingHitCollector implements HitCollector {

  public void collect(int doc, float score) {
    // classify document

    // if document is liked -> add to hit collection
  }

}

...

ClassifyingHitCollector c = new ClassifyingHitCollector ();
searcher.search(query, c);


This means that the calculation of the bayes classification has to be
calculated for each matching document. Is there a possibility to do this
(during search) for only the n top matching documents or does this mean
to use the Hits returning searcher.search(..) overload and do the
calculation on the n top matching documents, after the Lucene search?

Is there another possibility to change the scoring of the search(..)
method that is more efficient?

TIA,
Rainer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 16:30:32 2006
Return-Path: <java-user-return-19388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50608 invoked from network); 7 Mar 2006 16:30:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 16:30:30 -0000
Received: (qmail 4712 invoked by uid 500); 7 Mar 2006 16:30:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4555 invoked by uid 500); 7 Mar 2006 16:30:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4544 invoked by uid 99); 7 Mar 2006 16:30:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:30:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenenator@gmail.com designates 66.249.82.202 as permitted sender)
Received: from [66.249.82.202] (HELO xproxy.gmail.com) (66.249.82.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:30:18 -0800
Received: by xproxy.gmail.com with SMTP id r21so1007339wxc
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 08:29:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=WoX0+T7QjtSmC8BmS8hgWI8+njrm+c2xLyOotgFJnc9QOeZ0B2NxIexMoy2o00XyCleUbTxFXnnlFTMECnvyMOd5CWMec/g9waOGJwHouIACuSlYmyreSxPp5qI+O3FnMDZPXMRjtYYpXT9Goou61jG5o4kapC9N26G6bML6Ihc=
Received: by 10.70.71.11 with SMTP id t11mr1320902wxa;
        Tue, 07 Mar 2006 08:29:57 -0800 (PST)
Received: by 10.70.129.3 with HTTP; Tue, 7 Mar 2006 08:29:57 -0800 (PST)
Message-ID: <8d3f78d30603070829k37598d77w51b1e92486a36458@mail.gmail.com>
Date: Tue, 7 Mar 2006 10:29:57 -0600
From: "Apache Lucene" <lucenenator@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing problems
In-Reply-To: <2564BF49-55F4-422D-A8A0-C065F7A7EE58@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8674_9835334.1141748997917"
References: <8d3f78d30603070733i3af7f0ccn4435d529083bb02a@mail.gmail.com>
	 <c68e39170603070737m5d8d0d0ak4e4a9b456f030caa@mail.gmail.com>
	 <8d3f78d30603070741l528ab78dq9ffdfe20665a664@mail.gmail.com>
	 <2564BF49-55F4-422D-A8A0-C065F7A7EE58@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8674_9835334.1141748997917
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This line is throwing a null pointer exception for the index I created as I
mentioned in my previous emails.

searcher =3D new IndexSearcher(IndexReader.open(indexPath) );

Any ideas? I made sure the indexPath is a valid path.

thanks,

lucenenator


On 3/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On Mar 7, 2006, at 10:41 AM, Apache Lucene wrote:
>
> > Is it advisable to use compound file format? or should I revert it
> > back to
> > simple file format? How do I revert it back?
>
> There is a setter on IndexWriter to set it back if you like.   The
> compound format avoids the issues that cropped up a lot in the past
> with greatly segmented indexes eating up all available file handles.
>
> How you set it really depends.  Try both and see.
>
> > lucenenator
>
> haha!
>
>        Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8674_9835334.1141748997917--

From java-user-return-19389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 16:30:38 2006
Return-Path: <java-user-return-19389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50688 invoked from network); 7 Mar 2006 16:30:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 16:30:37 -0000
Received: (qmail 5763 invoked by uid 500); 7 Mar 2006 16:30:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5740 invoked by uid 500); 7 Mar 2006 16:30:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5729 invoked by uid 99); 7 Mar 2006 16:30:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:30:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:30:30 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k27GU6R8019308
 for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 22:00:06 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Using NOT queries inside parentheses
Date: Tue, 7 Mar 2006 21:59:57 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D185@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Using NOT queries inside parentheses
Thread-Index: AcZBUNqzSjYQiW4nSz6hNz5uQUQNCQArovcw
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


>   Query at =3D new TermQuery(new Term("alwaysTrueField","true));
>   Query user =3D queryParser.parse(userInput);
>   if (user instanceof BooleanQuery) {
>      BooleanQuery bq =3D (BooleanQuery)user;
>      if (! usableBooleanQuery(bq)) {
>         bq.add(at, true, false); /* add 'always true' clause directly
*/
>         return bq;
>      }
>   }
>   /* if we made it here, wrape both clauses.
>  BooleanQuery q =3D new BooleanQuery();
>   q.add(at, true, false);
>   q.add(user, true, false);
>   return q;

Many thanks, Chris, its working for me perfectly.

> If you want this to work, the most elegant way I've found is to
override=20
> the getBooleanQuery(Vector) method in QueryParser and insert a=20
> MatchAllDocsQuery into the boolean query if every clause is
prohibited.
>=20
> Daniel

I tried this, but it looks like the overridden method
getBooleanQuery(vector) does not get called. I am using 1.4.3.

Thanks,
Venu





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 16:32:31 2006
Return-Path: <java-user-return-19390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51829 invoked from network); 7 Mar 2006 16:32:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 16:32:30 -0000
Received: (qmail 10126 invoked by uid 500); 7 Mar 2006 16:32:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9954 invoked by uid 500); 7 Mar 2006 16:32:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9894 invoked by uid 99); 7 Mar 2006 16:32:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:32:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenenator@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 08:32:18 -0800
Received: by xproxy.gmail.com with SMTP id s11so1006945wxc
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 08:31:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EabVnHgrjRIAzBytcM8v1kU9l9izauorE2V9GvtG+Bcd5jFa7SjaZLkWXFPm6pz9mHHGfZeZqZZfVkFcdUVZG/+ZqNiUfOeprfvnoyOzAjuwJfMHraaF4wFuIIqfb4+NKhYWTUH1W3uJHa6PLKDyeDXmrifHYAPjLwF9rC8tpus=
Received: by 10.70.125.8 with SMTP id x8mr2056969wxc;
        Tue, 07 Mar 2006 08:31:58 -0800 (PST)
Received: by 10.70.129.3 with HTTP; Tue, 7 Mar 2006 08:31:58 -0800 (PST)
Message-ID: <8d3f78d30603070831q5ff27e1dhc1b4eaf1c2ca0afd@mail.gmail.com>
Date: Tue, 7 Mar 2006 10:31:58 -0600
From: "Apache Lucene" <lucenenator@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing problems
In-Reply-To: <8d3f78d30603070829k37598d77w51b1e92486a36458@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8726_15552075.1141749118102"
References: <8d3f78d30603070733i3af7f0ccn4435d529083bb02a@mail.gmail.com>
	 <c68e39170603070737m5d8d0d0ak4e4a9b456f030caa@mail.gmail.com>
	 <8d3f78d30603070741l528ab78dq9ffdfe20665a664@mail.gmail.com>
	 <2564BF49-55F4-422D-A8A0-C065F7A7EE58@ehatchersolutions.com>
	 <8d3f78d30603070829k37598d77w51b1e92486a36458@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8726_15552075.1141749118102
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

BTW, I could access that index using Luke. It works fine.


On 3/7/06, Apache Lucene <lucenenator@gmail.com> wrote:
>
>  This line is throwing a null pointer exception for the index I created a=
s
> I mentioned in my previous emails.
>
> searcher =3D new IndexSearcher(IndexReader.open(indexPath) );
>
> Any ideas? I made sure the indexPath is a valid path.
>
> thanks,
>
> lucenenator
>
>
>  On 3/7/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> >
> >
> > On Mar 7, 2006, at 10:41 AM, Apache Lucene wrote:
> >
> > > Is it advisable to use compound file format? or should I revert it
> > > back to
> > > simple file format? How do I revert it back?
> >
> > There is a setter on IndexWriter to set it back if you like.   The
> > compound format avoids the issues that cropped up a lot in the past
> > with greatly segmented indexes eating up all available file handles.
> >
> > How you set it really depends.  Try both and see.
> >
> > > lucenenator
> >
> > haha!
> >
> >        Erik
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_8726_15552075.1141749118102--

From java-user-return-19391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 18:16:17 2006
Return-Path: <java-user-return-19391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24278 invoked from network); 7 Mar 2006 18:16:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 18:16:17 -0000
Received: (qmail 22550 invoked by uid 500); 7 Mar 2006 18:16:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22517 invoked by uid 500); 7 Mar 2006 18:16:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22506 invoked by uid 99); 7 Mar 2006 18:16:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:16:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.169.158.23] (HELO mail.aurisp.de) (81.169.158.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:16:08 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.aurisp.de (Postfix) with ESMTP id A8C2FB80F
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 19:15:45 +0100 (CET)
Received: from mail.aurisp.de ([127.0.0.1])
	by localhost (mail.aurisp.de [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 22506-04-13 for <java-user@lucene.apache.org>;
	Tue, 7 Mar 2006 19:15:39 +0100 (CET)
Received: from localhost (p5088659F.dip.t-dialin.net [80.136.101.159])
	by mail.aurisp.de (Postfix) with ESMTP id D61ADB80E
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 19:15:38 +0100 (CET)
Date: Tue, 7 Mar 2006 19:15:34 +0100
From: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
To: java-user@lucene.apache.org
Subject: Scoring with FunctionQueries?
Message-ID: <20060307181534.GG29973@amok.priv>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.4i
X-Virus-Scanned: amavisd-new at mail.aurisp.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I have been trying out Yonik's excellent FunctionQuery (from Solr),
but am having some problems regarding the scoring of FunctionQueries
in conjunction with other queries.

I am currently researching a data fusion approach, where you have
several separate scores for a document and combine them to produce a
composite score. One of these scores is the regular Lucene score,
which I essentially treat as a black box.

I'm trying a simple linear combination, ie.

score = a * score_a + b * score_b ...

I have one Query produced by a QueryParser, and one (possibly several)
FunctionQueries which provide additional scores. I combine them with a
BooleanQuery with required clauses.

When I look at the explanation of such a combined Query, I see that
the scores of the subqueries are all multiplied by the query norm --
but I want only the score of the full-text query to be multiplied by
the query norm. The function queries should be added to the final
query as they are (the factors a, b, ... could be set using a query
boost.)

How do I achieve that? I'm rather lost in the forest of Scorer,
Similarity and Weight right now. Which is the right place to add such
a modification, so that it doesn't mess up the rest of the scoring?


I already tried extending BooleanQuery so that getSimilarity returns a
Similarity which overloads just queryNorm, to return 1.0. But this
queryNorm is then used both for the FunctionQuery and the full-text
query.


Thanks very much for your answers.

Regards, Sebastian

-- 
Sebastian Kirsch <skirsch@sebastian-kirsch.org> [http://www.sebastian-kirsch.org/]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 18:26:16 2006
Return-Path: <java-user-return-19392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32239 invoked from network); 7 Mar 2006 18:26:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 18:26:15 -0000
Received: (qmail 51920 invoked by uid 500); 7 Mar 2006 18:26:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51819 invoked by uid 500); 7 Mar 2006 18:26:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51500 invoked by uid 99); 7 Mar 2006 18:26:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:26:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:26:01 -0800
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k27IPbbL029374
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 13:25:37 -0500
X-ORBL: [69.228.231.148]
Received: from [192.168.168.15] (adsl-69-228-231-148.dsl.pltn13.pacbell.net [69.228.231.148])
	by pimout7-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k27IPYl7040750;
	Tue, 7 Mar 2006 13:25:37 -0500
Message-ID: <440DD01E.6010604@apache.org>
Date: Tue, 07 Mar 2006 10:25:34 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene version 1.9
References: <AD97D5F23B201C448EAB13B4F6DA6A421BF38B@EPLUXSEX01.ep.parl.union.eu>
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A421BF38B@EPLUXSEX01.ep.parl.union.eu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

WATHELET Thomas wrote:
> I've created an index with the Lucene version 1.9 and when I try to open
> this index I have always this error mesage:
> java.lang.ArrayIndexOutOfBoundsException.
> if I use an index built with the lucene version 1.4.3 it's working.
> Wath's wrong?

Are you perhaps trying to open an index created with 1.9 with 1.4.3? 
That won't work.  In general, you need to open indexes with a Lucene 
version greater or equal to the version which last wrote the index.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 18:26:39 2006
Return-Path: <java-user-return-19393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32686 invoked from network); 7 Mar 2006 18:26:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 18:26:38 -0000
Received: (qmail 55596 invoked by uid 500); 7 Mar 2006 18:26:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55542 invoked by uid 500); 7 Mar 2006 18:26:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55511 invoked by uid 99); 7 Mar 2006 18:26:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:26:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:26:29 -0800
Received: by wproxy.gmail.com with SMTP id i20so1457749wra
        for <java-user@lucene.apache.org>; Tue, 07 Mar 2006 10:26:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=uZJgTxXo7ZGeei5Zi3m6dAgv8CbJNhUc/oIM4XIPIUpGwr3MBu52bJxA4VpZf3mu5NKdFJZtmP9IODNVZMijGHP/Sc1x84RpVTrCaYHpuEyN61bN9rrh6+K8bNKkAmHvTmraetEbMP9ZdU83X/dy0QydRLRMBhOBTJ3Gkpagg1M=
Received: by 10.54.114.4 with SMTP id m4mr896390wrc;
        Tue, 07 Mar 2006 10:26:08 -0800 (PST)
Received: by 10.54.123.8 with HTTP; Tue, 7 Mar 2006 10:26:08 -0800 (PST)
Message-ID: <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
Date: Tue, 7 Mar 2006 13:26:08 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7028_33399344.1141755968130"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <43DD6821.8020302@nuix.com.au>
	 <e994873a0601300615p5f46dab6qfb4b4504bfb2bd7f@mail.gmail.com>
	 <e994873a0602221152q1bad1e52gdeb3477611d31916@mail.gmail.com>
	 <c68e39170602221218g6f7c2cb2m225c16f668b8497b@mail.gmail.com>
	 <e994873a0602231100v48a73ec4tcca903fc65548fa6@mail.gmail.com>
	 <88c6a6720602231148v520b3be6uab8cfd7fb48899a9@mail.gmail.com>
	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>
	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>
	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7028_33399344.1141755968130
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I ran a query performance tester against 8-cpu and 16-cpu Xeon servers
(16/32 cpu hyperthreaded). on Linux. Here are the results:

8-cpu:  275 qps
16-cpu: 305 qps
(the dual-core Opteron servers are still faster)

Here is the stack trace of 8 of the 16 query threads during the test:

        at org.apache.lucene.index.SegmentReader.document(SegmentReader.jav=
a
:281)
        - waiting to lock <0x0000002adf5b2110> (a
org.apache.lucene.index.SegmentReader)
        at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:83=
)
        at org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java
:146)
        at org.apache.lucene.search.Hits.doc(Hits.java:103)

SegmentReader.document is a synchronized method. I have one stored field
(binary, uncompressed) with and average length of 0.5Kb. The retrieval of
this stored field is within this synchronized code. Since I am using
MMapDirectory, does this retrieval need to be synchronized?

Peter

On 2/23/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
>
> Yonik,
>
> We're investigating both approaches.
> Yes, the resources (and permutations) are dizzying!
>
> Peter
>
>
> On 2/23/06, Yonik Seeley < yseeley@gmail.com> wrote:
> >
> > Wow, some resources!
> > Would it be cheaper / more scalable to copy the index to multiple
> > boxes and loadbalance requests across them?
> >
> > -Yonik
> >
> > On 2/23/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > > Since I seem to be cpu-bound right now, I'll be trying a 16-cpu syste=
m
> > next
> > > (32 with hyperthreading), on LinTel. I may give JRockit another go
> > around
> > > then.
> > >
> > > Thanks,
> > > Peter
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_7028_33399344.1141755968130--

From java-user-return-19394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 18:41:18 2006
Return-Path: <java-user-return-19394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41804 invoked from network); 7 Mar 2006 18:41:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 18:41:18 -0000
Received: (qmail 92492 invoked by uid 500); 7 Mar 2006 18:41:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92462 invoked by uid 500); 7 Mar 2006 18:41:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92448 invoked by uid 99); 7 Mar 2006 18:41:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:41:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.32] (HELO ylpvm01.prodigy.net) (207.115.57.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:41:10 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm01.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k27IelO8020808
	for <java-user@lucene.apache.org>; Tue, 7 Mar 2006 13:40:48 -0500
X-ORBL: [69.228.231.148]
Received: from [192.168.168.15] (adsl-69-228-231-148.dsl.pltn13.pacbell.net [69.228.231.148])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k27IedaL235218;
	Tue, 7 Mar 2006 13:40:42 -0500
Message-ID: <440DD3A6.2020600@apache.org>
Date: Tue, 07 Mar 2006 10:40:38 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <43DD6821.8020302@nuix.com.au>	 <e994873a0601300615p5f46dab6qfb4b4504bfb2bd7f@mail.gmail.com>	 <e994873a0602221152q1bad1e52gdeb3477611d31916@mail.gmail.com>	 <c68e39170602221218g6f7c2cb2m225c16f668b8497b@mail.gmail.com>	 <e994873a0602231100v48a73ec4tcca903fc65548fa6@mail.gmail.com>	 <88c6a6720602231148v520b3be6uab8cfd7fb48899a9@mail.gmail.com>	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com> <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
In-Reply-To: <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Keegan wrote:
> I ran a query performance tester against 8-cpu and 16-cpu Xeon servers
> (16/32 cpu hyperthreaded). on Linux. Here are the results:
> 
> 8-cpu:  275 qps
> 16-cpu: 305 qps
> (the dual-core Opteron servers are still faster)
> 
> Here is the stack trace of 8 of the 16 query threads during the test:
> 
>         at org.apache.lucene.index.SegmentReader.document(SegmentReader.java
> :281)
>         - waiting to lock <0x0000002adf5b2110> (a
> org.apache.lucene.index.SegmentReader)
>         at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:83)
>         at org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java
> :146)
>         at org.apache.lucene.search.Hits.doc(Hits.java:103)
> 
> SegmentReader.document is a synchronized method. I have one stored field
> (binary, uncompressed) with and average length of 0.5Kb. The retrieval of
> this stored field is within this synchronized code. Since I am using
> MMapDirectory, does this retrieval need to be synchronized?

Yes, since in FieldReader the file positions must be synchronized.

The way to avoid this would be to:

1. Add a clone() method to FieldReader that clones it's two IndexInputs.
2. Add a ThreadLocal to SegmentReader whose value is a cloned FieldReader.
3. Use the ThreadLocal's FieldReader in the document() method.

TermInfosReader has a similar optimization, using a ThreadLocal 
containing a SegmentTermEnum for each thread.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 18:55:20 2006
Return-Path: <java-user-return-19395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50197 invoked from network); 7 Mar 2006 18:55:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 18:55:20 -0000
Received: (qmail 32319 invoked by uid 500); 7 Mar 2006 18:55:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32291 invoked by uid 500); 7 Mar 2006 18:55:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32279 invoked by uid 99); 7 Mar 2006 18:55:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 10:55:14 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.214] (HELO web50312.mail.yahoo.com) (206.190.39.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 07 Mar 2006 10:55:14 -0800
Received: (qmail 10285 invoked by uid 60001); 7 Mar 2006 18:54:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=0m8vJMbqh8knlDBAYCdjTjarK0GqWOdhbOfSMlwRP1KbyIw7n/225Qd2blRIrL+7FLns1HLRR1q9pHkR6hnFZrRSwH1rm0AQlTKmMPWyRguTnP2oVfqPLjSe+0HTIJV6RHFlw7OKGu59nuznAI0fLF+w5kpkkpf7qikuArJoINM=  ;
Message-ID: <20060307185453.10283.qmail@web50312.mail.yahoo.com>
Date: Tue, 7 Mar 2006 10:54:53 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Distributed Lucene..
To: java-user@lucene.apache.org
In-Reply-To: <39B0FB508E5D7540ACA5AD57225E150D392040@xmail.me.corp.entopia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
Just curious about this:

> We hacked :-) IndexWriter of Lucene to start all segment names with a
> prefix unique for each small index part.
> Then, when adding it to the actual index, we simply copy the new segment
> to the folder with the other segments, and add it in such a way so that
> the optimize() function cannot be called.
> This way adding a new segment is very unintrusive for the searcher.
> Optimization is scheduled to happen at night.


You just copy your uniquely-named segments in the index directory and manually modify the "segments" file to list all copied segments?

Thanks,
Otis




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 19:11:25 2006
Return-Path: <java-user-return-19396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60917 invoked from network); 7 Mar 2006 19:11:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 19:11:24 -0000
Received: (qmail 70628 invoked by uid 500); 7 Mar 2006 19:11:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70603 invoked by uid 500); 7 Mar 2006 19:11:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70591 invoked by uid 99); 7 Mar 2006 19:11:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 11:11:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 11:11:18 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5C2CE5B777; Tue,  7 Mar 2006 11:10:51 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 504FE7F403
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 11:10:51 -0800 (PST)
Date: Tue, 7 Mar 2006 11:10:51 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Scoring with FunctionQueries?
In-Reply-To: <20060307181534.GG29973@amok.priv>
Message-ID: <Pine.LNX.4.58.0603071104400.1215@hal.rescomp.berkeley.edu>
References: <20060307181534.GG29973@amok.priv>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: but I want only the score of the full-text query to be multiplied by
: the query norm. The function queries should be added to the final
: query as they are (the factors a, b, ... could be set using a query
: boost.)
:
: How do I achieve that? I'm rather lost in the forest of Scorer,
: Similarity and Weight right now. Which is the right place to add such
: a modification, so that it doesn't mess up the rest of the scoring?

two approaches would work depending on your goal:

1) change the default similarity (using Similarity.setDefault(Similarity)
used by all queries to a version with queryNorm returning an constant, and
then in the few queries where you want the more traditional queryNorm,
override the getSimilarity method inline...

   Query q = new TermQuery(new Term("foo","bar")) {
      public Similarity getSimilarity(Searcher s) {
        return new DefaultSimilarity();
      }
   };

2) reverse step one ... override getSimiliarity() just in the classes you
want to queryNorm to be constant and leave hte default alone.

: I already tried extending BooleanQuery so that getSimilarity returns a
: Similarity which overloads just queryNorm, to return 1.0. But this
: queryNorm is then used both for the FunctionQuery and the full-text
: query.

Hmmm ... that really doesn't sound right, are you sure you don't mean you
changed the default similarity, or changed the similarity on the searcher?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 20:27:36 2006
Return-Path: <java-user-return-19397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14234 invoked from network); 7 Mar 2006 20:27:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 20:27:35 -0000
Received: (qmail 46373 invoked by uid 500); 7 Mar 2006 20:27:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46355 invoked by uid 500); 7 Mar 2006 20:27:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 50357 invoked by uid 99); 7 Mar 2006 19:47:50 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of galtechservices@gmail.com designates 66.249.82.197 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:user-agent:date:subject:from:to:message-id:mime-version:content-type:content-transfer-encoding:sender;
        b=oy003eUgj3C72l/7wJAo8I9ehJEaHej1qIy43vDg+SqmKm0U3wXYAxhXUxgW6VrfwgOwqwvbKZhbq8CCwZlrpHYGqkaqJjQjZY+N2q/MiM0ZkaCZr9uBn42DC1sMHg4jdyewQhjlZ9vbenoRyK8UiFzLMe6/e4G7cq3L08Sge0o=
User-Agent: Microsoft-Entourage/11.0.0.040405
Date: Tue, 07 Mar 2006 14:47:13 -0500
Subject: ReIndex or rework query
From: Jennifer Sears <jsears@fivestaralliance.com>
To: <java-user@lucene.apache.org>
Message-ID: <C0334D71.1C6B%jsears@fivestaralliance.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
Sender: Jennifer Sears <galtechservices@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We've built an index that has 8 stored, tokenized text fields. For
optimizing search results, should we:
1. build the query programmatically and try to determine which field the
searchTerm might fit in (i.e. Terms that would match in City, country, would
not match in award or amenity)

2. Do a multi field query

3. Do a boolean query for searchTerms on all 8 fields?

4. Option we haven't thought of.

We're able to get results from the index using the following code, however,
we have been unable to get reliable or appropriate scoring.

If there's a better way, we'd appreciate the help.

Thanks,

Jennifer


IndexSearcher is = new IndexSearcher(indexDirectory);
StandardAnalyzer analyzer = new StandardAnalyzer();
String[] fields = {"hotel_name","hotel_city", "hotel_brand",
"hotel_country","hotel_type","hotel_feature","hotel_activity","hotel_award"}
;
BooleanClause.Occur[] flags =
{BooleanClause.Occur.SHOULD,BooleanClause.Occur.SHOULD,BooleanClause.Occur.S
HOULD, 
BooleanClause.Occur.SHOULD,BooleanClause.Occur.SHOULD,BooleanClause.Occur.SH
OULD,BooleanClause.Occur.SHOULD,BooleanClause.Occur.SHOULD};
Query q = MultiFieldQueryParser.parse(query, fields, flags, analyzer);
hits = is.search(q);






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 23:04:55 2006
Return-Path: <java-user-return-19398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 394 invoked from network); 7 Mar 2006 23:04:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 23:04:55 -0000
Received: (qmail 28584 invoked by uid 500); 7 Mar 2006 23:04:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28551 invoked by uid 500); 7 Mar 2006 23:04:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28535 invoked by uid 99); 7 Mar 2006 23:04:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:04:49 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.16 as permitted sender)
Received: from [64.4.51.16] (HELO hotmail.com) (64.4.51.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:04:47 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 7 Mar 2006 15:04:26 -0800
Message-ID: <BAY107-F6D2F07D1C8F4C8703B1C194EE0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Tue, 07 Mar 2006 23:04:19 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: Lucene 1.9.1 and timeToString() apparent incompatibility with 1.4.3
Date: Tue, 07 Mar 2006 23:04:19 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 07 Mar 2006 23:04:26.0293 (UTC) FILETIME=[7B216E50:01C6423B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I recently converted from Lucene 1.4.3 to 1.9.1 and in the process replaced 
all deprecated classes with the new ones as recommended (for forward 
compatibility with Lucene 2.0).
This however seems to introduce an incompatibilty when the new 
timeToString() and stringToTime() classes are used. Using an index created 
with 1.4.3 and searched with 1.9.1  I now receive the following errors:

java.text.ParseException: Input is not valid date string: 0ehi17c0g
    at org.apache.lucene.document.DateTools.stringToDate(DateTools.java:140)
    at org.apache.lucene.document.DateTools.stringToTime(DateTools.java:110)
    at etc.., etc..

My 1.9.1 code is

when indexing:
    long modDate = conn.getLastModified();     //the file's last modified 
date
    String longDate = 
DateTools.timeToString(modDate,DateTools.Resolution.MINUTE);
    indxDoc.add(new Field("longdate", longDate, Field.Store.YES,
    Field.Index.TOKENIZED));

when searching:

            Date d = new Date();
            try {
              d.setTime(stringToTime(longDate));
            } catch (ParseException e) {
              e.printStackTrace();
            }


My 1.4.3 code was:
when indexing:

String longDate = DateField.timeToString(modDate);
indxDoc.add(new Field("longdate", longDate, Field.Store.YES, 
Field.Index.TOKENIZED));

when searching:

Date d = new Date();
d.setTime(org.apache.lucene.document.DateField.stringToTime(longDate));

The problem does not occur if I both create and search the index with 1.9.1

I assume there is a better way to do this than the above code as this 
incompatibility is not documented.
I know I can always revert to the old code in order to avoid re-creating the 
index, but I would prefer to find a solution that uses the latest classes 
AND avoids re-creating the index, if possible.
thanks for any help,

PS this is a re-transmission, I apologise if more than one copy is received, 
I had mail problems

_________________________________________________________________
realestate.com.au: the biggest address in property   
http://ninemsn.realestate.com.au


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 23:06:29 2006
Return-Path: <java-user-return-19399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 936 invoked from network); 7 Mar 2006 23:06:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 23:06:28 -0000
Received: (qmail 31423 invoked by uid 500); 7 Mar 2006 23:06:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31399 invoked by uid 500); 7 Mar 2006 23:06:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31386 invoked by uid 99); 7 Mar 2006 23:06:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:06:23 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.48.143] (HELO dev.nannet.co.kr) (221.146.48.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:06:22 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id k27N5l5m009398
	for <java-user@lucene.apache.org>; Wed, 8 Mar 2006 08:05:47 +0900
Message-ID: <00d101c6423b$a4400300$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <001c01c6417d$b83471c0$0201a8c0@local> <Pine.LNX.4.58.0603062245560.3153@hal.rescomp.berkeley.edu>
Subject: Re: BooleanQuery$TooManyClauses with 1.9.1 when Number RangeQuery
Date: Wed, 8 Mar 2006 08:05:34 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8NCg0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206ICJDaHJpcyBIb3N0
ZXR0ZXIiIDxob3NzbWFuX2x1Y2VuZUBmdWNpdC5vcmc+DQpUbzogIkx1Y2VuZSBVc2VycyIgPGph
dmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4NClNlbnQ6IFR1ZXNkYXksIE1hcmNoIDA3LCAyMDA2
IDM6NDkgUE0NClN1YmplY3Q6IFJlOiBCb29sZWFuUXVlcnkkVG9vTWFueUNsYXVzZXMgd2l0aCAx
LjkuMSB3aGVuIE51bWJlciBSYW5nZVF1ZXJ5DQoNCg0KPiANCj4gOiBJIHVwZ2FkZSB0byAxLjku
MSBhbmQgcmVpbmRleGluZw0KPiA6IEkgdXNlZCBOdW1iZXJUb29sIHdoZW4gSSBpbmRleCB0aGUg
bnVtYmVyLg0KPiA6DQo+IDogYWZ0ZXIgdXBncmFkZSBJIGdvdCBmb2xsb3dpbmcgZXJyb3Igd2hl
biBudW1iZXIgcmFuZ2UgcXVlcnkuDQo+IDogd2l0aCBxdWVyeQ0KPiANCj4gVGhlIHBvc3NpYmls
aXR5IG9mIGEgVG9vTWFueUNsYXVzZXMgZXhjZXB0aW9uIGhhcyBhbHdheXMgZXhpc3RlZCB3aXRo
DQo+IFJhbmdlUXVlcnkgYW5kIG51bWJlcnMsIGV2ZW4gd2hlbiB1c2luZyBOdW1iZXJUb29sLiAg
RXZlbiBpZiB5b3UgbmV2ZXIgc2F3DQo+IGl0IGJlZm9yZSwgYW5kIHlvdSBhcmUgc3RpbGwgcXVl
cnlpbmcgb24gdGhlIGV4YWN0IHNhbWUgcmFuZ2UgYXMgYmVmb3JlLA0KPiBhZGRpbmcgbmV3IGRv
Y3Mgd2l0aCB2YWx1ZXMgaW4gdGhhdCByYW5nZSBjYW4gdHJpZ2dlciB0aGUgZXhjZXB0aW9uLg0K
PiANCllvdSBtZWFuIFRoZW9yaXRpY2FsbHkgDQpSYW5nZVF1ZXJ5IHNob3VsZCBiZSBmb3JiaWRk
ZW4gYmVjYXVzZSBpdCBhbHdheXMgaGFzIHBvdGVudGlhbCB0aW1lIGJvbWIgPw0KU2hvdWxkIHdl
IGNvbW1lbnQgaXQgaW4gamF2YWRvYyA/DQoNCj4gQ29uc2lkZXIgdXNpbmcgYSBSYW5nZUZpbHRl
ciBpbnN0ZWFkLCBvciB0aGUgQ29uc3RhbnRTY29yZVJhbmdlUXVlcnkgd2hpY2gNCj4gZG9lc24n
dCBoYXZlIHRoaXMgbGltaXRhdGlvbi4NCj4gDQpUaGFua3MgZm9yIHlvdXIgYWx0ZXJuYXRpdmUg
c3VnZ2VzdGlvbi4NCkkgd2lsbCB0cnkuDQoNCllvdW5naG8=




From java-user-return-19400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 23:20:23 2006
Return-Path: <java-user-return-19400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5201 invoked from network); 7 Mar 2006 23:20:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 23:20:22 -0000
Received: (qmail 47723 invoked by uid 500); 7 Mar 2006 23:20:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47632 invoked by uid 500); 7 Mar 2006 23:20:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47618 invoked by uid 99); 7 Mar 2006 23:20:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:20:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.193.87.113] (HELO panacea.canonical.org) (66.193.87.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:20:16 -0800
Received: by panacea.canonical.org (Postfix, from userid 1003)
	id 373873F49D; Tue,  7 Mar 2006 18:19:19 -0500 (EST)
Date: Tue, 7 Mar 2006 18:19:19 -0500
From: Matthew O'Connor <matthew@canonical.org>
To: java-user@lucene.apache.org
Subject: Weighted Terms Per Document
Message-ID: <20060307231919.GA9725@canonical.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.28i
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I'm using Lucene 1.9 to replace an in-house search engine where all of the
documents to be searched are also created in-house.  One of the features of the
search engine is something called 'xtras' which are associated with the
documents.  I am wondering how best to model this feature using Lucene.  I have
one solution (offered below for critique) but I'm not sure it's the best way,
being a Lucene newbie.

First let me better explain 'xtras' and how they work in the *old* search
engine.  A document can have zero or more 'xtras'.  'xtras' consist of a token
and a weight.  At index time  this weight is taken into account when computing
a score which is saved in the index.  

The index is a database table with three columns and PK of (token, docid):

    token => document id => score

The search algorithm is pretty obvious from here.  A user enters in a query,
it's parsed into tokens, and we gather up all the unique document ids and add
their scores together.  In SQL the logic is something like this:

    SELECT docid, SUM(score) AS score
    FROM SearchIndex 
    WHERE token IN (...constructed from user query...)
    GROUP BY docid
    ORDER BY score DESC

The 'xtras' come into play when saving the score to the index.  Each row in the
index is a triple: (token, docid, score).  The base score is calculated somehow
and then the 'xtra' weight is merely tacked on to the final value saved.

For example, here is a document with an id of 'foo' and two 'xtras':  

    Document: 
        id: foo
        xtra: 
            token: breed
            weight: 2
        xtra: 
            token: dog
            weight: 10

When this document gets indexed the tokens 'breed' and 'dog' will have some
base score calculated some how.  This base score could be 0 if the token isn't
even in the document.  Then the weight is added onto this base score and the
results saved to the index.  So assume 'breed' has a base score of 1.2 and
'dog' has a base score of 0.4 then the rows saved to the index are:

    (breed, foo, 3.2)
    (dog, foo, 10.4)

There are some 12,000 in-house created documents that I am searching and nearly
all of them have these associated 'xtras'.  I feel like this is a huge hint to
any search engine and that it should be taken advantage of.  The information is
already there and new documents are created every day with these little hints.
In more popular terminology 'xtras' are kind of like tags with weights.

So, I want to use Lucene as the basis for a new search engine and I want to
take this already out there information into account.  I have developed one
approach which works okay, no complaints or problems really, but I feel like
it's wrong some how.  My solution is as follows:

I noticed that 99.9% of the 'xtras' had weights less than 10.  So in my Lucene
index I create 11 fields:

    xtra_1, xtra_2, xtra_3, ..., xtra_10, xtra_max

In field 'xtra_1' I stick all of the tokens (joined by spaces) which have a
weight of 1, in field 'xtra_2' I stick all the tokens that have a weight of 2,
and so on.  In 'xtra_max' I stick all the tokens with a weight of more than 10.

I give field xtra_1 a boost of 20, field xtra_2 a boost of 40, and so, with
field xtra_10 a boost of 200.  Field xtra_max gets a gigantic boost of 10000.
I picked the scaling value of 20 for the first 10 fields out of thin air, same
with the boost for xtra_max.

I'm a QueryParser fan, so that's what I've been using.  Our current search
language is very primitive so QueryParser is a huge bonus and probably good
enough for us.  However, now that I've created all these new fields I need to
search them all.  So, obviously, MultiFieldQueryParser is what I moved to.

When I search a document I have 13 fields that get passed to
MultiFieldQueryParser.  'body', 'title', and the 11 'xtra' fields above.  So
far this has worked well enough.  I can clearly see that the 'xtras' and their
weights influence the final rankings.  

In all honestly, I don't have any complaints quite yet.  However, I am left
with a feeling that the above is kind of "dirty" and that there is a better
way.  For example, had the values of the 'xtras' ranged more wildly I don't
think my approach would've scaled.  Also, it feels like this should be a 
common problem and perhaps I just lack the vocabulary to find the right 
approach.

So, is what I am doing problematic or is it an okay approach?  Am I going to
run into some kind of wall eventually?  Is there some library or API methods I
missed which do exactly what I want which I somehow blindly missed (if so,
sorry!)? 

Thanks for any input!

-matthew

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 23:25:26 2006
Return-Path: <java-user-return-19401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6994 invoked from network); 7 Mar 2006 23:25:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 23:25:25 -0000
Received: (qmail 51866 invoked by uid 500); 7 Mar 2006 23:25:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51843 invoked by uid 500); 7 Mar 2006 23:25:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51832 invoked by uid 99); 7 Mar 2006 23:25:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:25:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.169.158.23] (HELO mail.aurisp.de) (81.169.158.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:25:19 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.aurisp.de (Postfix) with ESMTP id 01E87B811
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 00:24:57 +0100 (CET)
Received: from mail.aurisp.de ([127.0.0.1])
	by localhost (mail.aurisp.de [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 22768-01-5 for <java-user@lucene.apache.org>;
	Wed, 8 Mar 2006 00:24:48 +0100 (CET)
Received: from localhost (p5088659F.dip.t-dialin.net [80.136.101.159])
	by mail.aurisp.de (Postfix) with ESMTP id D40E8B80F
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 00:24:46 +0100 (CET)
Date: Wed, 8 Mar 2006 00:24:34 +0100
From: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
To: java-user@lucene.apache.org
Subject: Re: Scoring with FunctionQueries?
Message-ID: <20060307232434.GH29973@amok.priv>
References: <20060307181534.GG29973@amok.priv> <Pine.LNX.4.58.0603071104400.1215@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <Pine.LNX.4.58.0603071104400.1215@hal.rescomp.berkeley.edu>
User-Agent: Mutt/1.4i
X-Virus-Scanned: amavisd-new at mail.aurisp.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear Chris,

thanks very much for your quick answer.

I tried both approaches, and both don't seem to do what I
want. Perhaps I did not understand you properly.

I generated a small in-memory index (six documents) for testing your
suggestions, with some text in field "content" and a numeric score in
field "score". Following are the code I used and the explanations I
obtained.

On Tue, Mar 07, 2006 at 11:10:51AM -0800, Chris Hostetter wrote:
> 1) change the default similarity (using Similarity.setDefault(Similarity)
> used by all queries to a version with queryNorm returning an constant, and
> then in the few queries where you want the more traditional queryNorm,
> override the getSimilarity method inline...
> 
>    Query q = new TermQuery(new Term("foo","bar")) {
>       public Similarity getSimilarity(Searcher s) {
>         return new DefaultSimilarity();
>       }
>    };

This is the code I used:

    IndexSearcher searcher = new IndexSearcher(directory);
 
    searcher.setSimilarity(new DefaultSimilarity() {
      public float queryNorm(float sumOfSquaredWeight) {
        return 1.0f;
      }
    });
    
    TermQuery tq = new TermQuery(new Term("content", "desmond")) {
      public Similarity getSimilarity(Searcher s) {
        return new DefaultSimilarity();
      }
    };
    
    FunctionQuery fq = new FunctionQuery(new FloatFieldSource("score"));
    
    BooleanQuery bq = new BooleanQuery();
    bq.add(fq, BooleanClause.Occur.SHOULD);
    bq.add(tq, BooleanClause.Occur.MUST);
 
And this is the explanation I obtained:

2.526826 = sum of:
  0.6 = FunctionQuery(org.apache.solr.search.function.FloatFieldSource:float(score)), product of:
    0.6 = float(score)=0.6
    1.0 = boost
    1.0 = queryNorm
  1.926826 = weight(content:desmond in 3), product of:
    2.0986123 = queryWeight(content:desmond), product of:
      2.0986123 = idf(docFreq=1)
      1.0 = queryNorm
    0.9181429 = fieldWeight(content:desmond in 3), product of:
      1.0 = tf(termFreq(content:desmond)=1)
      2.0986123 = idf(docFreq=1)
      0.4375 = fieldNorm(field=content, doc=3)

So, as you see, the query norm for the FunctionQuery is 1.0, but for
the TermQuery, this query norm is also used (when it should be
computed from the terms in the query.)

> 2) reverse step one ... override getSimiliarity() just in the classes you
> want to queryNorm to be constant and leave hte default alone.

OK, so this would look like the following:

    IndexSearcher searcher = new IndexSearcher(directory);
 
    TermQuery tq = new TermQuery(new Term("content", "desmond"));
    FunctionQuery fq = new FunctionQuery(new FloatFieldSource("score")) {
      public Similarity getSimilarity(Searcher s) {
        return new DefaultSimilarity() {
          public float queryNorm(float sumOfSquaredWeight) {
            return 1.0f;
          }
        };
      }
    };
    
    BooleanQuery bq = new BooleanQuery();
    bq.add(fq, BooleanClause.Occur.SHOULD);
    bq.add(tq, BooleanClause.Occur.MUST);

And what I get as an explanation is this:

1.0869528 = sum of:
  0.25809917 = FunctionQuery(org.apache.solr.search.function.FloatFieldSource:float(score)), product of:
    0.6 = float(score)=0.6
    1.0 = boost
    0.43016526 = queryNorm
  0.82885367 = weight(content:desmond in 3), product of:
    0.90275013 = queryWeight(content:desmond), product of:
      2.0986123 = idf(docFreq=1)
      0.43016526 = queryNorm
    0.9181429 = fieldWeight(content:desmond in 3), product of:
      1.0 = tf(termFreq(content:desmond)=1)
      2.0986123 = idf(docFreq=1)
      0.4375 = fieldNorm(field=content, doc=3)

So, this is also wrong, but in a different way -- the queryNorm for
the FunctionQuery should be 1.0.

I hope I interpreted your explanations correctly, and this is what you
intended me to try.


So, what I *really* want is something like this (modulo normalization;
I might want to boost both clauses to 0.5. But I'm not worrying about
that right now.):

1.42885367 = sum of:
  0.6 = FunctionQuery(org.apache.solr.search.function.FloatFieldSource:float(score)), product of:
    0.6 = float(score)=0.6
    1.0 = boost
    1.0 = queryNorm
  0.82885367 = weight(content:desmond in 3), product of:
    0.90275013 = queryWeight(content:desmond), product of:
      2.0986123 = idf(docFreq=1)
      0.43016526 = queryNorm
    0.9181429 = fieldWeight(content:desmond in 3), product of:
      1.0 = tf(termFreq(content:desmond)=1)
      2.0986123 = idf(docFreq=1)
      0.4375 = fieldNorm(field=content, doc=3)

> Hmmm ... that really doesn't sound right, are you sure you don't mean you
> changed the default similarity, or changed the similarity on the searcher?

Please see the code above. I have not delved into the depths of Lucene
yet, but it seems that Lucene uses only one similarity instance for
scoring all clauses in the boolean query, and doesn't honour the
similarity instances provided by the individual clauses.

Or I'm wrong somewhere ;)

I've also wondered whether perhaps I might get by with not normalizing
the query, or with using a queryNorm of 1.0 everywhere. But then the
magnitude of the Lucene similarity score and my "static score" will
not be comparable, of course.


I hope someone with more insight into Lucene scoring can shed light on
this.

Regards, Sebastian

-- 
Sebastian Kirsch <skirsch@sebastian-kirsch.org> [http://www.sebastian-kirsch.org/]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 07 23:53:03 2006
Return-Path: <java-user-return-19402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20924 invoked from network); 7 Mar 2006 23:53:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Mar 2006 23:53:02 -0000
Received: (qmail 92533 invoked by uid 500); 7 Mar 2006 23:52:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92176 invoked by uid 500); 7 Mar 2006 23:52:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92165 invoked by uid 99); 7 Mar 2006 23:52:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:52:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 15:52:55 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 559B7B735C
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 10:52:31 +1100 (EST)
Message-ID: <440E1CDA.6010408@nuix.com.au>
Date: Wed, 08 Mar 2006 10:52:58 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Using NOT queries inside parentheses
References: <E817F096B8D59B4E9D1E437917B1083107D185@mshydpub1.hyd.deshaw.com>
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083107D185@mshydpub1.hyd.deshaw.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Satuluri, Venu_Madhav wrote:
>> If you want this to work, the most elegant way I've found is to
> override 
>> the getBooleanQuery(Vector) method in QueryParser and insert a 
>> MatchAllDocsQuery into the boolean query if every clause is
> prohibited.
>> Daniel
> 
> I tried this, but it looks like the overridden method
> getBooleanQuery(vector) does not get called. I am using 1.4.3.

We're using 1.4.2.

The minimalist example:

public class Test {
   public static void main() throws Exception {
     QueryParser parser = new QueryParser("text",
                                          new StandardAnalyzer()) {
       protected Query getBooleanQuery(Vector clauses)
           throws ParseException {
         System.out.println("getBooleanQuery called");
         return super.getBooleanQuery(clauses);
       }
     };
     parser.parse("-foo");
   }
}

Output of this will be:
getBooleanQuery called

If it isn't being called in your application, the likelihood is that 
you're not using the overridden query parser at all.

Daniel

-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 00:21:56 2006
Return-Path: <java-user-return-19403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34058 invoked from network); 8 Mar 2006 00:21:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 00:21:56 -0000
Received: (qmail 33333 invoked by uid 500); 8 Mar 2006 00:21:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32699 invoked by uid 500); 8 Mar 2006 00:21:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 63406 invoked by uid 99); 7 Mar 2006 22:28:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of victornegrin@gmail.com designates 64.233.184.197 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=DGs0YRjNrzLcuunG0rytDL27ngAVLyatYXoA2CrMkHlOZpvflN3wzReHWqHLPMrCn+WdaW10pPvaOKGm6adVdK1d2FngTUJDyydl+iR1gAJGqVJ4mLmPlT/paqnbfam06M4M01xKTBV+eVW0Zjenub1r1kIXivrtQSysixFHv+U=
Message-ID: <6a3c67ff0603071427s3c8ea91eg3a30d29149cde4bd@mail.gmail.com>
Date: Wed, 8 Mar 2006 09:27:49 +1100
From: "Victor Negrin" <victornegrin@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene 1.9.1 and timeToString() apparent incompatibility with 1.4.3
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2364_33094222.1141770469404"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2364_33094222.1141770469404
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I recently converted from Lucene 1.4.3 to 1.9.1 and in the processed
replaced all deprecated classes with the new ones as recommended (for
forward compatibility with Lucene 2.0).
This however seems to introduce an incompatibilty when the new
timeToString() and stringToTime() classes are used. Using an index created
with 1.4.3 and searched with 1.9.1  I now receive the following errors:

java.text.ParseException: Input is not valid date string: 0ehi17c0g
    at org.apache.lucene.document.DateTools.stringToDate(DateTools.java:140=
)
    at org.apache.lucene.document.DateTools.stringToTime(DateTools.java:110=
)
    at etc.., etc..

My 1.9.1 code is

when indexing:
    long modDate =3D conn.getLastModified();     //the file's last modified
date
    String longDate =3D DateTools.timeToString(modDate,
DateTools.Resolution.MINUTE);
    indxDoc.add(new Field("longdate", longDate, Field.Store.YES,
    Field.Index.TOKENIZED));

when searching:

            Date d =3D new Date();
            try {
              d.setTime(stringToTime(longDate));
            } catch (ParseException e) {
              e.printStackTrace();
            }


My 1.4.3 code was:
when indexing:

String longDate =3D DateField.timeToString(modDate);
indxDoc.add(new Field("longdate", longDate, Field.Store.YES,
Field.Index.TOKENIZED));

when searching:

Date d =3D new Date();
d.setTime(org.apache.lucene.document.DateField.stringToTime(longDate));

The problem does not occur if I create and search the index with 1.9.1

I assume there is a better way to do this than the above as this
incompatibility is not documented.
I know I can always revert to the old code in order to avoid re-creating th=
e
index, but I would prefer to find a solution that uses the latest classes
AND avoids re-creating the index, if possible.
thanks for any help,

Victor

------=_Part_2364_33094222.1141770469404--

From java-user-return-19404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 00:24:30 2006
Return-Path: <java-user-return-19404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35136 invoked from network); 8 Mar 2006 00:24:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 00:24:29 -0000
Received: (qmail 41171 invoked by uid 500); 8 Mar 2006 00:24:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41143 invoked by uid 500); 8 Mar 2006 00:24:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41132 invoked by uid 99); 8 Mar 2006 00:24:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 16:24:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 16:24:23 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 42C1EB735C
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 11:23:58 +1100 (EST)
Message-ID: <440E2439.7060908@nuix.com.au>
Date: Wed, 08 Mar 2006 11:24:25 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: sub search
References: <41D8E340E5045F4ABA553E4524E3D3792DFE48@orbitsoft.orbitscripts>
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792DFE48@orbitsoft.orbitscripts>
Content-Type: text/plain; charset=KOI8-R; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Anton Potehin wrote:
> Is it possible to make search among results of previous search?
<removed all the double spacing>
> 
> After it I want to not make a new search, I want to make search among
> found results...

Simple.  Create a new BooleanQuery and put the original query into it, 
along with the new query.

Daniel


-- 
Daniel Noll

Nuix Australia Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia
Phone: (02) 9280 0699
Fax:   (02) 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 00:40:40 2006
Return-Path: <java-user-return-19405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42403 invoked from network); 8 Mar 2006 00:40:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 00:40:39 -0000
Received: (qmail 61090 invoked by uid 500); 8 Mar 2006 00:40:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61064 invoked by uid 500); 8 Mar 2006 00:40:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61053 invoked by uid 99); 8 Mar 2006 00:40:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 16:40:35 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.48.143] (HELO dev.nannet.co.kr) (221.146.48.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 16:40:33 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id k280dx5m009962;
	Wed, 8 Mar 2006 09:39:59 +0900
Message-ID: <000a01c64248$cdb97600$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>, "Youngho Cho" <youngho@nannet.co.kr>
References: <001c01c6417d$b83471c0$0201a8c0@local> <Pine.LNX.4.58.0603062245560.3153@hal.rescomp.berkeley.edu> <00d101c6423b$a4400300$0201a8c0@local>
Subject: Re: BooleanQuery$TooManyClauses with 1.9.1 when Number RangeQuery
Date: Wed, 8 Mar 2006 09:39:47 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCj4gPiANCj4gPiA6IEkgdXBnYWRlIHRvIDEuOS4xIGFuZCByZWluZGV4aW5nDQo+
ID4gOiBJIHVzZWQgTnVtYmVyVG9vbCB3aGVuIEkgaW5kZXggdGhlIG51bWJlci4NCj4gPiA6DQo+
ID4gOiBhZnRlciB1cGdyYWRlIEkgZ290IGZvbGxvd2luZyBlcnJvciB3aGVuIG51bWJlciByYW5n
ZSBxdWVyeS4NCj4gPiA6IHdpdGggcXVlcnkNCj4gPiANCj4gPiBUaGUgcG9zc2liaWxpdHkgb2Yg
YSBUb29NYW55Q2xhdXNlcyBleGNlcHRpb24gaGFzIGFsd2F5cyBleGlzdGVkIHdpdGgNCj4gPiBS
YW5nZVF1ZXJ5IGFuZCBudW1iZXJzLCBldmVuIHdoZW4gdXNpbmcgTnVtYmVyVG9vbC4gIEV2ZW4g
aWYgeW91IG5ldmVyIHNhdw0KPiA+IGl0IGJlZm9yZSwgYW5kIHlvdSBhcmUgc3RpbGwgcXVlcnlp
bmcgb24gdGhlIGV4YWN0IHNhbWUgcmFuZ2UgYXMgYmVmb3JlLA0KPiA+IGFkZGluZyBuZXcgZG9j
cyB3aXRoIHZhbHVlcyBpbiB0aGF0IHJhbmdlIGNhbiB0cmlnZ2VyIHRoZSBleGNlcHRpb24uDQo+
ID4gDQo+IFlvdSBtZWFuIFRoZW9yaXRpY2FsbHkgDQo+IFJhbmdlUXVlcnkgc2hvdWxkIGJlIGZv
cmJpZGRlbiBiZWNhdXNlIGl0IGFsd2F5cyBoYXMgcG90ZW50aWFsIHRpbWUgYm9tYiA/DQo+IFNo
b3VsZCB3ZSBjb21tZW50IGl0IGluIGphdmFkb2MgPw0KPiANCkkgZm91bmQgdGhlIGNvbW1lbnQg
YXQgdGhlIEJvb2xlYW5RdWVyeSBqYXZhZG9jLg0KdGhlIGRlZmF1bHQgdmFsdWUgaXMgMTAyNC4g
IA0KQnV0IHN0aWxsIEkgZG9uJ3QgdW5kZXJzdGFuZCB3aHkgaGFwcGVuZCBhZnRlciB1c2luZyBO
dW1iZXJUb29sIGF0IDEuOS4xDQoNClRoYW5rcy4NCg0KWW91bmdobw0KDQo=




From java-user-return-19406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 01:50:04 2006
Return-Path: <java-user-return-19406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70875 invoked from network); 8 Mar 2006 01:50:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 01:50:03 -0000
Received: (qmail 15436 invoked by uid 500); 8 Mar 2006 01:50:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14912 invoked by uid 500); 8 Mar 2006 01:49:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14901 invoked by uid 99); 8 Mar 2006 01:49:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 17:49:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 17:49:55 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B45C35B774; Tue,  7 Mar 2006 17:49:24 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A398A7F403
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 17:49:24 -0800 (PST)
Date: Tue, 7 Mar 2006 17:49:24 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: BooleanQuery$TooManyClauses with 1.9.1 when Number RangeQuery
In-Reply-To: <000a01c64248$cdb97600$0201a8c0@local>
Message-ID: <Pine.LNX.4.58.0603071745530.17684@hal.rescomp.berkeley.edu>
References: <001c01c6417d$b83471c0$0201a8c0@local>
 <Pine.LNX.4.58.0603062245560.3153@hal.rescomp.berkeley.edu>
 <00d101c6423b$a4400300$0201a8c0@local> <000a01c64248$cdb97600$0201a8c0@local>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > You mean Theoritically
: > RangeQuery should be forbidden because it always has potential time bomb ?
: > Should we comment it in javadoc ?

In my opinion, the only reason to use RangeQuery is if you are dealing
with very controlled ranges, where you know hte number of terms it will
expand to is small.  If you are just parsing a user supplied query, and
you have no control over what they give you, i would always use a
RangeFilter.

: I found the comment at the BooleanQuery javadoc.
: the default value is 1024.
: But still I don't understand why happend after using NumberTool at 1.9.1

As I said, it may not have anything to do with 1.9.1 or NumberTools, it
may have just been that when you built your new index, you had more
documents with more unique values in that range.

(or maybe there has been some change in NumberTools i'm not aware of .. i
don't know, but i would advise against RangeQuery either way)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 01:54:55 2006
Return-Path: <java-user-return-19407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73912 invoked from network); 8 Mar 2006 01:54:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 01:54:55 -0000
Received: (qmail 27350 invoked by uid 500); 8 Mar 2006 01:54:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27323 invoked by uid 500); 8 Mar 2006 01:54:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27312 invoked by uid 99); 8 Mar 2006 01:54:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 17:54:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 17:54:47 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 70EE05B774; Tue,  7 Mar 2006 17:54:27 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6211D7F403
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 17:54:27 -0800 (PST)
Date: Tue, 7 Mar 2006 17:54:27 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lucene 1.9.1 and timeToString() apparent incompatibility with
 1.4.3
In-Reply-To: <6a3c67ff0603071427s3c8ea91eg3a30d29149cde4bd@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603071750150.17684@hal.rescomp.berkeley.edu>
References: <6a3c67ff0603071427s3c8ea91eg3a30d29149cde4bd@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: timeToString() and stringToTime() classes are used. Using an index created
: with 1.4.3 and searched with 1.9.1  I now receive the following errors:

As the deprecation comment in DateField says...

	If you build a new index, use DateTools instead. For existing indices you
	can continue using this class, as it will not be removed in the near
	future despite being deprecated.

...DateTools is not backwards with DateField, which is why that comment
tries to make it clear that you shouldn't use DateField for new indexes,
but you can continue using it for old ones without fear.

: I assume there is a better way to do this than the above as this
: incompatibility is not documented.
: I know I can always revert to the old code in order to avoid re-creating the
: index, but I would prefer to find a solution that uses the latest classes
: AND avoids re-creating the index, if possible.
: thanks for any help,

if you don't wnat to rebuild your index, then just keep using the
DateField class and everything will be fine.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 02:20:26 2006
Return-Path: <java-user-return-19408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94930 invoked from network); 8 Mar 2006 02:20:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 02:20:25 -0000
Received: (qmail 62963 invoked by uid 500); 8 Mar 2006 02:20:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62940 invoked by uid 500); 8 Mar 2006 02:20:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62929 invoked by uid 99); 8 Mar 2006 02:20:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 18:20:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 18:20:19 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CEC695B774; Tue,  7 Mar 2006 18:19:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id BAB797F403
	for <java-user@lucene.apache.org>; Tue,  7 Mar 2006 18:19:53 -0800 (PST)
Date: Tue, 7 Mar 2006 18:19:53 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Scoring with FunctionQueries?
In-Reply-To: <20060307232434.GH29973@amok.priv>
Message-ID: <Pine.LNX.4.58.0603071807080.17684@hal.rescomp.berkeley.edu>
References: <20060307181534.GG29973@amok.priv>
 <Pine.LNX.4.58.0603071104400.1215@hal.rescomp.berkeley.edu>
 <20060307232434.GH29973@amok.priv>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I tried both approaches, and both don't seem to do what I
: want. Perhaps I did not understand you properly.

>From what I can tell it looks like you understood me perfectly, I too am
baffled by the results you are getting.  I have a couple of thoughts:

1) check the raw core you get from these docs using a HitCollector and
compare thatwith the value from explain ... the explain info is calculated
through a parallel code path which differs from the normal search/score
code path and it's totally possible there are bugs (BooleanQuery for
example will happily deal with sub queries that return scores of <= 0, but
it's explain functionwill not ... i don't think that's the issue here, but
it may be similar.

2) Add some logging (or set some breakpoints) to your custom similarites
   queryNorm methods (and your getSimilarity methods) to see
   if/when/how-often the methods are being called.

2) Try eliminating some variables andd see what happens ...
   a) create concrete subclasses instead of using anonomous instances with
      overriden methods.
   b) don't bother using FunctionQuery, just use two seperate TermQueries
      with different getSimilarity() methods (FunctionQuery is fairly new
      ... there may be bugs in it, also this way if you still have a
      problem you have a use case that anyone with lucene familiarty will
      understand even if they've never seen FunctionQuery)

: I generated a small in-memory index (six documents) for testing your
: suggestions, with some text in field "content" and a numeric score in
: field "score". Following are the code I used and the explanations I
: obtained.

once you've tried the suggestions above, can you make send out a
selfcontained JUnit test showing the problems?

: Please see the code above. I have not delved into the depths of Lucene
: yet, but it seems that Lucene uses only one similarity instance for
: scoring all clauses in the boolean query, and doesn't honour the
: similarity instances provided by the individual clauses.

i just double checked, and i can't see anyway that could be happening --
but you're seeing something weird, so *something* isn't working the way i
thought.  as i said, if you can post a self contained unit test that
demonstrates the problem, then maybe someone can spot the glitch.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 02:33:24 2006
Return-Path: <java-user-return-19409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 482 invoked from network); 8 Mar 2006 02:33:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 02:33:24 -0000
Received: (qmail 76406 invoked by uid 500); 8 Mar 2006 02:33:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75871 invoked by uid 500); 8 Mar 2006 02:33:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75860 invoked by uid 99); 8 Mar 2006 02:33:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 18:33:19 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.37 as permitted sender)
Received: from [64.4.51.37] (HELO hotmail.com) (64.4.51.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 18:33:18 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 7 Mar 2006 18:32:57 -0800
Message-ID: <BAY107-F275BAF6C213B58AC0D43F394EF0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Wed, 08 Mar 2006 02:32:56 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
In-Reply-To: <Pine.LNX.4.58.0603071750150.17684@hal.rescomp.berkeley.edu>
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene 1.9.1 and timeToString() apparent incompatibility with 1.4.3
Date: Wed, 08 Mar 2006 02:32:56 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 08 Mar 2006 02:32:57.0895 (UTC) FILETIME=[9CA06370:01C64258]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Chris for making it clear, I had read the comment but I had not 
understood that it implied incompatibility. But will the code be preserved 
in Lucene 2.0, in light of the comment contained in the Lucene 1.9.1 
announcement ?
QUOTE
Applications must compile against 1.9 without deprecation warnings
before they are compatible with 2.0.
UNQUOTE

Victor

>From: Chris Hostetter <hossman_lucene@fucit.org>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Lucene 1.9.1 and timeToString() apparent incompatibility with 
>1.4.3
>Date: Tue, 7 Mar 2006 17:54:27 -0800 (PST)
>
>
>: timeToString() and stringToTime() classes are used. Using an index 
>created
>: with 1.4.3 and searched with 1.9.1  I now receive the following errors:
>
>As the deprecation comment in DateField says...
>
>	If you build a new index, use DateTools instead. For existing indices you
>	can continue using this class, as it will not be removed in the near
>	future despite being deprecated.
>
>...DateTools is not backwards with DateField, which is why that comment
>tries to make it clear that you shouldn't use DateField for new indexes,
>but you can continue using it for old ones without fear.
>
>: I assume there is a better way to do this than the above as this
>: incompatibility is not documented.
>: I know I can always revert to the old code in order to avoid re-creating 
>the
>: index, but I would prefer to find a solution that uses the latest classes
>: AND avoids re-creating the index, if possible.
>: thanks for any help,
>
>if you don't wnat to rebuild your index, then just keep using the
>DateField class and everything will be fine.
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
mycareer.com.au: http://www.mycareer.com.au/?s_cid=213596  Land the Job


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 07:32:21 2006
Return-Path: <java-user-return-19410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13686 invoked from network); 8 Mar 2006 07:32:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 07:32:21 -0000
Received: (qmail 34954 invoked by uid 500); 8 Mar 2006 07:32:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34933 invoked by uid 500); 8 Mar 2006 07:32:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34922 invoked by uid 99); 8 Mar 2006 07:32:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 23:32:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Mar 2006 23:32:13 -0800
Content-class: urn:content-classes:message
Subject: RE: Distributed Lucene..
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 8 Mar 2006 09:31:48 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D392093@xmail.me.corp.entopia.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Distributed Lucene..
Thread-Index: AcZCGL4Vry0221noS2u1WAeI/RuHowAaQUeg
From: "Andrew Schetinin" <aschetinin@entopia.com>
To: <java-user@lucene.apache.org>,
	"Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Sure not. We created another IndexWriter class and modified its function
addIndexes (if I remember the function name correctly) so it will not
call to optimize at the end - that's all.
Having unique segment names was necessary because the segment file name
is used inside the file itself, and cannot be changed on the fly.=20

Best Regards,

Andrew

=20


=20

--
Andrew Schetinin
C++ System Architect
Phone: +972 8 643 6560, ext. 212
Email: mailto:aschetinin@entopia.com

www.entopia.com

Entopia Awards:=20
"Visionary in Enterprise Search Magic Quadrant" Gartner Group
"Best Search Engine" SIIA Codie Award
"Trend Setting Product" KMWorld Magazine


-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Tuesday, March 07, 2006 8:55 PM
To: java-user@lucene.apache.org
Subject: Re: Distributed Lucene..

Hi,
Just curious about this:

> We hacked :-) IndexWriter of Lucene to start all segment names with a=20
> prefix unique for each small index part.
> Then, when adding it to the actual index, we simply copy the new=20
> segment to the folder with the other segments, and add it in such a=20
> way so that the optimize() function cannot be called.
> This way adding a new segment is very unintrusive for the searcher.
> Optimization is scheduled to happen at night.


You just copy your uniquely-named segments in the index directory and
manually modify the "segments" file to list all copied segments?

Thanks,
Otis




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 08:09:52 2006
Return-Path: <java-user-return-19411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31616 invoked from network); 8 Mar 2006 08:09:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 08:09:46 -0000
Received: (qmail 80492 invoked by uid 500); 8 Mar 2006 08:09:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80467 invoked by uid 500); 8 Mar 2006 08:09:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80456 invoked by uid 99); 8 Mar 2006 08:09:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:09:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.182.201 as permitted sender)
Received: from [64.233.182.201] (HELO nproxy.gmail.com) (64.233.182.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:09:39 -0800
Received: by nproxy.gmail.com with SMTP id y38so92773nfb
        for <java-user@lucene.apache.org>; Wed, 08 Mar 2006 00:09:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=r9SJdIFbwqDczRfkPkmnBLFo7y1JxlyTB1ptq2qosEaUcuANVHexISoegG0Xdg5PAjSwrNGssd/7340BV9H4LjopCBKTSv2WOxpfw+rjm6G3z4yXeVWq5ZZCA2SMI+eRXLgJChOp99jqKG2V6FpDmmI3OhOg1P1vPEFVi9vA8/o=
Received: by 10.48.143.20 with SMTP id q20mr228041nfd;
        Wed, 08 Mar 2006 00:09:18 -0800 (PST)
Received: by 10.49.51.7 with HTTP; Wed, 8 Mar 2006 00:09:18 -0800 (PST)
Message-ID: <f13b62210603080009s33645bf6reefb172c69f582ba@mail.gmail.com>
Date: Wed, 8 Mar 2006 13:39:18 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: query parser
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3960_1544504.1141805358700"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3960_1544504.1141805358700
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I want to use query parser to parse my query string

But the default field should be a group of fields with different fields
where it is searched on

Can any one let me know

For example if my query is

new books

new should be searched in different fields ( content and title)

books should be searched in different fields ( content and title)


How do i accomplish this and how can i extend querparser to do the above

------=_Part_3960_1544504.1141805358700--

From java-user-return-19412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 08:15:27 2006
Return-Path: <java-user-return-19412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35086 invoked from network); 8 Mar 2006 08:15:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 08:15:27 -0000
Received: (qmail 88970 invoked by uid 500); 8 Mar 2006 08:15:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88695 invoked by uid 500); 8 Mar 2006 08:15:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88684 invoked by uid 99); 8 Mar 2006 08:15:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:15:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.183] (HELO moutng.kundenserver.de) (212.227.126.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:15:20 -0800
Received: from [193.178.208.6] (helo=[43.207.33.107])
	by mrelayeu.kundenserver.de (node=mrelayeu8) with ESMTP (Nemesis),
	id 0ML2ov-1FGtov1VeY-0007kt; Wed, 08 Mar 2006 09:14:57 +0100
Message-ID: <440E927E.1040308@webdynamite.com>
Date: Wed, 08 Mar 2006 09:14:54 +0100
From: Rainer Dollinger <dollinger@webdynamite.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: query parser
References: <f13b62210603080009s33645bf6reefb172c69f582ba@mail.gmail.com>
In-Reply-To: <f13b62210603080009s33645bf6reefb172c69f582ba@mail.gmail.com>
X-Enigmail-Version: 0.93.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:967192a2a2a2199bdce51f05cb79d10d
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Take a look at the class MultiFieldQueryParser, I think it does exactly
what you want.

GR,
Rainer


Raghavendra Prabhu wrote:
> I want to use query parser to parse my query string
> 
> But the default field should be a group of fields with different fields
> where it is searched on
> 
> Can any one let me know
> 
> For example if my query is
> 
> new books
> 
> new should be searched in different fields ( content and title)
> 
> books should be searched in different fields ( content and title)
> 
> 
> How do i accomplish this and how can i extend querparser to do the above
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 08:26:37 2006
Return-Path: <java-user-return-19413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41437 invoked from network); 8 Mar 2006 08:26:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 08:26:36 -0000
Received: (qmail 3415 invoked by uid 500); 8 Mar 2006 08:26:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3345 invoked by uid 500); 8 Mar 2006 08:26:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3297 invoked by uid 99); 8 Mar 2006 08:26:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:26:22 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:26:22 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FGtzb-0007qg-Qx
	for java-user@lucene.apache.org; Wed, 08 Mar 2006 11:25:59 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: Get only count
Date: Wed, 8 Mar 2006 11:25:35 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <c68e39170603070734w1b6f2bbal375c230b226ba95a@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcZB/aLFQi6NcyBkSNu8um8B4UxtXAAirQbw
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060308082622.8217A10FB007@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Signifies this that method collect can be called for document with score <=
0 ?

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com] 
Sent: Tuesday, March 07, 2006 6:35 PM
To: java-user@lucene.apache.org
Subject: Re: Get only count
Importance: High

On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> Can have matching document score equals zero ?

Yes.  Scorers don't generally use "score" to determine if a document
matched the query.
Scores <= 0.0f are currently screened out at the top level search
functions, but not when you use a HitCollector yourself.

-Yonik


> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Tuesday, March 07, 2006 6:20 PM
> To: java-user@lucene.apache.org
> Subject: Re: Get only count
> Importance: High
>
> On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> > While you added "if (score > 0.0f)". Javadoc contain lines
> > "HitCollector.collect(int,float) is called for every non-zero scoring".
>
> That should probably read "is called for every matching document".
>
> -Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 08:30:18 2006
Return-Path: <java-user-return-19414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42958 invoked from network); 8 Mar 2006 08:30:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 08:30:07 -0000
Received: (qmail 6971 invoked by uid 500); 8 Mar 2006 08:29:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6947 invoked by uid 500); 8 Mar 2006 08:29:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6936 invoked by uid 99); 8 Mar 2006 08:29:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:29:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.182.195 as permitted sender)
Received: from [64.233.182.195] (HELO nproxy.gmail.com) (64.233.182.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:29:54 -0800
Received: by nproxy.gmail.com with SMTP id l36so93929nfa
        for <java-user@lucene.apache.org>; Wed, 08 Mar 2006 00:29:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Wpz+YmB/sHUqlAbLK3NpMEeZKwKdzH0yzJV+2fU4MtCF7qYO/uis0ATk9TOPBpv3+E/+EM6YNtuzu/wpNY6YT5H9LSp+7w9+VGSPziQXq7jILTdVITLrLavJusxy7q+Is4Iqm3ZoJMMUR6vX1cS4KRLUpWC9XPvBcJo8Ja/h8Bw=
Received: by 10.48.250.9 with SMTP id x9mr212518nfh;
        Wed, 08 Mar 2006 00:29:31 -0800 (PST)
Received: by 10.49.51.7 with HTTP; Wed, 8 Mar 2006 00:29:31 -0800 (PST)
Message-ID: <f13b62210603080029y7f5e717anbbb5ea595a17e85f@mail.gmail.com>
Date: Wed, 8 Mar 2006 13:59:31 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: query parser
In-Reply-To: <440E927E.1040308@webdynamite.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4089_7131773.1141806571854"
References: <f13b62210603080009s33645bf6reefb172c69f582ba@mail.gmail.com>
	 <440E927E.1040308@webdynamite.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4089_7131773.1141806571854
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Rainer

Thanks. I have one more doubt.

How do i set different boosts for each field using query parser

Can i set different boosts for each field?

Rgds
Prabhu

On 3/8/06, Rainer Dollinger <dollinger@webdynamite.com> wrote:
>
> Take a look at the class MultiFieldQueryParser, I think it does exactly
> what you want.
>
> GR,
> Rainer
>
>
> Raghavendra Prabhu wrote:
> > I want to use query parser to parse my query string
> >
> > But the default field should be a group of fields with different fields
> > where it is searched on
> >
> > Can any one let me know
> >
> > For example if my query is
> >
> > new books
> >
> > new should be searched in different fields ( content and title)
> >
> > books should be searched in different fields ( content and title)
> >
> >
> > How do i accomplish this and how can i extend querparser to do the abov=
e
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_4089_7131773.1141806571854--

From java-user-return-19415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 08:41:14 2006
Return-Path: <java-user-return-19415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53191 invoked from network); 8 Mar 2006 08:41:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 08:41:11 -0000
Received: (qmail 18383 invoked by uid 500); 8 Mar 2006 08:41:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18353 invoked by uid 500); 8 Mar 2006 08:41:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18342 invoked by uid 99); 8 Mar 2006 08:41:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:41:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.169.158.23] (HELO mail.aurisp.de) (81.169.158.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 00:41:01 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.aurisp.de (Postfix) with ESMTP id B246BB814
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 09:40:40 +0100 (CET)
Received: from mail.aurisp.de ([127.0.0.1])
	by localhost (mail.aurisp.de [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 11069-02-4 for <java-user@lucene.apache.org>;
	Wed, 8 Mar 2006 09:40:36 +0100 (CET)
Received: from localhost (p50886D8B.dip.t-dialin.net [80.136.109.139])
	by mail.aurisp.de (Postfix) with ESMTP id 426B2B80F
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 09:40:35 +0100 (CET)
Date: Wed, 8 Mar 2006 09:40:32 +0100
From: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
To: java-user@lucene.apache.org
Subject: Re: Scoring with FunctionQueries?
Message-ID: <20060308084032.GI29973@amok.priv>
References: <20060307181534.GG29973@amok.priv> <Pine.LNX.4.58.0603071104400.1215@hal.rescomp.berkeley.edu> <20060307232434.GH29973@amok.priv> <Pine.LNX.4.58.0603071807080.17684@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <Pine.LNX.4.58.0603071807080.17684@hal.rescomp.berkeley.edu>
User-Agent: Mutt/1.4i
X-Virus-Scanned: amavisd-new at mail.aurisp.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, Mar 07, 2006 at 06:19:53PM -0800, Chris Hostetter wrote:
> once you've tried the suggestions above, can you make send out a
> selfcontained JUnit test showing the problems?

Thanks, Chris, glad you agree that it doesn't work as you expect it to
work. I will try your suggestions and send in a JUnit test. May take a
while though, as I'm just leaving for CeBIT.

Oh, FWIW, I'm using Lucene 1.9.1 and the Solr nightly build from
2006-03-07 for the FunctionQuery implementation.

Regards, Sebastian

-- 
Sebastian Kirsch <skirsch@sebastian-kirsch.org> [http://www.sebastian-kirsch.org/]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 09:04:20 2006
Return-Path: <java-user-return-19416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66606 invoked from network); 8 Mar 2006 09:04:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 09:04:19 -0000
Received: (qmail 36745 invoked by uid 500); 8 Mar 2006 09:04:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36339 invoked by uid 500); 8 Mar 2006 09:04:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36315 invoked by uid 99); 8 Mar 2006 09:04:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 01:04:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 01:04:10 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 93BE85B77A; Wed,  8 Mar 2006 01:03:43 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 848397F403
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 01:03:43 -0800 (PST)
Date: Wed, 8 Mar 2006 01:03:43 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lucene 1.9.1 and timeToString() apparent incompatibility with
 1.4.3
In-Reply-To: <BAY107-F275BAF6C213B58AC0D43F394EF0@phx.gbl>
Message-ID: <Pine.LNX.4.58.0603080101001.640@hal.rescomp.berkeley.edu>
References: <BAY107-F275BAF6C213B58AC0D43F394EF0@phx.gbl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Thanks Chris for making it clear, I had read the comment but I had not
: understood that it implied incompatibility. But will the code be preserved
: in Lucene 2.0, in light of the comment contained in the Lucene 1.9.1
: announcement ?

I don't really know, it's currently being discussed in LUCENE-500...

	http://issues.apache.org/jira/browse/LUCENE-500


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 09:42:55 2006
Return-Path: <java-user-return-19417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88704 invoked from network); 8 Mar 2006 09:42:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 09:42:46 -0000
Received: (qmail 84816 invoked by uid 500); 8 Mar 2006 09:42:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84789 invoked by uid 500); 8 Mar 2006 09:42:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84778 invoked by uid 99); 8 Mar 2006 09:42:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 01:42:25 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.26 as permitted sender)
Received: from [64.4.51.26] (HELO hotmail.com) (64.4.51.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 01:42:23 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 8 Mar 2006 01:42:03 -0800
Message-ID: <BAY107-F16C7DA76996187C2F3E5F094EF0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Wed, 08 Mar 2006 09:42:01 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
In-Reply-To: <Pine.LNX.4.58.0603080101001.640@hal.rescomp.berkeley.edu>
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene 1.9.1 and timeToString() apparent incompatibility with 1.4.3
Date: Wed, 08 Mar 2006 09:42:01 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 08 Mar 2006 09:42:03.0446 (UTC) FILETIME=[8E2BB560:01C64294]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thanks Chris, I think I'll opt for re-creating the index now, using the new 
1.9.1 code. Sooner  or later, it seems to me, the deprecated code will be 
removed anyway. Better facing the pain now than later, makes it possible for 
me to take advantage of the new date resolution features. Even though I can 
live without them they can be a performance boost.

Victor



>From: Chris Hostetter <hossman_lucene@fucit.org>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Lucene 1.9.1 and timeToString() apparent incompatibility with 
>1.4.3
>Date: Wed, 8 Mar 2006 01:03:43 -0800 (PST)
>
>
>: Thanks Chris for making it clear, I had read the comment but I had not
>: understood that it implied incompatibility. But will the code be 
>preserved
>: in Lucene 2.0, in light of the comment contained in the Lucene 1.9.1
>: announcement ?
>
>I don't really know, it's currently being discussed in LUCENE-500...
>
>	http://issues.apache.org/jira/browse/LUCENE-500
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
New year, new job  there's more than 100,00 jobs at SEEK 
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau&_t=752315885&_r=Jan05_tagline&_m=EXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 10:05:34 2006
Return-Path: <java-user-return-19418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3256 invoked from network); 8 Mar 2006 10:05:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 10:05:33 -0000
Received: (qmail 22176 invoked by uid 500); 8 Mar 2006 10:05:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22150 invoked by uid 500); 8 Mar 2006 10:05:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22138 invoked by uid 99); 8 Mar 2006 10:05:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 02:05:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.182.192 as permitted sender)
Received: from [64.233.182.192] (HELO nproxy.gmail.com) (64.233.182.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 02:05:26 -0800
Received: by nproxy.gmail.com with SMTP id c2so104330nfe
        for <java-user@lucene.apache.org>; Wed, 08 Mar 2006 02:05:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Tg3+bFQ7mEJVcl4XZ2JCE6gz6vPWohc5XMC6xBp6tWmz+tawF/l3tsgoQ5VwkT6MX3yXDyLnyCjYLxTlFeH5jEs6pLcMzKY3I9wmvsYr8yrK8xQO16+KbHz3WjALvEOBVlBaP1izC5ihGWgybvJr986QHh+TGvHTg7N0svfGU5U=
Received: by 10.48.208.8 with SMTP id f8mr248964nfg;
        Wed, 08 Mar 2006 02:05:05 -0800 (PST)
Received: by 10.49.51.7 with HTTP; Wed, 8 Mar 2006 02:05:05 -0800 (PST)
Message-ID: <f13b62210603080205v3f1c6229uccc50bb5659b009c@mail.gmail.com>
Date: Wed, 8 Mar 2006 15:35:05 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: MuliField Query Parser
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5688_11485156.1141812305282"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5688_11485156.1141812305282
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

I need different boosts for fields which we define in multifield query
parser

How can this be accomplished??


Rgds
Prabhu

------=_Part_5688_11485156.1141812305282--

From java-user-return-19419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 10:41:30 2006
Return-Path: <java-user-return-19419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22639 invoked from network); 8 Mar 2006 10:41:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 10:41:30 -0000
Received: (qmail 62590 invoked by uid 500); 8 Mar 2006 10:41:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62565 invoked by uid 500); 8 Mar 2006 10:41:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62554 invoked by uid 99); 8 Mar 2006 10:41:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 02:41:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 02:41:23 -0800
Received: from orbitsoft.ipt ([192.168.0.150] helo=orbitsoft.orbitscripts)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FGw6H-0008Hn-9A
	for java-user@lucene.apache.org; Wed, 08 Mar 2006 13:41:01 +0300
Subject: RangeQuery and  RangeFilter
Date: Wed, 8 Mar 2006 13:40:39 +0300
Message-ID: <41D8E340E5045F4ABA553E4524E3D3792DFF53@orbitsoft.orbitscripts>
X-MS-Has-Attach: 
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6429C.D941534A"
X-MS-TNEF-Correlator: 
Thread-Topic: RangeQuery and  RangeFilter
Thread-Index: AcZCnL2k+9j4cqOLQJ+549Ls16ZsHQ==
Content-class: urn:content-classes:message
From: "Anton Potehin" <anton@orbita1.ru>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6429C.D941534A
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

What faster RangeQuery or RangeFilter ?=20


------_=_NextPart_001_01C6429C.D941534A--

From java-user-return-19420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 10:57:56 2006
Return-Path: <java-user-return-19420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31844 invoked from network); 8 Mar 2006 10:57:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 10:57:56 -0000
Received: (qmail 81574 invoked by uid 500); 8 Mar 2006 10:57:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81146 invoked by uid 500); 8 Mar 2006 10:57:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81135 invoked by uid 99); 8 Mar 2006 10:57:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 02:57:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.183] (HELO moutng.kundenserver.de) (212.227.126.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 02:57:49 -0800
Received: from [193.178.208.6] (helo=[43.207.33.107])
	by mrelayeu.kundenserver.de (node=mrelayeu3) with ESMTP (Nemesis),
	id 0MKxQS-1FGwMB2WY4-0005fc; Wed, 08 Mar 2006 11:57:27 +0100
Message-ID: <440EB895.6060109@webdynamite.com>
Date: Wed, 08 Mar 2006 11:57:25 +0100
From: Rainer Dollinger <dollinger@webdynamite.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: MuliField Query Parser
References: <f13b62210603080205v3f1c6229uccc50bb5659b009c@mail.gmail.com>
In-Reply-To: <f13b62210603080205v3f1c6229uccc50bb5659b009c@mail.gmail.com>
X-Enigmail-Version: 0.93.0.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:967192a2a2a2199bdce51f05cb79d10d
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You could try to inherit from MultiFieldQueryParser:

public class BoostableMultiFieldQueryParser extends MultiFieldQueryParser {

    // TODO: add constructors of super class


    public static Query parse(String query, String[] fields,
            BooleanClause.Occur[] flags,Analyzer analyzer, float[]
boosts) throws ParseException {
          if (fields.length != flags.length)
            throw new IllegalArgumentException("fields.length !=
flags.length");
          BooleanQuery bQuery = new BooleanQuery();
          for (int i = 0; i < fields.length; i++) {
            QueryParser qp = new QueryParser(fields[i], analyzer);
            Query q = qp.parse(query);

            // ATTENTION: the only new line !!!
            q.setBoost(boost[i]);

            bQuery.add(q, flags[i]);
          }
          return bQuery;
        }
}

I copied the code of method parse(String, String, BooleanClause.Occur[],
Analyzer) and added the parameter float[] boosts.
I marked the only line I have inserted.
You have to add the constructors from the super class to get the class
compiled.

I did'nt have the time to test this idea, please post a reply if it
works, if you try this.

Rainer



Raghavendra Prabhu wrote:
> Hi
> 
> I need different boosts for fields which we define in multifield query
> parser
> 
> How can this be accomplished??
> 
> 
> Rgds
> Prabhu
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 12:02:15 2006
Return-Path: <java-user-return-19421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57560 invoked from network); 8 Mar 2006 12:02:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 12:02:13 -0000
Received: (qmail 48241 invoked by uid 500); 8 Mar 2006 12:02:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47678 invoked by uid 500); 8 Mar 2006 12:02:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47656 invoked by uid 99); 8 Mar 2006 12:02:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 04:02:06 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.34] (HELO web26012.mail.ukl.yahoo.com) (217.146.177.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 08 Mar 2006 04:02:05 -0800
Received: (qmail 59228 invoked by uid 60001); 8 Mar 2006 12:01:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=s71bn3MTrwa4svxyI4nk9DwEqB3QRPOvvAVKwsBYdcqt2pkowHZBwc0nQWnSzdYFQrNEaP7S18/H6wDhqskLcdRVqVdzf9yZ8aVFoAw3KHlsio6dsH0N2LNbDlOvAkceMHacjzRtgWjdV4ka918GnV8WJC6az6ixJZoJW/JF7x0=  ;
Message-ID: <20060308120143.59226.qmail@web26012.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26012.mail.ukl.yahoo.com via HTTP; Wed, 08 Mar 2006 12:01:43 GMT
Date: Wed, 8 Mar 2006 12:01:43 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: RangeQuery and  RangeFilter
To: java-user@lucene.apache.org
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792DFF53@orbitsoft.orbitscripts>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See
http://wiki.apache.org/jakarta-lucene/FilteringOptions


--- Anton Potehin <anton@orbita1.ru> wrote:

> What faster RangeQuery or RangeFilter ? 
> 
> 



		
___________________________________________________________ 
Win a BlackBerry device from O2 with Yahoo!. Enter now. http://www.yahoo.co.uk/blackberry

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 13:53:51 2006
Return-Path: <java-user-return-19422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28497 invoked from network); 8 Mar 2006 13:53:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 13:53:51 -0000
Received: (qmail 55688 invoked by uid 500); 8 Mar 2006 13:53:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55658 invoked by uid 500); 8 Mar 2006 13:53:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55647 invoked by uid 99); 8 Mar 2006 13:53:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 05:53:44 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.238] (HELO web60815.mail.yahoo.com) (209.73.178.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 08 Mar 2006 05:53:43 -0800
Received: (qmail 96252 invoked by uid 60001); 8 Mar 2006 13:53:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=u8SjWyHirWG/4a3+Jal14W7nzIVWSVJWJQn2hBmWIwWLITZYPe+RcpnOLJcCwhbfybhxKcj4X5Pm4vNYmpaTDfK7kVso5PJ2jFBM6V9QmXNnFPeT7VGGKlRe+fWCKLRlqUDWZwwuJMevzOCIdAZ9bu9p+APPv+XSq9ID/qQdwgM=  ;
Message-ID: <20060308135322.96249.qmail@web60815.mail.yahoo.com>
Received: from [212.179.71.70] by web60815.mail.yahoo.com via HTTP; Wed, 08 Mar 2006 05:53:22 PST
Date: Wed, 8 Mar 2006 05:53:22 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: 1.4.3 and 64bit support? out of memory??
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1962576725-1141826002=:95536"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1962576725-1141826002=:95536
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hi all,
   
  i've been trying to load a 6GB index on linux (16GB RAM) but am having no success.
   
  i wrote a program that allocates memory and it was able to allocate as much RAM as i requested (stopped at 12GB)
   
  however 
   
  i am recieving the following stack trace:
   
  JVMDUMP013I Processed Dump Event "uncaught", detail "java/lang/OutOfMemoryError".
Exception in thread "main" java.lang.OutOfMemoryError
        at org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:82)
        at org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:45)
        at org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:112)
        at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:89)
        at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
        at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:43)

   
  when trying to load the indexes
   
  any ideas????
   
  thanks in advance,
   
   
   

		
---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail  makes sharing a breeze. 
--0-1962576725-1141826002=:95536--

From java-user-return-19423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 15:59:21 2006
Return-Path: <java-user-return-19423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20384 invoked from network); 8 Mar 2006 15:59:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 15:59:20 -0000
Received: (qmail 14476 invoked by uid 500); 8 Mar 2006 15:59:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14449 invoked by uid 500); 8 Mar 2006 15:59:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14438 invoked by uid 99); 8 Mar 2006 15:59:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 07:59:14 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.157.35 as permitted sender)
Received: from [205.188.157.35] (HELO imo-d03.mx.aol.com) (205.188.157.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 07:59:13 -0800
Received: from Msftblows@aol.com
	by imo-d03.mx.aol.com (mail_out_v38_r7.3.) id h.2b2.5e28ae9 (15974)
	 for <java-user@lucene.apache.org>; Wed, 8 Mar 2006 10:58:40 -0500 (EST)
Received: from  mblk-d16 (mblk-d16.mblk.aol.com [205.188.149.8]) by air-id10.mx.aol.com (vx) with ESMTP id MAILINID101-3e66440eff2f29a; Wed, 08 Mar 2006 10:58:39 -0500
Date: Wed, 08 Mar 2006 10:58:38 -0500
From: msftblows@aol.com
Message-Id: <8C810E04C89516D-1678-D2BD@mblk-d16.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 38.117.191.163 by mblk-d16.sysops.aol.com (205.188.149.8) with HTTP (WebMailUI); Wed, 08 Mar 2006 10:58:38 -0500
X-Mailer: AOL WebMail 15106
Subject: Lucene Scoring
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C810E04C89516D_1678_CDE5_mblk-d16.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.149.8
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C810E04C89516D_1678_CDE5_mblk-d16.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Anyone have a doc or something that would allow me to explain this to execs? A "Lucene Scoring for Dummies" idea...explaining math algo to a exec or someone with no knowledge is not that easy :)
 
Thanks!
-Joe

----------MailBlocks_8C810E04C89516D_1678_CDE5_mblk-d16.sysops.aol.com--

From java-user-return-19424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 16:21:43 2006
Return-Path: <java-user-return-19424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33825 invoked from network); 8 Mar 2006 16:21:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 16:21:40 -0000
Received: (qmail 69833 invoked by uid 500); 8 Mar 2006 16:21:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69297 invoked by uid 500); 8 Mar 2006 16:21:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69286 invoked by uid 99); 8 Mar 2006 16:21:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 08:21:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.31] (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 08:21:28 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.13.3/8.13.3) with ESMTP id k28GL3j0064524
	for <java-user@lucene.apache.org>; Wed, 8 Mar 2006 17:21:05 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Get only count
Date: Wed, 8 Mar 2006 17:20:58 +0100
User-Agent: KMail/1.8.2
References: <20060308082622.8217A10FB007@asf.osuosl.org>
In-Reply-To: <20060308082622.8217A10FB007@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603081720.58960.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 08 March 2006 09:25, anton@orbita1.ru wrote:
> Signifies this that method collect can be called for document with score <=
> 0 ?

The collect() method is called after next() on the top level Scorer has 
returned true. In between score() is called on that Scorer to provide the 
score value, but the score value is not tested.
Most Scorers give only positive score values for matching documents.

This is implemented in the IndexSearcher.search(...) and
Scorer.score(HitCollector) methods.

Regards,
Paul Elschot

> 
> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com] 
> Sent: Tuesday, March 07, 2006 6:35 PM
> To: java-user@lucene.apache.org
> Subject: Re: Get only count
> Importance: High
> 
> On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> > Can have matching document score equals zero ?
> 
> Yes.  Scorers don't generally use "score" to determine if a document
> matched the query.
> Scores <= 0.0f are currently screened out at the top level search
> functions, but not when you use a HitCollector yourself.
> 
> -Yonik
> 
> 
> > -----Original Message-----
> > From: Yonik Seeley [mailto:yseeley@gmail.com]
> > Sent: Tuesday, March 07, 2006 6:20 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: Get only count
> > Importance: High
> >
> > On 3/7/06, anton@orbita1.ru <anton@orbita1.ru> wrote:
> > > While you added "if (score > 0.0f)". Javadoc contain lines
> > > "HitCollector.collect(int,float) is called for every non-zero scoring".
> >
> > That should probably read "is called for every matching document".
> >
> > -Yonik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 16:25:39 2006
Return-Path: <java-user-return-19425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36720 invoked from network); 8 Mar 2006 16:25:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 16:25:38 -0000
Received: (qmail 79720 invoked by uid 500); 8 Mar 2006 16:25:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79696 invoked by uid 500); 8 Mar 2006 16:25:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79685 invoked by uid 99); 8 Mar 2006 16:25:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 08:25:32 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO pproxy.gmail.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 08:25:31 -0800
Received: by pproxy.gmail.com with SMTP id n25so1209492pyg
        for <java-user@lucene.apache.org>; Wed, 08 Mar 2006 08:25:11 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=VOzqRmhkDGR+dSZ2ujjyYWZDQi2ARePsendBBGCMJwwBCH+BPz51DdUmSOAqx1rl56UiJYMhqz/VO1z7GDFOEHwHHyKLsXopDmEGA1sNJtsHigufvHSpEojN3zCQd8Q2o2XSGBsBnDqHnnIGe55qIgkSr+diQxrxqg9Mdaoy0qg=
Received: by 10.35.37.18 with SMTP id p18mr1059153pyj;
        Wed, 08 Mar 2006 08:25:10 -0800 (PST)
Received: from ?172.24.51.72? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id n62sm680073pyf.2006.03.08.08.25.10;
        Wed, 08 Mar 2006 08:25:10 -0800 (PST)
Message-ID: <440F0566.9010507@gmail.com>
Date: Wed, 08 Mar 2006 10:25:10 -0600
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: 1.4.3 and 64bit support? out of memory??
References: <20060308135322.96249.qmail@web60815.mail.yahoo.com>
In-Reply-To: <20060308135322.96249.qmail@web60815.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

zzzzz shalev wrote:
> hi all,
>    
>   i've been trying to load a 6GB index on linux (16GB RAM) but am having no success.
>    
>   i wrote a program that allocates memory and it was able to allocate as much RAM as i requested (stopped at 12GB)
>    

Was your program that got up to 12GB of memory written in Java, and 
using the same jvm with the same -Xmx settings as your lucene program?

Dan


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 16:28:41 2006
Return-Path: <java-user-return-19426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38339 invoked from network); 8 Mar 2006 16:28:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 16:28:30 -0000
Received: (qmail 89039 invoked by uid 500); 8 Mar 2006 16:28:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89017 invoked by uid 500); 8 Mar 2006 16:28:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89006 invoked by uid 99); 8 Mar 2006 16:28:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 08:28:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 08:28:15 -0800
Received: from [195.96.81.145] (helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1FH1Vu-0003Nd-KP
	for java-user@lucene.apache.org; Wed, 08 Mar 2006 10:27:51 -0600
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: Lucene Scoring
Date: Wed, 8 Mar 2006 19:35:08 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <8C810E04C89516D-1678-D2BD@mblk-d16.sysops.aol.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcZCyT8Ie/4Fp5ekTrWNOHKkPFB9wgAA1tXQ
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060308162815.9856310FB004@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: msftblows@aol.com [mailto:msftblows@aol.com] 
 
> Anyone have a doc or something that would allow me to explain 
> this to execs? A "Lucene Scoring for Dummies" 
> idea...explaining math algo to a exec or someone with no 
> knowledge is not that easy :)

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Similarity.h
tml

And "Lucene Book: - 3.3 : Understanding Lucene scoring "
http://lucenebook.com/search?query=scoring

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 16:37:44 2006
Return-Path: <java-user-return-19427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44674 invoked from network); 8 Mar 2006 16:37:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 16:37:39 -0000
Received: (qmail 17377 invoked by uid 500); 8 Mar 2006 16:37:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17325 invoked by uid 500); 8 Mar 2006 16:37:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17162 invoked by uid 99); 8 Mar 2006 16:37:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 08:37:29 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.233] (HELO web60825.mail.yahoo.com) (209.73.178.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 08 Mar 2006 08:37:28 -0800
Received: (qmail 98332 invoked by uid 60001); 8 Mar 2006 16:37:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=PAo/QTYdAR69T+yZoM6QZiHwtHFS5FXG7Ykjz0GQjn2BT6OrX/ESGP74Mq/dKfnJ6VSN5QJI/jRrwWO4WBbCoVk/jZ0RZduHXVrsgvAcxGYpPA26pWZ1nbEA/5fmhW+QVtkAoUL95LjdmApDBcgJ8BacO2dK8n2DuzQM5D8V57k=  ;
Message-ID: <20060308163706.98330.qmail@web60825.mail.yahoo.com>
Received: from [212.179.71.70] by web60825.mail.yahoo.com via HTTP; Wed, 08 Mar 2006 08:37:06 PST
Date: Wed, 8 Mar 2006 08:37:06 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: Re: 1.4.3 and 64bit support? out of memory??
To: java-user@lucene.apache.org
In-Reply-To: <440F0566.9010507@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-568357499-1141835826=:98056"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-568357499-1141835826=:98056
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

yes,
  100%
  

Dan Armbrust <daniel.armbrust.list@gmail.com> wrote:
  zzzzz shalev wrote:
> hi all,
> 
> i've been trying to load a 6GB index on linux (16GB RAM) but am having no success.
> 
> i wrote a program that allocates memory and it was able to allocate as much RAM as i requested (stopped at 12GB)
> 

Was your program that got up to 12GB of memory written in Java, and 
using the same jvm with the same -Xmx settings as your lucene program?

Dan


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



		
---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail  makes sharing a breeze. 
--0-568357499-1141835826=:98056--

From java-user-return-19428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 18:59:26 2006
Return-Path: <java-user-return-19428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39613 invoked from network); 8 Mar 2006 18:59:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 18:59:24 -0000
Received: (qmail 43958 invoked by uid 500); 8 Mar 2006 18:59:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43914 invoked by uid 500); 8 Mar 2006 18:59:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43903 invoked by uid 99); 8 Mar 2006 18:59:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 10:59:18 -0800
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.87.62] (HELO web37409.mail.mud.yahoo.com) (209.191.87.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 08 Mar 2006 10:59:18 -0800
Received: (qmail 36504 invoked by uid 60001); 8 Mar 2006 18:58:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=kDbjT1XHGQhbzluQUT6aMf4eG7JR1nGNUWS433r0Zqnz2o9joGo2IWs1m8UE0g7RWjWWlksyTjUqYJXHWHaRWID9Ru1XFRKXixW7bOgEgl6H43h5dCEnNQctBIJ7TPyxNRzD+csG0wqkO+x4RfqpyweRfBM/QHoYdiPraLYRys4=  ;
Message-ID: <20060308185856.36502.qmail@web37409.mail.mud.yahoo.com>
Received: from [38.99.201.242] by web37409.mail.mud.yahoo.com via HTTP; Wed, 08 Mar 2006 10:58:56 PST
Date: Wed, 8 Mar 2006 10:58:56 -0800 (PST)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Does Lucene support on-disk search?
To: java-user@lucene.apache.org
In-Reply-To: <C0334D71.1C6B%jsears@fivestaralliance.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2032691710-1141844336=:30334"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-2032691710-1141844336=:30334
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
   
  I heard that Lucene loads the index into memory to do a search, which does not sound quite right to me. I will not be surprised if Lucene is smart enough to load
  the index into memory when it is feasible, but I'd be surprised if it ALWAYS loads index memory to do the search, which I think would have scalability problem.
   
  Could someone clarify on this, thanks!
   
  By the way, could someone please share some experience on the performance of Lucene, say, on a data set of a few gigabytes and a "reasonable" query, what would
  be the average search time?
   
  Xiaocheng

		
---------------------------------
 Yahoo! Mail
 Use Photomail to share photos without annoying attachments.
--0-2032691710-1141844336=:30334--

From java-user-return-19429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 19:18:33 2006
Return-Path: <java-user-return-19429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52389 invoked from network); 8 Mar 2006 19:18:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 19:18:32 -0000
Received: (qmail 91057 invoked by uid 500); 8 Mar 2006 19:18:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91029 invoked by uid 500); 8 Mar 2006 19:18:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91017 invoked by uid 99); 8 Mar 2006 19:18:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 11:18:27 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 08 Mar 2006 11:18:26 -0800
Received: (qmail 70114 invoked from network); 8 Mar 2006 19:18:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=3O0DaUraYP0TrDEl/qsHI5Evzwf2gVA1ifgZrqFgbXSzAeBP55eoMo7SU4Ok04GzGCWt1WhqkhelzhjltIKe2pOEXZp6juon1uKKP5xYT7ZISG+pSAVoSCbB7+A+4ohM8hA2PPO56NBlPRJRr/Y7gvnAjBwQRBVPOgIA1144s74=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 8 Mar 2006 19:18:04 -0000
Message-ID: <440F2DE7.4060304@yahoo.co.uk>
Date: Wed, 08 Mar 2006 19:17:59 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene Scoring
References: <8C810E04C89516D-1678-D2BD@mblk-d16.sysops.aol.com>
In-Reply-To: <8C810E04C89516D-1678-D2BD@mblk-d16.sysops.aol.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

msftblows@aol.com wrote:

>Anyone have a doc or something that would allow me to explain this to execs?
>
Roughly speaking:

* Documents containing *all* the search terms are good
* Matches on rare words are better than for common words
* Long documents are not as good as short ones
* Documents which mention the search terms many times are good

...although there are more factors you can choose to add,  like 
emphasising individual query terms or individual docs in the index.

Cheers
Mark









		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 19:27:32 2006
Return-Path: <java-user-return-19430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57072 invoked from network); 8 Mar 2006 19:27:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 19:27:31 -0000
Received: (qmail 13761 invoked by uid 500); 8 Mar 2006 19:27:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13734 invoked by uid 500); 8 Mar 2006 19:27:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13723 invoked by uid 99); 8 Mar 2006 19:27:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 11:27:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 11:27:23 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.150267A0@mailer.syr.edu>; Wed, 8 Mar 2006 14:27:00 -0500
Message-ID: <440F2F8C.8010009@syr.edu>
Date: Wed, 08 Mar 2006 14:25:00 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Does Lucene support on-disk search?
References: <20060308185856.36502.qmail@web37409.mail.mud.yahoo.com>
In-Reply-To: <20060308185856.36502.qmail@web37409.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene _can_ load the index into memory, but it doesn't have to, if you 
want further details see the Javadocs on RAMDirectory versus 
FSDirectory.  I think you will find it has good performance on a few 
gigs of data.  Results, of course, vary based on what you are asking it 
to do and what kind of hardware you have.

-Grant

Xiaocheng Luan wrote:
> Hi,
>    
>   I heard that Lucene loads the index into memory to do a search, which does not sound quite right to me. I will not be surprised if Lucene is smart enough to load
>   the index into memory when it is feasible, but I'd be surprised if it ALWAYS loads index memory to do the search, which I think would have scalability problem.
>    
>   Could someone clarify on this, thanks!
>    
>   By the way, could someone please share some experience on the performance of Lucene, say, on a data set of a few gigabytes and a "reasonable" query, what would
>   be the average search time?
>    
>   Xiaocheng
>
> 		
> ---------------------------------
>  Yahoo! Mail
>  Use Photomail to share photos without annoying attachments.
>   

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 19:36:14 2006
Return-Path: <java-user-return-19431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61822 invoked from network); 8 Mar 2006 19:36:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 19:36:13 -0000
Received: (qmail 37101 invoked by uid 500); 8 Mar 2006 19:36:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37074 invoked by uid 500); 8 Mar 2006 19:36:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37063 invoked by uid 99); 8 Mar 2006 19:36:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 11:36:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 11:36:06 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id DE2445B766; Wed,  8 Mar 2006 11:35:39 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CA4B97F403
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 11:35:39 -0800 (PST)
Date: Wed, 8 Mar 2006 11:35:39 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: 1.4.3 and 64bit support? out of memory??
In-Reply-To: <20060308135322.96249.qmail@web60815.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0603081131040.25694@hal.rescomp.berkeley.edu>
References: <20060308135322.96249.qmail@web60815.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


:   i am recieving the following stack trace:
:
:   JVMDUMP013I Processed Dump Event "uncaught", detail "java/lang/OutOfMemoryError".
: Exception in thread "main" java.lang.OutOfMemoryError
:         at org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:82)

is it possible that parts of your application are eating up all of the
heap in your JVM before this exception is encountered?  Possibly by
opening a the index many times without closing it?

More specifically, if you write a 4 line app that does nothing by open
your index and then close it again, do you get an OOM? ...

	public class Main {
	  public static void main(String[] args) throws Exception {
	    Searcher s = new IndexSearcher("/your/index/path");
	    s.close();
	  }
	}



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 20:04:01 2006
Return-Path: <java-user-return-19432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77767 invoked from network); 8 Mar 2006 20:04:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 20:04:00 -0000
Received: (qmail 95380 invoked by uid 500); 8 Mar 2006 20:03:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95357 invoked by uid 500); 8 Mar 2006 20:03:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95346 invoked by uid 99); 8 Mar 2006 20:03:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 12:03:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 12:03:54 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4093F5B766; Wed,  8 Mar 2006 12:03:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 37CB17F403
	for <java-user@lucene.apache.org>; Wed,  8 Mar 2006 12:03:32 -0800 (PST)
Date: Wed, 8 Mar 2006 12:03:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lucene Scoring
In-Reply-To: <440F2DE7.4060304@yahoo.co.uk>
Message-ID: <Pine.LNX.4.58.0603081201010.25694@hal.rescomp.berkeley.edu>
References: <8C810E04C89516D-1678-D2BD@mblk-d16.sysops.aol.com>
 <440F2DE7.4060304@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Roughly speaking:
:
: * Documents containing *all* the search terms are good
: * Matches on rare words are better than for common words
: * Long documents are not as good as short ones
: * Documents which mention the search terms many times are good

Be wary of the distinction between "term" and "word" and how that affects
statements like "Long documents are not as good as short ones" ... If you
have a title field and body field and one document has a really long body,
but a very short title then a search on the title isn't going to be
penalized by the length of the body ... you have to choose your words
carefully.






-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 22:02:15 2006
Return-Path: <java-user-return-19433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48466 invoked from network); 8 Mar 2006 22:02:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 22:02:15 -0000
Received: (qmail 69625 invoked by uid 500); 8 Mar 2006 22:02:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69599 invoked by uid 500); 8 Mar 2006 22:02:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69588 invoked by uid 99); 8 Mar 2006 22:02:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 14:02:09 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.232] (HELO web60824.mail.yahoo.com) (209.73.178.232)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 08 Mar 2006 14:02:08 -0800
Received: (qmail 28072 invoked by uid 60001); 8 Mar 2006 22:01:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MWHZ5oCm/bt5Lc/LC4WX2vlK096YLIHGUJFCCNNgYfTLYbAv68L/OEfgwQFbsMwAsB1384yUz5vZo1kPhnZUuIqrsmyVs6yeSv9Ng6JraxMEhM+IAPm8W6wR//RowlTCCMiFl29P2aUbjCNFue25/jHdr9k2kKL6H1DQpA/qoVE=  ;
Message-ID: <20060308220147.28069.qmail@web60824.mail.yahoo.com>
Received: from [212.199.22.222] by web60824.mail.yahoo.com via HTTP; Wed, 08 Mar 2006 14:01:47 PST
Date: Wed, 8 Mar 2006 14:01:47 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: Re: 1.4.3 and 64bit support? out of memory??
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0603081131040.25694@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-708240451-1141855307=:27986"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-708240451-1141855307=:27986
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hey chris,
   
  i will check and let you know just to make sure,
   
  basically i see the OS allocating memory (up to about 4GB) while loading the indexes to memory and then crashing on the TermInfosReader class.  what i noticed was that the crash occured when lucene tried to create a Term array with the following code
   
  new Term[indexSize]
   
  i assume, since this is an array java was trying to allocate consecutive blocks in memory and this is hard to find , even in a 16 GB RAM machine, especially since (if im not mistaken) indexSize here is the termEnum size (which in my case is rather large)
   
  i will get back to you about the one liner, if you have any other thoughts id be extremely happy to hear them as this problem is a Major road block 
   
  thanks a million
   
  

Chris Hostetter <hossman_lucene@fucit.org> wrote:
  
: i am recieving the following stack trace:
:
: JVMDUMP013I Processed Dump Event "uncaught", detail "java/lang/OutOfMemoryError".
: Exception in thread "main" java.lang.OutOfMemoryError
: at org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:82)

is it possible that parts of your application are eating up all of the
heap in your JVM before this exception is encountered? Possibly by
opening a the index many times without closing it?

More specifically, if you write a 4 line app that does nothing by open
your index and then close it again, do you get an OOM? ...

public class Main {
public static void main(String[] args) throws Exception {
Searcher s = new IndexSearcher("/your/index/path");
s.close();
}
}



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



		
---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail  makes sharing a breeze. 
--0-708240451-1141855307=:27986--

From java-user-return-19434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 08 23:09:44 2006
Return-Path: <java-user-return-19434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85481 invoked from network); 8 Mar 2006 23:09:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Mar 2006 23:09:44 -0000
Received: (qmail 70112 invoked by uid 500); 8 Mar 2006 23:09:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69667 invoked by uid 500); 8 Mar 2006 23:09:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69655 invoked by uid 99); 8 Mar 2006 23:09:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 15:09:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 15:09:38 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id AF89CB735C
	for <java-user@lucene.apache.org>; Thu,  9 Mar 2006 10:09:13 +1100 (EST)
Message-ID: <440F6438.60207@nuix.com.au>
Date: Thu, 09 Mar 2006 10:09:44 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: 1.4.3 and 64bit support? out of memory??
References: <20060308220147.28069.qmail@web60824.mail.yahoo.com>
In-Reply-To: <20060308220147.28069.qmail@web60824.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

zzzzz shalev wrote:
> hey chris,
> 
> i will check and let you know just to make sure,
> 
> basically i see the OS allocating memory (up to about 4GB) while
> loading the indexes to memory and then crashing on the
> TermInfosReader class.  what i noticed was that the crash occured
> when lucene tried to create a Term array with the following code
> 
> new Term[indexSize]
> 
> i assume, since this is an array java was trying to allocate
> consecutive blocks in memory and this is hard to find , even in a 16
> GB RAM machine, especially since (if im not mistaken) indexSize here
> is the termEnum size (which in my case is rather large)

That's not exactly how memory works.  When a program looks to allocate a 
chunk of memory, the chunk is allocated from the virtual memory space.

In the case of Windows XP on a 32-bit machine, the maximum contiguous 
virtual memory is somewhere just below 2GB in a best-case scenario 
(usually it's more like 1.5GB) regardless of the amount of physical RAM.

In the case of a 64-bit machine, though, the virtual memory space is 
much, much larger than your 16GB of RAM, so there should be no problem 
allocating ridiculous amounts of memory (or for that matter, memory 
mapping ridiculously large files to a byte buffer.)

It wasn't mentioned explicitly so it's probably worth checking... you 
are using the 64-bit JVM, right?  If you were still using the 32-bit 
JVM, that would certainly exhibit this sort of behaviour.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia        Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                            Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 02:25:46 2006
Return-Path: <java-user-return-19435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88152 invoked from network); 9 Mar 2006 02:25:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 02:25:45 -0000
Received: (qmail 95453 invoked by uid 500); 9 Mar 2006 02:25:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95165 invoked by uid 500); 9 Mar 2006 02:25:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95154 invoked by uid 99); 9 Mar 2006 02:25:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 18:25:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.203.135.180] (HELO exfe02.ist.local) (130.203.135.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 18:25:30 -0800
Received: from IBXWSUN ([64.178.96.57]) by exfe02.ist.local with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 8 Mar 2006 21:25:08 -0500
From: "Yang Sun" <ysun@ist.psu.edu>
To: <java-user@lucene.apache.org>
Subject: Lucene Ranking/scoring
Date: Wed, 8 Mar 2006 21:25:11 -0500
Message-ID: <003c01c64320$b1319930$2602a8c0@IBXWSUN>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
thread-index: AcZC4mpLH+s6CsfaRkqdZLJt4dCs9AAO92qA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <20060308185856.36502.qmail@web37409.mail.mud.yahoo.com>
X-OriginalArrivalTime: 09 Mar 2006 02:25:08.0587 (UTC) FILETIME=[AF4F6BB0:01C64320]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
Just wondering how I can rank search result by a combination of fields. I
know there is a multi-field sort, but it is just a sorting method. It is
sorted by the first field and then the second field ... 
What I need is a weighted combination. For example, I want to assign a
weight of 2 to title match, 1.5 to abstract match, and 3 to date match (i.e.
How close the last modified date). The final score will be
2*inTitle+1.5*inAbstract+3*date instead of sorting by date and then sorting
by title within the same date. 
I checked lucene Score, Similarity, and SortDocComparator and can't find an
answer. Implements the SortDocComparator seems the closest, but it can only
sort the result by one field. The Field boost does not work because the
boosting factor has to be set during index time. What I need is setting the
weight at query time.
Please help. Thanks.

Yang


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 02:35:49 2006
Return-Path: <java-user-return-19436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93187 invoked from network); 9 Mar 2006 02:35:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 02:35:46 -0000
Received: (qmail 11968 invoked by uid 500); 9 Mar 2006 02:35:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11479 invoked by uid 500); 9 Mar 2006 02:35:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11468 invoked by uid 99); 9 Mar 2006 02:35:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 18:35:40 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.193 as permitted sender)
Received: from [64.233.182.193] (HELO nproxy.gmail.com) (64.233.182.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 18:35:39 -0800
Received: by nproxy.gmail.com with SMTP id a25so277975nfc
        for <java-user@lucene.apache.org>; Wed, 08 Mar 2006 18:35:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Id9imK2AeLWEUcR0qlb+GOOk1wsU5fKQ32xPoCk5eiqWUfVanesMh72QFddnUPgcUT0jqFX+6Gn47kW3FeFdWSwpwKCE8/lkVPbZbJASS19W8LxNAYgpdYGeeCLTONoVXRnRpSq4/Y3MBDz66uDcMvv+cV+XQjAO6g2Cz31RqQA=
Received: by 10.48.237.14 with SMTP id k14mr726962nfh;
        Wed, 08 Mar 2006 18:35:17 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Wed, 8 Mar 2006 18:35:17 -0800 (PST)
Message-ID: <c68e39170603081835w1af3401h4f459b58c2779695@mail.gmail.com>
Date: Wed, 8 Mar 2006 21:35:17 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene Ranking/scoring
In-Reply-To: <003c01c64320$b1319930$2602a8c0@IBXWSUN>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060308185856.36502.qmail@web37409.mail.mud.yahoo.com>
	 <003c01c64320$b1319930$2602a8c0@IBXWSUN>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Yang,

Boosting works at query time as well as index time.
If you are using the QueryParser, specify boosts like so:
title:foo^2 abstract:foo^1.5 date:mydate^3

If you are building queries pragmatically, then use the Query.setBoost() me=
thod.

That will boost relative to how a non-boosted query would score, but
keep in mind that you still have tf/idf factors in the score.  If you
need to get rid of the tf/idf factors, either write your own
ScoreDocComparator, or use a FunctionQuery.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server


On 3/8/06, Yang Sun <ysun@ist.psu.edu> wrote:
> Hi,
> Just wondering how I can rank search result by a combination of fields. I
> know there is a multi-field sort, but it is just a sorting method. It is
> sorted by the first field and then the second field ...
> What I need is a weighted combination. For example, I want to assign a
> weight of 2 to title match, 1.5 to abstract match, and 3 to date match (i=
.e.
> How close the last modified date). The final score will be
> 2*inTitle+1.5*inAbstract+3*date instead of sorting by date and then sorti=
ng
> by title within the same date.
> I checked lucene Score, Similarity, and SortDocComparator and can't find =
an
> answer. Implements the SortDocComparator seems the closest, but it can on=
ly
> sort the result by one field. The Field boost does not work because the
> boosting factor has to be set during index time. What I need is setting t=
he
> weight at query time.
> Please help. Thanks.
>
> Yang

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 04:13:57 2006
Return-Path: <java-user-return-19437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36677 invoked from network); 9 Mar 2006 04:13:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 04:13:56 -0000
Received: (qmail 15362 invoked by uid 500); 9 Mar 2006 04:13:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14785 invoked by uid 500); 9 Mar 2006 04:13:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14774 invoked by uid 99); 9 Mar 2006 04:13:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 20:13:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.220] (HELO nemausa.cc.emory.edu) (170.140.8.220)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 20:13:50 -0800
Received: from localhost (localhost [127.0.0.1])
	by nemausa.cc.emory.edu (8.13.4/8.13.4) with ESMTP id k294DSsD027499
	for <java-user@lucene.apache.org>; Wed, 8 Mar 2006 23:13:29 -0500 (EST)
Received: from 
	adsl-219-117-241.asm.bellsouth.net(adsl-219-117-241.asm.bellsouth.net 
	[68.219.117.241]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Wed, 08 Mar 200623:13:28 -0500
Message-ID: <20060308231328.piid6shvswcocswg@webmail.service.emory.edu>
Date: Wed, 08 Mar 2006 23:13:28 -0500
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: Atomic index/search for a phrase
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-imss-version: 2.038
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I am trying index and search a phrase (multiple words seperated by 
spaces). How should i index it so that it remains atomic. I have 
observed that if i index the phrase are keyword, lucene doesn't let me 
retrive the phrase in search.

Please advice.

Urvashi




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 05:21:44 2006
Return-Path: <java-user-return-19438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70392 invoked from network); 9 Mar 2006 05:21:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 05:21:43 -0000
Received: (qmail 77903 invoked by uid 500); 9 Mar 2006 05:21:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77871 invoked by uid 500); 9 Mar 2006 05:21:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77860 invoked by uid 99); 9 Mar 2006 05:21:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 21:21:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.203.135.180] (HELO exfe02.ist.local) (130.203.135.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 21:21:36 -0800
Received: from IBXWSUN ([64.178.96.57]) by exfe02.ist.local with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 9 Mar 2006 00:21:11 -0500
From: "Yang Sun" <ysun@ist.psu.edu>
To: <java-user@lucene.apache.org>
Subject: RE: Lucene Ranking/scoring
Date: Thu, 9 Mar 2006 00:21:14 -0500
Message-ID: <003d01c64339$491cd120$2602a8c0@IBXWSUN>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
thread-index: AcZDIioLREmLrMQ4QDCpLLjdttx7kwAARfog
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <c68e39170603081835w1af3401h4f459b58c2779695@mail.gmail.com>
X-OriginalArrivalTime: 09 Mar 2006 05:21:11.0963 (UTC) FILETIME=[4792AEB0:01C64339]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Yonik,
Thanks very much for your suggestion. The query boost works great for
keyword matching. But in my case, I need to rank the results by date and
title. For example, title:foo^2 abstract:foo^1.5 date:2004^3 will only =
boost
the document with date=3D2004. What I need is boosting the "distance" =
from the
specified date which means 2003 will have a better ranking than 2002,
2002>2001, etc.=20
I implemented a customized ScoreDocComparator class which works fine for =
one
field. But I met some trouble when trying to combine other fields =
together.
I'm still looking at FunctionQuery. Don't know if I can figure out
something.=20
Any suggestions? Thanks.

Yang


-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]=20
Sent: 2006=C4=EA3=D4=C28=C8=D5 21:35
To: java-user@lucene.apache.org
Subject: Re: Lucene Ranking/scoring

Hi Yang,

Boosting works at query time as well as index time.
If you are using the QueryParser, specify boosts like so:
title:foo^2 abstract:foo^1.5 date:mydate^3

If you are building queries pragmatically, then use the Query.setBoost()
method.

That will boost relative to how a non-boosted query would score, but
keep in mind that you still have tf/idf factors in the score.  If you
need to get rid of the tf/idf factors, either write your own
ScoreDocComparator, or use a FunctionQuery.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search =
Server


On 3/8/06, Yang Sun <ysun@ist.psu.edu> wrote:
> Hi,
> Just wondering how I can rank search result by a combination of =
fields. I
> know there is a multi-field sort, but it is just a sorting method. It =
is
> sorted by the first field and then the second field ...
> What I need is a weighted combination. For example, I want to assign a
> weight of 2 to title match, 1.5 to abstract match, and 3 to date match =
(i.
e.
> How close the last modified date). The final score will be
> 2*inTitle+1.5*inAbstract+3*date instead of sorting by date and then
sorting
> by title within the same date.
> I checked lucene Score, Similarity, and SortDocComparator and can't =
find
an
> answer. Implements the SortDocComparator seems the closest, but it can
only
> sort the result by one field. The Field boost does not work because =
the
> boosting factor has to be set during index time. What I need is =
setting
the
> weight at query time.
> Please help. Thanks.
>
> Yang

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 06:10:47 2006
Return-Path: <java-user-return-19439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92906 invoked from network); 9 Mar 2006 06:10:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 06:10:46 -0000
Received: (qmail 6787 invoked by uid 500); 9 Mar 2006 06:10:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6764 invoked by uid 500); 9 Mar 2006 06:10:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6753 invoked by uid 99); 9 Mar 2006 06:10:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 22:10:41 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.48.143] (HELO dev.nannet.co.kr) (221.146.48.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 22:10:40 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id k296A15m018261
	for <java-user@lucene.apache.org>; Thu, 9 Mar 2006 15:10:02 +0900
Message-ID: <001f01c64340$1548d360$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
Subject: RangeQuery, FilterdQuery and HitCollector
Date: Thu, 9 Mar 2006 15:09:52 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCkkgd291bGQgbGlrZSB0byB1c2UgYSBGaWx0ZXIgZm9yIHJhbmdlUXVlcnkgKCB0
byBhdm9pZCBwb3RlbnRpYWwgVG9vTWFueUNsYXVzZXMgZXhjZXB0aW9uICkNCmFuZCBmb3VuZCBv
dXQgDQoNCmh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvamFrYXJ0YS1sdWNlbmUvRmlsdGVyaW5nT3B0
aW9ucw0KDQp3aWtpIHNhaWQgdGhhdCBGaWx0ZXJlZFF1ZXJ5IGlzIGJlc3Qgb25lLg0KQnV0IElu
dGVyZXN0aW5nIGlzIHRoYXQgDQp3aGVuIEkgdXNlZCB0aGUgb3B0aW9uIHdpdGggSGl0Q29sbGVj
dG9yICwgRmlsdGVyZWRRdWVyeSB0ZXN0IGlzIGZhaWwuDQoNCkFtIEkgc29tZXRoaW5nIG1pc3Np
bmcgb3IgRmlsdGVyZWRRdWVyeSB3aXRoIEhpdENvbGxlY3RvciBpcyBmb3JiaWQgb3IgYSBidWcg
Pw0KDQoNClBsZWFzZSByZWZlciB0byB0aGUgbXkgdGVzdCBjb2RlLg0KDQotLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQppbXBvcnQganVu
aXQuZnJhbWV3b3JrLlRlc3RDYXNlOw0KDQppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuYW5hbHlz
aXMuY2prLkNKS0FuYWx5emVyOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50LkRv
Y3VtZW50Ow0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50LkZpZWxkOw0KaW1wb3J0
IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50Lk51bWJlclRvb2xzOw0KaW1wb3J0IG9yZy5hcGFj
aGUubHVjZW5lLmluZGV4LkluZGV4V3JpdGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmlu
ZGV4LlRlcm07DQppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLkZpbHRlcjsNCmltcG9y
dCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guRmlsdGVyZWRRdWVyeTsNCmltcG9ydCBvcmcuYXBh
Y2hlLmx1Y2VuZS5zZWFyY2guSGl0Q29sbGVjdG9yOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5l
LnNlYXJjaC5IaXRzOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5JbmRleFNlYXJj
aGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5RdWVyeTsNCmltcG9ydCBvcmcu
YXBhY2hlLmx1Y2VuZS5zZWFyY2guUmFuZ2VGaWx0ZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5sdWNl
bmUuc2VhcmNoLlNlYXJjaGVyOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5UZXJt
UXVlcnk7DQppbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuRGlyZWN0b3J5Ow0KaW1wb3J0
IG9yZy5hcGFjaGUubHVjZW5lLnN0b3JlLlJBTURpcmVjdG9yeTsNCg0KaW1wb3J0IGphdmEuaW8u
SU9FeGNlcHRpb247DQppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7DQoNCmltcG9ydCBqYXZh
LnV0aWwuQ29sbGVjdGlvbjsNCmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsNCg0KcHVibGljIGNs
YXNzIEZpbHRlcmVkUmFuZ2VRdWVyeVRlc3QgZXh0ZW5kcyBUZXN0Q2FzZQ0Kew0KICAgIHByaXZh
dGUgRGlyZWN0b3J5IHJhbURpcjsNCg0KICAgIHByb3RlY3RlZCB2b2lkIHNldFVwKCkgdGhyb3dz
IEV4Y2VwdGlvbg0KICAgIHsNCiAgICAgICAgcmFtRGlyID0gbmV3IFJBTURpcmVjdG9yeSgpOw0K
ICAgICAgICBhZGREb2N1bWVudHMoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0UmFu
Z2VRdWVyeSgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24NCiAgICB7DQogICAgICAgIEluZGV4
U2VhcmNoZXIgc2VhcmNoZXIgPSBuZXcgSW5kZXhTZWFyY2hlcihyYW1EaXIpOw0KDQogICAgICAg
IEZpbHRlciBmaWx0ZXIgPSBSYW5nZUZpbHRlci5MZXNzKCJudW0iLCBOdW1iZXJUb29scy5sb25n
VG9TdHJpbmcoMUwpKTsNCg0KICAgICAgICBUZXJtIHRlcm0gPSBuZXcgVGVybSgiYXR0aWQiLCBO
dW1iZXJUb29scy5sb25nVG9TdHJpbmcoMTEzTCkpOw0KICAgICAgICBRdWVyeSBxdWVyeSA9IG5l
dyBUZXJtUXVlcnkodGVybSk7DQoNCiAgICAgICAgSGl0cyBoaXRzID0gc2VhcmNoZXIuc2VhcmNo
KHF1ZXJ5LCBmaWx0ZXIpOw0KDQogICAgICAgIGFzc2VydEVxdWFscygwLCBoaXRzLmxlbmd0aCgp
KTsNCg0KICAgICAgICBIaXRDb2xsZWN0b3IgaGl0Q29sbGVjdG9yID0gbmV3IFRlc3RIaXRDb2xs
ZWN0b3IoKTsNCg0KICAgICAgICAoKFRlc3RIaXRDb2xsZWN0b3IpIGhpdENvbGxlY3Rvcikuc2V0
U2VhcmNoZXIoc2VhcmNoZXIpOw0KDQogICAgICAgIC8vLy8vLy8vIFRoaXMgdGVzdCBpcyBQYXNz
ICEhISEgIC8vLy8vLy8vLy8vLy8vLy8NCiAgICAgICAgc2VhcmNoZXIuc2VhcmNoKHF1ZXJ5LCBm
aWx0ZXIsIGhpdENvbGxlY3Rvcik7DQogICAgICAgIGFzc2VydEVxdWFscygwLCAoKFRlc3RIaXRD
b2xsZWN0b3IpIGhpdENvbGxlY3RvcikuZ2V0SWRzKCkuc2l6ZSgpKTsNCiAgICB9DQoNCiAgICBw
dWJsaWMgdm9pZCB0ZXN0RmlsdGVyZWRRdWVyeSgpDQogICAgICAgIHRocm93cyBFeGNlcHRpb24N
CiAgICB7DQogICAgICAgIEluZGV4U2VhcmNoZXIgc2VhcmNoZXIgPSBuZXcgSW5kZXhTZWFyY2hl
cihyYW1EaXIpOw0KDQogICAgICAgIEZpbHRlciBmaWx0ZXIgPSBSYW5nZUZpbHRlci5MZXNzKCJu
dW0iLCBOdW1iZXJUb29scy5sb25nVG9TdHJpbmcoMUwpKTsNCg0KICAgICAgICBUZXJtIHRlcm0g
PSBuZXcgVGVybSgiYXR0aWQiLCBOdW1iZXJUb29scy5sb25nVG9TdHJpbmcoMTEzTCkpOw0KICAg
ICAgICBRdWVyeSBxdWVyeSA9IG5ldyBUZXJtUXVlcnkodGVybSk7DQoNCiAgICAgICAgRmlsdGVy
ZWRRdWVyeSBmcSA9IG5ldyBGaWx0ZXJlZFF1ZXJ5KHF1ZXJ5LCBmaWx0ZXIpOw0KDQogICAgICAg
IEhpdHMgaGl0cyA9IHNlYXJjaGVyLnNlYXJjaChmcSk7DQoNCiAgICAgICAgYXNzZXJ0RXF1YWxz
KDAsIGhpdHMubGVuZ3RoKCkpOw0KDQogICAgICAgIEhpdENvbGxlY3RvciBoaXRDb2xsZWN0b3Ig
PSBuZXcgVGVzdEhpdENvbGxlY3RvcigpOw0KDQogICAgICAgICgoVGVzdEhpdENvbGxlY3Rvcikg
aGl0Q29sbGVjdG9yKS5zZXRTZWFyY2hlcihzZWFyY2hlcik7DQoNCiAgICAgICAgLy8vLy8vLy8v
LyBUaGlzIHRlc3QgaXMgRkFJTCAhISEhIC8vLy8vLy8vLy8vLy8vDQogICAgICAgIHNlYXJjaGVy
LnNlYXJjaChmcSwgaGl0Q29sbGVjdG9yKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDAsICgoVGVz
dEhpdENvbGxlY3RvcikgaGl0Q29sbGVjdG9yKS5nZXRJZHMoKS5zaXplKCkpOw0KICAgIH0NCg0K
ICAgIHByaXZhdGUgdm9pZCBhZGREb2N1bWVudHMoKQ0KICAgICAgICB0aHJvd3MgSU9FeGNlcHRp
b24NCiAgICB7DQogICAgICAgIEluZGV4V3JpdGVyIHdyaXRlciA9IG5ldyBJbmRleFdyaXRlcihy
YW1EaXIsIG5ldyBDSktBbmFseXplcigpLCB0cnVlKTsNCg0KICAgICAgICBEb2N1bWVudCBkb2Mg
PSBuZXcgRG9jdW1lbnQoKTsNCg0KICAgICAgICBkb2MuYWRkKEZpZWxkLktleXdvcmQoIm51bSIs
IE51bWJlclRvb2xzLmxvbmdUb1N0cmluZygxMDAwTCkpKTsNCiAgICAgICAgZG9jLmFkZChGaWVs
ZC5LZXl3b3JkKCJhdHRpZCIsIE51bWJlclRvb2xzLmxvbmdUb1N0cmluZygxMTNMKSkpOw0KICAg
ICAgICBkb2MuYWRkKEZpZWxkLktleXdvcmQoIml0aWQiLCAiMTExIikpOw0KICAgICAgICB3cml0
ZXIuYWRkRG9jdW1lbnQoZG9jKTsNCg0KICAgICAgICB3cml0ZXIub3B0aW1pemUoKTsNCiAgICAg
ICAgd3JpdGVyLmNsb3NlKCk7DQogICAgfQ0KDQogICAgcHVibGljIGNsYXNzIFRlc3RIaXRDb2xs
ZWN0b3IgZXh0ZW5kcyBIaXRDb2xsZWN0b3IgaW1wbGVtZW50cyBTZXJpYWxpemFibGUNCiAgICB7
DQogICAgICAgIHByaXZhdGUgdHJhbnNpZW50IFNlYXJjaGVyIHNlYXJjaGVyOw0KICAgICAgICBw
cml2YXRlIHRyYW5zaWVudCBDb2xsZWN0aW9uIHJlczsNCg0KICAgICAgICBwdWJsaWMgVGVzdEhp
dENvbGxlY3RvcigpDQogICAgICAgIHsNCiAgICAgICAgfQ0KDQogICAgICAgIHB1YmxpYyB2b2lk
IHNldFNlYXJjaGVyKFNlYXJjaGVyIHNlYXJjaGVyKQ0KICAgICAgICB7DQogICAgICAgICAgICBy
ZXMgPSBuZXcgSGFzaFNldCgpOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hlciA9IHNlYXJjaGVy
Ow0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIHZvaWQgY29sbGVjdChpbnQgaSwgZmxvYXQg
dikNCiAgICAgICAgew0KICAgICAgICAgICAgdHJ5DQogICAgICAgICAgICB7DQogICAgICAgICAg
ICAgICAgZmluYWwgRG9jdW1lbnQgZG9jID0gc2VhcmNoZXIuZG9jKGkpOw0KDQogICAgICAgICAg
ICAgICAgcmVzLmFkZChkb2MuZ2V0KCJpdGlkIikpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgY2F0Y2ggKElPRXhjZXB0aW9uIGUpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAg
Ly8gaWdub3JlZA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcHVibGljIENv
bGxlY3Rpb24gZ2V0SWRzKCkNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIHJlczsNCiAg
ICAgICAgfQ0KICAgIH0NCn0NCg0KDQpUaGFua3MsDQoNCllvdW5naG8=




From java-user-return-19440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 07:04:43 2006
Return-Path: <java-user-return-19440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25046 invoked from network); 9 Mar 2006 07:04:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 07:04:37 -0000
Received: (qmail 41267 invoked by uid 500); 9 Mar 2006 07:04:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41241 invoked by uid 500); 9 Mar 2006 07:04:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41230 invoked by uid 99); 9 Mar 2006 07:04:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 23:04:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Mar 2006 23:04:28 -0800
Content-class: urn:content-classes:message
Subject: RE: 1.4.3 and 64bit support? out of memory??
Date: Thu, 9 Mar 2006 09:04:06 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D3920C9@xmail.me.corp.entopia.com>
X-MS-Has-Attach: 
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-TNEF-Correlator: 
Thread-Topic: 1.4.3 and 64bit support? out of memory??
Thread-Index: AcZC/AWMhoepUagHRjyhF9VMDpm/VQASur1g
From: "Andrew Schetinin" <aschetinin@entopia.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

That's somewhat strange, if I remember correctly the index size was 6
Gb, wasn't it?=20
I saw posts from people working with tens of Gb indexes. And we worked
with index of 8 Gb in 32-bit JVM (on Windows 2000) with as little as 700
Mb of max memory allowed to JVM.

Are there too many documents/terms/segments the index contains?=20
Did you try opening the same index with Luke? Allow to Luke 1-2 Gb and
give it a try...
Is it possible that the index is corrupted by some reason and there is
invalid number of term entires like 0x7effffff in the dictionary?

Best Regards,

Andrew


=20



-----Original Message-----
From: zzzzz shalev [mailto:zzzzz_shalev@yahoo.com]=20
Sent: Thursday, March 09, 2006 12:02 AM
To: java-user@lucene.apache.org
Subject: Re: 1.4.3 and 64bit support? out of memory??

hey chris,
  =20
  i will check and let you know just to make sure,
  =20
  basically i see the OS allocating memory (up to about 4GB) while
loading the indexes to memory and then crashing on the TermInfosReader
class.  what i noticed was that the crash occured when lucene tried to
create a Term array with the following code
  =20
  new Term[indexSize]
  =20
  i assume, since this is an array java was trying to allocate
consecutive blocks in memory and this is hard to find , even in a 16 GB
RAM machine, especially since (if im not mistaken) indexSize here is the
termEnum size (which in my case is rather large)
  =20
  i will get back to you about the one liner, if you have any other
thoughts id be extremely happy to hear them as this problem is a Major
road block=20
  =20
  thanks a million
  =20
 =20

Chris Hostetter <hossman_lucene@fucit.org> wrote:
 =20
: i am recieving the following stack trace:
:
: JVMDUMP013I Processed Dump Event "uncaught", detail
"java/lang/OutOfMemoryError".
: Exception in thread "main" java.lang.OutOfMemoryError
: at
org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:8
2)

is it possible that parts of your application are eating up all of the
heap in your JVM before this exception is encountered? Possibly by
opening a the index many times without closing it?

More specifically, if you write a 4 line app that does nothing by open
your index and then close it again, do you get an OOM? ...

public class Main {
public static void main(String[] args) throws Exception { Searcher s =3D
new IndexSearcher("/your/index/path");
s.close();
}
}



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



	=09
---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail  makes sharing a breeze.=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 08:13:14 2006
Return-Path: <java-user-return-19441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62573 invoked from network); 9 Mar 2006 08:13:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 08:13:14 -0000
Received: (qmail 10742 invoked by uid 500); 9 Mar 2006 08:13:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10710 invoked by uid 500); 9 Mar 2006 08:13:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10699 invoked by uid 99); 9 Mar 2006 08:13:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 00:13:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 00:13:08 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8DFB133D308; Thu,  9 Mar 2006 03:12:47 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 2160233D2EE
	for <java-user@lucene.apache.org>; Thu,  9 Mar 2006 03:12:45 -0500 (EST)
In-Reply-To: <001f01c64340$1548d360$0201a8c0@local>
References: <001f01c64340$1548d360$0201a8c0@local>
Mime-Version: 1.0 (Apple Message framework v746.2)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B55E4FA7-C616-442F-94CB-002B4AC49928@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: RangeQuery, FilterdQuery and HitCollector
Date: Thu, 9 Mar 2006 03:12:40 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Youngho,

Try the lasted trunk codebase.  I have recently applied a contributed  
patch to FilteredQuery.  Using the latest codebase, your test passes  
for me.

	Erik


On Mar 9, 2006, at 1:09 AM, Youngho Cho wrote:

> Hello,
>
> I would like to use a Filter for rangeQuery ( to avoid potential  
> TooManyClauses exception )
> and found out
>
> http://wiki.apache.org/jakarta-lucene/FilteringOptions
>
> wiki said that FilteredQuery is best one.
> But Interesting is that
> when I used the option with HitCollector , FilteredQuery test is fail.
>
> Am I something missing or FilteredQuery with HitCollector is forbid  
> or a bug ?
>
>
> Please refer to the my test code.
>
> ----------------------------------------------------------
> import junit.framework.TestCase;
>
> import org.apache.lucene.analysis.cjk.CJKAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.document.NumberTools;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.search.Filter;
> import org.apache.lucene.search.FilteredQuery;
> import org.apache.lucene.search.HitCollector;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.RangeFilter;
> import org.apache.lucene.search.Searcher;
> import org.apache.lucene.search.TermQuery;
> import org.apache.lucene.store.Directory;
> import org.apache.lucene.store.RAMDirectory;
>
> import java.io.IOException;
> import java.io.Serializable;
>
> import java.util.Collection;
> import java.util.HashSet;
>
> public class FilteredRangeQueryTest extends TestCase
> {
>     private Directory ramDir;
>
>     protected void setUp() throws Exception
>     {
>         ramDir = new RAMDirectory();
>         addDocuments();
>     }
>
>     public void testRangeQuery()
>         throws Exception
>     {
>         IndexSearcher searcher = new IndexSearcher(ramDir);
>
>         Filter filter = RangeFilter.Less("num",  
> NumberTools.longToString(1L));
>
>         Term term = new Term("attid", NumberTools.longToString(113L));
>         Query query = new TermQuery(term);
>
>         Hits hits = searcher.search(query, filter);
>
>         assertEquals(0, hits.length());
>
>         HitCollector hitCollector = new TestHitCollector();
>
>         ((TestHitCollector) hitCollector).setSearcher(searcher);
>
>         //////// This test is Pass !!!!  ////////////////
>         searcher.search(query, filter, hitCollector);
>         assertEquals(0, ((TestHitCollector) hitCollector).getIds 
> ().size());
>     }
>
>     public void testFilteredQuery()
>         throws Exception
>     {
>         IndexSearcher searcher = new IndexSearcher(ramDir);
>
>         Filter filter = RangeFilter.Less("num",  
> NumberTools.longToString(1L));
>
>         Term term = new Term("attid", NumberTools.longToString(113L));
>         Query query = new TermQuery(term);
>
>         FilteredQuery fq = new FilteredQuery(query, filter);
>
>         Hits hits = searcher.search(fq);
>
>         assertEquals(0, hits.length());
>
>         HitCollector hitCollector = new TestHitCollector();
>
>         ((TestHitCollector) hitCollector).setSearcher(searcher);
>
>         ////////// This test is FAIL !!!! //////////////
>         searcher.search(fq, hitCollector);
>         assertEquals(0, ((TestHitCollector) hitCollector).getIds 
> ().size());
>     }
>
>     private void addDocuments()
>         throws IOException
>     {
>         IndexWriter writer = new IndexWriter(ramDir, new CJKAnalyzer 
> (), true);
>
>         Document doc = new Document();
>
>         doc.add(Field.Keyword("num", NumberTools.longToString 
> (1000L)));
>         doc.add(Field.Keyword("attid", NumberTools.longToString 
> (113L)));
>         doc.add(Field.Keyword("itid", "111"));
>         writer.addDocument(doc);
>
>         writer.optimize();
>         writer.close();
>     }
>
>     public class TestHitCollector extends HitCollector implements  
> Serializable
>     {
>         private transient Searcher searcher;
>         private transient Collection res;
>
>         public TestHitCollector()
>         {
>         }
>
>         public void setSearcher(Searcher searcher)
>         {
>             res = new HashSet();
>             this.searcher = searcher;
>         }
>
>         public void collect(int i, float v)
>         {
>             try
>             {
>                 final Document doc = searcher.doc(i);
>
>                 res.add(doc.get("itid"));
>             }
>             catch (IOException e)
>             {
>                 // ignored
>             }
>         }
>
>         public Collection getIds()
>         {
>             return res;
>         }
>     }
> }
>
>
> Thanks,
>
> Youngho


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 08:18:57 2006
Return-Path: <java-user-return-19442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65626 invoked from network); 9 Mar 2006 08:18:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 08:18:57 -0000
Received: (qmail 19957 invoked by uid 500); 9 Mar 2006 08:18:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19928 invoked by uid 500); 9 Mar 2006 08:18:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19912 invoked by uid 99); 9 Mar 2006 08:18:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 00:18:50 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.35] (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 09 Mar 2006 00:18:50 -0800
Received: (qmail 43663 invoked from network); 9 Mar 2006 08:18:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=TRID8bTzuWEpuwoknZS8brgYnfVwO1AguIPAdHgeJyGqfRUfNAhK4W0egfufWDlDd66C/YYXvnRv2oc6ynQ8Q97nZqLiVICHziNYywpNNBWoBViIp/uz6D+Uh5NqJzTHKhq4fodn47pS7Iui9XIHUEl2x7UFaa1Dq1b7l7VbKdo=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp004.mail.ukl.yahoo.com with SMTP; 9 Mar 2006 08:18:28 -0000
Message-ID: <440FE4CF.5000707@yahoo.co.uk>
Date: Thu, 09 Mar 2006 08:18:23 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: RangeQuery, FilterdQuery and HitCollector
References: <001f01c64340$1548d360$0201a8c0@local>
In-Reply-To: <001f01c64340$1548d360$0201a8c0@local>
Content-Type: text/plain; charset=EUC-KR
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

FilteredQuery has the side effect of passing zero scoring docs to the
hitcollector.
This does break the contract for HitCollector.collect method because the
JavaDocs state:
"Called once for every non-zero scoring document, with the document
number and its score."

The quick fix is to simply add a test in your hitcollector which checks
that score > 0.

Cheers
Mark

Youngho Cho wrote:

>Hello,
>
>I would like to use a Filter for rangeQuery ( to avoid potential TooManyClauses exception )
>and found out 
>
>http://wiki.apache.org/jakarta-lucene/FilteringOptions
>
>wiki said that FilteredQuery is best one.
>But Interesting is that 
>when I used the option with HitCollector , FilteredQuery test is fail.
>
>Am I something missing or FilteredQuery with HitCollector is forbid or a bug ?
>
>
>Please refer to the my test code.
>
>----------------------------------------------------------
>import junit.framework.TestCase;
>
>import org.apache.lucene.analysis.cjk.CJKAnalyzer;
>import org.apache.lucene.document.Document;
>import org.apache.lucene.document.Field;
>import org.apache.lucene.document.NumberTools;
>import org.apache.lucene.index.IndexWriter;
>import org.apache.lucene.index.Term;
>import org.apache.lucene.search.Filter;
>import org.apache.lucene.search.FilteredQuery;
>import org.apache.lucene.search.HitCollector;
>import org.apache.lucene.search.Hits;
>import org.apache.lucene.search.IndexSearcher;
>import org.apache.lucene.search.Query;
>import org.apache.lucene.search.RangeFilter;
>import org.apache.lucene.search.Searcher;
>import org.apache.lucene.search.TermQuery;
>import org.apache.lucene.store.Directory;
>import org.apache.lucene.store.RAMDirectory;
>
>import java.io.IOException;
>import java.io.Serializable;
>
>import java.util.Collection;
>import java.util.HashSet;
>
>public class FilteredRangeQueryTest extends TestCase
>{
>    private Directory ramDir;
>
>    protected void setUp() throws Exception
>    {
>        ramDir = new RAMDirectory();
>        addDocuments();
>    }
>
>    public void testRangeQuery()
>        throws Exception
>    {
>        IndexSearcher searcher = new IndexSearcher(ramDir);
>
>        Filter filter = RangeFilter.Less("num", NumberTools.longToString(1L));
>
>        Term term = new Term("attid", NumberTools.longToString(113L));
>        Query query = new TermQuery(term);
>
>        Hits hits = searcher.search(query, filter);
>
>        assertEquals(0, hits.length());
>
>        HitCollector hitCollector = new TestHitCollector();
>
>        ((TestHitCollector) hitCollector).setSearcher(searcher);
>
>        //////// This test is Pass !!!!  ////////////////
>        searcher.search(query, filter, hitCollector);
>        assertEquals(0, ((TestHitCollector) hitCollector).getIds().size());
>    }
>
>    public void testFilteredQuery()
>        throws Exception
>    {
>        IndexSearcher searcher = new IndexSearcher(ramDir);
>
>        Filter filter = RangeFilter.Less("num", NumberTools.longToString(1L));
>
>        Term term = new Term("attid", NumberTools.longToString(113L));
>        Query query = new TermQuery(term);
>
>        FilteredQuery fq = new FilteredQuery(query, filter);
>
>        Hits hits = searcher.search(fq);
>
>        assertEquals(0, hits.length());
>
>        HitCollector hitCollector = new TestHitCollector();
>
>        ((TestHitCollector) hitCollector).setSearcher(searcher);
>
>        ////////// This test is FAIL !!!! //////////////
>        searcher.search(fq, hitCollector);
>        assertEquals(0, ((TestHitCollector) hitCollector).getIds().size());
>    }
>
>    private void addDocuments()
>        throws IOException
>    {
>        IndexWriter writer = new IndexWriter(ramDir, new CJKAnalyzer(), true);
>
>        Document doc = new Document();
>
>        doc.add(Field.Keyword("num", NumberTools.longToString(1000L)));
>        doc.add(Field.Keyword("attid", NumberTools.longToString(113L)));
>        doc.add(Field.Keyword("itid", "111"));
>        writer.addDocument(doc);
>
>        writer.optimize();
>        writer.close();
>    }
>
>    public class TestHitCollector extends HitCollector implements Serializable
>    {
>        private transient Searcher searcher;
>        private transient Collection res;
>
>        public TestHitCollector()
>        {
>        }
>
>        public void setSearcher(Searcher searcher)
>        {
>            res = new HashSet();
>            this.searcher = searcher;
>        }
>
>        public void collect(int i, float v)
>        {
>            try
>            {
>                final Document doc = searcher.doc(i);
>
>                res.add(doc.get("itid"));
>            }
>            catch (IOException e)
>            {
>                // ignored
>            }
>        }
>
>        public Collection getIds()
>        {
>            return res;
>        }
>    }
>}
>
>
>Thanks,
>
>Youngho
>



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 08:30:58 2006
Return-Path: <java-user-return-19443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78141 invoked from network); 9 Mar 2006 08:30:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 08:30:55 -0000
Received: (qmail 33617 invoked by uid 500); 9 Mar 2006 08:30:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33593 invoked by uid 500); 9 Mar 2006 08:30:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33582 invoked by uid 99); 9 Mar 2006 08:30:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 00:30:48 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [221.146.48.143] (HELO dev.nannet.co.kr) (221.146.48.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 00:30:47 -0800
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id k298UA5m019083
	for <java-user@lucene.apache.org>; Thu, 9 Mar 2006 17:30:11 +0900
Message-ID: <000b01c64353$a9ea77e0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <001f01c64340$1548d360$0201a8c0@local> <B55E4FA7-C616-442F-94CB-002B4AC49928@ehatchersolutions.com>
Subject: Re: RangeQuery, FilterdQuery and HitCollector
Date: Thu, 9 Mar 2006 17:30:03 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gRXJpaywNCg0KVGhhbmtzIGZvciB5b3VyIGluZm8uDQpJdCBwYXNzZWQgIS4NCg0KVGhh
bmtzIGFnYWluLA0KDQpZb3VuZ2hvDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpG
cm9tOiAiRXJpayBIYXRjaGVyIiA8ZXJpa0BlaGF0Y2hlcnNvbHV0aW9ucy5jb20+DQpUbzogPGph
dmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4NClNlbnQ6IFRodXJzZGF5LCBNYXJjaCAwOSwgMjAw
NiA1OjEyIFBNDQpTdWJqZWN0OiBSZTogUmFuZ2VRdWVyeSwgRmlsdGVyZFF1ZXJ5IGFuZCBIaXRD
b2xsZWN0b3INCg0KDQo+IFlvdW5naG8sDQo+IA0KPiBUcnkgdGhlIGxhc3RlZCB0cnVuayBjb2Rl
YmFzZS4gIEkgaGF2ZSByZWNlbnRseSBhcHBsaWVkIGEgY29udHJpYnV0ZWQgIA0KPiBwYXRjaCB0
byBGaWx0ZXJlZFF1ZXJ5LiAgVXNpbmcgdGhlIGxhdGVzdCBjb2RlYmFzZSwgeW91ciB0ZXN0IHBh
c3NlcyAgDQo+IGZvciBtZS4NCj4gDQo+IEVyaWsNCj4gDQo+IA0KPiBPbiBNYXIgOSwgMjAwNiwg
YXQgMTowOSBBTSwgWW91bmdobyBDaG8gd3JvdGU6DQo+IA0KPiA+IEhlbGxvLA0KPiA+DQo+ID4g
SSB3b3VsZCBsaWtlIHRvIHVzZSBhIEZpbHRlciBmb3IgcmFuZ2VRdWVyeSAoIHRvIGF2b2lkIHBv
dGVudGlhbCAgDQo+ID4gVG9vTWFueUNsYXVzZXMgZXhjZXB0aW9uICkNCj4gPiBhbmQgZm91bmQg
b3V0DQo+ID4NCj4gPiBodHRwOi8vd2lraS5hcGFjaGUub3JnL2pha2FydGEtbHVjZW5lL0ZpbHRl
cmluZ09wdGlvbnMNCj4gPg0KPiA+IHdpa2kgc2FpZCB0aGF0IEZpbHRlcmVkUXVlcnkgaXMgYmVz
dCBvbmUuDQo+ID4gQnV0IEludGVyZXN0aW5nIGlzIHRoYXQNCj4gPiB3aGVuIEkgdXNlZCB0aGUg
b3B0aW9uIHdpdGggSGl0Q29sbGVjdG9yICwgRmlsdGVyZWRRdWVyeSB0ZXN0IGlzIGZhaWwuDQo+
ID4NCj4gPiBBbSBJIHNvbWV0aGluZyBtaXNzaW5nIG9yIEZpbHRlcmVkUXVlcnkgd2l0aCBIaXRD
b2xsZWN0b3IgaXMgZm9yYmlkICANCj4gPiBvciBhIGJ1ZyA/DQo+ID4NCj4gPg0KPiA+IFBsZWFz
ZSByZWZlciB0byB0aGUgbXkgdGVzdCBjb2RlLg0KPiA+DQo+ID4gLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+IGltcG9ydCBqdW5p
dC5mcmFtZXdvcmsuVGVzdENhc2U7DQo+ID4NCj4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUu
YW5hbHlzaXMuY2prLkNKS0FuYWx5emVyOw0KPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5k
b2N1bWVudC5Eb2N1bWVudDsNCj4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuZG9jdW1lbnQu
RmllbGQ7DQo+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50Lk51bWJlclRvb2xz
Ow0KPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5pbmRleC5JbmRleFdyaXRlcjsNCj4gPiBp
bXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuaW5kZXguVGVybTsNCj4gPiBpbXBvcnQgb3JnLmFwYWNo
ZS5sdWNlbmUuc2VhcmNoLkZpbHRlcjsNCj4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2Vh
cmNoLkZpbHRlcmVkUXVlcnk7DQo+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5I
aXRDb2xsZWN0b3I7DQo+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNlYXJjaC5IaXRzOw0K
PiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guSW5kZXhTZWFyY2hlcjsNCj4gPiBp
bXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLlF1ZXJ5Ow0KPiA+IGltcG9ydCBvcmcuYXBh
Y2hlLmx1Y2VuZS5zZWFyY2guUmFuZ2VGaWx0ZXI7DQo+ID4gaW1wb3J0IG9yZy5hcGFjaGUubHVj
ZW5lLnNlYXJjaC5TZWFyY2hlcjsNCj4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNo
LlRlcm1RdWVyeTsNCj4gPiBpbXBvcnQgb3JnLmFwYWNoZS5sdWNlbmUuc3RvcmUuRGlyZWN0b3J5
Ow0KPiA+IGltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5zdG9yZS5SQU1EaXJlY3Rvcnk7DQo+ID4N
Cj4gPiBpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCj4gPiBpbXBvcnQgamF2YS5pby5TZXJp
YWxpemFibGU7DQo+ID4NCj4gPiBpbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247DQo+ID4gaW1w
b3J0IGphdmEudXRpbC5IYXNoU2V0Ow0KPiA+DQo+ID4gcHVibGljIGNsYXNzIEZpbHRlcmVkUmFu
Z2VRdWVyeVRlc3QgZXh0ZW5kcyBUZXN0Q2FzZQ0KPiA+IHsNCj4gPiAgICAgcHJpdmF0ZSBEaXJl
Y3RvcnkgcmFtRGlyOw0KPiA+DQo+ID4gICAgIHByb3RlY3RlZCB2b2lkIHNldFVwKCkgdGhyb3dz
IEV4Y2VwdGlvbg0KPiA+ICAgICB7DQo+ID4gICAgICAgICByYW1EaXIgPSBuZXcgUkFNRGlyZWN0
b3J5KCk7DQo+ID4gICAgICAgICBhZGREb2N1bWVudHMoKTsNCj4gPiAgICAgfQ0KPiA+DQo+ID4g
ICAgIHB1YmxpYyB2b2lkIHRlc3RSYW5nZVF1ZXJ5KCkNCj4gPiAgICAgICAgIHRocm93cyBFeGNl
cHRpb24NCj4gPiAgICAgew0KPiA+ICAgICAgICAgSW5kZXhTZWFyY2hlciBzZWFyY2hlciA9IG5l
dyBJbmRleFNlYXJjaGVyKHJhbURpcik7DQo+ID4NCj4gPiAgICAgICAgIEZpbHRlciBmaWx0ZXIg
PSBSYW5nZUZpbHRlci5MZXNzKCJudW0iLCAgDQo+ID4gTnVtYmVyVG9vbHMubG9uZ1RvU3RyaW5n
KDFMKSk7DQo+ID4NCj4gPiAgICAgICAgIFRlcm0gdGVybSA9IG5ldyBUZXJtKCJhdHRpZCIsIE51
bWJlclRvb2xzLmxvbmdUb1N0cmluZygxMTNMKSk7DQo+ID4gICAgICAgICBRdWVyeSBxdWVyeSA9
IG5ldyBUZXJtUXVlcnkodGVybSk7DQo+ID4NCj4gPiAgICAgICAgIEhpdHMgaGl0cyA9IHNlYXJj
aGVyLnNlYXJjaChxdWVyeSwgZmlsdGVyKTsNCj4gPg0KPiA+ICAgICAgICAgYXNzZXJ0RXF1YWxz
KDAsIGhpdHMubGVuZ3RoKCkpOw0KPiA+DQo+ID4gICAgICAgICBIaXRDb2xsZWN0b3IgaGl0Q29s
bGVjdG9yID0gbmV3IFRlc3RIaXRDb2xsZWN0b3IoKTsNCj4gPg0KPiA+ICAgICAgICAgKChUZXN0
SGl0Q29sbGVjdG9yKSBoaXRDb2xsZWN0b3IpLnNldFNlYXJjaGVyKHNlYXJjaGVyKTsNCj4gPg0K
PiA+ICAgICAgICAgLy8vLy8vLy8gVGhpcyB0ZXN0IGlzIFBhc3MgISEhISAgLy8vLy8vLy8vLy8v
Ly8vLw0KPiA+ICAgICAgICAgc2VhcmNoZXIuc2VhcmNoKHF1ZXJ5LCBmaWx0ZXIsIGhpdENvbGxl
Y3Rvcik7DQo+ID4gICAgICAgICBhc3NlcnRFcXVhbHMoMCwgKChUZXN0SGl0Q29sbGVjdG9yKSBo
aXRDb2xsZWN0b3IpLmdldElkcyANCj4gPiAoKS5zaXplKCkpOw0KPiA+ICAgICB9DQo+ID4NCj4g
PiAgICAgcHVibGljIHZvaWQgdGVzdEZpbHRlcmVkUXVlcnkoKQ0KPiA+ICAgICAgICAgdGhyb3dz
IEV4Y2VwdGlvbg0KPiA+ICAgICB7DQo+ID4gICAgICAgICBJbmRleFNlYXJjaGVyIHNlYXJjaGVy
ID0gbmV3IEluZGV4U2VhcmNoZXIocmFtRGlyKTsNCj4gPg0KPiA+ICAgICAgICAgRmlsdGVyIGZp
bHRlciA9IFJhbmdlRmlsdGVyLkxlc3MoIm51bSIsICANCj4gPiBOdW1iZXJUb29scy5sb25nVG9T
dHJpbmcoMUwpKTsNCj4gPg0KPiA+ICAgICAgICAgVGVybSB0ZXJtID0gbmV3IFRlcm0oImF0dGlk
IiwgTnVtYmVyVG9vbHMubG9uZ1RvU3RyaW5nKDExM0wpKTsNCj4gPiAgICAgICAgIFF1ZXJ5IHF1
ZXJ5ID0gbmV3IFRlcm1RdWVyeSh0ZXJtKTsNCj4gPg0KPiA+ICAgICAgICAgRmlsdGVyZWRRdWVy
eSBmcSA9IG5ldyBGaWx0ZXJlZFF1ZXJ5KHF1ZXJ5LCBmaWx0ZXIpOw0KPiA+DQo+ID4gICAgICAg
ICBIaXRzIGhpdHMgPSBzZWFyY2hlci5zZWFyY2goZnEpOw0KPiA+DQo+ID4gICAgICAgICBhc3Nl
cnRFcXVhbHMoMCwgaGl0cy5sZW5ndGgoKSk7DQo+ID4NCj4gPiAgICAgICAgIEhpdENvbGxlY3Rv
ciBoaXRDb2xsZWN0b3IgPSBuZXcgVGVzdEhpdENvbGxlY3RvcigpOw0KPiA+DQo+ID4gICAgICAg
ICAoKFRlc3RIaXRDb2xsZWN0b3IpIGhpdENvbGxlY3Rvcikuc2V0U2VhcmNoZXIoc2VhcmNoZXIp
Ow0KPiA+DQo+ID4gICAgICAgICAvLy8vLy8vLy8vIFRoaXMgdGVzdCBpcyBGQUlMICEhISEgLy8v
Ly8vLy8vLy8vLy8NCj4gPiAgICAgICAgIHNlYXJjaGVyLnNlYXJjaChmcSwgaGl0Q29sbGVjdG9y
KTsNCj4gPiAgICAgICAgIGFzc2VydEVxdWFscygwLCAoKFRlc3RIaXRDb2xsZWN0b3IpIGhpdENv
bGxlY3RvcikuZ2V0SWRzIA0KPiA+ICgpLnNpemUoKSk7DQo+ID4gICAgIH0NCj4gPg0KPiA+ICAg
ICBwcml2YXRlIHZvaWQgYWRkRG9jdW1lbnRzKCkNCj4gPiAgICAgICAgIHRocm93cyBJT0V4Y2Vw
dGlvbg0KPiA+ICAgICB7DQo+ID4gICAgICAgICBJbmRleFdyaXRlciB3cml0ZXIgPSBuZXcgSW5k
ZXhXcml0ZXIocmFtRGlyLCBuZXcgQ0pLQW5hbHl6ZXIgDQo+ID4gKCksIHRydWUpOw0KPiA+DQo+
ID4gICAgICAgICBEb2N1bWVudCBkb2MgPSBuZXcgRG9jdW1lbnQoKTsNCj4gPg0KPiA+ICAgICAg
ICAgZG9jLmFkZChGaWVsZC5LZXl3b3JkKCJudW0iLCBOdW1iZXJUb29scy5sb25nVG9TdHJpbmcg
DQo+ID4gKDEwMDBMKSkpOw0KPiA+ICAgICAgICAgZG9jLmFkZChGaWVsZC5LZXl3b3JkKCJhdHRp
ZCIsIE51bWJlclRvb2xzLmxvbmdUb1N0cmluZyANCj4gPiAoMTEzTCkpKTsNCj4gPiAgICAgICAg
IGRvYy5hZGQoRmllbGQuS2V5d29yZCgiaXRpZCIsICIxMTEiKSk7DQo+ID4gICAgICAgICB3cml0
ZXIuYWRkRG9jdW1lbnQoZG9jKTsNCj4gPg0KPiA+ICAgICAgICAgd3JpdGVyLm9wdGltaXplKCk7
DQo+ID4gICAgICAgICB3cml0ZXIuY2xvc2UoKTsNCj4gPiAgICAgfQ0KPiA+DQo+ID4gICAgIHB1
YmxpYyBjbGFzcyBUZXN0SGl0Q29sbGVjdG9yIGV4dGVuZHMgSGl0Q29sbGVjdG9yIGltcGxlbWVu
dHMgIA0KPiA+IFNlcmlhbGl6YWJsZQ0KPiA+ICAgICB7DQo+ID4gICAgICAgICBwcml2YXRlIHRy
YW5zaWVudCBTZWFyY2hlciBzZWFyY2hlcjsNCj4gPiAgICAgICAgIHByaXZhdGUgdHJhbnNpZW50
IENvbGxlY3Rpb24gcmVzOw0KPiA+DQo+ID4gICAgICAgICBwdWJsaWMgVGVzdEhpdENvbGxlY3Rv
cigpDQo+ID4gICAgICAgICB7DQo+ID4gICAgICAgICB9DQo+ID4NCj4gPiAgICAgICAgIHB1Ymxp
YyB2b2lkIHNldFNlYXJjaGVyKFNlYXJjaGVyIHNlYXJjaGVyKQ0KPiA+ICAgICAgICAgew0KPiA+
ICAgICAgICAgICAgIHJlcyA9IG5ldyBIYXNoU2V0KCk7DQo+ID4gICAgICAgICAgICAgdGhpcy5z
ZWFyY2hlciA9IHNlYXJjaGVyOw0KPiA+ICAgICAgICAgfQ0KPiA+DQo+ID4gICAgICAgICBwdWJs
aWMgdm9pZCBjb2xsZWN0KGludCBpLCBmbG9hdCB2KQ0KPiA+ICAgICAgICAgew0KPiA+ICAgICAg
ICAgICAgIHRyeQ0KPiA+ICAgICAgICAgICAgIHsNCj4gPiAgICAgICAgICAgICAgICAgZmluYWwg
RG9jdW1lbnQgZG9jID0gc2VhcmNoZXIuZG9jKGkpOw0KPiA+DQo+ID4gICAgICAgICAgICAgICAg
IHJlcy5hZGQoZG9jLmdldCgiaXRpZCIpKTsNCj4gPiAgICAgICAgICAgICB9DQo+ID4gICAgICAg
ICAgICAgY2F0Y2ggKElPRXhjZXB0aW9uIGUpDQo+ID4gICAgICAgICAgICAgew0KPiA+ICAgICAg
ICAgICAgICAgICAvLyBpZ25vcmVkDQo+ID4gICAgICAgICAgICAgfQ0KPiA+ICAgICAgICAgfQ0K
PiA+DQo+ID4gICAgICAgICBwdWJsaWMgQ29sbGVjdGlvbiBnZXRJZHMoKQ0KPiA+ICAgICAgICAg
ew0KPiA+ICAgICAgICAgICAgIHJldHVybiByZXM7DQo+ID4gICAgICAgICB9DQo+ID4gICAgIH0N
Cj4gPiB9DQo+ID4NCj4gPg0KPiA+IFRoYW5rcywNCj4gPg0KPiA+IFlvdW5naG8NCj4gDQo+IA0K
PiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vi
c2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1h
aWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3Jn




From java-user-return-19444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 10:56:47 2006
Return-Path: <java-user-return-19444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59110 invoked from network); 9 Mar 2006 10:56:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 10:56:42 -0000
Received: (qmail 53264 invoked by uid 500); 9 Mar 2006 10:56:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53239 invoked by uid 500); 9 Mar 2006 10:56:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53211 invoked by uid 99); 9 Mar 2006 10:56:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 02:56:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 02:56:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9FB2D33D338; Thu,  9 Mar 2006 05:56:11 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id B6AD533D337
	for <java-user@lucene.apache.org>; Thu,  9 Mar 2006 05:56:08 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <20060308231328.piid6shvswcocswg@webmail.service.emory.edu>
References: <20060308231328.piid6shvswcocswg@webmail.service.emory.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D286BF52-F685-424B-AF5E-3AD6967DAEED@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Atomic index/search for a phrase
Date: Thu, 9 Mar 2006 05:56:03 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 8, 2006, at 11:13 PM, Urvashi Gadi wrote:
> I am trying index and search a phrase (multiple words seperated by  
> spaces). How should i index it so that it remains atomic. I have  
> observed that if i index the phrase are keyword, lucene doesn't let  
> me retrive the phrase in search.

Please provide a simple example of how you're indexing and querying.

If you index "A Phrase" as untokenized, you would find it with a  
TermQuery for "A Phrase".  You must use exact case.  If you're using  
QueryParser, the text get analyzed and most analyzers lowercase.  If  
this expression is quoted it would become a PhraseQuery with two  
terms, or if it is unquoted it would become a BooleanQuery with two  
TermQuery clauses - either way it would not match if you indexed the  
phrase as untokenized.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 11:21:08 2006
Return-Path: <java-user-return-19445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72584 invoked from network); 9 Mar 2006 11:21:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 11:21:06 -0000
Received: (qmail 91197 invoked by uid 500); 9 Mar 2006 11:21:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90159 invoked by uid 500); 9 Mar 2006 11:21:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90137 invoked by uid 99); 9 Mar 2006 11:21:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 03:21:00 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.230] (HELO web60822.mail.yahoo.com) (209.73.178.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 09 Mar 2006 03:21:00 -0800
Received: (qmail 60599 invoked by uid 60001); 9 Mar 2006 11:20:38 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Dckf6TAMwTlaU8F0kYuiICYhXK7OkbCBsj7ZHbwvEFO25BnVZuLUzgOaxWxVtOTaPdQZ7AXcmBefVX1LTfE4vjwc/Dgy0m998p5gDpRiVNsV5OoaQB0fImuwAY9VT/IE4CUK+CFAv+KuSkAH5qWJrGcd2dqJNt72HC9GYbK0rIg=  ;
Message-ID: <20060309112038.60595.qmail@web60822.mail.yahoo.com>
Received: from [212.179.71.70] by web60822.mail.yahoo.com via HTTP; Thu, 09 Mar 2006 03:20:38 PST
Date: Thu, 9 Mar 2006 03:20:38 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: RE: 1.4.3 and 64bit support? out of memory??
To: java-user@lucene.apache.org
In-Reply-To: <39B0FB508E5D7540ACA5AD57225E150D3920C9@xmail.me.corp.entopia.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-677623099-1141903238=:59902"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-677623099-1141903238=:59902
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hey,
   
  i ran a small test and i have
   
  12,055,022 terms in the index,
   
  i have a strong feeling that the OS is not allowing the
   
  new Term[12055022]
   
   allocation
   
   
  JVM - 64bit
  Linux - 16GB RAM
   
  any ideas?


Andrew Schetinin <aschetinin@entopia.com> wrote:
  Hi,

That's somewhat strange, if I remember correctly the index size was 6
Gb, wasn't it? 
I saw posts from people working with tens of Gb indexes. And we worked
with index of 8 Gb in 32-bit JVM (on Windows 2000) with as little as 700
Mb of max memory allowed to JVM.

Are there too many documents/terms/segments the index contains? 
Did you try opening the same index with Luke? Allow to Luke 1-2 Gb and
give it a try...
Is it possible that the index is corrupted by some reason and there is
invalid number of term entires like 0x7effffff in the dictionary?

Best Regards,

Andrew






-----Original Message-----
From: zzzzz shalev [mailto:zzzzz_shalev@yahoo.com] 
Sent: Thursday, March 09, 2006 12:02 AM
To: java-user@lucene.apache.org
Subject: Re: 1.4.3 and 64bit support? out of memory??

hey chris,

i will check and let you know just to make sure,

basically i see the OS allocating memory (up to about 4GB) while
loading the indexes to memory and then crashing on the TermInfosReader
class. what i noticed was that the crash occured when lucene tried to
create a Term array with the following code

new Term[indexSize]

i assume, since this is an array java was trying to allocate
consecutive blocks in memory and this is hard to find , even in a 16 GB
RAM machine, especially since (if im not mistaken) indexSize here is the
termEnum size (which in my case is rather large)

i will get back to you about the one liner, if you have any other
thoughts id be extremely happy to hear them as this problem is a Major
road block 

thanks a million



Chris Hostetter wrote:

: i am recieving the following stack trace:
:
: JVMDUMP013I Processed Dump Event "uncaught", detail
"java/lang/OutOfMemoryError".
: Exception in thread "main" java.lang.OutOfMemoryError
: at
org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:8
2)

is it possible that parts of your application are eating up all of the
heap in your JVM before this exception is encountered? Possibly by
opening a the index many times without closing it?

More specifically, if you write a 4 line app that does nothing by open
your index and then close it again, do you get an OOM? ...

public class Main {
public static void main(String[] args) throws Exception { Searcher s =
new IndexSearcher("/your/index/path");
s.close();
}
}



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail makes sharing a breeze. 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



		
---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail  makes sharing a breeze. 
--0-677623099-1141903238=:59902--

From java-user-return-19446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 11:21:18 2006
Return-Path: <java-user-return-19446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72697 invoked from network); 9 Mar 2006 11:21:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 11:21:17 -0000
Received: (qmail 91413 invoked by uid 500); 9 Mar 2006 11:21:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91372 invoked by uid 500); 9 Mar 2006 11:21:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91361 invoked by uid 99); 9 Mar 2006 11:21:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 03:21:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.18.90.100] (HELO chnmail.satyam.com) (210.18.90.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 03:21:08 -0800
X-eSCM-MailFrom: <Haritha_Parvatham@satyam.com>
Received: from che2.satyam.com (172.18.73.12)
	by chnescm01 (172.18.76.22);
	Thu, 09 March 2006 16:50:09 +0530
Received: from disclaimerchn.corp.satyam.ad (chn.satyam.com [172.18.73.8])
	by che2.satyam.com (8.12.8/8.12.8) with ESMTP id k29BGjTZ013017
	for <java-user@lucene.apache.org>; Thu, 9 Mar 2006 16:47:00 +0530
Received: from ccrmsg003.corp.satyam.ad ([172.18.73.7]) by disclaimerchn.corp.satyam.ad with Microsoft SMTPSVC(6.0.3790.211); Thu, 9 Mar 2006 16:47:58 +0530
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6436B.0E623A04"
Importance: normal
Subject: steps for building lucene 1.9
Priority: normal
Date: Thu, 9 Mar 2006 16:47:30 +0530
Message-ID: <F448FF49D11EA4459D957805E93C3A69025218A4@ccrmsg003.corp.satyam.ad>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: steps for building lucene 1.9
Thread-Index: AcZDawp3LjOVdhmTSz+l/milGzGNaA==
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 09 Mar 2006 11:17:58.0362 (UTC) FILETIME=[1EC7F3A0:01C6436B]
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on che2.satyam.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6436B.0E623A04
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
I have downloaded lucene 1.9 version .please tell me how to build it.Iam
finding so many errors in lucene 1.9 source code.
=20
Thanks.
Haritha


DISCLAIMER:
This email (including any attachments) is intended for the sole use of =
the intended recipient/s and may contain material that is CONFIDENTIAL =
AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or =
copying or distribution or forwarding of any or all of the contents in =
this message is STRICTLY PROHIBITED. If you are not the intended =
recipient, please contact the sender by email and delete all copies; =
your cooperation in this regard is appreciated.

------_=_NextPart_001_01C6436B.0E623A04--


From java-user-return-19447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 11:46:26 2006
Return-Path: <java-user-return-19447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83960 invoked from network); 9 Mar 2006 11:46:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 11:46:21 -0000
Received: (qmail 13968 invoked by uid 500); 9 Mar 2006 11:46:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13701 invoked by uid 500); 9 Mar 2006 11:46:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13690 invoked by uid 99); 9 Mar 2006 11:46:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 03:46:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 03:46:08 -0800
Received: by wproxy.gmail.com with SMTP id 71so389833wra
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 03:45:47 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Or9s899qu93W5Ff9oe9+VkYt9sDx7AF1+DtPumcGlO2ymqFFXfBAP0JLkclH4Aq/ZT2u8b8iHD+z9uKcYPvCXmiZXommbPcMBBvbChy64tuGrmCZEfv0ZEL1arocj8n84SBP1TB5AvZOl8Y1tT5XLBcq81P1RCySh66i387rm04=
Received: by 10.65.220.20 with SMTP id x20mr962315qbq;
        Thu, 09 Mar 2006 03:45:47 -0800 (PST)
Received: by 10.65.242.13 with HTTP; Thu, 9 Mar 2006 03:45:46 -0800 (PST)
Message-ID: <4f9b23800603090345h42db6abah@mail.gmail.com>
Date: Thu, 9 Mar 2006 11:45:46 +0000
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: steps for building lucene 1.9
In-Reply-To: <F448FF49D11EA4459D957805E93C3A69025218A4@ccrmsg003.corp.satyam.ad>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <F448FF49D11EA4459D957805E93C3A69025218A4@ccrmsg003.corp.satyam.ad>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Haritha

Hope the following helps:

Build Lucene Core from SVN

Download the lucene Subversion repository from:
http://svn.apache.org/repos/asf/lucene/java/trunk

Note: The CVS repository is still accessible but is out of date.

I downloaded to:
C:\src\lucene-svn\

To build (using ANT):
cd C:\src\lucene-svn\
ant

The following jar file is produced:
C:\src\lucene-svn\build\lucene-core-1.9-rc1-dev.jar

I have just built lucene using these instructions on my workstation
and it builds without any errors.
Patrick

On 09/03/06, Haritha_Parvatham <Haritha_Parvatham@satyam.com> wrote:
> Hi,
> I have downloaded lucene 1.9 version .please tell me how to build it.Iam
> finding so many errors in lucene 1.9 source code.
>
> Thanks.
> Haritha

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 11:58:22 2006
Return-Path: <java-user-return-19448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89840 invoked from network); 9 Mar 2006 11:58:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 11:58:21 -0000
Received: (qmail 24784 invoked by uid 500); 9 Mar 2006 11:58:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24758 invoked by uid 500); 9 Mar 2006 11:58:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24747 invoked by uid 99); 9 Mar 2006 11:58:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 03:58:16 -0800
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=BIZ_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.98.176.99] (HELO mail.aduna.biz) (66.98.176.99)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 03:58:15 -0800
Received: (qmail 15142 invoked from network); 9 Mar 2006 05:53:34 -0600
Received: from home.aduna.biz (HELO ?10.1.0.11?) (213.84.59.34)
  by www4.aduna.biz with (DHE-RSA-AES256-SHA encrypted) SMTP; 9 Mar 2006 05:53:34 -0600
Message-ID: <4410181D.80307@aduna.biz>
Date: Thu, 09 Mar 2006 12:57:17 +0100
From: Christiaan Fluit <christiaan.fluit@aduna.biz>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Aperture 2006.1 alpha 2 released
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A little while ago I announced the existence of the Aperture project, 
founded by my company together with the DFKI institute.

We just released Aperture 2006.1 alpha 2, which may be of interest to 
all Lucene users dealing with crawling and text extraction.

The project page is located at:

	http://sourceforge.net/projects/aperture

To summarize, Aperture now has code for the following tasks:

- Crawling of file systems, websites and IMAP folders. An Outlook 
mailbox crawler is also in the works, any help is welcome.

- Text and metadata extraction of a large and growing number of document 
formats, e.g. MS Office files, MS Works, OpenOffice, OpenDocument, RTF, 
PDF, WordPerfect, Quattro, Presentations, HTML, XML, plain text...

- A robust magic number-based MIME type identifier, a must for choosing 
the right extractor for a given document.

- Security-related classes for handling self-signed certificates when 
communicating using SSL.

Most of the code is already in good shape. The reason that it is still 
labeled as "alpha" is that we only recently started applying Aperture in 
our own software, which may still lead to certain (probably minor) API 
changes.

Future plans include continuously extending the set of extractors, e.g. 
by including extractors for mp3, images, videos, etc., adding support 
for Thunderbird and other mail clients, support for expanding and 
crawling archives, address books, ...

Furthermore we are working on metadata storage facilities that build 
upon Lucene and Sesame, a RDF storage and query engine (see 
www.openrdf.org). This should combine the expressiveness of RDF and the 
performance and scalability of Sesame with Lucene's full-text indexing 
capabilities.

For questions please consider joining the aperture-devel mailing list.


Regards,

Christiaan Fluit.

-- 
christiaan.fluit@aduna.biz

Aduna
Prinses Julianaplein 14-b
3817 CS Amersfoort
The Netherlands

+31 33 465 9987 phone
+31 33 465 9987 fax

http://aduna.biz

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 12:17:30 2006
Return-Path: <java-user-return-19449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2522 invoked from network); 9 Mar 2006 12:17:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 12:17:29 -0000
Received: (qmail 48602 invoked by uid 500); 9 Mar 2006 12:17:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47600 invoked by uid 500); 9 Mar 2006 12:17:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47589 invoked by uid 99); 9 Mar 2006 12:17:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 04:17:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.176.20] (HELO web26309.mail.ukl.yahoo.com) (217.146.176.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 09 Mar 2006 04:17:24 -0800
Received: (qmail 60486 invoked by uid 60001); 9 Mar 2006 12:17:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.fr;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=gZHTP8MlzpQ5YrHghESVppAwQpkc/Q9HOhtqOyEwCFbzAB3tJ2R4773hru5V/FkpOH1CmZCG3OactCn8MPZX7RmfSmD+DZcRfuMKgjXCMeS3bxeI4L21k3lX9FSlNgQlwLxIaKO43tR49ZNhT387sI9xMjkMVa8yZBuLX7/km+A=  ;
Message-ID: <20060309121702.60484.qmail@web26309.mail.ukl.yahoo.com>
Received: from [81.246.0.42] by web26309.mail.ukl.yahoo.com via HTTP; Thu, 09 Mar 2006 13:17:02 CET
Date: Thu, 9 Mar 2006 13:17:02 +0100 (CET)
From: Dupriez Christophe <christophe_dupriez@yahoo.fr>
Subject: Compressed BitSet
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am about to evaluate Lucene for replacing
current IR system of Belgian Poison Center.
 
We are used to manage query refinements by
combining different searches with boolean
operators: we thus have to store the results
(or otherwise to remake them). Our current
software does this by paging compressed bit
sets on disk. I did not saw (up to now)
an object like Compressed BitSets in Lucene.
 
Browsing the web, I found a very interesting
class, near of what we currently use:
http://www.iis.uni-stuttgart.de/intset/
 
What Lucene's developpers think
about this issue ?
 
Thank you very much for your advice !

Christophe Dupriez
dupriez@destin.be




	

	
		
___________________________________________________________________________ 
Nouveau : tlphonez moins cher avec Yahoo! Messenger ! Dcouvez les tarifs exceptionnels pour appeler la France et l'international.
Tlchargez sur http://fr.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 12:32:10 2006
Return-Path: <java-user-return-19450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11186 invoked from network); 9 Mar 2006 12:32:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 12:32:09 -0000
Received: (qmail 68375 invoked by uid 500); 9 Mar 2006 12:32:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68056 invoked by uid 500); 9 Mar 2006 12:32:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68045 invoked by uid 99); 9 Mar 2006 12:32:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 04:32:04 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 04:32:03 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FHKIp-0005Z8-7s
	for java-user@lucene.apache.org; Thu, 09 Mar 2006 13:31:35 +0100
Received: from c-24-20-199-223.hsd1.or.comcast.net ([24.20.199.223])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 13:31:35 +0100
Received: from dobleerre by c-24-20-199-223.hsd1.or.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 13:31:35 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Raul Raja Martinez <dobleerre@estudiowebs.com>
Subject:  Best practice for searching html
Date:  Thu, 09 Mar 2006 04:31:23 -0800
Lines: 15
Message-ID: <dup76s$3tj$1@sea.gmane.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  8bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c-24-20-199-223.hsd1.or.comcast.net
User-Agent: Thunderbird 1.5 (Macintosh/20051201)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi I have a lot of html indexed such as:

Mart&iacute;nez

Of course my users are gonna search for Martnez and they're not gonna 
get a match.

Is there a common approach to solve this kind of problem in lucene, 
Maybe some utility class or something?

Any help is appreciated.

Best regards.

Raul.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 12:56:28 2006
Return-Path: <java-user-return-19451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29758 invoked from network); 9 Mar 2006 12:56:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 12:56:28 -0000
Received: (qmail 1115 invoked by uid 500); 9 Mar 2006 12:56:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1086 invoked by uid 500); 9 Mar 2006 12:56:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1074 invoked by uid 99); 9 Mar 2006 12:56:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 04:56:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [68.142.229.216] (HELO smtp102.biz.mail.re2.yahoo.com) (68.142.229.216)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 09 Mar 2006 04:56:20 -0800
Received: (qmail 26011 invoked from network); 9 Mar 2006 12:55:59 -0000
Received: from unknown (HELO jupiter) (daniel@topixa.com@212.235.28.159 with login)
  by smtp102.biz.mail.re2.yahoo.com with SMTP; 9 Mar 2006 12:55:58 -0000
Reply-To: <daniel@rawsugar.com>
From: "Daniel Feinstein" <daniel@rawsugar.com>
To: <java-user@lucene.apache.org>
Subject: Lucene performance question
Date: Thu, 9 Mar 2006 14:57:52 +0200
Organization: RawSugar
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_014D_01C64389.DBF9CE80"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
thread-index: AcZDeRMpWXTJisK5Suqv3hqNv5SWQg==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060309125621.DED9810FB003@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_014D_01C64389.DBF9CE80
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
 
My lucene index is not big (about 150M). My computer has 2G RAM but for some reason when I'm trying to store my index
using org.apache.lucene.store.RAMDirectory it fails with java out of memory exception. Also sometimes for the same
search query time spent on search could raise in 10-20 times. For example:
 
Search one behavior: run one 90 msec, run two 1647 msec, run three 87 
Search two behavior: run one 2550 msec,  run two 178 msec,  run three 179 
Search three behavior: run one 113 msec,  run two 2744 msec, run three 112
 
Could somebody explain me the behavior above. Why when my computer has a lot of RAM lucene is not fully loaded to it?
Why I could not use RAMDirectory? Why search time is not stable?
 
Thanks,
Daniel

------=_NextPart_000_014D_01C64389.DBF9CE80--


From java-user-return-19452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 12:57:10 2006
Return-Path: <java-user-return-19452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30056 invoked from network); 9 Mar 2006 12:57:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 12:57:09 -0000
Received: (qmail 2490 invoked by uid 500); 9 Mar 2006 12:57:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2465 invoked by uid 500); 9 Mar 2006 12:57:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2454 invoked by uid 99); 9 Mar 2006 12:57:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 04:57:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.30.114.250] (HELO ausdauer.webit.de) (195.30.114.250)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 04:57:03 -0800
Received: from cordoba (cordoba.webit.de [195.30.114.47])
	by ausdauer.webit.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id k29Cue0O003596
	for <java-user@lucene.apache.org>; Thu, 9 Mar 2006 13:56:40 +0100
Received: by cordoba (Postfix, from userid 1000)
	id 8C2686384C; Thu,  9 Mar 2006 13:56:41 +0100 (CET)
Date: Thu, 9 Mar 2006 13:56:41 +0100
From: Jens Kraemer <kraemer@webit.de>
To: java-user@lucene.apache.org
Subject: Re: Best practice for searching html
Message-ID: <20060309125641.GS20027@cordoba.webit.de>
References: <dup76s$3tj$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <dup76s$3tj$1@sea.gmane.org>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

On Thu, Mar 09, 2006 at 04:31:23AM -0800, Raul Raja Martinez wrote:
> Hi I have a lot of html indexed such as:
> 
> Mart&iacute;nez
> 
> Of course my users are gonna search for Martnez and they're not gonna 
> get a match.
> 
> Is there a common approach to solve this kind of problem in lucene, 
> Maybe some utility class or something?

there is a class named Entities in Jakarta commons-lang, which can
be used to resolve html entities before indexing. Maybe you could
integrate this into a custom analyzer.

http://jakarta.apache.org/commons/lang/xref/org/apache/commons/lang/Entities.html

regards,
Jens

-- 
webit! Gesellschaft fr neue Medien mbH          www.webit.de
Dipl.-Wirtschaftsingenieur Jens Krmer       kraemer@webit.de
Schnorrstrae 76                         Tel +49 351 46766  0
D-01069 Dresden                          Fax +49 351 46766 66

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 13:26:26 2006
Return-Path: <java-user-return-19453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45083 invoked from network); 9 Mar 2006 13:26:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 13:26:23 -0000
Received: (qmail 43903 invoked by uid 500); 9 Mar 2006 13:26:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43840 invoked by uid 500); 9 Mar 2006 13:26:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43782 invoked by uid 99); 9 Mar 2006 13:26:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 05:26:08 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.202] (HELO web25904.mail.ukl.yahoo.com) (217.12.10.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 09 Mar 2006 05:26:06 -0800
Received: (qmail 94869 invoked by uid 60001); 9 Mar 2006 13:25:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=n0xxQMzXe6QMJV+7AgN60UhAPjOKMVbSam+E+wYSWIEZFtqWhu+KClw3lYlcZdymdgrLoLdaCifhCHe6BEt6/XX+XZeiD7MkBysB81WpXrkj6wt3qvC4g4U+Rj4F6C02vPkH6Q3zTSA+tHWvDyLmEMlQU6tSXx4CvdLRArZbKhM=  ;
Message-ID: <20060309132544.94867.qmail@web25904.mail.ukl.yahoo.com>
Received: from [84.131.226.169] by web25904.mail.ukl.yahoo.com via HTTP; Thu, 09 Mar 2006 13:25:44 GMT
Date: Thu, 9 Mar 2006 13:25:44 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Compressed BitSet
To: java-user@lucene.apache.org
In-Reply-To: <20060309121702.60484.qmail@web26309.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just a short one, it rocks in some cases (when actual
BitSet/IntSet is compressable, long runs of set or
clear bits...). Very good general BitSet
representation

I have tried it and found no bugs so far (+- 2 months
of using it)

Unfortunately, there is an issue with Licence (not ASF
compatible :(

cheers

PS:
To use something like that with Lucene you will hit
the problem with Filter interface that suports only
BitSet. It means you will have to wait a bit until
more flexible Filter interface gets accepted by the
comunity. Apart from that, I would not evaluate too
much, just take Lucene, it is briliant ;)

PS1: If you are interested in compressed bit sets, try
to search for "utilities for compact sparse filters
lucene"


--- Dupriez Christophe <christophe_dupriez@yahoo.fr>
wrote:

> I am about to evaluate Lucene for replacing
> current IR system of Belgian Poison Center.
>  
> We are used to manage query refinements by
> combining different searches with boolean
> operators: we thus have to store the results
> (or otherwise to remake them). Our current
> software does this by paging compressed bit
> sets on disk. I did not saw (up to now)
> an object like Compressed BitSets in Lucene.
>  
> Browsing the web, I found a very interesting
> class, near of what we currently use:
> http://www.iis.uni-stuttgart.de/intset/
>  
> What Lucene's developpers think
> about this issue ?
>  
> Thank you very much for your advice !
> 
> Christophe Dupriez
> dupriez@destin.be
> 
> 
> 
> 
> 	
> 
> 	
> 		
>
___________________________________________________________________________
> 
> Nouveau : tlphonez moins cher avec Yahoo!
> Messenger ! Dcouvez les tarifs exceptionnels pour
> appeler la France et l'international.
> Tlchargez sur http://fr.messenger.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
Yahoo! Photos  NEW, now offering a quality print service from just 8p a photo http://uk.photos.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 13:42:15 2006
Return-Path: <java-user-return-19454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53448 invoked from network); 9 Mar 2006 13:42:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 13:42:10 -0000
Received: (qmail 71165 invoked by uid 500); 9 Mar 2006 13:42:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71128 invoked by uid 500); 9 Mar 2006 13:42:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71096 invoked by uid 99); 9 Mar 2006 13:42:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 05:42:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 05:42:00 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1503066E@mailer.syr.edu>; Thu, 9 Mar 2006 8:41:39 -0500
Message-ID: <4410301A.8020301@syr.edu>
Date: Thu, 09 Mar 2006 08:39:38 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene performance question
References: <20060309125621.DED9810FB003@asf.osuosl.org>
In-Reply-To: <20060309125621.DED9810FB003@asf.osuosl.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What is your Java max heap size set to?  This is the -Xmx Java option.

Daniel Feinstein wrote:
> Hi,
>  
> My lucene index is not big (about 150M). My computer has 2G RAM but for some reason when I'm trying to store my index
> using org.apache.lucene.store.RAMDirectory it fails with java out of memory exception. Also sometimes for the same
> search query time spent on search could raise in 10-20 times. For example:
>  
> Search one behavior: run one 90 msec, run two 1647 msec, run three 87 
> Search two behavior: run one 2550 msec,  run two 178 msec,  run three 179 
> Search three behavior: run one 113 msec,  run two 2744 msec, run three 112
>  
> Could somebody explain me the behavior above. Why when my computer has a lot of RAM lucene is not fully loaded to it?
> Why I could not use RAMDirectory? Why search time is not stable?
>  
> Thanks,
> Daniel
>
>   

-- 
------------------------------------------------------------------- 
Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 13:56:19 2006
Return-Path: <java-user-return-19455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63155 invoked from network); 9 Mar 2006 13:56:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 13:56:17 -0000
Received: (qmail 1613 invoked by uid 500); 9 Mar 2006 13:56:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1591 invoked by uid 500); 9 Mar 2006 13:56:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1573 invoked by uid 99); 9 Mar 2006 13:56:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 05:56:11 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of samurujackson@googlemail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO pproxy.gmail.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 05:56:11 -0800
Received: by pproxy.gmail.com with SMTP id i49so137812pyi
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 05:55:50 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=onMbfG0zhZAoA7tygnCVwHefen+yY2s3dznzfbLkFza9wfp4wkxbkwSMegCXCMDWqGYRYzvBoxjG2D5A8eI+DulqdWq0NzFB3BuQoJp3A5DcfxFEK9g8bdI7MNJgNI8BWFrwJxeEJiYS4gPBH5RfsJdDDdg4Ffr93hGw1nY+ZKk=
Received: by 10.64.210.18 with SMTP id i18mr1040883qbg;
        Thu, 09 Mar 2006 05:55:50 -0800 (PST)
Received: by 10.65.235.6 with HTTP; Thu, 9 Mar 2006 05:55:50 -0800 (PST)
Message-ID: <fed285090603090555l9b02e60n1f029cb184fa0d38@mail.gmail.com>
Date: Thu, 9 Mar 2006 14:55:50 +0100
From: "Samuru Jackson" <samurujackson@googlemail.com>
To: java-user@lucene.apache.org
Subject: Store object into Lucene index
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there a way to save an object to the a lucene index?

In my project I noticed that the performance bottleneck is my
database. Lucene gives back a result in no time but to retrieve the
corresponding data sets at the backend in the database can take long
especially if you need to execeute many queries.

What I thought about is to store as much data as possible to the
indexed document and the best thing would be to save the model
(including corresponding relations 1:n and stuff like that).

Is there a way to do that?

Thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 14:09:47 2006
Return-Path: <java-user-return-19456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71578 invoked from network); 9 Mar 2006 14:09:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 14:09:47 -0000
Received: (qmail 19687 invoked by uid 500); 9 Mar 2006 14:09:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19516 invoked by uid 500); 9 Mar 2006 14:09:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 9566 invoked by uid 99); 9 Mar 2006 14:01:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Message-ID: <20060309140112.59068.qmail@web313.biz.mail.mud.yahoo.com>
Date: Thu, 9 Mar 2006 06:01:12 -0800 (PST)
From: DanielFeinstein <daniel@topixa.com>
Reply-To: daniel@topixa.com
Subject: Re: Lucene performance question
To: java-user@lucene.apache.org
In-Reply-To: <4410301A.8020301@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm using the following java options:
JAVA_OPTS='-Xmx1524m -Xms1524m
-Djava.awt.headless=true'

--- Grant Ingersoll <gsingers@syr.edu> wrote:

> What is your Java max heap size set to?  This is the
> -Xmx Java option.
> 
> Daniel Feinstein wrote:
> > Hi,
> >  
> > My lucene index is not big (about 150M). My
> computer has 2G RAM but for some reason when I'm
> trying to store my index
> > using org.apache.lucene.store.RAMDirectory it
> fails with java out of memory exception. Also
> sometimes for the same
> > search query time spent on search could raise in
> 10-20 times. For example:
> >  
> > Search one behavior: run one 90 msec, run two 1647
> msec, run three 87 
> > Search two behavior: run one 2550 msec,  run two
> 178 msec,  run three 179 
> > Search three behavior: run one 113 msec,  run two
> 2744 msec, run three 112
> >  
> > Could somebody explain me the behavior above. Why
> when my computer has a lot of RAM lucene is not
> fully loaded to it?
> > Why I could not use RAMDirectory? Why search time
> is not stable?
> >  
> > Thanks,
> > Daniel
> >
> >   
> 
> -- 
>
-------------------------------------------------------------------
> 
> Grant Ingersoll 
> Sr. Software Engineer 
> Center for Natural Language Processing 
> Syracuse University 
> School of Information Studies 
> 335 Hinds Hall 
> Syracuse, NY 13244 
> 
> http://www.cnlp.org 
> Voice:  315-443-5484 
> Fax: 315-443-6886 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 14:21:46 2006
Return-Path: <java-user-return-19457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79161 invoked from network); 9 Mar 2006 14:21:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 14:21:45 -0000
Received: (qmail 43058 invoked by uid 500); 9 Mar 2006 14:21:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42893 invoked by uid 500); 9 Mar 2006 14:21:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42882 invoked by uid 99); 9 Mar 2006 14:21:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:21:39 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.192 as permitted sender)
Received: from [64.233.182.192] (HELO nproxy.gmail.com) (64.233.182.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:21:39 -0800
Received: by nproxy.gmail.com with SMTP id a25so360935nfc
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 06:21:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=obgH/73M1myGm6sdcz9FRDUju3n/NuSxyNarfQRdiN+IYLxmb5OP4dwtnGAu2pQkquSTl6wJ57NbawvCx5DpSziFxw+AEhmJZMiNkGF9nW/KzdKBFrCbM/FEcPQwf4k5Fn+4pQEEBXadpJWucYQdzrnAnOjBBBpZfa1ODP+nK5I=
Received: by 10.49.10.2 with SMTP id n2mr909458nfi;
        Thu, 09 Mar 2006 06:21:18 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 9 Mar 2006 06:21:18 -0800 (PST)
Message-ID: <c68e39170603090621t30e4ea4am6133c2ad68166a1@mail.gmail.com>
Date: Thu, 9 Mar 2006 09:21:18 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Store object into Lucene index
In-Reply-To: <fed285090603090555l9b02e60n1f029cb184fa0d38@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <fed285090603090555l9b02e60n1f029cb184fa0d38@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/9/06, Samuru Jackson <samurujackson@googlemail.com> wrote:
> Is there a way to save an object to the a lucene index?

Any field may be stored as well as indexed, or stored and not indexed.
If a field is stored only (not indexed), you can opt to store it as
binary or compressed binary.

See the JavaDoc for the lucene Field class.

--
-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 14:32:57 2006
Return-Path: <java-user-return-19458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92548 invoked from network); 9 Mar 2006 14:32:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 14:32:56 -0000
Received: (qmail 78888 invoked by uid 500); 9 Mar 2006 14:32:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78858 invoked by uid 500); 9 Mar 2006 14:32:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78847 invoked by uid 99); 9 Mar 2006 14:32:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:32:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.195 as permitted sender)
Received: from [64.233.182.195] (HELO nproxy.gmail.com) (64.233.182.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:32:48 -0800
Received: by nproxy.gmail.com with SMTP id m18so184406nfc
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 06:32:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rfWqrRF71UKtqqVTy0GcGaNUa7FBYg3LMVCeiY89O0du0LRWF9KYHYbR3+OvrSKkxfS9HF3CeWSxqbBkfRuVHR48CdDi2xpXSwUjmajYTs6Q3P6ico6Q5pHpIi+hCifD2tajU/+DPjTRasDSNK9U2wkXXKQFVgQDTHlenp0jxuA=
Received: by 10.49.10.2 with SMTP id n2mr914943nfi;
        Thu, 09 Mar 2006 06:32:26 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 9 Mar 2006 06:32:26 -0800 (PST)
Message-ID: <c68e39170603090632g36d77975g9196817a0351af96@mail.gmail.com>
Date: Thu, 9 Mar 2006 09:32:26 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Best practice for searching html
In-Reply-To: <dup76s$3tj$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <dup76s$3tj$1@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/9/06, Raul Raja Martinez <dobleerre@estudiowebs.com> wrote:
> Hi I have a lot of html indexed such as:
>
> Mart&iacute;nez
>
> Of course my users are gonna search for Mart=EDnez and they're not gonna
> get a match.
>
> Is there a common approach to solve this kind of problem in lucene,
> Maybe some utility class or something?

If you might have other random HTML markup as well as entities check out,
Solr's HTMLStrip* tokenizers:
http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters

It's good if your input is dirty - if you don't know if it's HTML or
not, or if there are HTML fragments that would cause a normaly HTML
parser to choke.

If you actually have HTML documents, I would go with an HTML parser.
If you have *just* entities, there is probably a simpler approach.


-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 14:33:55 2006
Return-Path: <java-user-return-19459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93301 invoked from network); 9 Mar 2006 14:33:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 14:33:54 -0000
Received: (qmail 82121 invoked by uid 500); 9 Mar 2006 14:33:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82100 invoked by uid 500); 9 Mar 2006 14:33:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82089 invoked by uid 99); 9 Mar 2006 14:33:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:33:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.240.130.16] (HELO pat.uio.no) (129.240.130.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:33:47 -0800
Received: from mail-mx4.uio.no ([129.240.10.45])
	by pat.uio.no with esmtp (Exim 4.43)
	id 1FHMCk-0003yY-0F
	for java-user@lucene.apache.org; Thu, 09 Mar 2006 15:33:26 +0100
Received: from f3bdhcp54.uio.no ([129.240.92.183])
	by mail-mx4.uio.no with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.43)
	id 1FHMCf-00028w-6F
	for java-user@lucene.apache.org; Thu, 09 Mar 2006 15:33:21 +0100
From: =?iso-8859-1?q?=D8yvind_Stegard?= <oyvind.stegard@usit.uio.no>
Organization: University of Oslo, USIT
To: java-user@lucene.apache.org
Subject: Re: Store object into Lucene index
Date: Thu, 9 Mar 2006 15:34:54 +0100
User-Agent: KMail/1.9.1
References: <fed285090603090555l9b02e60n1f029cb184fa0d38@mail.gmail.com>
In-Reply-To: <fed285090603090555l9b02e60n1f029cb184fa0d38@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603091534.54268.oyvind.stegard@usit.uio.no>
X-UiO-Spam-info: not spam, SpamAssassin (score=-5.728, required 12,
	autolearn=disabled, AWL -0.73, UIO_MAIL_IS_INTERNAL -5.00)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 09 March 2006 14:55, Samuru Jackson wrote:
> Is there a way to save an object to the a lucene index?
>
> In my project I noticed that the performance bottleneck is my
> database. Lucene gives back a result in no time but to retrieve the
> corresponding data sets at the backend in the database can take long
> especially if you need to execeute many queries.
>
> What I thought about is to store as much data as possible to the
> indexed document and the best thing would be to save the model
> (including corresponding relations 1:n and stuff like that).
>
> Is there a way to do that?
We are using Lucene in a similar way, almost all fields are stored, and=20
documents mostly contain properties from objects in our data model. We don'=
t,=20
however, store entire objects in a serialized form, instead we serialize=20
property data types (fields) in our own way (in a way which makes them=20
suitable for sorting and indexing, for instance). We are using Lucene as th=
e=20
search backend of our content repository implementation.

If you want to store an arbitrary Java object in an index document, you cou=
ld=20
always serialize it and store it as a binary field, see=20
http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.html
and
http://java.sun.com/j2se/1.4.2/docs/api/java/io/ByteArrayOutputStream.html
http://java.sun.com/j2se/1.4.2/docs/api/java/io/ObjectOutputStream.html

This actually reminds me of a few questions I've been meaning to ask this=20
list:
=2D How does many stored fields eventually affect indexing/query performanc=
e =20
compared to if no fields were stored (only indexed) ?

=2D Are there any known scalability issues with a large amount of distinct=
=20
fields in an index (not necessarily the same set of fields for every doc) ?=
=20

Please ask me to rephrase/elaborate, if any of my questions are unclear or=
=20
lacks info.

=D8yvind
=2D-=20
< =D8yvind Stegard < oyviste at usit uio no >>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 14:50:53 2006
Return-Path: <java-user-return-19460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5734 invoked from network); 9 Mar 2006 14:50:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 14:50:52 -0000
Received: (qmail 10815 invoked by uid 500); 9 Mar 2006 14:50:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10781 invoked by uid 500); 9 Mar 2006 14:50:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10770 invoked by uid 99); 9 Mar 2006 14:50:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:50:46 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of seth.fitzsimmons@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO zproxy.gmail.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:50:45 -0800
Received: by zproxy.gmail.com with SMTP id i1so520711nzh
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 06:50:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=tGjTjBxe20Tb7guMQFHhAICCfnMyQdh/uqLxHLitg9rJF1DQkrh0SU7meJrMODM7x3V8q6sIiAQfAUyCwNY1qgEx3XBuzmflLRCCEs02WpeQCCA9phjTtKtrkB+plsJYqF1pZWmp14td2LY+UF9YjCJjEORt2wkWwwdG+VbddIg=
Received: by 10.64.183.16 with SMTP id g16mr1067843qbf;
        Thu, 09 Mar 2006 06:50:24 -0800 (PST)
Received: by 10.64.233.5 with HTTP; Thu, 9 Mar 2006 06:50:24 -0800 (PST)
Message-ID: <e5b3b99e0603090650w4d6ce656r1bd0eab818a7e621@mail.gmail.com>
Date: Thu, 9 Mar 2006 09:50:24 -0500
From: "Seth Fitzsimmons" <seth.fitzsimmons@gmail.com>
To: java-user@lucene.apache.org
Subject: [ANN] Searchable 0.6.2 - Annotations for Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Searchable is a toolkit for Lucene that harnesses the power of
annotations to specify what properties to index and how to treat them.

A sample annotated interface:

public interface Sample extends Searchable {
  public Integer getId();

  @Indexed(boost=3D2.0F)
  public String getName();

  @Indexed
  public String getDescription();
}

Indexing:
// ...
BeanIndexer bi =3D new BeanIndexer();
// add a sample Sample instance, indexing the description and name properti=
es
bi.add( makeSample() );
bi.close();

Searching:
// ...
BeanSearcher s =3D new BeanSearcher();
// searches on all fields by default; can be overridden using @DefaultField=
s
ResultSet rs =3D bi.search("seth");
for (Result result : rs) {
  // result is actually a stripped down instance of SampleImpl.
}

More information (and examples) here:
http://mojodna.net/searchable/

Feedback / questions / comments encouraged.

seth

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 14:54:41 2006
Return-Path: <java-user-return-19461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7651 invoked from network); 9 Mar 2006 14:54:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 14:54:40 -0000
Received: (qmail 14719 invoked by uid 500); 9 Mar 2006 14:54:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14696 invoked by uid 500); 9 Mar 2006 14:54:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14684 invoked by uid 99); 9 Mar 2006 14:54:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:54:34 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.201 as permitted sender)
Received: from [64.233.182.201] (HELO nproxy.gmail.com) (64.233.182.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 06:54:33 -0800
Received: by nproxy.gmail.com with SMTP id k26so369076nfc
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 06:54:12 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SBb6tdaru/fOGBmlqburgxH/Q2bo61115QGcu/zORrLQO3pRfCoq+tbMzPNfUW9OvxkonBG3OztkHcT+ze550Kcjzk5T3XS3JWApcWvMT288muZ7A98Nk0ist1dFNo0YGC9lBnsS7k+j1n7DGPrMN7yUlIzfFlqBfHm2BWdd1bU=
Received: by 10.49.57.20 with SMTP id j20mr936116nfk;
        Thu, 09 Mar 2006 06:54:12 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 9 Mar 2006 06:54:12 -0800 (PST)
Message-ID: <c68e39170603090654u12e2fae2p3b81982994403ed3@mail.gmail.com>
Date: Thu, 9 Mar 2006 09:54:12 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Store object into Lucene index
In-Reply-To: <200603091534.54268.oyvind.stegard@usit.uio.no>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <fed285090603090555l9b02e60n1f029cb184fa0d38@mail.gmail.com>
	 <200603091534.54268.oyvind.stegard@usit.uio.no>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/9/06, =D8yvind Stegard <oyvind.stegard@usit.uio.no> wrote:
> - How does many stored fields eventually affect indexing/query performanc=
e
> compared to if no fields were stored (only indexed) ?

Additional stored fields should have no effect on querying (the
internal information about a field is looked up in a hashmap).

Additional stored fields that are used has an impact on indexing since
that data must be copied every time segments are merged.

Additional stored fields that are not used in most documents (sparse)
should have very little performance impact on indexing.  The field
list is walked a few times linearly (in-memory) during a segment
merge, which should be very fast, but it's still O(n), so don't go
crazy and have a million stored field types.

> - Are there any known scalability issues with a large amount of distinct
> fields in an index (not necessarily the same set of fields for every doc)=
 ?

If they are indexed fields, yes.
Each indexed field has a 1 byte norm *per document*, regardless of if
the document contains that field.  In the current version of lucene,
there is a way to omit these norms on a per field basis (see
Field.setOmitNorms()) if you don't need length normalization or
index-time field boosting.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 15:03:23 2006
Return-Path: <java-user-return-19462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14049 invoked from network); 9 Mar 2006 15:03:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 15:03:23 -0000
Received: (qmail 31302 invoked by uid 500); 9 Mar 2006 15:03:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31266 invoked by uid 500); 9 Mar 2006 15:03:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31255 invoked by uid 99); 9 Mar 2006 15:03:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 07:03:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.240.130.16] (HELO pat.uio.no) (129.240.130.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 07:03:16 -0800
Received: from mail-mx7.uio.no ([129.240.10.52])
	by pat.uio.no with esmtp (Exim 4.43)
	id 1FHMfH-00022m-0p
	for java-user@lucene.apache.org; Thu, 09 Mar 2006 16:02:55 +0100
Received: from f3bdhcp54.uio.no ([129.240.92.183])
	by mail-mx7.uio.no with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.43)
	id 1FHMfF-0000FA-6Y
	for java-user@lucene.apache.org; Thu, 09 Mar 2006 16:02:53 +0100
From: =?iso-8859-1?q?=D8yvind_Stegard?= <oyvind.stegard@usit.uio.no>
Organization: University of Oslo, USIT
To: java-user@lucene.apache.org
Subject: Re: Store object into Lucene index
Date: Thu, 9 Mar 2006 16:04:25 +0100
User-Agent: KMail/1.9.1
References: <fed285090603090555l9b02e60n1f029cb184fa0d38@mail.gmail.com> <200603091534.54268.oyvind.stegard@usit.uio.no> <c68e39170603090654u12e2fae2p3b81982994403ed3@mail.gmail.com>
In-Reply-To: <c68e39170603090654u12e2fae2p3b81982994403ed3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603091604.26326.oyvind.stegard@usit.uio.no>
X-UiO-Spam-info: not spam, SpamAssassin (score=-4.816, required 12,
	autolearn=disabled, AWL 0.18, UIO_MAIL_IS_INTERNAL -5.00)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 09 March 2006 15:54, Yonik Seeley wrote:
> On 3/9/06, =D8yvind Stegard <oyvind.stegard@usit.uio.no> wrote:
> > - How does many stored fields eventually affect indexing/query
> > performance compared to if no fields were stored (only indexed) ?
>
> Additional stored fields should have no effect on querying (the
> internal information about a field is looked up in a hashmap).
>
> Additional stored fields that are used has an impact on indexing since
> that data must be copied every time segments are merged.
>
> Additional stored fields that are not used in most documents (sparse)
> should have very little performance impact on indexing.  The field
> list is walked a few times linearly (in-memory) during a segment
> merge, which should be very fast, but it's still O(n), so don't go
> crazy and have a million stored field types.
>
> > - Are there any known scalability issues with a large amount of distinct
> > fields in an index (not necessarily the same set of fields for every do=
c)
> > ?
>
> If they are indexed fields, yes.
> Each indexed field has a 1 byte norm *per document*, regardless of if
> the document contains that field.  In the current version of lucene,
> there is a way to omit these norms on a per field basis (see
> Field.setOmitNorms()) if you don't need length normalization or
> index-time field boosting.
Thanks for the quick and informative reply ! I will investigate further int=
o =20
the possibility of omitting such norm data from fields (we typically do ver=
y=20
exact searches, and don't use much score data, yet).

=D8yvind
=2D-=20
< =D8yvind Stegard < oyviste at usit uio no >>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 15:42:02 2006
Return-Path: <java-user-return-19463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46426 invoked from network); 9 Mar 2006 15:42:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 15:42:01 -0000
Received: (qmail 40831 invoked by uid 500); 9 Mar 2006 15:41:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40705 invoked by uid 500); 9 Mar 2006 15:41:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40633 invoked by uid 99); 9 Mar 2006 15:41:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 07:41:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 07:41:52 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k29FfMPh058527
	for <java-user@lucene.apache.org>; Thu, 9 Mar 2006 16:41:22 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200603091541.k29FfMPh058527@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: [ANN] Searchable 0.6.2 - Annotations for Lucene
Date: Thu, 9 Mar 2006 16:41:41 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <e5b3b99e0603090650w4d6ce656r1bd0eab818a7e621@mail.gmail.com>
Thread-Index: AcZDiN5AcqlDQP/XQWyc/8y5Y1ipMQABqUgQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
Exactly, 
I have already implemented  in my application using annotations.
and some changes to query input in my application. 
I don't see where you provide Analyzer annotation. It seems u forgot it.

Nice coincidence.

Jelda 

> -----Original Message-----
> From: Seth Fitzsimmons [mailto:seth.fitzsimmons@gmail.com] 
> Sent: Thursday, March 09, 2006 3:50 PM
> To: java-user@lucene.apache.org
> Subject: [ANN] Searchable 0.6.2 - Annotations for Lucene
> 
> Searchable is a toolkit for Lucene that harnesses the power 
> of annotations to specify what properties to index and how to 
> treat them.
> 
> A sample annotated interface:
> 
> public interface Sample extends Searchable {
>   public Integer getId();
> 
>   @Indexed(boost=2.0F)
>   public String getName();
> 
>   @Indexed
>   public String getDescription();
> }
> 
> Indexing:
> // ...
> BeanIndexer bi = new BeanIndexer();
> // add a sample Sample instance, indexing the description and 
> name properties bi.add( makeSample() ); bi.close();
> 
> Searching:
> // ...
> BeanSearcher s = new BeanSearcher();
> // searches on all fields by default; can be overridden using 
> @DefaultFields ResultSet rs = bi.search("seth"); for (Result 
> result : rs) {
>   // result is actually a stripped down instance of SampleImpl.
> }
> 
> More information (and examples) here:
> http://mojodna.net/searchable/
> 
> Feedback / questions / comments encouraged.
> 
> seth
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 16:12:11 2006
Return-Path: <java-user-return-19464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70938 invoked from network); 9 Mar 2006 16:12:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 16:12:11 -0000
Received: (qmail 14601 invoked by uid 500); 9 Mar 2006 16:12:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14577 invoked by uid 500); 9 Mar 2006 16:12:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14566 invoked by uid 99); 9 Mar 2006 16:12:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 08:12:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.201 as permitted sender)
Received: from [64.233.182.201] (HELO nproxy.gmail.com) (64.233.182.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 08:12:04 -0800
Received: by nproxy.gmail.com with SMTP id q29so383447nfc
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 08:11:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=RG0I/cml+YK/88J7Rtfjf4EIDl5a8TURnxMTmt4KHdvctoonfxErkIiRD4wj3Yxxy+7ZzwO8YgXhicWLiqUyoez3QMg2z6baAfm/2J0Eb5m18SN91Ym45kbLrO/q44oJezbh4cWTxxcJ81cftyGxIlBUqKJ68FENUieViQHkxkY=
Received: by 10.48.163.2 with SMTP id l2mr967522nfe;
        Thu, 09 Mar 2006 08:11:42 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Thu, 9 Mar 2006 08:11:42 -0800 (PST)
Message-ID: <c68e39170603090811s712720e7pac7ee02883440e89@mail.gmail.com>
Date: Thu, 9 Mar 2006 11:11:42 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene Ranking/scoring
In-Reply-To: <003d01c64339$491cd120$2602a8c0@IBXWSUN>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <c68e39170603081835w1af3401h4f459b58c2779695@mail.gmail.com>
	 <003d01c64339$491cd120$2602a8c0@IBXWSUN>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/9/06, Yang Sun <ysun@ist.psu.edu> wrote:
> Hi Yonik,
> Thanks very much for your suggestion. The query boost works great for
> keyword matching. But in my case, I need to rank the results by date and
> title. For example, title:foo^2 abstract:foo^1.5 date:2004^3 will only bo=
ost
> the document with date=3D2004. What I need is boosting the "distance" fro=
m the
> specified date

If all you need to do is boost more recent documents (and a single
fixed boost will always work), then you can do that boosting at index
time.

> which means 2003 will have a better ranking than 2002,
> 2002>2001, etc.
> I implemented a customized ScoreDocComparator class which works fine for =
one
> field. But I met some trouble when trying to combine other fields togethe=
r.
> I'm still looking at FunctionQuery. Don't know if I can figure out
> something.

FunctionQuery support is integrated into Solr (or currently hacked-in,
as the case may be),  and can be useful for debugging and trying out
query types even if you don't use it for your runtime.

ReciprocalFloatFunction might meet your needs for increasing the score
of more recent documents:
http://incubator.apache.org/solr/docs/api/org/apache/solr/search/function/R=
eciprocalFloatFunction.html

The SolrQueryParser can make
ReciprocalFloatFunction(new ReverseOrdFieldSource("my_date"),1,1000,1000)
out of _val_:"recip(rord(my_date),1,1000,1000)"

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 18:35:08 2006
Return-Path: <java-user-return-19465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78276 invoked from network); 9 Mar 2006 18:35:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 18:35:07 -0000
Received: (qmail 47504 invoked by uid 500); 9 Mar 2006 18:35:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47474 invoked by uid 500); 9 Mar 2006 18:35:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47463 invoked by uid 99); 9 Mar 2006 18:35:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 10:35:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.22] (HELO smtp-vbr2.xs4all.nl) (194.109.24.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 10:35:00 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr2.xs4all.nl (8.13.3/8.13.3) with ESMTP id k29IYc5s030933
	for <java-user@lucene.apache.org>; Thu, 9 Mar 2006 19:34:38 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Compressed BitSet
Date: Thu, 9 Mar 2006 19:34:37 +0100
User-Agent: KMail/1.8.2
References: <20060309132544.94867.qmail@web25904.mail.ukl.yahoo.com>
In-Reply-To: <20060309132544.94867.qmail@web25904.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603091934.37422.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 09 March 2006 14:25, eks dev wrote:
...
> 
> PS1: If you are interested in compressed bit sets, try
> to search for "utilities for compact sparse filters
> lucene"

Or look here:

http://issues.apache.org/jira/browse/LUCENE-328

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 18:37:07 2006
Return-Path: <java-user-return-19466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79334 invoked from network); 9 Mar 2006 18:37:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 18:37:06 -0000
Received: (qmail 50359 invoked by uid 500); 9 Mar 2006 18:37:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50200 invoked by uid 500); 9 Mar 2006 18:37:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50189 invoked by uid 500); 9 Mar 2006 18:37:00 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 50186 invoked by uid 99); 9 Mar 2006 18:37:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 10:37:00 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jmuguruza@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 10:36:59 -0800
Received: by wproxy.gmail.com with SMTP id i27so474407wra
        for <lucene-user@jakarta.apache.org>; Thu, 09 Mar 2006 10:36:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=MvRG4Gk1/Zji0PbQaiZNJ9at49t+Q9COXMBUEU428bPwjvzPfdDxDAzizy0Y3aC0N/kyN0sZSSXmjq5gA2myGs81Gw8awxcc4vxQ3dHwJpH2mtumAf1Jy+cdIzAAAgA4+gnkixHZN6QnqpgAlvNz4hJE6PT38yglE08clVy53NY=
Received: by 10.35.111.7 with SMTP id o7mr1759941pym;
        Thu, 09 Mar 2006 10:36:39 -0800 (PST)
Received: by 10.35.125.5 with HTTP; Thu, 9 Mar 2006 10:36:39 -0800 (PST)
Message-ID: <f071061b0603091036o72bc898cvc0c11f82b31bc779@mail.gmail.com>
Date: Thu, 9 Mar 2006 19:36:39 +0100
From: "javier muguruza" <jmuguruza@gmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: 1.9.1 problem with MatchAllDocsQuery
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I was using lucene-1.9-rc1-dev.jar (got it from luke website I think).
I was running a query whose tostring() was:
-body:angel -body:darpa -body:protocol +MatchAllDocsQuery1.0

When I upgraded to 1.9.1, I am getting an exception:
ava.lang.ArrayIndexOutOfBoundsException: 0
=09at org.apache.lucene.search.MultiSearcher.rewrite(MultiSearcher.java:268=
)
=09at org.apache.lucene.search.MultiSearcher.createWeight(MultiSearcher.jav=
a:293)
=09at org.apache.lucene.search.Searcher.search(Searcher.java:116)
=09at org.apache.lucene.search.Searcher.search(Searcher.java:95)
=09at runner.step.LuceneSearchHelper.search(LuceneSearchHelper.java:52)
tostring gives the following:
-body:angel -body:darpa -body:protocol +MatchAllDocsQuery

is that a regression?

thanks,
javier

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 09 19:31:54 2006
Return-Path: <java-user-return-19467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16690 invoked from network); 9 Mar 2006 19:31:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Mar 2006 19:31:51 -0000
Received: (qmail 53009 invoked by uid 500); 9 Mar 2006 19:31:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52187 invoked by uid 500); 9 Mar 2006 19:31:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52155 invoked by uid 500); 9 Mar 2006 19:31:22 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 52134 invoked by uid 99); 9 Mar 2006 19:31:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 11:31:21 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 09 Mar 2006 11:31:20 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <171546(1)>; Thu, 9 Mar 2006 11:30:47 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58633>; Thu, 9 Mar 2006 11:30:45 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Adjusting WRITE_LOCK_TIMEOUT in 1.9.1
Date: Thu, 9 Mar 2006 11:30:36 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <06Mar9.113045pst."58633"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I don't see how to adjust the value of IndexWriter's
WRITE_LOCK_TIMEOUT in 1.9.  Since the property
org.apache.lucene.writeLockTimeout is no longer consulted, the value
of IndexWriter.WRITE_LOCK_TIMEOUT is final, and there's no setter,
what's the deal?

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 00:21:12 2006
Return-Path: <java-user-return-19468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81925 invoked from network); 10 Mar 2006 00:21:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 00:21:11 -0000
Received: (qmail 60042 invoked by uid 500); 10 Mar 2006 00:21:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60021 invoked by uid 500); 10 Mar 2006 00:21:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60010 invoked by uid 99); 10 Mar 2006 00:21:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 16:21:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 16:21:04 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FHVMo-0006T6-TW
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 01:20:27 +0100
Received: from c-24-20-199-223.hsd1.or.comcast.net ([24.20.199.223])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 01:20:26 +0100
Received: from dobleerre by c-24-20-199-223.hsd1.or.comcast.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 01:20:26 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Raul Raja Martinez <dobleerre@estudiowebs.com>
Subject:  Re: Best practice for searching html
Date:  Thu, 09 Mar 2006 16:20:11 -0800
Lines: 41
Message-ID: <duqgns$bmu$1@sea.gmane.org>
References:  <dup76s$3tj$1@sea.gmane.org> <20060309125641.GS20027@cordoba.webit.de>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  8bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c-24-20-199-223.hsd1.or.comcast.net
User-Agent: Thunderbird 1.5 (Macintosh/20051201)
In-Reply-To: <20060309125641.GS20027@cordoba.webit.de>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Unfortunately I can't change the way things are indexed, so I guess I 
need some short of utility class that will turn Martnez into 
Mart&iacute;nez and then just search for that term.

I have also this problem using the StandardAnalyzer:

If I search for "c&aacute;diz" in luke the query gets parsed as 
"c&aacute diz" it changes ";" for " ". I would like to know which 
symbols are not to be used in the search and how to scape them.

What would be the right query to find "c&aacute;diz"?

Thanks.

Raul

Jens Kraemer wrote:
> Hi!
> 
> On Thu, Mar 09, 2006 at 04:31:23AM -0800, Raul Raja Martinez wrote:
>> Hi I have a lot of html indexed such as:
>>
>> Mart&iacute;nez
>>
>> Of course my users are gonna search for Martnez and they're not gonna 
>> get a match.
>>
>> Is there a common approach to solve this kind of problem in lucene, 
>> Maybe some utility class or something?
> 
> there is a class named Entities in Jakarta commons-lang, which can
> be used to resolve html entities before indexing. Maybe you could
> integrate this into a custom analyzer.
> 
> http://jakarta.apache.org/commons/lang/xref/org/apache/commons/lang/Entities.html
> 
> regards,
> Jens
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 06:33:07 2006
Return-Path: <java-user-return-19469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50648 invoked from network); 10 Mar 2006 06:33:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 06:33:06 -0000
Received: (qmail 43867 invoked by uid 500); 10 Mar 2006 06:33:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43205 invoked by uid 500); 10 Mar 2006 06:33:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43192 invoked by uid 99); 10 Mar 2006 06:33:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 22:33:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [210.18.90.100] (HELO chnmail.satyam.com) (210.18.90.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 22:33:00 -0800
X-eSCM-MailFrom: <Haritha_Parvatham@satyam.com>
Received: from che2.satyam.com (172.18.73.12)
	by chnescm01 (172.18.76.22);
	Fri, 10 March 2006 12:01:16 +0530
Received: from disclaimerchn.corp.satyam.ad (chn.satyam.com [172.18.73.8])
	by che2.satyam.com (8.12.8/8.12.8) with ESMTP id k2A6RiTf019278;
	Fri, 10 Mar 2006 11:58:04 +0530
Received: from ccrmsg003.corp.satyam.ad ([172.18.73.7]) by disclaimerchn.corp.satyam.ad with Microsoft SMTPSVC(6.0.3790.211); Fri, 10 Mar 2006 11:59:04 +0530
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.326
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Importance: normal
Priority: normal
Subject: RE: steps for building lucene 1.9
Date: Fri, 10 Mar 2006 11:59:00 +0530
Message-ID: <F448FF49D11EA4459D957805E93C3A69025218A6@ccrmsg003.corp.satyam.ad>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: steps for building lucene 1.9
Thread-Index: AcZDbv4enNsneJ+VTzW0F6x3bxIFHQAm8nyQ
From: "Haritha_Parvatham" <Haritha_Parvatham@satyam.com>
To: <java-user@lucene.apache.org>
Cc: <mailing.patrick.kimber@gmail.com>
X-OriginalArrivalTime: 10 Mar 2006 06:29:04.0296 (UTC) FILETIME=[ED492280:01C6440B]
X-Virus-Scanned: ClamAV version 0.87, clamav-milter version 0.87 on che2.satyam.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 Hi Patrick,

Thanks for your reply.
Still iam facing problem with lucene 1.9.I have downloaded binaries as
well as source code.
When iam trying to run the binaries.Iam getting an error.
I  have followed the your instructions .
I have deployed the luceneweb.war in tomcat.Iam getting the front-end
lucene web page.When I entered words for searching it giving the
following message.

Document Summary=20
null null=20
null null=20

Please tell me step by step how you build lucene 1.9 in brief so that I
can try.

Thanks=20
Haritha

-----Original Message-----
From: Patrick Kimber [mailto:mailing.patrick.kimber@gmail.com]=20
Sent: Thursday, March 09, 2006 5:16 PM
To: java-user@lucene.apache.org
Subject: Re: steps for building lucene 1.9

Hi Haritha

Hope the following helps:

Build Lucene Core from SVN

Download the lucene Subversion repository from:
http://svn.apache.org/repos/asf/lucene/java/trunk

Note: The CVS repository is still accessible but is out of date.

I downloaded to:
C:\src\lucene-svn\

To build (using ANT):
cd C:\src\lucene-svn\
ant

The following jar file is produced:
C:\src\lucene-svn\build\lucene-core-1.9-rc1-dev.jar

I have just built lucene using these instructions on my workstation and
it builds without any errors.
Patrick

On 09/03/06, Haritha_Parvatham <Haritha_Parvatham@satyam.com> wrote:
> Hi,
> I have downloaded lucene 1.9 version .please tell me how to build=20
> it.Iam finding so many errors in lucene 1.9 source code.
>
> Thanks.
> Haritha

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




DISCLAIMER:
This email (including any attachments) is intended for the sole use of =
the intended recipient/s and may contain material that is CONFIDENTIAL =
AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or =
copying or distribution or forwarding of any or all of the contents in =
this message is STRICTLY PROHIBITED. If you are not the intended =
recipient, please contact the sender by email and delete all copies; =
your cooperation in this regard is appreciated.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 06:59:54 2006
Return-Path: <java-user-return-19470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67644 invoked from network); 10 Mar 2006 06:59:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 06:59:53 -0000
Received: (qmail 68610 invoked by uid 500); 10 Mar 2006 06:59:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68586 invoked by uid 500); 10 Mar 2006 06:59:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68570 invoked by uid 99); 10 Mar 2006 06:59:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 22:59:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dlager@gmail.com designates 64.233.184.200 as permitted sender)
Received: from [64.233.184.200] (HELO wproxy.gmail.com) (64.233.184.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Mar 2006 22:59:44 -0800
Received: by wproxy.gmail.com with SMTP id 36so874216wra
        for <java-user@lucene.apache.org>; Thu, 09 Mar 2006 22:59:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=ZYKpMVNC01+JzPkuWhmFtlsw5NE451H3aZ409gdDwL6XCCsF8NhOjZji7ikvndYUUTw/O384I4Zw8/DCuRKzn30HlqeRXGdpd/Bf7GvZoC5WI1EwqbaDNQNkN6i2EnYvpkjqMSNyPXV6NLE+2MUwkntdzH4znWlrE9k3rSjmTLU=
Received: by 10.65.211.13 with SMTP id n13mr455169qbq;
        Thu, 09 Mar 2006 22:59:24 -0800 (PST)
Received: by 10.65.194.18 with HTTP; Thu, 9 Mar 2006 22:59:24 -0800 (PST)
Message-ID: <a171080c0603092259l74bd6f44o@mail.gmail.com>
Date: Fri, 10 Mar 2006 08:59:24 +0200
From: "=?ISO-8859-1?Q?David_Ahlschl=E4ger?=" <dlager@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene 1.9.1 - Newbie - How to determine what Hit
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2090_3649840.1141973964326"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2090_3649840.1141973964326
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

I am new to Lucene only been using it for 2 Days now.  I got the Lucene in
Action Book whitch got me on the road.

I am currently having troble trying to do the following:

1. I indexd my Files to the RAMDirectory, then close the Index  Writer.

2. Documnets have only 2 Fields. "filename" which is Field.Stored.YES and
Field.Index.Untokenized,
    and "contents" passed in with a FileReader and
Field.TermVector.WITH_POSITIONS_OFFSETS.
    The StandardAnalyzer is used.

3. I create a IndexSearcher using the RAMDirectory.

4. Then I create a Query using QueryParser.

5. Then I Execute the Query using the Searcher.

6. Now I would like to Process the Hits that are returned.

I can get the "filename" that was Hit.

My Problem is that I would like to know what words Hit and posible thier
location as well.

How do I go about finding out what hit and where?

------=_Part_2090_3649840.1141973964326--

From java-user-return-19471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 10:33:57 2006
Return-Path: <java-user-return-19471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90607 invoked from network); 10 Mar 2006 10:33:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 10:33:57 -0000
Received: (qmail 16073 invoked by uid 500); 10 Mar 2006 10:33:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16051 invoked by uid 500); 10 Mar 2006 10:33:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16039 invoked by uid 99); 10 Mar 2006 10:33:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 02:33:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of echofloripa.yell@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO zproxy.gmail.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 02:33:49 -0800
Received: by zproxy.gmail.com with SMTP id 9so660998nzo
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 02:33:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=VBbh2Blonls8cDdUuRVvskpPCN1VG5O6H+tCofSWikcbG9JTKEOwkZUZ/z+QCWIC4pVQbrOVqr+mj01UDo4Htcfnpeg/5j/ckD9UArJ+PoeLV6KlJAHxDTdu4icCffB+xkahlOGEmkNW81oXOuMgbWVPjjBSWSw4xePNF3CBXcM=
Received: by 10.64.91.19 with SMTP id o19mr447386qbb;
        Fri, 10 Mar 2006 02:33:28 -0800 (PST)
Received: by 10.65.248.17 with HTTP; Fri, 10 Mar 2006 02:33:28 -0800 (PST)
Message-ID: <806d3a1f0603100233l15112463i@mail.gmail.com>
Date: Fri, 10 Mar 2006 10:33:28 +0000
From: "emerson cargnin" <echofloripa.yell@gmail.com>
To: java-user@lucene.apache.org
Subject: using writer.setMergeFactor(1000) instead of writer.mergeFactor=1000 breaks lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I just apdated to lucene 1.9.1 and when I use the method of
IndexWriter writer.setMergeFactor(1000) instead of the property
writer.mergeFactor=3D1000 breaks lucene completely...


any clue?

Emerson Cargnin

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 10:39:28 2006
Return-Path: <java-user-return-19472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93878 invoked from network); 10 Mar 2006 10:39:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 10:39:27 -0000
Received: (qmail 37092 invoked by uid 500); 10 Mar 2006 10:39:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37072 invoked by uid 500); 10 Mar 2006 10:39:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37061 invoked by uid 99); 10 Mar 2006 10:39:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 02:39:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 02:39:18 -0800
Received: from orbitsoft.ipt ([192.168.0.150] helo=orbitsoft.orbitscripts)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FHf1J-0006Y6-P0
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 13:38:53 +0300
Subject: speed 
Date: Fri, 10 Mar 2006 13:38:33 +0300
Message-ID: <41D8E340E5045F4ABA553E4524E3D3792E0108@orbitsoft.orbitscripts>
X-MS-Has-Attach: 
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MS-TNEF-Correlator: 
Thread-Topic: speed 
Thread-Index: AcZELse8OYot0r8xTJ+tPqqgYgHi3w==
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
From: "Anton Potehin" <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I try 2 way for get count results:

1)
Query q =3D ....
IndexSearcher is =3D ....
int count =3D Is.search(q).length();

2)
Query q =3D ....
IndexSearcher is =3D ....
CountCollector collector =3D new CountCollector();
Is.search(q, collector);
Int count =3D collector.getCount();

First way return results for 1.644 sec.
Second way return results fot 3.088 sec.
Why first way faster then second?
Can I accelerate it? And how? Can you offer any ways for get number of
results?=20


----------------------CountCollector
import org.apache.lucene.search.HitCollector;

/**
 * @author Anton Potekhin
 * @date: 03.03.2006 17:28:03
 */
public class CountCollector extends HitCollector {

    private int numberRusults =3D 0;
    public int getCount() {
        return numberRusults;
    }

    public CountCollector() {

    }

    public void collect(int doc, float score) {
        if (score > 0.0f) {
            numberRusults++;
        }
    }
}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 11:01:50 2006
Return-Path: <java-user-return-19473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5477 invoked from network); 10 Mar 2006 11:01:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 11:01:46 -0000
Received: (qmail 95719 invoked by uid 500); 10 Mar 2006 11:01:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95683 invoked by uid 500); 10 Mar 2006 11:01:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95653 invoked by uid 99); 10 Mar 2006 11:01:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 03:01:20 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of echofloripa.yell@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 03:01:17 -0800
Received: by wproxy.gmail.com with SMTP id i7so919227wra
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 03:00:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Jn9gBWog1VEy1gT1RFYkP4SW5Oxiao+IfnnbFiiClyav/e5sUCrvITpKsZMiJEp2mm1u7O3S8CdRROiasdvrtwshPEXWx5LpnS6IN6LbkzM4ZyrgwzLeChLtCNXEH+3RcdO/hJhoUADo5NphTZgzSLh2WmQu8vn7r8e8d8nqKa4=
Received: by 10.64.220.5 with SMTP id s5mr207297qbg;
        Fri, 10 Mar 2006 03:00:55 -0800 (PST)
Received: by 10.65.248.17 with HTTP; Fri, 10 Mar 2006 03:00:55 -0800 (PST)
Message-ID: <806d3a1f0603100300l59c30a0h@mail.gmail.com>
Date: Fri, 10 Mar 2006 11:00:55 +0000
From: "emerson cargnin" <echofloripa.yell@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: using writer.setMergeFactor(1000) instead of writer.mergeFactor=1000 breaks lucene
In-Reply-To: <806d3a1f0603100233l15112463i@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <806d3a1f0603100233l15112463i@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

my fault, the eclipse project I was running had a project reference
that was still pointing to the old version of lucene.

sorry for that :)
Emerson

On 10/03/06, emerson cargnin <echofloripa.yell@gmail.com> wrote:
> I just apdated to lucene 1.9.1 and when I use the method of
> IndexWriter writer.setMergeFactor(1000) instead of the property
> writer.mergeFactor=3D1000 breaks lucene completely...
>
>
> any clue?
>
> Emerson Cargnin
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 13:20:26 2006
Return-Path: <java-user-return-19474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84682 invoked from network); 10 Mar 2006 13:20:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 13:20:24 -0000
Received: (qmail 20254 invoked by uid 500); 10 Mar 2006 13:20:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20233 invoked by uid 500); 10 Mar 2006 13:20:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20222 invoked by uid 99); 10 Mar 2006 13:20:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 05:20:16 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.235] (HELO web60812.mail.yahoo.com) (209.73.178.235)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 10 Mar 2006 05:20:16 -0800
Received: (qmail 83743 invoked by uid 60001); 10 Mar 2006 13:19:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YcP1Kafl8jKaEC6CX3rk7UdEBHLT8vd/Gqyj0GBdQ02py8DBCCFWFpF47Y8O8UWFcWPZOKxN78r4+RAYFhA+zvlcqPK0xXuMTvqIqfvImKd+8dAfmlFowJpz5bK5B0smtJeWLlSOqAWvG3iFZ0f9cKMc3w/Qch4zze6lxTrb3C8=  ;
Message-ID: <20060310131955.83741.qmail@web60812.mail.yahoo.com>
Received: from [212.179.71.70] by web60812.mail.yahoo.com via HTTP; Fri, 10 Mar 2006 05:19:55 PST
Date: Fri, 10 Mar 2006 05:19:55 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: Can Lucene load more then 2GB into RAM memory?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1809589890-1141996795=:77145"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1809589890-1141996795=:77145
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

this is in continuation of a previous email i sent
   
  i have a 6gb index containing over 12 million terms.
   
  looking at the Lucene code RAMDirectory.java
   
  i see an int cast of the index file size, meaning there is a 2GB limit
   
  did i miss something?
   
  has anyone loaded more then a single 2GB index into RAM ??????
   
  thanks,
   
   
   
   
   

		
---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail  makes sharing a breeze. 
--0-1809589890-1141996795=:77145--

From java-user-return-19475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 13:34:00 2006
Return-Path: <java-user-return-19475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91738 invoked from network); 10 Mar 2006 13:34:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 13:34:00 -0000
Received: (qmail 56527 invoked by uid 500); 10 Mar 2006 13:33:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56503 invoked by uid 500); 10 Mar 2006 13:33:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56492 invoked by uid 99); 10 Mar 2006 13:33:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 05:33:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 05:33:53 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E110A33D2EE; Fri, 10 Mar 2006 08:33:32 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 9CF7533C01F
	for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 08:33:15 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792E0108@orbitsoft.orbitscripts>
References: <41D8E340E5045F4ABA553E4524E3D3792E0108@orbitsoft.orbitscripts>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A7FBE985-65E4-4C5A-9C0F-65221F51FBB3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: speed 
Date: Fri, 10 Mar 2006 08:32:38 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm curious, how many documents in your index and what kind of  
queries are you issuing?   Even 1.6 seconds is a LONG time for a  
search in most Lucene indexes.

	Erik


On Mar 10, 2006, at 5:38 AM, Anton Potehin wrote:

> I try 2 way for get count results:
>
> 1)
> Query q = ....
> IndexSearcher is = ....
> int count = Is.search(q).length();
>
> 2)
> Query q = ....
> IndexSearcher is = ....
> CountCollector collector = new CountCollector();
> Is.search(q, collector);
> Int count = collector.getCount();
>
> First way return results for 1.644 sec.
> Second way return results fot 3.088 sec.
> Why first way faster then second?
> Can I accelerate it? And how? Can you offer any ways for get number of
> results?
>
>
> ----------------------CountCollector
> import org.apache.lucene.search.HitCollector;
>
> /**
>  * @author Anton Potekhin
>  * @date: 03.03.2006 17:28:03
>  */
> public class CountCollector extends HitCollector {
>
>     private int numberRusults = 0;
>     public int getCount() {
>         return numberRusults;
>     }
>
>     public CountCollector() {
>
>     }
>
>     public void collect(int doc, float score) {
>         if (score > 0.0f) {
>             numberRusults++;
>         }
>     }
> }
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 13:50:49 2006
Return-Path: <java-user-return-19476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 579 invoked from network); 10 Mar 2006 13:50:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 13:50:46 -0000
Received: (qmail 6923 invoked by uid 500); 10 Mar 2006 13:50:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6902 invoked by uid 500); 10 Mar 2006 13:50:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6891 invoked by uid 99); 10 Mar 2006 13:50:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 05:50:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.232.0.248] (HELO avas-mr16.fibertel.com.ar) (24.232.0.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 05:50:37 -0800
Received: from 106-147-89-200.fibertel.com.ar ([200.89.147.106]:62725 "EHLO
	[200.89.147.106]" smtp-auth: "edesantis") by avas-mr16.fibertel.com.ar
	with ESMTPA id S836748AbWCJNuC; Fri, 10 Mar 2006 10:50:02 -0300
Message-ID: <441183DA.5060508@kneobase.com>
Date:	Fri, 10 Mar 2006 10:49:14 -0300
From:	Ernesto De Santis <ernesto.desantis@kneobase.com>
Organization: Colaborativa.net
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:	Lucene Users List <java-user@lucene.apache.org>
Subject: Lucene In Action for lucene 2.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Fib-Al-Info: Al
X-Fib-Al-MRId: 3dba608973605aa29fb259adb13ab132
X-Fib-Al-From: ernesto.desantis@kneobase.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik and Otis

Do you think release a new LIA edition for lucene 2.0?

Regards
Ernesto.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:08:28 2006
Return-Path: <java-user-return-19477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11943 invoked from network); 10 Mar 2006 14:07:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:07:52 -0000
Received: (qmail 71887 invoked by uid 500); 10 Mar 2006 14:07:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71854 invoked by uid 500); 10 Mar 2006 14:06:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71843 invoked by uid 99); 10 Mar 2006 14:06:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:06:59 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:06:58 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FHiGH-0007H9-Gp
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 17:06:33 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: speed 
Date: Fri, 10 Mar 2006 17:06:11 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <A7FBE985-65E4-4C5A-9C0F-65221F51FBB3@ehatchersolutions.com>
Thread-Index: AcZER0i3/dAILw58SqWLfcIsmx1DIQAAngTg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060310140659.46F8910FB006@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Index size: 3,6G, about 5500000 documents.
Each document contains 22 fields. 
For search use:


int count....

public void search() {
	String query = ...
		.................
	String[] mainFields = new String[]{"name", "keywords",
"description"};
	HashMap required = new HashMap();
	required.put("currency", currency.toLowerCase());
	count = count(query,mainFields,required,null);
}
................


public int count(String query, String[] mainFields, HashMap required,HashMap
prohibited) {
        if (is == null) {
            try {
                is = new IndexSearcher(pathToIndex);
            } catch (IOException e) {
                System.err.println(e.toString());
            }
        }
        Query luceneQuery = createQuery(query, mainFields, null, required,
prohibited);
        int count = 0;
        try {
//------------Range Filter
            Filter filter = null;
            if (!rangeFilterField.equals("") &&
!rangeFilterMinValue.equals("") && !rangeFilterMaxValue.equals("")) {
                if (rangeFilterMaxValue.equals("0")) {
                    filter =
RangeFilter.More(rangeFilterField,rangeFilterMinValue);
                } else {
                    filter = new
RangeFilter(rangeFilterField,rangeFilterMinValue,rangeFilterMaxValue,rangeFi
lterIncludeLower,rangeFilterIncludeUpper);
                }
                luceneQuery = new FilteredQuery(luceneQuery,filter);
            }

//------------Make Search
/*            CountCollector collector = new CountCollector();
            is.search(luceneQuery,collector);
            count = collector.getCount();
            */

            count = is.search(luceneQuery,null,1).totalHits;
        } catch (IOException e) {
        }
        return count;
}

public Query createQuery(String query, String[] mainFields, float[] boosts,
HashMap required, HashMap prohibited) {
        BooleanQuery bq = new BooleanQuery();
        Query luceneQuery = null;
        if (!query.equals("") && mainFields != null) {
            luceneQuery = parseQuery(query, mainFields, boosts);
        }
        if (luceneQuery != null) {
            bq.add(luceneQuery, BooleanClause.Occur.MUST);
        }
//------------add required
        if (required != null) {
            Iterator iterator = required.keySet().iterator();
            while (iterator.hasNext()) {
                String field = (String) iterator.next();
                String value = (String) required.get(field);
                bq.add(new TermQuery(new Term(field, value)),
BooleanClause.Occur.MUST);
            }
        }
//------------add prohibited
        if (prohibited != null) {
            Iterator iterator = prohibited.keySet().iterator();
            while (iterator.hasNext()) {
                String field = (String) iterator.next();
                String value = (String) prohibited.get(field);
                bq.add(new TermQuery(new Term(field, value)),
BooleanClause.Occur.MUST_NOT);
            }
        }
        return bq;
    }





    private Query parseQuery(String queryStr, String[] mainFields, float[]
boosts) {
        BooleanQuery query = null;
        try {
            StopAnalyzer analyzer;
            if (pathToStopWords.equals("")) {
                analyzer = new StopAnalyzer();
            } else {
                analyzer = new StopAnalyzer(new File(pathToStopWords));
            }
            query = new BooleanQuery();
            try {
                for (int i = 0; i < mainFields.length; i++) {
                    QueryParser parser = new QueryParser(mainFields[i],
analyzer);
                    parser.setDefaultOperator(QueryParser.Operator.AND);
                    Query mQuery = parser.parse(queryStr);
                    if (boosts != null && boosts.length > i) {
                        mQuery.setBoost(boosts[i]);
                    }
                    query.add(mQuery, BooleanClause.Occur.SHOULD);
                }
            } catch (ParseException e) {
                System.err.println(e.toString());
            }
        } catch (IOException e) {
            System.err.println(e.toString());
        }
        return query;
    }



When I make search I get count = 370000.
May be I do something not correctly? 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Friday, March 10, 2006 4:33 PM
To: java-user@lucene.apache.org
Subject: Re: speed 
Importance: High

I'm curious, how many documents in your index and what kind of  
queries are you issuing?   Even 1.6 seconds is a LONG time for a  
search in most Lucene indexes.

	Erik


On Mar 10, 2006, at 5:38 AM, Anton Potehin wrote:

> I try 2 way for get count results:
>
> 1)
> Query q = ....
> IndexSearcher is = ....
> int count = Is.search(q).length();
>
> 2)
> Query q = ....
> IndexSearcher is = ....
> CountCollector collector = new CountCollector();
> Is.search(q, collector);
> Int count = collector.getCount();
>
> First way return results for 1.644 sec.
> Second way return results fot 3.088 sec.
> Why first way faster then second?
> Can I accelerate it? And how? Can you offer any ways for get number of
> results?
>
>
> ----------------------CountCollector
> import org.apache.lucene.search.HitCollector;
>
> /**
>  * @author Anton Potekhin
>  * @date: 03.03.2006 17:28:03
>  */
> public class CountCollector extends HitCollector {
>
>     private int numberRusults = 0;
>     public int getCount() {
>         return numberRusults;
>     }
>
>     public CountCollector() {
>
>     }
>
>     public void collect(int doc, float score) {
>         if (score > 0.0f) {
>             numberRusults++;
>         }
>     }
> }
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:09:36 2006
Return-Path: <java-user-return-19478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13388 invoked from network); 10 Mar 2006 14:09:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:09:36 -0000
Received: (qmail 81487 invoked by uid 500); 10 Mar 2006 14:09:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81466 invoked by uid 500); 10 Mar 2006 14:09:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81455 invoked by uid 99); 10 Mar 2006 14:09:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:09:25 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:09:24 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k2AE90LY048221
	for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 15:09:00 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200603101409.k2AE90LY048221@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Lucene In Action for lucene 2.0
Date: Fri, 10 Mar 2006 15:09:20 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <441183DA.5060508@kneobase.com>
Thread-Index: AcZESaIgHE811TbrSA2IQ02Cx1A4iQAAmsPQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I look forward for it also.

I even first look forward for LuceneInAction book to get up to date with
lucene 2.0.

Regards,
Jelda
> -----Original Message-----
> From: Ernesto De Santis [mailto:ernesto.desantis@kneobase.com] 
> Sent: Friday, March 10, 2006 2:49 PM
> To: Lucene Users List
> Subject: Lucene In Action for lucene 2.0
> 
> Hi Erik and Otis
> 
> Do you think release a new LIA edition for lucene 2.0?
> 
> Regards
> Ernesto.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:11:54 2006
Return-Path: <java-user-return-19479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15015 invoked from network); 10 Mar 2006 14:11:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:11:53 -0000
Received: (qmail 87593 invoked by uid 500); 10 Mar 2006 14:11:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87570 invoked by uid 500); 10 Mar 2006 14:11:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87559 invoked by uid 99); 10 Mar 2006 14:11:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:11:46 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:11:46 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FHiKz-0007IS-4N
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 17:11:25 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: speed 
Date: Fri, 10 Mar 2006 17:11:04 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <A7FBE985-65E4-4C5A-9C0F-65221F51FBB3@ehatchersolutions.com>
Thread-Index: AcZER0i3/dAILw58SqWLfcIsmx1DIQABJFQA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060310141146.7C33810FB006@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Forget.... ;-)  I use 32-bit platform (Fedora Core release 3), 1 GB RAM,
Celeron 2.40GHz. 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Friday, March 10, 2006 4:33 PM
To: java-user@lucene.apache.org
Subject: Re: speed 
Importance: High

I'm curious, how many documents in your index and what kind of  
queries are you issuing?   Even 1.6 seconds is a LONG time for a  
search in most Lucene indexes.

	Erik


On Mar 10, 2006, at 5:38 AM, Anton Potehin wrote:

> I try 2 way for get count results:
>
> 1)
> Query q = ....
> IndexSearcher is = ....
> int count = Is.search(q).length();
>
> 2)
> Query q = ....
> IndexSearcher is = ....
> CountCollector collector = new CountCollector();
> Is.search(q, collector);
> Int count = collector.getCount();
>
> First way return results for 1.644 sec.
> Second way return results fot 3.088 sec.
> Why first way faster then second?
> Can I accelerate it? And how? Can you offer any ways for get number of
> results?
>
>
> ----------------------CountCollector
> import org.apache.lucene.search.HitCollector;
>
> /**
>  * @author Anton Potekhin
>  * @date: 03.03.2006 17:28:03
>  */
> public class CountCollector extends HitCollector {
>
>     private int numberRusults = 0;
>     public int getCount() {
>         return numberRusults;
>     }
>
>     public CountCollector() {
>
>     }
>
>     public void collect(int doc, float score) {
>         if (score > 0.0f) {
>             numberRusults++;
>         }
>     }
> }
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:15:10 2006
Return-Path: <java-user-return-19480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17391 invoked from network); 10 Mar 2006 14:15:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:15:09 -0000
Received: (qmail 415 invoked by uid 500); 10 Mar 2006 14:15:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 385 invoked by uid 500); 10 Mar 2006 14:15:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 374 invoked by uid 99); 10 Mar 2006 14:15:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:15:03 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:15:01 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k2AEEdRG052765
	for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 15:14:39 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200603101414.k2AEEdRG052765@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: speed 
Date: Fri, 10 Mar 2006 15:14:59 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <20060310141146.7C33810FB006@asf.osuosl.org>
Thread-Index: AcZER0i3/dAILw58SqWLfcIsmx1DIQABJFQAAABBARA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
You are opening IndexSearcher for each and every search request, which is
not adviasable.

Cache IndexSearcher or IndexReader.. This will surely improve your speed .

Greetings,
 

> -----Original Message-----
> From: anton@orbita1.ru [mailto:anton@orbita1.ru] 
> Sent: Friday, March 10, 2006 3:11 PM
> To: java-user@lucene.apache.org
> Subject: RE: speed 
> 
> Forget.... ;-)  I use 32-bit platform (Fedora Core release 
> 3), 1 GB RAM, Celeron 2.40GHz. 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, March 10, 2006 4:33 PM
> To: java-user@lucene.apache.org
> Subject: Re: speed
> Importance: High
> 
> I'm curious, how many documents in your index and what kind of  
> queries are you issuing?   Even 1.6 seconds is a LONG time for a  
> search in most Lucene indexes.
> 
> 	Erik
> 
> 
> On Mar 10, 2006, at 5:38 AM, Anton Potehin wrote:
> 
> > I try 2 way for get count results:
> >
> > 1)
> > Query q = ....
> > IndexSearcher is = ....
> > int count = Is.search(q).length();
> >
> > 2)
> > Query q = ....
> > IndexSearcher is = ....
> > CountCollector collector = new CountCollector(); Is.search(q, 
> > collector); Int count = collector.getCount();
> >
> > First way return results for 1.644 sec.
> > Second way return results fot 3.088 sec.
> > Why first way faster then second?
> > Can I accelerate it? And how? Can you offer any ways for 
> get number of 
> > results?
> >
> >
> > ----------------------CountCollector
> > import org.apache.lucene.search.HitCollector;
> >
> > /**
> >  * @author Anton Potekhin
> >  * @date: 03.03.2006 17:28:03
> >  */
> > public class CountCollector extends HitCollector {
> >
> >     private int numberRusults = 0;
> >     public int getCount() {
> >         return numberRusults;
> >     }
> >
> >     public CountCollector() {
> >
> >     }
> >
> >     public void collect(int doc, float score) {
> >         if (score > 0.0f) {
> >             numberRusults++;
> >         }
> >     }
> > }
> >
> >
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:16:05 2006
Return-Path: <java-user-return-19481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17703 invoked from network); 10 Mar 2006 14:16:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:16:01 -0000
Received: (qmail 2616 invoked by uid 500); 10 Mar 2006 14:15:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2592 invoked by uid 500); 10 Mar 2006 14:15:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2581 invoked by uid 99); 10 Mar 2006 14:15:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:15:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:15:53 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k2AEFO67003341
	for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 15:15:24 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.375 [268.2.1/277]); Fri, 10 Mar 2006 15:15:21 +0100
Message-ID: <441189F9.5090703@isb-sib.ch>
Date: Fri, 10 Mar 2006 15:15:21 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: speed
References: <A7FBE985-65E4-4C5A-9C0F-65221F51FBB3@ehatchersolutions.com> <20060310140659.46F8910FB006@asf.osuosl.org>
In-Reply-To: <20060310140659.46F8910FB006@asf.osuosl.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

anton@orbita1.ru wrote:
> When I make search I get count = 370000.
> May be I do something not correctly? 

I assume you are ran both variants repeatedly, in the same process (start 
up costs etc)?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:26:35 2006
Return-Path: <java-user-return-19483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23252 invoked from network); 10 Mar 2006 14:26:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:26:13 -0000
Received: (qmail 37138 invoked by uid 500); 10 Mar 2006 14:26:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37097 invoked by uid 500); 10 Mar 2006 14:26:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37035 invoked by uid 99); 10 Mar 2006 14:26:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:26:06 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:26:05 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FHiYq-0007LX-CQ
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 17:25:44 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: speed
Date: Fri, 10 Mar 2006 17:25:23 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <441189F9.5090703@isb-sib.ch>
Thread-Index: AcZETSbBRwTOEzblRfmL88uMSDdHBQAAJTCw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060310142605.B6FAE10FB007@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Each variant started in different process....

-----Original Message-----
From: Eric Jain [mailto:Eric.Jain@isb-sib.ch] 
Sent: Friday, March 10, 2006 5:15 PM
To: java-user@lucene.apache.org
Subject: Re: speed
Importance: High

anton@orbita1.ru wrote:
> When I make search I get count = 370000.
> May be I do something not correctly? 

I assume you are ran both variants repeatedly, in the same process (start 
up costs etc)?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:29:16 2006
Return-Path: <java-user-return-19482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25576 invoked from network); 10 Mar 2006 14:29:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:28:59 -0000
Received: (qmail 16891 invoked by uid 500); 10 Mar 2006 14:20:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16869 invoked by uid 500); 10 Mar 2006 14:20:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16858 invoked by uid 99); 10 Mar 2006 14:20:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:20:33 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:20:32 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FHiTT-0007KX-7X
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 17:20:11 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: speed 
Date: Fri, 10 Mar 2006 17:19:50 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <200603101414.k2AEEdRG052765@pigeon.ciao.com>
Thread-Index: AcZER0i3/dAILw58SqWLfcIsmx1DIQABJFQAAABBARAAADB+UA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060310142032.CC87710FB00C@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This code is example ;-) I already use cache ;-) 

-----Original Message-----
From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com] 
Sent: Friday, March 10, 2006 5:15 PM
To: java-user@lucene.apache.org
Subject: RE: speed 
Importance: High

Hi,
You are opening IndexSearcher for each and every search request, which is
not adviasable.

Cache IndexSearcher or IndexReader.. This will surely improve your speed .

Greetings,
 

> -----Original Message-----
> From: anton@orbita1.ru [mailto:anton@orbita1.ru] 
> Sent: Friday, March 10, 2006 3:11 PM
> To: java-user@lucene.apache.org
> Subject: RE: speed 
> 
> Forget.... ;-)  I use 32-bit platform (Fedora Core release 
> 3), 1 GB RAM, Celeron 2.40GHz. 
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, March 10, 2006 4:33 PM
> To: java-user@lucene.apache.org
> Subject: Re: speed
> Importance: High
> 
> I'm curious, how many documents in your index and what kind of  
> queries are you issuing?   Even 1.6 seconds is a LONG time for a  
> search in most Lucene indexes.
> 
> 	Erik
> 
> 
> On Mar 10, 2006, at 5:38 AM, Anton Potehin wrote:
> 
> > I try 2 way for get count results:
> >
> > 1)
> > Query q = ....
> > IndexSearcher is = ....
> > int count = Is.search(q).length();
> >
> > 2)
> > Query q = ....
> > IndexSearcher is = ....
> > CountCollector collector = new CountCollector(); Is.search(q, 
> > collector); Int count = collector.getCount();
> >
> > First way return results for 1.644 sec.
> > Second way return results fot 3.088 sec.
> > Why first way faster then second?
> > Can I accelerate it? And how? Can you offer any ways for 
> get number of 
> > results?
> >
> >
> > ----------------------CountCollector
> > import org.apache.lucene.search.HitCollector;
> >
> > /**
> >  * @author Anton Potekhin
> >  * @date: 03.03.2006 17:28:03
> >  */
> > public class CountCollector extends HitCollector {
> >
> >     private int numberRusults = 0;
> >     public int getCount() {
> >         return numberRusults;
> >     }
> >
> >     public CountCollector() {
> >
> >     }
> >
> >     public void collect(int doc, float score) {
> >         if (score > 0.0f) {
> >             numberRusults++;
> >         }
> >     }
> > }
> >
> >
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 14:41:13 2006
Return-Path: <java-user-return-19484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33869 invoked from network); 10 Mar 2006 14:41:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 14:41:11 -0000
Received: (qmail 84508 invoked by uid 500); 10 Mar 2006 14:41:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84452 invoked by uid 500); 10 Mar 2006 14:40:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84425 invoked by uid 99); 10 Mar 2006 14:40:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:40:59 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 06:40:58 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FHinF-0007P7-65
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 17:40:37 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: speed 
Date: Fri, 10 Mar 2006 17:40:16 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <41D8E340E5045F4ABA553E4524E3D3792E0108@orbitsoft.orbitscripts>
Thread-Index: AcZELse8OYot0r8xTJ+tPqqgYgHi3wAIWwsQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060310144058.8531510FB007@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry. I was repeated test. And now both way have same speed. 

-----Original Message-----
From: Anton Potehin [mailto:anton@orbita1.ru] 
Sent: Friday, March 10, 2006 1:39 PM
To: java-user@lucene.apache.org
Subject: speed 
Importance: High

I try 2 way for get count results:

1)
Query q = ....
IndexSearcher is = ....
int count = Is.search(q).length();

2)
Query q = ....
IndexSearcher is = ....
CountCollector collector = new CountCollector();
Is.search(q, collector);
Int count = collector.getCount();

First way return results for 1.644 sec.
Second way return results fot 3.088 sec.
Why first way faster then second?
Can I accelerate it? And how? Can you offer any ways for get number of
results? 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 15:03:41 2006
Return-Path: <java-user-return-19485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53701 invoked from network); 10 Mar 2006 15:03:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 15:03:37 -0000
Received: (qmail 43236 invoked by uid 500); 10 Mar 2006 15:03:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43209 invoked by uid 500); 10 Mar 2006 15:03:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43198 invoked by uid 99); 10 Mar 2006 15:03:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 07:03:31 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 07:03:30 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FHj92-0007oU-TR
	for java-user@lucene.apache.org; Fri, 10 Mar 2006 18:03:08 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: speed 
Date: Fri, 10 Mar 2006 18:02:48 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <20060310144058.8531510FB007@asf.osuosl.org>
Thread-Index: AcZELse8OYot0r8xTJ+tPqqgYgHi3wAIWwsQAADOJlA=
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060310150330.809CA10FB00C@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

But I think that 1.7 sec for the reception of simply number of results much
slowly (index 3,6G).

-----Original Message-----
From: anton@orbita1.ru [mailto:anton@orbita1.ru] 
Sent: Friday, March 10, 2006 5:40 PM
To: java-user@lucene.apache.org
Subject: RE: speed 
Importance: High

Sorry. I was repeated test. And now both way have same speed. 

-----Original Message-----
From: Anton Potehin [mailto:anton@orbita1.ru] 
Sent: Friday, March 10, 2006 1:39 PM
To: java-user@lucene.apache.org
Subject: speed 
Importance: High

I try 2 way for get count results:

1)
Query q = ....
IndexSearcher is = ....
int count = Is.search(q).length();

2)
Query q = ....
IndexSearcher is = ....
CountCollector collector = new CountCollector();
Is.search(q, collector);
Int count = collector.getCount();

First way return results for 1.644 sec.
Second way return results fot 3.088 sec.
Why first way faster then second?
Can I accelerate it? And how? Can you offer any ways for get number of
results? 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 16:16:18 2006
Return-Path: <java-user-return-19486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99446 invoked from network); 10 Mar 2006 16:16:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 16:16:17 -0000
Received: (qmail 69150 invoked by uid 500); 10 Mar 2006 16:16:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69053 invoked by uid 500); 10 Mar 2006 16:16:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69042 invoked by uid 99); 10 Mar 2006 16:16:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 08:16:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 08:16:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E8B7933D8C6; Fri, 10 Mar 2006 11:15:46 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 68A6733D8BC
	for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 11:15:43 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <200603101409.k2AE90LY048221@pigeon.ciao.com>
References: <200603101409.k2AE90LY048221@pigeon.ciao.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7785D819-CF7D-4DF4-83DC-CB00BC176BE4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene In Action for lucene 2.0
Date: Fri, 10 Mar 2006 11:15:40 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis and I certainly appreciate the interest!  And I have been  
spending some time recently contemplating this effort.  A 2nd edition  
of a book is perhaps the most painful thing to contemplate, even more  
so than a root canal.  With both of us busier than we ever have been,  
it is a challenge to carve non-existent time out of a calendar.

However, rest assured that I am committed to making LIA2 happen.   
Just this week I have refactored the LIA codebase to compile cleanly  
with no deprecation warnings and ensuring that all tests pass once  
again (there were a few that were demonstrating edge case issues in  
Lucene 1.4.3 that have been resolved in the current codebase).

Lucene 1.9.1 works fine with the LIA1 codebase, so I'm going to leave  
that as-is, but when Lucene 2.0 officially comes out I will release  
an updated example codebase (for free, as always) that is entirely  
geared for 2.0.  Also, I'm in the process of spec'ing out a document  
that describes the process of upgrading a project from 1.4.3 to 1.9.1  
to 2.0 and showcasing all of the new features.  How this document is  
released/published is still undecided, perhaps free to all registered  
LIA owners (?).

I would like to optimistically say that LIA2 could be completed this  
year, but I'm wary of over-promising knowing the challenges  
involved.  I am committed to making it happen as soon as reasonably  
possible though.

	Erik



On Mar 10, 2006, at 9:09 AM, Ramana Jelda wrote:

> I look forward for it also.
>
> I even first look forward for LuceneInAction book to get up to date  
> with
> lucene 2.0.
>
> Regards,
> Jelda
>> -----Original Message-----
>> From: Ernesto De Santis [mailto:ernesto.desantis@kneobase.com]
>> Sent: Friday, March 10, 2006 2:49 PM
>> To: Lucene Users List
>> Subject: Lucene In Action for lucene 2.0
>>
>> Hi Erik and Otis
>>
>> Do you think release a new LIA edition for lucene 2.0?
>>
>> Regards
>> Ernesto.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 16:25:40 2006
Return-Path: <java-user-return-19488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5518 invoked from network); 10 Mar 2006 16:25:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 16:25:39 -0000
Received: (qmail 1385 invoked by uid 500); 10 Mar 2006 16:25:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1301 invoked by uid 500); 10 Mar 2006 16:25:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1234 invoked by uid 99); 10 Mar 2006 16:25:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 08:25:19 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.203 as permitted sender)
Received: from [64.233.182.203] (HELO nproxy.gmail.com) (64.233.182.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 08:25:17 -0800
Received: by nproxy.gmail.com with SMTP id c29so577345nfb
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 08:24:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=jWN/OD+GtJujCfAZNceyISy0bRt1D+S0/py1gfjzaclIWykiaO3vtJyreMsifYyUpQjxXupmN+AUlkho0v8KxuKN2yh3WaL+7ga1QraErw7RzmzYXnIry4EsbQpPGm99h5L6Z1eY/n9PGzyzxsCK90LkrsLW2FnQS5NcomsrFkE=
Received: by 10.48.248.6 with SMTP id v6mr1480079nfh;
        Fri, 10 Mar 2006 08:24:56 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Fri, 10 Mar 2006 08:24:56 -0800 (PST)
Message-ID: <c68e39170603100824q16506fc1u1ae3a7db16b8e0f@mail.gmail.com>
Date: Fri, 10 Mar 2006 11:24:56 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: 1.9.1 problem with MatchAllDocsQuery
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>
In-Reply-To: <f071061b0603091036o72bc898cvc0c11f82b31bc779@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <f071061b0603091036o72bc898cvc0c11f82b31bc779@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Javier,

The exception is happening on the last line of this method:

  public Query rewrite(Query original) throws IOException {
    Query[] queries =3D new Query[searchables.length];
    for (int i =3D 0; i < searchables.length; i++) {
      queries[i] =3D searchables[i].rewrite(original);
    }
    return queries[0].combine(queries);
  }

It looks like the only way that can happen is if you don't have any
searchables in your MultiSearcher.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server


On 3/9/06, javier muguruza <jmuguruza@gmail.com> wrote:
> Hi all,
>
> I was using lucene-1.9-rc1-dev.jar (got it from luke website I think).
> I was running a query whose tostring() was:
> -body:angel -body:darpa -body:protocol +MatchAllDocsQuery1.0
>
> When I upgraded to 1.9.1, I am getting an exception:
> ava.lang.ArrayIndexOutOfBoundsException: 0
>         at org.apache.lucene.search.MultiSearcher.rewrite(MultiSearcher.j=
ava:268)
>         at org.apache.lucene.search.MultiSearcher.createWeight(MultiSearc=
her.java:293)
>         at org.apache.lucene.search.Searcher.search(Searcher.java:116)
>         at org.apache.lucene.search.Searcher.search(Searcher.java:95)
>         at runner.step.LuceneSearchHelper.search(LuceneSearchHelper.java:=
52)
> tostring gives the following:
> -body:angel -body:darpa -body:protocol +MatchAllDocsQuery

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 16:25:40 2006
Return-Path: <java-user-return-19487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5520 invoked from network); 10 Mar 2006 16:25:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 16:25:39 -0000
Received: (qmail 1340 invoked by uid 500); 10 Mar 2006 16:25:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1271 invoked by uid 500); 10 Mar 2006 16:25:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1247 invoked by uid 500); 10 Mar 2006 16:25:19 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 1232 invoked by uid 99); 10 Mar 2006 16:25:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 08:25:19 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.197 as permitted sender)
Received: from [64.233.182.197] (HELO nproxy.gmail.com) (64.233.182.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 08:25:17 -0800
Received: by nproxy.gmail.com with SMTP id q29so585123nfc
        for <lucene-user@jakarta.apache.org>; Fri, 10 Mar 2006 08:24:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=jWN/OD+GtJujCfAZNceyISy0bRt1D+S0/py1gfjzaclIWykiaO3vtJyreMsifYyUpQjxXupmN+AUlkho0v8KxuKN2yh3WaL+7ga1QraErw7RzmzYXnIry4EsbQpPGm99h5L6Z1eY/n9PGzyzxsCK90LkrsLW2FnQS5NcomsrFkE=
Received: by 10.48.248.6 with SMTP id v6mr1480079nfh;
        Fri, 10 Mar 2006 08:24:56 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Fri, 10 Mar 2006 08:24:56 -0800 (PST)
Message-ID: <c68e39170603100824q16506fc1u1ae3a7db16b8e0f@mail.gmail.com>
Date: Fri, 10 Mar 2006 11:24:56 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: 1.9.1 problem with MatchAllDocsQuery
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>
In-Reply-To: <f071061b0603091036o72bc898cvc0c11f82b31bc779@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <f071061b0603091036o72bc898cvc0c11f82b31bc779@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Javier,

The exception is happening on the last line of this method:

  public Query rewrite(Query original) throws IOException {
    Query[] queries =3D new Query[searchables.length];
    for (int i =3D 0; i < searchables.length; i++) {
      queries[i] =3D searchables[i].rewrite(original);
    }
    return queries[0].combine(queries);
  }

It looks like the only way that can happen is if you don't have any
searchables in your MultiSearcher.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server


On 3/9/06, javier muguruza <jmuguruza@gmail.com> wrote:
> Hi all,
>
> I was using lucene-1.9-rc1-dev.jar (got it from luke website I think).
> I was running a query whose tostring() was:
> -body:angel -body:darpa -body:protocol +MatchAllDocsQuery1.0
>
> When I upgraded to 1.9.1, I am getting an exception:
> ava.lang.ArrayIndexOutOfBoundsException: 0
>         at org.apache.lucene.search.MultiSearcher.rewrite(MultiSearcher.j=
ava:268)
>         at org.apache.lucene.search.MultiSearcher.createWeight(MultiSearc=
her.java:293)
>         at org.apache.lucene.search.Searcher.search(Searcher.java:116)
>         at org.apache.lucene.search.Searcher.search(Searcher.java:95)
>         at runner.step.LuceneSearchHelper.search(LuceneSearchHelper.java:=
52)
> tostring gives the following:
> -body:angel -body:darpa -body:protocol +MatchAllDocsQuery

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 17:24:14 2006
Return-Path: <java-user-return-19489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40757 invoked from network); 10 Mar 2006 17:24:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 17:24:13 -0000
Received: (qmail 86834 invoked by uid 500); 10 Mar 2006 17:23:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86802 invoked by uid 500); 10 Mar 2006 17:23:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86791 invoked by uid 99); 10 Mar 2006 17:23:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 09:23:55 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jmuguruza@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO pproxy.gmail.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 09:23:55 -0800
Received: by pproxy.gmail.com with SMTP id e30so379512pya
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 09:23:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Nb1a9iJF/A4NPVxHtbyHocBZuAZWFc8k0NLjbxbMOdSnNs5UIithC47fcUiF5fdmFoHHJ1vDm50hM/nEH2XLTdKevhYb7uZmarkk/YAnlh9YWjDSF+DS+fk9fz/OO+GN0BzzAPeJoxnf9y2TWoBzEI+NzY7mCOT4yT9pWh4Kxto=
Received: by 10.35.121.2 with SMTP id y2mr446975pym;
        Fri, 10 Mar 2006 09:23:34 -0800 (PST)
Received: by 10.35.125.5 with HTTP; Fri, 10 Mar 2006 09:23:34 -0800 (PST)
Message-ID: <f071061b0603100923p79d67650sc6f4b8ea247e5370@mail.gmail.com>
Date: Fri, 10 Mar 2006 18:23:34 +0100
From: "javier muguruza" <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: 1.9.1 problem with MatchAllDocsQuery
In-Reply-To: <c68e39170603100824q16506fc1u1ae3a7db16b8e0f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <f071061b0603091036o72bc898cvc0c11f82b31bc779@mail.gmail.com>
	 <c68e39170603100824q16506fc1u1ae3a7db16b8e0f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thanks Yonik, did not notice that. I patched my code not to run the
search in that case, previous versions of lucene did not throw any
exception in the same case though.

thanks

On 3/10/06, Yonik Seeley <yseeley@gmail.com> wrote:
> Hi Javier,
>
> The exception is happening on the last line of this method:
>
>   public Query rewrite(Query original) throws IOException {
>     Query[] queries =3D new Query[searchables.length];
>     for (int i =3D 0; i < searchables.length; i++) {
>       queries[i] =3D searchables[i].rewrite(original);
>     }
>     return queries[0].combine(queries);
>   }
>
> It looks like the only way that can happen is if you don't have any
> searchables in your MultiSearcher.
>
> -Yonik
> http://incubator.apache.org/solr Solr, The Open Source Lucene Search Serv=
er
>
>
> On 3/9/06, javier muguruza <jmuguruza@gmail.com> wrote:
> > Hi all,
> >
> > I was using lucene-1.9-rc1-dev.jar (got it from luke website I think).
> > I was running a query whose tostring() was:
> > -body:angel -body:darpa -body:protocol +MatchAllDocsQuery1.0
> >
> > When I upgraded to 1.9.1, I am getting an exception:
> > ava.lang.ArrayIndexOutOfBoundsException: 0
> >         at org.apache.lucene.search.MultiSearcher.rewrite(MultiSearcher=
.java:268)
> >         at org.apache.lucene.search.MultiSearcher.createWeight(MultiSea=
rcher.java:293)
> >         at org.apache.lucene.search.Searcher.search(Searcher.java:116)
> >         at org.apache.lucene.search.Searcher.search(Searcher.java:95)
> >         at runner.step.LuceneSearchHelper.search(LuceneSearchHelper.jav=
a:52)
> > tostring gives the following:
> > -body:angel -body:darpa -body:protocol +MatchAllDocsQuery
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 18:39:32 2006
Return-Path: <java-user-return-19490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80079 invoked from network); 10 Mar 2006 18:39:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 18:39:31 -0000
Received: (qmail 7046 invoked by uid 500); 10 Mar 2006 18:39:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6527 invoked by uid 500); 10 Mar 2006 18:39:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6516 invoked by uid 99); 10 Mar 2006 18:39:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 10:39:26 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of djamescook@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 10:39:25 -0800
Received: by zproxy.gmail.com with SMTP id 13so839342nzn
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 10:39:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=Jf7tDZbzisboJBNm9oMl/3CCsAyTez/HJjPWzM2i15rcVAoKx8Qte/G0Th9bZzW2PQtCu6JEYbzK8+Hh9Akq5EX96vfGiN7qaPlgg1u0cFDyFtzgb1TFrDFQLbFguDuZrXJsms0DKMtriX9mlTpcicjVLY2C5P19S2oVa3IED2E=
Received: by 10.64.210.10 with SMTP id i10mr857607qbg;
        Fri, 10 Mar 2006 10:39:05 -0800 (PST)
Received: by 10.65.22.5 with HTTP; Fri, 10 Mar 2006 10:39:05 -0800 (PST)
Message-ID: <e1e492990603101039q5b9b90e4n376f637fb16ee3d7@mail.gmail.com>
Date: Fri, 10 Mar 2006 13:39:05 -0500
From: "James Cook" <djamescook@gmail.com>
Reply-To: jimcook@visualxs.com
To: java-user@lucene.apache.org
Subject: Alternate Use of Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there a technique, using Lucene, to retrieve the remaining index
values from the results of a query?

Here is a better explanation of the question.

I have various fields that have been indexed on a particular
collection of Java POJO's. For example, an Employee object may have
the following fields: id, salary, hire date, termination date,
department, supervisor, etc..

I want to issue a query such as "department: 15". This restricts my
list of Employee objects to those with a department value of 15. What
may be a little different at this stage is I don't care about the
resulting Employee list. What I really want is access to the Lucene
index values for the 'supervisor' field. Basically, I want a list of
those supervisors for the resulting filtered list of Employees.

Does lucene provide an API to access these values?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 21:08:57 2006
Return-Path: <java-user-return-19491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53395 invoked from network); 10 Mar 2006 21:08:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 21:08:57 -0000
Received: (qmail 68418 invoked by uid 500); 10 Mar 2006 21:08:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67945 invoked by uid 500); 10 Mar 2006 21:08:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67929 invoked by uid 99); 10 Mar 2006 21:08:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 13:08:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.206 as permitted sender)
Received: from [64.233.184.206] (HELO wproxy.gmail.com) (64.233.184.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 13:08:49 -0800
Received: by wproxy.gmail.com with SMTP id i24so755788wra
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 13:08:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GgtfyJ5Zuxu1YEcu2DAqr9tIb2Mew3N7ZlBtFGkNlUryXC4dbSpHOpm0y42ls/TluvMdHca5DBIsOD7ipCC+HhFoqiwKuqnQVBqpdOz7DoeCE29B9oXtC3OJAyIktf1tB81dhl5UMfjAyv/j5LqiLUqDeDRd2t/8j1Wa5o0i/DU=
Received: by 10.54.70.3 with SMTP id s3mr1239548wra;
        Fri, 10 Mar 2006 13:08:28 -0800 (PST)
Received: by 10.54.123.8 with HTTP; Fri, 10 Mar 2006 13:08:28 -0800 (PST)
Message-ID: <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>
Date: Fri, 10 Mar 2006 16:08:28 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <440DD3A6.2020600@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6886_7742564.1142024908182"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <e994873a0602221152q1bad1e52gdeb3477611d31916@mail.gmail.com>
	 <c68e39170602221218g6f7c2cb2m225c16f668b8497b@mail.gmail.com>
	 <e994873a0602231100v48a73ec4tcca903fc65548fa6@mail.gmail.com>
	 <88c6a6720602231148v520b3be6uab8cfd7fb48899a9@mail.gmail.com>
	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>
	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>
	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
	 <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
	 <440DD3A6.2020600@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6886_7742564.1142024908182
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

> 3. Use the ThreadLocal's FieldReader in the document() method.

As I understand it, this means that the document method no longer needs to
be synchronized, right?

I've made these changes and it does appear to improve performance. Random
snapshots of the stack traces show only an occasional lock in 'isDeleted'.
Mostly, though, the threads are busy scoring and adding results to priority
queues, which is great. I've included some sample stacks, below. I'll repor=
t
the new query rates after it has run for at least overnight, and I'd be
happy submit these changes to the lucene committers, if interested.

Peter


Sample stack traces:

"QueryThread group 1,#8" prio=3D1 tid=3D0x0000002ce48eeb80 nid=3D0x6b87 run=
nable
[0x0000000043887000..0x0000000043887bb0]
    at org.apache.lucene.search.FieldSortedHitQueue.lessThan(
FieldSortedHitQueue.java:108)
    at org.apache.lucene.util.PriorityQueue.insert(PriorityQueue.java:61)
    at org.apache.lucene.search.FieldSortedHitQueue.insert(
FieldSortedHitQueue.java:85)
    at org.apache.lucene.search.FieldSortedHitQueue.insert(
FieldSortedHitQueue.java:92)
    at org.apache.lucene.search.TopFieldDocCollector.collect(
TopFieldDocCollector.java:51)
    at org.apache.lucene.search.TermScorer.score(TermScorer.java:75)
    at org.apache.lucene.search.TermScorer.score(TermScorer.java:60)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132=
)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110=
)
    at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:225=
)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
    at org.apache.lucene.search.Searcher.search(Searcher.java:62)

"QueryThread group 1,#5" prio=3D1 tid=3D0x0000002ce4d659f0 nid=3D0x6b84 run=
nable
[0x0000000043584000..0x0000000043584d30]
    at org.apache.lucene.search.TermScorer.score(TermScorer.java:75)
    at org.apache.lucene.search.TermScorer.score(TermScorer.java:60)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132=
)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110=
)
    at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:225=
)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
    at org.apache.lucene.search.Searcher.search(Searcher.java:62)

"QueryThread group 1,#4" prio=3D1 tid=3D0x0000002ce10afd50 nid=3D0x6b83 run=
nable
[0x0000000043483000..0x0000000043483db0]
    at org.apache.lucene.store.MMapDirectory$MMapIndexInput.readByte(
MMapDirectory.java:46)
    at org.apache.lucene.store.IndexInput.readVInt(IndexInput.java:56)
    at org.apache.lucene.index.SegmentTermDocs.next(SegmentTermDocs.java
:101)
    at org.apache.lucene.index.SegmentTermDocs.skipTo(SegmentTermDocs.java
:194)
    at org.apache.lucene.search.TermScorer.skipTo(TermScorer.java:144)
    at org.apache.lucene.search.ConjunctionScorer.doNext(
ConjunctionScorer.java:56)
    at org.apache.lucene.search.ConjunctionScorer.next(
ConjunctionScorer.java:51)
    at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
:290)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132=
)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110=
)
    at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:225=
)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
    at org.apache.lucene.search.Searcher.search(Searcher.java:62)

"QueryThread group 1,#3" prio=3D1 tid=3D0x0000002ce48959f0 nid=3D0x6b82 run=
nable
[0x0000000043382000..0x0000000043382e30]
    at java.util.LinkedList.listIterator(LinkedList.java:523)
    at java.util.AbstractList.listIterator(AbstractList.java:349)
    at java.util.AbstractSequentialList.iterator(AbstractSequentialList.jav=
a
:250)
    at org.apache.lucene.search.ConjunctionScorer.score(
ConjunctionScorer.java:80)
    at org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2.java
:186)
    at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
:327)
    at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
:291)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132=
)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110=
)
    at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:225=
)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
    at org.apache.lucene.search.Hits.<init>(Hits.java:52)
    at org.apache.lucene.search.Searcher.search(Searcher.java:62)


On 3/7/06, Doug Cutting <cutting@apache.org> wrote:
>
> Peter Keegan wrote:
> > I ran a query performance tester against 8-cpu and 16-cpu Xeon servers
> > (16/32 cpu hyperthreaded). on Linux. Here are the results:
> >
> > 8-cpu:  275 qps
> > 16-cpu: 305 qps
> > (the dual-core Opteron servers are still faster)
> >
> > Here is the stack trace of 8 of the 16 query threads during the test:
> >
> >         at org.apache.lucene.index.SegmentReader.document(
> SegmentReader.java
> > :281)
> >         - waiting to lock <0x0000002adf5b2110> (a
> > org.apache.lucene.index.SegmentReader)
> >         at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.jav=
a
> :83)
> >         at org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.jav=
a
> > :146)
> >         at org.apache.lucene.search.Hits.doc(Hits.java:103)
> >
> > SegmentReader.document is a synchronized method. I have one stored fiel=
d
> > (binary, uncompressed) with and average length of 0.5Kb. The retrieval
> of
> > this stored field is within this synchronized code. Since I am using
> > MMapDirectory, does this retrieval need to be synchronized?
>
> Yes, since in FieldReader the file positions must be synchronized.
>
> The way to avoid this would be to:
>
> 1. Add a clone() method to FieldReader that clones it's two IndexInputs.
> 2. Add a ThreadLocal to SegmentReader whose value is a cloned FieldReader=
.
> 3. Use the ThreadLocal's FieldReader in the document() method.
>
> TermInfosReader has a similar optimization, using a ThreadLocal
> containing a SegmentTermEnum for each thread.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_6886_7742564.1142024908182--

From java-user-return-19492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 10 22:00:56 2006
Return-Path: <java-user-return-19492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75968 invoked from network); 10 Mar 2006 22:00:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Mar 2006 22:00:56 -0000
Received: (qmail 45367 invoked by uid 500); 10 Mar 2006 22:00:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45330 invoked by uid 500); 10 Mar 2006 22:00:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45316 invoked by uid 99); 10 Mar 2006 22:00:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 14:00:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 64.233.182.203 as permitted sender)
Received: from [64.233.182.203] (HELO nproxy.gmail.com) (64.233.182.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 14:00:49 -0800
Received: by nproxy.gmail.com with SMTP id p77so175060nfc
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 14:00:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ouJwcxCqVnmGfwJCi3NrA7jFXqRsTAXnWfeQleNO5vLjdD8s1nBu3AkWorZC6/Gg5ahBcMiI8hSvsu6FrhiXTBDLyFhdR0FPpiKRnasQif1/v8HNnvg0qtz0qAQNycnWaDca1cj9/lzsOsXWnFkFUlPdrHCZuk+PqC5iNh+Abs0=
Received: by 10.49.67.17 with SMTP id u17mr549545nfk;
        Fri, 10 Mar 2006 14:00:28 -0800 (PST)
Received: by 10.48.243.15 with HTTP; Fri, 10 Mar 2006 14:00:28 -0800 (PST)
Message-ID: <88c6a6720603101400u39d5acf9n20fa89fcc8cdc8e2@mail.gmail.com>
Date: Fri, 10 Mar 2006 16:00:28 -0600
From: "Chris Lamprecht" <clamprecht@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <c68e39170602221218g6f7c2cb2m225c16f668b8497b@mail.gmail.com>
	 <e994873a0602231100v48a73ec4tcca903fc65548fa6@mail.gmail.com>
	 <88c6a6720602231148v520b3be6uab8cfd7fb48899a9@mail.gmail.com>
	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>
	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>
	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
	 <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
	 <440DD3A6.2020600@apache.org>
	 <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter,

I think this is similar to the patch in this bugzilla task:

http://issues.apache.org/bugzilla/show_bug.cgi?id=3D35838
the patch itself is http://issues.apache.org/bugzilla/attachment.cgi?id=3D1=
5757

(BTW does JIRA have a way to display the patch diffs?)

The above patch also has a change to SegmentReader to avoid
synchronization on isDeleted().  However, with that patch, you no
longer have the guarantee that one thread will immediately see
deletions by another thread.  This was fine for my purposes, and
resulted in a big performance boost when there were deleted documents,
but it may not be "correct" for others' needs.

-chris
On 3/10/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > 3. Use the ThreadLocal's FieldReader in the document() method.
>
> As I understand it, this means that the document method no longer needs t=
o
> be synchronized, right?
>
> I've made these changes and it does appear to improve performance. Random
> snapshots of the stack traces show only an occasional lock in 'isDeleted'=
.
> Mostly, though, the threads are busy scoring and adding results to priori=
ty
> queues, which is great. I've included some sample stacks, below. I'll rep=
ort
> the new query rates after it has run for at least overnight, and I'd be
> happy submit these changes to the lucene committers, if interested.
>
> Peter
>
>
> Sample stack traces:
>
> "QueryThread group 1,#8" prio=3D1 tid=3D0x0000002ce48eeb80 nid=3D0x6b87 r=
unnable
> [0x0000000043887000..0x0000000043887bb0]
>     at org.apache.lucene.search.FieldSortedHitQueue.lessThan(
> FieldSortedHitQueue.java:108)
>     at org.apache.lucene.util.PriorityQueue.insert(PriorityQueue.java:61)
>     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> FieldSortedHitQueue.java:85)
>     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> FieldSortedHitQueue.java:92)
>     at org.apache.lucene.search.TopFieldDocCollector.collect(
> TopFieldDocCollector.java:51)
>     at org.apache.lucene.search.TermScorer.score(TermScorer.java:75)
>     at org.apache.lucene.search.TermScorer.score(TermScorer.java:60)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
32)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
10)
>     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:2=
25)
>     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
>     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
>
> "QueryThread group 1,#5" prio=3D1 tid=3D0x0000002ce4d659f0 nid=3D0x6b84 r=
unnable
> [0x0000000043584000..0x0000000043584d30]
>     at org.apache.lucene.search.TermScorer.score(TermScorer.java:75)
>     at org.apache.lucene.search.TermScorer.score(TermScorer.java:60)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
32)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
10)
>     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:2=
25)
>     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
>     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
>
> "QueryThread group 1,#4" prio=3D1 tid=3D0x0000002ce10afd50 nid=3D0x6b83 r=
unnable
> [0x0000000043483000..0x0000000043483db0]
>     at org.apache.lucene.store.MMapDirectory$MMapIndexInput.readByte(
> MMapDirectory.java:46)
>     at org.apache.lucene.store.IndexInput.readVInt(IndexInput.java:56)
>     at org.apache.lucene.index.SegmentTermDocs.next(SegmentTermDocs.java
> :101)
>     at org.apache.lucene.index.SegmentTermDocs.skipTo(SegmentTermDocs.jav=
a
> :194)
>     at org.apache.lucene.search.TermScorer.skipTo(TermScorer.java:144)
>     at org.apache.lucene.search.ConjunctionScorer.doNext(
> ConjunctionScorer.java:56)
>     at org.apache.lucene.search.ConjunctionScorer.next(
> ConjunctionScorer.java:51)
>     at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
> :290)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
32)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
10)
>     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:2=
25)
>     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
>     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
>
> "QueryThread group 1,#3" prio=3D1 tid=3D0x0000002ce48959f0 nid=3D0x6b82 r=
unnable
> [0x0000000043382000..0x0000000043382e30]
>     at java.util.LinkedList.listIterator(LinkedList.java:523)
>     at java.util.AbstractList.listIterator(AbstractList.java:349)
>     at java.util.AbstractSequentialList.iterator(AbstractSequentialList.j=
ava
> :250)
>     at org.apache.lucene.search.ConjunctionScorer.score(
> ConjunctionScorer.java:80)
>     at org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2.jav=
a
> :186)
>     at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
> :327)
>     at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
> :291)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
32)
>     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:1=
10)
>     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:2=
25)
>     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
>     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
>
>
> On 3/7/06, Doug Cutting <cutting@apache.org> wrote:
> >
> > Peter Keegan wrote:
> > > I ran a query performance tester against 8-cpu and 16-cpu Xeon server=
s
> > > (16/32 cpu hyperthreaded). on Linux. Here are the results:
> > >
> > > 8-cpu:  275 qps
> > > 16-cpu: 305 qps
> > > (the dual-core Opteron servers are still faster)
> > >
> > > Here is the stack trace of 8 of the 16 query threads during the test:
> > >
> > >         at org.apache.lucene.index.SegmentReader.document(
> > SegmentReader.java
> > > :281)
> > >         - waiting to lock <0x0000002adf5b2110> (a
> > > org.apache.lucene.index.SegmentReader)
> > >         at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.j=
ava
> > :83)
> > >         at org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.j=
ava
> > > :146)
> > >         at org.apache.lucene.search.Hits.doc(Hits.java:103)
> > >
> > > SegmentReader.document is a synchronized method. I have one stored fi=
eld
> > > (binary, uncompressed) with and average length of 0.5Kb. The retrieva=
l
> > of
> > > this stored field is within this synchronized code. Since I am using
> > > MMapDirectory, does this retrieval need to be synchronized?
> >
> > Yes, since in FieldReader the file positions must be synchronized.
> >
> > The way to avoid this would be to:
> >
> > 1. Add a clone() method to FieldReader that clones it's two IndexInputs=
.
> > 2. Add a ThreadLocal to SegmentReader whose value is a cloned FieldRead=
er.
> > 3. Use the ThreadLocal's FieldReader in the document() method.
> >
> > TermInfosReader has a similar optimization, using a ThreadLocal
> > containing a SegmentTermEnum for each thread.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 11 03:26:15 2006
Return-Path: <java-user-return-19493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88593 invoked from network); 11 Mar 2006 03:26:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Mar 2006 03:26:15 -0000
Received: (qmail 224 invoked by uid 500); 11 Mar 2006 03:26:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 188 invoked by uid 500); 11 Mar 2006 03:26:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 177 invoked by uid 99); 11 Mar 2006 03:26:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 19:26:08 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of seth.fitzsimmons@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 19:26:07 -0800
Received: by wproxy.gmail.com with SMTP id 69so1055316wri
        for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 19:25:46 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=eZxBoEYM350bFZhDM5kiP+3IdNa8GI47PPcuNQWS8x6Y4/2gZRHfJ1pwK+AzjO2q/qxhBoPz01iWRcZz34W9VfAUW+J1qF8yzBVl2bHm8k5j0TjUn6FY4gFBO3dFsEj56BQdkuuT0Apo2jGlYFn7AOBl9r5SDAzpjr9OhNW+4qw=
Received: by 10.64.181.16 with SMTP id d16mr1176240qbf;
        Fri, 10 Mar 2006 19:25:46 -0800 (PST)
Received: by 10.64.233.5 with HTTP; Fri, 10 Mar 2006 19:25:46 -0800 (PST)
Message-ID: <e5b3b99e0603101925o21554384iab45ce6f151e8794@mail.gmail.com>
Date: Fri, 10 Mar 2006 22:25:46 -0500
From: "Seth Fitzsimmons" <seth.fitzsimmons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Searchable 0.6.2 - Annotations for Lucene
In-Reply-To: <200603091541.k29FfMPh058527@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <e5b3b99e0603090650w4d6ce656r1bd0eab818a7e621@mail.gmail.com>
	 <200603091541.k29FfMPh058527@pigeon.ciao.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I have already implemented  in my application using annotations.
> and some changes to query input in my application.

How has it worked out for you?

> I don't see where you provide Analyzer annotation. It seems u forgot it.

Not forgotten (though it could make a good addition); the intention is
to set the Analyzer in use within a custom subclass of AbstractIndexer
or AbstractBeanIndexer using setAnalyzer().

> Nice coincidence.

Cool!  I'm curious - what sorts of alternate design decisions did you
make with your implementation?

seth

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 11 07:08:00 2006
Return-Path: <java-user-return-19494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44835 invoked from network); 11 Mar 2006 07:07:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Mar 2006 07:07:59 -0000
Received: (qmail 10798 invoked by uid 500); 11 Mar 2006 07:07:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10769 invoked by uid 500); 11 Mar 2006 07:07:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10758 invoked by uid 99); 11 Mar 2006 07:07:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 23:07:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.174.197.139] (HELO mail.cds1.net) (216.174.197.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Mar 2006 23:07:54 -0800
Received: from localhost (mars.cds1.net [216.174.197.150])
	by mail.cds1.net (Postfix) with ESMTP id EFA3DB6D69
	for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 23:08:11 -0800 (PST)
Received: from mail.cds1.net ([216.174.197.139])
 by localhost (mars.cds1.net [216.174.197.150]) (amavisd-new, port 10024)
 with ESMTP id 07543-08 for <java-user@lucene.apache.org>;
 Fri, 10 Mar 2006 23:07:42 -0800 (PST)
Received: from [192.168.1.100] (dhcp-172-16-13-188.cds1.net [172.16.13.188])
	by mail.cds1.net (Postfix) with ESMTP id 7F36DB6C2C
	for <java-user@lucene.apache.org>; Fri, 10 Mar 2006 23:08:10 -0800 (PST)
Message-ID: <44127731.6080409@savant-is.com>
Date: Fri, 10 Mar 2006 23:07:29 -0800
From: Lawrence <lucene@savant-is.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: 100,000 indexes and what to do
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: by amavisd-new using ClamAV at mars.cds1.net
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,



I was reading one of the posting on concurrency and I reread section 9.1 in Lucene in Action which lead me to this question. I have 100,000 customers and I want to provide them with personal searching for their documents and sometimes to include company documents in that search.

1.	100,000 customers with 10-20 small document each.
2.	Company 5,000 documents, specification, papers, research, etc.
3.	Customers can search their own documents and company document.

P1: Do I provide an index for each customer and allow them multiple index searching, into company document when they need it?

OR

P2: Do I provide one large index for all my 100,000 customers, adding a field for customer ID so searching can be constrained, so they wont/cant search across other customers documents, and then categorize company documents so customers can do multiple index searches into company documents?

After writing this out I realize that P2 is probably the wiser choice, less complicated, but I would like to hear from other Luceners.

Lucene in Action is one of the best written books in my library of ~300 CS books. It ranks in completeness and clarity up there with works by David Geary, Martin Fowler, and other Hatcher greats like Java Development with Ant. 

Thanks Otis and Erik.

Regards, Lawrence

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 11 08:34:30 2006
Return-Path: <java-user-return-19495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72843 invoked from network); 11 Mar 2006 08:34:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Mar 2006 08:34:30 -0000
Received: (qmail 51470 invoked by uid 500); 11 Mar 2006 08:34:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51447 invoked by uid 500); 11 Mar 2006 08:34:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51436 invoked by uid 99); 11 Mar 2006 08:34:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 00:34:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.33] (HELO smtp-vbr13.xs4all.nl) (194.109.24.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 00:34:23 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.13.3/8.13.3) with ESMTP id k2B8Y06u074530
	for <java-user@lucene.apache.org>; Sat, 11 Mar 2006 09:34:00 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: 100,000 indexes and what to do
Date: Sat, 11 Mar 2006 09:34:00 +0100
User-Agent: KMail/1.8.2
References: <44127731.6080409@savant-is.com>
In-Reply-To: <44127731.6080409@savant-is.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603110934.00234.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Saturday 11 March 2006 08:07, Lawrence wrote:
> Hi all,
>=20
>=20
>=20
> I was reading one of the posting on concurrency and I reread section 9.1 =
in=20
Lucene in Action which lead me to this question. I have 100,000 customers a=
nd=20
I want to provide them with personal searching for their documents and=20
sometimes to include company documents in that search.
>=20
> 1.	100,000 customers with 10-20 small document each.
> 2.	Company 5,000 documents, specification, papers, research, etc.
> 3.	Customers can search their own documents and company document.
>=20
> P1: Do I provide an index for each customer and allow them multiple index=
=20
searching, into company document when they need it?
>=20
> OR
>=20
> P2: Do I provide one large index for all my 100,000 customers, adding a=20
field for customer ID so searching can be constrained, so they won=92t/can=
=92t=20
search across other customer=92s documents, and then categorize company=20
documents so customers can do multiple index searches into company document=
s?
>=20
> After writing this out I realize that P2 is probably the wiser choice, le=
ss=20
complicated, but I would like to hear from other Luceners.

In case you have many customers searching at the same time, compact filters
can help reduce memory requirements:
http://issues.apache.org/jira/browse/LUCENE-328
A BitSet filter uses one bit per indexed document, and a compact filter use=
s=20
one or three bytes per indexed document passing the filter.
When there are 100 different customers searching in their own docs at the
same time, assuming there are 100,000 * 20 docs in the customer index:
=2D BitSet filters will use 100 * (100,000 * 20) / 8 bytes,
=2D compact filters will use roughly 100 * 20 * 2  bytes.
The ratio between these is roughly 100,000 / 16 or about 6000.

Since the company docs will not need to be filtered, you can put these in a
separate index, and write your own MultiSearcher that filters only on the
customer index.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 11 12:49:51 2006
Return-Path: <java-user-return-19496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53345 invoked from network); 11 Mar 2006 12:49:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Mar 2006 12:49:50 -0000
Received: (qmail 22430 invoked by uid 500); 11 Mar 2006 12:49:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22396 invoked by uid 500); 11 Mar 2006 12:49:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22385 invoked by uid 99); 11 Mar 2006 12:49:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 04:49:44 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of foxwu718@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 04:49:42 -0800
Received: by uproxy.gmail.com with SMTP id k40so449051ugc
        for <java-user@lucene.apache.org>; Sat, 11 Mar 2006 04:49:20 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=kkX3xtz32lvJ78Bb6cuoUdozvXFGv8lK4rCO8TLx7W44lbi4XbCw5cTejWWw5dp46yx6UHQl/0MnwLOUV5cEnQdQdo09wneO3nRvnA+dfT/RZ9iw1Qw8qF98zRn4xgarQuHnp/FgGtAfKqY0o2fkTQSQOLEMalJuhJAimWf7tDc=
Received: by 10.66.186.5 with SMTP id j5mr224892ugf;
        Sat, 11 Mar 2006 04:49:20 -0800 (PST)
Received: by 10.66.243.1 with HTTP; Sat, 11 Mar 2006 04:49:20 -0800 (PST)
Message-ID: <9e7ba420603110449s6acd7c32u@mail.gmail.com>
Date: Sat, 11 Mar 2006 20:49:20 +0800
From: "wu fox" <foxwu718@gmail.com>
To: java-user@lucene.apache.org
Subject: How does MultiSearcher Work
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9490_12460045.1142081360781"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9490_12460045.1142081360781
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGkgOgogIEknZCBsaWtlIHRvIHNlYXJjaCBzZXZlcmFsIGluZGljZXMgbG9jYXRlZCBhdCBkaWZm
cmVuY2UgcGFydGl0aW9uLkkgdGhpbmsKdXNlIE11bHRpU2VhcmNoZXIgaXMgdGhlIHJpZ2h0IHdh
eS5CdXQgd2hlbiBJIGluc3BlY3RlZCB0aGUgc291cmNlIGNvZGUgb2YKdGhpcyBjbGFzcyxJIHdh
cyBjb25mdXNlZCBiZWNhdXNlICBJIGNhbiBub3QgZmluZCBhbnkgY29kZSB0aGF0IHNlYWNoIGFs
bAp0aGUgaW5kaWNlcyBhbmQgY29tYmluZSB0aGUgcmVzdWx0ICxob3cgZG9lcyB0aGlzIGNsYXNz
IGRvIHRoaXMgam9iP0FueSBoZWxwCndpbGwgYmUgYXBwcmVjaWF0ZWQKLS0KsK7J+rvuo6ywrkZP
WAo=
------=_Part_9490_12460045.1142081360781--

From java-user-return-19497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 11 17:10:47 2006
Return-Path: <java-user-return-19497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33809 invoked from network); 11 Mar 2006 17:10:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Mar 2006 17:10:46 -0000
Received: (qmail 24623 invoked by uid 500); 11 Mar 2006 17:10:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24597 invoked by uid 500); 11 Mar 2006 17:10:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24586 invoked by uid 99); 11 Mar 2006 17:10:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 09:10:40 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO pproxy.gmail.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 09:10:38 -0800
Received: by pproxy.gmail.com with SMTP id f25so535624pyf
        for <java-user@lucene.apache.org>; Sat, 11 Mar 2006 09:10:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ggNh32Hytla7Uz1+xWLdTSIAgzj3wRIm3hFmJsV0w3MxHOvBKuciCmJ7ZHYg3SPUzGk5b+DEQc75iqwuM38wbro0Rr/fPd7fiL24NPENk7UGDQ0DTRvGHsth57YtcwVkumD3G2cMnvoqUSwcMlxBYAZ+kKR9JWRLWdJ+EOQnppo=
Received: by 10.65.251.20 with SMTP id d20mr1420287qbs;
        Sat, 11 Mar 2006 09:10:17 -0800 (PST)
Received: by 10.65.84.15 with HTTP; Sat, 11 Mar 2006 09:10:17 -0800 (PST)
Message-ID: <6e3ae6310603110910v39d26ac4ld980142840eb36a4@mail.gmail.com>
Date: Sat, 11 Mar 2006 09:10:17 -0800
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: 100,000 indexes and what to do
In-Reply-To: <44127731.6080409@savant-is.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <44127731.6080409@savant-is.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think it's best to have one small index for each customer, and one
large index for company's index.

Merging customers' contents with the main index will cost a lot of
resources, slowing down systems, while actually not necessary. If
indexing is done by batch job, there'll be a delay between content
updated time and index refreshed time. This maybe acceptable for some
cases, but usually for users' own content, they want to search it
right away.

With small individual customer index, indexing won't cost any time for
10~20 small documents. Customers can search their content right after
content is updated.

Chris Lu
-------------------------------
Full-Text Search on Any Databases
http://www.dbsight.net

On 3/10/06, Lawrence <lucene@savant-is.com> wrote:
> Hi all,
>
>
>
> I was reading one of the posting on concurrency and I reread section 9.1 =
in Lucene in Action which lead me to this question. I have 100,000 customer=
s and I want to provide them with personal searching for their documents an=
d sometimes to include company documents in that search.
>
> 1.      100,000 customers with 10-20 small document each.
> 2.      Company 5,000 documents, specification, papers, research, etc.
> 3.      Customers can search their own documents and company document.
>
> P1: Do I provide an index for each customer and allow them multiple index=
 searching, into company document when they need it?
>
> OR
>
> P2: Do I provide one large index for all my 100,000 customers, adding a f=
ield for customer ID so searching can be constrained, so they won't/can't s=
earch across other customer's documents, and then categorize company docume=
nts so customers can do multiple index searches into company documents?
>
> After writing this out I realize that P2 is probably the wiser choice, le=
ss complicated, but I would like to hear from other Luceners.
>
> Lucene in Action is one of the best written books in my library of ~300 C=
S books. It ranks in completeness and clarity up there with works by David =
Geary, Martin Fowler, and other Hatcher greats like Java Development with A=
nt.
>
> Thanks Otis and Erik.
>
> Regards, Lawrence
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 11 19:19:19 2006
Return-Path: <java-user-return-19498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70613 invoked from network); 11 Mar 2006 19:19:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Mar 2006 19:19:19 -0000
Received: (qmail 21928 invoked by uid 500); 11 Mar 2006 19:19:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21901 invoked by uid 500); 11 Mar 2006 19:19:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21890 invoked by uid 99); 11 Mar 2006 19:19:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 11:19:13 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of echofloripa.yell@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 11:19:12 -0800
Received: by wproxy.gmail.com with SMTP id 67so1103368wri
        for <java-user@lucene.apache.org>; Sat, 11 Mar 2006 11:18:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=MR1eiciU7q3OhHP0/cQIDYFO0yPLu+YPVkPWWnDoCyuvjRgH3p39WagiLJ4a2Rc/IZlq/yvnTTLnXQ1raYcwnW9VHbmQk11X2a/QYpKhM2MpjU5PNQERToQF3D1hDBpXMcC43OXiSQhnVXWhoQXreTDh8Sit3V/PgmBL2qoSQGI=
Received: by 10.65.222.12 with SMTP id z12mr1469461qbq;
        Sat, 11 Mar 2006 11:18:51 -0800 (PST)
Received: by 10.65.182.3 with HTTP; Sat, 11 Mar 2006 11:18:51 -0800 (PST)
Message-ID: <806d3a1f0603111118jec3cb52m@mail.gmail.com>
Date: Sat, 11 Mar 2006 19:18:51 +0000
From: "emerson cargnin" <echofloripa.yell@gmail.com>
To: java-user@lucene.apache.org
Subject: colapsing the result by a given field
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In my company's system we need to make a search that would return
hundreds of result.
Its a search over extracts of websites of the companies we list. We
have the ID (usually max of 10 will be used at each search) of the
companies which are used to bring the extracts (each ID my have
hundreds of extracts)
If we send 10 IDs in the search it should bring the 10 most relevant
extracts, one for each company. I thought in using sorting for this,
but it won't help, as there's no way to sort in a way that will bring
one document per ID.

What would be the easiest to achieve that?

Emerson

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 11 22:51:30 2006
Return-Path: <java-user-return-19499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36992 invoked from network); 11 Mar 2006 22:51:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Mar 2006 22:51:30 -0000
Received: (qmail 68029 invoked by uid 500); 11 Mar 2006 22:51:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67999 invoked by uid 500); 11 Mar 2006 22:51:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67988 invoked by uid 99); 11 Mar 2006 22:51:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 14:51:24 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.192 as permitted sender)
Received: from [66.249.92.192] (HELO uproxy.gmail.com) (66.249.92.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 14:51:22 -0800
Received: by uproxy.gmail.com with SMTP id o2so486057uge
        for <java-user@lucene.apache.org>; Sat, 11 Mar 2006 14:51:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=gxnjkGwCU92xDsn0FDG7cV3erZdn6aOSvUoFjZUYWX5lM2osR/Ah2TZtj3HqazqJvDZCzBTv/rZ0/WZCHrH5mBSG/8IOV+9dYlHoH0S46nXQpBP1jzol47aGTSQmky+X172zNGnNBSs6Qon3EG+LcGclzH/ib/MFIn2cQ0ly25o=
Received: by 10.66.255.6 with SMTP id c6mr2811377ugi;
        Sat, 11 Mar 2006 14:51:01 -0800 (PST)
Received: by 10.66.219.18 with HTTP; Sat, 11 Mar 2006 14:51:01 -0800 (PST)
Message-ID: <50f433360603111451h67fcc37bje90f3af330eb56df@mail.gmail.com>
Date: Sat, 11 Mar 2006 14:51:01 -0800
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Index validation utility
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11755_29700597.1142117461593"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11755_29700597.1142117461593
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm working on a utility program to help me verify/validate my Lucene
indexes.  By that, I mean checking for data conformance, minimum fields,
etc.  Using XML Schema Definition (http://www.w3.org/XML/Schema), my goal i=
s
to ensure that indexes that I create are compliant for requisite fields,
data types, etc.

I'm working on this mostly for myself, but if anyone is interested just sen=
d
me an email off-list.

cheers,
-- jeff r.

------=_Part_11755_29700597.1142117461593--

From java-user-return-19500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 12 01:47:08 2006
Return-Path: <java-user-return-19500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94606 invoked from network); 12 Mar 2006 01:47:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Mar 2006 01:47:07 -0000
Received: (qmail 65869 invoked by uid 500); 12 Mar 2006 01:47:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65840 invoked by uid 500); 12 Mar 2006 01:47:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65829 invoked by uid 99); 12 Mar 2006 01:47:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 17:47:02 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.182.204 as permitted sender)
Received: from [64.233.182.204] (HELO nproxy.gmail.com) (64.233.182.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 17:47:02 -0800
Received: by nproxy.gmail.com with SMTP id m18so563526nfc
        for <java-user@lucene.apache.org>; Sat, 11 Mar 2006 17:46:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CaHpbhjUHYwwRN3UNw6MSe8TtVDwVQ43FZEHKV15s8uFgrrvNWlYRblREMlyFGCxpZpIYS5Wq6CUKe+HmYneFR6sPGGxeS3Awejtfrqj7lAt0nBTdYX5orehM8anjmcsVNd5cp2A0jZjG8lajVCm2CEYrYWTI4jtwqES+yOdcC0=
Received: by 10.49.57.20 with SMTP id j20mr2135282nfk;
        Sat, 11 Mar 2006 17:46:40 -0800 (PST)
Received: by 10.49.93.9 with HTTP; Sat, 11 Mar 2006 17:46:40 -0800 (PST)
Message-ID: <c68e39170603111746kb92804die3fc897968aa9ef5@mail.gmail.com>
Date: Sat, 11 Mar 2006 20:46:40 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How does MultiSearcher Work
In-Reply-To: <9e7ba420603110449s6acd7c32u@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9e7ba420603110449s6acd7c32u@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/11/06, wu fox <foxwu718@gmail.com> wrote:
> Hi :
>   I'd like to search several indices located at diffrence partition.I thi=
nk
> use MultiSearcher is the right way.But when I inspected the source code o=
f
> this class,I was confused because  I can not find any code that seach all
> the indices and combine the result ,how does this class do this job?Any h=
elp
> will be appreciated

If the indicies are all on the same machine, you can use a MultiReader
instead of a MultiSearcher to search across them.

MultiSearcher does have the code to search across multiple searchers though=
.
The constructor takes an array of Searchable, and the search methods
delegate to those searchers and combine the results.

--
-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 12 06:28:09 2006
Return-Path: <java-user-return-19501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62873 invoked from network); 12 Mar 2006 06:28:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Mar 2006 06:28:09 -0000
Received: (qmail 84322 invoked by uid 500); 12 Mar 2006 06:28:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84297 invoked by uid 500); 12 Mar 2006 06:28:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84286 invoked by uid 99); 12 Mar 2006 06:28:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 22:28:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of foxwu718@gmail.com designates 66.249.92.192 as permitted sender)
Received: from [66.249.92.192] (HELO uproxy.gmail.com) (66.249.92.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 22:28:02 -0800
Received: by uproxy.gmail.com with SMTP id s2so485113uge
        for <java-user@lucene.apache.org>; Sat, 11 Mar 2006 22:27:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=CmEGMshXcAGZyB41MbCpth9bEKZo2/NKIvQpm/jwRNx/PEFyl1YaxcWwl9C1eohWd4/VJinZB1LewRCW7cgc0jFs0sFqfQlsMjaiTI4JwjgL3+veFCh9+csX0sxhZo1MFP1ew7d5dIGW4STUS5zooWN5i+sSFXwWQfxLRTgbuII=
Received: by 10.67.19.8 with SMTP id w8mr2979227ugi;
        Sat, 11 Mar 2006 22:27:38 -0800 (PST)
Received: by 10.66.243.1 with HTTP; Sat, 11 Mar 2006 22:27:38 -0800 (PST)
Message-ID: <9e7ba420603112227s3d3a8d09q@mail.gmail.com>
Date: Sun, 12 Mar 2006 14:27:38 +0800
From: "wu fox" <foxwu718@gmail.com>
To: java-user@lucene.apache.org
Subject: How to search multi indices
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13554_11628401.1142144858236"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13554_11628401.1142144858236
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGk6CiAgSSBoYXZlIHRvdyBpbmRpY2VzIEEgYW5kIEIuIEZpZWxkICJ0aXRsZSIgaXMgaW4gaW5k
ZXggQSBhbmQgZmllbGQgImxhYmVsICIKaXMgaW4gQi5Ob3cgSSdkIGxpa2UgdG8gc2VhcmNoIHdp
dGggcXVlcnkgInRpdGxlOlhYWCBBTkQgbGFiZWw6WFhYIixzdXJlbHkgSQpleHBlY3Qgc2VhcmNo
ICJ0aXRsZTpYWFggIiBpbiBpbmRleCBBIGFuZCAibGFiZWw6WFhYIiBpbiBpbmRleCBCLklzIHRo
ZXJlCmFueSBMdWNlbmUgQVBJIGNhbiBoZWxwIG1lIHRvIGRvIHRoaXMgb3IgSSBoYXZlIHRvIHdy
aXRlIHNvbWUgY29kZSBieQpteXNlbGY/dGhhbmsgeW91IGluIGFkdmFuY2UKCi0tCrCuyfq77qOs
sK5GT1gK
------=_Part_13554_11628401.1142144858236--

From java-user-return-19502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 12 07:47:21 2006
Return-Path: <java-user-return-19502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87156 invoked from network); 12 Mar 2006 07:47:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Mar 2006 07:47:21 -0000
Received: (qmail 2566 invoked by uid 500); 12 Mar 2006 07:47:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2538 invoked by uid 500); 12 Mar 2006 07:47:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2526 invoked by uid 99); 12 Mar 2006 07:47:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 23:47:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Mar 2006 23:47:15 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
Subject: RE: Alternate Use of Lucene
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Sun, 12 Mar 2006 09:46:52 +0200
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D392107@xmail.me.corp.entopia.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Alternate Use of Lucene
Thread-Index: AcZEcgjmoinK/J/yQ5WygcQY8xR/sgBNoXRQ
From: "Andrew Schetinin" <aschetinin@entopia.com>
To: <java-user@lucene.apache.org>,
	<jimcook@visualxs.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi James,

>From one side, it is easy - you simply enumerate all the found objects,
and for each object retrieve the field Supervisor, sorting and removing
duplicates on the fly.
>From the other side, this way you'll get linear performance, and even
worse - retrieving fields is not a very fast operation.
But there is no other way to do it in Lucene, AFAIK. Lucene was not
designed for such usage.

Best Regards,

Andrew



-----Original Message-----
From: James Cook [mailto:djamescook@gmail.com]=20
Sent: Friday, March 10, 2006 8:39 PM
To: java-user@lucene.apache.org
Subject: Alternate Use of Lucene

Is there a technique, using Lucene, to retrieve the remaining index
values from the results of a query?

Here is a better explanation of the question.

I have various fields that have been indexed on a particular collection
of Java POJO's. For example, an Employee object may have the following
fields: id, salary, hire date, termination date, department, supervisor,
etc..

I want to issue a query such as "department: 15". This restricts my list
of Employee objects to those with a department value of 15. What may be
a little different at this stage is I don't care about the resulting
Employee list. What I really want is access to the Lucene index values
for the 'supervisor' field. Basically, I want a list of those
supervisors for the resulting filtered list of Employees.

Does lucene provide an API to access these values?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 12 10:39:27 2006
Return-Path: <java-user-return-19503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34707 invoked from network); 12 Mar 2006 10:39:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Mar 2006 10:39:26 -0000
Received: (qmail 72036 invoked by uid 500); 12 Mar 2006 10:39:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72004 invoked by uid 500); 12 Mar 2006 10:39:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71993 invoked by uid 99); 12 Mar 2006 10:39:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 02:39:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 02:39:20 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2130C33D8B0; Sun, 12 Mar 2006 05:39:00 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 3BB8D33D8AF
	for <java-user@lucene.apache.org>; Sun, 12 Mar 2006 05:38:59 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <9e7ba420603112227s3d3a8d09q@mail.gmail.com>
References: <9e7ba420603112227s3d3a8d09q@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1C089854-9A0F-4013-879E-F2FBF8FBF5DF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to search multi indices
Date: Sun, 12 Mar 2006 05:38:59 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 12, 2006, at 1:27 AM, wu fox wrote:
> Hi:
>   I have tow indices A and B. Field "title" is in index A and field  
> "label "
> is in B.Now I'd like to search with query "title:XXX AND  
> label:XXX",surely I
> expect search "title:XXX " in index A and "label:XXX" in index B.Is  
> there
> any Lucene API can help me to do this or I have to write some code by
> myself?thank you in advance

Are indexes A and B completely different sets of logical documents?    
Or are the indices parallel such that first document in A represents  
a piece of the first document in B?

If they are distinct indexes, then title:XXX AND label:XXX won't work  
because no document would have both title "AND" label.  Perhaps  
logically you'd achieve what you want by using "OR" instead?   To  
search multiple distinct indexes you could use a MultiSearcher.

If they are parallel indexes, using a ParallelReader within an  
IndexSearcher may be what you're after in which case the "AND" would  
work as you mentioned.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 12 10:52:56 2006
Return-Path: <java-user-return-19504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37803 invoked from network); 12 Mar 2006 10:52:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Mar 2006 10:52:56 -0000
Received: (qmail 78960 invoked by uid 500); 12 Mar 2006 10:52:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78930 invoked by uid 500); 12 Mar 2006 10:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78919 invoked by uid 99); 12 Mar 2006 10:52:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 02:52:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 02:52:50 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F2D1633D8AF; Sun, 12 Mar 2006 05:52:29 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 0DDCD33D8AF
	for <java-user@lucene.apache.org>; Sun, 12 Mar 2006 05:52:28 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.2)
In-Reply-To: <e1e492990603101039q5b9b90e4n376f637fb16ee3d7@mail.gmail.com>
References: <e1e492990603101039q5b9b90e4n376f637fb16ee3d7@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <81B60D05-94B6-4CBC-9849-89B794C87F0F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Alternate Use of Lucene
Date: Sun, 12 Mar 2006 05:52:29 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Representing an object graph in Lucene is not straightforwardly  
possible.  I recommend you consider flattening your object graph in  
order to index it using Lucene.  This will denormalize it, but that  
is not a problem.

	Erik


On Mar 10, 2006, at 1:39 PM, James Cook wrote:

> Is there a technique, using Lucene, to retrieve the remaining index
> values from the results of a query?
>
> Here is a better explanation of the question.
>
> I have various fields that have been indexed on a particular
> collection of Java POJO's. For example, an Employee object may have
> the following fields: id, salary, hire date, termination date,
> department, supervisor, etc..
>
> I want to issue a query such as "department: 15". This restricts my
> list of Employee objects to those with a department value of 15. What
> may be a little different at this stage is I don't care about the
> resulting Employee list. What I really want is access to the Lucene
> index values for the 'supervisor' field. Basically, I want a list of
> those supervisors for the resulting filtered list of Employees.
>
> Does lucene provide an API to access these values?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 12 22:12:13 2006
Return-Path: <java-user-return-19505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71925 invoked from network); 12 Mar 2006 22:12:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Mar 2006 22:12:12 -0000
Received: (qmail 3994 invoked by uid 500); 12 Mar 2006 22:12:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3964 invoked by uid 500); 12 Mar 2006 22:12:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3953 invoked by uid 99); 12 Mar 2006 22:12:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 14:12:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 14:12:06 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EF92F5B777; Sun, 12 Mar 2006 14:11:38 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id ED02C7F403
	for <java-user@lucene.apache.org>; Sun, 12 Mar 2006 14:11:38 -0800 (PST)
Date: Sun, 12 Mar 2006 14:11:38 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: colapsing the result by a given field
In-Reply-To: <806d3a1f0603111118jec3cb52m@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603121408260.9248@hal.rescomp.berkeley.edu>
References: <806d3a1f0603111118jec3cb52m@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: What would be the easiest to achieve that?

The easiest way is to do the search 10 times, and use either a Filter or a
BooleanQuery with a mandatory companyId:XXX clause in each to restrict the
results.

Which appraoch you take depends on how many total companies might be used
over time, and wether individual companies are re-searched over and over
again so that caching the FIlter BitSet is advantages.


A more complicated way that could concievable be faster, is to use a
HItCollector, and a the FieldCache on your companyId field to record the
highest scoring doc for each companyId ... but that's a lot more work, and
if you are really only going to be dealing with 1-10 companies at a time,
issuing the search 10 teams really isn't that bad.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 02:58:16 2006
Return-Path: <java-user-return-19506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62916 invoked from network); 13 Mar 2006 02:58:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 02:58:16 -0000
Received: (qmail 89883 invoked by uid 500); 13 Mar 2006 02:58:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89844 invoked by uid 500); 13 Mar 2006 02:58:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89833 invoked by uid 99); 13 Mar 2006 02:58:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 18:58:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FROM_EXCESS_QP
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.194.240.137] (HELO station174.com) (203.194.240.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 18:58:08 -0800
Received: (qmail 12573 invoked by uid 513); 13 Mar 2006 02:57:45 -0000
Message-ID: <20060313025744.18818.qmail@station174.com>
Reply-To: "=?iso-8859-1?Q?kent.fitch?=" <kent.fitch@projectcomputing.com>
From: "=?iso-8859-1?Q?kent.fitch?=" <kent.fitch@projectcomputing.com>
To: java-user@lucene.apache.org
Subject: Good MMapDirectory performance
Date: Mon, 13 Mar 2006 02:57:44 +0000
MIME-Version: 1.0
X-Mailer: WebMail 2.5
X-Originating-IP: 192.102.239.195
X-Originating-Email: kent.fitch@projectcomputing.com
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I thought I'd post some good news about MMapDirectory as
the comments in the release notes are quite downbeat about
its performance.  In some environments MMapDirectory
provides a big improvement.

Our test application is an index of 11.4 million
documents which are derived from MARC (bibliographic)
catalogue records.  Our aim is to build a system
to demonstrate relevance ranking and result clustering
for library union catalogue searching (a "union"
catalogue accumulates/merges records from multiple 
ibraries).

Our main index component sizes:
fdt 17GB
fdx 91MB
tis 82MB
frq 45MB
prx 11MB
tii 1.2 MB

We have a separate Lucence index (not discussed further)
which stores the MARC records.

Each document has many fields.   We'll probably reduce the
number after we decide on the best search strategies, but
lots of fields gives us lots of flexability whilst testing
search and ranking strategies.

Stored and unindexed fields, used for summary results:
  display title
  display author
  display publication details
  holdingsCount (number of libraries holding)

Tokenized indices:
  title
  author
  subject
  genre
  keyword (all text)

Keyword (untokenized) indices:
  title
  author
  subject
  genre
  audience
  Dewey/LC classification
  language
  isbn/issn
  publication date (date range code)
  unique bibliographic id

"Wildcard" Tokenized indices created by a custom "stub"
 analyzer which reduces a term to its first few characters:
  title
  author
  subject
  keyword

Field boosts are set for some fields.  For example, "title"
"sub title", "series title", "component title" are all
stored as "title" but with different field boosts (as a 
match on normal title is deemed more relevant than a match
on series title).

The document boost is set to the sqrt of the holdingsCount
(favouring "popular" resources).

The user interface supports searching and refining searches
on specific fields but the most common search is created 
from a single google style search box.  Here's a typical
query generated from a 2 word search:

+(titleWords:"franz kafka^4.0" 
  authorWords:"franz kafka^3.0" 
  subjectWords:"franz kafka^3.0" 
  keywords:"franz kafka^1.4" 
  title:franz kafka^4.0 
  (+titleWords:franz +titleWords:kafka^3.0)
  author:franz kafka^3.0
  +authorWords:franz +authorWords:kafka^2.0)
  subject:franz kafka^3.0 
  (+subjectWords:franz +subjectWords:kafka^1.5) 
  (+genreWords:franz +genreWords:kafka^2.0) 
  (+keywords:franz +keywords:kafka) 
  (+titleWildcard:fra +titleWildcard:kaf^0.7)
  (+authorWildcard:fra +authorWildcard:kaf^0.7) 
  (+subjectWildcard:fra +subjectWildcard:kaf^0.7)
  (+keywordWildcard:fra +keywordWildcard:kaf^0.2)
 ) 

It generated 1635 hits.  We then read the first 700
documents in the hit list and extract the date, subject,
author, genre, Dewey/LC classification and audience
fields for each, accumulating the popularity of each.

Using this data, for each of the subject, author, genre,
Dewey/LC and audience categories, we find the 30 most 
popular field values and for each of these we query the
index to find their frequency in the entire index.

We then render the first 100 document results (title,
author, publication details, holdings) and the top 30 
for each of subject, author, genre, Dewey/KC and audience,
ordering each list by the popularity of the term in the
hit results (sample of the first 700) and rendering the
size of the text based on the frequency of the term in
the entire database (a bit like the Flickr tag popularity
lists).  We also render a graph of hit results by date
range.

The initial search is very quick - typically a small
number of tens of millsecs.  The "clustering" takes
much longer - reading up to 700 records, extracting
all those fields, sorting to get the top 30 of each
field category, looking up the frequency of each term
in the database.

The test machine was a SunFire440 with 2 x 1.593GHz
UltraSPARC-IIIi processors and 8GB of memory running
Solaris 9, Java 1.5 in 64 bit mode, Jetty. The Lucene data
directory is stored on a local 10K SCSI disk.

The benchmark consisted of running 13,142 representative
and unique search phrases collected from another system.
The search phrases are unsorted.  The client (testing)
system is run on another unloaded computer and was
configured to run a varying number of threads representing
different loads.  The results discussed here were
produced with 3 threads - 3 simultaneous requests
and the response rates are as seen by the client at
the completion of the request when the last byte of
the response is received.

The Jetty/Lucene JVM was run with:
 -ms1200M -mx1200M -d64 -server  -verbose:gc
The JVM (and file cache!) were "warmed up" with
a first pass before results were recorded.

The first test was run with Lucene 1.4.1 and achieved
3.3 responses/sec. (The time to generate the response
includes the Jetty "client" time to process and render
the result).  CPU Utilisation was low (typically <= 40%),
but IO rates were not very high.  We mirrored the
disk and achieved 3.7 responses/sec, but still CPU
utilisation rarely went over 50%.

We moved to Lucene 1.5.1 and with the same configuration
(mirrored) achieved 3.6 responses/sec.

We then set the parameter:
-Dorg.apache.lucene.FSDirectory.class=org.apache.lucene.store.MMapDirectory
to use MMapDirectory and achieved 8.1 responses/sec
with very high CPU utilisation (over 90%).  Running
a separate (unseen) set of 10,743 search terms without
a "warm up" achieved 7.8 responses/sec.

With 3 simultaneous requests the total response time
profile as recorded at the client was:

 < 200ms for 40% of requests
 < 500ms for 80% of requests
 < 800ms for 90% of requests.

I read from Peter Keegan's recent postings:
"The Lucene server is using MMapDirectory. I'm running
 the jvm with -Xmx16000M. Peak memory usage of the jvm
 on Linux is about 6GB and 7.8GB on windows."

We don't have nearly as much memory as Peter but I
wonder whether he is gaining anything with such
a large heap.  The file buffers allocated via MMap
reside outside the JVM heap.  We notice that although
our JVM heap is 1.2GB max (and regularly reduces
to ~400MB after GC), the process expands to use all
available memory with MMap, and a big Java heap
means less memory for MMap to use(?).

We are very happy with Lucene/MMAP performance given the
extensive processing undertaken for the result clustering.

Kent Fitch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 06:11:07 2006
Return-Path: <java-user-return-19507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13226 invoked from network); 13 Mar 2006 06:11:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 06:11:07 -0000
Received: (qmail 11064 invoked by uid 500); 13 Mar 2006 06:11:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11030 invoked by uid 500); 13 Mar 2006 06:11:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11019 invoked by uid 99); 13 Mar 2006 06:11:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 22:11:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of foxwu718@gmail.com designates 66.249.92.204 as permitted sender)
Received: from [66.249.92.204] (HELO uproxy.gmail.com) (66.249.92.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 22:11:01 -0800
Received: by uproxy.gmail.com with SMTP id u40so584796ugc
        for <java-user@lucene.apache.org>; Sun, 12 Mar 2006 22:10:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=WY9tkIdFuMAQIoyWsdzUNxREOKimIMTAJcSrguUO35oAR9ajM0/UsgfOtVEyo0VnDiVo6VlcThn0MNTpUH3Ijx1U5UZeyuHVxazNkjIjIMxcDoKJfzI/wubCzxvRiLUFF2SuYMx54bbTTk0AIdmFZQ2jzRfMfovsreBM9okQjp0=
Received: by 10.66.245.7 with SMTP id s7mr3598556ugh;
        Sun, 12 Mar 2006 22:10:39 -0800 (PST)
Received: by 10.66.243.1 with HTTP; Sun, 12 Mar 2006 22:10:39 -0800 (PST)
Message-ID: <9e7ba420603122210t470c214q@mail.gmail.com>
Date: Mon, 13 Mar 2006 14:10:39 +0800
From: "wu fox" <foxwu718@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to search multi indices
In-Reply-To: <1C089854-9A0F-4013-879E-F2FBF8FBF5DF@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7407_31804703.1142230239216"
References: <9e7ba420603112227s3d3a8d09q@mail.gmail.com>
	 <1C089854-9A0F-4013-879E-F2FBF8FBF5DF@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7407_31804703.1142230239216
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: base64
Content-Disposition: inline

dGhhbmsgeW91IEVyaWsKCjIwMDYvMy8xMiwgRXJpayBIYXRjaGVyIDxlcmlrQGVoYXRjaGVyc29s
dXRpb25zLmNvbT46Cj4KPgo+IE9uIE1hciAxMiwgMjAwNiwgYXQgMToyNyBBTSwgd3UgZm94IHdy
b3RlOgo+ID4gSGk6Cj4gPiAgIEkgaGF2ZSB0b3cgaW5kaWNlcyBBIGFuZCBCLiBGaWVsZCAidGl0
bGUiIGlzIGluIGluZGV4IEEgYW5kIGZpZWxkCj4gPiAibGFiZWwgIgo+ID4gaXMgaW4gQi5Ob3cg
SSdkIGxpa2UgdG8gc2VhcmNoIHdpdGggcXVlcnkgInRpdGxlOlhYWCBBTkQKPiA+IGxhYmVsOlhY
WCIsc3VyZWx5IEkKPiA+IGV4cGVjdCBzZWFyY2ggInRpdGxlOlhYWCAiIGluIGluZGV4IEEgYW5k
ICJsYWJlbDpYWFgiIGluIGluZGV4IEIuSXMKPiA+IHRoZXJlCj4gPiBhbnkgTHVjZW5lIEFQSSBj
YW4gaGVscCBtZSB0byBkbyB0aGlzIG9yIEkgaGF2ZSB0byB3cml0ZSBzb21lIGNvZGUgYnkKPiA+
IG15c2VsZj90aGFuayB5b3UgaW4gYWR2YW5jZQo+Cj4gQXJlIGluZGV4ZXMgQSBhbmQgQiBjb21w
bGV0ZWx5IGRpZmZlcmVudCBzZXRzIG9mIGxvZ2ljYWwgZG9jdW1lbnRzPwo+IE9yIGFyZSB0aGUg
aW5kaWNlcyBwYXJhbGxlbCBzdWNoIHRoYXQgZmlyc3QgZG9jdW1lbnQgaW4gQSByZXByZXNlbnRz
Cj4gYSBwaWVjZSBvZiB0aGUgZmlyc3QgZG9jdW1lbnQgaW4gQj8KPgo+IElmIHRoZXkgYXJlIGRp
c3RpbmN0IGluZGV4ZXMsIHRoZW4gdGl0bGU6WFhYIEFORCBsYWJlbDpYWFggd29uJ3Qgd29yawo+
IGJlY2F1c2Ugbm8gZG9jdW1lbnQgd291bGQgaGF2ZSBib3RoIHRpdGxlICJBTkQiIGxhYmVsLiAg
UGVyaGFwcwo+IGxvZ2ljYWxseSB5b3UnZCBhY2hpZXZlIHdoYXQgeW91IHdhbnQgYnkgdXNpbmcg
Ik9SIiBpbnN0ZWFkPyAgIFRvCj4gc2VhcmNoIG11bHRpcGxlIGRpc3RpbmN0IGluZGV4ZXMgeW91
IGNvdWxkIHVzZSBhIE11bHRpU2VhcmNoZXIuCj4KPiBJZiB0aGV5IGFyZSBwYXJhbGxlbCBpbmRl
eGVzLCB1c2luZyBhIFBhcmFsbGVsUmVhZGVyIHdpdGhpbiBhbgo+IEluZGV4U2VhcmNoZXIgbWF5
IGJlIHdoYXQgeW91J3JlIGFmdGVyIGluIHdoaWNoIGNhc2UgdGhlICJBTkQiIHdvdWxkCj4gd29y
ayBhcyB5b3UgbWVudGlvbmVkLgo+Cj4gICAgICAgIEVyaWsKPgo+Cj4gLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4g
VG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFj
aGUub3JnCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBA
bHVjZW5lLmFwYWNoZS5vcmcKPgo+CgoKLS0KsK7J+rvuo6ywrkZPWAo=
------=_Part_7407_31804703.1142230239216--

From java-user-return-19508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 06:11:35 2006
Return-Path: <java-user-return-19508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13365 invoked from network); 13 Mar 2006 06:11:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 06:11:35 -0000
Received: (qmail 13303 invoked by uid 500); 13 Mar 2006 06:11:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12269 invoked by uid 500); 13 Mar 2006 06:11:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12258 invoked by uid 99); 13 Mar 2006 06:11:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 22:11:30 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of foxwu718@gmail.com designates 66.249.92.202 as permitted sender)
Received: from [66.249.92.202] (HELO uproxy.gmail.com) (66.249.92.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 22:11:28 -0800
Received: by uproxy.gmail.com with SMTP id s2so563253uge
        for <java-user@lucene.apache.org>; Sun, 12 Mar 2006 22:11:07 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sXOWxMTgyAXa9dOCYU638HCrzWp1atRQJi3kYUHZDMxqp3Zz71JpQCg6a8+J5bBF+fLATr+/qQ7F/5qhlipd5LyERaCNe6fmrr5ErGORoxEENzvdGPL2B5CpvvYoB8qe825Br8eHuLpK1Jc/OFXKkyfmG/bhvIdcbIO09y/WJzw=
Received: by 10.67.19.8 with SMTP id w8mr3631678ugi;
        Sun, 12 Mar 2006 22:11:07 -0800 (PST)
Received: by 10.66.243.1 with HTTP; Sun, 12 Mar 2006 22:11:07 -0800 (PST)
Message-ID: <9e7ba420603122211l32093f31j@mail.gmail.com>
Date: Mon, 13 Mar 2006 14:11:07 +0800
From: "wu fox" <foxwu718@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How does MultiSearcher Work
In-Reply-To: <c68e39170603111746kb92804die3fc897968aa9ef5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7415_2031274.1142230267661"
References: <9e7ba420603110449s6acd7c32u@mail.gmail.com>
	 <c68e39170603111746kb92804die3fc897968aa9ef5@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7415_2031274.1142230267661
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: base64
Content-Disposition: inline

dGhhbmsgeW91IFlvbmlrCgoyMDA2LzMvMTIsIFlvbmlrIFNlZWxleSA8eXNlZWxleUBnbWFpbC5j
b20+Ogo+Cj4gT24gMy8xMS8wNiwgd3UgZm94IDxmb3h3dTcxOEBnbWFpbC5jb20+IHdyb3RlOgo+
ID4gSGkgOgo+ID4gICBJJ2QgbGlrZSB0byBzZWFyY2ggc2V2ZXJhbCBpbmRpY2VzIGxvY2F0ZWQg
YXQgZGlmZnJlbmNlIHBhcnRpdGlvbi5JdGhpbmsKPiA+IHVzZSBNdWx0aVNlYXJjaGVyIGlzIHRo
ZSByaWdodCB3YXkuQnV0IHdoZW4gSSBpbnNwZWN0ZWQgdGhlIHNvdXJjZSBjb2RlCj4gb2YKPiA+
IHRoaXMgY2xhc3MsSSB3YXMgY29uZnVzZWQgYmVjYXVzZSAgSSBjYW4gbm90IGZpbmQgYW55IGNv
ZGUgdGhhdCBzZWFjaAo+IGFsbAo+ID4gdGhlIGluZGljZXMgYW5kIGNvbWJpbmUgdGhlIHJlc3Vs
dCAsaG93IGRvZXMgdGhpcyBjbGFzcyBkbyB0aGlzIGpvYj9BbnkKPiBoZWxwCj4gPiB3aWxsIGJl
IGFwcHJlY2lhdGVkCj4KPiBJZiB0aGUgaW5kaWNpZXMgYXJlIGFsbCBvbiB0aGUgc2FtZSBtYWNo
aW5lLCB5b3UgY2FuIHVzZSBhIE11bHRpUmVhZGVyCj4gaW5zdGVhZCBvZiBhIE11bHRpU2VhcmNo
ZXIgdG8gc2VhcmNoIGFjcm9zcyB0aGVtLgo+Cj4gTXVsdGlTZWFyY2hlciBkb2VzIGhhdmUgdGhl
IGNvZGUgdG8gc2VhcmNoIGFjcm9zcyBtdWx0aXBsZSBzZWFyY2hlcnMKPiB0aG91Z2guCj4gVGhl
IGNvbnN0cnVjdG9yIHRha2VzIGFuIGFycmF5IG9mIFNlYXJjaGFibGUsIGFuZCB0aGUgc2VhcmNo
IG1ldGhvZHMKPiBkZWxlZ2F0ZSB0byB0aG9zZSBzZWFyY2hlcnMgYW5kIGNvbWJpbmUgdGhlIHJl
c3VsdHMuCj4KPiAtLQo+IC1Zb25pawo+IGh0dHA6Ly9pbmN1YmF0b3IuYXBhY2hlLm9yZy9zb2xy
IFNvbHIsIFRoZSBPcGVuIFNvdXJjZSBMdWNlbmUgU2VhcmNoCj4gU2VydmVyCj4KPiAtLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVj
ZW5lLmFwYWNoZS5vcmcKPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVz
ZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+Cj4KCgotLQqwrsn6u+6jrLCuRk9YCg==
------=_Part_7415_2031274.1142230267661--

From java-user-return-19509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 07:45:56 2006
Return-Path: <java-user-return-19509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50810 invoked from network); 13 Mar 2006 07:45:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 07:45:56 -0000
Received: (qmail 81526 invoked by uid 500); 13 Mar 2006 07:45:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81490 invoked by uid 500); 13 Mar 2006 07:45:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81479 invoked by uid 99); 13 Mar 2006 07:45:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Mar 2006 23:45:50 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.55] (HELO web50301.mail.yahoo.com) (206.190.38.55)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 12 Mar 2006 23:45:49 -0800
Received: (qmail 79487 invoked by uid 60001); 13 Mar 2006 07:45:24 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=j7H8WA6cB1vF512B00mxXqwBGkiTvqHkya4xRk71JZGp+0ZZkM5+mPJX/gBc2o1IEAQC/Mq+AnjTgvv2baNuvcaBW/0+gYOsJQPiP1o3z9boYj2bygCLZXICDlOzo3Fol2UhV46/vq4KepGM1xDu1gkmzzELHZBBi1iDoAH3NcU=  ;
Message-ID: <20060313074524.79485.qmail@web50301.mail.yahoo.com>
Date: Sun, 12 Mar 2006 23:45:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: 100,000 indexes and what to do
To: java-user@lucene.apache.org
In-Reply-To: <44127731.6080409@savant-is.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lawrence,

Thanks for the LIA compliments.
In addition to what Paul and Chris already mentioned, keep in mind open fil=
es (also covered in LIA).  If you have 100K separate indices, that means a =
lot of open file descriptors.  One common index doesn't have this problem. =
 Separate indices are still possible, you just have to be smart about keepi=
ng track of used and unused indices and diligent about managing and freeing=
 up resources.

Otis


----- Original Message ----
From: Lawrence <lucene@savant-is.com>
To: java-user@lucene.apache.org
Sent: Saturday, March 11, 2006 2:07:29 AM
Subject: 100,000 indexes and what to do

Hi all,



I was reading one of the posting on concurrency and I reread section 9.1 in=
 Lucene in Action which lead me to this question. I have 100,000 customers =
and I want to provide them with personal searching for their documents and =
sometimes to include company documents in that search.

1.    100,000 customers with 10-20 small document each.
2.    Company 5,000 documents, specification, papers, research, etc.
3.    Customers can search their own documents and company document.

P1: Do I provide an index for each customer and allow them multiple index s=
earching, into company document when they need it?

OR

P2: Do I provide one large index for all my 100,000 customers, adding a fie=
ld for customer ID so searching can be constrained, so they won=E2=80=99t/c=
an=E2=80=99t search across other customer=E2=80=99s documents, and then cat=
egorize company documents so customers can do multiple index searches into =
company documents?

After writing this out I realize that P2 is probably the wiser choice, less=
 complicated, but I would like to hear from other Luceners.

Lucene in Action is one of the best written books in my library of ~300 CS =
books. It ranks in completeness and clarity up there with works by David Ge=
ary, Martin Fowler, and other Hatcher greats like Java Development with Ant=
.=20

Thanks Otis and Erik.

Regards, Lawrence

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 10:09:48 2006
Return-Path: <java-user-return-19510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28413 invoked from network); 13 Mar 2006 10:09:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 10:09:48 -0000
Received: (qmail 69119 invoked by uid 500); 13 Mar 2006 10:09:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69096 invoked by uid 500); 13 Mar 2006 10:09:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 62100 invoked by uid 99); 13 Mar 2006 07:22:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Message-ID: <44151D9A.8030805@manawiz.com>
Date: Sun, 12 Mar 2006 21:22:02 -1000
From: Chuck Williams <chuck@manawiz.com>
Organization: Manawiz
User-Agent: Debian Thunderbird 1.0.7 (X11/20051017)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Failure recovery
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there a way to determine whether or not an index that was left locked
due to some improper system shutdown needs repair?

My code does the following as part of starting up and creating an
IndexWriter for an existing index that was created in a prior session:

>         if (IndexReader.isLocked(index.indexDirectory)) {
>             // ***** TODO add a test for a valid index, if possible
>             log.error("Forcibly unlocking the index directory for
> investigation " + investigation.getName() + ".  Ensure it is not
> corrupt!");
>             IndexReader.unlock(index.indexDirectory);
>         }


The occurrence of this condition indicates the system did not shutdown
cleanly in the prior run.  I'd like to know whether the index is valid
or not before blindly unlocking it.

Thanks for any help,

Chuck


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 11:43:48 2006
Return-Path: <java-user-return-19511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77393 invoked from network); 13 Mar 2006 11:43:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 11:43:46 -0000
Received: (qmail 17228 invoked by uid 500); 13 Mar 2006 11:43:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17201 invoked by uid 500); 13 Mar 2006 11:43:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17188 invoked by uid 99); 13 Mar 2006 11:43:40 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of echofloripa.yell@gmail.com designates 64.233.184.207 as permitted sender)
Received: from [64.233.184.207] (HELO wproxy.gmail.com) (64.233.184.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 03:43:40 -0800
Received: by wproxy.gmail.com with SMTP id 69so1101095wra
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 03:42:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=K0lXR1IpG1ceqsOMaJfBGUod0bNHP91NmhWwQ/DIRUyc82lmLDKPenSvdaKPoa1VbvgMHG5MME9rkGD6tBn/KqgByNNEIT5UXsEXCiNKxemeuZC7950Ge1xmlzNfJGeY4iB4Xjvj7QowGnkivOJps0GhQHaBuqdrdRgA9h+5NtI=
Received: by 10.65.251.20 with SMTP id d20mr2042698qbs;
        Mon, 13 Mar 2006 03:42:04 -0800 (PST)
Received: by 10.65.182.3 with HTTP; Mon, 13 Mar 2006 03:42:04 -0800 (PST)
Message-ID: <806d3a1f0603130342g2f8e8071h@mail.gmail.com>
Date: Mon, 13 Mar 2006 11:42:04 +0000
From: "emerson cargnin" <echofloripa.yell@gmail.com>
To: java-user@lucene.apache.org
Subject: is there a way to find duplicate documents in the index?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I notice some duplicated entries in my index, my just looking at it,
and I suspect there might be more than those I found out. Is there a
way to detect duplicate documents in an index?

Emerson Cargnin

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 12:47:25 2006
Return-Path: <java-user-return-19512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4302 invoked from network); 13 Mar 2006 12:47:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 12:47:24 -0000
Received: (qmail 3007 invoked by uid 500); 13 Mar 2006 12:47:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2975 invoked by uid 500); 13 Mar 2006 12:47:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2962 invoked by uid 99); 13 Mar 2006 12:47:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 04:47:16 -0800
Content-class: urn:content-classes:message
Subject: RE: Search for synonyms - implemenetation for review
Date: Mon, 13 Mar 2006 14:46:10 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D39214A@xmail.me.corp.entopia.com>
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search for synonyms - implemenetation for review
Thread-Index: AcZGnBqHEtSXfIvbQxWx2tPiISTSDQ==
From: "Ziv Gome" <zgome@entopia.com>
To: "mark harwood" <markharw00d@yahoo.co.uk>,
	<java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mark, thanks for your response.

Here are my thoughts on your suggestion:

I believe it would be a good idea to merge similar query expansion code.
I also agree that the situation of fuzzy query is similar to the synonym
query use-case, in the sense of having a root term and some related,
de-boosted, terms around it. However, I also see some significant
difference in the two scenarios. I'll try to explain my view, but first,
I'll briefly divide our solution to sub elements:
1. Expanding the root term to related terms.
	1.a.	creating a de-boosted additional term.
	1.b 	making sure the IDF normalization
(sumOfSquares/normalize) for 		root terms (entered by the user)
will take into account only the 		original term, and will
normalize the expanded term accordingly.
2. Result aggregation for different terms, generated from the same root.
	2.a	In the synonym solution, we attempted to sum occurrences
of 		all terms, generated from same root, as if it was the
same term, 		and only then apply tf function upon this
frequency.=20
		i.e. if "car" and "automobile" appeared 5 times each in
the same 		document, calculate term frequency for a
frequency of 10=20
		(=3D2X5:-). This replaces the OR (aggregated as either max
or sum) 		approach usually taken in such cases.
	2.b 	Applying 2.a alone carries with it a problem - How do
you count 		together rare and common terms? If applied as
is, it may bonus 		common terms, whose frequency is
presumed to be "cheap" and in 		Lucene is compensated with a low
IDF value. However, here it is 		counted under the IDF of the
root term. The solution was to 		normalize the frequencies to the
root term (BTW - an inverse 		normalization to 1.b)

Going back to the discussion on how similar FuzzyLikeThisQuery and
SynonymsQuery are, I believe that part 1 of our solution applies also
for the fuzzy case, with the addition of differential boost factor (your
suggestion of edit distance as a measure for this deboost makes perfect
sense to me). On the other hand, part 2 of our solution, does not seem
to me helpful in the Fuzzy case, I would assume that different fuzzy
forms, will not appear in the same document, but will tend to appear in
different documents. Say you are looking for my surname "gome". Some
people may misspell it to "gomeh" or "goma", but I would dare to state
that if both "gomeh" and "gome" appears together in the same document,
the author meant two different things. Naturally, the possibility of
typos exists, but would probably not generate a lot of occurrences. For
that reason, I would not adopt part 2 for the fuzzy case, but stick to
aggregating the results in an OR fashion (I.e. "gome" OR "gomeh" OR
"goma"). Applying part 2 of the synonym solution is harmless IMHO, but
the scorer works harder (a lot of SQR/SQRT). =20
BTW, in my other post on this matter, I referred to another case we
applied part 1 of this solution, the case of searching thru 2 fields,
main and secondary (for example - content text Vs title). Here we are
talking about the same term, but it is expanded to different fields,
with very different IDF values (sometimes). The problem here is again
similar to the synonym and fuzzy cases, as IDFs tend to mix across
fields, and yield unexpected results.

Summary :-)

My feeling is that part 1 makes sense to other query expansion cases
from a root term, such as the fuzzy case, but part 2 does not, although
it will still generate valid results. Part 2 is in general implemented
as a specialized scorer, so perhaps the Query class can be unified, but
the synonym specialized scorer be constructed only for the case where
you wish to "count as one term", which I believe is not the case for the
fuzzy situation.

Thanx for your time,
Ziv Gome

-----Original Message-----
From: mark harwood [mailto:markharw00d@yahoo.co.uk]=20
Sent: Monday, March 06, 2006 5:22 PM
To: java-user@lucene.apache.org
Subject: Re: Search for synonyms - implemenetation for review

Sounds like you've been tackling a number of the
issues I was concerned with "fuzzy" searching. It's
essentially the same problem - the user types one word
and the engine searches for several variants.

The FuzzyLikeThisQuery class in the "queries" module
of the contrib area in SVN contains similar code. It
addresses idf and coord issues introduced with fuzzy
variants.=20

It's probably worth considering having one
implementation for generically scoring variants
whether they are produced by fuzzy algorithms or
synonyms or any other means. In either case there
could be a "cost" factor associated with variants
which could be based on the fuzzy edit distance from
the root term or synonym "relatedness" to the root
term.

I'll have a look at your implementation with this in
mind when I have a bit more time.

Cheers,
Mark



	=09
___________________________________________________________=20
To help you stay safe and secure online, we've developed the all new
Yahoo! Security Centre. http://uk.security.yahoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 12:54:56 2006
Return-Path: <java-user-return-19513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7649 invoked from network); 13 Mar 2006 12:54:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 12:54:55 -0000
Received: (qmail 15120 invoked by uid 500); 13 Mar 2006 12:54:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14484 invoked by uid 500); 13 Mar 2006 12:54:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14473 invoked by uid 99); 13 Mar 2006 12:54:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 04:54:49 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2DCrAR8028422
 for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 18:23:10 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: Keeping RAMDirectory and filesystem index in sync
Date: Mon, 13 Mar 2006 18:23:10 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D187@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Keeping RAMDirectory and filesystem index in sync
Thread-Index: AcZGnRT15r7JmtiQSay4wFZxa+b2+A==
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Is there an elegant way to keep RAMDirectory and my file-system based
index in sync? I have a java class that is periodically started up by
crond that checks for modified documents and then reindexes them onto
the filesystem. However, for searching I want to use RAMDirectory (for
the performance benefits). The process that searches is alive all the
time (its in the backend of a webapp), and is different from the process
that indexes.=20

Thanks,
Venu

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 13:49:43 2006
Return-Path: <java-user-return-19514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47181 invoked from network); 13 Mar 2006 13:49:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 13:49:42 -0000
Received: (qmail 80728 invoked by uid 500); 13 Mar 2006 13:49:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80696 invoked by uid 500); 13 Mar 2006 13:49:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80685 invoked by uid 99); 13 Mar 2006 13:49:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 05:49:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.30.114.250] (HELO ausdauer.webit.de) (195.30.114.250)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 05:49:37 -0800
Received: from cordoba (cordoba.webit.de [195.30.114.47])
	by ausdauer.webit.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id k2DDnC0O029608
	for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 14:49:12 +0100
Received: by cordoba (Postfix, from userid 1000)
	id 7AFA966073; Mon, 13 Mar 2006 14:49:13 +0100 (CET)
Date: Mon, 13 Mar 2006 14:49:13 +0100
From: Jens Kraemer <kraemer@webit.de>
To: java-user@lucene.apache.org
Subject: Re: Keeping RAMDirectory and filesystem index in sync
Message-ID: <20060313134913.GC27977@cordoba.webit.de>
References: <E817F096B8D59B4E9D1E437917B1083107D187@mshydpub1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083107D187@mshydpub1.hyd.deshaw.com>
User-Agent: Mutt/1.5.11+cvs20060126
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, Mar 13, 2006 at 06:23:10PM +0530, Satuluri, Venu_Madhav wrote:
> Hi,
> 
> Is there an elegant way to keep RAMDirectory and my file-system based
> index in sync? I have a java class that is periodically started up by
> crond that checks for modified documents and then reindexes them onto
> the filesystem. However, for searching I want to use RAMDirectory (for
> the performance benefits). The process that searches is alive all the
> time (its in the backend of a webapp), and is different from the process
> that indexes. 

You could somehow (HTTP, Database flag, some messaging system) ping your 
backend from your Indexing process, once it's finished. 
The Searching process then would have to re-open it's RAMDirectory. 

Or you check the version of the fs-based index from time to time, to see
when it has changed. Using IndexReader.getCurrentVersion (path_to_index)
this shouldn't be too expensive. But there's the risk that you re-open
your RAMDirectory in the middle of an index update, since the version 
changes on every single modification done to the index.

I don't know of any more elegant ways.

Jens



-- 
webit! Gesellschaft fr neue Medien mbH          www.webit.de
Dipl.-Wirtschaftsingenieur Jens Krmer       kraemer@webit.de
Schnorrstrae 76                         Tel +49 351 46766  0
D-01069 Dresden                          Fax +49 351 46766 66

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 14:07:36 2006
Return-Path: <java-user-return-19515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57724 invoked from network); 13 Mar 2006 14:07:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 14:07:33 -0000
Received: (qmail 7108 invoked by uid 500); 13 Mar 2006 14:07:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7070 invoked by uid 500); 13 Mar 2006 14:07:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7057 invoked by uid 99); 13 Mar 2006 14:07:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:07:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:07:26 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2DE70R8015788
 for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 19:37:02 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Keeping RAMDirectory and filesystem index in sync
Date: Mon, 13 Mar 2006 19:36:59 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D188@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Keeping RAMDirectory and filesystem index in sync
Thread-Index: AcZGpS0iiSBj8KM+S3CA9Of4kK5wDQAAQi5g
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Jens. Seems like this would be pretty complicated.=20

It seems the best way would be not have a separate daemon for indexing =
modifiied documents, but just have the reindexing part in the backend =
itself (it would know when any documents were modifiied), but since it =
would involve some code/design change, I thought I should first find out =
if there was any way I could lessen the work.

Venu


-----Original Message-----
From: Jens Kraemer [mailto:kraemer@webit.de]=20
Sent: Monday, March 13, 2006 7:19 PM
To: java-user@lucene.apache.org
Subject: Re: Keeping RAMDirectory and filesystem index in sync


On Mon, Mar 13, 2006 at 06:23:10PM +0530, Satuluri, Venu_Madhav wrote:
> Hi,
>=20
> Is there an elegant way to keep RAMDirectory and my file-system based
> index in sync? I have a java class that is periodically started up by
> crond that checks for modified documents and then reindexes them onto
> the filesystem. However, for searching I want to use RAMDirectory (for
> the performance benefits). The process that searches is alive all the
> time (its in the backend of a webapp), and is different from the =
process
> that indexes.=20

You could somehow (HTTP, Database flag, some messaging system) ping your =

backend from your Indexing process, once it's finished.=20
The Searching process then would have to re-open it's RAMDirectory.=20

Or you check the version of the fs-based index from time to time, to see
when it has changed. Using IndexReader.getCurrentVersion (path_to_index)
this shouldn't be too expensive. But there's the risk that you re-open
your RAMDirectory in the middle of an index update, since the version=20
changes on every single modification done to the index.

I don't know of any more elegant ways.

Jens



--=20
webit! Gesellschaft f=FCr neue Medien mbH          www.webit.de
Dipl.-Wirtschaftsingenieur Jens Kr=E4mer       kraemer@webit.de
Schnorrstra=DFe 76                         Tel +49 351 46766  0
D-01069 Dresden                          Fax +49 351 46766 66

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 14:21:24 2006
Return-Path: <java-user-return-19516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64747 invoked from network); 13 Mar 2006 14:21:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 14:21:02 -0000
Received: (qmail 31019 invoked by uid 500); 13 Mar 2006 14:20:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30739 invoked by uid 500); 13 Mar 2006 14:20:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30726 invoked by uid 99); 13 Mar 2006 14:20:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:20:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:20:52 -0800
Received: by wproxy.gmail.com with SMTP id i23so1772155wra
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 06:20:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fUcaIG79tooVYBMbGKkfMZa2SdvWvLqxh4eqYlD6f0jOWY2Nvug9el5zDcH2rAvDhT6id2lhMqNPF8F8AyJTTjrVJRaZox+d6wdFYlErgsNbuiBtGeh95kvA9o5Mzucrw7ga20S+lucpZ6eM9ylUz2zFBY9DYXjE45EGYJ9Sv68=
Received: by 10.54.140.6 with SMTP id n6mr1985856wrd;
        Mon, 13 Mar 2006 06:20:31 -0800 (PST)
Received: by 10.54.123.8 with HTTP; Mon, 13 Mar 2006 06:20:31 -0800 (PST)
Message-ID: <e994873a0603130620u1ca6f69bo1f3deb56be95f03c@mail.gmail.com>
Date: Mon, 13 Mar 2006 09:20:31 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <88c6a6720603101400u39d5acf9n20fa89fcc8cdc8e2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_25279_30069510.1142259631194"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <e994873a0602231100v48a73ec4tcca903fc65548fa6@mail.gmail.com>
	 <88c6a6720602231148v520b3be6uab8cfd7fb48899a9@mail.gmail.com>
	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>
	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>
	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
	 <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
	 <440DD3A6.2020600@apache.org>
	 <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>
	 <88c6a6720603101400u39d5acf9n20fa89fcc8cdc8e2@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_25279_30069510.1142259631194
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Chris,

Should this patch work against the current code base? I'm getting this
error:

D:\lucene-1.9>patch -b -p0 -i nio-lucene-1.9.patch
patching file src/java/org/apache/lucene/index/CompoundFileReader.java
patching file src/java/org/apache/lucene/index/FieldsReader.java
missing header for unified diff at line 45 of patch
can't find file to patch at input line 45
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
| +47,9 @@
|     fieldsStream =3D d.openInput(segment + ".fdt");
|     indexStream =3D d.openInput(segment + ".fdx");
|
|+    fstream =3D new ThreadStream(fieldsStream);
|+    istream =3D new ThreadStream(indexStream);
|+
|     size =3D (int)(indexStream.length() / 8);
|   }
|
--------------------------

Thanks,
Peter


On 3/10/06, Chris Lamprecht <clamprecht@gmail.com> wrote:
>
> Peter,
>
> I think this is similar to the patch in this bugzilla task:
>
> http://issues.apache.org/bugzilla/show_bug.cgi?id=3D35838
> the patch itself is
> http://issues.apache.org/bugzilla/attachment.cgi?id=3D15757
>
> (BTW does JIRA have a way to display the patch diffs?)
>
> The above patch also has a change to SegmentReader to avoid
> synchronization on isDeleted().  However, with that patch, you no
> longer have the guarantee that one thread will immediately see
> deletions by another thread.  This was fine for my purposes, and
> resulted in a big performance boost when there were deleted documents,
> but it may not be "correct" for others' needs.
>
> -chris
> On 3/10/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > > 3. Use the ThreadLocal's FieldReader in the document() method.
> >
> > As I understand it, this means that the document method no longer needs
> to
> > be synchronized, right?
> >
> > I've made these changes and it does appear to improve performance.
> Random
> > snapshots of the stack traces show only an occasional lock in
> 'isDeleted'.
> > Mostly, though, the threads are busy scoring and adding results to
> priority
> > queues, which is great. I've included some sample stacks, below. I'll
> report
> > the new query rates after it has run for at least overnight, and I'd be
> > happy submit these changes to the lucene committers, if interested.
> >
> > Peter
> >
> >
> > Sample stack traces:
> >
> > "QueryThread group 1,#8" prio=3D1 tid=3D0x0000002ce48eeb80 nid=3D0x6b87
> runnable
> > [0x0000000043887000..0x0000000043887bb0]
> >     at org.apache.lucene.search.FieldSortedHitQueue.lessThan(
> > FieldSortedHitQueue.java:108)
> >     at org.apache.lucene.util.PriorityQueue.insert(PriorityQueue.java
> :61)
> >     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> > FieldSortedHitQueue.java:85)
> >     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> > FieldSortedHitQueue.java:92)
> >     at org.apache.lucene.search.TopFieldDocCollector.collect(
> > TopFieldDocCollector.java:51)
> >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:75)
> >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:60)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :132)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :110)
> >     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java
> :225)
> >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> >
> > "QueryThread group 1,#5" prio=3D1 tid=3D0x0000002ce4d659f0 nid=3D0x6b84
> runnable
> > [0x0000000043584000..0x0000000043584d30]
> >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:75)
> >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:60)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :132)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :110)
> >     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java
> :225)
> >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> >
> > "QueryThread group 1,#4" prio=3D1 tid=3D0x0000002ce10afd50 nid=3D0x6b83
> runnable
> > [0x0000000043483000..0x0000000043483db0]
> >     at org.apache.lucene.store.MMapDirectory$MMapIndexInput.readByte(
> > MMapDirectory.java:46)
> >     at org.apache.lucene.store.IndexInput.readVInt(IndexInput.java:56)
> >     at org.apache.lucene.index.SegmentTermDocs.next(SegmentTermDocs.jav=
a
> > :101)
> >     at org.apache.lucene.index.SegmentTermDocs.skipTo(
> SegmentTermDocs.java
> > :194)
> >     at org.apache.lucene.search.TermScorer.skipTo(TermScorer.java:144)
> >     at org.apache.lucene.search.ConjunctionScorer.doNext(
> > ConjunctionScorer.java:56)
> >     at org.apache.lucene.search.ConjunctionScorer.next(
> > ConjunctionScorer.java:51)
> >     at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.jav=
a
> > :290)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :132)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :110)
> >     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java
> :225)
> >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> >
> > "QueryThread group 1,#3" prio=3D1 tid=3D0x0000002ce48959f0 nid=3D0x6b82
> runnable
> > [0x0000000043382000..0x0000000043382e30]
> >     at java.util.LinkedList.listIterator(LinkedList.java:523)
> >     at java.util.AbstractList.listIterator(AbstractList.java:349)
> >     at java.util.AbstractSequentialList.iterator(
> AbstractSequentialList.java
> > :250)
> >     at org.apache.lucene.search.ConjunctionScorer.score(
> > ConjunctionScorer.java:80)
> >     at org.apache.lucene.search.BooleanScorer2$2.score(
> BooleanScorer2.java
> > :186)
> >     at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.jav=
a
> > :327)
> >     at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.jav=
a
> > :291)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :132)
> >     at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
> :110)
> >     at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java
> :225)
> >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> >
> >
> > On 3/7/06, Doug Cutting <cutting@apache.org> wrote:
> > >
> > > Peter Keegan wrote:
> > > > I ran a query performance tester against 8-cpu and 16-cpu Xeon
> servers
> > > > (16/32 cpu hyperthreaded). on Linux. Here are the results:
> > > >
> > > > 8-cpu:  275 qps
> > > > 16-cpu: 305 qps
> > > > (the dual-core Opteron servers are still faster)
> > > >
> > > > Here is the stack trace of 8 of the 16 query threads during the
> test:
> > > >
> > > >         at org.apache.lucene.index.SegmentReader.document(
> > > SegmentReader.java
> > > > :281)
> > > >         - waiting to lock <0x0000002adf5b2110> (a
> > > > org.apache.lucene.index.SegmentReader)
> > > >         at org.apache.lucene.search.IndexSearcher.doc(
> IndexSearcher.java
> > > :83)
> > > >         at org.apache.lucene.search.MultiSearcher.doc(
> MultiSearcher.java
> > > > :146)
> > > >         at org.apache.lucene.search.Hits.doc(Hits.java:103)
> > > >
> > > > SegmentReader.document is a synchronized method. I have one stored
> field
> > > > (binary, uncompressed) with and average length of 0.5Kb. The
> retrieval
> > > of
> > > > this stored field is within this synchronized code. Since I am usin=
g
> > > > MMapDirectory, does this retrieval need to be synchronized?
> > >
> > > Yes, since in FieldReader the file positions must be synchronized.
> > >
> > > The way to avoid this would be to:
> > >
> > > 1. Add a clone() method to FieldReader that clones it's two
> IndexInputs.
> > > 2. Add a ThreadLocal to SegmentReader whose value is a cloned
> FieldReader.
> > > 3. Use the ThreadLocal's FieldReader in the document() method.
> > >
> > > TermInfosReader has a similar optimization, using a ThreadLocal
> > > containing a SegmentTermEnum for each thread.
> > >
> > > Doug
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_25279_30069510.1142259631194--

From java-user-return-19517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 14:45:55 2006
Return-Path: <java-user-return-19517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83864 invoked from network); 13 Mar 2006 14:45:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 14:45:55 -0000
Received: (qmail 67634 invoked by uid 500); 13 Mar 2006 14:45:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67599 invoked by uid 500); 13 Mar 2006 14:45:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67588 invoked by uid 99); 13 Mar 2006 14:45:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:45:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.203 as permitted sender)
Received: from [64.233.184.203] (HELO wproxy.gmail.com) (64.233.184.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:45:48 -0800
Received: by wproxy.gmail.com with SMTP id 50so1141924wri
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 06:45:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Z23GVUXvd7JTLXOZ08kiOe1NhnYTQwmvp1ekfzCMb/Hs+HY+SNFzhzyByFnexGqXmq6XUUoA1+sCZvCMwy5svDbW8oNlGtTxCKw/Oj5Fdww0q8N2TbEDc6t7kauhPfA88wbQILVnQtGz/P7X9vvpMzeup1c8+NSxkf/shUbSUGs=
Received: by 10.54.111.4 with SMTP id j4mr126723wrc;
        Mon, 13 Mar 2006 06:45:27 -0800 (PST)
Received: by 10.54.123.8 with HTTP; Mon, 13 Mar 2006 06:45:27 -0800 (PST)
Message-ID: <e994873a0603130645g7048e54ex1c74742dae3a7ab0@mail.gmail.com>
Date: Mon, 13 Mar 2006 09:45:27 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0603130620u1ca6f69bo1f3deb56be95f03c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_25536_4041409.1142261127094"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <88c6a6720602231148v520b3be6uab8cfd7fb48899a9@mail.gmail.com>
	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>
	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>
	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
	 <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
	 <440DD3A6.2020600@apache.org>
	 <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>
	 <88c6a6720603101400u39d5acf9n20fa89fcc8cdc8e2@mail.gmail.com>
	 <e994873a0603130620u1ca6f69bo1f3deb56be95f03c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_25536_4041409.1142261127094
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Chris,
My apologies - this error was apparently caused by a file format mismatch
(probably line endings).
Thanks,
Peter

On 3/13/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
>
> Chris,
>
> Should this patch work against the current code base? I'm getting this
> error:
>
> D:\lucene-1.9>patch -b -p0 -i nio-lucene-1.9.patch
> patching file src/java/org/apache/lucene/index/CompoundFileReader.java
> patching file src/java/org/apache/lucene/index/FieldsReader.java
> missing header for unified diff at line 45 of patch
> can't find file to patch at input line 45
> Perhaps you used the wrong -p or --strip option?
> The text leading up to this was:
> --------------------------
> | +47,9 @@
> |     fieldsStream =3D d.openInput(segment + ".fdt");
> |     indexStream =3D d.openInput(segment + ".fdx");
> |
> |+    fstream =3D new ThreadStream(fieldsStream);
> |+    istream =3D new ThreadStream(indexStream);
> |+
> |     size =3D (int)(indexStream.length() / 8);
> |   }
> |
> --------------------------
>
> Thanks,
> Peter
>
>
>
> On 3/10/06, Chris Lamprecht <clamprecht@gmail.com> wrote:
> >
> > Peter,
> >
> > I think this is similar to the patch in this bugzilla task:
> >
> > http://issues.apache.org/bugzilla/show_bug.cgi?id=3D35838
> > the patch itself is
> > http://issues.apache.org/bugzilla/attachment.cgi?id=3D15757
> >
> > (BTW does JIRA have a way to display the patch diffs?)
> >
> > The above patch also has a change to SegmentReader to avoid
> > synchronization on isDeleted().  However, with that patch, you no
> > longer have the guarantee that one thread will immediately see
> > deletions by another thread.  This was fine for my purposes, and
> > resulted in a big performance boost when there were deleted documents,
> > but it may not be "correct" for others' needs.
> >
> > -chris
> > On 3/10/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > > > 3. Use the ThreadLocal's FieldReader in the document() method.
> > >
> > > As I understand it, this means that the document method no longer
> > needs to
> > > be synchronized, right?
> > >
> > > I've made these changes and it does appear to improve performance.
> > Random
> > > snapshots of the stack traces show only an occasional lock in
> > 'isDeleted'.
> > > Mostly, though, the threads are busy scoring and adding results to
> > priority
> > > queues, which is great. I've included some sample stacks, below. I'll
> > report
> > > the new query rates after it has run for at least overnight, and I'd
> > be
> > > happy submit these changes to the lucene committers, if interested.
> > >
> > > Peter
> > >
> > >
> > > Sample stack traces:
> > >
> > > "QueryThread group 1,#8" prio=3D1 tid=3D0x0000002ce48eeb80 nid=3D0x6b=
87
> > runnable
> > > [0x0000000043887000..0x0000000043887bb0]
> > >     at org.apache.lucene.search.FieldSortedHitQueue.lessThan(
> > > FieldSortedHitQueue.java:108)
> > >     at org.apache.lucene.util.PriorityQueue.insert(PriorityQueue.java=
:61)
> > >     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> > > FieldSortedHitQueue.java:85)
> > >     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> > > FieldSortedHitQueue.java:92)
> > >     at org.apache.lucene.search.TopFieldDocCollector.collect(
> > > TopFieldDocCollector.java:51)
> > >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:75)
> > >     at org.apache.lucene.search.TermScorer.score (TermScorer.java:60)
> > >     at org.apache.lucene.search.IndexSearcher.search(
> > IndexSearcher.java:132)
> > >     at org.apache.lucene.search.IndexSearcher.search(
> > IndexSearcher.java:110)
> > >     at org.apache.lucene.search.MultiSearcher.search (
> > MultiSearcher.java:225)
> > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> > >     at org.apache.lucene.search.Searcher.search (Searcher.java:62)
> > >
> > > "QueryThread group 1,#5" prio=3D1 tid=3D0x0000002ce4d659f0 nid=3D0x6b=
84
> > runnable
> > > [0x0000000043584000..0x0000000043584d30]
> > >     at org.apache.lucene.search.TermScorer.score (TermScorer.java:75)
> > >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:60)
> > >     at org.apache.lucene.search.IndexSearcher.search(
> > IndexSearcher.java:132)
> > >     at org.apache.lucene.search.IndexSearcher.search (
> > IndexSearcher.java:110)
> > >     at org.apache.lucene.search.MultiSearcher.search(
> > MultiSearcher.java:225)
> > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > >     at org.apache.lucene.search.Hits .<init>(Hits.java:52)
> > >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> > >
> > > "QueryThread group 1,#4" prio=3D1 tid=3D0x0000002ce10afd50 nid=3D0x6b=
83
> > runnable
> > > [0x0000000043483000..0x0000000043483db0]
> > >     at org.apache.lucene.store.MMapDirectory$MMapIndexInput.readByte(
> > > MMapDirectory.java:46)
> > >     at org.apache.lucene.store.IndexInput.readVInt(IndexInput.java:56=
)
> > >     at org.apache.lucene.index.SegmentTermDocs.next (
> > SegmentTermDocs.java
> > > :101)
> > >     at org.apache.lucene.index.SegmentTermDocs.skipTo(
> > SegmentTermDocs.java
> > > :194)
> > >     at org.apache.lucene.search.TermScorer.skipTo(TermScorer.java:144=
)
> > >     at org.apache.lucene.search.ConjunctionScorer.doNext(
> > > ConjunctionScorer.java:56)
> > >     at org.apache.lucene.search.ConjunctionScorer.next(
> > > ConjunctionScorer.java:51)
> > >     at org.apache.lucene.search.BooleanScorer2.score (
> > BooleanScorer2.java
> > > :290)
> > >     at org.apache.lucene.search.IndexSearcher.search(
> > IndexSearcher.java:132)
> > >     at org.apache.lucene.search.IndexSearcher.search(
> > IndexSearcher.java:110)
> > >     at org.apache.lucene.search.MultiSearcher.search (
> > MultiSearcher.java:225)
> > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> > >     at org.apache.lucene.search.Searcher.search (Searcher.java:62)
> > >
> > > "QueryThread group 1,#3" prio=3D1 tid=3D0x0000002ce48959f0 nid=3D0x6b=
82
> > runnable
> > > [0x0000000043382000..0x0000000043382e30]
> > >     at java.util.LinkedList.listIterator(LinkedList.java :523)
> > >     at java.util.AbstractList.listIterator(AbstractList.java:349)
> > >     at java.util.AbstractSequentialList.iterator(
> > AbstractSequentialList.java
> > > :250)
> > >     at org.apache.lucene.search.ConjunctionScorer.score (
> > > ConjunctionScorer.java:80)
> > >     at org.apache.lucene.search.BooleanScorer2$2.score(
> > BooleanScorer2.java
> > > :186)
> > >     at org.apache.lucene.search.BooleanScorer2.score(
> > BooleanScorer2.java
> > > :327)
> > >     at org.apache.lucene.search.BooleanScorer2.score(
> > BooleanScorer2.java
> > > :291)
> > >     at org.apache.lucene.search.IndexSearcher.search(
> > IndexSearcher.java:132)
> > >     at org.apache.lucene.search.IndexSearcher.search (
> > IndexSearcher.java:110)
> > >     at org.apache.lucene.search.MultiSearcher.search(
> > MultiSearcher.java:225)
> > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > >     at org.apache.lucene.search.Hits .<init>(Hits.java:52)
> > >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> > >
> > >
> > > On 3/7/06, Doug Cutting <cutting@apache.org> wrote:
> > > >
> > > > Peter Keegan wrote:
> > > > > I ran a query performance tester against 8-cpu and 16-cpu Xeon
> > servers
> > > > > (16/32 cpu hyperthreaded). on Linux. Here are the results:
> > > > >
> > > > > 8-cpu:  275 qps
> > > > > 16-cpu: 305 qps
> > > > > (the dual-core Opteron servers are still faster)
> > > > >
> > > > > Here is the stack trace of 8 of the 16 query threads during the
> > test:
> > > > >
> > > > >         at org.apache.lucene.index.SegmentReader.document(
> > > > SegmentReader.java
> > > > > :281)
> > > > >         - waiting to lock <0x0000002adf5b2110> (a
> > > > > org.apache.lucene.index.SegmentReader)
> > > > >         at org.apache.lucene.search.IndexSearcher.doc(
> > IndexSearcher.java
> > > > :83)
> > > > >         at org.apache.lucene.search.MultiSearcher.doc (
> > MultiSearcher.java
> > > > > :146)
> > > > >         at org.apache.lucene.search.Hits.doc(Hits.java:103)
> > > > >
> > > > > SegmentReader.document is a synchronized method. I have one store=
d
> > field
> > > > > (binary, uncompressed) with and average length of 0.5Kb. The
> > retrieval
> > > > of
> > > > > this stored field is within this synchronized code. Since I am
> > using
> > > > > MMapDirectory, does this retrieval need to be synchronized?
> > > >
> > > > Yes, since in FieldReader the file positions must be synchronized.
> > > >
> > > > The way to avoid this would be to:
> > > >
> > > > 1. Add a clone() method to FieldReader that clones it's two
> > IndexInputs.
> > > > 2. Add a ThreadLocal to SegmentReader whose value is a cloned
> > FieldReader.
> > > > 3. Use the ThreadLocal's FieldReader in the document() method.
> > > >
> > > > TermInfosReader has a similar optimization, using a ThreadLocal
> > > > containing a SegmentTermEnum for each thread.
> > > >
> > > > Doug
> > > >
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_25536_4041409.1142261127094--

From java-user-return-19518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 14:51:24 2006
Return-Path: <java-user-return-19518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87913 invoked from network); 13 Mar 2006 14:51:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 14:51:23 -0000
Received: (qmail 82032 invoked by uid 500); 13 Mar 2006 14:51:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81973 invoked by uid 500); 13 Mar 2006 14:51:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81928 invoked by uid 99); 13 Mar 2006 14:51:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:51:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.73.2.150] (HELO mx-1.framfab.com) (217.73.2.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 06:51:14 -0800
Received: from seex03.framfab.com (seex03.framfab.com [157.125.32.20])
	by mx-1.framfab.com (Postfix) with ESMTP id 5BF333481C0
	for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 15:59:16 +0100 (CET)
Received: from ukex02.framfab.com ([157.125.70.14]) by seex03.framfab.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 13 Mar 2006 15:50:50 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C646AD.7F748B95"
Subject: Setting the COMMIT lock timeout.
Date: Mon, 13 Mar 2006 14:50:49 -0000
Message-ID: <40D92B748B99CC43A2F0897B6B2B822E020D3CDD@ukex02.framfab.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Setting the COMMIT lock timeout.
Thread-Index: AcZGrYSm9WJgtCr8QPShsJvP7BFaPw==
From: "Jim Bedford-roberts" <Jim.Bedford-roberts@framfab.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 13 Mar 2006 14:50:50.0057 (UTC) FILETIME=[84F4F390:01C646AD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C646AD.7F748B95
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm confused about how to set the COMMIT lock timeout since the version
1.9.1 release.

=20

I note that this can't be set from system properties anymore
(CHANGES.txt, changes in run time behaviour 7), but am unable to find
the replacement setter method promised for IndexWriter.

=20

Can anyone point me in the right direction?

=20

Thanks

Jim

=20

=20


------_=_NextPart_001_01C646AD.7F748B95--

From java-user-return-19519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 15:32:15 2006
Return-Path: <java-user-return-19519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11548 invoked from network); 13 Mar 2006 15:32:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 15:32:14 -0000
Received: (qmail 48782 invoked by uid 500); 13 Mar 2006 15:32:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48756 invoked by uid 500); 13 Mar 2006 15:32:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48745 invoked by uid 99); 13 Mar 2006 15:32:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 07:32:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 07:32:05 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: 100,000 indexes and what to do
Date: Mon, 13 Mar 2006 09:30:27 -0600
Message-ID: <F9E303076B72074AB76B2C8F78952B291C815F@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: 100,000 indexes and what to do
Thread-Index: AcZE2ltXrXH80/AfTtKkMWFTvznE3wB2Cpcg
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How does the information change in each of these customer's documents?
I would think if they were very dynamic then updates to the single index
would not be great for you.  But if the updates were just now and then,
then given the performance of lucene that the single index would be just
fine.      i was using a single index for most of my applications that
use search till I ran into a commenting system for a blog like
application.   I realized that I didn't want to be updating the main
records index for each comment, so I split that off.  I've been pretty
happy with that choice so far.    So, anyway, it seems like one index
would be easier and given that document count you are talking about, I
am sure lucene will handle either fine as far as speed and mem.

-----Original Message-----
From: Lawrence [mailto:lucene@savant-is.com]=20
Sent: Saturday, March 11, 2006 1:07 AM
To: java-user@lucene.apache.org
Subject: 100,000 indexes and what to do

Hi all,



I was reading one of the posting on concurrency and I reread section 9.1
in Lucene in Action which lead me to this question. I have 100,000
customers and I want to provide them with personal searching for their
documents and sometimes to include company documents in that search.

1.	100,000 customers with 10-20 small document each.
2.	Company 5,000 documents, specification, papers, research, etc.
3.	Customers can search their own documents and company document.

P1: Do I provide an index for each customer and allow them multiple
index searching, into company document when they need it?

OR

P2: Do I provide one large index for all my 100,000 customers, adding a
field for customer ID so searching can be constrained, so they
won't/can't search across other customer's documents, and then
categorize company documents so customers can do multiple index searches
into company documents?

After writing this out I realize that P2 is probably the wiser choice,
less complicated, but I would like to hear from other Luceners.

Lucene in Action is one of the best written books in my library of ~300
CS books. It ranks in completeness and clarity up there with works by
David Geary, Martin Fowler, and other Hatcher greats like Java
Development with Ant.=20

Thanks Otis and Erik.

Regards, Lawrence

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 15:32:57 2006
Return-Path: <java-user-return-19520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11996 invoked from network); 13 Mar 2006 15:32:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 15:32:56 -0000
Received: (qmail 52668 invoked by uid 500); 13 Mar 2006 15:32:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52642 invoked by uid 500); 13 Mar 2006 15:32:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52630 invoked by uid 99); 13 Mar 2006 15:32:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 07:32:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.139.157.127] (HELO exchange-uun.mediagrif.com) (207.139.157.127)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 07:32:49 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Failure recovery
Date: Mon, 13 Mar 2006 10:32:28 -0500
Message-ID: <BE2E4FB5FE474F49A9DEA7B72EF201D501D606AC@stimxch1.dev.mediagrif.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Failure recovery
Thread-Index: AcZGhkLTB6bx58WxTGqQ5fKSTtZcLwALOJHg
From: "Pierre Luc Dupont" <PLDupont@mediagrif.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chuck,

    I suggest to use status file to indicate your index status. I use
this and it works very well.=20

-----Original Message-----
From: Chuck Williams [mailto:chuck@manawiz.com]=20
Sent: 2006-03-13 02:22
To: java-user@lucene.apache.org
Subject: Failure recovery

Is there a way to determine whether or not an index that was left locked
due to some improper system shutdown needs repair?

My code does the following as part of starting up and creating an
IndexWriter for an existing index that was created in a prior session:

>         if (IndexReader.isLocked(index.indexDirectory)) {
>             // ***** TODO add a test for a valid index, if possible
>             log.error("Forcibly unlocking the index directory for=20
> investigation " + investigation.getName() + ".  Ensure it is not=20
> corrupt!");
>             IndexReader.unlock(index.indexDirectory);
>         }


The occurrence of this condition indicates the system did not shutdown
cleanly in the prior run.  I'd like to know whether the index is valid
or not before blindly unlocking it.

Thanks for any help,

Chuck


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 16:04:13 2006
Return-Path: <java-user-return-19521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30845 invoked from network); 13 Mar 2006 16:04:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 16:04:12 -0000
Received: (qmail 11974 invoked by uid 500); 13 Mar 2006 16:04:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11946 invoked by uid 500); 13 Mar 2006 16:04:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11935 invoked by uid 99); 13 Mar 2006 16:04:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:04:06 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.196 as permitted sender)
Received: from [66.249.92.196] (HELO uproxy.gmail.com) (66.249.92.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:04:04 -0800
Received: by uproxy.gmail.com with SMTP id j40so619344ugd
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 08:03:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=s32tWZ35LVaQe2UNwbo9Msa2/pylnem6l0IkwnrPJxPrPfdTb241o0GYEzfdcqn3pArpfEeiNYpi/wqLu/MwkaWib2V2ePoshAW8ogLmtaYLbAX6Mk8y5XrzxaCclraFk8zGZxvJ6cSMslq58NSx5vnSVn9k2dj4FrGLVpBey8A=
Received: by 10.66.238.17 with SMTP id l17mr3863067ugh;
        Mon, 13 Mar 2006 08:03:43 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Mon, 13 Mar 2006 08:03:43 -0800 (PST)
Message-ID: <c68e39170603130803w4fe4af7dof5d06bd23fb6247c@mail.gmail.com>
Date: Mon, 13 Mar 2006 11:03:43 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: is there a way to find duplicate documents in the index?
In-Reply-To: <806d3a1f0603130342g2f8e8071h@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <806d3a1f0603130342g2f8e8071h@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/13/06, emerson cargnin <echofloripa.yell@gmail.com> wrote:
> I notice some duplicated entries in my index, my just looking at it,
> and I suspect there might be more than those I found out. Is there a
> way to detect duplicate documents in an index?
>
> Emerson Cargnin

If there is a field with a unique value for every document, it's
relatively easy.
Use a TermEnum to iterate over all values for that field.  For every
term, delete all but the last doc (use IndexReader.termDocs() to
enumerate documents matching a certain term).

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 16:19:09 2006
Return-Path: <java-user-return-19522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40821 invoked from network); 13 Mar 2006 16:19:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 16:19:06 -0000
Received: (qmail 38711 invoked by uid 500); 13 Mar 2006 16:19:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38682 invoked by uid 500); 13 Mar 2006 16:18:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38671 invoked by uid 99); 13 Mar 2006 16:18:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:18:59 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nikhil.goel@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:18:59 -0800
Received: by wproxy.gmail.com with SMTP id 70so1377391wra
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 08:18:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=CDknfqziFzHwDiG3fTSa8wla+ityF7wNIzjqNc/4Nr6ZdDpc4TRR/uxmMwT86AUhZetu8NkcLenHHqe5wsGuDof+U+YYaId4OwJ9BkbezJExTp2cMOVrtj1ncIj1EsKy5g3Yggw/sdadbrk2Pq/Nf8ctMQ9Vle+dmkkKW6qcSIE=
Received: by 10.65.59.17 with SMTP id m17mr1806733qbk;
        Mon, 13 Mar 2006 08:18:38 -0800 (PST)
Received: by 10.65.200.8 with HTTP; Mon, 13 Mar 2006 08:18:38 -0800 (PST)
Message-ID: <7f0c29930603130818q452e16ccrf33865433d19bbce@mail.gmail.com>
Date: Mon, 13 Mar 2006 10:18:38 -0600
From: "Nikhil Goel" <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Subject: IndexSearcher and IndexWriter in conjuction
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4253_3606791.1142266718361"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4253_3606791.1142266718361
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Can someone please explain how does IndexSearcher and IndexWriter works in
conjuction. As far as i know after reading all the posts in newgroup, it
seems everything works fine if we have one IndexWriter thread and multiple
IndexSearcher thread. But my doubt here is, looking at IndexSearcher class,
it seems it first reads the segments file and then one by one go to the
respective .fnm files in the index...hence can occur a case, where it has
read segments file but in the meantime IndexWriter thread has updated the
index and the corresponding .fnm file doesnt exist in the index and this
will give us the error .fnm doesn't exist and we will get an IOException.

Am I missing something in making sure that there can be multiple
IndexSearcher thread and one IndexWriter Thread and still everything works
fine.

thanks
-Nikhil

------=_Part_4253_3606791.1142266718361--

From java-user-return-19523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 16:32:52 2006
Return-Path: <java-user-return-19523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48511 invoked from network); 13 Mar 2006 16:32:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 16:32:49 -0000
Received: (qmail 61458 invoked by uid 500); 13 Mar 2006 16:32:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61431 invoked by uid 500); 13 Mar 2006 16:32:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61419 invoked by uid 99); 13 Mar 2006 16:32:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:32:41 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.195 as permitted sender)
Received: from [66.249.92.195] (HELO uproxy.gmail.com) (66.249.92.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:32:40 -0800
Received: by uproxy.gmail.com with SMTP id e2so628463ugf
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 08:32:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=OS5NfLMzOZ18LmVMe3kdloVFcxE+U+6kdLgjUHSTxMGQVGo9rOXYSM0NM0f/V8o2k/P5aPi5Ts+x5jGEw2IYhTvqzNDfENkftYatsNX7VIsGFfRQVzrPBcTtUT0oi/Qet61qHI1GXZpaLux37AoluDzCPV1dhLCAlUQQIBS0QMc=
Received: by 10.66.221.19 with SMTP id t19mr3635075ugg;
        Mon, 13 Mar 2006 08:32:19 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Mon, 13 Mar 2006 08:32:18 -0800 (PST)
Message-ID: <c68e39170603130832t6cc8b54br1312ea3dde856a6@mail.gmail.com>
Date: Mon, 13 Mar 2006 11:32:18 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Failure recovery
In-Reply-To: <44151D9A.8030805@manawiz.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <44151D9A.8030805@manawiz.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/13/06, Chuck Williams <chuck@manawiz.com> wrote:
> Is there a way to determine whether or not an index that was left locked
> due to some improper system shutdown needs repair?

Depends what you mean by "repair".  If there was a crash during index
modification, I think the index should normally still be OK because
the segments file won't refer to the new segments that were being
written during the crash, right?

However, you may be missing documents that were added last, and there
may be files left around that are unused by the index.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 16:33:27 2006
Return-Path: <java-user-return-19524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48869 invoked from network); 13 Mar 2006 16:33:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 16:33:25 -0000
Received: (qmail 63844 invoked by uid 500); 13 Mar 2006 16:33:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63817 invoked by uid 500); 13 Mar 2006 16:33:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63805 invoked by uid 99); 13 Mar 2006 16:33:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:33:19 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:33:18 -0800
Received: by zproxy.gmail.com with SMTP id 13so1255416nzp
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 08:32:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=lQPgW5eeyz+ibHBsMXAY5Hdp7OfSn6Ry2C7laeIDPylIKwj0C245jT53MqgIKvcYEkXqWDQRWpaSaYYtiQ18uOlC2IJlTZNSod1BoBBKMLzLOyLHs1NXkAIpFzkflLnqcZWqljMvNKc9Tq1fBJMHcvwlCzn1lhuzk+2BSSCo1gU=
Received: by 10.64.178.15 with SMTP id a15mr2211758qbf;
        Mon, 13 Mar 2006 08:32:58 -0800 (PST)
Received: by 10.65.242.13 with HTTP; Mon, 13 Mar 2006 08:32:58 -0800 (PST)
Message-ID: <4f9b23800603130832l7b3d0a5cr@mail.gmail.com>
Date: Mon, 13 Mar 2006 16:32:58 +0000
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher and IndexWriter in conjuction
In-Reply-To: <7f0c29930603130818q452e16ccrf33865433d19bbce@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <7f0c29930603130818q452e16ccrf33865433d19bbce@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Nikhil
We are using the index accessor contribution.  For more information see:
http://www.nabble.com/Fwd%3A-Contribution%3A-LuceneIndexAccessor-t17416.htm=
l#a47049
This should help you to co-ordinate the IndexSearcher and IndexWriter.
Patrick

On 13/03/06, Nikhil Goel <nikhil.goel@gmail.com> wrote:
> Hi,
>
> Can someone please explain how does IndexSearcher and IndexWriter works i=
n
> conjuction. As far as i know after reading all the posts in newgroup, it
> seems everything works fine if we have one IndexWriter thread and multipl=
e
> IndexSearcher thread. But my doubt here is, looking at IndexSearcher clas=
s,
> it seems it first reads the segments file and then one by one go to the
> respective .fnm files in the index...hence can occur a case, where it has
> read segments file but in the meantime IndexWriter thread has updated the
> index and the corresponding .fnm file doesnt exist in the index and this
> will give us the error .fnm doesn't exist and we will get an IOException.
>
> Am I missing something in making sure that there can be multiple
> IndexSearcher thread and one IndexWriter Thread and still everything work=
s
> fine.
>
> thanks
> -Nikhil
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 16:37:48 2006
Return-Path: <java-user-return-19525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51194 invoked from network); 13 Mar 2006 16:37:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 16:37:48 -0000
Received: (qmail 66932 invoked by uid 500); 13 Mar 2006 16:37:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66904 invoked by uid 500); 13 Mar 2006 16:37:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66893 invoked by uid 99); 13 Mar 2006 16:37:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:37:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nikhil.goel@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:37:41 -0800
Received: by zproxy.gmail.com with SMTP id r28so1307836nza
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 08:37:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gHNGjH12bMQ+yP5lmc7SKUQJjeIWqzrAbbfbbznYrHniYNXXhjCH3D8AVBLIQXMbR6ovVrfXExGhUC+6UDJo1Kvagw87hb928Ryb86LsQWMmNYAQy0c32Eae/aYw3Y/9Vj2m8LLtuRcBD3KQpvO9sWwen6+MXpZd450jvmnf8/g=
Received: by 10.64.91.8 with SMTP id o8mr3000039qbb;
        Mon, 13 Mar 2006 08:37:20 -0800 (PST)
Received: by 10.65.200.8 with HTTP; Mon, 13 Mar 2006 08:37:20 -0800 (PST)
Message-ID: <7f0c29930603130837v6f8ce3b6j8e7ce6a0757e72b1@mail.gmail.com>
Date: Mon, 13 Mar 2006 10:37:20 -0600
From: "Nikhil Goel" <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher and IndexWriter in conjuction
In-Reply-To: <4f9b23800603130832l7b3d0a5cr@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4513_5729916.1142267840834"
References: <7f0c29930603130818q452e16ccrf33865433d19bbce@mail.gmail.com>
	 <4f9b23800603130832l7b3d0a5cr@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4513_5729916.1142267840834
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Patrick,

thanks for writing back but my question is:- do we really need to write
something new to achieve what I want to achieve. By going thru Lucene
Tutorials, i dont think there is a need to do such a thing:-

http://blog.danbartels.com/archive/2004/09/09/186.aspx

Indexing and searching are not only thread safe, but process safe. (Multipl=
e
processes can work with the Lucene index files at the same time).

Generally the index searcher is thread safe and the index writer is thread
safe. The query parser is *not* thread safe (so each thread using the index
should have its own query parser).

The index writer is thread safe, so you can update the index while people
are searching it. However, you then have to make sure that the threads with
open index searchers close them and open new ones, to get the newly updated
data.
Thanks
-Nikhil

On 3/13/06, Patrick Kimber <mailing.patrick.kimber@gmail.com> wrote:
>
> Hi Nikhil
> We are using the index accessor contribution.  For more information see:
>
> http://www.nabble.com/Fwd%3A-Contribution%3A-LuceneIndexAccessor-t17416.h=
tml#a47049
> This should help you to co-ordinate the IndexSearcher and IndexWriter.
> Patrick
>
> On 13/03/06, Nikhil Goel <nikhil.goel@gmail.com> wrote:
> > Hi,
> >
> > Can someone please explain how does IndexSearcher and IndexWriter works
> in
> > conjuction. As far as i know after reading all the posts in newgroup, i=
t
> > seems everything works fine if we have one IndexWriter thread and
> multiple
> > IndexSearcher thread. But my doubt here is, looking at IndexSearcher
> class,
> > it seems it first reads the segments file and then one by one go to the
> > respective .fnm files in the index...hence can occur a case, where it
> has
> > read segments file but in the meantime IndexWriter thread has updated
> the
> > index and the corresponding .fnm file doesnt exist in the index and thi=
s
> > will give us the error .fnm doesn't exist and we will get an
> IOException.
> >
> > Am I missing something in making sure that there can be multiple
> > IndexSearcher thread and one IndexWriter Thread and still everything
> works
> > fine.
> >
> > thanks
> > -Nikhil
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_4513_5729916.1142267840834--

From java-user-return-19526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 16:46:49 2006
Return-Path: <java-user-return-19526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56948 invoked from network); 13 Mar 2006 16:46:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 16:46:42 -0000
Received: (qmail 87772 invoked by uid 500); 13 Mar 2006 16:46:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87750 invoked by uid 500); 13 Mar 2006 16:46:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87739 invoked by uid 99); 13 Mar 2006 16:46:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:46:34 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.194 as permitted sender)
Received: from [66.249.92.194] (HELO uproxy.gmail.com) (66.249.92.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 08:46:34 -0800
Received: by uproxy.gmail.com with SMTP id q2so670480uge
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 08:46:13 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=fXc3+nD1QSgOOD3tPrKMn4Z9N0zWiUxCTq8SggmLTEV/sjyjtGaRkSYtFHNCwyO/bpDLqghQxMAO1Ldtd6WAzpII/BpHOXKXpwnusjpTDsJFsBZ6Uv/J5sXDQhfA+GRkwZDxKSlyylFM8Oy1mP8hPxoEd3Af8FauQb8l2zkSf1Y=
Received: by 10.67.21.12 with SMTP id y12mr3419530ugi;
        Mon, 13 Mar 2006 08:46:13 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Mon, 13 Mar 2006 08:46:13 -0800 (PST)
Message-ID: <c68e39170603130846w207cefddh1caeb19379114b@mail.gmail.com>
Date: Mon, 13 Mar 2006 11:46:13 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher and IndexWriter in conjuction
In-Reply-To: <7f0c29930603130818q452e16ccrf33865433d19bbce@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <7f0c29930603130818q452e16ccrf33865433d19bbce@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/13/06, Nikhil Goel <nikhil.goel@gmail.com> wrote:
> Can someone please explain how does IndexSearcher and IndexWriter works i=
n
> conjuction.

The trick is that once segment files are written, they are never
modified (except for the "segments" file itself).  New documents are
added to new segments, not existing segments.  When segments are
merged, a new bigger segment is created.  This way, the view of the
index for a specific IndexReader will never change.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 19:00:44 2006
Return-Path: <java-user-return-19527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39237 invoked from network); 13 Mar 2006 19:00:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 19:00:44 -0000
Received: (qmail 12886 invoked by uid 500); 13 Mar 2006 19:00:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12782 invoked by uid 500); 13 Mar 2006 19:00:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12747 invoked by uid 99); 13 Mar 2006 19:00:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 11:00:24 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 205.152.59.70 is neither permitted nor denied by domain of rwatkins@foo-bar.org)
Received: from [205.152.59.70] (HELO imf22aec.mail.bellsouth.net) (205.152.59.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 11:00:21 -0800
Received: from ibm67aec.bellsouth.net ([68.209.119.157])
          by imf22aec.mail.bellsouth.net with ESMTP
          id <20060313190000.EEV25564.imf22aec.mail.bellsouth.net@ibm67aec.bellsouth.net>
          for <java-user@lucene.apache.org>;
          Mon, 13 Mar 2006 14:00:00 -0500
Received: from jimwormold ([68.209.119.157]) by ibm67aec.bellsouth.net
          with ESMTP
          id <20060313185959.NBIL1775.ibm67aec.bellsouth.net@jimwormold>;
          Mon, 13 Mar 2006 13:59:59 -0500
Date: Mon, 13 Mar 2006 14:02:48 -0500 (EST)
From: Robert Watkins <rwatkins@foo-bar.org>
To: java-user@lucene.apache.org
cc: fquek@wiley.com, rwatkins@wiley.com
Subject: Looking for Lucene consultant (UK based)
Message-ID: <Pine.LNX.4.63.0603131355560.736@jimwormold>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We, John Wiley & Sons (http://www3.interscience.wiley.com/), are looking
for a Lucene expert to assist with our migration from Verity to Lucene
(up to six weeks work, starting this coming Monday, 20 March). The
candidate must be based in the UK, preferably in or close to London,
as we would like him/her to use our Ealing office as much as possible.

The ideal candidate will have had large scale application migration
experience of migrating from Verity to Lucene, and experience with
performance tuning.

This consultancy involves providing leadership in gathering
requirements, architecture design and assist with putting together a
migration plan. The candidate will also be expected to be hands-on to
assist the existing team in trying out new ideas or problem solving.

The list of required/desired skills is below. Please send CVs to Freddie
Quek (fquek@wiley.com) by 17 March 2006 for consideration.

Technical skills:
   Tools and languages:
     o Languages
         mandatory:       Java (JDK 1.4), XML, HTML, XSLT, http, c++
     o Operating systems
         mandatory:       Unix
     o Technologies
         mandatory:       Lucene 1.4.3 and higher, Tomcat, CVS
                          strong background in search applications
                          but not the specific implementations
         highly desired:  Verity
         optional:        Apache web server

Soft skills:
   Good communication and software architecture skills
   Effective team-worker

Thanks!

--------------------
Robert Watkins
rwatkins@foo-bar.org
rwatkins@wiley.com
--------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 19:58:26 2006
Return-Path: <java-user-return-19528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73684 invoked from network); 13 Mar 2006 19:58:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 19:58:26 -0000
Received: (qmail 94488 invoked by uid 500); 13 Mar 2006 19:58:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94435 invoked by uid 500); 13 Mar 2006 19:58:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94419 invoked by uid 99); 13 Mar 2006 19:58:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 11:58:20 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of kellyvista7@hotmail.com designates 64.4.54.91 as permitted sender)
Received: from [64.4.54.91] (HELO hotmail.com) (64.4.54.91)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 11:58:19 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 13 Mar 2006 11:57:58 -0800
Message-ID: <BAY20-F241994C36F3BA960467F7F6E00@phx.gbl>
Received: from 63.207.38.125 by by20fd.bay20.hotmail.msn.com with HTTP;
	Mon, 13 Mar 2006 19:57:57 GMT
X-Originating-IP: [63.207.38.125]
X-Originating-Email: [kellyvista7@hotmail.com]
X-Sender: kellyvista7@hotmail.com
From: "Kelly Vista" <kellyvista7@hotmail.com>
To: java-user@lucene.apache.org
Subject: Basic question on lucene query processing
Date: Mon, 13 Mar 2006 11:57:57 -0800
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 13 Mar 2006 19:57:58.0993 (UTC) FILETIME=[6D756C10:01C646D8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi -

I have a basic question on the way queries are processed in Lucene.  I 
understand that Lucene uses a variation of the vector space model in terms 
of how it detemines document similarity.  In particular, I think it computes 
some sort of normalized TF-IDF score for some query against the collection 
of documents.

However, my question is this.  In order for it to compute the TF-IDF score 
with respect to a particular document, it would seem that Lucene would need 
to iterate over all possible documents.  For example, given a query q and a 
document d, compute score(q, d).  In order to identify the highest score, it 
would seem that it would need to look at *all* documents (or else, how does 
it know how a query evaluates against each a document?).  This seems very 
inefficient, but I'm sure it's not the case -- as I have heard that Lucene 
is generally pretty efficient.

If someone can please help me understand whether or not this is the case, I 
would appreciate it.

Just a note: strikes me that an alternative way to do things is to first 
identify a set of documents that have the term in them first (i.e., a grep) 
before doing the iteration.  In fact, this first step is often more complex 
in other systems where computing score() is more expensive.

Thanks,

_________________________________________________________________
Dont just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 20:02:35 2006
Return-Path: <java-user-return-19529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76940 invoked from network); 13 Mar 2006 20:02:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 20:02:34 -0000
Received: (qmail 2792 invoked by uid 500); 13 Mar 2006 20:02:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2769 invoked by uid 500); 13 Mar 2006 20:02:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2754 invoked by uid 99); 13 Mar 2006 20:02:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 12:02:28 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.192 as permitted sender)
Received: from [66.249.92.192] (HELO uproxy.gmail.com) (66.249.92.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 12:02:27 -0800
Received: by uproxy.gmail.com with SMTP id s2so642750uge
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 12:02:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=hWaPqCHuNep7wPpCeCTT4GfqiUbG8Yso4ZGfBXKe28Q7Zym+rvx39aEHujhCUajmtzN/8J87qG/Q3vZM7u5zM6XZTFj+bGo5r9iEVD0FsWSm/zfmBHIiqMdYVwIuirbEgflZckz516YjwDfhoi6X3bhjiYIh78HcYJFnVLpsLe8=
Received: by 10.66.232.15 with SMTP id e15mr484216ugh;
        Mon, 13 Mar 2006 12:02:06 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Mon, 13 Mar 2006 12:02:06 -0800 (PST)
Message-ID: <c68e39170603131202h4b676366y9c5daeb3dce10ad3@mail.gmail.com>
Date: Mon, 13 Mar 2006 15:02:06 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Basic question on lucene query processing
In-Reply-To: <BAY20-F241994C36F3BA960467F7F6E00@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <BAY20-F241994C36F3BA960467F7F6E00@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/13/06, Kelly Vista <kellyvista7@hotmail.com> wrote:
> Just a note: strikes me that an alternative way to do things is to first
> identify a set of documents that have the term in them first

This is what Lucene does.
Lucene is based on an inverted index, so for any given term you can
quickly find the set of documents containing the term.  Only those
documents are scored.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 21:05:26 2006
Return-Path: <java-user-return-19530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16886 invoked from network); 13 Mar 2006 21:05:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 21:05:25 -0000
Received: (qmail 35131 invoked by uid 500); 13 Mar 2006 21:05:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35107 invoked by uid 500); 13 Mar 2006 21:05:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35096 invoked by uid 99); 13 Mar 2006 21:05:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 13:05:18 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 13:05:17 -0800
Received: (qmail 9102 invoked from network); 13 Mar 2006 21:04:54 -0000
Received: from unknown (HELO p5496e07e.dip.t-dialin.net) ([pbs]695637@[84.150.224.126])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 13 Mar 2006 21:04:54 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Setting the COMMIT lock timeout.
Date: Mon, 13 Mar 2006 22:05:52 +0100
User-Agent: KMail/1.8.2
References: <40D92B748B99CC43A2F0897B6B2B822E020D3CDD@ukex02.framfab.com>
In-Reply-To: <40D92B748B99CC43A2F0897B6B2B822E020D3CDD@ukex02.framfab.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603132205.52636@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 13 M=C3=A4rz 2006 15:50, Jim Bedford-roberts wrote:

> I note that this can't be set from system properties anymore
> (CHANGES.txt, changes in run time behaviour 7), but am unable to find
> the replacement setter method promised for IndexWriter.

Seems these have been forgotten. They can easily be added, but I still=20
wonder what the use case is to set these values?

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 21:24:59 2006
Return-Path: <java-user-return-19531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26271 invoked from network); 13 Mar 2006 21:24:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 21:24:59 -0000
Received: (qmail 53018 invoked by uid 500); 13 Mar 2006 21:24:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52980 invoked by uid 500); 13 Mar 2006 21:24:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52967 invoked by uid 99); 13 Mar 2006 21:24:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 13:24:52 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 13 Mar 2006 13:24:48 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <175891(1)>; Mon, 13 Mar 2006 13:24:10 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58633>; Mon, 13 Mar 2006 13:24:04 PST
To: java-user@lucene.apache.org
Subject: Re: Setting the COMMIT lock timeout. 
In-Reply-To: Your message of "Mon, 13 Mar 2006 13:05:52 PST."
             <200603132205.52636@danielnaber.de> 
Date: Mon, 13 Mar 2006 13:24:00 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <06Mar13.132404pst."58633"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Naber ponders:
> Seems these have been forgotten. They can easily be added, but I still 
> wonder what the use case is to set these values?

The default value isn't magic.  The appropriate value is
context-specific.  I've got some people using Lucene on machines with
slow disks, and we need to be able to increase the WRITE_LOCK_TIMEOUT
to prevent entirely random lossage.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 23:22:58 2006
Return-Path: <java-user-return-19532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88074 invoked from network); 13 Mar 2006 23:22:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 23:22:56 -0000
Received: (qmail 15892 invoked by uid 500); 13 Mar 2006 23:22:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15114 invoked by uid 500); 13 Mar 2006 23:22:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15094 invoked by uid 99); 13 Mar 2006 23:22:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:22:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:22:48 -0800
Received: (qmail 18132 invoked from network); 13 Mar 2006 23:22:25 -0000
Received: from unknown (HELO p5496ee5e.dip.t-dialin.net) ([pbs]695637@[84.150.238.94])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 13 Mar 2006 23:22:25 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Setting the COMMIT lock timeout.
Date: Tue, 14 Mar 2006 00:23:23 +0100
User-Agent: KMail/1.8.2
References: <06Mar13.132404pst."58633"@synergy1.parc.xerox.com>
In-Reply-To: <06Mar13.132404pst."58633"@synergy1.parc.xerox.com>
MIME-Version: 1.0
Content-Type: Multipart/Mixed;
  boundary="Boundary-00=_r7fFEG0upuxuqT4"
Message-Id: <200603140023.23939@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Boundary-00=_r7fFEG0upuxuqT4
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On Montag 13 M=C3=A4rz 2006 22:24, Bill Janssen wrote:

> The default value isn't magic. =C2=A0The appropriate value is
> context-specific. =C2=A0I've got some people using Lucene on machines with
> slow disks, and we need to be able to increase the WRITE_LOCK_TIMEOUT
> to prevent entirely random lossage.

Here's a patch (I hope it gets through). Let me know if it's okay, I will=20
commit it then.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

--Boundary-00=_r7fFEG0upuxuqT4
Content-Type: text/x-diff;
  charset="us-ascii";
  name="indexwriter.diff"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="indexwriter.diff"

Index: /home/dnaber/workspace/LuceneSVN/src/java/org/apache/lucene/index/IndexWriter.java
===================================================================
--- /home/dnaber/workspace/LuceneSVN/src/java/org/apache/lucene/index/IndexWriter.java	(revision 382146)
+++ /home/dnaber/workspace/LuceneSVN/src/java/org/apache/lucene/index/IndexWriter.java	(working copy)
@@ -63,6 +63,8 @@
    */
   public final static long WRITE_LOCK_TIMEOUT = 1000;
 
+  private long writeLockTimeout = WRITE_LOCK_TIMEOUT;
+
   /**
    * Default value is 10,000.
    */
@@ -68,6 +70,8 @@
    */
   public final static long COMMIT_LOCK_TIMEOUT = 10000;
 
+  private long commitLockTimeout = COMMIT_LOCK_TIMEOUT;
+
   public static final String WRITE_LOCK_NAME = "write.lock";
   public static final String COMMIT_LOCK_NAME = "commit.lock";
 
@@ -252,7 +256,7 @@
       analyzer = a;
 
       Lock writeLock = directory.makeLock(IndexWriter.WRITE_LOCK_NAME);
-      if (!writeLock.obtain(WRITE_LOCK_TIMEOUT)) // obtain write lock
+      if (!writeLock.obtain(writeLockTimeout)) // obtain write lock
         throw new IOException("Index locked for write: " + writeLock);
       this.writeLock = writeLock;                   // save it
 
@@ -257,7 +261,7 @@
       this.writeLock = writeLock;                   // save it
 
       synchronized (directory) {        // in- & inter-process sync
-        new Lock.With(directory.makeLock(IndexWriter.COMMIT_LOCK_NAME), COMMIT_LOCK_TIMEOUT) {
+        new Lock.With(directory.makeLock(IndexWriter.COMMIT_LOCK_NAME), commitLockTimeout) {
             public Object doBody() throws IOException {
               if (create)
                 segmentInfos.write(directory);
@@ -370,6 +374,23 @@
     return infoStream;
   }
 
+  
+  public void setCommitLockTimeout(long commitLockTimeout) {
+    this.commitLockTimeout = commitLockTimeout;
+  }
+
+  public long getCommitLockTimeout() {
+    return commitLockTimeout;
+  }
+
+  public void setWriteLockTimeout(long writeLockTimeout) {
+    this.writeLockTimeout = writeLockTimeout;
+  }
+
+  public long getWriteLockTimeout() {
+    return writeLockTimeout;
+  }
+
   /** Flushes all changes to an index and closes all associated files. */
   public synchronized void close() throws IOException {
     flushRamSegments();
@@ -585,7 +606,7 @@
         sReader.close();
 
     synchronized (directory) {			  // in- & inter-process sync
-      new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), COMMIT_LOCK_TIMEOUT) {
+      new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), commitLockTimeout) {
 	  public Object doBody() throws IOException {
 	    segmentInfos.write(directory);	  // commit changes
 	    deleteSegments(segmentsToDelete);  // delete now-unused segments
@@ -597,7 +618,7 @@
     if (useCompoundFile) {
       final Vector filesToDelete = merger.createCompoundFile(mergedName + ".tmp");
       synchronized (directory) { // in- & inter-process sync
-        new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), COMMIT_LOCK_TIMEOUT) {
+        new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), commitLockTimeout) {
           public Object doBody() throws IOException {
             // make compound file visible for SegmentReaders
             directory.renameFile(mergedName + ".tmp", mergedName + ".cfs");
@@ -693,7 +714,7 @@
     merger.closeReaders();
 
     synchronized (directory) {                 // in- & inter-process sync
-      new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), COMMIT_LOCK_TIMEOUT) {
+      new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), commitLockTimeout) {
           public Object doBody() throws IOException {
             segmentInfos.write(directory);     // commit before deleting
             deleteSegments(segmentsToDelete);  // delete now-unused segments
@@ -705,7 +726,7 @@
     if (useCompoundFile) {
       final Vector filesToDelete = merger.createCompoundFile(mergedName + ".tmp");
       synchronized (directory) { // in- & inter-process sync
-        new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), COMMIT_LOCK_TIMEOUT) {
+        new Lock.With(directory.makeLock(COMMIT_LOCK_NAME), commitLockTimeout) {
           public Object doBody() throws IOException {
             // make compound file visible for SegmentReaders
             directory.renameFile(mergedName + ".tmp", mergedName + ".cfs");


--Boundary-00=_r7fFEG0upuxuqT4
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--Boundary-00=_r7fFEG0upuxuqT4--

From java-user-return-19533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 23:34:38 2006
Return-Path: <java-user-return-19533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93340 invoked from network); 13 Mar 2006 23:34:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 23:34:37 -0000
Received: (qmail 27333 invoked by uid 500); 13 Mar 2006 23:34:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27290 invoked by uid 500); 13 Mar 2006 23:34:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27266 invoked by uid 99); 13 Mar 2006 23:34:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:34:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:34:20 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4B1FF5B763; Mon, 13 Mar 2006 15:33:51 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 495163BA67
	for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 15:33:51 -0800 (PST)
Date: Mon, 13 Mar 2006 15:33:51 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Keeping RAMDirectory and filesystem index in sync
In-Reply-To: <20060313134913.GC27977@cordoba.webit.de>
Message-ID: <Pine.LNX.4.58.0603131530180.17238@hal.rescomp.berkeley.edu>
References: <E817F096B8D59B4E9D1E437917B1083107D187@mshydpub1.hyd.deshaw.com>
 <20060313134913.GC27977@cordoba.webit.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: The Searching process then would have to re-open it's RAMDirectory.

the key to all of this being that there are constructors for RAMDirectory
that make it very easy to load in the contents of an FSDirectory.

: Or you check the version of the fs-based index from time to time, to see
: when it has changed. Using IndexReader.getCurrentVersion (path_to_index)
: this shouldn't be too expensive. But there's the risk that you re-open
: your RAMDirectory in the middle of an index update, since the version
: changes on every single modification done to the index.

I'm not certain if you are correct that the version changes on every
modification -- but even if it does, opening an index will only get the
changes as of the last "commit".  As long as you throttle how frequently
you re-open your RAMDirectory with some minimum "int timeSinceLastOpen",
and how often you check the version with some "int sleepBetweenVersionChecks"
this approach should work fine.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 23:40:37 2006
Return-Path: <java-user-return-19534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95313 invoked from network); 13 Mar 2006 23:40:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 23:40:37 -0000
Received: (qmail 31841 invoked by uid 500); 13 Mar 2006 23:40:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31812 invoked by uid 500); 13 Mar 2006 23:40:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31799 invoked by uid 99); 13 Mar 2006 23:40:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:40:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:40:32 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 64CD45B763; Mon, 13 Mar 2006 15:40:11 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 527C63BA67
	for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 15:40:11 -0800 (PST)
Date: Mon, 13 Mar 2006 15:40:11 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: IndexSearcher and IndexWriter in conjuction
In-Reply-To: <c68e39170603130846w207cefddh1caeb19379114b@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603131537220.17238@hal.rescomp.berkeley.edu>
References: <7f0c29930603130818q452e16ccrf33865433d19bbce@mail.gmail.com>
 <c68e39170603130846w207cefddh1caeb19379114b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: The trick is that once segment files are written, they are never
: modified (except for the "segments" file itself).  New documents are
: added to new segments, not existing segments.  When segments are
: merged, a new bigger segment is created.  This way, the view of the
: index for a specific IndexReader will never change.

one thing to add here - when a segment is removed (beecuase it's contents
have been merged into a new segment) the file is deleted -- but any
existing reader/searcher that needs using that segment will still have it
open, so even though the file is no longer present in the directory, the
data will still exist and be available to the serachers that are using it.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 13 23:58:45 2006
Return-Path: <java-user-return-19535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3095 invoked from network); 13 Mar 2006 23:58:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Mar 2006 23:58:42 -0000
Received: (qmail 51562 invoked by uid 500); 13 Mar 2006 23:58:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51523 invoked by uid 500); 13 Mar 2006 23:58:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51512 invoked by uid 99); 13 Mar 2006 23:58:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:58:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bob.cheung@sirsidynix.com designates 192.150.149.249 as permitted sender)
Received: from [192.150.149.249] (HELO dynix.com) (192.150.149.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 15:58:22 -0800
Received: from ([10.1.102.55])
	by mx.dynix.com with ESMTP  id 4028803.9455503;
	Mon, 13 Mar 2006 16:57:34 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Sorting in Lucene
Date: Mon, 13 Mar 2006 16:52:54 -0700
Message-ID: <27DC6F1B1943DE42A2BBC21BEC8974DBD62AE0@POSTAL.corp.dynix.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting in Lucene
Thread-Index: AcZG95WNG2EYM2qITyS3e4JjL3dlYwAAPEBg
From: "Bob Cheung" <bob.cheung@sirsidynix.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am curious why the character "/" sorts before the space. =20

For example,=20

Apple/banana is good for you.

Sorts before

Apple banana is good for you

Is there something I can do to make it sort correctly?

Regards,
Bob


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 00:34:42 2006
Return-Path: <java-user-return-19536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20175 invoked from network); 14 Mar 2006 00:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 00:34:41 -0000
Received: (qmail 96963 invoked by uid 500); 14 Mar 2006 00:34:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96943 invoked by uid 500); 14 Mar 2006 00:34:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96932 invoked by uid 99); 14 Mar 2006 00:34:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 16:34:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 16:34:35 -0800
Received: by uproxy.gmail.com with SMTP id k40so685953ugc
        for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 16:34:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=OM1s2iBjgEPGJnATXVAmsmvq9thtlui2cBu/nRho8S2NEVDlYX+wzZ0QXAOrMr3lBgqCZOAfy4FNErnXapM56dqujr3Ga47LsQOaayjVqoHOeqE8WoDLzj7hVdtv2iL4vV9i8k9CMt8uDm2QSzAe+ejoC5cuYKKywrEGi5g9NX4=
Received: by 10.67.24.19 with SMTP id b19mr4169344ugj;
        Mon, 13 Mar 2006 16:34:14 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Mon, 13 Mar 2006 16:34:14 -0800 (PST)
Message-ID: <c68e39170603131634w259f06fck5257b480fee184c1@mail.gmail.com>
Date: Mon, 13 Mar 2006 19:34:14 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorting in Lucene
In-Reply-To: <27DC6F1B1943DE42A2BBC21BEC8974DBD62AE0@POSTAL.corp.dynix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <27DC6F1B1943DE42A2BBC21BEC8974DBD62AE0@POSTAL.corp.dynix.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/13/06, Bob Cheung <bob.cheung@sirsidynix.com> wrote:
> I am curious why the character "/" sorts before the space.
>
> For example,
>
> Apple/banana is good for you.
>
> Sorts before
>
> Apple banana is good for you

Are you sure that the field is untokenized, and that you are sorting
in the correct direction?

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 02:19:38 2006
Return-Path: <java-user-return-19537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77795 invoked from network); 14 Mar 2006 02:19:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 02:19:38 -0000
Received: (qmail 410 invoked by uid 500); 14 Mar 2006 02:19:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 385 invoked by uid 500); 14 Mar 2006 02:19:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 374 invoked by uid 99); 14 Mar 2006 02:19:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 18:19:32 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.122.139.27] (HELO rodin.i2r.a-star.edu.sg) (192.122.139.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 18:19:30 -0800
Received: from rodin.i2r.a-star.edu.sg (localhost [127.0.0.1])
	by rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2E2J4Ud001420
	for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 10:19:04 +0800 (SGT)
Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2E2J3dd001415for 
	<java-user@lucene.apache.org>; Tue, 14 Mar 2006 10:19:03 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IW3004ORIFTAF70@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Tue, 14 Mar 2006 10:19:05 +0800 (SGT)
Date: Tue, 14 Mar 2006 10:21:53 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: question...
To: java-user@lucene.apache.org
Message-id: <000c01c6470e$0f3bf660$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: multipart/mixed;
	boundary="=_Boundary_sHT8pxGtByGYFY9Fcasr"
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:95.62730 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=_Boundary_sHT8pxGtByGYFY9Fcasr
Content-Type: message/rfc822
Content-Disposition: attachment;
	filename=originalmail.eml

Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2E2J3dd001415for 
	<java-user@lucene.apache.org>; Tue, 14 Mar 2006 10:19:03 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IW3004ORIFTAF70@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Tue, 14 Mar 2006 10:19:05 +0800 (SGT)
Date: Tue, 14 Mar 2006 10:21:53 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: question...
To: java-user@lucene.apache.org
Message-id: <000c01c6470e$0f3bf660$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: multipart/alternative;
	boundary="Boundary_(ID_ouXkjAS+4O7Lw9YB2g4q+w)"
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:95.62730 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)

This is a multi-part message in MIME format.

--Boundary_(ID_ouXkjAS+4O7Lw9YB2g4q+w)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

Hi all,

 

If I want to embed the index files into another file (say of extension
*.luc, so now all the index files are flattened inside this new file),
can I still use the index without having to extract out the index files
to a temp folder?

 

aditya


--Boundary_(ID_ouXkjAS+4O7Lw9YB2g4q+w)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: 7BIT

<html>

<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=us-ascii">


<meta name=Generator content="Microsoft Word 10 (filtered)">

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=Section1>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>Hi all,</span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>If I want to embed the index files into another file (say of
extension *.luc, so now all the index files are flattened inside this new file),
can I still use the index without having to extract out the index files to a
temp folder?</span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<p class=MsoNormal><font size=2 face=Arial><span style='font-size:10.0pt;
font-family:Arial'>aditya</span></font></p>

</div>

</body>

</html>

--Boundary_(ID_ouXkjAS+4O7Lw9YB2g4q+w)--
--=_Boundary_sHT8pxGtByGYFY9Fcasr
Content-Type: text/plain;
	charset=UTF-8
Content-Transfer-Encoding: quoted-printable

--------------------------------------------------- I=C2=B2R Disclaimer=
 ------------------------------
This email is confidential and may be privileged.  If you are not the=
 intended recipient, please delete it and notify us immediately. Please do=
 not copy or use it for any purpose, or disclose its contents to any other=
 person. Thank you.
---------------------------------------------------------------------------=
----------------------

--=_Boundary_sHT8pxGtByGYFY9Fcasr
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--=_Boundary_sHT8pxGtByGYFY9Fcasr--

From java-user-return-19538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 04:00:33 2006
Return-Path: <java-user-return-19538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16459 invoked from network); 14 Mar 2006 04:00:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 04:00:33 -0000
Received: (qmail 75009 invoked by uid 500); 14 Mar 2006 04:00:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74982 invoked by uid 500); 14 Mar 2006 04:00:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74971 invoked by uid 99); 14 Mar 2006 04:00:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:00:27 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:00:26 -0800
Received: from pimout6-ext.prodigy.net (pimout6-int.prodigy.net [207.115.4.22])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2E401bL026650
	for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 23:00:02 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout6-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2E3xv15246774;
	Mon, 13 Mar 2006 23:00:02 -0500
Message-ID: <44163FBD.4020401@apache.org>
Date: Mon, 13 Mar 2006 19:59:57 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Can Lucene load more then 2GB into RAM memory?
References: <20060310131955.83741.qmail@web60812.mail.yahoo.com>
In-Reply-To: <20060310131955.83741.qmail@web60812.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

RAMDirectory is indeed currently limited to 2GB.  This would not be too 
hard to fix.  Please file a bug report.  Better yet, attach a patch.

I assume you're running a 64bit JVM.  If so, then MMapDirectory might 
also work well for you.

Doug

zzzzz shalev wrote:
> this is in continuation of a previous email i sent
>    
>   i have a 6gb index containing over 12 million terms.
>    
>   looking at the Lucene code RAMDirectory.java
>    
>   i see an int cast of the index file size, meaning there is a 2GB limit
>    
>   did i miss something?
>    
>   has anyone loaded more then a single 2GB index into RAM ??????
>    
>   thanks,
>    
>    
>    
>    
>    
> 
> 		
> ---------------------------------
> Yahoo! Mail
> Bring photos to life! New PhotoMail  makes sharing a breeze. 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 04:07:30 2006
Return-Path: <java-user-return-19539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19524 invoked from network); 14 Mar 2006 04:07:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 04:07:30 -0000
Received: (qmail 82284 invoked by uid 500); 14 Mar 2006 04:07:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82223 invoked by uid 500); 14 Mar 2006 04:07:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82178 invoked by uid 99); 14 Mar 2006 04:07:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:07:22 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.122.139.27] (HELO rodin.i2r.a-star.edu.sg) (192.122.139.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:07:21 -0800
Received: from rodin.i2r.a-star.edu.sg (localhost [127.0.0.1])
	by rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2E46s8J020830
	for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 12:06:54 +0800 (SGT)
Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2E46sts020827for 
	<java-user@lucene.apache.org>; Tue, 14 Mar 2006 12:06:54 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IW3004WBNFJAF80@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Tue, 14 Mar 2006 12:06:55 +0800 (SGT)
Date: Tue, 14 Mar 2006 12:09:43 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: still question...
In-reply-to: <44163FBD.4020401@apache.org>
To: java-user@lucene.apache.org
Message-id: <001901c6471d$1fbab030$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain;
	charset=utf-8
Content-transfer-encoding: quoted-printable
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:40.42808 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How do I write an index into a bytearrayoutputstream instead of a
directory?


--------------------------------------------------- I=C2=B2R Disclaimer=
 ------------------------------
This email is confidential and may be privileged.  If you are not the=
 intended recipient, please delete it and notify us immediately. Please do=
 not copy or use it for any purpose, or disclose its contents to any other=
 person. Thank you.
---------------------------------------------------------------------------=
----------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 04:46:09 2006
Return-Path: <java-user-return-19540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33178 invoked from network); 14 Mar 2006 04:46:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 04:46:09 -0000
Received: (qmail 17921 invoked by uid 500); 14 Mar 2006 04:46:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17894 invoked by uid 500); 14 Mar 2006 04:46:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17883 invoked by uid 99); 14 Mar 2006 04:46:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:46:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bob.cheung@sirsidynix.com designates 192.150.149.249 as permitted sender)
Received: from [192.150.149.249] (HELO dynix.com) (192.150.149.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:46:03 -0800
Received: from ([10.1.102.55])
	by mx.dynix.com with ESMTP  id 4028803.9456621;
	Mon, 13 Mar 2006 21:45:15 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Sorting in Lucene
Date: Mon, 13 Mar 2006 21:40:49 -0700
Message-ID: <27DC6F1B1943DE42A2BBC21BEC8974DBD62BA2@POSTAL.corp.dynix.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sorting in Lucene
Thread-Index: AcZG/yQdwT4NPh2AQxiESMIPJh9xtwAErLcg
From: "Bob Cheung" <bob.cheung@sirsidynix.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm pretty sure.  The other characters sorted according to the ASCII
sequence.  It's only the slash sorted before the space.  That's why I
wonder whether slash is treated differently.

Btw, this is the statement the sort field is added to the document.

	doc.add(Field.UnIndexed("_s" + sortField, sortableData ));

While I was debugging this statement using Eclipse, I could see what was
in sortableData.  One had "/" and the other a space in the same
position.

Regards,
Bob

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]=20
Sent: Tuesday, March 14, 2006 11:04 AM
To: java-user@lucene.apache.org
Subject: Re: Sorting in Lucene

On 3/13/06, Bob Cheung <bob.cheung@sirsidynix.com> wrote:
> I am curious why the character "/" sorts before the space.
>
> For example,
>
> Apple/banana is good for you.
>
> Sorts before
>
> Apple banana is good for you

Are you sure that the field is untokenized, and that you are sorting
in the correct direction?

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search
Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 04:49:41 2006
Return-Path: <java-user-return-19541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34243 invoked from network); 14 Mar 2006 04:49:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 04:49:41 -0000
Received: (qmail 20082 invoked by uid 500); 14 Mar 2006 04:49:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20049 invoked by uid 500); 14 Mar 2006 04:49:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20038 invoked by uid 99); 14 Mar 2006 04:49:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:49:37 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Mar 2006 20:49:36 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 91D875B76E; Mon, 13 Mar 2006 20:49:07 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7A53E3BA67
	for <java-user@lucene.apache.org>; Mon, 13 Mar 2006 20:49:07 -0800 (PST)
Date: Mon, 13 Mar 2006 20:49:07 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Sorting in Lucene
In-Reply-To: <27DC6F1B1943DE42A2BBC21BEC8974DBD62BA2@POSTAL.corp.dynix.com>
Message-ID: <Pine.LNX.4.58.0603132046540.30477@hal.rescomp.berkeley.edu>
References: <27DC6F1B1943DE42A2BBC21BEC8974DBD62BA2@POSTAL.corp.dynix.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Btw, this is the statement the sort field is added to the document.
:
: 	doc.add(Field.UnIndexed("_s" + sortField, sortableData ));

Um ... only index fields are sortable ... are you sure you are sorting on
the field you think you are?

It's possible that since you are trying to sort on an UnIndexed field,
lucene is happily sorting all of them as if they have the same value (the
empty value) and you are just getting them in docid order instead.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 09:52:55 2006
Return-Path: <java-user-return-19542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72516 invoked from network); 14 Mar 2006 09:52:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 09:52:46 -0000
Received: (qmail 35485 invoked by uid 500); 14 Mar 2006 09:52:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35462 invoked by uid 500); 14 Mar 2006 09:52:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35451 invoked by uid 99); 14 Mar 2006 09:52:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 01:52:38 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.73.2.150] (HELO mx-1.framfab.com) (217.73.2.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 01:52:36 -0800
Received: from seex03.framfab.com (seex03.framfab.com [157.125.32.20])
	by mx-1.framfab.com (Postfix) with ESMTP id 5AEDE3481CC
	for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 11:00:41 +0100 (CET)
Received: from ukex02.framfab.com ([157.125.70.14]) by seex03.framfab.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 14 Mar 2006 10:52:13 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Setting the COMMIT lock timeout.
Date: Tue, 14 Mar 2006 09:52:11 -0000
Message-ID: <40D92B748B99CC43A2F0897B6B2B822E0211DF53@ukex02.framfab.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Setting the COMMIT lock timeout.
Thread-Index: AcZG9RjkdYDRa+EKSdu6JVLMBS171wAVtjlw
From: "Jim Bedford-roberts" <Jim.Bedford-roberts@framfab.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Mar 2006 09:52:13.0184 (UTC) FILETIME=[F814D800:01C6474C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for your prompt response! You ask about the use case. We have a =
series of similar intranet sites, each represented by a separate tomcat =
application instance using the same code base but with different =
start-up parameters. The intranets all provide a common search function =
based on the same underlying index.

Admittedly we could have developed a single central search component, =
but given the way the code has evolved our current approach is simplest =
for us. With separate application instances sharing access to the same =
index we are getting occasional COMMIT lock time outs even while using =
singleton IndexSearchers in each application.=20

-----Original Message-----
From: Daniel Naber [mailto:lucenelist2005@danielnaber.de]=20
Sent: 13 March 2006 23:23
To: java-user@lucene.apache.org
Subject: Re: Setting the COMMIT lock timeout.

On Montag 13 M=E4rz 2006 22:24, Bill Janssen wrote:

> The default value isn't magic. =A0The appropriate value is
> context-specific. =A0I've got some people using Lucene on machines =
with
> slow disks, and we need to be able to increase the WRITE_LOCK_TIMEOUT
> to prevent entirely random lossage.

Here's a patch (I hope it gets through). Let me know if it's okay, I =
will=20
commit it then.

Regards
 Daniel

--=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 12:38:27 2006
Return-Path: <java-user-return-19543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40516 invoked from network); 14 Mar 2006 12:38:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 12:38:26 -0000
Received: (qmail 24102 invoked by uid 500); 14 Mar 2006 12:38:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24076 invoked by uid 500); 14 Mar 2006 12:38:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24065 invoked by uid 99); 14 Mar 2006 12:38:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 04:38:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 04:38:19 -0800
Received: by zproxy.gmail.com with SMTP id l8so514655nzf
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 04:37:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=h1PEyGkbOjhwQY1F7BK0U/Mguf8zGa5ujAzEOA//Q4q78gDIZGIdzHcIxYhjjzhYIrTX/lehBJrSqkFziYWCeDYXFWc/NcWI4AJf9W5SjpMB4b8A7GMDL2DVrOVy6DI9csy97Cw24ZvXPxmdpu+ULu9FQ7UFAKGCMeNEPbf17Os=
Received: by 10.65.212.5 with SMTP id o5mr1023867qbq;
        Tue, 14 Mar 2006 04:37:58 -0800 (PST)
Received: by 10.65.216.2 with HTTP; Tue, 14 Mar 2006 04:37:58 -0800 (PST)
Message-ID: <4f2c7c9b0603140437w2373daadu@mail.gmail.com>
Date: Tue, 14 Mar 2006 20:37:58 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: who can tell me how lucene search in the index files
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12644_21167719.1142339878429"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12644_21167719.1142339878429
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I see there are seven different files with extentions .fnm .tis and etc. I
just can't make sure how it looks up in the .tis file. Does lucene use
Binary-Search to locate the term?

------=_Part_12644_21167719.1142339878429--

From java-user-return-19544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 14:32:31 2006
Return-Path: <java-user-return-19544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10413 invoked from network); 14 Mar 2006 14:32:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 14:32:30 -0000
Received: (qmail 73034 invoked by uid 500); 14 Mar 2006 14:32:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73011 invoked by uid 500); 14 Mar 2006 14:32:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73000 invoked by uid 99); 14 Mar 2006 14:32:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 06:32:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of MadhuV01@unisourcelink.com designates 12.129.97.233 as permitted sender)
Received: from [12.129.97.233] (HELO uwmosmtp1.uninet.unisourcelink.net) (12.129.97.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 06:32:23 -0800
Received: from UWMATLIMC02.uninet.unisourcelink.net ([170.204.13.186]) by uwmosmtp1.uninet.unisourcelink.net with InterScan Messaging Security Suite; Tue, 14 Mar 2006 09:31:50 -0500
Received: from uwmatlgpc01.uninet.unisourcelink.net ([170.204.13.154]) by UWMATLIMC02.uninet.unisourcelink.net with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 14 Mar 2006 09:31:50 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64774.07646038"
Subject: Write.lock error with spellchecker
Date: Tue, 14 Mar 2006 09:31:48 -0500
Message-ID: <09117A73E538B34A9483D157C4690D440E44C171@uwmatlgpc01.uninet.unisourcelink.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Write.lock error with spellchecker
thread-index: AcZHdAbTdqKPGaKtRpGxxLYjhHrw5A==
From: "Madhusudan, Veda \(Norcross, DAV\)" <MadhuV01@UnisourceLink.Com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Mar 2006 14:31:50.0195 (UTC) FILETIME=[07F59030:01C64774]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64774.07646038
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I am trying to use the spellchecker plugin with Lucene 1.2. I get the
following exception when my SpellIndexer class tries to create the spell
index. The new directory is being created with all the correct
permissions. There is no write.lock file being created. Has someone run
into similar issue? Does this have to do with lucene1.2?

=20

Exception in thread "main" java.io.IOException: couldn't delete
write.lock

        at org.apache.lucene.store.FSDirectory.deleteFile(Unknown
Source)

        at org.apache.lucene.index.IndexReader.unlock(Unknown Source)

        at
org.apache.lucene.search.spell.SpellChecker.indexDictionnary(Unknown
Source)

        at
com.unisource.ecom.search.lucene.SpellIndexer.createSpellIndex(SpellInde
xer.java:35)

        at
com.unisource.ecom.search.lucene.SpellIndexer.main(SpellIndexer.java:56)

=20

Thanks,

Veda


------_=_NextPart_001_01C64774.07646038--

From java-user-return-19545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 16:27:33 2006
Return-Path: <java-user-return-19545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80926 invoked from network); 14 Mar 2006 16:27:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 16:27:32 -0000
Received: (qmail 10363 invoked by uid 500); 14 Mar 2006 16:27:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9949 invoked by uid 500); 14 Mar 2006 16:27:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9938 invoked by uid 99); 14 Mar 2006 16:27:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 08:27:26 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of miki.y.sun@gmail.com designates 66.249.82.205 as permitted sender)
Received: from [66.249.82.205] (HELO xproxy.gmail.com) (66.249.82.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 08:27:24 -0800
Received: by xproxy.gmail.com with SMTP id s13so1078211wxc
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 08:27:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=dJhKdn/d+yMjS6+B6Yf7PUyGiwQpPu9Mt/v6SMtuNEkinsYiCNYytwcG8Ca755u2nvsav9JkbdfF/xmWvRHE5uj63hYw1Jfzpg6e5m3ycikbr4+t6p6OKmVWTBBEDzPa8VcNTjp2RV9a5qBJPtl9pT6Cm5nsDQZwz+iYUedAtf8=
Received: by 10.70.29.19 with SMTP id c19mr4570378wxc;
        Tue, 14 Mar 2006 08:27:04 -0800 (PST)
Received: by 10.70.128.9 with HTTP; Tue, 14 Mar 2006 08:27:04 -0800 (PST)
Message-ID: <2cbd3e940603140827m7e35fb40u@mail.gmail.com>
Date: Tue, 14 Mar 2006 16:27:04 +0000
From: "Miki Sun" <miki.y.sun@gmail.com>
To: java-user@lucene.apache.org
Subject: IndexFiles.java
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hiya

I am a beginner of Lucene. I try to use IndexFiles.java to index my
text file directories, but it does not work. It always give me this
error message even when I comment it out:

Usage: java org.apache.lucene.demo.IndexFiles <root_directory>

What does "if (args.length =3D=3D 0) " mean?

Thanks

Miki

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 16:28:25 2006
Return-Path: <java-user-return-19546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81463 invoked from network); 14 Mar 2006 16:28:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 16:28:25 -0000
Received: (qmail 13088 invoked by uid 500); 14 Mar 2006 16:28:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13064 invoked by uid 500); 14 Mar 2006 16:28:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13053 invoked by uid 99); 14 Mar 2006 16:28:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 08:28:19 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jprogramista@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO zproxy.gmail.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 08:28:18 -0800
Received: by zproxy.gmail.com with SMTP id n1so1631189nzf
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 08:27:58 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=hamFt5/6wxlk2U6W9khQFXO+RZNiBsZjdcrtxPdAqM63WxxjTp8O1H2SiH+Eu3UzAXhtmbcZKNZgg4sNOEz51/4uOgUfM3rAK6SwGa4FGYcmhtlAsWWSqxyQJ29xxle+J5v/t32UnAzM49Dg8vW8VtsX0FDz90eGClsWS0v6dBk=
Received: by 10.35.99.5 with SMTP id b5mr822990pym;
        Tue, 14 Mar 2006 08:27:58 -0800 (PST)
Received: by 10.35.18.11 with HTTP; Tue, 14 Mar 2006 08:27:58 -0800 (PST)
Message-ID: <af75a3a20603140827y1f8100e2k393cb25f7280550a@mail.gmail.com>
Date: Tue, 14 Mar 2006 17:27:58 +0100
From: "Java Programmer" <jprogramista@gmail.com>
To: java-user@lucene.apache.org
Subject: Searching in paths
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9247_1373065.1142353678131"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9247_1373065.1142353678131
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello,
I have problem with indexing / quering paths eg I put
"/home/users/apache/txt/qqq__docu.txt" in field called "path", I wanted to
submit query to find all documents which are provided by my user apache, so
i tried to query Lucene as AND path:/home/users/* but not results were find
by such query if I asked any other field without / the results are provided
eg AND title natio*.
Where am I doing mistake? What I can do to ask for paths (and all what is
below of them)?

Best Regards,
Adr

------=_Part_9247_1373065.1142353678131--

From java-user-return-19547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 17:43:20 2006
Return-Path: <java-user-return-19547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30189 invoked from network); 14 Mar 2006 17:43:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 17:43:19 -0000
Received: (qmail 61713 invoked by uid 500); 14 Mar 2006 17:43:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61683 invoked by uid 500); 14 Mar 2006 17:43:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61672 invoked by uid 99); 14 Mar 2006 17:43:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 09:43:14 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 14 Mar 2006 09:43:13 -0800
Received: (qmail 58080 invoked by uid 60001); 14 Mar 2006 17:42:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=StEm8QVM7u76Vw+zM1x4G/ryS/LJbwoAnjPNwdMgCEoGQ6OAFdx/kwE1Ns2QBmIwmZzSIIj4xhg/cYR+rLMvwInOl+zznHnrUhrpMpB/KHAAQXLmMPAjsb7qcgmMpRkKtvxkfHfTQSfqhVh7vnPTjbh3e45rjP9u1Bwycv120/I=  ;
Message-ID: <20060314174252.58073.qmail@web50311.mail.yahoo.com>
Date: Tue, 14 Mar 2006 09:42:52 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexFiles.java
To: java-user@lucene.apache.org
In-Reply-To: <2cbd3e940603140827m7e35fb40u@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It looks like you are not specifying the directory you want to index.

Otis

----- Original Message ----
From: Miki Sun <miki.y.sun@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, March 14, 2006 11:27:04 AM
Subject: IndexFiles.java

Hiya

I am a beginner of Lucene. I try to use IndexFiles.java to index my
text file directories, but it does not work. It always give me this
error message even when I comment it out:

Usage: java org.apache.lucene.demo.IndexFiles <root_directory>

What does "if (args.length == 0) " mean?

Thanks

Miki

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 17:48:08 2006
Return-Path: <java-user-return-19548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32562 invoked from network); 14 Mar 2006 17:48:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 17:48:06 -0000
Received: (qmail 72416 invoked by uid 500); 14 Mar 2006 17:48:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71858 invoked by uid 500); 14 Mar 2006 17:48:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71847 invoked by uid 99); 14 Mar 2006 17:48:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 09:48:00 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of miki.y.sun@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 09:47:58 -0800
Received: by xproxy.gmail.com with SMTP id i31so1103818wxd
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 09:47:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=n5t0grceC6ZyapvKtsh9KQg4KIpLk+PgNt6ikq683RnFX+bA3meFuWe92+zBqBw7tiwy4SL8ylUdqnmm7WdbxhFIvHjDlwUstNDI9GLf3vbJbmEzNB/Xke9WMPpmZtzD5aJ18Sryh5nmOVmI+6z2uLlvMwnieFLQxo/IMf/Z5e8=
Received: by 10.70.125.9 with SMTP id x9mr4760478wxc;
        Tue, 14 Mar 2006 09:47:37 -0800 (PST)
Received: by 10.70.128.9 with HTTP; Tue, 14 Mar 2006 09:47:37 -0800 (PST)
Message-ID: <2cbd3e940603140947s5be6115ap@mail.gmail.com>
Date: Tue, 14 Mar 2006 17:47:37 +0000
From: "Miki Sun" <miki.y.sun@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: IndexFiles.java
In-Reply-To: <20060314174252.58073.qmail@web50311.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <2cbd3e940603140827m7e35fb40u@mail.gmail.com>
	 <20060314174252.58073.qmail@web50311.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think I did. I modified these code:

//creat a directory to write the indices to
static final File INDEX_DIR =3D new File(File.separator + "Bible_index");

//specify the directory to be indexed
final File docDir =3D new File(File.separator + "Bible/1/");

Whereever else should I change?

Thanks a lot!

On 14/03/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> It looks like you are not specifying the directory you want to index.
>
> Otis
>
> ----- Original Message ----
> From: Miki Sun <miki.y.sun@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, March 14, 2006 11:27:04 AM
> Subject: IndexFiles.java
>
> Hiya
>
> I am a beginner of Lucene. I try to use IndexFiles.java to index my
> text file directories, but it does not work. It always give me this
> error message even when I comment it out:
>
> Usage: java org.apache.lucene.demo.IndexFiles <root_directory>
>
> What does "if (args.length =3D=3D 0) " mean?
>
> Thanks
>
> Miki
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
* * * * * * * * * * * * * * * * * * * * * * * * * * * * *
Smartweb Technologies Centre
School of Computing
St Andrew Street
Aberdeen AB25 1HG
Tel: +44 (0)1224 - 262479
Web: http://athena.comp.rgu.ac.uk/staff/ms/
* * * * * * * * * * * * * * * * * * * * * * * * * * * * *

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 17:51:30 2006
Return-Path: <java-user-return-19549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34007 invoked from network); 14 Mar 2006 17:51:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 17:51:30 -0000
Received: (qmail 74149 invoked by uid 500); 14 Mar 2006 17:51:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74126 invoked by uid 500); 14 Mar 2006 17:51:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74115 invoked by uid 99); 14 Mar 2006 17:51:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 09:51:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of scanlonj@gmail.com designates 64.233.184.204 as permitted sender)
Received: from [64.233.184.204] (HELO wproxy.gmail.com) (64.233.184.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 09:51:22 -0800
Received: by wproxy.gmail.com with SMTP id i14so1291799wra
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 09:51:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=LpW8GAZyL9uGAxV+5YSFoHs49gfk/XnznRx5lgYn8ZPh+HA4QeGhCkAcZT3dK5VHQHhag3Frat1lTGG+q725H69Yc7ayw0JkSYBs9Yo6WJhtR76enA0ZQzpHxULguqHXtIlP6QFEvTockyZNXQeMX+sGs+n8qdD/PTZfhWCDTpc=
Received: by 10.35.89.10 with SMTP id r10mr804778pyl;
        Tue, 14 Mar 2006 09:51:02 -0800 (PST)
Received: by 10.35.123.17 with HTTP; Tue, 14 Mar 2006 09:51:02 -0800 (PST)
Message-ID: <f664c96d0603140951l1dbdf3e6q9cb2fca59709a72d@mail.gmail.com>
Date: Tue, 14 Mar 2006 12:51:02 -0500
From: "Joe Scanlon" <scanlonj@gmail.com>
Reply-To: scanlonj@gmail.com
To: java-user@lucene.apache.org
Subject: Re: IndexFiles.java
In-Reply-To: <2cbd3e940603140947s5be6115ap@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1519_1059696.1142358662261"
References: <2cbd3e940603140827m7e35fb40u@mail.gmail.com>
	 <20060314174252.58073.qmail@web50311.mail.yahoo.com>
	 <2cbd3e940603140947s5be6115ap@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1519_1059696.1142358662261
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

you need to specify it from the command line

ie, java org.apache.lucene.demo.IndexFile 'type in your starting directory
here'


On 3/14/06, Miki Sun <miki.y.sun@gmail.com> wrote:
>
> I think I did. I modified these code:
>
> //creat a directory to write the indices to
> static final File INDEX_DIR =3D new File(File.separator + "Bible_index");
>
> //specify the directory to be indexed
> final File docDir =3D new File(File.separator + "Bible/1/");
>
> Whereever else should I change?
>
> Thanks a lot!
>
> On 14/03/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> > It looks like you are not specifying the directory you want to index.
> >
> > Otis
> >
> > ----- Original Message ----
> > From: Miki Sun <miki.y.sun@gmail.com>
> > To: java-user@lucene.apache.org
> > Sent: Tuesday, March 14, 2006 11:27:04 AM
> > Subject: IndexFiles.java
> >
> > Hiya
> >
> > I am a beginner of Lucene. I try to use IndexFiles.java to index my
> > text file directories, but it does not work. It always give me this
> > error message even when I comment it out:
> >
> > Usage: java org.apache.lucene.demo.IndexFiles <root_directory>
> >
> > What does "if (args.length =3D=3D 0) " mean?
> >
> > Thanks
> >
> > Miki
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> --
> * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
> Smartweb Technologies Centre
> School of Computing
> St Andrew Street
> Aberdeen AB25 1HG
> Tel: +44 (0)1224 - 262479
> Web: http://athena.comp.rgu.ac.uk/staff/ms/
> * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1519_1059696.1142358662261--

From java-user-return-19550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 17:55:18 2006
Return-Path: <java-user-return-19550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37143 invoked from network); 14 Mar 2006 17:55:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 17:55:18 -0000
Received: (qmail 79761 invoked by uid 500); 14 Mar 2006 17:55:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79729 invoked by uid 500); 14 Mar 2006 17:55:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79718 invoked by uid 99); 14 Mar 2006 17:55:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 09:55:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of miki.y.sun@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 09:55:11 -0800
Received: by xproxy.gmail.com with SMTP id s19so1075437wxc
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 09:54:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=fyqNWXbchRCTabet9K+Ca7DG+GdKjmu5dvkPe1Kif0ZBFr6740AYU6AqdywXv1zVPWNy28jcN7v3JKsJoSfudon0r2DCCfXU6ZpwAuLDFvHHlFdS4x93mnCqHfyKc2c2oSYI1mMwTsvrYMgMQPDP04Olu/zPsujdYGaAVxBC8BM=
Received: by 10.70.29.19 with SMTP id c19mr4686701wxc;
        Tue, 14 Mar 2006 09:54:50 -0800 (PST)
Received: by 10.70.128.9 with HTTP; Tue, 14 Mar 2006 09:54:50 -0800 (PST)
Message-ID: <2cbd3e940603140954n7332cd38g@mail.gmail.com>
Date: Tue, 14 Mar 2006 17:54:50 +0000
From: "Miki Sun" <miki.y.sun@gmail.com>
To: java-user@lucene.apache.org, scanlonj@gmail.com
Subject: Re: IndexFiles.java
In-Reply-To: <f664c96d0603140951l1dbdf3e6q9cb2fca59709a72d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <2cbd3e940603140827m7e35fb40u@mail.gmail.com>
	 <20060314174252.58073.qmail@web50311.mail.yahoo.com>
	 <2cbd3e940603140947s5be6115ap@mail.gmail.com>
	 <f664c96d0603140951l1dbdf3e6q9cb2fca59709a72d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How do you do it using Kawa? I am not familar with command line operations.

Thanks

On 14/03/06, Joe Scanlon <scanlonj@gmail.com> wrote:
> you need to specify it from the command line
>
> ie, java org.apache.lucene.demo.IndexFile 'type in your starting director=
y
> here'
>
>
> On 3/14/06, Miki Sun <miki.y.sun@gmail.com> wrote:
> >
> > I think I did. I modified these code:
> >
> > //creat a directory to write the indices to
> > static final File INDEX_DIR =3D new File(File.separator + "Bible_index"=
);
> >
> > //specify the directory to be indexed
> > final File docDir =3D new File(File.separator + "Bible/1/");
> >
> > Whereever else should I change?
> >
> > Thanks a lot!
> >
> > On 14/03/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> > > It looks like you are not specifying the directory you want to index.
> > >
> > > Otis
> > >
> > > ----- Original Message ----
> > > From: Miki Sun <miki.y.sun@gmail.com>
> > > To: java-user@lucene.apache.org
> > > Sent: Tuesday, March 14, 2006 11:27:04 AM
> > > Subject: IndexFiles.java
> > >
> > > Hiya
> > >
> > > I am a beginner of Lucene. I try to use IndexFiles.java to index my
> > > text file directories, but it does not work. It always give me this
> > > error message even when I comment it out:
> > >
> > > Usage: java org.apache.lucene.demo.IndexFiles <root_directory>
> > >
> > > What does "if (args.length =3D=3D 0) " mean?
> > >
> > > Thanks
> > >
> > > Miki
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
> > --
> > * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
> > Smartweb Technologies Centre
> > School of Computing
> > St Andrew Street
> > Aberdeen AB25 1HG
> > Tel: +44 (0)1224 - 262479
> > Web: http://athena.comp.rgu.ac.uk/staff/ms/
> > * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>


--
* * * * * * * * * * * * * * * * * * * * * * * * * * * * *
Smartweb Technologies Centre
School of Computing
St Andrew Street
Aberdeen AB25 1HG
Tel: +44 (0)1224 - 262479
Web: http://athena.comp.rgu.ac.uk/staff/ms/
* * * * * * * * * * * * * * * * * * * * * * * * * * * * *

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 18:10:10 2006
Return-Path: <java-user-return-19551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45357 invoked from network); 14 Mar 2006 18:10:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 18:10:10 -0000
Received: (qmail 4424 invoked by uid 500); 14 Mar 2006 18:10:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4399 invoked by uid 500); 14 Mar 2006 18:10:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4387 invoked by uid 99); 14 Mar 2006 18:10:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 10:10:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 10:10:01 -0800
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id k2EI9e81005386
	for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 13:09:40 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IW400L01QG4Q3@lmco.com> for java-user@lucene.apache.org; Tue, 14 Mar 2006 13:09:40 -0500 (EST)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IW4006S2QG4JH@lmco.com> for java-user@lucene.apache.org; Tue, 14 Mar 2006 13:09:40 -0500 (EST)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 14 Mar 2006 13:09:40 -0500
Date: Tue, 14 Mar 2006 13:09:39 -0500
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Searching in paths
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3AD0@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Searching in paths
Thread-Index: AcZHhFeUyzSaIseGSAqlsWyyKl34eQADgHEw
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 14 Mar 2006 18:09:40.0228 (UTC) FILETIME=[764E5440:01C64792]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You need to index the field as a keyword, or use an analyzer that will
not strip the / from the string

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: Java Programmer [mailto:jprogramista@gmail.com] 
Sent: Tuesday, March 14, 2006 11:28 AM
To: java-user@lucene.apache.org
Subject: Searching in paths

Hello,
I have problem with indexing / quering paths eg I put
"/home/users/apache/txt/qqq__docu.txt" in field called "path", I wanted
to submit query to find all documents which are provided by my user
apache, so i tried to query Lucene as AND path:/home/users/* but not
results were find by such query if I asked any other field without / the
results are provided eg AND title natio*.
Where am I doing mistake? What I can do to ask for paths (and all what
is below of them)?

Best Regards,
Adr



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 19:37:06 2006
Return-Path: <java-user-return-19552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91931 invoked from network); 14 Mar 2006 19:37:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 19:37:05 -0000
Received: (qmail 35384 invoked by uid 500); 14 Mar 2006 19:37:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35166 invoked by uid 500); 14 Mar 2006 19:37:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35153 invoked by uid 99); 14 Mar 2006 19:37:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 11:37:00 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 11:36:59 -0800
Received: (qmail 23270 invoked from network); 14 Mar 2006 19:36:36 -0000
Received: from unknown (HELO p5496d261.dip.t-dialin.net) ([pbs]695637@[84.150.210.97])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 14 Mar 2006 19:36:36 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Setting the COMMIT lock timeout.
Date: Tue, 14 Mar 2006 20:37:39 +0100
User-Agent: KMail/1.8.2
References: <40D92B748B99CC43A2F0897B6B2B822E0211DF53@ukex02.framfab.com>
In-Reply-To: <40D92B748B99CC43A2F0897B6B2B822E0211DF53@ukex02.framfab.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603142037.39368@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 14 M=C3=A4rz 2006 10:52, Jim Bedford-roberts wrote:

> Admittedly we could have developed a single central search component,
> but given the way the code has evolved our current approach is simplest
> for us. With separate application instances sharing access to the same
> index we are getting occasional COMMIT lock time outs even while using
> singleton IndexSearchers in each application.

Have you already tried using Lucene 1.9 without my patch? Because there was=
=20
another bug in 1.4 that made the default timeout not work. From the=20
changelog:

7. Getting a lock file with Lock.obtain(long) was supposed to wait for
    a given amount of milliseconds, but this didn't work.
    (John Wang via Daniel Naber, Bug #33799)

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 20:34:52 2006
Return-Path: <java-user-return-19553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28130 invoked from network); 14 Mar 2006 20:34:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 20:34:51 -0000
Received: (qmail 20776 invoked by uid 500); 14 Mar 2006 20:34:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20457 invoked by uid 500); 14 Mar 2006 20:34:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20446 invoked by uid 99); 14 Mar 2006 20:34:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 12:34:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 12:34:43 -0800
Received: by wproxy.gmail.com with SMTP id i24so1506016wra
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 12:34:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=IjB5Lemhzo9/VbXS2dKs29g3+LxkX2etPfVizRmHO7jdPmbIz8HFtzxuwDV9G1dhlHTGAlvEvKh6TpKCclolsOUBT4yT+5jVg5DPCUOHnRD4q36b7XgsJvUOmDmL5///zOvoOSgovWzYNEC/fLlJlvqjOFGKKzoHtDzjskTJIK4=
Received: by 10.54.122.13 with SMTP id u13mr855962wrc;
        Tue, 14 Mar 2006 12:34:22 -0800 (PST)
Received: by 10.54.123.8 with HTTP; Tue, 14 Mar 2006 12:34:22 -0800 (PST)
Message-ID: <e994873a0603141234n44179c35of8564199a45bfb0f@mail.gmail.com>
Date: Tue, 14 Mar 2006 15:34:22 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org, kent.fitch <kent.fitch@projectcomputing.com>
Subject: Re: Good MMapDirectory performance
In-Reply-To: <20060313025744.18818.qmail@station174.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_955_1146895.1142368462605"
References: <20060313025744.18818.qmail@station174.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_955_1146895.1142368462605
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

- I read from Peter Keegan's recent postings:
- "The Lucene server is using MMapDirectory. I'm running
-  the jvm with -Xmx16000M. Peak memory usage of the jvm
-  on Linux is about 6GB and 7.8GB on windows."
- We don't have nearly as much memory as Peter but I
- wonder whether he is gaining anything with such
- a large heap.

My application gets better throughput with more VM, but that is probably du=
e
to heavy use of ByteBuffers in the application, not VM for Lucene.

Peter



On 3/12/06, kent.fitch <kent.fitch@projectcomputing.com> wrote:
>
> I thought I'd post some good news about MMapDirectory as
> the comments in the release notes are quite downbeat about
> its performance.  In some environments MMapDirectory
> provides a big improvement.
>
> Our test application is an index of 11.4 million
> documents which are derived from MARC (bibliographic)
> catalogue records.  Our aim is to build a system
> to demonstrate relevance ranking and result clustering
> for library union catalogue searching (a "union"
> catalogue accumulates/merges records from multiple
> ibraries).
>
> Our main index component sizes:
> fdt 17GB
> fdx 91MB
> tis 82MB
> frq 45MB
> prx 11MB
> tii 1.2 MB
>
> We have a separate Lucence index (not discussed further)
> which stores the MARC records.
>
> Each document has many fields.   We'll probably reduce the
> number after we decide on the best search strategies, but
> lots of fields gives us lots of flexability whilst testing
> search and ranking strategies.
>
> Stored and unindexed fields, used for summary results:
>   display title
>   display author
>   display publication details
>   holdingsCount (number of libraries holding)
>
> Tokenized indices:
>   title
>   author
>   subject
>   genre
>   keyword (all text)
>
> Keyword (untokenized) indices:
>   title
>   author
>   subject
>   genre
>   audience
>   Dewey/LC classification
>   language
>   isbn/issn
>   publication date (date range code)
>   unique bibliographic id
>
> "Wildcard" Tokenized indices created by a custom "stub"
> analyzer which reduces a term to its first few characters:
>   title
>   author
>   subject
>   keyword
>
> Field boosts are set for some fields.  For example, "title"
> "sub title", "series title", "component title" are all
> stored as "title" but with different field boosts (as a
> match on normal title is deemed more relevant than a match
> on series title).
>
> The document boost is set to the sqrt of the holdingsCount
> (favouring "popular" resources).
>
> The user interface supports searching and refining searches
> on specific fields but the most common search is created
> from a single google style search box.  Here's a typical
> query generated from a 2 word search:
>
> +(titleWords:"franz kafka^4.0"
>   authorWords:"franz kafka^3.0"
>   subjectWords:"franz kafka^3.0"
>   keywords:"franz kafka^1.4"
>   title:franz kafka^4.0
>   (+titleWords:franz +titleWords:kafka^3.0)
>   author:franz kafka^3.0
>   +authorWords:franz +authorWords:kafka^2.0)
>   subject:franz kafka^3.0
>   (+subjectWords:franz +subjectWords:kafka^1.5)
>   (+genreWords:franz +genreWords:kafka^2.0)
>   (+keywords:franz +keywords:kafka)
>   (+titleWildcard:fra +titleWildcard:kaf^0.7)
>   (+authorWildcard:fra +authorWildcard:kaf^0.7)
>   (+subjectWildcard:fra +subjectWildcard:kaf^0.7)
>   (+keywordWildcard:fra +keywordWildcard:kaf^0.2)
> )
>
> It generated 1635 hits.  We then read the first 700
> documents in the hit list and extract the date, subject,
> author, genre, Dewey/LC classification and audience
> fields for each, accumulating the popularity of each.
>
> Using this data, for each of the subject, author, genre,
> Dewey/LC and audience categories, we find the 30 most
> popular field values and for each of these we query the
> index to find their frequency in the entire index.
>
> We then render the first 100 document results (title,
> author, publication details, holdings) and the top 30
> for each of subject, author, genre, Dewey/KC and audience,
> ordering each list by the popularity of the term in the
> hit results (sample of the first 700) and rendering the
> size of the text based on the frequency of the term in
> the entire database (a bit like the Flickr tag popularity
> lists).  We also render a graph of hit results by date
> range.
>
> The initial search is very quick - typically a small
> number of tens of millsecs.  The "clustering" takes
> much longer - reading up to 700 records, extracting
> all those fields, sorting to get the top 30 of each
> field category, looking up the frequency of each term
> in the database.
>
> The test machine was a SunFire440 with 2 x 1.593GHz
> UltraSPARC-IIIi processors and 8GB of memory running
> Solaris 9, Java 1.5 in 64 bit mode, Jetty. The Lucene data
> directory is stored on a local 10K SCSI disk.
>
> The benchmark consisted of running 13,142 representative
> and unique search phrases collected from another system.
> The search phrases are unsorted.  The client (testing)
> system is run on another unloaded computer and was
> configured to run a varying number of threads representing
> different loads.  The results discussed here were
> produced with 3 threads - 3 simultaneous requests
> and the response rates are as seen by the client at
> the completion of the request when the last byte of
> the response is received.
>
> The Jetty/Lucene JVM was run with:
> -ms1200M -mx1200M -d64 -server  -verbose:gc
> The JVM (and file cache!) were "warmed up" with
> a first pass before results were recorded.
>
> The first test was run with Lucene 1.4.1 and achieved
> 3.3 responses/sec. (The time to generate the response
> includes the Jetty "client" time to process and render
> the result).  CPU Utilisation was low (typically <=3D 40%),
> but IO rates were not very high.  We mirrored the
> disk and achieved 3.7 responses/sec, but still CPU
> utilisation rarely went over 50%.
>
> We moved to Lucene 1.5.1 and with the same configuration
> (mirrored) achieved 3.6 responses/sec.
>
> We then set the parameter:
> -
> Dorg.apache.lucene.FSDirectory.class=3Dorg.apache.lucene.store.MMapDirect=
ory
> to use MMapDirectory and achieved 8.1 responses/sec
> with very high CPU utilisation (over 90%).  Running
> a separate (unseen) set of 10,743 search terms without
> a "warm up" achieved 7.8 responses/sec.
>
> With 3 simultaneous requests the total response time
> profile as recorded at the client was:
>
> < 200ms for 40% of requests
> < 500ms for 80% of requests
> < 800ms for 90% of requests.
>
> I read from Peter Keegan's recent postings:
> "The Lucene server is using MMapDirectory. I'm running
> the jvm with -Xmx16000M. Peak memory usage of the jvm
> on Linux is about 6GB and 7.8GB on windows."
>
> We don't have nearly as much memory as Peter but I
> wonder whether he is gaining anything with such
> a large heap.  The file buffers allocated via MMap
> reside outside the JVM heap.  We notice that although
> our JVM heap is 1.2GB max (and regularly reduces
> to ~400MB after GC), the process expands to use all
> available memory with MMap, and a big Java heap
> means less memory for MMap to use(?).
>
> We are very happy with Lucene/MMAP performance given the
> extensive processing undertaken for the result clustering.
>
> Kent Fitch
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_955_1146895.1142368462605--

From java-user-return-19554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 14 22:20:42 2006
Return-Path: <java-user-return-19554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90825 invoked from network); 14 Mar 2006 22:20:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Mar 2006 22:20:42 -0000
Received: (qmail 67862 invoked by uid 500); 14 Mar 2006 22:20:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67835 invoked by uid 500); 14 Mar 2006 22:20:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67823 invoked by uid 99); 14 Mar 2006 22:20:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 14:20:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 14:20:33 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id A2DE5B735C
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 09:20:08 +1100 (EST)
Message-ID: <441741CB.5030405@nuix.com.au>
Date: Wed, 15 Mar 2006 09:20:59 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: who can tell me how lucene search in the index files
References: <4f2c7c9b0603140437w2373daadu@mail.gmail.com>
In-Reply-To: <4f2c7c9b0603140437w2373daadu@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hu andy wrote:
> I see there are seven different files with extentions .fnm .tis and etc. I
> just can't make sure how it looks up in the .tis file. Does lucene use
> Binary-Search to locate the term?

See TermInfosReader.

It loads the .tii file into memory, which contains one in every N 
entries of the .tis file and points into the real locations in the .tis 
file.

When Lucene looks for a term, it does a binary search through this 
reduced index to find which segment of the .tis file the term is in, and 
then scans through the .tis file linearly until it finds the term.

Daniel

-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 03:29:35 2006
Return-Path: <java-user-return-19555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17303 invoked from network); 15 Mar 2006 03:29:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 03:29:35 -0000
Received: (qmail 66712 invoked by uid 500); 15 Mar 2006 03:29:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66678 invoked by uid 500); 15 Mar 2006 03:29:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66662 invoked by uid 99); 15 Mar 2006 03:29:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 19:29:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 19:29:28 -0800
Received: by xproxy.gmail.com with SMTP id t14so16474wxc
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 19:29:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=HTb+IQ8KYfUT7nZ3rw7Bag/tD4CM91bRFgzybIsNYHc7T4dyg1QBdJLkIx1ff2BDR1MYGXcHWkQIL52DqFyhb6bCqNkfxsmb2EeaLM79FKs7aGBqpu6/o8l/kq4eXX5Qqjg5s5qSYZlDPMk/YnFYleJrlSvYudiuxB6iI0lP2tA=
Received: by 10.70.21.7 with SMTP id 7mr102107wxu;
        Tue, 14 Mar 2006 19:29:07 -0800 (PST)
Received: by 10.70.12.4 with HTTP; Tue, 14 Mar 2006 19:29:07 -0800 (PST)
Message-ID: <277d4c5d0603141929o61fa03duf1617b6764a13ab7@mail.gmail.com>
Date: Wed, 15 Mar 2006 11:29:07 +0800
From: jason <gingerons@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: Add a module to the lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3977_11507848.1142393347911"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3977_11507848.1142393347911
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Can we add a module to lucene so that we are able to use our own similarity
measure to calculate the similarity between documents and queries? As lucen=
e
has defined its own measure, we can do few with it.

Considering the documents and queries represented as the vectors, we only
need one class to read the vectors and use our own defined measure to
calculate their similarity.

How do you think of it?

regards
jason

------=_Part_3977_11507848.1142393347911--

From java-user-return-19556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 03:55:26 2006
Return-Path: <java-user-return-19556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32123 invoked from network); 15 Mar 2006 03:55:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 03:55:26 -0000
Received: (qmail 91262 invoked by uid 500); 15 Mar 2006 03:55:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91233 invoked by uid 500); 15 Mar 2006 03:55:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91222 invoked by uid 99); 15 Mar 2006 03:55:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 19:55:20 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_MESSAGE,PLING_PLING,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO xproxy.gmail.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 19:55:20 -0800
Received: by xproxy.gmail.com with SMTP id h27so19275wxd
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 19:54:59 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=VWFURc9VHSoCEmn8/EyYnAYybF0mSEHc7MZ63WlthHM28doU8tUdvf2Xodvi7Y1fo0N2P5jrhTiXyEqRdxHTr5fBDTpIWGOlE/AOlT9niO+AJY/3TVjDQ9yMty/yU8K9H0ZxmydSTTub1P1nA1jPtSRuU6Q66XllR9ClViEZniY=
Received: by 10.70.16.7 with SMTP id 7mr143919wxp;
        Tue, 14 Mar 2006 19:54:58 -0800 (PST)
Received: by 10.70.12.4 with HTTP; Tue, 14 Mar 2006 19:54:58 -0800 (PST)
Message-ID: <277d4c5d0603141954w464d21e3ia45190d9f88dbec7@mail.gmail.com>
Date: Wed, 15 Mar 2006 11:54:58 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Add a module to the lucene!!!
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4113_24650539.1142394898858"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4113_24650539.1142394898858
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

 Hi,

Can we add a module to lucene so that we are able to use our own similarity
measure to calculate the similarity between documents and queries? As lucen=
e
has defined its own measure, we can do few with it.

Considering the documents and queries represented as the vectors, we only
need one class to read the vectors and use our own defined measure to
calculate their similarity.

How do you think of it?

regards
jason

------=_Part_4113_24650539.1142394898858--

From java-user-return-19557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 05:32:26 2006
Return-Path: <java-user-return-19557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59829 invoked from network); 15 Mar 2006 05:32:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 05:32:26 -0000
Received: (qmail 73268 invoked by uid 500); 15 Mar 2006 05:32:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73238 invoked by uid 500); 15 Mar 2006 05:32:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73227 invoked by uid 99); 15 Mar 2006 05:32:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 21:32:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 21:32:20 -0800
Received: by xproxy.gmail.com with SMTP id s10so31204wxc
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 21:31:59 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=WIFSXqxM/YDjPVn/oMBKngkEHLTYrdB+YfmXwS+J/GJSrAvGXj24Vdf8fifD6vRD2b2JI/v0KO2OUzY9TT1sSI912bi890Mi5UdbhM/NNsB5XWdBhf0Vv9Pd8XQe2/k5mU68+UqJOdnNO4yNsMH7egR3iBbxE2hJDxS3DP8U5hc=
Received: by 10.70.11.13 with SMTP id 13mr217113wxk;
        Tue, 14 Mar 2006 21:31:58 -0800 (PST)
Received: by 10.70.12.4 with HTTP; Tue, 14 Mar 2006 21:31:58 -0800 (PST)
Message-ID: <277d4c5d0603142131y6d36e4fx6a0822d1e662a523@mail.gmail.com>
Date: Wed, 15 Mar 2006 13:31:58 +0800
From: jason <gingerons@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: Add more module to the lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4985_7519126.1142400718683"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4985_7519126.1142400718683
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Can we add more module to the lucene so that we can easily use our own
measures to calculate similarity between documents and queries? I have read
some codes of the original lucene, i dont think it is easy to change the
similarity measure used. But i think we can build a module which can read
the vectors of documents from the index structure. Then, we can use our own
similarity measures.


FYI.

Regards

jason.

------=_Part_4985_7519126.1142400718683--

From java-user-return-19558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 06:37:53 2006
Return-Path: <java-user-return-19558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85703 invoked from network); 15 Mar 2006 06:37:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 06:37:53 -0000
Received: (qmail 19369 invoked by uid 500); 15 Mar 2006 06:37:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18927 invoked by uid 500); 15 Mar 2006 06:37:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18915 invoked by uid 99); 15 Mar 2006 06:37:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 22:37:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Mar 2006 22:37:46 -0800
Received: by zproxy.gmail.com with SMTP id s1so55425nze
        for <java-user@lucene.apache.org>; Tue, 14 Mar 2006 22:37:25 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=ScB/iqtwa8YnbVOG918ssq+VgmuKuCtZByLBJ98Wp0Jz0m/5TiETDKCTvWOxyiwHPGAAvXa5yTACGEThTt9mXopTCBQN3DBWlCBf7ppm6JxlfH1q8TCFHGxl+8QnmQFjRvJV55HMEVbLpG6Ha6kPEfOlVMhyKWgnXqNIQAOiXzQ=
Received: by 10.35.105.18 with SMTP id h18mr180484pym;
        Tue, 14 Mar 2006 22:37:25 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Tue, 14 Mar 2006 22:37:25 -0800 (PST)
Message-ID: <f13b62210603142237t3b2eb016r60f63aa898d63d06@mail.gmail.com>
Date: Wed, 15 Mar 2006 12:07:25 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: lucene query analysis
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3755_24140499.1142404645445"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3755_24140499.1142404645445
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

The problem which i am facing is that the query is Case Sensitive

If i type in BIG letters i am not able to see answers and if  i type in
small letters i am able to see results

Is there anything by which i can do a case conversion

Now i am using a WhiteSpaceAnalyser . What Analyser should change it to ?


Rgds
Prabhu

------=_Part_3755_24140499.1142404645445--

From java-user-return-19559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 08:25:03 2006
Return-Path: <java-user-return-19559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48458 invoked from network); 15 Mar 2006 08:24:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 08:24:45 -0000
Received: (qmail 32478 invoked by uid 500); 15 Mar 2006 08:24:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31990 invoked by uid 500); 15 Mar 2006 08:24:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31977 invoked by uid 99); 15 Mar 2006 08:24:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 00:24:26 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of NYH@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 00:24:25 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.12.10/8.12.10) with ESMTP id k2F8O3Hm199170
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 08:24:03 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.12.10/NCO/VER6.8) with ESMTP id k2F8OUrn197062
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 09:24:30 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11/8.13.3) with ESMTP id k2F8O2ZG032622
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 09:24:03 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11/8.12.11) with ESMTP id k2F8O2Nc032615
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 09:24:02 +0100
In-Reply-To: <f13b62210603142237t3b2eb016r60f63aa898d63d06@mail.gmail.com>
Subject: Re: lucene query analysis
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 August 18, 2005
Message-ID: <OF9330070B.A34098F9-ONC2257132.002CE858-C2257132.002D3FC8@il.ibm.com>
From: "Nadav Har'El" <NYH@il.ibm.com>
Date: Wed, 15 Mar 2006 10:14:14 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0HF90 | November 16, 2005) at
 15/03/2006 10:24:30
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"Raghavendra Prabhu" <rrprabhu@gmail.com> wrote on 15/03/2006 08:37:25 AM:
> Hi
>
> The problem which i am facing is that the query is Case Sensitive
>
> If i type in BIG letters i am not able to see answers and if  i type in
> small letters i am able to see results
>
> Is there anything by which i can do a case conversion
>
> Now i am using a WhiteSpaceAnalyser . What Analyser should change it to ?

Indeed, WhiteSpaceAnalyzer only breaks up the text on white space, doing
nothing about the case. You should probably StandardAnalyzer which in
addition to breaking up the text on white spaces, also breaks it up in
other logical places (like punctuation, but not in every case), and
more importantly for you, it indexes the text in lowercase.
You should use StandardAnalyzer both during indexing, and during query,
for this to work.

--
Nadav Har'El.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 09:10:54 2006
Return-Path: <java-user-return-19560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83577 invoked from network); 15 Mar 2006 09:10:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 09:10:54 -0000
Received: (qmail 91567 invoked by uid 500); 15 Mar 2006 09:10:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91106 invoked by uid 500); 15 Mar 2006 09:10:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91095 invoked by uid 99); 15 Mar 2006 09:10:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:10:48 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:10:47 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T7709cb49d388ad3ee41c10@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Wed, 15 Mar 2006 10:10:25 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64810.4A70BEEA"
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: segments.new
Date: Wed, 15 Mar 2006 10:10:23 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07D95@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: segments.new
Thread-Index: AcZIEEoR0QOLgPG1RzWiHR9R4zFZ8g==
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64810.4A70BEEA
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

High,

I have a trouble this the indexation process, sometimes I retrieve an
error like the file segments.new can't be rename or delete something
like that.

What's happened?


------_=_NextPart_001_01C64810.4A70BEEA--

From java-user-return-19561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 09:15:18 2006
Return-Path: <java-user-return-19561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86781 invoked from network); 15 Mar 2006 09:15:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 09:15:16 -0000
Received: (qmail 98429 invoked by uid 500); 15 Mar 2006 09:15:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98394 invoked by uid 500); 15 Mar 2006 09:15:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98374 invoked by uid 99); 15 Mar 2006 09:15:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:15:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:15:05 -0800
Received: by xproxy.gmail.com with SMTP id h26so47060wxd
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 01:14:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=O7PLlM81/4fzQjOY/Z74E/2hebhEgByFliMnzlC56kNZ3bTgqzOuQTFATZlHWIiIMLPFTbXHQWKT2sd4I3s7/2CHjFODVxSIN2d4vOlVN06HUkGIHjT1ZBTjFnW51SPtwOUelKla0RhPLf/xi8v6431sRYpiA2Jx+6ty9hJxDIA=
Received: by 10.70.132.15 with SMTP id f15mr356991wxd;
        Wed, 15 Mar 2006 01:14:44 -0800 (PST)
Received: by 10.70.12.4 with HTTP; Wed, 15 Mar 2006 01:14:44 -0800 (PST)
Message-ID: <277d4c5d0603150114g4ea795f5t74676d5c39ae8bd8@mail.gmail.com>
Date: Wed, 15 Mar 2006 17:14:44 +0800
From: jason <gingerons@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: Add a module to the lucene
Cc: gingerons@gmail.com
In-Reply-To: <277d4c5d0603141929o61fa03duf1617b6764a13ab7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6398_5103957.1142414084835"
References: <277d4c5d0603141929o61fa03duf1617b6764a13ab7@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6398_5103957.1142414084835
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

 Hi,

Can we add a module to lucene so that we are able to use our own similarity
measure to calculate the similarity between documents and queries? As lucen=
e
has defined its own measure, we can do few with it.

Considering the documents and queries represented as the vectors, we only
need one class to read the vectors and use our own defined measure to
calculate their similarity.

How do you think of it?

regards
jason

------=_Part_6398_5103957.1142414084835--

From java-user-return-19562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 09:32:40 2006
Return-Path: <java-user-return-19562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98132 invoked from network); 15 Mar 2006 09:32:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 09:32:27 -0000
Received: (qmail 30595 invoked by uid 500); 15 Mar 2006 09:32:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29614 invoked by uid 500); 15 Mar 2006 09:32:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29603 invoked by uid 99); 15 Mar 2006 09:32:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:32:14 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO pproxy.gmail.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:32:13 -0800
Received: by pproxy.gmail.com with SMTP id z74so28287pyg
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 01:31:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=b6iNrV0OMDszmuSs8pYLprn4PZWKmPo5u6VZ6ukTT//nSfBRQ/emVo8gTbsI/oSu54Mt27kCFVySUCCmSqRu+V8sC2mIKB7dHibIvXGVDLyYNAV410KfdkkvuQE8Uq4nhcFMROmh87IBW5NVA+D/e1HmNHOBYUtpIQRH20uIRbk=
Received: by 10.64.178.15 with SMTP id a15mr198862qbf;
        Wed, 15 Mar 2006 01:31:52 -0800 (PST)
Received: by 10.65.242.13 with HTTP; Wed, 15 Mar 2006 01:31:52 -0800 (PST)
Message-ID: <4f9b23800603150131o3bef06d9r@mail.gmail.com>
Date: Wed, 15 Mar 2006 09:31:52 +0000
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: segments.new
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A42A07D95@EPLUXSEX01.ep.parl.union.eu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <AD97D5F23B201C448EAB13B4F6DA6A42A07D95@EPLUXSEX01.ep.parl.union.eu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Thomas

I have been getting similar errors and am trying to investigate the cause.
My current thinking is that it is caused by my virus checker opening
the files.  The error only occurs on Windows.  When I run the same
test on Linux I do not get the error.
Not much help I know... but at least you are not alone.

Patrick

On 15/03/06, WATHELET Thomas <TWathelet@europarl.eu.int> wrote:
> High,
>
> I have a trouble this the indexation process, sometimes I retrieve an
> error like the file segments.new can't be rename or delete something
> like that.
>
> What's happened?
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 09:53:59 2006
Return-Path: <java-user-return-19563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10280 invoked from network); 15 Mar 2006 09:53:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 09:53:59 -0000
Received: (qmail 62514 invoked by uid 500); 15 Mar 2006 09:53:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62481 invoked by uid 500); 15 Mar 2006 09:53:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62470 invoked by uid 99); 15 Mar 2006 09:53:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:53:53 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.73.2.150] (HELO mx-1.framfab.com) (217.73.2.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 01:53:52 -0800
Received: from seex03.framfab.com (seex03.framfab.com [157.125.32.20])
	by mx-1.framfab.com (Postfix) with ESMTP id 0EDCB3481C6
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 11:01:58 +0100 (CET)
Received: from ukex02.framfab.com ([157.125.70.14]) by seex03.framfab.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 15 Mar 2006 10:53:28 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Setting the COMMIT lock timeout.
Date: Wed, 15 Mar 2006 09:53:28 -0000
Message-ID: <40D92B748B99CC43A2F0897B6B2B822E0214F4A4@ukex02.framfab.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Setting the COMMIT lock timeout.
Thread-Index: AcZHnrJGKfcQL3j7ThqNJBmgeI/CvQAdv1JQ
From: "Jim Bedford-roberts" <Jim.Bedford-roberts@framfab.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 15 Mar 2006 09:53:28.0878 (UTC) FILETIME=[4F9C94E0:01C64816]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes - this 1.4 bug is what induced us to upgrade to 1.9! So, finding the =
same problem in a different guise in 1.9 is quite an unfortunate =
coincidence!
=20
-----Original Message-----
From: Daniel Naber [mailto:lucenelist2005@danielnaber.de]=20
Sent: 14 March 2006 19:38
To: java-user@lucene.apache.org
Subject: Re: Setting the COMMIT lock timeout.

On Dienstag 14 M=E4rz 2006 10:52, Jim Bedford-roberts wrote:

> Admittedly we could have developed a single central search component,
> but given the way the code has evolved our current approach is =
simplest
> for us. With separate application instances sharing access to the same
> index we are getting occasional COMMIT lock time outs even while using
> singleton IndexSearchers in each application.

Have you already tried using Lucene 1.9 without my patch? Because there =
was=20
another bug in 1.4 that made the default timeout not work. From the=20
changelog:

7. Getting a lock file with Lock.obtain(long) was supposed to wait for
    a given amount of milliseconds, but this didn't work.
    (John Wang via Daniel Naber, Bug #33799)

Regards
 Daniel

--=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 12:31:48 2006
Return-Path: <java-user-return-19564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95332 invoked from network); 15 Mar 2006 12:31:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 12:31:36 -0000
Received: (qmail 71577 invoked by uid 500); 15 Mar 2006 12:31:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70974 invoked by uid 500); 15 Mar 2006 12:31:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70962 invoked by uid 99); 15 Mar 2006 12:31:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 04:31:22 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jprogramista@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 04:31:20 -0800
Received: by zproxy.gmail.com with SMTP id x3so106200nzd
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 04:30:59 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Te1dQGQrnHkqWAWPEuTI4WyaqOxepValOXTB3hOIo/f/X/IddGhjK8Ot5uEqEPe0PSfa2sm9R7K+P5w7WBKWNjmE0xhBXLh5O63e4W8IPUl5tfr0cAVihZgv6z3HvNJEqN4TaiWBkOroSDEzE5VBoB+aBhjySShFod0l8F0bX1A=
Received: by 10.35.91.10 with SMTP id t10mr298990pyl;
        Wed, 15 Mar 2006 04:30:59 -0800 (PST)
Received: by 10.35.18.11 with HTTP; Wed, 15 Mar 2006 04:30:59 -0800 (PST)
Message-ID: <af75a3a20603150430u382a3de6m69765f97d8d3ad7a@mail.gmail.com>
Date: Wed, 15 Mar 2006 13:30:59 +0100
From: "Java Programmer" <jprogramista@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching in paths
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE3AD0@emss10m03.us.lmco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <92A278501EF50444AD3EE1FFB51219550BCE3AD0@emss10m03.us.lmco.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/14/06, Mordo, Aviran (EXP N-NANNATEK) <aviran.mordo@lmco.com> wrote:
> You need to index the field as a keyword, or use an analyzer that will
> not strip the / from the string
>
> Aviran
> http://www.aviransplace.com

Field is indexed as Keyword, I was using StandardAnalyzer(), but
currently I try to send queries directly via API, so I use this code
for doing job:
PrefixQuery query1 =3D null;
if(cat!=3D""){
=09Term term =3D new Term("category",cat);
=09query1 =3D new PrefixQuery(term);
=09Hits hits =3D is.search(query1);
}

Variable cat takes path like strings as arguments so eg it gets:
Top/World/Poland/
which is translated into: category:Top/World/Poland/*

Everything started to work, but I get such Exception:
org.apache.lucene.search.BooleanQuery$TooManyClauses
=09org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:79)
=09org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:71)
=09org.apache.lucene.search.PrefixQuery.rewrite(PrefixQuery.java:50)
=09org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
=09org.apache.lucene.search.Query.weight(Query.java:84)
=09org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
=09org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
=09org.apache.lucene.search.Hits.<init>(Hits.java:43)
=09org.apache.lucene.search.Searcher.search(Searcher.java:33)
=09org.apache.lucene.search.Searcher.search(Searcher.java:27)

when I cut the path, so in other words - I don't get exception when
query is Top/World/Poland/ but I start to get them when query is
Top/World/. I have also getMaxClauseCount() =3D 1024.
Lucene probably try to find all keywords which are good for
Top/World/* and put them in boolean query, am I right? If yes, I have
problem because from root category there are about 3-4kk children
categories, which I also want to search (and show category as url, so
user could get deeper in category tree if he wants).

What can I do with this, besides set up higher values in maxClauseCount?

Best Regards,
Adr

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 12:38:00 2006
Return-Path: <java-user-return-19565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98622 invoked from network); 15 Mar 2006 12:38:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 12:38:00 -0000
Received: (qmail 78526 invoked by uid 500); 15 Mar 2006 12:37:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78494 invoked by uid 500); 15 Mar 2006 12:37:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78482 invoked by uid 99); 15 Mar 2006 12:37:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 04:37:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.131] (HELO exchange-mbx.bvdep.com) (193.194.158.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 04:37:54 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: segments.new
Date: Wed, 15 Mar 2006 13:37:31 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF5E8AAF6@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: segments.new
Thread-Index: AcZIE1uB067FV3WjQC+HEDguoPQWIgAGNRDw
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you using Lucene 1.4.3 ?

There's a bug report in JIRA (LUCENE-481) with a patch that solves this.

On Windows, files cannot be deleted while they are open and before the
patch, calling getCurrent or isCurrent in one process could block
another one from updating the segments file.

The patch in integrated in the current version(s) of Lucene for a few
months now...

Luc

-----Original Message-----
From: Patrick Kimber [mailto:mailing.patrick.kimber@gmail.com]=20
Sent: woensdag 15 maart 2006 10:32
To: java-user@lucene.apache.org
Subject: Re: segments.new

Hi Thomas

I have been getting similar errors and am trying to investigate the
cause.
My current thinking is that it is caused by my virus checker opening
the files.  The error only occurs on Windows.  When I run the same
test on Linux I do not get the error.
Not much help I know... but at least you are not alone.

Patrick

On 15/03/06, WATHELET Thomas <TWathelet@europarl.eu.int> wrote:
> High,
>
> I have a trouble this the indexation process, sometimes I retrieve an
> error like the file segments.new can't be rename or delete something
> like that.
>
> What's happened?
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:06:11 2006
Return-Path: <java-user-return-19566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17523 invoked from network); 15 Mar 2006 13:06:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:06:10 -0000
Received: (qmail 30850 invoked by uid 500); 15 Mar 2006 13:06:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30819 invoked by uid 500); 15 Mar 2006 13:06:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30808 invoked by uid 99); 15 Mar 2006 13:06:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:06:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jprogramista@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:06:04 -0800
Received: by wproxy.gmail.com with SMTP id i27so101224wra
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 05:05:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YkTbXF5u/a4MKxNndhQ/UAsbNk26VBhRrsudQgrK+j2dG2HaG9DnlQ5VSmNPfVnh3lJ2+ZjFuS5fKnDk4f3MWGrZ7L1PTFlb2/URaO4W4o3CqzsBmo9qaMWBbohuGCcpR0F9nwQGB4SNbgoXzTSyw5leN2d1uw+q2c6+J7P4/E8=
Received: by 10.35.91.10 with SMTP id t10mr341563pyl;
        Wed, 15 Mar 2006 05:05:43 -0800 (PST)
Received: by 10.35.18.11 with HTTP; Wed, 15 Mar 2006 05:05:43 -0800 (PST)
Message-ID: <af75a3a20603150505p39660f66yd05bbdfaf107a3e@mail.gmail.com>
Date: Wed, 15 Mar 2006 14:05:43 +0100
From: "Java Programmer" <jprogramista@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching in paths
In-Reply-To: <af75a3a20603150430u382a3de6m69765f97d8d3ad7a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <92A278501EF50444AD3EE1FFB51219550BCE3AD0@emss10m03.us.lmco.com>
	 <af75a3a20603150430u382a3de6m69765f97d8d3ad7a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Reply to myself hate this :(

What about such solution:
Split path like string into smaller tokens and index them as seperate words=
 eg:
#Top/World/Poland/# #Top/World/# #Top/#
so if I ask about word #Top/# I will get all the results for this
category, without making so many boolean queries.

Is there a better solution for my problem?

Best Regards,
Adr

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:30:11 2006
Return-Path: <java-user-return-19567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31163 invoked from network); 15 Mar 2006 13:30:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:30:10 -0000
Received: (qmail 56939 invoked by uid 500); 15 Mar 2006 13:30:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56623 invoked by uid 500); 15 Mar 2006 13:30:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56610 invoked by uid 99); 15 Mar 2006 13:30:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:30:05 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:30:03 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T770ab8aaa088ad3ee41c10@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Wed, 15 Mar 2006 14:29:42 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: segments.new
Date: Wed, 15 Mar 2006 14:29:40 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07DA5@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: segments.new
Thread-Index: AcZIE1uB067FV3WjQC+HEDguoPQWIgAGNRDwAAITZ5A=
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok thanks

-----Original Message-----
From: Vanlerberghe, Luc [mailto:Luc.Vanlerberghe@bvdep.com]=20
Sent: mercredi 15 mars 2006 13:38
To: java-user@lucene.apache.org
Subject: RE: segments.new

Are you using Lucene 1.4.3 ?

There's a bug report in JIRA (LUCENE-481) with a patch that solves this.

On Windows, files cannot be deleted while they are open and before the
patch, calling getCurrent or isCurrent in one process could block
another one from updating the segments file.

The patch in integrated in the current version(s) of Lucene for a few
months now...

Luc

-----Original Message-----
From: Patrick Kimber [mailto:mailing.patrick.kimber@gmail.com]=20
Sent: woensdag 15 maart 2006 10:32
To: java-user@lucene.apache.org
Subject: Re: segments.new

Hi Thomas

I have been getting similar errors and am trying to investigate the
cause.
My current thinking is that it is caused by my virus checker opening
the files.  The error only occurs on Windows.  When I run the same
test on Linux I do not get the error.
Not much help I know... but at least you are not alone.

Patrick

On 15/03/06, WATHELET Thomas <TWathelet@europarl.eu.int> wrote:
> High,
>
> I have a trouble this the indexation process, sometimes I retrieve an
> error like the file segments.new can't be rename or delete something
> like that.
>
> What's happened?
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:39:43 2006
Return-Path: <java-user-return-19568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37896 invoked from network); 15 Mar 2006 13:39:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:39:42 -0000
Received: (qmail 69765 invoked by uid 500); 15 Mar 2006 13:39:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69743 invoked by uid 500); 15 Mar 2006 13:39:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69726 invoked by uid 99); 15 Mar 2006 13:39:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:39:36 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.160.149.192] (HELO kitsite.com) (66.160.149.192)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 05:39:35 -0800
Received: from 213.94.200.73 ([213.94.200.73]) by kitsite.com for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 05:39:11 -0800
Message-ID: <4418197A.8070008@kitsite.com>
Date: Wed, 15 Mar 2006 13:41:14 +0000
From: kieran <kieran@kitsite.com>
Reply-To:  kieran@kitsite.com
Organization: Kitsite
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Searching in paths
References: <92A278501EF50444AD3EE1FFB51219550BCE3AD0@emss10m03.us.lmco.com>	 <af75a3a20603150430u382a3de6m69765f97d8d3ad7a@mail.gmail.com> <af75a3a20603150505p39660f66yd05bbdfaf107a3e@mail.gmail.com>
In-Reply-To: <af75a3a20603150505p39660f66yd05bbdfaf107a3e@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Alternatively, you could examine each path, and index each of its 
"parent" paths (perhaps in a field named "parentPath").
i.e.
  Top/World/Poland/Abc
would result in the following three values being indexed:
  Top
  Top/World
  Top/World/Poland
You can then use a TermQuery instead of a PrefixQuery.
For instance, to perform the query that you suggested, you would code it 
as follows:
 
say, cat="Top/World/Poland"

Query query1 = null;
if(cat!=""){
   Term term = new Term("category",cat);
   query1 = new TermQuery(term);
   Hits hits = is.search(query1);
}

NB as an aside, unless "cat" is interned, (cat!="") will ALWAYS return 
true. But you probably knew that ;-)

Kieran

Java Programmer wrote:
> Reply to myself hate this :(
>
> What about such solution:
> Split path like string into smaller tokens and index them as seperate words eg:
> #Top/World/Poland/# #Top/World/# #Top/#
> so if I ask about word #Top/# I will get all the results for this
> category, without making so many boolean queries.
>
> Is there a better solution for my problem?
>
> Best Regards,
> Adr
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:42:12 2006
Return-Path: <java-user-return-19569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38940 invoked from network); 15 Mar 2006 13:42:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:42:11 -0000
Received: (qmail 75186 invoked by uid 500); 15 Mar 2006 13:42:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74597 invoked by uid 500); 15 Mar 2006 13:42:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74586 invoked by uid 99); 15 Mar 2006 13:42:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:42:06 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.160.149.192] (HELO kitsite.com) (66.160.149.192)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 05:42:05 -0800
Received: from 213.94.200.73 ([213.94.200.73]) by kitsite.com for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 05:41:42 -0800
Message-ID: <44181A10.80105@kitsite.com>
Date: Wed, 15 Mar 2006 13:43:44 +0000
From: kieran <kieran@kitsite.com>
Reply-To:  kieran@kitsite.com
Organization: Kitsite
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Searching in paths
References: <92A278501EF50444AD3EE1FFB51219550BCE3AD0@emss10m03.us.lmco.com>	 <af75a3a20603150430u382a3de6m69765f97d8d3ad7a@mail.gmail.com> <af75a3a20603150505p39660f66yd05bbdfaf107a3e@mail.gmail.com> <4418197A.8070008@kitsite.com>
In-Reply-To: <4418197A.8070008@kitsite.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry, that should have read:

Query query1 = null;
if(cat!=""){
  Term term = new Term("parentPath",cat);
  query1 = new TermQuery(term);
  Hits hits = is.search(query1);
}

("parentPath" substituted for "category").



kieran wrote:
> Alternatively, you could examine each path, and index each of its 
> "parent" paths (perhaps in a field named "parentPath").
> i.e.
>  Top/World/Poland/Abc
> would result in the following three values being indexed:
>  Top
>  Top/World
>  Top/World/Poland
> You can then use a TermQuery instead of a PrefixQuery.
> For instance, to perform the query that you suggested, you would code 
> it as follows:
>
> say, cat="Top/World/Poland"
>
> Query query1 = null;
> if(cat!=""){
>   Term term = new Term("category",cat);
>   query1 = new TermQuery(term);
>   Hits hits = is.search(query1);
> }
>
> NB as an aside, unless "cat" is interned, (cat!="") will ALWAYS return 
> true. But you probably knew that ;-)
>
> Kieran
>
> Java Programmer wrote:
>> Reply to myself hate this :(
>>
>> What about such solution:
>> Split path like string into smaller tokens and index them as seperate 
>> words eg:
>> #Top/World/Poland/# #Top/World/# #Top/#
>> so if I ask about word #Top/# I will get all the results for this
>> category, without making so many boolean queries.
>>
>> Is there a better solution for my problem?
>>
>> Best Regards,
>> Adr
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>   
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:48:21 2006
Return-Path: <java-user-return-19570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43247 invoked from network); 15 Mar 2006 13:48:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:48:21 -0000
Received: (qmail 90099 invoked by uid 500); 15 Mar 2006 13:48:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89889 invoked by uid 500); 15 Mar 2006 13:48:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89878 invoked by uid 99); 15 Mar 2006 13:48:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:48:15 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of paulo.silveira@gmail.com designates 64.233.182.194 as permitted sender)
Received: from [64.233.182.194] (HELO nproxy.gmail.com) (64.233.182.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:48:13 -0800
Received: by nproxy.gmail.com with SMTP id x37so75417nfc
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 05:47:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=g2xO5NJ/5+onyLJq2Da5ZKEq+eUksHzb9isbShE7Mq+GuJBDB9v+OhV9VfkRvJpOgV0Vgk0sVt/Dz5NdNav4cln5Wbz77ev7QcQuLs+T5aj7i5g3g9bKsXjfeLvnN2AQi5SNMeCvBXrVBEMQWT+q0lOl554CRrVV6tx7FXiuNDQ=
Received: by 10.48.239.5 with SMTP id m5mr263285nfh;
        Wed, 15 Mar 2006 05:47:51 -0800 (PST)
Received: by 10.48.220.17 with HTTP; Wed, 15 Mar 2006 05:47:51 -0800 (PST)
Message-ID: <6026e8b0603150547o3b8732e5lf6bcd5880fecb556@mail.gmail.com>
Date: Wed, 15 Mar 2006 10:47:51 -0300
From: "Paulo Silveira" <paulo.silveira@caelum.com.br>
Sender: paulo.silveira@gmail.com
To: java-user@lucene.apache.org
Subject: "docs out of order" while merging
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I ve just get a "docs out of order".

I have a database that is indexed everytime an update occurs. The
index was ok for the last 3 weeks, and now, after the system throwed
an exception because of a write lock that was not released (and I
deleted it) I am recebing this:

Can anyone help

Full stack:

docs out of order
org.apache.lucene.index.SegmentMerger.appendPostings(SegmentMerger.java:335=
)
org.apache.lucene.index.SegmentMerger.mergeTermInfo(SegmentMerger.java:298)
org.apache.lucene.index.SegmentMerger.mergeTermInfos(SegmentMerger.java:272=
)
org.apache.lucene.index.SegmentMerger.mergeTerms(SegmentMerger.java:236)
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:89)
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:681)
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.java:628)
org.apache.lucene.index.IndexWriter.close(IndexWriter.java:375)
br.com.xxx.yyy.search.SearchEngine.write(SearchEngine.java:57)

--
Paulo E. A. Silveira
Caelum Ensino e Solu=E7=F5es em Java
http://www.caelum.com.br/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:51:38 2006
Return-Path: <java-user-return-19571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44925 invoked from network); 15 Mar 2006 13:51:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:51:37 -0000
Received: (qmail 94315 invoked by uid 500); 15 Mar 2006 13:51:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94290 invoked by uid 500); 15 Mar 2006 13:51:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94279 invoked by uid 99); 15 Mar 2006 13:51:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:51:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.27.2.202] (HELO mailrelay1.tu-graz.ac.at) (129.27.2.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:51:31 -0800
Received: from firewall.know-center.tugraz.at (firewall.know-center.tugraz.at [129.27.219.242])
	by mailrelay1.tu-graz.ac.at (8.13.5/8.13.5) with ESMTP id k2FDp8pj029074
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 14:51:08 +0100 (CET)
Received: from exchange.know-center.at (know.know-center.at [192.168.111.5])
	by firewall.know-center.tugraz.at (8.13.3/8.13.3) with ESMTP id k2FDp7Bw027172
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 14:51:07 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Searching in paths
Date: Wed, 15 Mar 2006 14:51:07 +0100
Message-ID: <868EA75043E67D47B4A62E7571C90E6FAB79C6@exchange.know.know-center.at>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching in paths
Thread-Index: AcZINfGIAczZYpGLSIKWzsiox3+5GQAANnbg
From: "Mathias Lux" <mlux@know-center.at>
To: <java-user@lucene.apache.org>
X-Scanned-By: MIMEDefang 2.52 on 129.27.10.18
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

Another option for a term query would be an analyzer, which creates =
keywords from paths, building them from every neighbouring pair in the =
path. So you could query for paths anywhere in the hierarchy, and you =
don't have to start from the top level hierarchy like in the approach =
mentioned below.

Top/World/Poland/Abc -> "Top-World", "World-Poland", "Poland-Abc"

So you could search for World/Poland too, because the analyzer would =
create "World-Poland" from the query, which matches one of the above =
terms. World/Poland/Abc ( -> "World-Poland", "Poland-Abc") would result =
in a better relevance for above example.=20

regards,
  Mathias

--
Mathias Lux
http://www.semanticmetadata.net

> -----Urspr=FCngliche Nachricht-----
> Von: kieran [mailto:kieran@kitsite.com]=20
> Gesendet: Mittwoch, 15. M=E4rz 2006 14:41
> An: java-user@lucene.apache.org
> Betreff: Re: Searching in paths
>=20
> Alternatively, you could examine each path, and index each of its=20
> "parent" paths (perhaps in a field named "parentPath").
> i.e.
>   Top/World/Poland/Abc
> would result in the following three values being indexed:
>   Top
>   Top/World
>   Top/World/Poland
> You can then use a TermQuery instead of a PrefixQuery.
> For instance, to perform the query that you suggested, you=20
> would code it=20
> as follows:
> =20
> say, cat=3D"Top/World/Poland"
>=20
> Query query1 =3D null;
> if(cat!=3D""){
>    Term term =3D new Term("category",cat);
>    query1 =3D new TermQuery(term);
>    Hits hits =3D is.search(query1);
> }
>=20
> NB as an aside, unless "cat" is interned, (cat!=3D"") will=20
> ALWAYS return=20
> true. But you probably knew that ;-)
>=20
> Kieran
>=20
> Java Programmer wrote:
> > Reply to myself hate this :(
> >
> > What about such solution:
> > Split path like string into smaller tokens and index them=20
> as seperate words eg:
> > #Top/World/Poland/# #Top/World/# #Top/#
> > so if I ask about word #Top/# I will get all the results for this
> > category, without making so many boolean queries.
> >
> > Is there a better solution for my problem?
> >
> > Best Regards,
> > Adr
> >
> >=20
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >  =20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:53:26 2006
Return-Path: <java-user-return-19572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45860 invoked from network); 15 Mar 2006 13:53:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:53:24 -0000
Received: (qmail 99041 invoked by uid 500); 15 Mar 2006 13:53:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98972 invoked by uid 500); 15 Mar 2006 13:53:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98931 invoked by uid 99); 15 Mar 2006 13:53:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:53:07 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:53:06 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T770acdc80588ad3ee41c10@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Wed, 15 Mar 2006 14:52:46 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: segments.new
Date: Wed, 15 Mar 2006 14:52:43 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07DA7@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: segments.new
Thread-Index: AcZIE1uB067FV3WjQC+HEDguoPQWIgAGNRDwAALVbYA=
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes I use the Lucene 143
Could you send me the link for this patch?
Thanks in advance

-----Original Message-----
From: Vanlerberghe, Luc [mailto:Luc.Vanlerberghe@bvdep.com]=20
Sent: mercredi 15 mars 2006 13:38
To: java-user@lucene.apache.org
Subject: RE: segments.new

Are you using Lucene 1.4.3 ?

There's a bug report in JIRA (LUCENE-481) with a patch that solves this.

On Windows, files cannot be deleted while they are open and before the
patch, calling getCurrent or isCurrent in one process could block
another one from updating the segments file.

The patch in integrated in the current version(s) of Lucene for a few
months now...

Luc

-----Original Message-----
From: Patrick Kimber [mailto:mailing.patrick.kimber@gmail.com]=20
Sent: woensdag 15 maart 2006 10:32
To: java-user@lucene.apache.org
Subject: Re: segments.new

Hi Thomas

I have been getting similar errors and am trying to investigate the
cause.
My current thinking is that it is caused by my virus checker opening
the files.  The error only occurs on Windows.  When I run the same
test on Linux I do not get the error.
Not much help I know... but at least you are not alone.

Patrick

On 15/03/06, WATHELET Thomas <TWathelet@europarl.eu.int> wrote:
> High,
>
> I have a trouble this the indexation process, sometimes I retrieve an
> error like the file segments.new can't be rename or delete something
> like that.
>
> What's happened?
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 13:59:14 2006
Return-Path: <java-user-return-19573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50782 invoked from network); 15 Mar 2006 13:59:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 13:59:13 -0000
Received: (qmail 10145 invoked by uid 500); 15 Mar 2006 13:59:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9859 invoked by uid 500); 15 Mar 2006 13:59:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9847 invoked by uid 99); 15 Mar 2006 13:59:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:59:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.131] (HELO exchange-mbx.bvdep.com) (193.194.158.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 05:59:06 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: segments.new
Date: Wed, 15 Mar 2006 14:58:45 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF5E8AB74@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: segments.new
Thread-Index: AcZIE1uB067FV3WjQC+HEDguoPQWIgAGNRDwAALVbYAAADa+oA==
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See http://issues.apache.org/jira/browse/LUCENE-481
It was for the trunk at the time, but it's not difficult to apply it to
the 1.4.3 sources manually...
=20

-----Original Message-----
From: WATHELET Thomas [mailto:TWathelet@europarl.eu.int]=20
Sent: woensdag 15 maart 2006 14:53
To: java-user@lucene.apache.org
Subject: RE: segments.new

Yes I use the Lucene 143
Could you send me the link for this patch?
Thanks in advance

-----Original Message-----
From: Vanlerberghe, Luc [mailto:Luc.Vanlerberghe@bvdep.com]=20
Sent: mercredi 15 mars 2006 13:38
To: java-user@lucene.apache.org
Subject: RE: segments.new

Are you using Lucene 1.4.3 ?

There's a bug report in JIRA (LUCENE-481) with a patch that solves this.

On Windows, files cannot be deleted while they are open and before the
patch, calling getCurrent or isCurrent in one process could block
another one from updating the segments file.

The patch in integrated in the current version(s) of Lucene for a few
months now...

Luc

-----Original Message-----
From: Patrick Kimber [mailto:mailing.patrick.kimber@gmail.com]=20
Sent: woensdag 15 maart 2006 10:32
To: java-user@lucene.apache.org
Subject: Re: segments.new

Hi Thomas

I have been getting similar errors and am trying to investigate the
cause.
My current thinking is that it is caused by my virus checker opening
the files.  The error only occurs on Windows.  When I run the same
test on Linux I do not get the error.
Not much help I know... but at least you are not alone.

Patrick

On 15/03/06, WATHELET Thomas <TWathelet@europarl.eu.int> wrote:
> High,
>
> I have a trouble this the indexation process, sometimes I retrieve an
> error like the file segments.new can't be rename or delete something
> like that.
>
> What's happened?
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 14:15:08 2006
Return-Path: <java-user-return-19574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59838 invoked from network); 15 Mar 2006 14:15:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 14:15:07 -0000
Received: (qmail 38823 invoked by uid 500); 15 Mar 2006 14:15:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38799 invoked by uid 500); 15 Mar 2006 14:15:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38788 invoked by uid 99); 15 Mar 2006 14:15:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 06:15:02 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of samurujackson@googlemail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 06:15:01 -0800
Received: by zproxy.gmail.com with SMTP id 18so133272nzp
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 06:14:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=bz5eiqr5Ol6hhFOvBUxp44WJ+pgTLdlE8utGKtrdJv7QdovVdZegj1T1mn8KWB3UB+vUl7Jc5sUQaUkYuv8ltcPsoeEIEdpiidunxMma0Iqb1/bWcJLISr8wTRFsRXd1NLmvrC9SHbtYFMGiLbJGhXXT0NEYC8cFfEyuGdV+QQ4=
Received: by 10.65.213.5 with SMTP id p5mr324033qbq;
        Wed, 15 Mar 2006 06:14:39 -0800 (PST)
Received: by 10.65.153.18 with HTTP; Wed, 15 Mar 2006 06:14:39 -0800 (PST)
Message-ID: <fed285090603150614j1ded4529o435e714c4e3320a6@mail.gmail.com>
Date: Wed, 15 Mar 2006 15:14:39 +0100
From: "Samuru Jackson" <samurujackson@googlemail.com>
To: java-user@lucene.apache.org
Subject: inclusive range search
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I have some trouble to use the inclusive range search explained in
Lucene in Action in ch. 2.5.5

What I do is to add several fields to the index this way:

document.add(Field.Keyword("id", key));
document.add(Field.Keyword("type", type));
document.add(Field.Text("text",text));
document.add(Field.Text("date",date));

The focus lies on "Field.Text("date", date)" where date is a String of
the format YYYYMMDD.

My search goes this way:

search =3D "date:[20040101 TO 20040101]  Paris"
Query query =3D QueryParser.parse(search.trim(), "text", new StandardAnalyz=
er());
Hits hits =3D indexSearcher.search(query);


Somehow this range search does not work. I still get the same results
as without the date:[..]


Can anyone give me a hint how to use this inclusive range search?

Thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 14:56:37 2006
Return-Path: <java-user-return-19575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94591 invoked from network); 15 Mar 2006 14:56:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 14:56:24 -0000
Received: (qmail 6663 invoked by uid 500); 15 Mar 2006 14:56:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6639 invoked by uid 500); 15 Mar 2006 14:56:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6628 invoked by uid 99); 15 Mar 2006 14:56:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 06:56:14 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.196 as permitted sender)
Received: from [66.249.92.196] (HELO uproxy.gmail.com) (66.249.92.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 06:56:13 -0800
Received: by uproxy.gmail.com with SMTP id j40so64214ugd
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 06:55:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Btv5GmVd0d7i/GI6vZNz22C73VwfEUZTwLpirvqZE80nk0ujPnz2glxoDVAQ3OivERg1phP24z50nQVcMWSTegN+pCnEam2rH8+O/zUa0Vryt74fZ8Mvu5IoS6ByeuMFeUMBXdeCwdn/SYg6z/v9jwzu9of1TPVNJYpSca+wHIc=
Received: by 10.66.254.4 with SMTP id b4mr416501ugi;
        Wed, 15 Mar 2006 06:55:50 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Wed, 15 Mar 2006 06:55:50 -0800 (PST)
Message-ID: <c68e39170603150655w25753dfbwde7be48039b9dcd8@mail.gmail.com>
Date: Wed, 15 Mar 2006 09:55:50 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: inclusive range search
In-Reply-To: <fed285090603150614j1ded4529o435e714c4e3320a6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <fed285090603150614j1ded4529o435e714c4e3320a6@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/15/06, Samuru Jackson <samurujackson@googlemail.com> wrote:
> search =3D "date:[20040101 TO 20040101]  Paris"
> Somehow this range search does not work. I still get the same results
> as without the date:[..]

Try making bother terms mandatory with "+"

"+date:[20040101 TO 20040101]  +Paris"

http://lucene.apache.org/java/docs/queryparsersyntax.html


-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 16:31:33 2006
Return-Path: <java-user-return-19576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69336 invoked from network); 15 Mar 2006 16:31:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 16:31:32 -0000
Received: (qmail 37862 invoked by uid 500); 15 Mar 2006 16:31:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37829 invoked by uid 500); 15 Mar 2006 16:31:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37814 invoked by uid 99); 15 Mar 2006 16:31:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 08:31:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of samurujackson@googlemail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO zproxy.gmail.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 08:31:23 -0800
Received: by zproxy.gmail.com with SMTP id 18so166531nzp
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 08:31:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=googlemail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YfSI2QHyWqg0REqO+HRWp754rgEqh47JHHrCsKlKcFh4Li0gcsKokKp6KPglzSV1JVXXONRD6apkvKTIQjjvX0amMcWi9D0MUxBXlV55ftpXST62sA0NgGotG+vK40CQQMCUJbeC96LsnnDAzc8xU0G+Gefoh67seeYfVim55IQ=
Received: by 10.65.233.7 with SMTP id k7mr417155qbr;
        Wed, 15 Mar 2006 08:31:02 -0800 (PST)
Received: by 10.65.153.18 with HTTP; Wed, 15 Mar 2006 08:31:02 -0800 (PST)
Message-ID: <fed285090603150831s7e892b6eqfd4482612687e566@mail.gmail.com>
Date: Wed, 15 Mar 2006 17:31:02 +0100
From: "Samuru Jackson" <samurujackson@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: inclusive range search
In-Reply-To: <c68e39170603150655w25753dfbwde7be48039b9dcd8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <fed285090603150614j1ded4529o435e714c4e3320a6@mail.gmail.com>
	 <c68e39170603150655w25753dfbwde7be48039b9dcd8@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Try making bother terms mandatory with "+"
>
> "+date:[20040101 TO 20040101]  +Paris"

That was it .. however it does not exactly suite my needs. I want to
create a few combo boxes to let the user create a datefilter (From and
To) on the search queries using a webform.

Now if he chooses 20040101 to 20040201 and enters "Paris" (without +)
into the searchfield he will get back all documents according to the
date plus all documents containing Paris.

This result would be valid but not intuitive because if someone is
creating a date range he assumes that the delivered results of
documents containing Paris will only be inside this daterange.

So obviously I want to create a datefilter on the "Paris"-results.

What I did is this:

TermsFilter filter =3D new TermsFilter();
filter.addTerm(new Term("date", "20060304 TO 20060304"));
=09    =09
Query query =3D QueryParser.parse(search.trim(), "text", new StandardAnalyz=
er());
=09

But somehow the filter does not work with the "TO" syntax.

Can you point me out how to create a "daterange" filter using the QueryPars=
er?

Thanks again!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 17:03:18 2006
Return-Path: <java-user-return-19577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89108 invoked from network); 15 Mar 2006 17:03:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 17:03:17 -0000
Received: (qmail 8705 invoked by uid 500); 15 Mar 2006 17:03:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8671 invoked by uid 500); 15 Mar 2006 17:03:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8653 invoked by uid 500); 15 Mar 2006 17:03:11 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 8649 invoked by uid 99); 15 Mar 2006 17:03:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 09:03:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.29] (HELO libra.cs.put.poznan.pl) (150.254.30.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 09:03:09 -0800
Received: from localhost (unknown [127.0.0.1])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 01B595BD
	for <lucene-user@jakarta.apache.org>; Wed, 15 Mar 2006 16:56:57 +0000 (UTC)
Received: from libra.cs.put.poznan.pl ([127.0.0.1])
 by localhost (libra.cs.put.poznan.pl [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 28121-13 for <lucene-user@jakarta.apache.org>;
 Wed, 15 Mar 2006 17:56:53 +0100 (CET)
Received: from [150.254.130.25] (idss-dw-2.cs.put.poznan.pl [150.254.130.25])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 0F09A5FC
	for <lucene-user@jakarta.apache.org>; Wed, 15 Mar 2006 17:56:53 +0100 (CET)
Message-ID: <441848B7.9090102@cs.put.poznan.pl>
Date: Wed, 15 Mar 2006 18:02:47 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: PhraseQuery and edit distance slightly confusing.
Content-Type: multipart/mixed;
 boundary="------------090605000009030203070108"
X-Virus-Scanned: amavisd-new at cs.put.poznan.pl
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------090605000009030203070108
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit


Hi there,

I get the concept implemented in PhraseQuery but isn't calling it an 
edit distance a little bit far fetched? Only the marginal elements 
(minimum and maximum distance from their respective query positions) are 
taken into account. Consider this example:

phrase:     a  b  c  d
term pos:   0  1  2  3

document A: a  c  b  d
term pos:   0  1  2  3
pos. diff:  0 -1  1  0

=> slope = (1 - (-1)) = 2

document B: a  c  b  x  d
term pos:   0  1  2  3  4
pos. diff:  0 -1  1  -  1

=> slope = (1 - (-1) = 2

It's how it is currently implemented, isn't it? The scoring difference 
(attached example) is different just because "document" lengths are 
different, phrases themselves are scored identically even though I 
believe B should be penalized. A simple way to do it would be include 
phrase length divided by the matching span length... but I'm guessing 
it's implemented like that for a reason, just didn't know what that
reason might be ;)

Dawid





--------------090605000009030203070108
Content-Type: text/java;
 name="PhraseQueryTest.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="PhraseQueryTest.java"

package com.dawidweiss.phd.spikes;

import java.io.IOException;

import junit.framework.TestCase;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.search.*;
import org.apache.lucene.search.BooleanClause.Occur;
import org.apache.lucene.store.RAMDirectory;

public class PhraseQueryTest extends TestCase {
    public PhraseQueryTest(String s) {
        super(s);
    }
    
    public void testPhraseQuery() throws IOException {
        // Create an in-memory index.
        final RAMDirectory dir = new RAMDirectory();
        final Analyzer analyzer = new SimpleAnalyzer();
        final IndexWriter writer = new IndexWriter(dir, analyzer, true);
        
        final String [] documents = new String [] {
                "a c b x d",
                "a c b d",
        };

        for (final String document : documents) {
            final Document doc = new Document();
            doc.add(new Field("content", document, 
                    Field.Store.YES,
                    Field.Index.TOKENIZED,
                    Field.TermVector.WITH_POSITIONS_OFFSETS));
            writer.addDocument(doc);
        }
        writer.close();
        
        final IndexSearcher searcher = new IndexSearcher(dir);
        final PhraseQuery pq;
        pq = new PhraseQuery();
        pq.setSlop(2);
        pq.add(new Term("content", "a"));
        pq.add(new Term("content", "b"));
        pq.add(new Term("content", "c"));
        pq.add(new Term("content", "d"));

        final BooleanQuery query = new BooleanQuery();
        query.add(pq, Occur.MUST);

        final Hits hits = searcher.search(query);
        for (int i = 0; i < hits.length(); i++) {
            System.out.println("Hit#" + i + ": " + hits.id(i));
            System.out.println(searcher.explain(query, hits.id(i)));
        }
    }
}


--------------090605000009030203070108
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------090605000009030203070108--

From java-user-return-19578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 17:37:32 2006
Return-Path: <java-user-return-19578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10827 invoked from network); 15 Mar 2006 17:37:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 17:37:32 -0000
Received: (qmail 73507 invoked by uid 500); 15 Mar 2006 17:37:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73483 invoked by uid 500); 15 Mar 2006 17:37:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73472 invoked by uid 99); 15 Mar 2006 17:37:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 09:37:26 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.215] (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 09:37:25 -0800
Received: (qmail 86198 invoked by uid 60001); 15 Mar 2006 17:37:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=UWeUjenomwg3R7p3VFT6sQ6UywUE36a89c14MB0n+/CwrJfh6jEk+WZR8YLsh2D/HOc3QuVehrPjfNr8ZuzwysWcfB5UU6N4lsjI2Pbw3pUYB3tZgEHbXc+OdFt6tf9tk9ScAzLVY36FYaPubP8ZF0dg8B/XreF+kQCICUJ339U=  ;
Message-ID: <20060315173703.86196.qmail@web26004.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Wed, 15 Mar 2006 17:37:03 GMT
Date: Wed, 15 Mar 2006 17:37:03 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: inclusive range search
To: java-user@lucene.apache.org
In-Reply-To: <fed285090603150831s7e892b6eqfd4482612687e566@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> What I did is this:
> 
> TermsFilter filter = new TermsFilter();
> filter.addTerm(new Term("date", "20060304 TO
> 20060304"));


The Term object's constructor in your example does not
parse the "20060304 TO 20060304" string. A term is
supposed to represent a single term exactly as it
appears in your search index, not a query to be
parsed.

TermsFilter is intended to allow you to construct a
filter from an arbitrary collection of terms.
Sounds like you actually want to define a range of
terms so see RangeFilter instead.





		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 17:42:47 2006
Return-Path: <java-user-return-19579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14588 invoked from network); 15 Mar 2006 17:42:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 17:42:46 -0000
Received: (qmail 84671 invoked by uid 500); 15 Mar 2006 17:42:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84651 invoked by uid 500); 15 Mar 2006 17:42:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84640 invoked by uid 99); 15 Mar 2006 17:42:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 09:42:39 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of terenzio.treccani@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO pproxy.gmail.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 09:42:39 -0800
Received: by pproxy.gmail.com with SMTP id s49so147449pyc
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 09:42:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=RN1iLc3sS+Yl8LNto70a8nNTb9u65fMsZxIOakD+LR7e3oQBqySn03l32vdBPpPLxmKegXY+FANaKrIFQQtpyaTXjZnhr46tyFzeEKVLw4y948kxSmZIMFRX8GDKatQTC2pXLLP7iqAzf7S1xv3xLNpajQEAbPER/1MgPEP2frc=
Received: by 10.35.77.18 with SMTP id e18mr752426pyl;
        Wed, 15 Mar 2006 09:42:15 -0800 (PST)
Received: by 10.35.66.7 with HTTP; Wed, 15 Mar 2006 09:42:15 -0800 (PST)
Message-ID: <17137a7e0603150942q1737e61cl@mail.gmail.com>
Date: Wed, 15 Mar 2006 18:42:15 +0100
From: "Terenzio Treccani" <terenzio.treccani@gmail.com>
To: java-user@lucene.apache.org
Subject: Best design for an use case which is going to stress Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I'm required to develop an application for searching over news items.
There will be thousands of news items, each one will be assigned
directly to a list of millions of customerIDs. The query will be done
by passing a customerID and will return all news items associated to
it. Furthermore, a news item will be added or deleted by itemID. No
queries on other fields (news metadata etc) will be performed.
So, the result for a query similar to "customerID:0000001" will return
hits containing news items.
The index structure is very simple, but the number of news items and
customers will be HUGE. I see three possible ways of designing the
index, which I describe in the following. Which one would you choose?
If you have any advice, see any pro/cons etc any suggestion would be
appreciated.

Thanks a lot
Terenzio

a) One document per news item.
Each document will have the following fields:

- CustomerID (indexed, not stored) : a list of space-separated ids
like : "0000001 0000002 0000003"
- Title (not indexed, stored) : a text
- Content (not indexed, stored) : a potentially long (a few kilobites) text
- Meta 1 (not indexed, stored) : a meta tag
- Meta 2....

b) One documet per customer id.
Each document will have the following fields:

- CustomerID (indexed, not stored) : a single ID like: "0000001"
- NewsID (not indexed, stored) : a list of space-separated file names
like : "news01.xml news02.xml news03.xml"

The file names will then contain the news data in XML format, which
can be quickly read and cached. Maybe the quickest solution for
queries, but I see some problems in adding and deleting news by
itemID.

c) In a RDBMS.
Given the structured nature of this index, it could be implemented in
a normal table on a (Oracle) database.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 18:33:14 2006
Return-Path: <java-user-return-19580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52644 invoked from network); 15 Mar 2006 18:33:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 18:33:14 -0000
Received: (qmail 17970 invoked by uid 500); 15 Mar 2006 18:33:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17948 invoked by uid 500); 15 Mar 2006 18:33:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17903 invoked by uid 99); 15 Mar 2006 18:33:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 10:33:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 10:33:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 141005B766; Wed, 15 Mar 2006 10:32:38 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 07C687F403;
	Wed, 15 Mar 2006 10:32:38 -0800 (PST)
Date: Wed, 15 Mar 2006 10:32:38 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user <java-user@lucene.apache.org>
Cc: gingerons@gmail.com
Subject: Re: Add a module to the lucene
In-Reply-To: <277d4c5d0603150114g4ea795f5t74676d5c39ae8bd8@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603151029350.2747@hal.rescomp.berkeley.edu>
References: <277d4c5d0603141929o61fa03duf1617b6764a13ab7@mail.gmail.com>
 <277d4c5d0603150114g4ea795f5t74676d5c39ae8bd8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Jason: you really don't need to send the same message 4 times in one
night.  You've got to give people time to sleep, and eat, and take care of
other things that don't involve a computer :)

: Can we add a module to lucene so that we are able to use our own similarity
: measure to calculate the similarity between documents and queries? As lucene
: has defined its own measure, we can do few with it.

when using lucene, you can absolutely definite your own Similarity class.
you can register it using the Similarity.setDefault(Similarity).  as long
as you do that before opening any IndexWriters or IndexReaders your
Similarity wil be used throughought your application.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 18:35:13 2006
Return-Path: <java-user-return-19581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53830 invoked from network); 15 Mar 2006 18:35:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 18:35:12 -0000
Received: (qmail 20711 invoked by uid 500); 15 Mar 2006 18:34:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20630 invoked by uid 500); 15 Mar 2006 18:34:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20614 invoked by uid 99); 15 Mar 2006 18:34:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 10:34:56 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of finsaccanebbia@gmail.com designates 64.233.182.206 as permitted sender)
Received: from [64.233.182.206] (HELO nproxy.gmail.com) (64.233.182.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 10:34:55 -0800
Received: by nproxy.gmail.com with SMTP id y38so131745nfb
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 10:34:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=IVynemNshd95R+ZURvkki09oqthZOaQyuPFK8TVpqCcpG2tyE7aPnYw2tBpCPateK+czi5l9sKjFM5MqcGJvN5b/GHwC6s77IHrlQtlUhDOJ3r35WXmIe0I9tKAxY2MtHfQ60luqfZuwEjz++56YhLyPsBSYU3BQxLalcVtp3C8=
Received: by 10.48.214.3 with SMTP id m3mr403168nfg;
        Wed, 15 Mar 2006 10:34:34 -0800 (PST)
Received: by 10.49.61.11 with HTTP; Wed, 15 Mar 2006 10:34:34 -0800 (PST)
Message-ID: <a02a04880603151034v1ab8181auc2ec763d846455bc@mail.gmail.com>
Date: Wed, 15 Mar 2006 19:34:34 +0100
From: "Fabio Insaccanebbia" <finsaccanebbia@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Best design for an use case which is going to stress Lucene
In-Reply-To: <17137a7e0603150942q1737e61cl@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <17137a7e0603150942q1737e61cl@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> No queries on other fields (news metadata etc) will be performed.

Do you mean that a full text search on the news text isn't required?
I might be wrong, but it seems to me it doesn't sound as a typical
Lucene usage..

I'd go for the (c) option.. (but not just one table :-)

Bye,
Fabio

P.S.:
however a direct link "news -> customer" seems a bit strange. Are you
sure you can't model the problem as "news -> news type <- customer" or
"news -> customer group <- customer"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 18:39:56 2006
Return-Path: <java-user-return-19582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56865 invoked from network); 15 Mar 2006 18:39:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 18:39:56 -0000
Received: (qmail 31471 invoked by uid 500); 15 Mar 2006 18:39:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31448 invoked by uid 500); 15 Mar 2006 18:39:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31437 invoked by uid 99); 15 Mar 2006 18:39:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 10:39:50 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.207.142] (HELO web32211.mail.mud.yahoo.com) (68.142.207.142)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 10:39:50 -0800
Received: (qmail 36114 invoked by uid 60001); 15 Mar 2006 18:39:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=za0DqwyhHbrgUb4b+Fl/Ak/v+qrQr+CFeqBhNfFNdb5ZPDDzvZVlGdvV6iG9KZQZAqQKm1HtkEnpGnaK2760LvQoBfAsNQB/RZ6rshpXJR89Ra7MWCBdsuPx/RGBospM/D80U+0CpHkgpW72UuM80ApH+9ZvtEhfPQlNQ/GkfvI=  ;
Message-ID: <20060315183928.36112.qmail@web32211.mail.mud.yahoo.com>
Received: from [12.21.236.10] by web32211.mail.mud.yahoo.com via HTTP; Wed, 15 Mar 2006 10:39:28 PST
Date: Wed, 15 Mar 2006 10:39:28 -0800 (PST)
From: Brian <okmred@yahoo.com>
Subject: MultiSearch
To: java-user@lucene.apache.org
In-Reply-To: <20255DF3-516F-42C9-9EE8-4594B66EBF1E@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Everyone,
     I currently have an IndexSearch working Great!
What I want to do now, is move to a multi Index
search. What's the best way to go about it? Is it a
simple process? Any thought's would be appreciated.
Thanks, B

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 18:44:08 2006
Return-Path: <java-user-return-19583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60852 invoked from network); 15 Mar 2006 18:44:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 18:44:07 -0000
Received: (qmail 42635 invoked by uid 500); 15 Mar 2006 18:43:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42613 invoked by uid 500); 15 Mar 2006 18:43:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42602 invoked by uid 99); 15 Mar 2006 18:43:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 10:43:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 10:43:54 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 835015B76E; Wed, 15 Mar 2006 10:43:34 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6DCE17F403
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 10:43:34 -0800 (PST)
Date: Wed, 15 Mar 2006 10:43:34 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Searching in paths
In-Reply-To: <af75a3a20603150505p39660f66yd05bbdfaf107a3e@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603151036000.2747@hal.rescomp.berkeley.edu>
References: <92A278501EF50444AD3EE1FFB51219550BCE3AD0@emss10m03.us.lmco.com>
  <af75a3a20603150430u382a3de6m69765f97d8d3ad7a@mail.gmail.com>
 <af75a3a20603150505p39660f66yd05bbdfaf107a3e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: What about such solution:
: Split path like string into smaller tokens and index them as seperate words eg:
: #Top/World/Poland/# #Top/World/# #Top/#

i would be careful about your use of the word "token" in that sentence,
but yes indexing each of the directory like paths as keywords and doing
TermQueries on the path you are interested in should work fine.  you can
do this in a seperate field if you want to be suport both "parent path"
searches and "exact path" searchs.

Another way to eliminate hte TooManyClauses exception from doing a prefix
search without needing to change your index, is to use a PrefixFilter
wrapped in ConstantScoreQuery.  CSR is in lucene 1.9, but i believe
PrefixFIlter has only been commited to the Solr code base...

http://incubator.apache.org/solr/
http://svn.apache.org/viewcvs.cgi/incubator/solr/trunk/src/java/org/apache/solr/search/PrefixFilter.java?rev=382610&view=markup

...it should work fine in any application.

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 19:23:14 2006
Return-Path: <java-user-return-19584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92711 invoked from network); 15 Mar 2006 19:22:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 19:22:55 -0000
Received: (qmail 9249 invoked by uid 500); 15 Mar 2006 19:22:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9221 invoked by uid 500); 15 Mar 2006 19:22:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9207 invoked by uid 99); 15 Mar 2006 19:22:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 11:22:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 11:22:41 -0800
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2FJMGbL007014
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 14:22:16 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout7-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2FJM5bc221400;
	Wed, 15 Mar 2006 14:22:10 -0500
Message-ID: <4418695D.4070103@apache.org>
Date: Wed, 15 Mar 2006 11:22:05 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: PhraseQuery and edit distance slightly confusing.
References: <441848B7.9090102@cs.put.poznan.pl>
In-Reply-To: <441848B7.9090102@cs.put.poznan.pl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dawid Weiss wrote:
> I get the concept implemented in PhraseQuery but isn't calling it an 
> edit distance a little bit far fetched?

Yes, it should probably be called "edit-distance-like" or something.

> Only the marginal elements 
> (minimum and maximum distance from their respective query positions) are 
> taken into account. Consider this example:
> 
> phrase:     a  b  c  d
> term pos:   0  1  2  3
> 
> document A: a  c  b  d
> term pos:   0  1  2  3
> pos. diff:  0 -1  1  0
> 
> => slope = (1 - (-1)) = 2
> 
> document B: a  c  b  x  d
> term pos:   0  1  2  3  4
> pos. diff:  0 -1  1  -  1
> 
> => slope = (1 - (-1) = 2
> 
> It's how it is currently implemented, isn't it?

That's correct.

> The scoring difference 
> (attached example) is different just because "document" lengths are 
> different, phrases themselves are scored identically even though I 
> believe B should be penalized. A simple way to do it would be include 
> phrase length divided by the matching span length...

We could do this by adding more parameters to Similarity.sloppyFreq(). 
For example, the signature could become:

public float sloppyFreq(int distance, int matchLength);

But what then would the criteria for matching at all be?  Right now it 
is "distance <= slop", but, with this change, shouldn't it also take 
into account the match length?

> but I'm guessing 
> it's implemented like that for a reason, just didn't know what that
> reason might be ;)

No particularly good reason.  I was looking for a simple single measure 
that incorporated both out-of-order and insertion.  You argue that, when 
both are present, the penalty should be higher, which makes good sense. 
  Right now the penalty is like the maximum error, but the sum of errors 
in the match might be better.

To implement this, we could sum the absolute values of your "pos. diff" 
values.  That would give an error value of 2 for document A and 3 for 
document B, as you desire.  This would have the benefit of not changing 
the signature of sloppyFreq() and would also still provide a clear 
criteria for matching:  totalError < slop.  The biggest downside is that 
it would not be back-compatible: documents which used to match with 
slop=2 would no longer.  I don't think this is a huge problem, but it 
does warrant providing an option to restore the old behaviour.

There might be a slight performance impact.  I think we could implement 
this by simply decrementing and incrementing the totalError each time 
SloppyPhraseScorer calls nextPosition() or firstPosition().  Does that 
sound right to you?

Cheers,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 19:26:27 2006
Return-Path: <java-user-return-19585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97480 invoked from network); 15 Mar 2006 19:26:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 19:26:27 -0000
Received: (qmail 17232 invoked by uid 500); 15 Mar 2006 19:26:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17110 invoked by uid 500); 15 Mar 2006 19:26:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 4611 invoked by uid 99); 15 Mar 2006 19:18:09 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=PL7g32T4IVmgAXDfpWF6SMgBY6XsRmhq/vmPZvzonFaM2/raUx5i6G2xApj17HzGHkTdqAHfDntRdPx22yUP7yKytpK1jgOU74Zk5woDMop+WnWNNKfyz1Hu1lVgHr0zi/oQdnskkcjZl8Tqirt99BaN21w3b9atzeZX0SAeDys=  ;
Message-ID: <20060315191747.82758.qmail@web30415.mail.mud.yahoo.com>
Date: Wed, 15 Mar 2006 11:17:47 -0800 (PST)
From: Paul Lynch <pablolynch@yahoo.com>
Subject: FunctionQuery example request
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have implemented the DistanceComparatorSource
example from Lucene In Action (my Bible) and it works
great. We are now in the situation where we have
nearly a million documents in our index and the
performance of this implementation has degraded.

I have downloaded and am trying to understand the
org.apache.solr.search.function classes created by Mr
Seeley but must admit to being a little bit out of my
league with all the different elements involved. I
have read through various threads which make reference
to using the FunctionQuery class for different means
but I am struggling to fully understand the steps I
need to take.

Can someone please spare a couple of minutes to give
me an example of how I would implement a FunctionQuery
to score each of the documents matched in my boolean
query?

Regards,
Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 19:38:07 2006
Return-Path: <java-user-return-19586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4928 invoked from network); 15 Mar 2006 19:38:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 19:38:07 -0000
Received: (qmail 34761 invoked by uid 500); 15 Mar 2006 19:38:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34743 invoked by uid 500); 15 Mar 2006 19:38:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34732 invoked by uid 99); 15 Mar 2006 19:38:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 11:38:01 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.196 as permitted sender)
Received: from [205.158.62.196] (HELO ws6-1.us4.outblaze.com) (205.158.62.196)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 11:38:00 -0800
Received: (qmail 8214 invoked from network); 15 Mar 2006 19:37:53 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@68.73.6.55)
  by ws6-1.us4.outblaze.com with SMTP; 15 Mar 2006 19:37:53 -0000
Message-ID: <44186D03.8020903@curtin.com>
Date: Wed, 15 Mar 2006 14:37:39 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Best design for an use case which is going to stress Lucene
References: <17137a7e0603150942q1737e61cl@mail.gmail.com>
In-Reply-To: <17137a7e0603150942q1737e61cl@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This doesn't sound like a Lucene problem, at least the way you've described 
it.  For example, Lucene can't search on any field that isn't indexed (and 
most of yours aren't indexed).

Given that, it seems like your option (c) is the way to go.  Seems like a 
simple RDBMS schema with 3 tables would do the trick:  Customers, Articles, 
and CustArt (or some other name munge) that notes which articles are for which 
customers.  If you use Oracle, there's even some sort of mechanism for serving 
up the XML files via SQL*NET, if you didn't want to have to provide for 
multiple types of connections between clients and server.

Good luck!

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 20:11:09 2006
Return-Path: <java-user-return-19587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24649 invoked from network); 15 Mar 2006 20:11:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 20:11:02 -0000
Received: (qmail 65970 invoked by uid 500); 15 Mar 2006 20:10:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65935 invoked by uid 500); 15 Mar 2006 20:10:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65923 invoked by uid 99); 15 Mar 2006 20:10:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 12:10:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.29] (HELO libra.cs.put.poznan.pl) (150.254.30.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 12:10:51 -0800
Received: from localhost (unknown [127.0.0.1])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 35F975FC
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 20:04:39 +0000 (UTC)
Received: from libra.cs.put.poznan.pl ([127.0.0.1])
 by localhost (libra.cs.put.poznan.pl [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 02852-16 for <java-user@lucene.apache.org>;
 Wed, 15 Mar 2006 21:04:35 +0100 (CET)
Received: from [150.254.130.25] (idss-dw-2.cs.put.poznan.pl [150.254.130.25])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id AB26E5F9
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 21:04:35 +0100 (CET)
Message-ID: <441874B6.9020208@cs.put.poznan.pl>
Date: Wed, 15 Mar 2006 21:10:30 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: PhraseQuery and edit distance slightly confusing.
References: <441848B7.9090102@cs.put.poznan.pl> <4418695D.4070103@apache.org>
In-Reply-To: <4418695D.4070103@apache.org>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at cs.put.poznan.pl
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi Doug,

> Yes, it should probably be called "edit-distance-like" or something.

It should definitely say so in the JavaDoc because I've seen this 
propagate to people's articles (it was Eric Hatcher's I think, but I'm 
not sure).

> But what then would the criteria for matching at all be?  Right now it 
> is "distance <= slop", but, with this change, shouldn't it also take 
> into account the match length?

To be honest I didn't go that deep in the subject. I just found myself 
perplexed a bit when I saw you calculating the edit distance as a 
difference of two values :) Nothing personal of course, your code in 
there is quite neat but it tosses all all kinds of indices around and I 
actually thought I got it wrong somehow so I asked to be sure.

>  Right now the penalty is like the maximum error, but the sum of errors 
> in the match might be better.

That's the idea I came up too -- aggregating the error over absolute 
values of positional differences (?) would solve the problem; I'd also 
go for incrementing/ decrementing totalError instead of changing method 
signatures. I'm just not sure if it makes sense to change the behavior 
of PhraseQuery just because I had to please my curiosity :). People are 
used to how it works and maybe it should stay this way. If somebody 
really wants a real edit distance then with your hints and understanding 
of how PhraseQuery works it should be quite straightforward to implement.

Thanks for clarifications,
Dawid




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 20:23:41 2006
Return-Path: <java-user-return-19588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41712 invoked from network); 15 Mar 2006 20:23:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 20:23:40 -0000
Received: (qmail 86954 invoked by uid 500); 15 Mar 2006 20:23:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86929 invoked by uid 500); 15 Mar 2006 20:23:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86918 invoked by uid 99); 15 Mar 2006 20:23:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 12:23:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 12:23:34 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 905E85B766; Wed, 15 Mar 2006 12:23:12 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 806597F403
	for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 12:23:12 -0800 (PST)
Date: Wed, 15 Mar 2006 12:23:12 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: FunctionQuery example request
In-Reply-To: <20060315191747.82758.qmail@web30415.mail.mud.yahoo.com>
Message-ID: <Pine.LNX.4.58.0603151158360.6657@hal.rescomp.berkeley.edu>
References: <20060315191747.82758.qmail@web30415.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I have implemented the DistanceComparatorSource
: example from Lucene In Action (my Bible) and it works
: great. We are now in the situation where we have
: nearly a million documents in our index and the
: performance of this implementation has degraded.

: Can someone please spare a couple of minutes to give
: me an example of how I would implement a FunctionQuery
: to score each of the documents matched in my boolean
: query?

First off...

I'm not sure if replacing your DistanceComparatorSource with a
FunctionQuery that conputes the distance will result in a performance
improvment -- either way you'r computing the distance for every match.
Where using a FunctionQuery has it's greatest benefits is when you want
the order of results to be based not just on an equation (like you can
impliment with a SortComparatorSource) but by a score that is heavily
influenced using that equation.

That said, one approach using FunctionQuery that should improve the
performance over a SortComparatorSource that performs the same function,
would be to determine a "bounding box" and wrap your FunctionQuery
in a BooleanQuery with ConstantScoreRangeQueries that would enfoce this
bounding box -- that way your Function will only be asked to perform it's
computation on the items that are "near by" and you wont spend a lot of
time computing the distance on the less important (farther out) results.

For example, if you had a DistanceFunctionQuery, instead of using it like
this (psuedocode)

  Query mainQuery = ...
  BooleanQuery wrapper = new BooleanQuery()
  wrapper.add(mainQuery, MANDATORY)
  wrapper.add(new FunctionQuery(...), OPTIONAL)

...use something like this...

  Query mainQuery = ...
  BooleanQuery wrapper = new BooleanQuery()
  wrapper.add(mainQuery, MANDATORY)
  BooleanQuery sub = new BooleanQuery()
  sub.add(new FunctionQuery(...), OPTIONAL)
  sub.add(new ConstantScoreRangeQuery(lonField, currentLon-buf, currentLon+buf))
  sub.add(new ConstantScoreRangeQuery(latField, currentLat-buf, currentLat+buf))
  wrapper.add(sub, OPTIONAL)

Okay .. all of that said, the best way to understand how to impliment your
own function, is to start by looking at an existing Function that does
some numeric calculation. I would suggest starting with
LinearFloatFunction.

FunctionQueries work by dealing with ValueSources that determine the value
for a document.  LinearFloatFunction is a type of ValueSource that works
by computing a simple calculation on the results of another ValueSource.
ValueSources could be nested pretty much indefinitely, but eventually you
want to deal with acctaul data from the index -- which is where
IntFieldSource or FloatFieldSource come in -- they are very simple
ValueSource implimentations that just returns the value of an indexed
numeric field using the FieldCache.

If you look at the source for LinearFloatFunction. you'll see that it
takes one ValueSource in it's constructor, and then in it's
getValues(IndexReader) method it uses the values from that ValueSource in
a linear equation.

to achieve similar results with a distance equation, you would want your
DistanceFunction to take in two ValueSources (one for the longitude field,
and one for the latitude field) and your range.  then just override the
getValues(IndexReader) function to do the calculation you want.

you would then use it soemthing like this...

   FunctionQuery fq = new FunctionQuery(
          new DistanceFunction(
             new FloatFieldSource("latFieldName"),
             new FloatFieldSource("lonFieldName"),
             currentLat,
             currentLon));



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 23:21:51 2006
Return-Path: <java-user-return-19589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43919 invoked from network); 15 Mar 2006 23:21:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 23:21:51 -0000
Received: (qmail 85080 invoked by uid 500); 15 Mar 2006 23:21:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85049 invoked by uid 500); 15 Mar 2006 23:21:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85038 invoked by uid 99); 15 Mar 2006 23:21:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 15:21:45 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 15:21:44 -0800
Received: (qmail 87793 invoked by uid 60001); 15 Mar 2006 23:21:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=nXqpGjSqpTr0ywCewellTdvJZ7UmA/+dQuCnTF95nXG6DJR2EY27PQGAchtsAJo2mlBxbW75yzpYw2XvrvEtDjmgs2rgizmfT1L4MSA+L3DbRTNvmB8UUSQ7ryl77rZiL5PopH6TRJcLPRpeUsQBthKmL//uUHCV1GT1i9+mnC0=  ;
Message-ID: <20060315232123.87791.qmail@web50314.mail.yahoo.com>
Date: Wed, 15 Mar 2006 15:21:23 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: MultiSearch
To: java-user@lucene.apache.org
In-Reply-To: <20060315183928.36112.qmail@web32211.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The Javadoc should have all the info.
If not - Lucene in Action - http://www.lucenebook.com/search?query=multisearcher
If not - Lucene in Action's free code that includes code with MultiSearcher, as you can see from snippets at the above URL.

Otis

----- Original Message ----
From: Brian <okmred@yahoo.com>
To: java-user@lucene.apache.org
Sent: Wednesday, March 15, 2006 1:39:28 PM
Subject: MultiSearch

Hello Everyone,
     I currently have an IndexSearch working Great!
What I want to do now, is move to a multi Index
search. What's the best way to go about it? Is it a
simple process? Any thought's would be appreciated.
Thanks, B

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 15 23:30:34 2006
Return-Path: <java-user-return-19590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48347 invoked from network); 15 Mar 2006 23:30:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Mar 2006 23:30:34 -0000
Received: (qmail 1856 invoked by uid 500); 15 Mar 2006 23:30:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1826 invoked by uid 500); 15 Mar 2006 23:30:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1815 invoked by uid 99); 15 Mar 2006 23:30:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 15:30:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.8.156.205] (HELO brownbear.nameprotect.com) (69.8.156.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 15:30:27 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Vector Space Model <-> Probabilistic Model
Date: Wed, 15 Mar 2006 17:30:06 -0600
Message-ID: <450A5F8E4BF26340B4013C40E11ADA080109CD5A@brownbear.nameprotect.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Vector Space Model <-> Probabilistic Model
Thread-Index: AcYz0RMsDW8kgsPxQM+6gw+9WWGWZQUtyKLA
From: "Runde, Kevin" <krunde@NameProtect.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I recently came across this email in the Lucene user list and am
interested in this article. I tried to access it from the link you
provided, but couldn't find any link to access it. Do you still have an
electronic copy?

Thanks,
Kevin Runde=20

-----Original Message-----
From: Malcolm [mailto:malcyclark@btinternet.com]=20
Sent: Friday, February 17, 2006 8:47 AM
To: java-user@lucene.apache.org
Subject: Re: Vector Space Model <-> Probabilistic Model

I know of one I used for my Thesis. The REF is:
Fuhr, N. 2001, "Models in information retrieval", , pp. 21-50.

http://portal.acm.org/citation.cfm?id=3D567294

I may have a electronic version. If you need it give me an email address
as=20
this service doesn't allow attachments.

Hope this helps,

Malcolm Clark


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 00:15:29 2006
Return-Path: <java-user-return-19591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70006 invoked from network); 16 Mar 2006 00:15:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 00:15:29 -0000
Received: (qmail 60491 invoked by uid 500); 16 Mar 2006 00:15:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59566 invoked by uid 500); 16 Mar 2006 00:15:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59555 invoked by uid 99); 16 Mar 2006 00:15:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 16:15:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.20.56.74] (HELO mail.synechron.com) (69.20.56.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 16:15:23 -0800
Date: Wed, 15 Mar 2006 19:14:49 -0500
Message-Id: <200603151914.AA336003298@mail.synechron.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
From: "Amol Bhutada" <AmolB@synechron.com>
Reply-To: <AmolB@synechron.com>
X-Sender: <AmolB@synechron.com>
To: <java-user@lucene.apache.org>
Subject: closing searcher
X-Mailer: <IMail v8.15>
X-IMSTrailer: __IMail_7__
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am using lucene in a j2ee based webapplication. I have created a one instance of reader and searcher object and trying to use that for all searches from different users without recreating/refreshing reader & searcher objects.

Is this fine?
I am asking this because I am reading 
http://www.javaranch.com/newsletter/200404/Lucene.html

where it's writtne that for every search, after getting documents, close searcher object.

I am getting IOEXception bad file descriptor.


Please give me some directions.

thanks
Amol 




________________________________________________________________
Sent via the WebMail system at mail.synechron.com


 
                   


--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are confidential and the views expressed in the same are not necessarily the views of Synechron, and its Directors, Management or Employees. This communication represents the originator's personal views and opinions. If you are not the intended recipient or the person responsible for delivering the e-mail to the intended recipient, be advised that you have received this e-mail by error, and that any use, dissemination, forwarding, printing, or copying of this e-mail is strictly prohibited. You shall be under obligation to keep the contents of this e-mail, strictly confidential and shall not disclose, disseminate or divulge the same to any Person, Company, Firm or Entity. Even though Synechron uses up-to-date virus checking software to scan it's emails please ensure you have adequate virus protection before you open or detach any documents from this transmission. Synechron does not accept any liability for viruses 
 or vulnerabilities. The rights to monitor all e-mail communication through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 02:28:35 2006
Return-Path: <java-user-return-19592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31831 invoked from network); 16 Mar 2006 02:28:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 02:28:35 -0000
Received: (qmail 85635 invoked by uid 500); 16 Mar 2006 02:28:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85600 invoked by uid 500); 16 Mar 2006 02:28:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85589 invoked by uid 99); 16 Mar 2006 02:28:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 18:28:30 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 18:28:29 -0800
Received: (qmail 28432 invoked by uid 60001); 16 Mar 2006 02:28:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=T6NZoiV2swB66DefRaWHjSVNlcWntDiJsKGAnh9S7btVFNPrEGRTGDv6U/rOpvtxwQ6+433HWu6USHO1C7X2aeP+75qO6TUKzo+PgYQOX9NHdmO6r5mXLE82NnD5WTIx4X+BgVvl03L0xN0U/DQnlog1dDcerbeeqDDl7qzjZOU=  ;
Message-ID: <20060316022808.28430.qmail@web50305.mail.yahoo.com>
Date: Wed, 15 Mar 2006 18:28:07 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: closing searcher
To: java-user@lucene.apache.org
In-Reply-To: <200603151914.AA336003298@mail.synechron.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You are correct.  Reuse IndexSearcher.

Otis

----- Original Message ----
From: Amol Bhutada <AmolB@synechron.com>
To: java-user@lucene.apache.org
Sent: Wednesday, March 15, 2006 7:14:49 PM
Subject: closing searcher

Hi,
I am using lucene in a j2ee based webapplication. I have created a one instance of reader and searcher object and trying to use that for all searches from different users without recreating/refreshing reader & searcher objects.

Is this fine?
I am asking this because I am reading 
http://www.javaranch.com/newsletter/200404/Lucene.html

where it's writtne that for every search, after getting documents, close searcher object.

I am getting IOEXception bad file descriptor.


Please give me some directions.

thanks
Amol 




________________________________________________________________
Sent via the WebMail system at mail.synechron.com


 
                   


--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are confidential and the views expressed in the same are not necessarily the views of Synechron, and its Directors, Management or Employees. This communication represents the originator's personal views and opinions. If you are not the intended recipient or the person responsible for delivering the e-mail to the intended recipient, be advised that you have received this e-mail by error, and that any use, dissemination, forwarding, printing, or copying of this e-mail is strictly prohibited. You shall be under obligation to keep the contents of this e-mail, strictly confidential and shall not disclose, disseminate or divulge the same to any Person, Company, Firm or Entity. Even though Synechron uses up-to-date virus checking software to scan it's emails please ensure you have adequate virus protection before you open or detach any documents from this transmission. Synechron does not accept any liability for
 viruses 
 or vulnerabilities. The rights to monitor all e-mail communication through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 03:50:29 2006
Return-Path: <java-user-return-19593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60456 invoked from network); 16 Mar 2006 03:50:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 03:50:29 -0000
Received: (qmail 64906 invoked by uid 500); 16 Mar 2006 03:50:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64300 invoked by uid 500); 16 Mar 2006 03:50:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64276 invoked by uid 99); 16 Mar 2006 03:50:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 19:50:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 19:50:21 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id BB1385B8045
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 14:49:58 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id AAD5E53403A
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 14:49:58 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 05915-01-31 for <java-user@lucene.apache.org>;
 Thu, 16 Mar 2006 14:49:57 +1100 (EST)
Received: from [192.168.0.73] (unknown [192.168.0.73])
	by page.mel.office.aconex.com (Postfix) with ESMTP id F148F534039
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 14:49:56 +1100 (EST)
Message-ID: <4418E05C.9000504@aconex.com>
Date: Thu, 16 Mar 2006 14:49:48 +1100
From: Paul Cowan <cowan@aconex.com>
Organization: Aconex
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Multiple languages - possible approach
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everyone,

We are currently using Lucene to index correspondence between various 
people, who may or may not use the same language in their discussions to 
each other. Think an email system where participants might use the 
language that seems most appropriate to the thought at the time, just as 
they would in conversation.

An example (CN = some chinese text. Use your imagination!):

	From: Someone in the UK
	To: Someone in China
	Subject: Re: CNCNCNCNCNCNCNCNCNCNCN

	> CNCNCNCNCNCNCNCN

	Yes, I think that's fine. I'm OK with that as long as Bob is.

	> CNCNCNCNCNCN

	CNCN?

	> Tuesday OK?

	I need it by Monday, sorry. CNCN!

We need to index that, and be able to search on it -- for both the 
Chinese and English text. Note that stemming is not a particular need of 
ours -- we're happy to search for literal tokens, but of course that may 
not apply to other languages where stemming is expected behaviour, not 
just a 'nicety'.

Anyway: so far, fine -- StandardAnalyzer is perfectly suitable to our 
needs. The problem is, the next language out of the starting blocks is 
Arabic, which StandardAnalyzer doesn't seem to be up to.

I've looked into previous discussions about this on the various lists, 
and it seems to me there are a few options:

1) Maintain multiple indexes (StandardAnalyzer-analyzed, 
ArabicAnalyzer-analyzed, LanguageXXXAnalyzer-analyzed) and search across 
all of them, merging results

2) Maintain multiple indexes, ask the user which one to use at search-time:
	Search for the [Arabic \/] text: [______________________]

3) Use StandardAnalyzer and hope for the best.

4) Write a new... "Super Analyzer" that tries to deal with this. This is 
POSSIBLY the best idea -- and, of course, almost certainly the hardest!

Basically, what we're considering is writing some sort of new 
CompositeAnalyzer class which applies the following algorithm (in very 
simple terms):

a) Start reading the stream

b) Look at the next character

c) Use some sort of Character.UnicodeBlock (or Character.Subset 
generally) -> Analyzer mapping to work out which Analyzer we want to 
use. e.g. find a member of Character.UnicodeBlock.GREEK, load a 
GreekAnalyzer.

d) Keep reading until we hit something that makes us think we need to 
change analyzers (either end-of-stream or something incongruous -- e.g. 
something from Character.UnicodeBlock.CYRILLIC). Then bundle up what 
we've got, hand it to the GreekAnalyzer, and then start the process 
again with a RussianAnalyzer (or whatever).

Obviously the best way to do this would be to have these mappings 
dynamic, not set in stone -- some people might like all 
CJK_COMPATABILITY to be handed to the CJKAnalyzer, some to the 
ChineseAnalyzer, some might like to use their own, etc. Of course 
there's no reason default mappings can't be supplied.

I guess the basic question is -- what does everyone think? Is this 
useful/workable/are there any fatal flaws with it? Obviously the biggie 
is that sometimes Unicode ranges are not sufficient to determine which 
analyzer to use -- for example, we may want to specifically use the 
GermanAnalyzer for German text, but that is basically impossible to tell 
from English purely based on the Unicode block of the next character. At 
least this way, though, we'd have the OPTION of farming off to more 
specific Analyzers based on Character set; being able to have an 
Analyzer which can tell Urdu from Arabic is something of separate issue; 
at least the "CompositeAnalyzer" would bring us a bit closer to the 
goal. It may be rudimentary but I think the 'pluggable' architecture 
could be useful -- certainly more useful in our case than just running 
the StandardAnalyzer over everything.

If this project goes ahead, it's possible (even likely) that it would be 
contributed back to the Lucene sandbox. As such, I'm very interested to 
hear about any suggestions, criticisms, or other feedback you might have.

Cheers,

Paul Cowan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 04:23:45 2006
Return-Path: <java-user-return-19594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76291 invoked from network); 16 Mar 2006 04:23:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 04:23:45 -0000
Received: (qmail 1797 invoked by uid 500); 16 Mar 2006 04:23:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1775 invoked by uid 500); 16 Mar 2006 04:23:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1764 invoked by uid 99); 16 Mar 2006 04:23:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 20:23:39 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.228] (HELO web50315.mail.yahoo.com) (206.190.39.228)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 20:23:38 -0800
Received: (qmail 43823 invoked by uid 60001); 16 Mar 2006 04:23:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=xXs5AUS0DjUMAfFcKGLPT++397iYP7wce823oPhKkonUE0fMmFvuLVPlF+J4Z1JvXrBHQhdrNRy+b0bVQueFHI+mQWDg30vO4fJY+mcgfP4Ug3M9f2asPdalGFNnOo45Nuv7ZRnKEhsnpsxSHsDgZ15vco6O6jc5vFGDFR/Prik=  ;
Message-ID: <20060316042318.43821.qmail@web50315.mail.yahoo.com>
Date: Wed, 15 Mar 2006 20:23:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple languages - possible approach
To: java-user@lucene.apache.org
In-Reply-To: <4418E05C.9000504@aconex.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Paul,

I don't have any first-hand experience with this, but your suggestion about pluggable analyzers sounds both reasonable and interesting to me.  One thing you did not mention as a mechanism for figuring out which analyzer to use is language identification (like the one you can find among Nutch plugins).  If you can't tell which analyzer to use by looking at characters and unicode ranges, perhaps you can (also) read in/ahead a few tokens and pass them to language identifier before selecting the best analyzer.

This would be a great contribution, of course! :)

Otis

----- Original Message ----
From: Paul Cowan <cowan@aconex.com>
To: java-user@lucene.apache.org
Sent: Wednesday, March 15, 2006 10:49:48 PM
Subject: Multiple languages - possible approach

Hi everyone,

We are currently using Lucene to index correspondence between various 
people, who may or may not use the same language in their discussions to 
each other. Think an email system where participants might use the 
language that seems most appropriate to the thought at the time, just as 
they would in conversation.

An example (CN = some chinese text. Use your imagination!):

    From: Someone in the UK
    To: Someone in China
    Subject: Re: CNCNCNCNCNCNCNCNCNCNCN

    > CNCNCNCNCNCNCNCN

    Yes, I think that's fine. I'm OK with that as long as Bob is.

    > CNCNCNCNCNCN

    CNCN?

    > Tuesday OK?

    I need it by Monday, sorry. CNCN!

We need to index that, and be able to search on it -- for both the 
Chinese and English text. Note that stemming is not a particular need of 
ours -- we're happy to search for literal tokens, but of course that may 
not apply to other languages where stemming is expected behaviour, not 
just a 'nicety'.

Anyway: so far, fine -- StandardAnalyzer is perfectly suitable to our 
needs. The problem is, the next language out of the starting blocks is 
Arabic, which StandardAnalyzer doesn't seem to be up to.

I've looked into previous discussions about this on the various lists, 
and it seems to me there are a few options:

1) Maintain multiple indexes (StandardAnalyzer-analyzed, 
ArabicAnalyzer-analyzed, LanguageXXXAnalyzer-analyzed) and search across 
all of them, merging results

2) Maintain multiple indexes, ask the user which one to use at search-time:
    Search for the [Arabic \/] text: [______________________]

3) Use StandardAnalyzer and hope for the best.

4) Write a new... "Super Analyzer" that tries to deal with this. This is 
POSSIBLY the best idea -- and, of course, almost certainly the hardest!

Basically, what we're considering is writing some sort of new 
CompositeAnalyzer class which applies the following algorithm (in very 
simple terms):

a) Start reading the stream

b) Look at the next character

c) Use some sort of Character.UnicodeBlock (or Character.Subset 
generally) -> Analyzer mapping to work out which Analyzer we want to 
use. e.g. find a member of Character.UnicodeBlock.GREEK, load a 
GreekAnalyzer.

d) Keep reading until we hit something that makes us think we need to 
change analyzers (either end-of-stream or something incongruous -- e.g. 
something from Character.UnicodeBlock.CYRILLIC). Then bundle up what 
we've got, hand it to the GreekAnalyzer, and then start the process 
again with a RussianAnalyzer (or whatever).

Obviously the best way to do this would be to have these mappings 
dynamic, not set in stone -- some people might like all 
CJK_COMPATABILITY to be handed to the CJKAnalyzer, some to the 
ChineseAnalyzer, some might like to use their own, etc. Of course 
there's no reason default mappings can't be supplied.

I guess the basic question is -- what does everyone think? Is this 
useful/workable/are there any fatal flaws with it? Obviously the biggie 
is that sometimes Unicode ranges are not sufficient to determine which 
analyzer to use -- for example, we may want to specifically use the 
GermanAnalyzer for German text, but that is basically impossible to tell 
from English purely based on the Unicode block of the next character. At 
least this way, though, we'd have the OPTION of farming off to more 
specific Analyzers based on Character set; being able to have an 
Analyzer which can tell Urdu from Arabic is something of separate issue; 
at least the "CompositeAnalyzer" would bring us a bit closer to the 
goal. It may be rudimentary but I think the 'pluggable' architecture 
could be useful -- certainly more useful in our case than just running 
the StandardAnalyzer over everything.

If this project goes ahead, it's possible (even likely) that it would be 
contributed back to the Lucene sandbox. As such, I'm very interested to 
hear about any suggestions, criticisms, or other feedback you might have.

Cheers,

Paul Cowan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 06:27:21 2006
Return-Path: <java-user-return-19595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16382 invoked from network); 16 Mar 2006 06:27:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 06:27:20 -0000
Received: (qmail 21978 invoked by uid 500); 16 Mar 2006 06:27:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21536 invoked by uid 500); 16 Mar 2006 06:27:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21525 invoked by uid 99); 16 Mar 2006 06:27:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 22:27:14 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of brianjriddle@gmail.com designates 64.233.182.193 as permitted sender)
Received: from [64.233.182.193] (HELO nproxy.gmail.com) (64.233.182.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 22:27:13 -0800
Received: by nproxy.gmail.com with SMTP id x37so194554nfc
        for <java-user@lucene.apache.org>; Wed, 15 Mar 2006 22:26:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YQdkzoXIFHjFrL78ge44h/JxYyuZe+p+P1OAcDGv9IO4tZwlLdGJY9NgZPhmvtUxLOwJc0E4hStps1M2Plqh3o+ySmqbn7YTreyboQRYmABYcnTqfIhVUFZDDPOkc34UDWThEWVEuQ0rvvJzLRqyE0BK+1gBvd1FFCCllGCg7og=
Received: by 10.49.8.1 with SMTP id l1mr684806nfi;
        Wed, 15 Mar 2006 22:26:52 -0800 (PST)
Received: by 10.48.255.5 with HTTP; Wed, 15 Mar 2006 22:26:52 -0800 (PST)
Message-ID: <516b77c50603152226s68771186pb0bdc6af9acd9768@mail.gmail.com>
Date: Thu, 16 Mar 2006 07:26:52 +0100
From: "Brian Riddle" <brianjriddle@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: FunctionQuery example request
In-Reply-To: <20060315191747.82758.qmail@web30415.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2385_17599761.1142490412045"
References: <20060315191747.82758.qmail@web30415.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2385_17599761.1142490412045
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hej Paul,

I have implemented the DistanceComparatorSource
> example from Lucene In Action (my Bible) and it works
> great. We are now in the situation where we have
> nearly a million documents in our index and the
> performance of this implementation has degraded.
>

I have had the same problem with DistanceComparatorSource from Lucene In
Action.  After doing some profiling
found that if you do not implement equals and hashcode in at least class
that implments SortComparatorSort
a memory leak is created.

The sorting api in lucene keeps a cache of SortComparators in
org.apache.lucene.search.FieldCacheImpl.
This cache is based on 3 things
1) IndexReader
2) Field you are sorting
3) Compartor you are using

If your compartor does not implement equals and hashcode your are getting
penalized twice as the int[] you are using is being created *everytime* the
sort is used and the internal cache in FieldCacheImpl grows overtime.

We had a similar degradation when using lucene until we implemented a equal=
s
and hascode in out SortComparatorSort.

We were using lucene-1.4.3 at the time and tried different combinations of
versions of java(1.4.2 compared to 1.5) and lucene. In our environment we
found that the best increase was by upgrading to lucene-1.9.1.
A little more info can be found here http://www.lucenebook.com/blog/errata/

/Brian

------=_Part_2385_17599761.1142490412045--

From java-user-return-19596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 07:38:54 2006
Return-Path: <java-user-return-19596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48278 invoked from network); 16 Mar 2006 07:38:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 07:38:54 -0000
Received: (qmail 18170 invoked by uid 500); 16 Mar 2006 07:38:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17921 invoked by uid 500); 16 Mar 2006 07:38:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17908 invoked by uid 99); 16 Mar 2006 07:38:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 23:38:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.187] (HELO hnexfe17.hetnet.nl) (195.121.6.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 23:38:47 -0800
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe17.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 16 Mar 2006 08:38:25 +0100
Mime-Version: 1.0 (Apple Message framework v746.3)
Content-Transfer-Encoding: 7bit
Message-Id: <28E83393-AC1D-4AAD-BB3B-399BF962FA6E@snigel.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: karl wettin <kalle@snigel.net>
Subject: fuzzy phrase query?
Date: Thu, 16 Mar 2006 08:40:35 +0100
X-Mailer: Apple Mail (2.746.3)
X-OriginalArrivalTime: 16 Mar 2006 07:38:25.0796 (UTC) FILETIME=[9C362440:01C648CC]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is it possible to make a phrase query fuzzy?

It could be a quick and not so dirty replacement for hidden markov  
models and thus produce great results for spell checking and other  
natrual language classifications.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 07:54:11 2006
Return-Path: <java-user-return-19597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53623 invoked from network); 16 Mar 2006 07:54:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 07:54:11 -0000
Received: (qmail 30924 invoked by uid 500); 16 Mar 2006 07:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30895 invoked by uid 500); 16 Mar 2006 07:54:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30884 invoked by uid 99); 16 Mar 2006 07:54:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Mar 2006 23:54:06 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.32] (HELO web36615.mail.mud.yahoo.com) (209.191.85.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Mar 2006 23:54:05 -0800
Received: (qmail 41426 invoked by uid 60001); 16 Mar 2006 07:53:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=pY7sdG9YeM744k1VtMTuzEMx5Oiiofa5MYDFMQDO0w670pIzWo1aw+j9WHC9u2S8QWhL9ILHkR2qAaJnhu32RX/ZbfESQXAgJLccMlQ4c0+L5SDNhuD8bsfOUZQLPd/cO11vsctAZTyXN7eP0z23p3/TIpMOvCF2eJ8wxAuaA74=  ;
Message-ID: <20060316075343.41424.qmail@web36615.mail.mud.yahoo.com>
Received: from [133.9.4.12] by web36615.mail.mud.yahoo.com via HTTP; Wed, 15 Mar 2006 23:53:43 PST
Date: Wed, 15 Mar 2006 23:53:43 -0800 (PST)
From: Supheakmungkol SARIN <supheakmungkol@yahoo.com>
Reply-To: supheakmungkol.sarin@gmail.com
Subject: Reading stop word from a file!
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-917739299-1142495623=:13300"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-917739299-1142495623=:13300
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Dear Luceners,
 
 I wonder if there is any pre-defined option to read stop-word from a file?
 
 Any comment is hightly appreciated.
 
 Thanks in advance & Best regards,
 
 Mungkol
 



__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-917739299-1142495623=:13300--

From java-user-return-19598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 08:04:43 2006
Return-Path: <java-user-return-19598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62739 invoked from network); 16 Mar 2006 08:04:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 08:04:41 -0000
Received: (qmail 47886 invoked by uid 500); 16 Mar 2006 08:04:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47861 invoked by uid 500); 16 Mar 2006 08:04:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47850 invoked by uid 99); 16 Mar 2006 08:04:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 00:04:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 00:04:27 -0800
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Thu, 16 Mar 2006 09:04:01 +0100
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <20060316075343.41424.qmail@web36615.mail.mud.yahoo.com>
References: <20060316075343.41424.qmail@web36615.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4906FBB9-3965-4873-848C-A884BE54B001@snigel.net>
Content-Transfer-Encoding: 7bit
From: karl wettin <kalle@snigel.net>
Subject: Re: Reading stop word from a file!
Date: Thu, 16 Mar 2006 09:06:09 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-OriginalArrivalTime: 16 Mar 2006 08:04:04.0807 (UTC) FILETIME=[31889570:01C648D0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


16 mar 2006 kl. 08.53 skrev Supheakmungkol SARIN:

> Dear Luceners,
>
>  I wonder if there is any pre-defined option to read stop-word from  
> a file?


   /** Builds an analyzer with the stop words from the given file.
    * @see WordlistLoader#getWordSet(File)
    */
   public StopAnalyzer(File stopwordsFile) throws IOException {
     stopWords = WordlistLoader.getWordSet(stopwordsFile);
   }



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 09:42:37 2006
Return-Path: <java-user-return-19599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18746 invoked from network); 16 Mar 2006 09:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 09:42:36 -0000
Received: (qmail 84154 invoked by uid 500); 16 Mar 2006 09:42:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84123 invoked by uid 500); 16 Mar 2006 09:42:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84112 invoked by uid 99); 16 Mar 2006 09:42:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 01:42:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 01:42:30 -0800
Received: (qmail 5402 invoked by uid 0); 16 Mar 2006 09:42:09 -0000
Received: from 130.159.248.222 by www056.gmx.net with HTTP;
	Thu, 16 Mar 2006 10:42:09 +0100 (MET)
Date: Thu, 16 Mar 2006 10:42:09 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <450A5F8E4BF26340B4013C40E11ADA080109CD5A@brownbear.nameprotect.com>
Subject: RE: Vector Space Model <-> Probabilistic Model
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <26455.1142502129@www056.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It was published by Norbert Fuhr in the IR Summer Scholl Proceedings. I
found it via Google by using the small extention ext:pdf :-) that time...

http://www.is.informatik.uni-duisburg.de/bib/pdf/ir/Fuhr:00a.pdf

In return, you can do me also a favour and email me (personally, if you like
since this is not directrly Lucene related) what you think about this
article.

Best wishes!

> --- Ursprngliche Nachricht ---
> Von: "Runde, Kevin" <krunde@NameProtect.com>
> An: <java-user@lucene.apache.org>
> Betreff: RE: Vector Space Model <-> Probabilistic Model
> Datum: Wed, 15 Mar 2006 17:30:06 -0600
> 
> Hello,
> 
> I recently came across this email in the Lucene user list and am
> interested in this article. I tried to access it from the link you
> provided, but couldn't find any link to access it. Do you still have an
> electronic copy?
> 
> Thanks,
> Kevin Runde 
> 
> -----Original Message-----
> From: Malcolm [mailto:malcyclark@btinternet.com] 
> Sent: Friday, February 17, 2006 8:47 AM
> To: java-user@lucene.apache.org
> Subject: Re: Vector Space Model <-> Probabilistic Model
> 
> I know of one I used for my Thesis. The REF is:
> Fuhr, N. 2001, "Models in information retrieval", , pp. 21-50.
> 
> http://portal.acm.org/citation.cfm?id=567294
> 
> I may have a electronic version. If you need it give me an email address
> as 
> this service doesn't allow attachments.
> 
> Hope this helps,
> 
> Malcolm Clark
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

-- 
Echte DSL-Flatrate dauerhaft fr 0,- Euro*!
"Feel free" mit GMX DSL! http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 10:10:46 2006
Return-Path: <java-user-return-19600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34490 invoked from network); 16 Mar 2006 10:10:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 10:10:45 -0000
Received: (qmail 25651 invoked by uid 500); 16 Mar 2006 10:10:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25114 invoked by uid 500); 16 Mar 2006 10:10:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25103 invoked by uid 99); 16 Mar 2006 10:10:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:10:39 -0800
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_WHOIS_BOGONS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [196.204.163.100] (HELO SEXGW3K-H2010.local.bibalex.dom) (196.204.163.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:10:38 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C648E1.C9036C84"
Subject: PhraseQuery
Date: Thu, 16 Mar 2006 12:10:00 +0200
Message-ID: <AAA84820D5874F46B68C394C41FBBB221D9AF0@SEXGW3K-H2010.local.bibalex.dom>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: PhraseQuery
Thread-Index: AcZI4cjyYCfokHs/QLu7NWV3UBBKhQ==
From: "Waleed Tayea" <Waleed.Tayea@bibalex.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C648E1.C9036C84
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Dear All.

I'm using the QueryParser to parse and return a query of a search string
of a single word. But the analyzer I uses emits another morphological
tokens from that single word. How can I prevent the QueryParser of
considering the search query as a PhraseQuery with the terms of that
single word search string and the other morphological tokens. I just
want to make it return a BooleanQuery with Boolean clauses of all
tokens, each one with its own as a TermQuery.

=20

Thanks.

Waleed Tayea



=20


------_=_NextPart_001_01C648E1.C9036C84--

From java-user-return-19601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 10:16:27 2006
Return-Path: <java-user-return-19601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38026 invoked from network); 16 Mar 2006 10:16:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 10:16:26 -0000
Received: (qmail 34650 invoked by uid 500); 16 Mar 2006 10:16:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34277 invoked by uid 500); 16 Mar 2006 10:16:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34266 invoked by uid 99); 16 Mar 2006 10:16:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:16:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:16:20 -0800
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Thu, 16 Mar 2006 11:15:57 +0100
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <28E83393-AC1D-4AAD-BB3B-399BF962FA6E@snigel.net>
References: <28E83393-AC1D-4AAD-BB3B-399BF962FA6E@snigel.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <09313834-73A9-40AC-B918-084876DFDFAE@snigel.net>
Content-Transfer-Encoding: 7bit
From: karl wettin <kalle@snigel.net>
Subject: Re: fuzzy phrase query?
Date: Thu, 16 Mar 2006 11:18:07 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-OriginalArrivalTime: 16 Mar 2006 10:15:57.0858 (UTC) FILETIME=[9E145820:01C648E2]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


16 mar 2006 kl. 08.40 skrev karl wettin:

> Is it possible to make a phrase query fuzzy?
>
> It could be a quick and not so dirty replacement for hidden markov  
> models and thus produce great results for spell checking and other  
> natrual language classifications.

Perhaps it is easier to make a SpanFuzzyQuery to use in conjunction  
with SpanNear?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 10:29:49 2006
Return-Path: <java-user-return-19602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45891 invoked from network); 16 Mar 2006 10:29:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 10:29:48 -0000
Received: (qmail 54490 invoked by uid 500); 16 Mar 2006 10:29:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54461 invoked by uid 500); 16 Mar 2006 10:29:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54447 invoked by uid 99); 16 Mar 2006 10:29:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:29:43 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of terenzio.treccani@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO pproxy.gmail.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:29:42 -0800
Received: by pproxy.gmail.com with SMTP id s49so415967pyc
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 02:29:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ogj+GArLIheTh0j9+9cawW3+Yn3I2NsjrFxq1I+I3XYWkWXb0SJONOy/09JY96jBD5aIb/7obArkOlkwK98cZE1K3zOhy9H6DiL1ajV9EUY5NMNmvXF/pkxYp5xXPOsFE939gxo3Cl+FsxhFUE5NmNT7Ws+O229y92PSGEDJYSM=
Received: by 10.35.99.14 with SMTP id b14mr826217pym;
        Thu, 16 Mar 2006 02:19:21 -0800 (PST)
Received: by 10.35.66.7 with HTTP; Thu, 16 Mar 2006 02:19:21 -0800 (PST)
Message-ID: <17137a7e0603160219j1d4a6cd9o@mail.gmail.com>
Date: Thu, 16 Mar 2006 11:19:21 +0100
From: "Terenzio Treccani" <terenzio.treccani@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Best design for an use case which is going to stress Lucene
In-Reply-To: <44186D03.8020903@curtin.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <17137a7e0603150942q1737e61cl@mail.gmail.com>
	 <44186D03.8020903@curtin.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You're both true, this doesn't sound like Lucene at all...
But the problem of such SQL tables is their size: speaking about
millions of customers and thousands of news items, the many-to-many
(CustArt) table would end up by containing BILLIONS of lines.... A bit
too big even for an Oracle table, I should think about partitioning
it, which is leading to performance issues... So, maybe option a)
would be a viable choice in terms of performances?

Thanks again
Terenzio

2006/3/15, Michael D. Curtin <mike@curtin.com>:
> This doesn't sound like a Lucene problem, at least the way you've describ=
ed
> it.  For example, Lucene can't search on any field that isn't indexed (an=
d
> most of yours aren't indexed).
>
> Given that, it seems like your option (c) is the way to go.  Seems like a
> simple RDBMS schema with 3 tables would do the trick:  Customers, Article=
s,
> and CustArt (or some other name munge) that notes which articles are for =
which
> customers.  If you use Oracle, there's even some sort of mechanism for se=
rving
> up the XML files via SQL*NET, if you didn't want to have to provide for
> multiple types of connections between clients and server.
>
> Good luck!
>
> --MDC
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 10:48:39 2006
Return-Path: <java-user-return-19603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57492 invoked from network); 16 Mar 2006 10:48:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 10:48:38 -0000
Received: (qmail 77235 invoked by uid 500); 16 Mar 2006 10:48:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77180 invoked by uid 500); 16 Mar 2006 10:48:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77147 invoked by uid 99); 16 Mar 2006 10:48:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:48:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 02:48:15 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id CE44A33D929; Thu, 16 Mar 2006 05:47:54 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id E418E33D928
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 05:47:53 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <28E83393-AC1D-4AAD-BB3B-399BF962FA6E@snigel.net>
References: <28E83393-AC1D-4AAD-BB3B-399BF962FA6E@snigel.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6A770CF1-EF14-4767-B946-8CB5F1449AF3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: fuzzy phrase query?
Date: Thu, 16 Mar 2006 05:47:51 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 16, 2006, at 2:40 AM, karl wettin wrote:
> Is it possible to make a phrase query fuzzy?

What do you mean by a fuzzy phrase query?   As in each term in the  
phrase is treated as a FuzzyQuery essentially such that "kool kat"  
matches "cool cat"?

This can be done with some work to implement a SpanFuzzyQuery  
(similar to the SpanRegexQuery in contrib/regex currently) and using  
SpanNearQuery instead of a PhraseQuery.   Performance is at risk  
doing such a query as all terms in the index need to be enumerated  
(or a subset if a prefix length is provided), but it can be done.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 11:07:44 2006
Return-Path: <java-user-return-19604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66568 invoked from network); 16 Mar 2006 11:07:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 11:07:44 -0000
Received: (qmail 2016 invoked by uid 500); 16 Mar 2006 11:07:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1979 invoked by uid 500); 16 Mar 2006 11:07:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1968 invoked by uid 99); 16 Mar 2006 11:07:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 03:07:36 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sun_miki@hotmail.com designates 65.54.174.23 as permitted sender)
Received: from [65.54.174.23] (HELO hotmail.com) (65.54.174.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 03:07:35 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 16 Mar 2006 03:07:15 -0800
Message-ID: <BAY103-F1335F52A17F511362AED21FEE70@phx.gbl>
Received: from 65.54.174.200 by by103fd.bay103.hotmail.msn.com with HTTP;
	Thu, 16 Mar 2006 11:07:13 GMT
X-Originating-IP: [193.63.235.44]
X-Originating-Email: [sun_miki@hotmail.com]
X-Sender: sun_miki@hotmail.com
In-Reply-To: <6A770CF1-EF14-4767-B946-8CB5F1449AF3@ehatchersolutions.com>
From: "miki sun" <sun_miki@hotmail.com>
To: java-user@lucene.apache.org
Subject: IndexFiles
Date: Thu, 16 Mar 2006 11:07:13 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 16 Mar 2006 11:07:15.0172 (UTC) FILETIME=[C84D3240:01C648E9]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

I am trying to use Lucene1.9.1 to index files on my computer.

According to the FAQ of the website:
- What Java version is required to run Lucene?
Lucene 1.4 will run with JDK 1.3 and up but requires at least JDK 1.4 to 
compile. Lucene >= 1.9 requires Java 1.4.

But I got the following error message:

C:\>java org.apache.lucene.demo.IndexFile T:\Bible\1\
Registry key 'Software\JavaSoft\Java Runtime Environment\CurrentVersion'
has value '1.4', but '1.3' is required.
Error: could not find java.dll
Error: could not find Java 2 Runtime Environment.

Can anyone advice me on this? Thanks

Miki



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 13:07:56 2006
Return-Path: <java-user-return-19605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44863 invoked from network); 16 Mar 2006 13:07:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 13:07:56 -0000
Received: (qmail 94790 invoked by uid 500); 16 Mar 2006 13:07:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94766 invoked by uid 500); 16 Mar 2006 13:07:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94755 invoked by uid 99); 16 Mar 2006 13:07:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 05:07:49 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.152 as permitted sender)
Received: from [205.158.62.152] (HELO ws6-5.us4.outblaze.com) (205.158.62.152)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 05:07:48 -0800
Received: (qmail 22655 invoked from network); 16 Mar 2006 13:08:01 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@68.73.6.55)
  by ws6-5.us4.outblaze.com with SMTP; 16 Mar 2006 13:08:01 -0000
Message-ID: <44196310.5090406@curtin.com>
Date: Thu, 16 Mar 2006 08:07:28 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Best design for an use case which is going to stress Lucene
References: <17137a7e0603150942q1737e61cl@mail.gmail.com>	 <44186D03.8020903@curtin.com> <17137a7e0603160219j1d4a6cd9o@mail.gmail.com>
In-Reply-To: <17137a7e0603160219j1d4a6cd9o@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Terenzio Treccani wrote:

> You're both true, this doesn't sound like Lucene at all...
> But the problem of such SQL tables is their size: speaking about
> millions of customers and thousands of news items, the many-to-many
> (CustArt) table would end up by containing BILLIONS of lines.... A bit
> too big even for an Oracle table, I should think about partitioning
> it, which is leading to performance issues... So, maybe option a)
> would be a viable choice in terms of performances?

To get billions of customer--item assignments, most items would have to be 
assigned to most customers.  How about storing only the misses?  That is, for 
each customer store only the items they should *not* get.  Or, conversely, for 
each item store only the customers they should *not* go to.  Billions of 
assignments might also imply a god-awful amount of reading and parsing of the 
XML files.

Maybe we should take a step back up the abstraction tree.  What is the access 
pattern for this data?  Do you need random access to the list of assignments 
as a matter of course, rarely, or never?  For example, do you iterate over the 
items, sending each one to each customer it was assigned to?  Or, for another 
example, do you need to look up all the items for a customer that just logged 
in?  Is it necessary to keep a historical record of item assignments, for how 
long, and in the same form as the "active" items?

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 13:36:10 2006
Return-Path: <java-user-return-19606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64182 invoked from network); 16 Mar 2006 13:36:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 13:36:09 -0000
Received: (qmail 61031 invoked by uid 500); 16 Mar 2006 13:36:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61005 invoked by uid 500); 16 Mar 2006 13:36:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60993 invoked by uid 99); 16 Mar 2006 13:36:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 05:36:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 05:36:01 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1507EDE6@mailer.syr.edu>; Thu, 16 Mar 2006 8:35:40 -0500
Message-ID: <441969AC.3080904@syr.edu>
Date: Thu, 16 Mar 2006 08:35:40 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Multiple languages - possible approach
References: <4418E05C.9000504@aconex.com>
In-Reply-To: <4418E05C.9000504@aconex.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Paul,

Sounds like a really interesting system!  I am curious, are your users 
fluent in multiple languages or are you using some type of translation 
component?

Some comments below and a few thoughts here.

How are you querying?  Are users entering mixed language queries too?  
Do you have a cross language component too?  Or is it the case that if 
they enter an English query they only want English searches?  If this is 
true, having multiple indexes would make things easier (or multiple 
fields) as you could simply detect (or know, based on user profile 
information) the query language and then select the appropriate 
index/field and you wouldn't need the extra complexity of #4.

Also, is the text so finely delineated as your example?  We sometimes 
run across the case where foreign languages will use other languages 
(mostly English) mid-sentence and it makes things quite ugly.   Approach 
4 should handle this, though

It seems no matter which approach you take, except for #3, you have to 
have a way of delineating the languages.

Also, you could use the PerFieldAnalyzerWrapper, and have one field per 
language per document, this way you wouldn't have to manage multiple 
indexes.  You would have to demarcate your text before indexing, I 
suppose, so you would have to process it twice, but that may not be a 
big deal for you.

-Grant

Paul Cowan wrote:
> Hi everyone,
>
> We are currently using Lucene to index correspondence between various 
> people, who may or may not use the same language in their discussions 
> to each other. Think an email system where participants might use the 
> language that seems most appropriate to the thought at the time, just 
> as they would in conversation.
>
> An example (CN = some chinese text. Use your imagination!):
>
>     From: Someone in the UK
>     To: Someone in China
>     Subject: Re: CNCNCNCNCNCNCNCNCNCNCN
>
>     > CNCNCNCNCNCNCNCN
>
>     Yes, I think that's fine. I'm OK with that as long as Bob is.
>
>     > CNCNCNCNCNCN
>
>     CNCN?
>
>     > Tuesday OK?
>
>     I need it by Monday, sorry. CNCN!
>
> We need to index that, and be able to search on it -- for both the 
> Chinese and English text. Note that stemming is not a particular need 
> of ours -- we're happy to search for literal tokens, but of course 
> that may not apply to other languages where stemming is expected 
> behaviour, not just a 'nicety'.
>
> Anyway: so far, fine -- StandardAnalyzer is perfectly suitable to our 
> needs. The problem is, the next language out of the starting blocks is 
> Arabic, which StandardAnalyzer doesn't seem to be up to.
>
> I've looked into previous discussions about this on the various lists, 
> and it seems to me there are a few options:
>
> 1) Maintain multiple indexes (StandardAnalyzer-analyzed, 
> ArabicAnalyzer-analyzed, LanguageXXXAnalyzer-analyzed) and search 
> across all of them, merging results
>
It is not always straightforward to merge results, as scores do not 
translate well across indexes.

> 2) Maintain multiple indexes, ask the user which one to use at 
> search-time:
>     Search for the [Arabic \/] text: [______________________]

>
> 3) Use StandardAnalyzer and hope for the best.
I don't think this is viable.  You are probably safe to use 
StandardAnalyzer as a default case for #4

>
> 4) Write a new... "Super Analyzer" that tries to deal with this. This 
> is POSSIBLY the best idea -- and, of course, almost certainly the 
> hardest!
>
> Basically, what we're considering is writing some sort of new 
> CompositeAnalyzer class which applies the following algorithm (in very 
> simple terms):
>
> a) Start reading the stream
>
> b) Look at the next character
>
> c) Use some sort of Character.UnicodeBlock (or Character.Subset 
> generally) -> Analyzer mapping to work out which Analyzer we want to 
> use. e.g. find a member of Character.UnicodeBlock.GREEK, load a 
> GreekAnalyzer.
>
> d) Keep reading until we hit something that makes us think we need to 
> change analyzers (either end-of-stream or something incongruous -- 
> e.g. something from Character.UnicodeBlock.CYRILLIC). Then bundle up 
> what we've got, hand it to the GreekAnalyzer, and then start the 
> process again with a RussianAnalyzer (or whatever).
>
> Obviously the best way to do this would be to have these mappings 
> dynamic, not set in stone -- some people might like all 
> CJK_COMPATABILITY to be handed to the CJKAnalyzer, some to the 
> ChineseAnalyzer, some might like to use their own, etc. Of course 
> there's no reason default mappings can't be supplied.
>
> I guess the basic question is -- what does everyone think? Is this 
> useful/workable/are there any fatal flaws with it? Obviously the 
> biggie is that sometimes Unicode ranges are not sufficient to 
> determine which analyzer to use -- for example, we may want to 
> specifically use the GermanAnalyzer for German text, but that is 
> basically impossible to tell from English purely based on the Unicode 
> block of the next character. At least this way, though, we'd have the 
> OPTION of farming off to more specific Analyzers based on Character 
> set; being able to have an Analyzer which can tell Urdu from Arabic is 
> something of separate issue; at least the "CompositeAnalyzer" would 
> bring us a bit closer to the goal. It may be rudimentary but I think 
> the 'pluggable' architecture could be useful -- certainly more useful 
> in our case than just running the StandardAnalyzer over everything.
>

This sounds like a reasonable approach.  I wonder a bit about how the 
TokenStream mechanism will work, considering tokenization can be quite 
different for Chinese and some of the other Asian languages as compared 
to Latin based languages.  Essentially, as things come into the 
Tokenizer, you will need to indicate to the analyzer which Filter to 
apply.  I guess this could be done by setting the Type property on the 
Token and having a Filter that wraps all of your other Filters and, 
based on Type, hands it off to the appropriate filter for that language.


> If this project goes ahead, it's possible (even likely) that it would 
> be contributed back to the Lucene sandbox. As such, I'm very 
> interested to hear about any suggestions, criticisms, or other 
> feedback you might have.
>
> Cheers,
>
> Paul Cowan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 14:34:11 2006
Return-Path: <java-user-return-19607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9113 invoked from network); 16 Mar 2006 14:34:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 14:34:11 -0000
Received: (qmail 7139 invoked by uid 500); 16 Mar 2006 14:34:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7098 invoked by uid 500); 16 Mar 2006 14:34:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7087 invoked by uid 99); 16 Mar 2006 14:34:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 06:34:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 06:34:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7421C33CFDE; Thu, 16 Mar 2006 09:33:43 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 0BA6D33C051
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 09:33:42 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <BAY103-F1335F52A17F511362AED21FEE70@phx.gbl>
References: <BAY103-F1335F52A17F511362AED21FEE70@phx.gbl>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F02EEF74-151E-4E47-A6F0-22841DC0FEC3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexFiles
Date: Thu, 16 Mar 2006 09:33:37 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The registry setting is probably irrelevant.  What does "java - 
version" report?

	Erik

On Mar 16, 2006, at 6:07 AM, miki sun wrote:

> Hi
>
> I am trying to use Lucene1.9.1 to index files on my computer.
>
> According to the FAQ of the website:
> - What Java version is required to run Lucene?
> Lucene 1.4 will run with JDK 1.3 and up but requires at least JDK  
> 1.4 to compile. Lucene >= 1.9 requires Java 1.4.
>
> But I got the following error message:
>
> C:\>java org.apache.lucene.demo.IndexFile T:\Bible\1\
> Registry key 'Software\JavaSoft\Java Runtime Environment 
> \CurrentVersion'
> has value '1.4', but '1.3' is required.
> Error: could not find java.dll
> Error: could not find Java 2 Runtime Environment.
>
> Can anyone advice me on this? Thanks
>
> Miki
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 14:36:33 2006
Return-Path: <java-user-return-19608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10333 invoked from network); 16 Mar 2006 14:36:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 14:36:32 -0000
Received: (qmail 14378 invoked by uid 500); 16 Mar 2006 14:36:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14303 invoked by uid 500); 16 Mar 2006 14:36:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14233 invoked by uid 99); 16 Mar 2006 14:36:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 06:36:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 06:36:20 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 605F333C051; Thu, 16 Mar 2006 09:35:59 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 007A633C051
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 09:35:58 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <AAA84820D5874F46B68C394C41FBBB221D9AF0@SEXGW3K-H2010.local.bibalex.dom>
References: <AAA84820D5874F46B68C394C41FBBB221D9AF0@SEXGW3K-H2010.local.bibalex.dom>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EED6F5C5-E82F-405A-9418-28B8D8DB3866@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: PhraseQuery
Date: Thu, 16 Mar 2006 09:35:56 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 16, 2006, at 5:10 AM, Waleed Tayea wrote:
> I'm using the QueryParser to parse and return a query of a search  
> string
> of a single word. But the analyzer I uses emits another morphological
> tokens from that single word. How can I prevent the QueryParser of
> considering the search query as a PhraseQuery with the terms of that
> single word search string and the other morphological tokens. I just
> want to make it return a BooleanQuery with Boolean clauses of all
> tokens, each one with its own as a TermQuery.

You will need to override this behavior by subclassing QueryParser  
and overriding getFieldQuery to create the BooleanQuery yourself.

If the tokens are emitted in the same position (increment of 0) and  
you're using Lucene 1.9.x it will work differently in this case than  
1.4.3 did - positions were not taken into account in 1.4.3, but are  
in the latest version.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 16:01:08 2006
Return-Path: <java-user-return-19609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76922 invoked from network); 16 Mar 2006 16:01:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 16:01:07 -0000
Received: (qmail 18426 invoked by uid 500); 16 Mar 2006 16:01:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18400 invoked by uid 500); 16 Mar 2006 16:01:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18386 invoked by uid 99); 16 Mar 2006 16:01:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:01:00 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.110] (HELO web30407.mail.mud.yahoo.com) (68.142.200.110)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 08:00:58 -0800
Received: (qmail 37462 invoked by uid 60001); 16 Mar 2006 16:00:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=PG0YgA6aMHbKMie39QogbHMAHAYaNl3KwFCqDhR8DLNVJ9FlQxUji+T9aRZg5MXDgoxaTeK9ttpAsvFT63GTyzK5W3FKDerSh5hGs8fHMpKyyB0Iz7gzwyNSdKA/lMmps9CDnvlzKEEFareqT/O0X9v6XQ+Eql4VSbDLZM4ug/A=  ;
Message-ID: <20060316160037.37460.qmail@web30407.mail.mud.yahoo.com>
Received: from [83.245.56.18] by web30407.mail.mud.yahoo.com via HTTP; Thu, 16 Mar 2006 08:00:37 PST
Date: Thu, 16 Mar 2006 08:00:37 -0800 (PST)
From: Paul Lynch <pablolynch@yahoo.com>
Subject: FunctionQuery example request
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

have implemented the DistanceComparatorSource example
from Lucene In Action (my Bible) and it works great.
We are now in the situation where we have nearly a
million documents in our index and the performance of
this implementation has degraded.

I have downloaded and am trying to understand the
org.apache.solr.search.function classes created by Mr
Seeley but must admit to being a little bit out of my
league with all the different elements involved. I
have read through various threads which make reference
to using the FunctionQuery class for different means
but I am struggling to fully understand the steps I
need to take.

Can someone please spare a couple of minutes to give
me an example of how I would implement a FunctionQuery
to score each of the documents matched in my boolean
query?

Regards,
Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 16:19:13 2006
Return-Path: <java-user-return-19610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92393 invoked from network); 16 Mar 2006 16:19:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 16:19:11 -0000
Received: (qmail 71991 invoked by uid 500); 16 Mar 2006 16:18:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71951 invoked by uid 500); 16 Mar 2006 16:18:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71543 invoked by uid 99); 16 Mar 2006 16:18:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:18:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 66.249.92.206 as permitted sender)
Received: from [66.249.92.206] (HELO uproxy.gmail.com) (66.249.92.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:18:35 -0800
Received: by uproxy.gmail.com with SMTP id j40so204817ugd
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 08:18:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=piu0BojanZQXQn8WmYV2N/HTBbuGJ9ucKPX947yAk79wYueal+GTSA7RccAAtcEC3jZQPSTn0Y69BJjNyGyGXiXMs8/1p33a+rxa4lwXStULbs1kIHoTumCpPY1AZY/2/RyYDL9F73dE6Sai4GesQRMvzCsfy3iPaXyVi0eINkI=
Received: by 10.67.19.8 with SMTP id w8mr1273409ugi;
        Thu, 16 Mar 2006 08:18:13 -0800 (PST)
Received: by 10.66.219.18 with HTTP; Thu, 16 Mar 2006 08:18:13 -0800 (PST)
Message-ID: <50f433360603160818h5427b53fj93991c83c52c6972@mail.gmail.com>
Date: Thu, 16 Mar 2006 08:18:13 -0800
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Business stop words?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4578_12911902.1142525893921"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4578_12911902.1142525893921
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Does anyone have a lead on "business" stop words?  Things like "inc", "llc"=
,
"md", etc.

I'd rather not reinvent this wheel.  :-)

cheers,
jeff

------=_Part_4578_12911902.1142525893921--

From java-user-return-19611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 16:35:01 2006
Return-Path: <java-user-return-19611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3760 invoked from network); 16 Mar 2006 16:35:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 16:35:01 -0000
Received: (qmail 27758 invoked by uid 500); 16 Mar 2006 16:34:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27727 invoked by uid 500); 16 Mar 2006 16:34:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27716 invoked by uid 99); 16 Mar 2006 16:34:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:34:55 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [82.110.37.195] (HELO uksmtp02.informa.com) (82.110.37.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:34:54 -0800
Received: from ukexfe01.UK.CorpLAN.net (ukexfe01.uk.corplan.net [192.168.45.51])
	by uksmtp02.informa.com (8.13.4/8.13.4) with ESMTP id k2GGXFBV001114
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 16:33:15 GMT
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.121]) by ukexfe01.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 16 Mar 2006 16:34:31 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: TooManyClauses exception in Lucene (1.4)
Date: Thu, 16 Mar 2006 16:34:29 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F387@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: TooManyClauses exception in Lucene (1.4)
Thread-Index: AcZJF3+XjQJSW5AIT2yY66wBs8dKcg==
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 16 Mar 2006 16:34:31.0427 (UTC) FILETIME=[806BED30:01C64917]
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 mlx=0 adultscore=0 adjust=0 reason=mlx engine=3.1.0-06022100 definitions=3.0.0-06031604
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

We're using queryparser to generate my queries (not ideal, and we're
planning on rewriting it, but at the moment we don't have the resources
to do so).=20

We have a default field "text" which contains all of our text fields,
and a "date" field which is just a string field in the format YYYY-MM-DD
(so we can sort).=20

I'm passing in the query string: broadband AND date:[2005-03-16 TO
2006-03-16]^0.01

(I'm weighting the date portion of the query so it doesn't affect the
sorting too heavily).=20

Running query.toString gives this: +text:broadband +date:[2005-03-16 TO
2006-03-16]^0.01

When I try to run the query, though, I get this Exception:

	org.apache.lucene.search.BooleanQuery$TooManyClauses
	at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:79)
	at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:71)
	at
org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:99)
	at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
	at
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
	at org.apache.lucene.search.Query.weight(Query.java:84)
	at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
	at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
	at org.apache.lucene.search.Hits.<init>(Hits.java:43)
	at org.apache.lucene.search.Searcher.search(Searcher.java:33)
	at org.apache.lucene.search.Searcher.search(Searcher.java:27)

I know Lucene 1.4 has a limited number of clauses, but assumed two or
three would be okay. :)

Any ideas would be gratefully received! Oddly, this doesn't seem to
occur every time, just with certain date ranges...

Cheers,

Tim.
---------------------------------------------------------------------------=
-----------------------------------------------------------------
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 16:41:00 2006
Return-Path: <java-user-return-19612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7111 invoked from network); 16 Mar 2006 16:41:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 16:41:00 -0000
Received: (qmail 36217 invoked by uid 500); 16 Mar 2006 16:40:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35944 invoked by uid 500); 16 Mar 2006 16:40:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35933 invoked by uid 99); 16 Mar 2006 16:40:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:40:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.222] (HELO virginia.cc.emory.edu) (170.140.8.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:40:53 -0800
Received: from localhost (localhost [127.0.0.1])
	by virginia.cc.emory.edu (8.13.4/8.13.4) with ESMTP id k2GGeWTu028679
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 11:40:32 -0500 (EST)
Received: from metascholar3.library.emory.edu(metascholar3.library.emory.edu
	 [170.140.210.99]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Thu, 16 Mar 200611:40:32 -0500
Message-ID: <20060316114032.q20v40nwg00w40sw@webmail.service.emory.edu>
Date: Thu, 16 Mar 2006 11:40:32 -0500
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: use of ChainedFilter
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-imss-version: 2.038
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am using ChainedFilter to combine various filters. No mattar which 
logical operator i try to apply to all filters, when i try to print the 
chained filters using toString() method, i see

ChainedFilter: [views:[0.4-0.6] level:[1-} ]

i am concerned about not being able to see the logical operator in the 
print string. Should i be able to see the operator?

Urvashi






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 16:50:52 2006
Return-Path: <java-user-return-19613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13687 invoked from network); 16 Mar 2006 16:50:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 16:50:50 -0000
Received: (qmail 55769 invoked by uid 500); 16 Mar 2006 16:50:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55747 invoked by uid 500); 16 Mar 2006 16:50:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55736 invoked by uid 99); 16 Mar 2006 16:50:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 08:50:35 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.229] (HELO web60821.mail.yahoo.com) (209.73.178.229)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 08:50:34 -0800
Received: (qmail 77370 invoked by uid 60001); 16 Mar 2006 16:50:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=E6HokMzuYBnICmRfjFGmhn9X1nPp3ieifuoudhyiVLEvhSZrMA1FoGCjnGU1+xAL3DFJX4+9EYl5nQ3LFaqmTVgaK81cPtuPggTroIioCwn4tfyPVzJVpnFpIwfXxdS+poZB7fh661CeMY40cSCI5OdziFuvHTdr4jwhw0Xu1gI=  ;
Message-ID: <20060316165013.77368.qmail@web60821.mail.yahoo.com>
Received: from [212.179.71.70] by web60821.mail.yahoo.com via HTTP; Thu, 16 Mar 2006 08:50:13 PST
Date: Thu, 16 Mar 2006 08:50:13 -0800 (PST)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: Re: Can Lucene load more then 2GB into RAM memory?
To: java-user@lucene.apache.org
In-Reply-To: <44163FBD.4020401@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-787962139-1142527813=:76169"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-787962139-1142527813=:76169
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

i wrote a patch for this and the difference is unbelievable,
   
  the memory footprint has been cut almost in half and it seems like performance is basically the same if not better!!!
   
  if anyone is interested let me know

Doug Cutting <cutting@apache.org> wrote:
  RAMDirectory is indeed currently limited to 2GB. This would not be too 
hard to fix. Please file a bug report. Better yet, attach a patch.

I assume you're running a 64bit JVM. If so, then MMapDirectory might 
also work well for you.

Doug

zzzzz shalev wrote:
> this is in continuation of a previous email i sent
> 
> i have a 6gb index containing over 12 million terms.
> 
> looking at the Lucene code RAMDirectory.java
> 
> i see an int cast of the index file size, meaning there is a 2GB limit
> 
> did i miss something?
> 
> has anyone loaded more then a single 2GB index into RAM ??????
> 
> thanks,
> 
> 
> 
> 
> 
> 
> 
> ---------------------------------
> Yahoo! Mail
> Bring photos to life! New PhotoMail makes sharing a breeze. 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



		
---------------------------------
Yahoo! Mail
Bring photos to life! New PhotoMail  makes sharing a breeze. 
--0-787962139-1142527813=:76169--

From java-user-return-19614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 17:08:36 2006
Return-Path: <java-user-return-19614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27793 invoked from network); 16 Mar 2006 17:08:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 17:08:35 -0000
Received: (qmail 6546 invoked by uid 500); 16 Mar 2006 17:08:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6523 invoked by uid 500); 16 Mar 2006 17:08:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6512 invoked by uid 99); 16 Mar 2006 17:08:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 09:08:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 09:08:28 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2GH8ABf001014
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 12:08:10 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2GH7xPC050782;
	Thu, 16 Mar 2006 12:07:59 -0500
Message-ID: <44199B6E.5030803@apache.org>
Date: Thu, 16 Mar 2006 09:07:58 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Can Lucene load more then 2GB into RAM memory?
References: <20060316165013.77368.qmail@web60821.mail.yahoo.com>
In-Reply-To: <20060316165013.77368.qmail@web60821.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Great!

Can you please share your changes?  The best way to do this is to:

1. Check Lucene's trunk out from subversion, with:

    svn co http://svn.apache.org/repos/asf/lucene/java lucene-trunk

2. Make your changes.  Use 'svn add' for new files, like unit tests.
    Please try to conform to the Sun coding conventions.  Make sure
    that all non-private elements have good javadoc comments, etc.

3. Check that 'ant clean test' completes successfully.

4. Generate a patch with:

    svn diff > my.patch

5. Create a new issue at:

    http://issues.apache.org/jira/browse/LUCENE

    You will need to create yourself a Jira account, if you don't
    already have one.

6. Attach your patch file to the issue.

Thanks!

Doug

zzzzz shalev wrote:
> i wrote a patch for this and the difference is unbelievable,
>    
>   the memory footprint has been cut almost in half and it seems like performance is basically the same if not better!!!
>    
>   if anyone is interested let me know
> 
> Doug Cutting <cutting@apache.org> wrote:
>   RAMDirectory is indeed currently limited to 2GB. This would not be too 
> hard to fix. Please file a bug report. Better yet, attach a patch.
> 
> I assume you're running a 64bit JVM. If so, then MMapDirectory might 
> also work well for you.
> 
> Doug
> 
> zzzzz shalev wrote:
> 
>>this is in continuation of a previous email i sent
>>
>>i have a 6gb index containing over 12 million terms.
>>
>>looking at the Lucene code RAMDirectory.java
>>
>>i see an int cast of the index file size, meaning there is a 2GB limit
>>
>>did i miss something?
>>
>>has anyone loaded more then a single 2GB index into RAM ??????
>>
>>thanks,
>>
>>
>>
>>
>>
>>
>>
>>---------------------------------
>>Yahoo! Mail
>>Bring photos to life! New PhotoMail makes sharing a breeze. 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 		
> ---------------------------------
> Yahoo! Mail
> Bring photos to life! New PhotoMail  makes sharing a breeze. 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 17:19:11 2006
Return-Path: <java-user-return-19615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35798 invoked from network); 16 Mar 2006 17:19:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 17:19:10 -0000
Received: (qmail 35652 invoked by uid 500); 16 Mar 2006 17:19:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35616 invoked by uid 500); 16 Mar 2006 17:19:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35527 invoked by uid 99); 16 Mar 2006 17:19:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 09:19:03 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 09:19:02 -0800
Received: by zproxy.gmail.com with SMTP id s1so442351nze
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 09:18:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Paylh8EfiVKUURwdyeQOB+9l3Ix2H5Dela5ofLcOmMzlv4NplRs9YcIsdkRJhZiq7onngwMgy6U3R4UkjTeGYvB3yel5NLhVc6xUko8Dnhps0dlp4X5UNjGpphdcz5KkosdtcO20qOA+p/pZB+WBh5w6OHXegawG80xw3gMWBDE=
Received: by 10.64.251.4 with SMTP id y4mr281417qbh;
        Thu, 16 Mar 2006 09:18:37 -0800 (PST)
Received: by 10.64.151.3 with HTTP; Thu, 16 Mar 2006 09:18:36 -0800 (PST)
Message-ID: <4f2c7c9b0603160918i463f571du@mail.gmail.com>
Date: Fri, 17 Mar 2006 01:18:36 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: About index deletion
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_701_9975505.1142529516875"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_701_9975505.1142529516875
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Because I will delete the indexed document periodically, So the index files
must be deleted after that. If I just want to delete some documents added
before some past day from the index, How should i do it?
Thank you in advance

------=_Part_701_9975505.1142529516875--

From java-user-return-19616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 17:26:51 2006
Return-Path: <java-user-return-19616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40388 invoked from network); 16 Mar 2006 17:26:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 17:26:50 -0000
Received: (qmail 54189 invoked by uid 500); 16 Mar 2006 17:26:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53855 invoked by uid 500); 16 Mar 2006 17:26:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53844 invoked by uid 99); 16 Mar 2006 17:26:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 09:26:36 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.228] (HELO web50315.mail.yahoo.com) (206.190.39.228)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 09:26:36 -0800
Received: (qmail 41975 invoked by uid 60001); 16 Mar 2006 17:26:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=j9XXD5dolYs75p+4wLyKuBr/5i/x8ssp9oeZ3lGxnCsiLSHI7EwW/A+GozL2wl3gc38hot+HjdakMWkVMmDcFRAyY25/keMT/uXz3frOeTTkyhpaDojjrnLCD/asUNBajFND3nKYtA88xG5hxCOdm5OiPxNMPITXq+h0L8HIhRM=  ;
Message-ID: <20060316172614.41973.qmail@web50315.mail.yahoo.com>
Date: Thu, 16 Mar 2006 09:26:14 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: TooManyClauses exception in Lucene (1.4)
To: java-user@lucene.apache.org
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F387@UKEXBE01.UK.CorpLAN.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tim,

This is possible a lot of days:
  date:[2005-03-16 TO 2006-03-16]
And if your 'date' field is more granular than 'a day', then this is a lot more hours/minutes/seconds/milliseconds.

Your range query is expanded to all unique values in the range.  This is probably in the FAQ, but if not, look at the first snippet:
http://www.lucenebook.com/search?query=indexing+date+millisecond

If you don't need hours/minutes/seconds/milliseconds, don't index them.

Otis


----- Original Message ----
From: Tim.Wright@informa.com
To: java-user@lucene.apache.org
Sent: Thursday, March 16, 2006 11:34:29 AM
Subject: TooManyClauses exception in Lucene (1.4)

Hi,

We're using queryparser to generate my queries (not ideal, and we're
planning on rewriting it, but at the moment we don't have the resources
to do so). 

We have a default field "text" which contains all of our text fields,
and a "date" field which is just a string field in the format YYYY-MM-DD
(so we can sort). 

I'm passing in the query string: broadband AND date:[2005-03-16 TO
2006-03-16]^0.01

(I'm weighting the date portion of the query so it doesn't affect the
sorting too heavily). 

Running query.toString gives this: +text:broadband +date:[2005-03-16 TO
2006-03-16]^0.01

When I try to run the query, though, I get this Exception:

    org.apache.lucene.search.BooleanQuery$TooManyClauses
    at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:79)
    at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:71)
    at
org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:99)
    at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
    at
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
    at org.apache.lucene.search.Query.weight(Query.java:84)
    at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
    at org.apache.lucene.search.Hits.<init>(Hits.java:43)
    at org.apache.lucene.search.Searcher.search(Searcher.java:33)
    at org.apache.lucene.search.Searcher.search(Searcher.java:27)

I know Lucene 1.4 has a limited number of clauses, but assumed two or
three would be okay. :)

Any ideas would be gratefully received! Oddly, this doesn't seem to
occur every time, just with certain date ranges...

Cheers,

Tim.
--------------------------------------------------------------------------------------------------------------------------------------------
The information contained in this email message may be confidential. If you are not the intended recipient, any use, interference with, disclosure or copying of this material is unauthorised and prohibited. Although this message and any attachments are believed to be free of viruses, no responsibility is accepted by Informa for any loss or damage arising in any way from receipt or use thereof.  Messages to and from the company are monitored for operational reasons and in accordance with lawful business practices. 
If you have received this message in error, please notify us by return and delete the message and any attachments.  Further enquiries/returns can be sent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 17:53:07 2006
Return-Path: <java-user-return-19617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57389 invoked from network); 16 Mar 2006 17:53:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 17:53:04 -0000
Received: (qmail 41504 invoked by uid 500); 16 Mar 2006 17:52:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41212 invoked by uid 500); 16 Mar 2006 17:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41201 invoked by uid 99); 16 Mar 2006 17:52:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 09:52:52 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [82.110.37.195] (HELO uksmtp02.informa.com) (82.110.37.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 09:52:51 -0800
Received: from ukexfe02.UK.CorpLAN.net (ukexfe02.uk.corplan.net [192.168.45.52])
	by uksmtp02.informa.com (8.13.4/8.13.4) with ESMTP id k2GHpDYM012345
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 17:51:13 GMT
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.121]) by ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 16 Mar 2006 17:52:29 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: TooManyClauses exception in Lucene (1.4)
Date: Thu, 16 Mar 2006 17:52:28 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F388@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: TooManyClauses exception in Lucene (1.4)
Thread-Index: AcZJHstEJhMSJSDEQHSb9mhi72bJ2wAAhqew
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 16 Mar 2006 17:52:29.0515 (UTC) FILETIME=[64C781B0:01C64922]
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 mlx=0 adultscore=0 adjust=0 reason=mlx engine=3.1.0-06022100 definitions=3.0.0-06031605
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ouch! Yes, we're indexing with seconds, that's almost certainly the
problem. :( I had no idea that rangequery worked by enumerating every
possible value, that's terrifying.=20

We have a requirement to index data going back for about 20 years,
though, and although daily resolution would be fine, this is still 7000
days. That's more than BooleanQuery supports.=20

So what's the solution? Surely we're not the only people who need to
search in date ranges going back this far? Does PrefixQuery work the
same way, or can we work around this by doing things like a prefixQuery
for "2005-01-" to catch an entire month in one query, etc?

Cheers,

Tim.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: 16 March 2006 17:26
To: java-user@lucene.apache.org
Subject: Re: TooManyClauses exception in Lucene (1.4)


Tim,

This is possible a lot of days:
  date:[2005-03-16 TO 2006-03-16]
And if your 'date' field is more granular than 'a day', then this is a
lot more hours/minutes/seconds/milliseconds.

Your range query is expanded to all unique values in the range.  This is
probably in the FAQ, but if not, look at the first snippet:
http://www.lucenebook.com/search?query=3Dindexing+date+millisecond

If you don't need hours/minutes/seconds/milliseconds, don't index them.

Otis


----- Original Message ----
From: Tim.Wright@informa.com
To: java-user@lucene.apache.org
Sent: Thursday, March 16, 2006 11:34:29 AM
Subject: TooManyClauses exception in Lucene (1.4)

Hi,

We're using queryparser to generate my queries (not ideal, and we're
planning on rewriting it, but at the moment we don't have the resources
to do so).=20

We have a default field "text" which contains all of our text fields,
and a "date" field which is just a string field in the format YYYY-MM-DD
(so we can sort).=20

I'm passing in the query string: broadband AND date:[2005-03-16 TO
2006-03-16]^0.01

(I'm weighting the date portion of the query so it doesn't affect the
sorting too heavily).=20

Running query.toString gives this: +text:broadband +date:[2005-03-16 TO
2006-03-16]^0.01

When I try to run the query, though, I get this Exception:

    org.apache.lucene.search.BooleanQuery$TooManyClauses
    at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:79)
    at
org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:71)
    at
org.apache.lucene.search.RangeQuery.rewrite(RangeQuery.java:99)
    at
org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:243)
    at
org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:166)
    at org.apache.lucene.search.Query.weight(Query.java:84)
    at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
    at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
    at org.apache.lucene.search.Hits.<init>(Hits.java:43)
    at org.apache.lucene.search.Searcher.search(Searcher.java:33)
    at org.apache.lucene.search.Searcher.search(Searcher.java:27)

I know Lucene 1.4 has a limited number of clauses, but assumed two or
three would be okay. :)

Any ideas would be gratefully received! Oddly, this doesn't seem to
occur every time, just with certain date ranges...

Cheers,

Tim.
------------------------------------------------------------------------
--------------------------------------------------------------------
The information contained in this email message may be confidential. If
you are not the intended recipient, any use, interference with,
disclosure or copying of this material is unauthorised and prohibited.
Although this message and any attachments are believed to be free of
viruses, no responsibility is accepted by Informa for any loss or damage
arising in any way from receipt or use thereof.  Messages to and from
the company are monitored for operational reasons and in accordance with
lawful business practices.=20
If you have received this message in error, please notify us by return
and delete the message and any attachments.  Further enquiries/returns
can be sent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------------=
-----------------------------------------------------------------
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 18:04:25 2006
Return-Path: <java-user-return-19618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63559 invoked from network); 16 Mar 2006 18:04:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 18:04:17 -0000
Received: (qmail 59839 invoked by uid 500); 16 Mar 2006 18:04:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59515 invoked by uid 500); 16 Mar 2006 18:04:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59504 invoked by uid 99); 16 Mar 2006 18:04:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 10:04:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.196 as permitted sender)
Received: from [66.249.92.196] (HELO uproxy.gmail.com) (66.249.92.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 10:04:04 -0800
Received: by uproxy.gmail.com with SMTP id j40so217488ugd
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 10:03:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Qhn8lySFr35ONgqNcYCxa/ZJekRrWjHnTnGoMancoxh3PpfCzqLO7NuCbQ/OYUdevKQkP1ep+eMy3nsVyFzDGIioJvheylwQm8osO1GBk7rybTDE8FrKnTlZvc2TYtMwwWV+nkeRaxJ61UZ5IIwGznW6LEXNgnAZKu8B/1C1xcw=
Received: by 10.66.254.4 with SMTP id b4mr1332335ugi;
        Thu, 16 Mar 2006 10:03:43 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Thu, 16 Mar 2006 10:03:43 -0800 (PST)
Message-ID: <c68e39170603161003i688c16dasf3591c3b040c40e2@mail.gmail.com>
Date: Thu, 16 Mar 2006 13:03:43 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TooManyClauses exception in Lucene (1.4)
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F388@UKEXBE01.UK.CorpLAN.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F388@UKEXBE01.UK.CorpLAN.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/16/06, Tim.Wright@informa.com <Tim.Wright@informa.com> wrote:
> I had no idea that rangequery worked by enumerating every
> possible value, that's terrifying.

You could use either a RangeFilter or a ConstantScoreRangeQuery

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 18:27:17 2006
Return-Path: <java-user-return-19619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78946 invoked from network); 16 Mar 2006 18:27:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 18:27:16 -0000
Received: (qmail 9282 invoked by uid 500); 16 Mar 2006 18:27:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9257 invoked by uid 500); 16 Mar 2006 18:27:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9246 invoked by uid 99); 16 Mar 2006 18:27:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 10:27:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [68.142.198.201] (HELO smtp102.sbc.mail.mud.yahoo.com) (68.142.198.201)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 10:27:04 -0800
Received: (qmail 11106 invoked from network); 16 Mar 2006 18:26:40 -0000
Received: from unknown (HELO ?192.168.1.67?) (kkrugler@pacbell.net@64.71.164.125 with plain)
  by smtp102.sbc.mail.mud.yahoo.com with SMTP; 16 Mar 2006 18:26:40 -0000
Mime-Version: 1.0
Message-Id: <p0623090bc03f5b992f46@[192.168.1.67]>
In-Reply-To: <20060316165013.77368.qmail@web60821.mail.yahoo.com>
References: <20060316165013.77368.qmail@web60821.mail.yahoo.com>
Date: Thu, 16 Mar 2006 10:16:08 -0800
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: Can Lucene load more then 2GB into RAM memory?
Cc: zzzzz_shalev@yahoo.com
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>i wrote a patch for this and the difference is unbelievable,
>   
>   the memory footprint has been cut almost in half and it seems like 
>performance is basically the same if not better!!!
>   
>   if anyone is interested let me know

Best approach here is to open up a Jira issue, then submit the patch 
against it.

And yes, with a bunch of servers that all have 4GB of RAM, I'd be 
interested in the patch :)

Thanks for creating it.

-- Ken


>Doug Cutting <cutting@apache.org> wrote:
>   RAMDirectory is indeed currently limited to 2GB. This would not be too
>hard to fix. Please file a bug report. Better yet, attach a patch.
>
>I assume you're running a 64bit JVM. If so, then MMapDirectory might
>also work well for you.
>
>Doug
>
>zzzzz shalev wrote:
>>  this is in continuation of a previous email i sent
>>
>>  i have a 6gb index containing over 12 million terms.
>>
>>  looking at the Lucene code RAMDirectory.java
>>
>>  i see an int cast of the index file size, meaning there is a 2GB limit
>>
>>  did i miss something?
>>
>>  has anyone loaded more then a single 2GB index into RAM ??????
>>
>  > thanks,

-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"Find Code, Find Answers"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 18:50:08 2006
Return-Path: <java-user-return-19620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91838 invoked from network); 16 Mar 2006 18:50:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 18:49:51 -0000
Received: (qmail 57242 invoked by uid 500); 16 Mar 2006 18:49:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56942 invoked by uid 500); 16 Mar 2006 18:49:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56931 invoked by uid 99); 16 Mar 2006 18:49:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 10:49:38 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sun_miki@hotmail.com designates 65.54.174.15 as permitted sender)
Received: from [65.54.174.15] (HELO hotmail.com) (65.54.174.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 10:49:37 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 16 Mar 2006 10:49:17 -0800
Message-ID: <BAY103-F512BEDF29A1502A5FD262FEE70@phx.gbl>
Received: from 65.54.174.200 by by103fd.bay103.hotmail.msn.com with HTTP;
	Thu, 16 Mar 2006 18:49:15 GMT
X-Originating-IP: [193.63.235.44]
X-Originating-Email: [sun_miki@hotmail.com]
X-Sender: sun_miki@hotmail.com
In-Reply-To: <F02EEF74-151E-4E47-A6F0-22841DC0FEC3@ehatchersolutions.com>
From: "miki sun" <sun_miki@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexFiles
Date: Thu, 16 Mar 2006 18:49:15 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 16 Mar 2006 18:49:17.0450 (UTC) FILETIME=[54111EA0:01C6492A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you for reply, my Java run time environment did not work, that's why. 
It is fixed now.

Miki

----Original Message Follows----
From: Erik Hatcher <erik@ehatchersolutions.com>
Reply-To: java-user@lucene.apache.org
To: java-user@lucene.apache.org
Subject: Re: IndexFiles
Date: Thu, 16 Mar 2006 09:33:37 -0500

The registry setting is probably irrelevant.  What does "java - version" 
report?

	Erik

On Mar 16, 2006, at 6:07 AM, miki sun wrote:

>Hi
>
>I am trying to use Lucene1.9.1 to index files on my computer.
>
>According to the FAQ of the website:
>- What Java version is required to run Lucene?
>Lucene 1.4 will run with JDK 1.3 and up but requires at least JDK  1.4 to 
>compile. Lucene >= 1.9 requires Java 1.4.
>
>But I got the following error message:
>
>C:\>java org.apache.lucene.demo.IndexFile T:\Bible\1\
>Registry key 'Software\JavaSoft\Java Runtime Environment \CurrentVersion'
>has value '1.4', but '1.3' is required.
>Error: could not find java.dll
>Error: could not find Java 2 Runtime Environment.
>
>Can anyone advice me on this? Thanks
>
>Miki
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 19:23:19 2006
Return-Path: <java-user-return-19621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16397 invoked from network); 16 Mar 2006 19:23:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 19:23:09 -0000
Received: (qmail 45710 invoked by uid 500); 16 Mar 2006 19:22:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45675 invoked by uid 500); 16 Mar 2006 19:22:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45664 invoked by uid 99); 16 Mar 2006 19:22:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 11:22:53 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO pproxy.gmail.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 11:22:52 -0800
Received: by pproxy.gmail.com with SMTP id s49so617538pyc
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 11:21:59 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rCYaTAVEEQXJloupBsiNBA2YoBAw6XQPeJh+yaIrPhFfFnw30Aorp49KXdK7Nh+UIo0TlVEgmA7mvwe7LlY3O1Qq0vCoPFAsZ0s6cg+ZTAhgqMbmvyVDV7MQUD1Z7AL29c9NMZ4E8zKqODazfN84aREeMLMjQNRdoO7RTl6FCeU=
Received: by 10.35.39.2 with SMTP id r2mr191023pyj;
        Thu, 16 Mar 2006 11:11:58 -0800 (PST)
Received: by 10.35.17.4 with HTTP; Thu, 16 Mar 2006 11:11:58 -0800 (PST)
Message-ID: <359a92830603161111o6a2e1463o1f94203a86e457e9@mail.gmail.com>
Date: Thu, 16 Mar 2006 14:11:58 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TooManyClauses exception in Lucene (1.4)
In-Reply-To: <c68e39170603161003i688c16dasf3591c3b040c40e2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9217_21698290.1142536318840"
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F388@UKEXBE01.UK.CorpLAN.net>
	 <c68e39170603161003i688c16dasf3591c3b040c40e2@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9217_21698290.1142536318840
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

When I read LIA, I was struck by this issue, and it seemed...er...like an
easy mistake to make. Given that my impression of Lucene is that it's
extraordinarily well designed, I assume that there must be a good reason fo=
r
expanding range queries this way.

Could you point me to any explanation of *why* range queries expand this
way? And when I might *want* to use them? I guess my current thinking is
that I should never use a range query except under very specific
circumstances, and it would be helpful to me to have a clue what those
circumstances would be.

All in all, it seems that the way the expand makes range queries my last
choice rather than my first, and I'd like to know what overriding advantage
they give me in what circumstance that would make them worth the risk.

Risk, you ask? What risk? Well, I can easily imagine that whatever the
characteristics of the data you index, those characteristics could easily
change. And change in a way that makes a perfectly-running system no longer
run perfectly, leaving me scratching my head saying "it ran fine before we
added hours to the dates and just used days".

Yes, I'm paranoid about code with limits. I've spent too many days/weeks
chasing things like this down. But what do you expect from somebody who's
first jobs were programming in "C"? <G>

Thanks
Erick Erickson

------=_Part_9217_21698290.1142536318840--

From java-user-return-19622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 20:00:05 2006
Return-Path: <java-user-return-19622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38099 invoked from network); 16 Mar 2006 19:59:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 19:59:58 -0000
Received: (qmail 28745 invoked by uid 500); 16 Mar 2006 19:59:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28699 invoked by uid 500); 16 Mar 2006 19:59:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28524 invoked by uid 99); 16 Mar 2006 19:59:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 11:59:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 11:59:47 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2GJxQUC020947
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 11:59:26 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2GJxQkf020945
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 11:59:26 -0800
Received: from [10.17.80.104] (murky.us.scalix.com 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Thu, 16 Mar 2006 11:59:26 -0800 (PST)
Date: Thu, 16 Mar 2006 12:00:59 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <4419C3FB.2040108@scalix.com>
Subject: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

What's the best way to manage the number of open files used by Lucene
when it's running under Tomcat?  I have a indexing application running
as a web app and I index a huge number of mail messages (upwards of
40000 in some cases).  Lucene's merging routine always craps out
eventually with the "too many open files" regardless of how large I set
ulimit to.  lsof tells me they are all "deleted" but they still seem to
count as open files.  I don't want to set ulimit to some enormous value
just to solve this (because it will never be large enough).  What's the
best strategy here?

I have tried setting various parameters on the IndexWriter such as the
MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
affect the merge timing algorithm wrt memory usage.  The number of files
used seems to be unaffected by anything I can set on the IndexWriter.

Any hints much appreciated.

Cheers,

Nick.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 20:09:57 2006
Return-Path: <java-user-return-19623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44498 invoked from network); 16 Mar 2006 20:09:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 20:09:38 -0000
Received: (qmail 48497 invoked by uid 500); 16 Mar 2006 20:09:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48472 invoked by uid 500); 16 Mar 2006 20:09:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48461 invoked by uid 99); 16 Mar 2006 20:09:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:09:10 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 12:09:06 -0800
Received: (qmail 48596 invoked by uid 60001); 16 Mar 2006 20:08:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Bec5I6MRvaLwc404ieZH0+k12BEb3zL/RgV3ESzXuK1KGqdHRRJ47AuQD8D9DQYYnsqT7ApmP8SBz1b0fBXsoW5np/w56JAT7lfmIozhERfOsLiEjXJ1qb3tigo4fWlxhssNH0r8g2iENIrLxgQilfRML9w8dK+4ixBhuto2gK8=  ;
Message-ID: <20060316200845.48594.qmail@web50305.mail.yahoo.com>
Date: Thu, 16 Mar 2006 12:08:45 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene and Tomcat, too many open files
To: java-user@lucene.apache.org
In-Reply-To: <4419C3FB.2040108@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The easiest first step to try is to go from multi-file index structure to the compound one.

Otis

----- Original Message ----
From: Nick Atkins <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 16, 2006 3:00:59 PM
Subject: Lucene and Tomcat, too many open files

Hi,

What's the best way to manage the number of open files used by Lucene
when it's running under Tomcat?  I have a indexing application running
as a web app and I index a huge number of mail messages (upwards of
40000 in some cases).  Lucene's merging routine always craps out
eventually with the "too many open files" regardless of how large I set
ulimit to.  lsof tells me they are all "deleted" but they still seem to
count as open files.  I don't want to set ulimit to some enormous value
just to solve this (because it will never be large enough).  What's the
best strategy here?

I have tried setting various parameters on the IndexWriter such as the
MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
affect the merge timing algorithm wrt memory usage.  The number of files
used seems to be unaffected by anything I can set on the IndexWriter.

Any hints much appreciated.

Cheers,

Nick.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 20:11:22 2006
Return-Path: <java-user-return-19624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45544 invoked from network); 16 Mar 2006 20:11:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 20:11:19 -0000
Received: (qmail 52785 invoked by uid 500); 16 Mar 2006 20:11:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52724 invoked by uid 500); 16 Mar 2006 20:11:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52672 invoked by uid 99); 16 Mar 2006 20:11:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:11:09 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of paulo.silveira@gmail.com designates 64.233.182.202 as permitted sender)
Received: from [64.233.182.202] (HELO nproxy.gmail.com) (64.233.182.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:11:07 -0800
Received: by nproxy.gmail.com with SMTP id x37so300773nfc
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 12:10:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rO+TeM15N/IVpXfdouYuGeBHGuWQTRCMaKNUnh24pJCIXlnJMma8T1OhlUN6y8B7JKSJ+4eQmlfgpqUPJjo7homvAWw9pW0zxa5vF3yJrPLFoYGXrkphOlo1g0K857UsSlVPqcAJisnrd2Vqmgb8EgVaznozeMqdppli9i1vDNk=
Received: by 10.48.142.15 with SMTP id p15mr230058nfd;
        Thu, 16 Mar 2006 12:10:31 -0800 (PST)
Received: by 10.48.220.17 with HTTP; Thu, 16 Mar 2006 12:10:30 -0800 (PST)
Message-ID: <6026e8b0603161210i2e3246bh42f8ff5f7e6a54a4@mail.gmail.com>
Date: Thu, 16 Mar 2006 17:10:30 -0300
From: "Paulo Silveira" <paulo.silveira@caelum.com.br>
Sender: paulo.silveira@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene and Tomcat, too many open files
In-Reply-To: <4419C3FB.2040108@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4419C3FB.2040108@scalix.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nick!

I had also the same problem. Now on my SearchEngine class, when I
write a document to the index, I check if the number of documents mod
100 is 0. if it is, optimize().

Optimize() reduces  the number of documents used by the index, so the
number of open files also is reduced.

Take a look:

=09private synchronized void write(Document document) throws IOException {
=09=09logger.debug("writing document");
=09=09IndexWriter writer =3D openWriter();
=09=09if (writer.docCount() % 100 =3D=3D 0) {
=09=09=09// avoiding too many open files, indexing 100 by 100.
=09=09=09logger.info("optimizing indexes...");
=09=09=09writer.optimize();
=09=09}
=09=09writer.addDocument(document);
=09=09writer.close();
=09=09reopenSearcher();
=09=09logger.debug("document wrote");
=09}

I did not try to find a best value. 100 seems ok, although optimizing
my indexes is already taking 2 seconds (and in a synchronized method
this is not so good).

Tell me what you think.


On 3/16/06, Nick Atkins <Nick.Atkins@scalix.com> wrote:
> Hi,
>
> What's the best way to manage the number of open files used by Lucene
> when it's running under Tomcat?  I have a indexing application running
> as a web app and I index a huge number of mail messages (upwards of
> 40000 in some cases).  Lucene's merging routine always craps out
> eventually with the "too many open files" regardless of how large I set
> ulimit to.  lsof tells me they are all "deleted" but they still seem to
> count as open files.  I don't want to set ulimit to some enormous value
> just to solve this (because it will never be large enough).  What's the
> best strategy here?
>
> I have tried setting various parameters on the IndexWriter such as the
> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
> affect the merge timing algorithm wrt memory usage.  The number of files
> used seems to be unaffected by anything I can set on the IndexWriter.
>
> Any hints much appreciated.
>
> Cheers,
>
> Nick.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Paulo E. A. Silveira
Caelum Ensino e Solu=E7=F5es em Java
http://www.caelum.com.br/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 20:17:50 2006
Return-Path: <java-user-return-19625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48135 invoked from network); 16 Mar 2006 20:16:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 20:16:58 -0000
Received: (qmail 63884 invoked by uid 500); 16 Mar 2006 20:16:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63850 invoked by uid 500); 16 Mar 2006 20:16:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63839 invoked by uid 99); 16 Mar 2006 20:16:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:16:43 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:16:42 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2GKGHbL019511
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 15:16:17 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2GKGAmV076678;
	Thu, 16 Mar 2006 15:16:15 -0500
Message-ID: <4419C789.4060401@apache.org>
Date: Thu, 16 Mar 2006 12:16:09 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: TooManyClauses exception in Lucene (1.4)
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F388@UKEXBE01.UK.CorpLAN.net>	 <c68e39170603161003i688c16dasf3591c3b040c40e2@mail.gmail.com> <359a92830603161111o6a2e1463o1f94203a86e457e9@mail.gmail.com>
In-Reply-To: <359a92830603161111o6a2e1463o1f94203a86e457e9@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erick Erickson wrote:
> Could you point me to any explanation of *why* range queries expand this
> way?

It's just what they do.  They were contributed a long time ago, before 
things like RangeFilter or ConstantScoreRangeQuery were written.  The 
latter are relatively recent additions to Lucene and much improve it in 
this regard.

> All in all, it seems that the way the expand makes range queries my last
> choice rather than my first, and I'd like to know what overriding advantage
> they give me in what circumstance that would make them worth the risk.

The primary advantage of a RangeQuery is that the ranking incorporates 
the degree of match of each term in the range, which may be useful for 
wildcard-like searches but is useless for date-like searches.

A RangeFilter must perform much the same work, but does so using less 
memory.  The improvement is largely a constant factor, albeit a big one.

Now that we have RangeFilter and ConstantScoreRangeQuery, we should 
certainly try to point more users towards these by default.  In 
particular, I have long wished to remove the dangerous RangeQuery, 
PrefixQuery, and WildcardQuery from the QueryParser.  (FuzzyQuery 
intelligently limits the number of terms it expands to.)  We could by 
default replace these all with some sort of ConstantScoreQuery or 
ConstantScoreRangeQuery.  This would alter rankings a little in some 
cases, but I personally feel the benefits outweigh the costs.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 20:18:12 2006
Return-Path: <java-user-return-19626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49226 invoked from network); 16 Mar 2006 20:18:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 20:18:11 -0000
Received: (qmail 65471 invoked by uid 500); 16 Mar 2006 20:18:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65443 invoked by uid 500); 16 Mar 2006 20:18:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65432 invoked by uid 99); 16 Mar 2006 20:18:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:18:05 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=HTML_MESSAGE,INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:18:03 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2GKHgYl027634
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 12:17:42 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2GKHgh1027632
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 12:17:42 -0800
Received: from [10.17.80.104] (mkxpol9 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Thu, 16 Mar 2006 12:17:41 -0800 (PST)
Date: Thu, 16 Mar 2006 12:19:14 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <4419C842.8080205@scalix.com>
In-Reply-To: <6026e8b0603161210i2e3246bh42f8ff5f7e6a54a4@mail.gmail.com>
References: <4419C3FB.2040108@scalix.com>
References: <6026e8b0603161210i2e3246bh42f8ff5f7e6a54a4@mail.gmail.com>
Subject: Re: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="------------040807020909000000090709"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------040807020909000000090709
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline

Thanks Paulo,

I actually do something very similar.  I have a queue of all pending
updates and a Thread that manages the queue.  When the queue gets about
100 big or is 30 seconds old (whatever comes sooner) I process it which
results in all the Index writes.  I also always optimize() and close()
the writer at the end of each queue process.  It doesn't seem to make
any difference how often I do this, before long the number of open files
is too many.  Creating a new FSDirectory and a new IndexWriter to use
each time I process the queue does not help either.

I will Otis' idea of using a compound index structure and report back.

Cheers,

Nick.

Paulo Silveira wrote:
> Nick!
>
> I had also the same problem. Now on my SearchEngine class, when I
> write a document to the index, I check if the number of documents mod
> 100 is 0. if it is, optimize().
>
> Optimize() reduces  the number of documents used by the index, so the
> number of open files also is reduced.
>
> Take a look:
>
> 	private synchronized void write(Document document) throws IOException {
> 		logger.debug("writing document");
> 		IndexWriter writer = openWriter();
> 		if (writer.docCount() % 100 == 0) {
> 			// avoiding too many open files, indexing 100 by 100.
> 			logger.info("optimizing indexes...");
> 			writer.optimize();
> 		}
> 		writer.addDocument(document);
> 		writer.close();
> 		reopenSearcher();
> 		logger.debug("document wrote");
> 	}
>
> I did not try to find a best value. 100 seems ok, although optimizing
> my indexes is already taking 2 seconds (and in a synchronized method
> this is not so good).
>
> Tell me what you think.
>
>
> On 3/16/06, Nick Atkins <Nick.Atkins@scalix.com> wrote:
>   
>> Hi,
>>
>> What's the best way to manage the number of open files used by Lucene
>> when it's running under Tomcat?  I have a indexing application running
>> as a web app and I index a huge number of mail messages (upwards of
>> 40000 in some cases).  Lucene's merging routine always craps out
>> eventually with the "too many open files" regardless of how large I set
>> ulimit to.  lsof tells me they are all "deleted" but they still seem to
>> count as open files.  I don't want to set ulimit to some enormous value
>> just to solve this (because it will never be large enough).  What's the
>> best strategy here?
>>
>> I have tried setting various parameters on the IndexWriter such as the
>> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
>> affect the merge timing algorithm wrt memory usage.  The number of files
>> used seems to be unaffected by anything I can set on the IndexWriter.
>>
>> Any hints much appreciated.
>>
>> Cheers,
>>
>> Nick.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>     
>
>
> --
> Paulo E. A. Silveira
> Caelum Ensino e Solues em Java
> http://www.caelum.com.br/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   

--------------040807020909000000090709--

From java-user-return-19627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 20:29:54 2006
Return-Path: <java-user-return-19627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56357 invoked from network); 16 Mar 2006 20:29:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 20:29:47 -0000
Received: (qmail 93054 invoked by uid 500); 16 Mar 2006 20:29:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93021 invoked by uid 500); 16 Mar 2006 20:29:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93003 invoked by uid 99); 16 Mar 2006 20:29:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:29:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:29:37 -0800
Received: from [195.96.81.145] (helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1FJz5q-0003ca-Jb
	for java-user@lucene.apache.org; Thu, 16 Mar 2006 14:29:11 -0600
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: TooManyClauses exception in Lucene (1.4)
Date: Thu, 16 Mar 2006 23:36:26 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <4419C789.4060401@apache.org>
Thread-Index: AcZJNojeu+LkbmvSQVKOUrH5go6AbQAAUtGg
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060316202938.0426510FB02D@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Doug Cutting [mailto:cutting@apache.org] 
> 
> The primary advantage of a RangeQuery is that the ranking 
> incorporates the degree of match of each term in the range, 
> which may be useful for wildcard-like searches but is useless 
> for date-like searches.

Also, RangeQuery allows to highlight the results. Filter does not.
 
Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 20:41:11 2006
Return-Path: <java-user-return-19628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67847 invoked from network); 16 Mar 2006 20:41:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 20:41:10 -0000
Received: (qmail 14253 invoked by uid 500); 16 Mar 2006 20:41:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13822 invoked by uid 500); 16 Mar 2006 20:41:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13809 invoked by uid 99); 16 Mar 2006 20:41:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:41:03 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.86] (HELO smtpout.mac.com) (17.250.248.86)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 12:41:01 -0800
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/8.12.11/smtpout04/MantshX 4.0) with ESMTP id k2GKeesH001011
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 12:40:40 -0800 (PST)
Received: from [131.111.248.102] (md403.quns.cam.ac.uk [131.111.248.102])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 4.0) with ESMTP id k2GKebFn009800
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 12:40:40 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v746.3)
Content-Transfer-Encoding: 7bit
Message-Id: <BE07D857-20DA-44E4-AF91-1DF7BC4BEBA3@mac.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: Lucene Mailing List <java-user@lucene.apache.org>
From: Michael Dodson <mgdodson@mac.com>
Subject: re: restart interrupted index
Date: Thu, 16 Mar 2006 20:40:36 +0000
X-Mailer: Apple Mail (2.746.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm relatively new to Lucene and I've been trying to index a large  
number of html files.  If my operation is interrupted the index  
appears to be corrupted.  I can no longer open it for searching with  
IndexSearcher (and no amount of toying with Luke's options seems to  
help if I try to browse the index by that route).  I would like to be  
able to restart an interrupted process.  Should I be able to do this?

Cheers,

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 21:02:16 2006
Return-Path: <java-user-return-19629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79535 invoked from network); 16 Mar 2006 21:02:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 21:02:14 -0000
Received: (qmail 49582 invoked by uid 500); 16 Mar 2006 21:02:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49171 invoked by uid 500); 16 Mar 2006 21:02:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49160 invoked by uid 99); 16 Mar 2006 21:02:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 13:02:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.175] (HELO hnexfe09.hetnet.nl) (195.121.6.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 13:02:07 -0800
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe09.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Thu, 16 Mar 2006 22:01:44 +0100
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <6A770CF1-EF14-4767-B946-8CB5F1449AF3@ehatchersolutions.com>
References: <28E83393-AC1D-4AAD-BB3B-399BF962FA6E@snigel.net> <6A770CF1-EF14-4767-B946-8CB5F1449AF3@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8ABE703C-4700-4E1A-97DD-5015FDD93356@snigel.net>
Content-Transfer-Encoding: 7bit
From: karl wettin <kalle@snigel.net>
Subject: Re: fuzzy phrase query?
Date: Thu, 16 Mar 2006 22:03:35 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-OriginalArrivalTime: 16 Mar 2006 21:01:44.0470 (UTC) FILETIME=[D4DC2360:01C6493C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


16 mar 2006 kl. 11.47 skrev Erik Hatcher:

> This can be done with some work to implement a SpanFuzzyQuery  
> (similar to the SpanRegexQuery in contrib/regex currently) and  
> using SpanNearQuery instead of a PhraseQuery.

Thanks, I'll check it out.

> Performance is at risk doing such a query as all terms in the index  
> need to be enumerated (or a subset if a prefix length is provided),  
> but it can be done.

Speed in not an issue as I'll be using it for subject classification  
at index time only.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 22:18:36 2006
Return-Path: <java-user-return-19630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21338 invoked from network); 16 Mar 2006 22:18:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 22:18:35 -0000
Received: (qmail 61935 invoked by uid 500); 16 Mar 2006 22:18:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61907 invoked by uid 500); 16 Mar 2006 22:18:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61896 invoked by uid 99); 16 Mar 2006 22:18:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:18:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:18:27 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2GMI6ua027392;
	Thu, 16 Mar 2006 14:18:06 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2GMI6XG027390;
	Thu, 16 Mar 2006 14:18:06 -0800
Received: from [10.17.80.104] (murky.us.scalix.com 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Thu, 16 Mar 2006 14:18:06 -0800 (PST)
Date: Thu, 16 Mar 2006 14:19:39 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org, Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Message-ID: <4419E47B.3050508@scalix.com>
In-Reply-To: <20060316200845.48594.qmail@web50305.mail.yahoo.com>
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com>
Subject: Re: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Otis, I tried that but I still get the same problem at the ulimit
-n point.  I assume you meant I should call
IndexWriter.setUseCompoundFile(true).  According to the docs compound
structure is the default anyway.

Any further thoughts?  Anything I can tweak in the OS (Linux), Java
(1.5.0) or Lucene (1.9.1)?

Many thanks,

Nick

Otis Gospodnetic wrote:
> The easiest first step to try is to go from multi-file index structure to the compound one.
>
> Otis
>
> ----- Original Message ----
> From: Nick Atkins <Nick.Atkins@scalix.com>
> To: java-user@lucene.apache.org
> Sent: Thursday, March 16, 2006 3:00:59 PM
> Subject: Lucene and Tomcat, too many open files
>
> Hi,
>
> What's the best way to manage the number of open files used by Lucene
> when it's running under Tomcat?  I have a indexing application running
> as a web app and I index a huge number of mail messages (upwards of
> 40000 in some cases).  Lucene's merging routine always craps out
> eventually with the "too many open files" regardless of how large I set
> ulimit to.  lsof tells me they are all "deleted" but they still seem to
> count as open files.  I don't want to set ulimit to some enormous value
> just to solve this (because it will never be large enough).  What's the
> best strategy here?
>
> I have tried setting various parameters on the IndexWriter such as the
> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
> affect the merge timing algorithm wrt memory usage.  The number of files
> used seems to be unaffected by anything I can set on the IndexWriter.
>
> Any hints much appreciated.
>
> Cheers,
>
> Nick.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 22:35:42 2006
Return-Path: <java-user-return-19631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30017 invoked from network); 16 Mar 2006 22:35:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 22:35:41 -0000
Received: (qmail 81467 invoked by uid 500); 16 Mar 2006 22:35:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81416 invoked by uid 500); 16 Mar 2006 22:35:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81388 invoked by uid 99); 16 Mar 2006 22:35:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:35:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.177] (HELO moutng.kundenserver.de) (212.227.126.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:35:32 -0800
Received: from [84.131.17.152] (helo=[192.168.178.20])
	by mrelayeu.kundenserver.de (node=mrelayeu3) with ESMTP (Nemesis),
	id 0MKxQS-1FK13m0Nbq-0005k5; Thu, 16 Mar 2006 23:35:10 +0100
Message-ID: <4419E78A.70204@rc.ag>
Date: Thu, 16 Mar 2006 23:32:42 +0100
From: Hannes Carl Meyer <developers@rc.ag>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene and Tomcat, too many open files
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com> <4419E47B.3050508@scalix.com>
In-Reply-To: <4419E47B.3050508@scalix.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:a42d25494c1e4d7d8aa0d52bc18a9cb2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Nick,

use 'ulimit' on your ix system to check if its set to unlimited.

check: 
http://wwwcgi.rdg.ac.uk:8081/cgi-bin/cgiwrap/wsi14/poplog/man/2/ulimit

You don't have to set it to unlimited, maybe increasing the number will 
help.

later

Hannes

Nick Atkins schrieb:
> Thanks Otis, I tried that but I still get the same problem at the ulimit
> -n point.  I assume you meant I should call
> IndexWriter.setUseCompoundFile(true).  According to the docs compound
> structure is the default anyway.
>
> Any further thoughts?  Anything I can tweak in the OS (Linux), Java
> (1.5.0) or Lucene (1.9.1)?
>
> Many thanks,
>
> Nick
>
> Otis Gospodnetic wrote:
>   
>> The easiest first step to try is to go from multi-file index structure to the compound one.
>>
>> Otis
>>
>> ----- Original Message ----
>> From: Nick Atkins <Nick.Atkins@scalix.com>
>> To: java-user@lucene.apache.org
>> Sent: Thursday, March 16, 2006 3:00:59 PM
>> Subject: Lucene and Tomcat, too many open files
>>
>> Hi,
>>
>> What's the best way to manage the number of open files used by Lucene
>> when it's running under Tomcat?  I have a indexing application running
>> as a web app and I index a huge number of mail messages (upwards of
>> 40000 in some cases).  Lucene's merging routine always craps out
>> eventually with the "too many open files" regardless of how large I set
>> ulimit to.  lsof tells me they are all "deleted" but they still seem to
>> count as open files.  I don't want to set ulimit to some enormous value
>> just to solve this (because it will never be large enough).  What's the
>> best strategy here?
>>
>> I have tried setting various parameters on the IndexWriter such as the
>> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
>> affect the merge timing algorithm wrt memory usage.  The number of files
>> used seems to be unaffected by anything I can set on the IndexWriter.
>>
>> Any hints much appreciated.
>>
>> Cheers,
>>
>> Nick.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>   
>>     
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 22:44:33 2006
Return-Path: <java-user-return-19632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33555 invoked from network); 16 Mar 2006 22:44:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 22:44:31 -0000
Received: (qmail 92639 invoked by uid 500); 16 Mar 2006 22:44:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92460 invoked by uid 500); 16 Mar 2006 22:44:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92435 invoked by uid 99); 16 Mar 2006 22:44:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:44:18 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of paulo.silveira@gmail.com designates 64.233.182.206 as permitted sender)
Received: from [64.233.182.206] (HELO nproxy.gmail.com) (64.233.182.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:44:17 -0800
Received: by nproxy.gmail.com with SMTP id x37so320366nfc
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 14:43:56 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=F5zGuL4ZS1r0tfhtzcXzpfCDFJT1Oh2U6mqg3zUlZG/GtgHqqUP8t87aj/PaD3PUJQqzQ1Ei6YJdIyU0SSHOV/8byYz2myPeLfy3jySf0G/ZOlp5/0c1w3fv6ys7Iwn8aWHFSGnrm+wmUx4e2LNIWe3tBR+jl7QD54ir/SnrQ50=
Received: by 10.48.108.11 with SMTP id g11mr1142004nfc;
        Thu, 16 Mar 2006 14:43:56 -0800 (PST)
Received: by 10.48.220.17 with HTTP; Thu, 16 Mar 2006 14:43:56 -0800 (PST)
Message-ID: <6026e8b0603161443q3c96c457gd5c088070e3ed5b6@mail.gmail.com>
Date: Thu, 16 Mar 2006 19:43:56 -0300
From: "Paulo Silveira" <paulo.silveira@caelum.com.br>
Sender: paulo.silveira@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene and Tomcat, too many open files
In-Reply-To: <4419E78A.70204@rc.ag>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com>
	 <4419E47B.3050508@scalix.com> <4419E78A.70204@rc.ag>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nick

it is a guess, but the only difference between my approach and yours
is that I am optimizing as soon as I open the writer, and you are
optimizing after the last (100th) document is written.

At the same time I am using:

=09=09writer.setUseCompoundFile(true);
=09=09writer.mergeFactor =3D 10; (I really wonder why this is public)

I am also running it on linux, and this was the only way I solved the
problem (I didnt even touch the ulimit).

try this exact combination (compound file, optimizing every 100
documents before writting them, mergeFactor). please report back.

paulo

On 3/16/06, Hannes Carl Meyer <developers@rc.ag> wrote:
> Hi Nick,
>
> use 'ulimit' on your ix system to check if its set to unlimited.
>
> check:
> http://wwwcgi.rdg.ac.uk:8081/cgi-bin/cgiwrap/wsi14/poplog/man/2/ulimit
>
> You don't have to set it to unlimited, maybe increasing the number will
> help.
>
> later
>
> Hannes
>
> Nick Atkins schrieb:
> > Thanks Otis, I tried that but I still get the same problem at the ulimi=
t
> > -n point.  I assume you meant I should call
> > IndexWriter.setUseCompoundFile(true).  According to the docs compound
> > structure is the default anyway.
> >
> > Any further thoughts?  Anything I can tweak in the OS (Linux), Java
> > (1.5.0) or Lucene (1.9.1)?
> >
> > Many thanks,
> >
> > Nick
> >
> > Otis Gospodnetic wrote:
> >
> >> The easiest first step to try is to go from multi-file index structure=
 to the compound one.
> >>
> >> Otis
> >>
> >> ----- Original Message ----
> >> From: Nick Atkins <Nick.Atkins@scalix.com>
> >> To: java-user@lucene.apache.org
> >> Sent: Thursday, March 16, 2006 3:00:59 PM
> >> Subject: Lucene and Tomcat, too many open files
> >>
> >> Hi,
> >>
> >> What's the best way to manage the number of open files used by Lucene
> >> when it's running under Tomcat?  I have a indexing application running
> >> as a web app and I index a huge number of mail messages (upwards of
> >> 40000 in some cases).  Lucene's merging routine always craps out
> >> eventually with the "too many open files" regardless of how large I se=
t
> >> ulimit to.  lsof tells me they are all "deleted" but they still seem t=
o
> >> count as open files.  I don't want to set ulimit to some enormous valu=
e
> >> just to solve this (because it will never be large enough).  What's th=
e
> >> best strategy here?
> >>
> >> I have tried setting various parameters on the IndexWriter such as the
> >> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
> >> affect the merge timing algorithm wrt memory usage.  The number of fil=
es
> >> used seems to be unaffected by anything I can set on the IndexWriter.
> >>
> >> Any hints much appreciated.
> >>
> >> Cheers,
> >>
> >> Nick.
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Paulo E. A. Silveira
Caelum Ensino e Solu=E7=F5es em Java
http://www.caelum.com.br/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 22:45:04 2006
Return-Path: <java-user-return-19633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33890 invoked from network); 16 Mar 2006 22:45:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 22:45:01 -0000
Received: (qmail 94337 invoked by uid 500); 16 Mar 2006 22:44:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94306 invoked by uid 500); 16 Mar 2006 22:44:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94286 invoked by uid 99); 16 Mar 2006 22:44:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:44:54 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:44:53 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2GMiXHH002608
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 14:44:33 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2GMiXe2002606
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 14:44:33 -0800
Received: from [10.17.80.104] (mkxpol9 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Thu, 16 Mar 2006 14:44:33 -0800 (PST)
Date: Thu, 16 Mar 2006 14:46:05 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <4419EAAD.1040504@scalix.com>
In-Reply-To: <4419E78A.70204@rc.ag>
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com>
References: <4419E47B.3050508@scalix.com>
References: <4419E78A.70204@rc.ag>
Subject: Re: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Hannes,  on my Fedora machine the maximum I can do is ulimit -n
1048576 which is 1M files.  This should be enough for most sane cases
but it makes me uneasy.  I assume the "deleted" file entries reported by
lsof will be cleared up eventually?

I can't believe this is really the only option and there is no way
within Lucene to control the number of files opened.  Hmm...

Thanks,

Nick.

Hannes Carl Meyer wrote:
> Hi Nick,
>
> use 'ulimit' on your ix system to check if its set to unlimited.
>
> check:
> http://wwwcgi.rdg.ac.uk:8081/cgi-bin/cgiwrap/wsi14/poplog/man/2/ulimit
>
> You don't have to set it to unlimited, maybe increasing the number
> will help.
>
> later
>
> Hannes
>
> Nick Atkins schrieb:
>> Thanks Otis, I tried that but I still get the same problem at the ulimit
>> -n point.  I assume you meant I should call
>> IndexWriter.setUseCompoundFile(true).  According to the docs compound
>> structure is the default anyway.
>>
>> Any further thoughts?  Anything I can tweak in the OS (Linux), Java
>> (1.5.0) or Lucene (1.9.1)?
>>
>> Many thanks,
>>
>> Nick
>>
>> Otis Gospodnetic wrote:
>>  
>>> The easiest first step to try is to go from multi-file index
>>> structure to the compound one.
>>>
>>> Otis
>>>
>>> ----- Original Message ----
>>> From: Nick Atkins <Nick.Atkins@scalix.com>
>>> To: java-user@lucene.apache.org
>>> Sent: Thursday, March 16, 2006 3:00:59 PM
>>> Subject: Lucene and Tomcat, too many open files
>>>
>>> Hi,
>>>
>>> What's the best way to manage the number of open files used by Lucene
>>> when it's running under Tomcat?  I have a indexing application running
>>> as a web app and I index a huge number of mail messages (upwards of
>>> 40000 in some cases).  Lucene's merging routine always craps out
>>> eventually with the "too many open files" regardless of how large I set
>>> ulimit to.  lsof tells me they are all "deleted" but they still seem to
>>> count as open files.  I don't want to set ulimit to some enormous value
>>> just to solve this (because it will never be large enough).  What's the
>>> best strategy here?
>>>
>>> I have tried setting various parameters on the IndexWriter such as the
>>> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
>>> affect the merge timing algorithm wrt memory usage.  The number of
>>> files
>>> used seems to be unaffected by anything I can set on the IndexWriter.
>>>
>>> Any hints much appreciated.
>>>
>>> Cheers,
>>>
>>> Nick.
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>       
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>   
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 22:58:31 2006
Return-Path: <java-user-return-19634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39731 invoked from network); 16 Mar 2006 22:58:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 22:58:23 -0000
Received: (qmail 17264 invoked by uid 500); 16 Mar 2006 22:58:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17241 invoked by uid 500); 16 Mar 2006 22:58:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17230 invoked by uid 99); 16 Mar 2006 22:58:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:58:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.46] (HELO ylpvm15.prodigy.net) (207.115.57.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 14:58:13 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm15.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2GMvsYC011439
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 17:57:54 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2GMvg9E244430;
	Thu, 16 Mar 2006 17:57:47 -0500
Message-ID: <4419ED65.7050401@apache.org>
Date: Thu, 16 Mar 2006 14:57:41 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene and Tomcat, too many open files
References: <4419C3FB.2040108@scalix.com>
In-Reply-To: <4419C3FB.2040108@scalix.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you changing the default mergeFactor or other settings?  If so, how? 
  Large mergeFactors are generally a bad idea: they don't make things 
faster in the long run and they chew up file handles.

Are all searches reusing a single IndexReader?  They should.  This is 
the other most common reason folks run out of file handles: they open 
too many IndexReaders.  The exception may be thrown when merging, but 
the root cause might be something else.

Doug

Nick Atkins wrote:
> Hi,
> 
> What's the best way to manage the number of open files used by Lucene
> when it's running under Tomcat?  I have a indexing application running
> as a web app and I index a huge number of mail messages (upwards of
> 40000 in some cases).  Lucene's merging routine always craps out
> eventually with the "too many open files" regardless of how large I set
> ulimit to.  lsof tells me they are all "deleted" but they still seem to
> count as open files.  I don't want to set ulimit to some enormous value
> just to solve this (because it will never be large enough).  What's the
> best strategy here?
> 
> I have tried setting various parameters on the IndexWriter such as the
> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
> affect the merge timing algorithm wrt memory usage.  The number of files
> used seems to be unaffected by anything I can set on the IndexWriter.
> 
> Any hints much appreciated.
> 
> Cheers,
> 
> Nick.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 23:07:49 2006
Return-Path: <java-user-return-19635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44339 invoked from network); 16 Mar 2006 23:07:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 23:07:44 -0000
Received: (qmail 30843 invoked by uid 500); 16 Mar 2006 23:07:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30537 invoked by uid 500); 16 Mar 2006 23:07:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30519 invoked by uid 99); 16 Mar 2006 23:07:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:07:37 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO pproxy.gmail.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:07:36 -0800
Received: by pproxy.gmail.com with SMTP id s49so687191pyc
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 15:07:15 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sxjVYT37Ut4mJnZjFIy7D4t8XPhsmyLUc+kRzHARR6MUntsE8FZwHrPJ8Zc3UdDUh0jouBzZezFssJMXb9jytTiu7N1CmvQxULwli0HW/I4AsOnh/ZLiywBk/n8bAWHRkloHSJRmES9df6POZ3b8GL0nrzdVKAl+0ZuXiYM7OK8=
Received: by 10.35.96.11 with SMTP id y11mr456978pyl;
        Thu, 16 Mar 2006 15:07:15 -0800 (PST)
Received: by 10.35.17.4 with HTTP; Thu, 16 Mar 2006 15:07:15 -0800 (PST)
Message-ID: <359a92830603161507u7dd97d79n6f859ff7b5eaabae@mail.gmail.com>
Date: Thu, 16 Mar 2006 18:07:15 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TooManyClauses exception in Lucene (1.4)
In-Reply-To: <20060316202938.0426510FB02D@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11856_17965299.1142550435566"
References: <4419C789.4060401@apache.org>
	 <20060316202938.0426510FB02D@asf.osuosl.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11856_17965299.1142550435566
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks very much for your reply, I appreciate you taking the time.

Erick

------=_Part_11856_17965299.1142550435566--

From java-user-return-19636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 23:27:47 2006
Return-Path: <java-user-return-19636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53914 invoked from network); 16 Mar 2006 23:27:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 23:27:46 -0000
Received: (qmail 62455 invoked by uid 500); 16 Mar 2006 23:27:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62187 invoked by uid 500); 16 Mar 2006 23:27:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62176 invoked by uid 99); 16 Mar 2006 23:27:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:27:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:27:40 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2GNRJbc012307
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 15:27:19 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2GNRJNM012305
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 15:27:19 -0800
Received: from [10.17.80.104] (murky.us.scalix.com 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Thu, 16 Mar 2006 15:27:19 -0800 (PST)
Date: Thu, 16 Mar 2006 15:28:52 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <4419F4B4.60004@scalix.com>
In-Reply-To: <4419ED65.7050401@apache.org>
References: <4419C3FB.2040108@scalix.com>
References: <4419ED65.7050401@apache.org>
Subject: Re: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Doug,

I have experimented with a mergeFactor of 5 or 10 (default) but it
didn't help matters once I reached the ulimit.  I understand how the
mergeFactor affects Lucene's performance.

I am actually not doing any searches with IndexReader right now, just
indexing.  Yes, I do store and reuse the IndexReader per index, but my
test right now is purely indexing.

Setting my ulimit to 1M seems to do the trick for now, but I'm sure I
could do better by tweaking Lucene's API.  I will continue to investigate.

Thanks,

Nick.

Doug Cutting wrote:
> Are you changing the default mergeFactor or other settings?  If so,
> how?  Large mergeFactors are generally a bad idea: they don't make
> things faster in the long run and they chew up file handles.
>
> Are all searches reusing a single IndexReader?  They should.  This is
> the other most common reason folks run out of file handles: they open
> too many IndexReaders.  The exception may be thrown when merging, but
> the root cause might be something else.
>
> Doug
>
> Nick Atkins wrote:
>> Hi,
>>
>> What's the best way to manage the number of open files used by Lucene
>> when it's running under Tomcat?  I have a indexing application running
>> as a web app and I index a huge number of mail messages (upwards of
>> 40000 in some cases).  Lucene's merging routine always craps out
>> eventually with the "too many open files" regardless of how large I set
>> ulimit to.  lsof tells me they are all "deleted" but they still seem to
>> count as open files.  I don't want to set ulimit to some enormous value
>> just to solve this (because it will never be large enough).  What's the
>> best strategy here?
>>
>> I have tried setting various parameters on the IndexWriter such as the
>> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
>> affect the merge timing algorithm wrt memory usage.  The number of files
>> used seems to be unaffected by anything I can set on the IndexWriter.
>>
>> Any hints much appreciated.
>>
>> Cheers,
>>
>> Nick.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 23:42:42 2006
Return-Path: <java-user-return-19637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60251 invoked from network); 16 Mar 2006 23:42:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 23:42:41 -0000
Received: (qmail 86035 invoked by uid 500); 16 Mar 2006 23:42:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85793 invoked by uid 500); 16 Mar 2006 23:42:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85781 invoked by uid 99); 16 Mar 2006 23:42:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:42:35 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 15:42:34 -0800
Received: (qmail 9011 invoked by uid 60001); 16 Mar 2006 23:42:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=UvJeedEfo42grDPaVNsLx4JN50/FBUQ+O0Kdv8VHfhKb2qWg6+dHAJ9vLL/FcQJN/yPRUK5vKd4lTcA7fQM2hlhYGWOpMJKIomwbLQY4T7OmTI3ZBqC+XO6H9SHE/gN/nT0zIoYsWs9VgwI9fMs4LkupPx9sHBdXJBBB1E7gxhM=  ;
Message-ID: <20060316234213.9009.qmail@web50306.mail.yahoo.com>
Date: Thu, 16 Mar 2006 15:42:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene and Tomcat, too many open files
To: java-user@lucene.apache.org
In-Reply-To: <4419F4B4.60004@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This happens when you are doing indexing only!?  Wow, I've never seen that.  Try posting your code in a form of a unit test.

Otis

----- Original Message ----
From: Nick Atkins <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 16, 2006 6:28:52 PM
Subject: Re: Lucene and Tomcat, too many open files

Hi Doug,

I have experimented with a mergeFactor of 5 or 10 (default) but it
didn't help matters once I reached the ulimit.  I understand how the
mergeFactor affects Lucene's performance.

I am actually not doing any searches with IndexReader right now, just
indexing.  Yes, I do store and reuse the IndexReader per index, but my
test right now is purely indexing.

Setting my ulimit to 1M seems to do the trick for now, but I'm sure I
could do better by tweaking Lucene's API.  I will continue to investigate.

Thanks,

Nick.

Doug Cutting wrote:
> Are you changing the default mergeFactor or other settings?  If so,
> how?  Large mergeFactors are generally a bad idea: they don't make
> things faster in the long run and they chew up file handles.
>
> Are all searches reusing a single IndexReader?  They should.  This is
> the other most common reason folks run out of file handles: they open
> too many IndexReaders.  The exception may be thrown when merging, but
> the root cause might be something else.
>
> Doug
>
> Nick Atkins wrote:
>> Hi,
>>
>> What's the best way to manage the number of open files used by Lucene
>> when it's running under Tomcat?  I have a indexing application running
>> as a web app and I index a huge number of mail messages (upwards of
>> 40000 in some cases).  Lucene's merging routine always craps out
>> eventually with the "too many open files" regardless of how large I set
>> ulimit to.  lsof tells me they are all "deleted" but they still seem to
>> count as open files.  I don't want to set ulimit to some enormous value
>> just to solve this (because it will never be large enough).  What's the
>> best strategy here?
>>
>> I have tried setting various parameters on the IndexWriter such as the
>> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
>> affect the merge timing algorithm wrt memory usage.  The number of files
>> used seems to be unaffected by anything I can set on the IndexWriter.
>>
>> Any hints much appreciated.
>>
>> Cheers,
>>
>> Nick.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 23:50:10 2006
Return-Path: <java-user-return-19638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63726 invoked from network); 16 Mar 2006 23:50:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 23:50:10 -0000
Received: (qmail 99652 invoked by uid 500); 16 Mar 2006 23:50:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99375 invoked by uid 500); 16 Mar 2006 23:50:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99364 invoked by uid 99); 16 Mar 2006 23:50:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:50:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:50:03 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2GNngJP015804;
	Thu, 16 Mar 2006 15:49:42 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2GNngEQ015802;
	Thu, 16 Mar 2006 15:49:42 -0800
Received: from [10.17.80.104] (murky.us.scalix.com 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Thu, 16 Mar 2006 15:49:42 -0800 (PST)
Date: Thu, 16 Mar 2006 15:51:14 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org, Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Message-ID: <4419F9F2.2000608@scalix.com>
In-Reply-To: <20060316234213.9009.qmail@web50306.mail.yahoo.com>
References: <20060316234213.9009.qmail@web50306.mail.yahoo.com>
Subject: Re: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="------------060609030000040108090203"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------060609030000040108090203
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline

Yes, indexing only right now, although I can issue the odd search to
test it's being built properly.

My test (indexing 40000+ message's in a user's mailbox) causes
BatchUpdater thread to write everything to the index approx every 15-17
seconds.  The logs say:

[root@pippin bin]# tail -f ../logs/scalix-sis-indexer.log | grep close
2006-03-16 15:50:30,591 DEBUG [BatchUpdater.processMods:122] Writer
optimized and closed
2006-03-16 15:50:47,049 DEBUG [BatchUpdater.processMods:122] Writer
optimized and closed

and the index grows which tells me it's working OK.

My indexes are in /tmp/lucene and my parent java (Tomcat) process is pid
639.  I get this:

[root@pippin bin]# lsof -p 639 | grep \/tmp\/lucene | wc -l
51422

and growing.

When it's done I'll try another smaller mailbox with the default ulimit
and your suggestions and see if that helps.

Cheers,

Nick.

Otis Gospodnetic wrote:
> This happens when you are doing indexing only!?  Wow, I've never seen that.  Try posting your code in a form of a unit test.
>
> Otis
>
> ----- Original Message ----
> From: Nick Atkins <Nick.Atkins@scalix.com>
> To: java-user@lucene.apache.org
> Sent: Thursday, March 16, 2006 6:28:52 PM
> Subject: Re: Lucene and Tomcat, too many open files
>
> Hi Doug,
>
> I have experimented with a mergeFactor of 5 or 10 (default) but it
> didn't help matters once I reached the ulimit.  I understand how the
> mergeFactor affects Lucene's performance.
>
> I am actually not doing any searches with IndexReader right now, just
> indexing.  Yes, I do store and reuse the IndexReader per index, but my
> test right now is purely indexing.
>
> Setting my ulimit to 1M seems to do the trick for now, but I'm sure I
> could do better by tweaking Lucene's API.  I will continue to investigate.
>
> Thanks,
>
> Nick.
>
> Doug Cutting wrote:
>   
>> Are you changing the default mergeFactor or other settings?  If so,
>> how?  Large mergeFactors are generally a bad idea: they don't make
>> things faster in the long run and they chew up file handles.
>>
>> Are all searches reusing a single IndexReader?  They should.  This is
>> the other most common reason folks run out of file handles: they open
>> too many IndexReaders.  The exception may be thrown when merging, but
>> the root cause might be something else.
>>
>> Doug
>>
>> Nick Atkins wrote:
>>     
>>> Hi,
>>>
>>> What's the best way to manage the number of open files used by Lucene
>>> when it's running under Tomcat?  I have a indexing application running
>>> as a web app and I index a huge number of mail messages (upwards of
>>> 40000 in some cases).  Lucene's merging routine always craps out
>>> eventually with the "too many open files" regardless of how large I set
>>> ulimit to.  lsof tells me they are all "deleted" but they still seem to
>>> count as open files.  I don't want to set ulimit to some enormous value
>>> just to solve this (because it will never be large enough).  What's the
>>> best strategy here?
>>>
>>> I have tried setting various parameters on the IndexWriter such as the
>>> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
>>> affect the merge timing algorithm wrt memory usage.  The number of files
>>> used seems to be unaffected by anything I can set on the IndexWriter.
>>>
>>> Any hints much appreciated.
>>>
>>> Cheers,
>>>
>>> Nick.
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>       
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>     
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   

--------------060609030000040108090203--

From java-user-return-19639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 16 23:54:33 2006
Return-Path: <java-user-return-19639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65822 invoked from network); 16 Mar 2006 23:54:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Mar 2006 23:54:32 -0000
Received: (qmail 7210 invoked by uid 500); 16 Mar 2006 23:54:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7017 invoked by uid 500); 16 Mar 2006 23:54:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7006 invoked by uid 99); 16 Mar 2006 23:54:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:54:26 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.207 as permitted sender)
Received: from [66.249.92.207] (HELO uproxy.gmail.com) (66.249.92.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 15:54:26 -0800
Received: by uproxy.gmail.com with SMTP id j40so253230ugd
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 15:54:05 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Y9Q3uauhm02qStKyeC6LilVxg4kiaaVZBqpnYjsSZHErcP0Xmj7O7VvFAxFEoylq8sY0L4Y5qZ8iwocyNFUG1vf7IXwZt8jmiSbPUUBlQP6yF/E/E/UmqxVHlObUSYVf0ANZfEEqeEhMebNkhpcKzlzsExi/xu0D/PGq/UHoaYA=
Received: by 10.67.19.8 with SMTP id w8mr1550417ugi;
        Thu, 16 Mar 2006 15:54:05 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Thu, 16 Mar 2006 15:54:05 -0800 (PST)
Message-ID: <c68e39170603161554y25eb44a7pd83739585cf2c651@mail.gmail.com>
Date: Thu, 16 Mar 2006 18:54:05 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene and Tomcat, too many open files
Cc: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
In-Reply-To: <4419F9F2.2000608@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060316234213.9009.qmail@web50306.mail.yahoo.com>
	 <4419F9F2.2000608@scalix.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/16/06, Nick Atkins <Nick.Atkins@scalix.com> wrote:
> Yes, indexing only right now, although I can issue the odd search to
> test it's being built properly.

Ahh, as Otis suggests, it's probably is IndexReader(s) that are
exhausting the file descriptors.
Are you explicitly closing the old IndexReader each time you open a new one=
?

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 00:53:47 2006
Return-Path: <java-user-return-19640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92289 invoked from network); 17 Mar 2006 00:53:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 00:53:41 -0000
Received: (qmail 61782 invoked by uid 500); 17 Mar 2006 00:53:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61713 invoked by uid 500); 17 Mar 2006 00:53:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61635 invoked by uid 99); 17 Mar 2006 00:53:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 16:53:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 16:53:18 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2H0qscu005586;
	Thu, 16 Mar 2006 16:52:54 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2H0qsRg005579;
	Thu, 16 Mar 2006 16:52:54 -0800
Received: from [10.17.80.104] (mkxpol9 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Thu, 16 Mar 2006 16:52:54 -0800 (PST)
Date: Thu, 16 Mar 2006 16:54:27 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
cc: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Message-ID: <441A08C3.2090403@scalix.com>
In-Reply-To: <c68e39170603161554y25eb44a7pd83739585cf2c651@mail.gmail.com>
References: <20060316234213.9009.qmail@web50306.mail.yahoo.com>
References: <4419F9F2.2000608@scalix.com>
References: <c68e39170603161554y25eb44a7pd83739585cf2c651@mail.gmail.com>
Subject: Re: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="------------080403070903080001060009"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------080403070903080001060009
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline

Hi Yonik,  I'm not actually using any IndexReaders, just IndexWriters
and IndexSearchers.  I on;y get an IndexReader when I'm doing deletes
but that isn't the case in this test.  I definitely optimize() and
close() each IndexWriter when it's done writing its documents (about 200).

Anyway, I the problem occurs even when I do zero searches and deletes,
therefore I am only working with IndexWriters.

Cheers,

Nick.

Yonik Seeley wrote:
> On 3/16/06, Nick Atkins <Nick.Atkins@scalix.com> wrote:
>   
>> Yes, indexing only right now, although I can issue the odd search to
>> test it's being built properly.
>>     
>
> Ahh, as Otis suggests, it's probably is IndexReader(s) that are
> exhausting the file descriptors.
> Are you explicitly closing the old IndexReader each time you open a new one?
>
> -Yonik
> http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   

--------------080403070903080001060009--

From java-user-return-19641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 01:00:31 2006
Return-Path: <java-user-return-19641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94663 invoked from network); 17 Mar 2006 01:00:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 01:00:28 -0000
Received: (qmail 66304 invoked by uid 500); 17 Mar 2006 01:00:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66274 invoked by uid 500); 17 Mar 2006 01:00:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66263 invoked by uid 99); 17 Mar 2006 01:00:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 17:00:22 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.204 as permitted sender)
Received: from [66.249.92.204] (HELO uproxy.gmail.com) (66.249.92.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 17:00:21 -0800
Received: by uproxy.gmail.com with SMTP id j40so257391ugd
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 17:00:00 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=nblfRdMN2Bb7TkbaFe84oxgjXK5h0K9Zr4nZv+BkpfYA/ylnolp0U+9NRnIsI1mkowUAdDXB39O4jmbyamZ6TtjwH3coD4VQSWqWgyRICq5UTuy4x+vj8hEQCp3i3xUZWfam4yTcSwrVBHgvro/Z2ay7t646WQR6QuR5WJHuV5E=
Received: by 10.66.243.6 with SMTP id q6mr1194920ugh;
        Thu, 16 Mar 2006 17:00:00 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Thu, 16 Mar 2006 17:00:00 -0800 (PST)
Message-ID: <c68e39170603161700m783133d9te4270534ad68e41f@mail.gmail.com>
Date: Thu, 16 Mar 2006 20:00:00 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene and Tomcat, too many open files
Cc: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
In-Reply-To: <441A08C3.2090403@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <c68e39170603161554y25eb44a7pd83739585cf2c651@mail.gmail.com>
	 <441A08C3.2090403@scalix.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/16/06, Nick Atkins <Nick.Atkins@scalix.com> wrote:
> Hi Yonik,  I'm not actually using any IndexReaders, just IndexWriters
> and IndexSearchers.

An IndexSearcher contains an IndexReader.

>  I on;y get an IndexReader when I'm doing deletes
> but that isn't the case in this test.

Opening an IndexReader for deletes would cause the same number of
filehandles to be opened.

>  I definitely optimize() and
> close() each IndexWriter when it's done writing its documents (about 200)=
.
>
> Anyway, I the problem occurs even when I do zero searches and deletes,
> therefore I am only working with IndexWriters.

Do you not create any IndexSearchers then?  It's the creation of the
IndexReader in the IndexSearcher that has all the open files, even if
no searches are run against it.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 01:24:34 2006
Return-Path: <java-user-return-19642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8305 invoked from network); 17 Mar 2006 01:24:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 01:24:34 -0000
Received: (qmail 81390 invoked by uid 500); 17 Mar 2006 01:24:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81364 invoked by uid 500); 17 Mar 2006 01:24:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81353 invoked by uid 99); 17 Mar 2006 01:24:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 17:24:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 17:24:28 -0800
Received: by zproxy.gmail.com with SMTP id s1so537434nze
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 17:24:07 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=B4XNHkPsVkXhobxa15+luosymjBEpoBlgpO/ELrW/fbySKe06voM9itAOmqwzaWfVVIDN6Df26S25Igu1CI4RcY0GNYZDGLRQnqJCe0mpQL9lTtdHphV27Cj12F6FrYHMiAqCETxv4o49+FQooW9eNcgNNdVc/bl4TFtUujxKuI=
Received: by 10.65.253.13 with SMTP id f13mr1746025qbs;
        Thu, 16 Mar 2006 17:24:07 -0800 (PST)
Received: by 10.64.151.3 with HTTP; Thu, 16 Mar 2006 17:24:07 -0800 (PST)
Message-ID: <4f2c7c9b0603161724vb78e8f5p@mail.gmail.com>
Date: Fri, 17 Mar 2006 09:24:07 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: question...
In-Reply-To: <000c01c6470e$0f3bf660$7488a8c0@icsdtemp>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6839_20562421.1142558647313"
References: <000c01c6470e$0f3bf660$7488a8c0@icsdtemp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6839_20562421.1142558647313
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Do you mean you pack the index files into the file *.luc.If it is the case,
Lucene can't read it.
If you put index files and *.luc together under some directory, That's OK.
Lucene knows how to find these files


2006/3/14, Aditya Liviandi <adityal@i2r.a-star.edu.sg>:
>
>  Hi all,
>
>
>
> If I want to embed the index files into another file (say of extension
> *.luc, so now all the index files are flattened inside this new file), ca=
n I
> still use the index without having to extract out the index files to a te=
mp
> folder?
>
>
>
> aditya
>
> --------------------------------------------------- I=B2R Disclaimer
> ------------------------------
> This email is confidential and may be privileged.  If you are not the
> intended recipient, please delete it and notify us immediately. Please do
> not copy or use it for any purpose, or disclose its contents to any other
> person. Thank you.
>
> -------------------------------------------------------------------------=
------------------------
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_6839_20562421.1142558647313--

From java-user-return-19643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 01:27:37 2006
Return-Path: <java-user-return-19643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10242 invoked from network); 17 Mar 2006 01:27:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 01:27:37 -0000
Received: (qmail 86754 invoked by uid 500); 17 Mar 2006 01:27:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86730 invoked by uid 500); 17 Mar 2006 01:27:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86718 invoked by uid 99); 17 Mar 2006 01:27:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 17:27:31 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.122.139.27] (HELO rodin.i2r.a-star.edu.sg) (192.122.139.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 17:27:30 -0800
Received: from rodin.i2r.a-star.edu.sg (localhost [127.0.0.1])
	by rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2H1QwZb021683
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 09:26:58 +0800 (SGT)
Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2H1QvQN021678for 
	<java-user@lucene.apache.org>; Fri, 17 Mar 2006 09:26:57 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IW900MMT011TQ00@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Fri, 17 Mar 2006 09:27:01 +0800 (SGT)
Date: Fri, 17 Mar 2006 09:29:53 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: RE: question...
In-reply-to: <4f2c7c9b0603161724vb78e8f5p@mail.gmail.com>
To: java-user@lucene.apache.org
Message-id: <001e01c64962$4aa8d8c0$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain;
	charset=iso-8859-1
Content-transfer-encoding: quoted-printable
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:99.90000 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


All the index files will be in a file.

Has anyone written a module for lucene that provides an alternative IO
method? Instead of FSDirectory, it reads out of a stream?

-----Original Message-----
From: hu andy [mailto:andyhugb@gmail.com]=0D
Sent: Friday, March 17, 2006 9:24 AM
To: java-user@lucene.apache.org
Subject: Re: question...

Do you mean you pack the index files into the file *.luc.If it is the
case,
Lucene can't read it.
If you put index files and *.luc together under some directory, That's
OK.
Lucene knows how to find these files


2006/3/14, Aditya Liviandi <adityal@i2r.a-star.edu.sg>:
>
>  Hi all,
>
>
>
> If I want to embed the index files into another file (say of extension
> *.luc, so now all the index files are flattened inside this new file),
can I
> still use the index without having to extract out the index files to a
temp
> folder?
>
>
>
> aditya
>
> --------------------------------------------------- I=B2R Disclaimer
> ------------------------------
> This email is confidential and may be privileged.  If you are not the
> intended recipient, please delete it and notify us immediately. Please
do
> not copy or use it for any purpose, or disclose its contents to any
other
> person. Thank you.
>
>
------------------------------------------------------------------------
-------------------------
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--------------------------------------------------- I=B2R Disclaimer=
 ------------------------------
This email is confidential and may be privileged.  If you are not the=
 intended recipient, please delete it and notify us immediately. Please do=
 not copy or use it for any purpose, or disclose its contents to any other=
 person. Thank you.
---------------------------------------------------------------------------=
----------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 01:54:41 2006
Return-Path: <java-user-return-19644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24114 invoked from network); 17 Mar 2006 01:54:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 01:54:40 -0000
Received: (qmail 14781 invoked by uid 500); 17 Mar 2006 01:54:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14751 invoked by uid 500); 17 Mar 2006 01:54:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14740 invoked by uid 99); 17 Mar 2006 01:54:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 17:54:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.11 as permitted sender)
Received: from [219.125.112.11] (HELO nm05omta05b.dion.ne.jp) (219.125.112.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 17:54:33 -0800
Received: from sekiguchi ([59.135.80.235])
	by nm05mta.dion.ne.jp
	id <20060317105411798.MAB6.8141208@nm05mta.dion.ne.jp>;
	Fri, 17 Mar 2006 10:54:11 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: ConstantScoreRangeQuery and ConstantScoreQuery
Date: Fri, 17 Mar 2006 10:54:07 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCCEJMCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

At Doug's hand on recent thread "Re: TooManyClauses exception in Lucene
(1.4)",
I could understand why ConstantScoreRangeQuery was added in Lucene 1.9.
I appreciate that.

And I read the following issue again:

ConstantScoreRangeQuery - fixes "too many clauses" exception
http://issues.apache.org/jira/browse/LUCENE-383

But still, I cannot understand very well why ConstantScoreQuery comes out.
Is it for to implement ConstantScoreRangeQuery? Or, is it used for something
by itself?

Thank you very much in advance,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 02:05:37 2006
Return-Path: <java-user-return-19645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28451 invoked from network); 17 Mar 2006 02:05:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 02:05:36 -0000
Received: (qmail 22448 invoked by uid 500); 17 Mar 2006 02:05:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22422 invoked by uid 500); 17 Mar 2006 02:05:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22411 invoked by uid 99); 17 Mar 2006 02:05:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 18:05:30 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Mar 2006 18:05:29 -0800
Received: (qmail 2226 invoked by uid 60001); 17 Mar 2006 02:05:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=XVq+RIWt7YsPDaMm1ycJ1w57mWKkqXcl8/GRM2Qqj65UF/bVt2cx9XY4PCGS1LSOjJq/f6EiZISz0OyQmHSHwuIv1PEkjQYzLE8NQh+R9y6tiAkWKQZFjTuezEAWXK0lRTXEquBFJ7MzK32hdQVWOUL5nclIuIbroKt6JMsUV6U=  ;
Message-ID: <20060317020508.2224.qmail@web50314.mail.yahoo.com>
Date: Thu, 16 Mar 2006 18:05:08 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Lucene job
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Somebody asked me if I knew any good Lucene people who'd be interested in some work that involves a good amount of Lucene...

Here is some info.
The company is in New York City.  Full-time of contractors.  Ideally local, but remote work with good candidates may be ok, too.
Work involves Lucene, fetching/crawling stuff from the Web, probably some feed fetching/parsing/indexing.
Their app touches (not sure how deeply at the moment) on Data Mining, NLP, etc.  There is Named Entity recognition, content classification, very likely sentiment detection, etc.

It's a small company, and the CEO has a very good track record when it comes to career success.

If you're interested, send some resumes over.

Otis "Lucene HR department" Gospodnetic




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 02:55:35 2006
Return-Path: <java-user-return-19646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55368 invoked from network); 17 Mar 2006 02:55:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 02:55:35 -0000
Received: (qmail 58429 invoked by uid 500); 17 Mar 2006 02:55:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57841 invoked by uid 500); 17 Mar 2006 02:55:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57830 invoked by uid 99); 17 Mar 2006 02:55:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 18:55:29 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.196 as permitted sender)
Received: from [66.249.92.196] (HELO uproxy.gmail.com) (66.249.92.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 18:55:27 -0800
Received: by uproxy.gmail.com with SMTP id j40so265187ugd
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 18:55:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=uPiLc4UBBsIGwiMjO52wDFxMrS8vRvrt70qpFmLzLsbCfaRiIdsQavFlDv0MKpYJmsmL58n3JzbSdZ2X05ixdNFAkdvNxSeuF0BA08aKngNrRUeol0HyNdpp5QoPLqYjNok43+S20PI6bBLOc34KB/GGN/rBArXk/uqq6xgwBtQ=
Received: by 10.67.21.12 with SMTP id y12mr1626348ugi;
        Thu, 16 Mar 2006 18:55:06 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Thu, 16 Mar 2006 18:55:06 -0800 (PST)
Message-ID: <c68e39170603161855m463bae55g75dfd239c8ceabb8@mail.gmail.com>
Date: Thu, 16 Mar 2006 21:55:06 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: ConstantScoreRangeQuery and ConstantScoreQuery
In-Reply-To: <PKEIKOCKCHNIIHNECPCCCEJMCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <PKEIKOCKCHNIIHNECPCCCEJMCEAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/16/06, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> But still, I cannot understand very well why ConstantScoreQuery comes out=
.
> Is it for to implement ConstantScoreRangeQuery? Or, is it used for someth=
ing
> by itself?

ConstantScoreQuery can wrap any Filter and gives a constant score for
every document that matches the filter.

ConstantScoreRangeQuery rewrites to a ConstantScoreQuery with a
RangeFilter inside.
ConstantScoreRangeQuery isn't strictly required... you could construct
a ConstantScoreQuery with a RangeFilter yourself.


-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 02:59:16 2006
Return-Path: <java-user-return-19647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56941 invoked from network); 17 Mar 2006 02:59:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 02:59:16 -0000
Received: (qmail 62557 invoked by uid 500); 17 Mar 2006 02:59:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62529 invoked by uid 500); 17 Mar 2006 02:59:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62518 invoked by uid 99); 17 Mar 2006 02:59:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 18:59:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 18:59:09 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 437995B770; Thu, 16 Mar 2006 18:58:46 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 33D617F403
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 18:58:46 -0800 (PST)
Date: Thu, 16 Mar 2006 18:58:46 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Mailing List <java-user@lucene.apache.org>
Subject: re: restart interrupted index
In-Reply-To: <BE07D857-20DA-44E4-AF91-1DF7BC4BEBA3@mac.com>
Message-ID: <Pine.LNX.4.58.0603161856140.23126@hal.rescomp.berkeley.edu>
References: <BE07D857-20DA-44E4-AF91-1DF7BC4BEBA3@mac.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I'm relatively new to Lucene and I've been trying to index a large
: number of html files.  If my operation is interrupted the index
: appears to be corrupted.  I can no longer open it for searching with
: IndexSearcher (and no amount of toying with Luke's options seems to
: help if I try to browse the index by that route).  I would like to be
: able to restart an interrupted process.  Should I be able to do this?
:

what exactly isthe exception you are getting?

more then likely, there is a lock file left over from your last process,
if you manually remove it, new process can open your index, but there is
no way to know exactly what docs might not have been successfully added
... there may also be unused files cluttering up the directory, but they
won't hurt anything (they just take up space)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 03:01:54 2006
Return-Path: <java-user-return-19648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57962 invoked from network); 17 Mar 2006 03:01:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 03:01:54 -0000
Received: (qmail 64745 invoked by uid 500); 17 Mar 2006 03:01:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64413 invoked by uid 500); 17 Mar 2006 03:01:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64400 invoked by uid 99); 17 Mar 2006 03:01:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:01:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:01:48 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3C8535B770; Thu, 16 Mar 2006 19:01:28 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 38CD17F403
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 19:01:28 -0800 (PST)
Date: Thu, 16 Mar 2006 19:01:28 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: ConstantScoreRangeQuery and ConstantScoreQuery
In-Reply-To: <PKEIKOCKCHNIIHNECPCCCEJMCEAA.koji.sekiguchi@m4.dion.ne.jp>
Message-ID: <Pine.LNX.4.58.0603161859520.23126@hal.rescomp.berkeley.edu>
References: <PKEIKOCKCHNIIHNECPCCCEJMCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: And I read the following issue again:
:
: ConstantScoreRangeQuery - fixes "too many clauses" exception
: http://issues.apache.org/jira/browse/LUCENE-383
:
: But still, I cannot understand very well why ConstantScoreQuery comes out.
: Is it for to implement ConstantScoreRangeQuery? Or, is it used for something
: by itself?

ConstantScoreQuery provides the underlying mechanism that allows any
fitler to be used as a query that provides a constant score to matching
documents.  It is what a ConstantScoreRangeQuery rewrites to (wrapped
arround a RangeFilter) but it may also be usefull if you have your own
custom Filter that you want to use as a Query.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 03:04:31 2006
Return-Path: <java-user-return-19649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59220 invoked from network); 17 Mar 2006 03:04:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 03:04:30 -0000
Received: (qmail 67375 invoked by uid 500); 17 Mar 2006 03:04:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67350 invoked by uid 500); 17 Mar 2006 03:04:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67338 invoked by uid 99); 17 Mar 2006 03:04:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:04:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of paulo.silveira@gmail.com designates 64.233.182.204 as permitted sender)
Received: from [64.233.182.204] (HELO nproxy.gmail.com) (64.233.182.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:04:21 -0800
Received: by nproxy.gmail.com with SMTP id x37so342151nfc
        for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 19:04:00 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=lpV6ECq3lz1q/Hu3HGDkehAB99cvbGhMYky8KJNRc2oC4cwoQM4YjsgGgW5mZR65/nfjjkIal6b9EDH6h90eQYNRA3s3LoFIn1JIeJZYoR963woYHX47Ivlk6tMY7RmXmeVlPPWk+sC71vbrS8R9O/Jf7N62mUmJiMI+iMjyWVE=
Received: by 10.49.10.11 with SMTP id n11mr1171599nfi;
        Thu, 16 Mar 2006 19:04:00 -0800 (PST)
Received: by 10.48.220.17 with HTTP; Thu, 16 Mar 2006 19:04:00 -0800 (PST)
Message-ID: <6026e8b0603161904u3da97afcj479076f738b08510@mail.gmail.com>
Date: Fri, 17 Mar 2006 00:04:00 -0300
From: "Paulo Silveira" <paulo.silveira@caelum.com.br>
Sender: paulo.silveira@gmail.com
To: java-user@lucene.apache.org
Subject: Re: restart interrupted index
In-Reply-To: <Pine.LNX.4.58.0603161856140.23126@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <BE07D857-20DA-44E4-AF91-1DF7BC4BEBA3@mac.com>
	 <Pine.LNX.4.58.0603161856140.23126@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris,

I really would like only this extra files, but I have the same problem here=
.

If I interrupt my IndexWriter with a kill signal, must of the time I
will be left with a lock file AND corrupted index files (the searcher
will throw some IllegalStateExceptions after the lock file is
deleted).

Paulo

On 3/16/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
> : I'm relatively new to Lucene and I've been trying to index a large
> : number of html files.  If my operation is interrupted the index
> : appears to be corrupted.  I can no longer open it for searching with
> : IndexSearcher (and no amount of toying with Luke's options seems to
> : help if I try to browse the index by that route).  I would like to be
> : able to restart an interrupted process.  Should I be able to do this?
> :
>
> what exactly isthe exception you are getting?
>
> more then likely, there is a lock file left over from your last process,
> if you manually remove it, new process can open your index, but there is
> no way to know exactly what docs might not have been successfully added
> ... there may also be unused files cluttering up the directory, but they
> won't hurt anything (they just take up space)
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Paulo E. A. Silveira
Caelum Ensino e Solu=E7=F5es em Java
http://www.caelum.com.br/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 03:08:32 2006
Return-Path: <java-user-return-19650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60692 invoked from network); 17 Mar 2006 03:08:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 03:08:31 -0000
Received: (qmail 71199 invoked by uid 500); 17 Mar 2006 03:08:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71170 invoked by uid 500); 17 Mar 2006 03:08:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71158 invoked by uid 99); 17 Mar 2006 03:08:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:08:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:08:26 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BFB8F5B76E; Thu, 16 Mar 2006 19:08:05 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B62A77F403
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 19:08:05 -0800 (PST)
Date: Thu, 16 Mar 2006 19:08:05 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: use of ChainedFilter
In-Reply-To: <20060316114032.q20v40nwg00w40sw@webmail.service.emory.edu>
Message-ID: <Pine.LNX.4.58.0603161906000.23126@hal.rescomp.berkeley.edu>
References: <20060316114032.q20v40nwg00w40sw@webmail.service.emory.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: ChainedFilter: [views:[0.4-0.6] level:[1-} ]
:
: i am concerned about not being able to see the logical operator in the
: print string. Should i be able to see the operator?

I've never looked at it closely, but a quick glance at the source
indicates that the toString does not make any attempt to show the "logic"
operator used to join any of hte sub filters.

i would consider this bad behavior, feel free to open a jira issue with a
proposed patch to include that information in the toString.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 03:12:38 2006
Return-Path: <java-user-return-19651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62013 invoked from network); 17 Mar 2006 03:12:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 03:12:38 -0000
Received: (qmail 75425 invoked by uid 500); 17 Mar 2006 03:12:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75391 invoked by uid 500); 17 Mar 2006 03:12:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75380 invoked by uid 99); 17 Mar 2006 03:12:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:12:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 19:12:32 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4FF975B766; Thu, 16 Mar 2006 19:12:12 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 48EB47F403
	for <java-user@lucene.apache.org>; Thu, 16 Mar 2006 19:12:12 -0800 (PST)
Date: Thu, 16 Mar 2006 19:12:12 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: restart interrupted index
In-Reply-To: <6026e8b0603161904u3da97afcj479076f738b08510@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603161910150.23727@hal.rescomp.berkeley.edu>
References: <BE07D857-20DA-44E4-AF91-1DF7BC4BEBA3@mac.com> 
 <Pine.LNX.4.58.0603161856140.23126@hal.rescomp.berkeley.edu>
 <6026e8b0603161904u3da97afcj479076f738b08510@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: If I interrupt my IndexWriter with a kill signal, must of the time I
: will be left with a lock file AND corrupted index files (the searcher
: will throw some IllegalStateExceptions after the lock file is
: deleted).

if you are trying to deal with teh possibility that your indexing process
might crash hard, then there's not much you can do about the possibiity of
your index getting corrupted ... that's where backups are useful.

if you are trying to have a way to "cancel" your indexing process and then
start again later that's not really an issue with lucene -- you just need
a cleaner way to notify your application that you want it to stop, close
whatever IndexWriter/IndexReader you may be useing and shutdown cleanly.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 06:16:46 2006
Return-Path: <java-user-return-19652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40245 invoked from network); 17 Mar 2006 06:16:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 06:16:45 -0000
Received: (qmail 89518 invoked by uid 500); 17 Mar 2006 06:16:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89482 invoked by uid 500); 17 Mar 2006 06:16:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89471 invoked by uid 99); 17 Mar 2006 06:16:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 22:16:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 22:16:40 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id DD3615B803A
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 17:16:15 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id CAEEB5340F1
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 17:16:15 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 27223-01-7 for <java-user@lucene.apache.org>;
 Fri, 17 Mar 2006 17:16:14 +1100 (EST)
Received: from [192.168.0.73] (unknown [192.168.0.73])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 99DE3534039
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 17:16:14 +1100 (EST)
Message-ID: <441A542E.3070209@aconex.com>
Date: Fri, 17 Mar 2006 17:16:14 +1100
From: Paul Cowan <cowan@aconex.com>
Organization: Aconex
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple languages - possible approach
References: <4418E05C.9000504@aconex.com> <441969AC.3080904@syr.edu>
In-Reply-To: <441969AC.3080904@syr.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Grant and Otis,

Thanks for the feedback, I appreciate it. You've given some good ideas.

> Sounds like a really interesting system!  I am curious, are your users 
> fluent in multiple languages or are you using some type of translation 
> component?

The former. We're talking about construction projects, where English is 
(generally) something of a Lingua Franca, as it were (a really big 
construction project these days might use Australian architects, British 
managers and UAE-based engineers on a project in Shanghai). So we might 
have an architect forwarding a message on to an engineer in English, she 
forwards it to the ground team in Shanghai in English, but they then 
discuss it amongst themselves in Chinese... all in the space of one 
forwarded email.

> How are you querying?  Are users entering mixed language queries too?  
<snip>

Good question(s). Automatically detecting the indexing language doesn't 
NECESSARILY help us with the searching, as we'll have a lot less text to 
work with. On the plus side, we can always ASK what language the text 
they're searching for is with a drop-down or something; we can't really 
ask what language their correspondence is in, as it may be mixed.

Multiple indexes is an option but we're very concerned about performance 
and size -- we're talking many many millions of things to index, having 
English/Chinese/Arabic/who knows what else indexes could be nightmare.

> Also, is the text so finely delineated as your example?  We sometimes 
> run across the case where foreign languages will use other languages 
> (mostly English) mid-sentence and it makes things quite ugly.   Approach 
> 4 should handle this, though

Yeah, that's one of our worries. People often can't find the right word 
for what they want to say, etc., so they slip back into another language.

Anyway, thanks for that and the rest of the ideas. We think that 
StandardAnalyzer will do us for now (Chinese only); when we hit more 
complicated languages I'll come up with a plan/design for the "Super 
Analyzer" and post it to this list for discussion and/or flamewar.

Cheers,

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 06:25:55 2006
Return-Path: <java-user-return-19653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44202 invoked from network); 17 Mar 2006 06:25:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 06:25:55 -0000
Received: (qmail 95322 invoked by uid 500); 17 Mar 2006 06:25:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95286 invoked by uid 500); 17 Mar 2006 06:25:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95275 invoked by uid 99); 17 Mar 2006 06:25:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 22:25:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Mar 2006 22:25:48 -0800
Received: from page.mel.office.aconex.com (page.mel.office.aconex.com [192.168.0.210])
	by mail.app.aconex.com (Postfix) with ESMTP id 03B185B803A
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 17:25:27 +1100 (EST)
Received: from localhost (page.mel.aconex.com [127.0.0.1])
	by page.mel.office.aconex.com (Postfix) with ESMTP id E5D8553403A
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 17:25:26 +1100 (EST)
Received: from page.mel.office.aconex.com ([127.0.0.1])
 by localhost (mail.aconex.com [127.0.0.1]) (amavisd-new, port 10024)
 with LMTP id 28639-02-19 for <java-user@lucene.apache.org>;
 Fri, 17 Mar 2006 17:25:25 +1100 (EST)
Received: from [192.168.0.73] (unknown [192.168.0.73])
	by page.mel.office.aconex.com (Postfix) with ESMTP id 7E9D5534039
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 17:25:25 +1100 (EST)
Message-ID: <441A5655.90906@aconex.com>
Date: Fri, 17 Mar 2006 17:25:25 +1100
From: Paul Cowan <cowan@aconex.com>
Organization: Aconex
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Possible bug in FieldSortedHitQueue?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at aconex.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I'm loath to stick this in a Jira issue yet, until I've run it past you. 
I've been looking at it for a while so I'd like to make sure I haven't 
confused myself beyond belief and it IS actually a problem.

It seems to me that there's a possible bug in FieldSortedHitQueue, 
specifically in getCachedComparator(). This is showing up on our 1.4.3 
install, but it seems from source code inspection that if it's a bug, 
it's in 1.9.1 also.

The issue shows up when you need to sort results from a given 
IndexReader multiple times, using different locales. On line 180 (all 
line numbers from the 1.9.1 code), we have this:

ScoreDocComparator comparator = lookup (reader, fieldname, type, factory);

Then, if no comparator is found in the cache, a new one is created (line 
193) and then stored in the cache (line 202). HOWEVER, both the cache 
lookup() and store() do NOT take into account locale; if we, on the same 
index reader, try to do one search sorted by Locale.FRENCH and one by 
Locale.ITALIAN, the first one will result in a cache miss, a new French 
comparator will be created, and stored in the cache. Second time 
through, lookup() finds the cached French comparator -- even though this 
time, the locale parameter to getCachedComparator() is an Italian 
locale. Therefore, we don't create a new comparator and we use the wrong 
one to sort the results.

It looks to me (unless I'm mistaken) that the FieldCacheImpl.Entry class 
should have an additional property, .locale, to ensure that different 
locales get different comparators.

Does this make sense? Or am I totally full of it (it's Friday, it's 
possible).

Cheers,

Paul Cowan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 08:07:02 2006
Return-Path: <java-user-return-19654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99621 invoked from network); 17 Mar 2006 08:07:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 08:07:01 -0000
Received: (qmail 72163 invoked by uid 500); 17 Mar 2006 08:06:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71798 invoked by uid 500); 17 Mar 2006 08:06:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71787 invoked by uid 99); 17 Mar 2006 08:06:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 00:06:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of brianjriddle@gmail.com designates 64.233.182.205 as permitted sender)
Received: from [64.233.182.205] (HELO nproxy.gmail.com) (64.233.182.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 00:06:53 -0800
Received: by nproxy.gmail.com with SMTP id x37so363128nfc
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 00:06:32 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lE4GL36VoOn0yR5lczkKEKPgL6gg+rcKsL7cGcC95deyiIRpasBSSNR8cJesJ7ONz7G6dJSjP47pRTZk1KQY2UhlKFkQhOnOWzEqhVrKtHPvxPuiD1fK/+mXecpNve2bcgyoL498PfENfkEYCiNeOcQK83gldXWLx7gVZnA8DlY=
Received: by 10.48.30.4 with SMTP id d4mr1326800nfd;
        Fri, 17 Mar 2006 00:06:31 -0800 (PST)
Received: by 10.49.8.9 with HTTP; Fri, 17 Mar 2006 00:06:01 -0800 (PST)
Message-ID: <516b77c50603170006t196f0624ufa33fde31310402d@mail.gmail.com>
Date: Fri, 17 Mar 2006 09:06:01 +0100
From: "Brian Riddle" <brianjriddle@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Possible bug in FieldSortedHitQueue?
In-Reply-To: <441A5655.90906@aconex.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6253_3908668.1142582761820"
References: <441A5655.90906@aconex.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6253_3908668.1142582761820
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hej Paul,

Then, if no comparator is found in the cache, a new one is created (line
> 193) and then stored in the cache (line 202). HOWEVER, both the cache
> lookup() and store() do NOT take into account locale; if we, on the same
> index reader, try to do one search sorted by Locale.FRENCH and one by
> Locale.ITALIAN, the first one will result in a cache miss, a new French
> comparator will be created, and stored in the cache. Second time
> through, lookup() finds the cached French comparator -- even though this
> time, the locale parameter to getCachedComparator() is an Italian
> locale. Therefore, we don't create a new comparator and we use the wrong
> one to sort the results.


Looking at FiledSortedHitQueue it looks like the bug is in
compartorStringLocale()
That method returns a ScoreDocComparator of type SortField.String . The
FieldCacheImpl.Entry
only looks at the field, type and custom ScoreDocComparator used for
equality and hashcode.
String does not have any Locale information associated with it.  So the
first ScoreDocCompartor you
are creating in your application is the one getting cached thats the one
being used.

heres a small patch that should fix it. I have not have time to test. You
will need to add an import of as well java.lang.Arrays;

      //This needs to be custom or the equals will not be called correctly
in FieldCacheEntry.Entry#equals
      public int sortType() {
        return SortField.CUSTOM;
      }
        //implement equals and hashcode taking in account the Collator used
which
        //being based on the locale will allow sorting by more than one
locale
      public boolean equals(Object o) {
          if (this =3D=3D o) return true;
          if (o =3D=3D null || getClass() !=3D o.getClass()) return false;
          final TestScoreDocComparator that =3D (TestScoreDocComparator) o;
          if (collator !=3D null ? !collator.equals(that.collator) :
that.collator !=3D null) return false;
          return Arrays.equals(index, that.index);
        }

        public int hashCode() {
            return (collator !=3D null ? collator.hashCode() : 0);
        }




It looks to me (unless I'm mistaken) that the FieldCacheImpl.Entry class
> should have an additional property, .locale, to ensure that different
> locales get different comparators.
>

------=_Part_6253_3908668.1142582761820--

From java-user-return-19655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 08:08:53 2006
Return-Path: <java-user-return-19655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 573 invoked from network); 17 Mar 2006 08:08:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 08:08:52 -0000
Received: (qmail 74190 invoked by uid 500); 17 Mar 2006 08:08:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73705 invoked by uid 500); 17 Mar 2006 08:08:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73689 invoked by uid 99); 17 Mar 2006 08:08:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 00:08:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of brianjriddle@gmail.com designates 64.233.182.206 as permitted sender)
Received: from [64.233.182.206] (HELO nproxy.gmail.com) (64.233.182.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 00:08:46 -0800
Received: by nproxy.gmail.com with SMTP id x37so363289nfc
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 00:08:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=k5F9IIZZx1mO3KprMefDnaWE4iWAIa9x82aMUuue7zBKImsTnymsrkHX+gJf/Rm5njKDuGU4Twv3TWOmn3z+qYmt5mNIK9avLxQLbt3E6/bTM+lbDtPWQKuJ12Mgfg1ju6L5X2udKzxlt95YrpbTrrSHrpEU4tAW7mqZtr97GR8=
Received: by 10.49.55.6 with SMTP id h6mr1263153nfk;
        Fri, 17 Mar 2006 00:06:01 -0800 (PST)
Received: by 10.49.8.9 with HTTP; Fri, 17 Mar 2006 00:06:01 -0800 (PST)
Message-ID: <516b77c50603170006t196f0624ufa33fde31310402d@mail.gmail.com>
Date: Fri, 17 Mar 2006 09:06:01 +0100
From: "Brian Riddle" <brianjriddle@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Possible bug in FieldSortedHitQueue?
In-Reply-To: <441A5655.90906@aconex.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6253_3908668.1142582761820"
References: <441A5655.90906@aconex.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6253_3908668.1142582761820
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hej Paul,

Then, if no comparator is found in the cache, a new one is created (line
> 193) and then stored in the cache (line 202). HOWEVER, both the cache
> lookup() and store() do NOT take into account locale; if we, on the same
> index reader, try to do one search sorted by Locale.FRENCH and one by
> Locale.ITALIAN, the first one will result in a cache miss, a new French
> comparator will be created, and stored in the cache. Second time
> through, lookup() finds the cached French comparator -- even though this
> time, the locale parameter to getCachedComparator() is an Italian
> locale. Therefore, we don't create a new comparator and we use the wrong
> one to sort the results.


Looking at FiledSortedHitQueue it looks like the bug is in
compartorStringLocale()
That method returns a ScoreDocComparator of type SortField.String . The
FieldCacheImpl.Entry
only looks at the field, type and custom ScoreDocComparator used for
equality and hashcode.
String does not have any Locale information associated with it.  So the
first ScoreDocCompartor you
are creating in your application is the one getting cached thats the one
being used.

heres a small patch that should fix it. I have not have time to test. You
will need to add an import of as well java.lang.Arrays;

      //This needs to be custom or the equals will not be called correctly
in FieldCacheEntry.Entry#equals
      public int sortType() {
        return SortField.CUSTOM;
      }
        //implement equals and hashcode taking in account the Collator used
which
        //being based on the locale will allow sorting by more than one
locale
      public boolean equals(Object o) {
          if (this =3D=3D o) return true;
          if (o =3D=3D null || getClass() !=3D o.getClass()) return false;
          final TestScoreDocComparator that =3D (TestScoreDocComparator) o;
          if (collator !=3D null ? !collator.equals(that.collator) :
that.collator !=3D null) return false;
          return Arrays.equals(index, that.index);
        }

        public int hashCode() {
            return (collator !=3D null ? collator.hashCode() : 0);
        }




It looks to me (unless I'm mistaken) that the FieldCacheImpl.Entry class
> should have an additional property, .locale, to ensure that different
> locales get different comparators.
>

------=_Part_6253_3908668.1142582761820--

From java-user-return-19656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 11:16:28 2006
Return-Path: <java-user-return-19656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27808 invoked from network); 17 Mar 2006 11:16:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 11:16:24 -0000
Received: (qmail 69479 invoked by uid 500); 17 Mar 2006 11:16:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69203 invoked by uid 500); 17 Mar 2006 11:16:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69188 invoked by uid 99); 17 Mar 2006 11:16:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 03:16:16 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [82.110.37.195] (HELO uksmtp02.informa.com) (82.110.37.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 03:16:15 -0800
Received: from ukexfe02.UK.CorpLAN.net (ukexfe02.uk.corplan.net [192.168.45.52])
	by uksmtp02.informa.com (8.13.4/8.13.4) with ESMTP id k2HBEaIl002038
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 11:14:36 GMT
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.121]) by ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 17 Mar 2006 11:15:53 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: TooManyClauses exception in Lucene (1.4)
Date: Fri, 17 Mar 2006 11:15:53 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F38A@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: TooManyClauses exception in Lucene (1.4)
Thread-Index: AcZJJAZ3EPQPiSmXQwehvvifB0zDEQAj+lGg
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 17 Mar 2006 11:15:53.0930 (UTC) FILETIME=[27EB22A0:01C649B4]
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 mlx=0 adultscore=0 adjust=0 reason=mlx engine=3.1.0-06031500 definitions=3.0.0-06031625
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks to everyone for the explanation. Given that RangeQuery is clearly
unsuitable for out requirements, ConstantScoreRangeQuery looks ideal.

However, we're building our queries (at the moment) using QueryParser.
Is there any way we can get QueryParser to use a ConstantScoreRangeQuery
instead of a RangeQuery?

Cheers,

Tim.

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com]=20
Sent: 16 March 2006 18:04
To: java-user@lucene.apache.org
Subject: Re: TooManyClauses exception in Lucene (1.4)


On 3/16/06, Tim.Wright@informa.com <Tim.Wright@informa.com> wrote:
> I had no idea that rangequery worked by enumerating every
> possible value, that's terrifying.

You could use either a RangeFilter or a ConstantScoreRangeQuery

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search
Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------------=
-----------------------------------------------------------------
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 11:42:03 2006
Return-Path: <java-user-return-19657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43850 invoked from network); 17 Mar 2006 11:42:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 11:42:03 -0000
Received: (qmail 8490 invoked by uid 500); 17 Mar 2006 11:41:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8431 invoked by uid 500); 17 Mar 2006 11:41:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8420 invoked by uid 99); 17 Mar 2006 11:41:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 03:41:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 03:41:56 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 331FC33C0C7; Fri, 17 Mar 2006 06:41:36 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 4AA1033C0C6
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 06:41:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F38A@UKEXBE01.UK.CorpLAN.net>
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F38A@UKEXBE01.UK.CorpLAN.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7956201A-174B-49C3-9A57-B8E603380142@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: TooManyClauses exception in Lucene (1.4)
Date: Fri, 17 Mar 2006 06:41:31 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 17, 2006, at 6:15 AM, <Tim.Wright@informa.com>  
<Tim.Wright@informa.com> wrote:
> Thanks to everyone for the explanation. Given that RangeQuery is  
> clearly
> unsuitable for out requirements, ConstantScoreRangeQuery looks ideal.
>
> However, we're building our queries (at the moment) using QueryParser.
> Is there any way we can get QueryParser to use a  
> ConstantScoreRangeQuery
> instead of a RangeQuery?

You can subclass QueryParser, and override getRangeQuery() to return  
a Query constructed however you like.  There are examples (I believe)  
in Lucene's test cases, and definitely within the Lucene in Action  
codebase and text.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 11:44:51 2006
Return-Path: <java-user-return-19658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45195 invoked from network); 17 Mar 2006 11:44:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 11:44:48 -0000
Received: (qmail 13512 invoked by uid 500); 17 Mar 2006 11:44:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13359 invoked by uid 500); 17 Mar 2006 11:44:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13348 invoked by uid 99); 17 Mar 2006 11:44:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 03:44:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 03:44:29 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 320DF33C0C6; Fri, 17 Mar 2006 06:44:09 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 0DEE133C0C6
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 06:44:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <4419EAAD.1040504@scalix.com>
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com> <4419EAAD.1040504@scalix.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CB05E809-10D1-4049-A9DC-B9A6D4280BFA@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene and Tomcat, too many open files
Date: Fri, 17 Mar 2006 06:44:03 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.8 required=5.0 tests=ALL_TRUSTED,BAYES_00,
	WEIRD_PORT autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What version of Lucene are you using?   Are you removing the index  
completely and rebuilding it from scratch with the compound flag  
enabled (by default since 1.4)?   You really shouldn't have massive  
numbers of files created when using the compound format, so I suspect  
something is fishy with how you're indexing.

	Erik


On Mar 16, 2006, at 5:46 PM, Nick Atkins wrote:

> Thanks Hannes,  on my Fedora machine the maximum I can do is ulimit -n
> 1048576 which is 1M files.  This should be enough for most sane cases
> but it makes me uneasy.  I assume the "deleted" file entries  
> reported by
> lsof will be cleared up eventually?
>
> I can't believe this is really the only option and there is no way
> within Lucene to control the number of files opened.  Hmm...
>
> Thanks,
>
> Nick.
>
> Hannes Carl Meyer wrote:
>> Hi Nick,
>>
>> use 'ulimit' on your ix system to check if its set to unlimited.
>>
>> check:
>> http://wwwcgi.rdg.ac.uk:8081/cgi-bin/cgiwrap/wsi14/poplog/man/2/ 
>> ulimit
>>
>> You don't have to set it to unlimited, maybe increasing the number
>> will help.
>>
>> later
>>
>> Hannes
>>
>> Nick Atkins schrieb:
>>> Thanks Otis, I tried that but I still get the same problem at the  
>>> ulimit
>>> -n point.  I assume you meant I should call
>>> IndexWriter.setUseCompoundFile(true).  According to the docs  
>>> compound
>>> structure is the default anyway.
>>>
>>> Any further thoughts?  Anything I can tweak in the OS (Linux), Java
>>> (1.5.0) or Lucene (1.9.1)?
>>>
>>> Many thanks,
>>>
>>> Nick
>>>
>>> Otis Gospodnetic wrote:
>>>
>>>> The easiest first step to try is to go from multi-file index
>>>> structure to the compound one.
>>>>
>>>> Otis
>>>>
>>>> ----- Original Message ----
>>>> From: Nick Atkins <Nick.Atkins@scalix.com>
>>>> To: java-user@lucene.apache.org
>>>> Sent: Thursday, March 16, 2006 3:00:59 PM
>>>> Subject: Lucene and Tomcat, too many open files
>>>>
>>>> Hi,
>>>>
>>>> What's the best way to manage the number of open files used by  
>>>> Lucene
>>>> when it's running under Tomcat?  I have a indexing application  
>>>> running
>>>> as a web app and I index a huge number of mail messages (upwards of
>>>> 40000 in some cases).  Lucene's merging routine always craps out
>>>> eventually with the "too many open files" regardless of how  
>>>> large I set
>>>> ulimit to.  lsof tells me they are all "deleted" but they still  
>>>> seem to
>>>> count as open files.  I don't want to set ulimit to some  
>>>> enormous value
>>>> just to solve this (because it will never be large enough).   
>>>> What's the
>>>> best strategy here?
>>>>
>>>> I have tried setting various parameters on the IndexWriter such  
>>>> as the
>>>> MergeFactor, MaxMergeDocs and MaxBufferedDocs but they seem to only
>>>> affect the merge timing algorithm wrt memory usage.  The number of
>>>> files
>>>> used seems to be unaffected by anything I can set on the  
>>>> IndexWriter.
>>>>
>>>> Any hints much appreciated.
>>>>
>>>> Cheers,
>>>>
>>>> Nick.
>>>>
>>>> ------------------------------------------------------------------- 
>>>> --
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> ------------------------------------------------------------------- 
>>>> --
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 12:00:54 2006
Return-Path: <java-user-return-19659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53473 invoked from network); 17 Mar 2006 12:00:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 12:00:50 -0000
Received: (qmail 32119 invoked by uid 500); 17 Mar 2006 12:00:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32032 invoked by uid 500); 17 Mar 2006 12:00:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 9892 invoked by uid 99); 17 Mar 2006 11:42:59 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Date: Fri, 17 Mar 2006 19:42:36 +0800
Message-ID: <24678922.1142595756366.JavaMail.websites@opensubscriber>
From: mc@vector-uk.com
Reply-To: mc@vector-uk.com
To: java-user@lucene.apache.org
Subject: Lucene consultant 
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

my client is  looking for a Lucene expert to assist with a  migration from Verity to Lucene  
(up to six weeks work, starting this coming Monday, 20 March). This can be based in New York or london   
 
The ideal candidate will have had large scale application migration  
experience of migrating from Verity to Lucene, and experience with  
performance tuning.  
 
This consultancy involves providing leadership in gathering  
requirements, architecture design and assist with putting together a  
migration plan. The candidate will also be expected to be hands-on to  
assist the existing team in trying out new ideas or problem solving.  
 
The list of required/desired skills is below. Please send CVs to Marcus clemens ( mc@vector-uk.com ) by 17 March 2006 for consideration.  
 
Technical skills:  
   Tools and languages:  
     o Languages  
         mandatory:       Java (JDK 1.4), XML, HTML, XSLT, http, c++  
     o Operating systems  
         mandatory:       Unix  
     o Technologies  
         mandatory:       Lucene 1.4.3 and higher, Tomcat, CVS  
                          strong background in search applications  
                          but not the specific implementations  
         highly desired:  Verity  
         optional:        Apache web server  
 
Soft skills:  
   Good communication and software architecture skills  
   Effective team-worker  

--
This message was sent on behalf of mc@vector-uk.com at openSubscriber.com
http://www.opensubscriber.com/messages/java-user@lucene.apache.org/topic.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 12:19:10 2006
Return-Path: <java-user-return-19660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62433 invoked from network); 17 Mar 2006 12:19:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 12:19:09 -0000
Received: (qmail 54747 invoked by uid 500); 17 Mar 2006 12:19:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54724 invoked by uid 500); 17 Mar 2006 12:19:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54713 invoked by uid 99); 17 Mar 2006 12:19:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 04:19:02 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.112] (HELO web30409.mail.mud.yahoo.com) (68.142.200.112)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 17 Mar 2006 04:19:01 -0800
Received: (qmail 52362 invoked by uid 60001); 17 Mar 2006 12:18:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=h/mALLum0eGwqPK24V78C0/lNJV2zW/945VNBaIvZsw5qORUVaB5SEyXcvImVXkXntFkqfVAVqreKXJ0tyrZ2Z5osmR53jyY7MCQ9ZSIT/ohSrW9C/1ag0ogH45ipYzdXXbLTEF4s4/KQz7rwI3Z9hhI74lHFpAnEjAoMsb3yh8=  ;
Message-ID: <20060317121840.52360.qmail@web30409.mail.mud.yahoo.com>
Received: from [86.2.144.71] by web30409.mail.mud.yahoo.com via HTTP; Fri, 17 Mar 2006 04:18:40 PST
Date: Fri, 17 Mar 2006 04:18:40 -0800 (PST)
From: Paul Lynch <pablolynch@yahoo.com>
Subject: Re: FunctionQuery example request
To: java-user@lucene.apache.org
In-Reply-To: <20060316160037.37460.qmail@web30407.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for all the replies to my previous posting, I
was not subscribed to the list properly and did not
see all of the replies. Please disregard this post.

Thanks again,
Paul

--- Paul Lynch <pablolynch@yahoo.com> wrote:

> Hi,
> 
> have implemented the DistanceComparatorSource
> example
> from Lucene In Action (my Bible) and it works great.
> We are now in the situation where we have nearly a
> million documents in our index and the performance
> of
> this implementation has degraded.
> 
> I have downloaded and am trying to understand the
> org.apache.solr.search.function classes created by
> Mr
> Seeley but must admit to being a little bit out of
> my
> league with all the different elements involved. I
> have read through various threads which make
> reference
> to using the FunctionQuery class for different means
> but I am struggling to fully understand the steps I
> need to take.
> 
> Can someone please spare a couple of minutes to give
> me an example of how I would implement a
> FunctionQuery
> to score each of the documents matched in my boolean
> query?
> 
> Regards,
> Paul
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 12:45:25 2006
Return-Path: <java-user-return-19661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84846 invoked from network); 17 Mar 2006 12:45:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 12:45:24 -0000
Received: (qmail 403 invoked by uid 500); 17 Mar 2006 12:45:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 377 invoked by uid 500); 17 Mar 2006 12:45:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 354 invoked by uid 99); 17 Mar 2006 12:45:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 04:45:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.72.197.1] (HELO mx1.ergon.ch) (193.72.197.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 04:45:17 -0800
Received: from mahler.ergon.ch (mahler.ergon.ch [193.72.196.199])
	by mx1.ergon.ch (Postfix) with ESMTP id 8065C607D8
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 13:44:55 +0100 (MET)
Received: from [192.168.167.151] (localhost [127.0.0.1])
	by mahler.ergon.ch (Postfix) with ESMTP id 387909018D
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 13:44:55 +0100 (MET)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <CB05E809-10D1-4049-A9DC-B9A6D4280BFA@ehatchersolutions.com>
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com> <4419EAAD.1040504@scalix.com> <CB05E809-10D1-4049-A9DC-B9A6D4280BFA@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <92C2328D-D0A0-4811-9B23-2315C23EA58C@ergon.ch>
Content-Transfer-Encoding: 7bit
From: Florian Hanke <florian.hanke@ergon.ch>
Subject: Appending * to each search term
Date: Fri, 17 Mar 2006 13:44:53 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all,

I'd like to append an * (create a WildcardQuery) to each search term  
in a query, such that a query that is entered as e.g. "term1 AND  
term2" is modified (effectively) to "term1* AND term2*".
Parsing the search string is not very elegant (of course). I'm  
thinking that overriding QueryParser#get(Boolean etc.)Query is the  
way to go, the way it's designed. But still, extracting terms and  
injecting them back in while operating on specific Query classes does  
not seem the way to go.
Can anyone perhaps suggest a nice alternative?

Thanks very much and have a nice day,
    Florian

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 12:52:28 2006
Return-Path: <java-user-return-19662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89017 invoked from network); 17 Mar 2006 12:52:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 12:52:26 -0000
Received: (qmail 13370 invoked by uid 500); 17 Mar 2006 12:52:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13342 invoked by uid 500); 17 Mar 2006 12:52:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13331 invoked by uid 99); 17 Mar 2006 12:52:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 04:52:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 04:52:19 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k2HCpr4I009570
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 13:51:53 +0100
Received: from 127.0.0.1 (AVG SMTP 7.1.385 [268.2.4/283]); Fri, 17 Mar 2006 13:51:50 +0100
Message-ID: <441AB0E6.3020405@isb-sib.ch>
Date: Fri, 17 Mar 2006 13:51:50 +0100
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Appending * to each search term
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com> <4419EAAD.1040504@scalix.com> <CB05E809-10D1-4049-A9DC-B9A6D4280BFA@ehatchersolutions.com> <92C2328D-D0A0-4811-9B23-2315C23EA58C@ergon.ch>
In-Reply-To: <92C2328D-D0A0-4811-9B23-2315C23EA58C@ergon.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Florian Hanke wrote:
> I'd like to append an * (create a WildcardQuery) to each search term in 
> a query, such that a query that is entered as e.g. "term1 AND term2" is 
> modified (effectively) to "term1* AND term2*".
> Parsing the search string is not very elegant (of course). I'm thinking 
> that overriding QueryParser#get(Boolean etc.)Query is the way to go, the 
> way it's designed. But still, extracting terms and injecting them back 
> in while operating on specific Query classes does not seem the way to go.
> Can anyone perhaps suggest a nice alternative?

Perhaps you could subclass the QueryParser and override the getFieldQuery 
method:

protected Query getFieldQuery(String field, String term) {
   return new PrefixQuery(new Term(field, term));
}

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 12:55:07 2006
Return-Path: <java-user-return-19663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90736 invoked from network); 17 Mar 2006 12:55:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 12:55:06 -0000
Received: (qmail 18607 invoked by uid 500); 17 Mar 2006 12:55:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18578 invoked by uid 500); 17 Mar 2006 12:54:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18562 invoked by uid 99); 17 Mar 2006 12:54:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 04:54:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 04:54:58 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FKETV-0003yF-UX
	for java-user@lucene.apache.org; Fri, 17 Mar 2006 04:54:37 -0800
Message-ID: <3455237.post@talk.nabble.com>
Date: Fri, 17 Mar 2006 04:54:37 -0800 (PST)
From: jens bertheau <bertheau@booklooker.de>
To: java-user@lucene.apache.org
Subject: Best practice setup in multi server environment?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: bertheau@booklooker.de
X-Nabble-From: jens bertheau <bertheau@booklooker.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

I am currently working on switching from MySQL fulltext search to Lucene.
The indexing and searching already works pretty well. I have the following
environment:
1 web server running PHP
1 MySQL server (which will still be used, but not for fulltext queries)
1 server running Lucene
The Lucene index will be created out of the MySQL data.

My question: How can I send a query from the webserver using PHP to the
Lucene server and get my list of result IDs back? 
I suppose one needs some kind of daemon?
Or would if be feasible to setup a Tomcat webserver on the Lucene server
that handles the queries?

Best regards,
Jens
--
View this message in context: http://www.nabble.com/Best-practice-setup-in-multi-server-environment--t1297618.html#a3455237
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 13:13:56 2006
Return-Path: <java-user-return-19664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1251 invoked from network); 17 Mar 2006 13:13:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 13:13:55 -0000
Received: (qmail 42718 invoked by uid 500); 17 Mar 2006 13:13:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42688 invoked by uid 500); 17 Mar 2006 13:13:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42677 invoked by uid 99); 17 Mar 2006 13:13:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:13:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.72.197.1] (HELO mx1.ergon.ch) (193.72.197.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:13:49 -0800
Received: from mahler.ergon.ch (mahler.ergon.ch [193.72.196.199])
	by mx1.ergon.ch (Postfix) with ESMTP id 0A795607CD
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 14:13:28 +0100 (MET)
Received: from [192.168.167.151] (localhost [127.0.0.1])
	by mahler.ergon.ch (Postfix) with ESMTP id CE1D69018D
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 14:13:27 +0100 (MET)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <441AB0E6.3020405@isb-sib.ch>
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com> <4419EAAD.1040504@scalix.com> <CB05E809-10D1-4049-A9DC-B9A6D4280BFA@ehatchersolutions.com> <92C2328D-D0A0-4811-9B23-2315C23EA58C@ergon.ch> <441AB0E6.3020405@isb-sib.ch>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E0665A44-9521-4F3E-B5DA-A5C1F31CC063@ergon.ch>
Content-Transfer-Encoding: 7bit
From: Florian Hanke <florian.hanke@ergon.ch>
Subject: Re: Appending * to each search term
Date: Fri, 17 Mar 2006 14:13:25 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you very much - that did the trick! :)

Am 17.03.2006 um 13:51 schrieb Eric Jain:

> Perhaps you could subclass the QueryParser and override the  
> getFieldQuery method:
>
> protected Query getFieldQuery(String field, String term) {
>   return new PrefixQuery(new Term(field, term));
> }


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 13:31:50 2006
Return-Path: <java-user-return-19665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13468 invoked from network); 17 Mar 2006 13:31:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 13:31:45 -0000
Received: (qmail 75403 invoked by uid 500); 17 Mar 2006 13:31:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75352 invoked by uid 500); 17 Mar 2006 13:31:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75259 invoked by uid 99); 17 Mar 2006 13:31:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:31:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:31:34 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D75B033C085; Fri, 17 Mar 2006 08:31:13 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 64EDF33C084
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 08:31:11 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <3455237.post@talk.nabble.com>
References: <3455237.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E4064499-4735-47E3-90EC-835F81D4FFFE@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Best practice setup in multi server environment?
Date: Fri, 17 Mar 2006 08:31:04 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 17, 2006, at 7:54 AM, jens bertheau wrote:
> I am currently working on switching from MySQL fulltext search to  
> Lucene.
> The indexing and searching already works pretty well. I have the  
> following
> environment:
> 1 web server running PHP
> 1 MySQL server (which will still be used, but not for fulltext  
> queries)
> 1 server running Lucene
> The Lucene index will be created out of the MySQL data.
>
> My question: How can I send a query from the webserver using PHP to  
> the
> Lucene server and get my list of result IDs back?
> I suppose one needs some kind of daemon?
> Or would if be feasible to setup a Tomcat webserver on the Lucene  
> server
> that handles the queries?

Have a look at Solr, which sounds like the ideal tool for the job:

	<http://incubator.apache.org/solr/>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 13:51:12 2006
Return-Path: <java-user-return-19666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23225 invoked from network); 17 Mar 2006 13:51:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 13:51:11 -0000
Received: (qmail 95512 invoked by uid 500); 17 Mar 2006 13:51:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94939 invoked by uid 500); 17 Mar 2006 13:51:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94928 invoked by uid 99); 17 Mar 2006 13:51:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:51:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:51:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BCBBF33C088; Fri, 17 Mar 2006 08:50:43 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 24E4833C06A
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 08:50:42 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <441AB0E6.3020405@isb-sib.ch>
References: <20060316200845.48594.qmail@web50305.mail.yahoo.com> <4419EAAD.1040504@scalix.com> <CB05E809-10D1-4049-A9DC-B9A6D4280BFA@ehatchersolutions.com> <92C2328D-D0A0-4811-9B23-2315C23EA58C@ergon.ch> <441AB0E6.3020405@isb-sib.ch>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A78F77BC-A385-48F3-80A5-7AE41309B5B7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Appending * to each search term
Date: Fri, 17 Mar 2006 08:50:39 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Interestingly, the last two consulting jobs I've had dealt with this  
very issue - having user entered terms be interpreted as partial  
string to match in any indexed term.  Care must be taken to avoid the  
classic TooManyClauses exception or a more insidious OutOfMemory  
exception.

By using the PrefixQuery for all unadorned terms in QueryParser, you  
risk someone typing "a" and one of the above problems occurring,  
depending on how many terms you have in your index.

There are techniques to more efficiently handle the "starts with" or  
even the "contains" type substring queries by being clever with  
tokenization and taking advantage of clever tokenization to form much  
more efficient TermQuery queries.

If "starts with" are the only types of queries you need to worry  
about, and not "contains" then consider indexing with prefix tokens.   
For example, 'cat' could be indexed as 'cat', 'ca', and 'c'.  Someone  
types in 'ca' and you issue a TermQuery for 'ca' for a match.  The  
index size will grow, perhaps dramatically, but your searches will be  
much faster and more efficient.

I plan to provide more documentation, examples, and TokenFilter(s) to  
deal with this common scenario in the future.

	Erik


On Mar 17, 2006, at 7:51 AM, Eric Jain wrote:
> Florian Hanke wrote:
>> I'd like to append an * (create a WildcardQuery) to each search  
>> term in a query, such that a query that is entered as e.g. "term1  
>> AND term2" is modified (effectively) to "term1* AND term2*".
>> Parsing the search string is not very elegant (of course). I'm  
>> thinking that overriding QueryParser#get(Boolean etc.)Query is the  
>> way to go, the way it's designed. But still, extracting terms and  
>> injecting them back in while operating on specific Query classes  
>> does not seem the way to go.
>> Can anyone perhaps suggest a nice alternative?
>
> Perhaps you could subclass the QueryParser and override the  
> getFieldQuery method:
>
> protected Query getFieldQuery(String field, String term) {
>   return new PrefixQuery(new Term(field, term));
> }
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 13:59:11 2006
Return-Path: <java-user-return-19667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26817 invoked from network); 17 Mar 2006 13:59:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 13:59:11 -0000
Received: (qmail 14535 invoked by uid 500); 17 Mar 2006 13:59:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14508 invoked by uid 500); 17 Mar 2006 13:59:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14497 invoked by uid 99); 17 Mar 2006 13:59:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:59:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.204 as permitted sender)
Received: from [64.233.184.204] (HELO wproxy.gmail.com) (64.233.184.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 05:59:02 -0800
Received: by wproxy.gmail.com with SMTP id i31so580603wra
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 05:58:41 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=F8jny/QhvVStNXtlBWfW8RdWQPTLWLw/YDjOLZygGodQV7PmBq07dlsEgKph6zQc9A8ymd3r8CehQvqxET1ageuzEELQ+2/Sr0peOjvI0stOyYhdclZbdiKdvajn1aJ9oXEkRiIL1h87vhU/XTDp2oGvdXHT1HMnOEoH3fa861Q=
Received: by 10.54.86.2 with SMTP id j2mr1530057wrb;
        Fri, 17 Mar 2006 05:58:41 -0800 (PST)
Received: by 10.54.113.3 with HTTP; Fri, 17 Mar 2006 05:58:41 -0800 (PST)
Message-ID: <e994873a0603170558q5d7cb19ale13b9a9af760d2fc@mail.gmail.com>
Date: Fri, 17 Mar 2006 08:58:41 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <e994873a0603130645g7048e54ex1c74742dae3a7ab0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1186_22142123.1142603921153"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>
	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>
	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
	 <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
	 <440DD3A6.2020600@apache.org>
	 <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>
	 <88c6a6720603101400u39d5acf9n20fa89fcc8cdc8e2@mail.gmail.com>
	 <e994873a0603130620u1ca6f69bo1f3deb56be95f03c@mail.gmail.com>
	 <e994873a0603130645g7048e54ex1c74742dae3a7ab0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1186_22142123.1142603921153
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I did some additional testing with Chris's patch and mine (based on Doug's
note) vs. no patch and found that all 3 produced the same throughput - abou=
t
330 qps - over a longer period. So, there seems to be a point of diminishin=
g
returns to adding more cpus. The dual core Opterons (8 cpu) still win
handily at 400 qps.

Peter


On 3/13/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
>
> Chris,
> My apologies - this error was apparently caused by a file format mismatch
> (probably line endings).
> Thanks,
> Peter
>
>
> On 3/13/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> >
> > Chris,
> >
> > Should this patch work against the current code base? I'm getting this
> > error:
> >
> > D:\lucene-1.9>patch -b -p0 -i nio-lucene-1.9.patch
> > patching file src/java/org/apache/lucene/index/CompoundFileReader.java
> > patching file src/java/org/apache/lucene/index/FieldsReader.java
> > missing header for unified diff at line 45 of patch
> > can't find file to patch at input line 45
> > Perhaps you used the wrong -p or --strip option?
> > The text leading up to this was:
> > --------------------------
> > | +47,9 @@
> > |     fieldsStream =3D d.openInput(segment + ".fdt");
> > |     indexStream =3D d.openInput(segment + ".fdx");
> > |
> > |+    fstream =3D new ThreadStream(fieldsStream);
> > |+    istream =3D new ThreadStream(indexStream);
> > |+
> > |     size =3D (int)(indexStream.length() / 8);
> > |   }
> > |
> > --------------------------
> >
> > Thanks,
> > Peter
> >
> >
> >
> > On 3/10/06, Chris Lamprecht <clamprecht@gmail.com> wrote:
> > >
> > > Peter,
> > >
> > > I think this is similar to the patch in this bugzilla task:
> > >
> > > http://issues.apache.org/bugzilla/show_bug.cgi?id=3D35838
> > > the patch itself is
> > > http://issues.apache.org/bugzilla/attachment.cgi?id=3D15757
> > >
> > > (BTW does JIRA have a way to display the patch diffs?)
> > >
> > > The above patch also has a change to SegmentReader to avoid
> > > synchronization on isDeleted().  However, with that patch, you no
> > > longer have the guarantee that one thread will immediately see
> > > deletions by another thread.  This was fine for my purposes, and
> > > resulted in a big performance boost when there were deleted documents=
,
> > >
> > > but it may not be "correct" for others' needs.
> > >
> > > -chris
> > > On 3/10/06, Peter Keegan <peterlkeegan@gmail.com > wrote:
> > > > > 3. Use the ThreadLocal's FieldReader in the document() method.
> > > >
> > > > As I understand it, this means that the document method no longer
> > > needs to
> > > > be synchronized, right?
> > > >
> > > > I've made these changes and it does appear to improve performance.
> > > Random
> > > > snapshots of the stack traces show only an occasional lock in
> > > 'isDeleted'.
> > > > Mostly, though, the threads are busy scoring and adding results to
> > > priority
> > > > queues, which is great. I've included some sample stacks, below.
> > > I'll report
> > > > the new query rates after it has run for at least overnight, and I'=
d
> > > be
> > > > happy submit these changes to the lucene committers, if interested.
> > > >
> > > > Peter
> > > >
> > > >
> > > > Sample stack traces:
> > > >
> > > > "QueryThread group 1,#8" prio=3D1 tid=3D0x0000002ce48eeb80 nid=3D0x=
6b87
> > > runnable
> > > > [0x0000000043887000..0x0000000043887bb0]
> > > >     at org.apache.lucene.search.FieldSortedHitQueue.lessThan(
> > > > FieldSortedHitQueue.java:108)
> > > >     at org.apache.lucene.util.PriorityQueue.insert(
> > > PriorityQueue.java :61)
> > > >     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> > > > FieldSortedHitQueue.java:85)
> > > >     at org.apache.lucene.search.FieldSortedHitQueue.insert(
> > > > FieldSortedHitQueue.java:92)
> > > >     at org.apache.lucene.search.TopFieldDocCollector.collect(
> > > > TopFieldDocCollector.java:51)
> > > >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:75=
)
> > > >     at org.apache.lucene.search.TermScorer.score (TermScorer.java
> > > :60)
> > > >     at org.apache.lucene.search.IndexSearcher.search(
> > > IndexSearcher.java:132)
> > > >     at org.apache.lucene.search.IndexSearcher.search(
> > > IndexSearcher.java:110)
> > > >     at org.apache.lucene.search.MultiSearcher.search (
> > > MultiSearcher.java:225)
> > > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > > >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> > > >     at org.apache.lucene.search.Searcher.search (Searcher.java:62)
> > > >
> > > > "QueryThread group 1,#5" prio=3D1 tid=3D0x0000002ce4d659f0 nid=3D0x=
6b84
> > > runnable
> > > > [0x0000000043584000..0x0000000043584d30]
> > > >     at org.apache.lucene.search.TermScorer.score (TermScorer.java
> > > :75)
> > > >     at org.apache.lucene.search.TermScorer.score(TermScorer.java:60=
)
> > > >     at org.apache.lucene.search.IndexSearcher.search(
> > > IndexSearcher.java:132)
> > > >     at org.apache.lucene.search.IndexSearcher.search (
> > > IndexSearcher.java:110)
> > > >     at org.apache.lucene.search.MultiSearcher.search(
> > > MultiSearcher.java:225)
> > > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > > >     at org.apache.lucene.search.Hits .<init>(Hits.java:52)
> > > >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> > > >
> > > > "QueryThread group 1,#4" prio=3D1 tid=3D0x0000002ce10afd50 nid=3D0x=
6b83
> > > runnable
> > > > [0x0000000043483000..0x0000000043483db0]
> > > >     at org.apache.lucene.store.MMapDirectory$MMapIndexInput.readByt=
e
> > > (
> > > > MMapDirectory.java:46)
> > > >     at org.apache.lucene.store.IndexInput.readVInt(IndexInput.java
> > > :56)
> > > >     at org.apache.lucene.index.SegmentTermDocs.next (
> > > SegmentTermDocs.java
> > > > :101)
> > > >     at org.apache.lucene.index.SegmentTermDocs.skipTo(
> > > SegmentTermDocs.java
> > > > :194)
> > > >     at org.apache.lucene.search.TermScorer.skipTo(TermScorer.java
> > > :144)
> > > >     at org.apache.lucene.search.ConjunctionScorer.doNext(
> > > > ConjunctionScorer.java:56)
> > > >     at org.apache.lucene.search.ConjunctionScorer.next(
> > > > ConjunctionScorer.java:51)
> > > >     at org.apache.lucene.search.BooleanScorer2.score (
> > > BooleanScorer2.java
> > > > :290)
> > > >     at org.apache.lucene.search.IndexSearcher.search(
> > > IndexSearcher.java:132)
> > > >     at org.apache.lucene.search.IndexSearcher.search(
> > > IndexSearcher.java:110)
> > > >     at org.apache.lucene.search.MultiSearcher.search (
> > > MultiSearcher.java:225)
> > > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > > >     at org.apache.lucene.search.Hits.<init>(Hits.java:52)
> > > >     at org.apache.lucene.search.Searcher.search (Searcher.java:62)
> > > >
> > > > "QueryThread group 1,#3" prio=3D1 tid=3D0x0000002ce48959f0 nid=3D0x=
6b82
> > > runnable
> > > > [0x0000000043382000..0x0000000043382e30]
> > > >     at java.util.LinkedList.listIterator(LinkedList.java :523)
> > > >     at java.util.AbstractList.listIterator(AbstractList.java:349)
> > > >     at java.util.AbstractSequentialList.iterator(
> > > AbstractSequentialList.java
> > > > :250)
> > > >     at org.apache.lucene.search.ConjunctionScorer.score (
> > > > ConjunctionScorer.java:80)
> > > >     at org.apache.lucene.search.BooleanScorer2$2.score(
> > > BooleanScorer2.java
> > > > :186)
> > > >     at org.apache.lucene.search.BooleanScorer2.score(
> > > BooleanScorer2.java
> > > > :327)
> > > >     at org.apache.lucene.search.BooleanScorer2.score(
> > > BooleanScorer2.java
> > > > :291)
> > > >     at org.apache.lucene.search.IndexSearcher.search(
> > > IndexSearcher.java:132)
> > > >     at org.apache.lucene.search.IndexSearcher.search (
> > > IndexSearcher.java:110)
> > > >     at org.apache.lucene.search.MultiSearcher.search(
> > > MultiSearcher.java:225)
> > > >     at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> > > >     at org.apache.lucene.search.Hits .<init>(Hits.java:52)
> > > >     at org.apache.lucene.search.Searcher.search(Searcher.java:62)
> > > >
> > > >
> > > > On 3/7/06, Doug Cutting < cutting@apache.org> wrote:
> > > > >
> > > > > Peter Keegan wrote:
> > > > > > I ran a query performance tester against 8-cpu and 16-cpu Xeon
> > > servers
> > > > > > (16/32 cpu hyperthreaded). on Linux. Here are the results:
> > > > > >
> > > > > > 8-cpu:  275 qps
> > > > > > 16-cpu: 305 qps
> > > > > > (the dual-core Opteron servers are still faster)
> > > > > >
> > > > > > Here is the stack trace of 8 of the 16 query threads during the
> > > test:
> > > > > >
> > > > > >         at org.apache.lucene.index.SegmentReader.document(
> > > > > SegmentReader.java
> > > > > > :281)
> > > > > >         - waiting to lock <0x0000002adf5b2110> (a
> > > > > > org.apache.lucene.index.SegmentReader)
> > > > > >         at org.apache.lucene.search.IndexSearcher.doc(
> > > IndexSearcher.java
> > > > > :83)
> > > > > >         at org.apache.lucene.search.MultiSearcher.doc (
> > > MultiSearcher.java
> > > > > > :146)
> > > > > >         at org.apache.lucene.search.Hits.doc(Hits.java:103)
> > > > > >
> > > > > > SegmentReader.document is a synchronized method. I have one
> > > stored field
> > > > > > (binary, uncompressed) with and average length of 0.5Kb. The
> > > retrieval
> > > > > of
> > > > > > this stored field is within this synchronized code. Since I am
> > > using
> > > > > > MMapDirectory, does this retrieval need to be synchronized?
> > > > >
> > > > > Yes, since in FieldReader the file positions must be synchronized=
.
> > > > >
> > > > > The way to avoid this would be to:
> > > > >
> > > > > 1. Add a clone() method to FieldReader that clones it's two
> > > IndexInputs.
> > > > > 2. Add a ThreadLocal to SegmentReader whose value is a cloned
> > > FieldReader.
> > > > > 3. Use the ThreadLocal's FieldReader in the document() method.
> > > > >
> > > > > TermInfosReader has a similar optimization, using a ThreadLocal
> > > > > containing a SegmentTermEnum for each thread.
> > > > >
> > > > > Doug
> > > > >
> > > > >
> > > ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > > >
> > > > >
> > > >
> > > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>

------=_Part_1186_22142123.1142603921153--

From java-user-return-19668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 14:01:11 2006
Return-Path: <java-user-return-19668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27515 invoked from network); 17 Mar 2006 14:01:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 14:01:10 -0000
Received: (qmail 16500 invoked by uid 500); 17 Mar 2006 14:01:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16285 invoked by uid 500); 17 Mar 2006 14:01:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16274 invoked by uid 99); 17 Mar 2006 14:01:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 06:01:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 06:01:04 -0800
Received: by wproxy.gmail.com with SMTP id i31so581150wra
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 06:00:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=OGQZO+SfmCCxQMZ+WMnYhC7TPpeduf0rcQIBBteuyV02FqzU+8mIQHH8aTfrcCfibITaN7UIDmxcZpP7HPIFyaUSgL56yOnCcx9GW/jk7Os/XLG9d6QmkdUwULl0HZl7CuHMjbUAntSwdyYF/V4axfKt9DuIdYSCPg4E/URzXMM=
Received: by 10.54.106.8 with SMTP id e8mr74193wrc;
        Fri, 17 Mar 2006 06:00:43 -0800 (PST)
Received: by 10.54.113.3 with HTTP; Fri, 17 Mar 2006 06:00:43 -0800 (PST)
Message-ID: <e994873a0603170600i49e2d8abue3696f5ffbe567ed@mail.gmail.com>
Date: Fri, 17 Mar 2006 09:00:43 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Non scoring search
In-Reply-To: <Pine.LNX.4.58.0512061238000.4277@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1226_4678254.1142604043215"
References: <200512061547.24188.jdpatterson@gmail.com>
	 <Pine.LNX.4.58.0512061238000.4277@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1226_4678254.1142604043215
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I experimented with this by using a Similiarity class that returns a
constant (1) for all values and found that had no noticable affect on query
performance.

Peter

On 12/6/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : I was wondering if there is a standard way to retrive documents WITHOUT
> : scoring and sorting them.  I need a list of documents that contain
> certain
> : terms but I do not need them sorted or scored.
>
> Using Filters directly (ie: constructing them, and then calling the bits(=
)
> method yourself) is the most straight forward way i know of to achieve
> what you describe.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1226_4678254.1142604043215--

From java-user-return-19669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 15:17:03 2006
Return-Path: <java-user-return-19669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74172 invoked from network); 17 Mar 2006 15:17:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 15:17:03 -0000
Received: (qmail 56172 invoked by uid 500); 17 Mar 2006 15:16:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55823 invoked by uid 500); 17 Mar 2006 15:16:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55768 invoked by uid 99); 17 Mar 2006 15:16:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 07:16:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of adam.saltiel@gmail.com designates 66.249.82.202 as permitted sender)
Received: from [66.249.82.202] (HELO xproxy.gmail.com) (66.249.82.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 07:16:44 -0800
Received: by xproxy.gmail.com with SMTP id i28so438863wxd
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 07:16:23 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=McZF02qSRfsrv7IKV+IfuiKuB6DUU5wi0OG88AQZdvPmU7xetjgOHeYN7OXWt3LcBwKbwIle7mJsENdGo9aLKgQjPMdNc1pZS9LDE2eYPlPz5t6Vxstn+E35UfdLP0eaeTQ/xiU8rRFQ/nxPo01juXUri7pvpJ0MXAiS3j4or0I=
Received: by 10.70.43.12 with SMTP id q12mr3320340wxq;
        Fri, 17 Mar 2006 07:16:22 -0800 (PST)
Received: by 10.70.49.17 with HTTP; Fri, 17 Mar 2006 07:16:22 -0800 (PST)
Message-ID: <e8aa138c0603170716r58a3f2an@mail.gmail.com>
Date: Fri, 17 Mar 2006 15:16:22 +0000
From: adasal <adam.saltiel@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene job
In-Reply-To: <20060317020508.2224.qmail@web50314.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_6688_7498629.1142608582863"
References: <20060317020508.2224.qmail@web50314.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6688_7498629.1142608582863
Content-Type: multipart/alternative; 
	boundary="----=_Part_6689_32571016.1142608582863"

------=_Part_6689_32571016.1142608582863
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

T3R0aXMsCkknbSBpbnRlcmVzdGVkIGluIHRoZSAicmVtb3RlIiBvcHRpb24uCldpdGggdGhhbmtz
LApBZGFtCgpPbiAxNy8wMy8wNiwgT3RpcyBHb3Nwb2RuZXRpYyA8b3Rpc19nb3Nwb2RuZXRpY0B5
YWhvby5jb20+IHdyb3RlOgo+Cj4gSGVsbG8sCj4KPiBTb21lYm9keSBhc2tlZCBtZSBpZiBJIGtu
ZXcgYW55IGdvb2QgTHVjZW5lIHBlb3BsZSB3aG8nZCBiZSBpbnRlcmVzdGVkIGluCj4gc29tZSB3
b3JrIHRoYXQgaW52b2x2ZXMgYSBnb29kIGFtb3VudCBvZiBMdWNlbmUuLi4KPgo+IEhlcmUgaXMg
c29tZSBpbmZvLgo+IFRoZSBjb21wYW55IGlzIGluIE5ldyBZb3JrIENpdHkuICBGdWxsLXRpbWUg
b2YgY29udHJhY3RvcnMuICBJZGVhbGx5Cj4gbG9jYWwsIGJ1dCByZW1vdGUgd29yayB3aXRoIGdv
b2QgY2FuZGlkYXRlcyBtYXkgYmUgb2ssIHRvby4KPiBXb3JrIGludm9sdmVzIEx1Y2VuZSwgZmV0
Y2hpbmcvY3Jhd2xpbmcgc3R1ZmYgZnJvbSB0aGUgV2ViLCBwcm9iYWJseSBzb21lCj4gZmVlZCBm
ZXRjaGluZy9wYXJzaW5nL2luZGV4aW5nLgo+IFRoZWlyIGFwcCB0b3VjaGVzIChub3Qgc3VyZSBo
b3cgZGVlcGx5IGF0IHRoZSBtb21lbnQpIG9uIERhdGEgTWluaW5nLCBOTFAsCj4gZXRjLiAgVGhl
cmUgaXMgTmFtZWQgRW50aXR5IHJlY29nbml0aW9uLCBjb250ZW50IGNsYXNzaWZpY2F0aW9uLCB2
ZXJ5IGxpa2VseQo+IHNlbnRpbWVudCBkZXRlY3Rpb24sIGV0Yy4KPgo+IEl0J3MgYSBzbWFsbCBj
b21wYW55LCBhbmQgdGhlIENFTyBoYXMgYSB2ZXJ5IGdvb2QgdHJhY2sgcmVjb3JkIHdoZW4gaXQK
PiBjb21lcyB0byBjYXJlZXIgc3VjY2Vzcy4KPgo+IElmIHlvdSdyZSBpbnRlcmVzdGVkLCBzZW5k
IHNvbWUgcmVzdW1lcyBvdmVyLgo+Cj4gT3RpcyAiTHVjZW5lIEhSIGRlcGFydG1lbnQiIEdvc3Bv
ZG5ldGljCj4KPgo+Cj4KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBq
YXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiBGb3IgYWRkaXRpb25hbCBj
b21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+Cj4K
------=_Part_6689_32571016.1142608582863
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

T3R0aXMsPGJyPgpJJ20gaW50ZXJlc3RlZCBpbiB0aGUgJnF1b3Q7cmVtb3RlJnF1b3Q7IG9wdGlv
bi48YnI+CldpdGggdGhhbmtzLDxicj4KQWRhbTxicj48YnI+PGRpdj48c3BhbiBjbGFzcz0iZ21h
aWxfcXVvdGUiPk9uIDE3LzAzLzA2LCA8YiBjbGFzcz0iZ21haWxfc2VuZGVybmFtZSI+T3RpcyBH
b3Nwb2RuZXRpYzwvYj4gJmx0OzxhIGhyZWY9Im1haWx0bzpvdGlzX2dvc3BvZG5ldGljQHlhaG9v
LmNvbSI+b3Rpc19nb3Nwb2RuZXRpY0B5YWhvby5jb208L2E+Jmd0OyB3cm90ZTo8L3NwYW4+PGJs
b2NrcXVvdGUgY2xhc3M9ImdtYWlsX3F1b3RlIiBzdHlsZT0iYm9yZGVyLWxlZnQ6IDFweCBzb2xp
ZCByZ2IoMjA0LCAyMDQsIDIwNCk7IG1hcmdpbjogMHB0IDBwdCAwcHQgMC44ZXg7IHBhZGRpbmct
bGVmdDogMWV4OyI+CkhlbGxvLDxicj48YnI+U29tZWJvZHkgYXNrZWQgbWUgaWYgSSBrbmV3IGFu
eSBnb29kIEx1Y2VuZSBwZW9wbGUgd2hvJ2QgYmUgaW50ZXJlc3RlZCBpbiBzb21lIHdvcmsgdGhh
dCBpbnZvbHZlcyBhIGdvb2QgYW1vdW50IG9mIEx1Y2VuZS4uLjxicj48YnI+SGVyZSBpcyBzb21l
IGluZm8uPGJyPlRoZQpjb21wYW55IGlzIGluIE5ldyBZb3JrIENpdHkuJm5ic3A7Jm5ic3A7RnVs
bC10aW1lIG9mCmNvbnRyYWN0b3JzLiZuYnNwOyZuYnNwO0lkZWFsbHkgbG9jYWwsIGJ1dCByZW1v
dGUgd29yayB3aXRoIGdvb2QKY2FuZGlkYXRlcyBtYXkgYmUgb2ssIHRvby48YnI+V29yayBpbnZv
bHZlcyBMdWNlbmUsIGZldGNoaW5nL2NyYXdsaW5nIHN0dWZmIGZyb20gdGhlIFdlYiwgcHJvYmFi
bHkgc29tZSBmZWVkIGZldGNoaW5nL3BhcnNpbmcvaW5kZXhpbmcuPGJyPlRoZWlyCmFwcCB0b3Vj
aGVzIChub3Qgc3VyZSBob3cgZGVlcGx5IGF0IHRoZSBtb21lbnQpIG9uIERhdGEgTWluaW5nLCBO
TFAsCmV0Yy4mbmJzcDsmbmJzcDtUaGVyZSBpcyBOYW1lZCBFbnRpdHkgcmVjb2duaXRpb24sIGNv
bnRlbnQKY2xhc3NpZmljYXRpb24sIHZlcnkgbGlrZWx5IHNlbnRpbWVudCBkZXRlY3Rpb24sIGV0
Yy48YnI+PGJyPkl0J3MgYSBzbWFsbCBjb21wYW55LCBhbmQgdGhlIENFTyBoYXMgYSB2ZXJ5IGdv
b2QgdHJhY2sgcmVjb3JkIHdoZW4gaXQgY29tZXMgdG8gY2FyZWVyIHN1Y2Nlc3MuPGJyPjxicj5J
ZiB5b3UncmUgaW50ZXJlc3RlZCwgc2VuZCBzb21lIHJlc3VtZXMgb3Zlci48YnI+PGJyPk90aXMg
JnF1b3Q7THVjZW5lIEhSIGRlcGFydG1lbnQmcXVvdDsgR29zcG9kbmV0aWMKPGJyPjxicj48YnI+
PGJyPjxicj4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS08YnI+VG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogPGEgaHJlZj0i
bWFpbHRvOmphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZyI+amF2YS11c2Vy
LXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnPC9hPjxicj4KRm9yIGFkZGl0aW9uYWwgY29t
bWFuZHMsIGUtbWFpbDogPGEgaHJlZj0ibWFpbHRvOmphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFj
aGUub3JnIj5qYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZzwvYT48YnI+PGJyPjwvYmxv
Y2txdW90ZT48L2Rpdj48YnI+Cg==
------=_Part_6689_32571016.1142608582863--


------=_Part_6688_7498629.1142608582863
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_Part_6688_7498629.1142608582863--

From java-user-return-19670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 15:37:17 2006
Return-Path: <java-user-return-19670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86411 invoked from network); 17 Mar 2006 15:37:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 15:37:16 -0000
Received: (qmail 4660 invoked by uid 500); 17 Mar 2006 15:37:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4617 invoked by uid 500); 17 Mar 2006 15:37:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4545 invoked by uid 99); 17 Mar 2006 15:37:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 07:37:08 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jprogramista@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO pproxy.gmail.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 07:37:05 -0800
Received: by pproxy.gmail.com with SMTP id s49so967414pyc
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 07:36:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=FcnqleBkNh2L5g58u+zfRQOrbY/xTAIIwmy5xLh4n36pU2MueHJ15Jx+4EH9hyJxuILFTfxiyaFxRFb4sDVhVz8wJemmNI1/Wgn8AHRhYQm2h4sqpoBNqzG0m4Jl6SnfQ66Fem94TrME/MmMK22KEuY95rZ6XqWz9V4/CbmzHYI=
Received: by 10.35.70.17 with SMTP id x17mr703494pyk;
        Fri, 17 Mar 2006 07:36:44 -0800 (PST)
Received: by 10.35.18.11 with HTTP; Fri, 17 Mar 2006 07:36:44 -0800 (PST)
Message-ID: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com>
Date: Fri, 17 Mar 2006 16:36:44 +0100
From: "Java Programmer" <jprogramista@gmail.com>
To: java-user@lucene.apache.org
Subject: Grouping results by choosen field
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5391_31184421.1142609804556"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5391_31184421.1142609804556
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello,
I tried to search myself for soultion, but without any good result, so I
want to ask group.
My problem concerns result grouping, the best example will be Google search
where you have results sorted by relevance, and also grouped by domain (the=
y
have little indent/margin). In my project I want to get similar
functionality, without very huge CPU consumption.

Can you share any helpful hints ?

Best Regards,
Adr

------=_Part_5391_31184421.1142609804556--

From java-user-return-19671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 16:27:52 2006
Return-Path: <java-user-return-19671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19891 invoked from network); 17 Mar 2006 16:27:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 16:27:51 -0000
Received: (qmail 43118 invoked by uid 500); 17 Mar 2006 16:27:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43095 invoked by uid 500); 17 Mar 2006 16:27:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43084 invoked by uid 99); 17 Mar 2006 16:27:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 08:27:44 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 08:27:43 -0800
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2HGQpbk014524
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 11:26:51 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout7-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2HGRGWH050960;
	Fri, 17 Mar 2006 11:27:17 -0500
Message-ID: <441AE363.2040403@apache.org>
Date: Fri, 17 Mar 2006 08:27:15 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>	 <e994873a0602231314t5c7707bdjf79665d3d4ad1cf0@mail.gmail.com>	 <c68e39170602231324s5c425a02m235b51b469a1e79c@mail.gmail.com>	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>	 <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>	 <440DD3A6.2020600@apache.org>	 <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>	 <88c6a6720603101400u39d5acf9n20fa89fcc8cdc8e2@mail.gmail.com>	 <e994873a0603130620u1ca6f69bo1f3deb56be95f03c@mail.gmail.com>	 <e994873a0603130645g7048e54ex1c74742dae3a7ab0@mail.gmail.com> <e994873a0603170558q5d7cb19ale13b9a9af760d2fc@mail.gmail.com>
In-Reply-To: <e994873a0603170558q5d7cb19ale13b9a9af760d2fc@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Peter Keegan wrote:
> I did some additional testing with Chris's patch and mine (based on Doug's
> note) vs. no patch and found that all 3 produced the same throughput - about
> 330 qps - over a longer period.

Was CPU utilizaton 100%?  If not, where do you think the bottleneck now 
is?  Network?  Or some other Java monitor contention?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 17:26:46 2006
Return-Path: <java-user-return-19672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55759 invoked from network); 17 Mar 2006 17:26:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 17:26:46 -0000
Received: (qmail 7042 invoked by uid 500); 17 Mar 2006 17:26:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7020 invoked by uid 500); 17 Mar 2006 17:26:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7008 invoked by uid 99); 17 Mar 2006 17:26:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 09:26:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 09:26:39 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2HHQH2B002661
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 09:26:17 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2HHQHUe002659
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 09:26:17 -0800
Received: from [10.17.1.119] ( 10.17.1.119)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Fri, 17 Mar 2006 09:26:17 -0800 (PST)
Date: Fri, 17 Mar 2006 09:27:51 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <441AF197.10101@scalix.com>
Subject: Unnormalized score
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Apparently there is a way of retrieving the unnormalized score from a
Hit but I have been unable to track this down.  I need to return this
value because an external client wants to compile results from multiple
queries itself.

Any help much appreciated.

Cheers,

Nick.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 18:12:35 2006
Return-Path: <java-user-return-19673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83302 invoked from network); 17 Mar 2006 18:12:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 18:12:35 -0000
Received: (qmail 88083 invoked by uid 500); 17 Mar 2006 18:12:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87480 invoked by uid 500); 17 Mar 2006 18:12:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87469 invoked by uid 99); 17 Mar 2006 18:12:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 10:12:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 10:12:29 -0800
Received: by wproxy.gmail.com with SMTP id i31so640740wra
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 10:12:07 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LhEavNBhf+SdhfNh6PwTI/qrs3yoWIPQjI9BkAvQ5pYF5zodz0Me1SsCRxv5o4xVC91ttkCz0uEp6Td8IZdUWNPO72eoHk3u8CEidCJwx5/TkZ6u+MhDlKNVeAO/C6DvalNFJpf/ajz1QY9ISInCkcdj0//GXxOjsaF7Q6Cef58=
Received: by 10.54.86.2 with SMTP id j2mr1719260wrb;
        Fri, 17 Mar 2006 10:12:03 -0800 (PST)
Received: by 10.54.113.3 with HTTP; Fri, 17 Mar 2006 10:12:03 -0800 (PST)
Message-ID: <e994873a0603171012l6ee7a684s676ff49389447c30@mail.gmail.com>
Date: Fri, 17 Mar 2006 13:12:03 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Throughput doesn't increase when using more concurrent threads
In-Reply-To: <441AE363.2040403@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4185_6576832.1142619123249"
References: <GJEMKBFALLAJKLGINBHHKEHAKOAA.jbooth@net-temps.com>
	 <e994873a0602231330p2f3dd3b7yeb6a04ed86103069@mail.gmail.com>
	 <e994873a0603071026l2d456f80w86e093e96ff82d91@mail.gmail.com>
	 <440DD3A6.2020600@apache.org>
	 <e994873a0603101308s6cc0d9abjcbcf916b963edaee@mail.gmail.com>
	 <88c6a6720603101400u39d5acf9n20fa89fcc8cdc8e2@mail.gmail.com>
	 <e994873a0603130620u1ca6f69bo1f3deb56be95f03c@mail.gmail.com>
	 <e994873a0603130645g7048e54ex1c74742dae3a7ab0@mail.gmail.com>
	 <e994873a0603170558q5d7cb19ale13b9a9af760d2fc@mail.gmail.com>
	 <441AE363.2040403@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4185_6576832.1142619123249
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Good question. 'Top' reports the jvm at 99.9% CPU, but the individual CPUs
(top/1) don't seem to add up to 99.9. This server is actually 2 - 8 CPU
servers whose backplanes are cabled together, so there may be some issue
here.  The network load is heavy, but doesn't seem to be the bottleneck (on
the Opteron server, the network is very close to being the bottleneck).
There is an expected monitor lock on an ArrayBlockingQueue, but it isn't
starving that thread.
So, at this point, I'm suspicious about the hardware setup.

Peter

On 3/17/06, Doug Cutting <cutting@apache.org> wrote:
>
> Peter Keegan wrote:
> > I did some additional testing with Chris's patch and mine (based on
> Doug's
> > note) vs. no patch and found that all 3 produced the same throughput -
> about
> > 330 qps - over a longer period.
>
> Was CPU utilizaton 100%?  If not, where do you think the bottleneck now
> is?  Network?  Or some other Java monitor contention?
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_4185_6576832.1142619123249--

From java-user-return-19674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 19:32:02 2006
Return-Path: <java-user-return-19674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45120 invoked from network); 17 Mar 2006 19:32:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 19:32:02 -0000
Received: (qmail 13519 invoked by uid 500); 17 Mar 2006 19:31:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13172 invoked by uid 500); 17 Mar 2006 19:31:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13161 invoked by uid 99); 17 Mar 2006 19:31:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 11:31:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 11:31:56 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AC86F5B770; Fri, 17 Mar 2006 11:31:35 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A8C227F403
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 11:31:35 -0800 (PST)
Date: Fri, 17 Mar 2006 11:31:35 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Grouping results by choosen field
In-Reply-To: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0603171130510.30675@hal.rescomp.berkeley.edu>
References: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I believe hte topic you are refering to is typically refered to as
"clustering" ... you may wnat to search for that.

I've never really looked at it, but carrot2 seems to be a favorite among
those who do result clustering.


: Date: Fri, 17 Mar 2006 16:36:44 +0100
: From: Java Programmer <jprogramista@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Grouping results by choosen field
:
: Hello,
: I tried to search myself for soultion, but without any good result, so I
: want to ask group.
: My problem concerns result grouping, the best example will be Google search
: where you have results sorted by relevance, and also grouped by domain (they
: have little indent/margin). In my project I want to get similar
: functionality, without very huge CPU consumption.
:
: Can you share any helpful hints ?
:
: Best Regards,
: Adr
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 19:33:55 2006
Return-Path: <java-user-return-19675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46329 invoked from network); 17 Mar 2006 19:33:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 19:33:55 -0000
Received: (qmail 16481 invoked by uid 500); 17 Mar 2006 19:33:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16016 invoked by uid 500); 17 Mar 2006 19:33:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16005 invoked by uid 99); 17 Mar 2006 19:33:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 11:33:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 11:33:48 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 67F8C5B76E; Fri, 17 Mar 2006 11:33:27 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 61CD17F403
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 11:33:27 -0800 (PST)
Date: Fri, 17 Mar 2006 11:33:27 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Unnormalized score
In-Reply-To: <441AF197.10101@scalix.com>
Message-ID: <Pine.LNX.4.58.0603171131520.30675@hal.rescomp.berkeley.edu>
References: <441AF197.10101@scalix.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Apparently there is a way of retrieving the unnormalized score from a
: Hit but I have been unable to track this down.  I need to return this
: value because an external client wants to compile results from multiple
: queries itself.

Not from the Hits class itself, but the raw score is available from most
(all?) of the methods in the Searchable interface that describe themselves
as "Expert" or "Lower-level" in the javadocs.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 19:51:25 2006
Return-Path: <java-user-return-19676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56902 invoked from network); 17 Mar 2006 19:51:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 19:51:25 -0000
Received: (qmail 59978 invoked by uid 500); 17 Mar 2006 19:51:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59638 invoked by uid 500); 17 Mar 2006 19:51:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59625 invoked by uid 99); 17 Mar 2006 19:51:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 11:51:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 11:51:17 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 115815B76E; Fri, 17 Mar 2006 11:50:57 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 05B387F403
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 11:50:57 -0800 (PST)
Date: Fri, 17 Mar 2006 11:50:57 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Best practice setup in multi server environment?
In-Reply-To: <E4064499-4735-47E3-90EC-835F81D4FFFE@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0603171141160.30675@hal.rescomp.berkeley.edu>
References: <3455237.post@talk.nabble.com> <E4064499-4735-47E3-90EC-835F81D4FFFE@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > 1 web server running PHP
: > 1 MySQL server (which will still be used, but not for fulltext
: > queries)
: > 1 server running Lucene
: > The Lucene index will be created out of the MySQL data.
: >
: > My question: How can I send a query from the webserver using PHP to
: > the
: > Lucene server and get my list of result IDs back?
: > I suppose one needs some kind of daemon?

: Have a look at Solr, which sounds like the ideal tool for the job:
:
: 	<http://incubator.apache.org/solr/>

I agree, Solr sounds perfect for your needs (and i'm not just saying that
because I'm a Solr committer)

 * you update a Solr index by HTTP POSTing simple xml "documents" - so
   your indexing code can be written in any language you want, and run on
   whatever machinemakes sense for your installation.
 * you query a Solr index by HTTP GETing simple xml resuults - so your
   query code client can be a PHP app, or anything else thta can
   fetch/parse xml documents over HTTP.
 * if your documents have a unique identifier, Solr will make sure that
   any "adds" you send it with a document id it already knows about get
   replaced (no duplicates) so you can just POST data to it anytime you
   modify your MySQL DB - no need to worry baout wether it's an add or an
   update.
 * Solr's schema will let you tell it which fields are
   integers, floats, strings, dates, etc... and will make sure range
   queries or sorting on those fields works properly without you having to
   worry about special formatting.  the Schema also lets you say which
   fields you wnat to be searchable, which ones should be stored, which
   analyzer to use for which fields, etc... so you don't have to write any
   javacode to maintain your index -- just configuration.


(okay .. i think that's enough pimping for one email ... head on over to
the "solr-user <a> lucene.apache.org" mailing list if you have any
questions)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 20:00:12 2006
Return-Path: <java-user-return-19677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64239 invoked from network); 17 Mar 2006 20:00:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 20:00:12 -0000
Received: (qmail 80538 invoked by uid 500); 17 Mar 2006 20:00:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80513 invoked by uid 500); 17 Mar 2006 20:00:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80502 invoked by uid 99); 17 Mar 2006 20:00:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 12:00:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.187] (HELO hnexfe17.hetnet.nl) (195.121.6.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 12:00:04 -0800
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe17.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 17 Mar 2006 20:59:40 +0100
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com>
References: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E2CFF71F-99A6-4E34-A73F-8CB70ED8FB2A@snigel.net>
Content-Transfer-Encoding: 7bit
From: karl wettin <kalle@snigel.net>
Subject: Re: Grouping results by choosen field
Date: Fri, 17 Mar 2006 21:01:45 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-OriginalArrivalTime: 17 Mar 2006 19:59:41.0438 (UTC) FILETIME=[542C49E0:01C649FD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


17 mar 2006 kl. 16.36 skrev Java Programmer:
>
> My problem concerns result grouping, the best example will be  
> Google search
> where you have results sorted by relevance, and also grouped by  
> domain (they
> have little indent/margin). In my project I want to get similar
> functionality, without very huge CPU consumption.
>
> Can you share any helpful hints ?

I do that. Basically I marshall the hit documents to java instances  
of Comparable. Then I just plain old Collections.sort(the documents  
as object representation). Each document may contain classification  
weights. Weights points at a classifiction value, and the  
classification value points at a clazz.

UML class diagram:

[Persistent]<#>--- {0..*} ->[ClassificationWeight +compareTo()  
+weight:float]---- {1} ->[Classification + compareTo()  
+value:String]--- {1} ->[Clazz +fieldName:String + compareTo()]

A clazz in this instance is the "group of domain names". The  
classification is the actual domain name. You can skip the weight if  
you only use domain names. I guess all weights would be 1.

The weight compares to classifications that compares to the clazz. If  
two weights equal I use the lucene score.

You might want to do several passes or nested order to get the group  
top score as the natrual order per group cluster.

It handles 3000+ queries per minute on 120000+ documents in RAM, 24/7  
on a dual core at 40% load. And I even use Lucene for persistency  
even though I should not.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 21:31:35 2006
Return-Path: <java-user-return-19678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21158 invoked from network); 17 Mar 2006 21:31:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 21:31:35 -0000
Received: (qmail 21033 invoked by uid 500); 17 Mar 2006 21:31:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20999 invoked by uid 500); 17 Mar 2006 21:31:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20988 invoked by uid 99); 17 Mar 2006 21:31:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:31:29 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:31:28 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C89DB33C0C8; Fri, 17 Mar 2006 16:31:07 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 79C8D33C0C0
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 16:31:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <20060317020508.2224.qmail@web50314.mail.yahoo.com>
References: <20060317020508.2224.qmail@web50314.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1FDD0682-6836-4D3C-B5B4-E17D6BCCE03B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene job
Date: Fri, 17 Mar 2006 16:31:04 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm increasingly getting more and more requests for Lucene consulting  
myself, and simply don't have the bandwidth to tackle most of them.   
I have said "yes" a few times recently though, so don't count me out  
though ;)

If you are skilled with Lucene, and interested in making yourself  
available for consulting work, please register yourself here:

	<http://wiki.apache.org/jakarta-lucene/Support>

I have referred several folks to this page recently when I've not  
been able to help them.

	Erik


On Mar 16, 2006, at 9:05 PM, Otis Gospodnetic wrote:

> Hello,
>
> Somebody asked me if I knew any good Lucene people who'd be  
> interested in some work that involves a good amount of Lucene...
>
> Here is some info.
> The company is in New York City.  Full-time of contractors.   
> Ideally local, but remote work with good candidates may be ok, too.
> Work involves Lucene, fetching/crawling stuff from the Web,  
> probably some feed fetching/parsing/indexing.
> Their app touches (not sure how deeply at the moment) on Data  
> Mining, NLP, etc.  There is Named Entity recognition, content  
> classification, very likely sentiment detection, etc.
>
> It's a small company, and the CEO has a very good track record when  
> it comes to career success.
>
> If you're interested, send some resumes over.
>
> Otis "Lucene HR department" Gospodnetic
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 21:37:16 2006
Return-Path: <java-user-return-19679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24982 invoked from network); 17 Mar 2006 21:37:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 21:37:15 -0000
Received: (qmail 35141 invoked by uid 500); 17 Mar 2006 21:37:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35114 invoked by uid 500); 17 Mar 2006 21:37:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35103 invoked by uid 99); 17 Mar 2006 21:37:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:37:10 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of khosravi@us.ibm.com designates 32.97.110.152 as permitted sender)
Received: from [32.97.110.152] (HELO e34.co.us.ibm.com) (32.97.110.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:37:09 -0800
Received: from d03relay04.boulder.ibm.com (d03relay04.boulder.ibm.com [9.17.195.106])
	by e34.co.us.ibm.com (8.12.11/8.12.11) with ESMTP id k2HLamIK007479
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 16:36:48 -0500
Received: from d03av04.boulder.ibm.com (d03av04.boulder.ibm.com [9.17.195.170])
	by d03relay04.boulder.ibm.com (8.12.10/NCO/VER6.8) with ESMTP id k2HLdj39190676
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 14:39:46 -0700
Received: from d03av04.boulder.ibm.com (loopback [127.0.0.1])
	by d03av04.boulder.ibm.com (8.12.11/8.13.3) with ESMTP id k2HLamVN024341
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 14:36:48 -0700
Received: from d03nm132.boulder.ibm.com (d03nm132.boulder.ibm.com [9.17.195.172])
	by d03av04.boulder.ibm.com (8.12.11/8.12.11) with ESMTP id k2HLam84024334
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 14:36:48 -0700
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Possibility of a relational query?
X-Mailer: Lotus Notes Release 6.0.2CF1 June 9, 2003
Message-ID: <OF95CFC6B9.C83E493C-ON87257134.0076B6F9-87257134.0076B96A@us.ibm.com>
From: Nina Khosravi <khosravi@us.ibm.com>
Date: Fri, 17 Mar 2006 14:39:06 -0700
X-MIMETrack: Serialize by Router on D03NM132/03/M/IBM(Release 6.53HF654 | July 22, 2005) at
 03/17/2006 14:39:11,
	Serialize complete at 03/17/2006 14:39:11
Content-Type: multipart/alternative; boundary="=_alternative 0076B96987257134_="
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=_alternative 0076B96987257134_=
Content-Type: text/plain; charset="US-ASCII"

I have a need to issue a query that is typically performed on a relational 
database. I may have to give up on this idea but thought I may ask if 
there is a way to handle this type query. Let's say my documents all have 
2 fields fieldA and fieldB. Is there a query that can return hits for all 
documents where fieldA equals fieldB regardless of what values these 2 
fields have?

Regards,
Nina  Khosravi

Voice: 303.924.6396
Email: khosravi@us.ibm.com

--=_alternative 0076B96987257134_=--

From java-user-return-19680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 21:49:26 2006
Return-Path: <java-user-return-19680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30442 invoked from network); 17 Mar 2006 21:49:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 21:49:25 -0000
Received: (qmail 51899 invoked by uid 500); 17 Mar 2006 21:49:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51437 invoked by uid 500); 17 Mar 2006 21:49:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51426 invoked by uid 99); 17 Mar 2006 21:49:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:49:20 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of michael.wechner@wyona.com designates 195.226.6.68 as permitted sender)
Received: from [195.226.6.68] (HELO mx1.wyona.com) (195.226.6.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:49:18 -0800
Received: from 223.8.76.83.cust.bluewin.ch ([83.76.8.223] helo=[192.168.2.101])
	by mx1.wyona.com with asmtp (Exim 3.35 #1 (Debian))
	id 1FKMoZ-0008RP-00
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 22:48:55 +0100
Message-ID: <441B2EBA.6020206@wyona.com>
Date: Fri, 17 Mar 2006 22:48:42 +0100
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.6) Gecko/20050319
X-Accept-Language: en-us, de, fr-ch, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene job
References: <20060317020508.2224.qmail@web50314.mail.yahoo.com> <1FDD0682-6836-4D3C-B5B4-E17D6BCCE03B@ehatchersolutions.com>
In-Reply-To: <1FDD0682-6836-4D3C-B5B4-E17D6BCCE03B@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> I'm increasingly getting more and more requests for Lucene consulting  
> myself, and simply don't have the bandwidth to tackle most of them.   
> I have said "yes" a few times recently though, so don't count me out  
> though ;)
>
> If you are skilled with Lucene, and interested in making yourself  
> available for consulting work, please register yourself here:
>
>     <http://wiki.apache.org/jakarta-lucene/Support>
>
> I have referred several folks to this page recently when I've not  
> been able to help them.

Thanks very much for the pointer.

Maybe it would make sense to sort it alphabetically, whereas we won't rename
Wyona to Awyona ;-)

Or by countries, because it seems to me that people are often looking for
people as close as possible.

Michi

>
>     Erik
>
>
> On Mar 16, 2006, at 9:05 PM, Otis Gospodnetic wrote:
>
>> Hello,
>>
>> Somebody asked me if I knew any good Lucene people who'd be  
>> interested in some work that involves a good amount of Lucene...
>>
>> Here is some info.
>> The company is in New York City.  Full-time of contractors.   Ideally 
>> local, but remote work with good candidates may be ok, too.
>> Work involves Lucene, fetching/crawling stuff from the Web,  probably 
>> some feed fetching/parsing/indexing.
>> Their app touches (not sure how deeply at the moment) on Data  
>> Mining, NLP, etc.  There is Named Entity recognition, content  
>> classification, very likely sentiment detection, etc.
>>
>> It's a small company, and the CEO has a very good track record when  
>> it comes to career success.
>>
>> If you're interested, send some resumes over.
>>
>> Otis "Lucene HR department" Gospodnetic
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Michael Wechner
Wyona      -   Open Source Content Management   -    Apache Lenya
http://www.wyona.com                      http://lenya.apache.org
michael.wechner@wyona.com                        michi@apache.org
+41 44 272 91 61


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 21:58:09 2006
Return-Path: <java-user-return-19681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35490 invoked from network); 17 Mar 2006 21:58:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 21:58:08 -0000
Received: (qmail 70408 invoked by uid 500); 17 Mar 2006 21:58:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70363 invoked by uid 500); 17 Mar 2006 21:58:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70348 invoked by uid 99); 17 Mar 2006 21:58:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:58:01 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.46] (HELO ylpvm15.prodigy.net) (207.115.57.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 13:58:00 -0800
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm15.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2HLvgYC025412
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 16:57:42 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout7-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2HLvXfL226432;
	Fri, 17 Mar 2006 16:57:36 -0500
Message-ID: <441B30CD.9080104@apache.org>
Date: Fri, 17 Mar 2006 13:57:33 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene job
References: <20060317020508.2224.qmail@web50314.mail.yahoo.com> <1FDD0682-6836-4D3C-B5B4-E17D6BCCE03B@ehatchersolutions.com> <441B2EBA.6020206@wyona.com>
In-Reply-To: <441B2EBA.6020206@wyona.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Michael Wechner wrote:
> Maybe it would make sense to sort it alphabetically  [ ... ]

+1 This should be sorted alphabetically be business name or last name. 
That's what it says on the page, although a few entries are out of 
place.  Please feel free to fix this.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 22:28:13 2006
Return-Path: <java-user-return-19682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49445 invoked from network); 17 Mar 2006 22:28:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 22:28:12 -0000
Received: (qmail 20884 invoked by uid 500); 17 Mar 2006 22:28:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20477 invoked by uid 500); 17 Mar 2006 22:28:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20466 invoked by uid 99); 17 Mar 2006 22:28:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 14:28:07 -0800
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.191.87.121] (HELO web37808.mail.mud.yahoo.com) (209.191.87.121)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 17 Mar 2006 14:28:06 -0800
Received: (qmail 39281 invoked by uid 60001); 17 Mar 2006 22:27:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.vn;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=VoNoO5utcG42BnbtlP/cEM/9BizY+r4rtfmlV6RNav8aOTB2h5SZwBRaPxYNNCP8tE7OWjLMsf4dlNwlq6XeOai6+sSpZsTFrGTSIr/RtSU3oGtj/0/KzTdkOtZtG2OLVxwcp28TE0Kd5BVTLekdaEZd7/OwHCvzyu1JwB7bXHQ=  ;
Message-ID: <20060317222744.39279.qmail@web37808.mail.mud.yahoo.com>
Received: from [82.127.50.162] by web37808.mail.mud.yahoo.com via HTTP; Sat, 18 Mar 2006 05:27:44 ICT
Date: Sat, 18 Mar 2006 05:27:44 +0700 (ICT)
From: thanh nguyen <ngay01032006@yahoo.com.vn>
Subject: Extract important terms by programming??
To: java-user@lucene.apache.org
In-Reply-To: <441B2EBA.6020206@wyona.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-769803821-1142634464=:38137"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-769803821-1142634464=:38137
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

Hello, 

Suppose that I have indexed a document with Lucene. How can I extract the most important terms in this documents by using a programming language? Does Lucene provide an API to do that? (For example, if this document is indexed by TFIDF, the most important temrs are the terms with biggest weighted).

Any help would be appreciated.
Thanh.

		
---------------------------------
Bn c s dng Yahoo! khng?
Hy xem th trang ch Yahoo! Vit Nam!
--0-769803821-1142634464=:38137--

From java-user-return-19683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 23:14:33 2006
Return-Path: <java-user-return-19683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74097 invoked from network); 17 Mar 2006 23:14:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 23:14:32 -0000
Received: (qmail 79889 invoked by uid 500); 17 Mar 2006 23:14:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79859 invoked by uid 500); 17 Mar 2006 23:14:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79847 invoked by uid 99); 17 Mar 2006 23:14:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 15:14:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 15:14:25 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2HNE4sw011577
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 15:14:04 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2HNE3vi011572
	for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 15:14:04 -0800
Received: from [10.17.80.104] (murky.us.scalix.com 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Fri, 17 Mar 2006 15:14:03 -0800 (PST)
Date: Fri, 17 Mar 2006 15:15:38 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <441B431A.8020909@scalix.com>
In-Reply-To: <c68e39170603161700m783133d9te4270534ad68e41f@mail.gmail.com>
References: <c68e39170603161554y25eb44a7pd83739585cf2c651@mail.gmail.com>
References: <441A08C3.2090403@scalix.com>
References: <c68e39170603161700m783133d9te4270534ad68e41f@mail.gmail.com>
Subject: Re: Lucene and Tomcat, too many open files
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Guys, thanks for your help yesterday, I solved my problem!  I was
actually  using an IndexSearcher in another thread that I had forgotten
all about.  Whoever suggested that IndexReader was to blame was right on
the money.  I now make sure I close my Readers and, bingo, the open
files are managed nicely and kept within reasonable bounds (no more than
200).

Thanks,

Nick.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 17 23:29:22 2006
Return-Path: <java-user-return-19684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81570 invoked from network); 17 Mar 2006 23:29:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Mar 2006 23:29:22 -0000
Received: (qmail 97873 invoked by uid 500); 17 Mar 2006 23:29:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97836 invoked by uid 500); 17 Mar 2006 23:29:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97825 invoked by uid 99); 17 Mar 2006 23:29:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 15:29:17 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of artvas@gmail.com designates 66.249.92.196 as permitted sender)
Received: from [66.249.92.196] (HELO uproxy.gmail.com) (66.249.92.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 15:29:16 -0800
Received: by uproxy.gmail.com with SMTP id j40so362911ugd
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 15:28:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:date:from:x-mailer:reply-to:x-priority:message-id:to:subject:mime-version:content-type:content-transfer-encoding;
        b=fixjFxvuH2wREvnMbxgdLwDTJFG9s9LyVgxkBdkD5ipCBm95RYV5Zye4hzb1X+eA8O/3Cli3rjV+GnezxDLkMOTfRlH5DgbOMJjTB8+TNuWdqKgCueIqlMgKB2ebUmjvUGOwqUY3xchGip1nep6eHLMCxr54xD47FtmR9HVofB0=
Received: by 10.66.184.5 with SMTP id h5mr2314287ugf;
        Fri, 17 Mar 2006 15:28:54 -0800 (PST)
Received: from ppp236-28.pptp.mtu-net.ru ( [81.195.236.28])
        by mx.gmail.com with ESMTP id o1sm2146410uge.2006.03.17.15.28.53;
        Fri, 17 Mar 2006 15:28:54 -0800 (PST)
Date: Sat, 18 Mar 2006 02:29:00 +0300
From: Artem Vasiliev <artvas@gmail.com>
X-Mailer: The Bat! (v2.04.7) Personal
Reply-To: Artem Vasiliev <artvas@gmail.com>
X-Priority: 3 (Normal)
Message-ID: <1193762895.20060318022900@gmail.com>
To: java-user@lucene.apache.org
Subject: another lucene-based application
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi guys!

I'd like to thank the developers and contributors of Lucene project
for the fantastic library. And thanks Otis and Erik for a great book!

I'm writing an open source file searcher application 'sharehound'
(http://sharehound.sourceforge.net/) based on Lucene. It can now
search SMB file shares in LANs by their pathes and names. It tracks
changes in directories so it even knows about deleted files. The
application is in alpha now but it's working, it has Web UI and RSS
subscription for query results (added today :), so I'll be glad if
it help somebody here.

-- 
Best regards,
 Artem


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 18 00:19:22 2006
Return-Path: <java-user-return-19685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1599 invoked from network); 18 Mar 2006 00:19:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Mar 2006 00:19:22 -0000
Received: (qmail 49385 invoked by uid 500); 18 Mar 2006 00:19:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49361 invoked by uid 500); 18 Mar 2006 00:19:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49350 invoked by uid 99); 18 Mar 2006 00:19:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 16:19:16 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of the.mindstorm.mailinglist@gmail.com designates 64.233.182.206 as permitted sender)
Received: from [64.233.182.206] (HELO nproxy.gmail.com) (64.233.182.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 16:19:16 -0800
Received: by nproxy.gmail.com with SMTP id y38so525565nfb
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 16:18:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Up7UHMNF6ilM2BMMQGiez5uqO7EUeD9IXcVUQsF8WxjYZBdL7LCVj24RsQM0wCI3Ornm+ZlXYaGjNQzbrLdW65BazLSUOyU8qb+ft9MWLzVSnBTPmVWsG/GoENKyPq2KQeBTxY1x8ZX0zweASjipnsf0n9yb1FEJOuoPBBFhWSA=
Received: by 10.49.59.9 with SMTP id m9mr1459241nfk;
        Fri, 17 Mar 2006 16:18:54 -0800 (PST)
Received: by 10.49.72.20 with HTTP; Fri, 17 Mar 2006 16:18:54 -0800 (PST)
Message-ID: <c6f400460603171618g68e8e304tb3dd39cd11268d81@mail.gmail.com>
Date: Sat, 18 Mar 2006 02:18:54 +0200
From: "Alexandru Popescu" <the.mindstorm.mailinglist@gmail.com>
To: java-user@lucene.apache.org
Subject: Bug in Directory + FSDirectory (?)
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1527_4801055.1142641134457"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1527_4801055.1142641134457
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi!

This is my first post to Lucene ML, so please excuse the following message
if completely wrong :-). We are trying to upgrade Jackrabbit to support
Lucene 1.9.1. At a first problem we needed to change the access modified of
a method from protected to public, but this was not a problem. The second
problem we are facing is a ClassCastException in Directory, FSDirectory
usage, and here is the reason I believe it's causing it:

a call to FSDirectory.createFile which doesn't override Directory.createFil=
e,
results in a call to FSDirectory.createOutput which returns FSIndexOutput.
But createFile method should return OutputStream, so this results in a
ClassCastException.

Am I interpretting things wrongly or can this be considered a bug in Lucene
1.9.1?

./alex
--
.w( the_mindstorm )p.

------=_Part_1527_4801055.1142641134457--

From java-user-return-19686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 18 03:10:37 2006
Return-Path: <java-user-return-19686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69271 invoked from network); 18 Mar 2006 03:10:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Mar 2006 03:10:37 -0000
Received: (qmail 56603 invoked by uid 500); 18 Mar 2006 03:10:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56576 invoked by uid 500); 18 Mar 2006 03:10:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56565 invoked by uid 99); 18 Mar 2006 03:10:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 19:10:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.173] (HELO hnexfe07.hetnet.nl) (195.121.6.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 19:10:31 -0800
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe07.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sat, 18 Mar 2006 04:10:03 +0100
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <E2CFF71F-99A6-4E34-A73F-8CB70ED8FB2A@snigel.net>
References: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com> <E2CFF71F-99A6-4E34-A73F-8CB70ED8FB2A@snigel.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <955D6251-A6EF-4ED6-8B5A-0E04BE1032C0@snigel.net>
Content-Transfer-Encoding: 7bit
From: karl wettin <kalle@snigel.net>
Subject: Re: Grouping results by choosen field
Date: Sat, 18 Mar 2006 04:12:09 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-OriginalArrivalTime: 18 Mar 2006 03:10:03.0390 (UTC) FILETIME=[734179E0:01C64A39]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


17 mar 2006 kl. 21.01 skrev karl wettin:

>
> 17 mar 2006 kl. 16.36 skrev Java Programmer:
>>
>> My problem concerns result grouping, the best example will be  
>> Google search
>> where you have results sorted by relevance, and also grouped by  
>> domain (they
>> have little indent/margin). In my project I want to get similar
>> functionality, without very huge CPU consumption.
>>
>> Can you share any helpful hints ?
>
> I do that. Basically I marshall the hit documents to java instances  
> of Comparable. Then I just plain old Collections.sort(the documents  
> as object representation).

I just made it complicated after this. Sorry. I ment to say I do well  
grouping fields with a comparator. If I get too many results, I only  
sort the top n hits.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 18 06:03:57 2006
Return-Path: <java-user-return-19687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30717 invoked from network); 18 Mar 2006 06:03:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Mar 2006 06:03:56 -0000
Received: (qmail 43824 invoked by uid 500); 18 Mar 2006 06:03:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43766 invoked by uid 500); 18 Mar 2006 06:03:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43755 invoked by uid 99); 18 Mar 2006 06:03:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 22:03:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shystars@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 22:03:50 -0800
Received: by wproxy.gmail.com with SMTP id 70so660452wra
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 22:03:29 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=P6G/uuKpl0od2yLBE6fPerrjQaNvfILYU5SJpeNgFhrAKXAPWjs0S5XIsYVhNCo/7KEe82ZWg5jXnjGnJUvUjp4YtqFy8hZO5zHciKnDJ2pMAfQOGnrRtp3/xJ+C02dlEJV2l4IgIm5siKkqOyrHKZx6mEFk6tr4UkbT8QlEf8Y=
Received: by 10.54.140.6 with SMTP id n6mr2136998wrd;
        Fri, 17 Mar 2006 22:03:29 -0800 (PST)
Received: by 10.54.107.15 with HTTP; Fri, 17 Mar 2006 22:03:29 -0800 (PST)
Message-ID: <cf40cfce0603172203if39ec52v@mail.gmail.com>
Date: Sat, 18 Mar 2006 14:03:29 +0800
From: "Xia Dennis" <shystars@gmail.com>
To: java-user@lucene.apache.org, "Artem Vasiliev" <artvas@gmail.com>
Subject: Re: another lucene-based application
In-Reply-To: <1193762895.20060318022900@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_859_32575899.1142661809076"
References: <1193762895.20060318022900@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_859_32575899.1142661809076
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

what's the difference from dotLucene?

2006/3/18, Artem Vasiliev <artvas@gmail.com>:
>
> Hi guys!
>
> I'd like to thank the developers and contributors of Lucene project
> for the fantastic library. And thanks Otis and Erik for a great book!
>
> I'm writing an open source file searcher application 'sharehound'
> (http://sharehound.sourceforge.net/) based on Lucene. It can now
> search SMB file shares in LANs by their pathes and names. It tracks
> changes in directories so it even knows about deleted files. The
> application is in alpha now but it's working, it has Web UI and RSS
> subscription for query results (added today :), so I'll be glad if
> it help somebody here.
>
> --
> Best regards,
> Artem
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_859_32575899.1142661809076--

From java-user-return-19688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 18 06:06:03 2006
Return-Path: <java-user-return-19688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31237 invoked from network); 18 Mar 2006 06:06:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Mar 2006 06:06:02 -0000
Received: (qmail 48340 invoked by uid 500); 18 Mar 2006 06:05:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47905 invoked by uid 500); 18 Mar 2006 06:05:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47893 invoked by uid 99); 18 Mar 2006 06:05:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 22:05:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shystars@gmail.com designates 64.233.184.199 as permitted sender)
Received: from [64.233.184.199] (HELO wproxy.gmail.com) (64.233.184.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 22:05:56 -0800
Received: by wproxy.gmail.com with SMTP id 69so641528wra
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 22:05:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=AfIJ2KatL2iCpiD2M0XJ2M/aCDzAe/2nvC5SFg+jFfTrZC1AVq3Jn3pSV2EYJzL0/v9rHv2a1cdanb38xaR/yellaZ15iIBq5t+6OcrPcIzBmAZhzGhRD+G9mShc+mxcQx8IWZ7RLPImNgQwRVDc5bt59fpu3RTgpnUhlgmGdwE=
Received: by 10.54.107.11 with SMTP id f11mr2121860wrc;
        Fri, 17 Mar 2006 22:05:35 -0800 (PST)
Received: by 10.54.107.15 with HTTP; Fri, 17 Mar 2006 22:05:35 -0800 (PST)
Message-ID: <cf40cfce0603172205s30a2b3e5r@mail.gmail.com>
Date: Sat, 18 Mar 2006 14:05:35 +0800
From: "Xia Dennis" <shystars@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: About index deletion
In-Reply-To: <4f2c7c9b0603160918i463f571du@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_863_10694580.1142661935811"
References: <4f2c7c9b0603160918i463f571du@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_863_10694580.1142661935811
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

add a field to store the time you add the index


2006/3/17, hu andy <andyhugb@gmail.com>:
>
> Because I will delete the indexed document periodically, So the index
> files
> must be deleted after that. If I just want to delete some documents added
> before some past day from the index, How should i do it?
> Thank you in advance
>
>

------=_Part_863_10694580.1142661935811--

From java-user-return-19689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 18 06:58:10 2006
Return-Path: <java-user-return-19689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48506 invoked from network); 18 Mar 2006 06:58:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Mar 2006 06:58:10 -0000
Received: (qmail 89796 invoked by uid 500); 18 Mar 2006 06:58:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89768 invoked by uid 500); 18 Mar 2006 06:58:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89757 invoked by uid 99); 18 Mar 2006 06:58:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 22:58:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of artvas@gmail.com designates 64.233.182.199 as permitted sender)
Received: from [64.233.182.199] (HELO nproxy.gmail.com) (64.233.182.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 22:58:04 -0800
Received: by nproxy.gmail.com with SMTP id c29so559812nfb
        for <java-user@lucene.apache.org>; Fri, 17 Mar 2006 22:57:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:date:from:x-mailer:reply-to:x-priority:message-id:to:subject:in-reply-to:references:mime-version:content-type:content-transfer-encoding;
        b=MkANXye+9o/9WxbNIGNvzRZIu5vXfjqhSJk0oKfjiJa1kQ1Om7bsoe2LqZoduQlJUUy26C6T8sL7Ah1cxnCtDjxtxnkysYly3JHeiwCvAn9A5TvLF0ZaHcKcVOuABPjGOgykWbrVLmPxE1jm0WH6Xy+xGpkQXlNAeqtTXopSvrc=
Received: by 10.48.144.20 with SMTP id r20mr121424nfd;
        Fri, 17 Mar 2006 22:57:42 -0800 (PST)
Received: from ppp237-82.pptp.mtu-net.ru ( [81.195.237.82])
        by mx.gmail.com with ESMTP id m16sm305177nfc.2006.03.17.22.57.42;
        Fri, 17 Mar 2006 22:57:42 -0800 (PST)
Date: Sat, 18 Mar 2006 09:57:49 +0300
From: Artem Vasiliev <artvas@gmail.com>
X-Mailer: The Bat! (v2.04.7) Personal
Reply-To: Artem Vasiliev <artvas@gmail.com>
X-Priority: 3 (Normal)
Message-ID: <1214449127.20060318095749@gmail.com>
To: java-user@lucene.apache.org, "Xia Dennis" <shystars@gmail.com>
Subject: Re[2]: another lucene-based application
In-Reply-To: <cf40cfce0603172203if39ec52v@mail.gmail.com>
References: <1193762895.20060318022900@gmail.com>
 <cf40cfce0603172203if39ec52v@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Xia,

XD> what's the difference from dotLucene?

Why dotLucene? dotLucene is the .Net port of Lucene, so your question
is pretty much the same as 'what's the difference from Lucene?'
dotLucene as Lucene itself is not a search application, it's a
library, so that's the difference :).

Some of the differences from other free LAN search applications I saw:
- information about deleted files is indexed
- RSS subscription to search results (so you can track files in a
  subdirectories of a given directory for instance optionally
  filtering them by some words)
- it uses Lucene and written in Java, so it's portable, has clean
  and powerfull query syntax and good performance characteristics.

XD> I'm writing an open source file searcher application 'sharehound'
XD> (http://sharehound.sourceforge.net/) based on Lucene. It can now
XD> search SMB file shares in LANs by their pathes and names. It tracks
XD> changes in directories so it even knows about deleted files. The
XD> application is in alpha now but it's working, it has Web UI and RSS
XD> subscription for query results (added today :), so I'll be glad if
XD> it help somebody here.

-- 
Best regards,
 Artem                            mailto:artvas@gmail.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 18 13:55:11 2006
Return-Path: <java-user-return-19690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11124 invoked from network); 18 Mar 2006 13:55:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Mar 2006 13:55:10 -0000
Received: (qmail 31726 invoked by uid 500); 18 Mar 2006 13:55:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31690 invoked by uid 500); 18 Mar 2006 13:55:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31679 invoked by uid 99); 18 Mar 2006 13:55:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Mar 2006 05:55:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Mar 2006 05:55:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3B99833C0D3; Sat, 18 Mar 2006 08:54:42 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 35A5A33C0D2
	for <java-user@lucene.apache.org>; Sat, 18 Mar 2006 08:54:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <441B30CD.9080104@apache.org>
References: <20060317020508.2224.qmail@web50314.mail.yahoo.com> <1FDD0682-6836-4D3C-B5B4-E17D6BCCE03B@ehatchersolutions.com> <441B2EBA.6020206@wyona.com> <441B30CD.9080104@apache.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <49FFA969-8F80-4CC7-AE2D-8F78CC3B7CF6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene job
Date: Sat, 18 Mar 2006 08:54:40 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Just let me point out that it's a *wiki*, so the community is free to  
take advantage of the malleability of it.  The reason we encourage  
the wiki is such that FAQ's, which often is about support, can be  
answered but allowing those answers to be driven by the collective  
best practices of the community and not as rigid and funneled as the  
main Lucene website or, *gasp*, documentation such as books and  
articles which begin stagnating before the ink dries.

One of the contributions I'm most personally proud of was the idea to  
do a section for the Ant book called "The Elements of Ant Style":

	<http://wiki.apache.org/ant/TheElementsOfAntStyle>

After the book was published I, with permission from the publisher,  
converted the list of best practices to the Ant wiki to let it evolve  
there given newer and better ways to do things.  Having a communal  
whiteboard at our disposal is a mighty powerful way for us to  
collaborate beyond the e-mail list.  I do have to admit an aversion  
to wiki formatting and the granular and unsemantic way it works, but  
for those motivated to build up the wiki you have my full backing,  
and I do generally agree its a great resource we should cultivate.

So maybe we need a wiki page for the "Tao of Lucene"?!  ;)

	Erik


On Mar 17, 2006, at 4:57 PM, Doug Cutting wrote:

> Michael Wechner wrote:
>> Maybe it would make sense to sort it alphabetically  [ ... ]
>
> +1 This should be sorted alphabetically be business name or last  
> name. That's what it says on the page, although a few entries are  
> out of place.  Please feel free to fix this.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 20 06:03:03 2006
Return-Path: <java-user-return-19691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70815 invoked from network); 20 Mar 2006 06:03:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Mar 2006 06:03:02 -0000
Received: (qmail 72253 invoked by uid 500); 20 Mar 2006 06:02:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72212 invoked by uid 500); 20 Mar 2006 06:02:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72201 invoked by uid 99); 20 Mar 2006 06:02:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 19 Mar 2006 22:02:56 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.122.139.27] (HELO rodin.i2r.a-star.edu.sg) (192.122.139.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 19 Mar 2006 22:02:55 -0800
Received: from rodin.i2r.a-star.edu.sg (localhost [127.0.0.1])
	by rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2K62Sc4011433
	for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 14:02:28 +0800 (SGT)
Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2K62RcT011428for 
	<java-user@lucene.apache.org>; Mon, 20 Mar 2006 14:02:27 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IWE00DULWS5Q560@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Mon, 20 Mar 2006 14:02:29 +0800 (SGT)
Date: Mon, 20 Mar 2006 14:05:21 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: serializable RAMDirectory
In-reply-to: <Pine.LNX.4.58.0603161856140.23126@hal.rescomp.berkeley.edu>
To: java-user@lucene.apache.org
Message-id: <004701c64be4$45cac0a0$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain;
	charset=utf-8
Content-transfer-encoding: quoted-printable
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:36.67632 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there any implementation of lucene that allows the index to be
portable? It seems pointless that I have to do the indexing operation to
a directory with FSDirectory, and then copy the directory over to the
portable file, and unpack the file whenever I want to search the
directory at another place...

Can anyone help me?


--------------------------------------------------- I=C2=B2R Disclaimer=
 ------------------------------
This email is confidential and may be privileged.  If you are not the=
 intended recipient, please delete it and notify us immediately. Please do=
 not copy or use it for any purpose, or disclose its contents to any other=
 person. Thank you.
---------------------------------------------------------------------------=
----------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 20 08:02:10 2006
Return-Path: <java-user-return-19692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21624 invoked from network); 20 Mar 2006 08:02:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Mar 2006 08:02:07 -0000
Received: (qmail 57956 invoked by uid 500); 20 Mar 2006 08:01:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57933 invoked by uid 500); 20 Mar 2006 08:01:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57922 invoked by uid 99); 20 Mar 2006 08:01:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 00:01:45 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 00:01:44 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1FLFKH-0004pr-Mm
	for java-user@lucene.apache.org; Mon, 20 Mar 2006 09:01:17 +0100
Received: from mail.idoox.com ([194.213.203.154])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 09:01:12 +0100
Received: from literakl by mail.idoox.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 09:01:12 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Leos Literak <literakl@seznam.cz>
Subject:  Re: Lucene job
Date:  Mon, 20 Mar 2006 09:01:01 +0100
Lines: 4
Message-ID: <dvlnft$9d7$1@sea.gmane.org>
References:  <20060317020508.2224.qmail@web50314.mail.yahoo.com> <1FDD0682-6836-4D3C-B5B4-E17D6BCCE03B@ehatchersolutions.com> <441B2EBA.6020206@wyona.com> <441B30CD.9080104@apache.org> <49FFA969-8F80-4CC7-AE2D-8F78CC3B7CF6@ehatchersolutions.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: mail.idoox.com
User-Agent: Mail/News 1.5 (X11/20060213)
In-Reply-To: <49FFA969-8F80-4CC7-AE2D-8F78CC3B7CF6@ehatchersolutions.com>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> So maybe we need a wiki page for the "Tao of Lucene"?!  ;)

that would be great :-)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 20 09:10:47 2006
Return-Path: <java-user-return-19693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55748 invoked from network); 20 Mar 2006 09:10:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Mar 2006 09:10:15 -0000
Received: (qmail 21679 invoked by uid 500); 20 Mar 2006 09:10:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21556 invoked by uid 500); 20 Mar 2006 09:09:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21515 invoked by uid 99); 20 Mar 2006 09:09:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 01:09:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 01:09:58 -0800
Received: by zproxy.gmail.com with SMTP id 40so1118821nzk
        for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 01:09:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=E4E1mf2nz5c1HXgPPyUaeVSEVGnJoTkUu3u1hb9YIBkDT5lUMgqUEGL1qOLyItKs/m8XpJShhIgsLwgKR6ojCHC/rC3bqZVo2zq3tGgwgfr8LC2iw9NS3y2GEaRkXjKj6fVeZdpWux7XgGNnufm5KR31A791uOUBOlJ+lWPbtEQ=
Received: by 10.37.22.66 with SMTP id z66mr940439nzi;
        Mon, 20 Mar 2006 01:09:38 -0800 (PST)
Received: by 10.36.113.16 with HTTP; Mon, 20 Mar 2006 01:09:38 -0800 (PST)
Message-ID: <6c33f9950603200109h2f4f9aa4yb0b6f77576d5b5c@mail.gmail.com>
Date: Mon, 20 Mar 2006 17:09:38 +0800
From: "Chun Wei Ho" <cwho.work@gmail.com>
To: java-user@lucene.apache.org
Subject: Simpler QueryParser
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am wondering if anyone has existing code for a simpler QueryParser -
one that does not create the more complex prefix/fuzzy/range queries,
but still allow the usual term/boolean queries.

I use QueryParser to directly parse user input (allowing for more
flexible specification of include/exclude and fields conditions), but
do not want them to use the more resource intensive queries.

Just checking since QueryParser is done in javacc which I have little
experience in to rewrite or subclass.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 20 10:06:00 2006
Return-Path: <java-user-return-19694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82973 invoked from network); 20 Mar 2006 10:05:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Mar 2006 10:05:43 -0000
Received: (qmail 90898 invoked by uid 500); 20 Mar 2006 10:05:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90468 invoked by uid 500); 20 Mar 2006 10:05:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90457 invoked by uid 99); 20 Mar 2006 10:05:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 02:05:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of NYH@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 02:05:29 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.12.10/8.12.10) with ESMTP id k2KA57VV241968
	for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 10:05:08 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.12.10/NCO/VER6.8) with ESMTP id k2KA5d00186058
	for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 11:05:39 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11/8.13.3) with ESMTP id k2KA575h010044
	for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 11:05:07 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11/8.12.11) with ESMTP id k2KA57H3010041
	for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 11:05:07 +0100
In-Reply-To: <6c33f9950603200109h2f4f9aa4yb0b6f77576d5b5c@mail.gmail.com>
Subject: Re: Simpler QueryParser
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 August 18, 2005
Message-ID: <OFB46B0FCE.973FC59F-ONC2257137.00360642-C2257137.00369DC1@il.ibm.com>
From: "Nadav Har'El" <NYH@il.ibm.com>
Date: Mon, 20 Mar 2006 11:56:33 +0200
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0HF90 | November 16, 2005) at
 20/03/2006 12:05:39
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"Chun Wei Ho" <cwho.work@gmail.com> wrote on 20/03/2006 11:09:38 AM:
> I am wondering if anyone has existing code for a simpler QueryParser -
> one that does not create the more complex prefix/fuzzy/range queries,
> but still allow the usual term/boolean queries.
>
> I use QueryParser to directly parse user input (allowing for more
> flexible specification of include/exclude and fields conditions), but
> do not want them to use the more resource intensive queries.
>
> Just checking since QueryParser is done in javacc which I have little
> experience in to rewrite or subclass.

The "Lucene In Action" book has a section about exactly this issue:
section 6.3.2, "Prohibiting fuzzy and wildcard queries". The idea is
that you can tell the existing QueryParser not to allow such queries,
rather than write a different parser.

The trick is to create a new class, say, LimitedQueryParser, extending
QueryParser, and override it's getWildCardQuery, getFuzzyQuery,
getRangeQuery (see the QueryParser documentation for the full list);
If you don't want any of these supported, just throw an exception
(typically ParseException), and the parsing will fail if these
features are used (or, alternatively, think of what else you can
do in this case).

--
Nadav Har'El


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 20 10:48:13 2006
Return-Path: <java-user-return-19695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3624 invoked from network); 20 Mar 2006 10:47:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Mar 2006 10:47:57 -0000
Received: (qmail 41002 invoked by uid 500); 20 Mar 2006 10:47:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40976 invoked by uid 500); 20 Mar 2006 10:47:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40965 invoked by uid 99); 20 Mar 2006 10:47:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 02:47:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 02:47:50 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 9A2511BB51
	for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 11:47:17 +0100 (CET)
Message-ID: <441E8835.2090206@fib.upc.edu>
Date: Mon, 20 Mar 2006 11:47:17 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Term Vector Question
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at 
X-Spam-Score: -4.377
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.377 tagged_above=-999 required=3.5
 tests=[ALL_TRUSTED=-1.8, AWL=0.022, BAYES_00=-2.599]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody,
How can I do to obtain Terms of an specific Querry( for example all the 
terms of a specific group, field " ID_GROUP" )
The only thing that now I think to do is a search and obtain for every 
hits their term frequency and create a TreeSet with this.
I supose that lucene give me another option more eficcient, someone can 
give me some light in this work.

Thks to all.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 20 11:22:30 2006
Return-Path: <java-user-return-19696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18223 invoked from network); 20 Mar 2006 11:21:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Mar 2006 11:21:44 -0000
Received: (qmail 79834 invoked by uid 500); 20 Mar 2006 11:21:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79761 invoked by uid 500); 20 Mar 2006 11:21:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79750 invoked by uid 99); 20 Mar 2006 11:21:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 03:21:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 03:21:31 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 910E433C0E7; Mon, 20 Mar 2006 06:21:10 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 9A5AD33C0E6
	for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 06:21:09 -0500 (EST)
In-Reply-To: <004701c64be4$45cac0a0$7488a8c0@icsdtemp>
References: <004701c64be4$45cac0a0$7488a8c0@icsdtemp>
Mime-Version: 1.0 (Apple Message framework v746.3)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8A4C71B7-8D35-4465-AB90-294DA0A75AEF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: serializable RAMDirectory
Date: Mon, 20 Mar 2006 06:21:11 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 20, 2006, at 1:05 AM, Aditya Liviandi wrote:

> Is there any implementation of lucene that allows the index to be
> portable? It seems pointless that I have to do the indexing  
> operation to
> a directory with FSDirectory, and then copy the directory over to the
> portable file, and unpack the file whenever I want to search the
> directory at another place...

Could you be more specific about what you want that Lucene does not  
already provide?

FSDirectory is essentially a serialized RAMDirectory.  What do you  
mean by "unpack the file"?  There is nothing special needed to move  
an index from one machine to another, simply copy the entire  
directory and use your searching code to refer to its location.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 20 15:48:44 2006
Return-Path: <java-user-return-19697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76300 invoked from network); 20 Mar 2006 15:48:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Mar 2006 15:48:42 -0000
Received: (qmail 12980 invoked by uid 500); 20 Mar 2006 15:48:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12948 invoked by uid 500); 20 Mar 2006 15:48:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12795 invoked by uid 99); 20 Mar 2006 15:48:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 07:48:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.170.154.6] (HELO anjalrelay) (194.170.154.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 07:48:32 -0800
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2006032019595905-47830 ;
          Mon, 20 Mar 2006 19:59:59 +0400 
Received: from jayakumarv ([10.2.5.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2006032019480305-50763 ;
          Mon, 20 Mar 2006 19:48:03 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Subject: Lucene file size issue through SMB mount
Date: Mon, 20 Mar 2006 19:47:37 +0400
Organization: UAE Xchange
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZMNZy/XNusHmnHSheX4Rf/HnQnTQ==
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 03/20/2006 07:48:03 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 03/20/2006 07:48:05 PM,
	Serialize complete at 03/20/2006 07:48:05 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 03/20/2006 07:59:59 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 03/20/2006 08:00:22 PM,
	Serialize complete at 03/20/2006 08:00:22 PM
Message-ID: <OFCA4DE469.038D915F-ON44257137.0056CC0F@xpressmoney.com>
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_032B_01C64C57.24418FE0"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_032B_01C64C57.24418FE0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"

hi,
I'm posting this issue here (just in case if anyone here has faced a similar
issue) since i couldn't get any solution from the Linux forums. 

I have a partition which holds a lucene <http://www.linuxforums.org/forum/#>
index file of size >2GB. This file is accessed thru' a SMB mounted share
from other linux machines (running my web app.). The issue here is that when
viewing the file (ls -al) thru' this SMB share, it shows an abnormal size &
my application is not able to load this file. I'm reproducing the output of
my ls -al command.

# ls -al
total 2145627826
drwxr-xr-x 1 root root 4096 Feb 25 13:15 .
drwxr-xr-x 1 root root 4096 Jun 6 2005 ..
-rwxr-xr-x 1 root root 18446744071809180098 Feb 25 00:52 _11l.cfs
-rwxr-xr-x 1 root root 4 Feb 25 00:52 deletable
-rwxr-xr-x 1 root root 29 Feb 25 00:52 segments

But when i telnet into this linux <http://www.linuxforums.org/forum/#>
machine & do an ls -al, the output is as below :

# ls -al
total 2340780
drwxr-xr-x 2 root root 4096 Feb 25 13:15 .
drwxrwxrwx 6 root root 4096 Jun 6 2005 ..
-rwxr--r-- 1 root root 2394595778 Feb 25 00:52 _11l.cfs
-rwxr--r-- 1 root root 4 Feb 25 00:52 deletable
-rwxr--r-- 1 root root 29 Feb 25 00:52 segments

Hope i was able to describe the issue clearly. Any pointers or references
will be helpful.

tia
jayakumar.v
 
 

------=_NextPart_000_032B_01C64C57.24418FE0--


From java-user-return-19698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 02:41:21 2006
Return-Path: <java-user-return-19698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6604 invoked from network); 21 Mar 2006 02:41:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 02:41:21 -0000
Received: (qmail 53504 invoked by uid 500); 21 Mar 2006 02:41:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53272 invoked by uid 500); 21 Mar 2006 02:41:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53182 invoked by uid 99); 21 Mar 2006 02:41:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 18:41:13 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.122.139.27] (HELO rodin.i2r.a-star.edu.sg) (192.122.139.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 18:41:12 -0800
Received: from rodin.i2r.a-star.edu.sg (localhost [127.0.0.1])
	by rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2L2egmc026941
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 10:40:42 +0800 (SGT)
Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2L2efeB026936for 
	<java-user@lucene.apache.org>; Tue, 21 Mar 2006 10:40:42 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IWG002HJI3WT410@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Tue, 21 Mar 2006 10:40:45 +0800 (SGT)
Date: Tue, 21 Mar 2006 10:43:39 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: RE: serializable RAMDirectory
In-reply-to: <8A4C71B7-8D35-4465-AB90-294DA0A75AEF@ehatchersolutions.com>
To: java-user@lucene.apache.org
Message-id: <000901c64c91$4256c6f0$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain;
	charset=utf-8
Content-transfer-encoding: quoted-printable
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:92.88987 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Because I'm embedding the index inside another file...
So that file is self-contained, containing both the payload (which might
not be text) and the index...

But I figured out how to do it already... I just made RAMDirectory and
RAMFile Serializable and create my own build of lucene...

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=0D
Sent: Monday, March 20, 2006 7:21 PM
To: java-user@lucene.apache.org
Subject: Re: serializable RAMDirectory


On Mar 20, 2006, at 1:05 AM, Aditya Liviandi wrote:

> Is there any implementation of lucene that allows the index to be
> portable? It seems pointless that I have to do the indexing =0D
> operation to
> a directory with FSDirectory, and then copy the directory over to the
> portable file, and unpack the file whenever I want to search the
> directory at another place...

Could you be more specific about what you want that Lucene does not =0D
already provide?

FSDirectory is essentially a serialized RAMDirectory.  What do you =0D
mean by "unpack the file"?  There is nothing special needed to move =0D
an index from one machine to another, simply copy the entire =0D
directory and use your searching code to refer to its location.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


--------------------------------------------------- I=C2=B2R Disclaimer=
 ------------------------------
This email is confidential and may be privileged.  If you are not the=
 intended recipient, please delete it and notify us immediately. Please do=
 not copy or use it for any purpose, or disclose its contents to any other=
 person. Thank you.
---------------------------------------------------------------------------=
----------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 04:35:47 2006
Return-Path: <java-user-return-19699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12902 invoked from network); 21 Mar 2006 04:35:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 04:35:46 -0000
Received: (qmail 60255 invoked by uid 500); 21 Mar 2006 04:35:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60170 invoked by uid 500); 21 Mar 2006 04:35:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60159 invoked by uid 99); 21 Mar 2006 04:35:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 20:35:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.203.2.41] (HELO anumail1.anu.edu.au) (150.203.2.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 20:35:40 -0800
Received: from smtphost.anu.edu.au (ds2.anu.edu.au [130.56.64.54])
	by anumail1.anu.edu.au (8.13.4/8.13.4) with ESMTP id k2L4ZCvd001555
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 15:35:17 +1100 (EST)
Received: from cairo.anu.edu.au (cairo.anu.edu.au [150.203.224.11])
	by smtphost.anu.edu.au (8.13.5/8.13.5) with ESMTP id k2L4ZB7f020071
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 15:35:11 +1100 (EST)
Received: from acsr211.anu.edu.au (assda211.anu.edu.au [150.203.11.211])
	by cairo.anu.edu.au (8.12.9/8.12.0) with ESMTP id k2L4aUhL028667
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 15:36:31 +1100 (EST)
Message-Id: <6.2.1.2.0.20060321151802.0d7048e8@mail.coombs.anu.edu.au>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.1.2
Date: Tue, 21 Mar 2006 15:35:55 +1100
To: java-user@lucene.apache.org
From: Stephen Gray <Stephen.Gray@anu.edu.au>
Subject: Re-creating IndexSearcher after update
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.3.0.1, Antispam-Data: 2006.03.20.191109 internal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everyone,

I have an application that allows both indexing and searching. I'm using a 
single IndexSearcher shared among all sessions.

I want to re-create the IndexSearcher whenever the index changes, but I'm 
assuming that if I do this bad things will happen to people who may be 
currently running a search, or paging through a Hits collection created by 
a previous search (the javadocs on Searchable.close say that you should not 
call close while using objects like Hits). I could maintain an "open 
searches" variable and check it every second, but I'd still have the 
problem of existing Hits collections.

Could someone tell me the best way to do this?

Any help much appreciated.

Thanks,
Steve


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 07:11:39 2006
Return-Path: <java-user-return-19700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85827 invoked from network); 21 Mar 2006 07:11:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 07:11:38 -0000
Received: (qmail 59485 invoked by uid 500); 21 Mar 2006 07:11:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59455 invoked by uid 500); 21 Mar 2006 07:11:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59442 invoked by uid 99); 21 Mar 2006 07:11:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 23:11:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO zproxy.gmail.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Mar 2006 23:11:32 -0800
Received: by zproxy.gmail.com with SMTP id 12so1333180nzp
        for <java-user@lucene.apache.org>; Mon, 20 Mar 2006 23:11:12 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=ZPHB8vibJzfsgX4dahQnzwGgs99p3BeKlcvzf0RIPIaKk8Yb7hZPc67HmdIJ/mRx93Z/6RcdZm6Cv49RwchTROQnpCOBG2EMGOcnnYu6aoZul7Rn85EGGl6UrJ9Q9AjuKh/k9vmkn3RtswTreLJYiW1Ci3qfdzBRqISFTRBepMw=
Received: by 10.35.14.1 with SMTP id r1mr1685906pyi;
        Mon, 20 Mar 2006 23:11:12 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Mon, 20 Mar 2006 23:11:12 -0800 (PST)
Message-ID: <f13b62210603202311k83a6bb2pdb5a8f3fd2d59e9c@mail.gmail.com>
Date: Tue, 21 Mar 2006 12:41:12 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: rewriting a query doubt
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1228_5671422.1142925072259"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1228_5671422.1142925072259
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

When you rewrite a query using

query=3Dquery.rewrite(reader)

Does the query change automtically.

For example if the query was n*w and the reader has new,now,noow

Does the query change to new,now,noow

Can someone tell me how it works

Rgds
Prabhu

------=_Part_1228_5671422.1142925072259--

From java-user-return-19701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 08:24:18 2006
Return-Path: <java-user-return-19701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21289 invoked from network); 21 Mar 2006 08:24:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 08:24:12 -0000
Received: (qmail 31478 invoked by uid 500); 21 Mar 2006 08:24:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31445 invoked by uid 500); 21 Mar 2006 08:24:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31434 invoked by uid 99); 21 Mar 2006 08:24:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 00:24:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.12 as permitted sender)
Received: from [219.125.112.12] (HELO nm05omta05b.dion.ne.jp) (219.125.112.12)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 21 Mar 2006 00:24:04 -0800
Received: from sekiguchi ([59.135.111.89])
	by nm05mta.dion.ne.jp
	id <20060321172343038.MAB1.8283E30@nm05mta.dion.ne.jp>;
	Tue, 21 Mar 2006 17:23:43 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Re-creating IndexSearcher after update
Date: Tue, 21 Mar 2006 17:23:41 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCCELMCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <6.2.1.2.0.20060321151802.0d7048e8@mail.coombs.anu.edu.au>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Steve,

DelayCloseIndexSearcher may suit your requirement?

Please check:
http://issues.apache.org/jira/browse/LUCENE-445

Hope this helps.

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 09:13:11 2006
Return-Path: <java-user-return-19702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49505 invoked from network); 21 Mar 2006 09:13:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 09:13:08 -0000
Received: (qmail 94206 invoked by uid 500); 21 Mar 2006 09:12:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94175 invoked by uid 500); 21 Mar 2006 09:12:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94164 invoked by uid 99); 21 Mar 2006 09:12:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 01:12:55 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 213.167.72.182 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [213.167.72.182] (HELO cd-wow.com) (213.167.72.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 01:12:55 -0800
Received: from [192.168.250.47] (unverified [217.207.206.146]) 
	by cd-wow.com (SurgeMail 3.6f5) with ESMTP id 17605179 
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 09:12:31 +0000
Message-ID: <441FC3A5.5030104@gmail.com>
Date: Tue, 21 Mar 2006 09:13:09 +0000
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: restart interrupted index
References: <BE07D857-20DA-44E4-AF91-1DF7BC4BEBA3@mac.com>	 <Pine.LNX.4.58.0603161856140.23126@hal.rescomp.berkeley.edu> <6026e8b0603161904u3da97afcj479076f738b08510@mail.gmail.com>
In-Reply-To: <6026e8b0603161904u3da97afcj479076f738b08510@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Server: High Performance Mail Server - http://surgemail.com r=-1251238296
X-Authenticated-User: robert.y@cd-wow.com 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paulo Silveira wrote:

>Chris,
>
>I really would like only this extra files, but I have the same problem here.
>
>If I interrupt my IndexWriter with a kill signal, must of the time I
>will be left with a lock file AND corrupted index files (the searcher
>will throw some IllegalStateExceptions after the lock file is
>deleted).
>  
>
I have found that if I send a HUP it shuts down cleanly and leaves no 
lock file (assuming you're on a *nix machine)

kill -HUP [pid]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 09:46:32 2006
Return-Path: <java-user-return-19703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67891 invoked from network); 21 Mar 2006 09:46:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 09:46:32 -0000
Received: (qmail 38928 invoked by uid 500); 21 Mar 2006 09:46:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38591 invoked by uid 500); 21 Mar 2006 09:46:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38580 invoked by uid 99); 21 Mar 2006 09:46:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 01:46:26 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_IMAGE_ONLY_24,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.34.191.35] (HELO ext-ch1gw-1.online-age.net) (216.34.191.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 01:46:24 -0800
Received: from int-ch1gw-3.online-age.net (int-ch1gw-3 [3.159.232.67])
	by ext-ch1gw-1.online-age.net (8.13.4/8.13.5/20051111-SVVS-TLS-DNSBL) with ESMTP id k2L9jsXi023666
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 04:46:02 -0500 (EST)
Received: from cinmlef01.e2k.ad.ge.com (localhost [127.0.0.1])
	by int-ch1gw-3.online-age.net (8.12.9/8.12.3/990426-RLH) with ESMTP id k2L9jrmP012580
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 04:45:53 -0500 (EST)
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef01.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 21 Mar 2006 04:45:52 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----_=_NextPart_001_01C64CCC.0F19F20D";
	type="multipart/alternative"
Subject: Please tell me some of the Apache Search Engines
Date: Tue, 21 Mar 2006 15:14:33 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C502058BE4@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Please tell me some of the Apache Search Engines
Thread-Index: AcZMzA43AD2zM3fVRs+aXGuVaG2N6Q==
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 21 Mar 2006 09:45:52.0453 (UTC) FILETIME=[3E0A2750:01C64CCC]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64CCC.0F19F20D
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C64CCC.0F19F20D"


------_=_NextPart_002_01C64CCC.0F19F20D
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

HI All,

Can anybody tell me some of the open source projects for searching the =
net.

My exact requirement is, if i specify the URL and keyword. Based on the =
given keyword the application should search on the particular URL and =
give me the results.

Regards


 <<ole0.bmp>>  GE Global Research
Kamesh NarayanaBabu
John F. Welch Technology Centre=20
Information Technology Management, Plot 122, Export Promotion Industrial =
Park,=20
Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.=20
Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91 =
9986259850 | Email:-  kameshnarayana.babu@ge.com


------_=_NextPart_002_01C64CCC.0F19F20D
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.0.6617.95">
<TITLE>Please tell me some of the Apache Search Engines</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><FONT SIZE=3D2 FACE=3D"Arial">HI All,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Can anybody tell me some of the open =
source projects for searching the net.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">My exact requirement is, if i specify =
the URL and keyword. Based on the given keyword the application should =
search on the particular URL and give me the results.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Regards</FONT>
</P>
<BR>

<P><FONT FACE=3D"Arial" SIZE=3D2 COLOR=3D"#000000">
<IMG SRC=3D"No%20AttachName" =
alt=3D"ole0.bmp"></FONT><B></B><B></B><B><FONT COLOR=3D"#003366" =
FACE=3D"Arial">&nbsp;GE Global Research</FONT></B>

<BR><B><FONT COLOR=3D"#003366" SIZE=3D2 FACE=3D"Arial">Kamesh =
NarayanaBabu</FONT></B>

<BR><B><FONT COLOR=3D"#003366" SIZE=3D2 FACE=3D"Arial">John F. Welch =
Technology Centre</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier =
New"><BR>
</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Information =
Technology Management, Plot 122, Export Promotion Industrial =
Park,</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier New"><BR>
</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Phase II, Hoodi =
Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier New"><BR>
</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Phone: &#43;91 =
(80) 2503 0457</FONT><FONT COLOR=3D"#0000FF" SIZE=3D1 FACE=3D"Arial"> =
|</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial"> GE Dial comm.: =
8 * 901 0359</FONT><FONT COLOR=3D"#0000FF" SIZE=3D1 FACE=3D"Arial"> =
|</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier New"></FONT> <FONT =
COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Mobile: &#43;91 =
9986259850</FONT> <FONT COLOR=3D"#0000FF" SIZE=3D1 =
FACE=3D"Arial">|</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial"> =
Email:-&nbsp; kameshnarayana.babu@ge.com</FONT></B>
</P>

</BODY>
</HTML>
------_=_NextPart_002_01C64CCC.0F19F20D--

------_=_NextPart_001_01C64CCC.0F19F20D
Content-Type: image/bmp;
	name="ole0.bmp"
Content-Transfer-Encoding: base64
Content-Description: ole0.bmp
Content-Location: No%20AttachName

Qk1+EgAAAAAAADYAAAAoAAAAJwAAACcAAAABABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9vv/
//v///r////+///2///3//////////7///v///r///j///z///n///n//////////////v//////
///////////7///////////9+f///f////////n///L///7///v3//r2///+//////v/9fH///z/
AAAA//v/9Pb0//v/+vz8/////v7/9fr/+Pr///n///H///X//////vz+9u/f5tq1z6t8xn1Kv2Qx
xVslwlMmsE4puHVPuY5r1KSD+tzG//v9//////3/8Pf/9P7//f/4///9////////////9u32/vr+
//3/9fH1AAAA//r///v/+/z6//r///v//v7/9/v///7/9Pz/8P//9/3w6tW21JN2wYV0xq+k2djV
9/z7////////////////////8fD8xcjZrpiNunxN2qWH+ert//7/8vnz9P319//99fn89vb//vv/
//z///v///r///z/AAAA////+/38//r/9vv/9/v///n/+Pj//Pz/6vvs8uDMxZp5rodj7+DF////
/+Pv7Nbb29HA1Lyv37yu0qGMt4Fkx4xf5aVw+tOh/vXh////7sq2x4dY4a+S/fHy//3/+fn/+Pf/
9vn89vv//vv///z/9e71//z/AAAA///2////9vr/+Pv/+Pr///j///////v178yit4Fx787U////
+f//+f70/f/q/f/k///q/f/4/v/////////1wqd+o3c3qWswsnVAt4tj5dPE//321rKPzJVx9tzU
//////7///v/+Pr/9vv//vn+//////r1AAAA///2/v7///////r///j/////+OziyaieyZSJ//ft
///5+eXb77yv2p+CroNQoWwuwWo1x5B048zF+PHz////5MKrwnJLw21MvGtMxXVDwHYszqty/fXt
2dTTwZdw6Mm6//rx////+Pj/9/v/9vL3//////r3AAAA///39fn/+Pv/+Pj/////+ezjyKONxqmP
////897OzJh8qW8/tG83uHI2w3E/xHZFvnU9tm0/t3VS36KH+7+jx49tpXNLuHhQwnRFx3M5y4BF
rmsyvINL9uTF6e7qtJZ/3sKt//zz//7/+Pb/9vz//v//////AAAA//7/9/r9//////v//Pn5xqub
x6mS//nd6bqQrGs9s3JCxH1JvXU7v3o+wHo/wXZCwndFun0+rnQyqXcvr3YsunYuyH83wXwyvn5A
wXxNuXJDw3hFs2pDq3NT7uLF//nevqGD6s3B////9vj9+f/99/n//v//AAAA//b//v/39/7+//n7
28G2uqF6////66F9snIlu3s/uXk8wXIzz3gyx3o3s3g7vHxJwnlDtXo4wHo9unZAuXRGy3VFxHw5
uHc4vXI/uHBFtnU/x3g30ng5vW9CuX1e9e3u9fLN0npn8+vs8fv0/v7z//f/9vr/AAAA//r/+P//
+/768uXqrYFg/e7j16V7sGtRync/u3ZKvYNcvot2wZOAw4lvvnlOwG83xXpCuH1Kt3xGu3lCvXY9
unVAtYVXxY9fzJRfwpFnxoVbxXhGsXAytn9ItWg7z5mB/v7n/dTEspeM//v+9/zy//v99/r/AAAA
//r//v7+/P3/uZZ/+dW469S8t24prXJPu3ZItYdm6dnF/////P//9uvi5cSpxIdYwHE4uXJAsHdF
vXpJu3RHw5l269bD//70+/r5//f3/ePhxqORqXtWuHg6z3kuvWw76uLX////uZB08crN+f////n1
9Pz/AAAA//z9+fn82NPXyZtt/Pfsv4JKwXc2t3dEtn5S4b+r///+39HNy7qq8uPP///z48y1wXxU
xXdAt3s9snVGz6CE/PXk/Pru1su6wq+e37ux/ejj//3yyqmTxHpKwnwqvnE6y5+K9f/7+eXKtn9w
//39//f57f/9AAAA///0////tY51/+zK0K+dv3AswXo/t3Q0v4dS9NLB9uzsuoFurmQsz5Vk7drO
+fb52q2WxHY2vXcpwIxj8NnY+vn5x6eNqHA6rXw1sWsq2JBn/+7T9+zWvoVnvHw/t3xEvHNJ9PTr
////topr9tLQ//r/8P/2AAAA///z7uzxxIlj///2tXxRvHFExXhDtHcztYRE5s6++vPzz56Bwncx
sHIrt6GH9/j78N7UxohStm8q37WX////yry3qnVJxY5s1b+byJZktl8238Ks///6yaOJunRDs3c6
w2s08ePU/P3/79m+0ot/////+f75AAAA+v//5Lqp2K2k/uHOq2w3t21CxXlGtHo4vH1AxqyZ////
4M66uIBFtXMswYZY7tLD+ffwzKd/s2894sWp///7xKCPv3U/8dTF/v//2KSGwmZCwaeM9v7v5bGc
v3pHw3s4smw73Miv8N3V////wHZe///z//j/AAAA9///3ap42tLT67iLpWk5yHJKtHA+xX08w3o8
rXdU5NTG+vfp4LqezoJbvGg316mH/v/51LSeuHVN69C3+PTuypyEzoVQ+d/S6t7WxoBYv2c21sCh
///525yLv3c/zYE4r24517Wa+OXh//32xZF18/De//b/AAAA////sYdR9P/y05ZgvIZX245ttoJY
x3o4yXpDuG85uohf7tS+/vHs6cW4toxpw5t49/Ds3MS3vmw17MOn+/n/x5uGuHlA8NTJ+O7rzrGW
xp+J9Onc/vHqvYZrwnU6woAxvnEv4bKk+///7uK/17uX173I//v/AAAA////rGc6////vYFo7NjE
9tvF2LSWrnM61XZFx3U9v208yYRg0big7fDS8evF5Mmx8+fl2M6zwXIw5q+K+fn/1rehuHY00KWE
6uHW+vbp//Hj/O/U0a6Gu3tPr3lGwXc6qmg56NHH////8dzA28Kiu7Wx////AAAA////tlgx/v//
xo6J///////27MOrnW9Ds3pCwYI7wn03u3c8rnVLxJd65caq9u7T///569XKv4davIhk5tfN+e7L
0JZjrm0/t4tk1rWU3qyNzZtxtXpDuW06uXhFwG1AvY509fn0////+dfC4cuuu7uv////AAAA////
vFAe////4K6s/v//7u7YyYtqrnRFsn1Hu3czwn40voRAvHVIzoVpx6CHyL+h6+be+PP529TBxZl8
1KKS9O7P7te9zpRxwYBRvX1VtG9ItGg1v3VAy3xMwW86vHJO6dnJ8v/7+vjy576x++LGxbqj////
AAAA/P//tFYY////57+5/f/928GbuGY3w3c/wXlJyXo9xXQ1tHI9u5Bu8NnB8ebP4dnF7erm+e7v
7OXU8ubK5r2z1K2n3tfH7uPN8NbJ7dTN6M27yoxgyHg5xX0+tnQ8un9X//bh////4tC/3ben7s+2
zbSe////AAAA+v//zIBE///97dTI///5wIZWyXZAynxCu3pJtnQ8v3pJ1p2A6NbH9fnr18SxzaeX
5uHS+OjX0aKK0rKT8OLU59TU5d3S9/nu59/f5d7h4tnLwolgzH46s3YxrnlHr3g82LWU3L6htYdp
4saw58Wx4sCp////AAAA/vn/2Zxk5fTo7uDY//nwtWc5vHo8wXdAt3ZDunxM3bWU+/Dk+fb5+/n6
5NrRzaGEz6R/9O7Z3r2mvH1UyZlz4s6//ff29ujX0KB/yoxiu4ZQxXZEw3VHrnlFuHhFvH0wv3hP
wm5DqmQ3+vLUwqOS/N/D+v//AAAA//7/0qqJ0tO/79zd9Pzzu3pLtHIztXpGuHU5xItw8vDc8c7A
5tLF+e/q+9bG/+3P1ruf1s28/P/w3auEvGYyxZ6D7+/l//nf99a6w4hltXQ4vXhHxnRCznk4uXlD
y35FuHVDxXNDtnE6////qnpf//3h+/n/AAAA//n/8uHFupZ6//r79/z2upRmw3A4sXxJvHIzxIV0
+P/13quT0LGX8uzg1JmG5cu0+PHh1ce12tDC2aKBwms50J+C8Ovi3dK79eTP8tjFvYVdsXBExX5G
zno4vnlNv3VHvHw/uXRDzpt0//3ztYl4///v//n/AAAA//b////ns4FZ+Pv3//r+xaaDynE8tXdC
ynY81Idr9fXb27aWy51+/fvkz7GhtoRw+eXT6dzJw5F4xH1Xv3BA3ZNy+uzlybuqwamK+fTh4r2n
v3pUsXM9tHtFvHZIuXZAxHs+q2o19NjH+cmavLCx//7+//v6AAAA+fn////2ybCO4cOy////7NTG
qWE7y3k8unk8xoBax6F62pp0y35W7du+8OrasYZ4xaqZ/O7d15x1vm9Cv3BDxnZJ8NPC8/DhpIxz
0bqp//PswZVysGsztntOuHs+uX0+um49xJFp///wwo1b4e3x//n/+fv2AAAA/f//+fj/9fTlt4Ni
//7v+fD4ontiznQytH0/tXpEu3JEznlMw247z6N/8e/c5tzN3M2+//Lh2qh5unE4ynlHvXI5yqB7
+fXl7dfF8dzT///7w5x2wHY5t3A+xYI4tnUzrmVL9OnV/NGox6eT9v////r/9v78AAAA//vx7vr/
//z/1sCU1aiO////2rytwW0xw3U9sXc6wnlJunNFtXI8t3xKzaWI/OPV//fp79S+vZNiuHdAxXc9
vn85s3xGzaiN/eHM//Pm9tXJyIddw4BEtHg/w3c0rHE94a+Z9evh1Jlj7unu/f7z//f/9///AAAA
//7z8/f///v/+/np1JqC4NfL/fjsxZJyxHc8wng3s3xHt3hQxH1Dunc2vXZJxIdvwJRxtoNZqXVC
vXxGvnM4vn1Fv3lFt3NGtohhvJhzxYZjvW08wX5GuX9Crmk5y5+J//jlv6OP7M63+Pn9///3+fnw
9/z/AAAA7//9//n/8P//+///9+PQu4xk9/ve7uLftYE9z3Uwr35FvXRR3HM7yIEwtnc9uG5JvXM3
wHQ0xnNJxnhJwXlDtmpLwXJMxH02u3c/wnM+ync1vndDv3M9uWYo1aOJ//n/xrib36mO7/H5/f/y
//jv9f/19/b4AAAA/P//9/H2/Pz/+Pz////959HCvq2T//Th7tzLrHVWoGpAsn1Htng0wH440XdC
z3g1tn8qv4VSu3tesmVAyHM8ynk8u3pFxn88wXs1vH1CtXg5pWY1uINb57+v////zrio0Lyh++jh
/f////v9//n8/f/+/f7+AAAA//r4/f7+//v/9vf/+Pn///3059TCt6eR2trR+e3PzYtiwmQz1XdI
xXdHs307rXY3zIph7NHC+fLm1Lmfsn9Qr2ostGo0t2pDtWg6sGY2zJJv48Gy9+3p////v7KP1r6n
8uHO//r1//z/+fr/9/r///////r4AAAA//72////9vb/+Pv///v///////706tLGyIx+4Mm6///q
1rmStXMzu24ytnBEuXVSz41s9d/W//////349OTS1sGrzrqo2L2u7NDB+O7i/fjz//////bnxKmR
1bCN+vHh//72///+//v/9/r//fr///////72AAAA///2/////v7/9/f/9/n8//r/+Pn///z/+ezv
0Kmcw5V0/+rG///o5MmtvYNgs1gnv2M8xZuG4+rf7v//+f/////++uv05NTb8/P0////////4ci1
tYln5r+m//X0//z///z///v/+Pv/9vr//v/////////2AAAA////9vX1////8/j89/f/+Pr/9vf/
9/39+f/x//v58NLYt4t+uI1w89Ov///t//3n8Nq54cu31LWr5r2w+dS7+uHA//nV///9//jv4byh
tY5szrWg+PPu+f7/9/v59/v9+Pj/+Pb/9/r/9v///v/////////+AAAA/f389fr///r//////v7/
9vf///v///r///j+///1///v//3w7ODduqSmmn1ttpFz0raU0Lqd7tjC/OHL89G04cGhwqaFp4Jf
vJNx48Kn/e7h//3++fn//fr/////+Pv/9vr/9vr//v////r///n/////////AAAA9/r/+/v59vv/
9/b2/////////v7/+PL1///49P//7v//+f/////1///1////8/Lo4Ni148mu27Ki3LGn0rOyzsTC
2Nrb9/jh///t9f/+8v3//fv///r3//v8//L///3///////////////n2///+////9v//AAAA9///
9/r//P38///////2//73//v3/f//7v7/+fr///r//fr/9vz/9/v8+/j2///8//n///v/////////
//7////7///68Pr/7/r//fr6//72///9+P//9v//9v///fv4//7////3///2////////9v//9/r/
AAAA

------_=_NextPart_001_01C64CCC.0F19F20D--

From java-user-return-19704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 10:09:18 2006
Return-Path: <java-user-return-19704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78231 invoked from network); 21 Mar 2006 10:09:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 10:09:17 -0000
Received: (qmail 66415 invoked by uid 500); 21 Mar 2006 10:09:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66326 invoked by uid 500); 21 Mar 2006 10:09:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65967 invoked by uid 99); 21 Mar 2006 10:09:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 02:09:09 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_IMAGE_ONLY_24,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.37.194.14] (HELO ext-ch1gw-6.online-age.net) (64.37.194.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 02:09:08 -0800
Received: from int-ch1gw-2.online-age.net (int-ch1gw-2 [3.159.232.66])
	by ext-ch1gw-6.online-age.net (8.13.4/8.13.5/20051111-SVVS-TLS-DNSBL) with ESMTP id k2LA8juF031076
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 05:08:45 -0500
Received: from cinmlef11.e2k.ad.ge.com (localhost [127.0.0.1])
	by int-ch1gw-2.online-age.net (8.12.9/8.12.3/990426-RLH) with ESMTP id k2LA8iwU009050
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 05:08:44 -0500 (EST)
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef11.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 21 Mar 2006 05:08:44 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C64CCF.4C446ADE"
Subject: FW: Please tell me some of the Apache Search Engines
Date: Tue, 21 Mar 2006 15:37:44 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C502058CB1@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Please tell me some of the Apache Search Engines
Thread-Index: AcZMzA43AD2zM3fVRs+aXGuVaG2N6QAAzsTQ
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 21 Mar 2006 10:08:44.0036 (UTC) FILETIME=[6F911C40:01C64CCF]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64CCF.4C446ADE
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C64CCF.4C446ADE"


------_=_NextPart_002_01C64CCF.4C446ADE
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

=20
-----Original Message-----
From: Babu, KameshNarayana (GE, Research, consultant)=20
Sent: Tuesday, March 21, 2006 3:15 PM
To: java-user@lucene.apache.org
Subject: Please tell me some of the Apache Search Engines



HI All,=20

Can anybody tell me some of the open source projects for searching the =
net.=20

My exact requirement is, if i specify the URL and keyword. Based on the =
given keyword the application should search on the particular URL and =
give me the results.

Regards=20


ole0.bmp GE Global Research=20
Kamesh NarayanaBabu=20
John F. Welch Technology Centre
Information Technology Management, Plot 122, Export Promotion Industrial =
Park,
Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.
Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91 =
9986259850 | Email:-  kameshnarayana.babu@ge.com=20


------_=_NextPart_002_01C64CCF.4C446ADE
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>Please tell me some of the Apache Search Engines</TITLE>

<META content=3D"MSHTML 6.00.2800.1528" name=3DGENERATOR></HEAD>
<BODY>
<DIV>&nbsp;</DIV>
<DIV class=3DOutlookMessageHeader dir=3Dltr align=3Dleft><FONT =
face=3DTahoma=20
size=3D2>-----Original Message-----<BR><B>From:</B> Babu, KameshNarayana =
(GE,=20
Research, consultant) <BR><B>Sent:</B> Tuesday, March 21, 2006 3:15=20
PM<BR><B>To:</B> java-user@lucene.apache.org<BR><B>Subject:</B> Please =
tell me=20
some of the Apache Search Engines<BR><BR></FONT></DIV><!-- Converted =
from text/rtf format -->
<P><FONT face=3DArial size=3D2>HI All,</FONT> </P>
<P><FONT face=3DArial size=3D2>Can anybody tell me some of the open =
source projects=20
for searching the net.</FONT> </P>
<P><FONT face=3DArial size=3D2>My exact requirement is, if i specify the =
URL and=20
keyword. Based on the given keyword the application should search on the =

particular URL and give me the results.</FONT></P>
<P><FONT face=3DArial size=3D2>Regards</FONT> </P><BR>
<P><FONT face=3DArial color=3D#000000 size=3D2><IMG alt=3Dole0.bmp=20
src=3D"No%20AttachName"></FONT><B></B><B></B><B><FONT face=3DArial=20
color=3D#003366>&nbsp;GE Global Research</FONT></B> <BR><B><FONT =
face=3DArial=20
color=3D#003366 size=3D2>Kamesh NarayanaBabu</FONT></B> <BR><B><FONT =
face=3DArial=20
color=3D#003366 size=3D2>John F. Welch Technology Centre</FONT><FONT=20
face=3D"Courier New" color=3D#000099><BR></FONT><FONT face=3DArial =
color=3D#666699=20
size=3D1>Information Technology Management, Plot 122, Export Promotion =
Industrial=20
Park,</FONT><FONT face=3D"Courier New" color=3D#000099><BR></FONT><FONT =
face=3DArial=20
color=3D#666699 size=3D1>Phase II, Hoodi Village, Whitefield Road, =
Bangalore,=20
Karnataka - 560066, INDIA.</FONT><FONT face=3D"Courier New"=20
color=3D#000099><BR></FONT><FONT face=3DArial color=3D#666699 =
size=3D1>Phone: +91 (80)=20
2503 0457</FONT><FONT face=3DArial color=3D#0000ff size=3D1> =
|</FONT><FONT face=3DArial=20
color=3D#666699 size=3D1> GE Dial comm.: 8 * 901 0359</FONT><FONT =
face=3DArial=20
color=3D#0000ff size=3D1> |</FONT><FONT face=3D"Courier New" =
color=3D#000099></FONT>=20
<FONT face=3DArial color=3D#666699 size=3D1>Mobile: +91 =
9986259850</FONT> <FONT=20
face=3DArial color=3D#0000ff size=3D1>|</FONT><FONT face=3DArial =
color=3D#666699 size=3D1>=20
Email:-&nbsp; kameshnarayana.babu@ge.com</FONT></B> </P></BODY></HTML>

------_=_NextPart_002_01C64CCF.4C446ADE--

------_=_NextPart_001_01C64CCF.4C446ADE
Content-Type: application/x-zip-compressed;
	name="ole0.ZIP"
Content-Transfer-Encoding: base64
Content-Description: ole0.ZIP
Content-Disposition: attachment;
	filename="ole0.ZIP"

UEsDBBQAAgAIAPJ7dTSTqwbffQ8AAH4SAAAIAAAAb2xlMC5ibXB1WPlfU9e27/sX3k/3p/fbffe2
z09vHRkE4QMERW1rvX2t9/bdait1QgQyJyQgoiCKWodqHaoiWkRkJvNEhhMIQ4AQwgwGCGPInDMk
OWe/fRJs+354+5Oc7CR77+9ea6+19vqurE/L/v2DeNsD33+F779svf/tgz998P81NAoAfEUAABQA
KAAYSDTq/e84ADEAiPgL/P7nH1r0fYeEQ8hEF/YCiUUwEEG3ZkRB2E+vBnFhP4SG4DMSi9ELUiAc
AXgkPhGOCcdRYhTqnV+ekgw1iczig7r87cg3fzb8/T/bPvtQzvlccbPA/rIyMmMG0TgmCXwYCFHw
E/9tF7ChmygVoX8N+8M0boTeRjQWSXQgLhaldxeKAR8UnvStj0ntd7n6K2xz68vJiTEsFgX/t/l9
MaR3suXnG0rRp1Ovqon1TTg9QARDZBgDZJiIoSigonGlJRSYkBd+I2PwK1Q4jUgAHAdQ9PWoO/Bu
AHkkaKk+6X2H0ACLXrdjenqk265unVe32OpqZRX5PbXHXa+KI6N1VNgJh3j6pD3Vx5ytd0h/AIpG
wNUwgELo6BZ02BN+j4vSSoC6jcbViydOLOwdeCGrKPFa7YmzIqgQCdZJsAToJ/7+fMOGhrJ6XlJj
wScdnEzZ9ZOuURMgUUfHrYGfStAZ+292gsflooj4vEg4gUslVnkPirsXLK+fWu7VAGwTAhKuaa+6
derZpZbKI3XnP9af293zI3txAMH9QTh4ydBkYB4yFh5WFxxGONnd3G3WJiYZ3py0j+ofFK9alCDi
p9fEaWWigbjRRrA4LhYm4sLGQQn3Ym/9DXPjLdgPzlkHfhY1FmV0FSXJmXuMJRkmLkPLSZcWZsg4
R+dfVEd19T23Cl+xDsn5RwxsRg8rpf8io6Vgh7ryELqErHnWu+6XzxmaQSwIpcZRgMa2HIHGhYYU
IRNGHiMIc9PjnsY7gJhdU/74tiC9k5llEudpOHt1wn3dwgw9N8vAYyjF+1rYOxp5f2vlblNyP+4t
T9KLdmjLMvWiTxXMbCOf0Xkuu4n1d88CAog5bV3l+qCePkocehmJETQ0jYvSyBjUNRGd1kuVdUI4
ZqNO3MH8s6o0QyFI0zN3DvF39AiTOvl71aI8gyBbIkzuFqYruZkKdm4/h2ESpch5yRpmhryYIeVk
9PCTbPwUTVGWQvxteNMTDgzahKeDG25/NERRQRgeoC0l/AgqOEpFAq715ooTpGdx/FVpW8EXfbwM
FfegpvJ/tNe5+rsXjTVFWsFn3UVJiDBLLj4oE+WqBFkabrqSkym58jVy6/jAveOG26fNV75B+Lnt
xTuk5QckZ/YOPaygqBXSbup4UAsxsFgAOg/2HpeiqBgJFPfLiTH5hl0tu/BhM/NzFfeApPrU2iTt
QdDz0I0Fl6nRVH2suyRZwcxs4zE0wjwVe7/xIXfDYQRUKBohoNrIRae5/nZj6VdyfuqQ4GPN+b3r
C+NwBcWPbH/fIB3wiHAo4UcxkiBiE6PjlseFMcytu3RQz9sj4+VIy446dU3QDeZHBvuVbwKLQ9DQ
FgcketGXCC9TVprewckden45Fl6KRTyOfqWh9em8qp1cXQRkoK/xrkl40CD6SFuS2v/sWhhECVef
tLwYkCTAiE1Axu05BHchuckB7r7h1l90xdv0wgwZe5eu+mjIpkfdbmXFhZb8bUM/5W9OWQmUmGq+
b+Lu0fA+7K496ZuciBBET8ON18WpzaLd7QUfTfx4GnhGMbdDe+W0WpQhE+WoWXmh0AaEkF4rQG3D
UL0+gMZxgx6331RzEupSIvpCXZKD8LO7eDsll3OWrdpIMDj0tMLA297G/C9ZXTWGR31zdvPVo9Ki
j+YlD+BqfWrZG04ecvP8mO5x7/186fE984a30EUt9TVKdnYnL9VYsMu/aIfn6J3U2q6X05qmCIgL
o8WSsnGi+SXltDadT5IVZiGC3C5hslqcaX77EA57Z1XKLzIkrG36qmMem5HAfAMN5Z1F6QtII7RH
0/NbOk6G345A75h4WWU4laVvqEUpr6v9iU6431ia3HF+70xvq292DC7Vzf0WigntGOLCCDL7hj9l
G92QX391NqWXebCreB8iTjMK05p5Xy7ZzRFs7Z3yqfXSN+ozSeON1dDf7F1P5ZxPN4ZleMjT9+Sy
9coRYt62PucwXzymO73H0V0HZZp+cl3HyxisSG69kDIueYS7nDB+Irc5Qd8c9NzEvdBe/UUIBEbv
n1BXfT19s1B66ViPMNkizJYXpSivHvfYtZTfvYbIpbVnjY/5mM89Y5Jpz+92GxuiBOh5XCUXZPrs
FtyzYW2/b35WE1qbofzrmqoCAyfVcHG7tuRvzo6X8E7wLOjGVQ/GNb0wQCVw355OhU9NxRn3hAmd
Ria67rewUse4jB5Ouq4wzXL5xIj8+abP5t9AliztwRXXhLVTz/xkufUavG4csjo5d9fwq8vrTkcE
XQP+xZjXPtJSpSr9vFWQq+elvjmTsjrSQ1+XM93ThhcqSftWnISWdmw7PB3zzZrE/ew2Nv1SlN0p
zNJf2msQJ6l4aS2cQ6YHQpf5DeoZhTrcGOvTVf9TfTV/eXyQ8PQP3z/ZAiP29XyH5N7c2xuDj0sk
wmxFYaqCz+guzNTcZIcJ2mWIcYOzv0Wlav0NV33kP2j7aXkL0T2eCcv1cy1sRod4v4q301C2S3s5
U805YL1ytud5da+ubmN5Dg8S03Y98lBkf3En5BnyjGus90r0F7/QiP+7q+hA15ndOk5mv+iwvihV
zfxsbdICg1QED6xo26MLZkRZn8CFsajrqz/B/opOQQJyWv9YfirJyMvQC/IswnSEvbuLma768YJv
Uu9fHnJOIpvry4TH63bZA8t9y5pOe3PD3HiPZ3HQ57Bs2gdXB1V9tSd6+SmIeJ+UnaYs/xqgdD6w
MKyblTV4hqSDXU8TuNCPBi7mwERo094LldFd9ZWFm9knylIJ8+BEnTDP8cvFVUdPmNgYN7UPNjxY
dtrw1fGRF9dsHXd9C/YVu901a8MIz8r8vGvOuTDZb6g5MVCW2snd3iLY38pPm5Dcm9HWSarPLpjb
VpD2he7GBC5FgMkn+a7QqufdBCB8ktMpamGaHkZCbrZSdHhWci/qW4JhKkpElqZGBusuD70sD3km
5zS/qsVfWh6yFqw6EkPR1fHh5+V9td+rqo4g3BwjZ3+LgCHnM9TiT3T8zw0Xst/kJ0UCdkP9ndi8
MfL+/rW9qbGN6rwzs6FYUCU81MXcKRHmyjkppuvFAd+M39q9bEMI73rUYQabQw7VM8egGiZ9s02X
1ad2IE8rvV4XIOYxh9J49QcJO1nD329mZ1kFyQpBdn8ZQ87JRljZ0hLaZd4IjwPSCb2PxiVAwIko
7wtBJIrFUOW9U8bi5HZRnpq503SFjYPwXNPd4fYHAfc7+8MqV38X7neO9Uimhg2TLyoMBSnDzy75
NhZmbarw0lBgAtFc+Vd7cQ5SlmsVJmsFn+o4+2GUVrCzrY/ZgAxKavgAeEECl07rVjor/oHTCTaF
/FrZV5Im4WX1cdPs1QXh8PS09H7/L2VkdGmovU56uZhwja7NWIy3+Sbx17rizNm7zIjbZVG90Tde
I0LOBU2DTvhlOyu9q5Sh5h5QcDNNpfuazu0OTfQQlkfqtnY6UY5GIC70feizlrabTmMH7Lnt5sbv
9vYL0pSCNPPFf/bUCacesfvLvtqc1vrWp9qr+MibhzHP7PgTjrYoS1ecbebm+UYNQZ/zZS1rRNkI
gm79T8y2gp3S0s/kpfsU4n3KC+mm22cB8BlufOPc9ENhiSh9H8HUioDaDLlkld8Dykv48Bel31vZ
O7rEGRJhjoqZYxUcNl7YO1Rf7vfOLM8Mzgxq4cFMvRYoS5L7BPs1zJS+56VE2LU5jvhnYFSJGp9w
u7kpMhjkLyVLOTtbfjgUWhuLjbzuabhLqxYmtFQszlP8nngO7+i+N/b6JvxnSt2sL9xu5KS381IN
gjwliyFhpslEBwdfXY0tjgFszWvXau5+L+dlIrx0bXlKpyh38PUN0jkAgsvomKW3+l/Gizld/Awj
b9fbknRn68PwhtP+8KRnzUPG8ytsy56DQSxOVYg1+6NL78b7SdyN3GGaeGkGflKnaL+Mf8Qkzlby
9mi4eabqou57JdLKfzRysjSiXC0rWStm6AQMGStXevU79c8spOqkpjBNX5arKM9qOZvS/6wG4C5d
/S23VYYTULUYQfiweJ7jpekETYXglYEtDqtq87HonGdhXlKRPsT5pLWMoWF/McPa21vxiZSXLr+Q
p2EldbN3mVl5Zn6eXpAtPXdIzzxsEu9R8TIMrH19vN1aXraOla449dex+hq4sln+eL7xptcPUQMA
94ZBGEPxRJzE/CgkRDhNB8mVEYO2+S4IOT0z/W85Xz0/lwkDtZS/q7sseYSXNcTfLS3/SHflqKr0
244fMntZaX2CNJWQYS5P05fuVouzJPyUV6d2yyu/WdHR8d8qfz2srouuOsk4DQMEzDsokqLi+SQO
O1BaFAM4TV9DK3aDrOH21NQIsTk0eP17Q/7OMd4BhLe/U7y3mZs0cO0794iBCCzbFc86yo+0ntvW
dW6X7Fy25Exq26k9A3eKFvUd2OYaxNF13HJoGwJOKyRE0H6ICCQICUKEx883zstQmqpsEWgqtG4z
99aWvYPsBqw7FHckrJ2qCzukxTkKztGhG+fD8444z8VDSzaHvsmqfD2haXEP63HPAokH43fpiqnx
9ljbjYjfGV+flguCkglcCv2ND9K0F1oaQRNSWmq4Pbd3uPGJ8Sc2WDcDsLpkadZUnug89hfdyTTk
cdXi+rxnqwBARTZCS/bpYDCUoIjOXomk5vSy7lfonHTmHae9UChIE96zyAQuQMM0qw/iMQhNE0a4
ARJyGT80cZ9tQna9TH6jODgKzwtmviu+KYWzX2aXNC1r2gi7KuLsBgTM2SA39TrVdZKb562S53jQ
Q9D8ncCiJKR7kJFBYdHfqxP0+ZJkDBYW4vUNWmoU+62sQcWrDNDefe53s8qXvz4SF0pvs2zSe8PK
XzwThpizPzjS5dTXGX690nDpuPpuyaKhgfTA/I2CMTCh0oSYW5JGfq+Q0PlkBESjBE32UXRrN5Az
BiAiDhX3XpnhRKUjGFh9NyFZtLRMd7yYaW+wdXZYTYaJqWkMh5f7ZhhQAZg60NvGYOWCrquQf6hH
EFsSowlcQCshRsYSmgcUnILB4R6KtkAQNwbIW7FoLAr1RR/8H+o3VKKYE/FFgJceGYlbEYnHF6d7
UTw+BktYUQI0wcv+F1BLAQItABQAAgAIAPJ7dTSTqwbffQ8AAH4SAAAIACQAAAAAAAAAIAAAAAAA
AABvbGUwLmJtcAoAIAAAAAAAAQAYACg5Rm/OTMYB8HONS89MxgEoOUZvzkzGAVBLBQYAAAAAAQAB
AFoAAACjDwAAAAA=


------_=_NextPart_001_01C64CCF.4C446ADE
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C64CCF.4C446ADE--

From java-user-return-19705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 10:09:28 2006
Return-Path: <java-user-return-19705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78304 invoked from network); 21 Mar 2006 10:09:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 10:09:27 -0000
Received: (qmail 67713 invoked by uid 500); 21 Mar 2006 10:09:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67692 invoked by uid 500); 21 Mar 2006 10:09:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67680 invoked by uid 99); 21 Mar 2006 10:09:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 02:09:20 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.184.196 as permitted sender)
Received: from [64.233.184.196] (HELO wproxy.gmail.com) (64.233.184.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 02:09:20 -0800
Received: by wproxy.gmail.com with SMTP id i6so67956wra
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 02:08:59 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=gytFUognWhAsEFW8t9xf4ENI8MeWvGER86PXhJ0wW+A6l11odcQie9RTDpDXuyDhzYJ1+HrKJUMBgK6b2S2gaaX2UavkGakWA4mQwq5sO3AVR7XurUN0BARCBWxsqMJGPCEbGEb3r1HBuhStHrPzOvOUYXjYn5xxq6NLkQE+kNw=
Received: by 10.35.113.12 with SMTP id q12mr2162944pym;
        Tue, 21 Mar 2006 02:08:59 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Tue, 21 Mar 2006 02:08:59 -0800 (PST)
Message-ID: <f13b62210603210208u31b8528ev889e1641342d4678@mail.gmail.com>
Date: Tue, 21 Mar 2006 15:38:59 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: wildcard support
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2705_924746.1142935739569"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2705_924746.1142935739569
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

I am using the highlightertest.java to extract the wild card terms.

I use the queryParser to parse my queryString

Then i store the text in a RAM directory ( which i want to scan)

and then rewrite it as mentioned in the highlighter example

query=3Dquery.rewrite(reader)

Now if i print the query, i see that it does not contain anything

I repeat the query does not contain anything

What is the reason for this problem?  Any help would be appreciated.

Rgds
Prabhu

------=_Part_2705_924746.1142935739569--

From java-user-return-19706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 10:27:42 2006
Return-Path: <java-user-return-19706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88593 invoked from network); 21 Mar 2006 10:27:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 10:27:41 -0000
Received: (qmail 966 invoked by uid 500); 21 Mar 2006 10:27:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 414 invoked by uid 500); 21 Mar 2006 10:27:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 403 invoked by uid 99); 21 Mar 2006 10:27:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 02:27:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.131] (HELO exchange-mbx.bvdep.com) (193.194.158.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 02:27:36 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Re-creating IndexSearcher after update
Date: Tue, 21 Mar 2006 11:27:13 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF5F0B83D@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re-creating IndexSearcher after update
Thread-Index: AcZMwNX2BOYDY8LCTbSDdy1kc7MNUgADSzVA
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yep,

I created DelayCloseIndexSearcher just for this scenario and it's
running in production for about half a year now...

There's an usage example in the javadoc, but it can be optimised even
more (without touching the code that does the searches, handles the
hits, etc...).

In my production environment, isCurrent() is called in a separate
thread.  If it returns false, a new DelayCloseIndexSearcher instance is
created, some warming up is done and only then the existing one is
replaced and closeWhenDone is called on it.

Luc

-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp]=20
Sent: dinsdag 21 maart 2006 9:24
To: java-user@lucene.apache.org
Subject: RE: Re-creating IndexSearcher after update

Hi Steve,

DelayCloseIndexSearcher may suit your requirement?

Please check:
http://issues.apache.org/jira/browse/LUCENE-445

Hope this helps.

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 11:10:36 2006
Return-Path: <java-user-return-19707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14434 invoked from network); 21 Mar 2006 11:10:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 11:10:16 -0000
Received: (qmail 84144 invoked by uid 500); 21 Mar 2006 11:10:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84116 invoked by uid 500); 21 Mar 2006 11:10:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84105 invoked by uid 99); 21 Mar 2006 11:10:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 03:10:06 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of valerio.schiavoni@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 03:10:05 -0800
Received: by zproxy.gmail.com with SMTP id l1so1414870nzf
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 03:09:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=nQJYg8hD5fazCnu7yVpSDLT6WlxWGDIKqz/EaGO57Co4scWnpiXsL/OyVP2ICQ2dhjIY8u61BjVuAmiqomOlVy+z2mZNw3kYUe6UsKkbJN6n17RMoZQOkihevofNSv8MObuZq+6OsCi53OnwTrhKdCDrNxeX5aNlz/ZW3H9WDA8=
Received: by 10.65.93.8 with SMTP id v8mr1139951qbl;
        Tue, 21 Mar 2006 03:09:45 -0800 (PST)
Received: by 10.65.237.1 with HTTP; Tue, 21 Mar 2006 03:09:45 -0800 (PST)
Message-ID: <fa5c729b0603210309j3ae99b77sa5721cb461b9f04a@mail.gmail.com>
Date: Tue, 21 Mar 2006 12:09:45 +0100
From: "Valerio Schiavoni" <valerio.schiavoni@gmail.com>
To: java-user@lucene.apache.org
Subject: how to cluster documents
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_606_16880171.1142939385179"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_606_16880171.1142939385179
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello,
not sure if the term 'cluster' is the correct one, but here what i would
like to do:
given I have a small set of categories; i manually defined some keywords fo=
r
each category.
ie:

-spielberg: ET, munich, indiana jones;
-sport: football, basket, volley, etc etc;

then, i have a quite large archive of documents (html, pdf, doc) (~5000,
still growing) and I want to 'assign' each document
to those categories, using Lucene possibly (if it can help!).

what approach could I adopt ?

thanks,
valerio

--
To Iterate is Human, to Recurse, Divine
James O. Coplien, Bell Labs
(how good is to be human indeed)

------=_Part_606_16880171.1142939385179--

From java-user-return-19708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 12:08:03 2006
Return-Path: <java-user-return-19708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42941 invoked from network); 21 Mar 2006 12:08:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 12:08:02 -0000
Received: (qmail 66881 invoked by uid 500); 21 Mar 2006 12:07:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66856 invoked by uid 500); 21 Mar 2006 12:07:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66845 invoked by uid 99); 21 Mar 2006 12:07:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:07:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:07:55 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5918133C10A; Tue, 21 Mar 2006 07:07:35 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id AC86433C109
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 07:07:33 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <f13b62210603210208u31b8528ev889e1641342d4678@mail.gmail.com>
References: <f13b62210603210208u31b8528ev889e1641342d4678@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7F4845C8-8D19-4A6F-9B66-10D8D7D5BEC9@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: wildcard support
Date: Tue, 21 Mar 2006 07:07:25 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you've rewritten a WildcardQuery and get an empty query, that  
means that no terms matched the wildcard expression in the index  
pointed to by the IndexReader you provided.

	Erik


On Mar 21, 2006, at 5:08 AM, Raghavendra Prabhu wrote:

> Hi
>
> I am using the highlightertest.java to extract the wild card terms.
>
> I use the queryParser to parse my queryString
>
> Then i store the text in a RAM directory ( which i want to scan)
>
> and then rewrite it as mentioned in the highlighter example
>
> query=query.rewrite(reader)
>
> Now if i print the query, i see that it does not contain anything
>
> I repeat the query does not contain anything
>
> What is the reason for this problem?  Any help would be appreciated.
>
> Rgds
> Prabhu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 12:19:55 2006
Return-Path: <java-user-return-19709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46958 invoked from network); 21 Mar 2006 12:19:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 12:19:06 -0000
Received: (qmail 80199 invoked by uid 500); 21 Mar 2006 12:18:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80168 invoked by uid 500); 21 Mar 2006 12:18:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80156 invoked by uid 99); 21 Mar 2006 12:18:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:18:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:18:55 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2LCIQR8022631
 for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 17:48:26 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: Improving search performance
Date: Tue, 21 Mar 2006 17:48:26 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D18B@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Improving search performance
Thread-Index: AcZM4Y64V7uarqMkRxGexO/jp4akuw==
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am looking for ways to improve the performance of lucene search in our
app. Lucene performance is visibly slow when there are a lot of
documents to be returned (performance almost seems directly proportional
to the number of documents returned by Searcher). However, we show 20
results per page, so it seems to be a waste of time to get all, say,
60,000 documents when all I need are the nth 20 (i.e. if user requests
4th page of results, I just need documents 61 to 80).  I've tried using
the Searcher.search() method that returns TopFieldDocs. This method
works much faster than the ordinary Searcher.search() that returns all
the results. The trouble with this method is that I cant use it to get
an arbitrary portion of the results, I can only get the top few docs.

Our index size is around 50 MB. Its optimized every one hour. I have
tried a RAMDirectory, but even though using this improves performance by
upto 2 times, its not good enough. Also our index gets modified by
multiple processes so keeping the RAMDirectory up-to-date is a hassle.

Thanks,
Venu



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 12:29:56 2006
Return-Path: <java-user-return-19710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53587 invoked from network); 21 Mar 2006 12:29:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 12:29:52 -0000
Received: (qmail 94261 invoked by uid 500); 21 Mar 2006 12:29:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94235 invoked by uid 500); 21 Mar 2006 12:29:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94224 invoked by uid 99); 21 Mar 2006 12:29:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:29:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.171] (HELO moutng.kundenserver.de) (212.227.126.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:29:46 -0800
Received: from [85.220.140.42] (helo=sl-ox.innosystec.site)
	by mrelayeu.kundenserver.de (node=mrelayeu2) with ESMTP (Nemesis),
	id 0MKwtQ-1FLfzE2oSx-0000Mp; Tue, 21 Mar 2006 13:29:22 +0100
Received: from awkunemann (aw-kunemann.innosystec.site [192.168.3.126])
	by sl-ox.innosystec.site (Postfix) with ESMTP id CC70B1822112
	for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 13:29:17 +0100 (CET)
From: "Frank Kunemann" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
Subject: IndexWriter.addIndexes
Date: Tue, 21 Mar 2006 13:29:16 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <7F4845C8-8D19-4A6F-9B66-10D8D7D5BEC9@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZM4MZNPPI8gVluSVme6Wc0Z32/zgAAUXSg
Message-Id: <20060321122917.CC70B1822112@sl-ox.innosystec.site>
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:83fe6509a69fdd0b3dc2966fb66dcbe7
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

all I want to know about IndexWriter.addIndexes() is if there is a way to
tell if merging was successful or not. Or can I be sure that if no
IOException is thrown, everything is fine and I can delete the old indexes?


Regards
Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 12:56:25 2006
Return-Path: <java-user-return-19711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71052 invoked from network); 21 Mar 2006 12:56:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 12:56:15 -0000
Received: (qmail 49913 invoked by uid 500); 21 Mar 2006 12:55:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49882 invoked by uid 500); 21 Mar 2006 12:55:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49871 invoked by uid 99); 21 Mar 2006 12:55:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:55:47 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gingerons@gmail.com designates 66.249.82.206 as permitted sender)
Received: from [66.249.82.206] (HELO xproxy.gmail.com) (66.249.82.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:55:46 -0800
Received: by xproxy.gmail.com with SMTP id t4so932572wxc
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 04:55:25 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Qu/WUXtVkkm+VFron8NNWZcS6CrPqdCQvkVJ4W2F+MjUJ2mWjbjQpEqlmgu4YGHu7k5H0JysqaxgqnvJlpTn6i+ZI1uSbqUAGIzFoLbwMqD/fpxBRzDbk2EWVyZNJ3kKYI+KbWybPV2JjSE8T996OH/koAk4TQv0rBjGgWq/HRg=
Received: by 10.70.20.2 with SMTP id 2mr3473964wxt;
        Tue, 21 Mar 2006 04:55:25 -0800 (PST)
Received: by 10.70.12.4 with HTTP; Tue, 21 Mar 2006 04:55:25 -0800 (PST)
Message-ID: <277d4c5d0603210455u508b8db2secd849f067c7a622@mail.gmail.com>
Date: Tue, 21 Mar 2006 20:55:25 +0800
From: jason <gingerons@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to cluster documents
In-Reply-To: <fa5c729b0603210309j3ae99b77sa5721cb461b9f04a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14427_31447321.1142945725180"
References: <fa5c729b0603210309j3ae99b77sa5721cb461b9f04a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14427_31447321.1142945725180
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I guess you should use some text mining tools. you can use googl find them.
I remember UIUC recently releases one tool. It is very good.

On 3/21/06, Valerio Schiavoni <valerio.schiavoni@gmail.com> wrote:
>
> Hello,
> not sure if the term 'cluster' is the correct one, but here what i would
> like to do:
> given I have a small set of categories; i manually defined some keywords
> for
> each category.
> ie:
>
> -spielberg: ET, munich, indiana jones;
> -sport: football, basket, volley, etc etc;
>
> then, i have a quite large archive of documents (html, pdf, doc) (~5000,
> still growing) and I want to 'assign' each document
> to those categories, using Lucene possibly (if it can help!).
>
> what approach could I adopt ?
>
> thanks,
> valerio
>
> --
> To Iterate is Human, to Recurse, Divine
> James O. Coplien, Bell Labs
> (how good is to be human indeed)
>
>

------=_Part_14427_31447321.1142945725180--

From java-user-return-19712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 12:56:56 2006
Return-Path: <java-user-return-19712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71434 invoked from network); 21 Mar 2006 12:56:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 12:56:53 -0000
Received: (qmail 51976 invoked by uid 500); 21 Mar 2006 12:56:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51393 invoked by uid 500); 21 Mar 2006 12:56:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51382 invoked by uid 99); 21 Mar 2006 12:56:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:56:46 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jprogramista@gmail.com designates 64.233.162.205 as permitted sender)
Received: from [64.233.162.205] (HELO zproxy.gmail.com) (64.233.162.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 04:56:46 -0800
Received: by zproxy.gmail.com with SMTP id 16so1402112nzp
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 04:56:25 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=i7elmAxw/BAcZEoao1/STPmQnpFIob46ezNNQnKqPStGroaffss2jksWCeLXV3VK2Ks0UyQgByv7eL0zddQB+CmIjAb31ezIe73tGp4lPUi8Lj2znz5kRTpufnUD0fR0df5rSF6Chq+RGv++KLYqqOH798XU+C3BTNj8ZQJZI60=
Received: by 10.35.37.18 with SMTP id p18mr375790pyj;
        Tue, 21 Mar 2006 04:56:25 -0800 (PST)
Received: by 10.35.18.11 with HTTP; Tue, 21 Mar 2006 04:56:25 -0800 (PST)
Message-ID: <af75a3a20603210456k437e0563i57ea8e626c4e2b59@mail.gmail.com>
Date: Tue, 21 Mar 2006 13:56:25 +0100
From: "Java Programmer" <jprogramista@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Grouping results by choosen field
In-Reply-To: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <af75a3a20603170736l1aaf47bat2e66c0e9eeb80d4d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/17/06, Java Programmer <jprogramista@gmail.com> wrote:
>
> Hello,
> I tried to search myself for soultion, but without any good result, so I =
want to ask group.
> My problem concerns result grouping, the best example will be Google sear=
ch where you have results sorted by relevance, and also grouped by domain (=
they have little indent/margin). In my project I want to get similar functi=
onality, without very huge CPU consumption.
>
>  Can you share any helpful hints ?
>
>  Best Regards,
>  Adr
>

Hello,
I have written some code to do sorting form me (it's not perfect,
maybe it's even very poor solution, but I'm still learning). So if you
have a time please take a look:

long sort_start =3D new Date().getTime();

Map<String,ArrayList<Integer>> domains =3D new
HashMap<String,ArrayList<Integer>>();
List<String> results =3D new ArrayList<String>();

int i =3D 0;

while(i<hits.length() && i<500){
=09Document doc =3D hits.doc(i);
=09String url =3D doc.get("domain");
=09if(!domains.containsKey(url)){
=09=09domains.put(url,new ArrayList<Integer>());
=09=09results.add(url);
=09}
=09domains.get(url).add(i);
=09i++;
}

long sort_end =3D new Date().getTime();

so I'm grouping results for domains in Lists to prevent order of
score, such ordered groups I put into Map and key of that Map I put
into another List to prevent order of most scored domains, so in
result I get:
- domain A score 1.0
-- domain A score 0.6
- domain B score 0.9
etc.

I put this code into servlet (Tomcat 5.5) and it's working but ...
when I made first query it take a long time to run whole sorting
process eg. 4900 ms, but when I run same query again (eg with paging),
it's run very quickly eg 40 ms - why such thing is happen? Is there
any optimizing in Lucene, or any kind of caching? When restarting
servlet for queries which already were asked results are at once, but
new queries always take long time to process.

Maybe I'm miss something when read documentation - someone can give me
an explanation?

Best regards,
Adr

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 13:08:24 2006
Return-Path: <java-user-return-19713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86019 invoked from network); 21 Mar 2006 13:08:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 13:08:24 -0000
Received: (qmail 74812 invoked by uid 500); 21 Mar 2006 13:08:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74206 invoked by uid 500); 21 Mar 2006 13:08:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74194 invoked by uid 99); 21 Mar 2006 13:08:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:08:18 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.59.116.41] (HELO orbita1.ru) (213.59.116.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:08:17 -0800
Received: from anton.ipt ([192.168.0.177] helo=anton)
	by orbita1.ru with esmtpa (Exim 4.42)
	id 1FLgaZ-0006la-1Y
	for java-user@lucene.apache.org; Tue, 21 Mar 2006 16:07:55 +0300
From: <anton@orbita1.ru>
To: <java-user@lucene.apache.org>
Subject: RE: Grouping results by choosen field
Date: Tue, 21 Mar 2006 16:07:29 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-Index: AcZM5uvdoVqkzRh5Q0isQAHvE3yQUwAAPxRQ
In-Reply-To: <af75a3a20603210456k437e0563i57ea8e626c4e2b59@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060321130817.CF2FC10FB007@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Good grouping by domain realized in nutch... Nutch can serve good example of
group on certain field.

-----Original Message-----
From: Java Programmer [mailto:jprogramista@gmail.com] 
Sent: Tuesday, March 21, 2006 3:56 PM
To: java-user@lucene.apache.org
Subject: Re: Grouping results by choosen field

On 3/17/06, Java Programmer <jprogramista@gmail.com> wrote:
>
> Hello,
> I tried to search myself for soultion, but without any good result, so I
want to ask group.
> My problem concerns result grouping, the best example will be Google
search where you have results sorted by relevance, and also grouped by
domain (they have little indent/margin). In my project I want to get similar
functionality, without very huge CPU consumption.
>
>  Can you share any helpful hints ?
>
>  Best Regards,
>  Adr
>

Hello,
I have written some code to do sorting form me (it's not perfect,
maybe it's even very poor solution, but I'm still learning). So if you
have a time please take a look:

long sort_start = new Date().getTime();

Map<String,ArrayList<Integer>> domains = new
HashMap<String,ArrayList<Integer>>();
List<String> results = new ArrayList<String>();

int i = 0;

while(i<hits.length() && i<500){
	Document doc = hits.doc(i);
	String url = doc.get("domain");
	if(!domains.containsKey(url)){
		domains.put(url,new ArrayList<Integer>());
		results.add(url);
	}
	domains.get(url).add(i);
	i++;
}

long sort_end = new Date().getTime();

so I'm grouping results for domains in Lists to prevent order of
score, such ordered groups I put into Map and key of that Map I put
into another List to prevent order of most scored domains, so in
result I get:
- domain A score 1.0
-- domain A score 0.6
- domain B score 0.9
etc.

I put this code into servlet (Tomcat 5.5) and it's working but ...
when I made first query it take a long time to run whole sorting
process eg. 4900 ms, but when I run same query again (eg with paging),
it's run very quickly eg 40 ms - why such thing is happen? Is there
any optimizing in Lucene, or any kind of caching? When restarting
servlet for queries which already were asked results are at once, but
new queries always take long time to process.

Maybe I'm miss something when read documentation - someone can give me
an explanation?

Best regards,
Adr

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 13:24:16 2006
Return-Path: <java-user-return-19714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94917 invoked from network); 21 Mar 2006 13:24:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 13:24:15 -0000
Received: (qmail 1327 invoked by uid 500); 21 Mar 2006 13:24:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1146 invoked by uid 500); 21 Mar 2006 13:24:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1135 invoked by uid 99); 21 Mar 2006 13:24:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:24:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:24:08 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.150B047D@mailer.syr.edu>; Tue, 21 Mar 2006 8:23:47 -0500
Message-ID: <441FFE63.7090809@syr.edu>
Date: Tue, 21 Mar 2006 08:23:47 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to cluster documents
References: <fa5c729b0603210309j3ae99b77sa5721cb461b9f04a@mail.gmail.com>
In-Reply-To: <fa5c729b0603210309j3ae99b77sa5721cb461b9f04a@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You might want to look at the Carrot2 project 
(http://www.carrot2.org/website/xml/index.xml).

It does clustering and has support for Lucene.

Valerio Schiavoni wrote:
> Hello,
> not sure if the term 'cluster' is the correct one, but here what i would
> like to do:
> given I have a small set of categories; i manually defined some keywords for
> each category.
> ie:
>
> -spielberg: ET, munich, indiana jones;
> -sport: football, basket, volley, etc etc;
>
> then, i have a quite large archive of documents (html, pdf, doc) (~5000,
> still growing) and I want to 'assign' each document
> to those categories, using Lucene possibly (if it can help!).
>
> what approach could I adopt ?
>
> thanks,
> valerio
>
> --
> To Iterate is Human, to Recurse, Divine
> James O. Coplien, Bell Labs
> (how good is to be human indeed)
>
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 13:33:36 2006
Return-Path: <java-user-return-19715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 195 invoked from network); 21 Mar 2006 13:33:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 13:33:36 -0000
Received: (qmail 16674 invoked by uid 500); 21 Mar 2006 13:33:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16651 invoked by uid 500); 21 Mar 2006 13:33:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16640 invoked by uid 99); 21 Mar 2006 13:33:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:33:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:33:27 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.150B0679@mailer.syr.edu>; Tue, 21 Mar 2006 8:33:07 -0500
Message-ID: <44200093.104@syr.edu>
Date: Tue, 21 Mar 2006 08:33:07 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Improving search performance
References: <E817F096B8D59B4E9D1E437917B1083107D18B@mshydpub1.hyd.deshaw.com>
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083107D18B@mshydpub1.hyd.deshaw.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am not sure why you are getting all 60k docs at a time.  If you use 
the Hits object, it caches the top 50 or so, but doesn't retrieve all 
the documents at once.

Also, what are the size of your fields and how many fields do you have 
per document? 

Have you done any profiling to find the bottlenecks?  An index size of 
50mb is actually pretty small for Lucene, perhaps you can share more 
about your setup.

-Grant

Satuluri, Venu_Madhav wrote:
> Hi,
>
> I am looking for ways to improve the performance of lucene search in our
> app. Lucene performance is visibly slow when there are a lot of
> documents to be returned (performance almost seems directly proportional
> to the number of documents returned by Searcher). However, we show 20
> results per page, so it seems to be a waste of time to get all, say,
> 60,000 documents when all I need are the nth 20 (i.e. if user requests
> 4th page of results, I just need documents 61 to 80).  I've tried using
> the Searcher.search() method that returns TopFieldDocs. This method
> works much faster than the ordinary Searcher.search() that returns all
> the results. The trouble with this method is that I cant use it to get
> an arbitrary portion of the results, I can only get the top few docs.
>
> Our index size is around 50 MB. Its optimized every one hour. I have
> tried a RAMDirectory, but even though using this improves performance by
> upto 2 times, its not good enough. Also our index gets modified by
> multiple processes so keeping the RAMDirectory up-to-date is a hassle.
>
> Thanks,
> Venu
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 13:34:41 2006
Return-Path: <java-user-return-19716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 765 invoked from network); 21 Mar 2006 13:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 13:34:41 -0000
Received: (qmail 20067 invoked by uid 500); 21 Mar 2006 13:34:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19867 invoked by uid 500); 21 Mar 2006 13:34:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19856 invoked by uid 99); 21 Mar 2006 13:34:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:34:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 05:34:33 -0800
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.150B0696@mailer.syr.edu>; Tue, 21 Mar 2006 8:34:13 -0500
Message-ID: <442000D5.6020407@syr.edu>
Date: Tue, 21 Mar 2006 08:34:13 -0500
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Term Vector Question
References: <441E8835.2090206@fib.upc.edu>
In-Reply-To: <441E8835.2090206@fib.upc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel,

Not sure I understand your problem, could you expand on it more, please.

Daniel Cortes wrote:
> Hi everybody,
> How can I do to obtain Terms of an specific Querry( for example all 
> the terms of a specific group, field " ID_GROUP" )
> The only thing that now I think to do is a search and obtain for every 
> hits their term frequency and create a TreeSet with this.
> I supose that lucene give me another option more eficcient, someone 
> can give me some light in this work.
>
> Thks to all.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 14:10:17 2006
Return-Path: <java-user-return-19717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17799 invoked from network); 21 Mar 2006 14:10:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 14:10:17 -0000
Received: (qmail 63490 invoked by uid 500); 21 Mar 2006 14:10:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63461 invoked by uid 500); 21 Mar 2006 14:10:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63450 invoked by uid 99); 21 Mar 2006 14:10:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 06:10:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 06:10:08 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2LE9fR8024091
 for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 19:39:44 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Improving search performance
Date: Tue, 21 Mar 2006 19:39:41 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083103D6FD@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Improving search performance
Thread-Index: AcZM7Bg7lEjb3UnQRgiYeKNP9rj1tgABMBJA
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You are right. I was unnecessarily transferring all the results from
Hits object to an ArrayList. I don't know why it never struck me but
this was the step that was taking a lot of time; it was staring at me
all the time.

Thanks, it's running much better now.

Venu=20

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu]=20
Sent: Tuesday, March 21, 2006 7:03 PM
To: java-user@lucene.apache.org
Subject: Re: Improving search performance


I am not sure why you are getting all 60k docs at a time.  If you use=20
the Hits object, it caches the top 50 or so, but doesn't retrieve all=20
the documents at once.

Also, what are the size of your fields and how many fields do you have=20
per document?=20

Have you done any profiling to find the bottlenecks?  An index size of=20
50mb is actually pretty small for Lucene, perhaps you can share more=20
about your setup.

-Grant

Satuluri, Venu_Madhav wrote:
> Hi,
>
> I am looking for ways to improve the performance of lucene search in
our
> app. Lucene performance is visibly slow when there are a lot of
> documents to be returned (performance almost seems directly
proportional
> to the number of documents returned by Searcher). However, we show 20
> results per page, so it seems to be a waste of time to get all, say,
> 60,000 documents when all I need are the nth 20 (i.e. if user requests
> 4th page of results, I just need documents 61 to 80).  I've tried
using
> the Searcher.search() method that returns TopFieldDocs. This method
> works much faster than the ordinary Searcher.search() that returns all
> the results. The trouble with this method is that I cant use it to get
> an arbitrary portion of the results, I can only get the top few docs.
>
> Our index size is around 50 MB. Its optimized every one hour. I have
> tried a RAMDirectory, but even though using this improves performance
by
> upto 2 times, its not good enough. Also our index gets modified by
> multiple processes so keeping the RAMDirectory up-to-date is a hassle.
>
> Thanks,
> Venu
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  =20

--=20

Grant Ingersoll=20
Sr. Software Engineer=20
Center for Natural Language Processing=20
Syracuse University=20
School of Information Studies=20
335 Hinds Hall=20
Syracuse, NY 13244=20

http://www.cnlp.org=20
Voice:  315-443-5484=20
Fax: 315-443-6886=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 14:24:07 2006
Return-Path: <java-user-return-19718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24782 invoked from network); 21 Mar 2006 14:23:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 14:23:52 -0000
Received: (qmail 82279 invoked by uid 500); 21 Mar 2006 14:23:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82033 invoked by uid 500); 21 Mar 2006 14:23:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82022 invoked by uid 99); 21 Mar 2006 14:23:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 06:23:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of valerio.schiavoni@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 06:23:04 -0800
Received: by wproxy.gmail.com with SMTP id 57so1287176wri
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 06:22:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fM+IIcPqf0XWG1H8NbABz1hi0KV3/nUYPyp3+hfhldzplXcxL4vcPGvzuQoB1/r3Etp2YUfUnvNYZJ/8fKaKYtHUp0znegv/pjSlB/2TvNhYw9L7K//olJRjEAyB0vtaPE2Ix9BUfleuv4A1uG6EVbNDzR5GMdb9SL5dM6IkVb4=
Received: by 10.65.103.16 with SMTP id f16mr19912qbm;
        Tue, 21 Mar 2006 06:22:40 -0800 (PST)
Received: by 10.65.237.1 with HTTP; Tue, 21 Mar 2006 06:22:40 -0800 (PST)
Message-ID: <fa5c729b0603210622q33c1c697pbee158cb7010e927@mail.gmail.com>
Date: Tue, 21 Mar 2006 15:22:40 +0100
From: "Valerio Schiavoni" <valerio.schiavoni@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to cluster documents
In-Reply-To: <441FFE63.7090809@syr.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_393_16077034.1142950960079"
References: <fa5c729b0603210309j3ae99b77sa5721cb461b9f04a@mail.gmail.com>
	 <441FFE63.7090809@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_393_16077034.1142950960079
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Grant,
i think what is more relevan is what you wrote here:
http://www.cnlp.org/apachecon2005/

about domain specialization, but it wasn't very (maybe because only 4
slides)


On 3/21/06, Grant Ingersoll <gsingers@syr.edu> wrote:
>
> You might want to look at the Carrot2 project
> (http://www.carrot2.org/website/xml/index.xml).
>
> It does clustering and has support for Lucene.
>
> Valerio Schiavoni wrote:
> > Hello,
> > not sure if the term 'cluster' is the correct one, but here what i woul=
d
> > like to do:
> > given I have a small set of categories; i manually defined some keyword=
s
> for
> > each category.
> > ie:
> >
> > -spielberg: ET, munich, indiana jones;
> > -sport: football, basket, volley, etc etc;
> >
> > then, i have a quite large archive of documents (html, pdf, doc) (~5000=
,
> > still growing) and I want to 'assign' each document
> > to those categories, using Lucene possibly (if it can help!).
> >
> > what approach could I adopt ?
> >
> > thanks,
> > valerio
> >
> > --
> > To Iterate is Human, to Recurse, Divine
> > James O. Coplien, Bell Labs
> > (how good is to be human indeed)
> >
> >
>
> --
>
> Grant Ingersoll
> Sr. Software Engineer
> Center for Natural Language Processing
> Syracuse University
> School of Information Studies
> 335 Hinds Hall
> Syracuse, NY 13244
>
> http://www.cnlp.org
> Voice:  315-443-5484
> Fax: 315-443-6886
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
To Iterate is Human, to Recurse, Divine
James O. Coplien, Bell Labs
(how good is to be human indeed)

------=_Part_393_16077034.1142950960079--

From java-user-return-19719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 15:03:06 2006
Return-Path: <java-user-return-19719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53605 invoked from network); 21 Mar 2006 15:03:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 15:03:06 -0000
Received: (qmail 49273 invoked by uid 500); 21 Mar 2006 15:03:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49245 invoked by uid 500); 21 Mar 2006 15:03:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 37578 invoked by uid 99); 21 Mar 2006 14:55:09 -0000
X-ASF-Spam-Status: No, hits=3.3 required=10.0
	tests=FORGED_MSGID_AOL,RCVD_IN_SORBS_SOCKS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of prasen.bea@gmail.com designates 64.233.162.207 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding:from;
        b=gAnV7pterZUvPqc8STqvZ4SFjPU90xvyAzJvoDE6zciz8JLeWv7UPeLo6qObIzYEvqU1P8pqSL1fl/H6gyialdsKzf1GQE7Cdwrtqs4BrMVtlca4Jnn9fQmn1MpzJyRHCVECA0nxwp8fuMRabqWcdgRTxWDmdwRjCJa/fwdfkQk=
Message-ID: <442012DF.20102@aol.com>
Date: Tue, 21 Mar 2006 20:21:11 +0530
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Adding delta terms to the same  lucene doc 
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
From: prasenjitm <prasen.bea@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi folks,
   I have a requirement where I want to keep adding deltas (incremental 
terms) to a particular document in a lucene index, and get these 
additional terms indexed to the SAME document in the index. Is there an 
easy/smart way to do it without changing much of lucene ?  Deleting and 
adding the document won't work here, as I dont have access to  the 
original content and know only of the deltas. Also I dont want to delete 
any of the content.

Any help is greatly appreciated.

--Prasen


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 15:34:02 2006
Return-Path: <java-user-return-19720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73618 invoked from network); 21 Mar 2006 15:34:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 15:34:01 -0000
Received: (qmail 93780 invoked by uid 500); 21 Mar 2006 15:33:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93749 invoked by uid 500); 21 Mar 2006 15:33:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93737 invoked by uid 99); 21 Mar 2006 15:33:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 07:33:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [131.111.8.137] (HELO ppsw-7.csi.cam.ac.uk) (131.111.8.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 07:33:55 -0800
X-Cam-SpamDetails: Not scanned
X-Cam-AntiVirus: No virus found
X-Cam-ScannerInfo: http://www.cam.ac.uk/cs/email/scanner/
Received: from hermes-2.csi.cam.ac.uk ([131.111.8.54]:42278)
	by ppsw-7.csi.cam.ac.uk (smtp.hermes.cam.ac.uk [131.111.8.157]:25)
	with esmtpa (EXTERNAL:cbc20) id 1FLirP-0006JM-Mf (Exim 4.54) for java-user@lucene.apache.org
	(return-path <cbc20@hermes.cam.ac.uk>); Tue, 21 Mar 2006 15:33:27 +0000
Received: from cbc20 (helo=localhost) by hermes-2.csi.cam.ac.uk (hermes.cam.ac.uk)
	with local-esmtp id 1FLirO-0005oH-WA (Exim 4.53) for java-user@lucene.apache.org
	(return-path <cbc20@hermes.cam.ac.uk>); Tue, 21 Mar 2006 15:33:26 +0000
Date: Tue, 21 Mar 2006 15:33:26 +0000 (GMT)
From: Chris Cain <cbc20@hermes.cam.ac.uk>
X-X-Sender: cbc20@hermes-2.csi.cam.ac.uk
To: java-user@lucene.apache.org
Subject: Read past EOF error in Windows
Message-ID: <Pine.LNX.4.64.0603211507300.24596@hermes-2.csi.cam.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I wrote a lucene program which runs fine under Linux and Mac but fails on 
most Windows machines. (I have managed to get it to work on one version of 
XP however)

Specifically when i open or search the index i get the following error message.

Any help would be appreciated,
Cheers,
Chris

caught a class java.io.IOException
with message: read past EOF
java.io.IOException: read past EOF
         at 
org.apache.lucene.store.FSIndexInput.readInternal(FSDirectory.java:451)
         at 
org.apache.lucene.store.BufferedIndexInput.readBytes(BufferedIndexInput.java:45)
         at 
org.apache.lucene.index.CompoundFileReader$CSIndexInput.readInternal(CompoundFileReader.java:219)
         at 
org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java:64)
         at 
org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.java:33)
         at org.apache.lucene.store.IndexInput.readInt(IndexInput.java:46)
         at 
org.apache.lucene.index.SegmentTermEnum.<init>(SegmentTermEnum.java:47)
         at 
org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:48)
         at 
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:147)
         at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
         at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:115)
         at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:150)
         at org.apache.lucene.store.Lock$With.run(Lock.java:109)
         at org.apache.lucene.index.IndexReader.open(IndexReader.java:143)
         at org.apache.lucene.index.IndexReader.open(IndexReader.java:127)
         at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:42)




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 15:46:58 2006
Return-Path: <java-user-return-19721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80482 invoked from network); 21 Mar 2006 15:44:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 15:44:51 -0000
Received: (qmail 18734 invoked by uid 500); 21 Mar 2006 15:44:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18711 invoked by uid 500); 21 Mar 2006 15:44:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18700 invoked by uid 99); 21 Mar 2006 15:44:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 07:44:36 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.61] (HELO web50307.mail.yahoo.com) (206.190.38.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 21 Mar 2006 07:44:36 -0800
Received: (qmail 58909 invoked by uid 60001); 21 Mar 2006 15:44:15 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=MDjEuNI2A1RV0YtZABWaK+We6JP/XluJhdXZ7YkbylEo+mXrzJiunFoydOPErUvh+sWWibzk3pkQ70MM72R4Gf/OMPPqQxVkbvUfiLUNXDYxs9+Mfe3hVDAZxkA0NlhrqUn5c0JPZMEOZF8OMrOA0Na7yPC/X0tOLWWb0ThP8I4=  ;
Message-ID: <20060321154415.58907.qmail@web50307.mail.yahoo.com>
Date: Tue, 21 Mar 2006 07:44:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexWriter.addIndexes
To: java-user@lucene.apache.org
In-Reply-To: <20060321122917.CC70B1822112@sl-ox.innosystec.site>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

Yes, no IOException means all went well, I believe.

Otis

----- Original Message ----
From: Frank Kunemann <frank.kunemann@innosystec.de>
To:  java-user@lucene.apache.org
Sent: Tuesday, March 21, 2006 7:29:16 AM
Subject: IndexWriter.addIndexes

Hi,

all I want to know about IndexWriter.addIndexes() is if there is a way to
tell if merging was successful or not. Or can I be sure that if no
IOException is thrown, everything is fine and I can delete the old indexes?


Regards
Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 17:13:10 2006
Return-Path: <java-user-return-19722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39616 invoked from network); 21 Mar 2006 17:12:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 17:12:47 -0000
Received: (qmail 518 invoked by uid 500); 21 Mar 2006 17:12:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 489 invoked by uid 500); 21 Mar 2006 17:12:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 478 invoked by uid 99); 21 Mar 2006 17:12:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 09:12:37 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.157.35 as permitted sender)
Received: from [205.188.157.35] (HELO imo-d03.mx.aol.com) (205.188.157.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 09:12:36 -0800
Received: from Msftblows@aol.com
	by imo-d03.mx.aol.com (mail_out_v38_r7.3.) id h.23f.9021ea2 (16035)
	 for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 12:12:09 -0500 (EST)
Received: from  MBLK-M41 (mblk-m41.mblk.aol.com [64.12.136.85]) by air-id10.mx.aol.com (vx) with ESMTP id MAILINID102-3ea3442033e6398; Tue, 21 Mar 2006 12:12:07 -0500
Date: Tue, 21 Mar 2006 12:12:06 -0500
From: msftblows@aol.com
Message-Id: <8C81B21B6E5DDBD-A3C-11E1@MBLK-M41.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 38.117.191.163 by MBLK-M41.sysops.aol.com (64.12.136.85) with HTTP (WebMailUI); Tue, 21 Mar 2006 12:12:06 -0500
X-Mailer: AOL WebMail 15106
Subject: stemming question
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C81B21B6E5DDBD_A3C_120A_MBLK-M41.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 64.12.136.85
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C81B21B6E5DDBD_A3C_120A_MBLK-M41.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

if I index with porter stemmer, what is the "overhead" that I incure (if any) with searching...
 
the reason I ask is that I am planning on switching out porter for kstemmer...and my boss is curious in terms of cpu cycles what the overhead would be (more or less). Granted the KStemmer is different than porter...and my question is not on that ;) It is more when we go through the analyzer and do stemming...what exactly happens...and what is the overhead.
 
Thanks!
-Joe

----------MailBlocks_8C81B21B6E5DDBD_A3C_120A_MBLK-M41.sysops.aol.com--

From java-user-return-19723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 17:19:46 2006
Return-Path: <java-user-return-19723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43857 invoked from network); 21 Mar 2006 17:19:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 17:19:38 -0000
Received: (qmail 9833 invoked by uid 500); 21 Mar 2006 17:19:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9803 invoked by uid 500); 21 Mar 2006 17:19:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9792 invoked by uid 99); 21 Mar 2006 17:19:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 09:19:31 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.138.207 as permitted sender)
Received: from [64.12.138.207] (HELO imo-m17.mx.aol.com) (64.12.138.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 09:19:30 -0800
Received: from Msftblows@aol.com
	by imo-m17.mx.aol.com (mail_out_v38_r7.3.) id h.302.12524ac (15898)
	 for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 12:19:04 -0500 (EST)
Received: from  MBLK-M41 (mblk-m41.mblk.aol.com [64.12.136.85]) by air-id09.mx.aol.com (vx) with ESMTP id MAILINID91-3e1a44203588296; Tue, 21 Mar 2006 12:19:04 -0500
Date: Tue, 21 Mar 2006 12:19:03 -0500
Message-Id: <8C81B22AFAC954A-A3C-128B@MBLK-M41.sysops.aol.com>
From: msftblows@aol.com
References: <Pine.LNX.4.64.0603211507300.24596@hermes-2.csi.cam.ac.uk>
Received: from 38.117.191.163 by MBLK-M41.sysops.aol.com (64.12.136.85) with HTTP (WebMailUI); Tue, 21 Mar 2006 12:19:03 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <Pine.LNX.4.64.0603211507300.24596@hermes-2.csi.cam.ac.uk>
X-Mailer: AOL WebMail 15106
Subject: Re: Read past EOF error in Windows
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C81B22AFAA32F5_A3C_12B2_MBLK-M41.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 64.12.136.85
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C81B22AFAA32F5_A3C_12B2_MBLK-M41.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

I had a problem in the past with security on the folder where your index is located...but your error does not seem to show that ... I would check anyway though... 
 
-----Original Message-----
From: Chris Cain <cbc20@hermes.cam.ac.uk>
To: java-user@lucene.apache.org
Sent: Tue, 21 Mar 2006 15:33:26 +0000 (GMT)
Subject: Read past EOF error in Windows


Hi all, 
 
I wrote a lucene program which runs fine under Linux and Mac but fails on most Windows machines. (I have managed to get it to work on one version of XP however) 
 
Specifically when i open or search the index i get the following error message. 
 
Any help would be appreciated, 
Cheers, 
Chris 
 
caught a class java.io.IOException 
with message: read past EOF 
java.io.IOException: read past EOF 
  at org.apache.lucene.store.FSIndexInput.readInternal(FSDirectory.java:451) 
  at org.apache.lucene.store.BufferedIndexInput.readBytes(BufferedIndexInput.java:45) 
  at org.apache.lucene.index.CompoundFileReader$CSIndexInput.readInternal(CompoundFileReader.java:219) 
  at org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java:64) 
  at org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.java:33) 
  at org.apache.lucene.store.IndexInput.readInt(IndexInput.java:46) 
  at org.apache.lucene.index.SegmentTermEnum.<init>(SegmentTermEnum.java:47) 
  at org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:48) 
  at org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:147) 
  at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129) 
  at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:115) 
  at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:150) 
  at org.apache.lucene.store.Lock$With.run(Lock.java:109) 
  at org.apache.lucene.index.IndexReader.open(IndexReader.java:143) 
  at org.apache.lucene.index.IndexReader.open(IndexReader.java:127) 
  at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:42) 
 
 
--------------------------------------------------------------------- 
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 
 

----------MailBlocks_8C81B22AFAA32F5_A3C_12B2_MBLK-M41.sysops.aol.com--

From java-user-return-19724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 17:20:57 2006
Return-Path: <java-user-return-19724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44532 invoked from network); 21 Mar 2006 17:20:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 17:20:48 -0000
Received: (qmail 14546 invoked by uid 500); 21 Mar 2006 17:20:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14355 invoked by uid 500); 21 Mar 2006 17:20:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14344 invoked by uid 99); 21 Mar 2006 17:20:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 09:20:09 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.207.144] (HELO web32213.mail.mud.yahoo.com) (68.142.207.144)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 21 Mar 2006 09:20:08 -0800
Received: (qmail 86229 invoked by uid 60001); 21 Mar 2006 17:19:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yegBgIdn/0IFEEEqPSMQ1gf4imMLvoXGcVbw+nYtCP8VqUYXzsbSZlJLeBrDf6ei8flQrZWTZ7n07gkQboEbThQN/FoFKJWbHnpgSvEmtHwdSzY19O9EWG2xcsLlVxfDF/NWUZRWUEK2hxt1W/lOUUA7s/TaoVRGCjZUKr9BGWY=  ;
Message-ID: <20060321171947.86227.qmail@web32213.mail.mud.yahoo.com>
Received: from [12.21.236.10] by web32213.mail.mud.yahoo.com via HTTP; Tue, 21 Mar 2006 09:19:47 PST
Date: Tue, 21 Mar 2006 09:19:47 -0800 (PST)
From: Brian <okmred@yahoo.com>
Subject: Multi  Search vs reader?
To: java-user@lucene.apache.org, Otis Gospodnetic <otis_gospodnetic@yahoo.com>
In-Reply-To: <20060315232123.87791.qmail@web50314.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've been doing some reading and I'm a bit confused,
Could you help me clear this up.

I have roughly 12 indexes available at any 1 time for
a search. I had assumed since I had multiple indexes,
that meant I need to perform a MultiSearch. However
several people have mentioned MultiReader. What's the
difference, and what's the benefit of one over the
other??

Thanks, Brian

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 18:08:37 2006
Return-Path: <java-user-return-19725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73362 invoked from network); 21 Mar 2006 18:08:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 18:08:36 -0000
Received: (qmail 43327 invoked by uid 500); 21 Mar 2006 18:08:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43305 invoked by uid 500); 21 Mar 2006 18:08:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43293 invoked by uid 99); 21 Mar 2006 18:08:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 10:08:30 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.194 as permitted sender)
Received: from [66.249.92.194] (HELO uproxy.gmail.com) (66.249.92.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 10:08:29 -0800
Received: by uproxy.gmail.com with SMTP id s2so706739uge
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 10:08:08 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ZZEa9czqYmHjgrQ/E3pLqRs0iX2hEk9d9hSwf2KG1ZbZzd9h0CO4RQzR5S6Y8g/oOtBuJtacFIhghg3MvYA/bd7mPkt2RBtnwNZu2PnUWdIEhhi7PrxJ+TEnLDRissiNRGhxdUIQqGPE/5tMJ32EVTITdoEZU4K5pV0tgA+Thvk=
Received: by 10.66.186.5 with SMTP id j5mr5054142ugf;
        Tue, 21 Mar 2006 10:08:08 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Tue, 21 Mar 2006 10:08:08 -0800 (PST)
Message-ID: <c68e39170603211008ld84a77cv49db28cc85bd62ba@mail.gmail.com>
Date: Tue, 21 Mar 2006 13:08:08 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Multi Search vs reader?
Cc: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
In-Reply-To: <20060321171947.86227.qmail@web32213.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060315232123.87791.qmail@web50314.mail.yahoo.com>
	 <20060321171947.86227.qmail@web32213.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/21/06, Brian <okmred@yahoo.com> wrote:
> I had assumed since I had multiple indexes,
> that meant I need to perform a MultiSearch. However
> several people have mentioned MultiReader. What's the
> difference, and what's the benefit of one over the
> other??

A MultiSearcher can search over Searchables, which can be remote, etc.
A MultiReader is for local indicies.  When you open an IndexReader or
IndexSearcher on a single index with multiple segments, MultiReader is
actually used under the covers.  You can also instantiate a
MultiReader with multiple IndexReaders.

An IndexSearcher with a MultiReader (when you can use it) should be
faster and more efficient than a MultiSearcher across multiple
IndexSearchers.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 21 18:16:21 2006
Return-Path: <java-user-return-19726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76253 invoked from network); 21 Mar 2006 18:16:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Mar 2006 18:16:20 -0000
Received: (qmail 54828 invoked by uid 500); 21 Mar 2006 18:16:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54612 invoked by uid 500); 21 Mar 2006 18:16:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54601 invoked by uid 99); 21 Mar 2006 18:16:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 10:16:14 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 66.249.92.205 as permitted sender)
Received: from [66.249.92.205] (HELO uproxy.gmail.com) (66.249.92.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 10:16:13 -0800
Received: by uproxy.gmail.com with SMTP id u2so710049uge
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 10:15:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=k3wF/8telHeO37RFCi9CtXQ+ROfP/IWm8DmGC/2wmquIQVFLSKhnqEsesdsXdyVqbCzUDdDKZi/zlRmYJVucVkBMIwlZPp6KtE20L8hKcKpcnGuvNNJdKWtXZLuVE87gDeT/JKMFm+K/taj/VvZBLNwdGPQHa00e6e+va6ZkSYA=
Received: by 10.67.19.8 with SMTP id w8mr5057110ugi;
        Tue, 21 Mar 2006 10:15:42 -0800 (PST)
Received: by 10.66.216.19 with HTTP; Tue, 21 Mar 2006 10:15:42 -0800 (PST)
Message-ID: <c68e39170603211015m241ca33ev5a9ec55939baa7b6@mail.gmail.com>
Date: Tue, 21 Mar 2006 13:15:42 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re-creating IndexSearcher after update
In-Reply-To: <6.2.1.2.0.20060321151802.0d7048e8@mail.coombs.anu.edu.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <6.2.1.2.0.20060321151802.0d7048e8@mail.coombs.anu.edu.au>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/20/06, Stephen Gray <Stephen.Gray@anu.edu.au> wrote:
> I want to re-create the IndexSearcher whenever the index changes, but I'm
> assuming that if I do this bad things will happen to people who may be
> currently running a search, or paging through a Hits collection created b=
y
> a previous search (the javadocs on Searchable.close say that you should n=
ot
> call close while using objects like Hits). I could maintain an "open
> searches" variable and check it every second, but I'd still have the
> problem of existing Hits collections.
>
> Could someone tell me the best way to do this?

Solr uses reference counting on the IndexSearcher to solve this problem.
When a new searcher has finished warming up, it is "registered" to
serve any new requests .  The old searcher hangs around until everyone
is done using it, then it is closed.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 05:41:46 2006
Return-Path: <java-user-return-19727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83105 invoked from network); 22 Mar 2006 05:41:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 05:41:46 -0000
Received: (qmail 63666 invoked by uid 500); 22 Mar 2006 05:41:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63238 invoked by uid 500); 22 Mar 2006 05:41:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63227 invoked by uid 99); 22 Mar 2006 05:41:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 21:41:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 21:41:40 -0800
Received: by wproxy.gmail.com with SMTP id i7so301644wra
        for <java-user@lucene.apache.org>; Tue, 21 Mar 2006 21:41:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=cQpq6Ho14dVXl4T6deSGcicUv5utszXS+vM3juZZYcpro5mTuq0cJzpfyDXB/KJnD0geEhp88RXh3GsuNkWhELi+ga4CbAb/k8yJuExDDxIcDamBQNQd3low+lwd+A3ujimbf9SHQefP1sF8bUaliv++K6C08O4cc+BiuCqvJp8=
Received: by 10.35.113.12 with SMTP id q12mr597906pym;
        Tue, 21 Mar 2006 21:41:19 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Tue, 21 Mar 2006 21:41:19 -0800 (PST)
Message-ID: <f13b62210603212141n55fe9761i31bfeb51ba984b7a@mail.gmail.com>
Date: Wed, 22 Mar 2006 11:11:19 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: lucene highlighter
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6273_27802288.1143006079372"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6273_27802288.1143006079372
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi guys

If anyone can tell me how to get the best fragments using the highligher

The query has two terms  - term1 and term2

The search result display only term1 in the highlighter whereas term2 is
also there. How can i adjust the lucene highlighter to make sure that
atleast each term is displayed in the query result

Rgds
Prabhu

------=_Part_6273_27802288.1143006079372--

From java-user-return-19728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 07:15:23 2006
Return-Path: <java-user-return-19728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25415 invoked from network); 22 Mar 2006 07:15:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 07:15:22 -0000
Received: (qmail 42425 invoked by uid 500); 22 Mar 2006 07:15:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42356 invoked by uid 500); 22 Mar 2006 07:15:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42345 invoked by uid 99); 22 Mar 2006 07:15:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 23:15:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.188] (HELO moutng.kundenserver.de) (212.227.126.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Mar 2006 23:15:15 -0800
Received: from [85.220.140.42] (helo=sl-ox.innosystec.site)
	by mrelayeu.kundenserver.de (node=mrelayeu1) with ESMTP (Nemesis),
	id 0MKwpI-1FLxYU1CAN-0002im; Wed, 22 Mar 2006 08:14:54 +0100
Received: from awkunemann (aw-kunemann.innosystec.site [192.168.3.126])
	by sl-ox.innosystec.site (Postfix) with ESMTP id E2F041822104
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 08:14:55 +0100 (CET)
From: "Frank Kunemann" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
Subject: RE: IndexWriter.addIndexes
Date: Wed, 22 Mar 2006 08:14:54 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZM/xKnOBECq2lbS6q2YMI60FHh8QAgRYlw
In-Reply-To: <20060321154415.58907.qmail@web50307.mail.yahoo.com>
Message-Id: <20060322071455.E2F041822104@sl-ox.innosystec.site>
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:83fe6509a69fdd0b3dc2966fb66dcbe7
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok, thank you Otis! 

Frank

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Tuesday, March 21, 2006 4:44 PM
To: java-user@lucene.apache.org
Subject: Re: IndexWriter.addIndexes

Hi, 

Yes, no IOException means all went well, I believe.

Otis

----- Original Message ----
From: Frank Kunemann <frank.kunemann@innosystec.de>
To:  java-user@lucene.apache.org
Sent: Tuesday, March 21, 2006 7:29:16 AM
Subject: IndexWriter.addIndexes

Hi,

all I want to know about IndexWriter.addIndexes() is if there is a way to
tell if merging was successful or not. Or can I be sure that if no
IOException is thrown, everything is fine and I can delete the old indexes?


Regards
Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 08:56:32 2006
Return-Path: <java-user-return-19729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76717 invoked from network); 22 Mar 2006 08:56:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 08:56:32 -0000
Received: (qmail 41059 invoked by uid 500); 22 Mar 2006 08:56:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41033 invoked by uid 500); 22 Mar 2006 08:56:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41022 invoked by uid 99); 22 Mar 2006 08:56:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 00:56:25 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.220] (HELO web26009.mail.ukl.yahoo.com) (217.12.10.220)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 00:56:25 -0800
Received: (qmail 88294 invoked by uid 60001); 22 Mar 2006 08:56:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=OWu8jAUJLaohLeBNmJmdVDMK0BatfZhMxGmrpxmZYlF8Jh3mUtzW0z8fKxB++0pP2c3LLtWvJOYrrQ6zpztTOh1MhCtgsaqjm5pZFVUEwiosc4pW5GUSb+hr7Hhq2d3jAi0uoM5h6HrPeR63gL1GtywQcfGkEGj3ZGEbx28kgxI=  ;
Message-ID: <20060322085603.88292.qmail@web26009.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26009.mail.ukl.yahoo.com via HTTP; Wed, 22 Mar 2006 08:56:03 GMT
Date: Wed, 22 Mar 2006 08:56:03 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: lucene highlighter
To: java-user@lucene.apache.org
In-Reply-To: <f13b62210603212141n55fe9761i31bfeb51ba984b7a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>How can i adjust the lucene highlighter to make sure
>> that atleast each term is displayed in the query
result


First some, basic things to sanity check:

* A classic problem: are you using compatible
analyzers for tokenizing the query and the document
content (both index time and highlight time)? Term2
may not be being produced at all.

* Are you selecting only one fragment and using a
fragmenter implementation that means Term1 and Term2
don't happen to fall within the scope of this single
fragment?

If both of these checks turn out OK I suspect what is
happening is that term2 is weighted significantly less
than term1 (based on idf and query boosts) and the
highlighter may be continually selecting multiple
fragments with term1 in preference to selecting any
fragments which only contain the lower scoring term2.

If this is the case and you really want to ensure that
term2 gets shown then you can use a custom Scorer
implementation that influences the highlighter
according to your preferences. Such an implementation
could, for example, score fragments that are merely
repetitions of the same "hits" (ie your term1) with a
decreasing value. This would then allow the fragments
with term2 to be considered more strongly for
selection.


Hope this helps
Mark



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 09:07:48 2006
Return-Path: <java-user-return-19730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83212 invoked from network); 22 Mar 2006 09:07:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 09:07:38 -0000
Received: (qmail 62710 invoked by uid 500); 22 Mar 2006 09:07:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62680 invoked by uid 500); 22 Mar 2006 09:07:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62669 invoked by uid 99); 22 Mar 2006 09:07:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 01:07:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 01:07:30 -0800
Received: by zproxy.gmail.com with SMTP id z31so101232nzd
        for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 01:07:10 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=bbgifq3Ysaikd5GjsMpJ/eXl4VTYM8YrcNEK/PH9fVAXvFNNVMpoiSh1DDQSoFRVbCM2MN9HhLURtInVdNyZNbjOdU65f8GVWZMvAe6ZTGHkJwp/DSYhQ66Y7N2za0e3r/lPXhlvzersSxgECMG89zeHW122ijlGTPtyyDp83xU=
Received: by 10.35.78.13 with SMTP id f13mr861799pyl;
        Wed, 22 Mar 2006 01:06:38 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Wed, 22 Mar 2006 01:06:38 -0800 (PST)
Message-ID: <f13b62210603220106m5effea32rfccfd6a7bcb9bfdd@mail.gmail.com>
Date: Wed, 22 Mar 2006 14:36:38 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene highlighter
In-Reply-To: <20060322085603.88292.qmail@web26009.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8661_30006307.1143018398259"
References: <f13b62210603212141n55fe9761i31bfeb51ba984b7a@mail.gmail.com>
	 <20060322085603.88292.qmail@web26009.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8661_30006307.1143018398259
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Mark

 Currently both of the terms have the same score (weightage)

As you mentioned,  i would want it to be decreased so during the next run
for selecting second fragment, term1 has less weightage and term2 which has
not been selected has more weightage

Thanks
Rgds
Prabhu

On 3/22/06, mark harwood <markharw00d@yahoo.co.uk> wrote:
>
> >>How can i adjust the lucene highlighter to make sure
> >> that atleast each term is displayed in the query
> result
>
>
> First some, basic things to sanity check:
>
> * A classic problem: are you using compatible
> analyzers for tokenizing the query and the document
> content (both index time and highlight time)? Term2
> may not be being produced at all.
>
> * Are you selecting only one fragment and using a
> fragmenter implementation that means Term1 and Term2
> don't happen to fall within the scope of this single
> fragment?
>
> If both of these checks turn out OK I suspect what is
> happening is that term2 is weighted significantly less
> than term1 (based on idf and query boosts) and the
> highlighter may be continually selecting multiple
> fragments with term1 in preference to selecting any
> fragments which only contain the lower scoring term2.
>
> If this is the case and you really want to ensure that
> term2 gets shown then you can use a custom Scorer
> implementation that influences the highlighter
> according to your preferences. Such an implementation
> could, for example, score fragments that are merely
> repetitions of the same "hits" (ie your term1) with a
> decreasing value. This would then allow the fragments
> with term2 to be considered more strongly for
> selection.
>
>
> Hope this helps
> Mark
>
>
>
>
> ___________________________________________________________
> To help you stay safe and secure online, we've developed the all new
> Yahoo! Security Centre. http://uk.security.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8661_30006307.1143018398259--

From java-user-return-19731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 09:18:20 2006
Return-Path: <java-user-return-19731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89628 invoked from network); 22 Mar 2006 09:18:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 09:18:19 -0000
Received: (qmail 81043 invoked by uid 500); 22 Mar 2006 09:18:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81016 invoked by uid 500); 22 Mar 2006 09:18:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81005 invoked by uid 99); 22 Mar 2006 09:18:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 01:18:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 01:18:12 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 01FAB1BB6A
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 10:17:42 +0100 (CET)
Message-ID: <44211635.70805@fib.upc.edu>
Date: Wed, 22 Mar 2006 10:17:41 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Term Vector Question
References: <441E8835.2090206@fib.upc.edu> <442000D5.6020407@syr.edu>
In-Reply-To: <442000D5.6020407@syr.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at 
X-Spam-Score: -4.25
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.25 tagged_above=-999 required=3.5
 tests=[ALL_TRUSTED=-1.8, AWL=0.149, BAYES_00=-2.599]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok, thks. I read another time my question and it's normally I didn't 
obtain any reply :D .Excuseme

My index contain fields like CONTAIN,GROUPID,USERID,TOOL.
My question is how can I do to obtain a list of terms contained in a 
group of results. For example, I want all the terms in field CONTAIN of 
an specific tool of a GROUP, something that in a QUERY will be something 
like:
        BooleanQuery combinated;
        combinated.add(new TermQuery(new 
Term("GROUPID",g.getId()),true,false);
        combinated.add(new TermQuery(new Term("TOOL",t.getId()),true,false);

and now for every hit, obtain its termFreqVector and group all terms 
text in something like a TreeSet.

Obviously It isn't very useful,  it is for this reason that I think 
lucene give me something more easy that i don't know.

thks for any reaply.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 09:29:41 2006
Return-Path: <java-user-return-19732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94897 invoked from network); 22 Mar 2006 09:29:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 09:29:40 -0000
Received: (qmail 96463 invoked by uid 500); 22 Mar 2006 09:29:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96431 invoked by uid 500); 22 Mar 2006 09:29:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96420 invoked by uid 99); 22 Mar 2006 09:29:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 01:29:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.187] (HELO moutng.kundenserver.de) (212.227.126.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 01:29:35 -0800
Received: from [85.220.140.42] (helo=sl-ox.innosystec.site)
	by mrelayeu.kundenserver.de (node=mrelayeu2) with ESMTP (Nemesis),
	id 0MKwtQ-1FLzeT1mB3-0000G1; Wed, 22 Mar 2006 10:29:13 +0100
Received: from awkunemann (aw-kunemann.innosystec.site [192.168.3.126])
	by sl-ox.innosystec.site (Postfix) with ESMTP id 3B5861822104
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 10:29:13 +0100 (CET)
From: "Frank Kunemann" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
Subject: Which field  has a hit?
Date: Wed, 22 Mar 2006 10:29:11 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZNkDI78PJFhiNWQoeCAHZNWzRoSQAAEbFA
In-Reply-To: <f13b62210603220106m5effea32rfccfd6a7bcb9bfdd@mail.gmail.com>
Message-Id: <20060322092913.3B5861822104@sl-ox.innosystec.site>
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:83fe6509a69fdd0b3dc2966fb66dcbe7
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi again,

is there a way to receive the fields of a document that have a hit?
My problem is that in my case a lucene document consists of many different
files that belong together. Each of the files has an own content field, but
I don't store the content to keep the index as small as possible.
Therefore when using highlighting I have to go through each file till a
given number of fragments are highlighted or no more content fields (and
therefore files) are available. This would be much faster if I knew in which
field the hits were and how many.


Cheers,

Frank


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 11:25:03 2006
Return-Path: <java-user-return-19733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60939 invoked from network); 22 Mar 2006 11:25:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 11:25:02 -0000
Received: (qmail 99663 invoked by uid 500); 22 Mar 2006 11:24:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99639 invoked by uid 500); 22 Mar 2006 11:24:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99624 invoked by uid 99); 22 Mar 2006 11:24:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 03:24:56 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 03:24:54 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T772e528dea88ad3ee41390@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Wed, 22 Mar 2006 12:24:30 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64DA3.2F9FAE66"
Subject: Lucene 1.9.1 Query
Date: Wed, 22 Mar 2006 12:24:30 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07DCA@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 1.9.1 Query
Thread-Index: AcZNoy//2XAy4hhgQwqlC5jFirhbiw==
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64DA3.2F9FAE66
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

How to replace this Expression Query query =3D
QueryParser.parse(this.searchvalue, "text", new StandardAnalyzer()); in
Lucene 1.9.1 because the method parse is deprecated?


------_=_NextPart_001_01C64DA3.2F9FAE66--

From java-user-return-19734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 11:55:55 2006
Return-Path: <java-user-return-19734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79145 invoked from network); 22 Mar 2006 11:55:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 11:55:49 -0000
Received: (qmail 53938 invoked by uid 500); 22 Mar 2006 11:55:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53912 invoked by uid 500); 22 Mar 2006 11:55:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53901 invoked by uid 99); 22 Mar 2006 11:55:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 03:55:42 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [82.110.37.195] (HELO uksmtp02.informa.com) (82.110.37.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 03:55:42 -0800
Received: from ukexfe02.UK.CorpLAN.net (ukexfe02.uk.corplan.net [192.168.45.52])
	by uksmtp02.informa.com (8.13.4/8.13.4) with ESMTP id k2MBrr7i015106
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 11:53:53 GMT
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.121]) by ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 22 Mar 2006 11:55:19 +0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Lucene 1.9.1 Query
Date: Wed, 22 Mar 2006 11:55:18 -0000
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F399@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 1.9.1 Query
Thread-Index: AcZNoy//2XAy4hhgQwqlC5jFirhbiwABBaLQ
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 22 Mar 2006 11:55:19.0504 (UTC) FILETIME=[7DF9D500:01C64DA7]
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 mlx=0 adultscore=0 adjust=0 reason=mlx engine=3.1.0-06031500 definitions=3.0.0-06032200
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You need to create a QueryParser instance and use that instead:

QueryParser qp =3D new QueryParser("text", new StandardAnalyzer());
Query query =3D qp.parse(this.searchvalue);

Cheers,

Tim.

-----Original Message-----
From: WATHELET Thomas [mailto:TWathelet@europarl.eu.int]=20
Sent: 22 March 2006 11:25
To: java-user@lucene.apache.org
Subject: Lucene 1.9.1 Query


How to replace this Expression Query query =3D
QueryParser.parse(this.searchvalue, "text", new StandardAnalyzer()); in
Lucene 1.9.1 because the method parse is deprecated?

---------------------------------------------------------------------------=
-----------------------------------------------------------------
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 11:56:33 2006
Return-Path: <java-user-return-19735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79769 invoked from network); 22 Mar 2006 11:56:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 11:56:31 -0000
Received: (qmail 56295 invoked by uid 500); 22 Mar 2006 11:56:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56271 invoked by uid 500); 22 Mar 2006 11:56:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56260 invoked by uid 99); 22 Mar 2006 11:56:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 03:56:25 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.5 as permitted sender)
Received: from [219.125.112.5] (HELO nm05omta055.dion.ne.jp) (219.125.112.5)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 03:56:24 -0800
Received: from sekiguchi ([59.135.111.89])
	by nm05mta.dion.ne.jp
	id <20060322205603337.MA58.80DE170@nm05mta.dion.ne.jp>;
	Wed, 22 Mar 2006 20:56:03 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Lucene 1.9.1 Query
Date: Wed, 22 Mar 2006 20:56:01 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCAEMKCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A42A07DCA@EPLUXSEX01.ep.parl.union.eu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Please use an instance method version:

QueryParser pq = new QueryParser( "text", new StandardAnalyzer() );
Query query = qp.parse( searchvalue );

regards,

Koji

> -----Original Message-----
> From: WATHELET Thomas [mailto:TWathelet@europarl.eu.int]
> Sent: Wednesday, March 22, 2006 8:25 PM
> To: java-user@lucene.apache.org
> Subject: Lucene 1.9.1 Query
> 
> 
> How to replace this Expression Query query =
> QueryParser.parse(this.searchvalue, "text", new StandardAnalyzer()); in
> Lucene 1.9.1 because the method parse is deprecated?
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 13:14:59 2006
Return-Path: <java-user-return-19736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24062 invoked from network); 22 Mar 2006 13:14:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 13:14:59 -0000
Received: (qmail 95165 invoked by uid 500); 22 Mar 2006 13:14:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95138 invoked by uid 500); 22 Mar 2006 13:14:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95126 invoked by uid 99); 22 Mar 2006 13:14:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 05:14:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 05:14:51 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2MDEOR8027900
 for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 18:44:26 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: Errors when searching index and writing to index simultaenously
Date: Wed, 22 Mar 2006 18:44:23 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D18C@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Errors when searching index and writing to index simultaenously
Thread-Index: AcZNsonfiW406OyYQB28AeyZitMydg==
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

If I run IndexSearcher.search() at the same time an IndexWriter is
adding a document to the index, I get the following kind of exception
frequently:
java.io.FileNotFoundException: <indexDir>/_3j.fnm (No such file or
directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java
:376)
        at
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
        at
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
        at
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
        at
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at
org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
        at
deshaw.reccms.indexer.LuceneSearcher.searchLucene(LuceneSearcher.java:10
6)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:162)

At other times, the search() method returns the Hits object, but
Hits.doc(i) throws Exception. Whenever this happens, it seems that the
index is corrupted and is unusable forever.
Exception in thread "main" java.io.IOException: Bad file number
        at java.io.RandomAccessFile.seek(Native Method)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Co
mpoundFileReader.java:220)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readInt(InputStream.java:73)
        at
org.apache.lucene.store.InputStream.readLong(InputStream.java:96)
        at
org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)
        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
        at
org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
        at org.apache.lucene.search.Hits.doc(Hits.java:101)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:168)

In both the above cases, I have ascertained that the IndexWriter was
executing iw.addDocument() when the exception was thrown by the process
trying to search the index.

'Lucene in Action' mentions fairly explicitly that searching can be
carried on simultaneously with indexing. So I am not quite sure why this
should happen.=20

Thanks,
Venu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 13:27:02 2006
Return-Path: <java-user-return-19737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30118 invoked from network); 22 Mar 2006 13:27:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 13:27:02 -0000
Received: (qmail 28088 invoked by uid 500); 22 Mar 2006 13:26:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28064 invoked by uid 500); 22 Mar 2006 13:26:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28052 invoked by uid 99); 22 Mar 2006 13:26:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 05:26:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.131] (HELO exchange-mbx.bvdep.com) (193.194.158.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 05:26:55 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Errors when searching index and writing to index simultaenously
Date: Wed, 22 Mar 2006 14:26:33 +0100
Message-ID: <3287125F0F0CCE4E8F55435208100CF5F0BDB9@exchange-mbx.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Errors when searching index and writing to index simultaenously
Thread-Index: AcZNsonfiW406OyYQB28AeyZitMydgAAV1OA
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Make sure both the indexing process and the searcher process use the
same directory to store the Lock files (default your home directory I
believe).

Luc

-----Original Message-----
From: Satuluri, Venu_Madhav [mailto:Venu.Madhav.Satuluri@deshaw.com]=20
Sent: woensdag 22 maart 2006 14:14
To: java-user@lucene.apache.org
Subject: Errors when searching index and writing to index simultaenously

Hi,

If I run IndexSearcher.search() at the same time an IndexWriter is
adding a document to the index, I get the following kind of exception
frequently:
java.io.FileNotFoundException: <indexDir>/_3j.fnm (No such file or
directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java
:376)
        at
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
        at
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
        at
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
        at
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at
org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
        at
deshaw.reccms.indexer.LuceneSearcher.searchLucene(LuceneSearcher.java:10
6)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:162)

At other times, the search() method returns the Hits object, but
Hits.doc(i) throws Exception. Whenever this happens, it seems that the
index is corrupted and is unusable forever.
Exception in thread "main" java.io.IOException: Bad file number
        at java.io.RandomAccessFile.seek(Native Method)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Co
mpoundFileReader.java:220)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readInt(InputStream.java:73)
        at
org.apache.lucene.store.InputStream.readLong(InputStream.java:96)
        at
org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)
        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
        at
org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
        at org.apache.lucene.search.Hits.doc(Hits.java:101)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:168)

In both the above cases, I have ascertained that the IndexWriter was
executing iw.addDocument() when the exception was thrown by the process
trying to search the index.

'Lucene in Action' mentions fairly explicitly that searching can be
carried on simultaneously with indexing. So I am not quite sure why this
should happen.=20

Thanks,
Venu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 13:37:09 2006
Return-Path: <java-user-return-19738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36513 invoked from network); 22 Mar 2006 13:37:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 13:37:09 -0000
Received: (qmail 50467 invoked by uid 500); 22 Mar 2006 13:37:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50444 invoked by uid 500); 22 Mar 2006 13:37:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50433 invoked by uid 99); 22 Mar 2006 13:37:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 05:37:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO zproxy.gmail.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 05:37:02 -0800
Received: by zproxy.gmail.com with SMTP id i28so169263nzi
        for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 05:36:41 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Tl74gs7MBKXVrwXCgVRbKC+jsN0YUkiYjQiL5VqBbvW/wBHO9eLgXs5w3tlxcalivaGHjHzJsfsqQjjXyV7/z6DvJvZzMgkYZkcPbn2PwNE8YSS2BqDEi0tezm82beUdIIFuqQVzf1GljqvZ9LJIsHj6y7Y425iCiGwyIAdsd6E=
Received: by 10.35.77.18 with SMTP id e18mr67764pyl;
        Wed, 22 Mar 2006 05:36:18 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Wed, 22 Mar 2006 05:36:17 -0800 (PST)
Message-ID: <f13b62210603220536w4f81033ax3cb3f085759a31d6@mail.gmail.com>
Date: Wed, 22 Mar 2006 19:06:17 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Adaptive fetch schedule
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1001_4087379.1143034577939"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1001_4087379.1143034577939
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

Does the inlink value problem solve the OPIC problem which was there.

That is on a recrawl, the page would have a higher score.

Does this fix that problem?

Rgds
Prabhu

------=_Part_1001_4087379.1143034577939--

From java-user-return-19739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 14:03:18 2006
Return-Path: <java-user-return-19739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50554 invoked from network); 22 Mar 2006 14:03:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 14:03:04 -0000
Received: (qmail 98117 invoked by uid 500); 22 Mar 2006 14:02:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97641 invoked by uid 500); 22 Mar 2006 14:02:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97630 invoked by uid 99); 22 Mar 2006 14:02:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:02:50 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:02:48 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T772ee31d9b88ad3ee41390@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Wed, 22 Mar 2006 15:02:24 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene 1.9.1 Query
Date: Wed, 22 Mar 2006 15:02:24 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07DCB@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 1.9.1 Query
Thread-Index: AcZNoy//2XAy4hhgQwqlC5jFirhbiwABBaLQAAR8LRA=
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks

-----Original Message-----
From: Tim.Wright@informa.com [mailto:Tim.Wright@informa.com]=20
Sent: mercredi 22 mars 2006 12:55
To: java-user@lucene.apache.org
Subject: RE: Lucene 1.9.1 Query

You need to create a QueryParser instance and use that instead:

QueryParser qp =3D new QueryParser("text", new StandardAnalyzer());
Query query =3D qp.parse(this.searchvalue);

Cheers,

Tim.

-----Original Message-----
From: WATHELET Thomas [mailto:TWathelet@europarl.eu.int]=20
Sent: 22 March 2006 11:25
To: java-user@lucene.apache.org
Subject: Lucene 1.9.1 Query


How to replace this Expression Query query =3D
QueryParser.parse(this.searchvalue, "text", new StandardAnalyzer()); in
Lucene 1.9.1 because the method parse is deprecated?

------------------------------------------------------------------------
--------------------------------------------------------------------
The information contained in this email message may be confidential. If
you are not the intended recipient, any use, interference with,
disclosure or copying of this material is unauthorised and prohibited.
Although this message and any attachments are believed to be free of
viruses, no responsibility is accepted by Informa for any loss or damage
arising in any way from receipt or use thereof.  Messages to and from
the company are monitored for operational reasons and in accordance with
lawful business practices.=20
If you have received this message in error, please notify us by return
and delete the message and any attachments.  Further enquiries/returns
can be sent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 14:04:29 2006
Return-Path: <java-user-return-19740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50937 invoked from network); 22 Mar 2006 14:03:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 14:03:57 -0000
Received: (qmail 1374 invoked by uid 500); 22 Mar 2006 14:03:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1304 invoked by uid 500); 22 Mar 2006 14:03:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1281 invoked by uid 99); 22 Mar 2006 14:03:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:03:13 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:03:13 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T772ee3407588ad3ee41390@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Wed, 22 Mar 2006 15:02:33 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene 1.9.1 Query
Date: Wed, 22 Mar 2006 15:02:33 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07DCC@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 1.9.1 Query
Thread-Index: AcZNp6bPYvauvtEASUiUpRVGTPiE7wAEZoQQ
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks

-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp]=20
Sent: mercredi 22 mars 2006 12:56
To: java-user@lucene.apache.org
Subject: RE: Lucene 1.9.1 Query

Please use an instance method version:

QueryParser pq =3D new QueryParser( "text", new StandardAnalyzer() );
Query query =3D qp.parse( searchvalue );

regards,

Koji

> -----Original Message-----
> From: WATHELET Thomas [mailto:TWathelet@europarl.eu.int]
> Sent: Wednesday, March 22, 2006 8:25 PM
> To: java-user@lucene.apache.org
> Subject: Lucene 1.9.1 Query
>=20
>=20
> How to replace this Expression Query query =3D
> QueryParser.parse(this.searchvalue, "text", new StandardAnalyzer());
in
> Lucene 1.9.1 because the method parse is deprecated?
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 14:06:28 2006
Return-Path: <java-user-return-19741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52389 invoked from network); 22 Mar 2006 14:06:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 14:06:27 -0000
Received: (qmail 11626 invoked by uid 500); 22 Mar 2006 14:06:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11595 invoked by uid 500); 22 Mar 2006 14:06:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11584 invoked by uid 99); 22 Mar 2006 14:06:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:06:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:06:14 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2ME5oR8013383
 for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 19:35:51 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Errors when searching index and writing to index simultaenously
Date: Wed, 22 Mar 2006 19:35:50 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D18D@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Errors when searching index and writing to index simultaenously
Thread-Index: AcZNsonfiW406OyYQB28AeyZitMydgAAV1OAAAE4BdA=
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


> Make sure both the indexing process and the searcher process use the
> same directory to store the Lock files (default your home directory I
> believe).

I am not sure if earlier they were using the same directory. Now I've=20
made sure they same directory; still I get the second type of exception
I mentioned in my earlier mail. That is, IndexSearcher is returning a
Hits
object, but Hits.doc() is throwing an exception ("Bad file number").
And, as I said, the index is getting corrupted whenever this happens.

Any ideas?

-Venu

-----Original Message-----
From: Satuluri, Venu_Madhav [mailto:Venu.Madhav.Satuluri@deshaw.com]=20
Sent: woensdag 22 maart 2006 14:14
To: java-user@lucene.apache.org
Subject: Errors when searching index and writing to index simultaenously

Hi,

If I run IndexSearcher.search() at the same time an IndexWriter is
adding a document to the index, I get the following kind of exception
frequently:
java.io.FileNotFoundException: <indexDir>/_3j.fnm (No such file or
directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java
:376)
        at
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
        at
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
        at
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
        at
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at
org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
        at
deshaw.reccms.indexer.LuceneSearcher.searchLucene(LuceneSearcher.java:10
6)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:162)

At other times, the search() method returns the Hits object, but
Hits.doc(i) throws Exception. Whenever this happens, it seems that the
index is corrupted and is unusable forever.
Exception in thread "main" java.io.IOException: Bad file number
        at java.io.RandomAccessFile.seek(Native Method)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Co
mpoundFileReader.java:220)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readInt(InputStream.java:73)
        at
org.apache.lucene.store.InputStream.readLong(InputStream.java:96)
        at
org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)
        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
        at
org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
        at org.apache.lucene.search.Hits.doc(Hits.java:101)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:168)

In both the above cases, I have ascertained that the IndexWriter was
executing iw.addDocument() when the exception was thrown by the process
trying to search the index.

'Lucene in Action' mentions fairly explicitly that searching can be
carried on simultaneously with indexing. So I am not quite sure why this
should happen.=20

Thanks,
Venu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 14:19:49 2006
Return-Path: <java-user-return-19742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58524 invoked from network); 22 Mar 2006 14:17:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 14:17:47 -0000
Received: (qmail 40636 invoked by uid 500); 22 Mar 2006 14:17:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40594 invoked by uid 500); 22 Mar 2006 14:17:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40579 invoked by uid 99); 22 Mar 2006 14:17:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:17:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:17:08 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2MEGkR8016634
 for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 19:46:46 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Errors when searching index and writing to index simultaenously
Date: Wed, 22 Mar 2006 19:46:46 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083103D702@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Errors when searching index and writing to index simultaenously
Thread-Index: AcZNsonfiW406OyYQB28AeyZitMydgAAV1OAAAE4BdAAAH7scA==
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've figured out the problem:
1) I must make sure both the searching process and indexing process use
the same lock directory (Thanks, Luc!)
2) I must not execute Hits.doc() after closing IndexSearcher. i.e. I
must close IndexSearcher *after* I am done with retrieving documents
from Hits.

Thanks,
Venu

-----Original Message-----
From: Satuluri, Venu_Madhav=20
Sent: Wednesday, March 22, 2006 7:36 PM
To: java-user@lucene.apache.org
Subject: RE: Errors when searching index and writing to index
simultaenously



> Make sure both the indexing process and the searcher process use the
> same directory to store the Lock files (default your home directory I
> believe).

I am not sure if earlier they were using the same directory. Now I've=20
made sure they same directory; still I get the second type of exception
I mentioned in my earlier mail. That is, IndexSearcher is returning a
Hits
object, but Hits.doc() is throwing an exception ("Bad file number").
And, as I said, the index is getting corrupted whenever this happens.

Any ideas?

-Venu

-----Original Message-----
From: Satuluri, Venu_Madhav [mailto:Venu.Madhav.Satuluri@deshaw.com]=20
Sent: woensdag 22 maart 2006 14:14
To: java-user@lucene.apache.org
Subject: Errors when searching index and writing to index simultaenously

Hi,

If I run IndexSearcher.search() at the same time an IndexWriter is
adding a document to the index, I get the following kind of exception
frequently:
java.io.FileNotFoundException: <indexDir>/_3j.fnm (No such file or
directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java
:376)
        at
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
        at
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
        at
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
        at
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at
org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
        at
deshaw.reccms.indexer.LuceneSearcher.searchLucene(LuceneSearcher.java:10
6)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:162)

At other times, the search() method returns the Hits object, but
Hits.doc(i) throws Exception. Whenever this happens, it seems that the
index is corrupted and is unusable forever.
Exception in thread "main" java.io.IOException: Bad file number
        at java.io.RandomAccessFile.seek(Native Method)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Co
mpoundFileReader.java:220)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readInt(InputStream.java:73)
        at
org.apache.lucene.store.InputStream.readLong(InputStream.java:96)
        at
org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)
        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
        at
org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
        at org.apache.lucene.search.Hits.doc(Hits.java:101)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:168)

In both the above cases, I have ascertained that the IndexWriter was
executing iw.addDocument() when the exception was thrown by the process
trying to search the index.

'Lucene in Action' mentions fairly explicitly that searching can be
carried on simultaneously with indexing. So I am not quite sure why this
should happen.=20

Thanks,
Venu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 14:21:50 2006
Return-Path: <java-user-return-19743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59345 invoked from network); 22 Mar 2006 14:19:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 14:19:17 -0000
Received: (qmail 46311 invoked by uid 500); 22 Mar 2006 14:19:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46279 invoked by uid 500); 22 Mar 2006 14:19:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46259 invoked by uid 99); 22 Mar 2006 14:19:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:19:07 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 06:19:06 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T772ef204da88ad3ee41390@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Wed, 22 Mar 2006 15:18:41 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64DBB.84B70823"
Subject: Query question
Date: Wed, 22 Mar 2006 15:18:40 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A42A07DCD@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query question
Thread-Index: AcZNu4QQ4RlVXySAR7ukjGkTUiT1Tg==
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64DBB.84B70823
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I use Lucene 1.9.1

How to parse an unc path like \\tom\share\5\tom.doc
<file:///\\tom\share\5\tom.doc>  in a query to search in the index key
field?

String key=3D"\\tom\share\5\tom.doc <file:///\\tom\share\5\tom.doc> ";

Ex: Hits hits =3D multisearch.search(new TermQuery(new Term("key",
QueryParser.escape(key))));

I ask this question because this key exist into the index but I can't
find it


------_=_NextPart_001_01C64DBB.84B70823--

From java-user-return-19744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 15:15:10 2006
Return-Path: <java-user-return-19744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 492 invoked from network); 22 Mar 2006 15:15:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 15:15:10 -0000
Received: (qmail 80004 invoked by uid 500); 22 Mar 2006 15:15:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79986 invoked by uid 500); 22 Mar 2006 15:15:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 63816 invoked by uid 99); 22 Mar 2006 15:08:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
X-ME-UUID: 20060322150830310.4BD091C0016F@mwinf0412.wanadoo.fr
Message-ID: <4421686C.5040604@jalios.com>
Date: Wed, 22 Mar 2006 16:08:28 +0100
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: Lucene Java User ML <java-user@lucene.apache.org>
Subject: FileNotFoundException: Corrupted Index?
Content-Type: multipart/alternative;
 boundary="------------080206020602010901060004"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------080206020602010901060004
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi all,

We are using the last version of lucene (1.9.1), and sometimes we end up 
with such error when opening one of the index our application uses:

java.io.FileNotFoundException: [...]/LuceneIndex/_ 46.fnm (No such file 
or directory)
       at java.io.RandomAccessFile.open(Native Method)
       at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
       at 
org.apache.lucene.store.FSIndexInput$Descriptor.<init>(FSDirectory.java:425) 

       at org.apache.lucene.store.FSIndexInput.<init>(FSDirectory.java:434)
       at 
org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:324)
       at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:56)
       at 
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:144)
       at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
       at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:110)
       at 
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:154)
       at org.apache.lucene.store.Lock$With.run(Lock.java:109)
       at org.apache.lucene.index.IndexReader.open(IndexReader.java:143)
       at org.apache.lucene.index.IndexReader.open(IndexReader.java:138)

The only solution available in this case being to completely remove and 
recreate the index.
I have the "corrupted" index available for testing should you need it.

Apparently this corruption occurs if the JVM has crashed or was shutdown 
too violently (kill -9)
I was wondering how a corruption of a lucene index could occur and how 
to prevent it, fix it on reopening or in a last resort, detect it to be 
able to recreate the index.

Note that I already have that kind of hook in the code for shutdown:

    // clean writer reader and searcher correctly
    Thread shutdown = new Thread() {
      public void run() {
        if (reader != null) {
          try { reader.close(); }
          catch (IOException ex){ /*empty*/ }
          reader = null;
        }
        if (searcher != null) {
          try { searcher.close(); }
          catch (IOException ex){ /*empty*/ }
          searcher = null;
        }
      }
    };
    Runtime.getRuntime().addShutdownHook(shutdown);
   
Or, on opening, code such as:

      Directory indexDir = FSDirectory.getDirectory(luceneDir, 
!IndexReader.indexExists(luceneDir));
      IndexReader.unlock(indexDir); // unlock directory in case of 
unproper shutdown
      if (!IndexReader.indexExists(luceneDir)) {
        writer = new IndexWriter(indexDir, analyzer, true);
        writer.close();
      }

Any suggestion or remark?

Thanks!
-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>


--------------080206020602010901060004--



From java-user-return-19745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 16:35:09 2006
Return-Path: <java-user-return-19745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49575 invoked from network); 22 Mar 2006 16:34:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 16:34:53 -0000
Received: (qmail 60824 invoked by uid 500); 22 Mar 2006 16:34:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60794 invoked by uid 500); 22 Mar 2006 16:34:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60783 invoked by uid 99); 22 Mar 2006 16:34:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:34:44 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:34:42 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FM6Ht-0002zQ-Jg
	for java-user@lucene.apache.org; Wed, 22 Mar 2006 08:34:21 -0800
Message-ID: <3535340.post@talk.nabble.com>
Date: Wed, 22 Mar 2006 08:11:23 -0800 (PST)
From: escobar5 <escobar5@spymac.com>
To: java-user@lucene.apache.org
Subject: java.lang.OutOfMemoryError in lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: escobar5@spymac.com
X-Nabble-From: escobar5 <escobar5@spymac.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hello, 

i'm having a problem when searching in lucene, i get a
java.lang.OutOfMemoryError: JVMXE004:OutOfMemoryError, stAllocArray for
executeJava failed. 
My index is about 17MB, when i run the search in my PC, it works ok, but
when i deploy it in the AIX server i get the error. 

Can you tell me what it can be? 

Thanks in advance.
--
View this message in context: http://www.nabble.com/java.lang.OutOfMemoryError-in-lucene-t1324911.html#a3535340
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 16:47:06 2006
Return-Path: <java-user-return-19746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55398 invoked from network); 22 Mar 2006 16:47:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 16:47:03 -0000
Received: (qmail 90336 invoked by uid 500); 22 Mar 2006 16:46:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90314 invoked by uid 500); 22 Mar 2006 16:46:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90296 invoked by uid 99); 22 Mar 2006 16:46:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:46:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.54] (HELO smtp13.wanadoo.fr) (193.252.22.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:46:55 -0800
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1303.wanadoo.fr (SMTP Server) with ESMTP id 518CC7000043
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 17:46:33 +0100 (CET)
Received: from [127.0.0.1] (LAubervilliers-151-13-87-72.w217-128.abo.wanadoo.fr [217.128.134.72])
	by mwinf1303.wanadoo.fr (SMTP Server) with ESMTP id 2C27A7000044
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 17:46:33 +0100 (CET)
X-ME-UUID: 20060322164633181.2C27A7000044@mwinf1303.wanadoo.fr
Message-ID: <44217F65.4050007@jalios.com>
Date: Wed, 22 Mar 2006 17:46:29 +0100
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: java.lang.OutOfMemoryError in lucene
References: <3535340.post@talk.nabble.com>
In-Reply-To: <3535340.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You should probably increase the memory allocated to the jvm using java 
option such as
-Xms128m -Xmx256m
(define 128mb of memory at startup which can increase to a maximum of 256)

escobar5 wrote:
> Hello, 
>
> i'm having a problem when searching in lucene, i get a
> java.lang.OutOfMemoryError: JVMXE004:OutOfMemoryError, stAllocArray for
> executeJava failed. 
> My index is about 17MB, when i run the search in my PC, it works ok, but
> when i deploy it in the AIX server i get the error. 
>
> Can you tell me what it can be? 
>
> Thanks in advance.
> --
> View this message in context: http://www.nabble.com/java.lang.OutOfMemoryError-in-lucene-t1324911.html#a3535340
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>   


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingnieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 16:53:20 2006
Return-Path: <java-user-return-19747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58475 invoked from network); 22 Mar 2006 16:52:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 16:52:58 -0000
Received: (qmail 1226 invoked by uid 500); 22 Mar 2006 16:52:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1206 invoked by uid 500); 22 Mar 2006 16:52:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1195 invoked by uid 99); 22 Mar 2006 16:52:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:52:18 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:52:18 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FM6Yv-00046m-Dn
	for java-user@lucene.apache.org; Wed, 22 Mar 2006 08:51:57 -0800
Message-ID: <3536145.post@talk.nabble.com>
Date: Wed, 22 Mar 2006 08:51:57 -0800 (PST)
From: escobar5 <escobar5@spymac.com>
To: java-user@lucene.apache.org
Subject: Re: java.lang.OutOfMemoryError in lucene
In-Reply-To: <44217F65.4050007@jalios.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: escobar5@spymac.com
X-Nabble-From: escobar5 <escobar5@spymac.com>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I forgot to tell, i've already checked that and they are:

 -Xms = 306m
 -Xmx = 320m 
--
View this message in context: http://www.nabble.com/java.lang.OutOfMemoryError-in-lucene-t1324911.html#a3536145
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 16:55:46 2006
Return-Path: <java-user-return-19748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60156 invoked from network); 22 Mar 2006 16:55:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 16:55:46 -0000
Received: (qmail 8198 invoked by uid 500); 22 Mar 2006 16:55:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7929 invoked by uid 500); 22 Mar 2006 16:55:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7914 invoked by uid 99); 22 Mar 2006 16:55:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:55:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.21] (HELO smtp10.wanadoo.fr) (193.252.22.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 08:55:39 -0800
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1002.wanadoo.fr (SMTP Server) with ESMTP id E662C2400099
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 17:55:15 +0100 (CET)
Received: from [127.0.0.1] (LAubervilliers-151-13-87-72.w217-128.abo.wanadoo.fr [217.128.134.72])
	by mwinf1002.wanadoo.fr (SMTP Server) with ESMTP id 550FE24000A4
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 17:55:15 +0100 (CET)
X-ME-UUID: 20060322165515352.550FE24000A4@mwinf1002.wanadoo.fr
Message-ID: <4421816F.3090406@jalios.com>
Date: Wed, 22 Mar 2006 17:55:11 +0100
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: java.lang.OutOfMemoryError in lucene
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com> <3536145.post@talk.nabble.com>
In-Reply-To: <3536145.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Then you should probably try to increase them to a higher value to see 
if the problem still occurs.
The memory consumption on your production server is probably much higher 
than what you are used to on your development platform.

escobar5 wrote:
> I forgot to tell, i've already checked that and they are:
>
>  -Xms = 306m
>  -Xmx = 320m 
> --
> View this message in context: http://www.nabble.com/java.lang.OutOfMemoryError-in-lucene-t1324911.html#a3536145
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>   


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingnieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 17:13:24 2006
Return-Path: <java-user-return-19749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68596 invoked from network); 22 Mar 2006 17:13:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 17:13:24 -0000
Received: (qmail 52672 invoked by uid 500); 22 Mar 2006 17:13:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52386 invoked by uid 500); 22 Mar 2006 17:13:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52375 invoked by uid 99); 22 Mar 2006 17:13:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 09:13:18 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 09:13:15 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FM6tD-00060T-2K
	for java-user@lucene.apache.org; Wed, 22 Mar 2006 09:12:55 -0800
Message-ID: <3536578.post@talk.nabble.com>
Date: Wed, 22 Mar 2006 09:12:55 -0800 (PST)
From: escobar5 <escobar5@spymac.com>
To: java-user@lucene.apache.org
Subject: Re: java.lang.OutOfMemoryError in lucene
In-Reply-To: <4421816F.3090406@jalios.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: escobar5@spymac.com
X-Nabble-From: escobar5 <escobar5@spymac.com>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com> <3536145.post@talk.nabble.com> <4421816F.3090406@jalios.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I think the problem is not the memory, because i just tried to search in a
11k index that contains only one document but i still get the same problem.

What else could it be? maybe the ibm jvm?
--
View this message in context: http://www.nabble.com/java.lang.OutOfMemoryError-in-lucene-t1324911.html#a3536578
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 17:31:22 2006
Return-Path: <java-user-return-19750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89945 invoked from network); 22 Mar 2006 17:31:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 17:31:21 -0000
Received: (qmail 8392 invoked by uid 500); 22 Mar 2006 17:31:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8366 invoked by uid 500); 22 Mar 2006 17:31:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8355 invoked by uid 99); 22 Mar 2006 17:31:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 09:31:15 -0800
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.191.87.119] (HELO web37806.mail.mud.yahoo.com) (209.191.87.119)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 09:31:14 -0800
Received: (qmail 93477 invoked by uid 60001); 22 Mar 2006 17:30:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.vn;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=tzYf37m4XONp1lqBT4uWhVbi0QacxARIl31pYAuzJLxV0heMkJBy/6fNDIGciCvZWpmFrIyMXlrXkpyVnzziMj7BYKd6GRjx7q9WY6JFFt1KFG+RLvW8VF3RTrlEAXPjKdoBtePoYiF8QZOrYIG6jmHjztM26TSnkIixzsYXC7c=  ;
Message-ID: <20060322173052.93473.qmail@web37806.mail.mud.yahoo.com>
Received: from [193.49.172.146] by web37806.mail.mud.yahoo.com via HTTP; Thu, 23 Mar 2006 00:30:52 ICT
Date: Thu, 23 Mar 2006 00:30:52 +0700 (ICT)
From: thanh nguyen <ngay01032006@yahoo.com.vn>
Subject: Repeat Second time: Extract important terms by programming??
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-1422082167-1143048652=:74408"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1422082167-1143048652=:74408
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
Content-Id: 
Content-Disposition: inline

Can anyone help me?



	


	
		
________________________________________________________ 
Bn c s dng Yahoo! khng? 
Hy xem th trang ch Yahoo! Vit Nam! 
http://vn.yahoo.com
--0-1422082167-1143048652=:74408
Content-Type: message/rfc822
Content-Transfer-Encoding: 8bit

X-Apparently-To: ngay01032006@yahoo.com.vn via 209.191.87.124; Fri, 17 Mar 2006 14:28:19 -0800
X-Originating-IP: [209.237.227.199]
Authentication-Results: mta357.mail.scd.yahoo.com
  from=yahoo.com.vn; domainkeys=fail (bad sig)
Received: from 209.237.227.199  (HELO mail.apache.org) (209.237.227.199)
  by mta357.mail.scd.yahoo.com with SMTP; Fri, 17 Mar 2006 14:28:19 -0800
Received: (qmail 20477 invoked by uid 500); 17 Mar 2006 22:28:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20466 invoked by uid 99); 17 Mar 2006 22:28:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Mar 2006 14:28:07 -0800
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.191.87.121] (HELO web37808.mail.mud.yahoo.com) (209.191.87.121)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 17 Mar 2006 14:28:06 -0800
Received: (qmail 39281 invoked by uid 60001); 17 Mar 2006 22:27:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.vn;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=VoNoO5utcG42BnbtlP/cEM/9BizY+r4rtfmlV6RNav8aOTB2h5SZwBRaPxYNNCP8tE7OWjLMsf4dlNwlq6XeOai6+sSpZsTFrGTSIr/RtSU3oGtj/0/KzTdkOtZtG2OLVxwcp28TE0Kd5BVTLekdaEZd7/OwHCvzyu1JwB7bXHQ=  ;
Received: from [82.127.50.162] by web37808.mail.mud.yahoo.com via HTTP; Sat, 18 Mar 2006 05:27:44 ICT
Date: Sat, 18 Mar 2006 05:27:44 +0700 (ICT)
From: thanh nguyen <ngay01032006@yahoo.com.vn>
Subject: Extract important terms by programming??
To: java-user@lucene.apache.org
In-Reply-To: <441B2EBA.6020206@wyona.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-769803821-1142634464=:38137"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

--0-769803821-1142634464=:38137
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit

Hello, 

Suppose that I have indexed a document with Lucene. How can I extract the most important terms in this documents by using a programming language? Does Lucene provide an API to do that? (For example, if this document is indexed by TFIDF, the most important temrs are the terms with biggest weighted).

Any help would be appreciated.
Thanh.

		
---------------------------------
Bn c s dng Yahoo! khng?
Hy xem th trang ch Yahoo! Vit Nam!
--0-769803821-1142634464=:38137--


--0-1422082167-1143048652=:74408
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--0-1422082167-1143048652=:74408--

From java-user-return-19751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 20:15:41 2006
Return-Path: <java-user-return-19751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83570 invoked from network); 22 Mar 2006 20:15:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 20:15:37 -0000
Received: (qmail 49731 invoked by uid 500); 22 Mar 2006 20:15:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49709 invoked by uid 500); 22 Mar 2006 20:15:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49698 invoked by uid 99); 22 Mar 2006 20:15:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:15:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:15:29 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2MKF8sW021943
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 12:15:08 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2MKF8Wi021941
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 12:15:08 -0800
Received: from [10.17.1.112] (delltop33.us.scalix.com 10.17.1.112)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Wed, 22 Mar 2006 12:15:08 -0800 (PST)
Date: Wed, 22 Mar 2006 12:16:47 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <4421B0AF.9050801@scalix.com>
Subject: Query for a non-value
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi there,

How do I do a query for the value of a field not being equal to
something?  For example, we all do Query("field:value") but I want to do
Query("NOT field:value") to essentially return all the documents that do
not have fields with this value?  I've tried this but Lucene always
returns no documents when I know there are plenty of documents without
that field set to that value.

Many thanks,

Nick.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 20:16:14 2006
Return-Path: <java-user-return-19752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83962 invoked from network); 22 Mar 2006 20:16:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 20:16:12 -0000
Received: (qmail 51408 invoked by uid 500); 22 Mar 2006 20:16:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51384 invoked by uid 500); 22 Mar 2006 20:16:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51373 invoked by uid 99); 22 Mar 2006 20:16:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:16:07 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 12:16:06 -0800
Received: (qmail 73299 invoked by uid 60001); 22 Mar 2006 20:15:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=xcmiqtm5yHWSbToxlYr1chwIdn8Q2CzP84vY2djXCwxenqtenNL8VECvnzlQHfT4IYRMKDug9OeksREXFCoE69cTnU7OVQ7Y1tPXvJCaFBJcrmXqhHDg9FFQREF4mujK9uMKAod5RmoUo80X0XANQF2AWw18NMxSyuvpPxSRK+E=  ;
Message-ID: <20060322201544.73297.qmail@web50308.mail.yahoo.com>
Date: Wed, 22 Mar 2006 12:15:44 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FileNotFoundException: Corrupted Index?
To: java-user@lucene.apache.org
In-Reply-To: <4421686C.5040604@jalios.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Olivier,

You have shutdown hooks for read-only operations.  They won't corrupt your index.  I'd add shutdown hooks for IndexWriter.
If that fixes your problem, it would be great if you could add your shutdown hook code to the FAQ on the Wiki, or at least post it to java-user, so somebody else can put it there.

Otis

----- Original Message ----
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
To: Lucene Java User ML <java-user@lucene.apache.org>
Sent: Wednesday, March 22, 2006 10:08:28 AM
Subject: FileNotFoundException: Corrupted Index?

Hi all,

We are using the last version of lucene (1.9.1), and sometimes we end up 
with such error when opening one of the index our application uses:

java.io.FileNotFoundException: [...]/LuceneIndex/_ 46.fnm (No such file 
or directory)
       at java.io.RandomAccessFile.open(Native Method)
       at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
       at 
org.apache.lucene.store.FSIndexInput$Descriptor.<init>(FSDirectory.java:425) 

       at org.apache.lucene.store.FSIndexInput.<init>(FSDirectory.java:434)
       at 
org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:324)
       at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:56)
       at 
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:144)
       at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
       at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:110)
       at 
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:154)
       at org.apache.lucene.store.Lock$With.run(Lock.java:109)
       at org.apache.lucene.index.IndexReader.open(IndexReader.java:143)
       at org.apache.lucene.index.IndexReader.open(IndexReader.java:138)

The only solution available in this case being to completely remove and 
recreate the index.
I have the "corrupted" index available for testing should you need it.

Apparently this corruption occurs if the JVM has crashed or was shutdown 
too violently (kill -9)
I was wondering how a corruption of a lucene index could occur and how 
to prevent it, fix it on reopening or in a last resort, detect it to be 
able to recreate the index.

Note that I already have that kind of hook in the code for shutdown:

    // clean writer reader and searcher correctly
    Thread shutdown = new Thread() {
      public void run() {
        if (reader != null) {
          try { reader.close(); }
          catch (IOException ex){ /*empty*/ }
          reader = null;
        }
        if (searcher != null) {
          try { searcher.close(); }
          catch (IOException ex){ /*empty*/ }
          searcher = null;
        }
      }
    };
    Runtime.getRuntime().addShutdownHook(shutdown);
   
Or, on opening, code such as:

      Directory indexDir = FSDirectory.getDirectory(luceneDir, 
!IndexReader.indexExists(luceneDir));
      IndexReader.unlock(indexDir); // unlock directory in case of 
unproper shutdown
      if (!IndexReader.indexExists(luceneDir)) {
        writer = new IndexWriter(indexDir, analyzer, true);
        writer.close();
      }

Any suggestion or remark?

Thanks!
-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 20:19:02 2006
Return-Path: <java-user-return-19753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84963 invoked from network); 22 Mar 2006 20:19:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 20:19:01 -0000
Received: (qmail 57122 invoked by uid 500); 22 Mar 2006 20:18:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57097 invoked by uid 500); 22 Mar 2006 20:18:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57086 invoked by uid 99); 22 Mar 2006 20:18:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:18:54 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.243] (HELO web50310.mail.yahoo.com) (206.190.38.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 12:18:53 -0800
Received: (qmail 8593 invoked by uid 60001); 22 Mar 2006 20:18:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BErc2NDZ5o4xvhD5ZPr6QvjneXyl8GibtJGgle5JglEHQV9Czvx1B49hRRAyCdxg2bu3DzfdK53/bx6s/RAfgn8olq59Qk1kn124h7uLWKg/TGxqd8mzegpGHYvbKOgcKj/31lih8eseAvn7tKeld6OzespsjOp4TPxcjbDnK6Y=  ;
Message-ID: <20060322201832.8591.qmail@web50310.mail.yahoo.com>
Date: Wed, 22 Mar 2006 12:18:32 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query question
To: java-user@lucene.apache.org
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A42A07DCD@EPLUXSEX01.ep.parl.union.eu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Thomas,

Use "Keyword" (untokenized) field to index your paths.
Consider using PerFieldAnalyzerWrapper to specify KeywordAnalyzer for your path field.
Use the force, Luke - http://www.getopt.org/luke/ , to ensure your paths are indexed correctly.

Otis

----- Original Message ----
From: WATHELET Thomas <TWathelet@europarl.eu.int>
To: java-user@lucene.apache.org
Sent: Wednesday, March 22, 2006 9:18:40 AM
Subject: Query question

I use Lucene 1.9.1

How to parse an unc path like \\tom\share\5\tom.doc
<file:///\\tom\share\5\tom.doc>  in a query to search in the index key
field?

String key="\\tom\share\5\tom.doc <file:///\\tom\share\5\tom.doc> ";

Ex: Hits hits = multisearch.search(new TermQuery(new Term("key",
QueryParser.escape(key))));

I ask this question because this key exist into the index but I can't
find it





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 20:25:48 2006
Return-Path: <java-user-return-19754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94347 invoked from network); 22 Mar 2006 20:25:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 20:25:48 -0000
Received: (qmail 74673 invoked by uid 500); 22 Mar 2006 20:25:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74629 invoked by uid 500); 22 Mar 2006 20:25:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74551 invoked by uid 99); 22 Mar 2006 20:25:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:25:34 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 12:25:33 -0800
Received: (qmail 83927 invoked by uid 60001); 22 Mar 2006 20:25:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=HWYsv/WHB6au2VJ8vVQXlo+fz5Fp2cbF2UDm7GSS9WHcy6ew8yViF1ozd80ziv6LKRRucBuOBU5yEEnvR4XbkRl5OSiT30VUznZ1LaN7QpXtUZ+bLjRBnNotJNMPS7PJgEWhdkd+yvWGOCGn+kWfg2KVoxDriHQGoH7qFFj2InQ=  ;
Message-ID: <20060322202512.83925.qmail@web50311.mail.yahoo.com>
Date: Wed, 22 Mar 2006 12:25:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Errors when searching index and writing to index simultaenously
To: java-user@lucene.apache.org
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083103D702@mshydpub1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Venu,

Actually, make that 2) sound more like this:

2) Must try to reuse the same IndexSearcher for the same index being searched, unless the index has changed (adds/deletes) AND I want to have the latest "snapshot" of the index for searching (e.g. see the new documents added since IndexSearcher was opened).

Otis

----- Original Message ----
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: java-user@lucene.apache.org
Sent: Wednesday, March 22, 2006 9:16:46 AM
Subject: RE: Errors when searching index and writing to index simultaenously

I've figured out the problem:
1) I must make sure both the searching process and indexing process use
the same lock directory (Thanks, Luc!)
2) I must not execute Hits.doc() after closing IndexSearcher. i.e. I
must close IndexSearcher *after* I am done with retrieving documents
from Hits.

Thanks,
Venu

-----Original Message-----
From: Satuluri, Venu_Madhav 
Sent: Wednesday, March 22, 2006 7:36 PM
To: java-user@lucene.apache.org
Subject: RE: Errors when searching index and writing to index
simultaenously



> Make sure both the indexing process and the searcher process use the
> same directory to store the Lock files (default your home directory I
> believe).

I am not sure if earlier they were using the same directory. Now I've 
made sure they same directory; still I get the second type of exception
I mentioned in my earlier mail. That is, IndexSearcher is returning a
Hits
object, but Hits.doc() is throwing an exception ("Bad file number").
And, as I said, the index is getting corrupted whenever this happens.

Any ideas?

-Venu

-----Original Message-----
From: Satuluri, Venu_Madhav [mailto:Venu.Madhav.Satuluri@deshaw.com] 
Sent: woensdag 22 maart 2006 14:14
To: java-user@lucene.apache.org
Subject: Errors when searching index and writing to index simultaenously

Hi,

If I run IndexSearcher.search() at the same time an IndexWriter is
adding a document to the index, I get the following kind of exception
frequently:
java.io.FileNotFoundException: <indexDir>/_3j.fnm (No such file or
directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
        at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java
:376)
        at
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
        at
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
        at
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
        at
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at
org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
        at
deshaw.reccms.indexer.LuceneSearcher.searchLucene(LuceneSearcher.java:10
6)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:162)

At other times, the search() method returns the Hits object, but
Hits.doc(i) throws Exception. Whenever this happens, it seems that the
index is corrupted and is unusable forever.
Exception in thread "main" java.io.IOException: Bad file number
        at java.io.RandomAccessFile.seek(Native Method)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Co
mpoundFileReader.java:220)
        at
org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at
org.apache.lucene.store.InputStream.readInt(InputStream.java:73)
        at
org.apache.lucene.store.InputStream.readLong(InputStream.java:96)
        at
org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)
        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
        at
org.apache.lucene.index.MultiReader.document(MultiReader.java:108)
        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
        at org.apache.lucene.search.Hits.doc(Hits.java:101)
        at
deshaw.reccms.indexer.LuceneSearcher.main(LuceneSearcher.java:168)

In both the above cases, I have ascertained that the IndexWriter was
executing iw.addDocument() when the exception was thrown by the process
trying to search the index.

'Lucene in Action' mentions fairly explicitly that searching can be
carried on simultaneously with indexing. So I am not quite sure why this
should happen. 

Thanks,
Venu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 20:36:02 2006
Return-Path: <java-user-return-19755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99868 invoked from network); 22 Mar 2006 20:36:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 20:36:01 -0000
Received: (qmail 1019 invoked by uid 500); 22 Mar 2006 20:35:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 994 invoked by uid 500); 22 Mar 2006 20:35:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 974 invoked by uid 99); 22 Mar 2006 20:35:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:35:55 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.58] (HELO web50304.mail.yahoo.com) (206.190.38.58)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 12:35:55 -0800
Received: (qmail 75491 invoked by uid 60001); 22 Mar 2006 20:35:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BvmqnAy/I/l8g5HS9HzNq2rG72EFsCAhthaHN2o7E2fnf1lrf0ds7gielU2xmkzcgIBb8zLFkQpznfpEUrOF0nD2zMYREcXna4eoTWqVEB2XoEX5WIhc2OwumY/IVyAyHldzW9UD4iivd0+Wz7yMvXP5C31WS2MoL8jtcQHu+zw=  ;
Message-ID: <20060322203533.75489.qmail@web50304.mail.yahoo.com>
Date: Wed, 22 Mar 2006 12:35:33 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query for a non-value
To: java-user@lucene.apache.org
In-Reply-To: <4421B0AF.9050801@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nick,

FAQ entry: http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-0cda565d913389773ca9c3246bde894c3e99084e

Otis

----- Original Message ----
From: Nick Atkins <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Sent: Wednesday, March 22, 2006 3:16:47 PM
Subject: Query for a non-value

Hi there,

How do I do a query for the value of a field not being equal to
something?  For example, we all do Query("field:value") but I want to do
Query("NOT field:value") to essentially return all the documents that do
not have fields with this value?  I've tried this but Lucene always
returns no documents when I know there are plenty of documents without
that field set to that value.

Many thanks,

Nick.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 20:40:18 2006
Return-Path: <java-user-return-19756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1639 invoked from network); 22 Mar 2006 20:40:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 20:40:18 -0000
Received: (qmail 11278 invoked by uid 500); 22 Mar 2006 20:40:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11257 invoked by uid 500); 22 Mar 2006 20:40:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11246 invoked by uid 99); 22 Mar 2006 20:40:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:40:11 -0800
X-ASF-Spam-Status: No, hits=-15.0 required=10.0
	tests=ENV_AND_HDR_SPF_MATCH,HTML_MESSAGE,SPF_PASS,USER_IN_DEF_SPF_WL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of frankt@amazon.com designates 207.171.160.38 as permitted sender)
Received: from [207.171.160.38] (HELO smtp-out-2002.amazon.com) (207.171.160.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 12:40:09 -0800
X-Amazon-Corporate-Relay: smtp-out-2002.iad2.amazon.com
X-AMAZON-TRACK: <java-user@lucene.apache.org>
Received: from smtp-in-2001.iad2.amazon.com by smtp-out-2002.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-2001.iad2.amazon.com)
Received: from exchg-sea5-04.ant.amazon.com (exchg-sea5-04.sea5.amazon.com [10.248.143.33])
	by smtp-in-2001.iad2.amazon.com (8.12.10/8.12.10) with ESMTP id k2MKdlJC010693
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 20:39:48 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64DF0.C2BF7C9F"
Subject: Search not working
Date: Wed, 22 Mar 2006 12:39:46 -0800
Message-ID: <B13FD3F68424FA4DAD378D12312011D80242F9D5@exchg-sea5-04.ant.amazon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search not working
Thread-Index: AcZN8MGTXaVvGJPISj2MTrwa7b6/MQ==
From: "Tuan, Frank" <frankt@amazon.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64DF0.C2BF7C9F
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I'm new to Lucene, so I thought I'd write a test to understand Lucene.  =
However, I'm running into issues with searching after adding documents =
into an index.  The test fails at assertContains in testAddAndSearch() =
and testDelete().  I'm sure it's something trivial.  Can someone please =
help?

Thanks in advance,
Frank


import java.io.File;
import java.io.IOException;
import java.util.Random;

import junit.framework.TestCase;

import org.apache.log4j.Logger;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.TermQuery;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;

import amazon.listingsearch.util.FileUtil;

public class LuceneTest extends TestCase
{
    @SuppressWarnings("unused")
    private static final Logger log =3D =
Logger.getLogger(LuceneTest.class);

    private static final int INDEX_LIMIT =3D 100;
    private static final boolean CREATE_NEW =3D true;

    private File indexDir;
    private Directory directory;
    private Random random =3D new Random();

    protected void setUp() throws Exception
    {
        String tmpDirPath =3D System.getProperty("java.io.tmpdir", =
"/tmp");
        this.indexDir =3D new File(tmpDirPath, "index");
        this.directory =3D FSDirectory.getDirectory(indexDir, =
CREATE_NEW);

        log.debug("The index directory is " + indexDir);
    }

    protected void tearDown() throws Exception
    {
        this.directory.close();
        FileUtil.recursiveDelete(this.indexDir);
    }

    private static final String KEY_FIELD_NAME =3D "key";
    private static final String VALUE_FIELD_NAME =3D "value";
    private static final String KEY_FIELD_VALUE_PREFIX =3D "";
    private static final String VALUE_FIELD_VALUE_PREFIX =3D "value";

    public void testAddAndSearch() throws Exception
    {
        populateIndex();

        for (int i =3D 0; i < INDEX_LIMIT; i++) {
            String keyValue =3D KEY_FIELD_VALUE_PREFIX + i;
            Term term =3D new Term(KEY_FIELD_NAME, keyValue);
            assertContains(term);
        }
    }

    public void testDelete() throws Exception
    {
        populateIndex();

        String docToBeDeleted =3D KEY_FIELD_VALUE_PREFIX
                + random.nextInt(INDEX_LIMIT);
        Term term =3D new Term(KEY_FIELD_NAME, docToBeDeleted);
        assertContains(term);
        delete(term);
        assertNotContains(term);
    }

    protected void addOrUpdate(Document doc) throws IOException
    {
        IndexWriter indexWriter =3D null;
        Analyzer analyzer =3D new StandardAnalyzer();

        try {
            indexWriter =3D new IndexWriter(directory, analyzer, =
CREATE_NEW);
            indexWriter.addDocument(doc);
        } finally {
            indexWriter.close();
        }
    }

    protected int delete(Term term) throws IOException
    {
        IndexReader indexReader =3D null;

        try {
            indexReader =3D IndexReader.open(directory);
            return indexReader.deleteDocuments(term);
        } finally {
            indexReader.close();
        }
    }

    protected int searchOccurrences(Term term) throws IOException
    {
        IndexSearcher indexSearcher =3D null;

        try {
            indexSearcher =3D new IndexSearcher(directory);
            TermQuery query =3D new TermQuery(term);
            Hits hits =3D indexSearcher.search(query);
            return hits.length();
        } finally {
            indexSearcher.close();
        }
    }

    private void populateIndex() throws IOException
    {
        for (int i =3D 0; i < INDEX_LIMIT; i++) {
            Document doc =3D new Document();
            String keyValue =3D KEY_FIELD_VALUE_PREFIX + i;
            Field keyField =3D new Field(KEY_FIELD_NAME, keyValue,
                    Field.Store.NO, Field.Index.UN_TOKENIZED);
            doc.add(keyField);

            String valueValue =3D VALUE_FIELD_VALUE_PREFIX + i;
            Field valueField =3D new Field(VALUE_FIELD_NAME, valueValue,
                    Field.Store.YES, Field.Index.TOKENIZED);
            doc.add(valueField);

            addOrUpdate(doc);
        }
    }

    private void assertContains(Term term) throws IOException
    {
        assertEquals("The index should contains " + term, 1,
                searchOccurrences(term));
    }

    private void assertNotContains(Term term) throws IOException
    {
        assertEquals("The index should not contain " + term, 0,
                searchOccurrences(term));
    }
}


------_=_NextPart_001_01C64DF0.C2BF7C9F--

From java-user-return-19757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 21:34:22 2006
Return-Path: <java-user-return-19757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26641 invoked from network); 22 Mar 2006 21:34:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 21:34:21 -0000
Received: (qmail 2487 invoked by uid 500); 22 Mar 2006 21:34:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2452 invoked by uid 500); 22 Mar 2006 21:34:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2440 invoked by uid 99); 22 Mar 2006 21:34:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 13:34:17 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TAigner@wescodist.com designates 12.29.179.202 as permitted sender)
Received: from [12.29.179.202] (HELO mail01.wescodist.com) (12.29.179.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 13:34:15 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Lookup Issues
Date: Wed, 22 Mar 2006 16:33:53 -0500
Message-ID: <14FBF41EF1411B45B2EC4ADEAC53D13105AA9819@MAIL01.wescodist.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lookup Issues
Thread-Index: AcYmrXKauGR5MUOBTsWNFqa3ZAa1SAnSL7sQ
From: "Aigner, Thomas" <TAigner@WescoDist.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Howdy all,
	I am having a performance issue.  When I do a search for items,
getting more information takes a long time.
Ex. If there are 1M hits (I know, why look for that many or even allow
it, but let's say we return 1M hits).  When the user wants to see the
last 25, it takes a LONG time to return (45seconds sometimes),
eventhough it only takes a second to bring back the hits object.  I read
somewhere that the first 100 documents are stored in memory, but is
there some issue looping through end records?

Ex below would be fromHits =3D 990000 and toHits =3D 990025 so I would
return 25 records or so.=20


for (int i =3D fromHits; ((i <=3D toHits) && (i <=3D hits.length() -1)); =
i++)
{
		  	=09
	  Document doc =3D hits.doc(i);
	  System.out.println(doc.get("ldesc").replaceAll(" ~ ","~"));
	  		=09
}

Thanks all,
Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 22:13:11 2006
Return-Path: <java-user-return-19758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49156 invoked from network); 22 Mar 2006 22:13:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 22:13:11 -0000
Received: (qmail 66279 invoked by uid 500); 22 Mar 2006 22:13:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66246 invoked by uid 500); 22 Mar 2006 22:13:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66235 invoked by uid 99); 22 Mar 2006 22:13:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 14:13:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 14:13:04 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2MMCdbL027480
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 17:12:39 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2MMCXN8065676;
	Wed, 22 Mar 2006 17:12:38 -0500
Message-ID: <4421CBD0.4090407@apache.org>
Date: Wed, 22 Mar 2006 14:12:32 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lookup Issues
References: <14FBF41EF1411B45B2EC4ADEAC53D13105AA9819@MAIL01.wescodist.com>
In-Reply-To: <14FBF41EF1411B45B2EC4ADEAC53D13105AA9819@MAIL01.wescodist.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The Hits-based search API is optimized for returning earlier hits.  If 
you want the lowest-scoring matches, then you could reverse-sort the 
hits, so that these are returned first.  Or you could use the 
TopDocs-based API to retrieve hits up to your "toHits".  (Hits-based 
search is implemented using TopDocs-based search.)

Generally speaking, returning the 999,990-1,000,000th ranked hits is 
inherently much more expensive than returning the 0-9th ranked hits. 
TopDocs will minimize this expense.  This expense is (in part) the 
reason that web search engines won't show you more than the first 1000 hits.

Doug

Aigner, Thomas wrote:
> Howdy all,
> 	I am having a performance issue.  When I do a search for items,
> getting more information takes a long time.
> Ex. If there are 1M hits (I know, why look for that many or even allow
> it, but let's say we return 1M hits).  When the user wants to see the
> last 25, it takes a LONG time to return (45seconds sometimes),
> eventhough it only takes a second to bring back the hits object.  I read
> somewhere that the first 100 documents are stored in memory, but is
> there some issue looping through end records?
> 
> Ex below would be fromHits = 990000 and toHits = 990025 so I would
> return 25 records or so. 
> 
> 
> for (int i = fromHits; ((i <= toHits) && (i <= hits.length() -1)); i++)
> {
> 		  		
> 	  Document doc = hits.doc(i);
> 	  System.out.println(doc.get("ldesc").replaceAll(" ~ ","~"));
> 	  			
> }
> 
> Thanks all,
> Tom
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 22:34:27 2006
Return-Path: <java-user-return-19759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60854 invoked from network); 22 Mar 2006 22:34:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 22:34:26 -0000
Received: (qmail 95372 invoked by uid 500); 22 Mar 2006 22:34:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95347 invoked by uid 500); 22 Mar 2006 22:34:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95334 invoked by uid 99); 22 Mar 2006 22:34:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 14:34:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 14:34:20 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id F108EB735C
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 09:33:53 +1100 (EST)
Message-ID: <4421D11F.5030807@nuix.com.au>
Date: Thu, 23 Mar 2006 09:35:11 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Query for a non-value
References: <4421B0AF.9050801@scalix.com>
In-Reply-To: <4421B0AF.9050801@scalix.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nick Atkins wrote:
> Hi there,
> 
> How do I do a query for the value of a field not being equal to
> something?  For example, we all do Query("field:value") but I want to do
> Query("NOT field:value") to essentially return all the documents that do
> not have fields with this value?  I've tried this but Lucene always
> returns no documents when I know there are plenty of documents without
> that field set to that value.

Presumably you're referring to the QueryParser not properly handling the 
case where all clauses are prohibited.

The answer to this has been on the list many times, I answered exactly 
the same question only a short while ago, it involves overriding the 
QueryParser.

Daniel

-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 22:43:34 2006
Return-Path: <java-user-return-19760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67510 invoked from network); 22 Mar 2006 22:43:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 22:43:34 -0000
Received: (qmail 11611 invoked by uid 500); 22 Mar 2006 22:43:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11588 invoked by uid 500); 22 Mar 2006 22:43:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11577 invoked by uid 99); 22 Mar 2006 22:43:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 14:43:28 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of edgar.meij@gmail.com designates 66.249.92.199 as permitted sender)
Received: from [66.249.92.199] (HELO uproxy.gmail.com) (66.249.92.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 14:43:27 -0800
Received: by uproxy.gmail.com with SMTP id u40so110980ugc
        for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 14:43:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:from:to:subject:date:message-id:mime-version:content-type:content-transfer-encoding:x-mailer:in-reply-to:x-mimeole:thread-index;
        b=H/uTvPQ+rB4d+kxgLAGc049yzfj3XJ0Ayrtaq4I9YU/72mXJZLcQmzlw8Nq5xlF7UqPemcLe1YNmqCGrjxypQ7jr1Vdg1nDFxzeNTUW9Kdpd6bGjYDKz8QJfiinZCFH9w+ZyvBEkjs92CfCHv/K/wXwTVm+fSmd5Uk610H0iy78=
Received: by 10.66.250.8 with SMTP id x8mr442351ugh;
        Wed, 22 Mar 2006 14:43:06 -0800 (PST)
Received: from huiskamer ( [87.210.67.158])
        by mx.gmail.com with ESMTP id y7sm601632ugc.2006.03.22.14.43.05;
        Wed, 22 Mar 2006 14:43:05 -0800 (PST)
From: "Edgar Meij" <edgar.meij@gmail.com>
To: <java-user@lucene.apache.org>
Subject: RE: Repeat Second time: Extract important terms by programming??
Date: Wed, 22 Mar 2006 23:45:31 +0100
Message-ID: <009501c64e02$53cb4790$6502a8c0@huiskamer>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <20060322173052.93473.qmail@web37806.mail.mud.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZN1nSH1VBt/y3qSvauVLCLzNNyfgAKyosA
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That's relatively easy, but not out-of-the box...=20

Something like:

 private TreeMap<Double, String> getTFIDF(String index, int DocumentID, =
String Field ){
      try{
     IndexReader ir =3D IndexReader.open(index);=20
    TermFreqVector tv =3D ir.getTermFreqVector(DocumentID, Field);
    String[] Termstv=3Dtv.getTerms();
    Double Score;
    TreeMap<Double, String> TfIdfs =3D new TreeMap<Double, String>();
    int docFreq, N;
    double[] TF =3D getTermFreqs(tv);
    for (int i =3D0 ; i < tv.size(); i++){
         docFreq =3D ir.docFreq(new Term(Field,Termstv[i]));
           N =3D ir.numDocs() / docFreq;
          Score=3D Double.valueOf(TF[i] *  ( Math.log(N)/Math.log(2)));
          TfIdfs.put(Score, Termstv[i]);     =20
    }
    return TfIdfs;

Searching the mailinglist might help as well; =
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200506.mbox/%3C=
A955EA1F8FE31749AEC8C998082F6C7C41A7AE@hai01.hippo.local%3E And see =
also: =
http://www.alias-i.com/lingpipe/demos/tutorial/interestingPhrases/read-me=
.html=20


Edgar

> -----Oorspronkelijk bericht-----
> Van: thanh nguyen [mailto:ngay01032006@yahoo.com.vn]=20
> Verzonden: Wednesday, March 22, 2006 6:31 PM
> Aan: java-user@lucene.apache.org
> Onderwerp: Repeat Second time: Extract important terms by=20
> programming??
>=20
> Can anyone help me?
>=20
>=20
>=20
> =09
>=20
>=20
> =09
> 	=09
> ________________________________________________________
> B=E1=BA=A1n c=C3=B3 s=E1=BB=AD d=E1=BB=A5ng Yahoo! kh=C3=B4ng?=20
> H=C3=A3y xem th=E1=BB=AD trang ch=E1=BB=A7 Yahoo! Vi=E1=BB=87t Nam!=20
> http://vn.yahoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 23:05:09 2006
Return-Path: <java-user-return-19761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79003 invoked from network); 22 Mar 2006 23:05:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 23:05:08 -0000
Received: (qmail 41980 invoked by uid 500); 22 Mar 2006 23:05:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41949 invoked by uid 500); 22 Mar 2006 23:05:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41938 invoked by uid 99); 22 Mar 2006 23:05:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 15:05:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nikhil.goel@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 15:05:02 -0800
Received: by wproxy.gmail.com with SMTP id i20so321508wra
        for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 15:04:41 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=R5XnUc8+E5UlWiODYFIidm+P/wHb6qwFFVeNrMjWTYoRvbRZCoDra5JqxBCFUTUX/PSZ9y88FaNXWvRwHA6UrT1mPy6CLh4FC4AEI7L7SlM4YrKpMmEXzWE1nmYoJrBwaG9luZ9GJU4WOptVi6wRNW56FzeYzidXQz+UvWgudj4=
Received: by 10.65.232.16 with SMTP id j16mr1175342qbr;
        Wed, 22 Mar 2006 15:04:41 -0800 (PST)
Received: by 10.65.200.8 with HTTP; Wed, 22 Mar 2006 15:04:41 -0800 (PST)
Message-ID: <7f0c29930603221504s610e583ete524885a0c24adc3@mail.gmail.com>
Date: Wed, 22 Mar 2006 17:04:41 -0600
From: "Nikhil Goel" <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Subject: Multiple threads in Lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_407_29372205.1143068681322"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_407_29372205.1143068681322
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Lucene Developers,

According to Lucene Documentation, IndexWriter can exist with multiple
IndexSearcher and its thread safe. To verify that: I wrote a simple program
to simulate that condition but unfortunately I get an exception. Please let
me know if anyone has ever tested the Lucene claim that IndexWriter and
IndexSearcher are thread safe.


I have a program in which I have 4 threads.
1) One IndexWriter Thread
2) 3 IndexSearcher Thread.

Everytime when we need to index a file. We run the following code in
IndexWriter Thread:-
function IndexFile(Document doc)
{
   writer =3D new IndexWriter(directory, new StandardAnalyzer(), false);
   writer.addDocument(doc);
   writer.close();
}

Our IndexSearcherThread looks like this:-
function IndexSearch(String termToBeSearched)
{
     IndexSearchersearcher =3D new IndexSearcher(directory);
//Note: This directory is the same reference as used to initiate
IndexWriter  in Indexfile function. Hence this directory //reference is use=
d
across all the threads.

     Query query =3D QueryParser.parse(termToBeSearched, "contents", new
StandardAnalyzer());
     Hits hits =3D searcher.search(query);
}

If I execute these 4 threads above together, then whenever a search routine
gets executed and IndexWriter is also in use, then I get an error at the
following line:- writer.close();

Stack Strace looks like this:-
unable to close the writer stream
java.io.IOException: read past EOF
    at org.apache.lucene.store.InputStream.refill(InputStream.java:192)
    at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
    at org.apache.lucene.store.InputStream.readBytes(InputStream.java:95)
    at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:375)
    at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:342)
    at org.apache.lucene.index.SegmentMerger.mergeNorms(SegmentMerger.java
:306)
    at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:99)
    at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java
:430)
    at org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.jav=
a
:383)
    at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:193)


Thanks in advance
-Nikhil

------=_Part_407_29372205.1143068681322--

From java-user-return-19762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 22 23:56:51 2006
Return-Path: <java-user-return-19762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2367 invoked from network); 22 Mar 2006 23:56:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Mar 2006 23:56:51 -0000
Received: (qmail 1140 invoked by uid 500); 22 Mar 2006 23:56:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 441 invoked by uid 500); 22 Mar 2006 23:56:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 423 invoked by uid 99); 22 Mar 2006 23:56:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 15:56:46 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.15 as permitted sender)
Received: from [219.125.112.15] (HELO nm05omta05f.dion.ne.jp) (219.125.112.15)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 15:56:45 -0800
Received: from sekiguchi ([59.135.111.89])
	by nm05mta.dion.ne.jp
	id <20060323085623173.MAF6.853D8E8@nm05mta.dion.ne.jp>;
	Thu, 23 Mar 2006 08:56:23 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: java.lang.OutOfMemoryError in lucene
Date: Thu, 23 Mar 2006 08:56:21 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3536578.post@talk.nabble.com>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> What else could it be? maybe the ibm jvm?

I'm not sure this is the case, but there is an issue about IBM JDK
at FAQ. Please read:

Why can't I use Lucene with IBM JDK 1.3.1?
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-1416be459d0bb822360b058
aac3c2ccf8ecc133e

regards,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 00:20:24 2006
Return-Path: <java-user-return-19763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10607 invoked from network); 23 Mar 2006 00:20:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 00:20:24 -0000
Received: (qmail 25453 invoked by uid 500); 23 Mar 2006 00:20:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25425 invoked by uid 500); 23 Mar 2006 00:20:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25414 invoked by uid 99); 23 Mar 2006 00:20:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 16:20:18 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 16:20:17 -0800
Received: (qmail 72764 invoked by uid 60001); 23 Mar 2006 00:19:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=tt5XoPQPncKBCesQlfdTK7EBw6vlEmsdDFws73mNtucxcEgsCA6neyzBE/RhhfNPD7in0bjUi2xhtulO+5VI46gjEtkgyUbjaLbEUEZzJkK0YrPO5HmvxQA4Qi1oDRWy6GqQLfpfz2MYWM+6rL24ggxMu2RrHZMiTu9LdlEwwDY=  ;
Message-ID: <20060323001956.72762.qmail@web50303.mail.yahoo.com>
Date: Wed, 22 Mar 2006 16:19:56 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple threads in Lucene
To: java-user@lucene.apache.org
In-Reply-To: <7f0c29930603221504s610e583ete524885a0c24adc3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, 1 IndexWriter + multiple IndexSearchers definitely work together :)
I can't tell what you're doing wrong with the threads... it looks like you might be opening multiple IndexWriters on the same index/directory (big no no).

Otis

----- Original Message ----
From: Nikhil Goel <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Sent: Wednesday, March 22, 2006 6:04:41 PM
Subject: Multiple threads in Lucene

Hi Lucene Developers,

According to Lucene Documentation, IndexWriter can exist with multiple
IndexSearcher and its thread safe. To verify that: I wrote a simple program
to simulate that condition but unfortunately I get an exception. Please let
me know if anyone has ever tested the Lucene claim that IndexWriter and
IndexSearcher are thread safe.


I have a program in which I have 4 threads.
1) One IndexWriter Thread
2) 3 IndexSearcher Thread.

Everytime when we need to index a file. We run the following code in
IndexWriter Thread:-
function IndexFile(Document doc)
{
   writer = new IndexWriter(directory, new StandardAnalyzer(), false);
   writer.addDocument(doc);
   writer.close();
}

Our IndexSearcherThread looks like this:-
function IndexSearch(String termToBeSearched)
{
     IndexSearchersearcher = new IndexSearcher(directory);
//Note: This directory is the same reference as used to initiate
IndexWriter  in Indexfile function. Hence this directory //reference is used
across all the threads.

     Query query = QueryParser.parse(termToBeSearched, "contents", new
StandardAnalyzer());
     Hits hits = searcher.search(query);
}

If I execute these 4 threads above together, then whenever a search routine
gets executed and IndexWriter is also in use, then I get an error at the
following line:- writer.close();

Stack Strace looks like this:-
unable to close the writer stream
java.io.IOException: read past EOF
    at org.apache.lucene.store.InputStream.refill(InputStream.java:192)
    at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
    at org.apache.lucene.store.InputStream.readBytes(InputStream.java:95)
    at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:375)
    at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:342)
    at org.apache.lucene.index.SegmentMerger.mergeNorms(SegmentMerger.java
:306)
    at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:99)
    at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java
:430)
    at org.apache.lucene.index.IndexWriter.flushRamSegments(IndexWriter.java
:383)
    at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:193)


Thanks in advance
-Nikhil




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 00:27:43 2006
Return-Path: <java-user-return-19764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13806 invoked from network); 23 Mar 2006 00:27:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 00:27:43 -0000
Received: (qmail 34603 invoked by uid 500); 23 Mar 2006 00:27:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34553 invoked by uid 500); 23 Mar 2006 00:27:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34531 invoked by uid 99); 23 Mar 2006 00:27:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 16:27:23 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.10 as permitted sender)
Received: from [219.125.112.10] (HELO nm05omta059.dion.ne.jp) (219.125.112.10)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Mar 2006 16:27:22 -0800
Received: from sekiguchi ([59.135.111.89])
	by nm05mta.dion.ne.jp
	id <20060323092700854.MA82.80DB068@nm05mta.dion.ne.jp>;
	Thu, 23 Mar 2006 09:27:00 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Search not working
Date: Thu, 23 Mar 2006 09:26:58 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCGENACEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <B13FD3F68424FA4DAD378D12312011D80242F9D5@exchg-sea5-04.ant.amazon.com>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Frank,

Why your assertion fails because addOrUpdate() method doesn't work
properly. The method is called INDEX_LIMIT times in populateIndex()
for loop, but the index is newly created every time due to CREATE_NEW
flag at the IndexWriter constructor:

>     protected void addOrUpdate(Document doc) throws IOException
>     {
>         IndexWriter indexWriter = null;
>         Analyzer analyzer = new StandardAnalyzer();
> 
>         try {
>             indexWriter = new IndexWriter(directory, analyzer, 
> CREATE_NEW);
>             indexWriter.addDocument(doc);
>         } finally {
>             indexWriter.close();
>         }
>     }

You may want to move the code to setUp() method.

Hope this helps,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 00:49:36 2006
Return-Path: <java-user-return-19765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20909 invoked from network); 23 Mar 2006 00:49:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 00:49:36 -0000
Received: (qmail 60186 invoked by uid 500); 23 Mar 2006 00:49:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60157 invoked by uid 500); 23 Mar 2006 00:49:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60146 invoked by uid 99); 23 Mar 2006 00:49:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 16:49:30 -0800
X-ASF-Spam-Status: No, hits=-15.0 required=10.0
	tests=ENV_AND_HDR_SPF_MATCH,SPF_PASS,USER_IN_DEF_SPF_WL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of frankt@amazon.com designates 207.171.160.37 as permitted sender)
Received: from [207.171.160.37] (HELO smtp-out-2001.amazon.com) (207.171.160.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 16:49:30 -0800
X-Amazon-Corporate-Relay: smtp-out-2001.iad2.amazon.com
X-AMAZON-TRACK: <java-user@lucene.apache.org>
Received: from smtp-in-2002.iad2.amazon.com by smtp-out-2001.amazon.com with ESMTP 
          (peer crosscheck: smtp-in-2002.iad2.amazon.com)
Received: from exchg-sea5-04.ant.amazon.com (exchg-sea5-04.sea5.amazon.com [10.248.143.33])
	by smtp-in-2002.iad2.amazon.com (8.12.10/8.12.10) with ESMTP id k2N0n8lP004901
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 00:49:09 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search not working
Date: Wed, 22 Mar 2006 16:49:08 -0800
Message-ID: <B13FD3F68424FA4DAD378D12312011D80242FD1B@exchg-sea5-04.ant.amazon.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search not working
Thread-Index: AcZOEJj7w3WSJn+URZm2JqKeFAX3KwAAqdsA
From: "Tuan, Frank" <frankt@amazon.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Koji, this "feature" always gets me.  It's working now.=20

-----Original Message-----
From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp]=20
Sent: Wednesday, March 22, 2006 4:27 PM
To: java-user@lucene.apache.org
Subject: RE: Search not working

Hi Frank,

Why your assertion fails because addOrUpdate() method doesn't work =
properly. The method is called INDEX_LIMIT times in populateIndex() for =
loop, but the index is newly created every time due to CREATE_NEW flag =
at the IndexWriter constructor:

>     protected void addOrUpdate(Document doc) throws IOException
>     {
>         IndexWriter indexWriter =3D null;
>         Analyzer analyzer =3D new StandardAnalyzer();
>=20
>         try {
>             indexWriter =3D new IndexWriter(directory, analyzer,=20
> CREATE_NEW);
>             indexWriter.addDocument(doc);
>         } finally {
>             indexWriter.close();
>         }
>     }

You may want to move the code to setUp() method.

Hope this helps,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 01:48:28 2006
Return-Path: <java-user-return-19766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47734 invoked from network); 23 Mar 2006 01:48:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 01:48:27 -0000
Received: (qmail 33371 invoked by uid 500); 23 Mar 2006 01:48:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32692 invoked by uid 500); 23 Mar 2006 01:48:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32681 invoked by uid 99); 23 Mar 2006 01:48:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 17:48:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.93.161.132] (HELO mail1.zvents.com) (216.93.161.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 17:48:20 -0800
Received: from Oblong.zvents.com (c-71-198-187-222.hsd1.ca.comcast.net [71.198.187.222])
	by mail1.zvents.com (Postfix) with ESMTP id 7343C31703D
	for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 17:47:55 -0800 (PST)
Message-Id: <6.2.3.4.0.20060322170803.01dffda0@mail1.zvents.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.3.4
Date: Wed, 22 Mar 2006 17:47:54 -0800
To: java-user@lucene.apache.org
From: Tom <lucene-list@zvents.com>
Subject: MMapDirectory on Windows Broken?
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi -

I just tried MMapDirectory on windows, running the app I use to 
populate my index, and it fairly quickly dies. Does it work for 
anyone? Same code works fine with FSDirectory on Windows, or on Linux with MM.

I get:

      [java] Constructing lucene index in ./test_repos
      [java] Canon: C:\Documents and 
Settings\Tom\workspace\LuceneWar\test_repos
      [java] Using dir of class: org.apache.lucene.store.MMapDirectory
      [java] Inserted 8 users in: 47 millis
      [java] Exception in thread "main" java.io.IOException: Cannot 
delete C:\Documents and Settings\Tom\workspace\LuceneWar\test_repos\deletable
      [java] 	at 
org.apache.lucene.store.FSDirectory.renameFile(FSDirectory.java:265)
      [java] 	at 
org.apache.lucene.index.IndexWriter.writeDeleteableFiles(IndexWriter.java:797)
      [java] 	at 
org.apache.lucene.index.IndexWriter.deleteSegments(IndexWriter.java:741)
      [java] 	at 
org.apache.lucene.index.IndexWriter.access$200(IndexWriter.java:59)
      [java] 	at 
org.apache.lucene.index.IndexWriter$4.doBody(IndexWriter.java:699)
      [java] 	at org.apache.lucene.store.Lock$With.run(Lock.java:109)
      [java] 	at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:696)
      [java] 	at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
      [java] 	at 
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:646)
      [java] 	at 
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:453)
      [java] 	at 
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:436)
...

Just as a guess, it's a manifestation of a bug in java 
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4715154, where 
they don't unmap the file.

There's mention of a workaround here, FWIW.

http://bugs.sun.com/bugdatabase/view_bug.do;jsessionid=24ab5731b5fe7756d054f6bc7b921:WuuT?bug_id=4829325

Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 05:45:43 2006
Return-Path: <java-user-return-19767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44821 invoked from network); 23 Mar 2006 05:45:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 05:45:43 -0000
Received: (qmail 41094 invoked by uid 500); 23 Mar 2006 05:45:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41063 invoked by uid 500); 23 Mar 2006 05:45:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41049 invoked by uid 99); 23 Mar 2006 05:45:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 21:45:36 -0800
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_IMAGE_ONLY_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.14.54.233] (HELO ext-nj2ut-4.online-age.net) (64.14.54.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 21:45:34 -0800
Received: from int-nj2ut-3.online-age.net (int-nj2ut-3.online-age.net [3.159.237.72])
	by ext-nj2ut-4.online-age.net (8.13.5/8.13.5/20051114-SVVS-TLS-DNSBL) with ESMTP id k2N5jC6M003931
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 00:45:13 -0500
Received: from cinmlef11.e2k.ad.ge.com (localhost.localdomain [127.0.0.1])
	by int-nj2ut-3.online-age.net (8.11.6/8.11.6/20050510-SVVS) with ESMTP id k2N5jCr30473
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 00:45:12 -0500
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef11.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 23 Mar 2006 00:45:11 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----_=_NextPart_001_01C64E3C.DAE28602";
	type="multipart/alternative"
Subject: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 11:14:30 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C5021205AD@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Can i use lucene to search the internet.
Thread-Index: AcZOPNn534d+wJBlSJOzu9zwW/y+uA==
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Mar 2006 05:45:11.0575 (UTC) FILETIME=[F36E8A70:01C64E3C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64E3C.DAE28602
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C64E3C.DAE28602"


------_=_NextPart_002_01C64E3C.DAE28602
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

hi all,
Can i use lucene to search the internet. Are do we have nay open source =
applications. Thanks in advance

 <<ole0.bmp>>  GE Global Research
Kamesh NarayanaBabu
John F. Welch Technology Centre=20
Information Technology Management, Plot 122, Export Promotion Industrial =
Park,=20
Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.=20
Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91 =
9986259850 | Email:-  kameshnarayana.babu@ge.com


------_=_NextPart_002_01C64E3C.DAE28602
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.0.6617.95">
<TITLE>Can i use lucene to search the internet.</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><FONT SIZE=3D2 FACE=3D"Arial">hi all,</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">Can i use lucene to search the =
internet. Are do we have nay open source applications. Thanks in =
advance</FONT>
</P>

<P><FONT FACE=3D"Arial" SIZE=3D2 COLOR=3D"#000000">
<IMG SRC=3D"No%20AttachName" =
alt=3D"ole0.bmp"></FONT><B></B><B></B><B><FONT COLOR=3D"#003366" =
FACE=3D"Arial">&nbsp;GE Global Research</FONT></B>

<BR><B><FONT COLOR=3D"#003366" SIZE=3D2 FACE=3D"Arial">Kamesh =
NarayanaBabu</FONT></B>

<BR><B><FONT COLOR=3D"#003366" SIZE=3D2 FACE=3D"Arial">John F. Welch =
Technology Centre</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier =
New"><BR>
</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Information =
Technology Management, Plot 122, Export Promotion Industrial =
Park,</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier New"><BR>
</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Phase II, Hoodi =
Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier New"><BR>
</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Phone: &#43;91 =
(80) 2503 0457</FONT><FONT COLOR=3D"#0000FF" SIZE=3D1 FACE=3D"Arial"> =
|</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial"> GE Dial comm.: =
8 * 901 0359</FONT><FONT COLOR=3D"#0000FF" SIZE=3D1 FACE=3D"Arial"> =
|</FONT><FONT COLOR=3D"#000099" FACE=3D"Courier New"></FONT> <FONT =
COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial">Mobile: &#43;91 =
9986259850</FONT> <FONT COLOR=3D"#0000FF" SIZE=3D1 =
FACE=3D"Arial">|</FONT><FONT COLOR=3D"#666699" SIZE=3D1 FACE=3D"Arial"> =
Email:-&nbsp; kameshnarayana.babu@ge.com</FONT></B>
</P>

</BODY>
</HTML>
------_=_NextPart_002_01C64E3C.DAE28602--

------_=_NextPart_001_01C64E3C.DAE28602
Content-Type: image/bmp;
	name="ole0.bmp"
Content-Transfer-Encoding: base64
Content-Description: ole0.bmp
Content-Location: No%20AttachName

Qk1+EgAAAAAAADYAAAAoAAAAJwAAACcAAAABABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9vv/
//v///r////+///2///3//////////7///v///r///j///z///n///n//////////////v//////
///////////7///////////9+f///f////////n///L///7///v3//r2///+//////v/9fH///z/
AAAA//v/9Pb0//v/+vz8/////v7/9fr/+Pr///n///H///X//////vz+9u/f5tq1z6t8xn1Kv2Qx
xVslwlMmsE4puHVPuY5r1KSD+tzG//v9//////3/8Pf/9P7//f/4///9////////////9u32/vr+
//3/9fH1AAAA//r///v/+/z6//r///v//v7/9/v///7/9Pz/8P//9/3w6tW21JN2wYV0xq+k2djV
9/z7////////////////////8fD8xcjZrpiNunxN2qWH+ert//7/8vnz9P319//99fn89vb//vv/
//z///v///r///z/AAAA////+/38//r/9vv/9/v///n/+Pj//Pz/6vvs8uDMxZp5rodj7+DF////
/+Pv7Nbb29HA1Lyv37yu0qGMt4Fkx4xf5aVw+tOh/vXh////7sq2x4dY4a+S/fHy//3/+fn/+Pf/
9vn89vv//vv///z/9e71//z/AAAA///2////9vr/+Pv/+Pr///j///////v178yit4Fx787U////
+f//+f70/f/q/f/k///q/f/4/v/////////1wqd+o3c3qWswsnVAt4tj5dPE//321rKPzJVx9tzU
//////7///v/+Pr/9vv//vn+//////r1AAAA///2/v7///////r///j/////+OziyaieyZSJ//ft
///5+eXb77yv2p+CroNQoWwuwWo1x5B048zF+PHz////5MKrwnJLw21MvGtMxXVDwHYszqty/fXt
2dTTwZdw6Mm6//rx////+Pj/9/v/9vL3//////r3AAAA///39fn/+Pv/+Pj/////+ezjyKONxqmP
////897OzJh8qW8/tG83uHI2w3E/xHZFvnU9tm0/t3VS36KH+7+jx49tpXNLuHhQwnRFx3M5y4BF
rmsyvINL9uTF6e7qtJZ/3sKt//zz//7/+Pb/9vz//v//////AAAA//7/9/r9//////v//Pn5xqub
x6mS//nd6bqQrGs9s3JCxH1JvXU7v3o+wHo/wXZCwndFun0+rnQyqXcvr3YsunYuyH83wXwyvn5A
wXxNuXJDw3hFs2pDq3NT7uLF//nevqGD6s3B////9vj9+f/99/n//v//AAAA//b//v/39/7+//n7
28G2uqF6////66F9snIlu3s/uXk8wXIzz3gyx3o3s3g7vHxJwnlDtXo4wHo9unZAuXRGy3VFxHw5
uHc4vXI/uHBFtnU/x3g30ng5vW9CuX1e9e3u9fLN0npn8+vs8fv0/v7z//f/9vr/AAAA//r/+P//
+/768uXqrYFg/e7j16V7sGtRync/u3ZKvYNcvot2wZOAw4lvvnlOwG83xXpCuH1Kt3xGu3lCvXY9
unVAtYVXxY9fzJRfwpFnxoVbxXhGsXAytn9ItWg7z5mB/v7n/dTEspeM//v+9/zy//v99/r/AAAA
//r//v7+/P3/uZZ/+dW469S8t24prXJPu3ZItYdm6dnF/////P//9uvi5cSpxIdYwHE4uXJAsHdF
vXpJu3RHw5l269bD//70+/r5//f3/ePhxqORqXtWuHg6z3kuvWw76uLX////uZB08crN+f////n1
9Pz/AAAA//z9+fn82NPXyZtt/Pfsv4JKwXc2t3dEtn5S4b+r///+39HNy7qq8uPP///z48y1wXxU
xXdAt3s9snVGz6CE/PXk/Pru1su6wq+e37ux/ejj//3yyqmTxHpKwnwqvnE6y5+K9f/7+eXKtn9w
//39//f57f/9AAAA///0////tY51/+zK0K+dv3AswXo/t3Q0v4dS9NLB9uzsuoFurmQsz5Vk7drO
+fb52q2WxHY2vXcpwIxj8NnY+vn5x6eNqHA6rXw1sWsq2JBn/+7T9+zWvoVnvHw/t3xEvHNJ9PTr
////topr9tLQ//r/8P/2AAAA///z7uzxxIlj///2tXxRvHFExXhDtHcztYRE5s6++vPzz56Bwncx
sHIrt6GH9/j78N7UxohStm8q37WX////yry3qnVJxY5s1b+byJZktl8238Ks///6yaOJunRDs3c6
w2s08ePU/P3/79m+0ot/////+f75AAAA+v//5Lqp2K2k/uHOq2w3t21CxXlGtHo4vH1AxqyZ////
4M66uIBFtXMswYZY7tLD+ffwzKd/s2894sWp///7xKCPv3U/8dTF/v//2KSGwmZCwaeM9v7v5bGc
v3pHw3s4smw73Miv8N3V////wHZe///z//j/AAAA9///3ap42tLT67iLpWk5yHJKtHA+xX08w3o8
rXdU5NTG+vfp4LqezoJbvGg316mH/v/51LSeuHVN69C3+PTuypyEzoVQ+d/S6t7WxoBYv2c21sCh
///525yLv3c/zYE4r24517Wa+OXh//32xZF18/De//b/AAAA////sYdR9P/y05ZgvIZX245ttoJY
x3o4yXpDuG85uohf7tS+/vHs6cW4toxpw5t49/Ds3MS3vmw17MOn+/n/x5uGuHlA8NTJ+O7rzrGW
xp+J9Onc/vHqvYZrwnU6woAxvnEv4bKk+///7uK/17uX173I//v/AAAA////rGc6////vYFo7NjE
9tvF2LSWrnM61XZFx3U9v208yYRg0big7fDS8evF5Mmx8+fl2M6zwXIw5q+K+fn/1rehuHY00KWE
6uHW+vbp//Hj/O/U0a6Gu3tPr3lGwXc6qmg56NHH////8dzA28Kiu7Wx////AAAA////tlgx/v//
xo6J///////27MOrnW9Ds3pCwYI7wn03u3c8rnVLxJd65caq9u7T///569XKv4davIhk5tfN+e7L
0JZjrm0/t4tk1rWU3qyNzZtxtXpDuW06uXhFwG1AvY509fn0////+dfC4cuuu7uv////AAAA////
vFAe////4K6s/v//7u7YyYtqrnRFsn1Hu3czwn40voRAvHVIzoVpx6CHyL+h6+be+PP529TBxZl8
1KKS9O7P7te9zpRxwYBRvX1VtG9ItGg1v3VAy3xMwW86vHJO6dnJ8v/7+vjy576x++LGxbqj////
AAAA/P//tFYY////57+5/f/928GbuGY3w3c/wXlJyXo9xXQ1tHI9u5Bu8NnB8ebP4dnF7erm+e7v
7OXU8ubK5r2z1K2n3tfH7uPN8NbJ7dTN6M27yoxgyHg5xX0+tnQ8un9X//bh////4tC/3ben7s+2
zbSe////AAAA+v//zIBE///97dTI///5wIZWyXZAynxCu3pJtnQ8v3pJ1p2A6NbH9fnr18SxzaeX
5uHS+OjX0aKK0rKT8OLU59TU5d3S9/nu59/f5d7h4tnLwolgzH46s3YxrnlHr3g82LWU3L6htYdp
4saw58Wx4sCp////AAAA/vn/2Zxk5fTo7uDY//nwtWc5vHo8wXdAt3ZDunxM3bWU+/Dk+fb5+/n6
5NrRzaGEz6R/9O7Z3r2mvH1UyZlz4s6//ff29ujX0KB/yoxiu4ZQxXZEw3VHrnlFuHhFvH0wv3hP
wm5DqmQ3+vLUwqOS/N/D+v//AAAA//7/0qqJ0tO/79zd9Pzzu3pLtHIztXpGuHU5xItw8vDc8c7A
5tLF+e/q+9bG/+3P1ruf1s28/P/w3auEvGYyxZ6D7+/l//nf99a6w4hltXQ4vXhHxnRCznk4uXlD
y35FuHVDxXNDtnE6////qnpf//3h+/n/AAAA//n/8uHFupZ6//r79/z2upRmw3A4sXxJvHIzxIV0
+P/13quT0LGX8uzg1JmG5cu0+PHh1ce12tDC2aKBwms50J+C8Ovi3dK79eTP8tjFvYVdsXBExX5G
zno4vnlNv3VHvHw/uXRDzpt0//3ztYl4///v//n/AAAA//b////ns4FZ+Pv3//r+xaaDynE8tXdC
ynY81Idr9fXb27aWy51+/fvkz7GhtoRw+eXT6dzJw5F4xH1Xv3BA3ZNy+uzlybuqwamK+fTh4r2n
v3pUsXM9tHtFvHZIuXZAxHs+q2o19NjH+cmavLCx//7+//v6AAAA+fn////2ybCO4cOy////7NTG
qWE7y3k8unk8xoBax6F62pp0y35W7du+8OrasYZ4xaqZ/O7d15x1vm9Cv3BDxnZJ8NPC8/DhpIxz
0bqp//PswZVysGsztntOuHs+uX0+um49xJFp///wwo1b4e3x//n/+fv2AAAA/f//+fj/9fTlt4Ni
//7v+fD4ontiznQytH0/tXpEu3JEznlMw247z6N/8e/c5tzN3M2+//Lh2qh5unE4ynlHvXI5yqB7
+fXl7dfF8dzT///7w5x2wHY5t3A+xYI4tnUzrmVL9OnV/NGox6eT9v////r/9v78AAAA//vx7vr/
//z/1sCU1aiO////2rytwW0xw3U9sXc6wnlJunNFtXI8t3xKzaWI/OPV//fp79S+vZNiuHdAxXc9
vn85s3xGzaiN/eHM//Pm9tXJyIddw4BEtHg/w3c0rHE94a+Z9evh1Jlj7unu/f7z//f/9///AAAA
//7z8/f///v/+/np1JqC4NfL/fjsxZJyxHc8wng3s3xHt3hQxH1Dunc2vXZJxIdvwJRxtoNZqXVC
vXxGvnM4vn1Fv3lFt3NGtohhvJhzxYZjvW08wX5GuX9Crmk5y5+J//jlv6OP7M63+Pn9///3+fnw
9/z/AAAA7//9//n/8P//+///9+PQu4xk9/ve7uLftYE9z3Uwr35FvXRR3HM7yIEwtnc9uG5JvXM3
wHQ0xnNJxnhJwXlDtmpLwXJMxH02u3c/wnM+ync1vndDv3M9uWYo1aOJ//n/xrib36mO7/H5/f/y
//jv9f/19/b4AAAA/P//9/H2/Pz/+Pz////959HCvq2T//Th7tzLrHVWoGpAsn1Htng0wH440XdC
z3g1tn8qv4VSu3tesmVAyHM8ynk8u3pFxn88wXs1vH1CtXg5pWY1uINb57+v////zrio0Lyh++jh
/f////v9//n8/f/+/f7+AAAA//r4/f7+//v/9vf/+Pn///3059TCt6eR2trR+e3PzYtiwmQz1XdI
xXdHs307rXY3zIph7NHC+fLm1Lmfsn9Qr2ostGo0t2pDtWg6sGY2zJJv48Gy9+3p////v7KP1r6n
8uHO//r1//z/+fr/9/r///////r4AAAA//72////9vb/+Pv///v///////706tLGyIx+4Mm6///q
1rmStXMzu24ytnBEuXVSz41s9d/W//////349OTS1sGrzrqo2L2u7NDB+O7i/fjz//////bnxKmR
1bCN+vHh//72///+//v/9/r//fr///////72AAAA///2/////v7/9/f/9/n8//r/+Pn///z/+ezv
0Kmcw5V0/+rG///o5MmtvYNgs1gnv2M8xZuG4+rf7v//+f/////++uv05NTb8/P0////////4ci1
tYln5r+m//X0//z///z///v/+Pv/9vr//v/////////2AAAA////9vX1////8/j89/f/+Pr/9vf/
9/39+f/x//v58NLYt4t+uI1w89Ov///t//3n8Nq54cu31LWr5r2w+dS7+uHA//nV///9//jv4byh
tY5szrWg+PPu+f7/9/v59/v9+Pj/+Pb/9/r/9v///v/////////+AAAA/f389fr///r//////v7/
9vf///v///r///j+///1///v//3w7ODduqSmmn1ttpFz0raU0Lqd7tjC/OHL89G04cGhwqaFp4Jf
vJNx48Kn/e7h//3++fn//fr/////+Pv/9vr/9vr//v////r///n/////////AAAA9/r/+/v59vv/
9/b2/////////v7/+PL1///49P//7v//+f/////1///1////8/Lo4Ni148mu27Ki3LGn0rOyzsTC
2Nrb9/jh///t9f/+8v3//fv///r3//v8//L///3///////////////n2///+////9v//AAAA9///
9/r//P38///////2//73//v3/f//7v7/+fr///r//fr/9vz/9/v8+/j2///8//n///v/////////
//7////7///68Pr/7/r//fr6//72///9+P//9v//9v///fv4//7////3///2////////9v//9/r/
AAAA

------_=_NextPart_001_01C64E3C.DAE28602--

From java-user-return-19768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 05:52:20 2006
Return-Path: <java-user-return-19768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46997 invoked from network); 23 Mar 2006 05:52:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 05:52:19 -0000
Received: (qmail 49013 invoked by uid 500); 23 Mar 2006 05:52:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48986 invoked by uid 500); 23 Mar 2006 05:52:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48975 invoked by uid 99); 23 Mar 2006 05:52:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 21:52:12 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_IMAGE_ONLY_32,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.47] (HELO mtaout01-winn.ispmail.ntl.com) (81.103.221.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 21:52:11 -0800
Received: from aamtaout02-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout01-winn.ispmail.ntl.com with ESMTP
          id <20060323055148.IEQA29343.mtaout01-winn.ispmail.ntl.com@aamtaout02-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Thu, 23 Mar 2006 05:51:48 +0000
Received: from jhi ([81.98.13.34]) by aamtaout02-winn.ispmail.ntl.com
          with SMTP
          id <20060323055147.LJYG15350.aamtaout02-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Thu, 23 Mar 2006 05:51:47 +0000
Message-ID: <003a01c64e3d$ea10f7f0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <DC47ED83883E7C4B94AC2A67C1DA53C5021205AD@BANMLVEM01.e2k.ad.ge.com>
Subject: Re: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 05:52:02 -0000
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_NextPart_000_0036_01C64E3D.E8C31B30"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0036_01C64E3D.E8C31B30
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0037_01C64E3D.E8C31B30"


------=_NextPart_001_0037_01C64E3D.E8C31B30
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Can i use lucene to search the internet.Hi, are you asking does it have =
a crawler? no it doesn't but nutch does http://lucene.apache.org/nutch/ =
:)

_gk
  ----- Original Message -----=20
  From: Babu, KameshNarayana (GE, Research, consultant)=20
  To: java-user@lucene.apache.org=20
  Sent: Thursday, March 23, 2006 5:44 AM
  Subject: Can i use lucene to search the internet.


  hi all,=20
  Can i use lucene to search the internet. Are do we have nay open =
source applications. Thanks in advance=20

   GE Global Research=20
  Kamesh NarayanaBabu=20
  John F. Welch Technology Centre
  Information Technology Management, Plot 122, Export Promotion =
Industrial Park,
  Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - =
560066, INDIA.
  Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91 =
9986259850 | Email:-  kameshnarayana.babu@ge.com=20

------=_NextPart_001_0037_01C64E3D.E8C31B30
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>Can i use lucene to search the internet.</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2900.2802" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3D"Courier New" size=3D2>Hi, are you asking does it have =
a crawler?=20
no it doesn't but nutch does <A=20
href=3D"http://lucene.apache.org/nutch/">http://lucene.apache.org/nutch/<=
/A>&nbsp;:)</FONT></DIV>
<DIV><FONT face=3D"Courier New" size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3D"Courier New" size=3D2>_gk</FONT></DIV>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
  <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
  <DIV=20
  style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
  <A title=3Dkameshnarayana.babu@ge.com=20
  href=3D"mailto:kameshnarayana.babu@ge.com">Babu, KameshNarayana (GE, =
Research,=20
  consultant)</A> </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A =
title=3Djava-user@lucene.apache.org=20
  =
href=3D"mailto:java-user@lucene.apache.org">java-user@lucene.apache.org</=
A>=20
  </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Thursday, March 23, 2006 =
5:44=20
  AM</DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> Can i use lucene to =
search the=20
  internet.</DIV>
  <DIV><BR></DIV><!-- Converted from text/rtf format -->
  <P><FONT face=3DArial size=3D2>hi all,</FONT> <BR><FONT face=3DArial =
size=3D2>Can i=20
  use lucene to search the internet. Are do we have nay open source=20
  applications. Thanks in advance</FONT> </P>
  <P><FONT face=3DArial color=3D#000000 size=3D2><IMG alt=3Dole0.bmp=20
  =
src=3D"cid:003501c64e3d$e89f6690$b900a8c0@jhi"></FONT><B></B><B></B><B><F=
ONT=20
  face=3DArial color=3D#003366>&nbsp;GE Global Research</FONT></B> =
<BR><B><FONT=20
  face=3DArial color=3D#003366 size=3D2>Kamesh NarayanaBabu</FONT></B> =
<BR><B><FONT=20
  face=3DArial color=3D#003366 size=3D2>John F. Welch Technology =
Centre</FONT><FONT=20
  face=3D"Courier New" color=3D#000099><BR></FONT><FONT face=3DArial =
color=3D#666699=20
  size=3D1>Information Technology Management, Plot 122, Export Promotion =

  Industrial Park,</FONT><FONT face=3D"Courier New" =
color=3D#000099><BR></FONT><FONT=20
  face=3DArial color=3D#666699 size=3D1>Phase II, Hoodi Village, =
Whitefield Road,=20
  Bangalore, Karnataka - 560066, INDIA.</FONT><FONT face=3D"Courier New" =

  color=3D#000099><BR></FONT><FONT face=3DArial color=3D#666699 =
size=3D1>Phone: +91 (80)=20
  2503 0457</FONT><FONT face=3DArial color=3D#0000ff size=3D1> =
|</FONT><FONT=20
  face=3DArial color=3D#666699 size=3D1> GE Dial comm.: 8 * 901 =
0359</FONT><FONT=20
  face=3DArial color=3D#0000ff size=3D1> |</FONT><FONT face=3D"Courier =
New"=20
  color=3D#000099></FONT> <FONT face=3DArial color=3D#666699 =
size=3D1>Mobile: +91=20
  9986259850</FONT> <FONT face=3DArial color=3D#0000ff =
size=3D1>|</FONT><FONT=20
  face=3DArial color=3D#666699 size=3D1> Email:-&nbsp;=20
  kameshnarayana.babu@ge.com</FONT></B> </P></BLOCKQUOTE></BODY></HTML>

------=_NextPart_001_0037_01C64E3D.E8C31B30--

------=_NextPart_000_0036_01C64E3D.E8C31B30
Content-Type: image/bmp;
	name="ole0.bmp"
Content-Transfer-Encoding: base64
Content-ID: <003501c64e3d$e89f6690$b900a8c0@jhi>
Content-Location: No%20AttachName

Qk1+EgAAAAAAADYAAAAoAAAAJwAAACcAAAABABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9vv/
//v///r////+///2///3//////////7///v///r///j///z///n///n//////////////v//////
///////////7///////////9+f///f////////n///L///7///v3//r2///+//////v/9fH///z/
AAAA//v/9Pb0//v/+vz8/////v7/9fr/+Pr///n///H///X//////vz+9u/f5tq1z6t8xn1Kv2Qx
xVslwlMmsE4puHVPuY5r1KSD+tzG//v9//////3/8Pf/9P7//f/4///9////////////9u32/vr+
//3/9fH1AAAA//r///v/+/z6//r///v//v7/9/v///7/9Pz/8P//9/3w6tW21JN2wYV0xq+k2djV
9/z7////////////////////8fD8xcjZrpiNunxN2qWH+ert//7/8vnz9P319//99fn89vb//vv/
//z///v///r///z/AAAA////+/38//r/9vv/9/v///n/+Pj//Pz/6vvs8uDMxZp5rodj7+DF////
/+Pv7Nbb29HA1Lyv37yu0qGMt4Fkx4xf5aVw+tOh/vXh////7sq2x4dY4a+S/fHy//3/+fn/+Pf/
9vn89vv//vv///z/9e71//z/AAAA///2////9vr/+Pv/+Pr///j///////v178yit4Fx787U////
+f//+f70/f/q/f/k///q/f/4/v/////////1wqd+o3c3qWswsnVAt4tj5dPE//321rKPzJVx9tzU
//////7///v/+Pr/9vv//vn+//////r1AAAA///2/v7///////r///j/////+OziyaieyZSJ//ft
///5+eXb77yv2p+CroNQoWwuwWo1x5B048zF+PHz////5MKrwnJLw21MvGtMxXVDwHYszqty/fXt
2dTTwZdw6Mm6//rx////+Pj/9/v/9vL3//////r3AAAA///39fn/+Pv/+Pj/////+ezjyKONxqmP
////897OzJh8qW8/tG83uHI2w3E/xHZFvnU9tm0/t3VS36KH+7+jx49tpXNLuHhQwnRFx3M5y4BF
rmsyvINL9uTF6e7qtJZ/3sKt//zz//7/+Pb/9vz//v//////AAAA//7/9/r9//////v//Pn5xqub
x6mS//nd6bqQrGs9s3JCxH1JvXU7v3o+wHo/wXZCwndFun0+rnQyqXcvr3YsunYuyH83wXwyvn5A
wXxNuXJDw3hFs2pDq3NT7uLF//nevqGD6s3B////9vj9+f/99/n//v//AAAA//b//v/39/7+//n7
28G2uqF6////66F9snIlu3s/uXk8wXIzz3gyx3o3s3g7vHxJwnlDtXo4wHo9unZAuXRGy3VFxHw5
uHc4vXI/uHBFtnU/x3g30ng5vW9CuX1e9e3u9fLN0npn8+vs8fv0/v7z//f/9vr/AAAA//r/+P//
+/768uXqrYFg/e7j16V7sGtRync/u3ZKvYNcvot2wZOAw4lvvnlOwG83xXpCuH1Kt3xGu3lCvXY9
unVAtYVXxY9fzJRfwpFnxoVbxXhGsXAytn9ItWg7z5mB/v7n/dTEspeM//v+9/zy//v99/r/AAAA
//r//v7+/P3/uZZ/+dW469S8t24prXJPu3ZItYdm6dnF/////P//9uvi5cSpxIdYwHE4uXJAsHdF
vXpJu3RHw5l269bD//70+/r5//f3/ePhxqORqXtWuHg6z3kuvWw76uLX////uZB08crN+f////n1
9Pz/AAAA//z9+fn82NPXyZtt/Pfsv4JKwXc2t3dEtn5S4b+r///+39HNy7qq8uPP///z48y1wXxU
xXdAt3s9snVGz6CE/PXk/Pru1su6wq+e37ux/ejj//3yyqmTxHpKwnwqvnE6y5+K9f/7+eXKtn9w
//39//f57f/9AAAA///0////tY51/+zK0K+dv3AswXo/t3Q0v4dS9NLB9uzsuoFurmQsz5Vk7drO
+fb52q2WxHY2vXcpwIxj8NnY+vn5x6eNqHA6rXw1sWsq2JBn/+7T9+zWvoVnvHw/t3xEvHNJ9PTr
////topr9tLQ//r/8P/2AAAA///z7uzxxIlj///2tXxRvHFExXhDtHcztYRE5s6++vPzz56Bwncx
sHIrt6GH9/j78N7UxohStm8q37WX////yry3qnVJxY5s1b+byJZktl8238Ks///6yaOJunRDs3c6
w2s08ePU/P3/79m+0ot/////+f75AAAA+v//5Lqp2K2k/uHOq2w3t21CxXlGtHo4vH1AxqyZ////
4M66uIBFtXMswYZY7tLD+ffwzKd/s2894sWp///7xKCPv3U/8dTF/v//2KSGwmZCwaeM9v7v5bGc
v3pHw3s4smw73Miv8N3V////wHZe///z//j/AAAA9///3ap42tLT67iLpWk5yHJKtHA+xX08w3o8
rXdU5NTG+vfp4LqezoJbvGg316mH/v/51LSeuHVN69C3+PTuypyEzoVQ+d/S6t7WxoBYv2c21sCh
///525yLv3c/zYE4r24517Wa+OXh//32xZF18/De//b/AAAA////sYdR9P/y05ZgvIZX245ttoJY
x3o4yXpDuG85uohf7tS+/vHs6cW4toxpw5t49/Ds3MS3vmw17MOn+/n/x5uGuHlA8NTJ+O7rzrGW
xp+J9Onc/vHqvYZrwnU6woAxvnEv4bKk+///7uK/17uX173I//v/AAAA////rGc6////vYFo7NjE
9tvF2LSWrnM61XZFx3U9v208yYRg0big7fDS8evF5Mmx8+fl2M6zwXIw5q+K+fn/1rehuHY00KWE
6uHW+vbp//Hj/O/U0a6Gu3tPr3lGwXc6qmg56NHH////8dzA28Kiu7Wx////AAAA////tlgx/v//
xo6J///////27MOrnW9Ds3pCwYI7wn03u3c8rnVLxJd65caq9u7T///569XKv4davIhk5tfN+e7L
0JZjrm0/t4tk1rWU3qyNzZtxtXpDuW06uXhFwG1AvY509fn0////+dfC4cuuu7uv////AAAA////
vFAe////4K6s/v//7u7YyYtqrnRFsn1Hu3czwn40voRAvHVIzoVpx6CHyL+h6+be+PP529TBxZl8
1KKS9O7P7te9zpRxwYBRvX1VtG9ItGg1v3VAy3xMwW86vHJO6dnJ8v/7+vjy576x++LGxbqj////
AAAA/P//tFYY////57+5/f/928GbuGY3w3c/wXlJyXo9xXQ1tHI9u5Bu8NnB8ebP4dnF7erm+e7v
7OXU8ubK5r2z1K2n3tfH7uPN8NbJ7dTN6M27yoxgyHg5xX0+tnQ8un9X//bh////4tC/3ben7s+2
zbSe////AAAA+v//zIBE///97dTI///5wIZWyXZAynxCu3pJtnQ8v3pJ1p2A6NbH9fnr18SxzaeX
5uHS+OjX0aKK0rKT8OLU59TU5d3S9/nu59/f5d7h4tnLwolgzH46s3YxrnlHr3g82LWU3L6htYdp
4saw58Wx4sCp////AAAA/vn/2Zxk5fTo7uDY//nwtWc5vHo8wXdAt3ZDunxM3bWU+/Dk+fb5+/n6
5NrRzaGEz6R/9O7Z3r2mvH1UyZlz4s6//ff29ujX0KB/yoxiu4ZQxXZEw3VHrnlFuHhFvH0wv3hP
wm5DqmQ3+vLUwqOS/N/D+v//AAAA//7/0qqJ0tO/79zd9Pzzu3pLtHIztXpGuHU5xItw8vDc8c7A
5tLF+e/q+9bG/+3P1ruf1s28/P/w3auEvGYyxZ6D7+/l//nf99a6w4hltXQ4vXhHxnRCznk4uXlD
y35FuHVDxXNDtnE6////qnpf//3h+/n/AAAA//n/8uHFupZ6//r79/z2upRmw3A4sXxJvHIzxIV0
+P/13quT0LGX8uzg1JmG5cu0+PHh1ce12tDC2aKBwms50J+C8Ovi3dK79eTP8tjFvYVdsXBExX5G
zno4vnlNv3VHvHw/uXRDzpt0//3ztYl4///v//n/AAAA//b////ns4FZ+Pv3//r+xaaDynE8tXdC
ynY81Idr9fXb27aWy51+/fvkz7GhtoRw+eXT6dzJw5F4xH1Xv3BA3ZNy+uzlybuqwamK+fTh4r2n
v3pUsXM9tHtFvHZIuXZAxHs+q2o19NjH+cmavLCx//7+//v6AAAA+fn////2ybCO4cOy////7NTG
qWE7y3k8unk8xoBax6F62pp0y35W7du+8OrasYZ4xaqZ/O7d15x1vm9Cv3BDxnZJ8NPC8/DhpIxz
0bqp//PswZVysGsztntOuHs+uX0+um49xJFp///wwo1b4e3x//n/+fv2AAAA/f//+fj/9fTlt4Ni
//7v+fD4ontiznQytH0/tXpEu3JEznlMw247z6N/8e/c5tzN3M2+//Lh2qh5unE4ynlHvXI5yqB7
+fXl7dfF8dzT///7w5x2wHY5t3A+xYI4tnUzrmVL9OnV/NGox6eT9v////r/9v78AAAA//vx7vr/
//z/1sCU1aiO////2rytwW0xw3U9sXc6wnlJunNFtXI8t3xKzaWI/OPV//fp79S+vZNiuHdAxXc9
vn85s3xGzaiN/eHM//Pm9tXJyIddw4BEtHg/w3c0rHE94a+Z9evh1Jlj7unu/f7z//f/9///AAAA
//7z8/f///v/+/np1JqC4NfL/fjsxZJyxHc8wng3s3xHt3hQxH1Dunc2vXZJxIdvwJRxtoNZqXVC
vXxGvnM4vn1Fv3lFt3NGtohhvJhzxYZjvW08wX5GuX9Crmk5y5+J//jlv6OP7M63+Pn9///3+fnw
9/z/AAAA7//9//n/8P//+///9+PQu4xk9/ve7uLftYE9z3Uwr35FvXRR3HM7yIEwtnc9uG5JvXM3
wHQ0xnNJxnhJwXlDtmpLwXJMxH02u3c/wnM+ync1vndDv3M9uWYo1aOJ//n/xrib36mO7/H5/f/y
//jv9f/19/b4AAAA/P//9/H2/Pz/+Pz////959HCvq2T//Th7tzLrHVWoGpAsn1Htng0wH440XdC
z3g1tn8qv4VSu3tesmVAyHM8ynk8u3pFxn88wXs1vH1CtXg5pWY1uINb57+v////zrio0Lyh++jh
/f////v9//n8/f/+/f7+AAAA//r4/f7+//v/9vf/+Pn///3059TCt6eR2trR+e3PzYtiwmQz1XdI
xXdHs307rXY3zIph7NHC+fLm1Lmfsn9Qr2ostGo0t2pDtWg6sGY2zJJv48Gy9+3p////v7KP1r6n
8uHO//r1//z/+fr/9/r///////r4AAAA//72////9vb/+Pv///v///////706tLGyIx+4Mm6///q
1rmStXMzu24ytnBEuXVSz41s9d/W//////349OTS1sGrzrqo2L2u7NDB+O7i/fjz//////bnxKmR
1bCN+vHh//72///+//v/9/r//fr///////72AAAA///2/////v7/9/f/9/n8//r/+Pn///z/+ezv
0Kmcw5V0/+rG///o5MmtvYNgs1gnv2M8xZuG4+rf7v//+f/////++uv05NTb8/P0////////4ci1
tYln5r+m//X0//z///z///v/+Pv/9vr//v/////////2AAAA////9vX1////8/j89/f/+Pr/9vf/
9/39+f/x//v58NLYt4t+uI1w89Ov///t//3n8Nq54cu31LWr5r2w+dS7+uHA//nV///9//jv4byh
tY5szrWg+PPu+f7/9/v59/v9+Pj/+Pb/9/r/9v///v/////////+AAAA/f389fr///r//////v7/
9vf///v///r///j+///1///v//3w7ODduqSmmn1ttpFz0raU0Lqd7tjC/OHL89G04cGhwqaFp4Jf
vJNx48Kn/e7h//3++fn//fr/////+Pv/9vr/9vr//v////r///n/////////AAAA9/r/+/v59vv/
9/b2/////////v7/+PL1///49P//7v//+f/////1///1////8/Lo4Ni148mu27Ki3LGn0rOyzsTC
2Nrb9/jh///t9f/+8v3//fv///r3//v8//L///3///////////////n2///+////9v//AAAA9///
9/r//P38///////2//73//v3/f//7v7/+fr///r//fr/9vz/9/v8+/j2///8//n///v/////////
//7////7///68Pr/7/r//fr6//72///9+P//9v//9v///fv4//7////3///2////////9v//9/r/
AAAA

------=_NextPart_000_0036_01C64E3D.E8C31B30--


From java-user-return-19769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 05:58:59 2006
Return-Path: <java-user-return-19769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49361 invoked from network); 23 Mar 2006 05:58:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 05:58:59 -0000
Received: (qmail 54313 invoked by uid 500); 23 Mar 2006 05:58:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54282 invoked by uid 500); 23 Mar 2006 05:58:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54271 invoked by uid 99); 23 Mar 2006 05:58:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 21:58:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.37.194.15] (HELO ext-ch1gw-7.online-age.net) (64.37.194.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 21:58:52 -0800
Received: from int-ch1gw-2.online-age.net (int-ch1gw-2 [3.159.232.66])
	by ext-ch1gw-7.online-age.net (8.13.4/8.13.5/20051111-SVVS-TLS-DNSBL) with ESMTP id k2N5wUwJ010433
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 00:58:31 -0500
Received: from cinmlef12.e2k.ad.ge.com (localhost [127.0.0.1])
	by int-ch1gw-2.online-age.net (8.12.9/8.12.3/990426-RLH) with ESMTP id k2N5wTVL013399
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 00:58:30 -0500 (EST)
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef12.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 23 Mar 2006 00:58:29 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C64E3E.CC056D74"
Subject: RE: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 11:28:24 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C502120639@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Can i use lucene to search the internet.
Thread-Index: AcZOPoGoUdc8cqSHQWq6ZHGVRsC+9AAABuYA
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Mar 2006 05:58:29.0534 (UTC) FILETIME=[CF0D6BE0:01C64E3E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64E3E.CC056D74
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C64E3E.CC056D74"


------_=_NextPart_002_01C64E3E.CC056D74
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Thanks for the information. My requirement is i should have a window and =
when i type the url and keyword , the search should happen and display =
the result in my window itself. Is there any open source =
engines...Please let me know ...Thanks once again

-----Original Message-----
From: gekkokid [mailto:me@gekkokid.org.uk]
Sent: Thursday, March 23, 2006 11:22 AM
To: java-user@lucene.apache.org
Subject: Re: Can i use lucene to search the internet.


Hi, are you asking does it have a crawler? no it doesn't but nutch does =
http://lucene.apache.org/nutch/ :)
=20
_gk

----- Original Message -----=20
From: Babu, KameshNarayana (GE, Research,  =
<mailto:kameshnarayana.babu@ge.com> consultant)=20
To: java-user@lucene.apache.org=20
Sent: Thursday, March 23, 2006 5:44 AM
Subject: Can i use lucene to search the internet.


hi all,=20
Can i use lucene to search the internet. Are do we have nay open source =
applications. Thanks in advance=20

ole0.bmp GE Global Research=20
Kamesh NarayanaBabu=20
John F. Welch Technology Centre
Information Technology Management, Plot 122, Export Promotion Industrial =
Park,
Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.
Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91 =
9986259850 | Email:-  kameshnarayana.babu@ge.com=20


------_=_NextPart_002_01C64E3E.CC056D74
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>Can i use lucene to search the internet.</TITLE>

<META content=3D"MSHTML 6.00.2800.1528" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><SPAN class=3D007065705-23032006><FONT face=3DArial color=3D#0000ff =
size=3D2>Thanks=20
for the information. My requirement is i should have a window and when i =
type=20
the url and keyword , the search should happen and display the result in =
my=20
window itself. Is there any open source engines...Please let me know =
...Thanks=20
once again</FONT></SPAN></DIV>
<BLOCKQUOTE dir=3Dltr style=3D"MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader dir=3Dltr align=3Dleft><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B> gekkokid=20
  [mailto:me@gekkokid.org.uk]<BR><B>Sent:</B> Thursday, March 23, 2006 =
11:22=20
  AM<BR><B>To:</B> java-user@lucene.apache.org<BR><B>Subject:</B> Re: =
Can i use=20
  lucene to search the internet.<BR><BR></FONT></DIV>
  <DIV><FONT face=3D"Courier New" size=3D2>Hi, are you asking does it =
have a=20
  crawler? no it doesn't but nutch does <A=20
  =
href=3D"http://lucene.apache.org/nutch/">http://lucene.apache.org/nutch/<=
/A>&nbsp;:)</FONT></DIV>
  <DIV><FONT face=3D"Courier New" size=3D2></FONT>&nbsp;</DIV>
  <DIV><FONT face=3D"Courier New" size=3D2>_gk</FONT></DIV>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
    <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
    <DIV=20
    style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
    <A title=3Dkameshnarayana.babu@ge.com=20
    href=3D"mailto:kameshnarayana.babu@ge.com">Babu, KameshNarayana (GE, =
Research,=20
    consultant)</A> </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A=20
    title=3Djava-user@lucene.apache.org=20
    =
href=3D"mailto:java-user@lucene.apache.org">java-user@lucene.apache.org</=
A>=20
    </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Thursday, March 23, =
2006 5:44=20
    AM</DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> Can i use lucene to =
search the=20
    internet.</DIV>
    <DIV><BR></DIV><!-- Converted from text/rtf format -->
    <P><FONT face=3DArial size=3D2>hi all,</FONT> <BR><FONT face=3DArial =
size=3D2>Can i=20
    use lucene to search the internet. Are do we have nay open source=20
    applications. Thanks in advance</FONT> </P>
    <P><FONT face=3DArial color=3D#000000 size=3D2><IMG alt=3Dole0.bmp=20
    src=3D"cid:007065705@23032006-044e"></FONT><B></B><B></B><B><FONT =
face=3DArial=20
    color=3D#003366>&nbsp;GE Global Research</FONT></B> <BR><B><FONT =
face=3DArial=20
    color=3D#003366 size=3D2>Kamesh NarayanaBabu</FONT></B> <BR><B><FONT =
face=3DArial=20
    color=3D#003366 size=3D2>John F. Welch Technology Centre</FONT><FONT =

    face=3D"Courier New" color=3D#000099><BR></FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1>Information Technology Management, Plot 122, Export =
Promotion=20
    Industrial Park,</FONT><FONT face=3D"Courier New"=20
    color=3D#000099><BR></FONT><FONT face=3DArial color=3D#666699 =
size=3D1>Phase II,=20
    Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066,=20
    INDIA.</FONT><FONT face=3D"Courier New" =
color=3D#000099><BR></FONT><FONT=20
    face=3DArial color=3D#666699 size=3D1>Phone: +91 (80) 2503 =
0457</FONT><FONT=20
    face=3DArial color=3D#0000ff size=3D1> |</FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1> GE Dial comm.: 8 * 901 0359</FONT><FONT face=3DArial =
color=3D#0000ff=20
    size=3D1> |</FONT><FONT face=3D"Courier New" color=3D#000099></FONT> =
<FONT=20
    face=3DArial color=3D#666699 size=3D1>Mobile: +91 9986259850</FONT> =
<FONT=20
    face=3DArial color=3D#0000ff size=3D1>|</FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1> Email:-&nbsp; kameshnarayana.babu@ge.com</FONT></B>=20
</P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_002_01C64E3E.CC056D74--

------_=_NextPart_001_01C64E3E.CC056D74
Content-Type: application/x-zip-compressed;
	name="ole0.ZIP"
Content-Transfer-Encoding: base64
Content-Description: ole0.ZIP
Content-Disposition: attachment;
	filename="ole0.ZIP"

UEsDBBQAAgAIAIxbdzSTqwbffQ8AAH4SAAAIAAAAb2xlMC5ibXB1WPlfU9e27/sX3k/3p/fbffe2
z09vHRkE4QMERW1rvX2t9/bdait1QgQyJyQgoiCKWodqHaoiWkRkJvNEhhMIQ4AQwgwGCGPInDMk
OWe/fRJs+354+5Oc7CR77+9ea6+19vqurE/L/v2DeNsD33+F779svf/tgz998P81NAoAfEUAABQA
KAAYSDTq/e84ADEAiPgL/P7nH1r0fYeEQ8hEF/YCiUUwEEG3ZkRB2E+vBnFhP4SG4DMSi9ELUiAc
AXgkPhGOCcdRYhTqnV+ekgw1iczig7r87cg3fzb8/T/bPvtQzvlccbPA/rIyMmMG0TgmCXwYCFHw
E/9tF7ChmygVoX8N+8M0boTeRjQWSXQgLhaldxeKAR8UnvStj0ntd7n6K2xz68vJiTEsFgX/t/l9
MaR3suXnG0rRp1Ovqon1TTg9QARDZBgDZJiIoSigonGlJRSYkBd+I2PwK1Q4jUgAHAdQ9PWoO/Bu
AHkkaKk+6X2H0ACLXrdjenqk265unVe32OpqZRX5PbXHXa+KI6N1VNgJh3j6pD3Vx5ytd0h/AIpG
wNUwgELo6BZ02BN+j4vSSoC6jcbViydOLOwdeCGrKPFa7YmzIqgQCdZJsAToJ/7+fMOGhrJ6XlJj
wScdnEzZ9ZOuURMgUUfHrYGfStAZ+292gsflooj4vEg4gUslVnkPirsXLK+fWu7VAGwTAhKuaa+6
derZpZbKI3XnP9af293zI3txAMH9QTh4ydBkYB4yFh5WFxxGONnd3G3WJiYZ3py0j+ofFK9alCDi
p9fEaWWigbjRRrA4LhYm4sLGQQn3Ym/9DXPjLdgPzlkHfhY1FmV0FSXJmXuMJRkmLkPLSZcWZsg4
R+dfVEd19T23Cl+xDsn5RwxsRg8rpf8io6Vgh7ryELqErHnWu+6XzxmaQSwIpcZRgMa2HIHGhYYU
IRNGHiMIc9PjnsY7gJhdU/74tiC9k5llEudpOHt1wn3dwgw9N8vAYyjF+1rYOxp5f2vlblNyP+4t
T9KLdmjLMvWiTxXMbCOf0Xkuu4n1d88CAog5bV3l+qCePkocehmJETQ0jYvSyBjUNRGd1kuVdUI4
ZqNO3MH8s6o0QyFI0zN3DvF39AiTOvl71aI8gyBbIkzuFqYruZkKdm4/h2ESpch5yRpmhryYIeVk
9PCTbPwUTVGWQvxteNMTDgzahKeDG25/NERRQRgeoC0l/AgqOEpFAq715ooTpGdx/FVpW8EXfbwM
FfegpvJ/tNe5+rsXjTVFWsFn3UVJiDBLLj4oE+WqBFkabrqSkym58jVy6/jAveOG26fNV75B+Lnt
xTuk5QckZ/YOPaygqBXSbup4UAsxsFgAOg/2HpeiqBgJFPfLiTH5hl0tu/BhM/NzFfeApPrU2iTt
QdDz0I0Fl6nRVH2suyRZwcxs4zE0wjwVe7/xIXfDYQRUKBohoNrIRae5/nZj6VdyfuqQ4GPN+b3r
C+NwBcWPbH/fIB3wiHAo4UcxkiBiE6PjlseFMcytu3RQz9sj4+VIy446dU3QDeZHBvuVbwKLQ9DQ
FgcketGXCC9TVprewckden45Fl6KRTyOfqWh9em8qp1cXQRkoK/xrkl40CD6SFuS2v/sWhhECVef
tLwYkCTAiE1Axu05BHchuckB7r7h1l90xdv0wgwZe5eu+mjIpkfdbmXFhZb8bUM/5W9OWQmUmGq+
b+Lu0fA+7K496ZuciBBET8ON18WpzaLd7QUfTfx4GnhGMbdDe+W0WpQhE+WoWXmh0AaEkF4rQG3D
UL0+gMZxgx6331RzEupSIvpCXZKD8LO7eDsll3OWrdpIMDj0tMLA297G/C9ZXTWGR31zdvPVo9Ki
j+YlD+BqfWrZG04ecvP8mO5x7/186fE984a30EUt9TVKdnYnL9VYsMu/aIfn6J3U2q6X05qmCIgL
o8WSsnGi+SXltDadT5IVZiGC3C5hslqcaX77EA57Z1XKLzIkrG36qmMem5HAfAMN5Z1F6QtII7RH
0/NbOk6G345A75h4WWU4laVvqEUpr6v9iU6431ia3HF+70xvq292DC7Vzf0WigntGOLCCDL7hj9l
G92QX391NqWXebCreB8iTjMK05p5Xy7ZzRFs7Z3yqfXSN+ozSeON1dDf7F1P5ZxPN4ZleMjT9+Sy
9coRYt62PucwXzymO73H0V0HZZp+cl3HyxisSG69kDIueYS7nDB+Irc5Qd8c9NzEvdBe/UUIBEbv
n1BXfT19s1B66ViPMNkizJYXpSivHvfYtZTfvYbIpbVnjY/5mM89Y5Jpz+92GxuiBOh5XCUXZPrs
FtyzYW2/b35WE1qbofzrmqoCAyfVcHG7tuRvzo6X8E7wLOjGVQ/GNb0wQCVw355OhU9NxRn3hAmd
Ria67rewUse4jB5Ouq4wzXL5xIj8+abP5t9AliztwRXXhLVTz/xkufUavG4csjo5d9fwq8vrTkcE
XQP+xZjXPtJSpSr9vFWQq+elvjmTsjrSQ1+XM93ThhcqSftWnISWdmw7PB3zzZrE/ew2Nv1SlN0p
zNJf2msQJ6l4aS2cQ6YHQpf5DeoZhTrcGOvTVf9TfTV/eXyQ8PQP3z/ZAiP29XyH5N7c2xuDj0sk
wmxFYaqCz+guzNTcZIcJ2mWIcYOzv0Wlav0NV33kP2j7aXkL0T2eCcv1cy1sRod4v4q301C2S3s5
U805YL1ytud5da+ubmN5Dg8S03Y98lBkf3En5BnyjGus90r0F7/QiP+7q+hA15ndOk5mv+iwvihV
zfxsbdICg1QED6xo26MLZkRZn8CFsajrqz/B/opOQQJyWv9YfirJyMvQC/IswnSEvbuLma768YJv
Uu9fHnJOIpvry4TH63bZA8t9y5pOe3PD3HiPZ3HQ57Bs2gdXB1V9tSd6+SmIeJ+UnaYs/xqgdD6w
MKyblTV4hqSDXU8TuNCPBi7mwERo094LldFd9ZWFm9knylIJ8+BEnTDP8cvFVUdPmNgYN7UPNjxY
dtrw1fGRF9dsHXd9C/YVu901a8MIz8r8vGvOuTDZb6g5MVCW2snd3iLY38pPm5Dcm9HWSarPLpjb
VpD2he7GBC5FgMkn+a7QqufdBCB8ktMpamGaHkZCbrZSdHhWci/qW4JhKkpElqZGBusuD70sD3km
5zS/qsVfWh6yFqw6EkPR1fHh5+V9td+rqo4g3BwjZ3+LgCHnM9TiT3T8zw0Xst/kJ0UCdkP9ndi8
MfL+/rW9qbGN6rwzs6FYUCU81MXcKRHmyjkppuvFAd+M39q9bEMI73rUYQabQw7VM8egGiZ9s02X
1ad2IE8rvV4XIOYxh9J49QcJO1nD329mZ1kFyQpBdn8ZQ87JRljZ0hLaZd4IjwPSCb2PxiVAwIko
7wtBJIrFUOW9U8bi5HZRnpq503SFjYPwXNPd4fYHAfc7+8MqV38X7neO9Uimhg2TLyoMBSnDzy75
NhZmbarw0lBgAtFc+Vd7cQ5SlmsVJmsFn+o4+2GUVrCzrY/ZgAxKavgAeEECl07rVjor/oHTCTaF
/FrZV5Im4WX1cdPs1QXh8PS09H7/L2VkdGmovU56uZhwja7NWIy3+Sbx17rizNm7zIjbZVG90Tde
I0LOBU2DTvhlOyu9q5Sh5h5QcDNNpfuazu0OTfQQlkfqtnY6UY5GIC70feizlrabTmMH7Lnt5sbv
9vYL0pSCNPPFf/bUCacesfvLvtqc1vrWp9qr+MibhzHP7PgTjrYoS1ecbebm+UYNQZ/zZS1rRNkI
gm79T8y2gp3S0s/kpfsU4n3KC+mm22cB8BlufOPc9ENhiSh9H8HUioDaDLlkld8Dykv48Bel31vZ
O7rEGRJhjoqZYxUcNl7YO1Rf7vfOLM8Mzgxq4cFMvRYoS5L7BPs1zJS+56VE2LU5jvhnYFSJGp9w
u7kpMhjkLyVLOTtbfjgUWhuLjbzuabhLqxYmtFQszlP8nngO7+i+N/b6JvxnSt2sL9xu5KS381IN
gjwliyFhpslEBwdfXY0tjgFszWvXau5+L+dlIrx0bXlKpyh38PUN0jkAgsvomKW3+l/Gizld/Awj
b9fbknRn68PwhtP+8KRnzUPG8ytsy56DQSxOVYg1+6NL78b7SdyN3GGaeGkGflKnaL+Mf8Qkzlby
9mi4eabqou57JdLKfzRysjSiXC0rWStm6AQMGStXevU79c8spOqkpjBNX5arKM9qOZvS/6wG4C5d
/S23VYYTULUYQfiweJ7jpekETYXglYEtDqtq87HonGdhXlKRPsT5pLWMoWF/McPa21vxiZSXLr+Q
p2EldbN3mVl5Zn6eXpAtPXdIzzxsEu9R8TIMrH19vN1aXraOla449dex+hq4sln+eL7xptcPUQMA
94ZBGEPxRJzE/CgkRDhNB8mVEYO2+S4IOT0z/W85Xz0/lwkDtZS/q7sseYSXNcTfLS3/SHflqKr0
244fMntZaX2CNJWQYS5P05fuVouzJPyUV6d2yyu/WdHR8d8qfz2srouuOsk4DQMEzDsokqLi+SQO
O1BaFAM4TV9DK3aDrOH21NQIsTk0eP17Q/7OMd4BhLe/U7y3mZs0cO0794iBCCzbFc86yo+0ntvW
dW6X7Fy25Exq26k9A3eKFvUd2OYaxNF13HJoGwJOKyRE0H6ICCQICUKEx883zstQmqpsEWgqtG4z
99aWvYPsBqw7FHckrJ2qCzukxTkKztGhG+fD8444z8VDSzaHvsmqfD2haXEP63HPAokH43fpiqnx
9ljbjYjfGV+flguCkglcCv2ND9K0F1oaQRNSWmq4Pbd3uPGJ8Sc2WDcDsLpkadZUnug89hfdyTTk
cdXi+rxnqwBARTZCS/bpYDCUoIjOXomk5vSy7lfonHTmHae9UChIE96zyAQuQMM0qw/iMQhNE0a4
ARJyGT80cZ9tQna9TH6jODgKzwtmviu+KYWzX2aXNC1r2gi7KuLsBgTM2SA39TrVdZKb562S53jQ
Q9D8ncCiJKR7kJFBYdHfqxP0+ZJkDBYW4vUNWmoU+62sQcWrDNDefe53s8qXvz4SF0pvs2zSe8PK
XzwThpizPzjS5dTXGX690nDpuPpuyaKhgfTA/I2CMTCh0oSYW5JGfq+Q0PlkBESjBE32UXRrN5Az
BiAiDhX3XpnhRKUjGFh9NyFZtLRMd7yYaW+wdXZYTYaJqWkMh5f7ZhhQAZg60NvGYOWCrquQf6hH
EFsSowlcQCshRsYSmgcUnILB4R6KtkAQNwbIW7FoLAr1RR/8H+o3VKKYE/FFgJceGYlbEYnHF6d7
UTw+BktYUQI0wcv+F1BLAQItABQAAgAIAIxbdzSTqwbffQ8AAH4SAAAIACQAAAAAAAAAIAAAAAAA
AABvbGUwLmJtcAoAIAAAAAAAAQAYAOCGtMo+TsYB4Ia0yj5OxgHghrTKPk7GAVBLBQYAAAAAAQAB
AFoAAACjDwAAAAA=


------_=_NextPart_001_01C64E3E.CC056D74
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C64E3E.CC056D74--

From java-user-return-19770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 06:28:34 2006
Return-Path: <java-user-return-19770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60601 invoked from network); 23 Mar 2006 06:28:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 06:28:34 -0000
Received: (qmail 78554 invoked by uid 500); 23 Mar 2006 06:28:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78520 invoked by uid 500); 23 Mar 2006 06:28:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78509 invoked by uid 99); 23 Mar 2006 06:28:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 22:28:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.47] (HELO mtaout01-winn.ispmail.ntl.com) (81.103.221.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 22:28:27 -0800
Received: from aamtaout03-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout01-winn.ispmail.ntl.com with ESMTP
          id <20060323062806.INFO29343.mtaout01-winn.ispmail.ntl.com@aamtaout03-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Thu, 23 Mar 2006 06:28:06 +0000
Received: from jhi ([81.98.13.34]) by aamtaout03-winn.ispmail.ntl.com
          with SMTP
          id <20060323062805.LWCM7448.aamtaout03-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Thu, 23 Mar 2006 06:28:05 +0000
Message-ID: <003501c64e42$fc3a3900$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <DC47ED83883E7C4B94AC2A67C1DA53C502120639@BANMLVEM01.e2k.ad.ge.com>
Subject: Re: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 06:28:15 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0032_01C64E42.FAF38830"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0032_01C64E42.FAF38830
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Can i use lucene to search the internet.you could use the google api, =
that would seem the easiest method, however im not 100% sure what the =
program is meant to do, search the whole site or just that page?

with the google api, you create a window, with inputs for the url and =
the keyword and it would search that domain returning the first 10 =
results

if you are after a program that when you search with the url and =
keyword, it crawls that domain, you can use lucene but you would have to =
find or create a basic crawler =
http://java-source.net/open-source/crawlers, so it would crawl the =
domain and index the pages into RAM and once queried you could get the =
result.

am i close? or miles off?
  ----- Original Message -----=20
  From: Babu, KameshNarayana (GE, Research, consultant)=20
  To: java-user@lucene.apache.org=20
  Sent: Thursday, March 23, 2006 5:58 AM
  Subject: RE: Can i use lucene to search the internet.


  Thanks for the information. My requirement is i should have a window =
and when i type the url and keyword , the search should happen and =
display the result in my window itself. Is there any open source =
engines...Please let me know ...Thanks once again
    -----Original Message-----
    From: gekkokid [mailto:me@gekkokid.org.uk]
    Sent: Thursday, March 23, 2006 11:22 AM
    To: java-user@lucene.apache.org
    Subject: Re: Can i use lucene to search the internet.


    Hi, are you asking does it have a crawler? no it doesn't but nutch =
does http://lucene.apache.org/nutch/ :)

    _gk
      ----- Original Message -----=20
      From: Babu, KameshNarayana (GE, Research, consultant)=20
      To: java-user@lucene.apache.org=20
      Sent: Thursday, March 23, 2006 5:44 AM
      Subject: Can i use lucene to search the internet.


      hi all,=20
      Can i use lucene to search the internet. Are do we have nay open =
source applications. Thanks in advance=20

       GE Global Research=20
      Kamesh NarayanaBabu=20
      John F. Welch Technology Centre
      Information Technology Management, Plot 122, Export Promotion =
Industrial Park,
      Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - =
560066, INDIA.
      Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: =
+91 9986259850 | Email:-  kameshnarayana.babu@ge.com=20



-------------------------------------------------------------------------=
-----


  ---------------------------------------------------------------------
  To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
  For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPart_000_0032_01C64E42.FAF38830--


From java-user-return-19771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 07:45:46 2006
Return-Path: <java-user-return-19771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1053 invoked from network); 23 Mar 2006 07:45:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 07:45:46 -0000
Received: (qmail 53955 invoked by uid 500); 23 Mar 2006 07:45:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53935 invoked by uid 500); 23 Mar 2006 07:45:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53924 invoked by uid 99); 23 Mar 2006 07:45:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 23:45:40 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 23:45:40 -0800
Received: by zproxy.gmail.com with SMTP id q3so419945nzb
        for <java-user@lucene.apache.org>; Wed, 22 Mar 2006 23:45:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Rcqam5A17q9r7x4YPsncbX3DGjQG6k6opGMdDrlxQpzbKlX1WI85Hk1J/u32Z5cIgW1YRkQ06pteTCh314HDgkK3g0BDPSVPztJOyD9romyt4xPmc4H1VS8GWJ1XN2z7ManmKFNEFCVYaYxNFIAPbLz9I63aihlHfnWFTESAWk4=
Received: by 10.64.243.6 with SMTP id q6mr819588qbh;
        Wed, 22 Mar 2006 23:45:19 -0800 (PST)
Received: by 10.64.151.3 with HTTP; Wed, 22 Mar 2006 23:45:19 -0800 (PST)
Message-ID: <4f2c7c9b0603222345m36b10e4dv@mail.gmail.com>
Date: Thu, 23 Mar 2006 15:45:19 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: Speed up Indexing
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1561_17342899.1143099919602"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1561_17342899.1143099919602
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,everyone. I have a large mount of xml files of size 1G. I use lucene(the
dotNet edition) to index . There are 8 fields for a document, with 4 keywor=
d
fields and 4 unstored fields. I have set the minMergeDocs to 10000 and
mergeFactor to 100. It took about 2.5 hours (main memeory 3G, CPU p4 ) .I
also try in-memory indexing  which is also more than 2.5hours.  Due to the
performance requirement , I need complete the indexing in one hour without
the use of distributing or clustering system . Cant it be possible?  Is it
faster to use java Lucene than dotNet one? Any advice will be appreciated.
Thank you in advance.

------=_Part_1561_17342899.1143099919602--

From java-user-return-19772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 07:54:11 2006
Return-Path: <java-user-return-19772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4581 invoked from network); 23 Mar 2006 07:54:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 07:54:11 -0000
Received: (qmail 60276 invoked by uid 500); 23 Mar 2006 07:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60046 invoked by uid 500); 23 Mar 2006 07:54:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60034 invoked by uid 99); 23 Mar 2006 07:54:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 23:54:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.14.54.241] (HELO ext-nj2ut-11.online-age.net) (64.14.54.241)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Mar 2006 23:54:04 -0800
Received: from int-nj2ut-3.online-age.net (int-nj2ut-3.online-age.net [3.159.237.72])
	by ext-nj2ut-11.online-age.net (8.13.5/8.13.5/20051114-SVVS-TLS-DNSBL) with ESMTP id k2N7rhWW009162
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 02:53:43 -0500
Received: from cinmlef08.e2k.ad.ge.com (localhost.localdomain [127.0.0.1])
	by int-nj2ut-3.online-age.net (8.11.6/8.11.6/20050510-SVVS) with ESMTP id k2N7rgm00848
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 02:53:42 -0500
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef08.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 23 Mar 2006 02:53:42 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 13:23:38 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C5021969F7@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can i use lucene to search the internet.
Thread-Index: AcZOQwXrdGHX1Y2ZSBy4CRvPD7jhcAAC536Q
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Mar 2006 07:53:42.0272 (UTC) FILETIME=[E75D8800:01C64E4E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,=20
Thanks for the idea. The second option is a nice idea. I dont want to =
use google api. The second option of urs says that , use a crawler to =
crawl the webpage and use lucene to search ,"tats a nice idea". Is there =
any other posibility than this. Adivce will be appreciated.
-----Original Message-----
From: gekkokid [mailto:me@gekkokid.org.uk]
Sent: Thursday, March 23, 2006 11:58 AM
To: java-user@lucene.apache.org
Subject: Re: Can i use lucene to search the internet.


Can i use lucene to search the internet.you could use the google api, =
that would seem the easiest method, however im not 100% sure what the =
program is meant to do, search the whole site or just that page?

with the google api, you create a window, with inputs for the url and =
the keyword and it would search that domain returning the first 10 =
results

if you are after a program that when you search with the url and =
keyword, it crawls that domain, you can use lucene but you would have to =
find or create a basic crawler =
http://java-source.net/open-source/crawlers, so it would crawl the =
domain and index the pages into RAM and once queried you could get the =
result.

am i close? or miles off?
  ----- Original Message -----=20
  From: Babu, KameshNarayana (GE, Research, consultant)=20
  To: java-user@lucene.apache.org=20
  Sent: Thursday, March 23, 2006 5:58 AM
  Subject: RE: Can i use lucene to search the internet.


  Thanks for the information. My requirement is i should have a window =
and when i type the url and keyword , the search should happen and =
display the result in my window itself. Is there any open source =
engines...Please let me know ...Thanks once again
    -----Original Message-----
    From: gekkokid [mailto:me@gekkokid.org.uk]
    Sent: Thursday, March 23, 2006 11:22 AM
    To: java-user@lucene.apache.org
    Subject: Re: Can i use lucene to search the internet.


    Hi, are you asking does it have a crawler? no it doesn't but nutch =
does http://lucene.apache.org/nutch/ :)

    _gk
      ----- Original Message -----=20
      From: Babu, KameshNarayana (GE, Research, consultant)=20
      To: java-user@lucene.apache.org=20
      Sent: Thursday, March 23, 2006 5:44 AM
      Subject: Can i use lucene to search the internet.


      hi all,=20
      Can i use lucene to search the internet. Are do we have nay open =
source applications. Thanks in advance=20

       GE Global Research=20
      Kamesh NarayanaBabu=20
      John F. Welch Technology Centre
      Information Technology Management, Plot 122, Export Promotion =
Industrial Park,
      Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - =
560066, INDIA.
      Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: =
+91 9986259850 | Email:-  kameshnarayana.babu@ge.com=20



-------------------------------------------------------------------------=
-----


  ---------------------------------------------------------------------
  To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
  For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 09:54:45 2006
Return-Path: <java-user-return-19773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72780 invoked from network); 23 Mar 2006 09:54:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 09:54:04 -0000
Received: (qmail 71088 invoked by uid 500); 23 Mar 2006 09:53:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71052 invoked by uid 500); 23 Mar 2006 09:53:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71040 invoked by uid 99); 23 Mar 2006 09:53:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 01:53:21 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.37.194.15] (HELO ext-ch1gw-7.online-age.net) (64.37.194.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 01:53:20 -0800
Received: from int-ch1gw-5.online-age.net (int-ch1gw-5 [3.159.232.69])
	by ext-ch1gw-7.online-age.net (8.13.4/8.13.5/20051111-SVVS-TLS-DNSBL) with ESMTP id k2N9qsuc006454
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 04:52:54 -0500
Received: from cinmlef06.e2k.ad.ge.com (localhost [127.0.0.1])
	by int-ch1gw-5.online-age.net (8.12.9/8.12.3/990426-RLH) with ESMTP id k2N9qrNB010864
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 04:52:54 -0500 (EST)
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef06.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 23 Mar 2006 04:52:51 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----_=_NextPart_001_01C64E5F.6D8CC694";
	type="multipart/alternative"
Subject: RE: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 15:21:59 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C502196D88@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Can i use lucene to search the internet.
Thread-Index: AcZOPoGoUdc8cqSHQWq6ZHGVRsC+9AAINriA
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Mar 2006 09:52:51.0216 (UTC) FILETIME=[8C77D100:01C64E5F]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64E5F.6D8CC694
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C64E5F.6D8CC694"


------_=_NextPart_002_01C64E5F.6D8CC694
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,=20
Can we use NUTCH in windows OS

-----Original Message-----
From: gekkokid [mailto:me@gekkokid.org.uk]
Sent: Thursday, March 23, 2006 11:22 AM
To: java-user@lucene.apache.org
Subject: Re: Can i use lucene to search the internet.


Hi, are you asking does it have a crawler? no it doesn't but nutch does =
http://lucene.apache.org/nutch/ :)
=20
_gk

----- Original Message -----=20
From: Babu, KameshNarayana (GE, Research,  =
<mailto:kameshnarayana.babu@ge.com> consultant)=20
To: java-user@lucene.apache.org=20
Sent: Thursday, March 23, 2006 5:44 AM
Subject: Can i use lucene to search the internet.


hi all,=20
Can i use lucene to search the internet. Are do we have nay open source =
applications. Thanks in advance=20

ole0.bmp GE Global Research=20
Kamesh NarayanaBabu=20
John F. Welch Technology Centre
Information Technology Management, Plot 122, Export Promotion Industrial =
Park,
Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.
Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91 =
9986259850 | Email:-  kameshnarayana.babu@ge.com=20


------_=_NextPart_002_01C64E5F.6D8CC694
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>Can i use lucene to search the internet.</TITLE>

<META content=3D"MSHTML 6.00.2800.1528" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><SPAN class=3D832305109-23032006><FONT face=3DArial color=3D#0000ff =
size=3D2>Hi,=20
</FONT></SPAN></DIV>
<DIV><SPAN class=3D832305109-23032006><FONT face=3DArial color=3D#0000ff =
size=3D2>Can we=20
use NUTCH in windows OS</FONT></SPAN></DIV>
<BLOCKQUOTE dir=3Dltr style=3D"MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader dir=3Dltr align=3Dleft><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B> gekkokid=20
  [mailto:me@gekkokid.org.uk]<BR><B>Sent:</B> Thursday, March 23, 2006 =
11:22=20
  AM<BR><B>To:</B> java-user@lucene.apache.org<BR><B>Subject:</B> Re: =
Can i use=20
  lucene to search the internet.<BR><BR></FONT></DIV>
  <DIV><FONT face=3D"Courier New" size=3D2>Hi, are you asking does it =
have a=20
  crawler? no it doesn't but nutch does <A=20
  =
href=3D"http://lucene.apache.org/nutch/">http://lucene.apache.org/nutch/<=
/A>&nbsp;:)</FONT></DIV>
  <DIV><FONT face=3D"Courier New" size=3D2></FONT>&nbsp;</DIV>
  <DIV><FONT face=3D"Courier New" size=3D2>_gk</FONT></DIV>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
    <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
    <DIV=20
    style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
    <A title=3Dkameshnarayana.babu@ge.com=20
    href=3D"mailto:kameshnarayana.babu@ge.com">Babu, KameshNarayana (GE, =
Research,=20
    consultant)</A> </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A=20
    title=3Djava-user@lucene.apache.org=20
    =
href=3D"mailto:java-user@lucene.apache.org">java-user@lucene.apache.org</=
A>=20
    </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Thursday, March 23, =
2006 5:44=20
    AM</DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> Can i use lucene to =
search the=20
    internet.</DIV>
    <DIV><BR></DIV><!-- Converted from text/rtf format -->
    <P><FONT face=3DArial size=3D2>hi all,</FONT> <BR><FONT face=3DArial =
size=3D2>Can i=20
    use lucene to search the internet. Are do we have nay open source=20
    applications. Thanks in advance</FONT> </P>
    <P><FONT face=3DArial color=3D#000000 size=3D2><IMG alt=3Dole0.bmp=20
    src=3D"cid:832305109@23032006-2cbc"></FONT><B></B><B></B><B><FONT =
face=3DArial=20
    color=3D#003366>&nbsp;GE Global Research</FONT></B> <BR><B><FONT =
face=3DArial=20
    color=3D#003366 size=3D2>Kamesh NarayanaBabu</FONT></B> <BR><B><FONT =
face=3DArial=20
    color=3D#003366 size=3D2>John F. Welch Technology Centre</FONT><FONT =

    face=3D"Courier New" color=3D#000099><BR></FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1>Information Technology Management, Plot 122, Export =
Promotion=20
    Industrial Park,</FONT><FONT face=3D"Courier New"=20
    color=3D#000099><BR></FONT><FONT face=3DArial color=3D#666699 =
size=3D1>Phase II,=20
    Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066,=20
    INDIA.</FONT><FONT face=3D"Courier New" =
color=3D#000099><BR></FONT><FONT=20
    face=3DArial color=3D#666699 size=3D1>Phone: +91 (80) 2503 =
0457</FONT><FONT=20
    face=3DArial color=3D#0000ff size=3D1> |</FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1> GE Dial comm.: 8 * 901 0359</FONT><FONT face=3DArial =
color=3D#0000ff=20
    size=3D1> |</FONT><FONT face=3D"Courier New" color=3D#000099></FONT> =
<FONT=20
    face=3DArial color=3D#666699 size=3D1>Mobile: +91 9986259850</FONT> =
<FONT=20
    face=3DArial color=3D#0000ff size=3D1>|</FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1> Email:-&nbsp; kameshnarayana.babu@ge.com</FONT></B>=20
</P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_002_01C64E5F.6D8CC694--

------_=_NextPart_001_01C64E5F.6D8CC694
Content-Type: image/bmp;
	name="ole0.bmp"
Content-Transfer-Encoding: base64
Content-ID: <832305109@23032006-2cbc>
Content-Description: ole0.bmp
Content-Location: ole0.bmp

Qk1+EgAAAAAAADYAAAAoAAAAJwAAACcAAAABABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9vv/
//v///r////+///2///3//////////7///v///r///j///z///n///n//////////////v//////
///////////7///////////9+f///f////////n///L///7///v3//r2///+//////v/9fH///z/
AAAA//v/9Pb0//v/+vz8/////v7/9fr/+Pr///n///H///X//////vz+9u/f5tq1z6t8xn1Kv2Qx
xVslwlMmsE4puHVPuY5r1KSD+tzG//v9//////3/8Pf/9P7//f/4///9////////////9u32/vr+
//3/9fH1AAAA//r///v/+/z6//r///v//v7/9/v///7/9Pz/8P//9/3w6tW21JN2wYV0xq+k2djV
9/z7////////////////////8fD8xcjZrpiNunxN2qWH+ert//7/8vnz9P319//99fn89vb//vv/
//z///v///r///z/AAAA////+/38//r/9vv/9/v///n/+Pj//Pz/6vvs8uDMxZp5rodj7+DF////
/+Pv7Nbb29HA1Lyv37yu0qGMt4Fkx4xf5aVw+tOh/vXh////7sq2x4dY4a+S/fHy//3/+fn/+Pf/
9vn89vv//vv///z/9e71//z/AAAA///2////9vr/+Pv/+Pr///j///////v178yit4Fx787U////
+f//+f70/f/q/f/k///q/f/4/v/////////1wqd+o3c3qWswsnVAt4tj5dPE//321rKPzJVx9tzU
//////7///v/+Pr/9vv//vn+//////r1AAAA///2/v7///////r///j/////+OziyaieyZSJ//ft
///5+eXb77yv2p+CroNQoWwuwWo1x5B048zF+PHz////5MKrwnJLw21MvGtMxXVDwHYszqty/fXt
2dTTwZdw6Mm6//rx////+Pj/9/v/9vL3//////r3AAAA///39fn/+Pv/+Pj/////+ezjyKONxqmP
////897OzJh8qW8/tG83uHI2w3E/xHZFvnU9tm0/t3VS36KH+7+jx49tpXNLuHhQwnRFx3M5y4BF
rmsyvINL9uTF6e7qtJZ/3sKt//zz//7/+Pb/9vz//v//////AAAA//7/9/r9//////v//Pn5xqub
x6mS//nd6bqQrGs9s3JCxH1JvXU7v3o+wHo/wXZCwndFun0+rnQyqXcvr3YsunYuyH83wXwyvn5A
wXxNuXJDw3hFs2pDq3NT7uLF//nevqGD6s3B////9vj9+f/99/n//v//AAAA//b//v/39/7+//n7
28G2uqF6////66F9snIlu3s/uXk8wXIzz3gyx3o3s3g7vHxJwnlDtXo4wHo9unZAuXRGy3VFxHw5
uHc4vXI/uHBFtnU/x3g30ng5vW9CuX1e9e3u9fLN0npn8+vs8fv0/v7z//f/9vr/AAAA//r/+P//
+/768uXqrYFg/e7j16V7sGtRync/u3ZKvYNcvot2wZOAw4lvvnlOwG83xXpCuH1Kt3xGu3lCvXY9
unVAtYVXxY9fzJRfwpFnxoVbxXhGsXAytn9ItWg7z5mB/v7n/dTEspeM//v+9/zy//v99/r/AAAA
//r//v7+/P3/uZZ/+dW469S8t24prXJPu3ZItYdm6dnF/////P//9uvi5cSpxIdYwHE4uXJAsHdF
vXpJu3RHw5l269bD//70+/r5//f3/ePhxqORqXtWuHg6z3kuvWw76uLX////uZB08crN+f////n1
9Pz/AAAA//z9+fn82NPXyZtt/Pfsv4JKwXc2t3dEtn5S4b+r///+39HNy7qq8uPP///z48y1wXxU
xXdAt3s9snVGz6CE/PXk/Pru1su6wq+e37ux/ejj//3yyqmTxHpKwnwqvnE6y5+K9f/7+eXKtn9w
//39//f57f/9AAAA///0////tY51/+zK0K+dv3AswXo/t3Q0v4dS9NLB9uzsuoFurmQsz5Vk7drO
+fb52q2WxHY2vXcpwIxj8NnY+vn5x6eNqHA6rXw1sWsq2JBn/+7T9+zWvoVnvHw/t3xEvHNJ9PTr
////topr9tLQ//r/8P/2AAAA///z7uzxxIlj///2tXxRvHFExXhDtHcztYRE5s6++vPzz56Bwncx
sHIrt6GH9/j78N7UxohStm8q37WX////yry3qnVJxY5s1b+byJZktl8238Ks///6yaOJunRDs3c6
w2s08ePU/P3/79m+0ot/////+f75AAAA+v//5Lqp2K2k/uHOq2w3t21CxXlGtHo4vH1AxqyZ////
4M66uIBFtXMswYZY7tLD+ffwzKd/s2894sWp///7xKCPv3U/8dTF/v//2KSGwmZCwaeM9v7v5bGc
v3pHw3s4smw73Miv8N3V////wHZe///z//j/AAAA9///3ap42tLT67iLpWk5yHJKtHA+xX08w3o8
rXdU5NTG+vfp4LqezoJbvGg316mH/v/51LSeuHVN69C3+PTuypyEzoVQ+d/S6t7WxoBYv2c21sCh
///525yLv3c/zYE4r24517Wa+OXh//32xZF18/De//b/AAAA////sYdR9P/y05ZgvIZX245ttoJY
x3o4yXpDuG85uohf7tS+/vHs6cW4toxpw5t49/Ds3MS3vmw17MOn+/n/x5uGuHlA8NTJ+O7rzrGW
xp+J9Onc/vHqvYZrwnU6woAxvnEv4bKk+///7uK/17uX173I//v/AAAA////rGc6////vYFo7NjE
9tvF2LSWrnM61XZFx3U9v208yYRg0big7fDS8evF5Mmx8+fl2M6zwXIw5q+K+fn/1rehuHY00KWE
6uHW+vbp//Hj/O/U0a6Gu3tPr3lGwXc6qmg56NHH////8dzA28Kiu7Wx////AAAA////tlgx/v//
xo6J///////27MOrnW9Ds3pCwYI7wn03u3c8rnVLxJd65caq9u7T///569XKv4davIhk5tfN+e7L
0JZjrm0/t4tk1rWU3qyNzZtxtXpDuW06uXhFwG1AvY509fn0////+dfC4cuuu7uv////AAAA////
vFAe////4K6s/v//7u7YyYtqrnRFsn1Hu3czwn40voRAvHVIzoVpx6CHyL+h6+be+PP529TBxZl8
1KKS9O7P7te9zpRxwYBRvX1VtG9ItGg1v3VAy3xMwW86vHJO6dnJ8v/7+vjy576x++LGxbqj////
AAAA/P//tFYY////57+5/f/928GbuGY3w3c/wXlJyXo9xXQ1tHI9u5Bu8NnB8ebP4dnF7erm+e7v
7OXU8ubK5r2z1K2n3tfH7uPN8NbJ7dTN6M27yoxgyHg5xX0+tnQ8un9X//bh////4tC/3ben7s+2
zbSe////AAAA+v//zIBE///97dTI///5wIZWyXZAynxCu3pJtnQ8v3pJ1p2A6NbH9fnr18SxzaeX
5uHS+OjX0aKK0rKT8OLU59TU5d3S9/nu59/f5d7h4tnLwolgzH46s3YxrnlHr3g82LWU3L6htYdp
4saw58Wx4sCp////AAAA/vn/2Zxk5fTo7uDY//nwtWc5vHo8wXdAt3ZDunxM3bWU+/Dk+fb5+/n6
5NrRzaGEz6R/9O7Z3r2mvH1UyZlz4s6//ff29ujX0KB/yoxiu4ZQxXZEw3VHrnlFuHhFvH0wv3hP
wm5DqmQ3+vLUwqOS/N/D+v//AAAA//7/0qqJ0tO/79zd9Pzzu3pLtHIztXpGuHU5xItw8vDc8c7A
5tLF+e/q+9bG/+3P1ruf1s28/P/w3auEvGYyxZ6D7+/l//nf99a6w4hltXQ4vXhHxnRCznk4uXlD
y35FuHVDxXNDtnE6////qnpf//3h+/n/AAAA//n/8uHFupZ6//r79/z2upRmw3A4sXxJvHIzxIV0
+P/13quT0LGX8uzg1JmG5cu0+PHh1ce12tDC2aKBwms50J+C8Ovi3dK79eTP8tjFvYVdsXBExX5G
zno4vnlNv3VHvHw/uXRDzpt0//3ztYl4///v//n/AAAA//b////ns4FZ+Pv3//r+xaaDynE8tXdC
ynY81Idr9fXb27aWy51+/fvkz7GhtoRw+eXT6dzJw5F4xH1Xv3BA3ZNy+uzlybuqwamK+fTh4r2n
v3pUsXM9tHtFvHZIuXZAxHs+q2o19NjH+cmavLCx//7+//v6AAAA+fn////2ybCO4cOy////7NTG
qWE7y3k8unk8xoBax6F62pp0y35W7du+8OrasYZ4xaqZ/O7d15x1vm9Cv3BDxnZJ8NPC8/DhpIxz
0bqp//PswZVysGsztntOuHs+uX0+um49xJFp///wwo1b4e3x//n/+fv2AAAA/f//+fj/9fTlt4Ni
//7v+fD4ontiznQytH0/tXpEu3JEznlMw247z6N/8e/c5tzN3M2+//Lh2qh5unE4ynlHvXI5yqB7
+fXl7dfF8dzT///7w5x2wHY5t3A+xYI4tnUzrmVL9OnV/NGox6eT9v////r/9v78AAAA//vx7vr/
//z/1sCU1aiO////2rytwW0xw3U9sXc6wnlJunNFtXI8t3xKzaWI/OPV//fp79S+vZNiuHdAxXc9
vn85s3xGzaiN/eHM//Pm9tXJyIddw4BEtHg/w3c0rHE94a+Z9evh1Jlj7unu/f7z//f/9///AAAA
//7z8/f///v/+/np1JqC4NfL/fjsxZJyxHc8wng3s3xHt3hQxH1Dunc2vXZJxIdvwJRxtoNZqXVC
vXxGvnM4vn1Fv3lFt3NGtohhvJhzxYZjvW08wX5GuX9Crmk5y5+J//jlv6OP7M63+Pn9///3+fnw
9/z/AAAA7//9//n/8P//+///9+PQu4xk9/ve7uLftYE9z3Uwr35FvXRR3HM7yIEwtnc9uG5JvXM3
wHQ0xnNJxnhJwXlDtmpLwXJMxH02u3c/wnM+ync1vndDv3M9uWYo1aOJ//n/xrib36mO7/H5/f/y
//jv9f/19/b4AAAA/P//9/H2/Pz/+Pz////959HCvq2T//Th7tzLrHVWoGpAsn1Htng0wH440XdC
z3g1tn8qv4VSu3tesmVAyHM8ynk8u3pFxn88wXs1vH1CtXg5pWY1uINb57+v////zrio0Lyh++jh
/f////v9//n8/f/+/f7+AAAA//r4/f7+//v/9vf/+Pn///3059TCt6eR2trR+e3PzYtiwmQz1XdI
xXdHs307rXY3zIph7NHC+fLm1Lmfsn9Qr2ostGo0t2pDtWg6sGY2zJJv48Gy9+3p////v7KP1r6n
8uHO//r1//z/+fr/9/r///////r4AAAA//72////9vb/+Pv///v///////706tLGyIx+4Mm6///q
1rmStXMzu24ytnBEuXVSz41s9d/W//////349OTS1sGrzrqo2L2u7NDB+O7i/fjz//////bnxKmR
1bCN+vHh//72///+//v/9/r//fr///////72AAAA///2/////v7/9/f/9/n8//r/+Pn///z/+ezv
0Kmcw5V0/+rG///o5MmtvYNgs1gnv2M8xZuG4+rf7v//+f/////++uv05NTb8/P0////////4ci1
tYln5r+m//X0//z///z///v/+Pv/9vr//v/////////2AAAA////9vX1////8/j89/f/+Pr/9vf/
9/39+f/x//v58NLYt4t+uI1w89Ov///t//3n8Nq54cu31LWr5r2w+dS7+uHA//nV///9//jv4byh
tY5szrWg+PPu+f7/9/v59/v9+Pj/+Pb/9/r/9v///v/////////+AAAA/f389fr///r//////v7/
9vf///v///r///j+///1///v//3w7ODduqSmmn1ttpFz0raU0Lqd7tjC/OHL89G04cGhwqaFp4Jf
vJNx48Kn/e7h//3++fn//fr/////+Pv/9vr/9vr//v////r///n/////////AAAA9/r/+/v59vv/
9/b2/////////v7/+PL1///49P//7v//+f/////1///1////8/Lo4Ni148mu27Ki3LGn0rOyzsTC
2Nrb9/jh///t9f/+8v3//fv///r3//v8//L///3///////////////n2///+////9v//AAAA9///
9/r//P38///////2//73//v3/f//7v7/+fr///r//fr/9vz/9/v8+/j2///8//n///v/////////
//7////7///68Pr/7/r//fr6//72///9+P//9v//9v///fv4//7////3///2////////9v//9/r/
AAAA

------_=_NextPart_001_01C64E5F.6D8CC694--

From java-user-return-19774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 10:12:22 2006
Return-Path: <java-user-return-19774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77370 invoked from network); 23 Mar 2006 10:06:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 10:06:26 -0000
Received: (qmail 91413 invoked by uid 500); 23 Mar 2006 10:05:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91209 invoked by uid 500); 23 Mar 2006 10:05:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91198 invoked by uid 99); 23 Mar 2006 10:05:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 02:05:49 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.14.54.234] (HELO ext-nj2ut-5.online-age.net) (64.14.54.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 02:05:48 -0800
Received: from int-nj2ut-2.online-age.net (int-nj2ut-2.online-age.net [3.159.237.71])
	by ext-nj2ut-5.online-age.net (8.13.5/8.13.5/20051114-SVVS-TLS-DNSBL) with ESMTP id k2NA5QPM023898
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 05:05:26 -0500
Received: from cinmlef12.e2k.ad.ge.com (localhost.localdomain [127.0.0.1])
	by int-nj2ut-2.online-age.net (8.11.6/8.11.6/20050510-SVVS) with ESMTP id k2NA5QX29868
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 05:05:26 -0500
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef12.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 23 Mar 2006 05:05:24 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----_=_NextPart_001_01C64E61.41066363";
	type="multipart/alternative"
Subject: RE: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 15:35:03 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C502196E01@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Can i use lucene to search the internet.
Thread-Index: AcZOPoGoUdc8cqSHQWq6ZHGVRsC+9AAIrP0A
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Mar 2006 10:05:24.0878 (UTC) FILETIME=[4DAF82E0:01C64E61]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64E61.41066363
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C64E61.41066363"


------_=_NextPart_002_01C64E61.41066363
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hai All,
Can NUTCH be used in Windoes OS

-----Original Message-----
From: gekkokid [mailto:me@gekkokid.org.uk]
Sent: Thursday, March 23, 2006 11:22 AM
To: java-user@lucene.apache.org
Subject: Re: Can i use lucene to search the internet.


Hi, are you asking does it have a crawler? no it doesn't but nutch does =
http://lucene.apache.org/nutch/ :)
=20
_gk

----- Original Message -----=20
From: Babu, KameshNarayana (GE, Research,  =
<mailto:kameshnarayana.babu@ge.com> consultant)=20
To: java-user@lucene.apache.org=20
Sent: Thursday, March 23, 2006 5:44 AM
Subject: Can i use lucene to search the internet.


hi all,=20
Can i use lucene to search the internet. Are do we have nay open source =
applications. Thanks in advance=20

ole0.bmp GE Global Research=20
Kamesh NarayanaBabu=20
John F. Welch Technology Centre
Information Technology Management, Plot 122, Export Promotion Industrial =
Park,
Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066, =
INDIA.
Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91 =
9986259850 | Email:-  kameshnarayana.babu@ge.com=20


------_=_NextPart_002_01C64E61.41066363
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>Can i use lucene to search the internet.</TITLE>

<META content=3D"MSHTML 6.00.2800.1528" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><SPAN class=3D515440410-23032006><FONT face=3DArial color=3D#0000ff =
size=3D2>Hai=20
All,</FONT></SPAN></DIV>
<DIV><SPAN class=3D515440410-23032006><FONT face=3DArial color=3D#0000ff =
size=3D2>Can=20
NUTCH be used in Windoes OS</FONT></SPAN></DIV>
<BLOCKQUOTE dir=3Dltr style=3D"MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader dir=3Dltr align=3Dleft><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B> gekkokid=20
  [mailto:me@gekkokid.org.uk]<BR><B>Sent:</B> Thursday, March 23, 2006 =
11:22=20
  AM<BR><B>To:</B> java-user@lucene.apache.org<BR><B>Subject:</B> Re: =
Can i use=20
  lucene to search the internet.<BR><BR></FONT></DIV>
  <DIV><FONT face=3D"Courier New" size=3D2>Hi, are you asking does it =
have a=20
  crawler? no it doesn't but nutch does <A=20
  =
href=3D"http://lucene.apache.org/nutch/">http://lucene.apache.org/nutch/<=
/A>&nbsp;:)</FONT></DIV>
  <DIV><FONT face=3D"Courier New" size=3D2></FONT>&nbsp;</DIV>
  <DIV><FONT face=3D"Courier New" size=3D2>_gk</FONT></DIV>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
    <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
    <DIV=20
    style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
    <A title=3Dkameshnarayana.babu@ge.com=20
    href=3D"mailto:kameshnarayana.babu@ge.com">Babu, KameshNarayana (GE, =
Research,=20
    consultant)</A> </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A=20
    title=3Djava-user@lucene.apache.org=20
    =
href=3D"mailto:java-user@lucene.apache.org">java-user@lucene.apache.org</=
A>=20
    </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Thursday, March 23, =
2006 5:44=20
    AM</DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> Can i use lucene to =
search the=20
    internet.</DIV>
    <DIV><BR></DIV><!-- Converted from text/rtf format -->
    <P><FONT face=3DArial size=3D2>hi all,</FONT> <BR><FONT face=3DArial =
size=3D2>Can i=20
    use lucene to search the internet. Are do we have nay open source=20
    applications. Thanks in advance</FONT> </P>
    <P><FONT face=3DArial color=3D#000000 size=3D2><IMG alt=3Dole0.bmp=20
    src=3D"cid:515440410@23032006-2cc3"></FONT><B></B><B></B><B><FONT =
face=3DArial=20
    color=3D#003366>&nbsp;GE Global Research</FONT></B> <BR><B><FONT =
face=3DArial=20
    color=3D#003366 size=3D2>Kamesh NarayanaBabu</FONT></B> <BR><B><FONT =
face=3DArial=20
    color=3D#003366 size=3D2>John F. Welch Technology Centre</FONT><FONT =

    face=3D"Courier New" color=3D#000099><BR></FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1>Information Technology Management, Plot 122, Export =
Promotion=20
    Industrial Park,</FONT><FONT face=3D"Courier New"=20
    color=3D#000099><BR></FONT><FONT face=3DArial color=3D#666699 =
size=3D1>Phase II,=20
    Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066,=20
    INDIA.</FONT><FONT face=3D"Courier New" =
color=3D#000099><BR></FONT><FONT=20
    face=3DArial color=3D#666699 size=3D1>Phone: +91 (80) 2503 =
0457</FONT><FONT=20
    face=3DArial color=3D#0000ff size=3D1> |</FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1> GE Dial comm.: 8 * 901 0359</FONT><FONT face=3DArial =
color=3D#0000ff=20
    size=3D1> |</FONT><FONT face=3D"Courier New" color=3D#000099></FONT> =
<FONT=20
    face=3DArial color=3D#666699 size=3D1>Mobile: +91 9986259850</FONT> =
<FONT=20
    face=3DArial color=3D#0000ff size=3D1>|</FONT><FONT face=3DArial =
color=3D#666699=20
    size=3D1> Email:-&nbsp; kameshnarayana.babu@ge.com</FONT></B>=20
</P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_002_01C64E61.41066363--

------_=_NextPart_001_01C64E61.41066363
Content-Type: image/bmp;
	name="ole0.bmp"
Content-Transfer-Encoding: base64
Content-ID: <515440410@23032006-2cc3>
Content-Description: ole0.bmp
Content-Location: ole0.bmp

Qk1+EgAAAAAAADYAAAAoAAAAJwAAACcAAAABABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9vv/
//v///r////+///2///3//////////7///v///r///j///z///n///n//////////////v//////
///////////7///////////9+f///f////////n///L///7///v3//r2///+//////v/9fH///z/
AAAA//v/9Pb0//v/+vz8/////v7/9fr/+Pr///n///H///X//////vz+9u/f5tq1z6t8xn1Kv2Qx
xVslwlMmsE4puHVPuY5r1KSD+tzG//v9//////3/8Pf/9P7//f/4///9////////////9u32/vr+
//3/9fH1AAAA//r///v/+/z6//r///v//v7/9/v///7/9Pz/8P//9/3w6tW21JN2wYV0xq+k2djV
9/z7////////////////////8fD8xcjZrpiNunxN2qWH+ert//7/8vnz9P319//99fn89vb//vv/
//z///v///r///z/AAAA////+/38//r/9vv/9/v///n/+Pj//Pz/6vvs8uDMxZp5rodj7+DF////
/+Pv7Nbb29HA1Lyv37yu0qGMt4Fkx4xf5aVw+tOh/vXh////7sq2x4dY4a+S/fHy//3/+fn/+Pf/
9vn89vv//vv///z/9e71//z/AAAA///2////9vr/+Pv/+Pr///j///////v178yit4Fx787U////
+f//+f70/f/q/f/k///q/f/4/v/////////1wqd+o3c3qWswsnVAt4tj5dPE//321rKPzJVx9tzU
//////7///v/+Pr/9vv//vn+//////r1AAAA///2/v7///////r///j/////+OziyaieyZSJ//ft
///5+eXb77yv2p+CroNQoWwuwWo1x5B048zF+PHz////5MKrwnJLw21MvGtMxXVDwHYszqty/fXt
2dTTwZdw6Mm6//rx////+Pj/9/v/9vL3//////r3AAAA///39fn/+Pv/+Pj/////+ezjyKONxqmP
////897OzJh8qW8/tG83uHI2w3E/xHZFvnU9tm0/t3VS36KH+7+jx49tpXNLuHhQwnRFx3M5y4BF
rmsyvINL9uTF6e7qtJZ/3sKt//zz//7/+Pb/9vz//v//////AAAA//7/9/r9//////v//Pn5xqub
x6mS//nd6bqQrGs9s3JCxH1JvXU7v3o+wHo/wXZCwndFun0+rnQyqXcvr3YsunYuyH83wXwyvn5A
wXxNuXJDw3hFs2pDq3NT7uLF//nevqGD6s3B////9vj9+f/99/n//v//AAAA//b//v/39/7+//n7
28G2uqF6////66F9snIlu3s/uXk8wXIzz3gyx3o3s3g7vHxJwnlDtXo4wHo9unZAuXRGy3VFxHw5
uHc4vXI/uHBFtnU/x3g30ng5vW9CuX1e9e3u9fLN0npn8+vs8fv0/v7z//f/9vr/AAAA//r/+P//
+/768uXqrYFg/e7j16V7sGtRync/u3ZKvYNcvot2wZOAw4lvvnlOwG83xXpCuH1Kt3xGu3lCvXY9
unVAtYVXxY9fzJRfwpFnxoVbxXhGsXAytn9ItWg7z5mB/v7n/dTEspeM//v+9/zy//v99/r/AAAA
//r//v7+/P3/uZZ/+dW469S8t24prXJPu3ZItYdm6dnF/////P//9uvi5cSpxIdYwHE4uXJAsHdF
vXpJu3RHw5l269bD//70+/r5//f3/ePhxqORqXtWuHg6z3kuvWw76uLX////uZB08crN+f////n1
9Pz/AAAA//z9+fn82NPXyZtt/Pfsv4JKwXc2t3dEtn5S4b+r///+39HNy7qq8uPP///z48y1wXxU
xXdAt3s9snVGz6CE/PXk/Pru1su6wq+e37ux/ejj//3yyqmTxHpKwnwqvnE6y5+K9f/7+eXKtn9w
//39//f57f/9AAAA///0////tY51/+zK0K+dv3AswXo/t3Q0v4dS9NLB9uzsuoFurmQsz5Vk7drO
+fb52q2WxHY2vXcpwIxj8NnY+vn5x6eNqHA6rXw1sWsq2JBn/+7T9+zWvoVnvHw/t3xEvHNJ9PTr
////topr9tLQ//r/8P/2AAAA///z7uzxxIlj///2tXxRvHFExXhDtHcztYRE5s6++vPzz56Bwncx
sHIrt6GH9/j78N7UxohStm8q37WX////yry3qnVJxY5s1b+byJZktl8238Ks///6yaOJunRDs3c6
w2s08ePU/P3/79m+0ot/////+f75AAAA+v//5Lqp2K2k/uHOq2w3t21CxXlGtHo4vH1AxqyZ////
4M66uIBFtXMswYZY7tLD+ffwzKd/s2894sWp///7xKCPv3U/8dTF/v//2KSGwmZCwaeM9v7v5bGc
v3pHw3s4smw73Miv8N3V////wHZe///z//j/AAAA9///3ap42tLT67iLpWk5yHJKtHA+xX08w3o8
rXdU5NTG+vfp4LqezoJbvGg316mH/v/51LSeuHVN69C3+PTuypyEzoVQ+d/S6t7WxoBYv2c21sCh
///525yLv3c/zYE4r24517Wa+OXh//32xZF18/De//b/AAAA////sYdR9P/y05ZgvIZX245ttoJY
x3o4yXpDuG85uohf7tS+/vHs6cW4toxpw5t49/Ds3MS3vmw17MOn+/n/x5uGuHlA8NTJ+O7rzrGW
xp+J9Onc/vHqvYZrwnU6woAxvnEv4bKk+///7uK/17uX173I//v/AAAA////rGc6////vYFo7NjE
9tvF2LSWrnM61XZFx3U9v208yYRg0big7fDS8evF5Mmx8+fl2M6zwXIw5q+K+fn/1rehuHY00KWE
6uHW+vbp//Hj/O/U0a6Gu3tPr3lGwXc6qmg56NHH////8dzA28Kiu7Wx////AAAA////tlgx/v//
xo6J///////27MOrnW9Ds3pCwYI7wn03u3c8rnVLxJd65caq9u7T///569XKv4davIhk5tfN+e7L
0JZjrm0/t4tk1rWU3qyNzZtxtXpDuW06uXhFwG1AvY509fn0////+dfC4cuuu7uv////AAAA////
vFAe////4K6s/v//7u7YyYtqrnRFsn1Hu3czwn40voRAvHVIzoVpx6CHyL+h6+be+PP529TBxZl8
1KKS9O7P7te9zpRxwYBRvX1VtG9ItGg1v3VAy3xMwW86vHJO6dnJ8v/7+vjy576x++LGxbqj////
AAAA/P//tFYY////57+5/f/928GbuGY3w3c/wXlJyXo9xXQ1tHI9u5Bu8NnB8ebP4dnF7erm+e7v
7OXU8ubK5r2z1K2n3tfH7uPN8NbJ7dTN6M27yoxgyHg5xX0+tnQ8un9X//bh////4tC/3ben7s+2
zbSe////AAAA+v//zIBE///97dTI///5wIZWyXZAynxCu3pJtnQ8v3pJ1p2A6NbH9fnr18SxzaeX
5uHS+OjX0aKK0rKT8OLU59TU5d3S9/nu59/f5d7h4tnLwolgzH46s3YxrnlHr3g82LWU3L6htYdp
4saw58Wx4sCp////AAAA/vn/2Zxk5fTo7uDY//nwtWc5vHo8wXdAt3ZDunxM3bWU+/Dk+fb5+/n6
5NrRzaGEz6R/9O7Z3r2mvH1UyZlz4s6//ff29ujX0KB/yoxiu4ZQxXZEw3VHrnlFuHhFvH0wv3hP
wm5DqmQ3+vLUwqOS/N/D+v//AAAA//7/0qqJ0tO/79zd9Pzzu3pLtHIztXpGuHU5xItw8vDc8c7A
5tLF+e/q+9bG/+3P1ruf1s28/P/w3auEvGYyxZ6D7+/l//nf99a6w4hltXQ4vXhHxnRCznk4uXlD
y35FuHVDxXNDtnE6////qnpf//3h+/n/AAAA//n/8uHFupZ6//r79/z2upRmw3A4sXxJvHIzxIV0
+P/13quT0LGX8uzg1JmG5cu0+PHh1ce12tDC2aKBwms50J+C8Ovi3dK79eTP8tjFvYVdsXBExX5G
zno4vnlNv3VHvHw/uXRDzpt0//3ztYl4///v//n/AAAA//b////ns4FZ+Pv3//r+xaaDynE8tXdC
ynY81Idr9fXb27aWy51+/fvkz7GhtoRw+eXT6dzJw5F4xH1Xv3BA3ZNy+uzlybuqwamK+fTh4r2n
v3pUsXM9tHtFvHZIuXZAxHs+q2o19NjH+cmavLCx//7+//v6AAAA+fn////2ybCO4cOy////7NTG
qWE7y3k8unk8xoBax6F62pp0y35W7du+8OrasYZ4xaqZ/O7d15x1vm9Cv3BDxnZJ8NPC8/DhpIxz
0bqp//PswZVysGsztntOuHs+uX0+um49xJFp///wwo1b4e3x//n/+fv2AAAA/f//+fj/9fTlt4Ni
//7v+fD4ontiznQytH0/tXpEu3JEznlMw247z6N/8e/c5tzN3M2+//Lh2qh5unE4ynlHvXI5yqB7
+fXl7dfF8dzT///7w5x2wHY5t3A+xYI4tnUzrmVL9OnV/NGox6eT9v////r/9v78AAAA//vx7vr/
//z/1sCU1aiO////2rytwW0xw3U9sXc6wnlJunNFtXI8t3xKzaWI/OPV//fp79S+vZNiuHdAxXc9
vn85s3xGzaiN/eHM//Pm9tXJyIddw4BEtHg/w3c0rHE94a+Z9evh1Jlj7unu/f7z//f/9///AAAA
//7z8/f///v/+/np1JqC4NfL/fjsxZJyxHc8wng3s3xHt3hQxH1Dunc2vXZJxIdvwJRxtoNZqXVC
vXxGvnM4vn1Fv3lFt3NGtohhvJhzxYZjvW08wX5GuX9Crmk5y5+J//jlv6OP7M63+Pn9///3+fnw
9/z/AAAA7//9//n/8P//+///9+PQu4xk9/ve7uLftYE9z3Uwr35FvXRR3HM7yIEwtnc9uG5JvXM3
wHQ0xnNJxnhJwXlDtmpLwXJMxH02u3c/wnM+ync1vndDv3M9uWYo1aOJ//n/xrib36mO7/H5/f/y
//jv9f/19/b4AAAA/P//9/H2/Pz/+Pz////959HCvq2T//Th7tzLrHVWoGpAsn1Htng0wH440XdC
z3g1tn8qv4VSu3tesmVAyHM8ynk8u3pFxn88wXs1vH1CtXg5pWY1uINb57+v////zrio0Lyh++jh
/f////v9//n8/f/+/f7+AAAA//r4/f7+//v/9vf/+Pn///3059TCt6eR2trR+e3PzYtiwmQz1XdI
xXdHs307rXY3zIph7NHC+fLm1Lmfsn9Qr2ostGo0t2pDtWg6sGY2zJJv48Gy9+3p////v7KP1r6n
8uHO//r1//z/+fr/9/r///////r4AAAA//72////9vb/+Pv///v///////706tLGyIx+4Mm6///q
1rmStXMzu24ytnBEuXVSz41s9d/W//////349OTS1sGrzrqo2L2u7NDB+O7i/fjz//////bnxKmR
1bCN+vHh//72///+//v/9/r//fr///////72AAAA///2/////v7/9/f/9/n8//r/+Pn///z/+ezv
0Kmcw5V0/+rG///o5MmtvYNgs1gnv2M8xZuG4+rf7v//+f/////++uv05NTb8/P0////////4ci1
tYln5r+m//X0//z///z///v/+Pv/9vr//v/////////2AAAA////9vX1////8/j89/f/+Pr/9vf/
9/39+f/x//v58NLYt4t+uI1w89Ov///t//3n8Nq54cu31LWr5r2w+dS7+uHA//nV///9//jv4byh
tY5szrWg+PPu+f7/9/v59/v9+Pj/+Pb/9/r/9v///v/////////+AAAA/f389fr///r//////v7/
9vf///v///r///j+///1///v//3w7ODduqSmmn1ttpFz0raU0Lqd7tjC/OHL89G04cGhwqaFp4Jf
vJNx48Kn/e7h//3++fn//fr/////+Pv/9vr/9vr//v////r///n/////////AAAA9/r/+/v59vv/
9/b2/////////v7/+PL1///49P//7v//+f/////1///1////8/Lo4Ni148mu27Ki3LGn0rOyzsTC
2Nrb9/jh///t9f/+8v3//fv///r3//v8//L///3///////////////n2///+////9v//AAAA9///
9/r//P38///////2//73//v3/f//7v7/+fr///r//fr/9vz/9/v8+/j2///8//n///v/////////
//7////7///68Pr/7/r//fr6//72///9+P//9v//9v///fv4//7////3///2////////9v//9/r/
AAAA

------_=_NextPart_001_01C64E61.41066363--

From java-user-return-19775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 10:20:49 2006
Return-Path: <java-user-return-19775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83574 invoked from network); 23 Mar 2006 10:19:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 10:19:01 -0000
Received: (qmail 8604 invoked by uid 500); 23 Mar 2006 10:18:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8581 invoked by uid 500); 23 Mar 2006 10:18:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8570 invoked by uid 99); 23 Mar 2006 10:18:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 02:18:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO zproxy.gmail.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 02:18:41 -0800
Received: by zproxy.gmail.com with SMTP id i11so441053nzh
        for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 02:18:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rpwTnr+UDbUQaRn576lgl1MReOUJu0GcJC1e8jZYEya39nPklEq9J27tBYADhmI1A8quJPo+A/TTfoH+s0L+ylOxLKPGNxylC/ttO384mJlYGQns6N4QviSV8sFeRF+K8bHhXX+ncewHtd/OOjaSbYoBsRMGEH22GvSk8d/KLeM=
Received: by 10.35.78.13 with SMTP id f13mr1242091pyl;
        Thu, 23 Mar 2006 02:18:19 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Thu, 23 Mar 2006 02:18:19 -0800 (PST)
Message-ID: <f13b62210603230218o53c2952w7a33395e7899bf0e@mail.gmail.com>
Date: Thu, 23 Mar 2006 15:48:19 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can i use lucene to search the internet.
In-Reply-To: <DC47ED83883E7C4B94AC2A67C1DA53C502196E01@BANMLVEM01.e2k.ad.ge.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2957_2099738.1143109099794"
References: <DC47ED83883E7C4B94AC2A67C1DA53C502196E01@BANMLVEM01.e2k.ad.ge.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2957_2099738.1143109099794
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

It can be used if you run cygwin (the latest version)
Please have a look at nutch wiki

And you are mailing the wrong list


Rgds
Prabhu

On 3/23/06, Babu, KameshNarayana (GE, Research, consultant) <
kameshnarayana.babu@ge.com> wrote:

>  Hai All,
> Can NUTCH be used in Windoes OS
>
> -----Original Message-----
> *From:* gekkokid [mailto:me@gekkokid.org.uk]
> *Sent:* Thursday, March 23, 2006 11:22 AM
> *To:* java-user@lucene.apache.org
> *Subject:* Re: Can i use lucene to search the internet.
>
> Hi, are you asking does it have a crawler? no it doesn't but nutch does
> http://lucene.apache.org/nutch/ :)
>
> _gk
>
> ----- Original Message -----
> *From:* Babu, KameshNarayana (GE, Research, consultant)<kameshnarayana.ba=
bu@ge.com>
> *To:* java-user@lucene.apache.org
> *Sent:* Thursday, March 23, 2006 5:44 AM
> *Subject:* Can i use lucene to search the internet.
>
>
>
> hi all,
> Can i use lucene to search the internet. Are do we have nay open source
> applications. Thanks in advance
>
> [image: ole0.bmp]***** GE Global Research*
> *Kamesh NarayanaBabu*
> *John F. Welch Technology Centre
> Information Technology Management, Plot 122, Export Promotion Industrial
> Park,
> Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - 560066,
> INDIA.
> Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91
> 9986259850 | Email:-  kameshnarayana.babu@ge.com*
>
>

------=_Part_2957_2099738.1143109099794--

From java-user-return-19776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 11:04:13 2006
Return-Path: <java-user-return-19776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6127 invoked from network); 23 Mar 2006 11:01:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 11:01:27 -0000
Received: (qmail 67436 invoked by uid 500); 23 Mar 2006 11:01:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67237 invoked by uid 500); 23 Mar 2006 11:01:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67226 invoked by uid 99); 23 Mar 2006 11:01:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 03:01:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.14.54.240] (HELO ext-nj2ut-10.online-age.net) (64.14.54.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 03:01:10 -0800
Received: from int-nj2ut-1.online-age.net (int-nj2ut-1.online-age.net [3.159.237.70])
	by ext-nj2ut-10.online-age.net (8.13.5/8.13.5/20051114-SVVS-TLS-DNSBL) with ESMTP id k2NB0nxP027428
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 06:00:49 -0500
Received: from cinmlef08.e2k.ad.ge.com (localhost.localdomain [127.0.0.1])
	by int-nj2ut-1.online-age.net (8.11.6/8.11.6/20050510-SVVS) with ESMTP id k2NB0m522052
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 06:00:49 -0500
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef08.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 23 Mar 2006 06:00:48 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Can i use lucene to search the internet.
Date: Thu, 23 Mar 2006 16:30:44 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C502196FD4@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can i use lucene to search the internet.
Thread-Index: AcZOZ8jCJn/WRnDFQOOK3gzAE3oAGwAASHPQ
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
Cc: <rrprabhu@gmail.com>
X-OriginalArrivalTime: 23 Mar 2006 11:00:48.0415 (UTC) FILETIME=[0AAB02F0:01C64E69]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

hi ,
thanks for the reply. Can i do without cygwin. Which list i should use =
for these queries. kindly help me.

-----Original Message-----
From: Raghavendra Prabhu [mailto:rrprabhu@gmail.com]
Sent: Thursday, March 23, 2006 3:48 PM
To: java-user@lucene.apache.org
Subject: Re: Can i use lucene to search the internet.


Hi

It can be used if you run cygwin (the latest version)
Please have a look at nutch wiki

And you are mailing the wrong list


Rgds
Prabhu

On 3/23/06, Babu, KameshNarayana (GE, Research, consultant) <
kameshnarayana.babu@ge.com> wrote:

>  Hai All,
> Can NUTCH be used in Windoes OS
>
> -----Original Message-----
> *From:* gekkokid [mailto:me@gekkokid.org.uk]
> *Sent:* Thursday, March 23, 2006 11:22 AM
> *To:* java-user@lucene.apache.org
> *Subject:* Re: Can i use lucene to search the internet.
>
> Hi, are you asking does it have a crawler? no it doesn't but nutch =
does
> http://lucene.apache.org/nutch/ :)
>
> _gk
>
> ----- Original Message -----
> *From:* Babu, KameshNarayana (GE, Research, =
consultant)<kameshnarayana.babu@ge.com>
> *To:* java-user@lucene.apache.org
> *Sent:* Thursday, March 23, 2006 5:44 AM
> *Subject:* Can i use lucene to search the internet.
>
>
>
> hi all,
> Can i use lucene to search the internet. Are do we have nay open =
source
> applications. Thanks in advance
>
> [image: ole0.bmp]***** GE Global Research*
> *Kamesh NarayanaBabu*
> *John F. Welch Technology Centre
> Information Technology Management, Plot 122, Export Promotion =
Industrial
> Park,
> Phase II, Hoodi Village, Whitefield Road, Bangalore, Karnataka - =
560066,
> INDIA.
> Phone: +91 (80) 2503 0457 | GE Dial comm.: 8 * 901 0359 | Mobile: +91
> 9986259850 | Email:-  kameshnarayana.babu@ge.com*
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 12:12:05 2006
Return-Path: <java-user-return-19777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39647 invoked from network); 23 Mar 2006 12:12:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 12:12:04 -0000
Received: (qmail 7198 invoked by uid 500); 23 Mar 2006 12:11:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7173 invoked by uid 500); 23 Mar 2006 12:11:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7162 invoked by uid 99); 23 Mar 2006 12:11:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 04:11:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.23.69] (HELO smtp14.wanadoo.fr) (193.252.23.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 04:11:56 -0800
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1402.wanadoo.fr (SMTP Server) with ESMTP id 5FE9B7000095
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 13:11:34 +0100 (CET)
Received: from [127.0.0.1] (LAubervilliers-151-13-87-72.w217-128.abo.wanadoo.fr [217.128.134.72])
	by mwinf1402.wanadoo.fr (SMTP Server) with ESMTP id 4068170000A2
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 13:11:34 +0100 (CET)
X-ME-UUID: 20060323121134263.4068170000A2@mwinf1402.wanadoo.fr
Message-ID: <4422906F.7000402@jalios.com>
Date: Thu, 23 Mar 2006 13:11:27 +0100
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: FileNotFoundException: Corrupted Index? => Use jvm ShutdownHook
References: <20060322201544.73297.qmail@web50308.mail.yahoo.com>
In-Reply-To: <20060322201544.73297.qmail@web50308.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

Thanks for your reply.
I will also put the writer shutdown hook for this index, as you said.

I had already done that for other part of our code where we use other 
lucene index, but thought it would not be needed for this special index 
due to the fact that we rarely write on it. But this is a stupid thought 
as the jvm can also be shutdown during those rare case... and this 
corruption proves it..

I will watch if the problem still occurs and if it does not, I'll update 
the wiki FAQ with the following code (left here for search history 
purpose and for other users)
    // clean writer reader and searcher correctly
    Thread shutdown = new Thread() {
      public void run() {
        if (writer != null) {
          try { writer.close(); }
          catch (Exception ex){ /*empty*/ }
          writer = null;
        }
        if (reader != null) {
          try { reader.close(); }
          catch (IOException ex){ /*empty*/ }
          reader = null;
        }
        if (searcher != null) {
          try { searcher.close(); }
          catch (IOException ex){ /*empty*/ }
          searcher = null;
        }
      }
    };
    Runtime.getRuntime().addShutdownHook(shutdown);

Otis Gospodnetic wrote:
> Hi Olivier,
>
> You have shutdown hooks for read-only operations.  They won't corrupt your index.  I'd add shutdown hooks for IndexWriter.
> If that fixes your problem, it would be great if you could add your shutdown hook code to the FAQ on the Wiki, or at least post it to java-user, so somebody else can put it there.
>
> Otis
>
> ----- Original Message ----
> From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
> To: Lucene Java User ML <java-user@lucene.apache.org>
> Sent: Wednesday, March 22, 2006 10:08:28 AM
> Subject: FileNotFoundException: Corrupted Index?
>
> Hi all,
>
> We are using the last version of lucene (1.9.1), and sometimes we end up 
> with such error when opening one of the index our application uses:
>
> java.io.FileNotFoundException: [...]/LuceneIndex/_ 46.fnm (No such file 
> or directory)
>        at java.io.RandomAccessFile.open(Native Method)
>        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
>        at 
> org.apache.lucene.store.FSIndexInput$Descriptor.<init>(FSDirectory.java:425) 
>
>        at org.apache.lucene.store.FSIndexInput.<init>(FSDirectory.java:434)
>        at 
> org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:324)
>        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:56)
>        at 
> org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:144)
>        at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
>        at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:110)
>        at 
> org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:154)
>        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
>        at org.apache.lucene.index.IndexReader.open(IndexReader.java:143)
>        at org.apache.lucene.index.IndexReader.open(IndexReader.java:138)
>
> The only solution available in this case being to completely remove and 
> recreate the index.
> I have the "corrupted" index available for testing should you need it.
>
> Apparently this corruption occurs if the JVM has crashed or was shutdown 
> too violently (kill -9)
> I was wondering how a corruption of a lucene index could occur and how 
> to prevent it, fix it on reopening or in a last resort, detect it to be 
> able to recreate the index.
>
> Note that I already have that kind of hook in the code for shutdown:
>
>     // clean writer reader and searcher correctly
>     Thread shutdown = new Thread() {
>       public void run() {
>         if (reader != null) {
>           try { reader.close(); }
>           catch (IOException ex){ /*empty*/ }
>           reader = null;
>         }
>         if (searcher != null) {
>           try { searcher.close(); }
>           catch (IOException ex){ /*empty*/ }
>           searcher = null;
>         }
>       }
>     };
>     Runtime.getRuntime().addShutdownHook(shutdown);
>    
> Or, on opening, code such as:
>
>       Directory indexDir = FSDirectory.getDirectory(luceneDir, 
> !IndexReader.indexExists(luceneDir));
>       IndexReader.unlock(indexDir); // unlock directory in case of 
> unproper shutdown
>       if (!IndexReader.indexExists(luceneDir)) {
>         writer = new IndexWriter(indexDir, analyzer, true);
>         writer.close();
>       }
>
> Any suggestion or remark?
>
> Thanks!
>   


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingnieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 12:53:34 2006
Return-Path: <java-user-return-19778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60939 invoked from network); 23 Mar 2006 12:53:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 12:53:33 -0000
Received: (qmail 95607 invoked by uid 500); 23 Mar 2006 12:53:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95581 invoked by uid 500); 23 Mar 2006 12:53:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95568 invoked by uid 99); 23 Mar 2006 12:53:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 04:53:27 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 04:53:25 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FMPJI-00019j-UC
	for java-user@lucene.apache.org; Thu, 23 Mar 2006 04:53:04 -0800
Message-ID: <3551247.post@talk.nabble.com>
Date: Thu, 23 Mar 2006 04:53:04 -0800 (PST)
From: escobar5 <escobar5@spymac.com>
To: java-user@lucene.apache.org
Subject: RE: java.lang.OutOfMemoryError in lucene
In-Reply-To: <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: escobar5@spymac.com
X-Nabble-From: escobar5 <escobar5@spymac.com>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com> <3536145.post@talk.nabble.com> <4421816F.3090406@jalios.com> <3536578.post@talk.nabble.com> <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


But i have the IBM JDK 1.4.2, do you know if this version still have the
problem??
--
View this message in context: http://www.nabble.com/java.lang.OutOfMemoryError-in-lucene-t1324911.html#a3551247
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 14:22:42 2006
Return-Path: <java-user-return-19779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12804 invoked from network); 23 Mar 2006 14:19:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 14:19:21 -0000
Received: (qmail 65974 invoked by uid 500); 23 Mar 2006 14:18:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65730 invoked by uid 500); 23 Mar 2006 14:18:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65445 invoked by uid 99); 23 Mar 2006 14:18:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 06:18:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO zproxy.gmail.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 06:18:40 -0800
Received: by zproxy.gmail.com with SMTP id x7so457558nzc
        for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 06:18:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Fo3ZOYbjfAHuT8XnG3Jd8MooShpxh8gH8527/9BfFrsgZc7afgRw1SykwH01v026wEihd/tPKVJ0qKX0EA/r4e1eHv0rKrIDGWPN/Zh+vF+N2n4+R6QhWhGyONQFDF0gJJlAsQQRPsjQSLjE2JpAMFGkMfYad/eWruVqqa32sLY=
Received: by 10.64.10.16 with SMTP id 16mr1663064qbj;
        Thu, 23 Mar 2006 06:18:19 -0800 (PST)
Received: by 10.64.21.5 with HTTP; Thu, 23 Mar 2006 06:18:19 -0800 (PST)
Message-ID: <50f433360603230618x3ecc709av293dcbd11c552bcd@mail.gmail.com>
Date: Thu, 23 Mar 2006 06:18:19 -0800
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Speed up Indexing
In-Reply-To: <4f2c7c9b0603222345m36b10e4dv@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4542_10856427.1143123499585"
References: <4f2c7c9b0603222345m36b10e4dv@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4542_10856427.1143123499585
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I run Lucene.Net as well, and your indexing performance is dependent on mor=
e
factors aside from whether you're using the Java or C# version.  As a basic
suggestion, learn what you can about minMergeDocs and mergeFactor as well a=
s
the compound file format.  Try different combinations to understand what is
faster vs. slower.

As a strategy for your specific scenario, you might consider building
several indexes in parallel, then merging the indexes at the end.

Hope this helps.

-- j


On 3/22/06, hu andy <andyhugb@gmail.com> wrote:
>
> Hi,everyone. I have a large mount of xml files of size 1G. I use
> lucene(the
> dotNet edition) to index . There are 8 fields for a document, with 4
> keyword
> fields and 4 unstored fields. I have set the minMergeDocs to 10000 and
> mergeFactor to 100. It took about 2.5 hours (main memeory 3G, CPU p4 ) .I
> also try in-memory indexing  which is also more than 2.5hours.  Due to th=
e
> performance requirement , I need complete the indexing in one hour withou=
t
> the use of distributing or clustering system . Cant it be possible?  Is i=
t
> faster to use java Lucene than dotNet one? Any advice will be appreciated=
.
> Thank you in advance.
>
>

------=_Part_4542_10856427.1143123499585--

From java-user-return-19780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 14:46:00 2006
Return-Path: <java-user-return-19780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28308 invoked from network); 23 Mar 2006 14:45:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 14:45:35 -0000
Received: (qmail 23822 invoked by uid 500); 23 Mar 2006 14:44:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23797 invoked by uid 500); 23 Mar 2006 14:44:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23777 invoked by uid 99); 23 Mar 2006 14:44:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 06:44:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.58.180.53] (HELO vps.elderlycare-help.co.uk) (207.58.180.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 06:43:59 -0800
Received: from cpc1-flee1-0-0-cust801.glfd.cable.ntl.com ([86.4.143.34] helo=leondell)
	by vps.elderlycare-help.co.uk with esmtpa (Exim 4.52)
	id 1FMR28-0006De-HP
	for java-user@lucene.apache.org; Thu, 23 Mar 2006 14:43:28 +0000
Message-ID: <008701c64e88$25e018c0$6500a8c0@leondell>
From: "Leon Chaddock" <leonchaddock@macranet.co.uk>
To: <java-user@lucene.apache.org>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com> <3536145.post@talk.nabble.com> <4421816F.3090406@jalios.com> <3536578.post@talk.nabble.com> <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp> <3551247.post@talk.nabble.com>
Subject: Changing ranking
Date: Thu, 23 Mar 2006 14:43:14 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - vps.elderlycare-help.co.uk
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - macranet.co.uk
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
At present lucene seems to rank very short documents over longer documents 
where the phrase occurs more regularily for instance which the search term 
"cat"

"the cat went home"

ranks higher than

"the black cat when home past some other cats, on cat street"

Is there anyway I can change luicene to rank longer documents with more 
phrase occurences higher

Many thanks

Leon 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 19:04:59 2006
Return-Path: <java-user-return-19781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84833 invoked from network); 23 Mar 2006 19:04:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 19:04:58 -0000
Received: (qmail 87000 invoked by uid 500); 23 Mar 2006 19:04:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86971 invoked by uid 500); 23 Mar 2006 19:04:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86960 invoked by uid 99); 23 Mar 2006 19:04:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:04:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nikhil.goel@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:04:51 -0800
Received: by wproxy.gmail.com with SMTP id 50so335883wri
        for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 11:04:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LkFm3bYLo3NMULLo5G0rRD8iO2cZMchPXXgcIaNvZwufKooRspq4zd1doWmC8JFipbOQBSaotGnpuE9Gq9LJ+tK91xgjq0ECslvmmJCoAsnydZui76hXH9rmUTbqXN2aRg+NuqMaLuZLfUd55h+o8quLXLhHYxsACcFSrKCr6SA=
Received: by 10.65.84.8 with SMTP id m8mr1399150qbl;
        Thu, 23 Mar 2006 11:04:30 -0800 (PST)
Received: by 10.65.200.8 with HTTP; Thu, 23 Mar 2006 11:04:30 -0800 (PST)
Message-ID: <7f0c29930603231104k61a63293h7b1c21ca74e19d68@mail.gmail.com>
Date: Thu, 23 Mar 2006 13:04:30 -0600
From: "Nikhil Goel" <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple threads in Lucene
In-Reply-To: <20060323001956.72762.qmail@web50303.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10116_10532992.1143140670633"
References: <7f0c29930603221504s610e583ete524885a0c24adc3@mail.gmail.com>
	 <20060323001956.72762.qmail@web50303.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10116_10532992.1143140670633
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Otis,

Thanks for the reply but I have one question to ask here. You said big no n=
o
for opening opening multiple IndexWriters. I want to clarify :-
1) Do you mean multiple IndexWriters at the same time? I am not doing this.
At a time there is only one Indexwriter opened.
or
1) Do you mean I cant open another IndexWriter again after closing the prio=
r
one. In my writing thread, for every file I index, I open a new IndexWriter
and close it and as soon as I have second file available for indexing. I
open the IndexWriter again and close it and directory object is the same
across all the threads as well as while reopening IndexWriters.

If the latter is NO too, then how would a developer make sure that this
index is closed when the Program is killed. Suppose a program is killed in
between and Index is not closed, then next time when I run the program ther=
e
will be a write.lock in Index and it won't allow us to open another index.

Please let me know if I am wrong in what I said.

Thanks
-Nikhil


On 3/22/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Yes, 1 IndexWriter + multiple IndexSearchers definitely work together :)
> I can't tell what you're doing wrong with the threads... it looks like yo=
u
> might be opening multiple IndexWriters on the same index/directory (big n=
o
> no).
>
> Otis
>
> ----- Original Message ----
> From: Nikhil Goel <nikhil.goel@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Wednesday, March 22, 2006 6:04:41 PM
> Subject: Multiple threads in Lucene
>
> Hi Lucene Developers,
>
> According to Lucene Documentation, IndexWriter can exist with multiple
> IndexSearcher and its thread safe. To verify that: I wrote a simple
> program
> to simulate that condition but unfortunately I get an exception. Please
> let
> me know if anyone has ever tested the Lucene claim that IndexWriter and
> IndexSearcher are thread safe.
>
>
> I have a program in which I have 4 threads.
> 1) One IndexWriter Thread
> 2) 3 IndexSearcher Thread.
>
> Everytime when we need to index a file. We run the following code in
> IndexWriter Thread:-
> function IndexFile(Document doc)
> {
>    writer =3D new IndexWriter(directory, new StandardAnalyzer(), false);
>    writer.addDocument(doc);
>    writer.close();
> }
>
> Our IndexSearcherThread looks like this:-
> function IndexSearch(String termToBeSearched)
> {
>      IndexSearchersearcher =3D new IndexSearcher(directory);
> //Note: This directory is the same reference as used to initiate
> IndexWriter  in Indexfile function. Hence this directory //reference is
> used
> across all the threads.
>
>      Query query =3D QueryParser.parse(termToBeSearched, "contents", new
> StandardAnalyzer());
>      Hits hits =3D searcher.search(query);
> }
>
> If I execute these 4 threads above together, then whenever a search
> routine
> gets executed and IndexWriter is also in use, then I get an error at the
> following line:- writer.close();
>
> Stack Strace looks like this:-
> unable to close the writer stream
> java.io.IOException: read past EOF
>     at org.apache.lucene.store.InputStream.refill(InputStream.java:192)
>     at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
>     at org.apache.lucene.store.InputStream.readBytes(InputStream.java:95)
>     at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:375=
)
>     at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:342=
)
>     at org.apache.lucene.index.SegmentMerger.mergeNorms(SegmentMerger.jav=
a
> :306)
>     at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:99)
>     at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java
> :430)
>     at org.apache.lucene.index.IndexWriter.flushRamSegments(
> IndexWriter.java
> :383)
>     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:193)
>
>
> Thanks in advance
> -Nikhil
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10116_10532992.1143140670633--

From java-user-return-19782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 19:22:14 2006
Return-Path: <java-user-return-19782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92110 invoked from network); 23 Mar 2006 19:22:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 19:22:11 -0000
Received: (qmail 7175 invoked by uid 500); 23 Mar 2006 19:21:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7122 invoked by uid 500); 23 Mar 2006 19:21:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7103 invoked by uid 99); 23 Mar 2006 19:21:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:21:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.23.111] (HELO smtp17.wanadoo.fr) (193.252.23.111)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:21:57 -0800
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1701.wanadoo.fr (SMTP Server) with ESMTP id B6E2D700008D
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 20:21:33 +0100 (CET)
Received: from [127.0.0.1] (LAubervilliers-151-13-87-72.w217-128.abo.wanadoo.fr [217.128.134.72])
	by mwinf1701.wanadoo.fr (SMTP Server) with ESMTP id 7CCA77000086
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 20:21:33 +0100 (CET)
X-ME-UUID: 20060323192133511.7CCA77000086@mwinf1701.wanadoo.fr
Message-ID: <4422F53B.3040002@jalios.com>
Date: Thu, 23 Mar 2006 20:21:31 +0100
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple threads in Lucene
References: <7f0c29930603221504s610e583ete524885a0c24adc3@mail.gmail.com>	 <20060323001956.72762.qmail@web50303.mail.yahoo.com> <7f0c29930603231104k61a63293h7b1c21ca74e19d68@mail.gmail.com>
In-Reply-To: <7f0c29930603231104k61a63293h7b1c21ca74e19d68@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------060001000408090005070806"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------060001000408090005070806
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Hi,

In order to prevent such problem, here is how you should open your index:
    Directory indexDir = FSDirectory.getDirectory(luceneDir, 
!IndexReader.indexExists(luceneDir));
    IndexReader.unlock(indexDir); // unlock directory in case of 
unproper shutdown
    if (!IndexReader.indexExists(luceneDir)) {
      writer = new IndexWriter(indexDir, analyzer, true);
      writer.close();
    }

And to prevent problems with writer/reader/searcher not being closed 
properly on exit, here is how you should make sure they are closed 
(although it is not guaranteed to be called at all by the jvm, it's 
better than nothing)
   // clean writer reader and searcher correctly
   Thread shutdown = new Thread() {
     public void run() {
       if (writer != null) {
         try { writer.close(); }
         catch (Exception ex){ /*empty*/ }
         writer = null;
       }
       if (reader != null) {
         try { reader.close(); }
         catch (IOException ex){ /*empty*/ }
         reader = null;
       }
       if (searcher != null) {
         try { searcher.close(); }
         catch (IOException ex){ /*empty*/ }
         searcher = null;
       }
     }
   };
   Runtime.getRuntime().addShutdownHook(shutdown);

As another reminder if you start with lucene:
 - Keep your reader/searcher open as long as possible until you write to 
the index. It increases performance. You can use a class like this one 
(taken from this ML):
  /**
   * For optimized used of the searcher, we keep it open as much as 
possible and
   * delay its close only when it is replaced by a new one when 
modifying index.
   */
  public class IndexSearcherWrapper extends IndexSearcher {
    private int referenceCount;
   
    public IndexSearcherWrapper(Directory dir) throws IOException {
      super(dir);
      this.referenceCount = 1;
    }
   
    public IndexSearcherWrapper getReference() {
      referenceCount++;
      return this;
    }
   
    public void close() throws IOException {
      referenceCount--;
      if (referenceCount <= 0) {
        super.close();
      }
    }
  };

Use it like that:

    IndexSearcher localSearcher = searcher.getReference();
    Hits hits = localSearcher.search(query);
    [...]

And use a method such as this one every time you write to the index:
  /**
   * Renew internal reader and searcher, call this method after index 
change.
   */
  public void renewReaderAndSeacher() throws IOException {
    // Reader
    IndexReader oldReader = reader;
    reader = IndexReader.open(index);
    if (oldReader != null) {
      oldReader.close();
    }
    // Searcher
    IndexSearcherWrapper oldSearcher = searcher;
    searcher = new IndexSearcherWrapper(index);
    if (oldSearcher != null) {
      oldSearcher.close();
    }
  }

Hope it will help! :)


Nikhil Goel wrote:
> Hi Otis,
>
> Thanks for the reply but I have one question to ask here. You said big no no
> for opening opening multiple IndexWriters. I want to clarify :-
> 1) Do you mean multiple IndexWriters at the same time? I am not doing this.
> At a time there is only one Indexwriter opened.
> or
> 1) Do you mean I cant open another IndexWriter again after closing the prior
> one. In my writing thread, for every file I index, I open a new IndexWriter
> and close it and as soon as I have second file available for indexing. I
> open the IndexWriter again and close it and directory object is the same
> across all the threads as well as while reopening IndexWriters.
>
> If the latter is NO too, then how would a developer make sure that this
> index is closed when the Program is killed. Suppose a program is killed in
> between and Index is not closed, then next time when I run the program there
> will be a write.lock in Index and it won't allow us to open another index.
>
> Please let me know if I am wrong in what I said.
>
> Thanks
> -Nikhil
>
>
> On 3/22/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>   
>> Yes, 1 IndexWriter + multiple IndexSearchers definitely work together :)
>> I can't tell what you're doing wrong with the threads... it looks like you
>> might be opening multiple IndexWriters on the same index/directory (big no
>> no).
>>
>> Otis
>>
>> ----- Original Message ----
>> From: Nikhil Goel <nikhil.goel@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Wednesday, March 22, 2006 6:04:41 PM
>> Subject: Multiple threads in Lucene
>>
>> Hi Lucene Developers,
>>
>> According to Lucene Documentation, IndexWriter can exist with multiple
>> IndexSearcher and its thread safe. To verify that: I wrote a simple
>> program
>> to simulate that condition but unfortunately I get an exception. Please
>> let
>> me know if anyone has ever tested the Lucene claim that IndexWriter and
>> IndexSearcher are thread safe.
>>
>>
>> I have a program in which I have 4 threads.
>> 1) One IndexWriter Thread
>> 2) 3 IndexSearcher Thread.
>>
>> Everytime when we need to index a file. We run the following code in
>> IndexWriter Thread:-
>> function IndexFile(Document doc)
>> {
>>    writer = new IndexWriter(directory, new StandardAnalyzer(), false);
>>    writer.addDocument(doc);
>>    writer.close();
>> }
>>
>> Our IndexSearcherThread looks like this:-
>> function IndexSearch(String termToBeSearched)
>> {
>>      IndexSearchersearcher = new IndexSearcher(directory);
>> //Note: This directory is the same reference as used to initiate
>> IndexWriter  in Indexfile function. Hence this directory //reference is
>> used
>> across all the threads.
>>
>>      Query query = QueryParser.parse(termToBeSearched, "contents", new
>> StandardAnalyzer());
>>      Hits hits = searcher.search(query);
>> }
>>
>> If I execute these 4 threads above together, then whenever a search
>> routine
>> gets executed and IndexWriter is also in use, then I get an error at the
>> following line:- writer.close();
>>
>> Stack Strace looks like this:-
>> unable to close the writer stream
>> java.io.IOException: read past EOF
>>     at org.apache.lucene.store.InputStream.refill(InputStream.java:192)
>>     at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
>>     at org.apache.lucene.store.InputStream.readBytes(InputStream.java:95)
>>     at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:375)
>>     at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:342)
>>     at org.apache.lucene.index.SegmentMerger.mergeNorms(SegmentMerger.java
>> :306)
>>     at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:99)
>>     at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java
>> :430)
>>     at org.apache.lucene.index.IndexWriter.flushRamSegments(
>> IndexWriter.java
>> :383)
>>     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:193)
>>
>>
>> Thanks in advance
>> -Nikhil
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>     
>
>   


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingnieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/


--------------060001000408090005070806--



From java-user-return-19783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 19:22:45 2006
Return-Path: <java-user-return-19783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92474 invoked from network); 23 Mar 2006 19:22:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 19:22:45 -0000
Received: (qmail 8665 invoked by uid 500); 23 Mar 2006 19:22:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8528 invoked by uid 500); 23 Mar 2006 19:22:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8517 invoked by uid 99); 23 Mar 2006 19:22:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:22:39 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.242] (HELO web50309.mail.yahoo.com) (206.190.38.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 11:22:38 -0800
Received: (qmail 50943 invoked by uid 60001); 23 Mar 2006 19:22:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=DWxo7E9ge5wR8NbKCvlDneeegjtJulPJTPLKJ91HMr+17Bz1GOd4sSEP5OcB39kki5RYKc063BBWPUpFeKszYR7VEWS9uQ4iHAoAbfXPXIcNt0E8BCMXiX4HdooSXWjVm+FtphGE7C38Ayv2Lrhi6/i5PdUhjcrgov2KJVUaP/U=  ;
Message-ID: <20060323192217.50941.qmail@web50309.mail.yahoo.com>
Date: Thu, 23 Mar 2006 11:22:16 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Changing ranking
To: java-user@lucene.apache.org
In-Reply-To: <008701c64e88$25e018c0$6500a8c0@leondell>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The place to start would be to look at the DefaultSimilarity, and the norms method there.  Perhaps you want to create your own Similarity implementation that returns either a constant 1 or something else that will favour longer text.  Somebody else with more experience in this area may have better or more precise suggestions.

Otis

----- Original Message ----
From: Leon Chaddock <leonchaddock@macranet.co.uk>
To: java-user@lucene.apache.org
Sent: Thursday, March 23, 2006 9:43:14 AM
Subject: Changing ranking

Hi,
At present lucene seems to rank very short documents over longer documents 
where the phrase occurs more regularily for instance which the search term 
"cat"

"the cat went home"

ranks higher than

"the black cat when home past some other cats, on cat street"

Is there anyway I can change luicene to rank longer documents with more 
phrase occurences higher

Many thanks

Leon 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 19:27:31 2006
Return-Path: <java-user-return-19784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95067 invoked from network); 23 Mar 2006 19:27:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 19:27:31 -0000
Received: (qmail 15812 invoked by uid 500); 23 Mar 2006 19:27:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15791 invoked by uid 500); 23 Mar 2006 19:27:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15780 invoked by uid 99); 23 Mar 2006 19:27:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:27:25 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 11:27:24 -0800
Received: (qmail 45827 invoked by uid 60001); 23 Mar 2006 19:27:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=2TD9DOWo3pTKiqxw8O2uUeN2rfmKo1AQS/ACgBJIP7kwSdJ6I1rfHcEbIa4H5D/OwAkxIs2Q3AbcGCYSt9NWbKCds1u0Xz3AXBuMNtPTYOlg0YyTc/BFTZLogTngwVDffxj0583DQQBZT3TPBcGImkSJPlUY+BhNIeWPMCsD6/I=  ;
Message-ID: <20060323192703.45825.qmail@web50308.mail.yahoo.com>
Date: Thu, 23 Mar 2006 11:27:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Multiple threads in Lucene
To: java-user@lucene.apache.org
In-Reply-To: <7f0c29930603231104k61a63293h7b1c21ca74e19d68@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nikhil (if using reply-all, please remove direct email...)

Sounds like you are doing everything correctly.  Does your code work correctly with just 1 thread (i.e. just the "main" thread)?
Make sure you get that working first.  If that works, and N threads does not, then your threads are probably just stepping on each other somewhere.

1 index - 1 IndexWriter.  Sharing between threads is OK, just make sure you don't close it in one thread, while something else is using it to write to the index (e.g. use synchronize).

Sure, you can close and reopen it.
I can't tell what you are doing wrong from the stacktrace, sorry.

Otis

----- Original Message ----
From: Nikhil Goel <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org; Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Sent: Thursday, March 23, 2006 2:04:30 PM
Subject: Re: Multiple threads in Lucene

Hi Otis,

Thanks for the reply but I have one question to ask here. You said big no no
for opening opening multiple IndexWriters. I want to clarify :-
1) Do you mean multiple IndexWriters at the same time? I am not doing this.
At a time there is only one Indexwriter opened.
or
1) Do you mean I cant open another IndexWriter again after closing the prior
one. In my writing thread, for every file I index, I open a new IndexWriter
and close it and as soon as I have second file available for indexing. I
open the IndexWriter again and close it and directory object is the same
across all the threads as well as while reopening IndexWriters.

If the latter is NO too, then how would a developer make sure that this
index is closed when the Program is killed. Suppose a program is killed in
between and Index is not closed, then next time when I run the program there
will be a write.lock in Index and it won't allow us to open another index.

Please let me know if I am wrong in what I said.

Thanks
-Nikhil


On 3/22/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Yes, 1 IndexWriter + multiple IndexSearchers definitely work together :)
> I can't tell what you're doing wrong with the threads... it looks like you
> might be opening multiple IndexWriters on the same index/directory (big no
> no).
>
> Otis
>
> ----- Original Message ----
> From: Nikhil Goel <nikhil.goel@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Wednesday, March 22, 2006 6:04:41 PM
> Subject: Multiple threads in Lucene
>
> Hi Lucene Developers,
>
> According to Lucene Documentation, IndexWriter can exist with multiple
> IndexSearcher and its thread safe. To verify that: I wrote a simple
> program
> to simulate that condition but unfortunately I get an exception. Please
> let
> me know if anyone has ever tested the Lucene claim that IndexWriter and
> IndexSearcher are thread safe.
>
>
> I have a program in which I have 4 threads.
> 1) One IndexWriter Thread
> 2) 3 IndexSearcher Thread.
>
> Everytime when we need to index a file. We run the following code in
> IndexWriter Thread:-
> function IndexFile(Document doc)
> {
>    writer = new IndexWriter(directory, new StandardAnalyzer(), false);
>    writer.addDocument(doc);
>    writer.close();
> }
>
> Our IndexSearcherThread looks like this:-
> function IndexSearch(String termToBeSearched)
> {
>      IndexSearchersearcher = new IndexSearcher(directory);
> //Note: This directory is the same reference as used to initiate
> IndexWriter  in Indexfile function. Hence this directory //reference is
> used
> across all the threads.
>
>      Query query = QueryParser.parse(termToBeSearched, "contents", new
> StandardAnalyzer());
>      Hits hits = searcher.search(query);
> }
>
> If I execute these 4 threads above together, then whenever a search
> routine
> gets executed and IndexWriter is also in use, then I get an error at the
> following line:- writer.close();
>
> Stack Strace looks like this:-
> unable to close the writer stream
> java.io.IOException: read past EOF
>     at org.apache.lucene.store.InputStream.refill(InputStream.java:192)
>     at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
>     at org.apache.lucene.store.InputStream.readBytes(InputStream.java:95)
>     at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:375)
>     at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:342)
>     at org.apache.lucene.index.SegmentMerger.mergeNorms(SegmentMerger.java
> :306)
>     at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:99)
>     at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java
> :430)
>     at org.apache.lucene.index.IndexWriter.flushRamSegments(
> IndexWriter.java
> :383)
>     at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:193)
>
>
> Thanks in advance
> -Nikhil
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 19:46:02 2006
Return-Path: <java-user-return-19785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5088 invoked from network); 23 Mar 2006 19:46:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 19:46:02 -0000
Received: (qmail 48325 invoked by uid 500); 23 Mar 2006 19:45:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48301 invoked by uid 500); 23 Mar 2006 19:45:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48290 invoked by uid 99); 23 Mar 2006 19:45:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:45:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:45:55 -0800
Received: from [67.189.26.9] (helo=[10.0.1.2])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1FMW8E-000LgG-Dt
	for java-user@lucene.apache.org; Thu, 23 Mar 2006 12:10:06 -0800
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <20060323192217.50941.qmail@web50309.mail.yahoo.com>
References: <20060323192217.50941.qmail@web50309.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <795503E3-06CC-402D-A4C5-61CFDF47433B@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Changing ranking
Date: Thu, 23 Mar 2006 11:45:34 -0800
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 23, 2006, at 11:22 AM, Otis Gospodnetic wrote:

> The place to start would be to look at the DefaultSimilarity, and  
> the norms method there.  Perhaps you want to create your own  
> Similarity implementation that returns either a constant 1 or  
> something else that will favour longer text.  Somebody else with  
> more experience in this area may have better or more precise  
> suggestions.

Here's an implementation of lengthNorm() that stops stops the  
weighting at 100 tokens.

   public float lengthNorm(String fieldName, int numTerms) {
     numTerms = numTerms < 100 ? 100 : numTerms;
     return (float)(1.0 / Math.sqrt(numTerms));
   }

If you adopt it, you must boost short but important fields (e.g.  
title), or they won't contribute enough.

KinoSearch (my loose Perl/C port of Lucene) uses this algorithm, and  
it seems to work well.

To see an earlier discussion on this subject perform a web search for  
"proposal defaultsimilarity lengthnorm".

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 19:52:06 2006
Return-Path: <java-user-return-19786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8432 invoked from network); 23 Mar 2006 19:52:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 19:52:06 -0000
Received: (qmail 64066 invoked by uid 500); 23 Mar 2006 19:52:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64040 invoked by uid 500); 23 Mar 2006 19:52:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64023 invoked by uid 99); 23 Mar 2006 19:52:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:52:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.93.161.132] (HELO mail1.zvents.com) (216.93.161.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 11:52:00 -0800
Received: from Oblong.zvents.com (c-71-198-187-222.hsd1.ca.comcast.net [71.198.187.222])
	by mail1.zvents.com (Postfix) with ESMTP id 8346A31703D
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 11:51:35 -0800 (PST)
Message-Id: <6.2.3.4.0.20060323113557.01cccc68@worldware.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.3.4
Date: Thu, 23 Mar 2006 11:51:30 -0800
To: java-user@lucene.apache.org
From: Tom Hill <lucene-list@zvents.com>
Subject: Joins between index and database
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi -

I have an application where I'm using Lucene to index the contents of 
a database. That's working fine.

But I have a problem where I'd like to retrieve a subset of the 
documents that match a search, based on a join table in the database.

How do people typically handle combining the results of a Lucene 
based search with the results of a database search?

Thanks,

Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 20:13:16 2006
Return-Path: <java-user-return-19787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19195 invoked from network); 23 Mar 2006 20:13:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 20:13:16 -0000
Received: (qmail 97928 invoked by uid 500); 23 Mar 2006 20:13:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97898 invoked by uid 500); 23 Mar 2006 20:13:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97886 invoked by uid 99); 23 Mar 2006 20:13:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 12:13:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.37] (HELO smtp-vbr17.xs4all.nl) (194.109.24.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 12:13:09 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr17.xs4all.nl (8.13.6/8.13.6) with ESMTP id k2NKCmGJ072440
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 21:12:48 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Joins between index and database
Date: Thu, 23 Mar 2006 21:12:47 +0100
User-Agent: KMail/1.8.2
References: <6.2.3.4.0.20060323113557.01cccc68@worldware.com>
In-Reply-To: <6.2.3.4.0.20060323113557.01cccc68@worldware.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603232112.47612.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 23 March 2006 20:51, Tom Hill wrote:
> Hi -
> 
> I have an application where I'm using Lucene to index the contents of 
> a database. That's working fine.
> 
> But I have a problem where I'd like to retrieve a subset of the 
> documents that match a search, based on a join table in the database.
> 
> How do people typically handle combining the results of a Lucene 
> based search with the results of a database search?

One way is to get the values of some key field from the database,
create a Filter using terms created from these values, and use that
Filter in a search, or in a FilteredQuery.
See RangeFilter.bits() for some example code that creates a filter
from terms. Sorting the key values beforehand helps performance
for creating the filter. CachingWrapperFilter can also be handy.

In case you need a lot of filters for relatively few documents, have
a look here:
http://issues.apache.org/jira/browse/LUCENE-328

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 20:33:27 2006
Return-Path: <java-user-return-19788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33739 invoked from network); 23 Mar 2006 20:33:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 20:33:27 -0000
Received: (qmail 25190 invoked by uid 500); 23 Mar 2006 20:33:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25160 invoked by uid 500); 23 Mar 2006 20:33:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25149 invoked by uid 99); 23 Mar 2006 20:33:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 12:33:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.46] (HELO ylpvm15.prodigy.net) (207.115.57.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 12:33:20 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm15.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2NKX3YC019797
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 15:33:03 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2NKWpRi287160;
	Thu, 23 Mar 2006 15:32:56 -0500
Message-ID: <442305F2.7000908@apache.org>
Date: Thu, 23 Mar 2006 12:32:50 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple threads in Lucene
References: <7f0c29930603221504s610e583ete524885a0c24adc3@mail.gmail.com>	 <20060323001956.72762.qmail@web50303.mail.yahoo.com> <7f0c29930603231104k61a63293h7b1c21ca74e19d68@mail.gmail.com> <4422F53B.3040002@jalios.com>
In-Reply-To: <4422F53B.3040002@jalios.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Olivier Jaquemet wrote:
>    IndexReader.unlock(indexDir); // unlock directory in case of unproper 
> shutdown

This should be used very carefully.  In particular, you should only call 
it when you are certain that no other applications are accessing the index.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 20:50:56 2006
Return-Path: <java-user-return-19789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40731 invoked from network); 23 Mar 2006 20:50:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 20:50:53 -0000
Received: (qmail 53281 invoked by uid 500); 23 Mar 2006 20:50:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53015 invoked by uid 500); 23 Mar 2006 20:50:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53004 invoked by uid 99); 23 Mar 2006 20:50:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 12:50:48 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 12:50:47 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <223904(2)>; Thu, 23 Mar 2006 12:50:11 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58633>; Thu, 23 Mar 2006 12:50:04 PST
To: java-user@lucene.apache.org
Subject: Re: Can i use lucene to search the internet. 
In-Reply-To: Your message of "Wed, 22 Mar 2006 21:44:30 PST."
             <DC47ED83883E7C4B94AC2A67C1DA53C5021205AD@BANMLVEM01.e2k.ad.ge.com> 
Date: Thu, 23 Mar 2006 12:49:58 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <06Mar23.125004pst."58633"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Let's stop this thread.

> Can i use lucene to search the internet.

No.

You may be able to use Lucene to *index* the internet, and then search
the resulting index.  Read the book "Lucene in Action" for a better idea
of what this would entail.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 21:08:14 2006
Return-Path: <java-user-return-19790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49161 invoked from network); 23 Mar 2006 21:08:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 21:08:13 -0000
Received: (qmail 83964 invoked by uid 500); 23 Mar 2006 21:08:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83454 invoked by uid 500); 23 Mar 2006 21:08:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83439 invoked by uid 99); 23 Mar 2006 21:08:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 13:08:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 13:08:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 234275B777; Thu, 23 Mar 2006 13:07:38 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 165F37F403;
	Thu, 23 Mar 2006 13:07:38 -0800 (PST)
Date: Thu, 23 Mar 2006 13:07:38 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org,
	Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query question
In-Reply-To: <20060322201832.8591.qmail@web50310.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0603231306420.23388@hal.rescomp.berkeley.edu>
References: <20060322201832.8591.qmail@web50310.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: Use "Keyword" (untokenized) field to index your paths.
: Consider using PerFieldAnalyzerWrapper to specify KeywordAnalyzer for your path field.
: Use the force, Luke - http://www.getopt.org/luke/ , to ensure your paths are indexed correctly.

you also don't wnat to use QueryParser.escape when you build the term
query explicitly -- that's only needed if you are passing the string to
QueryParser...

: Ex: Hits hits = multisearch.search(new TermQuery(new Term("key",
: QueryParser.escape(key))));



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 21:15:13 2006
Return-Path: <java-user-return-19791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51947 invoked from network); 23 Mar 2006 21:15:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 21:15:13 -0000
Received: (qmail 91885 invoked by uid 500); 23 Mar 2006 21:15:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91856 invoked by uid 500); 23 Mar 2006 21:15:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91845 invoked by uid 99); 23 Mar 2006 21:15:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 13:15:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 13:15:08 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B7CBC5B770; Thu, 23 Mar 2006 13:14:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id AFA1C7F403
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 13:14:47 -0800 (PST)
Date: Thu, 23 Mar 2006 13:14:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Changing ranking
In-Reply-To: <008701c64e88$25e018c0$6500a8c0@leondell>
Message-ID: <Pine.LNX.4.58.0603231311530.23388@hal.rescomp.berkeley.edu>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com>
 <3536145.post@talk.nabble.com> <4421816F.3090406@jalios.com>
 <3536578.post@talk.nabble.com> <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp>
 <3551247.post@talk.nabble.com> <008701c64e88$25e018c0$6500a8c0@leondell>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Is there anyway I can change luicene to rank longer documents with more
: phrase occurences higher

if what you care about is only the number of occurences, and you don't
want the length to be a factor at all, then using Field.setOmitNorms(true)
on the Field for every document you add will not only accomplish this, but
will also save one byte per field per document in your index.

that can add up if you have a lot of fields whose length you don't care
about.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 21:48:07 2006
Return-Path: <java-user-return-19792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67401 invoked from network); 23 Mar 2006 21:48:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 21:48:07 -0000
Received: (qmail 46768 invoked by uid 500); 23 Mar 2006 21:48:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46740 invoked by uid 500); 23 Mar 2006 21:48:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46729 invoked by uid 99); 23 Mar 2006 21:48:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 13:48:02 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Seeta.Somagani@xplana.com designates 65.61.155.233 as permitted sender)
Received: from [65.61.155.233] (HELO server1.takeexit33.com) (65.61.155.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 13:48:01 -0800
Received: (qmail 6584 invoked from network); 23 Mar 2006 21:47:39 -0000
Received: from w082.z209031132.bos-ma.dsl.cnc.net (HELO xplana.com) (209.31.132.82)
  by bloglens.com with SMTP; 23 Mar 2006 21:47:39 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Native code compilation
Date: Thu, 23 Mar 2006 16:47:33 -0500
Message-ID: <666F5DC00A92964896146F60A828D32B88C4A6@MASSAVE.xplana.priv>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Native code compilation
Thread-Index: AcZOvuauhKpY0QifRmab+7KGJxZewgABAW8g
From: "Seeta Somagani" <Seeta.Somagani@xplana.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi all,

Has anyone tried to compile their Lucene applications into native code?
Mine works fine in a VM but the call to search() on IndexSearcher is
crashing the application, after I compile it into native code. There is
apparently no problem in instantiating an IndexSearcher though. I tried
this on both Linux and Windows and am getting the same problem.
Thnx
Seeta


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 21:58:54 2006
Return-Path: <java-user-return-19793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71713 invoked from network); 23 Mar 2006 21:58:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 21:58:54 -0000
Received: (qmail 69884 invoked by uid 500); 23 Mar 2006 21:58:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69862 invoked by uid 500); 23 Mar 2006 21:58:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69851 invoked by uid 99); 23 Mar 2006 21:58:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 13:58:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Chunhe.Dai@fatwire.com designates 69.25.74.33 as permitted sender)
Received: from [69.25.74.33] (HELO mX1.myOutlookonline.com) (69.25.74.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 13:58:48 -0800
Received: from be053.mail.lan ([10.109.209.153]) by mX1.myOutlookonline.com with Microsoft SMTPSVC(6.0.3790.211);
	 Thu, 23 Mar 2006 16:58:17 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64EC4.E1F63A67"
Subject: lucene NFS support
Date: Thu, 23 Mar 2006 16:58:13 -0500
Message-ID: <2A367F5054E61E44A53901055E462C2F02C1CC@be053.mail.lan>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene NFS support
Thread-Index: AcZOxKXnGT1dCO4rSLevz7aDULhYHQ==
From: "Dai, Chunhe" <Chunhe.Dai@fatwire.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Mar 2006 21:58:17.0856 (UTC) FILETIME=[E45E0000:01C64EC4]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64EC4.E1F63A67
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

Does anyone know whether Lucene plans to support NFS in later
release(2.0)? We are planning to integrate Lucene into our products and
cluster support is definitely needed. We want to check whether NFS
support is in the plan or not before implementing a new file locking
ourselves with it.

=20

Thanks.

Chunhe


------_=_NextPart_001_01C64EC4.E1F63A67--

From java-user-return-19794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 22:15:49 2006
Return-Path: <java-user-return-19794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81073 invoked from network); 23 Mar 2006 22:15:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 22:15:48 -0000
Received: (qmail 6354 invoked by uid 500); 23 Mar 2006 22:15:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6328 invoked by uid 500); 23 Mar 2006 22:15:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6317 invoked by uid 99); 23 Mar 2006 22:15:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 14:15:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [131.111.8.130] (HELO ppsw-0.csi.cam.ac.uk) (131.111.8.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 14:15:33 -0800
X-Cam-SpamDetails: Not scanned
X-Cam-AntiVirus: No virus found
X-Cam-ScannerInfo: http://www.cam.ac.uk/cs/email/scanner/
Received: from hermes-2.csi.cam.ac.uk ([131.111.8.54]:49906)
	by ppsw-0.csi.cam.ac.uk (smtp.hermes.cam.ac.uk [131.111.8.150]:25)
	with esmtpa (EXTERNAL:cbc20) id 1FMY5E-0004wr-0l (Exim 4.54) for java-user@lucene.apache.org
	(return-path <cbc20@hermes.cam.ac.uk>); Thu, 23 Mar 2006 22:15:08 +0000
Received: from cbc20 (helo=localhost) by hermes-2.csi.cam.ac.uk (hermes.cam.ac.uk)
	with local-esmtp id 1FMY5E-0001pY-5y (Exim 4.53) for java-user@lucene.apache.org
	(return-path <cbc20@hermes.cam.ac.uk>); Thu, 23 Mar 2006 22:15:08 +0000
Date: Thu, 23 Mar 2006 22:15:08 +0000 (GMT)
From: Chris Cain <cbc20@hermes.cam.ac.uk>
X-X-Sender: cbc20@hermes-2.csi.cam.ac.uk
To: java-user@lucene.apache.org
Subject: Re: Read past EOF error in Windows
In-Reply-To: <2A367F5054E61E44A53901055E462C2F02C1CC@be053.mail.lan>
Message-ID: <Pine.LNX.4.64.0603232212430.6494@hermes-2.csi.cam.ac.uk>
References: <2A367F5054E61E44A53901055E462C2F02C1CC@be053.mail.lan>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

No that doesnt seem to be the problem.

Anyone have any other ideas?

On Tue, 21 Mar 2006 msftblows@aol

I had a problem in the past with security on the folder where your index 
is located...but your error does not seem to show that ... I would check 
anyway though...

-----Original Message-----
From: Chris Cain <cbc20[at]hermes.cam.ac.uk>
To: java-user[at]lucene.apache.org
Sent: Tue, 21 Mar 2006 15:33:26 +0000 (GMT)
Subject: Read past EOF error in Windows


Hi all,

I wrote a lucene program which runs fine under Linux and Mac but fails on 
most Windows machines. (I have managed to get it to work on one version of 
XP however)

Specifically when i open or search the index i get the following error 
message.

Any help would be appreciated,
Cheers,
Chris

caught a class java.io.IOException
with message: read past EOF
java.io.IOException: read past EOF
at org.apache.lucene.store.FSIndexInput.readInternal(FSDirectory.java:451)
at 
org.apache.lucene.store.BufferedIndexInput.readBytes(BufferedIndexInput.java:45)
at 
org.apache.lucene.index.CompoundFileReader$CSIndexInput.readInternal(CompoundFileReader.java:219)
at 
org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java:64)
at 
org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.java:33)
at org.apache.lucene.store.IndexInput.readInt(IndexInput.java:46)
at org.apache.lucene.index.SegmentTermEnum.<init>(SegmentTermEnum.java:47)
at org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:48)
at 
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:147)
at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:115)
at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:150)
at org.apache.lucene.store.Lock$With.run(Lock.java:109)
at org.apache.lucene.index.IndexReader.open(IndexReader.java:143)
at org.apache.lucene.index.IndexReader.open(IndexReader.java:127)
at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:42)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe[at]lucene.apache.org
For additional commands, e-mail: java-user-help[at]lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 22:45:03 2006
Return-Path: <java-user-return-19795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95732 invoked from network); 23 Mar 2006 22:45:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 22:45:00 -0000
Received: (qmail 41021 invoked by uid 500); 23 Mar 2006 22:44:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40994 invoked by uid 500); 23 Mar 2006 22:44:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40983 invoked by uid 99); 23 Mar 2006 22:44:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 14:44:52 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.228] (HELO web50315.mail.yahoo.com) (206.190.39.228)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 14:44:51 -0800
Received: (qmail 37388 invoked by uid 60001); 23 Mar 2006 22:44:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=pDkI5fV74nrZcxVXsdzNIzU0w5LgRV63ucrq2Y1lOGOmQQ5AlB5OxplKHAg5aAvPx7kjQLQs5e0/UAeodmBOCUd7N8vjqrM9WnYsLwaWlxVcPnK0cQdMYfA5e05dNt3QgKFXxujETWcMDwzEqC/lXODqLSxd+POz1ktPNLdCuWU=  ;
Message-ID: <20060323224429.37386.qmail@web50315.mail.yahoo.com>
Date: Thu, 23 Mar 2006 14:44:29 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Native code compilation
To: java-user@lucene.apache.org
In-Reply-To: <666F5DC00A92964896146F60A828D32B88C4A6@MASSAVE.xplana.priv>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Native code....
There is a C++ port called CLucene, if that suits you more than coffee beans...

Otis

----- Original Message ----
From: Seeta Somagani <Seeta.Somagani@xplana.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 23, 2006 4:47:33 PM
Subject: Native code compilation


Hi all,

Has anyone tried to compile their Lucene applications into native code?
Mine works fine in a VM but the call to search() on IndexSearcher is
crashing the application, after I compile it into native code. There is
apparently no problem in instantiating an IndexSearcher though. I tried
this on both Linux and Windows and am getting the same problem.
Thnx
Seeta


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 22:47:05 2006
Return-Path: <java-user-return-19796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96966 invoked from network); 23 Mar 2006 22:47:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 22:47:00 -0000
Received: (qmail 43961 invoked by uid 500); 23 Mar 2006 22:46:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43593 invoked by uid 500); 23 Mar 2006 22:46:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43122 invoked by uid 99); 23 Mar 2006 22:46:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 14:46:52 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.4 as permitted sender)
Received: from [219.125.112.4] (HELO nm05omta053.dion.ne.jp) (219.125.112.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 14:46:51 -0800
Received: from sekiguchi ([59.135.110.187])
	by nm05mta.dion.ne.jp
	id <20060324074624840.MA34.8253B68@nm05mta.dion.ne.jp>;
	Fri, 24 Mar 2006 07:46:24 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: java.lang.OutOfMemoryError in lucene
Date: Fri, 24 Mar 2006 07:46:21 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCIENMCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <3551247.post@talk.nabble.com>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> But i have the IBM JDK 1.4.2, do you know if this version still have the
> problem??

I'm sorry I don't know that. But you can try it and if it solves the
problem,
you can add your experience to FAQ :)

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 22:49:25 2006
Return-Path: <java-user-return-19797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98853 invoked from network); 23 Mar 2006 22:49:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 22:49:24 -0000
Received: (qmail 50403 invoked by uid 500); 23 Mar 2006 22:49:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50380 invoked by uid 500); 23 Mar 2006 22:49:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50369 invoked by uid 99); 23 Mar 2006 22:49:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 14:49:18 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 14:49:18 -0800
Received: (qmail 31506 invoked by uid 60001); 23 Mar 2006 22:48:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=VzI1tghoq2mTmslMqrDenYWnhEBNDGCyoko/Y4/CBabyn3eE44TphDlWXeB1OXfMirUDTbKBwxC+F3IpHVvlUjyrny3tGYoKkjtjGFYS+FBGS1xPNalFATyCxC7xPKcAcJfO1RAWbw0+EX584DITI1M6b7L/Liy9AhrFH4LI8ec=  ;
Message-ID: <20060323224856.31504.qmail@web50311.mail.yahoo.com>
Date: Thu, 23 Mar 2006 14:48:56 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lucene NFS support
To: java-user@lucene.apache.org
In-Reply-To: <2A367F5054E61E44A53901055E462C2F02C1CC@be053.mail.lan>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chunhe,

There are no NFS-specific plans.  Out of personal curiosity - why go for NFS and not NAS?

Otis

----- Original Message ----
From: "Dai, Chunhe" <Chunhe.Dai@fatwire.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 23, 2006 4:58:13 PM
Subject: lucene NFS support

Hi,

 

Does anyone know whether Lucene plans to support NFS in later
release(2.0)? We are planning to integrate Lucene into our products and
cluster support is definitely needed. We want to check whether NFS
support is in the plan or not before implementing a new file locking
ourselves with it.

 

Thanks.

Chunhe





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 22:53:45 2006
Return-Path: <java-user-return-19798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1257 invoked from network); 23 Mar 2006 22:53:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 22:53:44 -0000
Received: (qmail 62692 invoked by uid 500); 23 Mar 2006 22:53:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62667 invoked by uid 500); 23 Mar 2006 22:53:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62656 invoked by uid 99); 23 Mar 2006 22:53:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 14:53:38 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.63] (HELO smtp009.mail.ukl.yahoo.com) (217.12.11.63)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 14:53:37 -0800
Received: (qmail 37971 invoked from network); 23 Mar 2006 22:53:16 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=mlYnSU2MjRhs4tN3dT5MeHqODaU0uQV8CbMNUU3wdJBOYuGbR1Ds+O9SKIyTk+KxQf5Bm7kTb2AZWydte/bW1MbKaJAdrIgNrD/AjBEerq4vJWlQZNNt5tPNanLAmv8b1ZtZqo5x2Q3KkD24z//VYzQSZdHnhnREaznArIY7brM=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp009.mail.ukl.yahoo.com with SMTP; 23 Mar 2006 22:53:16 -0000
Message-ID: <442326D8.2070707@yahoo.co.uk>
Date: Thu, 23 Mar 2006 22:53:12 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Joins between index and database
References: <6.2.3.4.0.20060323113557.01cccc68@worldware.com> <200603232112.47612.paul.elschot@xs4all.nl>
In-Reply-To: <200603232112.47612.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


>See RangeFilter.bits() for some example code that creates a filter
>from terms. 
>

Also see TermsFilter in the "queries" module in the contrib section.



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 23:00:23 2006
Return-Path: <java-user-return-19799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3798 invoked from network); 23 Mar 2006 23:00:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 23:00:23 -0000
Received: (qmail 67456 invoked by uid 500); 23 Mar 2006 23:00:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67421 invoked by uid 500); 23 Mar 2006 23:00:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67410 invoked by uid 99); 23 Mar 2006 23:00:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 15:00:18 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Chunhe.Dai@fatwire.com designates 69.25.74.33 as permitted sender)
Received: from [69.25.74.33] (HELO mX1.myOutlookonline.com) (69.25.74.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 15:00:18 -0800
Received: from be053.mail.lan ([10.109.209.153]) by mX1.myOutlookonline.com with Microsoft SMTPSVC(6.0.3790.211);
	 Thu, 23 Mar 2006 17:59:55 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: lucene NFS support
Date: Thu, 23 Mar 2006 17:59:54 -0500
Message-ID: <2A367F5054E61E44A53901055E462C2F02C1CD@be053.mail.lan>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene NFS support
Thread-Index: AcZOzAfbDAFtxFGBQW2BzlgZyMuvkgAAHetw
From: "Dai, Chunhe" <Chunhe.Dai@fatwire.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Mar 2006 22:59:55.0106 (UTC) FILETIME=[80199420:01C64ECD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks, Otis.

The reason is that some of our customers definitely use NFS and it is
hard to convince all of the hundreds of customers not to use NFS. So
naturally, the correct thing for us to do is to just support it since we
already have file locking mechanism that works on NFS.=20

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Thursday, March 23, 2006 5:49 PM
To: java-user@lucene.apache.org
Subject: Re: lucene NFS support

Hi Chunhe,

There are no NFS-specific plans.  Out of personal curiosity - why go for
NFS and not NAS?

Otis

----- Original Message ----
From: "Dai, Chunhe" <Chunhe.Dai@fatwire.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 23, 2006 4:58:13 PM
Subject: lucene NFS support

Hi,

=20

Does anyone know whether Lucene plans to support NFS in later
release(2.0)? We are planning to integrate Lucene into our products and
cluster support is definitely needed. We want to check whether NFS
support is in the plan or not before implementing a new file locking
ourselves with it.

=20

Thanks.

Chunhe





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 23:10:31 2006
Return-Path: <java-user-return-19800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7897 invoked from network); 23 Mar 2006 23:10:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 23:10:30 -0000
Received: (qmail 89208 invoked by uid 500); 23 Mar 2006 23:10:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89172 invoked by uid 500); 23 Mar 2006 23:10:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89161 invoked by uid 99); 23 Mar 2006 23:10:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 15:10:23 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.184.205 as permitted sender)
Received: from [64.233.184.205] (HELO wproxy.gmail.com) (64.233.184.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 15:10:22 -0800
Received: by wproxy.gmail.com with SMTP id 68so593379wri
        for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 15:10:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=obLOnQ0crCfANjzCdmiLlDI+CCnaku2puccatD/onGB8PPMHk4k2kXeWc7tdx3yjsiZGhcgvv+FqVFq8EDC+fphx7QfxvAZBg+UpG2XS5umCvAPUDnuFfdv9wjmbKeciaU/eWG2nd9ricd67jdDxWhfZbWqTdjcM2jIEPUi9cR8=
Received: by 10.35.54.20 with SMTP id g20mr81956pyk;
        Thu, 23 Mar 2006 15:09:53 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Thu, 23 Mar 2006 15:09:53 -0800 (PST)
Message-ID: <f13b62210603231509p49676e8ag1ba57f348832b913@mail.gmail.com>
Date: Fri, 24 Mar 2006 04:39:53 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Read past EOF error in Windows
In-Reply-To: <Pine.LNX.4.64.0603232212430.6494@hermes-2.csi.cam.ac.uk>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3162_24714939.1143155393609"
References: <2A367F5054E61E44A53901055E462C2F02C1CC@be053.mail.lan>
	 <Pine.LNX.4.64.0603232212430.6494@hermes-2.csi.cam.ac.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3162_24714939.1143155393609
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Check Whether it has got anything to do with UTF
There is a new line difference between windows and linux

Rgds
Prabhu


On 3/24/06, Chris Cain <cbc20@hermes.cam.ac.uk> wrote:
>
> No that doesnt seem to be the problem.
>
> Anyone have any other ideas?
>
> On Tue, 21 Mar 2006 msftblows@aol
>
> I had a problem in the past with security on the folder where your index
> is located...but your error does not seem to show that ... I would check
> anyway though...
>
> -----Original Message-----
> From: Chris Cain <cbc20[at]hermes.cam.ac.uk>
> To: java-user[at]lucene.apache.org
> Sent: Tue, 21 Mar 2006 15:33:26 +0000 (GMT)
> Subject: Read past EOF error in Windows
>
>
> Hi all,
>
> I wrote a lucene program which runs fine under Linux and Mac but fails on
> most Windows machines. (I have managed to get it to work on one version o=
f
> XP however)
>
> Specifically when i open or search the index i get the following error
> message.
>
> Any help would be appreciated,
> Cheers,
> Chris
>
> caught a class java.io.IOException
> with message: read past EOF
> java.io.IOException: read past EOF
> at org.apache.lucene.store.FSIndexInput.readInternal(FSDirectory.java:451=
)
> at
> org.apache.lucene.store.BufferedIndexInput.readBytes(
> BufferedIndexInput.java:45)
> at
> org.apache.lucene.index.CompoundFileReader$CSIndexInput.readInternal(
> CompoundFileReader.java:219)
> at
> org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java
> :64)
> at
> org.apache.lucene.store.BufferedIndexInput.readByte(
> BufferedIndexInput.java:33)
> at org.apache.lucene.store.IndexInput.readInt(IndexInput.java:46)
> at org.apache.lucene.index.SegmentTermEnum.<init>(SegmentTermEnum.java:47=
)
> at org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:48=
)
> at
> org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:147)
> at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:129)
> at org.apache.lucene.index.SegmentReader.get(SegmentReader.java:115)
> at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:150)
> at org.apache.lucene.store.Lock$With.run(Lock.java:109)
> at org.apache.lucene.index.IndexReader.open(IndexReader.java:143)
> at org.apache.lucene.index.IndexReader.open(IndexReader.java:127)
> at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:42)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe[at]lucene.apache.org
> For additional commands, e-mail: java-user-help[at]lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_3162_24714939.1143155393609--

From java-user-return-19801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 23:11:04 2006
Return-Path: <java-user-return-19801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8544 invoked from network); 23 Mar 2006 23:11:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 23:11:03 -0000
Received: (qmail 93049 invoked by uid 500); 23 Mar 2006 23:10:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93027 invoked by uid 500); 23 Mar 2006 23:10:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93016 invoked by uid 99); 23 Mar 2006 23:10:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 15:10:58 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 15:10:54 -0800
Received: from pimout6-ext.prodigy.net (pimout6-int.prodigy.net [207.115.4.22])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2NNA0bk001127
	for <java-user@lucene.apache.org>; Thu, 23 Mar 2006 18:10:00 -0500
X-ORBL: [69.228.206.232]
Received: from [192.168.168.15] (adsl-69-228-206-232.dsl.pltn13.pacbell.net [69.228.206.232])
	by pimout6-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2NNARrL106644;
	Thu, 23 Mar 2006 18:10:30 -0500
Message-ID: <44232AE2.8060303@apache.org>
Date: Thu, 23 Mar 2006 15:10:26 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: lucene NFS support
References: <2A367F5054E61E44A53901055E462C2F02C1CC@be053.mail.lan>
In-Reply-To: <2A367F5054E61E44A53901055E462C2F02C1CC@be053.mail.lan>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dai, Chunhe wrote:
> Does anyone know whether Lucene plans to support NFS in later
> release(2.0)? We are planning to integrate Lucene into our products and
> cluster support is definitely needed. We want to check whether NFS
> support is in the plan or not before implementing a new file locking
> ourselves with it.

I think that nio-based locking would probably fix this, and could easily 
be provided in addition or in place of the existing locking mechanism. 
I think the last time this was considered Lucene was still attempting to 
be compatible with Java 1.3.  But I think Lucene 2.0 is aimed at Java 1.4.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 23 23:21:43 2006
Return-Path: <java-user-return-19802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12527 invoked from network); 23 Mar 2006 23:21:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Mar 2006 23:21:43 -0000
Received: (qmail 19830 invoked by uid 500); 23 Mar 2006 23:21:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19810 invoked by uid 500); 23 Mar 2006 23:21:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19722 invoked by uid 99); 23 Mar 2006 23:21:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 15:21:37 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Seeta.Somagani@xplana.com designates 65.61.155.233 as permitted sender)
Received: from [65.61.155.233] (HELO server1.takeexit33.com) (65.61.155.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 23 Mar 2006 15:21:36 -0800
Received: (qmail 10337 invoked from network); 23 Mar 2006 23:21:16 -0000
Received: from w082.z209031132.bos-ma.dsl.cnc.net (HELO xplana.com) (209.31.132.82)
  by seddiki.com with SMTP; 23 Mar 2006 23:21:16 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Native code compilation
Date: Thu, 23 Mar 2006 18:15:38 -0500
Message-ID: <666F5DC00A92964896146F60A828D32B88C4BA@MASSAVE.xplana.priv>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Native code compilation
Thread-Index: AcZOy2iNQLnhqgtbQleyZy7KV6IQ4gABBUYQ
From: "Seeta Somagani" <Seeta.Somagani@xplana.com>
To: <java-user@lucene.apache.org>,
	"Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yeah, I'm too lazy to write the code again in C++. Was just trying to
see if compiling to native code works. Thanks
Seeta

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Thursday, March 23, 2006 5:44 PM
To: java-user@lucene.apache.org
Subject: Re: Native code compilation

Native code....
There is a C++ port called CLucene, if that suits you more than coffee
beans...

Otis

----- Original Message ----
From: Seeta Somagani <Seeta.Somagani@xplana.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 23, 2006 4:47:33 PM
Subject: Native code compilation


Hi all,

Has anyone tried to compile their Lucene applications into native code?
Mine works fine in a VM but the call to search() on IndexSearcher is
crashing the application, after I compile it into native code. There is
apparently no problem in instantiating an IndexSearcher though. I tried
this on both Linux and Windows and am getting the same problem.
Thnx
Seeta


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 03:41:40 2006
Return-Path: <java-user-return-19803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26780 invoked from network); 24 Mar 2006 03:41:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 03:41:39 -0000
Received: (qmail 70150 invoked by uid 500); 24 Mar 2006 03:41:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70116 invoked by uid 500); 24 Mar 2006 03:41:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70105 invoked by uid 99); 24 Mar 2006 03:41:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 19:41:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.240.130.16] (HELO pat.uio.no) (129.240.130.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Mar 2006 19:41:32 -0800
Received: from mail-mx7.uio.no ([129.240.10.52])
	by pat.uio.no with esmtp (Exim 4.43)
	id 1FMdAj-0000Vi-Vy
	for java-user@lucene.apache.org; Fri, 24 Mar 2006 04:41:10 +0100
Received: from sponsorpc18.uio.no ([129.240.94.135] helo=[127.0.0.1])
	by mail-mx7.uio.no with esmtp (Exim 4.43)
	id 1FMdAd-000377-FF
	for java-user@lucene.apache.org; Fri, 24 Mar 2006 04:41:03 +0100
Message-ID: <44236AC7.5070105@ifi.uio.no>
Date: Fri, 24 Mar 2006 04:43:03 +0100
From: Eivind Hasle Amundsen <eivinha@ifi.uio.no>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Greetings, community :)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 0612-2, 23.03.2006), Outbound message
X-Antivirus-Status: Clean
X-UiO-Spam-info: not spam, SpamAssassin (score=-1.508, required 12,
	autolearn=disabled, AWL -1.51)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, World!

I'm totally new to Lucene, but I'll be dealing with it in my master 
thesis (among other things) for the next year or so. I've acquired the 
LIA book and started to have a brief look at the API.

First I want to thank Mr. Hatcher and Mr. Gospodnetic for what seems to 
be an excellent introduction to Lucene, but not least Mr. Cutting and 
the rest of the developers for Lucene itself.

I've started out fresh with the 1.9.1 release, trying to pick up the 2.0 
API, and there seem to be quite some changes already with the basic 
features. I'm already convinced they are for the better; more 'OO' 
thinking (less static methods) and better flexibility, along with less 
confusing naming conventions - that's my first impression. I bet there 
are tons of others, too.

Hope to stay with you here for a while and looking forward to see Lucene 
developing. Hatcher/Gospodnetic: The API change just gives me extra 
excitement in following your book and adopting to the changes!

Best regards,

-- 
Eivind Hasle Amundsen | eivinha@ifi.uio.no

Student, Department of Informatics, University of Oslo
mob: +47 90789762 | web: http://www.eha.no/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 09:19:49 2006
Return-Path: <java-user-return-19804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90622 invoked from network); 24 Mar 2006 09:19:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 09:19:49 -0000
Received: (qmail 15269 invoked by uid 500); 24 Mar 2006 09:19:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15221 invoked by uid 500); 24 Mar 2006 09:19:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15210 invoked by uid 99); 24 Mar 2006 09:19:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 01:19:42 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 01:19:41 -0800
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id JAA26699
	for <java-user@lucene.apache.org>; Fri, 24 Mar 2006 09:29:49 GMT
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma026695; Fri, 24 Mar 06 09:29:36 GMT
In-Reply-To: <6.2.3.4.0.20060323113557.01cccc68@worldware.com>
Subject: Re: Joins between index and database
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OFDBC11AD4.C467722D-ON8025713B.0031CF0F-8025713B.0033279A@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Fri, 24 Mar 2006 09:19:07 +0000
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 24/03/2006 09:19:08
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






You can get the results from the database and then create either some
boolean clauses to append to your existing Lucene query if the number of
results from the data base is small. If the number of results from the
database is large then you can create a filter. (Assuming you have some
common key field in your database and Lucene index). The downside to this
approach is you have to pull the results out of the database and create a
query/filter which can be timeconsuming if there are lots of results.

Depending upon your data you can sometimes avoid the database lookup by
indexing additional information in Lucene.  Bear in mind that Lucene can
index multiple values in a single field.

Regards

Paul I.




                                                                           
             Tom Hill                                                      
             <lucene-list@zven                                             
             ts.com>                                                    To 
                                       java-user@lucene.apache.org         
             23/03/2006 19:51                                           cc 
                                                                           
                                                                   Subject 
             Please respond to         Joins between index and database    
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           




Hi -

I have an application where I'm using Lucene to index the contents of
a database. That's working fine.

But I have a problem where I'd like to retrieve a subset of the
documents that match a search, based on a join table in the database.

How do people typically handle combining the results of a Lucene
based search with the results of a database search?

Thanks,

Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 10:28:16 2006
Return-Path: <java-user-return-19805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23646 invoked from network); 24 Mar 2006 10:28:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 10:28:14 -0000
Received: (qmail 7319 invoked by uid 500); 24 Mar 2006 10:28:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7290 invoked by uid 500); 24 Mar 2006 10:28:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7279 invoked by uid 99); 24 Mar 2006 10:28:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 02:28:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.56.31.27] (HELO smtp7.clb.oleane.net) (213.56.31.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 02:28:06 -0800
Received: from smtp7.clb.oleane.net (localhost [127.0.0.1]) 
	by smtp7.clb.oleane.net (antivirus) with ESMTP id k2OAReCI026440
	for <java-user@lucene.apache.org>; Fri, 24 Mar 2006 11:27:40 +0100
Received: from [172.16.0.204] ([217.167.130.37]) (authenticated)
	by smtp7.clb.oleane.net with ESMTP id k2OARdfr026384
	for <java-user@lucene.apache.org>; Fri, 24 Mar 2006 11:27:40 +0100
Message-ID: <4423C9F8.8010804@lingway.com>
Date: Fri, 24 Mar 2006 11:29:12 +0100
From: Vincent Le Maout <vincent.lemaout@lingway.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: span query scoring vs boolean query scoring
Content-Type: multipart/alternative;
 boundary="------------070206010205050800030409"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------070206010205050800030409
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi everybody,
it's been a while since I try to figure out the difference between the 
scoring of span and boolean
queries with little success. All stems from the observation that the 
boost of SpanTermQuery as
leaves of the query tree does not seem to have much influence on the 
resulting scores of the
documents. Looking into the source code (1.9.1) I found the computing of 
weights to be somewhat
different according to the query type (I am not that comfortable with 
the source code :-)

*org.apache.lucene.search.BooleanQuery.BooleanWeight* :

*public* BooleanWeight(Searcher searcher)
      *throws* IOException {
      *this*.similarity = getSimilarity(searcher);
      *for* (*int* i = 0 ; i < clauses.size(); i++) {
        BooleanClause c = (BooleanClause)clauses.elementAt(i);
        weights.add(c.getQuery().createWeight(searcher));
      }
    }

which looks to me like a recursive descent through the tree, taking in 
account
the weights of all the nodes, whereas :

*org.apache.lucene.search.spans.SpanWeight* :

*public* SpanWeight(SpanQuery query, Searcher searcher)
    *throws* IOException {
    *this*.similarity = query.getSimilarity(searcher);
    *this*.query = query;
    *this*.terms = query.getTerms();

    idf = *this*.query.getSimilarity(searcher).idf(terms, searcher);
  }

lacks any traversal and according to what I have understood so far from 
the rest
of the code, only takes in account the boost of the tree root in 
SumOfSquareWeights,
which is consistent with the resulting scores not considering the boost 
of my tree
leaves.
I am missing something ? Is it intented or is it a bug ?

Thanks in advance.
Regards.

Vincent



--------------070206010205050800030409--

From java-user-return-19806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 18:48:10 2006
Return-Path: <java-user-return-19806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7320 invoked from network); 24 Mar 2006 18:48:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 18:48:07 -0000
Received: (qmail 42513 invoked by uid 500); 24 Mar 2006 18:47:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42472 invoked by uid 500); 24 Mar 2006 18:47:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42461 invoked by uid 99); 24 Mar 2006 18:47:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 10:47:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 10:47:57 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 03C825B771; Fri, 24 Mar 2006 10:47:34 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E5C9A7F403
	for <java-user@lucene.apache.org>; Fri, 24 Mar 2006 10:47:34 -0800 (PST)
Date: Fri, 24 Mar 2006 10:47:34 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Changing ranking
In-Reply-To: <004601c64f1e$e88f0ca0$6500a8c0@leondell>
Message-ID: <Pine.LNX.4.58.0603241038340.15735@hal.rescomp.berkeley.edu>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com>
 <3536145.post@talk.nabble.com> <4421816F.3090406@jalios.com>
 <3536578.post@talk.nabble.com> <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp>
 <3551247.post@talk.nabble.com> <008701c64e88$25e018c0$6500a8c0@leondell>
 <Pine.LNX.4.58.0603231311530.23388@hal.rescomp.berkeley.edu>
 <004601c64f1e$e88f0ca0$6500a8c0@leondell>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


(NOTE: replying back to java-user, for the reasons listed at
http://people.apache.org/~hossman/#private_q )

: Date: Fri, 24 Mar 2006 08:42:29 -0000
: Subject: Re: Changing ranking
:
: HI Chris,
: Thanks, so would that make it as simple as a document with 5 matching
: occurences ranks higher than a document with 4 occurences?

Score calculations tend to be complicated, but if what you really care
about is just the number of occurences, then omiting norms is a one way to
start.

: This should achieve my objective of showing slightly longer documents first
: (reallly it doesnt actually have to be the longest, I just want to stop
: documents with onle two words ranking first)

it won't acctually make longer docs appear first -- it will just help
ensure that there is no penalty for a doc being longer.  5 word occurances
in a 10 word document would probably score the same as those 5 words in a
20 word document, the order that they come back might be determined by the
order they were added to the index at that point.  term frequency also
comes into play -- if your BooleanQuery contains 10 optional terms, and
the 4 that apear the least frequently in your index appear in one
document, and the other 6 apear in a differnet document -- the doc with
the 4 rare ones might wind up scoring higher.

To really understand scoring you should do some experiments, and look at
the Explanation information for your queres to understand how things like
tf and idf impact your score.  Then you can think about how you might want
to change your Similarity class to meet your needs.


: >
: > : Is there anyway I can change luicene to rank longer documents with more
: > : phrase occurences higher
: >
: > if what you care about is only the number of occurences, and you don't
: > want the length to be a factor at all, then using Field.setOmitNorms(true)
: > on the Field for every document you add will not only accomplish this, but
: > will also save one byte per field per document in your index.
: >
: > that can add up if you have a lot of fields whose length you don't care
: > about.
: >
: >
: > -Hoss
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
: >
: >
: >
: > --
: > No virus found in this incoming message.
: > Checked by AVG Free Edition.
: > Version: 7.1.385 / Virus Database: 268.3.0/290 - Release Date: 23/03/2006
: >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 21:39:21 2006
Return-Path: <java-user-return-19807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27029 invoked from network); 24 Mar 2006 21:39:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 21:39:21 -0000
Received: (qmail 8983 invoked by uid 500); 24 Mar 2006 21:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8630 invoked by uid 500); 24 Mar 2006 21:39:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8614 invoked by uid 99); 24 Mar 2006 21:39:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 13:39:16 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 13:39:15 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FMtzi-00071i-Ni
	for java-user@lucene.apache.org; Fri, 24 Mar 2006 13:38:54 -0800
Message-ID: <3579744.post@talk.nabble.com>
Date: Fri, 24 Mar 2006 13:38:54 -0800 (PST)
From: escobar5 <escobar5@spymac.com>
To: java-user@lucene.apache.org
Subject: RE: java.lang.OutOfMemoryError in lucene
In-Reply-To: <PKEIKOCKCHNIIHNECPCCIENMCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: escobar5@spymac.com
X-Nabble-From: escobar5 <escobar5@spymac.com>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com> <3536145.post@talk.nabble.com> <4421816F.3090406@jalios.com> <3536578.post@talk.nabble.com> <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp> <3551247.post@talk.nabble.com> <PKEIKOCKCHNIIHNECPCCIENMCEAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Here is my search method, maybe it's something wrong with it:

public Vector buscar(String busqueda) throws Exception, Error
  {
    Vector results = new Vector();
    ResultadoBusqueda rb = null;
    IndexSearcher searcher = new IndexSearcher("/index");    
    Analyzer analyzer = new StandardAnalyzer();
    Hits hits = null;
    Document doc = null;
    String path = "";
    String nombreArchivo = "";
  
    String line = busqueda;
  
    QueryParser qp = new QueryParser("contents", analyzer);
    qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
    Query query = qp.parse(line);
    System.out.println("Searching for: " + query.toString("contents"));
    hits = searcher.search(query);
    
    for(int i = 0; i < hits.length(); i++)
    {
      doc = hits.doc(i);


      path = doc.get("path").replaceAll("R:",
"http://informatica.suranet.com/SDI");
      path = path.replace('\\', '/');
      nombreArchivo = path.substring(path.lastIndexOf("/")+1);

      rb = new ResultadoBusqueda(nombreArchivo, path);
      results.add(rb);
    }
    searcher.close();
    return results;

  }
--
View this message in context: http://www.nabble.com/java.lang.OutOfMemoryError-in-lucene-t1324911.html#a3579744
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 21:52:19 2006
Return-Path: <java-user-return-19808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34012 invoked from network); 24 Mar 2006 21:52:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 21:52:18 -0000
Received: (qmail 29326 invoked by uid 500); 24 Mar 2006 21:52:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28911 invoked by uid 500); 24 Mar 2006 21:52:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28900 invoked by uid 99); 24 Mar 2006 21:52:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 13:52:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 13:52:10 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 475345B76E; Fri, 24 Mar 2006 13:51:49 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 410AC7F403
	for <java-user@lucene.apache.org>; Fri, 24 Mar 2006 13:51:49 -0800 (PST)
Date: Fri, 24 Mar 2006 13:51:49 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: span query scoring vs boolean query scoring
In-Reply-To: <4423C9F8.8010804@lingway.com>
Message-ID: <Pine.LNX.4.58.0603241348050.25117@hal.rescomp.berkeley.edu>
References: <4423C9F8.8010804@lingway.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: *public* SpanWeight(SpanQuery query, Searcher searcher)
:     *throws* IOException {
:     *this*.similarity = query.getSimilarity(searcher);
:     *this*.query = query;
:     *this*.terms = query.getTerms();
:
:     idf = *this*.query.getSimilarity(searcher).idf(terms, searcher);
:   }
:
: lacks any traversal and according to what I have understood so far from
: the rest
: of the code, only takes in account the boost of the tree root in
: SumOfSquareWeights,

well, getTerms for all of the SpanQueris does traverse the terms of the
nested span queries, so the idf does take into account the whole structure
... but i think you're right about the boost -- it doesn't look like the
boost of nested SpanQueries are ever used.

: I am missing something ? Is it intented or is it a bug ?

that i can't answer ... if it is intended, it should probably be
documented.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 22:34:55 2006
Return-Path: <java-user-return-19809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60597 invoked from network); 24 Mar 2006 22:34:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 22:34:55 -0000
Received: (qmail 1126 invoked by uid 500); 24 Mar 2006 22:34:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 789 invoked by uid 500); 24 Mar 2006 22:34:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 777 invoked by uid 99); 24 Mar 2006 22:34:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 14:34:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 14:34:47 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T773b0487ec88ad3ee427d8@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Fri, 24 Mar 2006 23:34:20 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64F93.18F90E5A"
Subject: delte documents into index
Date: Fri, 24 Mar 2006 23:34:22 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A429A67B6@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: delte documents into index
Thread-Index: AcZPkxgUgXErNxmoQIqpiEsbt5mk1g==
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64F93.18F90E5A
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SXMgaXQgcG9zc2libGUgdG8gd3JpdGUgaW50byB0aGUgaW5kZXggYW5kIGRlbGV0ZSBzb21lIGRv
Y3VtZW50cyBpbiB0aGUgc2FtZSB0aW1lPw0KDQpJZiB5ZXMgY291bGQgeW91IHNob3cgbWUgbWUg
aG93IHRvIHByb2NlZWQuDQoNCkkgdXNlIEx1Y2VuZSAxLjkuMQ0KDQpUaGFua3MgaW4gYWR2ZW5j
ZS4NCg0K

------_=_NextPart_001_01C64F93.18F90E5A--

From java-user-return-19810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 23:06:38 2006
Return-Path: <java-user-return-19810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75811 invoked from network); 24 Mar 2006 23:06:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 23:06:38 -0000
Received: (qmail 30558 invoked by uid 500); 24 Mar 2006 23:06:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30530 invoked by uid 500); 24 Mar 2006 23:06:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30519 invoked by uid 99); 24 Mar 2006 23:06:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 15:06:33 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 15:06:31 -0800
Received: (qmail 26435 invoked from network); 24 Mar 2006 23:06:09 -0000
Received: from unknown (HELO p5496d5d6.dip.t-dialin.net) ([pbs]695637@[84.150.213.214])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 24 Mar 2006 23:06:09 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: delte documents into index
Date: Sat, 25 Mar 2006 00:05:01 +0100
User-Agent: KMail/1.8.2
References: <AD97D5F23B201C448EAB13B4F6DA6A429A67B6@EPLUXSEX01.ep.parl.union.eu>
In-Reply-To: <AD97D5F23B201C448EAB13B4F6DA6A429A67B6@EPLUXSEX01.ep.parl.union.eu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603250005.01329@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Freitag 24 M=C3=A4rz 2006 23:34, WATHELET Thomas wrote:

> Is it possible to write into the index and delete some documents in the
> same time?

Yes, have a look at the IndexModifier class.

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 24 23:39:46 2006
Return-Path: <java-user-return-19811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92129 invoked from network); 24 Mar 2006 23:39:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Mar 2006 23:39:45 -0000
Received: (qmail 52277 invoked by uid 500); 24 Mar 2006 23:39:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52251 invoked by uid 500); 24 Mar 2006 23:39:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52239 invoked by uid 99); 24 Mar 2006 23:39:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 15:39:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.93.161.132] (HELO mail1.zvents.com) (216.93.161.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 15:39:37 -0800
Received: from Oblong.zvents.com (c-71-198-187-222.hsd1.ca.comcast.net [71.198.187.222])
	by mail1.zvents.com (Postfix) with ESMTP id 568B731703D
	for <java-user@lucene.apache.org>; Fri, 24 Mar 2006 15:39:13 -0800 (PST)
Message-Id: <6.2.3.4.0.20060324151148.01e11710@worldware.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.3.4
Date: Fri, 24 Mar 2006 15:39:08 -0800
To: java-user@lucene.apache.org
From: Tom Hill <lucene-list@zvents.com>
Subject: Re: delte documents into index
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Thomas,

 > > Is it possible to write into the index and delete some documents in the
 > > same time?

 > Yes, have a look at the IndexModifier class.

If by "the same time" you mean "in one session", or something like 
that, then yes, IndexModifier will help.

But if you mean from multiple threads, you'll have to do a fair 
amount more work to keep them synchronized. IndexModifier won't work 
in multithreaded scenario, at least as far as I can tell.

Tom



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 25 00:55:56 2006
Return-Path: <java-user-return-19812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18033 invoked from network); 25 Mar 2006 00:55:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Mar 2006 00:55:56 -0000
Received: (qmail 22081 invoked by uid 500); 25 Mar 2006 00:55:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22057 invoked by uid 500); 25 Mar 2006 00:55:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22046 invoked by uid 99); 25 Mar 2006 00:55:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 16:55:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.58.180.53] (HELO vps.elderlycare-help.co.uk) (207.58.180.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 16:55:49 -0800
Received: from cpc1-flee1-0-0-cust801.glfd.cable.ntl.com ([86.4.143.34] helo=leondell)
	by vps.elderlycare-help.co.uk with esmtpa (Exim 4.52)
	id 1FMx3u-0006z4-QI
	for java-user@lucene.apache.org; Sat, 25 Mar 2006 00:55:27 +0000
Message-ID: <011d01c64fa6$cdcfc930$6500a8c0@leondell>
From: "Leon Chaddock" <leonchaddock@macranet.co.uk>
To: <java-user@lucene.apache.org>
References: <3535340.post@talk.nabble.com> <44217F65.4050007@jalios.com> <3536145.post@talk.nabble.com> <4421816F.3090406@jalios.com> <3536578.post@talk.nabble.com> <PKEIKOCKCHNIIHNECPCCMEMPCEAA.koji.sekiguchi@m4.dion.ne.jp> <3551247.post@talk.nabble.com> <008701c64e88$25e018c0$6500a8c0@leondell> <Pine.LNX.4.58.0603231311530.23388@hal.rescomp.berkeley.edu> <004601c64f1e$e88f0ca0$6500a8c0@leondell> <Pine.LNX.4.58.0603241038340.15735@hal.rescomp.berkeley.edu>
Subject: Re: Changing ranking
Date: Sat, 25 Mar 2006 00:55:19 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - vps.elderlycare-help.co.uk
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - macranet.co.uk
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris,
You said:
" 5 word occurances in a 10 word document would probably score the same as 
those 5 words in a 20 word document"

OK so If I set this option would this mean no of occurences was a major 
factor so that:

A phrase occurs 1 time in a 3 word document would be a lower rank than A 
phrase occurs 5 times in a 30 word document as there are more occurences 
irrespective of the doc size.

Have I understood correctly, I know there are other factors but I am just 
interested in general. It is very important to me to stop two word documents 
with the phrase occuring only once ranking higher than  100 word documents 
with the phrase occuring 10 times.

Many thanks for your help

Leon

----- Original Message ----- 
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: "Lucene Users" <java-user@lucene.apache.org>
Sent: Friday, March 24, 2006 6:47 PM
Subject: Re: Changing ranking


>
> (NOTE: replying back to java-user, for the reasons listed at
> http://people.apache.org/~hossman/#private_q )
>
> : Date: Fri, 24 Mar 2006 08:42:29 -0000
> : Subject: Re: Changing ranking
> :
> : HI Chris,
> : Thanks, so would that make it as simple as a document with 5 matching
> : occurences ranks higher than a document with 4 occurences?
>
> Score calculations tend to be complicated, but if what you really care
> about is just the number of occurences, then omiting norms is a one way to
> start.
>
> : This should achieve my objective of showing slightly longer documents 
> first
> : (reallly it doesnt actually have to be the longest, I just want to stop
> : documents with onle two words ranking first)
>
> it won't acctually make longer docs appear first -- it will just help
> ensure that there is no penalty for a doc being longer.  5 word occurances
> in a 10 word document would probably score the same as those 5 words in a
> 20 word document, the order that they come back might be determined by the
> order they were added to the index at that point.  term frequency also
> comes into play -- if your BooleanQuery contains 10 optional terms, and
> the 4 that apear the least frequently in your index appear in one
> document, and the other 6 apear in a differnet document -- the doc with
> the 4 rare ones might wind up scoring higher.
>
> To really understand scoring you should do some experiments, and look at
> the Explanation information for your queres to understand how things like
> tf and idf impact your score.  Then you can think about how you might want
> to change your Similarity class to meet your needs.
>
>
> : >
> : > : Is there anyway I can change luicene to rank longer documents with 
> more
> : > : phrase occurences higher
> : >
> : > if what you care about is only the number of occurences, and you don't
> : > want the length to be a factor at all, then using 
> Field.setOmitNorms(true)
> : > on the Field for every document you add will not only accomplish this, 
> but
> : > will also save one byte per field per document in your index.
> : >
> : > that can add up if you have a lot of fields whose length you don't 
> care
> : > about.
> : >
> : >
> : > -Hoss
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> : >
> : >
> : >
> : > --
> : > No virus found in this incoming message.
> : > Checked by AVG Free Edition.
> : > Version: 7.1.385 / Virus Database: 268.3.0/290 - Release Date: 
> 23/03/2006
> : >
> : >
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> -- 
> No virus found in this incoming message.
> Checked by AVG Free Edition.
> Version: 7.1.385 / Virus Database: 268.3.0/290 - Release Date: 23/03/2006
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 25 04:53:43 2006
Return-Path: <java-user-return-19813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98025 invoked from network); 25 Mar 2006 04:53:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Mar 2006 04:53:43 -0000
Received: (qmail 71644 invoked by uid 500); 25 Mar 2006 04:53:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71598 invoked by uid 500); 25 Mar 2006 04:53:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71587 invoked by uid 99); 25 Mar 2006 04:53:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 20:53:34 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddanddan@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Mar 2006 20:53:33 -0800
Received: by xproxy.gmail.com with SMTP id s8so613176wxc
        for <java-user@lucene.apache.org>; Fri, 24 Mar 2006 20:53:12 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Oe6GoKCBPU3z0Xk7f69zs0tb0vx0k6mk4ATf/Vlf2+3Egxb6jHbO0enSbRKmLe3grl+6aJY5e1sUq7QPV+v0oFezAoiV16U0Ec+AiOJl1F65p9vs4bawJ9pnfzVPWyOP2S45BFCjGYvRgVMqLSVR+v7cPlSgpmLLBiXdmYRnZ9A=
Received: by 10.70.87.2 with SMTP id k2mr2069520wxb;
        Fri, 24 Mar 2006 20:53:12 -0800 (PST)
Received: by 10.70.84.20 with HTTP; Fri, 24 Mar 2006 20:53:12 -0800 (PST)
Message-ID: <6380384b0603242053v177f14a0m@mail.gmail.com>
Date: Sat, 25 Mar 2006 13:53:12 +0900
From: "chan kang" <ddanddan@gmail.com>
To: java-user@lucene.apache.org
Subject: Does Optimize preserve index order?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2170_459893.1143262392048"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2170_459893.1143262392048
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
I've been trying to search and show the results
in a sorted order by using search(query, sort).
However, the sorting seems to take too long when
the index size becomes large (currently 7GB).
So,,, I thought it would be nice if the index were
pre-sorted...
What I want to do is to show the results in
chronological order. (btw, the index contains the time field)
One solution I have thought up was:
1. index the whole set
2. read in all the time field values
3. re-index the whole set according to time
   (heard that the index order is same as insertion order)
4. optimize.


However, although I think the step 3 would result
in a sorted index, isn't there a possibility that
step 4 might ruin all the sortedness?
- Wouldn't optimizing break the order in which they
  are indexed?

Also, is there any other way that I can pre-sort the
index over a specific field (such as time), so that
I wouldn't have to sort while searching? I'm not
even sure if my idea would work well.

Any suggestions are welcome..
Thank you in advance.....



- Chan

------=_Part_2170_459893.1143262392048--

From java-user-return-19814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 25 09:46:50 2006
Return-Path: <java-user-return-19814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78474 invoked from network); 25 Mar 2006 09:46:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Mar 2006 09:46:49 -0000
Received: (qmail 17143 invoked by uid 500); 25 Mar 2006 09:46:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17110 invoked by uid 500); 25 Mar 2006 09:46:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17097 invoked by uid 99); 25 Mar 2006 09:46:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 01:46:43 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 01:46:42 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T773d6bb24988ad3ee427d8@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Sat, 25 Mar 2006 10:46:16 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64FF0.F6AF3008"
Subject: RE: delte documents into index
Date: Sat, 25 Mar 2006 10:46:17 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A429A67B7@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: delte documents into index
Thread-Index: AcZPl5ozAs9Srf9DQhuWnnNgs7NG9QAWUbkt
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64FF0.F6AF3008
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

T2sgdGhhbmtzDQoNCgktLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLSANCglGcm9tOiBEYW5pZWwg
TmFiZXIgW21haWx0bzpsdWNlbmVsaXN0MjAwNUBkYW5pZWxuYWJlci5kZV0gDQoJU2VudDogU2F0
IDMvMjUvMjAwNiAxMjowNSBBTSANCglUbzogamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnIA0K
CUNjOiANCglTdWJqZWN0OiBSZTogZGVsdGUgZG9jdW1lbnRzIGludG8gaW5kZXgNCgkNCgkNCg0K
CU9uIEZyZWl0YWcgMjQgTcOkcnogMjAwNiAyMzozNCwgV0FUSEVMRVQgVGhvbWFzIHdyb3RlOg0K
CQ0KCT4gSXMgaXQgcG9zc2libGUgdG8gd3JpdGUgaW50byB0aGUgaW5kZXggYW5kIGRlbGV0ZSBz
b21lIGRvY3VtZW50cyBpbiB0aGUNCgk+IHNhbWUgdGltZT8NCgkNCglZZXMsIGhhdmUgYSBsb29r
IGF0IHRoZSBJbmRleE1vZGlmaWVyIGNsYXNzLg0KCQ0KCS0tDQoJaHR0cDovL3d3dy5kYW5pZWxu
YWJlci5kZQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEt
dXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQoJDQoJDQoNCg==

------_=_NextPart_001_01C64FF0.F6AF3008--

From java-user-return-19815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 25 09:47:23 2006
Return-Path: <java-user-return-19815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78615 invoked from network); 25 Mar 2006 09:47:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Mar 2006 09:47:23 -0000
Received: (qmail 19452 invoked by uid 500); 25 Mar 2006 09:47:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18418 invoked by uid 500); 25 Mar 2006 09:47:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18405 invoked by uid 99); 25 Mar 2006 09:47:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 01:47:19 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 01:47:18 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T773d6bd17988ad3ee427d8@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Sat, 25 Mar 2006 10:46:24 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64FF0.FBA39524"
Subject: RE: delte documents into index
Date: Sat, 25 Mar 2006 10:46:25 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A429A67B8@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: delte documents into index
Thread-Index: AcZPnDj1YrEFueQfT8SrjxzxdMpqXgAVMCRF
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64FF0.FBA39524
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

T2sgdGhhbmtzDQoNCgktLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLSANCglGcm9tOiBUb20gSGls
bCBbbWFpbHRvOmx1Y2VuZS1saXN0QHp2ZW50cy5jb21dIA0KCVNlbnQ6IFNhdCAzLzI1LzIwMDYg
MTI6MzkgQU0gDQoJVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZyANCglDYzogDQoJU3Vi
amVjdDogUmU6IGRlbHRlIGRvY3VtZW50cyBpbnRvIGluZGV4DQoJDQoJDQoNCglIaSBUaG9tYXMs
DQoJDQoJID4gPiBJcyBpdCBwb3NzaWJsZSB0byB3cml0ZSBpbnRvIHRoZSBpbmRleCBhbmQgZGVs
ZXRlIHNvbWUgZG9jdW1lbnRzIGluIHRoZQ0KCSA+ID4gc2FtZSB0aW1lPw0KCQ0KCSA+IFllcywg
aGF2ZSBhIGxvb2sgYXQgdGhlIEluZGV4TW9kaWZpZXIgY2xhc3MuDQoJDQoJSWYgYnkgInRoZSBz
YW1lIHRpbWUiIHlvdSBtZWFuICJpbiBvbmUgc2Vzc2lvbiIsIG9yIHNvbWV0aGluZyBsaWtlDQoJ
dGhhdCwgdGhlbiB5ZXMsIEluZGV4TW9kaWZpZXIgd2lsbCBoZWxwLg0KCQ0KCUJ1dCBpZiB5b3Ug
bWVhbiBmcm9tIG11bHRpcGxlIHRocmVhZHMsIHlvdSdsbCBoYXZlIHRvIGRvIGEgZmFpcg0KCWFt
b3VudCBtb3JlIHdvcmsgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZC4gSW5kZXhNb2RpZmllciB3
b24ndCB3b3JrDQoJaW4gbXVsdGl0aHJlYWRlZCBzY2VuYXJpbywgYXQgbGVhc3QgYXMgZmFyIGFz
IEkgY2FuIHRlbGwuDQoJDQoJVG9tDQoJDQoJDQoJDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJVG8gdW5zdWJz
Y3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQoJ
Rm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFw
YWNoZS5vcmcNCgkNCgkNCg0K

------_=_NextPart_001_01C64FF0.FBA39524--

From java-user-return-19816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 25 11:09:04 2006
Return-Path: <java-user-return-19816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 562 invoked from network); 25 Mar 2006 11:09:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Mar 2006 11:09:04 -0000
Received: (qmail 67896 invoked by uid 500); 25 Mar 2006 11:09:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66774 invoked by uid 500); 25 Mar 2006 11:08:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66733 invoked by uid 99); 25 Mar 2006 11:08:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 03:08:58 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.43 as permitted sender)
Received: from [80.67.18.43] (HELO smtprelay05.ispgateway.de) (80.67.18.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 03:08:55 -0800
Received: (qmail 15067 invoked from network); 25 Mar 2006 11:08:31 -0000
Received: from unknown (HELO p5496e090.dip.t-dialin.net) ([pbs]695637@[84.150.224.144])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay05.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 25 Mar 2006 11:08:31 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: delte documents into index
Date: Sat, 25 Mar 2006 12:07:26 +0100
User-Agent: KMail/1.8.2
References: <6.2.3.4.0.20060324151148.01e11710@worldware.com>
In-Reply-To: <6.2.3.4.0.20060324151148.01e11710@worldware.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603251207.26311@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Samstag 25 M=C3=A4rz 2006 00:39, Tom Hill wrote:

> IndexModifier won't work
> in multithreaded scenario, at least as far as I can tell.

Yes it does, but you need to use one IndexModifier object from all classes=
=20
(see the javadoc).

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 25 11:31:36 2006
Return-Path: <java-user-return-19817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9783 invoked from network); 25 Mar 2006 11:31:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Mar 2006 11:31:34 -0000
Received: (qmail 78098 invoked by uid 500); 25 Mar 2006 11:31:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78068 invoked by uid 500); 25 Mar 2006 11:31:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78056 invoked by uid 99); 25 Mar 2006 11:31:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 03:31:28 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [136.173.62.228] (HELO SMTP15.europarl.europa.eu) (136.173.62.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 03:31:27 -0800
Received: from epluxsex01.ep.parl.union.eu (unverified) by SMTP15.europarl.europa.eu
 (European Parliament) with ESMTP id <T773dcb9de388ad3ee427d8@SMTP15.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Sat, 25 Mar 2006 12:31:02 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C64FFF.997730E3"
Subject: RE: delte documents into index
Date: Sat, 25 Mar 2006 12:31:03 +0100
Message-ID: <AD97D5F23B201C448EAB13B4F6DA6A429A67B9@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: delte documents into index
Thread-Index: AcZP/IdsXhbOaCWuSumWDQ7Sd/GOBAAAt9Gk
From: "WATHELET Thomas" <TWathelet@europarl.eu.int>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C64FFF.997730E3
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

dXNlIG9uZSBJbmRleE1vZGlmaWVyIG9iamVjdCBmb3IgYWxsIHlvdXIgcHJvY2Vzcw0KDQoJLS0t
LS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0gDQoJRnJvbTogRGFuaWVsIE5hYmVyIFttYWlsdG86bHVj
ZW5lbGlzdDIwMDVAZGFuaWVsbmFiZXIuZGVdIA0KCVNlbnQ6IFNhdCAzLzI1LzIwMDYgMTI6MDcg
UE0gDQoJVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZyANCglDYzogDQoJU3ViamVjdDog
UmU6IGRlbHRlIGRvY3VtZW50cyBpbnRvIGluZGV4DQoJDQoJDQoNCglPbiBTYW1zdGFnIDI1IE3D
pHJ6IDIwMDYgMDA6MzksIFRvbSBIaWxsIHdyb3RlOg0KCQ0KCT4gSW5kZXhNb2RpZmllciB3b24n
dCB3b3JrDQoJPiBpbiBtdWx0aXRocmVhZGVkIHNjZW5hcmlvLCBhdCBsZWFzdCBhcyBmYXIgYXMg
SSBjYW4gdGVsbC4NCgkNCglZZXMgaXQgZG9lcywgYnV0IHlvdSBuZWVkIHRvIHVzZSBvbmUgSW5k
ZXhNb2RpZmllciBvYmplY3QgZnJvbSBhbGwgY2xhc3Nlcw0KCShzZWUgdGhlIGphdmFkb2MpLg0K
CQ0KCVJlZ2FyZHMNCgkgRGFuaWVsDQoJDQoJLS0NCglodHRwOi8vd3d3LmRhbmllbG5hYmVyLmRl
DQoJDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tDQoJVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVu
c3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQoJRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUt
bWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCgkNCgkNCg0K

------_=_NextPart_001_01C64FFF.997730E3--

From java-user-return-19818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 25 20:50:41 2006
Return-Path: <java-user-return-19818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97020 invoked from network); 25 Mar 2006 20:50:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Mar 2006 20:50:41 -0000
Received: (qmail 69565 invoked by uid 500); 25 Mar 2006 20:50:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69530 invoked by uid 500); 25 Mar 2006 20:50:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69518 invoked by uid 99); 25 Mar 2006 20:50:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 12:50:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.138] (HELO smtp801.mail.ukl.yahoo.com) (217.12.12.138)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 25 Mar 2006 12:50:34 -0800
Received: (qmail 71905 invoked from network); 25 Mar 2006 20:50:11 -0000
Received: from unknown (HELO MalcolmPC) (malcyclark@btinternet.com@86.132.233.31 with login)
  by smtp801.mail.ukl.yahoo.com with SMTP; 25 Mar 2006 20:50:11 -0000
Message-ID: <001d01c6504d$b62b1b20$0401a8c0@MalcolmPC>
From: "Malcolm Clark" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
Subject: TREC and INEX
Date: Sat, 25 Mar 2006 20:50:12 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001A_01C6504D.B5ED27C0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001A_01C6504D.B5ED27C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,
Are any of you planning on using Lucene in any way for the NLP in INEX =
this year or the Enterprise track in TREC?
Thanks,
MC
------=_NextPart_000_001A_01C6504D.B5ED27C0--


From java-user-return-19819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 26 07:53:38 2006
Return-Path: <java-user-return-19819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56149 invoked from network); 26 Mar 2006 07:53:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Mar 2006 07:53:38 -0000
Received: (qmail 17139 invoked by uid 500); 26 Mar 2006 07:53:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16608 invoked by uid 500); 26 Mar 2006 07:53:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16597 invoked by uid 99); 26 Mar 2006 07:53:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 23:53:32 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ibolotin@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Mar 2006 23:53:31 -0800
Received: by xproxy.gmail.com with SMTP id t10so712596wxc
        for <java-user@lucene.apache.org>; Sat, 25 Mar 2006 23:53:10 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=tQ55/U/xLyRLbR6IiPE5dX9SuEtC6VGuTSwHaKrX+3Sp/SjkKPMI5tJJGJTU2GpesWhbRq/nWmNCeEIDNvDhuhHgajGPofyBw8XlzsQl71ffgi0DLhPcm4oecSoO3dVgO3rhyZOTb9ocnyebd30swCuSqIKEeW8gBQRqVlsrVLo=
Received: by 10.70.46.6 with SMTP id t6mr3211958wxt;
        Sat, 25 Mar 2006 23:53:10 -0800 (PST)
Received: by 10.70.84.16 with HTTP; Sat, 25 Mar 2006 23:53:10 -0800 (PST)
Message-ID: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com>
Date: Sat, 25 Mar 2006 23:53:10 -0800
From: "Igor Bolotin" <ibolotin@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene indexing on Hadoop distributed file system
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7688_29590194.1143359590344"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7688_29590194.1143359590344
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

In my current project we needed a way to create very large Lucene indexes o=
n
Hadoop distributed file system. When we tried to do it directly on DFS usin=
g
Nutch FsDirectory class - we immediately found that indexing fails because
DfsIndexOutput.seek() method throws UnsupportedOperationException. The
reason for this behavior is clear - DFS does not support random updates and
so seek() method can't be supported (at least not easily).

Well, if we can't support random updates - the question is: do we really
need them? Search in the Lucene code revealed 2 places which call
IndexOutput.seek() method: one is in TermInfosWriter and another one in
CompoundFileWriter. As we weren't planning to use CompoundFileWriter - the
only place that concerned us was in TermInfosWriter.

TermInfosWriter uses IndexOutput.seek() in its close() method to write tota=
l
number of terms in the file back into the beginning of the file. It was ver=
y
simple to change file format a little bit and write number of terms into
last 8 bytes of the file instead of writing them into beginning of file. Th=
e
only other place that should be fixed in order for this to work is in
SegmentTermEnum constructor - to read this piece of information at position
=3D file length - 8.

With this format hack - we were able to use FsDirectory to write index
directly to DFS without any problems. Well - we still don't index directly
to DFS for performance reasons, but at least we can build small local
indexes and merge them into the main index on DFS without copying big main
index back and forth.

If somebody is interested - I can post our changes in TermInfosWriter and
SegmentTermEnum code, although they are pretty trivial.

Best regards!
Igor

------=_Part_7688_29590194.1143359590344--

From java-user-return-19820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 26 08:04:07 2006
Return-Path: <java-user-return-19820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59304 invoked from network); 26 Mar 2006 08:04:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Mar 2006 08:04:05 -0000
Received: (qmail 19969 invoked by uid 500); 26 Mar 2006 08:04:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19938 invoked by uid 500); 26 Mar 2006 08:04:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19926 invoked by uid 99); 26 Mar 2006 08:04:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Mar 2006 00:04:01 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.184.224 as permitted sender)
Received: from [64.233.184.224] (HELO wproxy.gmail.com) (64.233.184.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Mar 2006 00:04:00 -0800
Received: by wproxy.gmail.com with SMTP id i3so1233909wra
        for <java-user@lucene.apache.org>; Sun, 26 Mar 2006 00:03:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XocXPpuZMaSXmIbPP8nOIZ39gLbsAGXRIwuOM4UZtHMOZ33tZCaXpOednFINzH+2phorEgGQe6QUNu8OscYl5dNNoV0+MbTyE7ToSiM30guYhq27Qo0zbuSGjxUTppxmZEbhhZxQ/DVRVv9EjTSLFSaF0PGuGgu6GL7YRJwnUPA=
Received: by 10.35.14.1 with SMTP id r1mr1736319pyi;
        Sun, 26 Mar 2006 00:03:39 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Sun, 26 Mar 2006 00:03:39 -0800 (PST)
Message-ID: <f13b62210603260003m348a6084nab6a759d816ed045@mail.gmail.com>
Date: Sun, 26 Mar 2006 13:33:39 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing on Hadoop distributed file system
In-Reply-To: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4504_21362981.1143360219173"
References: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4504_21362981.1143360219173
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I would like to see lucene operate with hadoop

As you rightly pointed out, writing using FSDirectory to DFS would be a
performance issue.

I am interested in the idea. But i do not know how much time i can
contribute to this because of the little time which i can spare.

If anyone else is interested, can they join ? We can work on this together

Rgds
Prabhu


On 3/26/06, Igor Bolotin <ibolotin@gmail.com> wrote:
>
> In my current project we needed a way to create very large Lucene indexes
> on
> Hadoop distributed file system. When we tried to do it directly on DFS
> using
> Nutch FsDirectory class - we immediately found that indexing fails becaus=
e
> DfsIndexOutput.seek() method throws UnsupportedOperationException. The
> reason for this behavior is clear - DFS does not support random updates
> and
> so seek() method can't be supported (at least not easily).
>
> Well, if we can't support random updates - the question is: do we really
> need them? Search in the Lucene code revealed 2 places which call
> IndexOutput.seek() method: one is in TermInfosWriter and another one in
> CompoundFileWriter. As we weren't planning to use CompoundFileWriter - th=
e
> only place that concerned us was in TermInfosWriter.
>
> TermInfosWriter uses IndexOutput.seek() in its close() method to write
> total
> number of terms in the file back into the beginning of the file. It was
> very
> simple to change file format a little bit and write number of terms into
> last 8 bytes of the file instead of writing them into beginning of file.
> The
> only other place that should be fixed in order for this to work is in
> SegmentTermEnum constructor - to read this piece of information at
> position
> =3D file length - 8.
>
> With this format hack - we were able to use FsDirectory to write index
> directly to DFS without any problems. Well - we still don't index directl=
y
> to DFS for performance reasons, but at least we can build small local
> indexes and merge them into the main index on DFS without copying big mai=
n
> index back and forth.
>
> If somebody is interested - I can post our changes in TermInfosWriter and
> SegmentTermEnum code, although they are pretty trivial.
>
> Best regards!
> Igor
>
>

------=_Part_4504_21362981.1143360219173--

From java-user-return-19821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 26 22:45:31 2006
Return-Path: <java-user-return-19821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37665 invoked from network); 26 Mar 2006 22:45:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Mar 2006 22:45:31 -0000
Received: (qmail 8210 invoked by uid 500); 26 Mar 2006 22:45:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7795 invoked by uid 500); 26 Mar 2006 22:45:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7775 invoked by uid 99); 26 Mar 2006 22:45:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Mar 2006 14:45:24 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jdz99@hotmail.com designates 65.54.229.48 as permitted sender)
Received: from [65.54.229.48] (HELO hotmail.com) (65.54.229.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Mar 2006 14:45:22 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 26 Mar 2006 14:45:00 -0800
Message-ID: <BAY110-F38277440A53AB958ACD24DBBDD0@phx.gbl>
Received: from 65.54.229.220 by by110fd.bay110.hotmail.msn.com with HTTP;
	Sun, 26 Mar 2006 22:44:42 GMT
X-Originating-IP: [66.65.161.178]
X-Originating-Email: [jdz99@hotmail.com]
X-Sender: jdz99@hotmail.com
From: "Jim Douglas" <jdz99@hotmail.com>
To: java-user@lucene.apache.org
Subject: Install issue
Date: Sun, 26 Mar 2006 22:44:42 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 26 Mar 2006 22:45:00.0721 (UTC) FILETIME=[EA3E8210:01C65126]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I use ant for many other builds so I know that's not the problem.

When I run 'ant' from the directory I have untarred lucene to I get a 'build 
failed' error, it says,

Cannot find common-build.xml imported from /root/lucene-1.9.1/build.xml

Where could I find common-build.xml, and build-deprecated.xml??

Jim



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 07:31:35 2006
Return-Path: <java-user-return-19822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73302 invoked from network); 27 Mar 2006 07:31:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 07:31:34 -0000
Received: (qmail 17301 invoked by uid 500); 27 Mar 2006 07:31:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17274 invoked by uid 500); 27 Mar 2006 07:31:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17259 invoked by uid 99); 27 Mar 2006 07:31:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Mar 2006 23:31:27 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saravanaraj@gmail.com designates 64.233.184.235 as permitted sender)
Received: from [64.233.184.235] (HELO wproxy.gmail.com) (64.233.184.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Mar 2006 23:31:27 -0800
Received: by wproxy.gmail.com with SMTP id i23so1345569wra
        for <java-user@lucene.apache.org>; Sun, 26 Mar 2006 23:31:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=o+JEPm1jaZl1JUmdMob8aZTXbzT4YDPIzSegtwFn2EaJCk1p3QUp1YWZXVh0zcR6LikNVuBPY0b8LE/k4K/355p1SpomtV5yhCkE+NgzGl4HA3DyBFUTVX4JpFpiKutIqZ8sO43Cmz9Vrbmbj5OSm/L+N6HYHBKDGQuGQX7G3I0=
Received: by 10.54.116.1 with SMTP id o1mr2707477wrc;
        Sun, 26 Mar 2006 23:31:02 -0800 (PST)
Received: by 10.54.112.2 with HTTP; Sun, 26 Mar 2006 23:31:02 -0800 (PST)
Message-ID: <d6a26c110603262331s540c4fa2n5a32688aff64e939@mail.gmail.com>
Date: Mon, 27 Mar 2006 13:01:02 +0530
From: D.Saravanaraj <saravanaraj@gmail.com>
To: java-user@lucene.apache.org
Subject: Wildcard query
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1077_28467352.1143444662589"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1077_28467352.1143444662589
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I am performing wildcard query on the contents of the indexed documents.
Using the extractTerms() method, i am extracting the terms which match the
wildcard query. Since my index is of a large size, is it possible to get th=
e
top N terms which match the wildcard query. What is the ranking behind whil=
e
performing wildcard queries and then using extractTerms() method.

Thanks
D.Saravanaraj

------=_Part_1077_28467352.1143444662589--

From java-user-return-19823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 08:31:43 2006
Return-Path: <java-user-return-19823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28696 invoked from network); 27 Mar 2006 08:31:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 08:31:42 -0000
Received: (qmail 59185 invoked by uid 500); 27 Mar 2006 08:31:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59153 invoked by uid 500); 27 Mar 2006 08:31:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59142 invoked by uid 99); 27 Mar 2006 08:31:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 00:31:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 00:31:34 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2R8VD1L000825;
	Mon, 27 Mar 2006 00:31:13 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2R8VD94000822;
	Mon, 27 Mar 2006 00:31:13 -0800
Received: from [10.17.1.106] (delltop31.us.scalix.com 10.17.1.106)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Mon, 27 Mar 2006 00:31:13 -0800 (PST)
Date: Mon, 27 Mar 2006 00:31:18 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
cc: Luc.Vanlerberghe@bvdep.com
Message-ID: <4427A2D6.4030204@scalix.com>
In-Reply-To: <3287125F0F0CCE4E8F55435208100CF5F0B83D@exchange-mbx.be.bvd>
References: <3287125F0F0CCE4E8F55435208100CF5F0B83D@exchange-mbx.be.bvd>
Subject: Re: Re-creating IndexSearcher after update
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Luc,

I tried adding your DelayCloseIndexSearcher to my project (a Tomcat app
where the index is repeatedly searched and frequently updated) and as
soon as an index modify occurs (by a separate thread) and I call
closeWhenDone() in the main thread I get
IllegalStateException("closeWhenDone() already called").  The Exception
is thrown for every subsequent search attempt.

Any ideas?

Thanks,

Nick.

Vanlerberghe, Luc wrote:
> Yep,
>
> I created DelayCloseIndexSearcher just for this scenario and it's
> running in production for about half a year now...
>
> There's an usage example in the javadoc, but it can be optimised even
> more (without touching the code that does the searches, handles the
> hits, etc...).
>
> In my production environment, isCurrent() is called in a separate
> thread.  If it returns false, a new DelayCloseIndexSearcher instance is
> created, some warming up is done and only then the existing one is
> replaced and closeWhenDone is called on it.
>
> Luc
>
> -----Original Message-----
> From: Koji Sekiguchi [mailto:koji.sekiguchi@m4.dion.ne.jp] 
> Sent: dinsdag 21 maart 2006 9:24
> To: java-user@lucene.apache.org
> Subject: RE: Re-creating IndexSearcher after update
>
> Hi Steve,
>
> DelayCloseIndexSearcher may suit your requirement?
>
> Please check:
> http://issues.apache.org/jira/browse/LUCENE-445
>
> Hope this helps.
>
> Koji
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 09:18:31 2006
Return-Path: <java-user-return-19824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54744 invoked from network); 27 Mar 2006 09:18:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 09:18:31 -0000
Received: (qmail 22132 invoked by uid 500); 27 Mar 2006 09:18:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22108 invoked by uid 500); 27 Mar 2006 09:18:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22097 invoked by uid 99); 27 Mar 2006 09:18:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:18:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:18:23 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k2R9HpDN002314
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 11:17:51 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200603270917.k2R9HpDN002314@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: PhraseQuery with synonyms or having n tokens at the same tokenposition.
Date: Mon, 27 Mar 2006 11:17:58 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <f13b62210603202311k83a6bb2pdb5a8f3fd2d59e9c@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZMtrdRqdqM8SF2SNOfn8S7s1WQ3gEx+IYw
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
PhraseQuery is not working as I wanted,when indexed with synonyms.

ex:
I have indexed name: "sony dsc-d cybershot" as following tokens provided
token positions.
1: [sony:0->4]

2: [dsc:5->10]

3: [dscd:5->10] 

4: [d:5->10] 

5: [cybershot:11->20] 



So "dsc-d" is tokenized into 3 tokens "dsc", "dscd" and "d" at the same
token location. Indexing part is ok. But the problem is with searching.

PhraseQuery "dsc cybershot" is not returning any results. Because "dsc" &
"cybershot" are not 0-spanned(But my imagination is they are). I could
increase the span at search time. But it is not fitting well into our
needs.It is also hard to decide the maximus span in our case and also
returned results are different, which I don't want.



Thanks in advance,

Jelda

-----------------"Impossible is Nothing"-----------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 09:43:40 2006
Return-Path: <java-user-return-19825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68715 invoked from network); 27 Mar 2006 09:43:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 09:43:40 -0000
Received: (qmail 49755 invoked by uid 500); 27 Mar 2006 09:43:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49720 invoked by uid 500); 27 Mar 2006 09:43:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49709 invoked by uid 99); 27 Mar 2006 09:43:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:43:34 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of the13thshinobi@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nproxy.gmail.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:43:33 -0800
Received: by nproxy.gmail.com with SMTP id a4so1020899nfc
        for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 01:43:12 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=UREv4iH6/KTrD5eJ8al3aV5691VeCRX4xI/tuzQm+dt/jSzuZmTn5usLrtPm9vYZhORcUbjPxmICx8Y7Ysl4rosrAK7HJeE6h0H21/N5ig1MvxihQfKYXHhdxhlqggIIHxVtndAF2jmVD+yBFpflHTOCQtEdwGEjaNeY+dOU9mk=
Received: by 10.48.230.19 with SMTP id c19mr1632653nfh;
        Mon, 27 Mar 2006 01:43:12 -0800 (PST)
Received: by 10.48.245.20 with HTTP; Mon, 27 Mar 2006 01:43:12 -0800 (PST)
Message-ID: <f24bae460603270143m1f0ce802sf8cac244ac37d8f2@mail.gmail.com>
Date: Mon, 27 Mar 2006 17:43:12 +0800
From: "abdul muhaimin" <the13thshinobi@gmail.com>
To: java-user@lucene.apache.org
Subject: add word filtering?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13588_755551.1143452592309"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13588_755551.1143452592309
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi all

I'm really new to lucene. In fact I just found it when i googled a few days
ago. Never thought that java have this kind of excellent library for free.

I would like to ask a few questions, which is where to add if we would like
to filter certain text from being searched, and filter certain results from
being displayed, or display alternative result for filtered results when
we're using lucent? Instead of just editing the resutls .jsp page (from the
demo) is there any better way?

Any information is greatly appreciated.

Thanks in advance

------=_Part_13588_755551.1143452592309--

From java-user-return-19826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 09:48:59 2006
Return-Path: <java-user-return-19826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70643 invoked from network); 27 Mar 2006 09:48:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 09:48:58 -0000
Received: (qmail 57675 invoked by uid 500); 27 Mar 2006 09:48:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57652 invoked by uid 500); 27 Mar 2006 09:48:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57641 invoked by uid 99); 27 Mar 2006 09:48:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:48:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:48:51 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2R9mRR8012017
 for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 15:18:27 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: add word filtering?
Date: Mon, 27 Mar 2006 15:18:27 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083103D710@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: add word filtering?
Thread-Index: AcZRgwVTk+WRY4MjSiWwjz32+5Kn6gAACjtA
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you asking that common words not be searched? For this, you can use
StopFilter to prevent words from being indexed and searched.
Alternatively, you can use StandardAnalyzer, which in addition to
removing stop words also does more sophisticated tokenizing.=20

Venu

-----Original Message-----
From: abdul muhaimin [mailto:the13thshinobi@gmail.com]=20
Sent: Monday, March 27, 2006 3:13 PM
To: java-user@lucene.apache.org
Subject: add word filtering?


Hi all

I'm really new to lucene. In fact I just found it when i googled a few
days
ago. Never thought that java have this kind of excellent library for
free.

I would like to ask a few questions, which is where to add if we would
like
to filter certain text from being searched, and filter certain results
from
being displayed, or display alternative result for filtered results when
we're using lucent? Instead of just editing the resutls .jsp page (from
the
demo) is there any better way?

Any information is greatly appreciated.

Thanks in advance

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 09:58:56 2006
Return-Path: <java-user-return-19827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75132 invoked from network); 27 Mar 2006 09:58:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 09:58:56 -0000
Received: (qmail 66307 invoked by uid 500); 27 Mar 2006 09:58:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66271 invoked by uid 500); 27 Mar 2006 09:58:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66259 invoked by uid 99); 27 Mar 2006 09:58:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:58:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 01:58:50 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FNoUX-00065Q-JY
	for java-user@lucene.apache.org; Mon, 27 Mar 2006 01:58:29 -0800
Message-ID: <3606783.post@talk.nabble.com>
Date: Mon, 27 Mar 2006 01:53:52 -0800 (PST)
From: StefanH <Stefan.Hoepp@gemida.de>
To: java-user@lucene.apache.org
Subject: Get All Entries
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: Stefan.Hoepp@gemida.de
X-Nabble-From: StefanH <Stefan.Hoepp@gemida.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hello Everyone,

I have 6000 Entries in my Lucene DB and if I search for entries with "00*"
in the Number-Field it works fine. But additional I must have alle entries
no matter which number they have. A Term like "*" doesn't work. How can I
get all entries?
The code of my search is:
			IndexSearcher is = new IndexSearcher( INDEX_DIR );

			QueryParser parser = new QueryParser( "number", analyzer);
			Query query = parser.parse("00*");
			
			Hits hits = is.search( query, new Sort("number") );

Thanks for your help

Stefan H
--
View this message in context: http://www.nabble.com/Get-All-Entries-t1348226.html#a3606783
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 10:07:53 2006
Return-Path: <java-user-return-19828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78929 invoked from network); 27 Mar 2006 10:07:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 10:07:52 -0000
Received: (qmail 73961 invoked by uid 500); 27 Mar 2006 10:07:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73336 invoked by uid 500); 27 Mar 2006 10:07:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73322 invoked by uid 99); 27 Mar 2006 10:07:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 02:07:46 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 02:07:46 -0800
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k2RA7NR8016456
 for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 15:37:23 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Get All Entries
Date: Mon, 27 Mar 2006 15:37:23 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083103D713@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Get All Entries
Thread-Index: AcZRhSMABhb94dcsRt+yZ0KtMAIQLQAAB1tQ
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe there's a MatchAllDocsQuery class from Lucene 1.9 onwards. You
can run this query to get all documents.

If you are not using 1.9, to my knowledge, you would have to add a
redundant field that would true for all documents and query on that
field. Something like Field.Keyword("AllDocsTrue", "true") and add this
to your doc. You can run the query AllDocsTrue:true to get all your
docs.

Venu

-----Original Message-----
From: StefanH [mailto:Stefan.Hoepp@gemida.de]=20
Sent: Monday, March 27, 2006 3:24 PM
To: java-user@lucene.apache.org
Subject: Get All Entries



Hello Everyone,

I have 6000 Entries in my Lucene DB and if I search for entries with
"00*"
in the Number-Field it works fine. But additional I must have alle
entries
no matter which number they have. A Term like "*" doesn't work. How can
I
get all entries?
The code of my search is:
			IndexSearcher is =3D new IndexSearcher( INDEX_DIR
);

			QueryParser parser =3D new QueryParser( "number",
analyzer);
			Query query =3D parser.parse("00*");
		=09
			Hits hits =3D is.search( query, new Sort("number")
);

Thanks for your help

Stefan H
--
View this message in context:
http://www.nabble.com/Get-All-Entries-t1348226.html#a3606783
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 14:49:11 2006
Return-Path: <java-user-return-19829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54878 invoked from network); 27 Mar 2006 14:49:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 14:49:09 -0000
Received: (qmail 8035 invoked by uid 500); 27 Mar 2006 14:48:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7884 invoked by uid 500); 27 Mar 2006 14:48:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7833 invoked by uid 99); 27 Mar 2006 14:48:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 06:48:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 06:48:52 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FNt1E-0001P6-3L
	for java-user@lucene.apache.org; Mon, 27 Mar 2006 06:48:32 -0800
Message-ID: <3610840.post@talk.nabble.com>
Date: Mon, 27 Mar 2006 06:48:32 -0800 (PST)
From: StefanH <Stefan.Hoepp@gemida.de>
To: java-user@lucene.apache.org
Subject: RE: Get All Entries
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083103D713@mshydpub1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: Stefan.Hoepp@gemida.de
X-Nabble-From: StefanH <Stefan.Hoepp@gemida.de>
References: <3606783.post@talk.nabble.com> <E817F096B8D59B4E9D1E437917B1083103D713@mshydpub1.hyd.deshaw.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


It works perfect. After installation of 1.9. I've the MatchAllDocsQuery.
Thanks!
--
View this message in context: http://www.nabble.com/Get-All-Entries-t1348226.html#a3610840
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 15:57:00 2006
Return-Path: <java-user-return-19830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1180 invoked from network); 27 Mar 2006 15:57:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 15:57:00 -0000
Received: (qmail 70727 invoked by uid 500); 27 Mar 2006 15:56:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70696 invoked by uid 500); 27 Mar 2006 15:56:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70685 invoked by uid 99); 27 Mar 2006 15:56:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 07:56:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.29.64.52] (HELO mailserver1.honda-eu.com) (194.29.64.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 07:56:51 -0800
Subject: Phrase Query query
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF494FBF89.3F55B69F-ON8025713E.00570A4D-8025713E.00578D1E@honda-eu.com>
From: Richard Gunderson <Richard.Gunderson@honda-eu.com>
Date: Mon, 27 Mar 2006 16:56:18 +0100
X-MIMETrack: Serialize by Router on NGHE002/HE/G_SRV/EU/HONDA(Release 6.5.4|March 27, 2005) at
 27/03/2006 18:00:08
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi

I'm using PhraseQuery in conjunction with WhiteSpaceAnalyzer but it's
giving me slightly unusual results. If I have a text file containing the
text (quotes are just for clarity):

"Hello this is some text"

I don't find any results when I search.

But if I put spaces before and after the phrase:

" Hello this is some text "

then it does work. I'm breaking the phrase down into Terms, and setting the
slop to '0' by the way.

I'm kind of see that this makes sense, given the name: WhiteSpaceAnalyzer.
But aren't newlines, carriage-returns etc also treated as whitespace?

Thanks for your help!

Regards

Richard Gundersen
Honda UK - ISD
Tel: +44 (0)1753 590681
**************************************************************************
This email is confidential and intended solely for the use of the
individual to whom it is addressed. Any views or opinions presented are
solely those of the author and do not necessarily represent those of Honda
Motor Europe Ltd. or any of its group of companies.

If you are not the intended recipient, be advised that you have received
this email in error and that any use, dissemination, forwarding, printing
or copying of this email is strictly prohibited.

Visit our website: http://www.honda.co.uk
**************************************************************************


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 16:10:26 2006
Return-Path: <java-user-return-19831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8362 invoked from network); 27 Mar 2006 16:10:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 16:10:25 -0000
Received: (qmail 3948 invoked by uid 500); 27 Mar 2006 16:10:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3927 invoked by uid 500); 27 Mar 2006 16:10:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3916 invoked by uid 99); 27 Mar 2006 16:10:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 08:10:18 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.46] (HELO ylpvm15.prodigy.net) (207.115.57.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 08:10:17 -0800
Received: from pimout6-ext.prodigy.net (pimout6-int.prodigy.net [207.115.4.22])
	by ylpvm15.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2RG9wYC005631
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 11:09:59 -0500
X-ORBL: [69.228.218.169]
Received: from [192.168.168.15] (adsl-69-228-218-169.dsl.pltn13.pacbell.net [69.228.218.169])
	by pimout6-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2RG9iKZ144690;
	Mon, 27 Mar 2006 11:09:48 -0500
Message-ID: <44280E47.80906@apache.org>
Date: Mon, 27 Mar 2006 08:09:43 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: span query scoring vs boolean query scoring
References: <4423C9F8.8010804@lingway.com>
In-Reply-To: <4423C9F8.8010804@lingway.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Vincent Le Maout wrote:
> I am missing something ? Is it intented or is it a bug ?

Looks like a bug.  Can you submit a patch?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 16:10:56 2006
Return-Path: <java-user-return-19832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8576 invoked from network); 27 Mar 2006 16:10:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 16:10:56 -0000
Received: (qmail 5332 invoked by uid 500); 27 Mar 2006 16:10:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5300 invoked by uid 500); 27 Mar 2006 16:10:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5286 invoked by uid 99); 27 Mar 2006 16:10:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 08:10:49 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 08:10:48 -0800
Received: from pimout6-ext.prodigy.net (pimout6-int.prodigy.net [207.115.4.22])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2RG9qbk019500
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 11:09:53 -0500
X-ORBL: [69.228.218.169]
Received: from [192.168.168.15] (adsl-69-228-218-169.dsl.pltn13.pacbell.net [69.228.218.169])
	by pimout6-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2RGAPsA064310;
	Mon, 27 Mar 2006 11:10:25 -0500
Message-ID: <44280E70.6080103@apache.org>
Date: Mon, 27 Mar 2006 08:10:24 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: span query scoring vs boolean query scoring
References: <4423C9F8.8010804@lingway.com>
In-Reply-To: <4423C9F8.8010804@lingway.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Vincent Le Maout wrote:
> I am missing something ? Is it intented or is it a bug ?

Looks like a bug.  Can you please submit a bug report, and, ideally, 
attach a patch?

Thanks,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 16:17:35 2006
Return-Path: <java-user-return-19833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12968 invoked from network); 27 Mar 2006 16:17:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 16:17:34 -0000
Received: (qmail 22026 invoked by uid 500); 27 Mar 2006 16:17:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21274 invoked by uid 500); 27 Mar 2006 16:17:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21262 invoked by uid 99); 27 Mar 2006 16:17:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 08:17:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.32] (HELO ylpvm01.prodigy.net) (207.115.57.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 08:17:27 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm01.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2RGH0ai004609
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 11:17:02 -0500
X-ORBL: [69.228.218.169]
Received: from [192.168.168.15] (adsl-69-228-218-169.dsl.pltn13.pacbell.net [69.228.218.169])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2RGGmuw141370;
	Mon, 27 Mar 2006 11:16:53 -0500
Message-ID: <44280FEF.30100@apache.org>
Date: Mon, 27 Mar 2006 08:16:47 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing on Hadoop distributed file system
References: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com>
In-Reply-To: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Igor Bolotin wrote:
> If somebody is interested - I can post our changes in TermInfosWriter and
> SegmentTermEnum code, although they are pretty trivial.

Please submit this as a patch attached to a bug report.

I contemplated making this change to Lucene myself, when writing Nutch's 
FsDirectory, but thought that no one else would ever be interested in 
using it.  Now that's been proven wrong!

Note that any change to the file format must be back-compatible.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 17:18:01 2006
Return-Path: <java-user-return-19834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58109 invoked from network); 27 Mar 2006 17:18:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 17:18:00 -0000
Received: (qmail 72550 invoked by uid 500); 27 Mar 2006 17:17:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72523 invoked by uid 500); 27 Mar 2006 17:17:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72512 invoked by uid 99); 27 Mar 2006 17:17:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 09:17:55 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO pproxy.gmail.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 09:17:54 -0800
Received: by pproxy.gmail.com with SMTP id s49so1365159pyc
        for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 09:17:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=LQMJYRncRNe6T0HIHbh5EwohgAckQoEQnqScodW8tD/qj914tx7m/uYBpGLAeqmQeZkhVzdlBJ65d3wFz3CfSrtta0FKGKEKfY5dy9AgsKNK8hdHXLwbuEs80/ULQS2AWnL8PlcXNOjrb1s9u8Q+95pVugayAnr5KB7cPiqlin0=
Received: by 10.35.50.9 with SMTP id c9mr917976pyk;
        Mon, 27 Mar 2006 09:17:33 -0800 (PST)
Received: by 10.35.100.6 with HTTP; Mon, 27 Mar 2006 09:17:32 -0800 (PST)
Message-ID: <c68e39170603270917o1a0f6990t5e51e727af21fd16@mail.gmail.com>
Date: Mon, 27 Mar 2006 12:17:33 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Does Optimize preserve index order?
In-Reply-To: <6380384b0603242053v177f14a0m@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <6380384b0603242053v177f14a0m@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/24/06, chan kang <ddanddan@gmail.com> wrote:
> What I want to do is to show the results in
> chronological order. (btw, the index contains the time field)
> One solution I have thought up was:
> 1. index the whole set
> 2. read in all the time field values
> 3. re-index the whole set according to time
>    (heard that the index order is same as insertion order)
> 4. optimize.
>
>
> However, although I think the step 3 would result
> in a sorted index, isn't there a possibility that
> step 4 might ruin all the sortedness?
> - Wouldn't optimizing break the order in which they
>   are indexed?

Index order is retained, so your plan should work fine.

How long is sorting actually taking?  FYI, the first time you sort on
a field will take much longer because a fieldcache entry must be
populated.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 17:24:18 2006
Return-Path: <java-user-return-19835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62108 invoked from network); 27 Mar 2006 17:24:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 17:24:18 -0000
Received: (qmail 82327 invoked by uid 500); 27 Mar 2006 17:24:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82305 invoked by uid 500); 27 Mar 2006 17:24:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82289 invoked by uid 99); 27 Mar 2006 17:24:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 09:24:11 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 27 Mar 2006 09:24:11 -0800
Received: (qmail 10179 invoked by uid 60001); 27 Mar 2006 17:23:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BC0ca2a73hbwvS3kx9dIrcr7CkWudjzUsi+xeytzCLl/XUBS4zJagrQRUiLA8tjnyclFyFlwJ/vxgaZUwGsAYPmd/8PQ9gmFaxCsUmxGUibjokICuLLa6zz0fyC3h0rySn9an/zY9yiPob30A2DMe4ShBmVT0YaYk4OQFYZL/tU=  ;
Message-ID: <20060327172350.10176.qmail@web50311.mail.yahoo.com>
Date: Mon, 27 Mar 2006 09:23:50 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Phrase Query query
To: java-user@lucene.apache.org
In-Reply-To: <OF494FBF89.3F55B69F-ON8025713E.00570A4D-8025713E.00578D1E@honda-eu.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Richard,

WhitespaceTokenizer (the tokenizer that WhitespaceAnalyzer uses) really just tokenizes on space characters:

  /** Collects only characters which do not satisfy
   * {@link Character#isWhitespace(char)}.*/
  protected boolean isTokenChar(char c) {
    return !Character.isWhitespace(c);
  }

Otis

----- Original Message ----
From: Richard Gunderson <Richard.Gunderson@honda-eu.com>
To: java-user@lucene.apache.org
Sent: Monday, March 27, 2006 10:56:18 AM
Subject: Phrase Query query


Hi

I'm using PhraseQuery in conjunction with WhiteSpaceAnalyzer but it's
giving me slightly unusual results. If I have a text file containing the
text (quotes are just for clarity):

"Hello this is some text"

I don't find any results when I search.

But if I put spaces before and after the phrase:

" Hello this is some text "

then it does work. I'm breaking the phrase down into Terms, and setting the
slop to '0' by the way.

I'm kind of see that this makes sense, given the name: WhiteSpaceAnalyzer.
But aren't newlines, carriage-returns etc also treated as whitespace?

Thanks for your help!

Regards

Richard Gundersen
Honda UK - ISD
Tel: +44 (0)1753 590681
**************************************************************************
This email is confidential and intended solely for the use of the
individual to whom it is addressed. Any views or opinions presented are
solely those of the author and do not necessarily represent those of Honda
Motor Europe Ltd. or any of its group of companies.

If you are not the intended recipient, be advised that you have received
this email in error and that any use, dissemination, forwarding, printing
or copying of this email is strictly prohibited.

Visit our website: http://www.honda.co.uk
**************************************************************************


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 17:32:14 2006
Return-Path: <java-user-return-19836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65725 invoked from network); 27 Mar 2006 17:32:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 17:32:13 -0000
Received: (qmail 97800 invoked by uid 500); 27 Mar 2006 17:32:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97771 invoked by uid 500); 27 Mar 2006 17:32:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97760 invoked by uid 99); 27 Mar 2006 17:32:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 09:32:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 09:32:06 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k2RHVt719313
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 11:31:55 -0600
Message-ID: <44282169.8070800@getopt.org>
Date: Mon, 27 Mar 2006 19:31:21 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing on Hadoop distributed file system
References: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com> <44280FEF.30100@apache.org>
In-Reply-To: <44280FEF.30100@apache.org>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> Igor Bolotin wrote:
>> If somebody is interested - I can post our changes in TermInfosWriter 
>> and
>> SegmentTermEnum code, although they are pretty trivial.
>
> Please submit this as a patch attached to a bug report.
>
> I contemplated making this change to Lucene myself, when writing 
> Nutch's FsDirectory, but thought that no one else would ever be 
> interested in using it.  Now that's been proven wrong!
>
> Note that any change to the file format must be back-compatible.

This could be solved by putting a marker value in the first 8 bytes (== 
-1L), which would indicate that the real length is at the end. This way 
the new implementation will be able to read old indexes.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 18:18:52 2006
Return-Path: <java-user-return-19837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87409 invoked from network); 27 Mar 2006 18:18:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 18:18:51 -0000
Received: (qmail 16912 invoked by uid 500); 27 Mar 2006 18:18:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16892 invoked by uid 500); 27 Mar 2006 18:18:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16881 invoked by uid 99); 27 Mar 2006 18:18:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 10:18:44 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 10:18:43 -0800
Received: (qmail 25734 invoked from network); 27 Mar 2006 18:18:19 -0000
Received: from unknown (HELO p5496f5eb.dip.t-dialin.net) ([pbs]695637@[84.150.245.235])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 27 Mar 2006 18:18:19 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: PhraseQuery with synonyms or having n tokens at the same tokenposition.
Date: Mon, 27 Mar 2006 20:17:23 +0200
User-Agent: KMail/1.8.2
References: <200603270917.k2R9HpDN002314@pigeon.ciao.com>
In-Reply-To: <200603270917.k2R9HpDN002314@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603272017.23687@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 27 M=C3=A4rz 2006 11:17, Ramana Jelda wrote:

> I have indexed name: "sony dsc-d cybershot" as following tokens provided
> token positions.
> 1: [sony:0->4]
>
> 2: [dsc:5->10]
>
> 3: [dscd:5->10]
>
> 4: [d:5->10]
>
> 5: [cybershot:11->20]

If the first number is the token position, the tokens "dsc", "dscd", and=20
"d" are obviously *not* at the same position. You need to call=20
setPositionIncrement(0) to add a token at the same position during=20
indexing. If that doesn't help, please provide a small test case that=20
shows the problem.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 22:13:10 2006
Return-Path: <java-user-return-19838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46730 invoked from network); 27 Mar 2006 22:13:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 22:13:10 -0000
Received: (qmail 85419 invoked by uid 500); 27 Mar 2006 22:13:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85382 invoked by uid 500); 27 Mar 2006 22:13:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85371 invoked by uid 99); 27 Mar 2006 22:13:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 14:13:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.93.161.132] (HELO mail1.zvents.com) (216.93.161.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 14:13:04 -0800
Received: from Oblong.zvents.com (c-71-198-187-222.hsd1.ca.comcast.net [71.198.187.222])
	by mail1.zvents.com (Postfix) with ESMTP id 21FAB9BBCD
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 14:12:40 -0800 (PST)
Message-Id: <6.2.3.4.0.20060327141003.029ff018@mail1.zvents.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.3.4
Date: Mon, 27 Mar 2006 14:12:36 -0800
To: java-user@lucene.apache.org
From: Tom Hill <lucene-list@zvents.com>
Subject: Re: delte documents into index
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"; format=flowed
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


>On Samstag 25 M=E4rz 2006 00:39, Tom Hill wrote:
>
> > IndexModifier won't work
> > in multithreaded scenario, at least as far as I can tell.
>
>Yes it does, but you need to use one IndexModifier object from all classes
>(see the javadoc).
>
>Regards
>  Daniel

I stand corrected (after going back and reading the code more carefully ;-).

Thanks,

Tom


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 22:21:59 2006
Return-Path: <java-user-return-19839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51273 invoked from network); 27 Mar 2006 22:21:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 22:21:59 -0000
Received: (qmail 3207 invoked by uid 500); 27 Mar 2006 22:21:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3185 invoked by uid 500); 27 Mar 2006 22:21:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3174 invoked by uid 99); 27 Mar 2006 22:21:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 14:21:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ibolotin@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO xproxy.gmail.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 14:21:53 -0800
Received: by xproxy.gmail.com with SMTP id i26so933963wxd
        for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 14:21:32 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=a+mW3L8lEYy1XLXrGAw+v9cuIpRioDpS3jIAZJH9NA0DRvCGieHY/obgStrjvRWZ5nvRwP7jPJdvqjb2fOf092qAg4gvDDSwciZRiUZuCHF79eUBtVDxrp5mlgClsUp5KkzYyaBa2ZUtblq/9IAehIsxlyPv9Mb63BMo8C9GQdE=
Received: by 10.70.46.6 with SMTP id t6mr5151140wxt;
        Mon, 27 Mar 2006 14:21:32 -0800 (PST)
Received: by 10.70.84.16 with HTTP; Mon, 27 Mar 2006 14:21:32 -0800 (PST)
Message-ID: <158e71710603271421v17196d09j9d06def2d8c5254d@mail.gmail.com>
Date: Mon, 27 Mar 2006 14:21:32 -0800
From: "Igor Bolotin" <ibolotin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing on Hadoop distributed file system
In-Reply-To: <44280FEF.30100@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11595_18002540.1143498092011"
References: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com>
	 <44280FEF.30100@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11595_18002540.1143498092011
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Does it make sense to change TermInfosWriter.FORMAT in the patch?

Igor


On 3/27/06, Doug Cutting <cutting@apache.org> wrote:
>
> Igor Bolotin wrote:
> > If somebody is interested - I can post our changes in TermInfosWriter
> and
> > SegmentTermEnum code, although they are pretty trivial.
>
> Please submit this as a patch attached to a bug report.
>
> I contemplated making this change to Lucene myself, when writing Nutch's
> FsDirectory, but thought that no one else would ever be interested in
> using it.  Now that's been proven wrong!
>
> Note that any change to the file format must be back-compatible.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_11595_18002540.1143498092011--

From java-user-return-19840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 23:08:34 2006
Return-Path: <java-user-return-19840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79773 invoked from network); 27 Mar 2006 23:08:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 23:08:33 -0000
Received: (qmail 84455 invoked by uid 500); 27 Mar 2006 23:08:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84431 invoked by uid 500); 27 Mar 2006 23:08:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84420 invoked by uid 99); 27 Mar 2006 23:08:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 15:08:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.20.56.74] (HELO mail.synechron.com) (69.20.56.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 15:08:26 -0800
Date: Mon, 27 Mar 2006 18:06:29 -0500
Message-Id: <200603271806.AA5505306@mail.synechron.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
From: "Amol Bhutada" <AmolB@synechron.com>
Reply-To: <AmolB@synechron.com>
X-Sender: <AmolB@synechron.com>
To: <java-user@lucene.apache.org>
Subject: to OR or not
X-Mailer: <IMail v8.15>
X-IMSTrailer: __IMail_7__
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody,
I am using lucene in almost every web application I am working on. It's simply a great software.
I have developed an advanced search with Lucene 1.4. Now I am looking for developing a fuzzy search i.e get one search string from the user and search across all fields of member documents. 

I can think of two options :
- form a OR query using given search string for all fields
- add one more field ( say keyword ) to the member document with all information of the user.

- Are there any other options ?
- Which will be a better option for the system which has arround one million documents each having 20 fields and performance is a major concern?

thanks
Amol 




________________________________________________________________
Sent via the WebMail system at mail.synechron.com


 
                   


--------------------------------------------------------------------
Mail Disclaimer: This e-mail and any files transmitted with it are confidential and the views expressed in the same are not necessarily the views of Synechron, and its Directors, Management or Employees. This communication represents the originator's personal views and opinions. If you are not the intended recipient or the person responsible for delivering the e-mail to the intended recipient, be advised that you have received this e-mail by error, and that any use, dissemination, forwarding, printing, or copying of this e-mail is strictly prohibited. You shall be under obligation to keep the contents of this e-mail, strictly confidential and shall not disclose, disseminate or divulge the same to any Person, Company, Firm or Entity. Even though Synechron uses up-to-date virus checking software to scan it's emails please ensure you have adequate virus protection before you open or detach any documents from this transmission. Synechron does not accept any liability for viruses 
 or vulnerabilities. The rights to monitor all e-mail communication through our network are reserved with us.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 27 23:54:55 2006
Return-Path: <java-user-return-19841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99472 invoked from network); 27 Mar 2006 23:54:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Mar 2006 23:54:55 -0000
Received: (qmail 34473 invoked by uid 500); 27 Mar 2006 23:54:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34452 invoked by uid 500); 27 Mar 2006 23:54:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34441 invoked by uid 99); 27 Mar 2006 23:54:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 15:54:50 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 15:54:49 -0800
Received: from pimout6-ext.prodigy.net (pimout6-int.prodigy.net [207.115.4.22])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2RNrrbk021249
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 18:53:54 -0500
X-ORBL: [69.228.218.169]
Received: from [192.168.168.15] (adsl-69-228-218-169.dsl.pltn13.pacbell.net [69.228.218.169])
	by pimout6-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2RNsEW6122290;
	Mon, 27 Mar 2006 18:54:19 -0500
Message-ID: <44287B25.4040809@apache.org>
Date: Mon, 27 Mar 2006 15:54:13 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene indexing on Hadoop distributed file system
References: <158e71710603252353uace38b4k810589d80745d6ad@mail.gmail.com>	 <44280FEF.30100@apache.org> <158e71710603271421v17196d09j9d06def2d8c5254d@mail.gmail.com>
In-Reply-To: <158e71710603271421v17196d09j9d06def2d8c5254d@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Igor Bolotin wrote:
> Does it make sense to change TermInfosWriter.FORMAT in the patch?

Yes.  This should be updated for any change to the format of the file, 
and this certainly constitutes a format change.  This discussion should 
move to java-dev@lucene.apache.org...

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 02:32:40 2006
Return-Path: <java-user-return-19842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64013 invoked from network); 28 Mar 2006 02:32:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 02:32:39 -0000
Received: (qmail 71186 invoked by uid 500); 28 Mar 2006 02:32:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71154 invoked by uid 500); 28 Mar 2006 02:32:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71137 invoked by uid 99); 28 Mar 2006 02:32:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 18:32:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [72.18.242.132] (HELO hagrid.scalix.local) (72.18.242.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 18:32:32 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id k2S2WBHN007796
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 18:32:11 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id k2S2WBcH007786
	for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 18:32:11 -0800
Received: from [10.17.80.104] (murky.us.scalix.com 10.17.80.104)
    by hagrid.scalix.local (Scalix SMTP Relay 10.0.0.175)
    via ESMTP; Mon, 27 Mar 2006 18:32:11 -0800 (PST)
Date: Mon, 27 Mar 2006 18:32:18 -0800
From: "Nick Atkins" <Nick.Atkins@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <4428A032.6090008@scalix.com>
Subject: How to write to and read from the same index
x-scalix-Hops: 1
Organization: Scalix Corporation
User-Agent: Thunderbird 1.5.0.2 (X11/20060311)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm using Lucene running on Tomcat to index a large amount of email data
and as the indexer runs through the mailbox creating, merging and
deleting documents it does lots of searches at the same time to see if
the document exists.  Actually all my modification operations are done
"in batch" every x seconds or so.

This seems to cause me lots of problems.  It believe it is not possible
to keep a single Searcher open while the index is being modified so the
only way is to detect the index changes, close the old one and create a
new one.  However, doing this causes the number of file handles to grow
beyond the max allowed by the system.  I have tried using Luc's
DelayCloseIndexSearcher with his Factory example but as my index is
modified frequently this causes lots of new DelayCloseIndexSearcher
objects.  The way it calls close on them when there are no more usages
doesn't seem to keep the number of file handles down, they just grow.  I
would expect close to release file handles to the system when nothing is
using the object (I even set it explicitly to null) but this does not
happen.

If this problem makes sense, has anyone else faced it, and does anyone
have a solution?

Cheers,

Nick.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 04:49:04 2006
Return-Path: <java-user-return-19843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14331 invoked from network); 28 Mar 2006 04:49:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 04:49:04 -0000
Received: (qmail 9742 invoked by uid 500); 28 Mar 2006 04:49:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9246 invoked by uid 500); 28 Mar 2006 04:48:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9235 invoked by uid 99); 28 Mar 2006 04:48:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 20:48:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of the13thshinobi@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nproxy.gmail.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Mar 2006 20:48:57 -0800
Received: by nproxy.gmail.com with SMTP id c29so1204848nfb
        for <java-user@lucene.apache.org>; Mon, 27 Mar 2006 20:48:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=meqXMdRKp/fhnkGjEq9yCrokgyL30c1JLJ2/ePpEnxP7mxqrT8D/F5GWSwNcflX94Cfee/yr7vGoQ74pe3wIpUUzpN1sQIh3oW4x7VSp01gZhFuF6vRzQQxwrgyfmMcp2pA1VlWQe8UDtQraav5xqa/7gURc0vIkgoQogP1og8Q=
Received: by 10.48.162.4 with SMTP id k4mr316824nfe;
        Mon, 27 Mar 2006 20:48:35 -0800 (PST)
Received: by 10.48.245.20 with HTTP; Mon, 27 Mar 2006 20:48:35 -0800 (PST)
Message-ID: <f24bae460603272048s1826ee5axb2ae8d920097a2ef@mail.gmail.com>
Date: Tue, 28 Mar 2006 12:48:35 +0800
From: "abdul muhaimin" <the13thshinobi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: add word filtering?
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083103D710@mshydpub1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17221_18654763.1143521315881"
References: <E817F096B8D59B4E9D1E437917B1083103D710@mshydpub1.hyd.deshaw.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17221_18654763.1143521315881
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

No. I'm sorry I didn't convey my question very well. Anyway thanks a lot fo=
r
the info.

What I really meant is, I want to filter out some words like for example,
"violence" & "hatred" from the search engine results. Consequently lucene
will display some alternative results for the above attempted search, such
as "Peace to the world." instead of the searched "violence".

How can I do it?

On 3/27/06, Satuluri, Venu_Madhav <Venu.Madhav.Satuluri@deshaw.com> wrote:
>
> Are you asking that common words not be searched? For this, you can use
> StopFilter to prevent words from being indexed and searched.
> Alternatively, you can use StandardAnalyzer, which in addition to
> removing stop words also does more sophisticated tokenizing.
>
> Venu
>
> -----Original Message-----
> From: abdul muhaimin [mailto:the13thshinobi@gmail.com]
> Sent: Monday, March 27, 2006 3:13 PM
> To: java-user@lucene.apache.org
> Subject: add word filtering?
>
>
> Hi all
>
> I'm really new to lucene. In fact I just found it when i googled a few
> days
> ago. Never thought that java have this kind of excellent library for
> free.
>
> I would like to ask a few questions, which is where to add if we would
> like
> to filter certain text from being searched, and filter certain results
> from
> being displayed, or display alternative result for filtered results when
> we're using lucent? Instead of just editing the resutls .jsp page (from
> the
> demo) is there any better way?
>
> Any information is greatly appreciated.
>
> Thanks in advance
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_17221_18654763.1143521315881--

From java-user-return-19844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 09:58:49 2006
Return-Path: <java-user-return-19844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81562 invoked from network); 28 Mar 2006 09:55:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 09:55:07 -0000
Received: (qmail 92846 invoked by uid 500); 28 Mar 2006 09:54:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92821 invoked by uid 500); 28 Mar 2006 09:54:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92810 invoked by uid 99); 28 Mar 2006 09:54:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 01:54:56 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO pproxy.gmail.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 01:54:55 -0800
Received: by pproxy.gmail.com with SMTP id d42so1694381pyd
        for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 01:54:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=uHBSBM2Mwi2Kc+eS4djnwArfndKUlj5RdlqiGoGSB6iCrXfT/HscJcKfjj8KRDgpEYG6qt+IY36GBeZaH6Q60c1JrWUTUvNnYt9aWcF6KK28Eu3I7HZ0qrP62+E7e6ITV8tJYQUpiVkmr7S0jXrr2RGzMzI55YdmY+b1JBF/sNQ=
Received: by 10.64.181.16 with SMTP id d16mr1185042qbf;
        Tue, 28 Mar 2006 01:54:34 -0800 (PST)
Received: by 10.65.242.13 with HTTP; Tue, 28 Mar 2006 01:54:34 -0800 (PST)
Message-ID: <4f9b23800603280154o4e54eaa2nd296f504999723e9@mail.gmail.com>
Date: Tue, 28 Mar 2006 10:54:34 +0100
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to write to and read from the same index
In-Reply-To: <4428A032.6090008@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4428A032.6090008@scalix.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Nick

Have you tried the Lucene Index Accessor contribution?

We have a similar update/search pattern and it works very well.

http://www.nabble.com/Fwd%3A-Contribution%3A-LuceneIndexAccessor-t17416.htm=
l#a47049

Patrick

On 28/03/06, Nick Atkins <Nick.Atkins@scalix.com> wrote:
> I'm using Lucene running on Tomcat to index a large amount of email data
> and as the indexer runs through the mailbox creating, merging and
> deleting documents it does lots of searches at the same time to see if
> the document exists.  Actually all my modification operations are done
> "in batch" every x seconds or so.
>
> This seems to cause me lots of problems.  It believe it is not possible
> to keep a single Searcher open while the index is being modified so the
> only way is to detect the index changes, close the old one and create a
> new one.  However, doing this causes the number of file handles to grow
> beyond the max allowed by the system.  I have tried using Luc's
> DelayCloseIndexSearcher with his Factory example but as my index is
> modified frequently this causes lots of new DelayCloseIndexSearcher
> objects.  The way it calls close on them when there are no more usages
> doesn't seem to keep the number of file handles down, they just grow.  I
> would expect close to release file handles to the system when nothing is
> using the object (I even set it explicitly to null) but this does not
> happen.
>
> If this problem makes sense, has anyone else faced it, and does anyone
> have a solution?
>
> Cheers,
>
> Nick.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 10:32:21 2006
Return-Path: <java-user-return-19845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2246 invoked from network); 28 Mar 2006 10:32:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 10:32:03 -0000
Received: (qmail 36972 invoked by uid 500); 28 Mar 2006 10:30:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36620 invoked by uid 500); 28 Mar 2006 10:30:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36609 invoked by uid 99); 28 Mar 2006 10:30:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 02:30:38 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_HOTMAIL_RCVD2,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 02:30:37 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FOBSn-0001YO-1P
	for java-user@lucene.apache.org; Tue, 28 Mar 2006 02:30:14 -0800
Message-ID: <3626992.post@talk.nabble.com>
Date: Tue, 28 Mar 2006 02:06:54 -0800 (PST)
From: thomasg <thomasgascoigne@hotmail.com>
To: java-user@lucene.apache.org
Subject: Lucene Performance Issues
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: thomasgascoigne@hotmail.com
X-Nabble-From: thomasg <thomasgascoigne@hotmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi, we are currently intending to implement a document storage / search tool
using Jackrabbit and Lucene. We have been approached by a commercial search
and indexing organisation called ISYS who are suggesting the following
problems with using Lucene. We do have a requirement to store and search
large documents and the total document store will be large too. Any comments
on the following would be greatly appreciated.

1) By default, Lucene only indexes the first 10,000 words from each
document. When increasing this default out-of-memory errors can occur. This
implies that documents, or large sections thereof, are loaded into memory.
ISYS has a very small memory footprint which is not affected by document
size nor number of documents.

 
2) Lucene appears to be slow at indexing, at least by ISYS' standards.
Published performance benchmarks seem to vary between almost acceptable,
down to very poor. ISYS' file readers are already optimized for the fastest
text extraction possible.

 
3) The Lucene documentation suggests it can be slow at searching and can get
slower and slower the larger your indexes get. The tipping point is where
the index size exceeds the amount of free memory in your machine. This also
implies that whole indexes, or large portions of them, are loaded into
memory. The bigger the index, the more powerful the machine required. ISYS'
search speed is always proportional to the size of the result set. Index
size does not materially affect search speed and the index is never loaded
into memory. It also appears that Lucene requires hands-on tuning to keep
its search speed acceptable. ISYS' indexes are self-managing and do not
require any maintenance to keep them searchable at full speed.


Thanks, Thomas
--
View this message in context: http://www.nabble.com/Lucene-Performance-Issues-t1354811.html#a3626992
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 11:10:25 2006
Return-Path: <java-user-return-19846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22835 invoked from network); 28 Mar 2006 11:10:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 11:10:15 -0000
Received: (qmail 83098 invoked by uid 500); 28 Mar 2006 11:10:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82993 invoked by uid 500); 28 Mar 2006 11:10:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82978 invoked by uid 99); 28 Mar 2006 11:10:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 03:10:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 03:09:59 -0800
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k2SB9XrB025527
	for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 13:09:33 +0200
Received: from 127.0.0.1 (AVG SMTP 7.1.385 [268.3.2/294]); Tue, 28 Mar 2006 13:09:31 +0200
Message-ID: <4429196B.809@isb-sib.ch>
Date: Tue, 28 Mar 2006 13:09:31 +0200
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene Performance Issues
References: <3626992.post@talk.nabble.com>
In-Reply-To: <3626992.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thomasg wrote:
> 1) By default, Lucene only indexes the first 10,000 words from each
> document. When increasing this default out-of-memory errors can occur. This
> implies that documents, or large sections thereof, are loaded into memory.
> ISYS has a very small memory footprint which is not affected by document
> size nor number of documents.

As far as I know, documents do indeed have to be built in memory prior to 
indexing. But this shouldn't be a problem unless you have only a few 
megabytes of memory, or you have documents that are hundreds of megabytes 
large -- and such large documents should probably be split, anyway.


> 2) Lucene appears to be slow at indexing, at least by ISYS' standards.
> Published performance benchmarks seem to vary between almost acceptable,
> down to very poor. ISYS' file readers are already optimized for the fastest
> text extraction possible.

Indexing performance is my main concern with Lucene, though there are 
several parameters that can be tuned and I haven't exhausted all of them yet...

Currently I am using:

   writer.setMergeFactor(100);
   writer.setMaxBufferedDocs(100);
   writer.setUseCompoundFile(false);

This allows me to build a 3GB index with about 3M documents in 6h on a 
2x2GHz Intel Xeon machine with 1GB of memory and a reasonably fast hard 
disk. There is some other stuff going on besides the indexing, but the 
indexing does seem to take up the greatest amount of time.

Note that Lucene also supports incremental updates.


> 3) The Lucene documentation suggests it can be slow at searching and can get
> slower and slower the larger your indexes get. The tipping point is where
> the index size exceeds the amount of free memory in your machine. This also
> implies that whole indexes, or large portions of them, are loaded into
> memory. The bigger the index, the more powerful the machine required. ISYS'
> search speed is always proportional to the size of the result set. Index
> size does not materially affect search speed and the index is never loaded
> into memory. It also appears that Lucene requires hands-on tuning to keep
> its search speed acceptable. ISYS' indexes are self-managing and do not
> require any maintenance to keep them searchable at full speed.

Queries on the index mentioned above return results within a few 
milliseconds, with less than 256MB used by the VM, though some complex 
queries that contain a lot of frequent terms may take up to several 
seconds. I'm not sure how Lucene's searching performance can be tuned, but 
haven't bother to do so as it hasn't been a bottleneck, so far...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 11:31:29 2006
Return-Path: <java-user-return-19847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32309 invoked from network); 28 Mar 2006 11:31:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 11:31:28 -0000
Received: (qmail 8791 invoked by uid 500); 28 Mar 2006 11:31:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8755 invoked by uid 500); 28 Mar 2006 11:31:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8742 invoked by uid 99); 28 Mar 2006 11:31:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 03:31:23 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gopi.subramani@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wproxy.gmail.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 03:31:22 -0800
Received: by wproxy.gmail.com with SMTP id i4so188187wra
        for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 03:31:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=pHByAYr0KQEOFNuIHrEK194NU/Zh5VsgmR85QsfJLyqIacGp7jUHP5B2MW8/FmRpZMLCiUwheIrRgCZFsHls0Q75wn3K7R/YhuZeLJWEVB0h3D/u63fJthIrZTSZHzUQDk79zUIoOrVKeGB0GE5K/kDSt3bLUE7opuwYi/Zkds0=
Received: by 10.54.126.15 with SMTP id y15mr4082222wrc;
        Tue, 28 Mar 2006 03:24:21 -0800 (PST)
Received: by 10.54.107.16 with HTTP; Tue, 28 Mar 2006 03:24:21 -0800 (PST)
Message-ID: <733777220603280324o10ed9be0o4bde6092efff9290@mail.gmail.com>
Date: Tue, 28 Mar 2006 16:54:21 +0530
From: "Gopikrishnan Subramani" <gopi.subramani@gmail.com>
To: java-user@lucene.apache.org
Subject: API for setting lock directory
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10256_21368357.1143545061531"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10256_21368357.1143545061531
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello,

With Lucene 1.4.3 I used to use a different lock directory from the default
by setting org.apache.lucene.lockdir system property. But as per
http://lucene.apache.org/java/docs/systemproperties.html this is not
supported in Lucene 1.9 and above. I don't see any equivalent API for
lockDir property though in Lucene 1.9.1. Does anyone know if using this
system property is still supported?

Thanks,
Gopi

------=_Part_10256_21368357.1143545061531--

From java-user-return-19848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 11:44:22 2006
Return-Path: <java-user-return-19848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38300 invoked from network); 28 Mar 2006 11:44:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 11:44:22 -0000
Received: (qmail 32843 invoked by uid 500); 28 Mar 2006 11:44:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32823 invoked by uid 500); 28 Mar 2006 11:44:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32812 invoked by uid 99); 28 Mar 2006 11:44:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 03:44:16 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.5 as permitted sender)
Received: from [219.125.112.5] (HELO nm05omta055.dion.ne.jp) (219.125.112.5)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 28 Mar 2006 03:44:15 -0800
Received: from sekiguchi ([59.135.85.171])
	by nm05mta.dion.ne.jp
	id <20060328204353397.MA48.8237118@nm05mta.dion.ne.jp>;
	Tue, 28 Mar 2006 20:43:53 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: API for setting lock directory
Date: Tue, 28 Mar 2006 20:43:51 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCGEPKCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <733777220603280324o10ed9be0o4bde6092efff9290@mail.gmail.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Gopi,

The name of the system property has been changed to
org.apache.lucene.lockDir and it should be still available.

Thank you,

Koji


> -----Original Message-----
> From: Gopikrishnan Subramani [mailto:gopi.subramani@gmail.com]
> Sent: Tuesday, March 28, 2006 8:24 PM
> To: java-user@lucene.apache.org
> Subject: API for setting lock directory
> 
> 
> Hello,
> 
> With Lucene 1.4.3 I used to use a different lock directory from 
> the default
> by setting org.apache.lucene.lockdir system property. But as per
> http://lucene.apache.org/java/docs/systemproperties.html this is not
> supported in Lucene 1.9 and above. I don't see any equivalent API for
> lockDir property though in Lucene 1.9.1. Does anyone know if using this
> system property is still supported?
> 
> Thanks,
> Gopi
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 12:02:51 2006
Return-Path: <java-user-return-19849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46139 invoked from network); 28 Mar 2006 12:02:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 12:02:50 -0000
Received: (qmail 53762 invoked by uid 500); 28 Mar 2006 12:02:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53740 invoked by uid 500); 28 Mar 2006 12:02:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53728 invoked by uid 99); 28 Mar 2006 12:02:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 04:02:35 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gopi.subramani@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wproxy.gmail.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 04:02:34 -0800
Received: by wproxy.gmail.com with SMTP id i27so1575035wra
        for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 04:02:13 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=H/VQ0DlxdYyalu4bZslK+Du72L/CgDcA1CLCPe/UDX8INifdVM50/0MTOhKewslLIsEX6TIyMOdEnzZd2mptfhHwAk5XjAdlnmSnwn1X7MgpO8misE6E7FRKeCdTPC4q7VVAyBsht3sk+SWAF2FOLfqavxG6t/FDzpNN2CP4YyU=
Received: by 10.54.153.8 with SMTP id a8mr777939wre;
        Tue, 28 Mar 2006 04:02:13 -0800 (PST)
Received: by 10.54.107.16 with HTTP; Tue, 28 Mar 2006 04:02:13 -0800 (PST)
Message-ID: <733777220603280402l642d5d3bpb354babad12a8fd4@mail.gmail.com>
Date: Tue, 28 Mar 2006 17:32:13 +0530
From: "Gopikrishnan Subramani" <gopi.subramani@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: API for setting lock directory
In-Reply-To: <PKEIKOCKCHNIIHNECPCCGEPKCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10636_31702532.1143547333378"
References: <733777220603280324o10ed9be0o4bde6092efff9290@mail.gmail.com>
	 <PKEIKOCKCHNIIHNECPCCGEPKCEAA.koji.sekiguchi@m4.dion.ne.jp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10636_31702532.1143547333378
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks, Koji. I tried org.apache.lucene.lockDir and found that to be
working. But my only concern is if this is the suggested approached or a
deprecated one. I wanted to know this to make sure my application is Lucene
2.0 compliant.

Thanks again..

Gopi


On 3/28/06, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
>
> Hi Gopi,
>
> The name of the system property has been changed to
> org.apache.lucene.lockDir and it should be still available.
>
> Thank you,
>
> Koji
>
>
> > -----Original Message-----
> > From: Gopikrishnan Subramani [mailto:gopi.subramani@gmail.com]
> > Sent: Tuesday, March 28, 2006 8:24 PM
> > To: java-user@lucene.apache.org
> > Subject: API for setting lock directory
> >
> >
> > Hello,
> >
> > With Lucene 1.4.3 I used to use a different lock directory from
> > the default
> > by setting org.apache.lucene.lockdir system property. But as per
> > http://lucene.apache.org/java/docs/systemproperties.html this is not
> > supported in Lucene 1.9 and above. I don't see any equivalent API for
> > lockDir property though in Lucene 1.9.1. Does anyone know if using this
> > system property is still supported?
> >
> > Thanks,
> > Gopi
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_10636_31702532.1143547333378--

From java-user-return-19850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 12:44:06 2006
Return-Path: <java-user-return-19850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67756 invoked from network); 28 Mar 2006 12:44:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 12:44:05 -0000
Received: (qmail 8986 invoked by uid 500); 28 Mar 2006 12:43:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8961 invoked by uid 500); 28 Mar 2006 12:43:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8949 invoked by uid 99); 28 Mar 2006 12:43:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 04:43:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.14 as permitted sender)
Received: from [219.125.112.14] (HELO nm05omta05d.dion.ne.jp) (219.125.112.14)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 28 Mar 2006 04:43:58 -0800
Received: from sekiguchi ([59.135.85.171])
	by nm05mta.dion.ne.jp
	id <20060328214337007.MAC0.81B6380@nm05mta.dion.ne.jp>;
	Tue, 28 Mar 2006 21:43:37 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: API for setting lock directory
Date: Tue, 28 Mar 2006 21:43:35 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCAEPLCEAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <733777220603280402l642d5d3bpb354babad12a8fd4@mail.gmail.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Gopi,

I don't know whether org.apache.lucene.lockDir is available at 2.0.
You may want to see release note for the system property:

http://svn.apache.org/repos/asf/lucene/java/tags/lucene_1_9_1/CHANGES.txt

regards,

Koji

> -----Original Message-----
> From: Gopikrishnan Subramani [mailto:gopi.subramani@gmail.com]
> Sent: Tuesday, March 28, 2006 9:02 PM
> To: java-user@lucene.apache.org
> Subject: Re: API for setting lock directory
> 
> 
> Thanks, Koji. I tried org.apache.lucene.lockDir and found that to be
> working. But my only concern is if this is the suggested approached or a
> deprecated one. I wanted to know this to make sure my application 
> is Lucene
> 2.0 compliant.
> 
> Thanks again..
> 
> Gopi
> 
> 
> On 3/28/06, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> >
> > Hi Gopi,
> >
> > The name of the system property has been changed to
> > org.apache.lucene.lockDir and it should be still available.
> >
> > Thank you,
> >
> > Koji
> >
> >
> > > -----Original Message-----
> > > From: Gopikrishnan Subramani [mailto:gopi.subramani@gmail.com]
> > > Sent: Tuesday, March 28, 2006 8:24 PM
> > > To: java-user@lucene.apache.org
> > > Subject: API for setting lock directory
> > >
> > >
> > > Hello,
> > >
> > > With Lucene 1.4.3 I used to use a different lock directory from
> > > the default
> > > by setting org.apache.lucene.lockdir system property. But as per
> > > http://lucene.apache.org/java/docs/systemproperties.html this is not
> > > supported in Lucene 1.9 and above. I don't see any equivalent API for
> > > lockDir property though in Lucene 1.9.1. Does anyone know if 
> using this
> > > system property is still supported?
> > >
> > > Thanks,
> > > Gopi
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 14:24:42 2006
Return-Path: <java-user-return-19851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34502 invoked from network); 28 Mar 2006 14:22:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 14:22:28 -0000
Received: (qmail 66137 invoked by uid 500); 28 Mar 2006 14:21:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66114 invoked by uid 500); 28 Mar 2006 14:21:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66101 invoked by uid 99); 28 Mar 2006 14:21:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 06:21:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.247.37.23] (HELO mail28.atl.registeredsite.com) (216.247.37.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 06:21:49 -0800
Received: from imta07a2.registeredsite.com (imta07a2.registeredsite.com [64.225.255.16])
	by mail28.atl.registeredsite.com (8.12.11.20060308/8.12.11) with ESMTP id k2SELPIV015185
	for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 09:21:25 -0500
Received: from [10.3.9.24] ([66.208.61.199]) by imta07a2.registeredsite.com
          with ESMTP
          id <20060328142125.EEGA2013.imta07a2.registeredsite.com@[10.3.9.24]>
          for <java-user@lucene.apache.org>;
          Tue, 28 Mar 2006 09:21:25 -0500
Message-ID: <44294665.3000402@michaelrlevy.com>
Date: Tue, 28 Mar 2006 09:21:25 -0500
From: Michael Levy <michael@michaelrlevy.com>
Reply-To: michael@michaelrlevy.com
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Nutch?  Solr?  Red-piranha?
References: <6380384b0603242053v177f14a0m@mail.gmail.com> <c68e39170603270917o1a0f6990t5e51e727af21fd16@mail.gmail.com>
In-Reply-To: <c68e39170603270917o1a0f6990t5e51e727af21fd16@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Authentication-Info: Submitted using SMTP AUTH CRAM-MD5 at imta07a2.registeredsite.com from [66.208.61.199] using ID michael@michaelrlevy.com at Tue, 28 Mar 2006 09:21:25 -0500
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm looking for advice on selecting a search application.  I'm 
responsible for developing a new search platform for use in a historical 
research organization and museum.  I've pretty much decided on Lucene as 
the library for custom servlet apps that would use the Lucene API directly.

At the same time, we have a number of application ideas that could 
probably use a flexible/customizable off-the-shelf crawling 
application.  For starters, it would be pretty basic stuff like indexing 
PDF files using some library, returning links that have been translated 
to point to a Tomcat virtual directory containing the files.  But our 
apps could quickly get more complex as we think of new search ideas.

I'm having a hard time comparing and contrasting Nutch, Solr, and 
Red-piranha.  I would appreciate anyone offering your ideas or 
experiences about which of these (or any other comprehensive search 
solutions) are good for which types of applications.  TIA!



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 14:39:30 2006
Return-Path: <java-user-return-19852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52810 invoked from network); 28 Mar 2006 14:39:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 14:39:30 -0000
Received: (qmail 1053 invoked by uid 500); 28 Mar 2006 14:39:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 707 invoked by uid 500); 28 Mar 2006 14:39:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 696 invoked by uid 99); 28 Mar 2006 14:39:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 06:39:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.29.64.52] (HELO mailserver1.honda-eu.com) (194.29.64.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 06:39:21 -0800
In-Reply-To: <20060327172350.10176.qmail@web50311.mail.yahoo.com>
Subject: Re: Phrase Query query
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF7D2C926A.6140B5EF-ON8025713F.004FF2A1-8025713F.005078CB@honda-eu.com>
From: Richard Gunderson <Richard.Gunderson@honda-eu.com>
Date: Tue, 28 Mar 2006 15:38:59 +0100
X-MIMETrack: Serialize by Router on NGHE002/HE/G_SRV/EU/HONDA(Release 6.5.4|March 27, 2005) at
 28/03/2006 16:42:38
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi Otis

Thanks for the information. I'm actually writing something to search files
containing code (such as JSP files) so I do expect there will be a few
problems like this because I guess Lucene's out-of-the box analyzers are
really suited to natural languages. But, I was wondering if you could you
recommend an Analyzer that would be good for my purposes. I tried
StandardAnalyzer and KeywordAnalyzer with limited success, although I admit
I might not be using them 100% correctly as I'm new to Lucene.

FYI I've added an option to bypass Lucene so I just do an String.indexOf on
my search terms, which works well (embarassingly-crude though!) but it
would be nice to be able to use the power of real text searching within
Lucene ;-)

Regards

Richard Gundersen
Honda UK - ISD
Tel: +44 (0)1753 590681
**************************************************************************
This email is confidential and intended solely for the use of the
individual to whom it is addressed. Any views or opinions presented are
solely those of the author and do not necessarily represent those of Honda
Motor Europe Ltd. or any of its group of companies.

If you are not the intended recipient, be advised that you have received
this email in error and that any use, dissemination, forwarding, printing
or copying of this email is strictly prohibited.

Visit our website: http://www.honda.co.uk
**************************************************************************


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 16:29:59 2006
Return-Path: <java-user-return-19853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73182 invoked from network); 28 Mar 2006 16:29:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 16:29:59 -0000
Received: (qmail 13601 invoked by uid 500); 28 Mar 2006 16:29:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13575 invoked by uid 500); 28 Mar 2006 16:29:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13564 invoked by uid 99); 28 Mar 2006 16:29:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 08:29:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 08:29:52 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k2SGTSB5069341
	for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 18:29:28 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200603281629.k2SGTSB5069341@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: BooleanQuery containing SpanNearQuery throws ArrayOutOfBoundsException .
Date: Tue, 28 Mar 2006 18:29:36 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <OF7D2C926A.6140B5EF-ON8025713F.004FF2A1-8025713F.005078CB@honda-eu.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZSdW2Y/HehFH3XREiX4GtkoKCNjQADnJSg
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,
I have a got strange problem.
My searchterm : "mp3 player"
Lucene Query : 
+(
  +(
    spanNear([productName:mp, productName:3], 3, true) 
    spanNear([subName:mp, subName:3], 3, true)
   ) 
 +(productName:player subName:player)
)

Throws following lucene BooleanScorer2 exception.
Caused by: java.lang.ArrayIndexOutOfBoundsException: 3
	at
org.apache.lucene.search.BooleanScorer2$Coordinator.coordFactor(BooleanScore
r2.java:54)
	at
org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:328)
	at
org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:82)
	at
org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2.java:186)
	at
org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:327)
	at
org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:291)
	at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
	at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110)
	at org.apache.lucene.search.Searcher.search(Searcher.java:76)


I tried to look at forums and JIRA issues. It seems somewhat it is releated
to https://issues.apache.org/jira/browse/LUCENE-413 issue.
At the same time if I search for "gx3 minolta" which makes a lucene query as
+(
 +(
   spanNear([productName:gx, productName:3], 3, true) 
   spanNear([subName:gx, subName:3], 3, true)
  )
 +(productName:minolta subName:minolta)
)
Works fine without any problems.

Does anyone encountered similar problem.
Do I totally ignore span queries and switch back to phrasequeries (which
ofcourse not ordered & a drawback for our search)


Jelda


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 16:38:42 2006
Return-Path: <java-user-return-19854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19014 invoked from network); 28 Mar 2006 16:38:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 16:38:41 -0000
Received: (qmail 33067 invoked by uid 500); 28 Mar 2006 16:38:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33037 invoked by uid 500); 28 Mar 2006 16:38:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33025 invoked by uid 99); 28 Mar 2006 16:38:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 08:38:35 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.32] (HELO ylpvm01.prodigy.net) (207.115.57.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 08:38:35 -0800
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm01.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2SGc8ai017530
	for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 11:38:08 -0500
X-ORBL: [69.228.218.169]
Received: from [192.168.168.15] (adsl-69-228-218-169.dsl.pltn13.pacbell.net [69.228.218.169])
	by pimout7-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2SGbwYL078286;
	Tue, 28 Mar 2006 11:38:03 -0500
Message-ID: <44296665.3070703@apache.org>
Date: Tue, 28 Mar 2006 08:37:57 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene Performance Issues
References: <3626992.post@talk.nabble.com>
In-Reply-To: <3626992.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thomasg wrote:
> Hi, we are currently intending to implement a document storage / search tool
> using Jackrabbit and Lucene. We have been approached by a commercial search
> and indexing organisation called ISYS who are suggesting the following
> problems with using Lucene. We do have a requirement to store and search
> large documents and the total document store will be large too. Any comments
> on the following would be greatly appreciated.

I would tend to be sceptical of claims from someone who is trying to 
sell you something: they are inherently biased.  The best way to answer 
performance questions is to benchmark.  That way you'll also get 
experience with each alternative.

Ease of development, availability of support, ease of debugging, cost, 
and other aspects besides raw performance may also prove more important 
long-term.

> 1) By default, Lucene only indexes the first 10,000 words from each
> document. When increasing this default out-of-memory errors can occur. This
> implies that documents, or large sections thereof, are loaded into memory.
> ISYS has a very small memory footprint which is not affected by document
> size nor number of documents.

Lucene does store a few bytes per word indexed while indexing.  But I've 
never seen folks complain about this as a significant consumer of 
memory, even when they crank up the limit.  How large are your large 
documents?  (Is it really useful to get hits on such large documents 
anyway, or might it be more useful to get hits on sections of these?)

> 2) Lucene appears to be slow at indexing, at least by ISYS' standards.
> Published performance benchmarks seem to vary between almost acceptable,
> down to very poor. ISYS' file readers are already optimized for the fastest
> text extraction possible.

How fast do you need to index?  How fast does your collection change? 
In most systems I've worked on, Lucene's indexing speed has not been a 
bottleneck.  For example, when crawling with Nutch, downloading pages 
and html parsing are typically much slower than indexing.  Lucene does 
not include text extractors, so it's hard to know what ISIS is comparing 
to there.  Also, when benchmarking indexing, one should look at the rate 
when the index is very large, not just when the index is small.

> 3) The Lucene documentation suggests it can be slow at searching and can get
> slower and slower the larger your indexes get. The tipping point is where
> the index size exceeds the amount of free memory in your machine. This also
> implies that whole indexes, or large portions of them, are loaded into
> memory.

Lucene does not normally store entire indexes in memory.  Indexes much 
larger than memory can be searched quickly.  For very high traffic (tens 
to hundreds of searches per second) indexes smaller than memory are 
required, since otherwise the disk becomes a bottleneck.  My rule of 
thumb is that a 10M document index of 10k documents (100G of text) 
easily gives sub-second average response time for typical queries.

> The bigger the index, the more powerful the machine required. ISYS'
> search speed is always proportional to the size of the result set.

That sound suspicious to me, unless by "size of result set" they mean 
the total number of documents that include any query term, in which case 
that is also true of Lucene.  But if you're using an "AND" query, the 
size of the result set is usually much smaller than that total.

Do they claim they can search billions of documents with a boolean query 
that only matches a few documents in time proportional to the size of 
those few matching documents?  And all that on a 486 with 1MB of RAM? 
That sounds like magic!

> Index
> size does not materially affect search speed and the index is never loaded
> into memory.

Index size does not affect Lucene's search speed per-se: what matters is 
the frequency of the search terms.  And terms tend to have larger 
frequencies in larger indexes.

> It also appears that Lucene requires hands-on tuning to keep
> its search speed acceptable.

I don't recommend tuning Lucene, but rather just using the out-of-the 
box defaults.  Folks tend to cause problems for themselves trying to 
make things 5% faster by setting parameters to extreme values without 
understanding the consequences of those parameters.  This results in 
lots of tuning-related messages on the mailing lists, but I am not 
convinced many of these are required.

> ISYS' indexes are self-managing and do not
> require any maintenance to keep them searchable at full speed.

Lucene could make the same claim.

I suspect you can achieve adequate performance with either product.  The 
  more salient difference will be that with Lucene you'd have the full 
source code and mailing lists like this to help you.  With ISYS you'd 
have a black box, a detailed manual, and a phone number.  So it depends 
on your style of development: do you want to be able to peek inside the 
search-engine, or do you want to be able to pick up the phone?

Cheers,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 16:39:56 2006
Return-Path: <java-user-return-19855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19717 invoked from network); 28 Mar 2006 16:39:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 16:39:55 -0000
Received: (qmail 35276 invoked by uid 500); 28 Mar 2006 16:39:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35252 invoked by uid 500); 28 Mar 2006 16:39:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35240 invoked by uid 99); 28 Mar 2006 16:39:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 08:39:49 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 28 Mar 2006 08:39:47 -0800
Received: (qmail 64053 invoked by uid 60001); 28 Mar 2006 16:39:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=1Cf1wQvSXABDFKnlNGQps0xyAldbh5Pjg4gBhL3YFX8ZQg95oj1Ps+m3uB/ndIXcvBYqkaT0bzfyAggbFeQRm2hFm0Wc0779U/OizYoABX7aAUgayPB6vzb9KrmsBOmkZEgD9QUQwIIBH1xc+D6WERiC+3nsfPi1ZUogHI390AY=  ;
Message-ID: <20060328163926.64051.qmail@web50305.mail.yahoo.com>
Date: Tue, 28 Mar 2006 08:39:26 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene Performance Issues
To: java-user@lucene.apache.org
In-Reply-To: <3626992.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Thomas,

Sound like FUD to me.  No concrete numbers, and the benchmark they mention.... eh, haven't we all seen "funny" benchmarks before?  Lucene is used in many large operations (e.g. Technorati, Simpy) that involve a LOT of indexing and searching, large indices, etc.  I suggest you try both and see which one suits your needs. 

Otis

----- Original Message ----
From: thomasg <thomasgascoigne@hotmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, March 28, 2006 5:06:54 AM
Subject: Lucene Performance Issues


Hi, we are currently intending to implement a document storage / search tool
using Jackrabbit and Lucene. We have been approached by a commercial search
and indexing organisation called ISYS who are suggesting the following
problems with using Lucene. We do have a requirement to store and search
large documents and the total document store will be large too. Any comments
on the following would be greatly appreciated.

1) By default, Lucene only indexes the first 10,000 words from each
document. When increasing this default out-of-memory errors can occur. This
implies that documents, or large sections thereof, are loaded into memory.
ISYS has a very small memory footprint which is not affected by document
size nor number of documents.

 
2) Lucene appears to be slow at indexing, at least by ISYS' standards.
Published performance benchmarks seem to vary between almost acceptable,
down to very poor. ISYS' file readers are already optimized for the fastest
text extraction possible.

 
3) The Lucene documentation suggests it can be slow at searching and can get
slower and slower the larger your indexes get. The tipping point is where
the index size exceeds the amount of free memory in your machine. This also
implies that whole indexes, or large portions of them, are loaded into
memory. The bigger the index, the more powerful the machine required. ISYS'
search speed is always proportional to the size of the result set. Index
size does not materially affect search speed and the index is never loaded
into memory. It also appears that Lucene requires hands-on tuning to keep
its search speed acceptable. ISYS' indexes are self-managing and do not
require any maintenance to keep them searchable at full speed.


Thanks, Thomas
--
View this message in context: http://www.nabble.com/Lucene-Performance-Issues-t1354811.html#a3626992
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 16:58:37 2006
Return-Path: <java-user-return-19856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45368 invoked from network); 28 Mar 2006 16:58:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 16:58:36 -0000
Received: (qmail 86979 invoked by uid 500); 28 Mar 2006 16:58:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86956 invoked by uid 500); 28 Mar 2006 16:58:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86945 invoked by uid 99); 28 Mar 2006 16:58:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 08:58:29 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_HOTMAIL_RCVD2,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 08:58:26 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FOHW9-0004Mq-QB
	for java-user@lucene.apache.org; Tue, 28 Mar 2006 08:58:05 -0800
Message-ID: <3633569.post@talk.nabble.com>
Date: Tue, 28 Mar 2006 08:58:05 -0800 (PST)
From: thomasg <thomasgascoigne@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene Performance Issues
In-Reply-To: <44296665.3070703@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: thomasgascoigne@hotmail.com
X-Nabble-From: thomasg <thomasgascoigne@hotmail.com>
References: <3626992.post@talk.nabble.com> <44296665.3070703@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks v. much for your thoughts, a lot to think about. I'm currently doing
some benchmark tests on typical usage scenarios with lucene. I'm actually
using lucene through its integration with Jackrabbit dms so may not be
easy/possible to use a different search engine anyway. Of course I'd rather
be developing with open source tools but the project manager thought it good
to ask around. Thanks again and will get some benchmarks that will mean more
than guesswork.
--
View this message in context: http://www.nabble.com/Lucene-Performance-Issues-t1354811.html#a3633569
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 17:49:25 2006
Return-Path: <java-user-return-19857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74939 invoked from network); 28 Mar 2006 17:49:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 17:49:24 -0000
Received: (qmail 66445 invoked by uid 500); 28 Mar 2006 17:49:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66421 invoked by uid 500); 28 Mar 2006 17:49:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66410 invoked by uid 99); 28 Mar 2006 17:49:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 09:49:18 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO pproxy.gmail.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 09:49:17 -0800
Received: by pproxy.gmail.com with SMTP id e30so362216pya
        for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 09:48:57 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=aMlB//U2taTZjWUDMTOzV2Ezftre6If2WvWpzL/OomtTVZBSAFZKGML6hpgaerfIUDvLXOgu2vqs45D7AqXImaoeEdn0iau36N6xrf0WggyLBU/7NISF8EJtVZ98OEtSCZCNT/wO8SxuptK2VWqiI31fL+a3T8xE8OsYrH9pVx4=
Received: by 10.35.131.4 with SMTP id i4mr171440pyn;
        Tue, 28 Mar 2006 09:48:56 -0800 (PST)
Received: by 10.35.100.6 with HTTP; Tue, 28 Mar 2006 09:48:56 -0800 (PST)
Message-ID: <c68e39170603280948i50f6b31ehc89c78905bf94c96@mail.gmail.com>
Date: Tue, 28 Mar 2006 12:48:56 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org, michael@michaelrlevy.com
Subject: Re: Nutch? Solr? Red-piranha?
In-Reply-To: <44294665.3000402@michaelrlevy.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <6380384b0603242053v177f14a0m@mail.gmail.com>
	 <c68e39170603270917o1a0f6990t5e51e727af21fd16@mail.gmail.com>
	 <44294665.3000402@michaelrlevy.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/28/06, Michael Levy <michael@michaelrlevy.com> wrote:
> I'm looking for advice on selecting a search application.  I'm
> responsible for developing a new search platform for use in a historical
> research organization and museum.  I've pretty much decided on Lucene as
> the library for custom servlet apps that would use the Lucene API directl=
y.
>
> At the same time, we have a number of application ideas that could
> probably use a flexible/customizable off-the-shelf crawling
> application.  For starters, it would be pretty basic stuff like indexing
> PDF files using some library, returning links that have been translated
> to point to a Tomcat virtual directory containing the files.  But our
> apps could quickly get more complex as we think of new search ideas.
>
> I'm having a hard time comparing and contrasting Nutch, Solr, and
> Red-piranha.  I would appreciate anyone offering your ideas or
> experiences about which of these (or any other comprehensive search
> solutions) are good for which types of applications.  TIA!

I'd use Solr for highly structured data (documents with multiple
fields) and very configurable text analysis per-field. Think of it
more like a database, but designed for full-text search. We are
working on adding easy faceted browsing and indexing of SQL databases.

I'd use Nutch for web-search (a free google replacement): crawling
(discovering), indexing web pages, and automatically handling
different types of human readable documents like HTML, PDF, etc.

I don't have any experience with Red-piranha.

Example use cases as I see it:
To index a music web site with lots of articles: Nutch
To index a music collection (structured data like title, album,
author, year, genre, etc): Solr

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 18:39:33 2006
Return-Path: <java-user-return-19858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1897 invoked from network); 28 Mar 2006 18:39:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 18:39:33 -0000
Received: (qmail 65163 invoked by uid 500); 28 Mar 2006 18:39:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65134 invoked by uid 500); 28 Mar 2006 18:39:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65103 invoked by uid 99); 28 Mar 2006 18:39:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 10:39:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 10:39:25 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 808D833C0BF; Tue, 28 Mar 2006 13:39:04 -0500 (EST)
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 7E76333C088
	for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 13:39:02 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <200603271806.AA5505306@mail.synechron.com>
References: <200603271806.AA5505306@mail.synechron.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <887B7926-F68E-4FB8-8979-3F03974275CA@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: to OR or not
Date: Tue, 28 Mar 2006 13:38:59 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I much prefer the one catch-all field approach, personally.  As long  
as scoring works out how you'd like using this technique, then it'll  
make for simpler (and thus faster) queries.  However, reindexing is  
necessary to bring another field into the mix, whereas run-time ORing  
is more flexible and dynamically adjustable.

	Erik



On Mar 27, 2006, at 6:06 PM, Amol Bhutada wrote:

> Hi everybody,
> I am using lucene in almost every web application I am working on.  
> It's simply a great software.
> I have developed an advanced search with Lucene 1.4. Now I am  
> looking for developing a fuzzy search i.e get one search string  
> from the user and search across all fields of member documents.
>
> I can think of two options :
> - form a OR query using given search string for all fields
> - add one more field ( say keyword ) to the member document with  
> all information of the user.
>
> - Are there any other options ?
> - Which will be a better option for the system which has arround  
> one million documents each having 20 fields and performance is a  
> major concern?
>
> thanks
> Amol
>
>
>
>
> ________________________________________________________________
> Sent via the WebMail system at mail.synechron.com
>
>
>
>
>
>
> --------------------------------------------------------------------
> Mail Disclaimer: This e-mail and any files transmitted with it are  
> confidential and the views expressed in the same are not  
> necessarily the views of Synechron, and its Directors, Management  
> or Employees. This communication represents the originator's  
> personal views and opinions. If you are not the intended recipient  
> or the person responsible for delivering the e-mail to the intended  
> recipient, be advised that you have received this e-mail by error,  
> and that any use, dissemination, forwarding, printing, or copying  
> of this e-mail is strictly prohibited. You shall be under  
> obligation to keep the contents of this e-mail, strictly  
> confidential and shall not disclose, disseminate or divulge the  
> same to any Person, Company, Firm or Entity. Even though Synechron  
> uses up-to-date virus checking software to scan it's emails please  
> ensure you have adequate virus protection before you open or detach  
> any documents from this transmission. Synechron does not accept any  
> liability for viruses
>  or vulnerabilities. The rights to monitor all e-mail communication  
> through our network are reserved with us.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 18:46:23 2006
Return-Path: <java-user-return-19859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9003 invoked from network); 28 Mar 2006 18:46:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 18:46:23 -0000
Received: (qmail 76429 invoked by uid 500); 28 Mar 2006 18:46:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76392 invoked by uid 500); 28 Mar 2006 18:46:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76381 invoked by uid 99); 28 Mar 2006 18:46:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 10:46:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.240.10.6] (HELO pat.uio.no) (129.240.10.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 10:46:16 -0800
Received: from mail-mx3.uio.no ([129.240.10.44])
	by pat.uio.no with esmtp (Exim 4.43)
	id 1FOJCV-0003W9-7a
	for java-user@lucene.apache.org; Tue, 28 Mar 2006 20:45:55 +0200
Received: from dot1x-sb482.uio.no ([129.240.121.230] helo=[127.0.0.1])
	by mail-mx3.uio.no with esmtp (Exim 4.43)
	id 1FOJCO-00083U-JO
	for java-user@lucene.apache.org; Tue, 28 Mar 2006 20:45:48 +0200
Message-ID: <44298454.5080105@ifi.uio.no>
Date: Tue, 28 Mar 2006 20:45:40 +0200
From: Eivind Hasle Amundsen <eivinha@ifi.uio.no>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Nutch? Solr? Red-piranha?
References: <6380384b0603242053v177f14a0m@mail.gmail.com>	 <c68e39170603270917o1a0f6990t5e51e727af21fd16@mail.gmail.com>	 <44294665.3000402@michaelrlevy.com> <c68e39170603280948i50f6b31ehc89c78905bf94c96@mail.gmail.com>
In-Reply-To: <c68e39170603280948i50f6b31ehc89c78905bf94c96@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 0613-0, 28.03.2006), Outbound message
X-Antivirus-Status: Clean
X-UiO-Spam-info: not spam, SpamAssassin (score=-2.448, required 12,
	autolearn=disabled, AWL -2.45)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> I don't have any experience with Red-piranha.

I'm wondering if the Red-Piranha project is still going strong. The 
so-called "community edition" seems to be lacking development according 
to the CVS repository:

http://cvs.sourceforge.net/viewcvs.py/red-piranha/CVSROOT/

(The last commits seem to be ~8 months old.)

Does anyone know about this?

-- 
Eivind Hasle Amundsen | eivinha@ifi.uio.no

Student, Department of Informatics, University of Oslo
mob: +47 90789762 | web: http://www.eha.no/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 18:47:39 2006
Return-Path: <java-user-return-19860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9732 invoked from network); 28 Mar 2006 18:47:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 18:47:38 -0000
Received: (qmail 83567 invoked by uid 500); 28 Mar 2006 18:47:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83543 invoked by uid 500); 28 Mar 2006 18:47:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83532 invoked by uid 99); 28 Mar 2006 18:47:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 10:47:32 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.22.58.18] (HELO mail.dicarta.com) (12.22.58.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 10:47:31 -0800
Received: from corpx.corp.dicarta.com (corpx.dicarta.com [10.1.8.35])
	by mail.dicarta.com  with ESMTP id k2SIl6s14757
	for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 10:47:06 -0800 (PST)
From: jwang@dicarta.com
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Commercial vendors monitoring this ML? was: Lucene Performance Issues
Date: Tue, 28 Mar 2006 10:47:10 -0800
Message-ID: <9778DA4F3D53D04B9AE80AC64AC073A30573EFDF@corpx.dicarta.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Commercial vendors monitoring this ML? was: Lucene Performance Issues
Thread-Index: AcZShj8DhMhdHqthQTCjI+XxfnCi3QAEWmBA
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Weird, I was just about to comment on the fact that since posting that
my organization has decided to use Lucene, I got calls from two
commercial vendors that didn't give me the time of the day while I was
doing my comparison analysis.

Both of them referred to some random "colleague" in the business
referring them to me.

Jeff Wang
diCarta, Inc.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Tuesday, March 28, 2006 8:39 AM
To: java-user@lucene.apache.org
Subject: Re: Lucene Performance Issues

Hi Thomas,

Sound like FUD to me.  No concrete numbers, and the benchmark they
mention.... eh, haven't we all seen "funny" benchmarks before?  Lucene
is used in many large operations (e.g. Technorati, Simpy) that involve a
LOT of indexing and searching, large indices, etc.  I suggest you try
both and see which one suits your needs.=20

Otis

----- Original Message ----
From: thomasg <thomasgascoigne@hotmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, March 28, 2006 5:06:54 AM
Subject: Lucene Performance Issues


Hi, we are currently intending to implement a document storage / search
tool
using Jackrabbit and Lucene. We have been approached by a commercial
search
and indexing organisation called ISYS who are suggesting the following
problems with using Lucene. We do have a requirement to store and search
large documents and the total document store will be large too. Any
comments
on the following would be greatly appreciated.

1) By default, Lucene only indexes the first 10,000 words from each
document. When increasing this default out-of-memory errors can occur.
This
implies that documents, or large sections thereof, are loaded into
memory.
ISYS has a very small memory footprint which is not affected by document
size nor number of documents.

=20
2) Lucene appears to be slow at indexing, at least by ISYS' standards.
Published performance benchmarks seem to vary between almost acceptable,
down to very poor. ISYS' file readers are already optimized for the
fastest
text extraction possible.

=20
3) The Lucene documentation suggests it can be slow at searching and can
get
slower and slower the larger your indexes get. The tipping point is
where
the index size exceeds the amount of free memory in your machine. This
also
implies that whole indexes, or large portions of them, are loaded into
memory. The bigger the index, the more powerful the machine required.
ISYS'
search speed is always proportional to the size of the result set. Index
size does not materially affect search speed and the index is never
loaded
into memory. It also appears that Lucene requires hands-on tuning to
keep
its search speed acceptable. ISYS' indexes are self-managing and do not
require any maintenance to keep them searchable at full speed.


Thanks, Thomas
--
View this message in context:
http://www.nabble.com/Lucene-Performance-Issues-t1354811.html#a3626992
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 19:06:17 2006
Return-Path: <java-user-return-19861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22007 invoked from network); 28 Mar 2006 19:06:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 19:06:17 -0000
Received: (qmail 17288 invoked by uid 500); 28 Mar 2006 19:06:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17263 invoked by uid 500); 28 Mar 2006 19:06:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17252 invoked by uid 99); 28 Mar 2006 19:06:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 11:06:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.8.156.205] (HELO brownbear.nameprotect.com) (69.8.156.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 11:06:10 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Commercial vendors monitoring this ML? was: Lucene Performance Issues
Date: Tue, 28 Mar 2006 13:05:49 -0600
Message-ID: <450A5F8E4BF26340B4013C40E11ADA080109CDFF@brownbear.nameprotect.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Commercial vendors monitoring this ML? was: Lucene Performance Issues
Thread-Index: AcZShj8DhMhdHqthQTCjI+XxfnCi3QAEWmBAAABn0oA=
From: "Runde, Kevin" <krunde@NameProtect.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Of course they are monitoring this mail list, Lucene rocks and it is
beating them. Do yourself a favor and dedicate some time to testing
Lucene vs. any commercial application. A little time spent up front
testing the tools can save you significant time later optimizing,
hacking in a new tool, or refactoring your program because you didn't
understand how to "really" use the tool. We did that here and were
amazed. We found index size was 1/4 and query speed was 4 times faster
when comparing Lucene to several commercial tools. This was on indexes
that were much larger than physical RAM on the box.

-Kevin
-----Original Message-----
From: jwang@dicarta.com [mailto:jwang@dicarta.com]=20
Sent: Tuesday, March 28, 2006 12:47 PM
To: java-user@lucene.apache.org
Subject: Commercial vendors monitoring this ML? was: Lucene Performance
Issues

Weird, I was just about to comment on the fact that since posting that
my organization has decided to use Lucene, I got calls from two
commercial vendors that didn't give me the time of the day while I was
doing my comparison analysis.

Both of them referred to some random "colleague" in the business
referring them to me.

Jeff Wang
diCarta, Inc.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Tuesday, March 28, 2006 8:39 AM
To: java-user@lucene.apache.org
Subject: Re: Lucene Performance Issues

Hi Thomas,

Sound like FUD to me.  No concrete numbers, and the benchmark they
mention.... eh, haven't we all seen "funny" benchmarks before?  Lucene
is used in many large operations (e.g. Technorati, Simpy) that involve a
LOT of indexing and searching, large indices, etc.  I suggest you try
both and see which one suits your needs.=20

Otis

----- Original Message ----
From: thomasg <thomasgascoigne@hotmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, March 28, 2006 5:06:54 AM
Subject: Lucene Performance Issues


Hi, we are currently intending to implement a document storage / search
tool
using Jackrabbit and Lucene. We have been approached by a commercial
search
and indexing organisation called ISYS who are suggesting the following
problems with using Lucene. We do have a requirement to store and search
large documents and the total document store will be large too. Any
comments
on the following would be greatly appreciated.

1) By default, Lucene only indexes the first 10,000 words from each
document. When increasing this default out-of-memory errors can occur.
This
implies that documents, or large sections thereof, are loaded into
memory.
ISYS has a very small memory footprint which is not affected by document
size nor number of documents.

=20
2) Lucene appears to be slow at indexing, at least by ISYS' standards.
Published performance benchmarks seem to vary between almost acceptable,
down to very poor. ISYS' file readers are already optimized for the
fastest
text extraction possible.

=20
3) The Lucene documentation suggests it can be slow at searching and can
get
slower and slower the larger your indexes get. The tipping point is
where
the index size exceeds the amount of free memory in your machine. This
also
implies that whole indexes, or large portions of them, are loaded into
memory. The bigger the index, the more powerful the machine required.
ISYS'
search speed is always proportional to the size of the result set. Index
size does not materially affect search speed and the index is never
loaded
into memory. It also appears that Lucene requires hands-on tuning to
keep
its search speed acceptable. ISYS' indexes are self-managing and do not
require any maintenance to keep them searchable at full speed.


Thanks, Thomas
--
View this message in context:
http://www.nabble.com/Lucene-Performance-Issues-t1354811.html#a3626992
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 19:16:02 2006
Return-Path: <java-user-return-19862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27419 invoked from network); 28 Mar 2006 19:16:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 19:16:01 -0000
Received: (qmail 46071 invoked by uid 500); 28 Mar 2006 19:15:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46044 invoked by uid 500); 28 Mar 2006 19:15:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46032 invoked by uid 99); 28 Mar 2006 19:15:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 11:15:56 -0800
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jdz99@hotmail.com designates 65.54.229.36 as permitted sender)
Received: from [65.54.229.36] (HELO hotmail.com) (65.54.229.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 11:15:55 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 28 Mar 2006 11:15:34 -0800
Message-ID: <BAY110-F26E9FBC9A62BFE60D38CBCBBD30@phx.gbl>
Received: from 65.54.229.220 by by110fd.bay110.hotmail.msn.com with HTTP;
	Tue, 28 Mar 2006 19:15:32 GMT
X-Originating-IP: [66.65.161.178]
X-Originating-Email: [jdz99@hotmail.com]
X-Sender: jdz99@hotmail.com
From: "Jim Douglas" <jdz99@hotmail.com>
To: java-user@lucene.apache.org
Subject: Install problem
Date: Tue, 28 Mar 2006 19:15:32 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 28 Mar 2006 19:15:34.0350 (UTC) FILETIME=[FCEDF6E0:01C6529B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I use ant for many other builds so I know that's not the problem.

When I run 'ant' from the directory I have untarred lucene to I get a 'build 
failed' error, it says,

Cannot find common-build.xml imported from /root/lucene-1.9.1/build.xml

Where could I find common-build.xml, and build-deprecated.xml??

Jim



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 20:32:30 2006
Return-Path: <java-user-return-19863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69558 invoked from network); 28 Mar 2006 20:32:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 20:32:30 -0000
Received: (qmail 60329 invoked by uid 500); 28 Mar 2006 20:32:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60307 invoked by uid 500); 28 Mar 2006 20:32:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60296 invoked by uid 99); 28 Mar 2006 20:32:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 12:32:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 12:32:23 -0800
Received: (qmail 4380 invoked from network); 28 Mar 2006 20:32:01 -0000
Received: from unknown (HELO p5496d008.dip.t-dialin.net) ([pbs]695637@[84.150.208.8])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 28 Mar 2006 20:32:01 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: API for setting lock directory
Date: Tue, 28 Mar 2006 22:31:10 +0200
User-Agent: KMail/1.8.2
References: <733777220603280324o10ed9be0o4bde6092efff9290@mail.gmail.com>
In-Reply-To: <733777220603280324o10ed9be0o4bde6092efff9290@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200603282231.10499@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 28 M=C3=A4rz 2006 13:24, Gopikrishnan Subramani wrote:

> With Lucene 1.4.3 I used to use a different lock directory from the
> default by setting org.apache.lucene.lockdir system property. But as per
> http://lucene.apache.org/java/docs/systemproperties.html this is not
> supported in Lucene 1.9 and above

The lockDir property is one (the only?) exception, it still exists in=20
Lucene 1.9. I'll update the web page.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 21:12:04 2006
Return-Path: <java-user-return-19864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86380 invoked from network); 28 Mar 2006 21:12:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 21:12:04 -0000
Received: (qmail 33894 invoked by uid 500); 28 Mar 2006 21:11:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33871 invoked by uid 500); 28 Mar 2006 21:11:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33859 invoked by uid 99); 28 Mar 2006 21:11:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 13:11:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.30] (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 13:11:58 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.13.6/8.13.6) with ESMTP id k2SLBaY5097208
	for <java-user@lucene.apache.org>; Tue, 28 Mar 2006 23:11:37 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: BooleanQuery containing SpanNearQuery throws ArrayOutOfBoundsException .
Date: Tue, 28 Mar 2006 23:11:36 +0200
User-Agent: KMail/1.8.2
References: <200603281629.k2SGTSB5069341@pigeon.ciao.com>
In-Reply-To: <200603281629.k2SGTSB5069341@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603282311.36148.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Comments inline below.

On Tuesday 28 March 2006 18:29, Ramana Jelda wrote:
> 
> Hi,
> I have a got strange problem.
> My searchterm : "mp3 player"
> Lucene Query : 
> +(
>   +(
>     spanNear([productName:mp, productName:3], 3, true) 
>     spanNear([subName:mp, subName:3], 3, true)
>    ) 
>  +(productName:player subName:player)
> )
> 
> Throws following lucene BooleanScorer2 exception.
> Caused by: java.lang.ArrayIndexOutOfBoundsException: 3
> 	at
> org.apache.lucene.search.BooleanScorer2$Coordinator.coordFactor(BooleanScore
> r2.java:54)
> 	at
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:328)
> 	at
> org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:82)
> 	at
> org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2.java:186)
> 	at
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:327)
> 	at
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:291)
> 	at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
> 	at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110)
> 	at org.apache.lucene.search.Searcher.search(Searcher.java:76)
> 
> 
> I tried to look at forums and JIRA issues. It seems somewhat it is releated
> to https://issues.apache.org/jira/browse/LUCENE-413 issue.

That seems to be the case indeed.
Would it be possible for you to provide a (preferably small) lucene index that
shows this problem?
When so, could you post it at the jira issue?

> At the same time if I search for "gx3 minolta" which makes a lucene query as
> +(
>  +(
>    spanNear([productName:gx, productName:3], 3, true) 
>    spanNear([subName:gx, subName:3], 3, true)
>   )
>  +(productName:minolta subName:minolta)
> )
> Works fine without any problems.

Similar strange behaviour occurred on the previous occasion.

> Does anyone encountered similar problem.
> Do I totally ignore span queries and switch back to phrasequeries (which
> ofcourse not ordered & a drawback for our search)

You might try the alternative implementation of span queries that is available
at the jira issue. However, even with that, the problem persisted on the 
previous occasion, so the source of the problem seems to be somewhere else.
This is also why a test index would be most welcome.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 28 22:45:39 2006
Return-Path: <java-user-return-19865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25171 invoked from network); 28 Mar 2006 22:45:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Mar 2006 22:45:39 -0000
Received: (qmail 47000 invoked by uid 500); 28 Mar 2006 22:45:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46975 invoked by uid 500); 28 Mar 2006 22:45:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46964 invoked by uid 99); 28 Mar 2006 22:45:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 14:45:33 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 14:45:31 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 13DA1B735C
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 08:45:03 +1000 (EST)
Message-ID: <4429BCD1.6090604@nuix.com.au>
Date: Wed, 29 Mar 2006 09:46:41 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: API for setting lock directory
References: <733777220603280324o10ed9be0o4bde6092efff9290@mail.gmail.com>
In-Reply-To: <733777220603280324o10ed9be0o4bde6092efff9290@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gopikrishnan Subramani wrote:
> With Lucene 1.4.3 I used to use a different lock directory from the default
> by setting org.apache.lucene.lockdir system property. But as per
> http://lucene.apache.org/java/docs/systemproperties.html this is not
> supported in Lucene 1.9 and above. I don't see any equivalent API for
> lockDir property though in Lucene 1.9.1. Does anyone know if using this
> system property is still supported?

Sorry if this is a bit of a side-track, but it's about locking and this 
thread reminded me of it.

Would it be possible to have the lock file inside the text index 
directory itself?  I'd rather have my locks right next to the actual 
text index, so that even if a user is accessing it over a network it 
would still lock other users from writing to it.

I guess the system property could be set right before opening the index, 
but that isn't the best thread safety I could imagine.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 02:37:32 2006
Return-Path: <java-user-return-19866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31076 invoked from network); 29 Mar 2006 02:37:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 02:37:31 -0000
Received: (qmail 47950 invoked by uid 500); 29 Mar 2006 02:37:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47696 invoked by uid 500); 29 Mar 2006 02:37:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47685 invoked by uid 99); 29 Mar 2006 02:37:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 18:37:25 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.55] (HELO web50301.mail.yahoo.com) (206.190.38.55)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 28 Mar 2006 18:37:23 -0800
Received: (qmail 49673 invoked by uid 60001); 29 Mar 2006 02:37:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=z333z+RhzzfxB2iGI65KX6LZjj6vSqhOos2aFArggBQ4QImcBdV+BOy4C2gRNRn/klZ40/ep8ghTjZqwMZi4zLKQG4ggR4gG6W9pg5bDQi5OHjDxm10ueJ0SrZP4FiyQBKe+KlnLF4vgZFsm7ABMef3rHMn4mP+Yz0LRDWC9OuA=  ;
Message-ID: <20060329023702.49670.qmail@web50301.mail.yahoo.com>
Date: Tue, 28 Mar 2006 18:37:02 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: API for setting lock directory
To: java-user@lucene.apache.org
In-Reply-To: <4429BCD1.6090604@nuix.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This was the ooooold behaviour in Lucene.  You may want to check the ML archives to see why the lock was moved to temp dir by default, I remember there being some discussion around that. This might have been....2 years ago?

Otis

----- Original Message ----
From: Daniel Noll <daniel@nuix.com.au>
To: java-user@lucene.apache.org
Sent: Tuesday, March 28, 2006 5:46:41 PM
Subject: Re: API for setting lock directory

Gopikrishnan Subramani wrote:
> With Lucene 1.4.3 I used to use a different lock directory from the default
> by setting org.apache.lucene.lockdir system property. But as per
> http://lucene.apache.org/java/docs/systemproperties.html this is not
> supported in Lucene 1.9 and above. I don't see any equivalent API for
> lockDir property though in Lucene 1.9.1. Does anyone know if using this
> system property is still supported?

Sorry if this is a bit of a side-track, but it's about locking and this 
thread reminded me of it.

Would it be possible to have the lock file inside the text index 
directory itself?  I'd rather have my locks right next to the actual 
text index, so that even if a user is accessing it over a network it 
would still lock other users from writing to it.

I guess the system property could be set right before opening the index, 
but that isn't the best thread safety I could imagine.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 04:58:28 2006
Return-Path: <java-user-return-19867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91603 invoked from network); 29 Mar 2006 04:58:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 04:58:28 -0000
Received: (qmail 74767 invoked by uid 500); 29 Mar 2006 04:58:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74377 invoked by uid 500); 29 Mar 2006 04:58:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74366 invoked by uid 99); 29 Mar 2006 04:58:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 20:58:22 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_FAKE_HELO_DOTCOM,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of prasenjitm@aol.com designates 152.163.225.130 as permitted sender)
Received: from [152.163.225.130] (HELO omr-r02.mail.aol.com) (152.163.225.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 20:58:21 -0800
Received: from aol.com (10.146.145.194)
  by omr-r02.mail.aol.com with ESMTP; 28 Mar 2006 23:58:00 -0500
Message-ID: <442A13D3.7080500@aol.com>
Date: Wed, 29 Mar 2006 10:27:55 +0530
From: Prasenjit Mukherjee <prasenjitm@aol.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Data structure of a Lucene Index
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It seems to me that lucene doesn't use B-tree for its indexing storage. 
Any paper/article which explains the theory behind data-structure of  
single index(segment).  I am not referring to the merge algorithm, I am 
curious to know the storage structure of a single optimized lucene index.

Any pointer is greatly appreciated.
--Prasen

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 05:31:17 2006
Return-Path: <java-user-return-19868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3584 invoked from network); 29 Mar 2006 05:31:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 05:31:14 -0000
Received: (qmail 96652 invoked by uid 500); 29 Mar 2006 05:31:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96301 invoked by uid 500); 29 Mar 2006 05:31:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96290 invoked by uid 99); 29 Mar 2006 05:31:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 21:31:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 21:31:06 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 18386B7BFC
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 15:30:39 +1000 (EST)
Message-ID: <442A1BE2.2080705@nuix.com.au>
Date: Wed, 29 Mar 2006 16:32:18 +1100
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: API for setting lock directory
References: <20060329023702.49670.qmail@web50301.mail.yahoo.com>
In-Reply-To: <20060329023702.49670.qmail@web50301.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:
> This was the ooooold behaviour in Lucene.  You may want to check the
> ML archives to see why the lock was moved to temp dir by default, I
> remember there being some discussion around that. This might have
> been....2 years ago?

To answer my own question, I've just discovered that LOCK_DIR is public 
on FSDirectory, and that setting it to null makes it use the index 
directory as the means of storage.

My instant guess as to why it's not stored in the text index itself, is 
that it might have been done to support read-only text indexes.  (Or 
perhaps not... a read-only directory doesn't have to worry so much about 
getting into inconsistencies.  If you can't modify files, you can't 
cause conflicts.)

I've also discovered that Lucene is using createNewFile() to perform 
locking (the JavaDoc for said method says that it shouldn't be used for 
locking.)  Luckily the makeLock() method is overridable so we could 
easily avoid that issue without modifying Lucene.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 05:53:39 2006
Return-Path: <java-user-return-19869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13789 invoked from network); 29 Mar 2006 05:53:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 05:53:39 -0000
Received: (qmail 24393 invoked by uid 500); 29 Mar 2006 05:53:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23993 invoked by uid 500); 29 Mar 2006 05:53:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23982 invoked by uid 99); 29 Mar 2006 05:53:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 21:53:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.37.194.14] (HELO ext-ch1gw-6.online-age.net) (64.37.194.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 21:53:33 -0800
Received: from int-ch1gw-5.online-age.net (int-ch1gw-5 [3.159.232.69])
	by ext-ch1gw-6.online-age.net (8.13.4/8.13.5/20051111-SVVS-TLS-DNSBL) with ESMTP id k2T5r7oE028103
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 00:53:09 -0500
Received: from cinmlef01.e2k.ad.ge.com (localhost [127.0.0.1])
	by int-ch1gw-5.online-age.net (8.12.9/8.12.3/990426-RLH) with ESMTP id k2T5r6H5028473
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 00:53:07 -0500 (EST)
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef01.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.2499);
	 Wed, 29 Mar 2006 00:53:05 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Hi Experts
Date: Wed, 29 Mar 2006 11:22:53 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C5023F9B79@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hi Experts
Thread-Index: AcZS9QSILfFAWNsJQpK+39bg4lTgbg==
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Mar 2006 05:53:06.0342 (UTC) FILETIME=[0CE4BC60:01C652F5]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Experts,

Iam  a new bie. Iam suppose to select a search engine for my project, =
which should search from the given URL and display the result.

I should use the search engine in windows OS only. I should not use any =
other external tool like CGYWIN which is used in NUTCH.=20

Any expet guidance would be much appreciated .

Thanks=20

Kamesh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 06:01:43 2006
Return-Path: <java-user-return-19870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16354 invoked from network); 29 Mar 2006 06:01:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 06:01:43 -0000
Received: (qmail 31741 invoked by uid 500); 29 Mar 2006 06:01:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31710 invoked by uid 500); 29 Mar 2006 06:01:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31699 invoked by uid 99); 29 Mar 2006 06:01:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 22:01:36 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.122.139.27] (HELO rodin.i2r.a-star.edu.sg) (192.122.139.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 22:01:35 -0800
Received: from rodin.i2r.a-star.edu.sg (localhost [127.0.0.1])
	by rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2T615Np026846
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 14:01:05 +0800 (SGT)
Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2T614ZL026841for 
	<java-user@lucene.apache.org>; Wed, 29 Mar 2006 14:01:05 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IWV006WJKPW1E40@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Wed, 29 Mar 2006 14:01:08 +0800 (SGT)
Date: Wed, 29 Mar 2006 14:04:09 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: RE: Hi Experts
In-reply-to: <DC47ED83883E7C4B94AC2A67C1DA53C5023F9B79@BANMLVEM01.e2k.ad.ge.
	com>
To: java-user@lucene.apache.org
Message-id: <001c01c652f6$982100d0$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain;
	charset=utf-8
Content-transfer-encoding: quoted-printable
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:70.13686 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The way lucene works is you need to have the index first.
Only then you can search it.

So if you want to search within a given URL, you need to somehow create
the index of all the webpages within that URL. If the webserver linked
to that URL is also yours, then that would not be a big deal.=0D

But if it is an external URL, then you would need to have a crawler
(which basically collects all the linked documents in the URL). However
you will not be able to get all the documents in the URL (those that are
not linked by any other document, will not be reached by the crawler,
unless you manually supply the URL of that document to the crawler,
otherwise I don't see how you can figure out the existence of that
document.).


--------------------------------------------------- I=C2=B2R Disclaimer=
 ------------------------------
This email is confidential and may be privileged.  If you are not the=
 intended recipient, please delete it and notify us immediately. Please do=
 not copy or use it for any purpose, or disclose its contents to any other=
 person. Thank you.
---------------------------------------------------------------------------=
----------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 06:36:56 2006
Return-Path: <java-user-return-19871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33691 invoked from network); 29 Mar 2006 06:36:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 06:36:55 -0000
Received: (qmail 69619 invoked by uid 500); 29 Mar 2006 06:36:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69584 invoked by uid 500); 29 Mar 2006 06:36:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69573 invoked by uid 99); 29 Mar 2006 06:36:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 22:36:47 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.33] (HELO web53003.mail.yahoo.com) (206.190.49.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 28 Mar 2006 22:36:46 -0800
Received: (qmail 11763 invoked by uid 60001); 29 Mar 2006 06:36:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=cqs6mVLhfQqeS/WGlikxwr9rc4o7hNVkLQhEZVIF4iyGMF1VC9ZJA1/aM5/xXBJB6pXjssgCoJrKyMJxp7MDeXv8PUfOJ7xTGehvNsIupzGwLnWcJRN3RVFRfDCtT3zrlAMcmvDAu/ZhW3MDwTd87WjFLZ+fiJIVd2bS7Ul2904=  ;
Message-ID: <20060329063625.11761.qmail@web53003.mail.yahoo.com>
Received: from [219.91.147.162] by web53003.mail.yahoo.com via HTTP; Tue, 28 Mar 2006 22:36:25 PST
Date: Tue, 28 Mar 2006 22:36:25 -0800 (PST)
From: "Ranjan K. Baisak" <ranjanbaisak@yahoo.com>
Subject: Re: Hi Experts
To: java-user@lucene.apache.org
In-Reply-To: <DC47ED83883E7C4B94AC2A67C1DA53C5023F9B79@BANMLVEM01.e2k.ad.ge.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For internet searching Nutch is the best tool. But
however as you dont want to use cygwin then you need
to use Lucene in following way.
You need to download whole page and create an index
out of that page. Then use lucene to search offline
content than online.
I have used lucene in this way and I have really got a
good result to search my intranet.
I am not sure whether this would meet your
requirement.

BTW have you tried google api.

- R

--- "Babu, KameshNarayana (GE, Research, consultant)"
<kameshnarayana.babu@ge.com> wrote:

> Hi Experts,
> 
> Iam  a new bie. Iam suppose to select a search
> engine for my project, which should search from the
> given URL and display the result.
> 
> I should use the search engine in windows OS only. I
> should not use any other external tool like CGYWIN
> which is used in NUTCH. 
> 
> Any expet guidance would be much appreciated .
> 
> Thanks 
> 
> Kamesh
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 06:43:17 2006
Return-Path: <java-user-return-19872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38419 invoked from network); 29 Mar 2006 06:43:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 06:43:17 -0000
Received: (qmail 83532 invoked by uid 500); 29 Mar 2006 06:43:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83499 invoked by uid 500); 29 Mar 2006 06:43:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83487 invoked by uid 99); 29 Mar 2006 06:43:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 22:43:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.14.54.240] (HELO ext-nj2ut-10.online-age.net) (64.14.54.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 22:43:10 -0800
Received: from int-nj2ut-3.online-age.net (int-nj2ut-3.online-age.net [3.159.237.72])
	by ext-nj2ut-10.online-age.net (8.13.5/8.13.5/20051114-SVVS-TLS-DNSBL) with ESMTP id k2T6gmxP028304
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 01:42:49 -0500
Received: from cinmlef03.e2k.ad.ge.com (localhost.localdomain [127.0.0.1])
	by int-nj2ut-3.online-age.net (8.11.6/8.11.6/20050510-SVVS) with ESMTP id k2T6gmV31791
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 01:42:48 -0500
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef03.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.2499);
	 Wed, 29 Mar 2006 01:42:47 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Hi Experts
Date: Wed, 29 Mar 2006 12:12:34 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C5023F9D76@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hi Experts
Thread-Index: AcZS+1rroHVX0IVFRJWmV0rH44HHGQAAC92Q
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Mar 2006 06:42:47.0649 (UTC) FILETIME=[FDE41510:01C652FB]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


"
-----Original Message-----
From: Ranjan K. Baisak [mailto:ranjanbaisak@yahoo.com]
Sent: Wednesday, March 29, 2006 12:06 PM
To: java-user@lucene.apache.org
Subject: Re: Hi Experts


For internet searching Nutch is the best tool. But
however as you dont want to use cygwin then you need
to use Lucene in following way.
You need to download whole page and create an index
out of that page. Then use lucene to search offline
content than online.
I have used lucene in this way and I have really got a
good result to search my intranet.
I am not sure whether this would meet your
requirement.

BTW have you tried google api.

- R"


Dear Rajan, thanks for your mail.  Tats really a good idea. I can use =
Lucene after downloading the webpage in the machine. Which tool (open =
source) you suggest me to download the webpage to the local machine? Or =
Which (open source) tool you are using to do that?.

Regards
Kamesh

--- "Babu, KameshNarayana (GE, Research, consultant)"
<kameshnarayana.babu@ge.com> wrote:

> Hi Experts,
>=20
> Iam  a new bie. Iam suppose to select a search
> engine for my project, which should search from the
> given URL and display the result.
>=20
> I should use the search engine in windows OS only. I
> should not use any other external tool like CGYWIN
> which is used in NUTCH.=20
>=20
> Any expet guidance would be much appreciated .
>=20
> Thanks=20
>=20
> Kamesh
>=20
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 07:02:46 2006
Return-Path: <java-user-return-19873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46976 invoked from network); 29 Mar 2006 07:02:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 07:02:46 -0000
Received: (qmail 3926 invoked by uid 500); 29 Mar 2006 07:02:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3866 invoked by uid 500); 29 Mar 2006 07:02:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3832 invoked by uid 99); 29 Mar 2006 07:02:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Mar 2006 23:02:37 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.42] (HELO web53012.mail.yahoo.com) (206.190.49.42)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 28 Mar 2006 23:02:36 -0800
Received: (qmail 37582 invoked by uid 60001); 29 Mar 2006 07:02:15 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=iWEsS3qr/uQ+KY6LXMH6PqO1149+sWl5zd3MwazP33Q4evKsONg+MKFJ5yI0VoTX1i3FJYNd+7gX6GgjB0Ev/KW6Zqy1x1DrKPHKngXCi/tiMp+L4EOEPrS+VJK3HWEHN1ABY7TH6IQxirIkFKYyElXWbTsKtW2c4Q22/CFtjtI=  ;
Message-ID: <20060329070215.37580.qmail@web53012.mail.yahoo.com>
Received: from [219.91.147.162] by web53012.mail.yahoo.com via HTTP; Tue, 28 Mar 2006 23:02:15 PST
Date: Tue, 28 Mar 2006 23:02:15 -0800 (PST)
From: "Ranjan K. Baisak" <ranjanbaisak@yahoo.com>
Subject: RE: Hi Experts
To: java-user@lucene.apache.org
In-Reply-To: <DC47ED83883E7C4B94AC2A67C1DA53C5023F9D76@BANMLVEM01.e2k.ad.ge.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am using HTMLparser to parse all html pages and to
get required information out of that.
Let me tell you my crawler.
I have to search for all pages of group website(e.g.
www.group.com and it contians links to
news.groups.com, forum.news.com etc...).So I will get
all links of group website using Parser and download
all html pages.
Once download is completed, I will use html parser to
parse and get required information. This is based on
business requirement.
Then I would create Lucene index using Lucene.
Insearch I am using lucene api as well as Lucene
highlighter utility to highlight search tokens.

I used to refresh my index on everyday. This is based
on crone job in Spring.

Hope it would help you for your requirement.
Incase you need any help please IM me
ranjanbaisak@yahoo.com

-R

--- "Babu, KameshNarayana (GE, Research, consultant)"
<kameshnarayana.babu@ge.com> wrote:

> 
> "
> -----Original Message-----
> From: Ranjan K. Baisak
> [mailto:ranjanbaisak@yahoo.com]
> Sent: Wednesday, March 29, 2006 12:06 PM
> To: java-user@lucene.apache.org
> Subject: Re: Hi Experts
> 
> 
> For internet searching Nutch is the best tool. But
> however as you dont want to use cygwin then you need
> to use Lucene in following way.
> You need to download whole page and create an index
> out of that page. Then use lucene to search offline
> content than online.
> I have used lucene in this way and I have really got
> a
> good result to search my intranet.
> I am not sure whether this would meet your
> requirement.
> 
> BTW have you tried google api.
> 
> - R"
> 
> 
> Dear Rajan, thanks for your mail.  Tats really a
> good idea. I can use Lucene after downloading the
> webpage in the machine. Which tool (open source) you
> suggest me to download the webpage to the local
> machine? Or Which (open source) tool you are using
> to do that?.
> 
> Regards
> Kamesh
> 
> --- "Babu, KameshNarayana (GE, Research,
> consultant)"
> <kameshnarayana.babu@ge.com> wrote:
> 
> > Hi Experts,
> > 
> > Iam  a new bie. Iam suppose to select a search
> > engine for my project, which should search from
> the
> > given URL and display the result.
> > 
> > I should use the search engine in windows OS only.
> I
> > should not use any other external tool like CGYWIN
> > which is used in NUTCH. 
> > 
> > Any expet guidance would be much appreciated .
> > 
> > Thanks 
> > 
> > Kamesh
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > 
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 09:10:56 2006
Return-Path: <java-user-return-19874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31834 invoked from network); 29 Mar 2006 09:10:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 09:10:54 -0000
Received: (qmail 90442 invoked by uid 500); 29 Mar 2006 09:10:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90410 invoked by uid 500); 29 Mar 2006 09:10:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90398 invoked by uid 99); 29 Mar 2006 09:10:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 01:10:40 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.14.54.246] (HELO ext-nj2ut-13.online-age.net) (64.14.54.246)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 01:10:39 -0800
Received: from int-nj2ut-1.online-age.net (int-nj2ut-1.online-age.net [3.159.237.70])
	by ext-nj2ut-13.online-age.net (8.13.5/8.13.5/20051114-SVVS-TLS-DNSBL) with ESMTP id k2T9AHCj010033
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 04:10:17 -0500
Received: from cinmlef08.e2k.ad.ge.com (localhost.localdomain [127.0.0.1])
	by int-nj2ut-1.online-age.net (8.11.6/8.11.6/20050510-SVVS) with ESMTP id k2T9AHb20705
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 04:10:17 -0500
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef08.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.2499);
	 Wed, 29 Mar 2006 04:10:16 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Hi Experts
Date: Wed, 29 Mar 2006 14:39:46 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C50245E09C@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hi Experts
Thread-Index: AcZS/tRKQKPyVu3BSUKhZdFbcqP2IQAEaoGQ
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Mar 2006 09:10:16.0562 (UTC) FILETIME=[98410D20:01C65310]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"
-----Original Message-----
From: Ranjan K. Baisak [mailto:ranjanbaisak@yahoo.com]
Sent: Wednesday, March 29, 2006 12:32 PM
To: java-user@lucene.apache.org
Subject: RE: Hi Experts

you wrote
"
I am using HTMLparser to parse all html pages and to
get required information out of that.
Let me tell you my crawler.
I have to search for all pages of group website(e.g.
www.group.com and it contians links to
news.groups.com, forum.news.com etc...).So I will get
all links of group website using Parser and download
all html pages.
Once download is completed, I will use html parser to
parse and get required information. This is based on
business requirement.
Then I would create Lucene index using Lucene.
Insearch I am using lucene api as well as Lucene
highlighter utility to highlight search tokens.

I used to refresh my index on everyday. This is based
on crone job in Spring.

Hope it would help you for your requirement.
Incase you need any help please IM me
ranjanbaisak@yahoo.com

-R"

Dear Rajan,
thanks for your support. I really appreciate that. I want to how you =
download all the pages from the www.group.com. Do you use any tool? I =
found search option in the Group website. Have you did that. If yes =
please let me know how?

Please send me you cell number.
Thanks



-----Original Message-----
From: Ranjan K. Baisak [mailto:ranjanbaisak@yahoo.com]
Sent: Wednesday, March 29, 2006 12:32 PM
To: java-user@lucene.apache.org
Subject: RE: Hi Experts


I am using HTMLparser to parse all html pages and to
get required information out of that.
Let me tell you my crawler.
I have to search for all pages of group website(e.g.
www.group.com and it contians links to
news.groups.com, forum.news.com etc...).So I will get
all links of group website using Parser and download
all html pages.
Once download is completed, I will use html parser to
parse and get required information. This is based on
business requirement.
Then I would create Lucene index using Lucene.
Insearch I am using lucene api as well as Lucene
highlighter utility to highlight search tokens.

I used to refresh my index on everyday. This is based
on crone job in Spring.

Hope it would help you for your requirement.
Incase you need any help please IM me
ranjanbaisak@yahoo.com

-R

--- "Babu, KameshNarayana (GE, Research, consultant)"
<kameshnarayana.babu@ge.com> wrote:

>=20
> "
> -----Original Message-----
> From: Ranjan K. Baisak
> [mailto:ranjanbaisak@yahoo.com]
> Sent: Wednesday, March 29, 2006 12:06 PM
> To: java-user@lucene.apache.org
> Subject: Re: Hi Experts
>=20
>=20
> For internet searching Nutch is the best tool. But
> however as you dont want to use cygwin then you need
> to use Lucene in following way.
> You need to download whole page and create an index
> out of that page. Then use lucene to search offline
> content than online.
> I have used lucene in this way and I have really got
> a
> good result to search my intranet.
> I am not sure whether this would meet your
> requirement.
>=20
> BTW have you tried google api.
>=20
> - R"
>=20
>=20
> Dear Rajan, thanks for your mail.  Tats really a
> good idea. I can use Lucene after downloading the
> webpage in the machine. Which tool (open source) you
> suggest me to download the webpage to the local
> machine? Or Which (open source) tool you are using
> to do that?.
>=20
> Regards
> Kamesh
>=20
> --- "Babu, KameshNarayana (GE, Research,
> consultant)"
> <kameshnarayana.babu@ge.com> wrote:
>=20
> > Hi Experts,
> >=20
> > Iam  a new bie. Iam suppose to select a search
> > engine for my project, which should search from
> the
> > given URL and display the result.
> >=20
> > I should use the search engine in windows OS only.
> I
> > should not use any other external tool like CGYWIN
> > which is used in NUTCH.=20
> >=20
> > Any expet guidance would be much appreciated .
> >=20
> > Thanks=20
> >=20
> > Kamesh
> >=20
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> >=20
> >=20
>=20
>=20
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>=20
>=20
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 10:03:11 2006
Return-Path: <java-user-return-19875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66351 invoked from network); 29 Mar 2006 10:03:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 10:03:11 -0000
Received: (qmail 95763 invoked by uid 500); 29 Mar 2006 10:03:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95732 invoked by uid 500); 29 Mar 2006 10:03:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95721 invoked by uid 99); 29 Mar 2006 10:03:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:03:05 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:03:04 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k2TA2a3O074892
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 12:02:36 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200603291002.k2TA2a3O074892@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: BooleanQuery containing SpanNearQuery throws ArrayOutOfBoundsException .
Date: Wed, 29 Mar 2006 12:02:31 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZSrETf1B+EsxqqTXyaJnWWEiYYWAAa4A/w
In-Reply-To: <200603282311.36148.paul.elschot@xs4all.nl>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks for your reply.
For smaller index it is working fine.
I will try again and again to reproduce exception.

Please let me know, if there is a quick fix to do locally.

Thanks & Regards,
Jelda

> -----Original Message-----
> From: Paul Elschot [mailto:paul.elschot@xs4all.nl] 
> Sent: Tuesday, March 28, 2006 11:12 PM
> To: java-user@lucene.apache.org
> Subject: Re: BooleanQuery containing SpanNearQuery throws 
> ArrayOutOfBoundsException .
> 
> Comments inline below.
> 
> On Tuesday 28 March 2006 18:29, Ramana Jelda wrote:
> > 
> > Hi,
> > I have a got strange problem.
> > My searchterm : "mp3 player"
> > Lucene Query : 
> > +(
> >   +(
> >     spanNear([productName:mp, productName:3], 3, true) 
> >     spanNear([subName:mp, subName:3], 3, true)
> >    )
> >  +(productName:player subName:player)
> > )
> > 
> > Throws following lucene BooleanScorer2 exception.
> > Caused by: java.lang.ArrayIndexOutOfBoundsException: 3
> > 	at
> > 
> org.apache.lucene.search.BooleanScorer2$Coordinator.coordFactor(Boolea
> > nScore
> > r2.java:54)
> > 	at
> > 
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:328)
> > 	at
> > 
> org.apache.lucene.search.ConjunctionScorer.score(ConjunctionSc
> orer.java:82)
> > 	at
> > 
> org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2
> .java:186)
> > 	at
> > 
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:327)
> > 	at
> > 
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:291)
> > 	at
> > 
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
> > 	at
> > 
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110)
> > 	at org.apache.lucene.search.Searcher.search(Searcher.java:76)
> > 
> > 
> > I tried to look at forums and JIRA issues. It seems somewhat it is 
> > releated to https://issues.apache.org/jira/browse/LUCENE-413 issue.
> 
> That seems to be the case indeed.
> Would it be possible for you to provide a (preferably small) 
> lucene index that shows this problem?
> When so, could you post it at the jira issue?
> 
> > At the same time if I search for "gx3 minolta" which makes a lucene 
> > query as
> > +(
> >  +(
> >    spanNear([productName:gx, productName:3], 3, true) 
> >    spanNear([subName:gx, subName:3], 3, true)
> >   )
> >  +(productName:minolta subName:minolta)
> > )
> > Works fine without any problems.
> 
> Similar strange behaviour occurred on the previous occasion.
> 
> > Does anyone encountered similar problem.
> > Do I totally ignore span queries and switch back to phrasequeries 
> > (which ofcourse not ordered & a drawback for our search)
> 
> You might try the alternative implementation of span queries 
> that is available at the jira issue. However, even with that, 
> the problem persisted on the previous occasion, so the source 
> of the problem seems to be somewhere else.
> This is also why a test index would be most welcome.
> 
> Regards,
> Paul Elschot
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 10:10:31 2006
Return-Path: <java-user-return-19876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69275 invoked from network); 29 Mar 2006 10:10:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 10:10:31 -0000
Received: (qmail 4899 invoked by uid 500); 29 Mar 2006 10:10:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4874 invoked by uid 500); 29 Mar 2006 10:10:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4862 invoked by uid 99); 29 Mar 2006 10:10:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:10:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [80.76.63.210] (HELO mailserver.exis.com.gr) (80.76.63.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:10:24 -0800
Received: from [192.168.1.4] (helo=[192.168.1.4])
	by rottweiler.exis.com.gr with esmtp (Exim 4.43)
	id 1FOXcm-0002b9-QE
	for java-user@lucene.apache.org; Wed, 29 Mar 2006 13:10:02 +0300
Message-ID: <442A5CF1.8050105@exis.com.gr>
Date: Wed, 29 Mar 2006 13:09:53 +0300
From: Marios Skounakis <mscoon@exis.com.gr>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Paging results
Content-Type: text/plain; charset=ISO-8859-7; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: -1.4 (-)
X-Spam-Report: 	-1.4 ALL_TRUSTED            Passed through trusted hosts only via SMTP
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

  Hi all,

I have the following issue (I am giving a quantified example so we can 
talk more concretely)

My documents have an docId field, stored as a keyword field.

I am executing searches that return between 2000 and 10000 documents and 
sorting the results by relevance (or sometimes alphabetically).

In every query, I need to discard some of the results based on their 
docId. I have a list of the docIds that need to be discarded in an 
array. The size of the list is usually about 100.

I generally perform paging, so I don't need to display all the results, 
but only those of the current page (e.g. results 100 to 120)

Currently, after getting the Hits object from the Searcher, I loop over 
the documents, retrieve their docId, and see if it is in the discard 
list. If not, I put the document in a validResult collection. When I 
have read enough valid results to be able to show the current page, I 
stop. E.g., in the above example, I would read until I had 120 valid 
results.

The problem with this implementation is that I have to read the docId 
for the results that precede the current page, in order to determine if 
they are in the invalid list. So, when showing the pages near the last 
page, I have to read the entire result list. I don't like this because 
this means that the computation required to display a page is not 
constant but depends on the page's position. Anyway, what do the experts 
think? Is this implementation prohibitively expensive?

(As a sidenote, when calling hits.doc(i), does Lucene retrieve the whole 
document, or just a pointer to it, and retrieves the data when doing 
hits.doc(i).getField...?)

An alternative would be to extend the query to exclude the ids in the 
discard list. How would adding 100 exclusion clauses to the query impact 
the query's performance? Are there any studies on search speed in 
relation to the number of query clauses?

Is there another way to do handle this issue?

Many thanks in advance,
Marios Skounakis

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 10:16:45 2006
Return-Path: <java-user-return-19877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71416 invoked from network); 29 Mar 2006 10:16:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 10:16:44 -0000
Received: (qmail 9598 invoked by uid 500); 29 Mar 2006 10:16:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9570 invoked by uid 500); 29 Mar 2006 10:16:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9549 invoked by uid 99); 29 Mar 2006 10:16:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:16:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [64.37.194.15] (HELO ext-ch1gw-7.online-age.net) (64.37.194.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:16:31 -0800
Received: from int-ch1gw-2.online-age.net (int-ch1gw-2 [3.159.232.66])
	by ext-ch1gw-7.online-age.net (8.13.4/8.13.5/20051111-SVVS-TLS-DNSBL) with ESMTP id k2TAG7iG007493
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 05:16:08 -0500
Received: from cinmlef09.e2k.ad.ge.com (localhost [127.0.0.1])
	by int-ch1gw-2.online-age.net (8.12.9/8.12.3/990426-RLH) with ESMTP id k2TAG6JL000608
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 05:16:06 -0500 (EST)
Received: from banmlvem01.e2k.ad.ge.com ([3.159.224.31]) by cinmlef09.e2k.ad.ge.com with Microsoft SMTPSVC(6.0.3790.2499);
	 Wed, 29 Mar 2006 05:16:04 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: base64
Subject: RE: Hi Experts
Date: Wed, 29 Mar 2006 15:44:15 +0530
Message-ID: <DC47ED83883E7C4B94AC2A67C1DA53C50245E2FA@BANMLVEM01.e2k.ad.ge.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hi Experts
Thread-Index: AcZS9kivWLyQ3gybQ9Wv51wBi17GzQAIuOpQ
From: "Babu, KameshNarayana \(GE, Research, consultant\)" <kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Mar 2006 10:16:04.0443 (UTC) FILETIME=[C95FE2B0:01C65319]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

VGhhbmtzIEFkaXR5YSwNCkx1Y2VuZSBpcyB1c2VkIG9ubHkgdG8gc2VhcmNoIGluIHRoZSBsb2Nh
bCBtYWNoaW5lIHJpZ2h0PyBIb3cgY2FuIGx1Y2VuZSBzZWFyY2ggb24gdGhlIGludGVybmV0Pw0K
RG8gd2UgaGF2ZSBhbnkgdG9vbHMgd2hpY2ggY2FuIGluZGV4IG9uIHRoZSBpbnRlcm5ldCBzZWxm
IGFuZCBkaXNwbGF5cyB0aGUgcmVzdWx0cy4gSSBrbm93IHRoaXMgaXMgdmVyeSBzaWxseS4NCg0K
LS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEFkaXR5YSBMaXZpYW5kaSBbbWFpbHRv
OmFkaXR5YWxAaTJyLmEtc3Rhci5lZHUuc2ddDQpTZW50OiBXZWRuZXNkYXksIE1hcmNoIDI5LCAy
MDA2IDExOjM0IEFNDQpUbzogamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnDQpTdWJqZWN0OiBS
RTogSGkgRXhwZXJ0cw0KDQoNClRoZSB3YXkgbHVjZW5lIHdvcmtzIGlzIHlvdSBuZWVkIHRvIGhh
dmUgdGhlIGluZGV4IGZpcnN0Lg0KT25seSB0aGVuIHlvdSBjYW4gc2VhcmNoIGl0Lg0KDQpTbyBp
ZiB5b3Ugd2FudCB0byBzZWFyY2ggd2l0aGluIGEgZ2l2ZW4gVVJMLCB5b3UgbmVlZCB0byBzb21l
aG93IGNyZWF0ZQ0KdGhlIGluZGV4IG9mIGFsbCB0aGUgd2VicGFnZXMgd2l0aGluIHRoYXQgVVJM
LiBJZiB0aGUgd2Vic2VydmVyIGxpbmtlZA0KdG8gdGhhdCBVUkwgaXMgYWxzbyB5b3VycywgdGhl
biB0aGF0IHdvdWxkIG5vdCBiZSBhIGJpZyBkZWFsLg0KDQoNCkJ1dCBpZiBpdCBpcyBhbiBleHRl
cm5hbCBVUkwsIHRoZW4geW91IHdvdWxkIG5lZWQgdG8gaGF2ZSBhIGNyYXdsZXINCih3aGljaCBi
YXNpY2FsbHkgY29sbGVjdHMgYWxsIHRoZSBsaW5rZWQgZG9jdW1lbnRzIGluIHRoZSBVUkwpLiBI
b3dldmVyDQp5b3Ugd2lsbCBub3QgYmUgYWJsZSB0byBnZXQgYWxsIHRoZSBkb2N1bWVudHMgaW4g
dGhlIFVSTCAodGhvc2UgdGhhdCBhcmUNCm5vdCBsaW5rZWQgYnkgYW55IG90aGVyIGRvY3VtZW50
LCB3aWxsIG5vdCBiZSByZWFjaGVkIGJ5IHRoZSBjcmF3bGVyLA0KdW5sZXNzIHlvdSBtYW51YWxs
eSBzdXBwbHkgdGhlIFVSTCBvZiB0aGF0IGRvY3VtZW50IHRvIHRoZSBjcmF3bGVyLA0Kb3RoZXJ3
aXNlIEkgZG9uJ3Qgc2VlIGhvdyB5b3UgY2FuIGZpZ3VyZSBvdXQgdGhlIGV4aXN0ZW5jZSBvZiB0
aGF0DQpkb2N1bWVudC4pLg0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLSBJwrJSIERpc2NsYWltZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tDQpUaGlzIGVtYWlsIGlzIGNvbmZpZGVudGlhbCBhbmQgbWF5IGJlIHByaXZpbGVnZWQu
ICBJZiB5b3UgYXJlIG5vdCB0aGUgaW50ZW5kZWQgcmVjaXBpZW50LCBwbGVhc2UgZGVsZXRlIGl0
IGFuZCBub3RpZnkgdXMgaW1tZWRpYXRlbHkuIFBsZWFzZSBkbyBub3QgY29weSBvciB1c2UgaXQg
Zm9yIGFueSBwdXJwb3NlLCBvciBkaXNjbG9zZSBpdHMgY29udGVudHMgdG8gYW55IG90aGVyIHBl
cnNvbi4gVGhhbmsgeW91Lg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQ0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVu
c3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KDQo=


From java-user-return-19878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 10:21:07 2006
Return-Path: <java-user-return-19878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74163 invoked from network); 29 Mar 2006 10:21:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 10:21:07 -0000
Received: (qmail 16014 invoked by uid 500); 29 Mar 2006 10:21:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15988 invoked by uid 500); 29 Mar 2006 10:21:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15977 invoked by uid 99); 29 Mar 2006 10:21:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:21:01 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.122.139.27] (HELO rodin.i2r.a-star.edu.sg) (192.122.139.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:21:00 -0800
Received: from rodin.i2r.a-star.edu.sg (localhost [127.0.0.1])
	by rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2TAKUq9010540
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 18:20:30 +0800 (SGT)
Received: from newmailhost.i2r.a-star.edu.sg ([192.122.134.76])by 
	rodin.i2r.a-star.edu.sg (8.13.1/8.13.1) with ESMTP id k2TAKT6d010533for 
	<java-user@lucene.apache.org>; Wed, 29 Mar 2006 18:20:29 +0800 (SGT)
Received: from icsdtemp (elephants.i2r.a-star.edu.sg [192.168.136.116])by 
	mailhost.lit.org.sg(Sun Java System Messaging Server 6.1 HotFix 0.06 (built
	 Nov 11 2004))with ESMTP id <0IWV006IGWQ91EB0@mailhost.lit.org.sg> 
	forjava-user@lucene.apache.org; Wed, 29 Mar 2006 18:20:33 +0800 (SGT)
Date: Wed, 29 Mar 2006 18:23:34 +0800
From: Aditya Liviandi <adityal@i2r.a-star.edu.sg>
Subject: RE: Hi Experts
In-reply-to: <DC47ED83883E7C4B94AC2A67C1DA53C50245E2FA@BANMLVEM01.e2k.ad.ge.
	com>
To: java-user@lucene.apache.org
Message-id: <002a01c6531a$d602ca40$7488a8c0@icsdtemp>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Outlook, Build 10.0.4024
Content-type: text/plain;
	charset=utf-8
Content-transfer-encoding: quoted-printable
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:55.53881 C:2 M:6 S:5 R:5
X-imss-settings: Baseline:5 C:4 M:4 S:4 R:4 (1.5000 1.5000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well you'll have to index the internet.
Then when you've done that then you can try going against google.
Oh, and you'll have to update that index every now and then to keep your
index of the internet updated.

Good luck.


--------------------------------------------------- I=C2=B2R Disclaimer=
 ------------------------------
This email is confidential and may be privileged.  If you are not the=
 intended recipient, please delete it and notify us immediately. Please do=
 not copy or use it for any purpose, or disclose its contents to any other=
 person. Thank you.
---------------------------------------------------------------------------=
----------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 10:22:30 2006
Return-Path: <java-user-return-19879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74804 invoked from network); 29 Mar 2006 10:22:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 10:22:30 -0000
Received: (qmail 19481 invoked by uid 500); 29 Mar 2006 10:22:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19117 invoked by uid 500); 29 Mar 2006 10:22:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19106 invoked by uid 99); 29 Mar 2006 10:22:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:22:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:22:23 -0800
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id BFBC5114450
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 13:21:57 +0300 (EEST)
Message-ID: <442A5FC5.8050402@i-hypergrid.com>
Date: Wed, 29 Mar 2006 13:21:57 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Paging results
References: <442A5CF1.8050105@exis.com.gr>
In-Reply-To: <442A5CF1.8050105@exis.com.gr>
Content-Type: multipart/alternative;
 boundary="------------050902060806030804040107"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------050902060806030804040107
Content-Type: text/plain; charset=ISO-8859-7; format=flowed
Content-Transfer-Encoding: 7bit

Hi

Marios Skounakis wrote:
>  Hi all,
>
> I have the following issue (I am giving a quantified example so we can 
> talk more concretely)
>
> My documents have an docId field, stored as a keyword field.
>
> I am executing searches that return between 2000 and 10000 documents 
> and sorting the results by relevance (or sometimes alphabetically).
>
> In every query, I need to discard some of the results based on their 
> docId. I have a list of the docIds that need to be discarded in an 
> array. The size of the list is usually about 100.
>
> I generally perform paging, so I don't need to display all the 
> results, but only those of the current page (e.g. results 100 to 120)
>
> Currently, after getting the Hits object from the Searcher, I loop 
> over the documents, retrieve their docId, and see if it is in the 
> discard list. If not, I put the document in a validResult collection. 
> When I have read enough valid results to be able to show the current 
> page, I stop. E.g., in the above example, I would read until I had 120 
> valid results.
>
> The problem with this implementation is that I have to read the docId 
> for the results that precede the current page, in order to determine 
> if they are in the invalid list. So, when showing the pages near the 
> last page, I have to read the entire result list. I don't like this 
> because this means that the computation required to display a page is 
> not constant but depends on the page's position. Anyway, what do the 
> experts think? Is this implementation prohibitively expensive?
>
> (As a sidenote, when calling hits.doc(i), does Lucene retrieve the 
> whole document, or just a pointer to it, and retrieves the data when 
> doing hits.doc(i).getField...?)
Yes, Lucene does retrieve the whole document on this call.
>
> An alternative would be to extend the query to exclude the ids in the 
> discard list. How would adding 100 exclusion clauses to the query 
> impact the query's performance? Are there any studies on search speed 
> in relation to the number of query clauses?
It's preferred way of doing such things. Adding 100 exclusion clauses 
into query will much less expensive than retrieving documents and 
checking their field.
>
> Is there another way to do handle this issue?
>
> Many thanks in advance,
> Marios Skounakis
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

-- 
regards,
Volodymyr Bychkoviak


--------------050902060806030804040107--

From java-user-return-19880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 10:32:58 2006
Return-Path: <java-user-return-19880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83688 invoked from network); 29 Mar 2006 10:32:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 10:32:57 -0000
Received: (qmail 34448 invoked by uid 500); 29 Mar 2006 10:32:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34422 invoked by uid 500); 29 Mar 2006 10:32:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34411 invoked by uid 99); 29 Mar 2006 10:32:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:32:51 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:32:50 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FOXyS-00032E-Iz
	for java-user@lucene.apache.org; Wed, 29 Mar 2006 02:32:27 -0800
Message-ID: <3647535.post@talk.nabble.com>
Date: Wed, 29 Mar 2006 02:32:24 -0800 (PST)
From: pksunilpk <pksunilpk@gmail.com>
To: java-user@lucene.apache.org
Subject: Parallel MultiSearcher
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: pksunilpk@gmail.com
X-Nabble-From: pksunilpk <pksunilpk@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


What I have understood from Lucene Remote Parallel Multi Searcher Search
Procedure is first compute the weight for the Query in each Index
sequentially (one by one, eg: - calculate "query weight" of index1 first and
then index2) and then perform searching of each index one by one and merge
the results.
 
I want to know is there any possibility or method to merge the weight
calculation of index 1 and its search in a single RPC instead of doing the
both function in separate steps.

Another query I have to clear is In RemoteParallelMultiSearcher the method
"docFreq (Term term)" is not parallelized, why it is not
parallelized, and please specify any reason for that.

Thanks,
Sunil
--
View this message in context: http://www.nabble.com/Parallel-MultiSearcher-t1361382.html#a3647535
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 10:51:52 2006
Return-Path: <java-user-return-19881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91094 invoked from network); 29 Mar 2006 10:51:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 10:51:52 -0000
Received: (qmail 53941 invoked by uid 500); 29 Mar 2006 10:51:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53906 invoked by uid 500); 29 Mar 2006 10:51:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53895 invoked by uid 99); 29 Mar 2006 10:51:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:51:47 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 02:51:45 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FOYGp-00047j-BZ
	for java-user@lucene.apache.org; Wed, 29 Mar 2006 02:51:23 -0800
Message-ID: <3647737.post@talk.nabble.com>
Date: Wed, 29 Mar 2006 02:50:25 -0800 (PST)
From: pc123 <pranab@myway.com>
To: java-user@lucene.apache.org
Subject: Lucene 1.9.1 - How to determine from which machine the hit comes?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: pranab@myway.com
X-Nabble-From: pc123 <pranab@myway.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I am searching over multiple indices in multiple machines using
RemoteSearchable. Thus I get hits from various indices residing in different
machines. My Client and server program is similar to one given in Lucene in
Action book (Searching multiple indexes remotely).
Is it possible to determine from which machine the hit comes? 

The solution I found is to store the machine name as a part of field name
but this will lead to excessive code changes every time an index is move to
another machine .I would like to find another solution. 

Thank you for having read this!

--
View this message in context: http://www.nabble.com/Lucene-1.9.1---How-to-determine-from-which-machine-the-hit-comes--t1361447.html#a3647737
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 12:09:18 2006
Return-Path: <java-user-return-19882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34427 invoked from network); 29 Mar 2006 12:09:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 12:09:18 -0000
Received: (qmail 64427 invoked by uid 500); 29 Mar 2006 12:09:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64213 invoked by uid 500); 29 Mar 2006 12:09:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64202 invoked by uid 99); 29 Mar 2006 12:09:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 04:09:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 04:09:11 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 49EAB33D2C4; Wed, 29 Mar 2006 07:08:50 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 0A44733D1D8
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 07:08:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <442A5CF1.8050105@exis.com.gr>
References: <442A5CF1.8050105@exis.com.gr>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <AE2F69E9-5271-40E8-A5BE-C09575F4A198@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Paging results
Date: Wed, 29 Mar 2006 07:08:39 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 29, 2006, at 5:09 AM, Marios Skounakis wrote:
> I am executing searches that return between 2000 and 10000  
> documents and sorting the results by relevance (or sometimes  
> alphabetically).
>
> In every query, I need to discard some of the results based on  
> their docId. I have a list of the docIds that need to be discarded  
> in an array. The size of the list is usually about 100.
>
> I generally perform paging, so I don't need to display all the  
> results, but only those of the current page (e.g. results 100 to 120)
>
> Currently, after getting the Hits object from the Searcher, I loop  
> over the documents, retrieve their docId, and see if it is in the  
> discard list. If not, I put the document in a validResult  
> collection. When I have read enough valid results to be able to  
> show the current page, I stop. E.g., in the above example, I would  
> read until I had 120 valid results.
>
> The problem with this implementation is that I have to read the  
> docId for the results that precede the current page, in order to  
> determine if they are in the invalid list. So, when showing the  
> pages near the last page, I have to read the entire result list. I  
> don't like this because this means that the computation required to  
> display a page is not constant but depends on the page's position.  
> Anyway, what do the experts think? Is this implementation  
> prohibitively expensive?

Yes, that implementation is going to be prohibitively expensive.  The  
recommended way to employ a search constraint as you described is to  
use a Filter.  You could write a custom Filter that would use your  
discarded docId array, and turn off those documents from the BitSet,  
and turn on all the rest.  Then you will use the search(Query,  
Filter) method signature for searching.

> (As a sidenote, when calling hits.doc(i), does Lucene retrieve the  
> whole document, or just a pointer to it, and retrieves the data  
> when doing hits.doc(i).getField...?)

It retrieves the whole document currently.

> An alternative would be to extend the query to exclude the ids in  
> the discard list. How would adding 100 exclusion clauses to the  
> query impact the query's performance? Are there any studies on  
> search speed in relation to the number of query clauses?

Adding them to the query would certainly work but a Filter is a  
cleaner and faster way for your scenario.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 12:13:52 2006
Return-Path: <java-user-return-19883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37832 invoked from network); 29 Mar 2006 12:13:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 12:13:51 -0000
Received: (qmail 69338 invoked by uid 500); 29 Mar 2006 12:13:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69315 invoked by uid 500); 29 Mar 2006 12:13:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69303 invoked by uid 99); 29 Mar 2006 12:13:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 04:13:45 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 04:13:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0EEE533D2C4; Wed, 29 Mar 2006 07:13:24 -0500 (EST)
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 5306E33D1D8
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 07:13:22 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <442A13D3.7080500@aol.com>
References: <442A13D3.7080500@aol.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D0E5D0C4-C812-47DD-9C33-5A8071D3EDC4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Data structure of a Lucene Index
Date: Wed, 29 Mar 2006 07:13:19 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 28, 2006, at 11:57 PM, Prasenjit Mukherjee wrote:

> It seems to me that lucene doesn't use B-tree for its indexing  
> storage. Any paper/article which explains the theory behind data- 
> structure of  single index(segment).  I am not referring to the  
> merge algorithm, I am curious to know the storage structure of a  
> single optimized lucene index.
>
> Any pointer is greatly appreciated.

How about this for starters?

	http://lucene.apache.org/java/docs/fileformats.html



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 13:48:11 2006
Return-Path: <java-user-return-19884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93127 invoked from network); 29 Mar 2006 13:48:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 13:48:10 -0000
Received: (qmail 21271 invoked by uid 500); 29 Mar 2006 13:48:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21172 invoked by uid 500); 29 Mar 2006 13:48:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21160 invoked by uid 99); 29 Mar 2006 13:48:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 05:48:03 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddanddan@gmail.com designates 66.249.82.199 as permitted sender)
Received: from [66.249.82.199] (HELO xproxy.gmail.com) (66.249.82.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 05:48:02 -0800
Received: by xproxy.gmail.com with SMTP id i26so124540wxd
        for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 05:47:42 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=HWQlAfs4AZiAeuZoFB92Isj1w/OMsU/IE8Gq4iNHYDyFmMCnXOjTqow6oJKs2yCBu/t8Z+BFD9zbad01JlzmwapZFi/6ykMEqFhMRtmD9TqGjyR/GaR99TXuu8GIkySbmeHuFtO8xOpUInKVH8Bi3iN/X2N3dAw1jIWkAwdOod8=
Received: by 10.70.16.20 with SMTP id 20mr323964wxp;
        Wed, 29 Mar 2006 05:47:42 -0800 (PST)
Received: by 10.70.84.20 with HTTP; Wed, 29 Mar 2006 05:47:41 -0800 (PST)
Message-ID: <6380384b0603290547g70e5a704ye3c681b9456f98e8@mail.gmail.com>
Date: Wed, 29 Mar 2006 22:47:42 +0900
From: "chan kang" <ddanddan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Does Optimize preserve index order?
In-Reply-To: <c68e39170603270917o1a0f6990t5e51e727af21fd16@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1004_6831905.1143640062003"
References: <6380384b0603242053v177f14a0m@mail.gmail.com>
	 <c68e39170603270917o1a0f6990t5e51e727af21fd16@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1004_6831905.1143640062003
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thank you~
The sorting doesn't seem to take that long (not as long as I expected),
but unfortunately didn't get to measure it this time... Maybe next time I'l
try measuring..

Now I've got another problem..
My final goal is to keep the index sorted reverse-chronologically,
so that, when searching, the relevant documents are shown in the
reverse-chronological order(the most recent document at the top) even
without sorting.
Although presorting the index in chronological order is easy (just
addDocument() for
each new incoming document, and optimize), the reverse seems to be
difficult.
The way I'm handling it now is to

> 1. index without ordering.

 2. sort the index reverse-chronologically
> 3. re-index and optimize.
> 4. when a new document comes in, do steps 1-3 again..
>

Steps 1-3 is not that different from sorting in chronological order, but
when it comes to step4, the process becomes very much redundant.
I mean, for example if I wanted to show every search results in a sorted
way, so that
the most recent document comes to the top, I would have to go through steps
1-3
every time when a new document is added(by crawling the web or whatever..).

So, i thought, if the following was possible, it would be much easier...
1. create a new index for incoming documents
2. sort it reverse-chronologically -> index_new
3. use addIndexes() and do "index_new.addIndexes(old_index)"
4. optimize

That way, the new index is sorted, and the old index(which is much much
larger than
incoming ones) is also sorted, and two sorted indexes can be merged to make
a final
sorted version, and this means not re-indexing the whole set of documents i=
n
the original index.
However, I'm not sure whether the addIndexes() also preserves order.
Is it?

Also, is there a better way to do this?

Thanks in advance.

-Chan

2006/3/28, Yonik Seeley <yseeley@gmail.com>:
>
> On 3/24/06, chan kang <ddanddan@gmail.com> wrote:
> > What I want to do is to show the results in
> > chronological order. (btw, the index contains the time field)
> > One solution I have thought up was:
> > 1. index the whole set
> > 2. read in all the time field values
> > 3. re-index the whole set according to time
> >    (heard that the index order is same as insertion order)
> > 4. optimize.
> >
> >
> > However, although I think the step 3 would result
> > in a sorted index, isn't there a possibility that
> > step 4 might ruin all the sortedness?
> > - Wouldn't optimizing break the order in which they
> >   are indexed?
>
> Index order is retained, so your plan should work fine.
>
> How long is sorting actually taking?  FYI, the first time you sort on
> a field will take much longer because a fieldcache entry must be
> populated.
>
> -Yonik
> http://incubator.apache.org/solr Solr, The Open Source Lucene Search
> Server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1004_6831905.1143640062003--

From java-user-return-19885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 14:49:36 2006
Return-Path: <java-user-return-19885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37988 invoked from network); 29 Mar 2006 14:49:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 14:49:35 -0000
Received: (qmail 40209 invoked by uid 500); 29 Mar 2006 14:49:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40184 invoked by uid 500); 29 Mar 2006 14:49:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40172 invoked by uid 99); 29 Mar 2006 14:49:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 06:49:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 06:49:29 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C566A33D2C1; Wed, 29 Mar 2006 09:49:08 -0500 (EST)
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id D2C0C33D10D
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 09:49:07 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <3647737.post@talk.nabble.com>
References: <3647737.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <ACBE3413-1442-447C-B907-EB4276C243FD@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene 1.9.1 - How to determine from which machine the hit comes?
Date: Wed, 29 Mar 2006 09:49:02 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 29, 2006, at 5:50 AM, pc123 wrote:
> I am searching over multiple indices in multiple machines using
> RemoteSearchable. Thus I get hits from various indices residing in  
> different
> machines. My Client and server program is similar to one given in  
> Lucene in
> Action book (Searching multiple indexes remotely).
> Is it possible to determine from which machine the hit comes?
>
> The solution I found is to store the machine name as a part of  
> field name
> but this will lead to excessive code changes every time an index is  
> move to
> another machine .I would like to find another solution.
>
> Thank you for having read this!

So you have a single RemoteSearchable on the client?  Or are you  
using multiple RemoteSearchables behind a MultiSearcher?

With a MultiSearcher you can find out which searcher a hit comes  
from, but I don't believe you can find that out with a single  
RemoteSearchable hitting a search server that in turn is doing the  
MultiSearcher.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 15:20:32 2006
Return-Path: <java-user-return-19886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58417 invoked from network); 29 Mar 2006 15:20:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 15:20:30 -0000
Received: (qmail 14094 invoked by uid 500); 29 Mar 2006 15:20:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13979 invoked by uid 500); 29 Mar 2006 15:20:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13942 invoked by uid 99); 29 Mar 2006 15:20:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 07:20:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of MadhuV01@unisourcelink.com designates 12.129.97.235 as permitted sender)
Received: from [12.129.97.235] (HELO uwmosmtp3.uninet.unisourcelink.net) (12.129.97.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 07:20:11 -0800
Received: from UWMATLIMC02.uninet.unisourcelink.net ([170.204.13.186]) by uwmosmtp3.uninet.unisourcelink.net with InterScan Messaging Security Suite; Wed, 29 Mar 2006 10:19:44 -0500
Received: from uwmatlgpc01.uninet.unisourcelink.net ([170.204.13.154]) by UWMATLIMC02.uninet.unisourcelink.net with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 29 Mar 2006 10:19:44 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C65344.357A4557"
Subject: Boosting a token in the query
Date: Wed, 29 Mar 2006 10:19:44 -0500
Message-ID: <09117A73E538B34A9483D157C4690D440F1C2F9C@uwmatlgpc01.uninet.unisourcelink.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Boosting a token in the query
Thread-Index: AcZTRDUcwaAb5ZQ0RkibVWhri83EJg==
From: "Madhusudan, Veda \(Norcross, DAV\)" <MadhuV01@UnisourceLink.Com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 29 Mar 2006 15:19:44.0700 (UTC) FILETIME=[357E77C0:01C65344]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C65344.357A4557
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Is there a way to boost a token while querying? Example, in the
following query +(DESC:sheets DESC:sheet), can the token 'sheets' be
boosted and given higher precedence over 'sheet' so the results matching
'sheets ' appear before those for 'sheet'? I am using lucene 1.2. I
tried using the boost factor for 'sheets' so the query would read:
+(DESC:sheets^2.0 DESC:sheet), but that did not help.

=20

I have read overriding getFieldQuery of QueryParser would help boost
terms/tokens, but this is not available in lucene 1.2. Nor is the
IndexSearcher's explain method.=20

=20

Any ideas on how this can be accomplished?

=20

Thanks.

=20


------_=_NextPart_001_01C65344.357A4557--

From java-user-return-19887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 15:42:26 2006
Return-Path: <java-user-return-19887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72321 invoked from network); 29 Mar 2006 15:42:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 15:42:25 -0000
Received: (qmail 56890 invoked by uid 500); 29 Mar 2006 15:42:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56866 invoked by uid 500); 29 Mar 2006 15:42:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56855 invoked by uid 99); 29 Mar 2006 15:42:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 07:42:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mtaout03-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 07:42:18 -0800
Received: from aamtaout03-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout03-winn.ispmail.ntl.com with ESMTP
          id <20060329154155.QQYW27969.mtaout03-winn.ispmail.ntl.com@aamtaout03-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Wed, 29 Mar 2006 16:41:55 +0100
Received: from jhi ([81.98.13.34]) by aamtaout03-winn.ispmail.ntl.com
          with SMTP
          id <20060329154155.MJEF16286.aamtaout03-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Wed, 29 Mar 2006 16:41:55 +0100
Message-ID: <004f01c65347$58828510$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <DC47ED83883E7C4B94AC2A67C1DA53C50245E2FA@BANMLVEM01.e2k.ad.ge.com>
Subject: Re: Hi Experts
Date: Wed, 29 Mar 2006 16:41:56 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="UTF-8";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2670
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
    Lucene is a component that indexes data and allows you to search that 
indexed data, you need to be able to program in Java(various ports for other 
languages are available) or find a crawler you can adapt  to download the 
required data of the internet (still requires basic knowledge of Java), from 
what I can tell you are wanting (i.e. a tool that downloads files and 
indexes it and allowing you to search it), you should use Nutch, it is a 
Application unlike Lucene which is a software component that interfaces with 
the programmers code to provide a search facility of some sort for their 
application.

_gk

----- Original Message ----- 
From: "Babu, KameshNarayana (GE, Research, consultant)" 
<kameshnarayana.babu@ge.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, March 29, 2006 11:14 AM
Subject: RE: Hi Experts


> Thanks Aditya,
> Lucene is used only to search in the local machine right? How can lucene 
> search on the internet?
> Do we have any tools which can index on the internet self and displays the 
> results. I know this is very silly.
>
> -----Original Message-----
> From: Aditya Liviandi [mailto:adityal@i2r.a-star.edu.sg]
> Sent: Wednesday, March 29, 2006 11:34 AM
> To: java-user@lucene.apache.org
> Subject: RE: Hi Experts
>
>
> The way lucene works is you need to have the index first.
> Only then you can search it.
>
> So if you want to search within a given URL, you need to somehow create
> the index of all the webpages within that URL. If the webserver linked
> to that URL is also yours, then that would not be a big deal.
>
>
> But if it is an external URL, then you would need to have a crawler
> (which basically collects all the linked documents in the URL). However
> you will not be able to get all the documents in the URL (those that are
> not linked by any other document, will not be reached by the crawler,
> unless you manually supply the URL of that document to the crawler,
> otherwise I don't see how you can figure out the existence of that
> document.).
>
>
> --------------------------------------------------- IR 
> Disclaimer ------------------------------
> This email is confidential and may be privileged.  If you are not the 
> intended recipient, please delete it and notify us immediately. Please do 
> not copy or use it for any purpose, or disclose its contents to any other 
> person. Thank you.
> -------------------------------------------------------------------------------------------------
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 16:05:55 2006
Return-Path: <java-user-return-19888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84255 invoked from network); 29 Mar 2006 16:05:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 16:05:52 -0000
Received: (qmail 95145 invoked by uid 500); 29 Mar 2006 16:05:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95118 invoked by uid 500); 29 Mar 2006 16:05:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95107 invoked by uid 99); 29 Mar 2006 16:05:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 08:05:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 08:05:30 -0800
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id k2TG57v9028990
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 11:05:09 -0500 (EST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IWW00001COJDQ@lmco.com> for java-user@lucene.apache.org; Wed, 29 Mar 2006 11:05:07 -0500 (EST)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IWW0072TCOJ7W@lmco.com> for java-user@lucene.apache.org; Wed, 29 Mar 2006 11:05:07 -0500 (EST)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 29 Mar 2006 11:05:07 -0500
Date: Wed, 29 Mar 2006 11:05:07 -0500
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: What is the largest index(s) size lucene can support
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3AEC@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Thread-topic: What is the largest index(s) size lucene can support
Thread-index: AcZSl+mhWpGfN0DSTlaxKxoXnXaxXwAsgIsg
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 29 Mar 2006 16:05:07.0448 (UTC) FILETIME=[8C60D780:01C6534A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I know Lucene can have multiple indexes and have a parallel search
across indexes. The question I have is what is the largest number of
documents Lucene can support with multiple distributed indexes.

Or if to be more specific, can Lucene support BILLIONS of documents
(across multiple indexes), and search all of them at once using the
Parallel searcher?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 16:19:11 2006
Return-Path: <java-user-return-19889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89704 invoked from network); 29 Mar 2006 16:19:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 16:19:11 -0000
Received: (qmail 17913 invoked by uid 500); 29 Mar 2006 16:19:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17892 invoked by uid 500); 29 Mar 2006 16:19:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17881 invoked by uid 99); 29 Mar 2006 16:19:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 08:19:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.150.114.242] (HELO offstump-one.offstump.com) (217.150.114.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 08:19:04 -0800
Content-class: urn:content-classes:message
Subject: Should I reindex with remove then add or can I add then remove?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 29 Mar 2006 17:18:45 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Message-ID: <2B7778F38CCF914EBD0E423ABA7B297E3292AE@offstump-one.offstump.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Should I reindex with remove then add or can I add then remove?
Thread-Index: AcZTTHP2Xt6G0Qz+TxW7LHRJBsnLEA==
From: "Sindri Traustason" <sindrit@vyre.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I have a question about how I should go about reindexing an existing
record in an index.

Currently my method that reindexes items is like this:

	public void updateInIndex( Item item ) throws IOException{
		Document doc =3D ItemDocumentFactory.createDocument(item);
		// Remove the document from search index
		Term term =3D new Term(ItemDocumentFactory.ITEM,
item.getId());
		getIndexReader();
		indexReader.delete(term);
		// Remove the document from search index
		getIndexWriter();
		indexWriter.addDocument(doc);
	}

getIndexReader closes the field variable indexWriter and opens
indexReader and vice versa for get Index writer.  The problem with this
is that it leaves the index in a state where the given item is not in
the index (this can be seconds for large items).

The suggested solution is like this:

	public void updateInIndex( Item item ) throws IOException{
		Document doc =3D ItemDocumentFactory.createDocument(item);
		Term term =3D new Term(ItemDocumentFactory.ITEM,
item.getId());
		getIndexReader();
		// Find the old document
		TermDocs termDocs =3D indexReader.termDocs(term);
		int docNum =3D -1;
		if(termDocs.next()){
			docNum =3D termDocs.doc();
		}
		getIndexWriter();
		indexWriter.addDocument(doc);
		getIndexReader();
		// Remove the document from search index
		if(docNum!=3D-1){
			indexReader.delete(docNum);
		}
	}

But what is frightening me here is the sentence "Clients should thus not
rely on a given document having the same number between sessions." in
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexRead
er.html

My index is only accessed from this class and this class is private to a
singleton thread that queues up index tasks (add, remove, update,
optimize). =20

So the question is: Since I can guarantee nothing else is updating the
index can the second index reader be considered to be the same session
and therefore the docNum for the old document still valid?

I have done considerable tests on this and this seems to always work as
intended.

Cheers! And thanks in advance.

Sindri Traustason
Senior Software Engineer
VYRE
http://www.vyre.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 16:37:38 2006
Return-Path: <java-user-return-19890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99972 invoked from network); 29 Mar 2006 16:37:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 16:37:38 -0000
Received: (qmail 51538 invoked by uid 500); 29 Mar 2006 16:37:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51507 invoked by uid 500); 29 Mar 2006 16:37:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51496 invoked by uid 99); 29 Mar 2006 16:37:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 08:37:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [74.0.0.77] (HELO linuxfly.dragonflymc.com) (74.0.0.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 08:37:32 -0800
Received: from bigfly (unknown [63.133.162.98])
	by linuxfly.dragonflymc.com (Postfix) with ESMTP id DE776C2006B
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 10:37:20 -0600 (CST)
From: "Dennis Kubes" <nutch-dev@dragonflymc.com>
To: <java-user@lucene.apache.org>
Subject: Date Field Indexing
Date: Wed, 29 Mar 2006 10:37:03 -0600
Message-ID: <000c01c6534f$0590df20$fe01a8c0@bigfly>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000D_01C6531C.BAF8E020"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZTTwIvK8pTY67ETue+WZ0R/u9EBA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000D_01C6531C.BAF8E020
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Looking at the Lucene In Action book it shows indexing Date fields with
something like this:

 

Field.Keyword("datefield", new Date());

 

I know that the APIs have changed for Field and I see that there are no
longer date constructors. So just confirming that we should use the
DateTools class and store dates as text to index?

 

Dennis 


------=_NextPart_000_000D_01C6531C.BAF8E020--


From java-user-return-19891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 17:57:05 2006
Return-Path: <java-user-return-19891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45663 invoked from network); 29 Mar 2006 17:57:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 17:57:04 -0000
Received: (qmail 11770 invoked by uid 500); 29 Mar 2006 17:56:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11749 invoked by uid 500); 29 Mar 2006 17:56:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11738 invoked by uid 99); 29 Mar 2006 17:56:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 09:56:58 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 09:56:58 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2BE2A33D2D7; Wed, 29 Mar 2006 12:56:37 -0500 (EST)
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id F34A733CFDC
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 12:56:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <000c01c6534f$0590df20$fe01a8c0@bigfly>
References: <000c01c6534f$0590df20$fe01a8c0@bigfly>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E27E7F46-B8B6-4E89-A4D5-2FCE2E5BB31B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date Field Indexing
Date: Wed, 29 Mar 2006 12:56:26 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Mar 29, 2006, at 11:37 AM, Dennis Kubes wrote:
> Looking at the Lucene In Action book it shows indexing Date fields  
> with
> something like this:
>
>
>
> Field.Keyword("datefield", new Date());
>
>
>
> I know that the APIs have changed for Field and I see that there  
> are no
> longer date constructors. So just confirming that we should use the
> DateTools class and store dates as text to index?

That is correct.

I've upgraded the "Lucene in Action" codebase (locally, will release  
it when Lucene 2.0 ships) for the Lucene 2.0 API and here's what I  
did in the IndexBuilder class that used to use Field(String,Date):

       String now = DateTools.dateToString(timestamp.getTime(),  
DateTools.Resolution.MILLISECOND);
       document.add(new Field("last-modified", now, Field.Store.YES,  
Field.Index.UN_TOKENIZED));

Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 18:41:42 2006
Return-Path: <java-user-return-19892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70239 invoked from network); 29 Mar 2006 18:41:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 18:41:42 -0000
Received: (qmail 81578 invoked by uid 500); 29 Mar 2006 18:41:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81555 invoked by uid 500); 29 Mar 2006 18:41:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81543 invoked by uid 99); 29 Mar 2006 18:41:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 10:41:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 10:41:35 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2912333D308; Wed, 29 Mar 2006 13:41:15 -0500 (EST)
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 1EBD433D2C4
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 13:41:11 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <09117A73E538B34A9483D157C4690D440F1C2F9C@uwmatlgpc01.uninet.unisourcelink.net>
References: <09117A73E538B34A9483D157C4690D440F1C2F9C@uwmatlgpc01.uninet.unisourcelink.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3EFB7163-7712-48D3-8172-6CC102DD1974@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Boosting a token in the query
Date: Wed, 29 Mar 2006 13:41:04 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Unfortunately I'm not sure what boosting capabilities were available  
in 1.2, but that syntax is correct for the 1.4+ at least.

And I'm sure the Explanation feature is not available in 1.2, but  
with more recent versions of Lucene you'd be able to see the effect  
of the boosts on the score.

Does Query have a setBoost() in 1.2?   If so, maybe the parser didn't  
support boosts at that time?   Sorry I'm not of more help.

	Erik


On Mar 29, 2006, at 10:19 AM, Madhusudan, Veda (Norcross, DAV) wrote:

> Is there a way to boost a token while querying? Example, in the
> following query +(DESC:sheets DESC:sheet), can the token 'sheets' be
> boosted and given higher precedence over 'sheet' so the results  
> matching
> 'sheets ' appear before those for 'sheet'? I am using lucene 1.2. I
> tried using the boost factor for 'sheets' so the query would read:
> +(DESC:sheets^2.0 DESC:sheet), but that did not help.
>
>
>
> I have read overriding getFieldQuery of QueryParser would help boost
> terms/tokens, but this is not available in lucene 1.2. Nor is the
> IndexSearcher's explain method.
>
>
>
> Any ideas on how this can be accomplished?
>
>
>
> Thanks.
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 29 19:03:28 2006
Return-Path: <java-user-return-19893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85176 invoked from network); 29 Mar 2006 19:03:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Mar 2006 19:03:27 -0000
Received: (qmail 35315 invoked by uid 500); 29 Mar 2006 19:03:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35282 invoked by uid 500); 29 Mar 2006 19:03:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35258 invoked by uid 99); 29 Mar 2006 19:03:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 11:03:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.34] (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 11:03:21 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.13.6/8.13.6) with ESMTP id k2TJ2xRZ030103
	for <java-user@lucene.apache.org>; Wed, 29 Mar 2006 21:02:59 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: BooleanQuery containing SpanNearQuery throws ArrayOutOfBoundsException .
Date: Wed, 29 Mar 2006 21:02:56 +0200
User-Agent: KMail/1.8.2
References: <200603291002.k2TA2a3O074892@pigeon.ciao.com>
In-Reply-To: <200603291002.k2TA2a3O074892@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200603292102.58337.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jelda,

I have just added a patch for DisjunctionSumScorer.java here:
https://issues.apache.org/jira/browse/LUCENE-413 issue.

Could you try that patch and report the results at the jira issue?

In case you need help using the patch could you move the
discussion to the java-dev list?

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 04:43:44 2006
Return-Path: <java-user-return-19894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66373 invoked from network); 30 Mar 2006 04:43:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 04:43:44 -0000
Received: (qmail 76900 invoked by uid 500); 30 Mar 2006 04:43:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76876 invoked by uid 500); 30 Mar 2006 04:43:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76865 invoked by uid 99); 30 Mar 2006 04:43:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 20:43:38 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_FAKE_HELO_DOTCOM,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of prasenjitm@aol.com designates 152.163.225.130 as permitted sender)
Received: from [152.163.225.130] (HELO omr-r02.mail.aol.com) (152.163.225.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 20:43:37 -0800
Received: from aol.com (10.146.145.194)
  by omr-r02.mail.aol.com with ESMTP; 29 Mar 2006 23:43:16 -0500
Message-ID: <442B61DF.6090005@aol.com>
Date: Thu, 30 Mar 2006 10:13:11 +0530
From: Prasenjit Mukherjee <prasenjitm@aol.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Data structure of a Lucene Index
References: <442A13D3.7080500@aol.com> <D0E5D0C4-C812-47DD-9C33-5A8071D3EDC4@ehatchersolutions.com>
In-Reply-To: <D0E5D0C4-C812-47DD-9C33-5A8071D3EDC4@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have already gone through the fileformat. What I was looking for, is 
the underlying  theory behind the chosen fileformats. I am sure those 
fileformats were decided based on some theoritical axioms.

--prasen

erik@ehatchersolutions.com wrote:

>
> On Mar 28, 2006, at 11:57 PM, Prasenjit Mukherjee wrote:
>
>> It seems to me that lucene doesn't use B-tree for its indexing  
>> storage. Any paper/article which explains the theory behind data- 
>> structure of  single index(segment).  I am not referring to the  
>> merge algorithm, I am curious to know the storage structure of a  
>> single optimized lucene index.
>>
>> Any pointer is greatly appreciated.
>
>
> How about this for starters?
>
>    http://lucene.apache.org/java/docs/fileformats.html
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 05:40:54 2006
Return-Path: <java-user-return-19895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83903 invoked from network); 30 Mar 2006 05:40:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 05:40:54 -0000
Received: (qmail 17386 invoked by uid 500); 30 Mar 2006 05:40:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16886 invoked by uid 500); 30 Mar 2006 05:40:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16872 invoked by uid 99); 30 Mar 2006 05:40:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 21:40:47 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Mar 2006 21:40:46 -0800
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FOptS-0001e6-9O
	for java-user@lucene.apache.org; Wed, 29 Mar 2006 21:40:26 -0800
Message-ID: <3664384.post@talk.nabble.com>
Date: Wed, 29 Mar 2006 21:40:26 -0800 (PST)
From: pc123 <pranab@myway.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene 1.9.1 - How to determine from which machine the hit
 comes?
In-Reply-To: <ACBE3413-1442-447C-B907-EB4276C243FD@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: pranab@myway.com
X-Nabble-From: pc123 <pranab@myway.com>
References: <3647737.post@talk.nabble.com> <ACBE3413-1442-447C-B907-EB4276C243FD@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

Yes, the 2nd case, we have a MultiSearcher taking an array of Searchable
(each doing the lookup to different server machines) on the client side and
RemoteSearchable taking an instance of MultiSearcher on the server side. 
How to find out which searcher a hit comes from with a MultiSearcher?

Thanks . 
--
View this message in context: http://www.nabble.com/Lucene-1.9.1---How-to-determine-from-which-machine-the-hit-comes--t1361447.html#a3664384
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 09:06:23 2006
Return-Path: <java-user-return-19896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99416 invoked from network); 30 Mar 2006 09:06:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 09:06:22 -0000
Received: (qmail 18503 invoked by uid 500); 30 Mar 2006 09:06:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18301 invoked by uid 500); 30 Mar 2006 09:06:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18290 invoked by uid 99); 30 Mar 2006 09:06:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:06:15 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jprogramista@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO pproxy.gmail.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:06:15 -0800
Received: by pproxy.gmail.com with SMTP id d42so927242pyd
        for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 01:05:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=tOdwbBaL9bCE5FwjaSbiGs1Qwvl3vDNb1tY4pA/vQMgfoW54Kwgvqvtbz3r46rAou8xTF0BfiqNuJT6rkh3JPzJNO5ZYl7I9hilQ3PcwVEUxpduhdjdIEYZIKawJWjnPWjCkcHPHmo9tNb8ip8aQSqtrvxwfEdWoePLD4aGhJj0=
Received: by 10.35.14.1 with SMTP id r1mr227304pyi;
        Thu, 30 Mar 2006 01:05:54 -0800 (PST)
Received: by 10.35.18.11 with HTTP; Thu, 30 Mar 2006 01:05:54 -0800 (PST)
Message-ID: <af75a3a20603300105w27409b1dx815e7dabf6300b34@mail.gmail.com>
Date: Thu, 30 Mar 2006 11:05:54 +0200
From: "Java Programmer" <jprogramista@gmail.com>
To: java-user@lucene.apache.org
Subject: Return all distinct values
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
I created small Lucene's application which stores lot of my users
infomation, on of it is zipcode in numeric format eg. 50501, 63601 -
zip codes are stored in Text fields so they are fully searchable what
I want now to do is getting all unique zipcodes which was stored so
far. Something like SQL: select distinct zipcode from ...
Is it possible?

Best regards,
Adr

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 09:22:10 2006
Return-Path: <java-user-return-19897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6849 invoked from network); 30 Mar 2006 09:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 09:22:09 -0000
Received: (qmail 49459 invoked by uid 500); 30 Mar 2006 09:22:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49436 invoked by uid 500); 30 Mar 2006 09:22:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49425 invoked by uid 99); 30 Mar 2006 09:22:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:22:03 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:22:02 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k2U9Lc8R005499
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 11:21:38 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200603300921.k2U9Lc8R005499@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Return all distinct values
Date: Thu, 30 Mar 2006 11:21:33 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZT2TnWSUMzopAHR26jUwUpQFaqJQAAGxRw
In-Reply-To: <af75a3a20603300105w27409b1dx815e7dabf6300b34@mail.gmail.com>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
Actually lucene does not provide you a straight forward  Query to get UNIQUE
results.
But as far as I know, u can use HitsCollector & BitSet combination to
count/get unique results.

Regards,
Jelda

> -----Original Message-----
> From: Java Programmer [mailto:jprogramista@gmail.com] 
> Sent: Thursday, March 30, 2006 11:06 AM
> To: java-user@lucene.apache.org
> Subject: Return all distinct values
> 
> Hello,
> I created small Lucene's application which stores lot of my 
> users infomation, on of it is zipcode in numeric format eg. 
> 50501, 63601 - zip codes are stored in Text fields so they 
> are fully searchable what I want now to do is getting all 
> unique zipcodes which was stored so far. Something like SQL: 
> select distinct zipcode from ...
> Is it possible?
> 
> Best regards,
> Adr
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 09:35:06 2006
Return-Path: <java-user-return-19898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14230 invoked from network); 30 Mar 2006 09:35:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 09:35:05 -0000
Received: (qmail 74372 invoked by uid 500); 30 Mar 2006 09:35:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74349 invoked by uid 500); 30 Mar 2006 09:35:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74338 invoked by uid 99); 30 Mar 2006 09:34:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:34:59 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.216] (HELO web26005.mail.ukl.yahoo.com) (217.12.10.216)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 30 Mar 2006 01:34:59 -0800
Received: (qmail 32013 invoked by uid 60001); 30 Mar 2006 09:34:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=4GWlzPosGlbfmeNvHDJwNAHT8pbAZXPNOEEH4GMO/x/NbqhS2XLqh6L2GI9pJoAyfTouoBgt/oXOgBwMzAdy83fRNM5H3gd0lNE00gX7P366dq0kBqDeArUw/Zeos30LyV2vKDaZ4AGWKY7mNUAvH0noPhTNwxbFRtnwP6tUjOY=  ;
Message-ID: <20060330093437.32011.qmail@web26005.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26005.mail.ukl.yahoo.com via HTTP; Thu, 30 Mar 2006 10:34:37 BST
Date: Thu, 30 Mar 2006 10:34:37 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Return all distinct values
To: java-user@lucene.apache.org
In-Reply-To: <200603300921.k2U9Lc8R005499@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This example code gets the unique terms for a field
and a total num docs for each...

String fieldName="myfield";
valueCounts=new ArrayList();
TermEnum termEnum;
termEnum = indexReader.terms(new Term(fieldName,""));
Term term = termEnum.term();
while (term!=null)
{
	if (!fieldName.equals(term.field()))
	{
		break;
	}
	valueCounts.add(new ValueCount(term.text(),
termEnum.docFreq()));
	if(!termEnum.next())
	{
		break;
	}
	term=termEnum.term();			
}

class ValueCount implements Serializable
{
	String value;
	int docCount;
	public ValueCount(String value,int docCount)
	{
		this.value=value;
		this.docCount=docCount;
	}
}



	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 09:38:18 2006
Return-Path: <java-user-return-19899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15262 invoked from network); 30 Mar 2006 09:38:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 09:38:18 -0000
Received: (qmail 82055 invoked by uid 500); 30 Mar 2006 09:38:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81707 invoked by uid 500); 30 Mar 2006 09:38:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81696 invoked by uid 99); 30 Mar 2006 09:38:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:38:11 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:38:10 -0800
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id KAA27091
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 10:37:40 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma027088; Thu, 30 Mar 06 10:37:12 +0100
In-Reply-To: <200603300921.k2U9Lc8R005499@pigeon.ciao.com>
Subject: RE: Return all distinct values
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF7DCB3256.5D482F72-ON80257141.00340E02-80257141.0034D124@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Thu, 30 Mar 2006 10:37:22 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 30/03/2006 10:37:23
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






The IndexReader.terms() method gets a list of all the terms in an index.
You need to somehow limit this to the terms for your ZipCode field which I
don't know how to do. Luke has the ability to do this though so it is
certainly possible.

Regards

Paul I.


                                                                           
             "Ramana Jelda"                                                
             <ramana.jelda@cia                                             
             o-group.com>                                               To 
                                       <java-user@lucene.apache.org>       
             30/03/2006 10:21                                           cc 
                                                                           
                                                                   Subject 
             Please respond to         RE: Return all distinct values      
             java-user@lucene.                                             
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           




Hi,
Actually lucene does not provide you a straight forward  Query to get
UNIQUE
results.
But as far as I know, u can use HitsCollector & BitSet combination to
count/get unique results.

Regards,
Jelda

> -----Original Message-----
> From: Java Programmer [mailto:jprogramista@gmail.com]
> Sent: Thursday, March 30, 2006 11:06 AM
> To: java-user@lucene.apache.org
> Subject: Return all distinct values
>
> Hello,
> I created small Lucene's application which stores lot of my
> users infomation, on of it is zipcode in numeric format eg.
> 50501, 63601 - zip codes are stored in Text fields so they
> are fully searchable what I want now to do is getting all
> unique zipcodes which was stored so far. Something like SQL:
> select distinct zipcode from ...
> Is it possible?
>
> Best regards,
> Adr
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 09:41:20 2006
Return-Path: <java-user-return-19900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16866 invoked from network); 30 Mar 2006 09:41:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 09:41:20 -0000
Received: (qmail 88254 invoked by uid 500); 30 Mar 2006 09:41:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88222 invoked by uid 500); 30 Mar 2006 09:41:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88206 invoked by uid 99); 30 Mar 2006 09:41:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:41:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.20.168.25] (HELO uar.i-hypergrid.com) (217.20.168.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 01:41:12 -0800
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by uar.i-hypergrid.com (Postfix) with ESMTP id E52CDEAE52
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 12:40:48 +0300 (EEST)
Message-ID: <442BA7A0.4010809@i-hypergrid.com>
Date: Thu, 30 Mar 2006 12:40:48 +0300
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Return all distinct values
References: <20060330093437.32011.qmail@web26005.mail.ukl.yahoo.com>
In-Reply-To: <20060330093437.32011.qmail@web26005.mail.ukl.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------000509090505000105060808"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------000509090505000105060808
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

There is one little note. If index has deletions then counters could 
have wrong values...

mark harwood wrote:
> This example code gets the unique terms for a field
> and a total num docs for each...
>
> String fieldName="myfield";
> valueCounts=new ArrayList();
> TermEnum termEnum;
> termEnum = indexReader.terms(new Term(fieldName,""));
> Term term = termEnum.term();
> while (term!=null)
> {
> 	if (!fieldName.equals(term.field()))
> 	{
> 		break;
> 	}
> 	valueCounts.add(new ValueCount(term.text(),
> termEnum.docFreq()));
> 	if(!termEnum.next())
> 	{
> 		break;
> 	}
> 	term=termEnum.term();			
> }
>
> class ValueCount implements Serializable
> {
> 	String value;
> 	int docCount;
> 	public ValueCount(String value,int docCount)
> 	{
> 		this.value=value;
> 		this.docCount=docCount;
> 	}
> }
>
>
>
> 	
> 	
> 		
> ___________________________________________________________ 
> Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 
regards,
Volodymyr Bychkoviak


--------------000509090505000105060808--

From java-user-return-19901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 13:57:44 2006
Return-Path: <java-user-return-19901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58740 invoked from network); 30 Mar 2006 13:57:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 13:57:42 -0000
Received: (qmail 6508 invoked by uid 500); 30 Mar 2006 13:57:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6389 invoked by uid 500); 30 Mar 2006 13:57:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6350 invoked by uid 99); 30 Mar 2006 13:57:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 05:57:27 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.178.50] (HELO web33803.mail.mud.yahoo.com) (66.163.178.50)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 30 Mar 2006 05:57:26 -0800
Received: (qmail 8778 invoked by uid 60001); 30 Mar 2006 13:57:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=EE1M7SBz9JJQ60qVG173+cm+PkX7wai9KO/z3SCbzKR3Q091RlwEiK/efdzhbBzopFARUMujeyl/zMoXccpLxNRCnJqZjEP2Fe4n5uFzhjVYxrLJjHJUckRcqkmfUZbp6t/JVG6Dv8ZToNBbqiIAw98LtrmL0JNpysJdxSKpSiA=  ;
Message-ID: <20060330135705.8776.qmail@web33803.mail.mud.yahoo.com>
Received: from [59.95.167.82] by web33803.mail.mud.yahoo.com via HTTP; Thu, 30 Mar 2006 05:57:05 PST
Date: Thu, 30 Mar 2006 05:57:05 -0800 (PST)
From: depsi programmer <depsi_programmer@yahoo.com>
Subject: Compound Indexes Problem
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-487844148-1143727025=:6925"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-487844148-1143727025=:6925
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
  I am using lucene for storing details of my students. I have used 
  SetUseCompoundFile(True) and optimised the indexes. Now I am not able to convert them back to their original form
  Thanks in advance
  Depsi

		
---------------------------------
New Yahoo! Messenger with Voice. Call regular phones from your PC and save big.
--0-487844148-1143727025=:6925--

From java-user-return-19902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 16:27:54 2006
Return-Path: <java-user-return-19902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96613 invoked from network); 30 Mar 2006 16:27:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 16:27:54 -0000
Received: (qmail 57838 invoked by uid 500); 30 Mar 2006 16:27:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57795 invoked by uid 500); 30 Mar 2006 16:27:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57783 invoked by uid 99); 30 Mar 2006 16:27:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 08:27:47 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ddanddan@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 08:27:46 -0800
Received: by xproxy.gmail.com with SMTP id i26so311222wxd
        for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 08:27:25 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=CJDpXya5KiwAWvLNu51YCDNIuud/gzSqsSV0DW9v4M/pKt3KrL7nHdAD2i6IjZA5hCNCerbpxEAH1hOt/ovKyWpImIrJfIblhZvW2zwZXx8ufEZs2BWCATN5ChaSscx8q/xGahIvnCp5Wd1hLepgsvzvLWoY73oSSAJyi7ScPCM=
Received: by 10.70.131.5 with SMTP id e5mr1307163wxd;
        Thu, 30 Mar 2006 08:27:24 -0800 (PST)
Received: by 10.70.84.20 with HTTP; Thu, 30 Mar 2006 08:27:24 -0800 (PST)
Message-ID: <6380384b0603300827u4d0bd0cata2ce00aafd3b18da@mail.gmail.com>
Date: Fri, 31 Mar 2006 01:27:24 +0900
From: "chan kang" <ddanddan@gmail.com>
To: java-user@lucene.apache.org
Subject: Merging partially sorted indices to form a new fully sorted single index?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7031_13474960.1143736044519"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7031_13474960.1143736044519
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, I've been trying to show the query results in a reverse-chronological
order,
and found out that the best way to do so is to pre-sort them if possible,
so that, when searching, the relevant documents are shown in the
reverse-chronological order(the most recent document at the top) even
without real-time sorting.
Although presorting the index in chronological order is easy (just
addDocument() for each new incoming document, and optimize), the reverse
seems to be
difficult.
The way I'm handling it now is to

1. index without ordering.
2. sort the index reverse-chronologically
3. re-index and optimize.
4. when a new document comes in, do steps 1-3 again..

Steps 1-3 is not that different from sorting in chronological order, but
when it comes to step4, the process becomes very much redundant.
I mean, for example if I wanted to show every search results in a sorted
way, so that the most recent document comes to the top, I would have to go
through steps
1-3 every time when a new document is added (by crawling the web or
whatever..).

So, i thought, if the following was possible, it would be much easier...
1. create a new index for incoming documents
2. sort it reverse-chronologically -> index_new
3. use addIndexes() and do "index_new.addIndexes(old_index)"
4. optimize

That way, the new index is sorted, and the old index(which is much much
larger than incoming ones) is also sorted, and two sorted indexes can be
merged to make
a final fully sorted version, and this means not re-indexing the whole set
of documents in
the original index according to time.
However, I'm not sure whether the addIndexes() also preserves order.
Does it?

Also, is there a better way to do this? - partial sorting and appending the
two sorted indices to form a finally a single sorted index?

Thanks in advance.

-Chan

------=_Part_7031_13474960.1143736044519--

From java-user-return-19903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 17:09:40 2006
Return-Path: <java-user-return-19903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17213 invoked from network); 30 Mar 2006 17:09:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 17:09:39 -0000
Received: (qmail 28287 invoked by uid 500); 30 Mar 2006 17:09:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28264 invoked by uid 500); 30 Mar 2006 17:09:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28253 invoked by uid 99); 30 Mar 2006 17:09:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 09:09:34 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [74.0.0.77] (HELO linuxfly.dragonflymc.com) (74.0.0.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 09:09:33 -0800
Received: from bigfly (unknown [63.133.162.98])
	by linuxfly.dragonflymc.com (Postfix) with ESMTP id 8CFF1C2006B
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 11:09:19 -0600 (CST)
From: "Dennis Kubes" <nutch-dev@dragonflymc.com>
To: <java-user@lucene.apache.org>
Subject: writeChars method in IndexOutput
Date: Thu, 30 Mar 2006 11:09:07 -0600
Message-ID: <000001c6541c$a7ca2c60$fc01a8c0@bigfly>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0001_01C653EA.5D2FBC60"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZUHKeEyUDjzziBRtqhZt9hBRgXgA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0001_01C653EA.5D2FBC60
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit

I was reading up on conversion of characters to UTF-8 and I now understand
why it is writing out UTF-8 (to be able to support most of the worlds
languages with minimal space?). But after reading up on the algorithms for
conversion as given below, does the writeChars method not support the
U+10000$B"*(BU+10FFFF conversions or am I misreading the code?

 


Character Range

Bit Encoding


U+0000$B"*(BU+007F

0xxxxxxx


U+0080$B"*(BU+07FF

110xxxxx 10xxxxxx


U+0800$B"*(BU+FFFF

1110xxxx 10xxxxxx 10xxxxxx


U+10000$B"*(BU+10FFFF

11110xxx 10xxxxxx 10xxxxxx 10xxxxxx

 

  public void writeChars(String s, int start, int length)

    throws IOException {

 

    final int end = start + length;

    for (int i = start; i < end; i++) {

      

      final int code = (int)s.charAt(i);

      

      if (code >= 0x01 && code <= 0x7F)

        writeByte((byte)code);

      else if (((code >= 0x80) && (code <= 0x7FF)) || code == 0) {

        writeByte((byte)(0xC0 | (code >> 6)));

        writeByte((byte)(0x80 | (code & 0x3F)));

      }

      else {

        writeByte((byte)(0xE0 | (code >>> 12)));

        writeByte((byte)(0x80 | ((code >> 6) & 0x3F)));

        writeByte((byte)(0x80 | (code & 0x3F)));

      }

    }

  }


------=_NextPart_000_0001_01C653EA.5D2FBC60--


From java-user-return-19904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 17:56:37 2006
Return-Path: <java-user-return-19904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45089 invoked from network); 30 Mar 2006 17:56:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 17:56:36 -0000
Received: (qmail 7065 invoked by uid 500); 30 Mar 2006 17:56:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7044 invoked by uid 500); 30 Mar 2006 17:56:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7033 invoked by uid 99); 30 Mar 2006 17:56:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 09:56:31 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO pproxy.gmail.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 09:56:29 -0800
Received: by pproxy.gmail.com with SMTP id f25so989573pyf
        for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 09:56:09 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=LCSmDoPRtaCBIfUYRzNnc7L6evoI3wDgX4K32Ca8o2Am1cneAgGa1l+ti/C3Rm/s5laM2m9GBPcmR2oVrfv558G+WCkkyKOuGNpOyhs94ImhIq5WMepx05vb2XaRmbqRamZrhuDZ/M4s/5DWL+L3adJAqIyDmWABBZPa6xaO8qE=
Received: by 10.35.111.7 with SMTP id o7mr1407265pym;
        Thu, 30 Mar 2006 09:56:09 -0800 (PST)
Received: by 10.35.107.3 with HTTP; Thu, 30 Mar 2006 09:56:09 -0800 (PST)
Message-ID: <c68e39170603300956m755e9d91pbc234d222f6ef53c@mail.gmail.com>
Date: Thu, 30 Mar 2006 12:56:09 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: writeChars method in IndexOutput
In-Reply-To: <000001c6541c$a7ca2c60$fc01a8c0@bigfly>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <000001c6541c$a7ca2c60$fc01a8c0@bigfly>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene doesn't currently output totally valid UTF-8
Patches to make it do so are here:
http://www.mail-archive.com/java-dev@lucene.apache.org/msg01987.html

Should this be tackled pre or post 2.0?

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

On 3/30/06, Dennis Kubes <nutch-dev@dragonflymc.com> wrote:
> I was reading up on conversion of characters to UTF-8 and I now understand
> why it is writing out UTF-8 (to be able to support most of the worlds
> languages with minimal space?). But after reading up on the algorithms for
> conversion as given below, does the writeChars method not support the
> U+10000$B"*(BU+10FFFF conversions or am I misreading the code?
>
>
>
>
> Character Range
>
> Bit Encoding
>
>
> U+0000$B"*(BU+007F
>
> 0xxxxxxx
>
>
> U+0080$B"*(BU+07FF
>
> 110xxxxx 10xxxxxx
>
>
> U+0800$B"*(BU+FFFF
>
> 1110xxxx 10xxxxxx 10xxxxxx
>
>
> U+10000$B"*(BU+10FFFF
>
> 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
>
>
>
>   public void writeChars(String s, int start, int length)
>
>     throws IOException {
>
>
>
>     final int end = start + length;
>
>     for (int i = start; i < end; i++) {
>
>
>
>       final int code = (int)s.charAt(i);
>
>
>
>       if (code >= 0x01 && code <= 0x7F)
>
>         writeByte((byte)code);
>
>       else if (((code >= 0x80) && (code <= 0x7FF)) || code == 0) {
>
>         writeByte((byte)(0xC0 | (code >> 6)));
>
>         writeByte((byte)(0x80 | (code & 0x3F)));
>
>       }
>
>       else {
>
>         writeByte((byte)(0xE0 | (code >>> 12)));
>
>         writeByte((byte)(0x80 | ((code >> 6) & 0x3F)));
>
>         writeByte((byte)(0x80 | (code & 0x3F)));
>
>       }
>
>     }
>
>   }

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 19:20:32 2006
Return-Path: <java-user-return-19905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89626 invoked from network); 30 Mar 2006 19:20:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 19:20:30 -0000
Received: (qmail 71145 invoked by uid 500); 30 Mar 2006 19:20:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70708 invoked by uid 500); 30 Mar 2006 19:20:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70670 invoked by uid 99); 30 Mar 2006 19:20:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 11:20:26 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [74.0.0.77] (HELO linuxfly.dragonflymc.com) (74.0.0.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 11:20:24 -0800
Received: from bigfly (unknown [63.133.162.98])
	by linuxfly.dragonflymc.com (Postfix) with ESMTP id 90A00C2006B
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 13:20:16 -0600 (CST)
From: "Dennis Kubes" <nutch-dev@dragonflymc.com>
To: <java-user@lucene.apache.org>
Subject: RE: writeChars method in IndexOutput
Date: Thu, 30 Mar 2006 13:20:04 -0600
Message-ID: <000b01c6542e$f2d7b710$fc01a8c0@bigfly>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-2022-jp"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZUI07XyLYWoIv0Ry6U5jTZHV3VdAAC26Qg
In-Reply-To: <c68e39170603300956m755e9d91pbc234d222f6ef53c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is this modified UTF-8 such as is found in DataInput interface?

Dennis

-----Original Message-----
From: Yonik Seeley [mailto:yseeley@gmail.com] 
Sent: Thursday, March 30, 2006 11:56 AM
To: java-user@lucene.apache.org
Subject: Re: writeChars method in IndexOutput

Lucene doesn't currently output totally valid UTF-8
Patches to make it do so are here:
http://www.mail-archive.com/java-dev@lucene.apache.org/msg01987.html

Should this be tackled pre or post 2.0?

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

On 3/30/06, Dennis Kubes <nutch-dev@dragonflymc.com> wrote:
> I was reading up on conversion of characters to UTF-8 and I now understand
> why it is writing out UTF-8 (to be able to support most of the worlds
> languages with minimal space?). But after reading up on the algorithms for
> conversion as given below, does the writeChars method not support the
> U+10000$B"*(BU+10FFFF conversions or am I misreading the code?
>
>
>
>
> Character Range
>
> Bit Encoding
>
>
> U+0000$B"*(BU+007F
>
> 0xxxxxxx
>
>
> U+0080$B"*(BU+07FF
>
> 110xxxxx 10xxxxxx
>
>
> U+0800$B"*(BU+FFFF
>
> 1110xxxx 10xxxxxx 10xxxxxx
>
>
> U+10000$B"*(BU+10FFFF
>
> 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
>
>
>
>   public void writeChars(String s, int start, int length)
>
>     throws IOException {
>
>
>
>     final int end = start + length;
>
>     for (int i = start; i < end; i++) {
>
>
>
>       final int code = (int)s.charAt(i);
>
>
>
>       if (code >= 0x01 && code <= 0x7F)
>
>         writeByte((byte)code);
>
>       else if (((code >= 0x80) && (code <= 0x7FF)) || code == 0) {
>
>         writeByte((byte)(0xC0 | (code >> 6)));
>
>         writeByte((byte)(0x80 | (code & 0x3F)));
>
>       }
>
>       else {
>
>         writeByte((byte)(0xE0 | (code >>> 12)));
>
>         writeByte((byte)(0x80 | ((code >> 6) & 0x3F)));
>
>         writeByte((byte)(0x80 | (code & 0x3F)));
>
>       }
>
>     }
>
>   }

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 19:30:54 2006
Return-Path: <java-user-return-19906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97361 invoked from network); 30 Mar 2006 19:30:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 19:30:54 -0000
Received: (qmail 91714 invoked by uid 500); 30 Mar 2006 19:30:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91682 invoked by uid 500); 30 Mar 2006 19:30:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91671 invoked by uid 99); 30 Mar 2006 19:30:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 11:30:49 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 11:30:46 -0800
Received: by zproxy.gmail.com with SMTP id 13so487075nzn
        for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 11:30:25 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rXPITMM4eExfVWyBfMmabHdb9CUK14M6iKMnUqBbOPaYYGIgH8d88ikyuDdgfQl3JctSlYaWoW7pgsa6ISBWld5aHrGLub4BlzQbL6FzhNXiI9tl1A95WaOpkORM/Dt+3Jn+TFE0opnw2mYk18Tu3c/3ZigZZtXkH/DeIH9EAoE=
Received: by 10.35.50.9 with SMTP id c9mr1897446pyk;
        Thu, 30 Mar 2006 11:30:25 -0800 (PST)
Received: by 10.35.107.3 with HTTP; Thu, 30 Mar 2006 11:30:25 -0800 (PST)
Message-ID: <c68e39170603301130s6c017a9di2ca122f9fce99f97@mail.gmail.com>
Date: Thu, 30 Mar 2006 14:30:25 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: writeChars method in IndexOutput
In-Reply-To: <000b01c6542e$f2d7b710$fc01a8c0@bigfly>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <c68e39170603300956m755e9d91pbc234d222f6ef53c@mail.gmail.com>
	 <000b01c6542e$f2d7b710$fc01a8c0@bigfly>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/30/06, Dennis Kubes <nutch-dev@dragonflymc.com> wrote:
> Is this modified UTF-8 such as is found in DataInput interface?

Yes, I believe so.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

> -----Original Message-----
> From: Yonik Seeley [mailto:yseeley@gmail.com]
> Sent: Thursday, March 30, 2006 11:56 AM
> To: java-user@lucene.apache.org
> Subject: Re: writeChars method in IndexOutput
>
> Lucene doesn't currently output totally valid UTF-8
> Patches to make it do so are here:
> http://www.mail-archive.com/java-dev@lucene.apache.org/msg01987.html
>
> Should this be tackled pre or post 2.0?
>
> -Yonik
> http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server
>
> On 3/30/06, Dennis Kubes <nutch-dev@dragonflymc.com> wrote:
> > I was reading up on conversion of characters to UTF-8 and I now understand
> > why it is writing out UTF-8 (to be able to support most of the worlds
> > languages with minimal space?). But after reading up on the algorithms for
> > conversion as given below, does the writeChars method not support the
> > U+10000$B"*(BU+10FFFF conversions or am I misreading the code?
> >
> >
> >
> >
> > Character Range
> >
> > Bit Encoding
> >
> >
> > U+0000$B"*(BU+007F
> >
> > 0xxxxxxx
> >
> >
> > U+0080$B"*(BU+07FF
> >
> > 110xxxxx 10xxxxxx
> >
> >
> > U+0800$B"*(BU+FFFF
> >
> > 1110xxxx 10xxxxxx 10xxxxxx
> >
> >
> > U+10000$B"*(BU+10FFFF
> >
> > 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
> >
> >
> >
> >   public void writeChars(String s, int start, int length)
> >
> >     throws IOException {
> >
> >
> >
> >     final int end = start + length;
> >
> >     for (int i = start; i < end; i++) {
> >
> >
> >
> >       final int code = (int)s.charAt(i);
> >
> >
> >
> >       if (code >= 0x01 && code <= 0x7F)
> >
> >         writeByte((byte)code);
> >
> >       else if (((code >= 0x80) && (code <= 0x7FF)) || code == 0) {
> >
> >         writeByte((byte)(0xC0 | (code >> 6)));
> >
> >         writeByte((byte)(0x80 | (code & 0x3F)));
> >
> >       }
> >
> >       else {
> >
> >         writeByte((byte)(0xE0 | (code >>> 12)));
> >
> >         writeByte((byte)(0x80 | ((code >> 6) & 0x3F)));
> >
> >         writeByte((byte)(0x80 | (code & 0x3F)));
> >
> >       }
> >
> >     }
> >
> >   }

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 19:50:35 2006
Return-Path: <java-user-return-19907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7963 invoked from network); 30 Mar 2006 19:50:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 19:50:34 -0000
Received: (qmail 26943 invoked by uid 500); 30 Mar 2006 19:50:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26915 invoked by uid 500); 30 Mar 2006 19:50:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26904 invoked by uid 99); 30 Mar 2006 19:50:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 11:50:29 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 205.188.144.207 as permitted sender)
Received: from [205.188.144.207] (HELO imo-d21.mx.aol.com) (205.188.144.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 11:50:28 -0800
Received: from Msftblows@aol.com
	by imo-d21.mx.aol.com (mail_out_v38_r7.3.) id h.2eb.445d253 (15887)
	 for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 14:49:51 -0500 (EST)
Received: from  FWM-M01 (fwm-m01.webmail.aol.com [64.12.168.65]) by air-id08.mx.aol.com (v108_r3.6) with ESMTP id MAILINID82-3e0f442c365e291; Thu, 30 Mar 2006 14:49:50 -0500
Date: Thu, 30 Mar 2006 14:49:40 -0500
From: msftblows@aol.com
Message-Id: <8C8224A37F77A14-1BA4-1E76@FWM-M01.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 38.117.191.163 by FWM-M01.sysops.aol.com (64.12.168.65) with HTTP (WebMailUI); Thu, 30 Mar 2006 14:49:40 -0500
X-Mailer: AOL WebMail 15106
Subject: Folksonomy
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C8224A37F77A14_1BA4_1ECF_FWM-M01.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 64.12.168.65
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C8224A37F77A14_1BA4_1ECF_FWM-M01.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

I saw an implementation of folksonomy with Lucene...does anyone know about that or seen it?

----------MailBlocks_8C8224A37F77A14_1BA4_1ECF_FWM-M01.sysops.aol.com--

From java-user-return-19908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 20:10:38 2006
Return-Path: <java-user-return-19908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17771 invoked from network); 30 Mar 2006 20:10:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 20:10:38 -0000
Received: (qmail 65524 invoked by uid 500); 30 Mar 2006 20:10:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65328 invoked by uid 500); 30 Mar 2006 20:10:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65316 invoked by uid 99); 30 Mar 2006 20:10:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 12:10:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [74.0.0.77] (HELO linuxfly.dragonflymc.com) (74.0.0.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 12:10:24 -0800
Received: from bigfly (unknown [63.133.162.98])
	by linuxfly.dragonflymc.com (Postfix) with ESMTP id BA7E0C2006B
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 14:10:16 -0600 (CST)
From: "Dennis Kubes" <nutch-dev@dragonflymc.com>
To: <java-user@lucene.apache.org>
Subject: RE: Compound Indexes Problem
Date: Thu, 30 Mar 2006 14:10:04 -0600
Message-ID: <000901c65435$ef28b4a0$fc01a8c0@bigfly>
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <20060330135705.8776.qmail@web33803.mail.mud.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZUAe3rtTX7GUR9Ra+qWgHW57rPaAAM6fAg
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

According to the Lucene In Action book you can convert from one compound to
multi-file and vice versa by setting the setCompoundFile method to true or
false.  But in running this myself I found that while I can convert from
multi-file to compound, it doesn't convert back.  Here is the code that I
used.

    try {
      System.setProperty("org.apache.lucene.lockDir",
"lock-directory-path-here");
      String idxDir = "index-directory-path-here";
      IndexWriter writer = new IndexWriter(idxDir, new StandardAnalyzer(),
false);
      writer.setUseCompoundFile(false);
      writer.optimize();
      writer.close();
    }
    catch (IOException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }

Dennis

-----Original Message-----
From: depsi programmer [mailto:depsi_programmer@yahoo.com]
Sent: Thursday, March 30, 2006 7:57 AM
To: java-user@lucene.apache.org
Subject: Compound Indexes Problem

Hello,
  I am using lucene for storing details of my students. I have used
  SetUseCompoundFile(True) and optimised the indexes. Now I am not able to
convert them back to their original form
  Thanks in advance
  Depsi


---------------------------------
New Yahoo! Messenger with Voice. Call regular phones from your PC and save
big.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 20:24:43 2006
Return-Path: <java-user-return-19909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36800 invoked from network); 30 Mar 2006 20:24:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 20:24:42 -0000
Received: (qmail 83756 invoked by uid 500); 30 Mar 2006 20:24:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83730 invoked by uid 500); 30 Mar 2006 20:24:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83718 invoked by uid 99); 30 Mar 2006 20:24:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 12:24:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 12:24:36 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8CE7A33D8C1; Thu, 30 Mar 2006 15:24:15 -0500 (EST)
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 06BB633CF31
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 15:24:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <8C8224A37F77A14-1BA4-1E76@FWM-M01.sysops.aol.com>
References: <8C8224A37F77A14-1BA4-1E76@FWM-M01.sysops.aol.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CBF93B7C-2AF2-4EAD-BA42-3867D71A5C60@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Folksonomy
Date: Thu, 30 Mar 2006 15:24:08 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mar 30, 2006, at 2:49 PM, msftblows@aol.com wrote:
> I saw an implementation of folksonomy with Lucene...does anyone  
> know about that or seen it?

It's no secret that Otis' wonderful Simpy is powered by Lucene.

I'm in the process of building a folksonomy-based application that  
allows collecting scholarly objects, annotating and tagging them, and  
it is leveraging Lucene.  It is currently in development, so nothing  
worth showing at this point, but hopefully in a few months it'll be  
presentable.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 20:55:41 2006
Return-Path: <java-user-return-19910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52533 invoked from network); 30 Mar 2006 20:55:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 20:55:41 -0000
Received: (qmail 20232 invoked by uid 500); 30 Mar 2006 20:55:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19854 invoked by uid 500); 30 Mar 2006 20:55:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19841 invoked by uid 99); 30 Mar 2006 20:55:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 12:55:36 -0800
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Msftblows@aol.com designates 64.12.137.1 as permitted sender)
Received: from [64.12.137.1] (HELO imo-m20.mx.aol.com) (64.12.137.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 12:55:35 -0800
Received: from Msftblows@aol.com
	by imo-m20.mx.aol.com (mail_out_v38_r7.3.) id h.26f.8c6c4ca (15699)
	 for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 15:55:00 -0500 (EST)
Received: from  mblk-d10 (mblk-d10.mblk.aol.com [205.188.149.2]) by air-id05.mx.aol.com (v108_r3.6) with ESMTP id MAILINID51-3d53442c45a31b2; Thu, 30 Mar 2006 15:55:00 -0500
Date: Thu, 30 Mar 2006 15:54:58 -0500
Message-Id: <8C8225356E22B5A-12B8-2BFD3@mblk-d10.sysops.aol.com>
From: msftblows@aol.com
References: <8C8224A37F77A14-1BA4-1E76@FWM-M01.sysops.aol.com> <CBF93B7C-2AF2-4EAD-BA42-3867D71A5C60@ehatchersolutions.com>
Received: from 38.117.191.163 by mblk-d10.sysops.aol.com (205.188.149.2) with HTTP (WebMailUI); Thu, 30 Mar 2006 15:54:57 -0500
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
In-Reply-To: <CBF93B7C-2AF2-4EAD-BA42-3867D71A5C60@ehatchersolutions.com>
X-Mailer: AOL WebMail 15106
Subject: Re: Folksonomy
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C8225356A42E36_12B8_2AF06_mblk-d10.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.149.2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C8225356A42E36_12B8_2AF06_mblk-d10.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"

Erik-
 
I would be interested in seeing that...and then converting it to DotLucene :)
 
Keep me updated! 
 
-----Original Message-----
From: Erik Hatcher <erik@ehatchersolutions.com>
To: java-user@lucene.apache.org
Sent: Thu, 30 Mar 2006 15:24:08 -0500
Subject: Re: Folksonomy


On Mar 30, 2006, at 2:49 PM, msftblows@aol.com wrote: 
> I saw an implementation of folksonomy with Lucene...does anyone > know about that or seen it? 
 
It's no secret that Otis' wonderful Simpy is powered by Lucene. 
 
I'm in the process of building a folksonomy-based application that allows collecting scholarly objects, annotating and tagging them, and it is leveraging Lucene. It is currently in development, so nothing worth showing at this point, but hopefully in a few months it'll be presentable. 
 
  Erik 
 
--------------------------------------------------------------------- 
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 
 

----------MailBlocks_8C8225356A42E36_12B8_2AF06_mblk-d10.sysops.aol.com--

From java-user-return-19911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 21:11:14 2006
Return-Path: <java-user-return-19911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59980 invoked from network); 30 Mar 2006 21:11:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 21:11:14 -0000
Received: (qmail 46372 invoked by uid 500); 30 Mar 2006 21:11:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46342 invoked by uid 500); 30 Mar 2006 21:11:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46331 invoked by uid 99); 30 Mar 2006 21:11:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 13:11:08 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 30 Mar 2006 13:11:08 -0800
Received: (qmail 6666 invoked by uid 60001); 30 Mar 2006 21:10:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=ImVGduBKg/NvRDyaT2UsTadVcbXoRUsOeD1WQqGfXs2Qe4K3LRxt9GcfbTclukl3xjUdUo7YhywGAc2pkvfLDOFmITYoiRFk0jFBXElYeiosByLirMRNb4CTH6SSjA2rHc/sCyDEV2dDrCjR8Isl3TAlbzb/LTafwS2MW2qQ//A=  ;
Message-ID: <20060330211043.6664.qmail@web50306.mail.yahoo.com>
Date: Thu, 30 Mar 2006 13:10:43 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Folksonomy
To: java-user@lucene.apache.org
In-Reply-To: <8C8224A37F77A14-1BA4-1E76@FWM-M01.sysops.aol.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Which one, btw?  I'd be curious to know... 
 
Otis 
--  
Simpy -- http://www.simpy.com/ -- Tag.  Search.  Share. 
 
----- Original Message ---- 
From: msftblows@aol.com 
 
I saw an implementation of folksonomy with Lucene...does anyone know about that or seen it? 
 
 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 30 22:46:46 2006
Return-Path: <java-user-return-19912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14017 invoked from network); 30 Mar 2006 22:46:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Mar 2006 22:46:45 -0000
Received: (qmail 28568 invoked by uid 500); 30 Mar 2006 22:46:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28540 invoked by uid 500); 30 Mar 2006 22:46:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28529 invoked by uid 99); 30 Mar 2006 22:46:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 14:46:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.74] (HELO ylpvm43.prodigy.net) (207.115.57.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 14:46:39 -0800
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k2UMkHBf015969
	for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 17:46:20 -0500
X-ORBL: [69.228.218.169]
Received: from [192.168.168.15] (adsl-69-228-218-169.dsl.pltn13.pacbell.net [69.228.218.169])
	by pimout5-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id k2UMk9GS014662;
	Thu, 30 Mar 2006 17:46:12 -0500
Message-ID: <442C5FB0.50503@apache.org>
Date: Thu, 30 Mar 2006 14:46:08 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Data structure of a Lucene Index
References: <442A13D3.7080500@aol.com>
In-Reply-To: <442A13D3.7080500@aol.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I talked about this a bit in a presentation at Haifa last year:

http://www.haifa.ibm.com/Workshops/ir2005/papers/DougCutting-Haifa05.pdf

See the section on "Seek versus Transfer".

Doug

Prasenjit Mukherjee wrote:
> It seems to me that lucene doesn't use B-tree for its indexing storage. 
> Any paper/article which explains the theory behind data-structure of  
> single index(segment).  I am not referring to the merge algorithm, I am 
> curious to know the storage structure of a single optimized lucene index.
> 
> Any pointer is greatly appreciated.
> --Prasen
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 01:29:10 2006
Return-Path: <java-user-return-19913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68169 invoked from network); 31 Mar 2006 01:29:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 01:29:10 -0000
Received: (qmail 70793 invoked by uid 500); 31 Mar 2006 01:29:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70760 invoked by uid 500); 31 Mar 2006 01:29:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70749 invoked by uid 99); 31 Mar 2006 01:29:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 17:29:05 -0800
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FROM_HAS_ULINE_NUMS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.37.71] (HELO web53510.mail.yahoo.com) (206.190.37.71)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 30 Mar 2006 17:29:04 -0800
Received: (qmail 92217 invoked by uid 60001); 31 Mar 2006 01:28:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=LMTq0v27cibuu/YlUUxr1xYNehjNY4eaQcKtgqzZoOoqLiyR9MihSYHvLtD9OnRzfJqgwVhvkO2L5W/3PqY77eqdcSiwki6bvnen2Gy0SyNaOEIU5YtfYG4LXKilq1o8s0x7uDj6VbTExKqNYclnuu1rLrh3QP80jLONh/LiL/c=  ;
Message-ID: <20060331012843.92213.qmail@web53510.mail.yahoo.com>
Received: from [61.16.133.52] by web53510.mail.yahoo.com via HTTP; Thu, 30 Mar 2006 17:28:43 PST
Date: Thu, 30 Mar 2006 17:28:43 -0800 (PST)
From: Ganesh Ramakrishnan <ganesh_ramakrishnan1978@yahoo.com>
Subject: Implemented subclasses of Similarity class in Lucene
To: java-user@lucene.apache.org
In-Reply-To: <442C5FB0.50503@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-550887510-1143768523=:91888"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-550887510-1143768523=:91888
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi

Is anyone aware of subclasses of the Similarity class in Lucene? Two subclasses are: DefaultSimilarity and  SimilarityDelegator . Are any other implemented subclasses of Similarity, developed by anyone else available on the web?  For example, Language Model based similarity, or Okapi-BM similarity or different TFIDF weighing scehemes for similarity.
  
  If so, can you point me to them?
  
  Thanks and regards,
  Ganesh.
			
---------------------------------
Yahoo! Messenger with Voice. PC-to-Phone calls for ridiculously low rates.
--0-550887510-1143768523=:91888--

From java-user-return-19914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 02:53:39 2006
Return-Path: <java-user-return-19914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97564 invoked from network); 31 Mar 2006 02:53:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 02:53:38 -0000
Received: (qmail 18676 invoked by uid 500); 31 Mar 2006 02:53:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18536 invoked by uid 500); 31 Mar 2006 02:53:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18523 invoked by uid 99); 31 Mar 2006 02:53:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 18:53:32 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=PLING_QUERY,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 30 Mar 2006 18:53:32 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <320555(2)>; Thu, 30 Mar 2006 18:52:58 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58633>; Thu, 30 Mar 2006 18:52:48 PST
To: java-user@lucene.apache.org
Subject: Any plans for a 1.9.2 release?  Need timeout setting!
Date: Thu, 30 Mar 2006 18:52:40 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <06Mar30.185248pst."58633"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I presume the patch that gives us a way of overriding the default
timeout for write locks has made it into the source DB, but I really
need a jar file to point people at which contains it.  Any chance of
a 1.9.2 release?

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 04:36:53 2006
Return-Path: <java-user-return-19915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33615 invoked from network); 31 Mar 2006 04:36:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 04:36:52 -0000
Received: (qmail 79429 invoked by uid 500); 31 Mar 2006 04:36:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79401 invoked by uid 500); 31 Mar 2006 04:36:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79388 invoked by uid 99); 31 Mar 2006 04:36:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 20:36:47 -0800
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.178.51] (HELO web33804.mail.mud.yahoo.com) (66.163.178.51)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 30 Mar 2006 20:36:46 -0800
Received: (qmail 85138 invoked by uid 60001); 31 Mar 2006 04:36:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=lkjgftc0CetqwboiqxjprMjcqbG9NGofdg1fpISa5m2bUMxzWZKOzorha5GvYpTc4teBKxnjQnlGSVqHNX7pVE25O3qlQIbEZ0R+UgGxbZS3eNbGV0iphwVw2DNk61HWesZvOStyF+o7jixlxVKncWPo3ifTmo9OdMJzpARcTgc=  ;
Message-ID: <20060331043625.85133.qmail@web33804.mail.mud.yahoo.com>
Received: from [59.95.169.229] by web33804.mail.mud.yahoo.com via HTTP; Thu, 30 Mar 2006 20:36:25 PST
Date: Thu, 30 Mar 2006 20:36:25 -0800 (PST)
From: depsi programmer <depsi_programmer@yahoo.com>
Subject: RE: Compound Indexes Problem
To: java-user@lucene.apache.org
In-Reply-To: <000901c65435$ef28b4a0$fc01a8c0@bigfly>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-732396603-1143779785=:83061"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-732396603-1143779785=:83061
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
Thanks for your responce.
can you please guide me on how to break this single index into multiple pieces. when I try to do so it corrupts the index.
I had created a index with max merge docs set to 10,000 with set compound indexes set to true. now I called optimize with max merge docs set to 100 and the index was curropted
Thanks 
Depsi

Dennis Kubes <nutch-dev@dragonflymc.com> wrote: According to the Lucene In Action book you can convert from one compound to
multi-file and vice versa by setting the setCompoundFile method to true or
false.  But in running this myself I found that while I can convert from
multi-file to compound, it doesn't convert back.  Here is the code that I
used.

    try {
      System.setProperty("org.apache.lucene.lockDir",
"lock-directory-path-here");
      String idxDir = "index-directory-path-here";
      IndexWriter writer = new IndexWriter(idxDir, new StandardAnalyzer(),
false);
      writer.setUseCompoundFile(false);
      writer.optimize();
      writer.close();
    }
    catch (IOException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }

Dennis

-----Original Message-----
From: depsi programmer [mailto:depsi_programmer@yahoo.com]
Sent: Thursday, March 30, 2006 7:57 AM
To: java-user@lucene.apache.org
Subject: Compound Indexes Problem

Hello,
  I am using lucene for storing details of my students. I have used
  SetUseCompoundFile(True) and optimised the indexes. Now I am not able to
convert them back to their original form
  Thanks in advance
  Depsi


---------------------------------
New Yahoo! Messenger with Voice. Call regular phones from your PC and save
big.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



		
---------------------------------
How low will we go? Check out Yahoo! Messengers low  PC-to-Phone call rates.
--0-732396603-1143779785=:83061--

From java-user-return-19916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 05:45:03 2006
Return-Path: <java-user-return-19916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60948 invoked from network); 31 Mar 2006 05:45:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 05:45:02 -0000
Received: (qmail 34720 invoked by uid 500); 31 Mar 2006 05:44:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34694 invoked by uid 500); 31 Mar 2006 05:44:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34683 invoked by uid 99); 31 Mar 2006 05:44:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 21:44:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Mar 2006 21:44:56 -0800
Received: by zproxy.gmail.com with SMTP id 13so643086nzn
        for <java-user@lucene.apache.org>; Thu, 30 Mar 2006 21:44:35 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UMpTNHk5n2uO8XqVGONuNE+Wo+RwvDAklrtuwBV0h8BqECxQBu0H58W9DA1JW7R2PlVBswvAVuIGBOfYwigwZdndKSKZlGViMOYtyZXpmHD4FZY34R/NLJ0hHmNE0Y3mBsQ17gQZjGuqGdWNoYptLjNozxe4AiJVwH7/ozbxTYM=
Received: by 10.35.99.5 with SMTP id b5mr203894pym;
        Thu, 30 Mar 2006 21:44:35 -0800 (PST)
Received: by 10.35.50.10 with HTTP; Thu, 30 Mar 2006 21:44:35 -0800 (PST)
Message-ID: <f13b62210603302144x136d7bddu1e3c786740344c66@mail.gmail.com>
Date: Fri, 31 Mar 2006 11:14:35 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Compound Indexes Problem
In-Reply-To: <20060331043625.85133.qmail@web33804.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_19563_21504961.1143783875531"
References: <000901c65435$ef28b4a0$fc01a8c0@bigfly>
	 <20060331043625.85133.qmail@web33804.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_19563_21504961.1143783875531
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Does changing the merge factor

and setting the options to SetUseCompoundfile(false)

split a  single index into multiple pieces.

Even i have been doing something similar and would like to know how it is
done

Rdgs
Prabhu


On 3/31/06, depsi programmer <depsi_programmer@yahoo.com> wrote:
>
> Hello,
> Thanks for your responce.
> can you please guide me on how to break this single index into multiple
> pieces. when I try to do so it corrupts the index.
> I had created a index with max merge docs set to 10,000 with set compound
> indexes set to true. now I called optimize with max merge docs set to 100
> and the index was curropted
> Thanks
> Depsi
>
> Dennis Kubes <nutch-dev@dragonflymc.com> wrote: According to the Lucene I=
n
> Action book you can convert from one compound to
> multi-file and vice versa by setting the setCompoundFile method to true o=
r
> false.  But in running this myself I found that while I can convert from
> multi-file to compound, it doesn't convert back.  Here is the code that I
> used.
>
>    try {
>      System.setProperty("org.apache.lucene.lockDir",
> "lock-directory-path-here");
>      String idxDir =3D "index-directory-path-here";
>      IndexWriter writer =3D new IndexWriter(idxDir, new StandardAnalyzer(=
),
> false);
>      writer.setUseCompoundFile(false);
>      writer.optimize();
>      writer.close();
>    }
>    catch (IOException e) {
>      // TODO Auto-generated catch block
>      e.printStackTrace();
>    }
>
> Dennis
>
> -----Original Message-----
> From: depsi programmer [mailto:depsi_programmer@yahoo.com]
> Sent: Thursday, March 30, 2006 7:57 AM
> To: java-user@lucene.apache.org
> Subject: Compound Indexes Problem
>
> Hello,
> I am using lucene for storing details of my students. I have used
> SetUseCompoundFile(True) and optimised the indexes. Now I am not able to
> convert them back to their original form
> Thanks in advance
> Depsi
>
>
> ---------------------------------
> New Yahoo! Messenger with Voice. Call regular phones from your PC and sav=
e
> big.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------
> How low will we go? Check out Yahoo! Messenger's low  PC-to-Phone call
> rates.
>

------=_Part_19563_21504961.1143783875531--

From java-user-return-19917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 10:14:13 2006
Return-Path: <java-user-return-19917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22340 invoked from network); 31 Mar 2006 10:14:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 10:14:01 -0000
Received: (qmail 7808 invoked by uid 500); 31 Mar 2006 10:13:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7783 invoked by uid 500); 31 Mar 2006 10:13:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 37768 invoked by uid 99); 31 Mar 2006 07:40:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C65496.5A8D4920"
Subject: Lucene indexer deployment in WebSphere 5.1  cluster
Date: Fri, 31 Mar 2006 18:40:16 +1100
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene indexer deployment in WebSphere 5.1  cluster
Thread-Index: AcZUllovmXJutnD3TYCBIG9Mw08IWw==
From: "Jake Shapiro" <Jake.Shapiro@iag.com.au>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 31 Mar 2006 07:40:16.0957 (UTC) FILETIME=[5AAA36D0:01C65496]
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060331074042.8D05310FB001@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C65496.5A8D4920
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


_________________________________________________________________________=
______________

Note: This e-mail is subject to the disclaimer contained at the bottom of=
=20this message.
_________________________________________________________________________=
______________


Hi,

I was looking through archive for the best practice of Lucene indexer
configuration deployed in the [WebSphere 5.1 on AIX ] cluster  and found
some good posts in March 2005 thread which left me looking for more info

The index:
a) file size is not expected to exceed 2GB so loading it into memory
[say web-aplication scope] using RAMDirectory is definitely feasible
b) add/update request expected every 2 sec at peak hour
C) the indexer is a multi threaded process currently deployed as a
WebSphere custom service, exposed as MBean, on single WAS 5.1 server

I'd like to know:=20

1. What is the best approach for cluster deployment for the scenario
described above?

2. Did somebody use dynamic data replication feature of WAS 5.1 cluster
to cache in-memory index? If so how replicator was made aware of
application - scoped data and how  often in-memory index was
synchronised with secondary storage (NAS / NFS / database)=20

Any thoughts will be appreciated

Jake


_________________________________________________________________________=
______________

The information transmitted in this message and its attachments (if any) =
is intended=20
only for the person or entity to which it is addressed.
The message may contain confidential and/or privileged material. Any revi=
ew,=20
retransmission, dissemination or other use of, or taking of any action in=
=20reliance=20
upon this information, by persons or entities other than the intended rec=
ipient is=20
prohibited.

If you have received this in error, please contact the sender and delete =
this e-mail=20
and associated material from any computer.

The intended recipient of this e-mail may only use, reproduce, disclose o=
r distribute=20
the information contained in this e-mail and any attached files, with the=
=20permission=20
of the sender.

This message has been scanned for viruses with Symantec Scan Engine and c=
leared by=20
MailMarshal.
_________________________________________________________________________=
______________

------_=_NextPart_001_01C65496.5A8D4920--

From java-user-return-19918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 16:18:44 2006
Return-Path: <java-user-return-19918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24989 invoked from network); 31 Mar 2006 16:18:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 16:18:43 -0000
Received: (qmail 6294 invoked by uid 500); 31 Mar 2006 16:18:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6031 invoked by uid 500); 31 Mar 2006 16:18:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6001 invoked by uid 99); 31 Mar 2006 16:18:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 08:18:36 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.128.105.12] (HELO King.Siti.com) (209.128.105.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 08:18:36 -0800
Received: from ravij ([10.2.152.215] unverified) by King.Siti.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 31 Mar 2006 08:01:38 -0800
From: "Ravi" <ravi.jaladanki@siti.com>
To: <java-user@lucene.apache.org>
Subject: Regarding Indexes
Date: Fri, 31 Mar 2006 21:52:27 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0003_01C6550D.6A254100"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZU300NYhIScSVjQBq2E99OLgIvBw==
Message-ID: <KINGodb4hn7oa01SB4K00000c4e@King.Siti.com>
X-OriginalArrivalTime: 31 Mar 2006 16:01:38.0906 (UTC) FILETIME=[64E75BA0:01C654DC]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0003_01C6550D.6A254100
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi Luceners,

  

  This is the my problem . Can any body give the solution for this one..

 

 

I am going to implement for the company which is going to Support ASP
(Application Service Provider )  model. 

 

In this model , around 200 companies are going to register with us and add
there documents and searches them . 

Now the problem is shall I maintain individual index files for each company
or maintain single index file for all the companies.

 

 

If I maintain  individual index files then I need to create 200 searcher
objects for them because. each index should be searched..

 

But if I maintain single index file , I can have one single index searcher
but I need to add the condition for each document. And more over in feature
if any body needed there own data we can not provide them .. so please tell
me which model can help us to solve this problem.. the key point in this
application is add/modify/delete will occur very frequently . Please help me
.... I am waiting for your feed back

 

 

Thanks

 

Ravi Kumar Jaladanki

  

 


------=_NextPart_000_0003_01C6550D.6A254100--


From java-user-return-19919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 19:33:03 2006
Return-Path: <java-user-return-19919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16330 invoked from network); 31 Mar 2006 19:33:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 19:33:03 -0000
Received: (qmail 133 invoked by uid 500); 31 Mar 2006 19:32:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99559 invoked by uid 500); 31 Mar 2006 19:32:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99541 invoked by uid 99); 31 Mar 2006 19:32:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 11:32:56 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.238.9.116] (HELO exchange.allegromedical.com) (66.238.9.116)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 11:32:54 -0800
Received: from localhost [127.0.0.1]
	by exchange.allegromedical.com
	with XWall v3.35 ;
	Fri, 31 Mar 2006 12:32:32 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Regarding Indexes
Date: Fri, 31 Mar 2006 12:32:32 -0700
Message-ID: <B5ADCC4EA669BF4697F6AF63FF32867401AA10F2@exch01.allegro.med>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Regarding Indexes
Thread-Index: AcZU300NYhIScSVjQBq2E99OLgIvBwAGT1cQ
From: "Mufaddal Khumri" <MKhumri@allegromedical.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The solution to your problem lies in answers to many business domain
specific questions like:

1. Will each company only want to carry out searches on their data or on
ALL the data?=20
2. If you do not know the answer to that, is there a chance that the
some companies would want to search only their data and some others
would want to search data from company a and company b? and yet another
company would want to search all the data?
3. How does having just one index opposed to individual indexes affect
indexing given the load that it will have to handle from one or more
companies? [Note: you could also index data from a group of companies
according to howmuch data on average they might have]
4. It might turn up that at this point you nor the companies might have
no way of knowing howmuch data they will have, in that case you will
have to use your best judgement in what path to take and build your app
in an a way such that it can be abstracted from whether the index is
being indexed in one index or in multiple indexes. Later you can toy
around with different setups as you get more understanding on the usage
of the application.

One way is to index all the data from a particular company with one of
the terms being "companyIdentifier" ... This way you will have the
ability to search within a company d's data or within a few different
company's data or the entire search index.


-Mufaddal.

-----Original Message-----
From: Ravi [mailto:ravi.jaladanki@siti.com]=20
Sent: Friday, March 31, 2006 9:22 AM
To: java-user@lucene.apache.org
Subject: Regarding Indexes

Hi Luceners,

 =20

  This is the my problem . Can any body give the solution for this one..

=20

=20

I am going to implement for the company which is going to Support ASP
(Application Service Provider )  model.=20

=20

In this model , around 200 companies are going to register with us and
add
there documents and searches them .=20

Now the problem is shall I maintain individual index files for each
company
or maintain single index file for all the companies.

=20

=20

If I maintain  individual index files then I need to create 200 searcher
objects for them because. each index should be searched..

=20

But if I maintain single index file , I can have one single index
searcher
but I need to add the condition for each document. And more over in
feature
if any body needed there own data we can not provide them .. so please
tell
me which model can help us to solve this problem.. the key point in this
application is add/modify/delete will occur very frequently . Please
help me
.... I am waiting for your feed back

=20

=20

Thanks

=20

Ravi Kumar Jaladanki

 =20

=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 20:29:37 2006
Return-Path: <java-user-return-19920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51633 invoked from network); 31 Mar 2006 20:29:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 20:29:36 -0000
Received: (qmail 74190 invoked by uid 500); 31 Mar 2006 20:29:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74167 invoked by uid 500); 31 Mar 2006 20:29:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74156 invoked by uid 99); 31 Mar 2006 20:29:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 12:29:31 -0800
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.207.192.7] (HELO smtp0.beanfield.net) (66.207.192.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 12:29:30 -0800
Received: from [192.168.0.202] (66-207-218-34.beanfield.net [66.207.218.34])
	by smtp0.beanfield.net (8.13.4/8.12.11) with ESMTP id k2VKRTdG065864
	for <java-user@lucene.apache.org>; Fri, 31 Mar 2006 15:27:30 -0500 (EST)
	(envelope-from donv@webimpact.com)
Message-ID: <442D92D3.8060608@webimpact.com>
Date: Fri, 31 Mar 2006 15:36:35 -0500
From: Don Vaillancourt <donv@webimpact.com>
Reply-To: donv@webimpact.com
Organization: Web Impact Inc.
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Update or Delete Document for Lucene 1.4.x
Content-Type: multipart/alternative;
 boundary="------------030901020402050603020109"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------030901020402050603020109
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi All,

I need to implement the ability to update one document within a Lucene 
collection.

I haven't been able to find anything in the API.  Is there a way to 
update one document or delete a document so that I can add an update?

Thank You

-- 
Don Vaillancourt
Director of Software Development
WEB IMPACT INC.
phone: 	 416-815-2000 ext. 245
fax: 	 416-815-2001
toll free: 	 866-319-1573 ext. 245
email: 	 donv@web-impact.com <mailto:donv@webimpact.com>
blackberry: 	 donv@rogers.blackberry.net 
<mailto:donv@rogers.blackberry.net>
web: 	 http://www.web-impact.com
address: 	 http://www.mapquest.ca 
<http://www.mapquest.com/maps/map.adp?country=CA&addtohistory=&formtype=address&searchtype=address&cat=&address=99%20Atlantic%20Ave&city=Toronto&state=ON&zipcode=M6K%203J8> 


This email message is intended only for the addressee(s) and contains 
information that may be confidential and/or copyright.

If you are not the intended recipient please notify the sender by reply 
email and immediately delete this email.

Use, disclosure or reproduction of this email by anyone other than the 
intended recipient(s) is strictly prohibited. No representation is made 
that this email or any attachments are free of viruses. Virus scanning 
is recommended and is the responsibility of the recipient.


--------------030901020402050603020109--

From java-user-return-19921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 20:34:30 2006
Return-Path: <java-user-return-19921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53217 invoked from network); 31 Mar 2006 20:34:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 20:34:29 -0000
Received: (qmail 78386 invoked by uid 500); 31 Mar 2006 20:34:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78360 invoked by uid 500); 31 Mar 2006 20:34:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78346 invoked by uid 99); 31 Mar 2006 20:34:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 12:34:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.238.9.116] (HELO exchange.allegromedical.com) (66.238.9.116)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 12:34:24 -0800
Received: from localhost [127.0.0.1]
	by exchange.allegromedical.com
	with XWall v3.35 ;
	Fri, 31 Mar 2006 13:33:55 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Update or Delete Document for Lucene 1.4.x
Date: Fri, 31 Mar 2006 13:33:55 -0700
Message-ID: <B5ADCC4EA669BF4697F6AF63FF32867401AA10F3@exch01.allegro.med>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Update or Delete Document for Lucene 1.4.x
Thread-Index: AcZVAdT3RYp4gWesQHSO0kQLiIcw0wAAISWg
From: "Mufaddal Khumri" <MKhumri@allegromedical.com>
To: <java-user@lucene.apache.org>,
	<donv@webimpact.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The way you update a document in lucene is by deleting the current one
and adding a new one.=20

-Mufaddal.

-----Original Message-----
From: Don Vaillancourt [mailto:donv@webimpact.com]=20
Sent: Friday, March 31, 2006 1:37 PM
To: java-user@lucene.apache.org
Subject: Update or Delete Document for Lucene 1.4.x

Hi All,

I need to implement the ability to update one document within a Lucene=20
collection.

I haven't been able to find anything in the API.  Is there a way to=20
update one document or delete a document so that I can add an update?

Thank You

--=20
Don Vaillancourt
Director of Software Development
WEB IMPACT INC.
phone: 	 416-815-2000 ext. 245
fax: 	 416-815-2001
toll free: 	 866-319-1573 ext. 245
email: 	 donv@web-impact.com <mailto:donv@webimpact.com>
blackberry: 	 donv@rogers.blackberry.net=20
<mailto:donv@rogers.blackberry.net>
web: 	 http://www.web-impact.com
address: 	 http://www.mapquest.ca=20
<http://www.mapquest.com/maps/map.adp?country=3DCA&addtohistory=3D&formty=
pe=3D
address&searchtype=3Daddress&cat=3D&address=3D99%20Atlantic%20Ave&city=3D=
Toronto
&state=3DON&zipcode=3DM6K%203J8>=20


This email message is intended only for the addressee(s) and contains=20
information that may be confidential and/or copyright.

If you are not the intended recipient please notify the sender by reply=20
email and immediately delete this email.

Use, disclosure or reproduction of this email by anyone other than the=20
intended recipient(s) is strictly prohibited. No representation is made=20
that this email or any attachments are free of viruses. Virus scanning=20
is recommended and is the responsibility of the recipient.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 20:38:54 2006
Return-Path: <java-user-return-19922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54473 invoked from network); 31 Mar 2006 20:38:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 20:38:53 -0000
Received: (qmail 83419 invoked by uid 500); 31 Mar 2006 20:38:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83381 invoked by uid 500); 31 Mar 2006 20:38:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83366 invoked by uid 99); 31 Mar 2006 20:38:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 12:38:48 -0800
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [66.207.192.7] (HELO smtp0.beanfield.net) (66.207.192.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 12:38:48 -0800
Received: from [192.168.0.202] (66-207-218-34.beanfield.net [66.207.218.34])
	by smtp0.beanfield.net (8.13.4/8.12.11) with ESMTP id k2VKam8G067219
	for <java-user@lucene.apache.org>; Fri, 31 Mar 2006 15:36:48 -0500 (EST)
	(envelope-from donv@webimpact.com)
Message-ID: <442D9502.8090808@webimpact.com>
Date: Fri, 31 Mar 2006 15:45:54 -0500
From: Don Vaillancourt <donv@webimpact.com>
Reply-To: donv@webimpact.com
Organization: Web Impact Inc.
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Update or Delete Document for Lucene 1.4.x
References: <B5ADCC4EA669BF4697F6AF63FF32867401AA10F3@exch01.allegro.med>
In-Reply-To: <B5ADCC4EA669BF4697F6AF63FF32867401AA10F3@exch01.allegro.med>
Content-Type: multipart/alternative;
 boundary="------------020703000805000608000001"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------020703000805000608000001
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Yeah, thanks.

Found what I wanted.

FilterIndexReader.doDelete()

Thanks again


Mufaddal Khumri wrote:
> The way you update a document in lucene is by deleting the current one
> and adding a new one. 
>
> -Mufaddal.
>
> -----Original Message-----
> From: Don Vaillancourt [mailto:donv@webimpact.com] 
> Sent: Friday, March 31, 2006 1:37 PM
> To: java-user@lucene.apache.org
> Subject: Update or Delete Document for Lucene 1.4.x
>
> Hi All,
>
> I need to implement the ability to update one document within a Lucene 
> collection.
>
> I haven't been able to find anything in the API.  Is there a way to 
> update one document or delete a document so that I can add an update?
>
> Thank You
>
>   


-- 
Don Vaillancourt
Director of Software Development
WEB IMPACT INC.
phone: 	 416-815-2000 ext. 245
fax: 	 416-815-2001
toll free: 	 866-319-1573 ext. 245
email: 	 donv@web-impact.com <mailto:donv@webimpact.com>
blackberry: 	 donv@rogers.blackberry.net 
<mailto:donv@rogers.blackberry.net>
web: 	 http://www.web-impact.com
address: 	 http://www.mapquest.ca 
<http://www.mapquest.com/maps/map.adp?country=CA&addtohistory=&formtype=address&searchtype=address&cat=&address=99%20Atlantic%20Ave&city=Toronto&state=ON&zipcode=M6K%203J8> 


This email message is intended only for the addressee(s) and contains 
information that may be confidential and/or copyright.

If you are not the intended recipient please notify the sender by reply 
email and immediately delete this email.

Use, disclosure or reproduction of this email by anyone other than the 
intended recipient(s) is strictly prohibited. No representation is made 
that this email or any attachments are free of viruses. Virus scanning 
is recommended and is the responsibility of the recipient.


--------------020703000805000608000001--

From java-user-return-19923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 22:20:36 2006
Return-Path: <java-user-return-19923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95363 invoked from network); 31 Mar 2006 22:20:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 22:20:36 -0000
Received: (qmail 11257 invoked by uid 500); 31 Mar 2006 22:20:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11232 invoked by uid 500); 31 Mar 2006 22:20:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11221 invoked by uid 99); 31 Mar 2006 22:20:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 14:20:30 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.87.57] (HELO web37404.mail.mud.yahoo.com) (209.191.87.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 31 Mar 2006 14:20:29 -0800
Received: (qmail 73668 invoked by uid 60001); 31 Mar 2006 22:20:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=WEL/L38QhMxOO3Swxe36MPJWI4BRNXgGL1PQhzRGud14RCFhq3gIMWgDEU1WoKyPjlazrWZ3SN9M1TQ4K4uIAKb8OMTHFJpUFjnk5TAzw6IkE4Gcb/6E707R8XQavRGMct8plnNYK+fJMdF9VWOAtSFn8T1fwxJ+3RO0lgLOvQc=  ;
Message-ID: <20060331222008.73666.qmail@web37404.mail.mud.yahoo.com>
Received: from [38.99.201.242] by web37404.mail.mud.yahoo.com via HTTP; Fri, 31 Mar 2006 14:20:08 PST
Date: Fri, 31 Mar 2006 14:20:08 -0800 (PST)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Spellchecker bug (or feature?)
To: java-user@lucene.apache.org
In-Reply-To: <09117A73E538B34A9483D157C4690D440E44C171@uwmatlgpc01.uninet.unisourcelink.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1613436481-1143843608=:71419"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1613436481-1143843608=:71419
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Not sure if this is the right place to report this issue:
   
  The accuracy value, which can be set via setAccuracy(), is being modified in SpellChecker.java when a word is checked. As a result, the "min" may be pushed
  very high and will not suggest anything for later requests.
   
  One workaround would be to call setAccuracy() each time before a word is checked, I'm not sure if this is a feature (intended behavior) or a bug.
  By the way, I'm using spellchecker 1.9.1 that comes with Lucene 1.9.1.
   
  Thanks,
   
  Xiaocheng

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1613436481-1143843608=:71419--

From java-user-return-19924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 31 22:41:54 2006
Return-Path: <java-user-return-19924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5871 invoked from network); 31 Mar 2006 22:41:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 Mar 2006 22:41:54 -0000
Received: (qmail 47975 invoked by uid 500); 31 Mar 2006 22:41:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47950 invoked by uid 500); 31 Mar 2006 22:41:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47933 invoked by uid 99); 31 Mar 2006 22:41:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 14:41:49 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of artvas@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nproxy.gmail.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 14:41:48 -0800
Received: by nproxy.gmail.com with SMTP id c29so696802nfb
        for <java-user@lucene.apache.org>; Fri, 31 Mar 2006 14:41:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:date:from:x-mailer:reply-to:x-priority:message-id:to:subject:mime-version:content-type:content-transfer-encoding;
        b=ln5XTAbyzs7WB0nz320brX6DLoFZwzPw5LaIAzHXbG/1FB3p/0KKRcxKo6nAX7jx21OTm9M9iuNCZSSRVloLs792tPTZAkeOFXIts7DVZHceXUBnuGslyfzxp/1SZvEdO5TlEXHyvRPGEBW0rnOhp2Y6N9USrUSB9abN0hk9YDY=
Received: by 10.49.9.14 with SMTP id m14mr649693nfi;
        Fri, 31 Mar 2006 14:41:26 -0800 (PST)
Received: from ppp236-25.pptp.mtu-net.ru ( [81.195.236.25])
        by mx.gmail.com with ESMTP id p45sm127619nfa.2006.03.31.14.41.24;
        Fri, 31 Mar 2006 14:41:25 -0800 (PST)
Date: Sat, 1 Apr 2006 02:41:29 +0400
From: Artem Vasiliev <artvas@gmail.com>
X-Mailer: The Bat! (v2.04.7) Personal
Reply-To: Artem Vasiliev <artvas@gmail.com>
X-Priority: 3 (Normal)
Message-ID: <756391613.20060401024129@gmail.com>
To: java-user@lucene.apache.org
Subject: OutOfMemory with search(Query, Sort)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all!

I use Lucene in my 'sharehound' opensource project
(http://sharehound.sourceforge.net). In last version (1.0.8 and 1.0.9)
I've tried to utilize Lucene's sorting function - I use
indexSearcher.search(query, sort) for that, where sort = new
Sort(sortFieldName, sortDescending). On relatively small index (40000
docs) it ran OK though I've noticed that the speed is pretty much the
same with large and small resultsets. But on large index (4mln docs) I
get big delay with CPU to 100% and then OutOfMemoryError even when
there's only 1 document in the resultset! Seems like this case sorts
all the index instead of a resultest which is very unexpected.

indexSearcher.search(query) continues to work fine (I use it first to
get an unsorted list of results); also I use custom sorter (via
SortField(fieldName, comparator)) for indexSearcher.search(query,
sort) which also seem to work fine! I get only two invocations of
ScoreDocComparator.compare for resultset of two docs.

What could it be? May be I do something simple wrong?

I use lucene 1.9.1. Unfortunately the sharehound 1.0.9 code isn't in CVS
currently (SF's CVS is down now) but the source is included in the
release zip, so you can check it. Search is called through
org.sourceforge.sharehound.lucene.FilesSearchCommandImpl.findFilesByQuery().


Thanks in advance.
 Artem


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Apr 01 00:31:00 2006
Return-Path: <java-user-return-19925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46313 invoked from network); 1 Apr 2006 00:31:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Apr 2006 00:31:00 -0000
Received: (qmail 35512 invoked by uid 500); 1 Apr 2006 00:30:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34955 invoked by uid 500); 1 Apr 2006 00:30:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34944 invoked by uid 99); 1 Apr 2006 00:30:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 16:30:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO zproxy.gmail.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 16:30:54 -0800
Received: by zproxy.gmail.com with SMTP id 13so956343nzn
        for <java-user@lucene.apache.org>; Fri, 31 Mar 2006 16:30:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SfWoYsCfqdKlzCqFyx9sUmsenJDacHNlbP0T1vnOhLIMPEy29DCG34LcoGVlx1kDxEiI9wVKOttMEyLDoV5MOo2XFDAGWm1Wqxxqj+8R6NZujghnRc6ohH6+kjyd/6tEMh0yjMJAz0vWf+rQHeo6j61qVL5ANg+LD3bdXwvrHKI=
Received: by 10.35.107.20 with SMTP id j20mr486863pym;
        Fri, 31 Mar 2006 16:30:33 -0800 (PST)
Received: by 10.35.107.3 with HTTP; Fri, 31 Mar 2006 16:30:33 -0800 (PST)
Message-ID: <c68e39170603311630l1e86300bl79a94f964587f80d@mail.gmail.com>
Date: Fri, 31 Mar 2006 19:30:33 -0500
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org, "Artem Vasiliev" <artvas@gmail.com>
Subject: Re: OutOfMemory with search(Query, Sort)
In-Reply-To: <756391613.20060401024129@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <756391613.20060401024129@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 3/31/06, Artem Vasiliev <artvas@gmail.com> wrote:
> I've tried to utilize Lucene's sorting function
[...]
> But on large index (4mln docs) I
> get big delay with CPU to 100% and then OutOfMemoryError even when
> there's only 1 document in the resultset!

The first time you sort on a field, a FieldCache entry is populated,
enabling random access to that field value.  A single int field for a
4M index =3D=3D int[4000000] =3D=3D 16MB memory.

-Yonik
http://incubator.apache.org/solr Solr, The Open Source Lucene Search Server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-19926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Apr 01 01:11:22 2006
Return-Path: <java-user-return-19926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54403 invoked from network); 1 Apr 2006 01:11:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Apr 2006 01:11:22 -0000
Received: (qmail 49900 invoked by uid 500); 1 Apr 2006 01:11:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49872 invoked by uid 500); 1 Apr 2006 01:11:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49857 invoked by uid 99); 1 Apr 2006 01:11:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 17:11:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.174] (HELO hnexfe08.hetnet.nl) (195.121.6.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Mar 2006 17:11:15 -0800
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe08.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sat, 1 Apr 2006 03:10:52 +0200
Mime-Version: 1.0 (Apple Message framework v746.3)
In-Reply-To: <20060331222008.73666.qmail@web37404.mail.mud.yahoo.com>
References: <20060331222008.73666.qmail@web37404.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E3C8B754-4BD2-45A2-86EA-1EFDB989A3D5@snigel.net>
Content-Transfer-Encoding: 7bit
From: karl wettin <kalle@snigel.net>
Subject: Re: Spellchecker bug (or feature?)
Date: Sat, 1 Apr 2006 03:13:12 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.746.3)
X-OriginalArrivalTime: 01 Apr 2006 01:10:52.0598 (UTC) FILETIME=[1ED5B560:01C65529]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


1 apr 2006 kl. 00.20 skrev Xiaocheng Luan:

> Not sure if this is the right place to report this issue:
>
>   The accuracy value, which can be set via setAccuracy(), is being  
> modified in SpellChecker.java when a word is checked. As a result,  
> the "min" may be pushed
>   very high and will not suggest anything for later requests.
>
>   One workaround would be to call setAccuracy() each time before a  
> word is checked, I'm not sure if this is a feature (intended  
> behavior) or a bug.
>   By the way, I'm using spellchecker 1.9.1 that comes with Lucene  
> 1.9.1.

Ah, excellent timing. I just posted about that on the Jira as a side  
note to my spell check refactor.

http://issues.apache.org/jira/browse/LUCENE-537?page=all

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


